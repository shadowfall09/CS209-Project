{"items":[{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":3423392,"reputation":6180,"user_id":2870088,"accept_rate":22,"display_name":"Anurag Singh"},"score":0,"creation_date":1487249862,"post_id":34314695,"comment_id":71705263,"body_markdown":"Post the code for retrofit api creation. Just for the information why don&#39;t you use latest version of retrofit with okhttp which has more support for redirect?","body":"Post the code for retrofit api creation. Just for the information why don&#39;t you use latest version of retrofit with okhttp which has more support for redirect?"},{"owner":{"account_id":2550419,"reputation":159,"user_id":2214286,"accept_rate":100,"display_name":"Napster"},"score":0,"creation_date":1487745474,"post_id":34314695,"comment_id":71917126,"body_markdown":"@lotfi can I see your reftrofitClient setup method, also the common service.","body":"@lotfi can I see your reftrofitClient setup method, also the common service."},{"owner":{"account_id":1630724,"reputation":2887,"user_id":1505341,"display_name":"Kerem"},"score":0,"creation_date":1487827858,"post_id":34314695,"comment_id":71962089,"body_markdown":"If you must use Retrofit 1.9, see my answer. Otherwise it seems to be the easier way to go with 2.0+ which handles the redirect on 307 automatically as i see.","body":"If you must use Retrofit 1.9, see my answer. Otherwise it seems to be the easier way to go with 2.0+ which handles the redirect on 307 automatically as i see."}],"answers":[{"tags":[],"owner":{"account_id":1630724,"reputation":2887,"user_id":1505341,"display_name":"Kerem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487836293,"creation_date":1487514522,"answer_id":42328422,"question_id":34314695,"body_markdown":"Edit: if you must not use Retrofit 1.9, switching to a newer version (ie 2.0+) should handle the solution covered below automatically.\n\n----\n\nLooks like your HTTP client (on Android side) should handle this redirection by reading the `Location` value in the response header you are receiving when this happens, which supposed to contain a target redirection URL you ought to hit from the client again.\r\n\r\nSee their comment [here][1].\r\n\r\n&gt; So for now you need to implement this at the application level (which\r\n&gt; is hard with Retrofit 1, easier with the forthcoming Retrofit 2) or\r\n&gt; wait until OkHttp 3.1(ish) when we implement the newest spec.\r\n\r\nSee also what [307][2] means.\r\n\r\n&gt; Fixing 307 errors - general The 307 response from the Web server\r\n&gt; should always include an alternative URL to which redirection should\r\n&gt; occur. If it does, a Web browser will immediately retry the\r\n&gt; alternative URL. So you never actually see a 307 error in a Web\r\n&gt; browser, unless perhaps you have a corrupt redirection chain e.g. URL\r\n&gt; A redirects to URL B which in turn redirects back to URL A. If your\r\n&gt; client is not a Web browser, it should behave in the same way as a Web\r\n&gt; browser i.e. immediately retry the alternative URL.\r\n&gt; \r\n&gt; If the Web server does not return an alternative URL with the 307\r\n&gt; response, then either the Web server sofware itself is defective or\r\n&gt; the Webmaster has not set up the URL redirection correctly.\r\n\r\nSee javadoc for Retrofit 1.9.0 to grab the Location header value(URL) from response;\r\n\r\nhttp://static.javadoc.io/com.squareup.retrofit/retrofit/1.9.0/retrofit/client/Response.html#getHeaders--\r\n\r\n    // omitting null check for brevity\r\n    for (Header header : response.getHeaders())\r\n    {\r\n        if (header.getName().equals(&quot;Location&quot;)) {\r\n        \tredirectURL = header.getValue();\r\n        }\r\n    }\r\n    \r\n    // do a redirect to redirectURL\r\n\r\n  [1]: https://github.com/square/okhttp/issues/2131#issuecomment-166493791\r\n  [2]: http://www.checkupdown.com/status/E307.html","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>Edit: if you must not use Retrofit 1.9, switching to a newer version (ie 2.0+) should handle the solution covered below automatically.</p>\n\n<hr>\n\n<p>Looks like your HTTP client (on Android side) should handle this redirection by reading the <code>Location</code> value in the response header you are receiving when this happens, which supposed to contain a target redirection URL you ought to hit from the client again.</p>\n\n<p>See their comment <a href=\"https://github.com/square/okhttp/issues/2131#issuecomment-166493791\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>So for now you need to implement this at the application level (which\n  is hard with Retrofit 1, easier with the forthcoming Retrofit 2) or\n  wait until OkHttp 3.1(ish) when we implement the newest spec.</p>\n</blockquote>\n\n<p>See also what <a href=\"http://www.checkupdown.com/status/E307.html\" rel=\"nofollow noreferrer\">307</a> means.</p>\n\n<blockquote>\n  <p>Fixing 307 errors - general The 307 response from the Web server\n  should always include an alternative URL to which redirection should\n  occur. If it does, a Web browser will immediately retry the\n  alternative URL. So you never actually see a 307 error in a Web\n  browser, unless perhaps you have a corrupt redirection chain e.g. URL\n  A redirects to URL B which in turn redirects back to URL A. If your\n  client is not a Web browser, it should behave in the same way as a Web\n  browser i.e. immediately retry the alternative URL.</p>\n  \n  <p>If the Web server does not return an alternative URL with the 307\n  response, then either the Web server sofware itself is defective or\n  the Webmaster has not set up the URL redirection correctly.</p>\n</blockquote>\n\n<p>See javadoc for Retrofit 1.9.0 to grab the Location header value(URL) from response;</p>\n\n<p><a href=\"http://static.javadoc.io/com.squareup.retrofit/retrofit/1.9.0/retrofit/client/Response.html#getHeaders--\" rel=\"nofollow noreferrer\">http://static.javadoc.io/com.squareup.retrofit/retrofit/1.9.0/retrofit/client/Response.html#getHeaders--</a></p>\n\n<pre><code>// omitting null check for brevity\nfor (Header header : response.getHeaders())\n{\n    if (header.getName().equals(\"Location\")) {\n        redirectURL = header.getValue();\n    }\n}\n\n// do a redirect to redirectURL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2550419,"reputation":159,"user_id":2214286,"accept_rate":100,"display_name":"Napster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489386327,"creation_date":1487745858,"answer_id":42384443,"question_id":34314695,"body_markdown":"You are Using Old dependency\r\n\r\nChange your dependency from\r\n &quot;com.squareup.retrofit:retrofit:1.9.0&quot;\r\n\r\nto\r\n\r\n\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.2.0&#39;\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.2.0&#39;\r\n    compile &#39;com.squareup.okhttp3:okhttp:3.4.1&#39;\r\n\r\nalso add this dependency to get full log\r\n\r\n    compile &#39;com.squareup.okhttp3:logging-interceptor:3.4.1&#39;.\r\n\r\nAdd this method in your Retrofit Client Class\r\n\r\n    HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n        httpClient.connectTimeout(&quot;Your_Time&quot;, TimeUnit.SECONDS);\r\n        httpClient.readTimeout(&quot;Your_Time&quot;, TimeUnit.SECONDS);\r\n        httpClient.addInterceptor(logging);\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;BASE URL&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(httpClient.build())\r\n                .build();\r\n\r\n\r\n \r\n\r\n    \r\n\r\nBelow code is to Handle the Http protocol Exception \r\n\r\n    public Response post(String url, String content) throws IOException {\r\n        RequestBody body = RequestBody.create(PROTOCOL, content);\r\n\r\n        Request.Builder requestBuilder = new Request.Builder().url(url).post(body);\r\n        Request request = requestBuilder.build();\r\n        Response response = this.client.newCall(request).execute();\r\n\r\n        if(response.code() == 307) {\r\n            String location = response.header(&quot;Location&quot;);\r\n            return post(location, content);\r\n        }\r\n\r\n        return response;\r\n    }","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>You are Using Old dependency</p>\n\n<p>Change your dependency from\n \"com.squareup.retrofit:retrofit:1.9.0\"</p>\n\n<p>to</p>\n\n<pre><code>compile 'com.squareup.retrofit2:retrofit:2.2.0'\ncompile 'com.squareup.retrofit2:converter-gson:2.2.0'\ncompile 'com.squareup.okhttp3:okhttp:3.4.1'\n</code></pre>\n\n<p>also add this dependency to get full log</p>\n\n<pre><code>compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'.\n</code></pre>\n\n<p>Add this method in your Retrofit Client Class</p>\n\n<pre><code>HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n    logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n    httpClient.connectTimeout(\"Your_Time\", TimeUnit.SECONDS);\n    httpClient.readTimeout(\"Your_Time\", TimeUnit.SECONDS);\n    httpClient.addInterceptor(logging);\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(\"BASE URL\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(httpClient.build())\n            .build();\n</code></pre>\n\n<p>Below code is to Handle the Http protocol Exception </p>\n\n<pre><code>public Response post(String url, String content) throws IOException {\n    RequestBody body = RequestBody.create(PROTOCOL, content);\n\n    Request.Builder requestBuilder = new Request.Builder().url(url).post(body);\n    Request request = requestBuilder.build();\n    Response response = this.client.newCall(request).execute();\n\n    if(response.code() == 307) {\n        String location = response.header(\"Location\");\n        return post(location, content);\n    }\n\n    return response;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968019,"reputation":5631,"user_id":991094,"accept_rate":91,"display_name":"Sreehari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487756680,"creation_date":1487756269,"answer_id":42387776,"question_id":34314695,"body_markdown":"Try to put `HttpLoggingInterceptor` and check the logs. Also cross check with [Rest Client][1] if your server is returning back with proper response or not for provided input along with parameters.\r\n\r\nFor `HttpLoggingInterceptor`, this is the following way to configure\r\n\r\n    public RestClient() {\r\n            HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n            logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n    \r\n            httpClient.addInterceptor(logging);\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;BASEURL&quot;)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(httpClient.build())\r\n                    .build();\r\n            //APIInterface initiation\r\n            service = retrofit.create(APIInterface.class);\r\n        }\r\n\r\n\r\nBelow are the dependencies for the same\r\n\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n    compile &#39;com.squareup.okhttp3:logging-interceptor:3.3.1&#39;\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;\r\n\r\nGo through this [Sample tutorial][2] of Retrofit, if you are following some other possibilities of initiating the rest client\r\n\r\n\r\n  [1]: https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo\r\n  [2]: http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>Try to put <code>HttpLoggingInterceptor</code> and check the logs. Also cross check with <a href=\"https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo\" rel=\"nofollow noreferrer\">Rest Client</a> if your server is returning back with proper response or not for provided input along with parameters.</p>\n\n<p>For <code>HttpLoggingInterceptor</code>, this is the following way to configure</p>\n\n<pre><code>public RestClient() {\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n\n        httpClient.addInterceptor(logging);\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(\"BASEURL\")\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(httpClient.build())\n                .build();\n        //APIInterface initiation\n        service = retrofit.create(APIInterface.class);\n    }\n</code></pre>\n\n<p>Below are the dependencies for the same</p>\n\n<pre><code>compile 'com.squareup.retrofit2:converter-gson:2.1.0'\ncompile 'com.squareup.okhttp3:logging-interceptor:3.3.1'\ncompile 'com.squareup.retrofit2:retrofit:2.1.0'\n</code></pre>\n\n<p>Go through this <a href=\"http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/\" rel=\"nofollow noreferrer\">Sample tutorial</a> of Retrofit, if you are following some other possibilities of initiating the rest client</p>\n"},{"tags":[],"owner":{"account_id":9166619,"reputation":3537,"user_id":6815931,"accept_rate":14,"display_name":"Ready Android"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501323290,"creation_date":1501323290,"answer_id":45388038,"question_id":34314695,"body_markdown":"I got the solution after a lot of efforts. May be this will help you. If you are getting this error **&quot;203 HTTP 307 Temporary Redirect&quot;** then this trick will help you. \r\nAppend **&#39;/&#39;** to your web service at the end and then check this error goes away. I don&#39;t know the reason behind this but it works for me.\r\n\r\nFor me, my old request web service: https://mydomain/rest/Search. \r\nUsing this URL I was getting **&quot;203 HTTP 307 Temporary Redirect&quot;** where I was able to get a response in POSTMAN and web browser.\r\n\r\nMy new request web service with the trick: https://mydomain/rest/Search/. \r\nThis **&#39;/&#39;** resolve the issue.","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>I got the solution after a lot of efforts. May be this will help you. If you are getting this error <strong>\"203 HTTP 307 Temporary Redirect\"</strong> then this trick will help you. \nAppend <strong>'/'</strong> to your web service at the end and then check this error goes away. I don't know the reason behind this but it works for me.</p>\n\n<p>For me, my old request web service: <a href=\"https://mydomain/rest/Search\" rel=\"noreferrer\">https://mydomain/rest/Search</a>. \nUsing this URL I was getting <strong>\"203 HTTP 307 Temporary Redirect\"</strong> where I was able to get a response in POSTMAN and web browser.</p>\n\n<p>My new request web service with the trick: <a href=\"https://mydomain/rest/Search/\" rel=\"noreferrer\">https://mydomain/rest/Search/</a>. \nThis <strong>'/'</strong> resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":2588319,"reputation":1759,"user_id":2243501,"accept_rate":75,"display_name":"Dusk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542096291,"creation_date":1542096291,"answer_id":53276391,"question_id":34314695,"body_markdown":"If you want to handle all 307 responses, you can create and add an `Interceptor` to do the job; This interceptor simply creates a new request with the new path which is indicated in the response header &quot;location&quot;.\r\n\r\n    val client = OkHttpClient.Builder()\r\n     .addInterceptor {\r\n                        val request = it.request()\r\n                        val response = it.proceed(request)\r\n                        if (response.code() == 307) {\r\n                            val url = HttpUrl.Builder()\r\n                                    .scheme(request.url().scheme())\r\n                                    .host(request.url().host())\r\n                                    .addPathSegment(response.header(&quot;location&quot;, request.url().url().path)?: &quot;&quot;)\r\n                                    .build()\r\n\r\n                            val newRequest = Request.Builder()\r\n                                    .method(request.method(), request.body())\r\n                                    .url(url)\r\n                                    .headers(request.headers())\r\n                                    .build()\r\n\r\n                            return@addInterceptor it.proceed(newRequest)\r\n                        }\r\n\r\n                        response\r\n                    }\r\n      .build()\r\n    \r\n    Retrofit.Builder().client(client).build()\r\n\r\n ","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>If you want to handle all 307 responses, you can create and add an <code>Interceptor</code> to do the job; This interceptor simply creates a new request with the new path which is indicated in the response header \"location\".</p>\n\n<pre><code>val client = OkHttpClient.Builder()\n .addInterceptor {\n                    val request = it.request()\n                    val response = it.proceed(request)\n                    if (response.code() == 307) {\n                        val url = HttpUrl.Builder()\n                                .scheme(request.url().scheme())\n                                .host(request.url().host())\n                                .addPathSegment(response.header(\"location\", request.url().url().path)?: \"\")\n                                .build()\n\n                        val newRequest = Request.Builder()\n                                .method(request.method(), request.body())\n                                .url(url)\n                                .headers(request.headers())\n                                .build()\n\n                        return@addInterceptor it.proceed(newRequest)\n                    }\n\n                    response\n                }\n  .build()\n\nRetrofit.Builder().client(client).build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8253190,"reputation":161,"user_id":6207124,"display_name":"renzherl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566823413,"creation_date":1566823413,"answer_id":57658161,"question_id":34314695,"body_markdown":"#Solution 1\r\nYou can create an extra interceptor to handle 307\r\n\r\n    private static class RedirectInterceptor implements Interceptor {\r\n\r\n    @Override\r\n    public Response intercept(Chain chain) throws IOException {\r\n        Request request = chain.request();\r\n        Response response = chain.proceed(chain.request());\r\n        if (response.code() == 307) {\r\n            request = request.newBuilder()\r\n                    .url(response.header(&quot;Location&quot;))\r\n                    .build();\r\n            response = chain.proceed(request);\r\n\r\n        }\r\n        return response;\r\n    }\r\n}\r\n\r\n\r\nand add the RedirectInterceptor to your okHttpClient(okhttp2 for example)\r\n\r\n    OkHttpClient okHttpClient = new OkHttpClient();\r\n    okHttpClient.interceptors().add(new RedirectInterceptor());\r\n    okHttpClient.setFollowRedirects(false);\r\n\r\n\r\n#Solution 2\r\nYou can create an ApacheClient with LaxRedirectStrategy\r\n\r\n    private ApacheClient createRedirectClient(){\r\n   \r\n        return new ApacheClient(HttpClients.custom()\r\n          .setRedirectStrategy(new LaxRedirectStrategy()).build());\r\n    }\r\n\r\n    RestAdapter.Builder builder = new RestAdapter.Builder()\r\n       .setEndpoint(&quot;http://yourendpoint&quot;)\r\n       .setClient(createRedirectClient());\r\n       .setLogLevel(RestAdapter.LogLevel.FULL)\r\n       .build();\r\n\r\n   ","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<h1>Solution 1</h1>\n\n<p>You can create an extra interceptor to handle 307</p>\n\n<pre><code>private static class RedirectInterceptor implements Interceptor {\n\n@Override\npublic Response intercept(Chain chain) throws IOException {\n    Request request = chain.request();\n    Response response = chain.proceed(chain.request());\n    if (response.code() == 307) {\n        request = request.newBuilder()\n                .url(response.header(\"Location\"))\n                .build();\n        response = chain.proceed(request);\n\n    }\n    return response;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and add the RedirectInterceptor to your okHttpClient(okhttp2 for example)</p>\n\n<pre><code>OkHttpClient okHttpClient = new OkHttpClient();\nokHttpClient.interceptors().add(new RedirectInterceptor());\nokHttpClient.setFollowRedirects(false);\n</code></pre>\n\n<h1>Solution 2</h1>\n\n<p>You can create an ApacheClient with LaxRedirectStrategy</p>\n\n<pre><code>private ApacheClient createRedirectClient(){\n\n    return new ApacheClient(HttpClients.custom()\n      .setRedirectStrategy(new LaxRedirectStrategy()).build());\n}\n\nRestAdapter.Builder builder = new RestAdapter.Builder()\n   .setEndpoint(\"http://yourendpoint\")\n   .setClient(createRedirectClient());\n   .setLogLevel(RestAdapter.LogLevel.FULL)\n   .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7152814,"reputation":607,"user_id":5466248,"accept_rate":50,"display_name":"sudharsan chandrasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685430182,"creation_date":1685430182,"answer_id":76362317,"question_id":34314695,"body_markdown":"I have faced the same issue and cracked it by adding a few changes. You can use the HTTP client Interceptor and retain the previous records -&gt; Then update the new redirection URL and proceed with the same chain. Now the magic will happen in the same request call. Happing coding!!\r\n\r\n    public static Retrofit getClient(String url) {\r\n        if (retrofit == null) {\r\n\r\n            HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n            logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n            httpClient.addInterceptor(logging);\r\n            httpClient.interceptors().add(new Interceptor() {\r\n                @Override\r\n                public Response intercept(Chain chain) throws IOException {\r\n                    Response response = chain.proceed(chain.request());\r\n                    RequestBody originalBody = chain.request().body();\r\n                    Request originalRequest = chain.request();\r\n                    if(response.code() == 307)\r\n                    {\r\n                        String location =  response.header(&quot;Location&quot;);\r\n                        Log.d(WTBConstant.TAG, &quot;newLoc: &quot;+ location);\r\n                        Request.Builder nwRequest = new Request.Builder().url(location).post(originalBody);\r\n                        Request request = nwRequest.build();\r\n                        return chain.proceed(request);\r\n\r\n                    }\r\n                    return response;\r\n                }\r\n            });\r\n\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(url)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(httpClient.build())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>I have faced the same issue and cracked it by adding a few changes. You can use the HTTP client Interceptor and retain the previous records -&gt; Then update the new redirection URL and proceed with the same chain. Now the magic will happen in the same request call. Happing coding!!</p>\n<pre><code>public static Retrofit getClient(String url) {\n    if (retrofit == null) {\n\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n        httpClient.addInterceptor(logging);\n        httpClient.interceptors().add(new Interceptor() {\n            @Override\n            public Response intercept(Chain chain) throws IOException {\n                Response response = chain.proceed(chain.request());\n                RequestBody originalBody = chain.request().body();\n                Request originalRequest = chain.request();\n                if(response.code() == 307)\n                {\n                    String location =  response.header(&quot;Location&quot;);\n                    Log.d(WTBConstant.TAG, &quot;newLoc: &quot;+ location);\n                    Request.Builder nwRequest = new Request.Builder().url(location).post(originalBody);\n                    Request request = nwRequest.build();\n                    return chain.proceed(request);\n\n                }\n                return response;\n            }\n        });\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(url)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(httpClient.build())\n                .build();\n    }\n    return retrofit;\n}\n</code></pre>\n"}],"owner":{"account_id":921520,"reputation":425,"user_id":953146,"accept_rate":17,"display_name":"lotfi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5924,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1685430182,"creation_date":1450276404,"question_id":34314695,"body_markdown":"I am using the library `com.squareup.retrofit:retrofit:1.9.0`, in order to send data to my server from my android Application.\r\n\r\nIn fact,when I want to send a request to the server, I found this error:\r\n\r\n    failure : retrofit.RetrofitError: 307 Temporary Redirect\r\n\r\nI try many idea but the same problem persist.\r\n\r\nPlease Expert help me to resolve this issue.\r\n\r\nRegards\r\n","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>I am using the library <code>com.squareup.retrofit:retrofit:1.9.0</code>, in order to send data to my server from my android Application.</p>\n\n<p>In fact,when I want to send a request to the server, I found this error:</p>\n\n<pre><code>failure : retrofit.RetrofitError: 307 Temporary Redirect\n</code></pre>\n\n<p>I try many idea but the same problem persist.</p>\n\n<p>Please Expert help me to resolve this issue.</p>\n\n<p>Regards</p>\n"},{"tags":["java","tomcat","networking","windows-server-2016"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685447883,"post_id":76361979,"comment_id":134658238,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason. And remember that Stackoverflow is an English only site.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason. And remember that Stackoverflow is an English only site."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685447916,"post_id":76361979,"comment_id":134658250,"body_markdown":"What kind of network drive is it? Mapped letter, UNC?","body":"What kind of network drive is it? Mapped letter, UNC?"}],"owner":{"account_id":22487072,"reputation":1,"user_id":16685312,"display_name":"YongAn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685429810,"creation_date":1685426742,"question_id":76361979,"body_markdown":"I use Apache Tomcat as my web application services, and I installed service.bat .\r\nwhen my application access the network drive I get this trouble.\r\nfirstly the applicaiton logs notice that I dont login, so I changed the server setting\r\nthat run the server on  administrator , it also cant access the network drive , but the logs notice that I need change account password before I login.\r\n\r\n[this chinese mean that I need change account password befor i login](https://i.stack.imgur.com/grTza.png)\r\n\r\nI want my web application to access the network drive ","title":"How can I make my web application running on Windows Server access the network drive using Apache Tomcat?","body":"<p>I use Apache Tomcat as my web application services, and I installed service.bat .\nwhen my application access the network drive I get this trouble.\nfirstly the applicaiton logs notice that I dont login, so I changed the server setting\nthat run the server on  administrator , it also cant access the network drive , but the logs notice that I need change account password before I login.</p>\n<p><a href=\"https://i.stack.imgur.com/grTza.png\" rel=\"nofollow noreferrer\">this chinese mean that I need change account password befor i login</a></p>\n<p>I want my web application to access the network drive</p>\n"},{"tags":["java","curl"],"answers":[{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1427458582,"creation_date":1427457786,"answer_id":29300233,"question_id":29300172,"body_markdown":"It is the shell (or command processor) that locates a file among the directories defined in the PATH variable.\r\n\r\nSimply starting a subprocess with a path to a command and a list of arguments does not go through the shell, unless you explicitly code it to do so.\r\n\r\nIf you can&#39;t offload the exact position of curl into some system property, you may have to interpret PATH and try all directories and then call with the full pathname.\r\n\r\n\r\n    public static Path findAbsolutePath( String curl ){\r\n\t  String path = System.getenv( &quot;PATH&quot; );\r\n      String[] dirs = path.split( &quot;;&quot; );\r\n\t  for( String dir: dirs ){\r\n\t    Path toCurl = Paths.get( dir, curl );\r\n\t    File curlFile = new File( toCurl.toString() );\r\n\t    if( curlFile.canExecute() ) return toCurl;\r\n\t  }\r\n\t  return null;\r\n    }\r\n\r\nOr call the command processor.","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>It is the shell (or command processor) that locates a file among the directories defined in the PATH variable.</p>\n\n<p>Simply starting a subprocess with a path to a command and a list of arguments does not go through the shell, unless you explicitly code it to do so.</p>\n\n<p>If you can't offload the exact position of curl into some system property, you may have to interpret PATH and try all directories and then call with the full pathname.</p>\n\n<pre><code>public static Path findAbsolutePath( String curl ){\n  String path = System.getenv( \"PATH\" );\n  String[] dirs = path.split( \";\" );\n  for( String dir: dirs ){\n    Path toCurl = Paths.get( dir, curl );\n    File curlFile = new File( toCurl.toString() );\n    if( curlFile.canExecute() ) return toCurl;\n  }\n  return null;\n}\n</code></pre>\n\n<p>Or call the command processor.</p>\n"},{"tags":[],"owner":{"account_id":1339795,"reputation":1145,"user_id":1281721,"display_name":"Shane Voisard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427458242,"creation_date":1427458242,"answer_id":29300363,"question_id":29300172,"body_markdown":"[ProcessBuilder#ProcessBuilder(String... command)][1] javadoc: \r\n\r\n&gt; It is not checked whether command corresponds to a valid operating\r\n&gt; system command.\r\n\r\nSo you need to build the absolute path to curl in the string you pass to the constructor.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder-java.lang.String...-","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder-java.lang.String...-\" rel=\"nofollow\">ProcessBuilder#ProcessBuilder(String... command)</a> javadoc: </p>\n\n<blockquote>\n  <p>It is not checked whether command corresponds to a valid operating\n  system command.</p>\n</blockquote>\n\n<p>So you need to build the absolute path to curl in the string you pass to the constructor.</p>\n"},{"tags":[],"owner":{"account_id":4354218,"reputation":568,"user_id":3553424,"display_name":"Naveen Thiyagarajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561136507,"creation_date":1561136507,"answer_id":56707713,"question_id":29300172,"body_markdown":"I am posting this answer because i was not able to fix this problem with all the existing answer:\r\n\r\nThis is one of the answers for any beginner.(mostly combination of all the existing answer).\r\n\r\n 1. In the Windows machine make sure `curl` is installed. (follow the google to install)\r\n 2. Make sure you add the `curl` `bin` path to environment system variable\r\n 3. Restart the machine. (Important!. Because i spent lot of time because the `processBuilder` was using the `PATH` that was not having the CURL in it. Restarting fixed it) This is reason for the original error in the question.\r\n 4. You can use `System.getenv( &quot;PATH&quot; )` to verify on the code.\r\n\r\n**Addon**:  If you are using `POST`, then make sure the post payload is escaped when running through WINDOWS. and NOT escaped when running through MAC. I really do not know the problem but it took lot time to debug.\r\nEscape in the sense: `&quot;` with `\\&quot;`.","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>I am posting this answer because i was not able to fix this problem with all the existing answer:</p>\n\n<p>This is one of the answers for any beginner.(mostly combination of all the existing answer).</p>\n\n<ol>\n<li>In the Windows machine make sure <code>curl</code> is installed. (follow the google to install)</li>\n<li>Make sure you add the <code>curl</code> <code>bin</code> path to environment system variable</li>\n<li>Restart the machine. (Important!. Because i spent lot of time because the <code>processBuilder</code> was using the <code>PATH</code> that was not having the CURL in it. Restarting fixed it) This is reason for the original error in the question.</li>\n<li>You can use <code>System.getenv( \"PATH\" )</code> to verify on the code.</li>\n</ol>\n\n<p><strong>Addon</strong>:  If you are using <code>POST</code>, then make sure the post payload is escaped when running through WINDOWS. and NOT escaped when running through MAC. I really do not know the problem but it took lot time to debug.\nEscape in the sense: <code>\"</code> with <code>\\\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429457,"creation_date":1685429457,"answer_id":76362232,"question_id":29300172,"body_markdown":"I made it work like this: Add &quot;cmd /c&quot; in front if running on Windows:\r\n\r\n```\r\nList&lt;String&gt; command = new ArrayList&lt;&gt;();\r\nif (System.getProperty(&quot;os.name&quot;).contains(&quot;indows&quot;)) {\r\n  // We need to add &quot;cmd /c&quot; on Windows so that applications on the path are found by ProcessBuilder\r\n  command.addAll(List.of(&quot;cmd&quot;, &quot;/c&quot;));\r\n}\r\ncommand.addAll(parameters);\r\nProcessBuilder builder = new ProcessBuilder(command);\r\n...\r\n```\r\n\r\nWhere `parameters` contains the actual program and arguments you want to run.","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>I made it work like this: Add &quot;cmd /c&quot; in front if running on Windows:</p>\n<pre><code>List&lt;String&gt; command = new ArrayList&lt;&gt;();\nif (System.getProperty(&quot;os.name&quot;).contains(&quot;indows&quot;)) {\n  // We need to add &quot;cmd /c&quot; on Windows so that applications on the path are found by ProcessBuilder\n  command.addAll(List.of(&quot;cmd&quot;, &quot;/c&quot;));\n}\ncommand.addAll(parameters);\nProcessBuilder builder = new ProcessBuilder(command);\n...\n</code></pre>\n<p>Where <code>parameters</code> contains the actual program and arguments you want to run.</p>\n"}],"owner":{"account_id":4660419,"reputation":693,"user_id":3774834,"accept_rate":80,"display_name":"SMSk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8269,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29300233,"answer_count":4,"score":3,"last_activity_date":1685429457,"creation_date":1427457536,"question_id":29300172,"body_markdown":"I try to run `curl`from my java application. Here is my code:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;,\r\n                        &quot;-T&quot;,\r\n                        &quot;\\&quot;&quot; + tmp_dir + &quot;client-&quot; + node_id + &quot;.war\\&quot;&quot;,\r\n                        &quot;\\&quot;&quot; + tomcat_url + &quot;/deploy?path=/client&quot; + node_id + &quot;&amp;update=true\\&quot;&quot;);\r\n    Process p = pb.start();\r\n\r\nyet, it gives the exception:\r\n\r\n    java.io.IOException: Cannot run program &quot;curl&quot;: CreateProcess error=2, The system cannot find the file specified\r\n\r\n`curl` is in my System PATH and user PATH, and when I run `curl` from `cmd` it works perfectly:\r\n\r\n![enter image description here][1]\r\n\r\nAlso, when I give ProcessBuilder absolute path to `curl` executable, it works, but I don&#39;t want to do that since my code should work with `curl` whatver directory it&#39;s installed into \r\n\r\nWhat am I doing wrong? \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0bp8Q.png","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>I try to run <code>curl</code>from my java application. Here is my code:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"curl\",\n                    \"-T\",\n                    \"\\\"\" + tmp_dir + \"client-\" + node_id + \".war\\\"\",\n                    \"\\\"\" + tomcat_url + \"/deploy?path=/client\" + node_id + \"&amp;update=true\\\"\");\nProcess p = pb.start();\n</code></pre>\n\n<p>yet, it gives the exception:</p>\n\n<pre><code>java.io.IOException: Cannot run program \"curl\": CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n\n<p><code>curl</code> is in my System PATH and user PATH, and when I run <code>curl</code> from <code>cmd</code> it works perfectly:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0bp8Q.png\" alt=\"enter image description here\"></p>\n\n<p>Also, when I give ProcessBuilder absolute path to <code>curl</code> executable, it works, but I don't want to do that since my code should work with <code>curl</code> whatver directory it's installed into </p>\n\n<p>What am I doing wrong? </p>\n"},{"tags":["java","xml","maven","testng","appium"],"answers":[{"tags":[],"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429410,"creation_date":1685429410,"answer_id":76362223,"question_id":76358382,"body_markdown":"You can try adding the `parallel` keyword, equal to false in your test attribute.\r\n```xml\r\n&lt;test name=&quot;some name&quot; parallel=&quot;false&quot;&gt;\r\n```","title":"Appium (execute one more test class based on one device - not parallel)","body":"<p>You can try adding the <code>parallel</code> keyword, equal to false in your test attribute.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;test name=&quot;some name&quot; parallel=&quot;false&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":2901678,"reputation":1,"user_id":2488180,"display_name":"Left Handed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685429410,"creation_date":1685372359,"question_id":76358382,"body_markdown":"I used appium v2.** (with device farm plugin)  and I have one more test class files.\r\nthis is my testng.xml file source code:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;Test Suite Name&quot;&gt;\r\n&lt;listeners&gt;\r\n&lt;listener class-name=&quot;Helpers.AnnotationTransformer&quot;/&gt;\r\n&lt;listener class-name=&quot;Helpers.Listener&quot;/&gt;\r\n\r\n&lt;/listeners&gt;\r\n&lt;test name=&quot;some name&quot;&gt;\r\n&lt;classes&gt;\r\n&lt;class name=&quot;testClass1&quot;/&gt;\r\n&lt;class name=&quot;testClass2&quot;/&gt;\r\n&lt;/classes&gt;\r\n&lt;/test&gt;\r\n\r\n&lt;/suite&gt;\r\n```\r\n\r\n I have only one mobile device for testing.\r\nand I execute this testng file,  appium started search 2 mobile device for execute script.\r\ni wont to run all test file only one device  (class by class) not parallel.\r\nhow can do this? :frowning:\r\nthis problem started after appium update.\r\nAppium starts searching for as many devices as there are test files written here\r\n\r\n```\r\n&lt;class name=&quot;testClass1&quot;/&gt;\r\n&lt;class name=&quot;testClass2&quot;/&gt;\r\n```\r\n it&#39;s Base class method:\r\n```\r\n\r\n        public Base() throws MalformedURLException {\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\r\n        capabilities.setCapability(&quot;appium:deviceName&quot;, conf.read(&quot;deviceName&quot;));\r\n        capabilities.setCapability(&quot;appium:udid&quot;, conf.read(&quot;udid&quot;));\r\n        capabilities.setCapability(&quot;appium:appPackage&quot;, conf.read(&quot;appPackage&quot;));\r\n        capabilities.setCapability(&quot;appium:appActivity&quot;, conf.read(&quot;appActivity&quot;));\r\n        capabilities.setCapability(&quot;appium:autoGrantPermissions&quot;, true);\r\n        driver = new AndroidDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\r\n        }\r\n```","title":"Appium (execute one more test class based on one device - not parallel)","body":"<p>I used appium v2.** (with device farm plugin)  and I have one more test class files.\nthis is my testng.xml file source code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;Test Suite Name&quot;&gt;\n&lt;listeners&gt;\n&lt;listener class-name=&quot;Helpers.AnnotationTransformer&quot;/&gt;\n&lt;listener class-name=&quot;Helpers.Listener&quot;/&gt;\n\n&lt;/listeners&gt;\n&lt;test name=&quot;some name&quot;&gt;\n&lt;classes&gt;\n&lt;class name=&quot;testClass1&quot;/&gt;\n&lt;class name=&quot;testClass2&quot;/&gt;\n&lt;/classes&gt;\n&lt;/test&gt;\n\n&lt;/suite&gt;\n</code></pre>\n<p>I have only one mobile device for testing.\nand I execute this testng file,  appium started search 2 mobile device for execute script.\ni wont to run all test file only one device  (class by class) not parallel.\nhow can do this? :frowning:\nthis problem started after appium update.\nAppium starts searching for as many devices as there are test files written here</p>\n<pre><code>&lt;class name=&quot;testClass1&quot;/&gt;\n&lt;class name=&quot;testClass2&quot;/&gt;\n</code></pre>\n<p>it's Base class method:</p>\n<pre><code>\n        public Base() throws MalformedURLException {\n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\n        capabilities.setCapability(&quot;appium:deviceName&quot;, conf.read(&quot;deviceName&quot;));\n        capabilities.setCapability(&quot;appium:udid&quot;, conf.read(&quot;udid&quot;));\n        capabilities.setCapability(&quot;appium:appPackage&quot;, conf.read(&quot;appPackage&quot;));\n        capabilities.setCapability(&quot;appium:appActivity&quot;, conf.read(&quot;appActivity&quot;));\n        capabilities.setCapability(&quot;appium:autoGrantPermissions&quot;, true);\n        driver = new AndroidDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","maven","log4j","owasp"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1681427081,"post_id":76010420,"comment_id":134058922,"body_markdown":"What’s the nature of the incompatibility?","body":"What’s the nature of the incompatibility?"},{"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"score":1,"creation_date":1681428618,"post_id":76010420,"comment_id":134059084,"body_markdown":"as a part of spring boot 3 many package names changed from something like javax.servlet to  jakarta.servlet.ServletResponse. OWASP uses that the old package names so it can&#39;t be used with the new spring version. more info here: https://github.com/ESAPI/esapi-java-legacy/discussions/768","body":"as a part of spring boot 3 many package names changed from something like javax.servlet to  jakarta.servlet.ServletResponse. OWASP uses that the old package names so it can&#39;t be used with the new spring version. more info here: <a href=\"https://github.com/ESAPI/esapi-java-legacy/discussions/768\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy/discussions/768</a>"}],"answers":[{"tags":[],"owner":{"account_id":13885352,"reputation":21,"user_id":10024619,"display_name":"Ali Hussain Moosakhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429389,"creation_date":1685429389,"answer_id":76362219,"question_id":76010420,"body_markdown":"Hi You can add below explicit Dependency \r\n\r\n```\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n```\r\n\r\nwhich will solve your issue for NoCalssDef Error","title":"OWASP ESAPI Logger not working with Java 17/Spring boot 3","body":"<p>Hi You can add below explicit Dependency</p>\n<pre><code>    &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>which will solve your issue for NoCalssDef Error</p>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685429389,"creation_date":1681426658,"question_id":76010420,"body_markdown":"I have migrated a codebase from java 11/spring 2 to java 17/spring 3. However one of the dependencies that weren&#39;t compatible was the ESAPI logger which we implemented since we were trying to move away from log4j-core which had that critical vulnerability. What loggers are secure and can be used with Java 17? Is there a way we can continue to use the OWASP logging? Anyone else facing this issue?","title":"OWASP ESAPI Logger not working with Java 17/Spring boot 3","body":"<p>I have migrated a codebase from java 11/spring 2 to java 17/spring 3. However one of the dependencies that weren't compatible was the ESAPI logger which we implemented since we were trying to move away from log4j-core which had that critical vulnerability. What loggers are secure and can be used with Java 17? Is there a way we can continue to use the OWASP logging? Anyone else facing this issue?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1545149931,"post_id":53836776,"comment_id":94522217,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session\" title=\"lazyinitializationexception could not initialize proxy no session\">stackoverflow.com/questions/49894587/&hellip;</a>"},{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1545151110,"post_id":53836776,"comment_id":94522930,"body_markdown":"Possible duplicate of [LazyInitializationException: could not initialize proxy - no Session](https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session\">LazyInitializationException: could not initialize proxy - no Session</a>"},{"owner":{"account_id":5599633,"reputation":2115,"user_id":4436257,"display_name":"Aditya Narayan Dixit"},"score":0,"creation_date":1545155530,"post_id":53836776,"comment_id":94525302,"body_markdown":"Try annotating you `demo` method with `@Transactional` . So spring handles the session management.","body":"Try annotating you <code>demo</code> method with <code>@Transactional</code> . So spring handles the session management."}],"answers":[{"tags":[],"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1545154569,"creation_date":1545152128,"answer_id":53837745,"question_id":53836776,"body_markdown":"Because the `FetchType` of `Brand` is lazy, it will not automatically be loaded into the session with call to `fetchAll()`. To have it automatically load into the session, you need to:\r\n\r\nChange \r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;brand_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    private Brand brand;\r\n\r\nto\r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\r\n\r\nEx\r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinColumn(name=&quot;brand_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    private Brand brand;\r\n\r\nIf you do not want to set the fetch type to eager, then you need to move your call to toString to a service method Ex\r\n\r\n    @Component\r\n    public CarService implements ICarService {\r\n    \r\n        @Autowired\r\n        CarRepository carRepository;\r\n    \r\n        @Transactional\r\n        public void printAllCars() {\r\n            for (Car c : carRepository.findAll()) {\r\n                System.out.println(c.toString());\r\n            }\r\n        }   \r\n    }\r\n\r\n\r\nThe correct way to do this however would be to write a criteria query or hql","title":"LazyInitializationException Spring Boot","body":"<p>Because the <code>FetchType</code> of <code>Brand</code> is lazy, it will not automatically be loaded into the session with call to <code>fetchAll()</code>. To have it automatically load into the session, you need to:</p>\n\n<p>Change </p>\n\n<pre><code>@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name=\"brand_id\", referencedColumnName=\"id\")\nprivate Brand brand;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\n</code></pre>\n\n<p>Ex</p>\n\n<pre><code>@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinColumn(name=\"brand_id\", referencedColumnName=\"id\")\nprivate Brand brand;\n</code></pre>\n\n<p>If you do not want to set the fetch type to eager, then you need to move your call to toString to a service method Ex</p>\n\n<pre><code>@Component\npublic CarService implements ICarService {\n\n    @Autowired\n    CarRepository carRepository;\n\n    @Transactional\n    public void printAllCars() {\n        for (Car c : carRepository.findAll()) {\n            System.out.println(c.toString());\n        }\n    }   \n}\n</code></pre>\n\n<p>The correct way to do this however would be to write a criteria query or hql</p>\n"},{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1685351637,"creation_date":1631246690,"answer_id":69127137,"question_id":53836776,"body_markdown":"The default for the `@OneToMany` annotation is `FetchType.LAZY` so your collections are loaded lazily.&lt;p&gt;\r\nIn order to be able to access the collection after you&#39;ve retrieved the object you need to be in a transactional context (you need an open session)\r\n\r\nWhen you call:\r\n\r\n    carRepository.findAll();\r\n\r\ninternally a new session is created, the object is retrieved and as soon as the `findAll` method returns the session is closed.\r\n\r\nWhat you should do is make sure you have an open session whenever you access the lazy collection in your Car object (which the `toString` does).\r\n\r\nThe simplest way is to have another service handle the car loading and annotate the `showCars` method with `@Transactional`. The method is in another service because of the way AOP proxies are handled.\r\n\r\n    @Service\r\n    public CarService {\r\n    \r\n        final CarRepository carRepository;\r\n\r\n        public CarService(CarRepository carRepository) {\r\n            this.carRepository = carRepository;\r\n        }    \r\n\r\n        @Transactional\r\n        public void showCars(String... args) {\r\n            for (Car c : carRepository.findAll()) {\r\n                System.out.println(c.toString());\r\n            }\r\n        }   \r\n    }\r\n\r\nand then you call:\r\n\r\n    @Bean\r\n    public CommandLineRunner demo(CarService carService) {\r\n        return (args) -&gt; service.showCars(args);\r\n    }\r\n\r\nAny method annotated with `@Transactional` will have an open session from the moment it is called right until it terminates in the caller.","title":"LazyInitializationException Spring Boot","body":"<p>The default for the <code>@OneToMany</code> annotation is <code>FetchType.LAZY</code> so your collections are loaded lazily.<p>\nIn order to be able to access the collection after you've retrieved the object you need to be in a transactional context (you need an open session)</p>\n<p>When you call:</p>\n<pre><code>carRepository.findAll();\n</code></pre>\n<p>internally a new session is created, the object is retrieved and as soon as the <code>findAll</code> method returns the session is closed.</p>\n<p>What you should do is make sure you have an open session whenever you access the lazy collection in your Car object (which the <code>toString</code> does).</p>\n<p>The simplest way is to have another service handle the car loading and annotate the <code>showCars</code> method with <code>@Transactional</code>. The method is in another service because of the way AOP proxies are handled.</p>\n<pre><code>@Service\npublic CarService {\n\n    final CarRepository carRepository;\n\n    public CarService(CarRepository carRepository) {\n        this.carRepository = carRepository;\n    }    \n\n    @Transactional\n    public void showCars(String... args) {\n        for (Car c : carRepository.findAll()) {\n            System.out.println(c.toString());\n        }\n    }   \n}\n</code></pre>\n<p>and then you call:</p>\n<pre><code>@Bean\npublic CommandLineRunner demo(CarService carService) {\n    return (args) -&gt; service.showCars(args);\n}\n</code></pre>\n<p>Any method annotated with <code>@Transactional</code> will have an open session from the moment it is called right until it terminates in the caller.</p>\n"},{"tags":[],"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685429350,"creation_date":1685270361,"answer_id":76351059,"question_id":53836776,"body_markdown":"In addition to the answers provided, since it&#39;s a read only operation, I would recommend to use `@Transactional(readOnly = true)`\r\n\r\nIt allows spring to make some optimizations.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#readOnly()","title":"LazyInitializationException Spring Boot","body":"<p>In addition to the answers provided, since it's a read only operation, I would recommend to use <code>@Transactional(readOnly = true)</code></p>\n<p>It allows spring to make some optimizations.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#readOnly()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#readOnly()</a></p>\n"}],"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12706,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":69127137,"answer_count":3,"score":8,"last_activity_date":1685429350,"creation_date":1545148618,"question_id":53836776,"body_markdown":"I know there are a lot of similar threads out there but i just can&#39;t figure it out from those threads on how to overcome this problem.\r\n\r\nI have 3 classes Car, Brand, Color.\r\nA Car has just one Brand and a list of Colors.\r\nBrand has a List of Cars.\r\nColor does not have any relation.\r\n\r\nGetters, Setters, ToString and Constructors are not provided for simplicity sake.\r\nI&#39;m able to save objects into database and database is already populated.\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n    @Entity\r\n    @Table(catalog = &quot;spring_project&quot;)\r\n    public class Car {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String model;\r\n\r\n    @ManyToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinTable( name = &quot;car_color&quot;, catalog = &quot;spring_project&quot;,\r\n                joinColumns         = { @JoinColumn(name = &quot;car_id&quot;) },\r\n                inverseJoinColumns  = { @JoinColumn(name = &quot;colors_id&quot;) }\r\n    )\r\n    private List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;brand_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    private Brand brand;\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n    @Entity\r\n    @Table(catalog = &quot;spring_project&quot;)\r\n    public class Brand {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;brand&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Car&gt; cars = new ArrayList&lt;&gt;();\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n    @Entity\r\n    @Table(catalog = &quot;spring_project&quot;)\r\n    public class Color {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n\r\nEverything runs just fine if i fetch like Eager, but i know it is a bad practice and it should be used Lazy loading instead. But i keep getting the LazyInitializationException.\r\n\r\nI understand from the error that a session is required but i dont know how to provide one since im working with Spring Data JPA neither where i should declare one...\r\n\r\n\r\n    @SpringBootApplication\r\n    public class SrpingJpaApplication {\r\n\r\n    private static final Logger log = \r\n    LoggerFactory.getLogger(SrpingJpaApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SrpingJpaApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public CommandLineRunner demo(CarRepository carRepository,\r\n                                  ColorRepository colorRepository,\r\n                                  BrandRepository brandRepository) {\r\n        return (args) -&gt; {\r\n\r\n            log.info(&quot;Reads all cars....&quot;);\r\n            for (Car c : carRepository.findAll()) {\r\n                System.out.println(c.toString());\r\n            }\r\n\r\n        };\r\n    }\r\n}\r\n\r\n\r\nThank you so much.\r\n\r\n\r\nEdited-----&gt;&gt;&gt;\r\n\r\nThe error is thrown on c.toString();\r\n\r\nError: Caused by: org.hibernate.LazyInitializationException: could not initialize \r\nproxy [com.readiness.moita.SrpingJPA.Models.Brand#1] - no Session\r\n\r\n","title":"LazyInitializationException Spring Boot","body":"<p>I know there are a lot of similar threads out there but i just can't figure it out from those threads on how to overcome this problem.</p>\n\n<p>I have 3 classes Car, Brand, Color.\nA Car has just one Brand and a list of Colors.\nBrand has a List of Cars.\nColor does not have any relation.</p>\n\n<p>Getters, Setters, ToString and Constructors are not provided for simplicity sake.\nI'm able to save objects into database and database is already populated.</p>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<pre><code>@Entity\n@Table(catalog = \"spring_project\")\npublic class Car {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String model;\n\n@ManyToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinTable( name = \"car_color\", catalog = \"spring_project\",\n            joinColumns         = { @JoinColumn(name = \"car_id\") },\n            inverseJoinColumns  = { @JoinColumn(name = \"colors_id\") }\n)\nprivate List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\n\n@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name=\"brand_id\", referencedColumnName=\"id\")\nprivate Brand brand;\n</code></pre>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<pre><code>@Entity\n@Table(catalog = \"spring_project\")\npublic class Brand {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String name;\n\n@OneToMany(mappedBy = \"brand\", fetch = FetchType.LAZY)\nprivate List&lt;Car&gt; cars = new ArrayList&lt;&gt;();\n</code></pre>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<pre><code>@Entity\n@Table(catalog = \"spring_project\")\npublic class Color {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String name;\n</code></pre>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<p>Everything runs just fine if i fetch like Eager, but i know it is a bad practice and it should be used Lazy loading instead. But i keep getting the LazyInitializationException.</p>\n\n<p>I understand from the error that a session is required but i dont know how to provide one since im working with Spring Data JPA neither where i should declare one...</p>\n\n<pre><code>@SpringBootApplication\npublic class SrpingJpaApplication {\n\nprivate static final Logger log = \nLoggerFactory.getLogger(SrpingJpaApplication.class);\n\npublic static void main(String[] args) {\n    SpringApplication.run(SrpingJpaApplication.class, args);\n}\n\n@Bean\npublic CommandLineRunner demo(CarRepository carRepository,\n                              ColorRepository colorRepository,\n                              BrandRepository brandRepository) {\n    return (args) -&gt; {\n\n        log.info(\"Reads all cars....\");\n        for (Car c : carRepository.findAll()) {\n            System.out.println(c.toString());\n        }\n\n    };\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Thank you so much.</p>\n\n<p>Edited----->>></p>\n\n<p>The error is thrown on c.toString();</p>\n\n<p>Error: Caused by: org.hibernate.LazyInitializationException: could not initialize \nproxy [com.readiness.moita.SrpingJPA.Models.Brand#1] - no Session</p>\n"},{"tags":["java","json","date","glassfish","resteasy"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685345787,"creation_date":1685345165,"answer_id":76355398,"question_id":76355259,"body_markdown":"I can address part of your Question, explaining why the response is `1685343320152`.\r\n\r\n# Default is count from epoch\r\n\r\nApparently, Jackson defaults to serializing a `java.util.Date` object to a count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC (1970-01-01T00:00Z). \r\n\r\n# ISO 8601\r\n\r\nBetter to serialize to [ISO 8601][1] format. Use `ObjectMapper` to change the format from that default to ISO 8601.\r\n\r\n```java\r\n// Source code from: https://www.baeldung.com/jackson-serialize-dates\r\nObjectMapper mapper = new ObjectMapper() ;\r\nmapper.disable( SerializationFeature.WRITE_DATES_AS_TIMESTAMPS ) ;\r\nmapper.setDateFormat( new StdDateFormat().withColonInTimeZone( true ) ) ;\r\n```\r\n\r\nSee [*Jackson Date*](https://www.baeldung.com/jackson-serialize-dates) by baeldung.\r\n\r\n# *java.time*\r\n\r\nYou are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nSpecifically, `java.util.Date` was replaced by [`Instant`][2]. Both represent a moment as seen with an offset of zero hours-minutes-seconds from UTC, but with a resolution of milliseconds versus nanoseconds respectively.\r\n\r\nI strongly suggest you consider replacing your use of the legacy classes with the modern ones. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html","title":"Problem of Java.util.Date in numeric format is resteasy client","body":"<p>I can address part of your Question, explaining why the response is <code>1685343320152</code>.</p>\n<h1>Default is count from epoch</h1>\n<p>Apparently, Jackson defaults to serializing a <code>java.util.Date</code> object to a count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC (1970-01-01T00:00Z).</p>\n<h1>ISO 8601</h1>\n<p>Better to serialize to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. Use <code>ObjectMapper</code> to change the format from that default to ISO 8601.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Source code from: https://www.baeldung.com/jackson-serialize-dates\nObjectMapper mapper = new ObjectMapper() ;\nmapper.disable( SerializationFeature.WRITE_DATES_AS_TIMESTAMPS ) ;\nmapper.setDateFormat( new StdDateFormat().withColonInTimeZone( true ) ) ;\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/jackson-serialize-dates\" rel=\"nofollow noreferrer\"><em>Jackson Date</em></a> by baeldung.</p>\n<h1><em>java.time</em></h1>\n<p>You are using terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Specifically, <code>java.util.Date</code> was replaced by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. Both represent a moment as seen with an offset of zero hours-minutes-seconds from UTC, but with a resolution of milliseconds versus nanoseconds respectively.</p>\n<p>I strongly suggest you consider replacing your use of the legacy classes with the modern ones.</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76355398,"answer_count":1,"score":0,"last_activity_date":1685429194,"creation_date":1685343653,"question_id":76355259,"body_markdown":"There is a sample of resteasy rest api.\r\n\r\nPart of pom.xml:\r\n```xml\r\n&lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Jersey DI and core--&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- add jackson as json provider --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.10.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nand the part of my resource class:\r\n```java\r\n@Path(&quot;/test&quot;)\r\n@GET\r\n@Produces(&quot;application/json&quot;)\r\n@Consumes(&quot;application/json&quot;)\r\npublic Date test() {\r\n    return new Date();\r\n}\r\n```\r\nSo when I request `http://localhost:8080/test`, the response is `1685343320152` instead of date format.\r\n\r\nWhere is wrong?","title":"Problem of Java.util.Date in numeric format is resteasy client","body":"<p>There is a sample of resteasy rest api.</p>\n<p>Part of pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jersey DI and core--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n        &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- add jackson as json provider --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\n        &lt;version&gt;2.3.10.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n        &lt;version&gt;3.9.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>and the part of my resource class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/test&quot;)\n@GET\n@Produces(&quot;application/json&quot;)\n@Consumes(&quot;application/json&quot;)\npublic Date test() {\n    return new Date();\n}\n</code></pre>\n<p>So when I request <code>http://localhost:8080/test</code>, the response is <code>1685343320152</code> instead of date format.</p>\n<p>Where is wrong?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685383407,"post_id":76359180,"comment_id":134649426,"body_markdown":"Your entities/embeddables show get methods, but do you have set methods as well?","body":"Your entities/embeddables show get methods, but do you have set methods as well?"},{"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"score":0,"creation_date":1685387106,"post_id":76359180,"comment_id":134649922,"body_markdown":"No needs for a set methods because Hibernate will use reflection and proxies to instantiate the embeddable class, in other entity it is working well, And the class causing the problem need to be immutable. So no need for a setter.","body":"No needs for a set methods because Hibernate will use reflection and proxies to instantiate the embeddable class, in other entity it is working well, And the class causing the problem need to be immutable. So no need for a setter."},{"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"score":0,"creation_date":1685387619,"post_id":76359180,"comment_id":134650003,"body_markdown":"When I add a setter is not working.","body":"When I add a setter is not working."}],"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685428673,"creation_date":1685380223,"question_id":76359180,"body_markdown":"Got java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null, when trying to save an Entity using Hibernate.\r\n\r\nI&#39;m trying to save an entity object using hibernate and springboot.\r\n\r\n\r\nThis is the Product.class\r\n```\r\n@Entity\r\n@Table(name = &quot;products&quot;)\r\npublic class Product implements Serializable {\r\n\r\n  @ElementCollection\r\n  @CollectionTable(\r\n      name = &quot;value_of_specs&quot;,\r\n      joinColumns = @JoinColumn(name = &quot;product_id&quot;)\r\n  )\r\n  private final Set&lt;ValueOfSpec&gt; valueOfSpecs = new HashSet&lt;&gt;();\r\n  private final AuditInformation auditInformation;\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false)\r\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\r\n  private Long id;\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;created_by_id&quot;)\r\n  private UserAccount createdBy;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;institution_id&quot;)\r\n  private Institution institution;\r\n\r\n  public Product() {\r\n    auditInformation = new AuditInformation();\r\n  }\r\n\r\n  A lot of methods here ...\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the ValueOfSpec.class\r\n\r\n```\r\n@Embeddable\r\npublic class ValueOfSpec implements Serializable {\r\n  private final Specification specification;\r\n  private final String value;\r\n\r\n  public ValueOfSpec(Specification specification, String value) {\r\n    this.specification = specification;\r\n    this.value = value;\r\n  }\r\n\r\n  public ValueOfSpec() {\r\n    this.value = null;\r\n    this.specification = null;\r\n  }\r\n\r\n  public Specification getSpecification() {\r\n    return specification;\r\n  }\r\n\r\n  public String getValue() {\r\n    return value;\r\n  }\r\n\r\n  A bunch of methods here\r\n  ...\r\n\r\n}\r\n\r\n```\r\n\r\nThis is the Specification.class\r\n\r\n```\r\n\r\n@Embeddable\r\npublic class Specification implements Serializable {\r\n  private final String fieldName;\r\n  private final String fieldType;\r\n  private final boolean required;\r\n  private final boolean readOnly;\r\n\r\n  public Specification() {\r\n    this.fieldName = null;\r\n    this.fieldType = null;\r\n    this.required = false;\r\n    this.readOnly = false;\r\n  }\r\n\r\n  public Specification(String fieldName, String fieldType, boolean required, boolean readOnly) {\r\n    this.fieldName = fieldName;\r\n    this.fieldType = fieldType;\r\n    this.readOnly = readOnly;\r\n    this.required = required;\r\n  }\r\n\r\n  public String getFieldName() {\r\n    return fieldName;\r\n  }\r\n\r\n  public String getFieldType() {\r\n    return fieldType;\r\n  }\r\n\r\n  public boolean isReadOnly() {\r\n    return readOnly;\r\n  }\r\n\r\n  public boolean isRequired() {\r\n    return required;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (!(o instanceof Specification that)) return false;\r\n    return isRequired() == that.isRequired() &amp;&amp; isReadOnly() == that.isReadOnly()\r\n        &amp;&amp; Objects.equals(getFieldName(), that.getFieldName())\r\n        &amp;&amp; Objects.equals(getFieldType(), that.getFieldType());\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getFieldName(), getFieldType(), isRequired(), isReadOnly());\r\n  }\r\n}\r\n```\r\n\r\nThis is the repository class and dao interface\r\n\r\n```\r\n\r\n@Repository\r\npublic class ProductRepositoryImpl implements ProductRepository {\r\n  private final ProductDao dao;\r\n\r\n  public ProductRepositoryImpl(ProductDao dao) {\r\n    this.dao = dao;\r\n  }\r\n\r\n  @Override\r\n  public void save(Product product) {\r\n    dao.save(product);\r\n  }\r\n\r\n  @Override\r\n  public Optional&lt;Product&gt; findById(Long id) {\r\n    return dao.findById(id);\r\n  }\r\n}\r\n\r\npublic interface ProductDao extends JpaRepository&lt;Product, Long&gt; {\r\n}\r\n\r\n```\r\n\r\nwhen I&#39;m trying to save the product I got this error\r\n\r\n```\r\n2023-05-29T12:57:58.028-04:00 ERROR 22396 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not instantiate entity:  : ca.eynoc.application.office.category.domain.Specification] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null\r\n\tat org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.lambda$setValues$1(AbstractEmbeddableMapping.java:106) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.forEachAttributeMapping(EmbeddableMappingTypeImpl.java:731) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n```\r\n\r\nI don&#39;t know why I got this error.\r\n\r\n\r\n\r\n","title":"Element colletion with nested embeddable doesn&#39;t work","body":"<p>Got java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null, when trying to save an Entity using Hibernate.</p>\n<p>I'm trying to save an entity object using hibernate and springboot.</p>\n<p>This is the Product.class</p>\n<pre><code>@Entity\n@Table(name = &quot;products&quot;)\npublic class Product implements Serializable {\n\n  @ElementCollection\n  @CollectionTable(\n      name = &quot;value_of_specs&quot;,\n      joinColumns = @JoinColumn(name = &quot;product_id&quot;)\n  )\n  private final Set&lt;ValueOfSpec&gt; valueOfSpecs = new HashSet&lt;&gt;();\n  private final AuditInformation auditInformation;\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\n  private Long id;\n  @ManyToOne\n  @JoinColumn(name = &quot;created_by_id&quot;)\n  private UserAccount createdBy;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;institution_id&quot;)\n  private Institution institution;\n\n  public Product() {\n    auditInformation = new AuditInformation();\n  }\n\n  A lot of methods here ...\n}\n\n</code></pre>\n<p>This is the ValueOfSpec.class</p>\n<pre><code>@Embeddable\npublic class ValueOfSpec implements Serializable {\n  private final Specification specification;\n  private final String value;\n\n  public ValueOfSpec(Specification specification, String value) {\n    this.specification = specification;\n    this.value = value;\n  }\n\n  public ValueOfSpec() {\n    this.value = null;\n    this.specification = null;\n  }\n\n  public Specification getSpecification() {\n    return specification;\n  }\n\n  public String getValue() {\n    return value;\n  }\n\n  A bunch of methods here\n  ...\n\n}\n\n</code></pre>\n<p>This is the Specification.class</p>\n<pre><code>\n@Embeddable\npublic class Specification implements Serializable {\n  private final String fieldName;\n  private final String fieldType;\n  private final boolean required;\n  private final boolean readOnly;\n\n  public Specification() {\n    this.fieldName = null;\n    this.fieldType = null;\n    this.required = false;\n    this.readOnly = false;\n  }\n\n  public Specification(String fieldName, String fieldType, boolean required, boolean readOnly) {\n    this.fieldName = fieldName;\n    this.fieldType = fieldType;\n    this.readOnly = readOnly;\n    this.required = required;\n  }\n\n  public String getFieldName() {\n    return fieldName;\n  }\n\n  public String getFieldType() {\n    return fieldType;\n  }\n\n  public boolean isReadOnly() {\n    return readOnly;\n  }\n\n  public boolean isRequired() {\n    return required;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Specification that)) return false;\n    return isRequired() == that.isRequired() &amp;&amp; isReadOnly() == that.isReadOnly()\n        &amp;&amp; Objects.equals(getFieldName(), that.getFieldName())\n        &amp;&amp; Objects.equals(getFieldType(), that.getFieldType());\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getFieldName(), getFieldType(), isRequired(), isReadOnly());\n  }\n}\n</code></pre>\n<p>This is the repository class and dao interface</p>\n<pre><code>\n@Repository\npublic class ProductRepositoryImpl implements ProductRepository {\n  private final ProductDao dao;\n\n  public ProductRepositoryImpl(ProductDao dao) {\n    this.dao = dao;\n  }\n\n  @Override\n  public void save(Product product) {\n    dao.save(product);\n  }\n\n  @Override\n  public Optional&lt;Product&gt; findById(Long id) {\n    return dao.findById(id);\n  }\n}\n\npublic interface ProductDao extends JpaRepository&lt;Product, Long&gt; {\n}\n\n</code></pre>\n<p>when I'm trying to save the product I got this error</p>\n<pre><code>2023-05-29T12:57:58.028-04:00 ERROR 22396 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not instantiate entity:  : ca.eynoc.application.office.category.domain.Specification] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null\n    at org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.lambda$setValues$1(AbstractEmbeddableMapping.java:106) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.forEachAttributeMapping(EmbeddableMappingTypeImpl.java:731) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n</code></pre>\n<p>I don't know why I got this error.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685407931,"post_id":76360828,"comment_id":134652208,"body_markdown":"Don&#39;t use images for text information.","body":"Don&#39;t use images for text information."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685408288,"post_id":76360828,"comment_id":134652246,"body_markdown":"You should share the full pom. Try generating a dependencies tree to see if you have another dependency transitively pulling in log4j V1.","body":"You should share the full pom. Try generating a dependencies tree to see if you have another dependency transitively pulling in log4j V1."}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685415205,"creation_date":1685414542,"answer_id":76361310,"question_id":76360828,"body_markdown":"The first configuration is correct you can see the guide of migration from **log4j 1** to **log4j 2** to continue the migration : [https://logging.apache.org/log4j/2.x/manual/migration.html][1]\r\n\r\nAdd you should upgrade,delete or exclude the logkit and search when you use the dependency log4j:12.13\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html","title":"updating log4j version 1.2 version to 2.16.0 or later","body":"<p>The first configuration is correct you can see the guide of migration from <strong>log4j 1</strong> to <strong>log4j 2</strong> to continue the migration : <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n<p>Add you should upgrade,delete or exclude the logkit and search when you use the dependency log4j:12.13</p>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685428524,"creation_date":1685428524,"answer_id":76362116,"question_id":76360828,"body_markdown":"Merely adding a dependency on log4j2 won&#39;t get rid of the dependency on log4j1. You also need to remove that dependency from your pom.\r\n\r\nIf you didn&#39;t add it explicitly, it&#39;s there as a transient dependency and being injected by something else. You&#39;ll need to figure out what that something else is, and add an exclusion of log4j to it (and then hope it still works, there are ways to proxy log4j2 to be accessible using log4j1 APIs but it&#39;s not automatic. Search for it in the documentation).","title":"updating log4j version 1.2 version to 2.16.0 or later","body":"<p>Merely adding a dependency on log4j2 won't get rid of the dependency on log4j1. You also need to remove that dependency from your pom.</p>\n<p>If you didn't add it explicitly, it's there as a transient dependency and being injected by something else. You'll need to figure out what that something else is, and add an exclusion of log4j to it (and then hope it still works, there are ways to proxy log4j2 to be accessible using log4j1 APIs but it's not automatic. Search for it in the documentation).</p>\n"}],"owner":{"account_id":26594418,"reputation":29,"user_id":20217050,"display_name":"what&#39;s_in_a_name"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76362116,"answer_count":2,"score":0,"last_activity_date":1685428524,"creation_date":1685403275,"question_id":76360828,"body_markdown":"How do I update the log4j version from 1.2 to 2.16 or higher? This is what I have in my pom.xml file right now(using maven) for job4j-api and job4j-core but nothing for just job4j\r\n``` \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI can see their current versions and that it is not updated in the shell view \r\n[here][1]. I tried adding the following snippet \r\n\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nbut didn&#39;t seem to work. Do i need to update the jar file somehwere? Any hints would be highly appreciated. Thanks. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RTw7G.png","title":"updating log4j version 1.2 version to 2.16.0 or later","body":"<p>How do I update the log4j version from 1.2 to 2.16 or higher? This is what I have in my pom.xml file right now(using maven) for job4j-api and job4j-core but nothing for just job4j</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I can see their current versions and that it is not updated in the shell view\n<a href=\"https://i.stack.imgur.com/RTw7G.png\" rel=\"nofollow noreferrer\">here</a>. I tried adding the following snippet</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>but didn't seem to work. Do i need to update the jar file somehwere? Any hints would be highly appreciated. Thanks.</p>\n"},{"tags":["java","ethereum","web3-java"],"answers":[{"tags":[],"owner":{"account_id":2093160,"reputation":3792,"user_id":1862500,"display_name":"Yohanes Gultom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535682864,"creation_date":1535682864,"answer_id":52107723,"question_id":52107608,"body_markdown":"You can simply pass an empty string as password:\r\n\r\n    // generate\r\n    wallet = WalletUtils.generateBip39Wallet(&quot;&quot;, tempDir);\r\n    \r\n    // restore using WalletUtils\r\n    Credentials credentials = WalletUtils.loadBip39Credentials(&quot;&quot;, wallet.getMnemonic());\r\n    \r\n    // or using constructor (and empty dummy file)\r\n    File tempFile = Files.createTempFile(null, null).toFile();\r\n    wallet = new Bip39Wallet(tempFile.getName(), wallet.getMnemonic());\r\n\r\n","title":"How to use mnemonic to recovery my ethereum wallet","body":"<p>You can simply pass an empty string as password:</p>\n\n<pre><code>// generate\nwallet = WalletUtils.generateBip39Wallet(\"\", tempDir);\n\n// restore using WalletUtils\nCredentials credentials = WalletUtils.loadBip39Credentials(\"\", wallet.getMnemonic());\n\n// or using constructor (and empty dummy file)\nFile tempFile = Files.createTempFile(null, null).toFile();\nwallet = new Bip39Wallet(tempFile.getName(), wallet.getMnemonic());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25498157,"reputation":1,"user_id":19291916,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667904494,"creation_date":1667637970,"answer_id":74326336,"question_id":52107608,"body_markdown":"You need to use the bip44 encryption protocol to generate mnemonics and recover wallets.\r\nBecause imtoken and metamask wallets operate based on the bip44 protocol.\r\nIf you use the bip39 protocol, the result will be different from that of imtoken and metamask.\r\nRefer to the following example code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\nCredentials credentials = Bip44WalletUtils.loadBip44Credentials(&quot;&quot;, &quot;you mnemonic&quot;);\r\nString address = credentials.getAddress();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to use mnemonic to recovery my ethereum wallet","body":"<p>You need to use the bip44 encryption protocol to generate mnemonics and recover wallets.\nBecause imtoken and metamask wallets operate based on the bip44 protocol.\nIf you use the bip39 protocol, the result will be different from that of imtoken and metamask.\nRefer to the following example code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Credentials credentials = Bip44WalletUtils.loadBip44Credentials(\"\", \"you mnemonic\");\nString address = credentials.getAddress();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":14202510,"reputation":1,"user_id":10260058,"display_name":"chenhao597"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685427650,"creation_date":1535681737,"question_id":52107608,"body_markdown":"I use web3j to create my ethereum wallet.the Code just like down\r\n\r\n    import org.web3j.crypto.Bip39Wallet;\r\n    import org.web3j.crypto.Credentials;\r\n    import org.web3j.crypto.ECKeyPair;\r\n    import org.web3j.crypto.WalletUtils;\r\n\r\n    wallet = WalletUtils.generateBip39Wallet(password, new File(keystorePath));\r\n    // keystore&#39;s file name\r\n    String keystoreFileName = wallet.getFilename();\r\n    // my mnemonic\r\n    String mnemonic = wallet.getMnemonic();\r\n\r\n\r\nI can use this code get my address\r\n\r\n    Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\r\n    String address = credentials.getAddress();\r\n\r\nI can import my wallet by this:\r\n\r\n    Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\r\n\r\nbut in this way I need password &amp; mnemonic,How I import or recovery my wallet by mnemonic without password,because some wallet app just like metamask or imtoken , they don&#39;t need the old password that I create my wallet and the can reset a new password.\r\n\r\nIn other words,recovery or import the wallet just need mnemonic,how I do it by web3j\r\n\r\nIs ereryone can tell me how to do it by web3j.thank u very much.\r\n\r\n","title":"How to use mnemonic to recovery my ethereum wallet","body":"<p>I use web3j to create my ethereum wallet.the Code just like down</p>\n\n<pre><code>import org.web3j.crypto.Bip39Wallet;\nimport org.web3j.crypto.Credentials;\nimport org.web3j.crypto.ECKeyPair;\nimport org.web3j.crypto.WalletUtils;\n\nwallet = WalletUtils.generateBip39Wallet(password, new File(keystorePath));\n// keystore's file name\nString keystoreFileName = wallet.getFilename();\n// my mnemonic\nString mnemonic = wallet.getMnemonic();\n</code></pre>\n\n<p>I can use this code get my address</p>\n\n<pre><code>Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\nString address = credentials.getAddress();\n</code></pre>\n\n<p>I can import my wallet by this:</p>\n\n<pre><code>Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\n</code></pre>\n\n<p>but in this way I need password &amp; mnemonic,How I import or recovery my wallet by mnemonic without password,because some wallet app just like metamask or imtoken , they don't need the old password that I create my wallet and the can reset a new password.</p>\n\n<p>In other words,recovery or import the wallet just need mnemonic,how I do it by web3j</p>\n\n<p>Is ereryone can tell me how to do it by web3j.thank u very much.</p>\n"},{"tags":["java","minecraft-fabric"],"owner":{"account_id":28704941,"reputation":1,"user_id":21981451,"display_name":"leshaddow2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685427127,"creation_date":1685427127,"question_id":76362009,"body_markdown":"I&#39;ve been trying to make a Pickaxe that automatically smelts Blocks that you mine but my problem is that the blocks still drop the normal drop on top of the custom one.\r\nHere is the class of the pickaxe:\r\n\r\n```\r\nimport com.mojang.serialization.Decoder;\r\nimport net.fabricmc.fabric.api.item.v1.FabricItemSettings;\r\nimport net.minecraft.block.AbstractFurnaceBlock;\r\nimport net.minecraft.block.Block;\r\nimport net.minecraft.block.BlockState;\r\nimport net.minecraft.entity.LivingEntity;\r\nimport net.minecraft.inventory.SimpleInventory;\r\nimport net.minecraft.item.*;\r\nimport net.minecraft.recipe.Recipe;\r\nimport net.minecraft.recipe.RecipeType;\r\nimport net.minecraft.recipe.SmeltingRecipe;\r\nimport net.minecraft.server.network.ServerPlayerEntity;\r\nimport net.minecraft.server.world.ServerWorld;\r\nimport net.minecraft.util.Rarity;\r\nimport net.minecraft.util.math.BlockPos;\r\nimport net.minecraft.world.World;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\npublic class FirePickaxe extends PickaxeItem {\r\n    public FirePickaxe(ToolMaterial material) {\r\n        super(material, 7, -2.8F, new Item.Settings().group(ItemGroup.TOOLS).fireproof().maxCount(1).maxDamage(1024).\r\n                rarity(Rarity.RARE));\r\n    }\r\n\r\n    @Override\r\n    public boolean postHit(ItemStack stack, LivingEntity target, LivingEntity attacker) {\r\n        target.setOnFireFor(5);\r\n        return super.postHit(stack, target, attacker);\r\n    }\r\n\r\n    @Override\r\n    public boolean postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner) {\r\n        if (!world.isClient) {\r\n            List&lt;ItemStack&gt; drops = Block.getDroppedStacks(state, (ServerWorld) world, pos, null, miner, stack);\r\n            List&lt;ItemStack&gt; modifiedDrops = new ArrayList&lt;&gt;();\r\n\r\n            for (ItemStack drop : drops) {\r\n                ItemStack smeltedResult = getSmeltedResult(world, drop);\r\n                if (!smeltedResult.isEmpty()) {\r\n                    modifiedDrops.add(smeltedResult);\r\n                }\r\n            }\r\n            drops.clear();\r\n\r\n            for (ItemStack modifiedDrop : modifiedDrops) {\r\n                Block.dropStack(world, pos, modifiedDrop);\r\n            }\r\n        }\r\n\r\n        return super.postMine(stack, world, state, pos, miner);\r\n    }\r\n\r\n    private ItemStack getSmeltedResult(World world, ItemStack itemStack) {\r\n        Optional&lt;SmeltingRecipe&gt; recipe = world.getRecipeManager().getFirstMatch(RecipeType.SMELTING, new SimpleInventory(itemStack), world);\r\n        if (recipe.isPresent()) {\r\n            ItemStack result = recipe.get().getOutput().copy();\r\n            if (result.getItem() instanceof BlockItem) {\r\n                result.removeSubTag(&quot;BlockEntityTag&quot;);\r\n            }\r\n            return result;\r\n        }\r\n        return ItemStack.EMPTY;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried a lot like rremoving the drop from the stack or calling the decrement function of that ItemStack but all methods had the same result.","title":"Can you change the Block Drops when mined with a custom Item in a Fabric 1.16.5 Minecraft Mod","body":"<p>I've been trying to make a Pickaxe that automatically smelts Blocks that you mine but my problem is that the blocks still drop the normal drop on top of the custom one.\nHere is the class of the pickaxe:</p>\n<pre><code>import com.mojang.serialization.Decoder;\nimport net.fabricmc.fabric.api.item.v1.FabricItemSettings;\nimport net.minecraft.block.AbstractFurnaceBlock;\nimport net.minecraft.block.Block;\nimport net.minecraft.block.BlockState;\nimport net.minecraft.entity.LivingEntity;\nimport net.minecraft.inventory.SimpleInventory;\nimport net.minecraft.item.*;\nimport net.minecraft.recipe.Recipe;\nimport net.minecraft.recipe.RecipeType;\nimport net.minecraft.recipe.SmeltingRecipe;\nimport net.minecraft.server.network.ServerPlayerEntity;\nimport net.minecraft.server.world.ServerWorld;\nimport net.minecraft.util.Rarity;\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.world.World;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\npublic class FirePickaxe extends PickaxeItem {\n    public FirePickaxe(ToolMaterial material) {\n        super(material, 7, -2.8F, new Item.Settings().group(ItemGroup.TOOLS).fireproof().maxCount(1).maxDamage(1024).\n                rarity(Rarity.RARE));\n    }\n\n    @Override\n    public boolean postHit(ItemStack stack, LivingEntity target, LivingEntity attacker) {\n        target.setOnFireFor(5);\n        return super.postHit(stack, target, attacker);\n    }\n\n    @Override\n    public boolean postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner) {\n        if (!world.isClient) {\n            List&lt;ItemStack&gt; drops = Block.getDroppedStacks(state, (ServerWorld) world, pos, null, miner, stack);\n            List&lt;ItemStack&gt; modifiedDrops = new ArrayList&lt;&gt;();\n\n            for (ItemStack drop : drops) {\n                ItemStack smeltedResult = getSmeltedResult(world, drop);\n                if (!smeltedResult.isEmpty()) {\n                    modifiedDrops.add(smeltedResult);\n                }\n            }\n            drops.clear();\n\n            for (ItemStack modifiedDrop : modifiedDrops) {\n                Block.dropStack(world, pos, modifiedDrop);\n            }\n        }\n\n        return super.postMine(stack, world, state, pos, miner);\n    }\n\n    private ItemStack getSmeltedResult(World world, ItemStack itemStack) {\n        Optional&lt;SmeltingRecipe&gt; recipe = world.getRecipeManager().getFirstMatch(RecipeType.SMELTING, new SimpleInventory(itemStack), world);\n        if (recipe.isPresent()) {\n            ItemStack result = recipe.get().getOutput().copy();\n            if (result.getItem() instanceof BlockItem) {\n                result.removeSubTag(&quot;BlockEntityTag&quot;);\n            }\n            return result;\n        }\n        return ItemStack.EMPTY;\n    }\n}\n</code></pre>\n<p>I've tried a lot like rremoving the drop from the stack or calling the decrement function of that ItemStack but all methods had the same result.</p>\n"},{"tags":["java","maven","intellij-idea","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":42949,"reputation":1658,"user_id":125344,"display_name":"Kevin Condon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1427726817,"creation_date":1427494414,"answer_id":29311048,"question_id":29310760,"body_markdown":"Wow, Maven makes this difficult. Setting `-Xrunjdwp` in `MAVEN_OPTS` won&#39;t work, because `mvnDebug.bat` adds its own afterward, which will override `MAVEN_OPTS`. I would copy `mvnDebug.bat` to `myMvnDebug.bat` and comment out the line `set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000`. That way you can set `MAVEN_DEBUG_OPT` on the command line before running it.\r\n\r\n    C:\\somewhere&gt;set MAVEN_DEBUG_OPT=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001\r\n    C:\\somewhere&gt;myMvnDebug.bat","title":"Debugging in maven with mvnDebug command","body":"<p>Wow, Maven makes this difficult. Setting <code>-Xrunjdwp</code> in <code>MAVEN_OPTS</code> won't work, because <code>mvnDebug.bat</code> adds its own afterward, which will override <code>MAVEN_OPTS</code>. I would copy <code>mvnDebug.bat</code> to <code>myMvnDebug.bat</code> and comment out the line <code>set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</code>. That way you can set <code>MAVEN_DEBUG_OPT</code> on the command line before running it.</p>\n\n<pre><code>C:\\somewhere&gt;set MAVEN_DEBUG_OPT=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001\nC:\\somewhere&gt;myMvnDebug.bat\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13600189,"reputation":1,"user_id":9811090,"display_name":"Neal Bamford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526638492,"creation_date":1526638492,"answer_id":50409015,"question_id":29310760,"body_markdown":"I changed @set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\r\n\r\nto\r\n\r\n@set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=%MAVEN_DEBUG_PORT%\r\n\r\nin mvnDebug.cmd then either set MAVEN_DEBUG_PORT in env variables or locally with set @set MAVEN_DEBUG_OPTS=8001 before you call mvnDebug xxx:run (I&#39;m using Jetty)","title":"Debugging in maven with mvnDebug command","body":"<p>I changed @set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</p>\n\n<p>to</p>\n\n<p>@set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=%MAVEN_DEBUG_PORT%</p>\n\n<p>in mvnDebug.cmd then either set MAVEN_DEBUG_PORT in env variables or locally with set @set MAVEN_DEBUG_OPTS=8001 before you call mvnDebug xxx:run (I'm using Jetty)</p>\n"},{"tags":[],"owner":{"account_id":26287725,"reputation":1,"user_id":19955141,"display_name":"winson huang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685426358,"creation_date":1685426358,"answer_id":76361947,"question_id":29310760,"body_markdown":"Another answer under the question you mentioned is https://stackoverflow.com/a/2935474/19955141 . I think that solution match your need, just use exec goal in exec plugin:\r\n\r\n```\r\nmvn exec:exec -Dexec.executable=&quot;java&quot; -Dexec.args=&quot;-classpath %classpath -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044 com.mycompany.app.App&quot;\r\n```\r\nYou can modify the address value to set port.","title":"Debugging in maven with mvnDebug command","body":"<p>Another answer under the question you mentioned is <a href=\"https://stackoverflow.com/a/2935474/19955141\">https://stackoverflow.com/a/2935474/19955141</a> . I think that solution match your need, just use exec goal in exec plugin:</p>\n<pre><code>mvn exec:exec -Dexec.executable=&quot;java&quot; -Dexec.args=&quot;-classpath %classpath -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044 com.mycompany.app.App&quot;\n</code></pre>\n<p>You can modify the address value to set port.</p>\n"}],"owner":{"account_id":2979780,"reputation":1206,"user_id":2530000,"accept_rate":81,"display_name":"Tai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21654,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29311048,"answer_count":3,"score":8,"last_activity_date":1685426358,"creation_date":1427493098,"question_id":29310760,"body_markdown":"I read this:\r\nhttps://stackoverflow.com/questions/2935375/debugging-in-maven\r\n\r\nI&#39;m running intellij remote debug and maven for a service I&#39;m trying to debug. \r\n\r\nI&#39;m running \r\n\r\n    mvnDebug tomcat7:run \r\n\r\nWhich gives me the following result\r\n\r\n    Preparing to Execute Maven in Debug Mode\r\n    Listening for transport dt_socket at address: 8000\r\n    ^Ctai-m:sb-api-internal-server tai$ m\r\n\r\nMy problem is that I want to change the port easily. I know that I can go into the pom.xml file and change it or that I can do the following in:\r\n\r\n\r\nmvnDebug.bat \r\n\r\n    @REM set MAVEN_OPTS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\r\n\r\n but I want to be able to specify my port on the command line. Is there any way to do this? I want to be able to debug multiple services on different addresses running at once and am under the impression that it would be a hassle to have to set and reset the debug file setting for each one.\r\n\r\nA friend said it should be possible but I can&#39;t seem to find a solution.\r\n\r\nEssentially Im looking for a way to easily switch the port a service is running on hopefully without modifying a file multiple times as I launch multiple services. Otherwise Is there another solution you can thing of? Ex having the first debug instance running on one port and then having the second on another (hard coded)?\r\n\r\nThanks","title":"Debugging in maven with mvnDebug command","body":"<p>I read this:\n<a href=\"https://stackoverflow.com/questions/2935375/debugging-in-maven\">Debugging in Maven?</a></p>\n\n<p>I'm running intellij remote debug and maven for a service I'm trying to debug. </p>\n\n<p>I'm running </p>\n\n<pre><code>mvnDebug tomcat7:run \n</code></pre>\n\n<p>Which gives me the following result</p>\n\n<pre><code>Preparing to Execute Maven in Debug Mode\nListening for transport dt_socket at address: 8000\n^Ctai-m:sb-api-internal-server tai$ m\n</code></pre>\n\n<p>My problem is that I want to change the port easily. I know that I can go into the pom.xml file and change it or that I can do the following in:</p>\n\n<p>mvnDebug.bat </p>\n\n<pre><code>@REM set MAVEN_OPTS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\n</code></pre>\n\n<p>but I want to be able to specify my port on the command line. Is there any way to do this? I want to be able to debug multiple services on different addresses running at once and am under the impression that it would be a hassle to have to set and reset the debug file setting for each one.</p>\n\n<p>A friend said it should be possible but I can't seem to find a solution.</p>\n\n<p>Essentially Im looking for a way to easily switch the port a service is running on hopefully without modifying a file multiple times as I launch multiple services. Otherwise Is there another solution you can thing of? Ex having the first debug instance running on one port and then having the second on another (hard coded)?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","bidirectional"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1685379188,"post_id":76358203,"comment_id":134648780,"body_markdown":"Not sure what you problem is. You have just provided a usage example. Can you please narrow down the problem?","body":"Not sure what you problem is. You have just provided a usage example. Can you please narrow down the problem?"},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1685418373,"post_id":76358203,"comment_id":134652963,"body_markdown":"In this example which I have taken from Selenium website, they say that just create an object of NetworkInterceptor. aftger creating this object, I never used that object (interceptor) in my code, so I am curious, how the system know that this object has to be called by some internal process? \n\ninstead of NetworkInterceptor interceptor = new NetworkInterceptor(........)\nif I just use below statement\nnew NetworkInterceptor(...........)\nthen also it works..... so how this object is used internally ?","body":"In this example which I have taken from Selenium website, they say that just create an object of NetworkInterceptor. aftger creating this object, I never used that object (interceptor) in my code, so I am curious, how the system know that this object has to be called by some internal process?   instead of NetworkInterceptor interceptor = new NetworkInterceptor(........) if I just use below statement new NetworkInterceptor(...........) then also it works..... so how this object is used internally ?"},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1685418886,"post_id":76358203,"comment_id":134653010,"body_markdown":"instead of NetworkInterceptor interceptor = new NetworkInterceptor(........)\nif I just use below statement\nnew NetworkInterceptor(...........), \nthen also it works..... so how this object is used internally ? \n\nI mean, suppose I create an object, then generally I use thatlike below\nObj a = new Obj();\na.dosomething()  or System.register(a) something of this sort, but in the above case I did nothing of that sort.\n\nso my question is how the system know that there is an object of NetworkInterceptor created and that has to be used?","body":"instead of NetworkInterceptor interceptor = new NetworkInterceptor(........) if I just use below statement new NetworkInterceptor(...........),  then also it works..... so how this object is used internally ?   I mean, suppose I create an object, then generally I use thatlike below Obj a = new Obj(); a.dosomething()  or System.register(a) something of this sort, but in the above case I did nothing of that sort.  so my question is how the system know that there is an object of NetworkInterceptor created and that has to be used?"},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1685425843,"post_id":76358203,"comment_id":134653701,"body_markdown":"I just explored further and found that here the constructor of the class NetworkInterceptor plays the role, maybe either running a separate thread or a service.","body":"I just explored further and found that here the constructor of the class NetworkInterceptor plays the role, maybe either running a separate thread or a service."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685426304,"creation_date":1685425827,"answer_id":76361920,"question_id":76358203,"body_markdown":"If you look inside `NetworkInterceptor` sources:\r\n\r\n```java\r\n  public NetworkInterceptor(WebDriver driver, Filter filter) {\r\n    Require.nonNull(&quot;WebDriver&quot;, driver);\r\n    Require.nonNull(&quot;HTTP filter&quot;, filter);\r\n\r\n    if (!(driver instanceof HasDevTools)) {\r\n      throw new IllegalArgumentException(&quot;WebDriver instance must implement HasDevTools&quot;);\r\n    }\r\n\r\n    this.tools = ((HasDevTools) driver).getDevTools();\r\n    tools.createSessionIfThereIsNotOne();\r\n\r\n    tools.getDomains().network().interceptTrafficWith(filter);\r\n  }\r\n```\r\n\r\nyou will see that when you create an object with `new` it actually establishes a special kind of connection between your code and your driver:\r\n\r\n```java\r\nthis.tools = ((HasDevTools) driver).getDevTools();\r\ntools.createSessionIfThereIsNotOne()\r\n```\r\n\r\nand then configures &quot;stub&quot; on driver side through that connection:\r\n\r\n```java\r\ntools.getDomains().network().interceptTrafficWith(filter);\r\n```\r\n\r\nAfter that your client code does not need a reference to `NetworkInterceptor` (except of closing it but since it is `AutoCloseable` you should use it within `try with resources` block) because all the setup already configured for WebDriver.\r\n\r\nAlso what you can pick from those sources is that the interceptor won&#39;t always works. It only works with drivers supporting DevTools such as: Chrominum, Chrome, Edge, Firefox","title":"How Selenium 4 NetworkInterceptor works internally","body":"<p>If you look inside <code>NetworkInterceptor</code> sources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public NetworkInterceptor(WebDriver driver, Filter filter) {\n    Require.nonNull(&quot;WebDriver&quot;, driver);\n    Require.nonNull(&quot;HTTP filter&quot;, filter);\n\n    if (!(driver instanceof HasDevTools)) {\n      throw new IllegalArgumentException(&quot;WebDriver instance must implement HasDevTools&quot;);\n    }\n\n    this.tools = ((HasDevTools) driver).getDevTools();\n    tools.createSessionIfThereIsNotOne();\n\n    tools.getDomains().network().interceptTrafficWith(filter);\n  }\n</code></pre>\n<p>you will see that when you create an object with <code>new</code> it actually establishes a special kind of connection between your code and your driver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.tools = ((HasDevTools) driver).getDevTools();\ntools.createSessionIfThereIsNotOne()\n</code></pre>\n<p>and then configures &quot;stub&quot; on driver side through that connection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>tools.getDomains().network().interceptTrafficWith(filter);\n</code></pre>\n<p>After that your client code does not need a reference to <code>NetworkInterceptor</code> (except of closing it but since it is <code>AutoCloseable</code> you should use it within <code>try with resources</code> block) because all the setup already configured for WebDriver.</p>\n<p>Also what you can pick from those sources is that the interceptor won't always works. It only works with drivers supporting DevTools such as: Chrominum, Chrome, Edge, Firefox</p>\n"}],"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76361920,"answer_count":1,"score":0,"last_activity_date":1685426304,"creation_date":1685370865,"question_id":76358203,"body_markdown":"In Selenium 4 , there is provision to intercept network by below code:\r\n\r\n```java\r\nNetworkInterceptor interceptor = new NetworkInterceptor(\r\n      driver,\r\n      Route.matching(req -&gt; true)\r\n        .to(() -&gt; req -&gt; new HttpResponse()\r\n          .setStatus(200)\r\n          .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\r\n          .setContent(utf8String(&quot;Creamy, delicious cheese!&quot;))));\r\n```\r\n\r\nmy question is that I never use that variable interceptor, then how or who usage it?\r\n\r\n","title":"How Selenium 4 NetworkInterceptor works internally","body":"<p>In Selenium 4 , there is provision to intercept network by below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NetworkInterceptor interceptor = new NetworkInterceptor(\n      driver,\n      Route.matching(req -&gt; true)\n        .to(() -&gt; req -&gt; new HttpResponse()\n          .setStatus(200)\n          .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\n          .setContent(utf8String(&quot;Creamy, delicious cheese!&quot;))));\n</code></pre>\n<p>my question is that I never use that variable interceptor, then how or who usage it?</p>\n"},{"tags":["java","audio","mp3"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1685369387,"post_id":76358043,"comment_id":134647101,"body_markdown":"Take the [tour], read [ask], and post a [mcve] please.","body":"Take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."}],"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685369814,"answer_count":0,"score":0,"last_activity_date":1685426038,"creation_date":1685369239,"question_id":76358043,"body_markdown":"I am making a game where the player can download the sound from the newground, this sound is downloaded in mp3 format. I added the Javazoom library to play this sound, but the code throws an error: &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot;.\r\n\r\n    \r\n    import javazoom.jlgui.basicplayer.BasicPlayer;\r\n\r\n        @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                BasicPlayer player = new BasicPlayer();\r\n                try {\r\n                    player.open(new File(soundId+&quot;.mp3&quot;));//soundId - id of the sound on newgrounds\r\n                    player.play();\r\n                } catch (BasicPlayerException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\nHelp plis","title":"Where did the error &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot; come from?","body":"<p>I am making a game where the player can download the sound from the newground, this sound is downloaded in mp3 format. I added the Javazoom library to play this sound, but the code throws an error: &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot;.</p>\n<pre><code>import javazoom.jlgui.basicplayer.BasicPlayer;\n\n    @Override\n        public void keyPressed(KeyEvent e) {\n            BasicPlayer player = new BasicPlayer();\n            try {\n                player.open(new File(soundId+&quot;.mp3&quot;));//soundId - id of the sound on newgrounds\n                player.play();\n            } catch (BasicPlayerException ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n<p>Help plis</p>\n"},{"tags":["python","java","spring","jython-2.7"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685104553,"post_id":76338143,"comment_id":134618659,"body_markdown":"Does this answer your question? [How can I install various Python libraries in Jython?](https://stackoverflow.com/questions/6787015/how-can-i-install-various-python-libraries-in-jython)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6787015/how-can-i-install-various-python-libraries-in-jython\">How can I install various Python libraries in Jython?</a>"}],"owner":{"account_id":28683590,"reputation":1,"user_id":21964274,"display_name":"woojoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685425489,"creation_date":1685082451,"question_id":76338143,"body_markdown":"I need to help about the Spring project for Java in IntelliJ.\r\nIm gonna use Jython and moviepy in python code. I guess the error caused by these.\r\nActually I found numpy was not applied in Jython. But I have no idea about solved this PROBLEMS.\r\nPlease tell me how can I do!\r\n\r\nError Code\r\n\r\n```\r\nFile &quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;, line 4, in &lt;module&gt;\r\n    from moviepy.editor import VideoFileClip, concatenate_videoclips\r\n  File &quot;C:\\study\\Lib\\site-packages\\moviepy\\editor.py&quot;, line 24, in &lt;module&gt;\r\n    import imageio\r\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\__init__.py&quot;, line 24, in &lt;module&gt;\r\n    from .core import FormatManager, RETURN_BYTES\r\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\__init__.py&quot;, line 10, in &lt;module&gt;\r\n    from .util import Image, Array, Dict, asarray, image_as_uint, urlopen\r\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\util.py&quot;, line 10, in &lt;module&gt;\r\n    import numpy as np\r\nSyntaxError: (&quot;no viable alternative at input &#39;from&#39;&quot;, (&#39;C:\\\\study\\\\Lib\\\\site-packages\\\\numpy\\\\__init__.py&#39;, 130, 31, &#39;        raise ImportError(msg) from e\\n&#39;))\r\n] with root cause\r\n\r\norg.python.core.PySyntaxError: SyntaxError: no viable alternative at input &#39;from&#39; (__init__.py, line 130)\r\n\tat org.python.core.ParserFacade.fixParseError(ParserFacade.java:95) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ParserFacade.parse(ParserFacade.java:190) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.compileSource(imp.java:542) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromSource(imp.java:575) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:944) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importOneAs(imp.java:1564) ~[jython.jar:2.7.2]\r\n\tat imageio.core.util$py.f$0(C:/study/Lib/site-packages/imageio/core/util.py:542) ~[na:na]\r\n\tat imageio.core.util$py.call_function(C:/study/Lib/site-packages/imageio/core/util.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\r\n\tat imageio.core$py.f$0(C:/study/Lib/site-packages/imageio/core/__init__.py:16) ~[na:na]\r\n\tat imageio.core$py.call_function(C:/study/Lib/site-packages/imageio/core/__init__.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\r\n\tat imageio$py.f$0(C:/study/Lib/site-packages/imageio/__init__.py:100) ~[na:na]\r\n\tat imageio$py.call_function(C:/study/Lib/site-packages/imageio/__init__.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importOne(imp.java:1547) ~[jython.jar:2.7.2]\r\n\tat moviepy.editor$py.f$0(C:/study/Lib/site-packages/moviepy/editor.py:131) ~[na:na]\r\n\tat moviepy.editor$py.call_function(C:/study/Lib/site-packages/moviepy/editor.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_logic(imp.java:1278) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1369) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\r\n\tat org.python.pycode._pyx0.f$0(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py:9) ~[na:na]\r\n\tat org.python.pycode._pyx0.call_function(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.Py.runCode(Py.java:1687) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.execfile_flags(__builtin__.java:535) ~[jython.jar:2.7.2]\r\n\tat org.python.util.PythonInterpreter.execfile(PythonInterpreter.java:287) ~[jython.jar:2.7.2]\r\n\tat com.woojoofolio.project.springboot.jython.JythonTest.getTest(JythonTest.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:86) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n```\r\n\r\n\r\nSource code in Java\r\n\r\n```\r\nprivate static PythonInterpreter intPre;\r\npublic String getTest() throws IOException, InterruptedException {\r\n intPre = new PythonInterpreter();\r\n intPre.execfile(&quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;);\r\n PyFunction pyFunction = (PyFunction) intPre.get(&quot;video_editor&quot;, PyFunction.class);\r\n \r\n String a = &quot;01.mp4&quot;;\r\n PyObject pyObject = pyFunction.__call__(new PyString(a));\r\n System.out.println(pyObject.toString());\r\n\r\n return pyObject.toString();\r\n}\r\n```\r\n\r\nSource cide in Python\r\n\r\n```\r\nimport sys\r\n\r\nsys.path.append(&#39;C:\\study\\Lib\\site-packages&#39;)\r\nfrom moviepy.editor import VideoFileClip, concatenate_videoclips\r\n\r\nimport math\r\n\r\n\r\ndef video_editor(file):\r\n    video_path = file\r\n\r\n    threshold = 0.2\r\n    window_size = 0.5\r\n    video = VideoFileClip(video_path)\r\n    n_windows = math.floor(video.audio.end / window_size)\r\n\r\n    keep_clips = []\r\n\r\n    is_prev_silence = True\r\n    start_time = 0\r\n    end_time = 0\r\n\r\n    for i in range(n_windows):\r\n        s = video.audio.subclip(i * window_size, (i + 1) * window_size)\r\n\r\n        if s.max_volume() &gt;= threshold:\r\n            if is_prev_silence:\r\n                start_time = i * window_size\r\n\r\n            is_prev_silence = False\r\n\r\n        else:\r\n            if not is_prev_silence:\r\n                end_time = i * window_size\r\n                keep_clips.append(video.subclip(start_time, end_time))\r\n                print({start_time} - {end_time})\r\n\r\n            is_prev_silence = True\r\n\r\n    edited_video = concatenate_videoclips(keep_clips)\r\n\r\n    edited_video.write_videofile(\r\n        &#39;C:/own_project/woojoofolio/src/main/java/com/woojoofolio/project/springboot/jython/out.mp4&#39;,\r\n        audio_codec=&#39;aac&#39;,\r\n        threads=16\r\n    )\r\n\r\n    video.close()\r\n    edited_video.close()\r\n\r\n    return &quot;success&quot;\r\n\r\n```\r\n\r\n\r\n\r\nI expected moviepy library is worked.but I didn`t.","title":"How to deal with Jython and moviepy Error?","body":"<p>I need to help about the Spring project for Java in IntelliJ.\nIm gonna use Jython and moviepy in python code. I guess the error caused by these.\nActually I found numpy was not applied in Jython. But I have no idea about solved this PROBLEMS.\nPlease tell me how can I do!</p>\n<p>Error Code</p>\n<pre><code>File &quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;, line 4, in &lt;module&gt;\n    from moviepy.editor import VideoFileClip, concatenate_videoclips\n  File &quot;C:\\study\\Lib\\site-packages\\moviepy\\editor.py&quot;, line 24, in &lt;module&gt;\n    import imageio\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\__init__.py&quot;, line 24, in &lt;module&gt;\n    from .core import FormatManager, RETURN_BYTES\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\__init__.py&quot;, line 10, in &lt;module&gt;\n    from .util import Image, Array, Dict, asarray, image_as_uint, urlopen\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\util.py&quot;, line 10, in &lt;module&gt;\n    import numpy as np\nSyntaxError: (&quot;no viable alternative at input 'from'&quot;, ('C:\\\\study\\\\Lib\\\\site-packages\\\\numpy\\\\__init__.py', 130, 31, '        raise ImportError(msg) from e\\n'))\n] with root cause\n\norg.python.core.PySyntaxError: SyntaxError: no viable alternative at input 'from' (__init__.py, line 130)\n    at org.python.core.ParserFacade.fixParseError(ParserFacade.java:95) ~[jython.jar:2.7.2]\n    at org.python.core.ParserFacade.parse(ParserFacade.java:190) ~[jython.jar:2.7.2]\n    at org.python.core.imp.compileSource(imp.java:542) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromSource(imp.java:575) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:944) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importOneAs(imp.java:1564) ~[jython.jar:2.7.2]\n    at imageio.core.util$py.f$0(C:/study/Lib/site-packages/imageio/core/util.py:542) ~[na:na]\n    at imageio.core.util$py.call_function(C:/study/Lib/site-packages/imageio/core/util.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\n    at imageio.core$py.f$0(C:/study/Lib/site-packages/imageio/core/__init__.py:16) ~[na:na]\n    at imageio.core$py.call_function(C:/study/Lib/site-packages/imageio/core/__init__.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\n    at imageio$py.f$0(C:/study/Lib/site-packages/imageio/__init__.py:100) ~[na:na]\n    at imageio$py.call_function(C:/study/Lib/site-packages/imageio/__init__.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importOne(imp.java:1547) ~[jython.jar:2.7.2]\n    at moviepy.editor$py.f$0(C:/study/Lib/site-packages/moviepy/editor.py:131) ~[na:na]\n    at moviepy.editor$py.call_function(C:/study/Lib/site-packages/moviepy/editor.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_logic(imp.java:1278) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1369) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\n    at org.python.pycode._pyx0.f$0(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py:9) ~[na:na]\n    at org.python.pycode._pyx0.call_function(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.Py.runCode(Py.java:1687) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.execfile_flags(__builtin__.java:535) ~[jython.jar:2.7.2]\n    at org.python.util.PythonInterpreter.execfile(PythonInterpreter.java:287) ~[jython.jar:2.7.2]\n    at com.woojoofolio.project.springboot.jython.JythonTest.getTest(JythonTest.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:86) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n</code></pre>\n<p>Source code in Java</p>\n<pre><code>private static PythonInterpreter intPre;\npublic String getTest() throws IOException, InterruptedException {\n intPre = new PythonInterpreter();\n intPre.execfile(&quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;);\n PyFunction pyFunction = (PyFunction) intPre.get(&quot;video_editor&quot;, PyFunction.class);\n \n String a = &quot;01.mp4&quot;;\n PyObject pyObject = pyFunction.__call__(new PyString(a));\n System.out.println(pyObject.toString());\n\n return pyObject.toString();\n}\n</code></pre>\n<p>Source cide in Python</p>\n<pre><code>import sys\n\nsys.path.append('C:\\study\\Lib\\site-packages')\nfrom moviepy.editor import VideoFileClip, concatenate_videoclips\n\nimport math\n\n\ndef video_editor(file):\n    video_path = file\n\n    threshold = 0.2\n    window_size = 0.5\n    video = VideoFileClip(video_path)\n    n_windows = math.floor(video.audio.end / window_size)\n\n    keep_clips = []\n\n    is_prev_silence = True\n    start_time = 0\n    end_time = 0\n\n    for i in range(n_windows):\n        s = video.audio.subclip(i * window_size, (i + 1) * window_size)\n\n        if s.max_volume() &gt;= threshold:\n            if is_prev_silence:\n                start_time = i * window_size\n\n            is_prev_silence = False\n\n        else:\n            if not is_prev_silence:\n                end_time = i * window_size\n                keep_clips.append(video.subclip(start_time, end_time))\n                print({start_time} - {end_time})\n\n            is_prev_silence = True\n\n    edited_video = concatenate_videoclips(keep_clips)\n\n    edited_video.write_videofile(\n        'C:/own_project/woojoofolio/src/main/java/com/woojoofolio/project/springboot/jython/out.mp4',\n        audio_codec='aac',\n        threads=16\n    )\n\n    video.close()\n    edited_video.close()\n\n    return &quot;success&quot;\n\n</code></pre>\n<p>I expected moviepy library is worked.but I didn`t.</p>\n"},{"tags":["java","window","keystore","keytool"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685424987,"post_id":76361846,"comment_id":134653608,"body_markdown":"Hello there, can you please share full error message~","body":"Hello there, can you please share full error message~"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685424992,"post_id":76361846,"comment_id":134653609,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28707308,"reputation":1,"user_id":21983406,"display_name":"wook"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685424806,"creation_date":1685424806,"question_id":76361846,"body_markdown":"I&#39;m trying to use keytool in a window environment but I&#39;m getting an error that says the -keyalg option is mandatory, the guide I&#39;m looking at doesn&#39;t have a part that specifies keyalg, so I don&#39;t know which algorithm to specify.\r\nI want to know what algorithm value goes into when I didn&#39;t give the -keyalg value in java 1.6 version.\r\n\r\nI think in java1.6, DSA is used as the default, so I gave the -keyalg value to DSA and created a keystore","title":"What algorithm value do I use when -keyalg option is not specified in Java 1.6 keytool?","body":"<p>I'm trying to use keytool in a window environment but I'm getting an error that says the -keyalg option is mandatory, the guide I'm looking at doesn't have a part that specifies keyalg, so I don't know which algorithm to specify.\nI want to know what algorithm value goes into when I didn't give the -keyalg value in java 1.6 version.</p>\n<p>I think in java1.6, DSA is used as the default, so I gave the -keyalg value to DSA and created a keystore</p>\n"},{"tags":["java","android","android-studio","geolocation"],"answers":[{"tags":[],"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673015605,"creation_date":1673015605,"answer_id":75032280,"question_id":75032158,"body_markdown":"It&#39;s enough to start reading from official doc: https://developer.android.com/training/location &lt;br&gt;\r\nor from here ready solution https://www.geeksforgeeks.org/how-to-get-current-location-in-android/","title":"How to get a user&#39;s location in Android","body":"<p>It's enough to start reading from official doc: <a href=\"https://developer.android.com/training/location\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location</a> <br>\nor from here ready solution <a href=\"https://www.geeksforgeeks.org/how-to-get-current-location-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-get-current-location-in-android/</a></p>\n"}],"owner":{"account_id":20357191,"reputation":45,"user_id":14932446,"display_name":"AzeaL87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685424493,"creation_date":1673014999,"question_id":75032158,"body_markdown":"I have been trying to get user location in a weather app I am building. Since I&#39;m pretty new to android development this is quite tough and so I have tried finding sources on how to make this, though after trying many different things it always ends up being a way too outdated version that no longer works.\r\n\r\nSo my question is what is currently the best way the get a user&#39;s location.\r\n\r\nThanks in advance for anyone that can help me with this!","title":"How to get a user&#39;s location in Android","body":"<p>I have been trying to get user location in a weather app I am building. Since I'm pretty new to android development this is quite tough and so I have tried finding sources on how to make this, though after trying many different things it always ends up being a way too outdated version that no longer works.</p>\n<p>So my question is what is currently the best way the get a user's location.</p>\n<p>Thanks in advance for anyone that can help me with this!</p>\n"},{"tags":["java","keycloak","openid-connect","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685424261,"creation_date":1685424261,"answer_id":76361800,"question_id":76339819,"body_markdown":"You should use the `KeycloakOidcClient` and with this client, comes the `KeycloakRolesAuthorizationGenerator`: https://github.com/pac4j/pac4j/blob/5.7.x/pac4j-oidc/src/main/java/org/pac4j/oidc/authorization/generator/KeycloakRolesAuthorizationGenerator.java which puts the Keycloak roles information as the roles of the pac4j authenticated user profile.\r\n\r\nAny other attribute can be retrieved via `getAttribute` method of the `UserProfile`.","title":"Retrieving user&#39;s groups from Keycloak via pac4j library","body":"<p>You should use the <code>KeycloakOidcClient</code> and with this client, comes the <code>KeycloakRolesAuthorizationGenerator</code>: <a href=\"https://github.com/pac4j/pac4j/blob/5.7.x/pac4j-oidc/src/main/java/org/pac4j/oidc/authorization/generator/KeycloakRolesAuthorizationGenerator.java\" rel=\"nofollow noreferrer\">https://github.com/pac4j/pac4j/blob/5.7.x/pac4j-oidc/src/main/java/org/pac4j/oidc/authorization/generator/KeycloakRolesAuthorizationGenerator.java</a> which puts the Keycloak roles information as the roles of the pac4j authenticated user profile.</p>\n<p>Any other attribute can be retrieved via <code>getAttribute</code> method of the <code>UserProfile</code>.</p>\n"}],"owner":{"account_id":28684946,"reputation":1,"user_id":21965399,"display_name":"Arrigo Pierotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685424261,"creation_date":1685095890,"question_id":76339819,"body_markdown":"I&#39;m protecting a JavaEE running on Tomcat with the library `javaee-pac4j` with an OpenID Connect flow (with library `pac4j-oidc`) that is managed by a Keycloak istance.\r\n\r\nAfter a successful login in Keycloak for a protected resource, I obtain the `UserProfile` from the `WebContext` and `SessionStore` inherited by the default pac4j logics. I&#39;m able to obtain various like roles, permissions, attributes, etc.. but I see no clear way to retrieve the groups where the user is in inside Keycloak.\r\n\r\nIs there any method of the `pac4j-oidc` library that returns me said group list, or should I create a custom mapper in the Keycloak client configuration?","title":"Retrieving user&#39;s groups from Keycloak via pac4j library","body":"<p>I'm protecting a JavaEE running on Tomcat with the library <code>javaee-pac4j</code> with an OpenID Connect flow (with library <code>pac4j-oidc</code>) that is managed by a Keycloak istance.</p>\n<p>After a successful login in Keycloak for a protected resource, I obtain the <code>UserProfile</code> from the <code>WebContext</code> and <code>SessionStore</code> inherited by the default pac4j logics. I'm able to obtain various like roles, permissions, attributes, etc.. but I see no clear way to retrieve the groups where the user is in inside Keycloak.</p>\n<p>Is there any method of the <code>pac4j-oidc</code> library that returns me said group list, or should I create a custom mapper in the Keycloak client configuration?</p>\n"},{"tags":["java","junit","reflection"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685424066,"creation_date":1685424066,"answer_id":76361787,"question_id":76361345,"body_markdown":"I just did a little example. I wrote a class with a List and using reflection set to this list a value:\r\n\r\n    public class ABC {\r\n    \r\n        public static List entityList = new ArrayList();\r\n    \r\n        public void method() {\r\n            System.out.println(entityList);\r\n        }\r\n    }\r\n\r\nand junit test \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ABCTest {\r\n    \r\n        @InjectMocks\r\n        ABC abc;\r\n    \r\n        @Test\r\n        void myTest() throws NoSuchFieldException, IllegalAccessException {\r\n            List&lt;ABC&gt; staticEntityList = List.of(new ABC(), new ABC());\r\n    \r\n    // Using reflection to set the value of entityList\r\n            Field entityListField = ABC.class.getDeclaredField(&quot;entityList&quot;);\r\n            entityListField.setAccessible(true);\r\n            entityListField.set(abc, staticEntityList);\r\n            abc.method();\r\n    \r\n        }\r\n    }\r\n\r\nSo size of it become to [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rYIqq.png","title":"Use of ReflectionTestUtils.setField() in Junit testing to set a List of objects","body":"<p>I just did a little example. I wrote a class with a List and using reflection set to this list a value:</p>\n<pre><code>public class ABC {\n\n    public static List entityList = new ArrayList();\n\n    public void method() {\n        System.out.println(entityList);\n    }\n}\n</code></pre>\n<p>and junit test</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ABCTest {\n\n    @InjectMocks\n    ABC abc;\n\n    @Test\n    void myTest() throws NoSuchFieldException, IllegalAccessException {\n        List&lt;ABC&gt; staticEntityList = List.of(new ABC(), new ABC());\n\n// Using reflection to set the value of entityList\n        Field entityListField = ABC.class.getDeclaredField(&quot;entityList&quot;);\n        entityListField.setAccessible(true);\n        entityListField.set(abc, staticEntityList);\n        abc.method();\n\n    }\n}\n</code></pre>\n<p>So size of it become to <a href=\"https://i.stack.imgur.com/rYIqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rYIqq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76361787,"answer_count":1,"score":0,"last_activity_date":1685424066,"creation_date":1685415406,"question_id":76361345,"body_markdown":"in my implementation , i have \r\n\r\n```List&lt;recordEntity&gt; entityList = service.mapper(parameter1,parameter2);```\r\n\r\ni need to set the value for this ```entityList``` with a static value for my unit testing,\r\ni know that using ``ReflectionsTestUtils`` we can set value, even i have used this for another scenaro, \r\n\r\n```ReflectionTestUtils.setField(classObject, &quot;implementations&quot;, Collections.singletonMap(&quot;mapper&quot;, new DTOMapper()));```\r\n\r\nbut am not sure how to set a ```list```","title":"Use of ReflectionTestUtils.setField() in Junit testing to set a List of objects","body":"<p>in my implementation , i have</p>\n<p><code>List&lt;recordEntity&gt; entityList = service.mapper(parameter1,parameter2);</code></p>\n<p>i need to set the value for this <code>entityList</code> with a static value for my unit testing,\ni know that using <code>ReflectionsTestUtils</code> we can set value, even i have used this for another scenaro,</p>\n<p><code>ReflectionTestUtils.setField(classObject, &quot;implementations&quot;, Collections.singletonMap(&quot;mapper&quot;, new DTOMapper()));</code></p>\n<p>but am not sure how to set a <code>list</code></p>\n"},{"tags":["java","eclipse","maven","log4j","dependencies"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1440577593,"post_id":32221203,"comment_id":52325966,"body_markdown":"Right click on your project folder-&gt;build path-&gt;configure build path-&gt;under the library tab click on (add external jar)-&gt;apply","body":"Right click on your project folder-&gt;build path-&gt;configure build path-&gt;under the library tab click on (add external jar)-&gt;apply"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1440578461,"post_id":32221203,"comment_id":52326479,"body_markdown":"@hermit that&#39;s not how you add dependencies in a mavenized project, any manual library configuration will be removed again upon syncing project settings when those dependencies are not in the pom configuration.","body":"@hermit that&#39;s not how you add dependencies in a mavenized project, any manual library configuration will be removed again upon syncing project settings when those dependencies are not in the pom configuration."},{"owner":{"account_id":2185371,"reputation":2917,"user_id":1933888,"accept_rate":58,"display_name":"user1933888"},"score":1,"creation_date":1440579252,"post_id":32221203,"comment_id":52326990,"body_markdown":"Did you run *mvn clean install* ?, after this what jars did you find are downloaded in local maven repository, forget about eclipse for now.","body":"Did you run <i>mvn clean install</i> ?, after this what jars did you find are downloaded in local maven repository, forget about eclipse for now."}],"answers":[{"tags":[],"owner":{"account_id":4607949,"reputation":500,"user_id":3736889,"display_name":"szefuf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440578222,"creation_date":1440578222,"answer_id":32221736,"question_id":32221203,"body_markdown":"You also need dependency to `slf4j-api` \r\n\r\nAlso, if you use eclipse, it might be the case - try to update project.\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>You also need dependency to <code>slf4j-api</code> </p>\n\n<p>Also, if you use eclipse, it might be the case - try to update project.</p>\n"},{"tags":[],"owner":{"account_id":2185371,"reputation":2917,"user_id":1933888,"accept_rate":58,"display_name":"user1933888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440581192,"creation_date":1440581192,"answer_id":32222781,"question_id":32221203,"body_markdown":"You said you are new to Maven and have added the dependency in POM.\r\nNow I am assuming that, you are assuming that, just because you added something in *pom.xml*, the dependent jars will be available for build.\r\n\r\nMaven does not work that way. It points to a common repository from where you have to download the dependent jars (which happens when you do an *mvn install*)\r\n\r\nAfter you mvn install works fine, you may use this src to setup in your eclipse IDE either by using *mvn eclipse:eclipse* or using an eclipse maven plugin.\r\n\r\nSo, after you added the dependency, run following command from where your project is located\r\n\r\n    mvn clean install;\r\n\r\nYour jars should be downloaded from maven to your local directory something like:\r\n\r\n&gt; C:\\Users\\user\\.m2\\repository\r\n\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>You said you are new to Maven and have added the dependency in POM.\nNow I am assuming that, you are assuming that, just because you added something in <em>pom.xml</em>, the dependent jars will be available for build.</p>\n\n<p>Maven does not work that way. It points to a common repository from where you have to download the dependent jars (which happens when you do an <em>mvn install</em>)</p>\n\n<p>After you mvn install works fine, you may use this src to setup in your eclipse IDE either by using <em>mvn eclipse:eclipse</em> or using an eclipse maven plugin.</p>\n\n<p>So, after you added the dependency, run following command from where your project is located</p>\n\n<pre><code>mvn clean install;\n</code></pre>\n\n<p>Your jars should be downloaded from maven to your local directory something like:</p>\n\n<blockquote>\n  <p>C:\\Users\\user.m2\\repository</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":426701,"reputation":3719,"user_id":2209304,"display_name":"Laszlo Lugosi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556116586,"creation_date":1556116586,"answer_id":55832668,"question_id":32221203,"body_markdown":"As I had run to very similar issue, I write what my problem was:\r\n\r\nI copied a wrong maven dependency from the internet (example).\r\nIt was only in test scope.. Oh Dear..\r\n\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n\r\nSo after remove scope test section started to work as expected. :)\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>As I had run to very similar issue, I write what my problem was:</p>\n\n<p>I copied a wrong maven dependency from the internet (example).\nIt was only in test scope.. Oh Dear..</p>\n\n<pre><code>&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n\n<p>So after remove scope test section started to work as expected. :)</p>\n"},{"tags":[],"owner":{"account_id":10480311,"reputation":39,"user_id":7725500,"display_name":"Kaji Rafiqul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685423284,"creation_date":1685423284,"answer_id":76361746,"question_id":32221203,"body_markdown":"****** It&#39;s working for me.****\r\n\r\nJust add below dependencyin pom.xml under dependencies\r\n  \r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-jcl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.5&lt;/version&gt;\r\n    &lt;/dependency&gt;     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>****** It's working for me.****</p>\n<p>Just add below dependencyin pom.xml under dependencies</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-jcl&lt;/artifactId&gt;\n    &lt;version&gt;1.7.5&lt;/version&gt;\n&lt;/dependency&gt;     \n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4606543,"reputation":527,"user_id":3735871,"accept_rate":78,"display_name":"user3735871"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25014,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1685423284,"creation_date":1440576574,"question_id":32221203,"body_markdown":"I am learning to use Maven and Log4J. In the POM file I&#39;ve added the below dependencies:\r\n\r\n      &lt;dependencies&gt;\r\n  \t     &lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t   &lt;version&gt;1.7.12&lt;/version&gt;\r\n\t     &lt;/dependency&gt;\r\n\t     &lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t   &lt;version&gt;1.2.17&lt;/version&gt;\r\n\t     &lt;/dependency&gt;\t \r\n      &lt;/dependencies&gt;\r\nWhen I tried to import `import org.slf4j.Logger` in my main class, Eclipse says &quot;The import org.slf4j cannot be resolved&quot;. I searched a while for an solution, and it seems that I need to download the distribution file here http://www.slf4j.org/download.html and &quot;add the jar to the classpath&quot;? I am confused: wouldn&#39;t Maven download that automatically? How can I &quot;add the jar to the classpath&quot;? I am a real beginner here. Many thanks for your help!","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>I am learning to use Maven and Log4J. In the POM file I've added the below dependencies:</p>\n\n<pre><code>  &lt;dependencies&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n       &lt;version&gt;1.7.12&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n       &lt;version&gt;1.2.17&lt;/version&gt;\n     &lt;/dependency&gt;   \n  &lt;/dependencies&gt;\n</code></pre>\n\n<p>When I tried to import <code>import org.slf4j.Logger</code> in my main class, Eclipse says \"The import org.slf4j cannot be resolved\". I searched a while for an solution, and it seems that I need to download the distribution file here <a href=\"http://www.slf4j.org/download.html\" rel=\"noreferrer\">http://www.slf4j.org/download.html</a> and \"add the jar to the classpath\"? I am confused: wouldn't Maven download that automatically? How can I \"add the jar to the classpath\"? I am a real beginner here. Many thanks for your help!</p>\n"},{"tags":["java","if-statement","while-loop","conditional-statements"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685420124,"post_id":76361551,"comment_id":134653117,"body_markdown":"`next` is going to wait for a valid input, or as the docs say *&quot;Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext() returned true.&quot;* - so a &quot;empty&quot; (or new line) input is not valid in this case.  Consider using `nextLine` instead","body":"<code>next</code> is going to wait for a valid input, or as the docs say <i>&quot;Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext() returned true.&quot;</i> - so a &quot;empty&quot; (or new line) input is not valid in this case.  Consider using <code>nextLine</code> instead"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685421435,"creation_date":1685421435,"answer_id":76361656,"question_id":76361551,"body_markdown":"The _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class uses a delimiter to capture the values returned by the _[next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next())_ method.\r\n\r\nThe JavaDoc for _Scanner_ states the following.\r\n\r\n&gt; _A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. ..._  \r\n&gt;\r\n&gt; ... _The default whitespace delimiter used by a scanner is as recognized by [Character.isWhitespace()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isWhitespace(char))_\r\n\r\nSo, I presume you&#39;re expecting that when the enter-key is pressed, a newline should terminate the process.\r\n\r\nThis is not the case&amp;mdash;since the _Scanner_ will have not captured a delimiter, yet.\r\n\r\nIf you&#39;re looking to capture the entire line provided by the user, and not just one value at a time, use the _[Scanner#nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_ method.\r\n\r\nThis will be effective when checking for a length of 0.\r\n\r\nThus, assigning _false_ to _valid_, and exiting the loop upon the re-iteration  evaluation.","title":"While loop doesn&#39;t break if there is no input","body":"<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class uses a delimiter to capture the values returned by the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">next</a></em> method.</p>\n<p>The JavaDoc for <em>Scanner</em> states the following.</p>\n<blockquote>\n<p><em>A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. ...</em></p>\n<p>... <em>The default whitespace delimiter used by a scanner is as recognized by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isWhitespace(char)\" rel=\"nofollow noreferrer\">Character.isWhitespace()</a></em></p>\n</blockquote>\n<p>So, I presume you're expecting that when the enter-key is pressed, a newline should terminate the process.</p>\n<p>This is not the case—since the <em>Scanner</em> will have not captured a delimiter, yet.</p>\n<p>If you're looking to capture the entire line provided by the user, and not just one value at a time, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner#nextLine</a></em> method.</p>\n<p>This will be effective when checking for a length of 0.</p>\n<p>Thus, assigning <em>false</em> to <em>valid</em>, and exiting the loop upon the re-iteration  evaluation.</p>\n"}],"owner":{"account_id":26429167,"reputation":1,"user_id":20075614,"display_name":"theinkykangawoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685421435,"creation_date":1685419507,"question_id":76361551,"body_markdown":"I want to leave the while loop if the user doesn&#39;t input any value. But, when the user doen&#39;t input anything, nothing happens, and it also doesn&#39;t seem to exit the while loop, because it doen&#39;t print the end statement.\r\n\r\nI tried to make an if statement that says if the length of the input is equal to 0, valid becomes false. Here&#39;s my full code.\r\n```\r\nboolean valid = true;\r\n\t\tString exp =&quot; &quot;;\r\n\t\twhile(valid) {\r\n\t\t\tSystem.out.println(&quot;CS211 Spring Quarter 2023&quot;);\r\n\t\t\tSystem.out.print(&quot;Enter a math expression : &quot;); \r\n\t\t\texp = s.next();\r\n\t\t\tif(exp.length()==0) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t\t//only when the expression is valid, the code proceeds to convert it to postfix, and evaluate the expression\t\t\t\r\n\t\t\tif(evaluationofexpression.evalexpress(exp)) {\r\n\t\t\t\t System.out.println();\r\n\t\t\t\t String postfix = infixtopostfix.infix2postfix(exp);\t\t\t \r\n\t\t\t\t String evaluated = String.valueOf(evalpostfix.evaluatePostfix(postfix));\t\t\t\t \r\n\t\t\t\t System.out.println(&quot;infix expression:&quot;+ exp);\r\n\t\t\t\t System.out.println(&quot;postfix expression:&quot;+ postfix);\r\n\t\t\t     System.out.println(&quot;evaluated expression:&quot;+ evaluated);\r\n\t\t\t     System.out.println();\r\n\t\t\t}\r\n\t\t\t//if the expression is false, it will ask you to try again and repeat the code\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Try again&quot;);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;bye&quot;);\r\n\t\t\r\n```\r\n","title":"While loop doesn&#39;t break if there is no input","body":"<p>I want to leave the while loop if the user doesn't input any value. But, when the user doen't input anything, nothing happens, and it also doesn't seem to exit the while loop, because it doen't print the end statement.</p>\n<p>I tried to make an if statement that says if the length of the input is equal to 0, valid becomes false. Here's my full code.</p>\n<pre><code>boolean valid = true;\n        String exp =&quot; &quot;;\n        while(valid) {\n            System.out.println(&quot;CS211 Spring Quarter 2023&quot;);\n            System.out.print(&quot;Enter a math expression : &quot;); \n            exp = s.next();\n            if(exp.length()==0) {\n                valid = false;\n                \n                \n            }           \n            //only when the expression is valid, the code proceeds to convert it to postfix, and evaluate the expression            \n            if(evaluationofexpression.evalexpress(exp)) {\n                 System.out.println();\n                 String postfix = infixtopostfix.infix2postfix(exp);             \n                 String evaluated = String.valueOf(evalpostfix.evaluatePostfix(postfix));                \n                 System.out.println(&quot;infix expression:&quot;+ exp);\n                 System.out.println(&quot;postfix expression:&quot;+ postfix);\n                 System.out.println(&quot;evaluated expression:&quot;+ evaluated);\n                 System.out.println();\n            }\n            //if the expression is false, it will ask you to try again and repeat the code\n            else {\n                System.out.println(&quot;Try again&quot;);\n                System.out.println();\n            }\n        }\n        System.out.println(&quot;bye&quot;);\n        \n</code></pre>\n"},{"tags":["java","wso2","jakarta-mail","wso2-enterprise-integrator","wso2-micro-integrator"],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685421189,"creation_date":1685298683,"answer_id":76353023,"question_id":76329770,"body_markdown":"Here is a working Class Mediator to send Emails with a body and an attachment. I tested this on JDK 8. This should work with JavaX dependencies on JDK 11 as well. \r\n\r\n```java\r\npackage org.ycr;\r\n\r\nimport org.apache.synapse.MessageContext;\r\nimport org.apache.synapse.mediators.AbstractMediator;\r\n\r\nimport java.util.*;\r\nimport javax.mail.*;\r\nimport javax.mail.internet.*;\r\n\r\npublic class MailSend extends AbstractMediator { \r\n\r\n\tpublic boolean mediate(MessageContext context) {\r\n\t\tlog.info(&quot;Starting Main sending&quot;);\r\n        // Storing the current class loader of the thread, so we can restore it later. \r\n\t\tClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n\t\ttry {\r\n\t\t\tString host = &quot;smtp.gmail.com&quot;;\r\n\t\t\tint port = 587;\r\n\t\t\tfinal String username = &quot;xxxx@gmail.com&quot;;\r\n\t\t\tfinal String password = &quot;xxxx&quot;;\r\n\t\t\tfinal String atachmentFilePath = &quot;/home/xx/xx/xxxx/log.txt&quot;;\r\n\t\t\tfinal String toAddress = &quot;xxxx@gmail.com&quot;;\r\n\r\n            // Setting a new class loader so Javax is able to find the Mime dependencies.\t\r\n            Thread.currentThread().setContextClassLoader(javax.mail.Message.class.getClassLoader());\r\n\r\n\t\t\tProperties props = new Properties();\r\n\t\t\tprops.put(&quot;mail.smtp.host&quot;, host);\r\n\t\t\tprops.put(&quot;mail.smtp.port&quot;, port);\r\n\t\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n\t\t\tSession session = Session.getInstance(props, new Authenticator() {\r\n\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\treturn new PasswordAuthentication(username, password);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Create a new message\r\n\t\t\tMimeMessage message = new MimeMessage(session);\r\n\t\t\tmessage.setFrom(new InternetAddress(username));\r\n\t\t\tmessage.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toAddress));\r\n\t\t\tmessage.setSubject(&quot;Email Sample&quot;);\r\n\r\n\t\t\tMultipart multipart = new MimeMultipart();\r\n\r\n\t\t\t// Create the HTML body part\r\n\t\t\tMimeBodyPart htmlPart = new MimeBodyPart();\r\n\t\t\tString htmlContent = &quot;&lt;h1&gt;Sample&lt;/h1&gt;&quot;\r\n\t\t\t\t\t+ &quot;&lt;p&gt;This is an Sample Mail&lt;/p&gt;&quot;;\r\n\t\t\thtmlPart.setContent(htmlContent, &quot;text/html&quot;);\r\n\r\n\t\t\t// Add the HTML body part to the multipart message\r\n\t\t\tmultipart.addBodyPart(htmlPart);\r\n\r\n\t\t\t// File attaching\r\n\t\t\tMimeBodyPart attachmentPart = new MimeBodyPart();\r\n\t\t\tattachmentPart.attachFile(atachmentFilePath);\r\n\r\n\t\t\t// Add the attachment part to the multipart message\r\n\t\t\tmultipart.addBodyPart(attachmentPart);\r\n\r\n\t\t\t// Set the content of the message to the multipart message\r\n\t\t\tmessage.setContent(multipart);\r\n\t\t\tTransport.send(message);\r\n\r\n\t\t\tlog.info(&quot;Done sending Email&quot;);\r\n\t\t\treturn true;\r\n\r\n\t\t}catch (Exception e){\r\n\t\t\thandleException(&quot;Error occurred.&quot;, context);\r\n\t\t}finally {\r\n\t\t\tThread.currentThread().setContextClassLoader(classLoader);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nOn a side note, I&#39;m not sure why you are trying this with a class mediator, but you can do the same without the class mediator as well. Either by using the Email COnnector or by using Email Transport. \r\n\r\n  [1]: https://i.stack.imgur.com/UhCvl.png","title":"Java Email is sent with no content and not attachment when sending email from WSO2","body":"<p>Here is a working Class Mediator to send Emails with a body and an attachment. I tested this on JDK 8. This should work with JavaX dependencies on JDK 11 as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.ycr;\n\nimport org.apache.synapse.MessageContext;\nimport org.apache.synapse.mediators.AbstractMediator;\n\nimport java.util.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\n\npublic class MailSend extends AbstractMediator { \n\n    public boolean mediate(MessageContext context) {\n        log.info(&quot;Starting Main sending&quot;);\n        // Storing the current class loader of the thread, so we can restore it later. \n        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n        try {\n            String host = &quot;smtp.gmail.com&quot;;\n            int port = 587;\n            final String username = &quot;xxxx@gmail.com&quot;;\n            final String password = &quot;xxxx&quot;;\n            final String atachmentFilePath = &quot;/home/xx/xx/xxxx/log.txt&quot;;\n            final String toAddress = &quot;xxxx@gmail.com&quot;;\n\n            // Setting a new class loader so Javax is able to find the Mime dependencies.   \n            Thread.currentThread().setContextClassLoader(javax.mail.Message.class.getClassLoader());\n\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.host&quot;, host);\n            props.put(&quot;mail.smtp.port&quot;, port);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n            Session session = Session.getInstance(props, new Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n            });\n\n            // Create a new message\n            MimeMessage message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(username));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toAddress));\n            message.setSubject(&quot;Email Sample&quot;);\n\n            Multipart multipart = new MimeMultipart();\n\n            // Create the HTML body part\n            MimeBodyPart htmlPart = new MimeBodyPart();\n            String htmlContent = &quot;&lt;h1&gt;Sample&lt;/h1&gt;&quot;\n                    + &quot;&lt;p&gt;This is an Sample Mail&lt;/p&gt;&quot;;\n            htmlPart.setContent(htmlContent, &quot;text/html&quot;);\n\n            // Add the HTML body part to the multipart message\n            multipart.addBodyPart(htmlPart);\n\n            // File attaching\n            MimeBodyPart attachmentPart = new MimeBodyPart();\n            attachmentPart.attachFile(atachmentFilePath);\n\n            // Add the attachment part to the multipart message\n            multipart.addBodyPart(attachmentPart);\n\n            // Set the content of the message to the multipart message\n            message.setContent(multipart);\n            Transport.send(message);\n\n            log.info(&quot;Done sending Email&quot;);\n            return true;\n\n        }catch (Exception e){\n            handleException(&quot;Error occurred.&quot;, context);\n        }finally {\n            Thread.currentThread().setContextClassLoader(classLoader);\n        }\n        return true;\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UhCvl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UhCvl.png\" alt=\"enter image description here\" /></a></p>\n<p>On a side note, I'm not sure why you are trying this with a class mediator, but you can do the same without the class mediator as well. Either by using the Email COnnector or by using Email Transport.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76353023,"answer_count":1,"score":0,"last_activity_date":1685421189,"creation_date":1684999245,"question_id":76329770,"body_markdown":"I am trying to send email from WSO2 class mediator, when sending the email with no attachment it works fine but when sending with attachment I get the following exception:\r\n\r\n    javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed;\r\n\r\nI am using **micro-integrator 4.1.0**\r\n\r\nThe java code to send the email with attachment is as follows:\r\n\r\n        emailHostSMTPs = getConfig(&quot;email.host.smtps&quot;);\r\n\t\temailHostSMTP = getConfig(&quot;email.host.smtp&quot;);\r\n\t\temailProtocol = getConfig(&quot;email.protocol&quot;);\r\n\t\tsenderEmail = getConfig(&quot;email.sender&quot;);\r\n\t\tsenderPassword = Encryptor.decrypt(getConfig(&quot;email.password&quot;));\r\n\t\tsenderUser = getConfig(&quot;email.sender.user&quot;);\r\n\t\temailPort = getConfig(&quot;email.port&quot;);\r\n\t\t\r\n\r\n\t\tMimeMultipart multipart = new MimeMultipart();\r\n\t\tAuthenticator authenticator = new SMTPAuthenticator();\r\n\t\tMailSSLSocketFactory sslSocketFactory = new MailSSLSocketFactory();\r\n\t\tMimeBodyPart bodyPart = new MimeBodyPart();\r\n\r\n\t\tString html = &quot;&quot;;\r\n\r\n\t\tProperties props = System.getProperties();\r\n\r\n\t\tprops.put(&quot;mail.transport.protocol&quot;, emailProtocol);\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, emailHostSMTP);\r\n\t\tprops.put(&quot;mail.&quot; + emailProtocol + &quot;.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, emailPort);\r\n\r\n\t\tsslSocketFactory.setTrustAllHosts(true);\r\n\t\tprops.put(&quot;mail.smtp.ssl.socketFactory&quot;, sslSocketFactory);\r\n\r\n\t\tSession session = Session.getInstance(props, authenticator);\r\n\r\n\t\thtml = &quot;&lt;html&gt;&lt;body dir=&#39;rtl&#39; style=&#39;font-size:12pt;color:#000000;background-color:#FFFFFF;font-family:Calibri,Arial,Helvetica,sans-serif;&#39;&gt; &quot;\r\n\t\t\t\t+ emailBody + &quot; &lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t\tbodyPart.setContent(html, &quot;text/html; charset=UTF-8&quot;);\r\n\t\tmultipart.addBodyPart(bodyPart);\r\n\r\n\t\tMimeMessage message = new MimeMessage(session);\r\n\r\n\t\tmessage.setFrom(new InternetAddress(senderEmail, fromDisplayName));\r\n\t\tmessage.setReplyTo(new Address[] { new InternetAddress(fromEmail) });\r\n\r\n\t\tif (toList != null &amp;&amp; toList.size() &gt; 0) {\r\n\t\t\tfor (String to : toList) {\r\n\t\t\t\tmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new Exception(&quot;List of users to send email to is empty&quot;);\r\n\t\t}\r\n\r\n\t\tif (ccList != null &amp;&amp; ccList.size() &gt; 0) {\r\n\t\t\tfor (String cc : ccList) {\r\n\t\t\t\tmessage.addRecipient(Message.RecipientType.CC, new InternetAddress(cc));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (bccList != null &amp;&amp; bccList.size() &gt; 0) {\r\n\t\t\tfor (String bcc : bccList) {\r\n\t\t\t\tmessage.addRecipient(Message.RecipientType.BCC, new InternetAddress(bcc));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\t\r\n\t\tMimeBodyPart mimeBodyPart = new PreencodedMimeBodyPart(&quot;base64&quot;);\r\n\t\tmimeBodyPart.setContent(fileDataStrBase64, &quot;application/*&quot;);\r\n\t\tmimeBodyPart.setFileName(MimeUtility.encodeText(fileName, &quot;utf-8&quot;, &quot;B&quot;));\r\n\t\tmultipart.addBodyPart(mimeBodyPart);\r\n\r\n\t\t\r\n\t\tmessage.setSubject(subject, &quot;UTF-8&quot;);\r\n\t\tmessage.setContent(multipart);\r\n\t\tmessage.setSentDate(new Date());\r\n\r\n\t\tTransport transport = session.getTransport(emailProtocol);\r\n\t\ttransport.connect(senderEmail, senderPassword);\r\n\t\ttransport.sendMessage(message, message.getAllRecipients());\r\n\r\nMy **class mediator** is deployed as jar file inside **MI_HOME/lib**\r\n\r\njars used:\r\n\r\n- **javax.mail-1.6.2.jar**\r\n- **activation-1.1.1.jar**\r\n\r\n**JDK Version : 11.0.8**\r\n\r\n**EDIT:**\r\n\r\nAfter adding the following code (from another post) the email is sent but I get no email content and no attachment just subject !\r\n\r\n    MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\r\n    mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\r\n    mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\r\n    mc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\r\n    mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\r\n    mc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\r\n    mc.addMailcap(&quot;multipart/report;;  x-java-content-handler=com.sun.mail.dsn.multipart_report&quot;);\r\n    mc.addMailcap(&quot;message/delivery-status;; x-java-content-handler=com.sun.mail.dsn.message_deliverystatus&quot;);\r\n    mc.addMailcap(&quot;message/disposition-notification;; x-java-content-handler=com.sun.mail.dsn.message_dispositionnotification&quot;);\r\n    mc.addMailcap(&quot;text/rfc822-headers;;   x-java-content-handler=com.sun.mail.dsn.text_rfc822headers&quot;);\r\n\r\nBelow is the mail debug:\r\n\r\n    DEBUG: failed to load any providers, using defaults\r\n    DEBUG: Tables of loaded providers from javamail.providers\r\n    DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\r\n    DEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\r\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2]\r\n    DEBUG SMTP: need username and password for authentication\r\n    DEBUG SMTP: protocolConnect returning false, host=mail.mydomain.com, user=myemail, password=&lt;null&gt;\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;mail.mydomain.com&quot;, port 587, isSSL false\r\n    220 MyMailServer Microsoft ESMTP MAIL Service ready at Sun, 28 May 2023 14:33:31 +0300\r\n    DEBUG SMTP: connected to host &quot;mail.mydomain.com&quot;, port: 587\r\n    EHLO host.docker.internal\r\n    250-MyMailServer Hello [10.x.x.x]\r\n    250-SIZE 41943040\r\n    250-PIPELINING\r\n    250-DSN\r\n    250-ENHANCEDSTATUSCODES\r\n    250-STARTTLS\r\n    250-AUTH GSSAPI NTLM\r\n    250-8BITMIME\r\n    250-BINARYMIME\r\n    250 CHUNKING\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\n    STARTTLS\r\n    220 2.0.0 SMTP server ready\r\n    EHLO host.docker.internal\r\n    250-MyMailServer Hello [10.x.x.x]\r\n    250-SIZE 41943040\r\n    250-PIPELINING\r\n    250-DSN\r\n    250-ENHANCEDSTATUSCODES\r\n    250-AUTH GSSAPI NTLM LOGIN\r\n    250-8BITMIME\r\n    250-BINARYMIME\r\n    250 CHUNKING\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM LOGIN&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: protocolConnect login, host=mail.mydomain.com, user=mysenderemail, password=&lt;non-null&gt;\r\n    DEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \r\n    DEBUG SMTP: Using mechanism LOGIN\r\n    DEBUG SMTP: AUTH LOGIN command trace suppressed\r\n    DEBUG SMTP: AUTH LOGIN succeeded\r\n    DEBUG SMTP: use8bit false\r\n    MAIL FROM:&lt;mysenderemail@mydomin.com&gt;\r\n    250 2.1.0 Sender OK\r\n    RCPT TO:&lt;myemail@mydomin.com&gt;\r\n    250 2.1.5 Recipient OK\r\n    DEBUG SMTP: Verified Addresses\r\n    DEBUG SMTP:   myemail@mydomin.com\r\n    DATA\r\n    354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;\r\n    Date: Sun, 28 May 2023 14:33:31 +0300 (AST)\r\n    From: mysenderemail@mydomin.com\r\n    To: myemail@mydomin.com\r\n    Message-ID: &lt;1628804451.7.1685273611450@host.docker.internal&gt;\r\n    Subject: test attachment localhost 2.24\r\n    MIME-Version: 1.0\r\n    Content-Type: multipart/mixed; \r\n    \tboundary=&quot;----=_Part_6_2147206188.1685273611445&quot;\r\n    \r\n    .\r\n    250 2.6.0 &lt;1628804451.7.1685273611450@host.docker.internal&gt; [InternalId=91379724192809, Hostname=MyMailServer2] 1339 bytes in 0.293, 4.462 KB/sec Queued mail for delivery\r\n    DEBUG SMTP: message successfully delivered to mail server\r\n    QUIT\r\n    221 2.0.0 Service closing transmission channel","title":"Java Email is sent with no content and not attachment when sending email from WSO2","body":"<p>I am trying to send email from WSO2 class mediator, when sending the email with no attachment it works fine but when sending with attachment I get the following exception:</p>\n<pre><code>javax.mail.MessagingException: IOException while sending message;\n  nested exception is:\njavax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed;\n</code></pre>\n<p>I am using <strong>micro-integrator 4.1.0</strong></p>\n<p>The java code to send the email with attachment is as follows:</p>\n<pre><code>    emailHostSMTPs = getConfig(&quot;email.host.smtps&quot;);\n    emailHostSMTP = getConfig(&quot;email.host.smtp&quot;);\n    emailProtocol = getConfig(&quot;email.protocol&quot;);\n    senderEmail = getConfig(&quot;email.sender&quot;);\n    senderPassword = Encryptor.decrypt(getConfig(&quot;email.password&quot;));\n    senderUser = getConfig(&quot;email.sender.user&quot;);\n    emailPort = getConfig(&quot;email.port&quot;);\n    \n\n    MimeMultipart multipart = new MimeMultipart();\n    Authenticator authenticator = new SMTPAuthenticator();\n    MailSSLSocketFactory sslSocketFactory = new MailSSLSocketFactory();\n    MimeBodyPart bodyPart = new MimeBodyPart();\n\n    String html = &quot;&quot;;\n\n    Properties props = System.getProperties();\n\n    props.put(&quot;mail.transport.protocol&quot;, emailProtocol);\n    props.put(&quot;mail.smtp.host&quot;, emailHostSMTP);\n    props.put(&quot;mail.&quot; + emailProtocol + &quot;.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, emailPort);\n\n    sslSocketFactory.setTrustAllHosts(true);\n    props.put(&quot;mail.smtp.ssl.socketFactory&quot;, sslSocketFactory);\n\n    Session session = Session.getInstance(props, authenticator);\n\n    html = &quot;&lt;html&gt;&lt;body dir='rtl' style='font-size:12pt;color:#000000;background-color:#FFFFFF;font-family:Calibri,Arial,Helvetica,sans-serif;'&gt; &quot;\n            + emailBody + &quot; &lt;/body&gt;&lt;/html&gt;&quot;;\n    bodyPart.setContent(html, &quot;text/html; charset=UTF-8&quot;);\n    multipart.addBodyPart(bodyPart);\n\n    MimeMessage message = new MimeMessage(session);\n\n    message.setFrom(new InternetAddress(senderEmail, fromDisplayName));\n    message.setReplyTo(new Address[] { new InternetAddress(fromEmail) });\n\n    if (toList != null &amp;&amp; toList.size() &gt; 0) {\n        for (String to : toList) {\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n        }\n    } else {\n        throw new Exception(&quot;List of users to send email to is empty&quot;);\n    }\n\n    if (ccList != null &amp;&amp; ccList.size() &gt; 0) {\n        for (String cc : ccList) {\n            message.addRecipient(Message.RecipientType.CC, new InternetAddress(cc));\n        }\n    }\n\n    if (bccList != null &amp;&amp; bccList.size() &gt; 0) {\n        for (String bcc : bccList) {\n            message.addRecipient(Message.RecipientType.BCC, new InternetAddress(bcc));\n        }\n    }\n\n    \n\n    \n    MimeBodyPart mimeBodyPart = new PreencodedMimeBodyPart(&quot;base64&quot;);\n    mimeBodyPart.setContent(fileDataStrBase64, &quot;application/*&quot;);\n    mimeBodyPart.setFileName(MimeUtility.encodeText(fileName, &quot;utf-8&quot;, &quot;B&quot;));\n    multipart.addBodyPart(mimeBodyPart);\n\n    \n    message.setSubject(subject, &quot;UTF-8&quot;);\n    message.setContent(multipart);\n    message.setSentDate(new Date());\n\n    Transport transport = session.getTransport(emailProtocol);\n    transport.connect(senderEmail, senderPassword);\n    transport.sendMessage(message, message.getAllRecipients());\n</code></pre>\n<p>My <strong>class mediator</strong> is deployed as jar file inside <strong>MI_HOME/lib</strong></p>\n<p>jars used:</p>\n<ul>\n<li><strong>javax.mail-1.6.2.jar</strong></li>\n<li><strong>activation-1.1.1.jar</strong></li>\n</ul>\n<p><strong>JDK Version : 11.0.8</strong></p>\n<p><strong>EDIT:</strong></p>\n<p>After adding the following code (from another post) the email is sent but I get no email content and no attachment just subject !</p>\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\nmc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\nmc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\nmc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\nmc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\nmc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\nmc.addMailcap(&quot;multipart/report;;  x-java-content-handler=com.sun.mail.dsn.multipart_report&quot;);\nmc.addMailcap(&quot;message/delivery-status;; x-java-content-handler=com.sun.mail.dsn.message_deliverystatus&quot;);\nmc.addMailcap(&quot;message/disposition-notification;; x-java-content-handler=com.sun.mail.dsn.message_dispositionnotification&quot;);\nmc.addMailcap(&quot;text/rfc822-headers;;   x-java-content-handler=com.sun.mail.dsn.text_rfc822headers&quot;);\n</code></pre>\n<p>Below is the mail debug:</p>\n<pre><code>DEBUG: failed to load any providers, using defaults\nDEBUG: Tables of loaded providers from javamail.providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\nDEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2]\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=mail.mydomain.com, user=myemail, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;mail.mydomain.com&quot;, port 587, isSSL false\n220 MyMailServer Microsoft ESMTP MAIL Service ready at Sun, 28 May 2023 14:33:31 +0300\nDEBUG SMTP: connected to host &quot;mail.mydomain.com&quot;, port: 587\nEHLO host.docker.internal\n250-MyMailServer Hello [10.x.x.x]\n250-SIZE 41943040\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250-AUTH GSSAPI NTLM\n250-8BITMIME\n250-BINARYMIME\n250 CHUNKING\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nSTARTTLS\n220 2.0.0 SMTP server ready\nEHLO host.docker.internal\n250-MyMailServer Hello [10.x.x.x]\n250-SIZE 41943040\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-AUTH GSSAPI NTLM LOGIN\n250-8BITMIME\n250-BINARYMIME\n250 CHUNKING\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM LOGIN&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: protocolConnect login, host=mail.mydomain.com, user=mysenderemail, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN succeeded\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;mysenderemail@mydomin.com&gt;\n250 2.1.0 Sender OK\nRCPT TO:&lt;myemail@mydomin.com&gt;\n250 2.1.5 Recipient OK\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   myemail@mydomin.com\nDATA\n354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;\nDate: Sun, 28 May 2023 14:33:31 +0300 (AST)\nFrom: mysenderemail@mydomin.com\nTo: myemail@mydomin.com\nMessage-ID: &lt;1628804451.7.1685273611450@host.docker.internal&gt;\nSubject: test attachment localhost 2.24\nMIME-Version: 1.0\nContent-Type: multipart/mixed; \n    boundary=&quot;----=_Part_6_2147206188.1685273611445&quot;\n\n.\n250 2.6.0 &lt;1628804451.7.1685273611450@host.docker.internal&gt; [InternalId=91379724192809, Hostname=MyMailServer2] 1339 bytes in 0.293, 4.462 KB/sec Queued mail for delivery\nDEBUG SMTP: message successfully delivered to mail server\nQUIT\n221 2.0.0 Service closing transmission channel\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1685442235,"post_id":76361576,"comment_id":134657029,"body_markdown":"I can&#39;t imagine why this is useful, but the code looks like it should have the desired effect. How are you testing it?","body":"I can&#39;t imagine why this is useful, but the code looks like it should have the desired effect. How are you testing it?"},{"owner":{"account_id":27571550,"reputation":11,"user_id":21042644,"display_name":"emce"},"score":0,"creation_date":1686743161,"post_id":76361576,"comment_id":134840382,"body_markdown":"This is usefull because all of my window is triggering at the same time and it cannot process all of them at the same time. I do not use shifting my windows because we don&#39;t want to change our data in the window. I am debugging it with sending data to my process function. It is triggering at the end of window directly. It does not have desired effect.","body":"This is usefull because all of my window is triggering at the same time and it cannot process all of them at the same time. I do not use shifting my windows because we don&#39;t want to change our data in the window. I am debugging it with sending data to my process function. It is triggering at the end of window directly. It does not have desired effect."}],"owner":{"account_id":27571550,"reputation":11,"user_id":21042644,"display_name":"emce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685420022,"creation_date":1685420022,"question_id":76361576,"body_markdown":"I&#39;m working with Apache Flink 1.16.0 and I&#39;m trying to trigger my window with a latency. I tried to use a Custom Trigger for that, but it doesn&#39;t work.\r\nHere is my custom trigger:\r\n\r\n```\r\npublic class TriggerWithLatency extends Trigger&lt;Object, TimeWindow&gt; {\r\n\r\n    //delay 20 seconds\r\n    private long DELAY = 1000*60*60;\r\n    private TriggerWithLatency(long delay) {\r\n        this.DELAY = delay;\r\n    }\r\n\r\n    @Override\r\n    public TriggerResult onElement(Object o, long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\r\n        long triggerTime = window.getEnd() + this.DELAY;\r\n        triggerContext.registerProcessingTimeTimer(triggerTime);\r\n        return TriggerResult.CONTINUE;\r\n    }\r\n\r\n    @Override\r\n    public TriggerResult onEventTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\r\n        // I don&#39;t use TumblingEventTimeWindows so I continue\r\n        return TriggerResult.CONTINUE;\r\n    }\r\n\r\n    @Override\r\n    public TriggerResult onProcessingTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\r\n        //It should come here with 1 hour latency, but it comes with window end time\r\n        return TriggerResult.FIRE;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void clear(TimeWindow timeWindow, TriggerContext triggerContext) throws Exception {\r\n        //I clear timer\r\n        long triggerTime = timeWindow.getEnd() + this.DELAY;\r\n        triggerContext.deleteProcessingTimeTimer(triggerTime);\r\n    }\r\n    public static TriggerWithLatency create(long delay) {\r\n        return new TriggerWithLatency(delay);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHere is how I create my window\r\n\r\n```\r\nSingleOutputStreamOperator&lt;Result&gt; results = keyedStream\r\n        .window(TumblingProcessingTimeWindows.of(Time.hours(3)))\r\n\t    .trigger(TriggerWithLatency.create(1000*60*60));\r\n```\r\n\r\nAfter that I&#39;m trying to use ProcessWindowFunction, there is no latency on triggering. It is triggered at the and of window. Where is the problem? Could someone help me with that?","title":"How can I trigger my window with 1 hour latency in apache flink","body":"<p>I'm working with Apache Flink 1.16.0 and I'm trying to trigger my window with a latency. I tried to use a Custom Trigger for that, but it doesn't work.\nHere is my custom trigger:</p>\n<pre><code>public class TriggerWithLatency extends Trigger&lt;Object, TimeWindow&gt; {\n\n    //delay 20 seconds\n    private long DELAY = 1000*60*60;\n    private TriggerWithLatency(long delay) {\n        this.DELAY = delay;\n    }\n\n    @Override\n    public TriggerResult onElement(Object o, long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\n        long triggerTime = window.getEnd() + this.DELAY;\n        triggerContext.registerProcessingTimeTimer(triggerTime);\n        return TriggerResult.CONTINUE;\n    }\n\n    @Override\n    public TriggerResult onEventTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\n        // I don't use TumblingEventTimeWindows so I continue\n        return TriggerResult.CONTINUE;\n    }\n\n    @Override\n    public TriggerResult onProcessingTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\n        //It should come here with 1 hour latency, but it comes with window end time\n        return TriggerResult.FIRE;\n    }\n\n\n    @Override\n    public void clear(TimeWindow timeWindow, TriggerContext triggerContext) throws Exception {\n        //I clear timer\n        long triggerTime = timeWindow.getEnd() + this.DELAY;\n        triggerContext.deleteProcessingTimeTimer(triggerTime);\n    }\n    public static TriggerWithLatency create(long delay) {\n        return new TriggerWithLatency(delay);\n    }\n\n}\n\n</code></pre>\n<p>Here is how I create my window</p>\n<pre><code>SingleOutputStreamOperator&lt;Result&gt; results = keyedStream\n        .window(TumblingProcessingTimeWindows.of(Time.hours(3)))\n        .trigger(TriggerWithLatency.create(1000*60*60));\n</code></pre>\n<p>After that I'm trying to use ProcessWindowFunction, there is no latency on triggering. It is triggered at the and of window. Where is the problem? Could someone help me with that?</p>\n"},{"tags":["java","class","arraylist","subclass"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685415741,"post_id":76361354,"comment_id":134652761,"body_markdown":"Not sure why you would need to - `ArrayList#contains` will use `Object#equals` to compare the `Object` and elements together","body":"Not sure why you would need to - <code>ArrayList#contains</code> will use <code>Object#equals</code> to compare the <code>Object</code> and elements together"},{"owner":{"account_id":22667122,"reputation":9,"user_id":21982866,"display_name":"IvoryAlpaca"},"score":0,"creation_date":1685416190,"post_id":76361354,"comment_id":134652802,"body_markdown":"The issue was without it for some reason it didnt work. So if the ArrayList&lt;String&gt; str contains &quot;ab&quot; and &quot;ba&quot; and i typed str.contains(&quot;ab&quot;) it gave me false as a return value","body":"The issue was without it for some reason it didnt work. So if the ArrayList&lt;String&gt; str contains &quot;ab&quot; and &quot;ba&quot; and i typed str.contains(&quot;ab&quot;) it gave me false as a return value"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685416228,"post_id":76361354,"comment_id":134652803,"body_markdown":"Here are a few resources.  _[Lesson: Introduction to Collections (The Java™ Tutorials &gt; Collections)](https://docs.oracle.com/javase/tutorial/collections/intro/index.html)_, and [Lesson: Custom Collection Implementations (The Java™ Tutorials &gt; Collections)](https://docs.oracle.com/javase/tutorial/collections/custom-implementations/index.html).","body":"Here are a few resources.  <i><a href=\"https://docs.oracle.com/javase/tutorial/collections/intro/index.html\" rel=\"nofollow noreferrer\">Lesson: Introduction to Collections (The Java™ Tutorials &gt; Collections)</a></i>, and <a href=\"https://docs.oracle.com/javase/tutorial/collections/custom-implementations/index.html\" rel=\"nofollow noreferrer\">Lesson: Custom Collection Implementations (The Java™ Tutorials &gt; Collections)</a>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685416318,"post_id":76361354,"comment_id":134652808,"body_markdown":"The quick test I did worked just fine - must be something else going on in your code","body":"The quick test I did worked just fine - must be something else going on in your code"},{"owner":{"account_id":22667122,"reputation":9,"user_id":21982866,"display_name":"IvoryAlpaca"},"score":0,"creation_date":1685416719,"post_id":76361354,"comment_id":134652834,"body_markdown":"I edited and added the code which didnt work without it idk what was the issue though","body":"I edited and added the code which didnt work without it idk what was the issue though"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1685416743,"post_id":76361354,"comment_id":134652835,"body_markdown":"If a class is not declared final it can be subclassed. If a method is declared final it cannot be overridden.","body":"If a class is not declared final it can be subclassed. If a method is declared final it cannot be overridden."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1685417507,"post_id":76361354,"comment_id":134652906,"body_markdown":"It works, but it&#39;s not generally a good idea to subclass it.","body":"It works, but it&#39;s not generally a good idea to subclass it."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1685419610,"post_id":76361354,"comment_id":134653074,"body_markdown":"@IvoryAlpaca, when passing the _star.contains_ method a value, you are adding two _char_ values, which will not produce a concatenation, and instead will add the _integer_ values of the _char_ values.","body":"@IvoryAlpaca, when passing the <i>star.contains</i> method a value, you are adding two <i>char</i> values, which will not produce a concatenation, and instead will add the <i>integer</i> values of the <i>char</i> values."}],"answers":[{"tags":[],"owner":{"account_id":9777766,"reputation":290,"user_id":7247064,"display_name":"JamieNguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685416671,"creation_date":1685416671,"answer_id":76361413,"question_id":76361354,"body_markdown":"Is ArrayList a class? Well it is a *generic* class. Please read the following to learn more about generic type: https://docs.oracle.com/javase/tutorial/java/generics/types.html. You probably want to extend the ArrayList&lt;E&gt; generic class. Please provide more context of what you really want to accomplish. Extending a generic class maybe an overkill solution and not what you needed. ","title":"Is ArrayList&lt;String&gt; an extendable class or should it be replaced with ArrayList?","body":"<p>Is ArrayList a class? Well it is a <em>generic</em> class. Please read the following to learn more about generic type: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/types.html</a>. You probably want to extend the ArrayList generic class. Please provide more context of what you really want to accomplish. Extending a generic class maybe an overkill solution and not what you needed.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685419892,"creation_date":1685419516,"answer_id":76361553,"question_id":76361354,"body_markdown":"Yes, the _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html)_ is a class, it extends _[AbstractList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractList.html)_, and implements _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_&amp;mdash;among others.\r\n\r\nHere is the _[OpenJDK](https://openjdk.org/)_ source-code for _[ArrayList](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java)_, _[AbstractList](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractList.java)_, and _[List](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/List.java)_.\r\n\r\nThe _ArrayList_ is not a _final_ class, so, yes, it can be sub-classed.  \r\nAn _ArrayList\\&lt;String\\&gt;_ is the same class&amp;mdash;just, declared with a generic-type parameter.\r\n\r\nThe _ArrayList_ class is what&#39;s called a _parameterized class_; it makes use of a _[generic-type](https://docs.oracle.com/javase/tutorial/java/generics/index.html)_, introduced in Java 5. \r\n\r\nWhen you create an instance of _ArrayList_, without specifying a _generic-type_, you&#39;re essentially passing in _Object_; as opposed to _String_, in this case.\r\n\r\nFor example, the following two statements are equivalent.\r\n\r\n```java\r\nArrayList list = new ArrayList&lt;&gt;();\r\n```\r\n```java\r\nArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n```\r\n\r\nGenerally, you would want to supply the _generic-type_, although it is not required.\r\n\r\nThere is a subtle error in your code, in the inner for-loop.\r\n\r\n```java\r\nif (!star.contains(str.charAt(seq) + str.charAt(seq + 1)))\r\n```\r\n\r\nWhen adding _char_ values, they will not be concatenated&amp;mdash;like _String_ objects.\r\n\r\nInstead they will be converted to _int_ values.\r\n\r\nIn this case, if I use _&quot;abc&quot;_ as an example, on the first iteration, the value being passed to _star#contains_ is _195_, and not _&quot;ab&quot;_.  \r\n\r\nHere is an evaluation.\r\n\r\n```java\r\nstr.charAt(seq)     = &#39;a&#39; /* 0x61, 97 */\r\nstr.charAt(seq + 1) = &#39;b&#39; /* 0x62, 98 */\r\n                          /* 97 + 98 = 195 */\r\n```\r\n\r\nThus, a _false_ is being returned.\r\n\r\nThere are a few ways to correct the error.\r\n\r\nThe most common approach would be to use a _[String#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(char))_ call, which will return a _char_ value as a _String_.  \r\nAs a note, since adding a _String_ and a _char_ together will result in concatenation, you only have to parse one of the values.\r\n\r\n```java\r\nif (!star.contains(String.valueOf(str.charAt(seq)) + str.charAt(seq + 1)))\r\n```\r\n\r\nYour _star#add_ call is already achieving the same result by using an initial empty-string.\r\n\r\n```java\r\nstar.add(&quot;&quot; + str.charAt(seq) + str.charAt(seq + 1));\r\n```\r\n\r\nIs equivalent to \r\n\r\n```java\r\nstar.add((&quot;&quot; + str.charAt(seq)) + str.charAt(seq + 1));\r\n```\r\n\r\nAs a recommendation, although it is not required, you can create a local variable to hold the concatenated value, since you&#39;re using it more than once.\r\n\r\nIn this example, I created a new variable, _String string_.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\n//System.out.print(&quot;enter test case no&quot;);\r\nString string;\r\nint t = sc.nextInt();\r\nfor (int test_case = t; test_case &gt;= 1; test_case--) {//System.out.print(&quot;enter length of string&quot;);\r\n    int n = sc.nextInt();\r\n    //System.out.print(&quot;enter string&quot;);\r\n    String str = sc.next();\r\n    ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\r\n    for (int seq = 0; seq &lt; str.length() - 2; seq++) {\r\n        //System.out.print(&quot;inside for loop&quot;);\r\n        string = String.valueOf(str.charAt(seq)) + str.charAt(seq + 1);\r\n        if (!star.contains(string)) star.add(string);\r\n    }\r\n    System.out.println(star.size());\r\n}\r\n```\r\n\r\nInput\r\n\r\n```none\r\n1\r\n3\r\nabc\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1\r\n```","title":"Is ArrayList&lt;String&gt; an extendable class or should it be replaced with ArrayList?","body":"<p>Yes, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> is a class, it extends <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractList.html\" rel=\"nofollow noreferrer\">AbstractList</a></em>, and implements <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>—among others.</p>\n<p>Here is the <em><a href=\"https://openjdk.org/\" rel=\"nofollow noreferrer\">OpenJDK</a></em> source-code for <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">ArrayList</a></em>, <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractList.java\" rel=\"nofollow noreferrer\">AbstractList</a></em>, and <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/List.java\" rel=\"nofollow noreferrer\">List</a></em>.</p>\n<p>The <em>ArrayList</em> is not a <em>final</em> class, so, yes, it can be sub-classed.<br />\nAn <em>ArrayList&lt;String&gt;</em> is the same class—just, declared with a generic-type parameter.</p>\n<p>The <em>ArrayList</em> class is what's called a <em>parameterized class</em>; it makes use of a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">generic-type</a></em>, introduced in Java 5.</p>\n<p>When you create an instance of <em>ArrayList</em>, without specifying a <em>generic-type</em>, you're essentially passing in <em>Object</em>; as opposed to <em>String</em>, in this case.</p>\n<p>For example, the following two statements are equivalent.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList list = new ArrayList&lt;&gt;();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Generally, you would want to supply the <em>generic-type</em>, although it is not required.</p>\n<p>There is a subtle error in your code, in the inner for-loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!star.contains(str.charAt(seq) + str.charAt(seq + 1)))\n</code></pre>\n<p>When adding <em>char</em> values, they will not be concatenated—like <em>String</em> objects.</p>\n<p>Instead they will be converted to <em>int</em> values.</p>\n<p>In this case, if I use <em>&quot;abc&quot;</em> as an example, on the first iteration, the value being passed to <em>star#contains</em> is <em>195</em>, and not <em>&quot;ab&quot;</em>.</p>\n<p>Here is an evaluation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>str.charAt(seq)     = 'a' /* 0x61, 97 */\nstr.charAt(seq + 1) = 'b' /* 0x62, 98 */\n                          /* 97 + 98 = 195 */\n</code></pre>\n<p>Thus, a <em>false</em> is being returned.</p>\n<p>There are a few ways to correct the error.</p>\n<p>The most common approach would be to use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(char)\" rel=\"nofollow noreferrer\">String#valueOf</a></em> call, which will return a <em>char</em> value as a <em>String</em>.<br />\nAs a note, since adding a <em>String</em> and a <em>char</em> together will result in concatenation, you only have to parse one of the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!star.contains(String.valueOf(str.charAt(seq)) + str.charAt(seq + 1)))\n</code></pre>\n<p>Your <em>star#add</em> call is already achieving the same result by using an initial empty-string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>star.add(&quot;&quot; + str.charAt(seq) + str.charAt(seq + 1));\n</code></pre>\n<p>Is equivalent to</p>\n<pre class=\"lang-java prettyprint-override\"><code>star.add((&quot;&quot; + str.charAt(seq)) + str.charAt(seq + 1));\n</code></pre>\n<p>As a recommendation, although it is not required, you can create a local variable to hold the concatenated value, since you're using it more than once.</p>\n<p>In this example, I created a new variable, <em>String string</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\n//System.out.print(&quot;enter test case no&quot;);\nString string;\nint t = sc.nextInt();\nfor (int test_case = t; test_case &gt;= 1; test_case--) {//System.out.print(&quot;enter length of string&quot;);\n    int n = sc.nextInt();\n    //System.out.print(&quot;enter string&quot;);\n    String str = sc.next();\n    ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\n    for (int seq = 0; seq &lt; str.length() - 2; seq++) {\n        //System.out.print(&quot;inside for loop&quot;);\n        string = String.valueOf(str.charAt(seq)) + str.charAt(seq + 1);\n        if (!star.contains(string)) star.add(string);\n    }\n    System.out.println(star.size());\n}\n</code></pre>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n3\nabc\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n</code></pre>\n"}],"owner":{"account_id":22667122,"reputation":9,"user_id":21982866,"display_name":"IvoryAlpaca"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685419892,"creation_date":1685415542,"question_id":76361354,"body_markdown":"\r\nIs `ArrayList&lt;String&gt;` a class? If not, why does `public static class StringArrayList extends ArrayList&lt;String&gt;` work?\r\n\r\nTo compare two strings in `ArrayList&lt;String&gt;` I had to override the ArrayList.contains() method (that is not the question). I did the following:\r\n\r\n \r\n\r\n    public static class StringArrayList extends ArrayList&lt;String&gt; {\r\n\r\n        @Override\r\n        public boolean contains(Object o) {\r\n            if (o instanceof String) {\r\n                String element = (String) o;\r\n                for (String str : this) {\r\n                    if (str.equals(element)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis works. My question is, is ArrayListString a class that can be extended? Is it not an object of type ArrayList? Should the class not be ArrayList instead?\r\n\r\nEdit: I am adding the code where contains() didn&#39;t work for some reason\r\n```\r\nimport java.util.*;\r\nimport java.util.ArrayList;\r\npublic class star\r\n{\r\npublic static void main(String args[])\r\n{\r\n    Scanner sc=new Scanner(System.in);\r\n    //System.out.print(&quot;enter test case no&quot;);\r\n    int t=sc.nextInt();\r\n    for (int test_case=t;test_case&gt;=1;test_case--)\r\n    {//System.out.print(&quot;enter length of string&quot;);\r\n        int n=sc.nextInt();\r\n        //System.out.print(&quot;enter string&quot;);\r\n        String str=sc.next();\r\n        ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\r\n      \r\n        for(int seq=0;seq&lt;str.length()-2;seq++)\r\n        {\r\n            //System.out.print(&quot;inside for loop&quot;);\r\n           if(!star.contains(str.charAt(seq)+str.charAt(seq+1)))\r\n           star.add(&quot;&quot;+str.charAt(seq)+str.charAt(seq+1));\r\n        }\r\n    System.out.println(star.size());\r\n}\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is ArrayList&lt;String&gt; an extendable class or should it be replaced with ArrayList?","body":"<p>Is <code>ArrayList&lt;String&gt;</code> a class? If not, why does <code>public static class StringArrayList extends ArrayList&lt;String&gt;</code> work?</p>\n<p>To compare two strings in <code>ArrayList&lt;String&gt;</code> I had to override the ArrayList.contains() method (that is not the question). I did the following:</p>\n<pre><code>public static class StringArrayList extends ArrayList&lt;String&gt; {\n\n    @Override\n    public boolean contains(Object o) {\n        if (o instanceof String) {\n            String element = (String) o;\n            for (String str : this) {\n                if (str.equals(element)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>This works. My question is, is ArrayListString a class that can be extended? Is it not an object of type ArrayList? Should the class not be ArrayList instead?</p>\n<p>Edit: I am adding the code where contains() didn't work for some reason</p>\n<pre><code>import java.util.*;\nimport java.util.ArrayList;\npublic class star\n{\npublic static void main(String args[])\n{\n    Scanner sc=new Scanner(System.in);\n    //System.out.print(&quot;enter test case no&quot;);\n    int t=sc.nextInt();\n    for (int test_case=t;test_case&gt;=1;test_case--)\n    {//System.out.print(&quot;enter length of string&quot;);\n        int n=sc.nextInt();\n        //System.out.print(&quot;enter string&quot;);\n        String str=sc.next();\n        ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\n      \n        for(int seq=0;seq&lt;str.length()-2;seq++)\n        {\n            //System.out.print(&quot;inside for loop&quot;);\n           if(!star.contains(str.charAt(seq)+str.charAt(seq+1)))\n           star.add(&quot;&quot;+str.charAt(seq)+str.charAt(seq+1));\n        }\n    System.out.println(star.size());\n}\n}\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1638531299,"post_id":70213666,"comment_id":124119180,"body_markdown":"could you please post the text of the actual xml file","body":"could you please post the text of the actual xml file"},{"owner":{"account_id":18264438,"reputation":467,"user_id":13296516,"display_name":"null_override"},"score":0,"creation_date":1638531368,"post_id":70213666,"comment_id":124119202,"body_markdown":"Invalidate caches &amp; restart","body":"Invalidate caches &amp; restart"},{"owner":{"account_id":16737854,"reputation":539,"user_id":12098423,"display_name":"Dhruv Patel"},"score":0,"creation_date":1638531750,"post_id":70213666,"comment_id":124119342,"body_markdown":"Please check parent class tag is closed OR not.","body":"Please check parent class tag is closed OR not."},{"owner":{"account_id":5492412,"reputation":579,"user_id":4364890,"display_name":"Pramod Moolekandathil"},"score":0,"creation_date":1638532568,"post_id":70213666,"comment_id":124119648,"body_markdown":"Please post the complete xml of the layout file","body":"Please post the complete xml of the layout file"}],"answers":[{"tags":[],"owner":{"account_id":23500750,"reputation":62,"user_id":17550663,"display_name":"Patel Dishant"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638531998,"creation_date":1638531998,"answer_id":70213801,"question_id":70213666,"body_markdown":"upgrade your Gradle version.\r\n\r\n\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:7.0.1&#39;\r\n\r\n```\r\nand sync the project.\r\n\r\nafter completing this process you face the same issue then goto\r\nFile -&gt;Invalidate caches &amp; restart and select Invalidate &amp; restart.\r\n","title":"Cannot resolve class TextView, ImageView, LinearLayout,","body":"<p>upgrade your Gradle version.</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.0.1'\n\n</code></pre>\n<p>and sync the project.</p>\n<p>after completing this process you face the same issue then goto\nFile -&gt;Invalidate caches &amp; restart and select Invalidate &amp; restart.</p>\n"},{"tags":[],"owner":{"account_id":8503045,"reputation":1,"user_id":6375467,"display_name":"dengquan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665562632,"creation_date":1665562632,"answer_id":74038580,"question_id":70213666,"body_markdown":"upgrade your Gradle wrapper\r\n\r\n     \r\ndistributionUrl=http\\://gradle.sankuai.com/android/gradle/gradle-6.7.1-all.zip\r\n\r\n\r\nNote:https://developer.android.com/studio/releases/gradle-plugin#4-2-0\r\n\r\n","title":"Cannot resolve class TextView, ImageView, LinearLayout,","body":"<p>upgrade your Gradle wrapper</p>\n<p>distributionUrl=http://gradle.sankuai.com/android/gradle/gradle-6.7.1-all.zip</p>\n<p>Note:<a href=\"https://developer.android.com/studio/releases/gradle-plugin#4-2-0\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin#4-2-0</a></p>\n"}],"owner":{"account_id":23050399,"reputation":41,"user_id":17167325,"display_name":"m2fard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3061,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70213801,"answer_count":2,"score":3,"last_activity_date":1685418873,"creation_date":1638531194,"question_id":70213666,"body_markdown":"When I want to create TextView, ImageView and ... in my file xml, everything turns red and tag style appears instead of height and width the I have to copy and paste any features manually. The app will run although everything is red, like the attached photo.\r\nI also have cleared the cache through  File -&gt;Invalidate caches \r\nbut the problem still exists.\r\n\r\nI&#39;m new to android and need some help.\r\n[enter image description here][1]\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/50mOE.jpg\r\n  [2]: https://i.stack.imgur.com/Ja7nd.jpg","title":"Cannot resolve class TextView, ImageView, LinearLayout,","body":"<p>When I want to create TextView, ImageView and ... in my file xml, everything turns red and tag style appears instead of height and width the I have to copy and paste any features manually. The app will run although everything is red, like the attached photo.\nI also have cleared the cache through  File -&gt;Invalidate caches\nbut the problem still exists.</p>\n<p>I'm new to android and need some help.\n<a href=\"https://i.stack.imgur.com/50mOE.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/Ja7nd.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685416633,"creation_date":1685416633,"question_id":76361408,"body_markdown":"I have a class which is using @Controller annotation to identify the webpages, which is working perfect until I provide another class which is using @Component for where I am registering a Jersey. Soon as I am adding the 2nd class  with @Component annotation the 1st does not work any more. can you help me with this?\r\nthis is the @Controller \r\n\r\n    package com.example.demo13.newpackage;\r\n    import org.springframework.stereotype.Controller;\r\n    \r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    @Controller\r\n    public class GreetingController {\r\n    \r\n    \t@GetMapping(&quot;/greeting&quot;)\r\n    \tpublic String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n    \t\tmodel.addAttribute(&quot;name&quot;, name);\r\n    \t\treturn &quot;greeting&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nwhich is working fine until I put the next class @Component which is working \r\n\r\n    package com.example.demo13.newpackage1;\r\n    \r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class JerseyConfig extends ResourceConfig \r\n    {\r\n      public JerseyConfig() \r\n      {\r\n        register(UserService.class);\r\n      }\r\n    }\r\nthis is the starting class\r\n\r\n    package com.example.demo13;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;name = com.example.demo13.newpackage, name = com.example.demo13.newpackage1&quot;)\r\n    public class Demo13Application {\r\n    \r\n        public static void main(String[] args) {\r\n                SpringApplication.run(Demo13Application.class, args);\r\n        }\r\n    }\r\n\r\n\r\n","title":"SpringBoot initilizr and configure a rest jersey and webpage","body":"<p>I have a class which is using @Controller annotation to identify the webpages, which is working perfect until I provide another class which is using @Component for where I am registering a Jersey. Soon as I am adding the 2nd class  with @Component annotation the 1st does not work any more. can you help me with this?\nthis is the @Controller</p>\n<pre><code>package com.example.demo13.newpackage;\nimport org.springframework.stereotype.Controller;\n\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class GreetingController {\n\n    @GetMapping(&quot;/greeting&quot;)\n    public String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\n        model.addAttribute(&quot;name&quot;, name);\n        return &quot;greeting&quot;;\n    }\n\n}\n</code></pre>\n<p>which is working fine until I put the next class @Component which is working</p>\n<pre><code>package com.example.demo13.newpackage1;\n\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class JerseyConfig extends ResourceConfig \n{\n  public JerseyConfig() \n  {\n    register(UserService.class);\n  }\n}\n</code></pre>\n<p>this is the starting class</p>\n<pre><code>package com.example.demo13;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n\n@SpringBootApplication\n@ComponentScan(&quot;name = com.example.demo13.newpackage, name = com.example.demo13.newpackage1&quot;)\npublic class Demo13Application {\n\n    public static void main(String[] args) {\n            SpringApplication.run(Demo13Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jdo","datanucleus"],"comments":[{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685411925,"post_id":76361159,"comment_id":134652511,"body_markdown":"you can put the stacktrace for more information please","body":"you can put the stacktrace for more information please"},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1685472166,"post_id":76361159,"comment_id":134664002,"body_markdown":"The result collection from a QUERY is bound to the database. If you close the query and want to access that collection, an exception is thrown. The solution you pointed out should work (it&#39;s the one i use). Ex: Collection col=new ArrayList(query. execute())","body":"The result collection from a QUERY is bound to the database. If you close the query and want to access that collection, an exception is thrown. The solution you pointed out should work (it&#39;s the one i use). Ex: Collection col=new ArrayList(query. execute())"},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1685472348,"post_id":76361159,"comment_id":134664030,"body_markdown":"Also, don&#39;t create a local collection, and then a new one to encapsulate the first! (this will cost you a lot of resources with huge collections...)","body":"Also, don&#39;t create a local collection, and then a new one to encapsulate the first! (this will cost you a lot of resources with huge collections...)"}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685412737,"creation_date":1685412737,"answer_id":76361219,"question_id":76361159,"body_markdown":"You can test this code :\r\n\r\n      public List&lt;User&gt; findAll() {\r\n        LOGGER.info(&quot;Getting users list&quot;);\r\n        PersistenceManager pm = PMF.get().getPersistenceManager();        \r\n        Query query  = pm.newQuery(User.class);\r\n        try {\r\n            return (List&lt;User&gt;) query.execute();\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Error while getting user list&quot;, e);\r\n            return Collections.emptyList();\r\n        } finally {\r\n            query.closeAll();\r\n        }\r\n      }","title":"When should I call javax.jdo.Query.close(Object) and Persistence Manager in JDO?","body":"<p>You can test this code :</p>\n<pre><code>  public List&lt;User&gt; findAll() {\n    LOGGER.info(&quot;Getting users list&quot;);\n    PersistenceManager pm = PMF.get().getPersistenceManager();        \n    Query query  = pm.newQuery(User.class);\n    try {\n        return (List&lt;User&gt;) query.execute();\n    } catch (Exception e) {\n        LOGGER.error(&quot;Error while getting user list&quot;, e);\n        return Collections.emptyList();\n    } finally {\n        query.closeAll();\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":5458872,"reputation":2254,"user_id":4341561,"accept_rate":65,"display_name":"Kiran Subedi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685412737,"creation_date":1685411461,"question_id":76361159,"body_markdown":"I have an old project where I used JDO to fetch the data from Datastore. I have the following code \r\n\r\n        public List&lt;User&gt; findAll() {\r\n\r\n            LOGGER.info(&quot;Getting users list&quot;);\r\n            Query query = null;\r\n            PersistenceManager pm = PMF.get().getPersistenceManager();\r\n            try {\r\n                query = pm.newQuery(User.class);\r\n                List&lt;User&gt; user = (List&lt;User&gt;) query.execute();\r\n                return user;\r\n            } catch (Exception e) {\r\n                LOGGER.error(&quot;Error while getting user list&quot;, e);\r\n                return Collections.emptyList();\r\n            } finally {\r\n                if(query != null) query.closeAll();\r\n                pm.close();\r\n            }\r\n        }\r\n\r\nI am calling the above method from my service and when I try to process the result, I am getting an error as \r\n\r\n&gt; javax.jdo.JDOUserException: Query result has been closed\r\n\r\nI tried to copy the result set to new list and return it but it also didn&#39;t work.\r\n\r\n    List&lt;User&gt; user = (List&lt;User&gt;) query.execute();\r\n    return new ArrayList&lt;&gt;(user);\r\n\r\nHow can I solve the issue? Shouldn&#39;t we have to close the query and pm ? ","title":"When should I call javax.jdo.Query.close(Object) and Persistence Manager in JDO?","body":"<p>I have an old project where I used JDO to fetch the data from Datastore. I have the following code</p>\n<pre><code>    public List&lt;User&gt; findAll() {\n\n        LOGGER.info(&quot;Getting users list&quot;);\n        Query query = null;\n        PersistenceManager pm = PMF.get().getPersistenceManager();\n        try {\n            query = pm.newQuery(User.class);\n            List&lt;User&gt; user = (List&lt;User&gt;) query.execute();\n            return user;\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error while getting user list&quot;, e);\n            return Collections.emptyList();\n        } finally {\n            if(query != null) query.closeAll();\n            pm.close();\n        }\n    }\n</code></pre>\n<p>I am calling the above method from my service and when I try to process the result, I am getting an error as</p>\n<blockquote>\n<p>javax.jdo.JDOUserException: Query result has been closed</p>\n</blockquote>\n<p>I tried to copy the result set to new list and return it but it also didn't work.</p>\n<pre><code>List&lt;User&gt; user = (List&lt;User&gt;) query.execute();\nreturn new ArrayList&lt;&gt;(user);\n</code></pre>\n<p>How can I solve the issue? Shouldn't we have to close the query and pm ?</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":19947676,"reputation":61,"user_id":14617996,"display_name":"Hussam Barouqa"},"score":0,"creation_date":1686237837,"post_id":76361114,"comment_id":134774621,"body_markdown":"The [LEADTOOLS PDF SDK](https://www.leadtools.com/sdk/pdf) has the [PDFFile](https://www.leadtools.com/help/sdk/dh/pdf/pdffile.html) Class which can be used to [extract a separate page](https://www.leadtools.com/help/sdk/dh/pdf/pdffile-extractpages(int,int,string).html) from the original PDF as well as [streamline and linearize](https://www.leadtools.com/help/sdk/dh/pdf/pdffile-linearize.html) the file in general for optimal viewing. (Disclaimer: I am an employee of the vendor)","body":"The <a href=\"https://www.leadtools.com/sdk/pdf\" rel=\"nofollow noreferrer\">LEADTOOLS PDF SDK</a> has the <a href=\"https://www.leadtools.com/help/sdk/dh/pdf/pdffile.html\" rel=\"nofollow noreferrer\">PDFFile</a> Class which can be used to <a href=\"https://www.leadtools.com/help/sdk/dh/pdf/pdffile-extractpages(int,int,string).html\" rel=\"nofollow noreferrer\">extract a separate page</a> from the original PDF as well as <a href=\"https://www.leadtools.com/help/sdk/dh/pdf/pdffile-linearize.html\" rel=\"nofollow noreferrer\">streamline and linearize</a> the file in general for optimal viewing. (Disclaimer: I am an employee of the vendor)"}],"owner":{"account_id":9031632,"reputation":11,"user_id":6729011,"display_name":"Tomatosky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685410539,"creation_date":1685410539,"question_id":76361114,"body_markdown":" If I use the PDDocument.load() method directly, it will load the entire PDF file into memory, which does not meet my requirements. Because my PDF file is on a remote server with limited bandwidth, loading everything at once will take a long time. Therefore, I want to load only a part of it, such as the first 10 pages, to speed up the viewing of the PDF. After I finish viewing the first 10 pages, I can then load the next 10 pages and so on.\r\n\r\nThere is an Android app called &quot;Comit Screen&quot; which implements similar functionality, but I don&#39;t know how it achieves this.","title":"How to implement lazy loading of a PDF file using Java code?","body":"<p>If I use the PDDocument.load() method directly, it will load the entire PDF file into memory, which does not meet my requirements. Because my PDF file is on a remote server with limited bandwidth, loading everything at once will take a long time. Therefore, I want to load only a part of it, such as the first 10 pages, to speed up the viewing of the PDF. After I finish viewing the first 10 pages, I can then load the next 10 pages and so on.</p>\n<p>There is an Android app called &quot;Comit Screen&quot; which implements similar functionality, but I don't know how it achieves this.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1666682858,"post_id":74189401,"comment_id":130988788,"body_markdown":"so what is your question or may be what do you think is not OK with your current approach?","body":"so what is your question or may be what do you think is not OK with your current approach?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666685644,"post_id":74189401,"comment_id":130989718,"body_markdown":"Can I know the reason why are you creating object [SharedObject] inside process() method? SharedObject  needs some inputs that are present inside process() method?","body":"Can I know the reason why are you creating object [SharedObject] inside process() method? SharedObject  needs some inputs that are present inside process() method?"},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1687791869,"post_id":74189401,"comment_id":134982572,"body_markdown":"Every time when process() method is called, a new instance of shared object needs to be created and this instance needs to be passed to all the methods down the line, as it will be used in its corresponding method. Here I need to keep passing it as an argument to all the methods.","body":"Every time when process() method is called, a new instance of shared object needs to be created and this instance needs to be passed to all the methods down the line, as it will be used in its corresponding method. Here I need to keep passing it as an argument to all the methods."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666692569,"creation_date":1666691897,"answer_id":74192253,"question_id":74189401,"body_markdown":"You can use ThreadLocal (https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html) for this use case. But use it with care, it can easily cause memory leaks if not done properly.\r\n\r\nThere are some interesting articles to read on ThreadLocal.\r\n\r\nhttps://dzone.com/articles/an-alternative-approach-to-threadlocal-using-sprin-1   - ***Better implementation of ThreadLocal***\r\n\r\nhttps://plumbr.io/blog/locked-threads/how-to-shoot-yourself-in-foot-with-threadlocals\r\n\r\n]https://javarevisited.blogspot.com/2013/01/threadlocal-memory-leak-in-java-web.html#axzz7iil9FiAC\r\n","title":"Java Spring Boot local scope variable make it shared","body":"<p>You can use ThreadLocal (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html</a>) for this use case. But use it with care, it can easily cause memory leaks if not done properly.</p>\n<p>There are some interesting articles to read on ThreadLocal.</p>\n<p><a href=\"https://dzone.com/articles/an-alternative-approach-to-threadlocal-using-sprin-1\" rel=\"nofollow noreferrer\">https://dzone.com/articles/an-alternative-approach-to-threadlocal-using-sprin-1</a>   - <em><strong>Better implementation of ThreadLocal</strong></em></p>\n<p><a href=\"https://plumbr.io/blog/locked-threads/how-to-shoot-yourself-in-foot-with-threadlocals\" rel=\"nofollow noreferrer\">https://plumbr.io/blog/locked-threads/how-to-shoot-yourself-in-foot-with-threadlocals</a></p>\n<p>]<a href=\"https://javarevisited.blogspot.com/2013/01/threadlocal-memory-leak-in-java-web.html#axzz7iil9FiAC\" rel=\"nofollow noreferrer\">https://javarevisited.blogspot.com/2013/01/threadlocal-memory-leak-in-java-web.html#axzz7iil9FiAC</a></p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74192253,"answer_count":1,"score":1,"last_activity_date":1685404623,"creation_date":1666675216,"question_id":74189401,"body_markdown":"I am using Sprint Boot and creating microservices. I have a scenario where an object will be created and it will be used by other methods of the same class and methods of other classes. But scope will be only when this method gets called. \r\n\r\n    Class SharedObject {\r\n      private String name;\r\n      //getters setters\r\n    }\r\n    \r\n     @Service \r\n     Class FirstServiceImpl {\r\n    \r\n      @Autowired\r\n      SecondServiceImpl second;\r\n    \r\n      public void process() {\r\n         SharedObject obj = new SharedObject();\r\n         //...\r\n         process2(obj);\r\n      }\r\n    \r\n      private void process2(SharedObject obj) {\r\n        //...\r\n        second.process(obj);\r\n      }\r\n      \r\n    }\r\n\r\n     @Service \r\n     Class SecondServiceImpl {\r\n      public void process(SharedObject obj) {\r\n           //...\r\n       }\r\n     }\r\n\r\nHere SharedObject needs to be created in process method of FirstServiceImpl class and that needs to be accessed in rest of the places. But next call of process method of FirstServiceImpl class, it should create a new object.\r\n\r\nConsidering this, I can pass to all the methods it requires. But is there a cleaner way to achieve this?\r\n","title":"Java Spring Boot local scope variable make it shared","body":"<p>I am using Sprint Boot and creating microservices. I have a scenario where an object will be created and it will be used by other methods of the same class and methods of other classes. But scope will be only when this method gets called.</p>\n<pre><code>Class SharedObject {\n  private String name;\n  //getters setters\n}\n\n @Service \n Class FirstServiceImpl {\n\n  @Autowired\n  SecondServiceImpl second;\n\n  public void process() {\n     SharedObject obj = new SharedObject();\n     //...\n     process2(obj);\n  }\n\n  private void process2(SharedObject obj) {\n    //...\n    second.process(obj);\n  }\n  \n}\n\n @Service \n Class SecondServiceImpl {\n  public void process(SharedObject obj) {\n       //...\n   }\n }\n</code></pre>\n<p>Here SharedObject needs to be created in process method of FirstServiceImpl class and that needs to be accessed in rest of the places. But next call of process method of FirstServiceImpl class, it should create a new object.</p>\n<p>Considering this, I can pass to all the methods it requires. But is there a cleaner way to achieve this?</p>\n"},{"tags":["java","web-services","jsp","session","junit"],"answers":[{"tags":[],"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361550876,"creation_date":1361532120,"answer_id":15023044,"question_id":15021973,"body_markdown":"Your code seems as if you were trying to send a request to a servlet already deployed somewhere. It is not the purpose of unit tests. Rather than that, you should test your code (your servlet) in isolation, not deployed to a server. \r\n\r\nFor that, you need to use mock the web container interfaces your servlet uses. [ServletUnit][1] is a project that provides such mocks, perhaps have a look at that. Using them, you will be able to set your session parameters.\r\n\r\n\r\n  [1]: http://httpunit.sourceforge.net/doc/servletunit-intro.html","title":"How to set session variables in Java Junit TestCase","body":"<p>Your code seems as if you were trying to send a request to a servlet already deployed somewhere. It is not the purpose of unit tests. Rather than that, you should test your code (your servlet) in isolation, not deployed to a server. </p>\n\n<p>For that, you need to use mock the web container interfaces your servlet uses. <a href=\"http://httpunit.sourceforge.net/doc/servletunit-intro.html\" rel=\"nofollow\">ServletUnit</a> is a project that provides such mocks, perhaps have a look at that. Using them, you will be able to set your session parameters.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685404513,"creation_date":1361528835,"question_id":15021973,"body_markdown":"I have written a servlet which uses session variables. I am creating Junit test cases for this flow. But how can I set these session variables in Junit testcase? I use the below code for calling the servlet in Junit testcase:\r\n\r\n        HttpClient httpClient = new DefaultHttpClient();\r\n        HttpPost httpPostReq = new HttpPost(/url);\r\n\r\n        List&lt;NameValuePair&gt; reqParams = new ArrayList&lt;NameValuePair&gt;();\r\n        nvpsReqParams.add(); // paramters to add\r\n\r\n        httpPostReq.setEntity(new UrlEncodedFormEntity(reqParams, HTTP.UTF_8));\r\n        HttpResponse response = httpClient.execute(httpPostReq);\r\n\r\nIn between after setting the parameters, I would like to added session variables which are needed by actual usecase. How can I add session variables here?\r\n","title":"How to set session variables in Java Junit TestCase","body":"<p>I have written a servlet which uses session variables. I am creating Junit test cases for this flow. But how can I set these session variables in Junit testcase? I use the below code for calling the servlet in Junit testcase:</p>\n<pre><code>    HttpClient httpClient = new DefaultHttpClient();\n    HttpPost httpPostReq = new HttpPost(/url);\n\n    List&lt;NameValuePair&gt; reqParams = new ArrayList&lt;NameValuePair&gt;();\n    nvpsReqParams.add(); // paramters to add\n\n    httpPostReq.setEntity(new UrlEncodedFormEntity(reqParams, HTTP.UTF_8));\n    HttpResponse response = httpClient.execute(httpPostReq);\n</code></pre>\n<p>In between after setting the parameters, I would like to added session variables which are needed by actual usecase. How can I add session variables here?</p>\n"},{"tags":["java","postgresql","process","runtime.exec","postgresql-8.4"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359981051,"creation_date":1359977797,"answer_id":14685961,"question_id":14685074,"body_markdown":"What you are not taking into account is that before programs ask for the password, they **flush the input buffer**. Otherwise it would be very easy to have extra characters read in for password, that the user accidentally typed before the password prompt.\r\n\r\nYou&#39;ll have to raise the level of complexity of your code to analyze the process&#39;s output and print to its `stdin` only after actually witnessing the password prompt.","title":"Passing password to Runtime.getRuntime().exec","body":"<p>What you are not taking into account is that before programs ask for the password, they <strong>flush the input buffer</strong>. Otherwise it would be very easy to have extra characters read in for password, that the user accidentally typed before the password prompt.</p>\n\n<p>You'll have to raise the level of complexity of your code to analyze the process's output and print to its <code>stdin</code> only after actually witnessing the password prompt.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685404087,"creation_date":1359974820,"question_id":14685074,"body_markdown":"I am trying to implement a feature to restart PostgreSQL server from Java code using Runtime.getRuntime().exec() method. The method is working fine if the PostgreSQL server is not SSL enabled but if the PostgreSQL server is SSL enabled and if the private key is encrypted with a password, it requires passphrase to be passed. I tried with below code for implementing the same,\r\n\r\n        String postgreSQLRestartCMD = \r\n          &quot;/u/postgreSQL/pg_ctl -D /u/postgreSQL/data restart -w&quot;;  \r\n             //-w option waits until the passphase is sent\r\n        final Process restartPosgreSQLServer = Runtime.getRuntime().exec(postgreSQLRestartCMD);\r\n        PrintStream ps = new PrintStream(restartPosgreSQLServer.getOutputStream());\r\n        ps.println(&quot;keyPassword&quot;); // sending passphasse here\r\n        new Thread(new Runnable() {\r\n              @Override\r\n                   public void run() {\r\n                   try {\r\n                        IOUtils.copy(restartPosgreSQLServer.getInputStream(), logWriter);\r\n                       }\r\n                   catch (final IOException e) {\r\n                         logWriter.println(&quot;Error occurred while reading InputStream.&quot;);\r\n                         e.printStackTrace(logWriter);\r\n                       }\r\n                }\r\n         }).start();\r\n         new Thread(new Runnable() {\r\n               @Override\r\n                   public void run() {\r\n                   try {\r\n                        IOUtils.copy(restartPosgreSQLServer.getErrorStream(), logWriter);\r\n                       }\r\n                       catch (final IOException e) {\r\n                          logWriter.println(&quot;Error occurred while reading ErrorStream.&quot;);\r\n                          e.printStackTrace(logWriter);\r\n                        }\r\n                    }\r\n           }).start();\r\n           int returnStatus = restartPosgreSQLServer.waitFor();\r\n           if (returnStatus == 1) {\r\n                 logWriter.println(&quot;Error has occured while running PostgreSQL server.&quot;);\r\n           } else {\r\n                  logWriter.println(&quot;PostgreSQL has started successfully.&quot;);\r\n           }\r\n\r\nBut the server is not getting started. I am trying in Linux. In console it&#39;s getting stuck with below line and I guess passphrase not sent properly.\r\n\r\n         Enter PEM pass phrase:\r\n\r\nWhere is this going wrong and why is the passphrase not sent?\r\n\r\nEdit\r\n---\r\n\r\nUpon digging further I just found that Runtime.getRuntime().exec(cmd) is creating new process, my ps.println(&quot;password&quot;) is passed to parent process. But I am not sure whether my observation is right.\r\n","title":"Passing password to Runtime.getRuntime().exec","body":"<p>I am trying to implement a feature to restart PostgreSQL server from Java code using Runtime.getRuntime().exec() method. The method is working fine if the PostgreSQL server is not SSL enabled but if the PostgreSQL server is SSL enabled and if the private key is encrypted with a password, it requires passphrase to be passed. I tried with below code for implementing the same,</p>\n<pre><code>    String postgreSQLRestartCMD = \n      &quot;/u/postgreSQL/pg_ctl -D /u/postgreSQL/data restart -w&quot;;  \n         //-w option waits until the passphase is sent\n    final Process restartPosgreSQLServer = Runtime.getRuntime().exec(postgreSQLRestartCMD);\n    PrintStream ps = new PrintStream(restartPosgreSQLServer.getOutputStream());\n    ps.println(&quot;keyPassword&quot;); // sending passphasse here\n    new Thread(new Runnable() {\n          @Override\n               public void run() {\n               try {\n                    IOUtils.copy(restartPosgreSQLServer.getInputStream(), logWriter);\n                   }\n               catch (final IOException e) {\n                     logWriter.println(&quot;Error occurred while reading InputStream.&quot;);\n                     e.printStackTrace(logWriter);\n                   }\n            }\n     }).start();\n     new Thread(new Runnable() {\n           @Override\n               public void run() {\n               try {\n                    IOUtils.copy(restartPosgreSQLServer.getErrorStream(), logWriter);\n                   }\n                   catch (final IOException e) {\n                      logWriter.println(&quot;Error occurred while reading ErrorStream.&quot;);\n                      e.printStackTrace(logWriter);\n                    }\n                }\n       }).start();\n       int returnStatus = restartPosgreSQLServer.waitFor();\n       if (returnStatus == 1) {\n             logWriter.println(&quot;Error has occured while running PostgreSQL server.&quot;);\n       } else {\n              logWriter.println(&quot;PostgreSQL has started successfully.&quot;);\n       }\n</code></pre>\n<p>But the server is not getting started. I am trying in Linux. In console it's getting stuck with below line and I guess passphrase not sent properly.</p>\n<pre><code>     Enter PEM pass phrase:\n</code></pre>\n<p>Where is this going wrong and why is the passphrase not sent?</p>\n<h2>Edit</h2>\n<p>Upon digging further I just found that Runtime.getRuntime().exec(cmd) is creating new process, my ps.println(&quot;password&quot;) is passed to parent process. But I am not sure whether my observation is right.</p>\n"},{"tags":["java","maven","maven-dependency"],"comments":[{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1682832780,"post_id":76139558,"comment_id":134275630,"body_markdown":"It&#39;s declared in the pom file  of direct dependency com.main:export-structure:jar:1.0.0.","body":"It&#39;s declared in the pom file  of direct dependency com.main:export-structure:jar:1.0.0."},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1682835037,"post_id":76139558,"comment_id":134275758,"body_markdown":"@zatef I verified it. it is not mentioned in export-structure&#39;s pom.xml","body":"@zatef I verified it. it is not mentioned in export-structure&#39;s pom.xml"},{"owner":{"account_id":3402971,"reputation":808,"user_id":2854752,"accept_rate":50,"display_name":"swapnil7"},"score":0,"creation_date":1682838524,"post_id":76139558,"comment_id":134276057,"body_markdown":"is there any parent for com.main:export-structure ?","body":"is there any parent for com.main:export-structure ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1682844565,"post_id":76139558,"comment_id":134276631,"body_markdown":"Without the full pom files it&#39;s hard... it&#39;s coming either from a parent or from a BOM file...","body":"Without the full pom files it&#39;s hard... it&#39;s coming either from a parent or from a BOM file..."}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685403984,"creation_date":1682829371,"question_id":76139558,"body_markdown":"I am using Maven in my project. I see below dependency is mentioned in one of the module&#39;s pom.xml without version.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI see that in .flattened-pom.xml, version 19.2 got mentioned.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\r\n      &lt;version&gt;19.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand the dependency tree:\r\n\r\n executing mvn dependency:tree, I get below,\r\n \r\n      +- com.main:export-structure:jar:1.0.0:compile          -&gt; one of my maven module\r\n       |  +- com.graphql-java:graphql-java:jar:19.2:compile\r\n\r\nExecuting `mvn dependency:tree -Dincludes=com.graphql-java:graphql-java`, I don&#39;t get any dependency tree.\r\n\r\nWhere does the version 19.2 come from? How does Maven get this 19.2 version?\r\n","title":"Maven dependency version detection","body":"<p>I am using Maven in my project. I see below dependency is mentioned in one of the module's pom.xml without version.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I see that in .flattened-pom.xml, version 19.2 got mentioned.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\n  &lt;version&gt;19.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the dependency tree:</p>\n<p>executing mvn dependency:tree, I get below,</p>\n<pre><code>  +- com.main:export-structure:jar:1.0.0:compile          -&gt; one of my maven module\n   |  +- com.graphql-java:graphql-java:jar:19.2:compile\n</code></pre>\n<p>Executing <code>mvn dependency:tree -Dincludes=com.graphql-java:graphql-java</code>, I don't get any dependency tree.</p>\n<p>Where does the version 19.2 come from? How does Maven get this 19.2 version?</p>\n"},{"tags":["java","bouncycastle"],"comments":[{"owner":{"display_name":"user21866347"},"score":0,"creation_date":1685397869,"post_id":76360535,"comment_id":134651304,"body_markdown":"One more question might be why RSADigestSigner must contain Digest but DSASigner or ECDSASigner does not?","body":"One more question might be why RSADigestSigner must contain Digest but DSASigner or ECDSASigner does not?"}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685403470,"creation_date":1685403470,"answer_id":76360837,"question_id":76360535,"body_markdown":"For [`DSASigner`][1] you must compute the hash yourself, whereas for [`RSADigestSigner`][2] the hash is computed internally to the class. This is possible because the constructor for `RSADigestSigner` takes a [`Digest`][3] argument. But the parallel to `RSADigestSigner` is [`DSADigestSigner`][4], not `DSASigner`, so you probably want to use `DSADigestSigner`.\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/signers/DSASigner.html\r\n  [2]: https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/signers/RSADigestSigner.html\r\n  [3]: https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/Digest.html\r\n  [4]: https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/signers/DSADigestSigner.html","title":"Questions regarding RSADigestSigner and DSAsigner","body":"<p>For <a href=\"https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/signers/DSASigner.html\" rel=\"nofollow noreferrer\"><code>DSASigner</code></a> you must compute the hash yourself, whereas for <a href=\"https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/signers/RSADigestSigner.html\" rel=\"nofollow noreferrer\"><code>RSADigestSigner</code></a> the hash is computed internally to the class. This is possible because the constructor for <code>RSADigestSigner</code> takes a <a href=\"https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/Digest.html\" rel=\"nofollow noreferrer\"><code>Digest</code></a> argument. But the parallel to <code>RSADigestSigner</code> is <a href=\"https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/signers/DSADigestSigner.html\" rel=\"nofollow noreferrer\"><code>DSADigestSigner</code></a>, not <code>DSASigner</code>, so you probably want to use <code>DSADigestSigner</code>.</p>\n"}],"owner":{"display_name":"user21866347"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685403470,"creation_date":1685397722,"question_id":76360535,"body_markdown":"I am new to Bouncy castle. I have some questions regarding signers package in bouncy castle. For RSADigestSigner, is our message hashed internally or do we have to hash it on our own? Another similiar question is for DSASigner, it does not have a built-in digest, so do we have to pre-hash our message before using DSASigner?\r\n\r\nHere are two of my codes:\r\n```\r\n // RSADigestSigner\r\n\r\n        // Pick the hash, SHA512 in this case\r\n        SHA512Digest digest = new SHA512Digest();\r\n\r\n        // Create a RSADigestSigner to sign\r\n        RSADigestSigner sign = new RSADigestSigner(digest);\r\n\r\n        // Initialize for signing\r\n        sign.init(true, privKey);\r\n\r\n        // Pass data to sign\r\n        sign.update(bytes, 0, bytes.length);\r\n\r\n        // Generate the signature\r\n        try {\r\n            signature = sign.generateSignature();\r\n        } catch (DataLengthException | CryptoException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n```\r\n// Create a DSASigner to sign \r\n\t\tDSASigner sign = new DSASigner();\r\n\t\t\r\n\t\t// Initialize DSASigner\r\n\t\tsign.init(true, privKey);\r\n\t\t\r\n\t\t// Hash the message\r\n\t\t\r\n\t\t\r\n\t\t// Generate the signature\r\n\t\tsignature = sign.generateSignature(input);\r\n```","title":"Questions regarding RSADigestSigner and DSAsigner","body":"<p>I am new to Bouncy castle. I have some questions regarding signers package in bouncy castle. For RSADigestSigner, is our message hashed internally or do we have to hash it on our own? Another similiar question is for DSASigner, it does not have a built-in digest, so do we have to pre-hash our message before using DSASigner?</p>\n<p>Here are two of my codes:</p>\n<pre><code> // RSADigestSigner\n\n        // Pick the hash, SHA512 in this case\n        SHA512Digest digest = new SHA512Digest();\n\n        // Create a RSADigestSigner to sign\n        RSADigestSigner sign = new RSADigestSigner(digest);\n\n        // Initialize for signing\n        sign.init(true, privKey);\n\n        // Pass data to sign\n        sign.update(bytes, 0, bytes.length);\n\n        // Generate the signature\n        try {\n            signature = sign.generateSignature();\n        } catch (DataLengthException | CryptoException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<pre><code>// Create a DSASigner to sign \n        DSASigner sign = new DSASigner();\n        \n        // Initialize DSASigner\n        sign.init(true, privKey);\n        \n        // Hash the message\n        \n        \n        // Generate the signature\n        signature = sign.generateSignature(input);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"score":0,"creation_date":1349708210,"post_id":12784216,"comment_id":17281877,"body_markdown":"You&#39;re calling scan.nextInt X amount of times as well.  Did you notice that? :D","body":"You&#39;re calling scan.nextInt X amount of times as well.  Did you notice that? :D"},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":0,"creation_date":1349708246,"post_id":12784216,"comment_id":17281898,"body_markdown":"Yes, like Wug hinted, call scan.nextInt() once and store the result in a variable.","body":"Yes, like Wug hinted, call scan.nextInt() once and store the result in a variable."},{"owner":{"account_id":1916647,"reputation":31,"user_id":1729119,"display_name":"Rick Bunch"},"score":0,"creation_date":1349708354,"post_id":12784216,"comment_id":17281959,"body_markdown":"Sorry, I&#39;m not entirely sure what you mean! :\\","body":"Sorry, I&#39;m not entirely sure what you mean! :\\"},{"owner":{"account_id":1916647,"reputation":31,"user_id":1729119,"display_name":"Rick Bunch"},"score":0,"creation_date":1349708680,"post_id":12784216,"comment_id":17282106,"body_markdown":"Ok, I see what you all mean. If I were to add another section that was basically the same as this afterwards, wouldn&#39;t the int &#39;choice&#39; stay equal to 1, making all the choices in the rest of the program equal to 1? Would I need to make &#39;choice&#39; static so it could change with each choice made in the program? A little extra help would be much appreciated :)","body":"Ok, I see what you all mean. If I were to add another section that was basically the same as this afterwards, wouldn&#39;t the int &#39;choice&#39; stay equal to 1, making all the choices in the rest of the program equal to 1? Would I need to make &#39;choice&#39; static so it could change with each choice made in the program? A little extra help would be much appreciated :)"}],"answers":[{"tags":[],"owner":{"account_id":1283901,"reputation":583,"user_id":1237375,"accept_rate":83,"display_name":"2v0mjdrl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349708313,"creation_date":1349708313,"answer_id":12784283,"question_id":12784216,"body_markdown":"Each time you call `nextInt()`, another int is read from the input. You thus want to call it only once!\r\n\r\n    int choice = scan.nextInt();\r\n\r\n    if (choice == 1) ...\r\n    if (choice == 2) ...","title":"Java scanner: nextInt","body":"<p>Each time you call <code>nextInt()</code>, another int is read from the input. You thus want to call it only once!</p>\n\n<pre><code>int choice = scan.nextInt();\n\nif (choice == 1) ...\nif (choice == 2) ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349708315,"creation_date":1349708315,"answer_id":12784285,"question_id":12784216,"body_markdown":"Each time you call `scan.nextInt` in one of your if statements, it reads another int.  Change to:\r\n\r\n    int userChoice = scan.nextInt();\r\n    if (userChoice == 1)\r\n    {\r\n        ...\r\n    }\r\n    else if (userChoice == 2)\r\n\r\n    ...\r\n\r\nAs for constructive criticism, pick a style you like and use it.  Your indentation is all over the place; this makes code more difficult to read.  It doesn&#39;t matter if it&#39;s a commonly used style and it doesn&#39;t matter what everyone else thinks of it, just make sure *you* like it and stick to it.\r\n\r\nEclipse can auto-format code for you, and this behavior is customizable (You can fiddle with it so it matches your style).","title":"Java scanner: nextInt","body":"<p>Each time you call <code>scan.nextInt</code> in one of your if statements, it reads another int.  Change to:</p>\n\n<pre><code>int userChoice = scan.nextInt();\nif (userChoice == 1)\n{\n    ...\n}\nelse if (userChoice == 2)\n\n...\n</code></pre>\n\n<p>As for constructive criticism, pick a style you like and use it.  Your indentation is all over the place; this makes code more difficult to read.  It doesn't matter if it's a commonly used style and it doesn't matter what everyone else thinks of it, just make sure <em>you</em> like it and stick to it.</p>\n\n<p>Eclipse can auto-format code for you, and this behavior is customizable (You can fiddle with it so it matches your style).</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349708339,"creation_date":1349708339,"answer_id":12784291,"question_id":12784216,"body_markdown":"You can&#39;t repeatedly call scan.nextInt().  Unless, of course, you&#39;re expecting *multiple* different integers to be read.\r\n\r\nInstead:\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    System.out.println(&quot;Please enter your name:&quot;);\r\n    String player = scan.next();\r\n    int ichoice = scan.nextInt();\r\n    switch (ichoice) {\r\n      case 1:\r\n      ...\r\n\r\n","title":"Java scanner: nextInt","body":"<p>You can't repeatedly call scan.nextInt().  Unless, of course, you're expecting <em>multiple</em> different integers to be read.</p>\n\n<p>Instead:</p>\n\n<pre><code>Scanner scan = new Scanner(System.in);\nSystem.out.println(\"Please enter your name:\");\nString player = scan.next();\nint ichoice = scan.nextInt();\nswitch (ichoice) {\n  case 1:\n  ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52921,"reputation":320,"user_id":158204,"display_name":"Sean James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1349708444,"creation_date":1349708444,"answer_id":12784329,"question_id":12784216,"body_markdown":"This is because you are calling scan.nextInt() in every if/else if statement. What you want to do is store the value they entered and then check the value in the if/else if statements, otherwise you&#39;re basically prompting the user for input multiple times.\r\n\r\n    int input = scan.nextInt();\r\n    \r\n    if (input == 1) {\r\n        upgrade1 = upgrade1 + 2;\r\n            System.out.println(&quot;Your upgrade1 level is now: &quot; + upgrade1);\r\n    }\r\n    else if (input == 2) {\r\n        upgrade2 = upgrade2 + 2;\r\n            System.out.println(&quot;Your upgrade2 level is now: &quot; + upgrade2);\r\n    }\r\n    else if (input == 3) {\r\n        upgrade3 = upgrade3 + 2;\r\n            System.out.println(&quot;Your upgrade3 level is now: &quot; + upgrade3);\r\n    }\r\n    else if (input == 4) {\r\n        upgrade4 = upgrade4 + 2;\r\n            System.out.println(&quot;Your upgrade4 level is now: &quot; + upgrade4);\r\n    }","title":"Java scanner: nextInt","body":"<p>This is because you are calling scan.nextInt() in every if/else if statement. What you want to do is store the value they entered and then check the value in the if/else if statements, otherwise you're basically prompting the user for input multiple times.</p>\n\n<pre><code>int input = scan.nextInt();\n\nif (input == 1) {\n    upgrade1 = upgrade1 + 2;\n        System.out.println(\"Your upgrade1 level is now: \" + upgrade1);\n}\nelse if (input == 2) {\n    upgrade2 = upgrade2 + 2;\n        System.out.println(\"Your upgrade2 level is now: \" + upgrade2);\n}\nelse if (input == 3) {\n    upgrade3 = upgrade3 + 2;\n        System.out.println(\"Your upgrade3 level is now: \" + upgrade3);\n}\nelse if (input == 4) {\n    upgrade4 = upgrade4 + 2;\n        System.out.println(\"Your upgrade4 level is now: \" + upgrade4);\n}\n</code></pre>\n"}],"owner":{"account_id":1916647,"reputation":31,"user_id":1729119,"display_name":"Rick Bunch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12784329,"answer_count":4,"score":2,"last_activity_date":1685400113,"creation_date":1349708101,"question_id":12784216,"body_markdown":"I am a beginner in programming (learning Java). I am trying to write a program in which I list four different options for the user to choose from. \r\n\r\nHere is part of it:\r\n\r\n\timport java.util.*;\r\n\t\tpublic class fight {\r\n\t\t\t\t\t\t\r\n\t\t\t\tpublic static int upgrade1 = 0;\r\n\t\t\t\tpublic static int upgrade2 = 0;\r\n\t\t\t\tpublic static int upgrade3 = 0;\r\n\t\t\t\tpublic static int upgrade4 = 0;\r\n\t\t\t\t\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\tScanner scan = new Scanner(System.in);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Please enter your name:&quot;);\r\n\t\t\r\n\t\t\t\tString player = scan.next();\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\tSystem.out.println(&quot;You have earned 2 upgrade points. Which of the following traits would you like to boost by 2 points?\\n&quot;\r\n\t\t+ &quot; 1. upgrade1\\n 2. upgrade2\\n 3. upgrade3\\n&quot;\r\n\t\t+ &quot; 4. upgrade4&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (scan.nextInt() == 1) {\r\n\t\t\t\t\t\t\tupgrade1 = upgrade1 + 2;\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Your upgrade1 level is now: &quot; + upgrade1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (scan.nextInt() == 2) {\r\n\t\t\t\t\t\t\tupgrade2 = upgrade2 + 2;\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Your upgrade2 level is now: &quot; + upgrade2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (scan.nextInt() == 3) {\r\n\t\t\t\t\t\t\tupgrade3 = upgrade3 + 2;\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Your upgrade3 level is now: &quot; + upgrade3);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (scan.nextInt() == 4) {\r\n\t\t\t\t\t\t\tupgrade4 = upgrade4 + 2;\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Your upgrade4 level is now: &quot; + upgrade4);\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\t} \r\n\r\nThe problem is: When the user enters which option they want to pick, they must enter the number (x being the number they choose) x amount of times. For instance, the user wants to choose option 3. They must enter the number 3 three times into the console before it understands and completes the next line.\r\n\r\nHere is the console after running the program:\r\n\r\nPlease enter your name:\r\nrick\r\nHello, rick. You have earned 2 upgrade points. Which of the following traits would you like to boost by 2 points?\r\n 1. upgrade1\r\n 2. upgrade2\r\n 3. upgrade3\r\n 4. upgrade4\r\n3\r\n3\r\n3\r\nYour upgrade3 level is now: 2\r\n\r\n\r\nI hope this makes sense, and any help is much appreciated (I assume I&#39;m just making a dumb rookie error). Also, if you have any constructive criticism about the way it&#39;s structured, please don&#39;t hesitate. Thanks!","title":"Java scanner: nextInt","body":"<p>I am a beginner in programming (learning Java). I am trying to write a program in which I list four different options for the user to choose from. </p>\n\n<p>Here is part of it:</p>\n\n<pre><code>import java.util.*;\n    public class fight {\n\n            public static int upgrade1 = 0;\n            public static int upgrade2 = 0;\n            public static int upgrade3 = 0;\n            public static int upgrade4 = 0;\n\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n\n        System.out.println(\"Please enter your name:\");\n\n            String player = scan.next();    \n\nSystem.out.println(\"You have earned 2 upgrade points. Which of the following traits would you like to boost by 2 points?\\n\"\n    + \" 1. upgrade1\\n 2. upgrade2\\n 3. upgrade3\\n\"\n    + \" 4. upgrade4\");\n\n                    if (scan.nextInt() == 1) {\n                        upgrade1 = upgrade1 + 2;\n                            System.out.println(\"Your upgrade1 level is now: \" + upgrade1);\n                    }\n                    else if (scan.nextInt() == 2) {\n                        upgrade2 = upgrade2 + 2;\n                            System.out.println(\"Your upgrade2 level is now: \" + upgrade2);\n                    }\n                    else if (scan.nextInt() == 3) {\n                        upgrade3 = upgrade3 + 2;\n                            System.out.println(\"Your upgrade3 level is now: \" + upgrade3);\n                    }\n                    else if (scan.nextInt() == 4) {\n                        upgrade4 = upgrade4 + 2;\n                            System.out.println(\"Your upgrade4 level is now: \" + upgrade4);\n                    }                                                       \n        }\n} \n</code></pre>\n\n<p>The problem is: When the user enters which option they want to pick, they must enter the number (x being the number they choose) x amount of times. For instance, the user wants to choose option 3. They must enter the number 3 three times into the console before it understands and completes the next line.</p>\n\n<p>Here is the console after running the program:</p>\n\n<p>Please enter your name:\nrick\nHello, rick. You have earned 2 upgrade points. Which of the following traits would you like to boost by 2 points?\n 1. upgrade1\n 2. upgrade2\n 3. upgrade3\n 4. upgrade4\n3\n3\n3\nYour upgrade3 level is now: 2</p>\n\n<p>I hope this makes sense, and any help is much appreciated (I assume I'm just making a dumb rookie error). Also, if you have any constructive criticism about the way it's structured, please don't hesitate. Thanks!</p>\n"},{"tags":["java","installation","virtual-machine","solaris","oracle-fusion-middleware"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685448921,"post_id":76360653,"comment_id":134658491,"body_markdown":"Is there a Java directory in the PATH?","body":"Is there a Java directory in the PATH?"},{"owner":{"account_id":16001815,"reputation":1,"user_id":11548252,"display_name":"julianx2rl"},"score":0,"creation_date":1685460570,"post_id":76360653,"comment_id":134661573,"body_markdown":"Yes, I added &quot;usr/jdk/instances/jdk1.8.0/bin/java&quot; as $JAVA_HOME with: export JAVA_HOME=/usr/jdk/instances/jdk1.8.0/bin/java","body":"Yes, I added &quot;usr/jdk/instances/jdk1.8.0/bin/java&quot; as $JAVA_HOME with: export JAVA_HOME=/usr/jdk/instances/jdk1.8.0/bin/java"},{"owner":{"account_id":16001815,"reputation":1,"user_id":11548252,"display_name":"julianx2rl"},"score":0,"creation_date":1685478285,"post_id":76360653,"comment_id":134665103,"body_markdown":"OK, so I downloaded the SDK from the internet and instead of calling the java command I called the executable, I don&#39;t want to include it into PATH just yet tho, I&#39;ll first figure out where I&#39;ll put it, but for now I get to install Middleware at least.","body":"OK, so I downloaded the SDK from the internet and instead of calling the java command I called the executable, I don&#39;t want to include it into PATH just yet tho, I&#39;ll first figure out where I&#39;ll put it, but for now I get to install Middleware at least."}],"owner":{"account_id":16001815,"reputation":1,"user_id":11548252,"display_name":"julianx2rl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685399663,"creation_date":1685399618,"question_id":76360653,"body_markdown":"I&#39;m trying to install Fusion Middleware to a Solaris 11.4 virtual machine, but I get the error:\r\n\r\n```\r\nThis installer must be executed using a java development kit (JDK)\r\nbut /usr/jdk/instances/jdk.1.8.0/jre is not a valid jdk java home\r\n```\r\nI don&#39;t know why is trying to use the jre directory, when I run &quot;which java&quot; to see what path the command is set to, I get &quot;usr/bin/java&quot;, but that path is a shortcut so it&#39;s more like &quot;usr/jdk/instances/jdk1.8.0/bin/java&quot;.\r\n\r\nI haven&#39;t installed anything yet,I was about to start with Middleware, but if I&#39;m already using a java executable from a directory called JDK then I&#39;m not sure what&#39;s causing this error with JRE.","title":"Trying to install Fusion Middleware in Solaris 11.4","body":"<p>I'm trying to install Fusion Middleware to a Solaris 11.4 virtual machine, but I get the error:</p>\n<pre><code>This installer must be executed using a java development kit (JDK)\nbut /usr/jdk/instances/jdk.1.8.0/jre is not a valid jdk java home\n</code></pre>\n<p>I don't know why is trying to use the jre directory, when I run &quot;which java&quot; to see what path the command is set to, I get &quot;usr/bin/java&quot;, but that path is a shortcut so it's more like &quot;usr/jdk/instances/jdk1.8.0/bin/java&quot;.</p>\n<p>I haven't installed anything yet,I was about to start with Middleware, but if I'm already using a java executable from a directory called JDK then I'm not sure what's causing this error with JRE.</p>\n"},{"tags":["java","maven","netbeans","chromium-embedded"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609711054,"creation_date":1609711054,"answer_id":65555337,"question_id":65554199,"body_markdown":"**For Windows**\r\n\r\nThis happens because the `chrome_elf.dll` (on Windows) file cannot be found. \r\n\r\nJava is looking for this file on `java.library.path` - which (on my machine, anyway) refers to all the locations referenced by the Windows `%path%` environment variable.\r\n\r\nOne way to fix this is to download one of the pre-built distributions from that GitHub page (for example the Windows one, referred to [here](https://github.com/CodeBrig/Journey#windows-64bit-powershell)):\r\n\r\n    https://github.com/CodeBrig/Journey/releases/download/0.4.0-78-assets/jcef-distrib-windows64.zip\r\n\r\nThen unzip the resulting `jcef-distrib-windows64.zip`. In the `win64\\bin\\lib\\win64` directory under that main directory you will find the `chrome_elf.dll` you need - and other binaries which are also needed.\r\n\r\nAdd this directory to your path - either by adding it to the Windows environment variable or via `java -Djava.library.path=...`.\r\n\r\nFor example, the path may be similar to this:\r\n\r\n    C:\\your\\path\\to\\jcef-distrib-windows64\\win64\\bin\\lib\\win64\r\n\r\nThis should allow you to run the demo code provided in the `JourneyBrowser` class. A browser window should open as a result.\r\n\r\nHere is the browser:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe above steps worked for me - and the only files I needed to keep from the (large) distribution download were those in the `jcef-distrib-windows64\\win64\\bin\\lib\\win64` directory. It&#39;s possible that I already have some other dependencies which may be needed - so I cannot guarantee this process will also work for you.\r\n\r\n**For Linux (and MacOS)**\r\n\r\nI have not tried this on a Linux machine. But in that case, I believe you will need to download and unzip the `jcef-distrib-linux64` release - and then point to the `jcef-distrib-linux64\\linux64\\bin\\lib\\linux64` directory, containing `libcef.so` and other libraries. \r\n\r\nSimilarly for MacOS, there is a distribution which can be downloaded and unzipped.\r\n\r\n**Alternative**\r\n\r\nAn alternative is to simply use the pre-built distributions provided on GitHub, using the commands provided. Obviously, in this case, you will not be creating your own customized implementation (so, no `JourneyBrowser` class).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Paju5.png","title":"Journey browser Java Chromium Embedded framework throwing error?","body":"<p><strong>For Windows</strong></p>\n<p>This happens because the <code>chrome_elf.dll</code> (on Windows) file cannot be found.</p>\n<p>Java is looking for this file on <code>java.library.path</code> - which (on my machine, anyway) refers to all the locations referenced by the Windows <code>%path%</code> environment variable.</p>\n<p>One way to fix this is to download one of the pre-built distributions from that GitHub page (for example the Windows one, referred to <a href=\"https://github.com/CodeBrig/Journey#windows-64bit-powershell\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>https://github.com/CodeBrig/Journey/releases/download/0.4.0-78-assets/jcef-distrib-windows64.zip\n</code></pre>\n<p>Then unzip the resulting <code>jcef-distrib-windows64.zip</code>. In the <code>win64\\bin\\lib\\win64</code> directory under that main directory you will find the <code>chrome_elf.dll</code> you need - and other binaries which are also needed.</p>\n<p>Add this directory to your path - either by adding it to the Windows environment variable or via <code>java -Djava.library.path=...</code>.</p>\n<p>For example, the path may be similar to this:</p>\n<pre><code>C:\\your\\path\\to\\jcef-distrib-windows64\\win64\\bin\\lib\\win64\n</code></pre>\n<p>This should allow you to run the demo code provided in the <code>JourneyBrowser</code> class. A browser window should open as a result.</p>\n<p>Here is the browser:</p>\n<p><a href=\"https://i.stack.imgur.com/Paju5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Paju5.png\" alt=\"enter image description here\" /></a></p>\n<p>The above steps worked for me - and the only files I needed to keep from the (large) distribution download were those in the <code>jcef-distrib-windows64\\win64\\bin\\lib\\win64</code> directory. It's possible that I already have some other dependencies which may be needed - so I cannot guarantee this process will also work for you.</p>\n<p><strong>For Linux (and MacOS)</strong></p>\n<p>I have not tried this on a Linux machine. But in that case, I believe you will need to download and unzip the <code>jcef-distrib-linux64</code> release - and then point to the <code>jcef-distrib-linux64\\linux64\\bin\\lib\\linux64</code> directory, containing <code>libcef.so</code> and other libraries.</p>\n<p>Similarly for MacOS, there is a distribution which can be downloaded and unzipped.</p>\n<p><strong>Alternative</strong></p>\n<p>An alternative is to simply use the pre-built distributions provided on GitHub, using the commands provided. Obviously, in this case, you will not be creating your own customized implementation (so, no <code>JourneyBrowser</code> class).</p>\n"},{"tags":[],"owner":{"account_id":22365899,"reputation":1,"user_id":16581678,"display_name":"vkdooe tonny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647999692,"creation_date":1647999692,"answer_id":71580884,"question_id":65554199,"body_markdown":"copy scr/native/Release to jcef_build/native/Release from the default output directory of VS.check whether the Release exists in java.lib.path","title":"Journey browser Java Chromium Embedded framework throwing error?","body":"<p>copy scr/native/Release to jcef_build/native/Release from the default output directory of VS.check whether the Release exists in java.lib.path</p>\n"}],"owner":{"account_id":20288511,"reputation":25,"user_id":14880709,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65555337,"answer_count":2,"score":0,"last_activity_date":1685399392,"creation_date":1609703143,"question_id":65554199,"body_markdown":"I am trying to use a library called Journey browser which uses the Java Chromium Embedded Framework. I first created a Java Maven Project with Netbeans and I edited the pom.xml to match the values on the library&#39;s guide, to add the maven dependencies. (No errors detected) I then built the project to download the maven dependency and put their default code (modified slightly) in the main class. My IDE found no errors in the code. However, when I run the project I get a &quot;no chrome_elf in java.library.path&quot;. I think this has something to do with embedding JCEF, but I am not sure how to add this to the &quot;java.library.path&quot; in Netbeans. \r\n\r\nHow do I fix this &quot;chrome_elf&quot; problem?\r\nAlso, if I am able to fix this will it be an error for production if someone doesn&#39;t have &quot;chrome_elf&quot; installed?","title":"Journey browser Java Chromium Embedded framework throwing error?","body":"<p>I am trying to use a library called Journey browser which uses the Java Chromium Embedded Framework. I first created a Java Maven Project with Netbeans and I edited the pom.xml to match the values on the library's guide, to add the maven dependencies. (No errors detected) I then built the project to download the maven dependency and put their default code (modified slightly) in the main class. My IDE found no errors in the code. However, when I run the project I get a &quot;no chrome_elf in java.library.path&quot;. I think this has something to do with embedding JCEF, but I am not sure how to add this to the &quot;java.library.path&quot; in Netbeans.</p>\n<p>How do I fix this &quot;chrome_elf&quot; problem?\nAlso, if I am able to fix this will it be an error for production if someone doesn't have &quot;chrome_elf&quot; installed?</p>\n"},{"tags":["java","jar","uberjar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685376759,"post_id":76358802,"comment_id":134648430,"body_markdown":"Of course, if you invoke `java -jar queried.jar` *programmatically* then you&#39;re going to get errors from anything other than an executable jar with dependencies met. &#39;Uberness&#39; is actually quite subjective otherwise.","body":"Of course, if you invoke <code>java -jar queried.jar</code> <i>programmatically</i> then you&#39;re going to get errors from anything other than an executable jar with dependencies met. &#39;Uberness&#39; is actually quite subjective otherwise."},{"owner":{"account_id":4730166,"reputation":301,"user_id":3826046,"accept_rate":80,"display_name":"Cornul11"},"score":0,"creation_date":1685376930,"post_id":76358802,"comment_id":134648455,"body_markdown":"By uber-JAR, in my case, I am primarily referring to JARs that contain not only the compiled Java classes, resources and metadata specific to a Java application or library but also all the dependencies required by the application or library.","body":"By uber-JAR, in my case, I am primarily referring to JARs that contain not only the compiled Java classes, resources and metadata specific to a Java application or library but also all the dependencies required by the application or library."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685377308,"post_id":76358802,"comment_id":134648509,"body_markdown":"I know that ... ;) Of course, strictly speaking, my &#39;solution&#39; is not thorough as an execution path might *not* reveal a missing dependency, but it could be a start","body":"I know that ... ;) Of course, strictly speaking, my &#39;solution&#39; is not thorough as an execution path might <i>not</i> reveal a missing dependency, but it could be a start"},{"owner":{"account_id":4730166,"reputation":301,"user_id":3826046,"accept_rate":80,"display_name":"Cornul11"},"score":0,"creation_date":1685377476,"post_id":76358802,"comment_id":134648531,"body_markdown":"@g00se, but indeed, your idea of *programmatically* running JARs and checking for errors may be one way of dynamically checking for &quot;uberness&quot;. However, I was so far only limiting myself to static analysis.","body":"@g00se, but indeed, your idea of <i>programmatically</i> running JARs and checking for errors may be one way of dynamically checking for &quot;uberness&quot;. However, I was so far only limiting myself to static analysis."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685377536,"post_id":76358802,"comment_id":134648539,"body_markdown":"That, I think, is not possible, at least practicably so","body":"That, I think, is not possible, at least practicably so"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685398078,"creation_date":1685398078,"answer_id":76360564,"question_id":76358802,"body_markdown":"One way is to look at each .class file (their [format](https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html) isn’t actually all that complicated), and check for String constants which appear to be class names that aren’t in the .jar file.  \r\n\r\n    private static final Pattern CLASS_NAME = Pattern.compile(\r\n        &quot;\\\\p{javaJavaIdentifierStart}\\\\p{javaJavaIdentifierPart}*&quot; +\r\n        &quot;(?:/\\\\p{javaJavaIdentifierStart}\\\\p{javaJavaIdentifierPart}*)+&quot;);\r\n\r\n    private static final byte CONSTANT_Utf8 = 1;\r\n    private static final byte CONSTANT_Integer = 3;\r\n    private static final byte CONSTANT_Float = 4;\r\n    private static final byte CONSTANT_Long = 5;\r\n    private static final byte CONSTANT_Double = 6;\r\n    private static final byte CONSTANT_Class = 7;\r\n    private static final byte CONSTANT_String = 8;\r\n    private static final byte CONSTANT_Fieldref = 9;\r\n    private static final byte CONSTANT_Methodref = 10;\r\n    private static final byte CONSTANT_InterfaceMethodref = 11;\r\n    private static final byte CONSTANT_NameAndType = 12;\r\n    private static final byte CONSTANT_MethodHandle = 15;\r\n    private static final byte CONSTANT_MethodType = 16;\r\n    private static final byte CONSTANT_Dynamic = 17;\r\n    private static final byte CONSTANT_InvokeDynamic = 18;\r\n    private static final byte CONSTANT_Module = 19;\r\n    private static final byte CONSTANT_Package = 20;\r\n\r\n    private static boolean lastComponentIsUpperCase(String s) {\r\n        int lastSlash = s.lastIndexOf(&#39;/&#39;);\r\n        return lastSlash &gt;= 0 &amp;&amp; lastSlash &lt; s.length() - 1 &amp;&amp;\r\n            Character.isUpperCase(s.charAt(lastSlash + 1));\r\n    }\r\n\r\n    public Optional&lt;String&gt; findExternalClassReferenceIn(File file)\r\n    throws IOException {\r\n        try (JarFile jar =\r\n            new JarFile(file, false, JarFile.OPEN_READ, Runtime.version())) {\r\n\r\n            Set&lt;String&gt; classes = new HashSet&lt;&gt;();\r\n\r\n            Enumeration&lt;JarEntry&gt; entries;\r\n\r\n            entries = jar.entries();\r\n            while (entries.hasMoreElements()) {\r\n                JarEntry entry = entries.nextElement();\r\n                String name = entry.getRealName();\r\n                if (name.endsWith(&quot;.class&quot;)) {\r\n                    classes.add(name.substring(0, name.length() - 6));\r\n                }\r\n            }\r\n\r\n            Matcher classNameMatcher = CLASS_NAME.matcher(&quot;&quot;);\r\n\r\n            entries = jar.entries();\r\n            while (entries.hasMoreElements()) {\r\n                JarEntry entry = entries.nextElement();\r\n                String name = entry.getRealName();\r\n                if (!name.endsWith(&quot;.class&quot;)) {\r\n                    continue;\r\n                }\r\n\r\n                try (DataInputStream classFile = new DataInputStream(\r\n                    new BufferedInputStream(\r\n                        jar.getInputStream(entry)))) {\r\n\r\n                    int magic = classFile.readInt();\r\n                    short minorVersion = classFile.readShort();\r\n                    short majorVersion = classFile.readShort();\r\n                    int constantPoolSize = classFile.readShort() - 1;\r\n                    for (int i = 1; i &lt;= constantPoolSize; i++) {\r\n                        byte tag = classFile.readByte();\r\n                        switch (tag) {\r\n                            case CONSTANT_Utf8:\r\n                                String s = classFile.readUTF();\r\n                                if (!s.startsWith(&quot;java&quot;) &amp;&amp;\r\n                                    !s.startsWith(&quot;com/sun/&quot;) &amp;&amp;\r\n                                    !s.startsWith(&quot;jdk/&quot;) &amp;&amp;\r\n                                    !s.startsWith(&quot;org/w3c/&quot;) &amp;&amp;\r\n                                    !s.startsWith(&quot;org/xml/&quot;) &amp;&amp;\r\n                                    !s.startsWith(&quot;org/ietf/jgss&quot;) &amp;&amp;\r\n                                    lastComponentIsUpperCase(s) &amp;&amp;\r\n                                    classNameMatcher.reset(s).matches() &amp;&amp;\r\n                                    !classes.contains(s)) {\r\n\r\n                                    // Found reference to a class name\r\n                                    // that isn&#39;t in this jar.\r\n                                    return Optional.of(s);\r\n                                }\r\n                                break;\r\n                            case CONSTANT_Integer:\r\n                                classFile.readInt();\r\n                                break;\r\n                            case CONSTANT_Float:\r\n                                classFile.readFloat();\r\n                                break;\r\n                            case CONSTANT_Long:\r\n                                classFile.readLong();\r\n                                i++;\r\n                                break;\r\n                            case CONSTANT_Double:\r\n                                classFile.readDouble();\r\n                                i++;\r\n                                break;\r\n                            case CONSTANT_Class:\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_String:\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_Fieldref:\r\n                                classFile.readShort();\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_Methodref:\r\n                                classFile.readShort();\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_InterfaceMethodref:\r\n                                classFile.readShort();\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_NameAndType:\r\n                                classFile.readShort();\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_MethodHandle:\r\n                                classFile.readByte();\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_MethodType:\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_Dynamic:\r\n                                classFile.readShort();\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_InvokeDynamic:\r\n                                classFile.readShort();\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_Module:\r\n                                classFile.readShort();\r\n                                break;\r\n                            case CONSTANT_Package:\r\n                                classFile.readShort();\r\n                                break;\r\n                            default:\r\n                                throw new IOException(\r\n                                    &quot;Unknown constant pool tag &quot; + tag);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return Optional.empty();\r\n    }\r\n\r\nThis is far from perfect;  strings like &quot;N/A&quot; and &quot;DES/ECB/NoPadding&quot; look like class names.  It could be refined by assuming package names are entirely lowercase, but… I’m pretty sure not every project adheres to that practice.\r\n","title":"Differentiating between a JAR and an uber-JAR","body":"<p>One way is to look at each .class file (their <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html\" rel=\"nofollow noreferrer\">format</a> isn’t actually all that complicated), and check for String constants which appear to be class names that aren’t in the .jar file.</p>\n<pre><code>private static final Pattern CLASS_NAME = Pattern.compile(\n    &quot;\\\\p{javaJavaIdentifierStart}\\\\p{javaJavaIdentifierPart}*&quot; +\n    &quot;(?:/\\\\p{javaJavaIdentifierStart}\\\\p{javaJavaIdentifierPart}*)+&quot;);\n\nprivate static final byte CONSTANT_Utf8 = 1;\nprivate static final byte CONSTANT_Integer = 3;\nprivate static final byte CONSTANT_Float = 4;\nprivate static final byte CONSTANT_Long = 5;\nprivate static final byte CONSTANT_Double = 6;\nprivate static final byte CONSTANT_Class = 7;\nprivate static final byte CONSTANT_String = 8;\nprivate static final byte CONSTANT_Fieldref = 9;\nprivate static final byte CONSTANT_Methodref = 10;\nprivate static final byte CONSTANT_InterfaceMethodref = 11;\nprivate static final byte CONSTANT_NameAndType = 12;\nprivate static final byte CONSTANT_MethodHandle = 15;\nprivate static final byte CONSTANT_MethodType = 16;\nprivate static final byte CONSTANT_Dynamic = 17;\nprivate static final byte CONSTANT_InvokeDynamic = 18;\nprivate static final byte CONSTANT_Module = 19;\nprivate static final byte CONSTANT_Package = 20;\n\nprivate static boolean lastComponentIsUpperCase(String s) {\n    int lastSlash = s.lastIndexOf('/');\n    return lastSlash &gt;= 0 &amp;&amp; lastSlash &lt; s.length() - 1 &amp;&amp;\n        Character.isUpperCase(s.charAt(lastSlash + 1));\n}\n\npublic Optional&lt;String&gt; findExternalClassReferenceIn(File file)\nthrows IOException {\n    try (JarFile jar =\n        new JarFile(file, false, JarFile.OPEN_READ, Runtime.version())) {\n\n        Set&lt;String&gt; classes = new HashSet&lt;&gt;();\n\n        Enumeration&lt;JarEntry&gt; entries;\n\n        entries = jar.entries();\n        while (entries.hasMoreElements()) {\n            JarEntry entry = entries.nextElement();\n            String name = entry.getRealName();\n            if (name.endsWith(&quot;.class&quot;)) {\n                classes.add(name.substring(0, name.length() - 6));\n            }\n        }\n\n        Matcher classNameMatcher = CLASS_NAME.matcher(&quot;&quot;);\n\n        entries = jar.entries();\n        while (entries.hasMoreElements()) {\n            JarEntry entry = entries.nextElement();\n            String name = entry.getRealName();\n            if (!name.endsWith(&quot;.class&quot;)) {\n                continue;\n            }\n\n            try (DataInputStream classFile = new DataInputStream(\n                new BufferedInputStream(\n                    jar.getInputStream(entry)))) {\n\n                int magic = classFile.readInt();\n                short minorVersion = classFile.readShort();\n                short majorVersion = classFile.readShort();\n                int constantPoolSize = classFile.readShort() - 1;\n                for (int i = 1; i &lt;= constantPoolSize; i++) {\n                    byte tag = classFile.readByte();\n                    switch (tag) {\n                        case CONSTANT_Utf8:\n                            String s = classFile.readUTF();\n                            if (!s.startsWith(&quot;java&quot;) &amp;&amp;\n                                !s.startsWith(&quot;com/sun/&quot;) &amp;&amp;\n                                !s.startsWith(&quot;jdk/&quot;) &amp;&amp;\n                                !s.startsWith(&quot;org/w3c/&quot;) &amp;&amp;\n                                !s.startsWith(&quot;org/xml/&quot;) &amp;&amp;\n                                !s.startsWith(&quot;org/ietf/jgss&quot;) &amp;&amp;\n                                lastComponentIsUpperCase(s) &amp;&amp;\n                                classNameMatcher.reset(s).matches() &amp;&amp;\n                                !classes.contains(s)) {\n\n                                // Found reference to a class name\n                                // that isn't in this jar.\n                                return Optional.of(s);\n                            }\n                            break;\n                        case CONSTANT_Integer:\n                            classFile.readInt();\n                            break;\n                        case CONSTANT_Float:\n                            classFile.readFloat();\n                            break;\n                        case CONSTANT_Long:\n                            classFile.readLong();\n                            i++;\n                            break;\n                        case CONSTANT_Double:\n                            classFile.readDouble();\n                            i++;\n                            break;\n                        case CONSTANT_Class:\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_String:\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_Fieldref:\n                            classFile.readShort();\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_Methodref:\n                            classFile.readShort();\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_InterfaceMethodref:\n                            classFile.readShort();\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_NameAndType:\n                            classFile.readShort();\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_MethodHandle:\n                            classFile.readByte();\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_MethodType:\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_Dynamic:\n                            classFile.readShort();\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_InvokeDynamic:\n                            classFile.readShort();\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_Module:\n                            classFile.readShort();\n                            break;\n                        case CONSTANT_Package:\n                            classFile.readShort();\n                            break;\n                        default:\n                            throw new IOException(\n                                &quot;Unknown constant pool tag &quot; + tag);\n                    }\n                }\n            }\n        }\n    }\n\n    return Optional.empty();\n}\n</code></pre>\n<p>This is far from perfect;  strings like &quot;N/A&quot; and &quot;DES/ECB/NoPadding&quot; look like class names.  It could be refined by assuming package names are entirely lowercase, but… I’m pretty sure not every project adheres to that practice.</p>\n"}],"owner":{"account_id":4730166,"reputation":301,"user_id":3826046,"accept_rate":80,"display_name":"Cornul11"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685398078,"creation_date":1685376466,"question_id":76358802,"body_markdown":"I am currently developing a tool that attempts to infer whether a given JAR file is an uber-JAR or a normal JAR.\r\n\r\nAmong many other heuristics and checks that I am making to determine the &quot;uberness&quot; of a JAR, the one that is currently not very reliable is the one that checks whether in the root level of the JAR, other than the `META-INF` folder, there is only one folder that contains `.class` files.\r\n\r\nFor example, for the `ch.qos.logback:logback-classic:1.1.3` library, the root level structure looks the following way:\r\n&gt; META-INF/\r\n&gt; \r\n&gt; ch/\r\n&gt;\r\n&gt; org/\r\n\r\nThe `org/` folder containing `slf4j` components is probably needed for this specific version of `logback-classic`. Later versions, such as 1.4.0, only contain one root-level folder that has `.class` files inside.\r\n\r\nAnother similar situation occurs with the `junit:junit:4.13.1` library. This one has the following root-level folder structure:\r\n&gt; META-INF/\r\n&gt; \r\n&gt; junit/\r\n&gt;\r\n&gt; org/\r\n\r\nIn this case, the `org/` folder contains a sub-folder `junit/` as well, thus those classes are also part of the actual implementation of junit, only having a different package prefix. Although it is not an uber-JAR, my current methodology would flag it as one.\r\n\r\nI am looking for a better heuristic that can effectively differentiate between normal JARs and uber-JARs. Any suggestions or improvements to my current approach would be greatly appreciated.\r\n\r\n","title":"Differentiating between a JAR and an uber-JAR","body":"<p>I am currently developing a tool that attempts to infer whether a given JAR file is an uber-JAR or a normal JAR.</p>\n<p>Among many other heuristics and checks that I am making to determine the &quot;uberness&quot; of a JAR, the one that is currently not very reliable is the one that checks whether in the root level of the JAR, other than the <code>META-INF</code> folder, there is only one folder that contains <code>.class</code> files.</p>\n<p>For example, for the <code>ch.qos.logback:logback-classic:1.1.3</code> library, the root level structure looks the following way:</p>\n<blockquote>\n<p>META-INF/</p>\n<p>ch/</p>\n<p>org/</p>\n</blockquote>\n<p>The <code>org/</code> folder containing <code>slf4j</code> components is probably needed for this specific version of <code>logback-classic</code>. Later versions, such as 1.4.0, only contain one root-level folder that has <code>.class</code> files inside.</p>\n<p>Another similar situation occurs with the <code>junit:junit:4.13.1</code> library. This one has the following root-level folder structure:</p>\n<blockquote>\n<p>META-INF/</p>\n<p>junit/</p>\n<p>org/</p>\n</blockquote>\n<p>In this case, the <code>org/</code> folder contains a sub-folder <code>junit/</code> as well, thus those classes are also part of the actual implementation of junit, only having a different package prefix. Although it is not an uber-JAR, my current methodology would flag it as one.</p>\n<p>I am looking for a better heuristic that can effectively differentiate between normal JARs and uber-JARs. Any suggestions or improvements to my current approach would be greatly appreciated.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":24354665,"reputation":119,"user_id":18290052,"display_name":"Moussa ELaQ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685397563,"creation_date":1685397563,"answer_id":76360527,"question_id":76359983,"body_markdown":"To achieve the same behavior as bufferTimeout(maxSize, duration) using windowTimeout(maxSize, duration) and concatMap(), you can modify your code as follows:\r\n\r\n```java\r\nflux.windowTimeout(maxSize, duration)\r\n    .concatMap(f -&gt; f.collectList())\r\n```\r\nExplanation:\r\n\r\n* **windowTimeout(maxSize, duration)** will create windows of elements based on the specified **maxSize** and **duration**.\r\n* **concatMap()** will subscribe to each window as a separate Flux and emit their elements sequentially.\r\n* By calling **collectList()** on each window Flux, you can transform each window into a single List emission, which will be equivalent to the behavior of **bufferTimeout(maxSize, duration)**.\r\n* This modification ensures that instead of emitting individual elements, you receive a **Flux&lt;List&gt;** containing the buffered elements after the specified **maxSize** or **duration**.\r\n\r\nPlease note that in this approach, each emitted List will contain the elements collected within the specified window, which may differ from the behavior of **bufferTimeout(maxSize, duration)** if the source Flux emits elements irregularly.\r\n\r\nLet me know if you need further assistance!\r\n","title":"Spring webflux convert flux.bufferTimeout(maxSize, duration) which gives Flux&lt;List&lt;T&gt;&gt; to flux.windowTimeout(maxSize, duration).concatMap()","body":"<p>To achieve the same behavior as bufferTimeout(maxSize, duration) using windowTimeout(maxSize, duration) and concatMap(), you can modify your code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>flux.windowTimeout(maxSize, duration)\n    .concatMap(f -&gt; f.collectList())\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li><strong>windowTimeout(maxSize, duration)</strong> will create windows of elements based on the specified <strong>maxSize</strong> and <strong>duration</strong>.</li>\n<li><strong>concatMap()</strong> will subscribe to each window as a separate Flux and emit their elements sequentially.</li>\n<li>By calling <strong>collectList()</strong> on each window Flux, you can transform each window into a single List emission, which will be equivalent to the behavior of <strong>bufferTimeout(maxSize, duration)</strong>.</li>\n<li>This modification ensures that instead of emitting individual elements, you receive a <strong>Flux</strong> containing the buffered elements after the specified <strong>maxSize</strong> or <strong>duration</strong>.</li>\n</ul>\n<p>Please note that in this approach, each emitted List will contain the elements collected within the specified window, which may differ from the behavior of <strong>bufferTimeout(maxSize, duration)</strong> if the source Flux emits elements irregularly.</p>\n<p>Let me know if you need further assistance!</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76360527,"answer_count":1,"score":0,"last_activity_date":1685397563,"creation_date":1685389624,"question_id":76359983,"body_markdown":"*What I am trying to achieve:*\r\n\r\nSpring webflux and reactor offer a ```.bufferTimeout(maxSize, duration)``` operator, which gives a Flux&lt;List&lt;T&gt;&gt; on a Flux&lt;T&gt;\r\n\r\nI am trying to achieve the same, not by using ```.bufferTimeout(maxSize, duration)```, but using ```flux.windowTimeout(maxSize, duration).concatMap() ```\r\n\r\n*What did I try:*\r\n\r\nI tried using concatMap as follow: ```flux.windowTimeout(maxSize, duration).concatMap(f -&gt; f) ```\r\n\r\n*Issue:*\r\n\r\nWith the above code, I am getting a T, but I would like to get the same as buffer time out.\r\n\r\n*Question:*\r\n\r\nWhat is the correct combination of windowTimeout + concatMap which is equivalent to buffer time out?","title":"Spring webflux convert flux.bufferTimeout(maxSize, duration) which gives Flux&lt;List&lt;T&gt;&gt; to flux.windowTimeout(maxSize, duration).concatMap()","body":"<p><em>What I am trying to achieve:</em></p>\n<p>Spring webflux and reactor offer a <code>.bufferTimeout(maxSize, duration)</code> operator, which gives a Flux&lt;List&gt; on a Flux</p>\n<p>I am trying to achieve the same, not by using <code>.bufferTimeout(maxSize, duration)</code>, but using <code>flux.windowTimeout(maxSize, duration).concatMap() </code></p>\n<p><em>What did I try:</em></p>\n<p>I tried using concatMap as follow: <code>flux.windowTimeout(maxSize, duration).concatMap(f -&gt; f) </code></p>\n<p><em>Issue:</em></p>\n<p>With the above code, I am getting a T, but I would like to get the same as buffer time out.</p>\n<p><em>Question:</em></p>\n<p>What is the correct combination of windowTimeout + concatMap which is equivalent to buffer time out?</p>\n"},{"tags":["java","debugging","boolean"],"comments":[{"owner":{"account_id":21396835,"reputation":11,"user_id":15759762,"display_name":"BeGood"},"score":0,"creation_date":1685338442,"post_id":76354879,"comment_id":134642372,"body_markdown":"And Please don&#39;t be mad about my bad english...","body":"And Please don&#39;t be mad about my bad english..."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685338450,"post_id":76354879,"comment_id":134642373,"body_markdown":"Please provide a [mcve] and [don&#39;t post images of code](//meta.stackoverflow.com/q/285551).","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"//meta.stackoverflow.com/q/285551\">don&#39;t post images of code</a>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1685338613,"post_id":76354879,"comment_id":134642388,"body_markdown":"Why is `isTailWhiteSpace` a static variable? What is `currentChar` when the class is initialized? I&#39;m guessing you&#39;re assigning it too early. It should probably be a local variable or a method.","body":"Why is <code>isTailWhiteSpace</code> a static variable? What is <code>currentChar</code> when the class is initialized? I&#39;m guessing you&#39;re assigning it too early. It should probably be a local variable or a method."},{"owner":{"account_id":21396835,"reputation":11,"user_id":15759762,"display_name":"BeGood"},"score":0,"creation_date":1685339969,"post_id":76354879,"comment_id":134642512,"body_markdown":"@shmosel I made `isTailWhiteSpace` static but private because I have to use that on static method. I wanted use isTailWhiteSpace as variable, so It would be better for if condition readability. And There is no constructor. Sorry for my writing. I added reproducible code. Please check that code. Thank you.","body":"@shmosel I made <code>isTailWhiteSpace</code> static but private because I have to use that on static method. I wanted use isTailWhiteSpace as variable, so It would be better for if condition readability. And There is no constructor. Sorry for my writing. I added reproducible code. Please check that code. Thank you."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685341318,"post_id":76354879,"comment_id":134642658,"body_markdown":"Your static field is not going to be reevaluated as `currentChar` changes. You need to assign it manually. And there&#39;s no point in making it a field if it&#39;s only accessed by one method.","body":"Your static field is not going to be reevaluated as <code>currentChar</code> changes. You need to assign it manually. And there&#39;s no point in making it a field if it&#39;s only accessed by one method."},{"owner":{"account_id":21396835,"reputation":11,"user_id":15759762,"display_name":"BeGood"},"score":0,"creation_date":1685341600,"post_id":76354879,"comment_id":134642694,"body_markdown":"@shmosel Thank you, Then It would be better to use `isTailWhiteSpace` as function not variable?\nAnd I think when using if statement it is better to write \n`if(isTailWhiteSpace)`\nthan\n`if(Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty())`\nfor readability.\nEven though it is only going to be used only once. Isn&#39;t it?","body":"@shmosel Thank you, Then It would be better to use <code>isTailWhiteSpace</code> as function not variable? And I think when using if statement it is better to write  <code>if(isTailWhiteSpace)</code> than <code>if(Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty())</code> for readability. Even though it is only going to be used only once. Isn&#39;t it?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685341810,"post_id":76354879,"comment_id":134642718,"body_markdown":"If you do, `currentChar` should be declared locally and passed as argument. Or just make them both local variables.","body":"If you do, <code>currentChar</code> should be declared locally and passed as argument. Or just make them both local variables."},{"owner":{"account_id":21396835,"reputation":11,"user_id":15759762,"display_name":"BeGood"},"score":0,"creation_date":1685342281,"post_id":76354879,"comment_id":134642779,"body_markdown":"@shmosel Thank you for advice, Can you give a reference for specific reason? I want to change my style but I need reason and example for that. That would be very very thankful.","body":"@shmosel Thank you for advice, Can you give a reference for specific reason? I want to change my style but I need reason and example for that. That would be very very thankful."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685344648,"post_id":76354879,"comment_id":134643068,"body_markdown":"By the way, if your goal is actually to parse source code, there are sophisticated tools to perform this grunt work. For example: [JavaParser](https://javaparser.org/) and [ANTLR](https://en.wikipedia.org/wiki/ANTLR).","body":"By the way, if your goal is actually to parse source code, there are sophisticated tools to perform this grunt work. For example: <a href=\"https://javaparser.org/\" rel=\"nofollow noreferrer\">JavaParser</a> and <a href=\"https://en.wikipedia.org/wiki/ANTLR\" rel=\"nofollow noreferrer\">ANTLR</a>."},{"owner":{"account_id":21396835,"reputation":11,"user_id":15759762,"display_name":"BeGood"},"score":0,"creation_date":1685346307,"post_id":76354879,"comment_id":134643298,"body_markdown":"@BasilBourque I&#39;m just practicing projects in the book &#39;nand2tetris&#39;. Thank you though.","body":"@BasilBourque I&#39;m just practicing projects in the book &#39;nand2tetris&#39;. Thank you though."}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685343853,"creation_date":1685340217,"answer_id":76354990,"question_id":76354879,"body_markdown":"After the initial initialization, you did not dynamically refresh the value of `isTailWhiteSpace` in the code\r\n\r\n    private static boolean isTailWhiteSpace = Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\r\n\r\n    isTailWhiteSpace = true &amp;&amp; false;\r\n\r\nCan you understand this code：\r\n\r\n    String a = &quot;&quot;;\r\n    boolean b = true &amp;&amp; a.isEmpty();\r\n    a = &quot;abc&quot;;\r\n    System.out.println(b); // I think, although the value of a has changed, but b is still true\r\n\r\n\r\nYou need to recalculate the value of `isTailWhiteSpace` whenever `tempWord` changes. If I give a and b as an example, it should be like this:\r\n\r\n    String a = &quot;&quot;;\r\n    boolean b = true &amp;&amp; a.isEmpty();\r\n    System.out.println(b); // b is true\r\n    a = &quot;abc&quot;;\r\n    System.out.println(b); // I think, although the value of a has changed, but b is still true\r\n    b = true &amp;&amp; a.isEmpty();\r\n    System.out.println(b); // now, b is false\r\n    \r\n\r\n\r\nIn you code:\r\n\r\n    if(isTailWhiteSpace){\r\n        tokenizedLine.add(tempWord);\r\n        tempWord = &quot;&quot;;\r\n        // here, tempWord changed, you need to recalculate\r\n    }else if(!isSymbol){\r\n        tempWord += currentChar;\r\n        // here, tempWord changed, you need to recalculate\r\n    }else{\r\n        System.out.println(&quot;else&quot;);\r\n    }\r\n\r\nWorking, don&#39;t have much time, you can handle the details yourself, or you can extract a method to calculate `isTailWhiteSpace`","title":"Value of Boolean changes when assign to variable - java","body":"<p>After the initial initialization, you did not dynamically refresh the value of <code>isTailWhiteSpace</code> in the code</p>\n<pre><code>private static boolean isTailWhiteSpace = Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\n\nisTailWhiteSpace = true &amp;&amp; false;\n</code></pre>\n<p>Can you understand this code：</p>\n<pre><code>String a = &quot;&quot;;\nboolean b = true &amp;&amp; a.isEmpty();\na = &quot;abc&quot;;\nSystem.out.println(b); // I think, although the value of a has changed, but b is still true\n</code></pre>\n<p>You need to recalculate the value of <code>isTailWhiteSpace</code> whenever <code>tempWord</code> changes. If I give a and b as an example, it should be like this:</p>\n<pre><code>String a = &quot;&quot;;\nboolean b = true &amp;&amp; a.isEmpty();\nSystem.out.println(b); // b is true\na = &quot;abc&quot;;\nSystem.out.println(b); // I think, although the value of a has changed, but b is still true\nb = true &amp;&amp; a.isEmpty();\nSystem.out.println(b); // now, b is false\n</code></pre>\n<p>In you code:</p>\n<pre><code>if(isTailWhiteSpace){\n    tokenizedLine.add(tempWord);\n    tempWord = &quot;&quot;;\n    // here, tempWord changed, you need to recalculate\n}else if(!isSymbol){\n    tempWord += currentChar;\n    // here, tempWord changed, you need to recalculate\n}else{\n    System.out.println(&quot;else&quot;);\n}\n</code></pre>\n<p>Working, don't have much time, you can handle the details yourself, or you can extract a method to calculate <code>isTailWhiteSpace</code></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685396789,"creation_date":1685396138,"answer_id":76360441,"question_id":76354879,"body_markdown":"The concept you are looking for is a procedure, and not an assignment.\r\n\r\nFor example, you&#39;re assigning the variable as follows.\r\n\r\n```java\r\nprivate static boolean isTailWhiteSpace = \r\n    Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\r\n```\r\n\r\nI imagine, you are presuming that whenever you call _isTailWhiteSpace_, that it will run the assignment statement.  \r\nIn other words, _currentChar_ would be a different value.\r\n\r\nWhat you&#39;re looking for here is a procedure, which Java refers to as _[methods](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_.\r\n\r\n```java\r\nprivate static boolean isTailWhiteSpace() {\r\n    return Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\r\n}\r\n```\r\n\r\nFurthermore, the conditional statement can be reduced.  \r\nIf the `Character.isWhitespace(currentChar)` expression returns true, then `!tempWord.isEmpty()` will, hence, be true.\r\n\r\n\r\nThe _[String#isEmpty](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isEmpty())_ method is just a quicker way of typing `string.length == 0`.  \r\nIn fact, if you review the source-code for _[isEmpty](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L1531)_ you&#39;ll find that, that is the exact statement it executes.\r\n\r\n```java\r\n@Override\r\npublic boolean isEmpty() {\r\n    return value.length == 0;\r\n}\r\n```\r\n\r\nSimilarly, your _isSymbol_ statement will not execute its assignment when it is resolved within the code.  \r\nYou&#39;ll have to change this to a method, as well.\r\n\r\n```java\r\nprivate static boolean isSymbol() {\r\n    return symbolList.contains(currentChar);\r\n}\r\n```\r\n\r\nSince there are now methods, make sure to append the opening and closing parentheses on their usages.\r\n\r\nFinally, to derive a list that also contains a _symbols_ character, you&#39;ll need a new _else-if_ conditional within your for-loop.\r\n\r\nI am not sure where you require the _println_ for _&quot;else&quot;_, so I added it to the appending block.\r\n\r\n```java\r\nfor(char c : line.toCharArray()){\r\n    currentChar = c;\r\n    if(isTailWhiteSpace()) {\r\n        tokenizedLine.add(tempWord);\r\n        tempWord = &quot;&quot;;\r\n    } else if (isSymbol()) {\r\n        tokenizedLine.add(String.valueOf(currentChar));\r\n    }else {\r\n        System.out.println(&quot;else&quot;);\r\n        tempWord += currentChar;\r\n    }\r\n}\r\n```\r\n\r\nSo, altogether, your code would be as follows.\r\n\r\n```java\r\nprivate static String tempWord = &quot;&quot;;\r\nprivate static char currentChar;\r\n\r\nprivate static boolean isTailWhiteSpace() {\r\n    return Character.isWhitespace(currentChar);\r\n}\r\n\r\n//Just for symbol checking\r\nprivate static final Character[] symbols = {\r\n    &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, &#39;.&#39;, &#39;,&#39;, &#39;;&#39;, &#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;, &#39;|&#39;, &#39;&amp;&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;, &#39;=&#39;, &#39;~&#39;\r\n};\r\nprivate static final ArrayList&lt;Character&gt; symbolList = new ArrayList&lt;&gt;(Arrays.asList(symbols));\r\n\r\nprivate static boolean isSymbol() {\r\n    return symbolList.contains(currentChar);\r\n}\r\n\r\npublic static ArrayList&lt;String&gt; tokenize(String line){\r\n    ArrayList&lt;String&gt; tokenizedLine = new ArrayList&lt;&gt;();\r\n\r\n    for(char c : line.toCharArray()){\r\n        currentChar = c;\r\n        if(isTailWhiteSpace()) {\r\n            tokenizedLine.add(tempWord);\r\n            tempWord = &quot;&quot;;\r\n        } else if (isSymbol()) {\r\n            tokenizedLine.add(String.valueOf(currentChar));\r\n        }else {\r\n            System.out.println(&quot;else&quot;);\r\n            tempWord += currentChar;\r\n        }\r\n    }\r\n\r\n    return tokenizedLine;\r\n}\r\n\r\npublic static void main(String[] args){\r\n    String sampleLine = &quot;class Main {&quot;;\r\n\r\n    System.out.println(BooleanDemo.tokenize(sampleLine));\r\n    //Expected Result = [&quot;class&quot;, &quot;Main&quot;, &quot;{&quot;]\r\n}\r\n```\r\n\r\nThis will yield the following output.\r\n\r\n```none\r\nelse\r\nelse\r\nelse\r\nelse\r\nelse\r\nelse\r\nelse\r\nelse\r\nelse\r\n[class, Main, {]\r\n```","title":"Value of Boolean changes when assign to variable - java","body":"<p>The concept you are looking for is a procedure, and not an assignment.</p>\n<p>For example, you're assigning the variable as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isTailWhiteSpace = \n    Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\n</code></pre>\n<p>I imagine, you are presuming that whenever you call <em>isTailWhiteSpace</em>, that it will run the assignment statement.<br />\nIn other words, <em>currentChar</em> would be a different value.</p>\n<p>What you're looking for here is a procedure, which Java refers to as <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">methods</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isTailWhiteSpace() {\n    return Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\n}\n</code></pre>\n<p>Furthermore, the conditional statement can be reduced.<br />\nIf the <code>Character.isWhitespace(currentChar)</code> expression returns true, then <code>!tempWord.isEmpty()</code> will, hence, be true.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isEmpty()\" rel=\"nofollow noreferrer\">String#isEmpty</a></em> method is just a quicker way of typing <code>string.length == 0</code>.<br />\nIn fact, if you review the source-code for <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L1531\" rel=\"nofollow noreferrer\">isEmpty</a></em> you'll find that, that is the exact statement it executes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean isEmpty() {\n    return value.length == 0;\n}\n</code></pre>\n<p>Similarly, your <em>isSymbol</em> statement will not execute its assignment when it is resolved within the code.<br />\nYou'll have to change this to a method, as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isSymbol() {\n    return symbolList.contains(currentChar);\n}\n</code></pre>\n<p>Since there are now methods, make sure to append the opening and closing parentheses on their usages.</p>\n<p>Finally, to derive a list that also contains a <em>symbols</em> character, you'll need a new <em>else-if</em> conditional within your for-loop.</p>\n<p>I am not sure where you require the <em>println</em> for <em>&quot;else&quot;</em>, so I added it to the appending block.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(char c : line.toCharArray()){\n    currentChar = c;\n    if(isTailWhiteSpace()) {\n        tokenizedLine.add(tempWord);\n        tempWord = &quot;&quot;;\n    } else if (isSymbol()) {\n        tokenizedLine.add(String.valueOf(currentChar));\n    }else {\n        System.out.println(&quot;else&quot;);\n        tempWord += currentChar;\n    }\n}\n</code></pre>\n<p>So, altogether, your code would be as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String tempWord = &quot;&quot;;\nprivate static char currentChar;\n\nprivate static boolean isTailWhiteSpace() {\n    return Character.isWhitespace(currentChar);\n}\n\n//Just for symbol checking\nprivate static final Character[] symbols = {\n    '(', ')', '{', '}', '[', ']', '.', ',', ';', '+', '-', '*', '/', '|', '&amp;', '&lt;', '&gt;', '=', '~'\n};\nprivate static final ArrayList&lt;Character&gt; symbolList = new ArrayList&lt;&gt;(Arrays.asList(symbols));\n\nprivate static boolean isSymbol() {\n    return symbolList.contains(currentChar);\n}\n\npublic static ArrayList&lt;String&gt; tokenize(String line){\n    ArrayList&lt;String&gt; tokenizedLine = new ArrayList&lt;&gt;();\n\n    for(char c : line.toCharArray()){\n        currentChar = c;\n        if(isTailWhiteSpace()) {\n            tokenizedLine.add(tempWord);\n            tempWord = &quot;&quot;;\n        } else if (isSymbol()) {\n            tokenizedLine.add(String.valueOf(currentChar));\n        }else {\n            System.out.println(&quot;else&quot;);\n            tempWord += currentChar;\n        }\n    }\n\n    return tokenizedLine;\n}\n\npublic static void main(String[] args){\n    String sampleLine = &quot;class Main {&quot;;\n\n    System.out.println(BooleanDemo.tokenize(sampleLine));\n    //Expected Result = [&quot;class&quot;, &quot;Main&quot;, &quot;{&quot;]\n}\n</code></pre>\n<p>This will yield the following output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>else\nelse\nelse\nelse\nelse\nelse\nelse\nelse\nelse\n[class, Main, {]\n</code></pre>\n"}],"owner":{"account_id":21396835,"reputation":11,"user_id":15759762,"display_name":"BeGood"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685396789,"creation_date":1685338393,"question_id":76354879,"body_markdown":"I&#39;m doing tokenize the line(String).\r\n\r\nI have to tokenize literally this line.\r\n\r\n```class Main {```  into `[ &quot;class&quot; , &quot;Main&quot;, &quot;{&quot; ]`\r\n\r\nThe progress is like there are conditions I variablized like `boolean conditionA  = (isSpace &amp;&amp; isSymbol)` .\r\n\r\nand In the for loop I inspect a character of the line. In example above, like inspect `c` and `l` and `a` .. so on.\r\n\r\nAnd Here is problem.\r\n\r\nI made a boolean variable \r\n\r\n```\r\nprivate static boolean isTailWhiteSpace = \r\nCharacter.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\r\n```\r\n\r\n`Character.isWhitespace(currentChar)` in `currentChar` is a space right next to `class` in `class Main {` \r\n\r\nBecause currentChar is now holding a space value, so isWhiteSpace is true.\r\n\r\n`!tempWord.isEmpty()` in `tempWord` is a `class` so `tempWord` holds `&quot;class&quot;` .\r\n\r\nAlso, tempWord is now holding `&quot;class&quot;` so the value is `!false` . So `true` .\r\n\r\nI expected their value to be `true &amp;&amp; true` . So the variable holds these result also `true`.\r\n\r\nBut It didn&#39;t work like I expected.\r\n\r\nBecause I didn&#39;t believe my self over computer, So I checked debugger.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/vdAKA.png)](https://i.stack.imgur.com/vdAKA.png)\r\n\r\nAnd declaration of isTailwhiteSpace .\r\n\r\n[![enter image description here](https://i.stack.imgur.com/KfQbC.png)](https://i.stack.imgur.com/KfQbC.png)\r\n\r\nHow can isTailWhiteSpace be false?\r\n\r\nI also checked the possible side effects, But the isTailWhiteSpace is only used once and never redeclared.\r\n\r\nAnd for more information, This is usage of above code if statement,\r\n\r\n```\r\nelse if(isTailWhiteSpace){\r\n    tokenizedLine.add(tempWord);\r\n    tempWord = &quot;&quot;;\r\n}\r\n```\r\n\r\nHere is reproducible code.\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nclass BooleanDemo {\r\n    private static String tempWord = &quot;&quot;;\r\n    private static char currentChar;\r\n    private static boolean isTailWhiteSpace = Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\r\n\r\n    //Just for symbol checking\r\n    private static final Character[] symbols = {\r\n            &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, &#39;.&#39;, &#39;,&#39;, &#39;;&#39;, &#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;, &#39;|&#39;, &#39;&amp;&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;, &#39;=&#39;, &#39;~&#39;\r\n    };\r\n    private static final ArrayList&lt;Character&gt; symbolList = new ArrayList&lt;&gt;(Arrays.asList(symbols));\r\n    private static boolean isSymbol = symbolList.contains(currentChar);\r\n\r\n    public static ArrayList&lt;String&gt; tokenize(String line){\r\n        ArrayList&lt;String&gt; tokenizedLine = new ArrayList&lt;&gt;();\r\n\r\n        for(char c : line.toCharArray()){\r\n            currentChar = c;\r\n            if(isTailWhiteSpace){\r\n                tokenizedLine.add(tempWord);\r\n                tempWord = &quot;&quot;;\r\n            }else if(!isSymbol){\r\n                tempWord += currentChar;\r\n            }else{\r\n                System.out.println(&quot;else&quot;);\r\n            }\r\n        }\r\n        \r\n        return tokenizedLine;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        String sampleLine = &quot;class Main {&quot;;\r\n\r\n        System.out.println(BooleanDemo.tokenize(sampleLine));\r\n        //Expected Result = [&quot;class&quot;, &quot;Main&quot;, &quot;{&quot;]\r\n    }\r\n}\r\n```","title":"Value of Boolean changes when assign to variable - java","body":"<p>I'm doing tokenize the line(String).</p>\n<p>I have to tokenize literally this line.</p>\n<p><code>class Main {</code>  into <code>[ &quot;class&quot; , &quot;Main&quot;, &quot;{&quot; ]</code></p>\n<p>The progress is like there are conditions I variablized like <code>boolean conditionA  = (isSpace &amp;&amp; isSymbol)</code> .</p>\n<p>and In the for loop I inspect a character of the line. In example above, like inspect <code>c</code> and <code>l</code> and <code>a</code> .. so on.</p>\n<p>And Here is problem.</p>\n<p>I made a boolean variable</p>\n<pre><code>private static boolean isTailWhiteSpace = \nCharacter.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\n</code></pre>\n<p><code>Character.isWhitespace(currentChar)</code> in <code>currentChar</code> is a space right next to <code>class</code> in <code>class Main {</code></p>\n<p>Because currentChar is now holding a space value, so isWhiteSpace is true.</p>\n<p><code>!tempWord.isEmpty()</code> in <code>tempWord</code> is a <code>class</code> so <code>tempWord</code> holds <code>&quot;class&quot;</code> .</p>\n<p>Also, tempWord is now holding <code>&quot;class&quot;</code> so the value is <code>!false</code> . So <code>true</code> .</p>\n<p>I expected their value to be <code>true &amp;&amp; true</code> . So the variable holds these result also <code>true</code>.</p>\n<p>But It didn't work like I expected.</p>\n<p>Because I didn't believe my self over computer, So I checked debugger.</p>\n<p><a href=\"https://i.stack.imgur.com/vdAKA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdAKA.png\" alt=\"enter image description here\" /></a></p>\n<p>And declaration of isTailwhiteSpace .</p>\n<p><a href=\"https://i.stack.imgur.com/KfQbC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KfQbC.png\" alt=\"enter image description here\" /></a></p>\n<p>How can isTailWhiteSpace be false?</p>\n<p>I also checked the possible side effects, But the isTailWhiteSpace is only used once and never redeclared.</p>\n<p>And for more information, This is usage of above code if statement,</p>\n<pre><code>else if(isTailWhiteSpace){\n    tokenizedLine.add(tempWord);\n    tempWord = &quot;&quot;;\n}\n</code></pre>\n<p>Here is reproducible code.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\nclass BooleanDemo {\n    private static String tempWord = &quot;&quot;;\n    private static char currentChar;\n    private static boolean isTailWhiteSpace = Character.isWhitespace(currentChar) &amp;&amp; !tempWord.isEmpty();\n\n    //Just for symbol checking\n    private static final Character[] symbols = {\n            '(', ')', '{', '}', '[', ']', '.', ',', ';', '+', '-', '*', '/', '|', '&amp;', '&lt;', '&gt;', '=', '~'\n    };\n    private static final ArrayList&lt;Character&gt; symbolList = new ArrayList&lt;&gt;(Arrays.asList(symbols));\n    private static boolean isSymbol = symbolList.contains(currentChar);\n\n    public static ArrayList&lt;String&gt; tokenize(String line){\n        ArrayList&lt;String&gt; tokenizedLine = new ArrayList&lt;&gt;();\n\n        for(char c : line.toCharArray()){\n            currentChar = c;\n            if(isTailWhiteSpace){\n                tokenizedLine.add(tempWord);\n                tempWord = &quot;&quot;;\n            }else if(!isSymbol){\n                tempWord += currentChar;\n            }else{\n                System.out.println(&quot;else&quot;);\n            }\n        }\n        \n        return tokenizedLine;\n    }\n\n    public static void main(String[] args){\n        String sampleLine = &quot;class Main {&quot;;\n\n        System.out.println(BooleanDemo.tokenize(sampleLine));\n        //Expected Result = [&quot;class&quot;, &quot;Main&quot;, &quot;{&quot;]\n    }\n}\n</code></pre>\n"},{"tags":["java","android","service","broadcastreceiver"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685382123,"post_id":76357087,"comment_id":134649244,"body_markdown":"Strip down both your prose and your code to the absolute *minimum* needed to show your issue.","body":"Strip down both your prose and your code to the absolute <i>minimum</i> needed to show your issue."},{"owner":{"account_id":26729869,"reputation":1,"user_id":20332422,"display_name":"Marie"},"score":0,"creation_date":1685396163,"post_id":76357087,"comment_id":134651144,"body_markdown":"@BasilBourque I just edited it to reduce what I think may be unnecessary (anything related to the count of unlock events since the problem isn&#39;t there)","body":"@BasilBourque I just edited it to reduce what I think may be unnecessary (anything related to the count of unlock events since the problem isn&#39;t there)"}],"owner":{"account_id":26729869,"reputation":1,"user_id":20332422,"display_name":"Marie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685396047,"creation_date":1685360805,"question_id":76357087,"body_markdown":"I am making a digital health app. I want it to count the unlock events and display the usage time. I was able to display the count the unlock events using a Receiver and a Service. I tried the same thing for the usage time, only that here, rather than incrementing a variable, each time the screen is turned on, it keeps the current time in a variable, and when the screen is turned off, it subtracts that variable from this moment current time. However, it doesn&#39;t seem to work.\r\nMy app is in french, so the Text View that should display the usage time is initialized to &quot;0h et 0min&quot;. \r\nHowever, to display it on the screen, I have used this type of format: 00:00:00\r\n\r\n**The problem**: When I run my code, the value is changed to 00:00:00 and then nothing happens. Even after using the phone for quite some time, it still at 00:00:00. \r\n\r\nI tried to see where the problem could come from, but after a few trials and no change whatsoever, here I am.\r\nHere is my activity, called UserPageActivity:\r\n\r\n```java\r\n\r\npublic class UserPageActivity extends AppCompatActivity {\r\n    private static final int PERMISSION_REQUEST_CODE=123;\r\n    private deverouillageReceiver devReceiver;\r\n    private TempsUseReceiver tempsUseReceiver;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        //super and view binding here \r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECEIVE_BOOT_COMPLETED)\r\n              != PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.RECEIVE_BOOT_COMPLETED},\r\n                    PERMISSION_REQUEST_CODE);\r\n        } else {\r\n            registerTempsUseReceiver();\r\n        }\r\n        startTempsUseService();\r\n        \r\n    }\r\n    private void registerTempsUseReceiver(){\r\n        tempsUseReceiver =new TempsUseReceiver();\r\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_ON));\r\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_OFF));\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permission, int[] grantResult) {\r\n        super.onRequestPermissionsResult(requestCode, permission, grantResult);\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (grantResult.length &gt; 0 &amp;&amp; grantResult[0] == PackageManager.PERMISSION_GRANTED) {\r\n                registerUnlockReceiver();\r\n                registerTempsUseReceiver();\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        BroadcastReceiver updateTotalTimeReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                if (intent.getAction().equals(&quot;com.example.digitalbalance1.STOP_TIME&quot;)) {\r\n                    long totalTime = intent.getLongExtra(&quot;totalTime&quot;, 0);\r\n                    updateTotalTimeTextView(totalTime);\r\n                }\r\n            }\r\n        };\r\n        IntentFilter updateTotalTimeFilter = new IntentFilter(&quot;com.example.digitalbalance1.UPDATE_TOTAL_TIME&quot;);\r\n        registerReceiver(updateTotalTimeReceiver, updateTotalTimeFilter);\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        unregisterReceiver(tempsUseReceiver);\r\n    }\r\n    \r\n    private void updateTotalTimeTextView(long totalTime){\r\n        ui.useEdit.setText(convertMillisecondsToTime(totalTime));\r\n    }\r\n    public String convertMillisecondsToTime(long milliseconds) {\r\n        long seconds = TimeUnit.MILLISECONDS.toSeconds(milliseconds) % 60;\r\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(milliseconds) % 60;\r\n        long hours = TimeUnit.MILLISECONDS.toHours(milliseconds);\r\n\r\n        return String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\r\n    }\r\n    private void startTempsUseService(){\r\n        Intent serviceIntent = new Intent(this, TempsUseService.class);\r\n        if(Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.O ){\r\n            startForegroundService(serviceIntent);\r\n        } else {\r\n            startService(serviceIntent);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe class extending BroadcastReceiver:\r\n```java\r\npublic class TempsUseReceiver extends BroadcastReceiver {\r\n    private long countTime = 0;\r\n    private long totalTime = 0;\r\n    private boolean screenOn = true;\r\n    //private static final String ACTION_COUNT_TIME = &quot;com.example.digitalbalance1.COUNT_TIME&quot;;\r\n    private static final String ACTION_STOP_TIME = &quot;com.example.digitalbalance1.STOP_TIME&quot;;\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n        if(action.equals(Intent.ACTION_SCREEN_ON)) {\r\n            Intent startCount = new Intent(context, TempsUseService.class);\r\n            startCount.setAction(ACTION_STOP_TIME);\r\n            context.startService(startCount);\r\n            countTime=System.currentTimeMillis();\r\n            System.out.println(&quot;1&quot;+countTime);\r\n            screenOn=true;\r\n        } else if (action.equals(Intent.ACTION_SCREEN_OFF)) {\r\n            if(screenOn){\r\n                Intent endCount = new Intent(context, TempsUseService.class);\r\n                endCount.setAction(ACTION_STOP_TIME);\r\n                context.startService(endCount);\r\n                long endCountTime = System.currentTimeMillis();\r\n                System.out.println(&quot;2&quot;+endCountTime);\r\n                long sessionTime = endCountTime-countTime;\r\n                totalTime += sessionTime;\r\n                updateTotalTime(context, totalTime);\r\n            }\r\n            screenOn=false;\r\n        }\r\n    }\r\n    public long getCountTime(){return countTime;}\r\n    \r\n    public long getTotalTime(Context context){\r\n        //return totalTime value that is in the file\r\n    }\r\n}\r\n```\r\n\r\nAnd finally my service class:\r\n```java\r\npublic class TempsUseService extends Service {\r\n    private TempsUseReceiver tempsUseReceiver;\r\n    private static final int NOTIFICATION_ID = 2;\r\n    private static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\r\n    private long totalTime = 0;\r\n\r\n    public void onCreate(){\r\n        super.onCreate();\r\n        tempsUseReceiver=new TempsUseReceiver();\r\n        registerTempsUseReceiver();\r\n        startForeground(NOTIFICATION_ID, createNotification());\r\n    }\r\n    public int onStartCommand(Intent intent, int flags, int startId){\r\n        if(intent!=null &amp;&amp; intent.getAction()!=null &amp;&amp;\r\n        intent.getAction().equals(&quot;com.example.digitalbalance1.STOP_TIME&quot;)){\r\n            long countTime= tempsUseReceiver.getCountTime();\r\n            long currentTime = System.currentTimeMillis();\r\n            long sessionTime = currentTime - countTime;\r\n            totalTime += sessionTime;\r\n            updateTotalTime(this, totalTime);\r\n        }\r\n        else if (intent!=null &amp;&amp; intent.getAction()!=null &amp;&amp;\r\n                intent.getAction().equals(&quot;com.example.digitalbalance1.UPDATE_TOTAL_TIME&quot;)) {\r\n            long updatedTotalTime = intent.getLongExtra(&quot;totalTime&quot;, 0);\r\n            if (updatedTotalTime != 0) {\r\n                totalTime = updatedTotalTime;\r\n            }\r\n        }\r\n        updateTotalTimeInUserPageActivity(totalTime);\r\n        return START_STICKY;\r\n    }\r\n\r\n    private void updateTotalTimeInUserPageActivity(long totalTime) {\r\n        Intent updateIntent = new Intent(&quot;com.example.digitalbalance1.STOP_TIME&quot;);\r\n        updateIntent.putExtra(&quot;totalTime&quot;, totalTime);\r\n        sendBroadcast(updateIntent);\r\n    }\r\n    private void registerTempsUseReceiver(){\r\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_ON));\r\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_OFF));\r\n    }\r\n    private void unregisterUnlockReceiver(){\r\n        unregisterReceiver(tempsUseReceiver);\r\n    }\r\n  \r\n    public void onDestroy(){\r\n        super.onDestroy();\r\n        unregisterUnlockReceiver();\r\n    }\r\n    private Notification createNotification() {\r\n        //Notif creation\r\n    }\r\n\r\n    private void updateTotalTime(Context context, long totalTime) {\r\n//write totalTime value in its file        \r\nIntent(&quot;com.example.digitalbalance1.UPDATE_TOTAL_TIME&quot;);\r\n        updateIntent.putExtra(&quot;totalTime&quot;, totalTime);\r\n        context.sendBroadcast(updateIntent);\r\n}\r\n    private File getTotalTimeFile(Context context){\r\n        //retrieve totalTime value from its file\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```","title":"Tracking the Usage Time doesn&#39;t work in Android Studio","body":"<p>I am making a digital health app. I want it to count the unlock events and display the usage time. I was able to display the count the unlock events using a Receiver and a Service. I tried the same thing for the usage time, only that here, rather than incrementing a variable, each time the screen is turned on, it keeps the current time in a variable, and when the screen is turned off, it subtracts that variable from this moment current time. However, it doesn't seem to work.\nMy app is in french, so the Text View that should display the usage time is initialized to &quot;0h et 0min&quot;.\nHowever, to display it on the screen, I have used this type of format: 00:00:00</p>\n<p><strong>The problem</strong>: When I run my code, the value is changed to 00:00:00 and then nothing happens. Even after using the phone for quite some time, it still at 00:00:00.</p>\n<p>I tried to see where the problem could come from, but after a few trials and no change whatsoever, here I am.\nHere is my activity, called UserPageActivity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class UserPageActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE=123;\n    private deverouillageReceiver devReceiver;\n    private TempsUseReceiver tempsUseReceiver;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        //super and view binding here \n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECEIVE_BOOT_COMPLETED)\n              != PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.RECEIVE_BOOT_COMPLETED},\n                    PERMISSION_REQUEST_CODE);\n        } else {\n            registerTempsUseReceiver();\n        }\n        startTempsUseService();\n        \n    }\n    private void registerTempsUseReceiver(){\n        tempsUseReceiver =new TempsUseReceiver();\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_ON));\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_OFF));\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permission, int[] grantResult) {\n        super.onRequestPermissionsResult(requestCode, permission, grantResult);\n        if (requestCode == PERMISSION_REQUEST_CODE) {\n            if (grantResult.length &gt; 0 &amp;&amp; grantResult[0] == PackageManager.PERMISSION_GRANTED) {\n                registerUnlockReceiver();\n                registerTempsUseReceiver();\n            }\n        }\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        BroadcastReceiver updateTotalTimeReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                if (intent.getAction().equals(&quot;com.example.digitalbalance1.STOP_TIME&quot;)) {\n                    long totalTime = intent.getLongExtra(&quot;totalTime&quot;, 0);\n                    updateTotalTimeTextView(totalTime);\n                }\n            }\n        };\n        IntentFilter updateTotalTimeFilter = new IntentFilter(&quot;com.example.digitalbalance1.UPDATE_TOTAL_TIME&quot;);\n        registerReceiver(updateTotalTimeReceiver, updateTotalTimeFilter);\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        unregisterReceiver(tempsUseReceiver);\n    }\n    \n    private void updateTotalTimeTextView(long totalTime){\n        ui.useEdit.setText(convertMillisecondsToTime(totalTime));\n    }\n    public String convertMillisecondsToTime(long milliseconds) {\n        long seconds = TimeUnit.MILLISECONDS.toSeconds(milliseconds) % 60;\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(milliseconds) % 60;\n        long hours = TimeUnit.MILLISECONDS.toHours(milliseconds);\n\n        return String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\n    }\n    private void startTempsUseService(){\n        Intent serviceIntent = new Intent(this, TempsUseService.class);\n        if(Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.O ){\n            startForegroundService(serviceIntent);\n        } else {\n            startService(serviceIntent);\n        }\n    }\n}\n\n</code></pre>\n<p>The class extending BroadcastReceiver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TempsUseReceiver extends BroadcastReceiver {\n    private long countTime = 0;\n    private long totalTime = 0;\n    private boolean screenOn = true;\n    //private static final String ACTION_COUNT_TIME = &quot;com.example.digitalbalance1.COUNT_TIME&quot;;\n    private static final String ACTION_STOP_TIME = &quot;com.example.digitalbalance1.STOP_TIME&quot;;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if(action.equals(Intent.ACTION_SCREEN_ON)) {\n            Intent startCount = new Intent(context, TempsUseService.class);\n            startCount.setAction(ACTION_STOP_TIME);\n            context.startService(startCount);\n            countTime=System.currentTimeMillis();\n            System.out.println(&quot;1&quot;+countTime);\n            screenOn=true;\n        } else if (action.equals(Intent.ACTION_SCREEN_OFF)) {\n            if(screenOn){\n                Intent endCount = new Intent(context, TempsUseService.class);\n                endCount.setAction(ACTION_STOP_TIME);\n                context.startService(endCount);\n                long endCountTime = System.currentTimeMillis();\n                System.out.println(&quot;2&quot;+endCountTime);\n                long sessionTime = endCountTime-countTime;\n                totalTime += sessionTime;\n                updateTotalTime(context, totalTime);\n            }\n            screenOn=false;\n        }\n    }\n    public long getCountTime(){return countTime;}\n    \n    public long getTotalTime(Context context){\n        //return totalTime value that is in the file\n    }\n}\n</code></pre>\n<p>And finally my service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TempsUseService extends Service {\n    private TempsUseReceiver tempsUseReceiver;\n    private static final int NOTIFICATION_ID = 2;\n    private static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\n    private long totalTime = 0;\n\n    public void onCreate(){\n        super.onCreate();\n        tempsUseReceiver=new TempsUseReceiver();\n        registerTempsUseReceiver();\n        startForeground(NOTIFICATION_ID, createNotification());\n    }\n    public int onStartCommand(Intent intent, int flags, int startId){\n        if(intent!=null &amp;&amp; intent.getAction()!=null &amp;&amp;\n        intent.getAction().equals(&quot;com.example.digitalbalance1.STOP_TIME&quot;)){\n            long countTime= tempsUseReceiver.getCountTime();\n            long currentTime = System.currentTimeMillis();\n            long sessionTime = currentTime - countTime;\n            totalTime += sessionTime;\n            updateTotalTime(this, totalTime);\n        }\n        else if (intent!=null &amp;&amp; intent.getAction()!=null &amp;&amp;\n                intent.getAction().equals(&quot;com.example.digitalbalance1.UPDATE_TOTAL_TIME&quot;)) {\n            long updatedTotalTime = intent.getLongExtra(&quot;totalTime&quot;, 0);\n            if (updatedTotalTime != 0) {\n                totalTime = updatedTotalTime;\n            }\n        }\n        updateTotalTimeInUserPageActivity(totalTime);\n        return START_STICKY;\n    }\n\n    private void updateTotalTimeInUserPageActivity(long totalTime) {\n        Intent updateIntent = new Intent(&quot;com.example.digitalbalance1.STOP_TIME&quot;);\n        updateIntent.putExtra(&quot;totalTime&quot;, totalTime);\n        sendBroadcast(updateIntent);\n    }\n    private void registerTempsUseReceiver(){\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_ON));\n        registerReceiver(tempsUseReceiver, new IntentFilter(Intent.ACTION_SCREEN_OFF));\n    }\n    private void unregisterUnlockReceiver(){\n        unregisterReceiver(tempsUseReceiver);\n    }\n  \n    public void onDestroy(){\n        super.onDestroy();\n        unregisterUnlockReceiver();\n    }\n    private Notification createNotification() {\n        //Notif creation\n    }\n\n    private void updateTotalTime(Context context, long totalTime) {\n//write totalTime value in its file        \nIntent(&quot;com.example.digitalbalance1.UPDATE_TOTAL_TIME&quot;);\n        updateIntent.putExtra(&quot;totalTime&quot;, totalTime);\n        context.sendBroadcast(updateIntent);\n}\n    private File getTotalTimeFile(Context context){\n        //retrieve totalTime value from its file\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685413659,"post_id":76360411,"comment_id":134652623,"body_markdown":"you can start to change the version of CXF to 4.0.1 with Spring Boot 3 and Java 17, and tell me the result please.","body":"you can start to change the version of CXF to 4.0.1 with Spring Boot 3 and Java 17, and tell me the result please."}],"owner":{"account_id":28698992,"reputation":1,"user_id":21976558,"display_name":"Edgar Perez Carrillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685395726,"creation_date":1685395726,"question_id":76360411,"body_markdown":"I have an application in production with a module to publish WEB SOAP services, it is in java 11, spring Boot 2.6.0 and javax, when updating it to java 17, spring boot 3.1.0 and jakarta my configuration file that manually loads the Servlet stopped working, when checking the interface of the ServletRegistrationBean class, the above code cannot be used and throws the following exception:\r\n\r\n   Bound mismatch: The type CXFServlet is not a valid substitute for the bounded parameter &lt;T extends Servlet&gt; of the type ServletRegistrationBean&lt;T&gt;\r\n\r\nI understand that it is about javax and jakarta incompatibility but I can&#39;t find documentation that I understand to do the update.\r\n\r\nUs&#233; la actualizaci&#243;n autom&#225;tica de Eclipse 2023-3 y s&#243;lo quit&#243; las clases del proyecto.\r\n\r\nCan somebody help me?\r\n\r\nI changed the POM of the parent project and the module project\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.ediweb.marte&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;marte&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;marte-soap-inovativos&lt;/artifactId&gt;\r\n\t&lt;name&gt;marte-soap-inovativos&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;cxf.version&gt;3.3.0&lt;/cxf.version&gt;\r\n\t\t&lt;jaxb.api.version&gt;2.3.0&lt;/jaxb.api.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cxf-rt-ws-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cxf-rt-features-logging&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${cxf.version}&lt;/version&gt;    \r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ediweb.marte.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;marte-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sourceRoot&gt;${basedir}/src/main/java&lt;/sourceRoot&gt;\r\n\t\t\t\t\t\t\t&lt;wsdlOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;wsdlOption&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/wsdl/WSEdiWeb.wsdl&lt;/wsdl&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;serviceName&gt;WSEdiWeb&lt;/serviceName&gt;\r\n\t\t\t\t\t\t\t\t&lt;/wsdlOption&gt;\r\n\t\t\t\t\t\t\t&lt;/wsdlOptions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n\r\nimport javax.xml.ws.Endpoint;\r\n\r\nimport org.apache.cxf.Bus;\r\nimport org.apache.cxf.bus.spring.SpringBus;\r\nimport org.apache.cxf.feature.LoggingFeature;\r\nimport org.apache.cxf.jaxws.EndpointImpl;\r\nimport org.apache.cxf.transport.servlet.CXFServlet;\r\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.ediweb.edi.wse.webservices.edi.WSEdiWebEndPoint;\r\n\r\n/**\r\n * @author edgar\r\n *\r\n */\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\n@Configuration\r\npublic class MarteSoapInovativosConfig {\r\n\r\n\t@Bean\r\n\tpublic ServletRegistrationBean&lt;CXFServlet&gt; dispatcherservlet() {\r\n\t\treturn new ServletRegistrationBean&lt;CXFServlet&gt;(new CXFServlet(), &quot;/edi-1wse-edi-1.0/*&quot;);\r\n\t}\r\n\r\n\t@Bean(name = Bus.DEFAULT_BUS_ID)\r\n\tpublic SpringBus springbus(LoggingFeature loggingfeature) {\r\n\t\tSpringBus cxfbus = new SpringBus();\r\n\t\tcxfbus.getFeatures().add(loggingfeature);\r\n\t\treturn cxfbus;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LoggingFeature loggingfeature() {\r\n\r\n\t\tLoggingFeature loggingfeature = new LoggingFeature();\r\n\t\tloggingfeature.setPrettyLogging(true);\r\n\t\treturn loggingfeature;\r\n\t}\r\n\t\r\n\t@Bean\r\n\t  public Endpoint endpoint(Bus bus, WSEdiWebEndPoint wsEdiWebEndPoint) {\r\n\t    EndpointImpl endpoint = new EndpointImpl(bus, wsEdiWebEndPoint);\r\n\t    endpoint.publish(&quot;/WSEdiWeb&quot;);\r\n\t    return endpoint;\r\n\t  }\r\n}\r\n```\r\n","title":"How to upgrade Spring boot 2.6 to 3.1.0 and get my SOAP CXFServlet services to work that used to work without problem?","body":"<p>I have an application in production with a module to publish WEB SOAP services, it is in java 11, spring Boot 2.6.0 and javax, when updating it to java 17, spring boot 3.1.0 and jakarta my configuration file that manually loads the Servlet stopped working, when checking the interface of the ServletRegistrationBean class, the above code cannot be used and throws the following exception:</p>\n<p>Bound mismatch: The type CXFServlet is not a valid substitute for the bounded parameter  of the type ServletRegistrationBean</p>\n<p>I understand that it is about javax and jakarta incompatibility but I can't find documentation that I understand to do the update.</p>\n<p>Usé la actualización automática de Eclipse 2023-3 y sólo quitó las clases del proyecto.</p>\n<p>Can somebody help me?</p>\n<p>I changed the POM of the parent project and the module project</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.ediweb.marte&lt;/groupId&gt;\n        &lt;artifactId&gt;marte&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;marte-soap-inovativos&lt;/artifactId&gt;\n    &lt;name&gt;marte-soap-inovativos&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;cxf.version&gt;3.3.0&lt;/cxf.version&gt;\n        &lt;jaxb.api.version&gt;2.3.0&lt;/jaxb.api.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-ws-security&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-features-logging&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;    \n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ediweb.marte.core&lt;/groupId&gt;\n            &lt;artifactId&gt;marte-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${cxf.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${basedir}/src/main/java&lt;/sourceRoot&gt;\n                            &lt;wsdlOptions&gt;\n                                &lt;wsdlOption&gt;\n                                    &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/WSEdiWeb.wsdl&lt;/wsdl&gt;\n                                    &lt;serviceName&gt;WSEdiWeb&lt;/serviceName&gt;\n                                &lt;/wsdlOption&gt;\n                            &lt;/wsdlOptions&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n\n\nimport javax.xml.ws.Endpoint;\n\nimport org.apache.cxf.Bus;\nimport org.apache.cxf.bus.spring.SpringBus;\nimport org.apache.cxf.feature.LoggingFeature;\nimport org.apache.cxf.jaxws.EndpointImpl;\nimport org.apache.cxf.transport.servlet.CXFServlet;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.ediweb.edi.wse.webservices.edi.WSEdiWebEndPoint;\n\n/**\n * @author edgar\n *\n */\n@SuppressWarnings(&quot;deprecation&quot;)\n@Configuration\npublic class MarteSoapInovativosConfig {\n\n    @Bean\n    public ServletRegistrationBean&lt;CXFServlet&gt; dispatcherservlet() {\n        return new ServletRegistrationBean&lt;CXFServlet&gt;(new CXFServlet(), &quot;/edi-1wse-edi-1.0/*&quot;);\n    }\n\n    @Bean(name = Bus.DEFAULT_BUS_ID)\n    public SpringBus springbus(LoggingFeature loggingfeature) {\n        SpringBus cxfbus = new SpringBus();\n        cxfbus.getFeatures().add(loggingfeature);\n        return cxfbus;\n    }\n\n    @Bean\n    public LoggingFeature loggingfeature() {\n\n        LoggingFeature loggingfeature = new LoggingFeature();\n        loggingfeature.setPrettyLogging(true);\n        return loggingfeature;\n    }\n    \n    @Bean\n      public Endpoint endpoint(Bus bus, WSEdiWebEndPoint wsEdiWebEndPoint) {\n        EndpointImpl endpoint = new EndpointImpl(bus, wsEdiWebEndPoint);\n        endpoint.publish(&quot;/WSEdiWeb&quot;);\n        return endpoint;\n      }\n}\n</code></pre>\n"},{"tags":["java","android","mac-address","hotspot"],"answers":[{"tags":[],"owner":{"account_id":10517227,"reputation":153,"user_id":7762972,"display_name":"Nikita Shavrin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1507551558,"creation_date":1507551558,"answer_id":46646299,"question_id":46207047,"body_markdown":"Well, i found that android keep MAC addreses of devices for about 10 min (On different devices - different time), and only way - use ADB shell command to clear that list, BUT! it works only on rooted devices. \r\n\r\nBut this code can help you (works not with all devices):\r\n\r\n    public void getListOfConnectedDevice() {\r\n        final Thread thread = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                macAddresses.clear();\r\n                BufferedReader br = null;\r\n                boolean isFirstLine = true;\r\n                try {\r\n\r\n                    br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\r\n                    String line;\r\n\r\n                    while ((line = br.readLine()) != null) {\r\n                        if (isFirstLine) {\r\n                            isFirstLine = false;\r\n                            continue;\r\n                        }\r\n\r\n                        String[] splitted = line.split(&quot; +&quot;);\r\n\r\n                        if (splitted != null &amp;&amp; splitted.length &gt;= 4) {\r\n\r\n                            String ipAddress = splitted[0];\r\n                            String macAddress = splitted[3];\r\n\r\n                            Node node = new Node(ipAddress, macAddress);\r\n                            boolean isReachable = node.isReachable;\r\n                            Log.d(TAG, &quot;isReachable: &quot; + isReachable);\r\n                            if (isReachable) {\r\n                                Log.d(&quot;Device Information&quot;, ipAddress + &quot; : &quot;\r\n                                        + macAddress);\r\n                                macAddresses.add(macAddress);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        br.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        thread.start();\r\n    }","title":"isReachable() returns false in Android","body":"<p>Well, i found that android keep MAC addreses of devices for about 10 min (On different devices - different time), and only way - use ADB shell command to clear that list, BUT! it works only on rooted devices. </p>\n\n<p>But this code can help you (works not with all devices):</p>\n\n<pre><code>public void getListOfConnectedDevice() {\n    final Thread thread = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            macAddresses.clear();\n            BufferedReader br = null;\n            boolean isFirstLine = true;\n            try {\n\n                br = new BufferedReader(new FileReader(\"/proc/net/arp\"));\n                String line;\n\n                while ((line = br.readLine()) != null) {\n                    if (isFirstLine) {\n                        isFirstLine = false;\n                        continue;\n                    }\n\n                    String[] splitted = line.split(\" +\");\n\n                    if (splitted != null &amp;&amp; splitted.length &gt;= 4) {\n\n                        String ipAddress = splitted[0];\n                        String macAddress = splitted[3];\n\n                        Node node = new Node(ipAddress, macAddress);\n                        boolean isReachable = node.isReachable;\n                        Log.d(TAG, \"isReachable: \" + isReachable);\n                        if (isReachable) {\n                            Log.d(\"Device Information\", ipAddress + \" : \"\n                                    + macAddress);\n                            macAddresses.add(macAddress);\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    br.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n    thread.start();\n}\n</code></pre>\n"}],"owner":{"account_id":10517227,"reputation":153,"user_id":7762972,"display_name":"Nikita Shavrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46646299,"answer_count":1,"score":2,"last_activity_date":1685395688,"creation_date":1505337875,"question_id":46207047,"body_markdown":"I have a situation when my phone is working as a hotspot and I need to detect all devices which connected to my phone and find their MAC addresses. I wrote something like this:\r\n\r\n    public void getListOfConnectedDevice() {\r\n        Thread thread = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                BufferedReader br = null;\r\n                boolean isFirstLine = true;\r\n\r\n                try {\r\n                    br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\r\n                    String line;\r\n\r\n                    while ((line = br.readLine()) != null) {\r\n                        if (isFirstLine) {\r\n                            isFirstLine = false;\r\n                            continue;\r\n                        }\r\n\r\n                        String[] splitted = line.split(&quot; +&quot;);\r\n\r\n                        if (splitted != null &amp;&amp; splitted.length &gt;= 4) {\r\n\r\n                            String ipAddress = splitted[0];\r\n                            String macAddress = splitted[3];\r\n\r\n                           boolean isReachable = InetAddress.getByName(\r\n                                    splitted[0]).isReachable(300);// this is network call so we cant do that on UI thread, so I take background thread.\r\n                            Log.d(TAG, &quot;ip: &quot; + splitted[0]);\r\n                            Log.d(TAG, &quot;isReachable: &quot; + isReachable);\r\n                            if (isReachable) {\r\n                                Log.d(&quot;Device Information&quot;, ipAddress + &quot; : &quot;\r\n                                        + macAddress);\r\n                                macAddresses.add(macAddress); //My List&lt;String&gt;\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        br.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        thread.start();\r\n    }\r\n\r\nBut `boolean isReachable = InetAddress.getByName(splitted[0]).isReachable(300);` returns only false if device connected or disconnected. And I can&#39;t find any info to find solution. Or are there any other solutions? (For not rooted phones). ","title":"isReachable() returns false in Android","body":"<p>I have a situation when my phone is working as a hotspot and I need to detect all devices which connected to my phone and find their MAC addresses. I wrote something like this:</p>\n<pre><code>public void getListOfConnectedDevice() {\n    Thread thread = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            BufferedReader br = null;\n            boolean isFirstLine = true;\n\n            try {\n                br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\n                String line;\n\n                while ((line = br.readLine()) != null) {\n                    if (isFirstLine) {\n                        isFirstLine = false;\n                        continue;\n                    }\n\n                    String[] splitted = line.split(&quot; +&quot;);\n\n                    if (splitted != null &amp;&amp; splitted.length &gt;= 4) {\n\n                        String ipAddress = splitted[0];\n                        String macAddress = splitted[3];\n\n                       boolean isReachable = InetAddress.getByName(\n                                splitted[0]).isReachable(300);// this is network call so we cant do that on UI thread, so I take background thread.\n                        Log.d(TAG, &quot;ip: &quot; + splitted[0]);\n                        Log.d(TAG, &quot;isReachable: &quot; + isReachable);\n                        if (isReachable) {\n                            Log.d(&quot;Device Information&quot;, ipAddress + &quot; : &quot;\n                                    + macAddress);\n                            macAddresses.add(macAddress); //My List&lt;String&gt;\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    br.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n    thread.start();\n}\n</code></pre>\n<p>But <code>boolean isReachable = InetAddress.getByName(splitted[0]).isReachable(300);</code> returns only false if device connected or disconnected. And I can't find any info to find solution. Or are there any other solutions? (For not rooted phones).</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2604610,"reputation":2447,"user_id":2256028,"accept_rate":89,"display_name":"dckuehn"},"score":1,"creation_date":1385103121,"post_id":20138761,"comment_id":30014178,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/9604336/selenium-webdriver-select-element","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9604336/selenium-webdriver-select-element\" title=\"selenium webdriver select element\">stackoverflow.com/questions/9604336/&hellip;</a>"},{"owner":{"account_id":3181564,"reputation":1746,"user_id":2994827,"accept_rate":47,"display_name":"testing"},"score":0,"creation_date":1385104582,"post_id":20138761,"comment_id":30014681,"body_markdown":"i tried the linked method it is not working with my options, can i have some other model","body":"i tried the linked method it is not working with my options, can i have some other model"},{"owner":{"account_id":1418594,"reputation":2009,"user_id":1343698,"display_name":"Furious Duck"},"score":0,"creation_date":1385145763,"post_id":20138761,"comment_id":30037277,"body_markdown":"I think that drop down is not visible for some reason and changing it is not very good approach, but you can always change the element&#39;s attribute value using JavaScript","body":"I think that drop down is not visible for some reason and changing it is not very good approach, but you can always change the element&#39;s attribute value using JavaScript"}],"answers":[{"tags":[],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":144,"is_accepted":true,"score":144,"last_activity_date":1685394827,"creation_date":1385109881,"answer_id":20140481,"question_id":20138761,"body_markdown":"Just wrap your WebElement into Select Object as shown below\r\n\r\n    Select dropdown = new Select(driver.findElement(By.id(&quot;identifier&quot;)));\r\n\r\nOnce this is done you can select the required value in 3 ways. Consider an HTML file like this\r\n\r\n&lt;!-- language: html --&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;select id = &quot;designation&quot;&gt;\r\n    &lt;option value = &quot;MD&quot;&gt;MD&lt;/option&gt;\r\n    &lt;option value = &quot;prog&quot;&gt; Programmer &lt;/option&gt;\r\n    &lt;option value = &quot;CEO&quot;&gt; CEO &lt;/option&gt;\r\n    &lt;/option&gt;\r\n    &lt;/select&gt;\r\n    &lt;body&gt;\r\n    &lt;/html&gt;\r\n\r\nNow to identify dropdown do\r\n\r\n`Select dropdown = new Select(driver.findElement(By.id(&quot;designation&quot;)));`\r\n\r\nTo select its option say &#39;Programmer&#39; you can do\r\n\r\n`dropdown.selectByVisibleText(&quot;Programmer &quot;);`\r\n\r\nor\r\n\r\n `dropdown.selectByIndex(1);`\r\n\r\nor\r\n\r\n    dropdown.selectByValue(&quot;prog&quot;);\r\n\r\n","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>Just wrap your WebElement into Select Object as shown below</p>\n<pre><code>Select dropdown = new Select(driver.findElement(By.id(&quot;identifier&quot;)));\n</code></pre>\n<p>Once this is done you can select the required value in 3 ways. Consider an HTML file like this</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;body&gt;\n&lt;select id = &quot;designation&quot;&gt;\n&lt;option value = &quot;MD&quot;&gt;MD&lt;/option&gt;\n&lt;option value = &quot;prog&quot;&gt; Programmer &lt;/option&gt;\n&lt;option value = &quot;CEO&quot;&gt; CEO &lt;/option&gt;\n&lt;/option&gt;\n&lt;/select&gt;\n&lt;body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Now to identify dropdown do</p>\n<p><code>Select dropdown = new Select(driver.findElement(By.id(&quot;designation&quot;)));</code></p>\n<p>To select its option say 'Programmer' you can do</p>\n<p><code>dropdown.selectByVisibleText(&quot;Programmer &quot;);</code></p>\n<p>or</p>\n<p><code>dropdown.selectByIndex(1);</code></p>\n<p>or</p>\n<pre><code>dropdown.selectByValue(&quot;prog&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3036812,"reputation":377,"user_id":2574705,"accept_rate":54,"display_name":"SamK"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1398194290,"creation_date":1398194290,"answer_id":23228326,"question_id":20138761,"body_markdown":"If you want to write all in one line try\r\n\r\n    new Select (driver.findElement(By.id(&quot;designation&quot;))).selectByVisibleText(&quot;Programmer &quot;);","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>If you want to write all in one line try</p>\n\n<pre><code>new Select (driver.findElement(By.id(\"designation\"))).selectByVisibleText(\"Programmer \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5361966,"reputation":1,"user_id":4272927,"display_name":"user4272927"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1589474750,"creation_date":1416461068,"answer_id":27032358,"question_id":20138761,"body_markdown":"Try this-\r\n\r\n    driver.findElement(By.name(&quot;period&quot;)).sendKeys(&quot;Last 52 Weeks&quot;);","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>Try this-</p>\n\n<pre><code>driver.findElement(By.name(\"period\")).sendKeys(\"Last 52 Weeks\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5241977,"reputation":367,"user_id":4188735,"display_name":"AugustRush"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528103999,"creation_date":1424362171,"answer_id":28611138,"question_id":20138761,"body_markdown":"As discussed above, we need to implement Select Class in Selenium and further we can use various available methods like :-\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ljCaw.png","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>As discussed above, we need to implement Select Class in Selenium and further we can use various available methods like :-\n<img src=\"https://i.stack.imgur.com/ljCaw.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":6060942,"reputation":11,"user_id":4732683,"display_name":"Mohan Kumar Dg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554293414,"creation_date":1427784014,"answer_id":29362176,"question_id":20138761,"body_markdown":"***code to select dropdown*** using xpath\r\n\r\n    Select select = new \r\n    Select(driver.findElement(By.xpath(&quot;//select[@id=&#39;periodId&#39;]));\r\n\r\n\r\n***code to select particaular option*** using selectByVisibleText\r\n\r\n    select.selectByVisibleText(Last 52 Weeks);","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p><strong><em>code to select dropdown</em></strong> using xpath</p>\n\n<pre><code>Select select = new \nSelect(driver.findElement(By.xpath(\"//select[@id='periodId']));\n</code></pre>\n\n<p><strong><em>code to select particaular option</em></strong> using selectByVisibleText</p>\n\n<pre><code>select.selectByVisibleText(Last 52 Weeks);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6494601,"reputation":31,"user_id":5027588,"display_name":"user5027588"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434707222,"creation_date":1434705171,"answer_id":30934292,"question_id":20138761,"body_markdown":"Actually `select` does select but not placing the selected values to the respective field . Where wondered the below snippet works perfectly \r\n\r\n    driver.findElement(By.name(&quot;period&quot;)).sendKeys(&quot;Last 52 Weeks&quot;);\r\n\r\n","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>Actually <code>select</code> does select but not placing the selected values to the respective field . Where wondered the below snippet works perfectly </p>\n\n<pre><code>driver.findElement(By.name(\"period\")).sendKeys(\"Last 52 Weeks\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7158634,"reputation":9,"user_id":5470068,"display_name":"Abhishek M S"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1589474741,"creation_date":1445408861,"answer_id":33252367,"question_id":20138761,"body_markdown":"    WebDriver driver = new FirefoxDriver();\r\n    WebElement identifier = driver.findElement(By.id(&quot;periodId&quot;));\r\n    Select select = new Select(identifier);\r\n    select.selectByVisibleText(&quot;Last 52 Weeks&quot;); ","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<pre><code>WebDriver driver = new FirefoxDriver();\nWebElement identifier = driver.findElement(By.id(\"periodId\"));\nSelect select = new Select(identifier);\nselect.selectByVisibleText(\"Last 52 Weeks\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2900373,"reputation":661,"user_id":2487229,"accept_rate":10,"display_name":"ajayv"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1449651174,"creation_date":1449651174,"answer_id":34174422,"question_id":20138761,"body_markdown":"I have not tried in Selenium, but for Galen test this is working,\n\n&gt; \n&gt; \n&gt; var list = driver.findElementByID(&quot;periodID&quot;);  // this will return\n&gt; web element\n&gt; \n&gt; list.click(); // this will open the dropdown list.\n&gt;\n&gt; list.typeText(&quot;14w&quot;);  // this will select option &quot;14w&quot;.\n\nYou can try this in selenium, the galen and selenium working are similar.  ","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>I have not tried in Selenium, but for Galen test this is working,</p>\n<blockquote>\n<p>var list = driver.findElementByID(&quot;periodID&quot;);  // this will return\nweb element</p>\n<p>list.click(); // this will open the dropdown list.</p>\n<p>list.typeText(&quot;14w&quot;);  // this will select option &quot;14w&quot;.</p>\n</blockquote>\n<p>You can try this in selenium, the galen and selenium working are similar.</p>\n"},{"tags":[],"owner":{"account_id":5556160,"reputation":45,"user_id":4653636,"accept_rate":25,"display_name":"Vishnu More"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1452677160,"creation_date":1452609910,"answer_id":34746657,"question_id":20138761,"body_markdown":"First Import the package as :\r\n\r\n&gt;import org.openqa.selenium.support.ui.Select;\r\n\r\nthen write in single line as:\r\n\r\n&gt;new Select (driver.findElement(By.id(&quot;sampleid&quot;))).selectByValue(&quot;SampleValue&quot;);\r\n\r\n\r\n","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>First Import the package as :</p>\n\n<blockquote>\n  <p>import org.openqa.selenium.support.ui.Select;</p>\n</blockquote>\n\n<p>then write in single line as:</p>\n\n<blockquote>\n  <p>new Select (driver.findElement(By.id(\"sampleid\"))).selectByValue(\"SampleValue\");</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8068627,"reputation":21,"user_id":6082028,"display_name":"Jayant Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615218422,"creation_date":1499252604,"answer_id":44924467,"question_id":20138761,"body_markdown":"You can use following methods to handle drop down in selenium.\r\n\r\n \r\n\r\n     1. driver.selectByVisibleText(&quot;Text&quot;);\r\n     2. driver.selectByIndex(1);\r\n     3. driver.selectByValue(&quot;prog&quot;);\r\n\r\nFor more details you can refer http://www.codealumni.com/handle-drop-selenium-webdriver/ this post.\r\n\r\nIt will definitely help you a lot in resolving your queries. ","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>You can use following methods to handle drop down in selenium.</p>\n<pre><code> 1. driver.selectByVisibleText(&quot;Text&quot;);\n 2. driver.selectByIndex(1);\n 3. driver.selectByValue(&quot;prog&quot;);\n</code></pre>\n<p>For more details you can refer <a href=\"http://www.codealumni.com/handle-drop-selenium-webdriver/\" rel=\"nofollow noreferrer\">http://www.codealumni.com/handle-drop-selenium-webdriver/</a> this post.</p>\n<p>It will definitely help you a lot in resolving your queries.</p>\n"}],"owner":{"account_id":3181564,"reputation":1746,"user_id":2994827,"accept_rate":47,"display_name":"testing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461689,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":20140481,"answer_count":10,"score":67,"last_activity_date":1685394827,"creation_date":1385102893,"question_id":20138761,"body_markdown":"I am new to selenium, currently am working on selenium webdriver i want to select a value from the drop down.\r\nThe `id=periodId` and the option is many in that am trying to select `Last 52 weeks`.\r\n    \r\nHere is the HTML code:\r\n\r\n&lt;!-- language: html --&gt;\r\n    &lt;select id=&quot;periodId&quot; name=&quot;period&quot; style=&quot;display: none;&quot;&gt;\r\n        &lt;option value=&quot;l4w&quot;&gt;Last 4 Weeks&lt;/option&gt;\r\n        &lt;option value=&quot;l52w&quot;&gt;Last 52 Weeks&lt;/option&gt;\r\n        &lt;option value=&quot;daterange&quot;&gt;Date Range&lt;/option&gt;\r\n        &lt;option value=&quot;weekrange&quot;&gt;Week Range&lt;/option&gt;\r\n        &lt;option selected=&quot;&quot; value=&quot;monthrange&quot;&gt;Month Range&lt;/option&gt;\r\n        &lt;option value=&quot;yeartodate&quot;&gt;Year To Date&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\nPlease suggest me some ways to click the drop down.\r\n\r\nI tried with the above example lines but am getting error such as Element is not currently visible and so may not be interacted with\r\nCommand duration or timeout: 32 milliseconds\r\nthe drop downs values are the jquery multiselect widget format.","title":"How to select a dropdown value in Selenium WebDriver using Java","body":"<p>I am new to selenium, currently am working on selenium webdriver i want to select a value from the drop down.\nThe <code>id=periodId</code> and the option is many in that am trying to select <code>Last 52 weeks</code>.</p>\n<p>Here is the HTML code:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select id=&quot;periodId&quot; name=&quot;period&quot; style=&quot;display: none;&quot;&gt;\n    &lt;option value=&quot;l4w&quot;&gt;Last 4 Weeks&lt;/option&gt;\n    &lt;option value=&quot;l52w&quot;&gt;Last 52 Weeks&lt;/option&gt;\n    &lt;option value=&quot;daterange&quot;&gt;Date Range&lt;/option&gt;\n    &lt;option value=&quot;weekrange&quot;&gt;Week Range&lt;/option&gt;\n    &lt;option selected=&quot;&quot; value=&quot;monthrange&quot;&gt;Month Range&lt;/option&gt;\n    &lt;option value=&quot;yeartodate&quot;&gt;Year To Date&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Please suggest me some ways to click the drop down.</p>\n<p>I tried with the above example lines but am getting error such as Element is not currently visible and so may not be interacted with\nCommand duration or timeout: 32 milliseconds\nthe drop downs values are the jquery multiselect widget format.</p>\n"},{"tags":["java","amazon-s3","zip"],"comments":[{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1572836370,"post_id":58682804,"comment_id":103672132,"body_markdown":"Does each zip file contain one file, or are there multiple files? What format are those files? The reason I ask is that you might be able to use [S3 Select](https://docs.aws.amazon.com/AmazonS3/latest/dev/selecting-content-from-objects.html) to extract the data.","body":"Does each zip file contain one file, or are there multiple files? What format are those files? The reason I ask is that you might be able to use <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/selecting-content-from-objects.html\" rel=\"nofollow noreferrer\">S3 Select</a> to extract the data."},{"owner":{"account_id":2031334,"reputation":195,"user_id":1814960,"display_name":"BrianY"},"score":0,"creation_date":1572871873,"post_id":58682804,"comment_id":103684473,"body_markdown":"The zips contain a lot of individual files that could vary in type.   I also work with other implementations of S3 in addition to AWS so that is another driver for using range-based requests (feature is supported by most other S3 providers.)","body":"The zips contain a lot of individual files that could vary in type.   I also work with other implementations of S3 in addition to AWS so that is another driver for using range-based requests (feature is supported by most other S3 providers.)"},{"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"score":0,"creation_date":1685394332,"post_id":58682804,"comment_id":134650916,"body_markdown":"@BrianY where does the 30 magic number come from?","body":"@BrianY where does the 30 magic number come from?"}],"answers":[{"tags":[],"owner":{"account_id":2031334,"reputation":195,"user_id":1814960,"display_name":"BrianY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572912988,"creation_date":1572912988,"answer_id":58702791,"question_id":58682804,"body_markdown":"My general approach was sound but hindered by the lack of details returned from Java&#39;s ZipFile.  For example sometimes there is an extra 16 bytes at the end of the compressed data, prior to the beginning of the next local header.  Nothing in ZipFile can help with this.\r\n\r\nzip4j appears to be a superior option and provides methods such as:\r\n```header.getOffsetLocalHeader()``` which removes some of the error prone calculations.","title":"Selectively extract entries from a zip file in S3 without downloading entire file","body":"<p>My general approach was sound but hindered by the lack of details returned from Java's ZipFile.  For example sometimes there is an extra 16 bytes at the end of the compressed data, prior to the beginning of the next local header.  Nothing in ZipFile can help with this.</p>\n\n<p>zip4j appears to be a superior option and provides methods such as:\n<code>header.getOffsetLocalHeader()</code> which removes some of the error prone calculations.</p>\n"},{"tags":[],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685394306,"creation_date":1685394306,"answer_id":76360318,"question_id":58682804,"body_markdown":"I could also make it work through the following code using zip4j. \r\n\r\nHowever I still don&#39;t understand the decoding part through the equation:\r\n`long endFile = 30 + offset + header.getFileNameLength() + compressedSize - 1;`. Where does 30 come from? How can I be sure this equation contains all necessary variables for all use cases?\r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n\r\n        S3Client s3Client = S3Client.builder()\r\n                .credentialsProvider(StaticCredentialsProvider\r\n                        .create(AwsSessionCredentials.create(ACCESS_KEY, SECRET_KEY, SESSION_TOKEN)))\r\n                .region(Region.US_WEST_2)\r\n                .build();\r\n\r\n        HeadObjectResponse headObject = s3Client.headObject(HeadObjectRequest.builder()\r\n                .bucket(BUCKET)\r\n                .key(OBJECT_PATH)\r\n                .build());\r\n        long zipSize = headObject.contentLength();\r\n\r\n        // fetch the last 22 bytes (end-of-central-directory record; assuming the comment field is empty)\r\n        long eocdStart = zipSize - 22;\r\n        final var eocdStream = s3Client.getObject(GetObjectRequest.builder()\r\n                .bucket(BUCKET)\r\n                .key(OBJECT_PATH)\r\n                .range(&quot;bytes=%d-%d&quot;.formatted(eocdStart, zipSize))\r\n                .build());\r\n        System.out.println(&quot;eocd start: &quot; + eocdStart);\r\n        byte[] eocd = IOUtils.toByteArray(eocdStream);\r\n\r\n        // get the start offset and size of the central directory\r\n        int cdSize = byteArrayToLeInt(Arrays.copyOfRange(eocd, 12, 16));\r\n        int cdStart = byteArrayToLeInt(Arrays.copyOfRange(eocd, 16, 20));\r\n        System.out.println(&quot;cdStart: &quot; + cdStart);\r\n        System.out.println(&quot;cdSize: &quot; + cdSize);\r\n\r\n        // get the full central directory\r\n        final var cdStream = s3Client.getObject(GetObjectRequest.builder()\r\n                .bucket(BUCKET)\r\n                .key(OBJECT_PATH)\r\n                .range(&quot;bytes=%d-%d&quot;.formatted(cdStart, cdStart + cdSize - 1))\r\n                .build());\r\n        byte[] cd = IOUtils.toByteArray(cdStream);\r\n\r\n        // write the full dir + eocd:\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        // write cd\r\n        out.write(cd);\r\n\r\n        // write eocd, resetting the cd start to 0 since that is\r\n        // where it will appear in our new temp file\r\n        byte[] b = leIntToByteArray(0);\r\n        eocd[16] = b[0];\r\n        eocd[17] = b[1];\r\n        eocd[18] = b[2];\r\n        eocd[19] = b[3];\r\n        out.write(eocd);\r\n        out.flush();\r\n\r\n        byte[] cdbytes = out.toByteArray();\r\n        System.out.println(cdbytes.length);\r\n\r\n        File tempFile = Files.createTempFile(&quot;temp&quot;, &quot;zip&quot;).toFile();\r\n        FileOutputStream output = new FileOutputStream(tempFile);\r\n        output.write(cdbytes);\r\n        output.flush();\r\n        output.close();\r\n\r\n        getZipFile1(s3Client, tempFile, &quot;a2ed09e5-dfdb-4a66-95f5-8bb62bc8fafd-2023-05-23T10_07_19Z.warc.gz&quot;);\r\n        getZipFile1(s3Client, tempFile, &quot;index.cdx.gz&quot;);\r\n        getZipFile1(s3Client, tempFile, &quot;index.cdx&quot;);\r\n        getZipFile1(s3Client, tempFile, &quot;extraPages.jsonl&quot;);\r\n        getZipFile1(s3Client, tempFile, &quot;pages.jsonl&quot;);\r\n        getZipFile1(s3Client, tempFile, &quot;datapackage.json&quot;);\r\n        getZipFile1(s3Client, tempFile, &quot;datapackage-digest.json&quot;);\r\n}\r\n\r\nprivate static void getZipFile1(S3Client s3Client, File tempFile, String file) throws Exception {\r\n        ZipFile zipFile = new ZipFile(tempFile);\r\n        for (var header : zipFile.getFileHeaders()) {\r\n            if (!header.isDirectory()) {\r\n                if (header.getFileName().contains(file)) {\r\n                    System.out.println(header);\r\n                    long offset = header.getOffsetLocalHeader(); // 41489906\r\n                    int compressedSize = (int) header.getCompressedSize(); // 171\r\n                    long endFile = 30 + offset + header.getFileNameLength() + compressedSize - 1;\r\n                    byte[] fileBytes = IOUtils.toByteArray(s3Client.getObject(GetObjectRequest.builder()\r\n                            .bucket(BUCKET)\r\n                            .key(OBJECT_PATH)\r\n                            .range(&quot;bytes=%d-%d&quot;.formatted(offset, endFile))\r\n                            .build()));\r\n                    ZipInputStream zipInputStream = new ZipInputStream(new ByteArrayInputStream(fileBytes));\r\n                    zipInputStream.getNextEntry(header, true);\r\n                    File outputFile = new File(&quot;/home/joao/Downloads/folder/&quot; + header.getFileName());\r\n                    Files.deleteIfExists(outputFile.toPath());\r\n                    FileUtils.copyInputStreamToFile(zipInputStream, outputFile);\r\n                }\r\n            }\r\n        }\r\n}\r\n```","title":"Selectively extract entries from a zip file in S3 without downloading entire file","body":"<p>I could also make it work through the following code using zip4j.</p>\n<p>However I still don't understand the decoding part through the equation:\n<code>long endFile = 30 + offset + header.getFileNameLength() + compressedSize - 1;</code>. Where does 30 come from? How can I be sure this equation contains all necessary variables for all use cases?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n\n        S3Client s3Client = S3Client.builder()\n                .credentialsProvider(StaticCredentialsProvider\n                        .create(AwsSessionCredentials.create(ACCESS_KEY, SECRET_KEY, SESSION_TOKEN)))\n                .region(Region.US_WEST_2)\n                .build();\n\n        HeadObjectResponse headObject = s3Client.headObject(HeadObjectRequest.builder()\n                .bucket(BUCKET)\n                .key(OBJECT_PATH)\n                .build());\n        long zipSize = headObject.contentLength();\n\n        // fetch the last 22 bytes (end-of-central-directory record; assuming the comment field is empty)\n        long eocdStart = zipSize - 22;\n        final var eocdStream = s3Client.getObject(GetObjectRequest.builder()\n                .bucket(BUCKET)\n                .key(OBJECT_PATH)\n                .range(&quot;bytes=%d-%d&quot;.formatted(eocdStart, zipSize))\n                .build());\n        System.out.println(&quot;eocd start: &quot; + eocdStart);\n        byte[] eocd = IOUtils.toByteArray(eocdStream);\n\n        // get the start offset and size of the central directory\n        int cdSize = byteArrayToLeInt(Arrays.copyOfRange(eocd, 12, 16));\n        int cdStart = byteArrayToLeInt(Arrays.copyOfRange(eocd, 16, 20));\n        System.out.println(&quot;cdStart: &quot; + cdStart);\n        System.out.println(&quot;cdSize: &quot; + cdSize);\n\n        // get the full central directory\n        final var cdStream = s3Client.getObject(GetObjectRequest.builder()\n                .bucket(BUCKET)\n                .key(OBJECT_PATH)\n                .range(&quot;bytes=%d-%d&quot;.formatted(cdStart, cdStart + cdSize - 1))\n                .build());\n        byte[] cd = IOUtils.toByteArray(cdStream);\n\n        // write the full dir + eocd:\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        // write cd\n        out.write(cd);\n\n        // write eocd, resetting the cd start to 0 since that is\n        // where it will appear in our new temp file\n        byte[] b = leIntToByteArray(0);\n        eocd[16] = b[0];\n        eocd[17] = b[1];\n        eocd[18] = b[2];\n        eocd[19] = b[3];\n        out.write(eocd);\n        out.flush();\n\n        byte[] cdbytes = out.toByteArray();\n        System.out.println(cdbytes.length);\n\n        File tempFile = Files.createTempFile(&quot;temp&quot;, &quot;zip&quot;).toFile();\n        FileOutputStream output = new FileOutputStream(tempFile);\n        output.write(cdbytes);\n        output.flush();\n        output.close();\n\n        getZipFile1(s3Client, tempFile, &quot;a2ed09e5-dfdb-4a66-95f5-8bb62bc8fafd-2023-05-23T10_07_19Z.warc.gz&quot;);\n        getZipFile1(s3Client, tempFile, &quot;index.cdx.gz&quot;);\n        getZipFile1(s3Client, tempFile, &quot;index.cdx&quot;);\n        getZipFile1(s3Client, tempFile, &quot;extraPages.jsonl&quot;);\n        getZipFile1(s3Client, tempFile, &quot;pages.jsonl&quot;);\n        getZipFile1(s3Client, tempFile, &quot;datapackage.json&quot;);\n        getZipFile1(s3Client, tempFile, &quot;datapackage-digest.json&quot;);\n}\n\nprivate static void getZipFile1(S3Client s3Client, File tempFile, String file) throws Exception {\n        ZipFile zipFile = new ZipFile(tempFile);\n        for (var header : zipFile.getFileHeaders()) {\n            if (!header.isDirectory()) {\n                if (header.getFileName().contains(file)) {\n                    System.out.println(header);\n                    long offset = header.getOffsetLocalHeader(); // 41489906\n                    int compressedSize = (int) header.getCompressedSize(); // 171\n                    long endFile = 30 + offset + header.getFileNameLength() + compressedSize - 1;\n                    byte[] fileBytes = IOUtils.toByteArray(s3Client.getObject(GetObjectRequest.builder()\n                            .bucket(BUCKET)\n                            .key(OBJECT_PATH)\n                            .range(&quot;bytes=%d-%d&quot;.formatted(offset, endFile))\n                            .build()));\n                    ZipInputStream zipInputStream = new ZipInputStream(new ByteArrayInputStream(fileBytes));\n                    zipInputStream.getNextEntry(header, true);\n                    File outputFile = new File(&quot;/home/joao/Downloads/folder/&quot; + header.getFileName());\n                    Files.deleteIfExists(outputFile.toPath());\n                    FileUtils.copyInputStreamToFile(zipInputStream, outputFile);\n                }\n            }\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":2031334,"reputation":195,"user_id":1814960,"display_name":"BrianY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1814,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58702791,"answer_count":2,"score":2,"last_activity_date":1685394306,"creation_date":1572802345,"question_id":58682804,"body_markdown":"I am trying to pull specific items out of massive zip files in S3 without downloading the entire file.  \r\n\r\nA Python solution here: https://stackoverflow.com/questions/51351000/read-zip-files-from-s3-without-downloading-the-entire-file appears to work.  The equivalent underlying capabilities in Java appear to be less lenient in general so I&#39;ve had to make various adjustments.\r\n\r\nIn the attached code you can see that I&#39;m successfully getting the central directory and writing it to a temp file that Java&#39;s ZipFile can use to iterate the zip entries from the CD.\r\n\r\nHowever, I&#39;m stuck on inflating an individual entry.  The current code throws a bad header exception.  Do I need to give the inflator the local file header + compressed content, or just compressed content?  I&#39;ve tried both but I&#39;m clearly either not using the Inflator corrector and/or not giving it what it expects.\r\n\r\n```\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.util.Arrays;\r\nimport java.util.Enumeration;\r\nimport java.util.zip.Inflater;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipFile;\r\n\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\nimport com.amazonaws.services.s3.model.GetObjectRequest;\r\nimport com.amazonaws.services.s3.model.ObjectMetadata;\r\nimport com.amazonaws.services.s3.model.S3Object;\r\nimport com.amazonaws.util.IOUtils;\r\n\r\npublic class S3ZipTest {\r\n    private AmazonS3 s3;\r\n\r\n    public S3ZipTest(String bucket, String key) throws Exception {\r\n        s3 = getClient();\r\n        ObjectMetadata metadata = s3.getObjectMetadata(bucket, key);\r\n        runTest(bucket, key, metadata.getContentLength());\r\n    }\r\n\r\n    private void runTest(String bucket, String key, long size) throws Exception {\r\n        // fetch the last 22 bytes (end-of-central-directory record; assuming the comment field is empty)\r\n        long start = size - 22;\r\n        GetObjectRequest req = new GetObjectRequest(bucket, key).withRange(start);\r\n        System.out.println(&quot;eocd start: &quot; + start);\r\n\r\n        // fetch the end of cd record\r\n        S3Object s3Object = s3.getObject(req);\r\n        byte[] eocd = IOUtils.toByteArray(s3Object.getObjectContent());\r\n\r\n        // get the start offset and size of the central directory\r\n        int cdSize = byteArrayToLeInt(Arrays.copyOfRange(eocd, 12, 16));\r\n        int cdStart = byteArrayToLeInt(Arrays.copyOfRange(eocd, 16, 20));\r\n\r\n        System.out.println(&quot;cdStart: &quot; + cdStart);\r\n        System.out.println(&quot;cdSize: &quot; + cdSize);\r\n\r\n        // get the full central directory\r\n        req = new GetObjectRequest(bucket, key).withRange(cdStart, cdStart + cdSize - 1);\r\n        s3Object = s3.getObject(req);\r\n        byte[] cd = IOUtils.toByteArray(s3Object.getObjectContent());\r\n\r\n        // write the full dir + eocd:\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\r\n        // write cd\r\n        out.write(cd);\r\n\r\n        // write eocd, resetting the cd start to 0 since that is \r\n        // where it will appear in our new temp file\r\n        byte[] b = leIntToByteArray(0);\r\n        eocd[16] = b[0];\r\n        eocd[17] = b[1];\r\n        eocd[18] = b[2];\r\n        eocd[19] = b[3];\r\n        out.write(eocd);\r\n        out.flush();\r\n\r\n        byte[] cdbytes = out.toByteArray();\r\n\r\n        // here we are writing the CD + EOCD to a temp file.\r\n        // ZipFile can read the entries from this file.\r\n        // ZipInputStream and commons compress will not- they seem upset that the data isn&#39;t actually here\r\n        File tempFile = new File(&quot;temp.zip&quot;);\r\n        FileOutputStream output = new FileOutputStream(tempFile);\r\n        output.write(cdbytes);\r\n        output.flush();\r\n        output.close();\r\n\r\n        ZipFile zipFile = new ZipFile(tempFile);\r\n        Enumeration&lt;? extends ZipEntry&gt; zipEntries = zipFile.entries();\r\n        long offset = 0;\r\n        while (zipEntries.hasMoreElements()) {\r\n            ZipEntry entry = (ZipEntry) zipEntries.nextElement();\r\n            long fileSize = 0;\r\n            long extra = entry.getExtra() == null ? 0 : entry.getExtra().length;\r\n            offset += 30 + entry.getName().length() + extra;\r\n            if (!entry.isDirectory()) {\r\n                fileSize = entry.getCompressedSize();\r\n                System.out.println(entry.getName() + &quot; offset=&quot; + offset + &quot; size&quot; + fileSize);\r\n                // not working\r\n                // getEntryContent(bucket, key, offset, fileSize, (int)entry.getSize());\r\n            }\r\n            offset += fileSize;\r\n        }\r\n        zipFile.close();\r\n    }\r\n\r\n    private void getEntryContent(String bucket, String key, long offset, long compressedSize, int fullSize) throws Exception {\r\n        //HERE is where things go bad.\r\n        //my guess was that we need to get past the local header for an entry to the actual \r\n        //start of deflated content and then read all the content and pass to the Inflator.\r\n        //this yields java.util.zip.DataFormatException: incorrect header check\r\n        \r\n        System.out.print(&quot;reading &quot; + compressedSize +  &quot; bytes starting from offset &quot; + offset);\r\n        GetObjectRequest req = new GetObjectRequest(bucket, key).withRange(offset, offset + compressedSize);\r\n        S3Object s3Object = s3.getObject(req);\r\n        byte[] con = IOUtils.toByteArray(s3Object.getObjectContent());\r\n        Inflater inf = new Inflater();\r\n        inf.setInput(con);\r\n        byte[] inflatedContent = new byte[fullSize];\r\n        int sz = inf.inflate(inflatedContent);\r\n        System.out.println(&quot;inflated: &quot; + sz);\r\n        // write inflatedContent to file or whatever...\r\n    }\r\n\r\n    public static int byteArrayToLeInt(byte[] b) {\r\n        final ByteBuffer bb = ByteBuffer.wrap(b);\r\n        bb.order(ByteOrder.LITTLE_ENDIAN);\r\n        return bb.getInt();\r\n    }\r\n\r\n    public static byte[] leIntToByteArray(int i) {\r\n        final ByteBuffer bb = ByteBuffer.allocate(Integer.SIZE / Byte.SIZE);\r\n        bb.order(ByteOrder.LITTLE_ENDIAN);\r\n        bb.putInt(i);\r\n        return bb.array();\r\n    }\r\n\r\n    protected AmazonS3 getClient() {\r\n        AmazonS3 client = AmazonS3ClientBuilder\r\n            .standard()\r\n            .withRegion(&quot;us-east-1&quot;)\r\n            .build();\r\n        return client;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            new S3ZipTest(&quot;alexa-public&quot;, &quot;test.zip&quot;);\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Edit**\r\n\r\nComparing the Python calculations to the ones in my Java code, I realized that Java is off by 4.  ```entry.getExtra().length``` may report 24, for example, as does the zipinfo cmd line utility for the same entry.  Python reports 28. I don&#39;t fully understand the discrepancy but the PKWare spec mentions &quot;2 byte identifier and a 2 byte data size field&quot; for the extra field.  At any rate, adding a fudge value of 4 got it working, but I&#39;d like to understand what is happening a little more- adding random fudge values to make things work isn&#39;t settling:\r\n```offset += 30 + entry.getName().length() + extra + 4;```","title":"Selectively extract entries from a zip file in S3 without downloading entire file","body":"<p>I am trying to pull specific items out of massive zip files in S3 without downloading the entire file.  </p>\n\n<p>A Python solution here: <a href=\"https://stackoverflow.com/questions/51351000/read-zip-files-from-s3-without-downloading-the-entire-file\">Read ZIP files from S3 without downloading the entire file</a> appears to work.  The equivalent underlying capabilities in Java appear to be less lenient in general so I've had to make various adjustments.</p>\n\n<p>In the attached code you can see that I'm successfully getting the central directory and writing it to a temp file that Java's ZipFile can use to iterate the zip entries from the CD.</p>\n\n<p>However, I'm stuck on inflating an individual entry.  The current code throws a bad header exception.  Do I need to give the inflator the local file header + compressed content, or just compressed content?  I've tried both but I'm clearly either not using the Inflator corrector and/or not giving it what it expects.</p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.util.Arrays;\nimport java.util.Enumeration;\nimport java.util.zip.Inflater;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipFile;\n\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.GetObjectRequest;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport com.amazonaws.services.s3.model.S3Object;\nimport com.amazonaws.util.IOUtils;\n\npublic class S3ZipTest {\n    private AmazonS3 s3;\n\n    public S3ZipTest(String bucket, String key) throws Exception {\n        s3 = getClient();\n        ObjectMetadata metadata = s3.getObjectMetadata(bucket, key);\n        runTest(bucket, key, metadata.getContentLength());\n    }\n\n    private void runTest(String bucket, String key, long size) throws Exception {\n        // fetch the last 22 bytes (end-of-central-directory record; assuming the comment field is empty)\n        long start = size - 22;\n        GetObjectRequest req = new GetObjectRequest(bucket, key).withRange(start);\n        System.out.println(\"eocd start: \" + start);\n\n        // fetch the end of cd record\n        S3Object s3Object = s3.getObject(req);\n        byte[] eocd = IOUtils.toByteArray(s3Object.getObjectContent());\n\n        // get the start offset and size of the central directory\n        int cdSize = byteArrayToLeInt(Arrays.copyOfRange(eocd, 12, 16));\n        int cdStart = byteArrayToLeInt(Arrays.copyOfRange(eocd, 16, 20));\n\n        System.out.println(\"cdStart: \" + cdStart);\n        System.out.println(\"cdSize: \" + cdSize);\n\n        // get the full central directory\n        req = new GetObjectRequest(bucket, key).withRange(cdStart, cdStart + cdSize - 1);\n        s3Object = s3.getObject(req);\n        byte[] cd = IOUtils.toByteArray(s3Object.getObjectContent());\n\n        // write the full dir + eocd:\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        // write cd\n        out.write(cd);\n\n        // write eocd, resetting the cd start to 0 since that is \n        // where it will appear in our new temp file\n        byte[] b = leIntToByteArray(0);\n        eocd[16] = b[0];\n        eocd[17] = b[1];\n        eocd[18] = b[2];\n        eocd[19] = b[3];\n        out.write(eocd);\n        out.flush();\n\n        byte[] cdbytes = out.toByteArray();\n\n        // here we are writing the CD + EOCD to a temp file.\n        // ZipFile can read the entries from this file.\n        // ZipInputStream and commons compress will not- they seem upset that the data isn't actually here\n        File tempFile = new File(\"temp.zip\");\n        FileOutputStream output = new FileOutputStream(tempFile);\n        output.write(cdbytes);\n        output.flush();\n        output.close();\n\n        ZipFile zipFile = new ZipFile(tempFile);\n        Enumeration&lt;? extends ZipEntry&gt; zipEntries = zipFile.entries();\n        long offset = 0;\n        while (zipEntries.hasMoreElements()) {\n            ZipEntry entry = (ZipEntry) zipEntries.nextElement();\n            long fileSize = 0;\n            long extra = entry.getExtra() == null ? 0 : entry.getExtra().length;\n            offset += 30 + entry.getName().length() + extra;\n            if (!entry.isDirectory()) {\n                fileSize = entry.getCompressedSize();\n                System.out.println(entry.getName() + \" offset=\" + offset + \" size\" + fileSize);\n                // not working\n                // getEntryContent(bucket, key, offset, fileSize, (int)entry.getSize());\n            }\n            offset += fileSize;\n        }\n        zipFile.close();\n    }\n\n    private void getEntryContent(String bucket, String key, long offset, long compressedSize, int fullSize) throws Exception {\n        //HERE is where things go bad.\n        //my guess was that we need to get past the local header for an entry to the actual \n        //start of deflated content and then read all the content and pass to the Inflator.\n        //this yields java.util.zip.DataFormatException: incorrect header check\n\n        System.out.print(\"reading \" + compressedSize +  \" bytes starting from offset \" + offset);\n        GetObjectRequest req = new GetObjectRequest(bucket, key).withRange(offset, offset + compressedSize);\n        S3Object s3Object = s3.getObject(req);\n        byte[] con = IOUtils.toByteArray(s3Object.getObjectContent());\n        Inflater inf = new Inflater();\n        inf.setInput(con);\n        byte[] inflatedContent = new byte[fullSize];\n        int sz = inf.inflate(inflatedContent);\n        System.out.println(\"inflated: \" + sz);\n        // write inflatedContent to file or whatever...\n    }\n\n    public static int byteArrayToLeInt(byte[] b) {\n        final ByteBuffer bb = ByteBuffer.wrap(b);\n        bb.order(ByteOrder.LITTLE_ENDIAN);\n        return bb.getInt();\n    }\n\n    public static byte[] leIntToByteArray(int i) {\n        final ByteBuffer bb = ByteBuffer.allocate(Integer.SIZE / Byte.SIZE);\n        bb.order(ByteOrder.LITTLE_ENDIAN);\n        bb.putInt(i);\n        return bb.array();\n    }\n\n    protected AmazonS3 getClient() {\n        AmazonS3 client = AmazonS3ClientBuilder\n            .standard()\n            .withRegion(\"us-east-1\")\n            .build();\n        return client;\n    }\n\n    public static void main(String[] args) {\n        try {\n            new S3ZipTest(\"alexa-public\", \"test.zip\");\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Comparing the Python calculations to the ones in my Java code, I realized that Java is off by 4.  <code>entry.getExtra().length</code> may report 24, for example, as does the zipinfo cmd line utility for the same entry.  Python reports 28. I don't fully understand the discrepancy but the PKWare spec mentions \"2 byte identifier and a 2 byte data size field\" for the extra field.  At any rate, adding a fudge value of 4 got it working, but I'd like to understand what is happening a little more- adding random fudge values to make things work isn't settling:\n<code>offset += 30 + entry.getName().length() + extra + 4;</code></p>\n"},{"tags":["java","android","beacon","altbeacon"],"answers":[{"tags":[],"owner":{"account_id":1574065,"reputation":64130,"user_id":1461050,"accept_rate":89,"display_name":"davidgyoung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685394154,"creation_date":1685394154,"answer_id":76360301,"question_id":76359045,"body_markdown":"It seems your beacons are often not detected in during the ranging cycle.  This typically happens because they are not advertising frequently enough.  When a beacon does not appear in the list, that is the Android Beacon Library&#39;s way of telling you that the beacon was not detected since the last ranging callback.\r\n\r\nIt&#39;s easy to add smoothing logic if you want to keep treating them as visible despite the fact that they haven&#39;t been detected in awhile.  Here&#39;s a class that does exactly that, retaining them for a minimum of 10 seconds before it will drop them off the detected list:\r\n\r\n```\r\nimport org.altbeacon.beacon.Beacon\r\nimport java.util.ArrayList\r\n\r\n/*\r\n * This class is used to smooth out the beacon ranging data to prevent periodic dropouts.  By\r\n * default, it will retain beacons in the list if detected in the past 10 secconds, but you can \r\n * adjust this with the smoothingWindowMillis property.\r\n * \r\n * To use this class, simply add it to your project and call a line like below wherever you get \r\n * an update of ranged beacons (in an observer or in didRangeBeacons):\r\n * \r\n *  val smoothedBeacons = BeaconRangingSmoother.shared.add(beacons).visibleBeacons\r\n */\r\nclass BeaconRangingSmoother {\r\n    private var beacons: ArrayList&lt;Beacon&gt; = ArrayList&lt;Beacon&gt;()\r\n    var smoothingWindowMillis: Long = 10000\r\n    var visibleBeacons: List&lt;Beacon&gt; = ArrayList&lt;Beacon&gt;()\r\n        get() {\r\n            var visible = ArrayList&lt;Beacon&gt;()\r\n            for (beacon in beacons) {\r\n                if (System.currentTimeMillis() - beacon.lastCycleDetectionTimestamp &lt; smoothingWindowMillis) {\r\n                    visible.add(beacon)\r\n                }\r\n            }\r\n            return visible\r\n        }\r\n    fun add(detectedBeacons: Collection&lt;Beacon&gt;): BeaconRangingSmoother {\r\n        for (beacon in detectedBeacons) {\r\n            beacon.lastCycleDetectionTimestamp = System.currentTimeMillis()\r\n            beacons.add(beacon)\r\n        }\r\n        return this\r\n    }    \r\n    companion object {\r\n        val TAG = &quot;BeaconRangingSmoother&quot;\r\n        val shared = BeaconRangingSmoother()\r\n    }\r\n}\r\n```\r\n\r\nTo use this class, place the following line wherever you get beacon ranging updates:\r\n\r\nval smoothedBeacons = BeaconRangingSmoother.shared.add(beacons).visibleBeacons\r\n \r\nThe above will convert the list beacons with dropouts (`beacons`) to one without dropouts (`smoothedBeacons`).","title":"Android Beacon Library - Some beacons aren&#39;t being detected in each scan, even though the position is the same","body":"<p>It seems your beacons are often not detected in during the ranging cycle.  This typically happens because they are not advertising frequently enough.  When a beacon does not appear in the list, that is the Android Beacon Library's way of telling you that the beacon was not detected since the last ranging callback.</p>\n<p>It's easy to add smoothing logic if you want to keep treating them as visible despite the fact that they haven't been detected in awhile.  Here's a class that does exactly that, retaining them for a minimum of 10 seconds before it will drop them off the detected list:</p>\n<pre><code>import org.altbeacon.beacon.Beacon\nimport java.util.ArrayList\n\n/*\n * This class is used to smooth out the beacon ranging data to prevent periodic dropouts.  By\n * default, it will retain beacons in the list if detected in the past 10 secconds, but you can \n * adjust this with the smoothingWindowMillis property.\n * \n * To use this class, simply add it to your project and call a line like below wherever you get \n * an update of ranged beacons (in an observer or in didRangeBeacons):\n * \n *  val smoothedBeacons = BeaconRangingSmoother.shared.add(beacons).visibleBeacons\n */\nclass BeaconRangingSmoother {\n    private var beacons: ArrayList&lt;Beacon&gt; = ArrayList&lt;Beacon&gt;()\n    var smoothingWindowMillis: Long = 10000\n    var visibleBeacons: List&lt;Beacon&gt; = ArrayList&lt;Beacon&gt;()\n        get() {\n            var visible = ArrayList&lt;Beacon&gt;()\n            for (beacon in beacons) {\n                if (System.currentTimeMillis() - beacon.lastCycleDetectionTimestamp &lt; smoothingWindowMillis) {\n                    visible.add(beacon)\n                }\n            }\n            return visible\n        }\n    fun add(detectedBeacons: Collection&lt;Beacon&gt;): BeaconRangingSmoother {\n        for (beacon in detectedBeacons) {\n            beacon.lastCycleDetectionTimestamp = System.currentTimeMillis()\n            beacons.add(beacon)\n        }\n        return this\n    }    \n    companion object {\n        val TAG = &quot;BeaconRangingSmoother&quot;\n        val shared = BeaconRangingSmoother()\n    }\n}\n</code></pre>\n<p>To use this class, place the following line wherever you get beacon ranging updates:</p>\n<p>val smoothedBeacons = BeaconRangingSmoother.shared.add(beacons).visibleBeacons</p>\n<p>The above will convert the list beacons with dropouts (<code>beacons</code>) to one without dropouts (<code>smoothedBeacons</code>).</p>\n"}],"owner":{"account_id":28149305,"reputation":15,"user_id":21511150,"display_name":"xavi999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685394154,"creation_date":1685378872,"question_id":76359045,"body_markdown":"I have 10 beacons to be detected by the library, they are placed randomly across a 10 meter radius.\r\n\r\nIn each scan, I only get 3-4 beacons to be detected, and in the following scan (with the same exact phone position) 2 or 3 of those disappear and I end up with only 1 update.\r\n\r\n\r\n\r\n\r\n\r\nIn the first scan:\r\n```\r\nD/Beacon: 3 :RSSI:-79 Distance: 3,66 \r\nD/Beacon: 1 :RSSI:-73 Distance: 4,22\r\nD/Beacon: 2 :RSSI:-77 Distance: 2,66\r\nD/Beacon: 4 :RSSI:-85 Distance: 3,26 \r\n```\r\n\r\nThen in the following scan:\r\n```\r\nD/Beacon: 1 :RSSI:-82 Distance: 3,55 \r\nD/Beacon: 2 :RSSI:-72 Distance: 2,58\r\n```\r\n\r\nAnd next:\r\n```\r\nD/Beacon: 6 :RSSI:-73 Distance: 3,11\r\nD/Beacon: 2 :RSSI:-73 Distance: 2,52\r\n```\r\n\r\nIs there any specific reason behind this, and if so, is there a way to solve it or minimize these events?\r\n\r\nFor example, would specifying the UUID for the region to scan help this cause?","title":"Android Beacon Library - Some beacons aren&#39;t being detected in each scan, even though the position is the same","body":"<p>I have 10 beacons to be detected by the library, they are placed randomly across a 10 meter radius.</p>\n<p>In each scan, I only get 3-4 beacons to be detected, and in the following scan (with the same exact phone position) 2 or 3 of those disappear and I end up with only 1 update.</p>\n<p>In the first scan:</p>\n<pre><code>D/Beacon: 3 :RSSI:-79 Distance: 3,66 \nD/Beacon: 1 :RSSI:-73 Distance: 4,22\nD/Beacon: 2 :RSSI:-77 Distance: 2,66\nD/Beacon: 4 :RSSI:-85 Distance: 3,26 \n</code></pre>\n<p>Then in the following scan:</p>\n<pre><code>D/Beacon: 1 :RSSI:-82 Distance: 3,55 \nD/Beacon: 2 :RSSI:-72 Distance: 2,58\n</code></pre>\n<p>And next:</p>\n<pre><code>D/Beacon: 6 :RSSI:-73 Distance: 3,11\nD/Beacon: 2 :RSSI:-73 Distance: 2,52\n</code></pre>\n<p>Is there any specific reason behind this, and if so, is there a way to solve it or minimize these events?</p>\n<p>For example, would specifying the UUID for the region to scan help this cause?</p>\n"},{"tags":["java","jdeprscan"],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685393612,"creation_date":1685392378,"question_id":76360189,"body_markdown":"I have a Java REST API that uses JDK8 and Spring Boot 2.6.8. I plan to upgrade it to JDK17 and Spring Boot 3.x. I ran `jdeprscan` against its jar to determine which classes, etc., I need to update:\r\n\r\n    jdeprscan target\\myapplication.jar\r\n\r\nBut I get a bunch of errors. At first most of them indicated &quot;cannot find class&quot;, such as:\r\n\r\n    error: cannot find class org/slf4j/LoggerFactory\r\n\r\nThen I realized the jar I ran `jdeprscan` against is created using `spring-boot-maven-plugin` (from my pom.xml) - which I noticed does not contain all the dependency jars or their classes. So I assumed that &quot;incomplete&quot; jar is the reason for all the `cannot find class` errors. I&#39;ve changed my `pom.xml` to instead use `maven-assembly-plugin` so I now get a jar that contains all my project&#39;s dependency libraries and their classes. Now I point my `jdeprscan` to that jar instead.\r\n\r\nThe `jdeprscan` results now contain many messages that will be useful in upgrading my JDK, such as `org/apache/logging/log4j/util/LoaderUtil uses deprecated class ...`, etc. \r\n\r\nHowever, it still also contains a bunch of &quot;cannot find class&quot; messages such as: `error: cannot find class javax/servlet/FilterChain`.\r\n\r\nMy questions are: \r\n\r\n - Does `jdeprscan` in fact need to be run against a jar that contains all dependency classes - rather than the jar that `spring-boot-maven-plugin` creates?\r\n - Why would `jdeprscan` result in messages indicating `error: cannot find class ...` when, based on the fact that I can successfully execute the jar itself via the java -jar command, I believe that all the required are in fact in the jar?","title":"jdeprscan resulting in many &quot;cannot find class&quot; errors","body":"<p>I have a Java REST API that uses JDK8 and Spring Boot 2.6.8. I plan to upgrade it to JDK17 and Spring Boot 3.x. I ran <code>jdeprscan</code> against its jar to determine which classes, etc., I need to update:</p>\n<pre><code>jdeprscan target\\myapplication.jar\n</code></pre>\n<p>But I get a bunch of errors. At first most of them indicated &quot;cannot find class&quot;, such as:</p>\n<pre><code>error: cannot find class org/slf4j/LoggerFactory\n</code></pre>\n<p>Then I realized the jar I ran <code>jdeprscan</code> against is created using <code>spring-boot-maven-plugin</code> (from my pom.xml) - which I noticed does not contain all the dependency jars or their classes. So I assumed that &quot;incomplete&quot; jar is the reason for all the <code>cannot find class</code> errors. I've changed my <code>pom.xml</code> to instead use <code>maven-assembly-plugin</code> so I now get a jar that contains all my project's dependency libraries and their classes. Now I point my <code>jdeprscan</code> to that jar instead.</p>\n<p>The <code>jdeprscan</code> results now contain many messages that will be useful in upgrading my JDK, such as <code>org/apache/logging/log4j/util/LoaderUtil uses deprecated class ...</code>, etc.</p>\n<p>However, it still also contains a bunch of &quot;cannot find class&quot; messages such as: <code>error: cannot find class javax/servlet/FilterChain</code>.</p>\n<p>My questions are:</p>\n<ul>\n<li>Does <code>jdeprscan</code> in fact need to be run against a jar that contains all dependency classes - rather than the jar that <code>spring-boot-maven-plugin</code> creates?</li>\n<li>Why would <code>jdeprscan</code> result in messages indicating <code>error: cannot find class ...</code> when, based on the fact that I can successfully execute the jar itself via the java -jar command, I believe that all the required are in fact in the jar?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","jar","properties"],"comments":[{"owner":{"account_id":8740577,"reputation":447,"user_id":6537787,"display_name":"Mithat Konuk"},"score":0,"creation_date":1547813456,"post_id":54253183,"comment_id":95331419,"body_markdown":"change this @PropertySource(&quot;classpath:&quot; + SpringConfiguration.EXTERNALIZED_PROPERTIES) as  @PropertySource(&quot;file:&quot; + {location}/propertiesfilename) it will give you access external side also you have to  give exactly {location} via JVM parameter or spring parameter","body":"change this @PropertySource(&quot;classpath:&quot; + SpringConfiguration.EXTERNALIZED_PROPERTIES) as  @PropertySource(&quot;file:&quot; + {location}/propertiesfilename) it will give you access external side also you have to  give exactly {location} via JVM parameter or spring parameter"}],"answers":[{"tags":[],"owner":{"account_id":3928930,"reputation":963,"user_id":3248312,"display_name":"iamrajshah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1547811681,"creation_date":1547811681,"answer_id":54253286,"question_id":54253183,"body_markdown":"If you need to add external properties you can specify that in `application.properties` only.  \r\n\r\nFor example:\r\n`myapplication.username=&#39;john&#39;`\r\n\r\nFrom Spring boot code you can access it like:  \r\n\r\n     @Autowired  \r\n     private Environment env;\r\n\r\n    //To access it\r\n     String username = env.getProperty(&quot;myapplication.username&quot;);  \r\n    \r\nOR\r\n\r\n`@Value(&quot;$myapplication.username&quot;)`\r\n\r\nI don&#39;t think there is any need to have external file if your requirement is as you mention in question.\r\n\r\n ","title":"Spring Boot External properties outside of jar","body":"<p>If you need to add external properties you can specify that in <code>application.properties</code> only.  </p>\n\n<p>For example:\n<code>myapplication.username='john'</code></p>\n\n<p>From Spring boot code you can access it like:  </p>\n\n<pre><code> @Autowired  \n private Environment env;\n\n//To access it\n String username = env.getProperty(\"myapplication.username\");  \n</code></pre>\n\n<p>OR</p>\n\n<p><code>@Value(\"$myapplication.username\")</code></p>\n\n<p>I don't think there is any need to have external file if your requirement is as you mention in question.</p>\n"},{"tags":[],"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547811906,"creation_date":1547811906,"answer_id":54253347,"question_id":54253183,"body_markdown":"If you want different props for development and production, use application-dev.properties and application-prod.properties and set proper spring profile on startup. If you need to override any property from the jar just add `-Dmyproperty=myvalue` to startup command\r\n","title":"Spring Boot External properties outside of jar","body":"<p>If you want different props for development and production, use application-dev.properties and application-prod.properties and set proper spring profile on startup. If you need to override any property from the jar just add <code>-Dmyproperty=myvalue</code> to startup command</p>\n"},{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547812026,"creation_date":1547812026,"answer_id":54253389,"question_id":54253183,"body_markdown":"Try specifying an absolute system path as the value of `file:` attribute.\r\n\r\nOptionally I would advise setting that absolute path first as an ENV variable and then using that variable in the `file:`:\r\n\r\n    @PropertySource(&quot;file:${EXTERNAL_RESOURCE_DIR}/application.properties&quot;) \r\n\r\nSo that when that directory changes you wont need to alter your code.","title":"Spring Boot External properties outside of jar","body":"<p>Try specifying an absolute system path as the value of <code>file:</code> attribute.</p>\n\n<p>Optionally I would advise setting that absolute path first as an ENV variable and then using that variable in the <code>file:</code>:</p>\n\n<pre><code>@PropertySource(\"file:${EXTERNAL_RESOURCE_DIR}/application.properties\") \n</code></pre>\n\n<p>So that when that directory changes you wont need to alter your code.</p>\n"},{"tags":[],"owner":{"account_id":6392327,"reputation":168,"user_id":4957986,"display_name":"Victor Dovgaliuc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547819324,"creation_date":1547819324,"answer_id":54255363,"question_id":54253183,"body_markdown":"Similar answer of Maciej Kowalski.\r\n\r\n    @PropertySources({\r\n    @PropertySource(value = {&quot;classpath:application.properties&quot;}, ignoreResourceNotFound = true),\r\n    @PropertySource(value = {&quot;file:${external.config.location}/application.properties&quot;}, ignoreResourceNotFound = true)\r\n})\r\n\r\nAssuming in folder &quot;*/home/me/configs*&quot; you have &quot;*application.properties*&quot; file.\r\n\r\nRun app with custom folder:\r\n\r\n    java -jar app.jar --external.config.location=&quot;/home/me/configs&quot;\r\nor\r\n\r\n    java -jar app.jar --external.config.location=&quot;C:\\\\users\\\\your_user\\\\configs&quot;\r\nAdditionally you could export it as environment variable (unix)\r\n\r\n    export JAVA_OPTS=&#39;-Dexternal_config_location=/home/me/configs&#39;\r\n\r\n \r\n    ","title":"Spring Boot External properties outside of jar","body":"<p>Similar answer of Maciej Kowalski.</p>\n\n<pre><code>@PropertySources({\n@PropertySource(value = {\"classpath:application.properties\"}, ignoreResourceNotFound = true),\n@PropertySource(value = {\"file:${external.config.location}/application.properties\"}, ignoreResourceNotFound = true)\n</code></pre>\n\n<p>})</p>\n\n<p>Assuming in folder \"<em>/home/me/configs</em>\" you have \"<em>application.properties</em>\" file.</p>\n\n<p>Run app with custom folder:</p>\n\n<pre><code>java -jar app.jar --external.config.location=\"/home/me/configs\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>java -jar app.jar --external.config.location=\"C:\\\\users\\\\your_user\\\\configs\"\n</code></pre>\n\n<p>Additionally you could export it as environment variable (unix)</p>\n\n<pre><code>export JAVA_OPTS='-Dexternal_config_location=/home/me/configs'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13580787,"reputation":115,"user_id":9796892,"display_name":"cuteBrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1548325608,"creation_date":1548325608,"answer_id":54344409,"question_id":54253183,"body_markdown":"The solution was to delete external.properties and configuration file. And instead of using it put all properties to application.properties. And put application.properties to folder with jar. Spring automatically prioritizes this property file over the property file inside jar.  ","title":"Spring Boot External properties outside of jar","body":"<p>The solution was to delete external.properties and configuration file. And instead of using it put all properties to application.properties. And put application.properties to folder with jar. Spring automatically prioritizes this property file over the property file inside jar.  </p>\n"},{"tags":[],"owner":{"account_id":7080403,"reputation":84,"user_id":5419028,"display_name":"Volo Myhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685391831,"creation_date":1685391831,"answer_id":76360141,"question_id":54253183,"body_markdown":"[@cuteBrick](https://stackoverflow.com/users/9796892/cutebrick) but this way, you need to copy/edit the whole application.properties.\r\nWhen you need to modify subset only, utilize Spring Profiles for it:\r\nplace `application-dev.properties` and/or `application-prod.properties` nearby JAR file, and override only necessary properties (urls, secrets) there.\r\n\r\nThen, run application specifying Spring Profile: `-Dspring.profiles.active=dev`\r\n(BTW the default Spring Profile is `default`)\r\n","title":"Spring Boot External properties outside of jar","body":"<p><a href=\"https://stackoverflow.com/users/9796892/cutebrick\">@cuteBrick</a> but this way, you need to copy/edit the whole application.properties.\nWhen you need to modify subset only, utilize Spring Profiles for it:\nplace <code>application-dev.properties</code> and/or <code>application-prod.properties</code> nearby JAR file, and override only necessary properties (urls, secrets) there.</p>\n<p>Then, run application specifying Spring Profile: <code>-Dspring.profiles.active=dev</code>\n(BTW the default Spring Profile is <code>default</code>)</p>\n"}],"owner":{"account_id":13580787,"reputation":115,"user_id":9796892,"display_name":"cuteBrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6933,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54344409,"answer_count":6,"score":1,"last_activity_date":1685391831,"creation_date":1547811324,"question_id":54253183,"body_markdown":"I am creating a Spring Boot application and i faced this problem.  \r\nI have my `application.properties` in recource folder but i also need external.properties file outside of jar to configure properties such like:   \r\nname,    \r\npassword,  \r\netc.   \r\nI want to have external.properties file outside of jar and inside resources folder for testing while developing.  \r\nI tried creating configuration file like this:\r\n\r\n    @Configuration\r\n     @PropertySource(&quot;classpath:&quot; + SpringConfiguration.EXTERNALIZED_PROPERTIES)\r\n     @PropertySource(value = &quot;file:./&quot; + \r\n     SpringConfiguration.EXTERNALIZED_PROPERTIES, ignoreResourceNotFound = true)\r\n     public class SpringConfiguration {\r\n           static final String EXTERNALIZED_PROPERTIES = &quot;external.properties&quot;;\r\n     }\r\nBut it still reads properties from resource folder. How can i make it read from outside of jar?","title":"Spring Boot External properties outside of jar","body":"<p>I am creating a Spring Boot application and i faced this problem.<br>\nI have my <code>application.properties</code> in recource folder but i also need external.properties file outside of jar to configure properties such like:<br>\nname,<br>\npassword,<br>\netc.<br>\nI want to have external.properties file outside of jar and inside resources folder for testing while developing.<br>\nI tried creating configuration file like this:</p>\n\n<pre><code>@Configuration\n @PropertySource(\"classpath:\" + SpringConfiguration.EXTERNALIZED_PROPERTIES)\n @PropertySource(value = \"file:./\" + \n SpringConfiguration.EXTERNALIZED_PROPERTIES, ignoreResourceNotFound = true)\n public class SpringConfiguration {\n       static final String EXTERNALIZED_PROPERTIES = \"external.properties\";\n }\n</code></pre>\n\n<p>But it still reads properties from resource folder. How can i make it read from outside of jar?</p>\n"},{"tags":["java","java-stream","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":2,"creation_date":1685375041,"post_id":76358655,"comment_id":134648165,"body_markdown":"have you tried to do some benchmarking?","body":"have you tried to do some benchmarking?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685375798,"post_id":76358655,"comment_id":134648270,"body_markdown":"The second would appear to have less statements.  The first closure, I imagine, is more exhaustive than the single _mapper::map_ call.","body":"The second would appear to have less statements.  The first closure, I imagine, is more exhaustive than the single <i>mapper::map</i> call."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1685394668,"post_id":76358655,"comment_id":134650953,"body_markdown":"So the question, I guess, is Reactor good for a pure number crunching app? It works fine such an app, the difference is in ~5% from what I&#39;ve seen, and twice easier to code. But if the app has a mix of IO and number crunching, that&#39;s a completely different story and that&#39;s what you should look at.","body":"So the question, I guess, is Reactor good for a pure number crunching app? It works fine such an app, the difference is in ~5% from what I&#39;ve seen, and twice easier to code. But if the app has a mix of IO and number crunching, that&#39;s a completely different story and that&#39;s what you should look at."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685438351,"post_id":76358655,"comment_id":134656187,"body_markdown":"Why do you emphasize the initialization of `list` when you don’t use it at all? Do you actually mean `Mono.just(list)`? But what’s the point of wrapping the `Flux.fromIterable(…)` call in the `Mono` operation? Why not just use `Flux.fromIterable(list) .map(mapper::map)`?","body":"Why do you emphasize the initialization of <code>list</code> when you don’t use it at all? Do you actually mean <code>Mono.just(list)</code>? But what’s the point of wrapping the <code>Flux.fromIterable(…)</code> call in the <code>Mono</code> operation? Why not just use <code>Flux.fromIterable(list) .map(mapper::map)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685391362,"creation_date":1685391362,"answer_id":76360107,"question_id":76358655,"body_markdown":"I don&#39;t think you should choose from those two.\r\n\r\nIt depends on which task is executed by your mapper.\r\nIf there will be some blocking or long executed operation which you have wrapped with Mono - the best one will be:\r\n\r\n    List&lt;Entity&gt; list = ... // init some collection\r\n    Flux.fromIterable(list)\r\n        .map(mapper::map)\r\n        ...\r\n\r\nWhether you worry about objects count, you can use Stream.map on list itself:\r\n\r\n    List&lt;Entity&gt; list = ... // init some collection\r\n    List&lt;Entity&gt; processedEntities = list.stream().map(mapper::map).toList();\r\n\r\nit is on your consideration which one to choose, I can only assume that you still have to return some Mono/Flux from your method, so you will not achieve many benefits from those redundant steps.\r\n\r\nSpeaking about two examples you&#39;ve provided, its looks like incorrect usage, since it makes redundant convertation from Mono to Flux\r\n","title":"Is there performance impact of using `map() + stream()` vs `flatMapMany() + map()`?","body":"<p>I don't think you should choose from those two.</p>\n<p>It depends on which task is executed by your mapper.\nIf there will be some blocking or long executed operation which you have wrapped with Mono - the best one will be:</p>\n<pre><code>List&lt;Entity&gt; list = ... // init some collection\nFlux.fromIterable(list)\n    .map(mapper::map)\n    ...\n</code></pre>\n<p>Whether you worry about objects count, you can use Stream.map on list itself:</p>\n<pre><code>List&lt;Entity&gt; list = ... // init some collection\nList&lt;Entity&gt; processedEntities = list.stream().map(mapper::map).toList();\n</code></pre>\n<p>it is on your consideration which one to choose, I can only assume that you still have to return some Mono/Flux from your method, so you will not achieve many benefits from those redundant steps.</p>\n<p>Speaking about two examples you've provided, its looks like incorrect usage, since it makes redundant convertation from Mono to Flux</p>\n"}],"owner":{"account_id":17319413,"reputation":7,"user_id":12545201,"display_name":"Kirill Khokhlov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1685391362,"creation_date":1685374864,"question_id":76358655,"body_markdown":"Is there difference in performance between using `map() + stream()` and `flatMapMany() + map()`?\r\n\r\nFor example, we have a collection of some entities and we need to map it to another representation of these objects:\r\n\r\n```java\r\nList&lt;Entity&gt; list = ... // init some collection\r\nMono.just(collection)\r\n  .map(collection -&gt; collection.stream.map(mapper::map))\r\n  .flatMapMany(Flux::fromStream)\r\n```\r\n\r\nOR\r\n\r\n```java\r\nList&lt;Entity&gt; list = ... // init some collection\r\nMono.just(collection)\r\n  .flatMapMany(Flux::fromIterable)\r\n  .map(mapper::map)\r\n```\r\n\r\nIn my opinion, Stream.map operations are more lightweight than Flux.map and allocate fewer objects, so then the first solution is better, but I&#39;m not quite sure.","title":"Is there performance impact of using `map() + stream()` vs `flatMapMany() + map()`?","body":"<p>Is there difference in performance between using <code>map() + stream()</code> and <code>flatMapMany() + map()</code>?</p>\n<p>For example, we have a collection of some entities and we need to map it to another representation of these objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Entity&gt; list = ... // init some collection\nMono.just(collection)\n  .map(collection -&gt; collection.stream.map(mapper::map))\n  .flatMapMany(Flux::fromStream)\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Entity&gt; list = ... // init some collection\nMono.just(collection)\n  .flatMapMany(Flux::fromIterable)\n  .map(mapper::map)\n</code></pre>\n<p>In my opinion, Stream.map operations are more lightweight than Flux.map and allocate fewer objects, so then the first solution is better, but I'm not quite sure.</p>\n"},{"tags":["java","android","android-studio","validation"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1683926906,"post_id":76239986,"comment_id":134447132,"body_markdown":"You have a space after Z in the RE. Should be fine for match names with spaces. You may add a - to the square brackets to match hyphens. [a-zA-Z -]+","body":"You have a space after Z in the RE. Should be fine for match names with spaces. You may add a - to the square brackets to match hyphens. [a-zA-Z -]+"}],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683928830,"creation_date":1683928830,"answer_id":76240180,"question_id":76239986,"body_markdown":"The regex should also include `space(\\\\s)` and `-`\r\n```\r\nelse if(!textFullName.matches(&quot;[a-zA-Z\\\\s-]+&quot;))\r\n```","title":"Android studio name validation","body":"<p>The regex should also include <code>space(\\\\s)</code> and <code>-</code></p>\n<pre><code>else if(!textFullName.matches(&quot;[a-zA-Z\\\\s-]+&quot;))\n</code></pre>\n"}],"owner":{"account_id":25873542,"reputation":1,"user_id":19604011,"display_name":"Patrick Kossik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685390629,"creation_date":1683926150,"question_id":76239986,"body_markdown":"I&#39;m comming with a little question here. I need to do something to validate the a name in the registration form, until now I did this : \r\n\r\n&gt; if(TextUtils.isEmpty(textFullName) )\r\n\r\nand this\r\n\r\n&gt;  else if(!textFullName.matches(&quot;[a-zA-Z ]+&quot;))\r\n\r\nbut those are for empty and alphabetic characters, the problem is that I can&#39;t have spaces between names like : &quot; Bill Bob&quot; ( it works only if they are together : &quot;BillBob&quot; ) and another thing is that I want this symbol : &quot;-&quot; , because some names have it, like : &quot;Bill-Bob&quot;. \r\nThank you for helping me out!","title":"Android studio name validation","body":"<p>I'm comming with a little question here. I need to do something to validate the a name in the registration form, until now I did this :</p>\n<blockquote>\n<p>if(TextUtils.isEmpty(textFullName) )</p>\n</blockquote>\n<p>and this</p>\n<blockquote>\n<p>else if(!textFullName.matches(&quot;[a-zA-Z ]+&quot;))</p>\n</blockquote>\n<p>but those are for empty and alphabetic characters, the problem is that I can't have spaces between names like : &quot; Bill Bob&quot; ( it works only if they are together : &quot;BillBob&quot; ) and another thing is that I want this symbol : &quot;-&quot; , because some names have it, like : &quot;Bill-Bob&quot;.\nThank you for helping me out!</p>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache","quarkus-hibernate-orm"],"answers":[{"tags":[],"owner":{"account_id":2818245,"reputation":581,"user_id":2422715,"accept_rate":31,"display_name":"Lorenzo De Francesco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685390266,"creation_date":1685390266,"answer_id":76360024,"question_id":76358189,"body_markdown":"I found the problem, it is the annotation `@MappedSuperclass`. You cannot annotate a class with `@Entity` and `@MappedSuperclass`","title":"Quarkus 3 + Hibernate 6 error on packages","body":"<p>I found the problem, it is the annotation <code>@MappedSuperclass</code>. You cannot annotate a class with <code>@Entity</code> and <code>@MappedSuperclass</code></p>\n"}],"owner":{"account_id":2818245,"reputation":581,"user_id":2422715,"accept_rate":31,"display_name":"Lorenzo De Francesco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76360024,"answer_count":1,"score":0,"last_activity_date":1685390266,"creation_date":1685370645,"question_id":76358189,"body_markdown":"I updated my Project to Quarkus 3 and I am getting this error\r\n\r\n```\r\nAssociation &#39;com.step.trackactions.model.PlatformActionLeadEntity.company&#39; targets an unknown entity named &#39;com.step.common.model.Company&#39;\r\n```\r\n\r\n`PlatformActionLeadEntity` is made like this\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;PlatformAction&quot;)\r\n@RegisterForReflection\r\npublic class PlatformActionLeadEntity{\r\n\r\n    private Customer customer;\r\n\r\n    private Company company;\r\n\r\n}\r\n```\r\n\r\nand both Company and Customer are tagged as entity\r\n\r\n```\r\n@Entity\r\n@MappedSuperclass\r\n@Table(name = &quot;Company&quot;)\r\n@RegisterForReflection\r\npublic class Company extends PanacheEntityBase implements Cloneable { ... }\r\n```\r\n\r\n```\r\n@Entity\r\n@MappedSuperclass\r\n@Table(name = &quot;Customer&quot;)\r\n@RegisterForReflection\r\npublic class Customer extends PanacheEntityBase implements Cloneable { ... }\r\n```\r\n\r\nthe point is that\r\n* `com.step.trackactions.model.PlatformActionLeadEntity` is inside the project \r\n* `com.step.common.model.Company` is in an external library imported in the project\r\n\r\nand in `application.properties` I added\r\n\r\n```\r\nquarkus.hibernate-orm.packages=com.step\r\n```\r\n\r\nbut it dies not work, with the old version of quarkus he used to work :(","title":"Quarkus 3 + Hibernate 6 error on packages","body":"<p>I updated my Project to Quarkus 3 and I am getting this error</p>\n<pre><code>Association 'com.step.trackactions.model.PlatformActionLeadEntity.company' targets an unknown entity named 'com.step.common.model.Company'\n</code></pre>\n<p><code>PlatformActionLeadEntity</code> is made like this</p>\n<pre><code>@Entity\n@Table(name = &quot;PlatformAction&quot;)\n@RegisterForReflection\npublic class PlatformActionLeadEntity{\n\n    private Customer customer;\n\n    private Company company;\n\n}\n</code></pre>\n<p>and both Company and Customer are tagged as entity</p>\n<pre><code>@Entity\n@MappedSuperclass\n@Table(name = &quot;Company&quot;)\n@RegisterForReflection\npublic class Company extends PanacheEntityBase implements Cloneable { ... }\n</code></pre>\n<pre><code>@Entity\n@MappedSuperclass\n@Table(name = &quot;Customer&quot;)\n@RegisterForReflection\npublic class Customer extends PanacheEntityBase implements Cloneable { ... }\n</code></pre>\n<p>the point is that</p>\n<ul>\n<li><code>com.step.trackactions.model.PlatformActionLeadEntity</code> is inside the project</li>\n<li><code>com.step.common.model.Company</code> is in an external library imported in the project</li>\n</ul>\n<p>and in <code>application.properties</code> I added</p>\n<pre><code>quarkus.hibernate-orm.packages=com.step\n</code></pre>\n<p>but it dies not work, with the old version of quarkus he used to work :(</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1679485929,"post_id":75810944,"comment_id":133729649,"body_markdown":"Does this answer your question? [Could not build ClassFile - ArchiveException](https://stackoverflow.com/questions/27202939/could-not-build-classfile-archiveexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27202939/could-not-build-classfile-archiveexception\">Could not build ClassFile - ArchiveException</a>"},{"owner":{"account_id":28084394,"reputation":11,"user_id":21454979,"display_name":"YesterDavid135"},"score":0,"creation_date":1679492254,"post_id":75810944,"comment_id":133731407,"body_markdown":"@XtremeBaumer thanks, but I already tried to change the java versions but that didn&#39;t worked.","body":"@XtremeBaumer thanks, but I already tried to change the java versions but that didn&#39;t worked."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1679555100,"post_id":75810944,"comment_id":133743216,"body_markdown":"its not about java versions per se. its about javassist dependecy (maybe also tyhmeleaf)","body":"its not about java versions per se. its about javassist dependecy (maybe also tyhmeleaf)"}],"answers":[{"tags":[],"owner":{"account_id":23370664,"reputation":1,"user_id":17441567,"display_name":"ohSavee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685389366,"creation_date":1685389366,"answer_id":76359967,"question_id":75810944,"body_markdown":"Try to recreate the artifact by going on \r\n\r\n    File &gt; Project Structure &gt; Artifacts\r\nthen delete the current one and create a new one by going on\r\n\r\n    + &gt; Jar &gt; From Modules With Dependencies\r\nAdd your main class then click OK and Apply. Then to build the artifact go on \r\n\r\n    File &gt; Build &gt; Build Artifacts &gt; Build\r\nIf it doesn&#39;t work this way please add a comment/answer to this post \r\n\r\n\r\n\r\n ","title":"Java PersistenceException if executed as jar","body":"<p>Try to recreate the artifact by going on</p>\n<pre><code>File &gt; Project Structure &gt; Artifacts\n</code></pre>\n<p>then delete the current one and create a new one by going on</p>\n<pre><code>+ &gt; Jar &gt; From Modules With Dependencies\n</code></pre>\n<p>Add your main class then click OK and Apply. Then to build the artifact go on</p>\n<pre><code>File &gt; Build &gt; Build Artifacts &gt; Build\n</code></pre>\n<p>If it doesn't work this way please add a comment/answer to this post</p>\n"}],"owner":{"account_id":28084394,"reputation":11,"user_id":21454979,"display_name":"YesterDavid135"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685389366,"creation_date":1679480255,"question_id":75810944,"body_markdown":"I&#39;m currently building a Discord Bot with [JDA](https://github.com/DV8FromTheWorld/JDA) and I&#39;m trying to add a Database Connection with Hibernate. If I execute the Program inside IntelliJ it works without any errors. But after I compiled the Project and execute the jar file, I get this error: (My goal is to execute the bot in a docker container.)\r\n\r\n```\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: Unable to build entity manager factory\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:83)\r\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n        at ch.ydavid.pizzabot.DAO.GuildConfigDAO.&lt;init&gt;(GuildConfigDAO.java:12)\r\n        at ch.ydavid.pizzabot.manager.DynamicVoiceManager.&lt;init&gt;(DynamicVoiceManager.java:18)\r\n        at ch.ydavid.pizzabot.manager.GeneralManager.&lt;init&gt;(GeneralManager.java:5)\r\n        at ch.ydavid.pizzabot.Main.main(Main.java:32)\r\nCaused by: org.hibernate.jpa.boot.archive.spi.ArchiveException: Could not build ClassFile\r\n        at org.hibernate.jpa.boot.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:88)\r\n        at org.hibernate.jpa.boot.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:65)\r\n        at org.hibernate.jpa.boot.archive.internal.JarFileBasedArchiveDescriptor.visitArchive(JarFileBasedArchiveDescriptor.java:176)\r\n        at org.hibernate.jpa.boot.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:72)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.scan(EntityManagerFactoryBuilderImpl.java:723)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:219)\r\n        at org.hibernate.jpa.boot.spi.Bootstrap.getEntityManagerFactoryBuilder(Bootstrap.java:51)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:182)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:131)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:88)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:69)\r\n        ... 6 more\r\n```\r\n\r\nI already checked the jar file for the javax.persistence dependency and the persistence.xml file. They are both provided in the Jar.\r\n\r\nMy source code is on [GitHub](https://github.com/YesterDavid135/Pizza-Bot/tree/add_jpa). (add_jpa branch)","title":"Java PersistenceException if executed as jar","body":"<p>I'm currently building a Discord Bot with <a href=\"https://github.com/DV8FromTheWorld/JDA\" rel=\"nofollow noreferrer\">JDA</a> and I'm trying to add a Database Connection with Hibernate. If I execute the Program inside IntelliJ it works without any errors. But after I compiled the Project and execute the jar file, I get this error: (My goal is to execute the bot in a docker container.)</p>\n<pre><code>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: Unable to build entity manager factory\n        at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:83)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n        at ch.ydavid.pizzabot.DAO.GuildConfigDAO.&lt;init&gt;(GuildConfigDAO.java:12)\n        at ch.ydavid.pizzabot.manager.DynamicVoiceManager.&lt;init&gt;(DynamicVoiceManager.java:18)\n        at ch.ydavid.pizzabot.manager.GeneralManager.&lt;init&gt;(GeneralManager.java:5)\n        at ch.ydavid.pizzabot.Main.main(Main.java:32)\nCaused by: org.hibernate.jpa.boot.archive.spi.ArchiveException: Could not build ClassFile\n        at org.hibernate.jpa.boot.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:88)\n        at org.hibernate.jpa.boot.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:65)\n        at org.hibernate.jpa.boot.archive.internal.JarFileBasedArchiveDescriptor.visitArchive(JarFileBasedArchiveDescriptor.java:176)\n        at org.hibernate.jpa.boot.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:72)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.scan(EntityManagerFactoryBuilderImpl.java:723)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:219)\n        at org.hibernate.jpa.boot.spi.Bootstrap.getEntityManagerFactoryBuilder(Bootstrap.java:51)\n        at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:182)\n        at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:131)\n        at org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilderOrNull(HibernatePersistenceProvider.java:88)\n        at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:69)\n        ... 6 more\n</code></pre>\n<p>I already checked the jar file for the javax.persistence dependency and the persistence.xml file. They are both provided in the Jar.</p>\n<p>My source code is on <a href=\"https://github.com/YesterDavid135/Pizza-Bot/tree/add_jpa\" rel=\"nofollow noreferrer\">GitHub</a>. (add_jpa branch)</p>\n"},{"tags":["java","iphone","objective-c"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1263317737,"post_id":2050943,"comment_id":1978124,"body_markdown":"The website kind of says it all. But remember, you&#39;re not actually writing Java, you&#39;re writing XML! http://xmlvm.org/iphone/","body":"The website kind of says it all. But remember, you&#39;re not actually writing Java, you&#39;re writing XML! <a href=\"http://xmlvm.org/iphone/\" rel=\"nofollow noreferrer\">xmlvm.org/iphone</a>"},{"owner":{"account_id":10416,"reputation":170168,"user_id":19679,"accept_rate":64,"display_name":"Brad Larson"},"score":0,"creation_date":1263325996,"post_id":2050943,"comment_id":1979054,"body_markdown":"There are a couple of questions that are very similar to this one: http://stackoverflow.com/questions/1267424/is-there-an-cocoa-or-objective-c-api-for-java , http://stackoverflow.com/questions/1193524/can-we-run-java-applictions-on-iphone","body":"There are a couple of questions that are very similar to this one: <a href=\"http://stackoverflow.com/questions/1267424/is-there-an-cocoa-or-objective-c-api-for-java\" title=\"is there an cocoa or objective c api for java\">stackoverflow.com/questions/1267424/&hellip;</a> , <a href=\"http://stackoverflow.com/questions/1193524/can-we-run-java-applictions-on-iphone\" title=\"can we run java applictions on iphone\">stackoverflow.com/questions/1193524/&hellip;</a>"},{"owner":{"account_id":474776,"reputation":5842,"user_id":884674,"accept_rate":69,"display_name":"jeet.chanchawat"},"score":0,"creation_date":1406322829,"post_id":2050943,"comment_id":38803919,"body_markdown":"http://www.robovm.org/","body":"<a href=\"http://www.robovm.org/\" rel=\"nofollow noreferrer\">robovm.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263317754,"creation_date":1263317754,"answer_id":2050995,"question_id":2050943,"body_markdown":"http://www.xmlvm.org/android/\r\n\r\nSpecifically talks about Java based Android apps being ported to the iPhone using non-Apple hardware.\r\n\r\nYou might also want to check out [MonoTouch][1] (C# rather than Java...but the two are very similar).\r\n\r\n\r\n  [1]: http://monotouch.net/","title":"How can one develop iPhone apps in Java?","body":"<p><a href=\"http://www.xmlvm.org/android/\" rel=\"nofollow noreferrer\">http://www.xmlvm.org/android/</a></p>\n\n<p>Specifically talks about Java based Android apps being ported to the iPhone using non-Apple hardware.</p>\n\n<p>You might also want to check out <a href=\"http://monotouch.net/\" rel=\"nofollow noreferrer\">MonoTouch</a> (C# rather than Java...but the two are very similar).</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":11,"up_vote_count":44,"is_accepted":true,"score":33,"last_activity_date":1487715831,"creation_date":1263317782,"answer_id":2050997,"question_id":2050943,"body_markdown":"If you&#39;ve completed your other projects, why not take the time to learn Objective-C?  There is a ton of material out on the web to help you get started.  Honestly, it won&#39;t be that hard and learning to do *some* memory management will be a great learning exercise.  Have you programmed in C before?\r\n\r\nMost cross compilers won&#39;t do a great job in converting your code, and debugging your project may become much more difficult if you develop them this way.\r\n\r\n\r\n  [1]: http://www.otierney.net/objective-c.html","title":"How can one develop iPhone apps in Java?","body":"<p>If you've completed your other projects, why not take the time to learn Objective-C?  There is a ton of material out on the web to help you get started.  Honestly, it won't be that hard and learning to do <em>some</em> memory management will be a great learning exercise.  Have you programmed in C before?</p>\n\n<p>Most cross compilers won't do a great job in converting your code, and debugging your project may become much more difficult if you develop them this way.</p>\n"},{"tags":[],"owner":{"account_id":71640,"reputation":5987,"user_id":207202,"accept_rate":99,"display_name":"deanvmc"},"down_vote_count":4,"up_vote_count":30,"is_accepted":false,"score":26,"last_activity_date":1546609122,"creation_date":1263317797,"answer_id":2050999,"question_id":2050943,"body_markdown":"I think your teacher sent you down the wrong path.\r\n\r\nThis is a classic example of trying to put a square peg into a round hole. The best way to develop for the iPhone is with the iPhone SDK and objective C. The best way to develop for Andriod is Java and the Android SDK. The best way to develop for WinMobile is C#/VB and the .Net Framework.\r\n\r\nAs you can see each has their own &quot;best&quot; SDK. Since you are only learning Java I would second the suggestion to play around with Java and Android.","title":"How can one develop iPhone apps in Java?","body":"<p>I think your teacher sent you down the wrong path.</p>\n\n<p>This is a classic example of trying to put a square peg into a round hole. The best way to develop for the iPhone is with the iPhone SDK and objective C. The best way to develop for Andriod is Java and the Android SDK. The best way to develop for WinMobile is C#/VB and the .Net Framework.</p>\n\n<p>As you can see each has their own \"best\" SDK. Since you are only learning Java I would second the suggestion to play around with Java and Android.</p>\n"},{"tags":[],"owner":{"account_id":59288,"reputation":1904,"user_id":177421,"accept_rate":76,"display_name":"Jacek"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1263317884,"creation_date":1263317884,"answer_id":2051012,"question_id":2050943,"body_markdown":"You need to know at least basics of Objective-C to develop for iPhone. However, it is possible to use C++ classes.\r\n\r\nAs far as I know Adobe is working on building Flex/Flash applications for iPhone. Read more here: http://theflashblog.com/?p=1513","title":"How can one develop iPhone apps in Java?","body":"<p>You need to know at least basics of Objective-C to develop for iPhone. However, it is possible to use C++ classes.</p>\n\n<p>As far as I know Adobe is working on building Flex/Flash applications for iPhone. Read more here: <a href=\"http://theflashblog.com/?p=1513\" rel=\"nofollow noreferrer\">http://theflashblog.com/?p=1513</a></p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1263321829,"creation_date":1263321829,"answer_id":2051453,"question_id":2050943,"body_markdown":"You can&#39;t.\r\n\r\nNote however that Monotouch allows you to develop in C# instead of Objective-C.  http://monotouch.net/","title":"How can one develop iPhone apps in Java?","body":"<p>You can't.</p>\n\n<p>Note however that Monotouch allows you to develop in C# instead of Objective-C.  <a href=\"http://monotouch.net/\" rel=\"nofollow noreferrer\">http://monotouch.net/</a></p>\n"},{"tags":[],"owner":{"account_id":591516,"reputation":51,"user_id":279276,"display_name":"Krusty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267517319,"creation_date":1266915120,"answer_id":2316809,"question_id":2050943,"body_markdown":"You can try iSpectrum ( get it at http://www.flexycore.com )\r\nYou&#39;ll be able to develop and debug your Java apps in Eclipse. You&#39;ll still need a Mac and XCode to launch it on the simulator, or install it on the real device, though. \r\nBut you won&#39;t have to actually use XCode editor. Plus you can use it for free if you&#39;re planning to work on an open source project.\r\n","title":"How can one develop iPhone apps in Java?","body":"<p>You can try iSpectrum ( get it at <a href=\"http://www.flexycore.com\" rel=\"nofollow noreferrer\">http://www.flexycore.com</a> )\nYou'll be able to develop and debug your Java apps in Eclipse. You'll still need a Mac and XCode to launch it on the simulator, or install it on the real device, though. \nBut you won't have to actually use XCode editor. Plus you can use it for free if you're planning to work on an open source project.</p>\n"},{"tags":[],"owner":{"account_id":38084,"reputation":2615,"user_id":109097,"accept_rate":71,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266915644,"creation_date":1266915644,"answer_id":2316860,"question_id":2050943,"body_markdown":"Perhaps you should consider Android applications instead of iPhone applications if you really want to develop in Java for smartphones. Android natively uses Java for it&#39;s applications; so perhaps this might be a better option?\r\n\r\nAs for iPhone, I would recommend you to look into Obj-C or C/C++ depending on the type of applications you want to make. Should be fun to dabble into a new language! :)","title":"How can one develop iPhone apps in Java?","body":"<p>Perhaps you should consider Android applications instead of iPhone applications if you really want to develop in Java for smartphones. Android natively uses Java for it's applications; so perhaps this might be a better option?</p>\n\n<p>As for iPhone, I would recommend you to look into Obj-C or C/C++ depending on the type of applications you want to make. Should be fun to dabble into a new language! :)</p>\n"},{"tags":[],"owner":{"account_id":272082,"reputation":1019,"user_id":562972,"accept_rate":83,"display_name":"Naijaba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332759362,"creation_date":1332759362,"answer_id":9870844,"question_id":2050943,"body_markdown":"If you plan on integrating app functionality with a website, I&#39;d highly recommend the GWT + PhoneGap model:\r\n\r\n[http://blog.daniel-kurka.de/2012/02/mgwt-and-phonegap-talk-at-webmontag-in.html][1]\r\n[http://turbomanage.wordpress.com/2010/09/24/gwt-phonegap-native-mobile-apps-quickly/][2]\r\n\r\n\r\n  [1]: http://blog.daniel-kurka.de/2012/02/mgwt-and-phonegap-talk-at-webmontag-in.html\r\n  [2]: http://turbomanage.wordpress.com/2010/09/24/gwt-phonegap-native-mobile-apps-quickly/\r\n\r\nHere&#39;s my two cents from my own experience: We use the same Java POJOs for our Hibernate database, our REST API, our website, and our iPhone app. The workflow is simple and beautiful:\r\n\r\nDatabase ---1---&gt; REST API ---2---&gt; iPhone App / Website\r\n\r\n - 1: Hibernate\r\n - 2: GSON Serialization and GWT JSON\r\n   Deserialization\r\n\r\nThere is another benefit to this approach as well - any Java code that can be compiled with GWT and any JavaScript library become available for use in your iPhone app.","title":"How can one develop iPhone apps in Java?","body":"<p>If you plan on integrating app functionality with a website, I'd highly recommend the GWT + PhoneGap model:</p>\n\n<p><a href=\"http://blog.daniel-kurka.de/2012/02/mgwt-and-phonegap-talk-at-webmontag-in.html\" rel=\"nofollow\">http://blog.daniel-kurka.de/2012/02/mgwt-and-phonegap-talk-at-webmontag-in.html</a>\n<a href=\"http://turbomanage.wordpress.com/2010/09/24/gwt-phonegap-native-mobile-apps-quickly/\" rel=\"nofollow\">http://turbomanage.wordpress.com/2010/09/24/gwt-phonegap-native-mobile-apps-quickly/</a></p>\n\n<p>Here's my two cents from my own experience: We use the same Java POJOs for our Hibernate database, our REST API, our website, and our iPhone app. The workflow is simple and beautiful:</p>\n\n<p>Database ---1---> REST API ---2---> iPhone App / Website</p>\n\n<ul>\n<li>1: Hibernate</li>\n<li>2: GSON Serialization and GWT JSON\nDeserialization</li>\n</ul>\n\n<p>There is another benefit to this approach as well - any Java code that can be compiled with GWT and any JavaScript library become available for use in your iPhone app.</p>\n"},{"tags":[],"owner":{"account_id":1098043,"reputation":3760,"user_id":1091202,"accept_rate":100,"display_name":"Chen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1332841705,"creation_date":1332841705,"answer_id":9887094,"question_id":2050943,"body_markdown":"take a look at codenameone.com project, it&#39;s a cross platform mobile framework where the ui part is a fork of LWUIT.\r\nThis project leverage xmlvm to translates the java bytes code to Objective C","title":"How can one develop iPhone apps in Java?","body":"<p>take a look at codenameone.com project, it's a cross platform mobile framework where the ui part is a fork of LWUIT.\nThis project leverage xmlvm to translates the java bytes code to Objective C</p>\n"},{"tags":[],"owner":{"account_id":1053571,"reputation":29,"user_id":1137031,"display_name":"technoSesh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1337611822,"creation_date":1337611822,"answer_id":10687566,"question_id":2050943,"body_markdown":"&lt;div&gt;\r\n&lt;p&gt; I&#39;m answering this question 2 years down the line and I &lt;i&gt; must&lt;/i&gt; &lt;b&gt; stress&lt;/b&gt; that I did have pretty much the same problem as you did. However I&#39;m so happy that Android has evolved into what it is today. \r\n&lt;/p&gt;\r\n\r\n&lt;p&gt;\r\n&lt;i&gt; Having said that&lt;/i&gt;, I do regret that I did not learn &lt;b&gt;C/C++&lt;/b&gt; while I could have and I don&#39;t want to blame my teachers for it &lt;i&gt;cos where was my brain when the time was right?&lt;/i&gt;  \r\n&lt;/p&gt;\r\n\r\n&lt;p&gt;I&#39;m sunk in Java today and I&#39;m glad that I did not make the mistake of learning too many languages and being less productive... &lt;i&gt; However&lt;/i&gt; I did learn &lt;b&gt;HTML5&lt;/b&gt; which really made things a lot easier, maybe someday, I might get motivated to learn C/C++ . Or if I get an Apple mac at a real throw-away price, I might learn Objective-C :) &lt;/p&gt;\r\n&lt;/div&gt;","title":"How can one develop iPhone apps in Java?","body":"\n<p> I'm answering this question 2 years down the line and I <i> must</i> <b> stress</b> that I did have pretty much the same problem as you did. However I'm so happy that Android has evolved into what it is today. \n</p>\n\n<p>\n<i> Having said that</i>, I do regret that I did not learn <b>C/C++</b> while I could have and I don't want to blame my teachers for it <i>cos where was my brain when the time was right?</i>  \n</p>\n\n<p>I'm sunk in Java today and I'm glad that I did not make the mistake of learning too many languages and being less productive... <i> However</i> I did learn <b>HTML5</b> which really made things a lot easier, maybe someday, I might get motivated to learn C/C++ . Or if I get an Apple mac at a real throw-away price, I might learn Objective-C :) </p>\n\n"},{"tags":[],"owner":{"account_id":104589,"reputation":1183,"user_id":279545,"accept_rate":57,"display_name":"qwertz1123"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348577934,"creation_date":1348577934,"answer_id":12583491,"question_id":2050943,"body_markdown":"I think Google Open Sources Java To Objective-C Translator will make it possibl&#246;e to develop in Java for iOS https://code.google.com/p/j2objc/","title":"How can one develop iPhone apps in Java?","body":"<p>I think Google Open Sources Java To Objective-C Translator will make it possiblöe to develop in Java for iOS <a href=\"https://code.google.com/p/j2objc/\" rel=\"nofollow\">https://code.google.com/p/j2objc/</a></p>\n"},{"tags":[],"owner":{"account_id":165582,"reputation":10389,"user_id":389161,"accept_rate":81,"display_name":"Taranfx"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1361527967,"creation_date":1361527967,"answer_id":15021678,"question_id":2050943,"body_markdown":"There is anew tool called [Codename one][1]: One SDK based on JAVA to code in WP8, Android, iOS with all extensive features\r\n\r\nFeatures:\r\n\r\n 1. Full Android environment with super fast android simulator\r\n 3. An iPhone/iPad simulator with easy to take iPhone apps to large screen iPad in minutes.\r\n 4. Full support for standard java debugging, profiling for apps on any platform.\r\n 5. Easy themeing / styling – Only a click away\r\n\r\nMore at [Develop Android, iOS iPhone, WP8 apps using Java][2]\r\n\r\n\r\n  [1]: http://codenameone.com\r\n  [2]: http://geeknizer.com/develop-android-ios-wp8-apps-using-java/","title":"How can one develop iPhone apps in Java?","body":"<p>There is anew tool called <a href=\"http://codenameone.com\">Codename one</a>: One SDK based on JAVA to code in WP8, Android, iOS with all extensive features</p>\n\n<p>Features:</p>\n\n<ol>\n<li>Full Android environment with super fast android simulator</li>\n<li>An iPhone/iPad simulator with easy to take iPhone apps to large screen iPad in minutes.</li>\n<li>Full support for standard java debugging, profiling for apps on any platform.</li>\n<li>Easy themeing / styling – Only a click away</li>\n</ol>\n\n<p>More at <a href=\"http://geeknizer.com/develop-android-ios-wp8-apps-using-java/\">Develop Android, iOS iPhone, WP8 apps using Java</a></p>\n"},{"tags":[],"owner":{"account_id":1085543,"reputation":14199,"user_id":1081340,"accept_rate":80,"display_name":"Vrashabh Irde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376518309,"creation_date":1376518309,"answer_id":18243199,"question_id":2050943,"body_markdown":"To add to this there&#39;s: http://www.oracle.com/technetwork/developer-tools/adf-mobile/overview/index.html\r\n\r\n&gt; A Java &amp; HTML5 Based Framework for Developing  \r\n&gt; Oracle ADF Mobile enables developers to build and extend enterprise\r\n&gt; applications for iOS and Android from a single code base. Based on a\r\n&gt; hybrid mobile architecture, ADF Mobile supports access to native\r\n&gt; device services, enables offline applications and protects enterprise\r\n&gt; investments from future technology shifts.\r\n\r\n","title":"How can one develop iPhone apps in Java?","body":"<p>To add to this there's: <a href=\"http://www.oracle.com/technetwork/developer-tools/adf-mobile/overview/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/developer-tools/adf-mobile/overview/index.html</a></p>\n\n<blockquote>\n  <p>A Java &amp; HTML5 Based Framework for Developing<br>\n  Oracle ADF Mobile enables developers to build and extend enterprise\n  applications for iOS and Android from a single code base. Based on a\n  hybrid mobile architecture, ADF Mobile supports access to native\n  device services, enables offline applications and protects enterprise\n  investments from future technology shifts.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":155029,"reputation":2261,"user_id":371396,"accept_rate":69,"display_name":"A Null Pointer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1463071576,"creation_date":1379789011,"answer_id":18936242,"question_id":2050943,"body_markdown":"You can also take a look at [RoboVM][1].\r\n\r\nIt translates Java byte-code into native ARM or x86 code which can run directly on the processor without any VM or interpreter needed. Most of the Obj-C UI elements are already bridged into Java and follows the usual Java design patterns.\r\n\r\n**Edit**\r\nRobo VM recently announced that it would be shutting down the service - [Source][2]\r\n\r\n\r\n  [1]: http://robovm.org\r\n  [2]: https://robovm.com/robovm-winding-down/","title":"How can one develop iPhone apps in Java?","body":"<p>You can also take a look at <a href=\"http://robovm.org\" rel=\"nofollow\">RoboVM</a>.</p>\n\n<p>It translates Java byte-code into native ARM or x86 code which can run directly on the processor without any VM or interpreter needed. Most of the Obj-C UI elements are already bridged into Java and follows the usual Java design patterns.</p>\n\n<p><strong>Edit</strong>\nRobo VM recently announced that it would be shutting down the service - <a href=\"https://robovm.com/robovm-winding-down/\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":2220474,"reputation":19866,"user_id":1959948,"accept_rate":73,"display_name":"Dalorzo"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1685389299,"creation_date":1398208615,"answer_id":23232007,"question_id":2050943,"body_markdown":"I think we will have to wait a couple of years more to see more progress. However, there are now more frameworks and tools available:\r\n\r\n Here a list of 5 options:\r\n\r\n- [Codename One][1]\r\n- [Gluon][6] \r\n- [Avian][2] _no maintainer_\r\n- [XMLVM][3]\r\n- [J2ObjC][4]\r\n- [Multi-OS Engine][5] _not maintained_\r\n\r\n\r\n  [1]: http://www.codenameone.com/\r\n  [2]: https://readytalk.github.io/avian/\r\n  [3]: http://www.xmlvm.org/overview/\r\n  [4]: https://code.google.com/p/j2objc/\r\n  [5]: https://multi-os-engine.org/\r\n  [6]: https://gluonhq.com/products/mobile/","title":"How can one develop iPhone apps in Java?","body":"<p>I think we will have to wait a couple of years more to see more progress. However, there are now more frameworks and tools available:</p>\n<p>Here a list of 5 options:</p>\n<ul>\n<li><a href=\"http://www.codenameone.com/\" rel=\"nofollow noreferrer\">Codename One</a></li>\n<li><a href=\"https://gluonhq.com/products/mobile/\" rel=\"nofollow noreferrer\">Gluon</a></li>\n<li><a href=\"https://readytalk.github.io/avian/\" rel=\"nofollow noreferrer\">Avian</a> <em>no maintainer</em></li>\n<li><a href=\"http://www.xmlvm.org/overview/\" rel=\"nofollow noreferrer\">XMLVM</a></li>\n<li><a href=\"https://code.google.com/p/j2objc/\" rel=\"nofollow noreferrer\">J2ObjC</a></li>\n<li><a href=\"https://multi-os-engine.org/\" rel=\"nofollow noreferrer\">Multi-OS Engine</a> <em>not maintained</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5546222,"reputation":1,"user_id":4400814,"display_name":"ramouz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432836278,"creation_date":1432836278,"answer_id":30513976,"question_id":2050943,"body_markdown":"Even if the question states Java, most of the answers have digressed. So I thought I would do the same :)\r\n\r\nWe have been using Adobe AIR for the last 5 years and it is truly cross-platform and provides native-like performance with the same code base (at least 99% of our code is the same). Adobe AIR got some bad press at the beginning during the &#39;beta&#39; period (slow, no GPU, Flash &#39;dead&#39; etc.) But now, it&#39;s amazing what you can do with it. Not to mention the wealth of open source libs out there.\r\n\r\nWith the same code base you can push your app onto:\r\n\r\n- iOS\r\n- Android (x86 and ARM)\r\n- Flash (still VERY useful)\r\n- ChromeBook\r\n- PC (as native with installer)\r\n- Mac (as native with installer) \r\n\r\nWhy bother with Java or Objective-C ?\r\n\r\nThe only common platform not covered is Window Phone. But that&#39;s coming soon too.","title":"How can one develop iPhone apps in Java?","body":"<p>Even if the question states Java, most of the answers have digressed. So I thought I would do the same :)</p>\n\n<p>We have been using Adobe AIR for the last 5 years and it is truly cross-platform and provides native-like performance with the same code base (at least 99% of our code is the same). Adobe AIR got some bad press at the beginning during the 'beta' period (slow, no GPU, Flash 'dead' etc.) But now, it's amazing what you can do with it. Not to mention the wealth of open source libs out there.</p>\n\n<p>With the same code base you can push your app onto:</p>\n\n<ul>\n<li>iOS</li>\n<li>Android (x86 and ARM)</li>\n<li>Flash (still VERY useful)</li>\n<li>ChromeBook</li>\n<li>PC (as native with installer)</li>\n<li>Mac (as native with installer) </li>\n</ul>\n\n<p>Why bother with Java or Objective-C ?</p>\n\n<p>The only common platform not covered is Window Phone. But that's coming soon too.</p>\n"},{"tags":[],"owner":{"account_id":10068509,"reputation":39,"user_id":7540151,"display_name":"Bruno Muniz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493817353,"creation_date":1493817353,"answer_id":43761200,"question_id":2050943,"body_markdown":"try to use [TotalCross][1]. It is a Java Framework to help devs create iOS and Android apps with only one source code. Different from the others platforms, it doesn&#39;t require any knowledge in iOS (Objective-C or Swift) nor Android (SDK or NDK)\r\n\r\nthere is a maven integration\r\n https://gitlab.com/totalcross/TotalCross/wikis/building-with-maven\r\n\r\n\r\n  [1]: http://www.totalcross.com","title":"How can one develop iPhone apps in Java?","body":"<p>try to use <a href=\"http://www.totalcross.com\" rel=\"nofollow noreferrer\">TotalCross</a>. It is a Java Framework to help devs create iOS and Android apps with only one source code. Different from the others platforms, it doesn't require any knowledge in iOS (Objective-C or Swift) nor Android (SDK or NDK)</p>\n\n<p>there is a maven integration\n <a href=\"https://gitlab.com/totalcross/TotalCross/wikis/building-with-maven\" rel=\"nofollow noreferrer\">https://gitlab.com/totalcross/TotalCross/wikis/building-with-maven</a></p>\n"},{"tags":[],"owner":{"account_id":276319,"reputation":874,"user_id":569691,"accept_rate":20,"display_name":"Rohitdev"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1503153906,"creation_date":1503153906,"answer_id":45772857,"question_id":2050943,"body_markdown":"Build a hybrid app. Anyways Java is not enough for a software engineer , you need to learn JS,HTML5,CSS as well for becoming a full stack mobile/app developer.\r\nBuild the complete backend using Java &amp; frontend using Cordova/Phonegap.\r\n\r\nI&#39;m assuming you dont need the last drop of juice from the hardware even hybind app should suffice your needs.\r\n\r\nBuild a responsive webapp using Bootstrap 4 + React JS. Use https://github.com/ipselon/structor to quickly build up the frontend. Now the web app becomes an app in the browser.\r\n\r\nYou could also take the same app and build it using cordova to publish a app on ios/android platform.\r\n","title":"How can one develop iPhone apps in Java?","body":"<p>Build a hybrid app. Anyways Java is not enough for a software engineer , you need to learn JS,HTML5,CSS as well for becoming a full stack mobile/app developer.\nBuild the complete backend using Java &amp; frontend using Cordova/Phonegap.</p>\n\n<p>I'm assuming you dont need the last drop of juice from the hardware even hybind app should suffice your needs.</p>\n\n<p>Build a responsive webapp using Bootstrap 4 + React JS. Use <a href=\"https://github.com/ipselon/structor\" rel=\"nofollow noreferrer\">https://github.com/ipselon/structor</a> to quickly build up the frontend. Now the web app becomes an app in the browser.</p>\n\n<p>You could also take the same app and build it using cordova to publish a app on ios/android platform.</p>\n"}],"owner":{"account_id":77678,"reputation":2271,"user_id":221543,"accept_rate":86,"display_name":"Brendan Lesniak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166532,"favorite_count":0,"down_vote_count":1,"up_vote_count":52,"closed_date":1513264992,"accepted_answer_id":2050997,"answer_count":18,"score":51,"last_activity_date":1685389299,"creation_date":1263317345,"question_id":2050943,"body_markdown":"I was wondering if is it possible to develop iPhone applications using Java plus XMLV, which claims to cross-compile Java-based Android applications to native iPhone applications.  \r\n\r\nIs XMLV a viable way to develop iPhone applications using Java?\r\n\r\nHere are a few Java code examples used to build and application in an iPhone:\r\n\r\nhttp://www.xmlvm.org/iphone/# \r\n","title":"How can one develop iPhone apps in Java?","body":"<p>I was wondering if is it possible to develop iPhone applications using Java plus XMLV, which claims to cross-compile Java-based Android applications to native iPhone applications.</p>\n<p>Is XMLV a viable way to develop iPhone applications using Java?</p>\n<p>Here are a few Java code examples used to build and application in an iPhone:</p>\n<p><a href=\"http://www.xmlvm.org/iphone/#\" rel=\"nofollow noreferrer\">http://www.xmlvm.org/iphone/#</a></p>\n"},{"tags":["java","android","mobile-application"],"owner":{"account_id":28697857,"reputation":1,"user_id":21975685,"display_name":"M. Maki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685388450,"creation_date":1685387030,"question_id":76359806,"body_markdown":"Need to make my transactions list updatable, in Android Studio.\r\n\r\nhttps://www.geeksforgeeks.org/how-to-build-a-simple-expense-calculator-app-in-android/ \r\n\r\nI built this app using the tutorial above and want to be able to edit my transactions list. Here&#39;s as far as I have gotten. I have no idea how to proceed from this point on. \r\n\r\nI added an update android drawable file, added the drawable file to my transaction row xml, then I added the following ivUpdate files to the end of my transaction adapter. I assume I next would want to copy and past my delete click listener portion of code in my transaction adapter but I don&#39;t know what alterations are necessary.\r\n\r\n    // View Holder for a Transaction\r\n    public static class TViewHolder extends RecyclerView.ViewHolder{\r\n        TextView tvAmount,tvMessage;\r\n        ImageView ivDelete;\r\n        ImageView ivUpdate;\r\n\r\n        public TViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvAmount = itemView.findViewById(R.id.tvAmount);\r\n            tvMessage = itemView.findViewById(R.id.tvMessage);\r\n            ivDelete = itemView.findViewById(R.id.ivDelete);\r\n            ivUpdate = itemView.findViewById(R.id.ivUpdate);\r\n        }\r\n    }\r\n}","title":"Need to make my transactions list updatable, in Android Studio","body":"<p>Need to make my transactions list updatable, in Android Studio.</p>\n<p><a href=\"https://www.geeksforgeeks.org/how-to-build-a-simple-expense-calculator-app-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-build-a-simple-expense-calculator-app-in-android/</a></p>\n<p>I built this app using the tutorial above and want to be able to edit my transactions list. Here's as far as I have gotten. I have no idea how to proceed from this point on.</p>\n<p>I added an update android drawable file, added the drawable file to my transaction row xml, then I added the following ivUpdate files to the end of my transaction adapter. I assume I next would want to copy and past my delete click listener portion of code in my transaction adapter but I don't know what alterations are necessary.</p>\n<pre><code>// View Holder for a Transaction\npublic static class TViewHolder extends RecyclerView.ViewHolder{\n    TextView tvAmount,tvMessage;\n    ImageView ivDelete;\n    ImageView ivUpdate;\n\n    public TViewHolder(@NonNull View itemView) {\n        super(itemView);\n        tvAmount = itemView.findViewById(R.id.tvAmount);\n        tvMessage = itemView.findViewById(R.id.tvMessage);\n        ivDelete = itemView.findViewById(R.id.ivDelete);\n        ivUpdate = itemView.findViewById(R.id.ivUpdate);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","html","spring-boot","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":7216385,"reputation":3691,"user_id":5508719,"accept_rate":85,"display_name":"Julian"},"score":0,"creation_date":1685298929,"post_id":76353025,"comment_id":134638976,"body_markdown":"Have you tried to add `th:method=&quot;delete&quot;` in the form?","body":"Have you tried to add <code>th:method=&quot;delete&quot;</code> in the form?"},{"owner":{"account_id":28474648,"reputation":31,"user_id":21789499,"display_name":"BADRobot"},"score":0,"creation_date":1685299238,"post_id":76353025,"comment_id":134639008,"body_markdown":"yes, is that wrong? how can I do this, help me","body":"yes, is that wrong? how can I do this, help me"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":1,"creation_date":1685301145,"post_id":76353025,"comment_id":134639248,"body_markdown":"Browsers [don&#39;t support the DELETE method](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#method) in forms. If you want to use the DELETE method you&#39;ll need to use AJAX.","body":"Browsers <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#method\" rel=\"nofollow noreferrer\">don&#39;t support the DELETE method</a> in forms. If you want to use the DELETE method you&#39;ll need to use AJAX."}],"answers":[{"tags":[],"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685301966,"creation_date":1685301966,"answer_id":76353255,"question_id":76353025,"body_markdown":"HTML forms support only `GET` and `POST` methods.\r\n\r\nIf you want to use a `DELETE` method, you will have to use JavaScript.","title":"@DeleteMapping spring boot","body":"<p>HTML forms support only <code>GET</code> and <code>POST</code> methods.</p>\n<p>If you want to use a <code>DELETE</code> method, you will have to use JavaScript.</p>\n"}],"owner":{"account_id":28474648,"reputation":31,"user_id":21789499,"display_name":"BADRobot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685387604,"creation_date":1685298694,"question_id":76353025,"body_markdown":"why is the DELETE query not working for me.\r\n```\r\n    @DeleteMapping(&quot;/delete&quot;)\r\n    public String deleteUser(@RequestParam(&quot;userId&quot;) long id) {\r\n        userService.deleteUser(id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n```\r\nThere is a form for this mapping, but it returns me the Request method &#39;GET&#39; is not supported.\r\n\r\n```\r\n&lt;form th:object=&quot;${users}&quot;&gt;\r\n    &lt;input type=&quot;button&quot; value=&quot;Add&quot; onclick=&quot;window.location.href = &#39;add&#39;&quot;/&gt;\r\n        &lt;input th:formaction=&quot;@{/update}&quot; type=&quot;submit&quot; value=&quot;Update&quot; th:method=&quot;patch&quot; class=&quot;button&quot;/&gt;\r\n        &lt;input th:formaction=&quot;@{/delete}&quot; type=&quot;submit&quot; value=&quot;Delete&quot; th:method=&quot;delete&quot;/&gt;\r\n    &lt;select th:name=&quot;userId&quot;&gt;\r\n        &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${user.surname}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/option&gt;\r\n    &lt;/select&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n\r\n\r\nIf I do @GetMapping, then everything works, but I understand that this is not correct, the delete request is not executed in this case.\r\n\r\nIf I do this, then delete works, but PATCH does not work.\r\n\r\n    &lt;form th:object=&quot;${users}&quot; th:method=&quot;delete&quot;&gt;\r\n    &lt;input type=&quot;button&quot; value=&quot;Add&quot; onclick=&quot;window.location.href = &#39;add&#39;&quot;/&gt;\r\n        &lt;input th:formaction=&quot;@{/update}&quot; type=&quot;submit&quot; value=&quot;Update&quot; th:method=&quot;patch&quot; class=&quot;button&quot;/&gt;\r\n        &lt;input th:formaction=&quot;@{/delete}&quot; type=&quot;submit&quot; value=&quot;Delete&quot;/&gt;\r\n    &lt;select th:name=&quot;userId&quot;&gt;\r\n        &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${user.surname}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/option&gt;\r\n    &lt;/select&gt;\r\n&lt;/form&gt;\r\n\r\n\r\nhow to make userId available in an external form, that is, outside the loop\r\n\r\nI have redone the task, these forms work separately. How do I make this select look at two forms.\r\n\r\n    &lt;select th:name=&quot;userId&quot; id=&quot;userid&quot; th:form=&quot;form_update | form_delete&quot; &gt;\r\n    &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${user.surname}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n\r\n    &lt;input type=&quot;button&quot; value=&quot;Add&quot; onclick=&quot;window.location.href = &#39;add&#39;&quot;/&gt;\r\n\r\n    &lt;form action=&quot;#&quot; th:id=&quot;form_delete&quot;  th:action=&quot;@{/delete}&quot; th:object=&quot;${users}&quot; th:method=&quot;delete&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Delete&quot;/&gt;\r\n&lt;/form&gt;\r\n\r\n    &lt;form action=&quot;#&quot; th:id=&quot;form_update&quot;  th:action=&quot;@{/update}&quot; th:object=&quot;${users}&quot; th:method=&quot;patch&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Update&quot;/&gt;\r\n&lt;/form&gt;","title":"@DeleteMapping spring boot","body":"<p>why is the DELETE query not working for me.</p>\n<pre><code>    @DeleteMapping(&quot;/delete&quot;)\n    public String deleteUser(@RequestParam(&quot;userId&quot;) long id) {\n        userService.deleteUser(id);\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n<p>There is a form for this mapping, but it returns me the Request method 'GET' is not supported.</p>\n<pre><code>&lt;form th:object=&quot;${users}&quot;&gt;\n    &lt;input type=&quot;button&quot; value=&quot;Add&quot; onclick=&quot;window.location.href = 'add'&quot;/&gt;\n        &lt;input th:formaction=&quot;@{/update}&quot; type=&quot;submit&quot; value=&quot;Update&quot; th:method=&quot;patch&quot; class=&quot;button&quot;/&gt;\n        &lt;input th:formaction=&quot;@{/delete}&quot; type=&quot;submit&quot; value=&quot;Delete&quot; th:method=&quot;delete&quot;/&gt;\n    &lt;select th:name=&quot;userId&quot;&gt;\n        &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;&gt;\n            &lt;tr&gt;\n                &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${user.surname}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/option&gt;\n    &lt;/select&gt;\n&lt;/form&gt;\n</code></pre>\n<p>If I do @GetMapping, then everything works, but I understand that this is not correct, the delete request is not executed in this case.</p>\n<p>If I do this, then delete works, but PATCH does not work.</p>\n<pre><code>&lt;form th:object=&quot;${users}&quot; th:method=&quot;delete&quot;&gt;\n&lt;input type=&quot;button&quot; value=&quot;Add&quot; onclick=&quot;window.location.href = 'add'&quot;/&gt;\n    &lt;input th:formaction=&quot;@{/update}&quot; type=&quot;submit&quot; value=&quot;Update&quot; th:method=&quot;patch&quot; class=&quot;button&quot;/&gt;\n    &lt;input th:formaction=&quot;@{/delete}&quot; type=&quot;submit&quot; value=&quot;Delete&quot;/&gt;\n&lt;select th:name=&quot;userId&quot;&gt;\n    &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;&gt;\n        &lt;tr&gt;\n            &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${user.surname}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>how to make userId available in an external form, that is, outside the loop</p>\n<p>I have redone the task, these forms work separately. How do I make this select look at two forms.</p>\n<pre><code>&lt;select th:name=&quot;userId&quot; id=&quot;userid&quot; th:form=&quot;form_update | form_delete&quot; &gt;\n&lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;&gt;\n    &lt;tr&gt;\n        &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${user.surname}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/option&gt;\n</code></pre>\n\n<pre><code>&lt;input type=&quot;button&quot; value=&quot;Add&quot; onclick=&quot;window.location.href = 'add'&quot;/&gt;\n\n&lt;form action=&quot;#&quot; th:id=&quot;form_delete&quot;  th:action=&quot;@{/delete}&quot; th:object=&quot;${users}&quot; th:method=&quot;delete&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Delete&quot;/&gt;\n</code></pre>\n\n<pre><code>&lt;form action=&quot;#&quot; th:id=&quot;form_update&quot;  th:action=&quot;@{/update}&quot; th:object=&quot;${users}&quot; th:method=&quot;patch&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Update&quot;/&gt;\n</code></pre>\n\n"},{"tags":["java","spring-boot","rest","swagger-codegen","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":6494229,"reputation":114,"user_id":5027309,"display_name":"Fran&#231;ois Vanhille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685387276,"creation_date":1685387276,"answer_id":76359832,"question_id":74796965,"body_markdown":"By using Openapi generator you should achieve that by adding the following extendion in your Openapi definition :\r\n\r\n    paths:\r\n      /your_url:\r\n        get:\r\n          x-spring-paginated: true\r\n          responses:\r\n          ...\r\n\r\nUsing Maven you need `springdoc-openapi-data-rest` dependency but I don&#39;t know how to do the same with Gradle.\r\nThe generated `pageable` will be annotated with `@ParameterObject`. ","title":"Pagination in openapi 3 REST API java code generation","body":"<p>By using Openapi generator you should achieve that by adding the following extendion in your Openapi definition :</p>\n<pre><code>paths:\n  /your_url:\n    get:\n      x-spring-paginated: true\n      responses:\n      ...\n</code></pre>\n<p>Using Maven you need <code>springdoc-openapi-data-rest</code> dependency but I don't know how to do the same with Gradle.\nThe generated <code>pageable</code> will be annotated with <code>@ParameterObject</code>.</p>\n"}],"owner":{"account_id":4954655,"reputation":39,"user_id":3987642,"accept_rate":0,"display_name":"Alessandro Morsiani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685387276,"creation_date":1671014532,"question_id":74796965,"body_markdown":"How can I add the pagination in my swagger yaml in order to generate the correct methods in my generated interface? \r\n\r\nSo I am using this yaml: \r\n\r\n     /tournaments:\r\n    get:\r\n      summary: List of tournaments\r\n      operationId: listTournaments\r\n      tags:\r\n        - tournaments\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: A paged list of tournaments\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &quot;#/components/schemas/tournaments&quot;\r\n        default:\r\n          description: unexpected error\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &quot;#/components/schemas/Error&quot;\r\n      parameters:\r\n        - name: gameIds\r\n          in: query\r\n          description: Id of the customer\r\n          required: false\r\n        - $ref: &#39;#/components/parameters/gameIds&#39;\r\n  \r\nand in the component section I have:\r\n\r\n    components:\r\n    parameters:\r\n    GameIds:\r\n      in: query\r\n      schema:\r\n        type: array\r\n        items:\r\n          type: integer\r\n          format: int64\r\n      name: the GameIds\r\n      description: &gt;\r\n        The Game Ids.\r\n\r\nDo I have to add a configOption in my gradle build in order to generate a @ParameterObject on the Pageable object on your controller method?\r\n\r\n    configOptions = [\r\n\t\t\tconfigPackage       : &quot;com.tournaments.api.engine.config&quot;,\r\n\t\t\tjava8               : &quot;true&quot;,\r\n\t\t\tdateLibrary         : &quot;java17&quot;,\r\n\t\t\tserializationLibrary: &quot;jackson&quot;,\r\n\t\t\tlibrary             : &quot;spring-boot&quot;,\r\n\t\t\tuseBeanValidation   : &quot;true&quot;,\r\n\t\t\tinterfaceOnly       : &quot;true&quot;,\r\n\t\t\tserializableModel   : &quot;true&quot;,\r\n\t\t\tuseTags             : &quot;true&quot;,\r\n\t\t\tadditionalModelTypeAnnotations: &quot;@lombok.Builder;@lombok.NoArgsConstructor;@lombok.AllArgsConstructor&quot;\r\n\t]\r\n    ","title":"Pagination in openapi 3 REST API java code generation","body":"<p>How can I add the pagination in my swagger yaml in order to generate the correct methods in my generated interface?</p>\n<p>So I am using this yaml:</p>\n<pre><code> /tournaments:\nget:\n  summary: List of tournaments\n  operationId: listTournaments\n  tags:\n    - tournaments\n  responses:\n    '200':\n      description: A paged list of tournaments\n      content:\n        application/json:\n          schema:\n            $ref: &quot;#/components/schemas/tournaments&quot;\n    default:\n      description: unexpected error\n      content:\n        application/json:\n          schema:\n            $ref: &quot;#/components/schemas/Error&quot;\n  parameters:\n    - name: gameIds\n      in: query\n      description: Id of the customer\n      required: false\n    - $ref: '#/components/parameters/gameIds'\n</code></pre>\n<p>and in the component section I have:</p>\n<pre><code>components:\nparameters:\nGameIds:\n  in: query\n  schema:\n    type: array\n    items:\n      type: integer\n      format: int64\n  name: the GameIds\n  description: &gt;\n    The Game Ids.\n</code></pre>\n<p>Do I have to add a configOption in my gradle build in order to generate a @ParameterObject on the Pageable object on your controller method?</p>\n<pre><code>configOptions = [\n        configPackage       : &quot;com.tournaments.api.engine.config&quot;,\n        java8               : &quot;true&quot;,\n        dateLibrary         : &quot;java17&quot;,\n        serializationLibrary: &quot;jackson&quot;,\n        library             : &quot;spring-boot&quot;,\n        useBeanValidation   : &quot;true&quot;,\n        interfaceOnly       : &quot;true&quot;,\n        serializableModel   : &quot;true&quot;,\n        useTags             : &quot;true&quot;,\n        additionalModelTypeAnnotations: &quot;@lombok.Builder;@lombok.NoArgsConstructor;@lombok.AllArgsConstructor&quot;\n]\n</code></pre>\n"},{"tags":["java","hibernate","jpa","quarkus","repository-pattern"],"owner":{"account_id":6206750,"reputation":440,"user_id":4834480,"display_name":"Marcus Biel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685387176,"creation_date":1685387176,"question_id":76359830,"body_markdown":"I am currently working on a system where we manage a significant number of customers and their associated end-customers. Typically, each of our customers has 1-10K end-customers, but this number can go up to 1 million in some extreme cases.\r\n\r\nI have an EndCustomerEntity class that includes two lazy @OneToMany relationships. Due to performance considerations, each EndCustomerEntity can have a maximum of 30 fields and labels. The logic for adding and updating these fields and labels is currently encapsulated directly within the EndCustomerEntity. However, this approach has resulted in a complex and lengthy entity class.\r\n\r\nWhile the existing design provides a nice encapsulation, the complexity and size of the EndCustomerEntity makes it challenging to handle. In addition, I need to be notified when a field or label is added, updated, or deleted. To achieve this with the current structure, I would presumably need to use Hibernate-specific features like annotation-based event listeners, interceptors, or other JPA annotations, but I am not sure if this is the best path.\r\n\r\nGiven these challenges, I am exploring several alternatives:\r\n\r\n1) Retain the current entity but incorporate event listeners or interceptors for change notifications.\r\n\r\n2) Maintain the @OneToMany lists within the EndCustomerEntity, but delegate the management of these lists to a dedicated service.\r\n\r\n3) Remove the @OneToMany lists from EndCustomerEntity and combine the three entities in the business domain.\r\n\r\n4) Move the management of the @OneToMany lists into static Mappers/Factories that are invoked from the entity, while maintaining listeners/interceptors for change notifications.\r\n\r\n5) Similar to option 4, but have the Mappers/Factories called from an EndCustomer ORM Service/Repository.\r\n\r\nRecently, I&#39;ve considered shifting the logic into the repository. This change would ensure atomicity as all ORM-related changes to the EndCustomerEntity would go through the repository. To keep the code in the repository minimal, I could calculate the add/remove/update operations for fields and labels in a Factory.\r\n\r\nHere is an example of this idea:\r\n\r\n\r\n    public class EndCustomerRepository implements PanacheRepositoryBase&lt;EndCustomerEntity, UUID&gt; {\r\n        private final EndCustomerFieldRepository endCustomerFieldRepository;\r\n        private final EndCustomerLabelRepository endCustomerLabelRepository;\r\n    \r\n        private EndCustomerEntity updateEntity(EndCustomerEntity existingEntity, EndCustomer updatedEndCustomer) {\r\n            EndCustomerFieldUpdate endCustomerFieldUpdate = EndCustomerFieldUpdateFactory.updateEndCustomerFields(existingEntity.id, existingEntity.endCustomerFields, updatedEndCustomer.endCustomerFields());\r\n    \r\n            removeFields(endCustomerFieldUpdate.fieldsToRemove());\r\n            updateFields(endCustomerFieldUpdate.fieldsToUpdate());\r\n            addFields(endCustomerFieldUpdate.fieldsToAdd());\r\n    \r\n            return existingEntity.update(updatedEndCustomer.firstName(), updatedEndCustomer.email(), updatedEndCustomer.status());\r\n        }\r\n    }\r\n\r\nAlternatively, I&#39;ve also considered having the repository delegate the update of field and label lists to ORM-related services (or DAOs?). Here&#39;s a sketch of this idea:\r\n\r\n    public class EndCustomerRepository implements PanacheRepositoryBase&lt;EndCustomerEntity, UUID&gt; {\r\n        private final FieldOrmService fieldOrmService;\r\n        private final LabelOrmService labelOrmService;\r\n    \r\n        public EndCustomerRepository(FieldOrmService fieldOrmService, LabelOrmService labelOrmService) {\r\n            this.fieldOrmService = fieldOrmService;\r\n            this.labelOrmService = labelOrmService;\r\n        }\r\n    \r\n        public EndCustomerEntity updateEntity(EndCustomerEntity existingEntity, EndCustomer updatedEndCustomer) {\r\n            fieldOrmService.updateFields(existingEntity.id, existingEntity.endCustomerFields, updatedEndCustomer.endCustomerFields());\r\n            labelOrmService.updateLabels(existingEntity.id, existingEntity.endCustomerLabels, updatedEndCustomer.endCustomerLabels());\r\n            \r\n            return existingEntity.update(updatedEndCustomer.firstName(), updatedEndCustomer.email(), updatedEndCustomer.status());\r\n        }\r\n    }\r\n\r\nGiven these considerations, what would you recommend as the best practice in this scenario? I am open to any suggestions or insights that you might have!\r\n\r\nThanks for your help!","title":"Hibernate (Panache) Repository Best Practices","body":"<p>I am currently working on a system where we manage a significant number of customers and their associated end-customers. Typically, each of our customers has 1-10K end-customers, but this number can go up to 1 million in some extreme cases.</p>\n<p>I have an EndCustomerEntity class that includes two lazy @OneToMany relationships. Due to performance considerations, each EndCustomerEntity can have a maximum of 30 fields and labels. The logic for adding and updating these fields and labels is currently encapsulated directly within the EndCustomerEntity. However, this approach has resulted in a complex and lengthy entity class.</p>\n<p>While the existing design provides a nice encapsulation, the complexity and size of the EndCustomerEntity makes it challenging to handle. In addition, I need to be notified when a field or label is added, updated, or deleted. To achieve this with the current structure, I would presumably need to use Hibernate-specific features like annotation-based event listeners, interceptors, or other JPA annotations, but I am not sure if this is the best path.</p>\n<p>Given these challenges, I am exploring several alternatives:</p>\n<ol>\n<li><p>Retain the current entity but incorporate event listeners or interceptors for change notifications.</p>\n</li>\n<li><p>Maintain the @OneToMany lists within the EndCustomerEntity, but delegate the management of these lists to a dedicated service.</p>\n</li>\n<li><p>Remove the @OneToMany lists from EndCustomerEntity and combine the three entities in the business domain.</p>\n</li>\n<li><p>Move the management of the @OneToMany lists into static Mappers/Factories that are invoked from the entity, while maintaining listeners/interceptors for change notifications.</p>\n</li>\n<li><p>Similar to option 4, but have the Mappers/Factories called from an EndCustomer ORM Service/Repository.</p>\n</li>\n</ol>\n<p>Recently, I've considered shifting the logic into the repository. This change would ensure atomicity as all ORM-related changes to the EndCustomerEntity would go through the repository. To keep the code in the repository minimal, I could calculate the add/remove/update operations for fields and labels in a Factory.</p>\n<p>Here is an example of this idea:</p>\n<pre><code>public class EndCustomerRepository implements PanacheRepositoryBase&lt;EndCustomerEntity, UUID&gt; {\n    private final EndCustomerFieldRepository endCustomerFieldRepository;\n    private final EndCustomerLabelRepository endCustomerLabelRepository;\n\n    private EndCustomerEntity updateEntity(EndCustomerEntity existingEntity, EndCustomer updatedEndCustomer) {\n        EndCustomerFieldUpdate endCustomerFieldUpdate = EndCustomerFieldUpdateFactory.updateEndCustomerFields(existingEntity.id, existingEntity.endCustomerFields, updatedEndCustomer.endCustomerFields());\n\n        removeFields(endCustomerFieldUpdate.fieldsToRemove());\n        updateFields(endCustomerFieldUpdate.fieldsToUpdate());\n        addFields(endCustomerFieldUpdate.fieldsToAdd());\n\n        return existingEntity.update(updatedEndCustomer.firstName(), updatedEndCustomer.email(), updatedEndCustomer.status());\n    }\n}\n</code></pre>\n<p>Alternatively, I've also considered having the repository delegate the update of field and label lists to ORM-related services (or DAOs?). Here's a sketch of this idea:</p>\n<pre><code>public class EndCustomerRepository implements PanacheRepositoryBase&lt;EndCustomerEntity, UUID&gt; {\n    private final FieldOrmService fieldOrmService;\n    private final LabelOrmService labelOrmService;\n\n    public EndCustomerRepository(FieldOrmService fieldOrmService, LabelOrmService labelOrmService) {\n        this.fieldOrmService = fieldOrmService;\n        this.labelOrmService = labelOrmService;\n    }\n\n    public EndCustomerEntity updateEntity(EndCustomerEntity existingEntity, EndCustomer updatedEndCustomer) {\n        fieldOrmService.updateFields(existingEntity.id, existingEntity.endCustomerFields, updatedEndCustomer.endCustomerFields());\n        labelOrmService.updateLabels(existingEntity.id, existingEntity.endCustomerLabels, updatedEndCustomer.endCustomerLabels());\n        \n        return existingEntity.update(updatedEndCustomer.firstName(), updatedEndCustomer.email(), updatedEndCustomer.status());\n    }\n}\n</code></pre>\n<p>Given these considerations, what would you recommend as the best practice in this scenario? I am open to any suggestions or insights that you might have!</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","jdbc","resultset"],"comments":[{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":1,"creation_date":1354124591,"post_id":13611075,"comment_id":18661732,"body_markdown":"Slow from developer productivity perspective or it&#39;s just *slow* at runtime? Also maybe you can aggregate these numbers somehow in the database (SUM, AVG...).","body":"Slow from developer productivity perspective or it&#39;s just <i>slow</i> at runtime? Also maybe you can aggregate these numbers somehow in the database (SUM, AVG...)."},{"owner":{"account_id":1776966,"reputation":119,"user_id":1620569,"display_name":"A J"},"score":1,"creation_date":1354124719,"post_id":13611075,"comment_id":18661789,"body_markdown":"slow at runtime. It is not aggregation function that I need to run. Think of something like (select key from table where col1=val1.) Expected result is say 100,000 keys.","body":"slow at runtime. It is not aggregation function that I need to run. Think of something like (select key from table where col1=val1.) Expected result is say 100,000 keys."}],"answers":[{"tags":[],"owner":{"account_id":1810587,"reputation":1264,"user_id":1646741,"accept_rate":75,"display_name":"Sami Korhonen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354136095,"creation_date":1354136095,"answer_id":13614206,"question_id":13611075,"body_markdown":"While ResultSet only returns one row at time the jdbc driver should fetch amount of rows you have specified with Statement.setFetchSize()\n\n&gt; void  setFetchSize(int rows)\n&gt;\n&gt; Gives the JDBC driver a hint as to the number of rows that should be fetched from the database when more rows are needed for ResultSet objects genrated by this Statement.\n\nI would also recommend setting the fetch direction properly when creating the Statement/PreparedStatement.","title":"Alternative to next method in JDBC Resultset","body":"<p>While ResultSet only returns one row at time the jdbc driver should fetch amount of rows you have specified with Statement.setFetchSize()</p>\n<blockquote>\n<p>void  setFetchSize(int rows)</p>\n<p>Gives the JDBC driver a hint as to the number of rows that should be fetched from the database when more rows are needed for ResultSet objects genrated by this Statement.</p>\n</blockquote>\n<p>I would also recommend setting the fetch direction properly when creating the Statement/PreparedStatement.</p>\n"}],"owner":{"account_id":1776966,"reputation":119,"user_id":1620569,"display_name":"A J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685386309,"creation_date":1354124109,"question_id":13611075,"body_markdown":"Is there a way in JDBC that I extract more than a single row at a time ? The next method (of `ResultSet` class) allows one row at a time processing.\r\n\r\nMy query returns thousands of rows (just a single column for each row). The rows are very lean and I pretty much just want to extract the column values out. Looping through next, one row at a time is very slow for this use case.\r\n","title":"Alternative to next method in JDBC Resultset","body":"<p>Is there a way in JDBC that I extract more than a single row at a time ? The next method (of <code>ResultSet</code> class) allows one row at a time processing.</p>\n\n<p>My query returns thousands of rows (just a single column for each row). The rows are very lean and I pretty much just want to extract the column values out. Looping through next, one row at a time is very slow for this use case.</p>\n"},{"tags":["java","hashmap","iterator"],"comments":[{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1385381609,"post_id":20192743,"comment_id":30104794,"body_markdown":"HashMap already provides an iterator.","body":"HashMap already provides an iterator."},{"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"score":0,"creation_date":1385381620,"post_id":20192743,"comment_id":30104799,"body_markdown":"What semantics do you think `next` on a map should have? Are you looking to iterate over the keys or the values or a combination thereof?","body":"What semantics do you think <code>next</code> on a map should have? Are you looking to iterate over the keys or the values or a combination thereof?"},{"owner":{"account_id":3637144,"reputation":1604,"user_id":3032227,"accept_rate":42,"display_name":"Recusiwe"},"score":0,"creation_date":1385381822,"post_id":20192743,"comment_id":30104903,"body_markdown":"First of all, thanks for the quick response! I know that HashMap provides an iterator, but I want to Override and create my own. I want to iterate over the elements and return them.","body":"First of all, thanks for the quick response! I know that HashMap provides an iterator, but I want to Override and create my own. I want to iterate over the elements and return them."},{"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"score":0,"creation_date":1385381828,"post_id":20192743,"comment_id":30104908,"body_markdown":"At the moment code doesn&#39;t look helpful to us, can you dump complete implementation which you came up at least the whole `next` method..","body":"At the moment code doesn&#39;t look helpful to us, can you dump complete implementation which you came up at least the whole <code>next</code> method.."}],"answers":[{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385382016,"creation_date":1385382016,"answer_id":20192932,"question_id":20192743,"body_markdown":"You can use `Iterator` as follows. why you are trying to create your own iterator? \r\n\r\n        Map&lt;String, String&gt; map=new HashMap&lt;&gt;();\r\n        Iterator valueIterator=map.values().iterator(); // iterate through values\r\n        Iterator keyIterator=map.keySet().iterator();   // iterate through keys\r\n        \r\n        //then \r\n        valueIterator.next();// for next value in the map\r\n        keyIterator.next();// for the next key in the map\r\n\r\nNow you can iterate thought map by key and return them as follows.\r\n\r\n         while (keyIterator.hasNext()){\r\n            System.out.println(map.get(keyIterator.next()));\r\n         }","title":"Implement iterator next-method for a HashMap - How?","body":"<p>You can use <code>Iterator</code> as follows. why you are trying to create your own iterator? </p>\n\n<pre><code>    Map&lt;String, String&gt; map=new HashMap&lt;&gt;();\n    Iterator valueIterator=map.values().iterator(); // iterate through values\n    Iterator keyIterator=map.keySet().iterator();   // iterate through keys\n\n    //then \n    valueIterator.next();// for next value in the map\n    keyIterator.next();// for the next key in the map\n</code></pre>\n\n<p>Now you can iterate thought map by key and return them as follows.</p>\n\n<pre><code>     while (keyIterator.hasNext()){\n        System.out.println(map.get(keyIterator.next()));\n     }\n</code></pre>\n"}],"owner":{"account_id":3637144,"reputation":1604,"user_id":3032227,"accept_rate":42,"display_name":"Recusiwe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2938,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685385513,"creation_date":1385381453,"question_id":20192743,"body_markdown":"I&#39;m in a bit of a struggle with overriding the Next-method for my implemented Iterator. I want to return the elements one by one, but I can&#39;t seem to figure out how to, anyone want to enlighten me? At the moment my code looks like:\r\n\r\n    public E next() {\r\n        if (iteratorCount == map.size()) {\r\n            throw new NoSuchElementException();\r\n        }\r\n\r\nI&#39;ve done this several times using an ArrayList, but this seems to be quite different?","title":"Implement iterator next-method for a HashMap - How?","body":"<p>I'm in a bit of a struggle with overriding the Next-method for my implemented Iterator. I want to return the elements one by one, but I can't seem to figure out how to, anyone want to enlighten me? At the moment my code looks like:</p>\n<pre><code>public E next() {\n    if (iteratorCount == map.size()) {\n        throw new NoSuchElementException();\n    }\n</code></pre>\n<p>I've done this several times using an ArrayList, but this seems to be quite different?</p>\n"},{"tags":["java","class","oop"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685383178,"post_id":76359421,"comment_id":134649391,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See: [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1685384892,"post_id":76359421,"comment_id":134649675,"body_markdown":"I&#39;d strongly  advise you to avoid using inner classes unless you *really* need to. You won&#39;t get this problem if you just use top-level classes.","body":"I&#39;d strongly  advise you to avoid using inner classes unless you <i>really</i> need to. You won&#39;t get this problem if you just use top-level classes."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685387335,"post_id":76359421,"comment_id":134649959,"body_markdown":"You can add _static_ modifier to your _Employee_ class, similar to your _Manager_ class.  This will allow access to _Employee_ without the need of the enclosing class instance, this this case _oop_.  For reference, see _[Oracle - Nested Classes - Learning the Java Language](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)_.","body":"You can add <i>static</i> modifier to your <i>Employee</i> class, similar to your <i>Manager</i> class.  This will allow access to <i>Employee</i> without the need of the enclosing class instance, this this case <i>oop</i>.  For reference, see <i><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Oracle - Nested Classes - Learning the Java Language</a></i>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685422567,"post_id":76359421,"comment_id":134653347,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685385025,"creation_date":1685384689,"answer_id":76359592,"question_id":76359421,"body_markdown":"You have declared Employee without static which means you must have an instance of the enclosing class `oop` to create Employee which you create using the reference such as `thatOop.new Employee(...)`\r\n\r\nHowever it looks like you should just ensure that Employee can be created without an instance of oop, just make it a static class as you have already done with `Manager`:\r\n\r\n    static class Employee","title":"No enclosing instance of type is accessible. Must qualify the allocation with an enclosing instance of type(e.g. x.new A() where x is an instance of )","body":"<p>You have declared Employee without static which means you must have an instance of the enclosing class <code>oop</code> to create Employee which you create using the reference such as <code>thatOop.new Employee(...)</code></p>\n<p>However it looks like you should just ensure that Employee can be created without an instance of oop, just make it a static class as you have already done with <code>Manager</code>:</p>\n<pre><code>static class Employee\n</code></pre>\n"}],"owner":{"account_id":23043860,"reputation":1,"user_id":17161658,"display_name":"Victor Rabelo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685385025,"creation_date":1685382861,"question_id":76359421,"body_markdown":"```\r\npublic class oop {\r\n    public static void main (String[]args) {\r\n        Manager boss = new Manager(&quot;Boss Man&quot;, 80000, 1987);\r\n        boss.setBonus(5000);\r\n\r\n        Employee[] staff = new Employee[3];\r\n        staff[0] = boss;\r\n        staff[1] = new Employee(&quot;Teller Tom&quot;, 50000, 1989);\r\n        staff[2] = new Employee(&quot;Lender Lory&quot;, 40000, 1990);\r\n\r\n        for (Employee empIndex : staff) {\r\n            System.out.println(String.format(&quot;Name: %-11s\\t\\tEarnings: $%,.2f\\t\\tHired in: %s&quot;, empIndex.getName(), empIndex.getSalary(), empIndex.getHireYear()));\r\n        }\r\n    }\r\n    class Employee {\r\n        private String name;\r\n        private double salary;\r\n        private int yearHired;\r\n\r\n          Employee(String nam, double sal, int yr) {\r\n            System.out.println(&quot;Employee superclass&quot;);\r\n            name = nam;\r\n            salary = sal;\r\n            yearHired = yr;\r\n        }\r\n        public String getName(){\r\n            return name;\r\n        }\r\n        public double getSalary(){\r\n            return salary;\r\n        }\r\n        public int getHireYear(){\r\n            return yearHired;\r\n        }\r\n    }\r\n    static class Manager extends Employee {\r\n        private double bonus;\r\n\r\n        public Manager(String name, double salary, int year){\r\n            super(name, salary, year);\r\n            System.out.println(&quot;Manager subclass&quot;);\r\n            bonus = 0;\r\n        }\r\n        public double getSalary(){\r\n            double baseSalary = super.getSalary();\r\n            return baseSalary - bonus;\r\n        }\r\n        public void setBonus(double bon){\r\n            bonus = bon;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nHey, I&#39;m in first year of uni and I&#39;m trying to help my professor with his demo which isn&#39;t working. I already fixed some errors but I still can&#39;t get it to work. This error occurs on &#39;public class oop&#39;. Thank you in advance for the help :)\r\n\r\n","title":"No enclosing instance of type is accessible. Must qualify the allocation with an enclosing instance of type(e.g. x.new A() where x is an instance of )","body":"<pre><code>public class oop {\n    public static void main (String[]args) {\n        Manager boss = new Manager(&quot;Boss Man&quot;, 80000, 1987);\n        boss.setBonus(5000);\n\n        Employee[] staff = new Employee[3];\n        staff[0] = boss;\n        staff[1] = new Employee(&quot;Teller Tom&quot;, 50000, 1989);\n        staff[2] = new Employee(&quot;Lender Lory&quot;, 40000, 1990);\n\n        for (Employee empIndex : staff) {\n            System.out.println(String.format(&quot;Name: %-11s\\t\\tEarnings: $%,.2f\\t\\tHired in: %s&quot;, empIndex.getName(), empIndex.getSalary(), empIndex.getHireYear()));\n        }\n    }\n    class Employee {\n        private String name;\n        private double salary;\n        private int yearHired;\n\n          Employee(String nam, double sal, int yr) {\n            System.out.println(&quot;Employee superclass&quot;);\n            name = nam;\n            salary = sal;\n            yearHired = yr;\n        }\n        public String getName(){\n            return name;\n        }\n        public double getSalary(){\n            return salary;\n        }\n        public int getHireYear(){\n            return yearHired;\n        }\n    }\n    static class Manager extends Employee {\n        private double bonus;\n\n        public Manager(String name, double salary, int year){\n            super(name, salary, year);\n            System.out.println(&quot;Manager subclass&quot;);\n            bonus = 0;\n        }\n        public double getSalary(){\n            double baseSalary = super.getSalary();\n            return baseSalary - bonus;\n        }\n        public void setBonus(double bon){\n            bonus = bon;\n        }\n    }\n}\n\n</code></pre>\n<p>Hey, I'm in first year of uni and I'm trying to help my professor with his demo which isn't working. I already fixed some errors but I still can't get it to work. This error occurs on 'public class oop'. Thank you in advance for the help :)</p>\n"},{"tags":["java","arrays","spring-boot","csv","opencsv"],"comments":[{"owner":{"account_id":24034349,"reputation":635,"user_id":18014805,"display_name":"Ramesh"},"score":0,"creation_date":1685430318,"post_id":76359549,"comment_id":134654459,"body_markdown":"you are trying to parse the .csv file. but you sending .ods file type in postman which causes the error. for avoiding such mismatch extension types, i would suggest the apache tika mime type validation in your controller layer.","body":"you are trying to parse the .csv file. but you sending .ods file type in postman which causes the error. for avoiding such mismatch extension types, i would suggest the apache tika mime type validation in your controller layer."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1685430868,"post_id":76359549,"comment_id":134654589,"body_markdown":"Set a breakpoint in the backend and check if your CSV reader is correctly splitting the lines. Also check if you are *really* sending a text file. The filename in postman suggests otherwise.","body":"Set a breakpoint in the backend and check if your CSV reader is correctly splitting the lines. Also check if you are <i>really</i> sending a text file. The filename in postman suggests otherwise."}],"owner":{"account_id":20785514,"reputation":137,"user_id":15264820,"display_name":"Vidushika Dasanayka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685384194,"creation_date":1685384194,"question_id":76359549,"body_markdown":"I&#39;m working on spring Boot project, where I need to import data from CSV file when adding guest to my system.\r\n\r\nHere is my Guest Entity:\r\n\r\n    package com.example.attendingsystembackend.model;\r\n    \r\n    import jakarta.persistence.*;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotNull;\r\n    \r\n    @Entity\r\n    public class Guest {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        private String firstName;\r\n        @NotNull\r\n        private String lastName;\r\n        @NotBlank(message = &quot;Company email cannot be blank&quot;)\r\n        private String company_email;\r\n    \r\n        private String phoneNumber;\r\n        private String position;\r\n    \r\n        @Lob\r\n        private byte[] image;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getCompany_email() {\r\n            return company_email;\r\n        }\r\n    \r\n        public void setCompany_email(String company_email) {\r\n            this.company_email = company_email;\r\n        }\r\n    \r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n    \r\n        public void setPhoneNumber(String phoneNumber) {\r\n            this.phoneNumber = phoneNumber;\r\n        }\r\n    \r\n        public String getPosition() {\r\n            return position;\r\n        }\r\n    \r\n        public void setPosition(String position) {\r\n            this.position = position;\r\n        }\r\n    \r\n        public byte[] getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(byte[] image) {\r\n            this.image = image;\r\n        }\r\n    }\r\n\r\n\r\nThis is the GuestController and here in saveGuest method is wrote to match when I save guest manually. and I have wrote post method to upload csv file.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/guest&quot;)\r\n    @CrossOrigin(&quot;http://localhost:3000&quot;)\r\n    public class GuestController {\r\n    \r\n        private final GuestRepository guestRepository;\r\n        private final GuestService guestService;\r\n        private final CSVParser csvParser;\r\n    \r\n        @Autowired\r\n        public GuestController(GuestRepository guestRepository, GuestService guestService, CSVParser csvParser) {\r\n            this.guestRepository = guestRepository;\r\n            this.guestService = guestService;\r\n            this.csvParser = csvParser;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;saveGuest&quot;, consumes = { &quot;multipart/form-data&quot; })\r\n        public ResponseEntity&lt;String&gt; saveGuest(\r\n                @RequestParam(value = &quot;file&quot;, required = false) MultipartFile file,\r\n                @RequestParam(value = &quot;body&quot;) String body\r\n        ) {\r\n            try {\r\n                // Create an ObjectMapper instance and register the Java 8 date/time module\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                mapper.registerModule(new JavaTimeModule());\r\n    \r\n                // Parse the JSON string into an Event object\r\n                Guest guest = mapper.readValue(body, Guest.class);\r\n    \r\n                // Call the service method with the file and event object\r\n                guestService.saveGuest(file, guest);\r\n    \r\n                return ResponseEntity.status(HttpStatus.OK)\r\n                        .body(String.format(&quot;Guest saved successfully with file: %s&quot;, file != null ? file.getOriginalFilename() : &quot;none&quot;));\r\n            } catch (IOException e) {\r\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST)\r\n                        .body(&quot;Invalid request body&quot;);\r\n            } catch (Exception e) {\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                        .body(String.format(&quot;Failed to save event: %s&quot;, e.getMessage()));\r\n            }\r\n        }\r\n\r\n    \r\n        @PostMapping(&quot;/upload&quot;)\r\n        public ResponseEntity&lt;String&gt; uploadCSV(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException, CsvValidationException {\r\n            List&lt;Guest&gt; guests = csvParser.parseCSV(file);\r\n    \r\n            for (Guest guest : guests) {\r\n                guestService.saveGuest(null,guest);\r\n            }\r\n    \r\n            return ResponseEntity.ok(String.format(&quot;Guests saved successfully from file: %s&quot;, file.getOriginalFilename()));\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nAnd here is my csvParser service class :\r\n\r\n    @Service\r\n    public class CSVParser {\r\n    \r\n        public List&lt;Guest&gt; parseCSV(MultipartFile file) throws IOException, CsvValidationException {\r\n            List&lt;Guest&gt; guests = new ArrayList&lt;&gt;();\r\n    \r\n            try (CSVReader reader = new CSVReader(new InputStreamReader(file.getInputStream(), StandardCharsets.UTF_8))) {\r\n                String[] line;\r\n                reader.readNext(); // Skip the header line\r\n    \r\n                while ((line = reader.readNext()) != null) {\r\n                    Guest guest = new Guest();\r\n                    guest.setFirstName(line[0]);\r\n                    guest.setLastName(line[1]);\r\n                    guest.setPhoneNumber(line[2]);\r\n                    guest.setCompany_email(line[3]);\r\n                    guest.setPosition(line[4]);\r\n    \r\n                    guests.add(guest);\r\n                }\r\n            }\r\n    \r\n            return guests;\r\n        }\r\n    }\r\n\r\n\r\nAs per the initial stage I tried to upload csv file with firstName,lastName,phoneNumber,company_email and position. I haven&#39;t passed image with csv and need to do that in future.\r\n\r\nSo following you can see the structure of my csv file:\r\n[![enter image description here][1]][1] \r\n\r\nAnd I tried to send this csv file using postman as follows:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jna5f.png\r\n  [2]: https://i.stack.imgur.com/youLC.png\r\n\r\nBut I&#39;m getting the an error saying `ArrayIndexOutOfBound Exception`.Here is my error that I&#39;m getting,\r\n\r\n    2023-05-29T23:35:22.630+05:30 ERROR 2149 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3] with root cause\r\n    \r\n    java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\r\n    \tat com.example.attendingsystembackend.utils.CSVParser.parseCSV(CSVParser.java:30) ~[classes/:na]\r\n    \tat com.example.attendingsystembackend.controller.GuestController.uploadCSV(GuestController.java:127) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nWhat is the cause Behind this? If I add column as `image` and set it to null in csv file and tried to upload it, the same error is occured.Can someone help me in this issue?\r\nThank you in advance!","title":"Error : ArrayIndexOutOfBoundsException , occurs when uploading CSV file in springBoot","body":"<p>I'm working on spring Boot project, where I need to import data from CSV file when adding guest to my system.</p>\n<p>Here is my Guest Entity:</p>\n<pre><code>package com.example.attendingsystembackend.model;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\n\n@Entity\npublic class Guest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    private String firstName;\n    @NotNull\n    private String lastName;\n    @NotBlank(message = &quot;Company email cannot be blank&quot;)\n    private String company_email;\n\n    private String phoneNumber;\n    private String position;\n\n    @Lob\n    private byte[] image;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getCompany_email() {\n        return company_email;\n    }\n\n    public void setCompany_email(String company_email) {\n        this.company_email = company_email;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getPosition() {\n        return position;\n    }\n\n    public void setPosition(String position) {\n        this.position = position;\n    }\n\n    public byte[] getImage() {\n        return image;\n    }\n\n    public void setImage(byte[] image) {\n        this.image = image;\n    }\n}\n</code></pre>\n<p>This is the GuestController and here in saveGuest method is wrote to match when I save guest manually. and I have wrote post method to upload csv file.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/guest&quot;)\n@CrossOrigin(&quot;http://localhost:3000&quot;)\npublic class GuestController {\n\n    private final GuestRepository guestRepository;\n    private final GuestService guestService;\n    private final CSVParser csvParser;\n\n    @Autowired\n    public GuestController(GuestRepository guestRepository, GuestService guestService, CSVParser csvParser) {\n        this.guestRepository = guestRepository;\n        this.guestService = guestService;\n        this.csvParser = csvParser;\n    }\n\n    @PostMapping(value = &quot;saveGuest&quot;, consumes = { &quot;multipart/form-data&quot; })\n    public ResponseEntity&lt;String&gt; saveGuest(\n            @RequestParam(value = &quot;file&quot;, required = false) MultipartFile file,\n            @RequestParam(value = &quot;body&quot;) String body\n    ) {\n        try {\n            // Create an ObjectMapper instance and register the Java 8 date/time module\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.registerModule(new JavaTimeModule());\n\n            // Parse the JSON string into an Event object\n            Guest guest = mapper.readValue(body, Guest.class);\n\n            // Call the service method with the file and event object\n            guestService.saveGuest(file, guest);\n\n            return ResponseEntity.status(HttpStatus.OK)\n                    .body(String.format(&quot;Guest saved successfully with file: %s&quot;, file != null ? file.getOriginalFilename() : &quot;none&quot;));\n        } catch (IOException e) {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST)\n                    .body(&quot;Invalid request body&quot;);\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                    .body(String.format(&quot;Failed to save event: %s&quot;, e.getMessage()));\n        }\n    }\n\n\n    @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;String&gt; uploadCSV(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException, CsvValidationException {\n        List&lt;Guest&gt; guests = csvParser.parseCSV(file);\n\n        for (Guest guest : guests) {\n            guestService.saveGuest(null,guest);\n        }\n\n        return ResponseEntity.ok(String.format(&quot;Guests saved successfully from file: %s&quot;, file.getOriginalFilename()));\n    }\n\n\n\n}\n</code></pre>\n<p>And here is my csvParser service class :</p>\n<pre><code>@Service\npublic class CSVParser {\n\n    public List&lt;Guest&gt; parseCSV(MultipartFile file) throws IOException, CsvValidationException {\n        List&lt;Guest&gt; guests = new ArrayList&lt;&gt;();\n\n        try (CSVReader reader = new CSVReader(new InputStreamReader(file.getInputStream(), StandardCharsets.UTF_8))) {\n            String[] line;\n            reader.readNext(); // Skip the header line\n\n            while ((line = reader.readNext()) != null) {\n                Guest guest = new Guest();\n                guest.setFirstName(line[0]);\n                guest.setLastName(line[1]);\n                guest.setPhoneNumber(line[2]);\n                guest.setCompany_email(line[3]);\n                guest.setPosition(line[4]);\n\n                guests.add(guest);\n            }\n        }\n\n        return guests;\n    }\n}\n</code></pre>\n<p>As per the initial stage I tried to upload csv file with firstName,lastName,phoneNumber,company_email and position. I haven't passed image with csv and need to do that in future.</p>\n<p>So following you can see the structure of my csv file:\n<a href=\"https://i.stack.imgur.com/Jna5f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jna5f.png\" alt=\"enter image description here\" /></a></p>\n<p>And I tried to send this csv file using postman as follows:\n<a href=\"https://i.stack.imgur.com/youLC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/youLC.png\" alt=\"enter image description here\" /></a></p>\n<p>But I'm getting the an error saying <code>ArrayIndexOutOfBound Exception</code>.Here is my error that I'm getting,</p>\n<pre><code>2023-05-29T23:35:22.630+05:30 ERROR 2149 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3] with root cause\n\njava.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\n    at com.example.attendingsystembackend.utils.CSVParser.parseCSV(CSVParser.java:30) ~[classes/:na]\n    at com.example.attendingsystembackend.controller.GuestController.uploadCSV(GuestController.java:127) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>What is the cause Behind this? If I add column as <code>image</code> and set it to null in csv file and tried to upload it, the same error is occured.Can someone help me in this issue?\nThank you in advance!</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685384024,"creation_date":1685384024,"answer_id":76359534,"question_id":76359147,"body_markdown":"You can use the following **shift** transformation specs such as\r\n```json\r\n[\r\n  { // dissipate each component of the respective arrays\r\n    // to their respective object\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;&amp;.comp&amp;1&quot;\r\n      }\r\n    }\r\n  },\r\n  { // match components within each object\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;@comp1&quot;: &quot;@comp0&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fM2NY.jpg","title":"Jolt - Array into Key Value Pairs","body":"<p>You can use the following <strong>shift</strong> transformation specs such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  { // dissipate each component of the respective arrays\n    // to their respective object\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;&amp;.comp&amp;1&quot;\n      }\n    }\n  },\n  { // match components within each object\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;@comp1&quot;: &quot;@comp0&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/fM2NY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fM2NY.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14699645,"reputation":152,"user_id":10616043,"display_name":"Drew Nicolette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76359534,"answer_count":1,"score":0,"last_activity_date":1685384024,"creation_date":1685379937,"question_id":76359147,"body_markdown":"I am trying to convert this input below to the expected output using Jolt\r\n\r\nHere&#39;s my Input:\r\n\r\n```\r\n[\r\n  [\r\n    &quot;station_name&quot;,\r\n    &quot;station_longname&quot;\r\n  ],\r\n  [\r\n    &quot;10 Mile Brook Dam Water Level Daily Value, South W&quot;,\r\n    &quot;10 Mile Brook Dam Water Level Daily Value, South West Region&quot;\r\n  ]\r\n]\r\n```\r\n\r\nI am trying to convert it into this output - \r\n```\r\n{\r\n  &quot;station_name&quot;: &quot;10 Mile Brook Dam Water Level Daily Value, South W&quot;,\r\n  &quot;station_longname&quot;: &quot;10 Mile Brook Dam Water Level Daily Value, South West Region&quot;\r\n}\r\n```\r\n\r\n\r\nI tried using this Jolt -\r\n\r\n```\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;@&quot;: &quot;[&amp;1]&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nBut it came back like this - \r\n```\r\n[\r\n  [\r\n    &quot;station_name&quot;,\r\n    &quot;10 Mile Brook Dam Water Level Daily Value, South W&quot;\r\n  ],\r\n  [\r\n    &quot;station_longname&quot;,\r\n    &quot;10 Mile Brook Dam Water Level Daily Value, South West Region&quot;\r\n  ]\r\n]\r\n```\r\n","title":"Jolt - Array into Key Value Pairs","body":"<p>I am trying to convert this input below to the expected output using Jolt</p>\n<p>Here's my Input:</p>\n<pre><code>[\n  [\n    &quot;station_name&quot;,\n    &quot;station_longname&quot;\n  ],\n  [\n    &quot;10 Mile Brook Dam Water Level Daily Value, South W&quot;,\n    &quot;10 Mile Brook Dam Water Level Daily Value, South West Region&quot;\n  ]\n]\n</code></pre>\n<p>I am trying to convert it into this output -</p>\n<pre><code>{\n  &quot;station_name&quot;: &quot;10 Mile Brook Dam Water Level Daily Value, South W&quot;,\n  &quot;station_longname&quot;: &quot;10 Mile Brook Dam Water Level Daily Value, South West Region&quot;\n}\n</code></pre>\n<p>I tried using this Jolt -</p>\n<pre><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;@&quot;: &quot;[&amp;1]&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>But it came back like this -</p>\n<pre><code>[\n  [\n    &quot;station_name&quot;,\n    &quot;10 Mile Brook Dam Water Level Daily Value, South W&quot;\n  ],\n  [\n    &quot;station_longname&quot;,\n    &quot;10 Mile Brook Dam Water Level Daily Value, South West Region&quot;\n  ]\n]\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","amazon-elasticache"],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685381750,"creation_date":1685381750,"answer_id":76359313,"question_id":76358845,"body_markdown":"I think you can use redisTemplate and redisTemplate.keys(&quot;*&quot;)","title":"Is there a @Query in spring Data Redis?","body":"<p>I think you can use redisTemplate and redisTemplate.keys(&quot;*&quot;)</p>\n"},{"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685383594,"creation_date":1685383594,"answer_id":76359487,"question_id":76358845,"body_markdown":"No, in Spring Data Redis, the searching capability is limited to searching over secondary indices (created/maintained in Redis SETs). Spring Data Redis provides &quot;Automatic implementation of Repository interfaces including support for custom query methods.&quot; So you can do simple repository-powered repo search methods like `findByXXXandYYY.`\r\n\r\nTo get full-search capabilities, Redis introduces RediSearch (https://redis.io/docs/stack/search/quick_start/), a search engine packaged with Redis Stack (https://redis.io/docs/stack/) that enables searching over HASHes and JSON documents stored in Redis.\r\n\r\nTo use Redis Stack features from Spring, there is Redis OM Spring (https://github.com/redis/redis-om-spring). A library that extends Spring Data Redis with Redis Stack functionality. It&#39;s still early in its development but getting close to a 1.0 release (disclaimer: I&#39;m the main contributor to the library).\r\n\r\nWith OM you can create search indices for a collection (Hash/JSON) and user repositories methods to do more complex searching, or use the `EntityStream` class to search with a Java-streams-like API.","title":"Is there a @Query in spring Data Redis?","body":"<p>No, in Spring Data Redis, the searching capability is limited to searching over secondary indices (created/maintained in Redis SETs). Spring Data Redis provides &quot;Automatic implementation of Repository interfaces including support for custom query methods.&quot; So you can do simple repository-powered repo search methods like <code>findByXXXandYYY.</code></p>\n<p>To get full-search capabilities, Redis introduces RediSearch (<a href=\"https://redis.io/docs/stack/search/quick_start/\" rel=\"nofollow noreferrer\">https://redis.io/docs/stack/search/quick_start/</a>), a search engine packaged with Redis Stack (<a href=\"https://redis.io/docs/stack/\" rel=\"nofollow noreferrer\">https://redis.io/docs/stack/</a>) that enables searching over HASHes and JSON documents stored in Redis.</p>\n<p>To use Redis Stack features from Spring, there is Redis OM Spring (<a href=\"https://github.com/redis/redis-om-spring\" rel=\"nofollow noreferrer\">https://github.com/redis/redis-om-spring</a>). A library that extends Spring Data Redis with Redis Stack functionality. It's still early in its development but getting close to a 1.0 release (disclaimer: I'm the main contributor to the library).</p>\n<p>With OM you can create search indices for a collection (Hash/JSON) and user repositories methods to do more complex searching, or use the <code>EntityStream</code> class to search with a Java-streams-like API.</p>\n"}],"owner":{"account_id":13162034,"reputation":50,"user_id":9507203,"display_name":"Joey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685383594,"creation_date":1685376925,"question_id":76358845,"body_markdown":"I have been reading about spring Data Redis which is quite similar to spring data JPA.\r\nI have a USER class that has key has user id and value as the User object. I am trying to find all the user id&#39;s (key) from the &quot;/user&quot; hash where this data is stored.\r\n\r\nSpring data had this cool feature of using @Query which is apparently not working with spring data redis.\r\n\r\n```\r\n@Query(&quot;Select c.key from User c&quot;)\r\nSet&lt;String&gt; getAllUserKey();\r\n\r\n```\r\nI have tried the above code but it is giving me error that unrecognized property Key. I have gone through the documentation and google and don&#39;t think so this can be done using spring-data redis.\r\n\r\nJust wanted to confirm my understanding and also would like to know what is the best way to approach this use case. I want to gather statistics around how many keys are stored under a hash and other things which would have been very easy to do with @Query\r\n\r\n","title":"Is there a @Query in spring Data Redis?","body":"<p>I have been reading about spring Data Redis which is quite similar to spring data JPA.\nI have a USER class that has key has user id and value as the User object. I am trying to find all the user id's (key) from the &quot;/user&quot; hash where this data is stored.</p>\n<p>Spring data had this cool feature of using @Query which is apparently not working with spring data redis.</p>\n<pre><code>@Query(&quot;Select c.key from User c&quot;)\nSet&lt;String&gt; getAllUserKey();\n\n</code></pre>\n<p>I have tried the above code but it is giving me error that unrecognized property Key. I have gone through the documentation and google and don't think so this can be done using spring-data redis.</p>\n<p>Just wanted to confirm my understanding and also would like to know what is the best way to approach this use case. I want to gather statistics around how many keys are stored under a hash and other things which would have been very easy to do with @Query</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685382561,"creation_date":1685373467,"answer_id":76358488,"question_id":76358381,"body_markdown":"As for me you need to mock service and then inject mocks to your class that you are testing.\r\n\r\n   \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class RewardsOperationTest {\r\n    \r\n        @Mock\r\n        private CustomerProfileService customerProfileService;\r\n    \r\n        @InjectMocks\r\n        private RewardsOperation rewardsOperation;\r\n    \r\n        @Test\r\n        public void handle_withRestConnectorException_shouldHandleException() throws RestConnectorException {\r\n            RestConsumerRequest&lt;PointsFulfillRequest&gt; consumerRequest = mock(RestConsumerRequest.class);\r\n            RestConnectorException restConnectorException = mock(RestConnectorException.class);\r\n            when(customerProfileService.getCustomerProfile(consumerRequest)).thenThrow(restConnectorException);\r\n    \r\n            RestConsumerResponse&lt;MortgPointsFulfillResponseData&gt; response = rewardsOperation.handle(consumerRequest);\r\n    \r\n            Assertions.assertThrows(RestConnectorException.class, ()-&gt; rewardsOperation.handle(restConsumerRequest));\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Mockito: not throwing expected exception","body":"<p>As for me you need to mock service and then inject mocks to your class that you are testing.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class RewardsOperationTest {\n\n    @Mock\n    private CustomerProfileService customerProfileService;\n\n    @InjectMocks\n    private RewardsOperation rewardsOperation;\n\n    @Test\n    public void handle_withRestConnectorException_shouldHandleException() throws RestConnectorException {\n        RestConsumerRequest&lt;PointsFulfillRequest&gt; consumerRequest = mock(RestConsumerRequest.class);\n        RestConnectorException restConnectorException = mock(RestConnectorException.class);\n        when(customerProfileService.getCustomerProfile(consumerRequest)).thenThrow(restConnectorException);\n\n        RestConsumerResponse&lt;MortgPointsFulfillResponseData&gt; response = rewardsOperation.handle(consumerRequest);\n\n        Assertions.assertThrows(RestConnectorException.class, ()-&gt; rewardsOperation.handle(restConsumerRequest));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685382561,"creation_date":1685372352,"question_id":76358381,"body_markdown":"I need to test exception handling in the following piece of code:\r\n\r\n    @Component\r\n    public class RewardsOperation {\r\n\r\n        public RewardsOperation(CustomerProfileService customerProfileService){\r\n            this.customerProfileService = customerProfileService;\r\n        }\r\n\r\n        @Override\r\n        public RestConsumerResponse&lt;PointsFulfillResponseData&gt; handle(RestConsumerRequest&lt;PointsFulfillRequest&gt; consumerRequest) {\r\n\r\n            try {\r\n                customerProfile = customerProfileService.getCustomerProfile(consumerRequest);\r\n           } catch (RestConnectorException exp) {\r\n           ...\r\n          }\r\n\r\n\r\nThis is the test case I wrote:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class RewardsOperationTest {\r\n    \r\n        @Mock\r\n        CustomerProfileService customerProfileService;\r\n    \r\n        RewardsOperation sut;\r\n    \r\n        @BeforeEach\r\n        public void setUp() throws Exception {\r\n            MockitoAnnotations.initMocks(this);\r\n    \r\n            restConsumerRequest = RestConsumerRequest.&lt;PointsFulfillRequest&gt;builder().request(PointsFulfillRequest.buildExample()).build();\r\n    \r\n            Notification notification = Notification.builder()\r\n                    .code(&quot;E_CBTCUST_PROFILE_2001&quot;)\r\n                    .build();\r\n            restConnectorException = new RestConnectorException(notification, new Exception());\r\n            sut = new RewardsOperation(customerProfileService);\r\n        }\r\n\r\n        @Test\r\n        public void handleRestConnectorExceptionTest() throws IOException {\r\n            // Given\r\n            Mockito.when(customerProfileService.getCustomerProfile(restConsumerRequest)).thenThrow(restConnectorException);\r\n            // THEN\r\n            Assertions.assertThrows(RestConnectorException.class, ()-&gt; sut.handle(restConsumerRequest));\r\n        }\r\n    }\r\n\r\nWhen I run the test, it showed that no excpetion was thrown\r\n\r\n    RewardsOperationTest &gt; handleRestConnectorExceptionTest() FAILED\r\n        org.opentest4j.AssertionFailedError: Expected com.bns.chassis.starter.rest.exceptions.RestConnectorException to be thrown, but nothing was thrown.\r\n            ...\r\n            at com.aab.api.points.fulfillment.operation.RewardsOperationTest.handleRestConnectorExceptionTest(RewardsOperationTest.java:26)\r\n\r\nAnyone could help point out what I missed?","title":"Mockito: not throwing expected exception","body":"<p>I need to test exception handling in the following piece of code:</p>\n<pre><code>@Component\npublic class RewardsOperation {\n\n    public RewardsOperation(CustomerProfileService customerProfileService){\n        this.customerProfileService = customerProfileService;\n    }\n\n    @Override\n    public RestConsumerResponse&lt;PointsFulfillResponseData&gt; handle(RestConsumerRequest&lt;PointsFulfillRequest&gt; consumerRequest) {\n\n        try {\n            customerProfile = customerProfileService.getCustomerProfile(consumerRequest);\n       } catch (RestConnectorException exp) {\n       ...\n      }\n</code></pre>\n<p>This is the test case I wrote:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class RewardsOperationTest {\n\n    @Mock\n    CustomerProfileService customerProfileService;\n\n    RewardsOperation sut;\n\n    @BeforeEach\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n\n        restConsumerRequest = RestConsumerRequest.&lt;PointsFulfillRequest&gt;builder().request(PointsFulfillRequest.buildExample()).build();\n\n        Notification notification = Notification.builder()\n                .code(&quot;E_CBTCUST_PROFILE_2001&quot;)\n                .build();\n        restConnectorException = new RestConnectorException(notification, new Exception());\n        sut = new RewardsOperation(customerProfileService);\n    }\n\n    @Test\n    public void handleRestConnectorExceptionTest() throws IOException {\n        // Given\n        Mockito.when(customerProfileService.getCustomerProfile(restConsumerRequest)).thenThrow(restConnectorException);\n        // THEN\n        Assertions.assertThrows(RestConnectorException.class, ()-&gt; sut.handle(restConsumerRequest));\n    }\n}\n</code></pre>\n<p>When I run the test, it showed that no excpetion was thrown</p>\n<pre><code>RewardsOperationTest &gt; handleRestConnectorExceptionTest() FAILED\n    org.opentest4j.AssertionFailedError: Expected com.bns.chassis.starter.rest.exceptions.RestConnectorException to be thrown, but nothing was thrown.\n        ...\n        at com.aab.api.points.fulfillment.operation.RewardsOperationTest.handleRestConnectorExceptionTest(RewardsOperationTest.java:26)\n</code></pre>\n<p>Anyone could help point out what I missed?</p>\n"},{"tags":["java","http-headers","okhttp"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1643013978,"post_id":70804280,"comment_id":125217991,"body_markdown":"Can you explain the reason why you are sending content type `application/octet-stream` and not some text type?","body":"Can you explain the reason why you are sending content type <code>application&#47;octet-stream</code> and not some text type?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1643014826,"post_id":70804280,"comment_id":125218227,"body_markdown":"Many details are missing. What does the corresponding Postman request look like exactly? Are you sending this to a web form or some kind or REST service? How did you create `contentDisposition` and `requestBody`? An [MCVE](https://stackoverflow.com/help/mcve) would really be more helpful than a code snippet out of context and you wasting a bounty on a question with insufficient detail.","body":"Many details are missing. What does the corresponding Postman request look like exactly? Are you sending this to a web form or some kind or REST service? How did you create <code>contentDisposition</code> and <code>requestBody</code>? An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> would really be more helpful than a code snippet out of context and you wasting a bounty on a question with insufficient detail."},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":0,"creation_date":1643016011,"post_id":70804280,"comment_id":125218628,"body_markdown":"@kriegaex I&#39;ve updated my question. You were right. Thx","body":"@kriegaex I&#39;ve updated my question. You were right. Thx"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1643017237,"post_id":70804280,"comment_id":125219054,"body_markdown":"Oh, so it is not about UTF-8 characters in the post body, but in an HTTP header field. Please confirm. Because I thought you wanted UTF-8 in the body. That would have been simply `.add(&quot;Content-type&quot;, &quot;application/octet-stream; charset=utf-8&quot;)`.","body":"Oh, so it is not about UTF-8 characters in the post body, but in an HTTP header field. Please confirm. Because I thought you wanted UTF-8 in the body. That would have been simply <code>.add(&quot;Content-type&quot;, &quot;application&#47;octet-stream; charset=utf-8&quot;)</code>."},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":0,"creation_date":1643017741,"post_id":70804280,"comment_id":125219244,"body_markdown":"@kriegaex Yes, problem is in the &quot;content-disposition&quot; error, which contains the fileName.","body":"@kriegaex Yes, problem is in the &quot;content-disposition&quot; error, which contains the fileName."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1643024936,"creation_date":1643019767,"answer_id":70832263,"question_id":70804280,"body_markdown":"The default character set for HTTP headers is ISO-8859-1. There is however [RFC 6266](https://datatracker.ietf.org/doc/html/rfc6266#section-5), describing how you can encode the file name in a `Content-Disposition` header. Basically, you specify the character set name and then percent-encode the UTF-8 characters. Instead of `fileName=&quot;my-simple-filename&quot;` you use a parameter starting with `filename*=utf-8&#39;&#39;` like\r\n\r\n```java\r\nimport java.net.URLEncoder;\r\n\r\n// ...\r\n\r\nString fileName = &quot;3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105&quot;;\r\nString contentDisposition = &quot;attachment;filename*=utf-8&#39;&#39;&quot; + encodeFileName(fileName);\r\n\r\n// ...\r\n\r\nprivate static String encodeFileName(String fileName) throws UnsupportedEncodingException {\r\n  return URLEncoder.encode(fileName, &quot;UTF-8&quot;).replace(&quot;+&quot;, &quot;%20&quot;);\r\n}\r\n```\r\n\r\nUsing the URL encoder and then modifying the result for &quot;+&quot; is a cheap trick I found [here](https://stackoverflow.com/a/60689236/1082681), if you want to avoid using Guava, [Spring&#39;s `ContentDisposition` class](https://stackoverflow.com/a/63735284/1082681) or any other library and simply work with JRE classes.\r\n\r\n---\r\n\r\n**Update:** Here is a full [MCVE](https://stackoverflow.com/help/mcve), showing how to send an UTF-8 string both as a POST body and as a content disposition file name. The demo server shows how to decode that header manually - usually HTTP servers should do that automatically.\r\n\r\n**Maven POM showing used dependencies:**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;SO_Java_OkHttp3SendUtf8_70804280&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n      &lt;version&gt;4.9.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.nanohttpd&lt;/groupId&gt;\r\n      &lt;artifactId&gt;nanohttpd&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**OkHttp demo client:**\r\n\r\n```java\r\nimport okhttp3.Headers;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.RequestBody;\r\nimport okhttp3.Response;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Objects;\r\n\r\npublic class Client {\r\n  public static void main(String[] args) throws IOException {\r\n    String fileName = &quot;3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105&quot;;\r\n    String contentDisposition = &quot;attachment;filename*=utf-8&#39;&#39;&quot; + encodeFileName(fileName);\r\n    RequestBody requestBody = RequestBody.create(fileName.getBytes(StandardCharsets.UTF_8));\r\n    Headers headers = new Headers.Builder()\r\n      .add(&quot;Content-Disposition&quot;, contentDisposition)\r\n      .add(&quot;Content-type&quot;, &quot;application/octet-stream; charset=utf-8&quot;)\r\n      .build();\r\n    Request request = new Request.Builder()\r\n      .headers(headers)\r\n      .post(requestBody)\r\n      .url(new URL(&quot;http://localhost:8080/&quot;))\r\n      .build();\r\n    OkHttpClient client = new OkHttpClient();\r\n    Response response = client.newCall(request).execute();\r\n    System.out.println(Objects.requireNonNull(response.body()).string());\r\n  }\r\n\r\n  private static String encodeFileName(String fileName) {\r\n    return URLEncoder.encode(fileName, StandardCharsets.UTF_8).replace(&quot;+&quot;, &quot;%20&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**NanoHTTPD demo server:**\r\n\r\n```java\r\nimport fi.iki.elonen.NanoHTTPD;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URLDecoder;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Server extends NanoHTTPD {\r\n\r\n  public Server() throws IOException {\r\n    super(8080);\r\n    start(NanoHTTPD.SOCKET_READ_TIMEOUT, false);\r\n    System.out.println(&quot;\\nRunning! Point your browsers to http://localhost:8080/ \\n&quot;);\r\n  }\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    new Server();\r\n  }\r\n\r\n  private static final String UTF_8_FILE_NAME_PREFIX = &quot;;filename*=utf-8&#39;&#39;&quot;;\r\n  private static final int UTF_8_FILE_NAME_PREFIX_LENGTH = UTF_8_FILE_NAME_PREFIX.length();\r\n\r\n  @Override\r\n  public Response serve(IHTTPSession session) {\r\n    try {\r\n      Map&lt;String, String&gt; files = new HashMap&lt;&gt;();\r\n      session.parseBody(files);\r\n      String postBody = files.get(&quot;postData&quot;);\r\n      String contentDisposition = session.getHeaders().get(&quot;content-disposition&quot;);\r\n      String fileName = decodeFileName(\r\n        contentDisposition.substring(\r\n          contentDisposition.indexOf(UTF_8_FILE_NAME_PREFIX) + UTF_8_FILE_NAME_PREFIX_LENGTH\r\n        )\r\n      );\r\n      System.out.println(&quot;POST body:           &quot; + postBody);\r\n      System.out.println(&quot;Content disposition: &quot; + contentDisposition);\r\n      System.out.println(&quot;UTF-8 file name:     &quot; + fileName);\r\n      return newFixedLengthResponse(postBody + &quot;\\n&quot; + fileName);\r\n    }\r\n    catch (IOException | ResponseException e) {\r\n      e.printStackTrace();\r\n      return newFixedLengthResponse(e.toString());\r\n    }\r\n  }\r\n\r\n  private static String decodeFileName(String fileName) {\r\n    return URLDecoder.decode(fileName.replace(&quot;%20&quot;, &quot;+&quot;), StandardCharsets.UTF_8);\r\n  }\r\n\r\n}\r\n```\r\n\r\nIf first you run the server and then the client, you will see this on the server console:\r\n\r\n```none\r\nRunning! Point your browsers to http://localhost:8080/ \r\n\r\nPOST body:           3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105\r\nContent disposition: attachment;filename*=utf-8&#39;&#39;3%24%20M%C3%B9%20F%27RAN%C3%A7%C3%A9_33902_Country_5_202105\r\nUTF-8 file name:     3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105\r\n```\r\n\r\nOn the client console, you see:\r\n\r\n```none\r\n3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105\r\n3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105\r\n```\r\n","title":"UTF-8 characters in &#39;filename&#39; for &#39;Content-Disposition&#39; yield &quot;IllegalArgumentException: Unexpected char&quot;","body":"<p>The default character set for HTTP headers is ISO-8859-1. There is however <a href=\"https://datatracker.ietf.org/doc/html/rfc6266#section-5\" rel=\"noreferrer\">RFC 6266</a>, describing how you can encode the file name in a <code>Content-Disposition</code> header. Basically, you specify the character set name and then percent-encode the UTF-8 characters. Instead of <code>fileName=&quot;my-simple-filename&quot;</code> you use a parameter starting with <code>filename*=utf-8''</code> like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.URLEncoder;\n\n// ...\n\nString fileName = &quot;3$ Mù F'RANçé_33902_Country_5_202105&quot;;\nString contentDisposition = &quot;attachment;filename*=utf-8''&quot; + encodeFileName(fileName);\n\n// ...\n\nprivate static String encodeFileName(String fileName) throws UnsupportedEncodingException {\n  return URLEncoder.encode(fileName, &quot;UTF-8&quot;).replace(&quot;+&quot;, &quot;%20&quot;);\n}\n</code></pre>\n<p>Using the URL encoder and then modifying the result for &quot;+&quot; is a cheap trick I found <a href=\"https://stackoverflow.com/a/60689236/1082681\">here</a>, if you want to avoid using Guava, <a href=\"https://stackoverflow.com/a/63735284/1082681\">Spring's <code>ContentDisposition</code> class</a> or any other library and simply work with JRE classes.</p>\n<hr />\n<p><strong>Update:</strong> Here is a full <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, showing how to send an UTF-8 string both as a POST body and as a content disposition file name. The demo server shows how to decode that header manually - usually HTTP servers should do that automatically.</p>\n<p><strong>Maven POM showing used dependencies:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;SO_Java_OkHttp3SendUtf8_70804280&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n      &lt;version&gt;4.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.nanohttpd&lt;/groupId&gt;\n      &lt;artifactId&gt;nanohttpd&lt;/artifactId&gt;\n      &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>OkHttp demo client:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import okhttp3.Headers;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.RequestBody;\nimport okhttp3.Response;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Objects;\n\npublic class Client {\n  public static void main(String[] args) throws IOException {\n    String fileName = &quot;3$ Mù F'RANçé_33902_Country_5_202105&quot;;\n    String contentDisposition = &quot;attachment;filename*=utf-8''&quot; + encodeFileName(fileName);\n    RequestBody requestBody = RequestBody.create(fileName.getBytes(StandardCharsets.UTF_8));\n    Headers headers = new Headers.Builder()\n      .add(&quot;Content-Disposition&quot;, contentDisposition)\n      .add(&quot;Content-type&quot;, &quot;application/octet-stream; charset=utf-8&quot;)\n      .build();\n    Request request = new Request.Builder()\n      .headers(headers)\n      .post(requestBody)\n      .url(new URL(&quot;http://localhost:8080/&quot;))\n      .build();\n    OkHttpClient client = new OkHttpClient();\n    Response response = client.newCall(request).execute();\n    System.out.println(Objects.requireNonNull(response.body()).string());\n  }\n\n  private static String encodeFileName(String fileName) {\n    return URLEncoder.encode(fileName, StandardCharsets.UTF_8).replace(&quot;+&quot;, &quot;%20&quot;);\n  }\n}\n</code></pre>\n<p><strong>NanoHTTPD demo server:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import fi.iki.elonen.NanoHTTPD;\n\nimport java.io.IOException;\nimport java.net.URLDecoder;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Server extends NanoHTTPD {\n\n  public Server() throws IOException {\n    super(8080);\n    start(NanoHTTPD.SOCKET_READ_TIMEOUT, false);\n    System.out.println(&quot;\\nRunning! Point your browsers to http://localhost:8080/ \\n&quot;);\n  }\n\n  public static void main(String[] args) throws IOException {\n    new Server();\n  }\n\n  private static final String UTF_8_FILE_NAME_PREFIX = &quot;;filename*=utf-8''&quot;;\n  private static final int UTF_8_FILE_NAME_PREFIX_LENGTH = UTF_8_FILE_NAME_PREFIX.length();\n\n  @Override\n  public Response serve(IHTTPSession session) {\n    try {\n      Map&lt;String, String&gt; files = new HashMap&lt;&gt;();\n      session.parseBody(files);\n      String postBody = files.get(&quot;postData&quot;);\n      String contentDisposition = session.getHeaders().get(&quot;content-disposition&quot;);\n      String fileName = decodeFileName(\n        contentDisposition.substring(\n          contentDisposition.indexOf(UTF_8_FILE_NAME_PREFIX) + UTF_8_FILE_NAME_PREFIX_LENGTH\n        )\n      );\n      System.out.println(&quot;POST body:           &quot; + postBody);\n      System.out.println(&quot;Content disposition: &quot; + contentDisposition);\n      System.out.println(&quot;UTF-8 file name:     &quot; + fileName);\n      return newFixedLengthResponse(postBody + &quot;\\n&quot; + fileName);\n    }\n    catch (IOException | ResponseException e) {\n      e.printStackTrace();\n      return newFixedLengthResponse(e.toString());\n    }\n  }\n\n  private static String decodeFileName(String fileName) {\n    return URLDecoder.decode(fileName.replace(&quot;%20&quot;, &quot;+&quot;), StandardCharsets.UTF_8);\n  }\n\n}\n</code></pre>\n<p>If first you run the server and then the client, you will see this on the server console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Running! Point your browsers to http://localhost:8080/ \n\nPOST body:           3$ Mù F'RANçé_33902_Country_5_202105\nContent disposition: attachment;filename*=utf-8''3%24%20M%C3%B9%20F%27RAN%C3%A7%C3%A9_33902_Country_5_202105\nUTF-8 file name:     3$ Mù F'RANçé_33902_Country_5_202105\n</code></pre>\n<p>On the client console, you see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>3$ Mù F'RANçé_33902_Country_5_202105\n3$ Mù F'RANçé_33902_Country_5_202105\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10429699,"reputation":464,"user_id":7689898,"display_name":"Zaziro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685382457,"creation_date":1685382457,"answer_id":76359380,"question_id":70804280,"body_markdown":"Those who use spring framework and experience this error can do something like this:\r\n\r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    ContentDisposition contentDisposition = ContentDisposition.builder(&quot;attachment&quot;)\r\n        .filename(&quot;filename with unicode chars.csv&quot;, StandardCharsets.UTF_8).build();\r\n    httpHeaders.setContentDisposition(contentDisposition);\r\n    return ResponseEntity.ok().headers(httpHeaders)\r\n        .contentType(MediaType.TEXT_PLAIN).body(byteArrayResourceObj);","title":"UTF-8 characters in &#39;filename&#39; for &#39;Content-Disposition&#39; yield &quot;IllegalArgumentException: Unexpected char&quot;","body":"<p>Those who use spring framework and experience this error can do something like this:</p>\n<pre><code>HttpHeaders httpHeaders = new HttpHeaders();\nContentDisposition contentDisposition = ContentDisposition.builder(&quot;attachment&quot;)\n    .filename(&quot;filename with unicode chars.csv&quot;, StandardCharsets.UTF_8).build();\nhttpHeaders.setContentDisposition(contentDisposition);\nreturn ResponseEntity.ok().headers(httpHeaders)\n    .contentType(MediaType.TEXT_PLAIN).body(byteArrayResourceObj);\n</code></pre>\n"}],"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10417,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70832263,"answer_count":2,"score":4,"last_activity_date":1685382457,"creation_date":1642781516,"question_id":70804280,"body_markdown":"is it possible to send UTF-8 character from a okhttp3 client ?\r\n\r\nFor the following string : \r\n\r\n    String fileName = &quot;3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105&quot;;\r\n    String contentDisposition = &quot;attachment;filename=&quot; + &quot;\\&quot;&quot; +  fileName + &quot;\\&quot;&quot;;\r\n\r\nI&#39;ve tried (**for the contentDisposition header**) :\r\n\r\n    Headers headers = new Headers.Builder()\r\n    \t\t\t\t\t   .addUnsafeNonAscii(&quot;Content-Disposition&quot;, contentDisposition)\r\n    \t\t\t\t\t   .add(&quot;Authorization&quot;, bearer)\r\n    \t\t               .add(&quot;Content-type&quot;, &quot;application/octet-stream&quot;)\r\n    \t\t\t\t\t   .build();\r\n    \t    \t Request request = new Request.Builder()\r\n    \t    \t\t\t .headers(headers)\r\n    \t                 .post(requestBody) \r\n    \t                 .url(urlAddress)\r\n    \t                 .build();\r\n\r\nBut the server receive : `3$ M&#195;&#185; F&#39;RAN&#195;&#167;&#195;&#169;_33902_Country_5_202105`\r\n\r\nThis request is send to a firm partner, so I have no access to the back-end.\r\n\r\n`application/octet-stream` is needed by the back-end.\r\n\r\nBody is created like this :\r\n\r\n    byte[] data = FileUtils.readFileToByteArray(file);\r\n    RequestBody requestBody = RequestBody.create(data);\r\n\r\nIt works perfectly fine with Postman.\r\n\r\nFull MVCE (cannot be complete with file and back-end informations but it crashes before, anyway, so you can just start this exact code and it should throws the error) :\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args ) throws IOException\r\n        {\r\n        \t\t\tOkHttpClient client = new OkHttpClient().newBuilder()\r\n        \t\t\t  \t.build();\r\n        \t\t\tMediaType mediaType = MediaType.parse(&quot;application/octet-stream&quot;);\r\n        \t\t\tRequestBody body = RequestBody.create(mediaType, &quot;&quot;);\r\n        \t\t\tRequest request = new Request.Builder()\r\n        \t\t\t  .url(&quot;xxxx&quot;)\r\n        \t\t\t  .method(&quot;POST&quot;, body)\r\n        \t\t\t  .addHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;)\r\n        \t\t\t  .addHeader(&quot;content-disposition&quot;, &quot;attachment;filename=\\&quot;3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105.csv\\&quot;&quot;)\r\n        \t\t\t  .addHeader(&quot;Authorization&quot;, &quot;Bearer xxxxx&quot;)\r\n        \t\t\t  .addHeader(&quot;Cookie&quot;, &quot;xxxxxx&quot;)\r\n        \t\t\t  .build();\r\n        \t\t\tResponse response = client.newCall(request).execute();\r\n        }\r\n    }\r\n\r\nError received : `java.lang.IllegalArgumentException: Unexpected char 0xf9 at 25 in content-disposition value: attachment;filename=&quot;3$ M&#249; F&#39;RAN&#231;&#233;_33902_Country_5_202105.csv&quot;`\r\n\r\nokhttp version : `5.0.0-alpha.2`\r\n\r\nDid I miss something ?\r\n\r\nThanks","title":"UTF-8 characters in &#39;filename&#39; for &#39;Content-Disposition&#39; yield &quot;IllegalArgumentException: Unexpected char&quot;","body":"<p>is it possible to send UTF-8 character from a okhttp3 client ?</p>\n<p>For the following string :</p>\n<pre><code>String fileName = &quot;3$ Mù F'RANçé_33902_Country_5_202105&quot;;\nString contentDisposition = &quot;attachment;filename=&quot; + &quot;\\&quot;&quot; +  fileName + &quot;\\&quot;&quot;;\n</code></pre>\n<p>I've tried (<strong>for the contentDisposition header</strong>) :</p>\n<pre><code>Headers headers = new Headers.Builder()\n                       .addUnsafeNonAscii(&quot;Content-Disposition&quot;, contentDisposition)\n                       .add(&quot;Authorization&quot;, bearer)\n                       .add(&quot;Content-type&quot;, &quot;application/octet-stream&quot;)\n                       .build();\n             Request request = new Request.Builder()\n                     .headers(headers)\n                     .post(requestBody) \n                     .url(urlAddress)\n                     .build();\n</code></pre>\n<p>But the server receive : <code>3$ MÃ¹ F'RANÃ§Ã©_33902_Country_5_202105</code></p>\n<p>This request is send to a firm partner, so I have no access to the back-end.</p>\n<p><code>application/octet-stream</code> is needed by the back-end.</p>\n<p>Body is created like this :</p>\n<pre><code>byte[] data = FileUtils.readFileToByteArray(file);\nRequestBody requestBody = RequestBody.create(data);\n</code></pre>\n<p>It works perfectly fine with Postman.</p>\n<p>Full MVCE (cannot be complete with file and back-end informations but it crashes before, anyway, so you can just start this exact code and it should throws the error) :</p>\n<pre><code>public class App \n{\n    public static void main( String[] args ) throws IOException\n    {\n                OkHttpClient client = new OkHttpClient().newBuilder()\n                    .build();\n                MediaType mediaType = MediaType.parse(&quot;application/octet-stream&quot;);\n                RequestBody body = RequestBody.create(mediaType, &quot;&quot;);\n                Request request = new Request.Builder()\n                  .url(&quot;xxxx&quot;)\n                  .method(&quot;POST&quot;, body)\n                  .addHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;)\n                  .addHeader(&quot;content-disposition&quot;, &quot;attachment;filename=\\&quot;3$ Mù F'RANçé_33902_Country_5_202105.csv\\&quot;&quot;)\n                  .addHeader(&quot;Authorization&quot;, &quot;Bearer xxxxx&quot;)\n                  .addHeader(&quot;Cookie&quot;, &quot;xxxxxx&quot;)\n                  .build();\n                Response response = client.newCall(request).execute();\n    }\n}\n</code></pre>\n<p>Error received : <code>java.lang.IllegalArgumentException: Unexpected char 0xf9 at 25 in content-disposition value: attachment;filename=&quot;3$ Mù F'RANçé_33902_Country_5_202105.csv&quot;</code></p>\n<p>okhttp version : <code>5.0.0-alpha.2</code></p>\n<p>Did I miss something ?</p>\n<p>Thanks</p>\n"},{"tags":["java","postgresql","assertj","spring-data-jdbc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1685357526,"post_id":76356696,"comment_id":134644949,"body_markdown":"I&#39;d say use the same rule you would use for `double`: allow for a small delta in the comparison.","body":"I&#39;d say use the same rule you would use for <code>double</code>: allow for a small delta in the comparison."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685382448,"post_id":76356696,"comment_id":134649288,"body_markdown":"Before using a type in Java or Postgres, you should **read the documentation** to learn about its characteristics and its limits.","body":"Before using a type in Java or Postgres, you should <b>read the documentation</b> to learn about its characteristics and its limits."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1685382366,"creation_date":1685358089,"answer_id":76356770,"question_id":76356696,"body_markdown":"Java Time stores time with up to 1 [nanosecond][1] precision, while Postgres stores [microseconds][2]. \r\n\r\nYou can either allow delta in the comparison as suggested in the comments or.. an easier solution would be to just truncate the date in Java if you don&#39;t care about those nanos: \r\n\r\n```java\r\nInstant createdDate = Instant.now().truncatedTo(ChronoUnit.MICROS)\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [2]: https://en.wikipedia.org/wiki/Microsecond","title":"3 digits difference between Java Instant and Postgres TIMESTAMPTZ","body":"<p>Java Time stores time with up to 1 <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanosecond</a> precision, while Postgres stores <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"nofollow noreferrer\">microseconds</a>.</p>\n<p>You can either allow delta in the comparison as suggested in the comments or.. an easier solution would be to just truncate the date in Java if you don't care about those nanos:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant createdDate = Instant.now().truncatedTo(ChronoUnit.MICROS)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685361979,"creation_date":1685359294,"answer_id":76356901,"question_id":76356696,"body_markdown":"If you prefer not to truncate the expected value, [`isCloseTo`][1] and [`byLessThan`][2] could help:\r\n\r\n\r\n    assertThat(original_obj.getCreatedDate()).isCloseTo(database_obj.getCreatedDate(), byLessThan(1, ChronoUnit.MICROS));\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractTemporalAssert.html#isCloseTo(java.lang.String,org.assertj.core.data.TemporalOffset)\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assertions.html#byLessThan(long,java.time.temporal.TemporalUnit)","title":"3 digits difference between Java Instant and Postgres TIMESTAMPTZ","body":"<p>If you prefer not to truncate the expected value, <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractTemporalAssert.html#isCloseTo(java.lang.String,org.assertj.core.data.TemporalOffset)\" rel=\"nofollow noreferrer\"><code>isCloseTo</code></a> and <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assertions.html#byLessThan(long,java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>byLessThan</code></a> could help:</p>\n<pre><code>assertThat(original_obj.getCreatedDate()).isCloseTo(database_obj.getCreatedDate(), byLessThan(1, ChronoUnit.MICROS));\n</code></pre>\n"}],"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76356770,"answer_count":2,"score":2,"last_activity_date":1685382366,"creation_date":1685357432,"question_id":76356696,"body_markdown":"Given the following field in Java:\r\n\r\n```java\r\nprivate Instant createdDate = Instant.now();\r\n```\r\n\r\ncorresponding to the following field in Postgres:\r\n\r\n```sql\r\ncreated_date TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP;\r\n``` \r\n\r\nand saved to database using Spring Data JDBC [CrudRepository save(S entity)][1].\r\n\r\nWhen checking for equality the original object field and the saved one with:\r\n\r\n```java\r\nassertThat(original_obj.getCreatedDate()).isEqualTo(database_obj.getCreatedDate());\r\n```\r\n\r\nI get the following mismatch:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError:\r\n      expected: 2023-05-29T10:41:12.555839137Z\r\n       but was: 2023-05-29T10:41:12.555839Z\r\n```\r\n\r\nIt appears the `Instant` loaded from database has 3 less digits than the original Instant.\r\n\r\nHow can I make the two instants match? Why are they different?\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save(S)","title":"3 digits difference between Java Instant and Postgres TIMESTAMPTZ","body":"<p>Given the following field in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Instant createdDate = Instant.now();\n</code></pre>\n<p>corresponding to the following field in Postgres:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>created_date TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP;\n</code></pre>\n<p>and saved to database using Spring Data JDBC <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save(S)\" rel=\"nofollow noreferrer\">CrudRepository save(S entity)</a>.</p>\n<p>When checking for equality the original object field and the saved one with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(original_obj.getCreatedDate()).isEqualTo(database_obj.getCreatedDate());\n</code></pre>\n<p>I get the following mismatch:</p>\n<pre><code>org.opentest4j.AssertionFailedError:\n      expected: 2023-05-29T10:41:12.555839137Z\n       but was: 2023-05-29T10:41:12.555839Z\n</code></pre>\n<p>It appears the <code>Instant</code> loaded from database has 3 less digits than the original Instant.</p>\n<p>How can I make the two instants match? Why are they different?</p>\n"},{"tags":["java","multithreading","concurrency","project-loom"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638302503,"post_id":70174468,"comment_id":124051425,"body_markdown":"I fixed your formatting to make quotes rather than code. Click the Edit link to learn how.","body":"I fixed your formatting to make quotes rather than code. Click the Edit link to learn how."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1638309512,"creation_date":1638302662,"answer_id":70175396,"question_id":70174468,"body_markdown":"Your first excerpt is missing the important point: \r\n\r\n&gt; Instead, virtual threads automatically give up (or yield) their carrier thread when a blocking call (such as I/O) is made. **This is handled by the library and runtime** [...]\r\n\r\nThe implication is this: if your code makes a blocking call into the library (for example NIO) the library detects that you call it from a virtual thread and will turn the blocking call into a non-blocking call, park the virtual thread and continue processing some other virtual threads code.\r\n\r\nOnly if no virtual thread is ready to execute will a native thread be parked.\r\n\r\nNote that your code **never** calls a blocking syscall, it calls into the java libraries (that currently execute the blocking syscall). Project Loom replaces the layers between your code and the blocking syscall and can therefore do anything it wants - as long as the result for your calling code looks the same.","title":"Project loom, what happens when virtual thread makes a blocking system call?","body":"<p>Your first excerpt is missing the important point:</p>\n<blockquote>\n<p>Instead, virtual threads automatically give up (or yield) their carrier thread when a blocking call (such as I/O) is made. <strong>This is handled by the library and runtime</strong> [...]</p>\n</blockquote>\n<p>The implication is this: if your code makes a blocking call into the library (for example NIO) the library detects that you call it from a virtual thread and will turn the blocking call into a non-blocking call, park the virtual thread and continue processing some other virtual threads code.</p>\n<p>Only if no virtual thread is ready to execute will a native thread be parked.</p>\n<p>Note that your code <strong>never</strong> calls a blocking syscall, it calls into the java libraries (that currently execute the blocking syscall). Project Loom replaces the layers between your code and the blocking syscall and can therefore do anything it wants - as long as the result for your calling code looks the same.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685381133,"creation_date":1638303695,"answer_id":70175580,"question_id":70174468,"body_markdown":"The [Answer by Thomas Kl&#228;ger][1] is correct. I’ll add a few thoughts. \r\n\r\n\r\n&gt; So as far as I understand, if I have amount of OS threads equals to amount of CPU cores and unbounded amount of virtual threads, all OS threads will still wait for IO\r\n\r\nNo, incorrect, you misunderstand. \r\n\r\nWhat you describe is what happens under current threading technology in Java. With a one-to-one mapping of Java thread to host OS thread, any call made in Java that blocks (waiting a relatively long time for a response) leaves that host thread twiddling its thumbs, doing no work. This would not be a problem if the host had a zillion threads so that other threads could be scheduled for work on a CPU core. But host OS threads are quite expensive, so we do not have a zillion, we have very few. \r\n\r\nUsing Project Loom technology, the JVM detects the blocking call, such as waiting for I/O. Once detected, the JVM sets aside (“parks”) the virtual thread as it waits for I/O response. The JVM assigns a different virtual thread to that host OS carrier thread, so that “real” thread may continue performing work rather than waiting while twiddling its thumbs. Since the virtual threads living within the JVM are so cheap (highly efficient with both memory and CPU), we can have thousands, even millions, for the JVM to juggle. \r\n\r\nIn your example of 200 threads each waiting for IO response form JDBC calls to a database, if those were virtual threads that would all be parked within the JVM. The few host OS threads used as carrier threads by your `ExecutorService` will be working on other virtual breads that are not currently blocked. This parking and rescheduling of blocked-then-unblocked virtual threads is handled automatically by the Project Loom technology within the JVM, with no intervention needed by us Java app developers.\r\n\r\n&gt; let&#39;s say I switched a thread pool to use virtual threads\r\n\r\nActually, there is no pool of virtual threads. Each virtual thread is fresh and new, with no recycling. This eliminates worrying about thread-local contamination. \r\n\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n    …\r\n    executorService.submit( someTask ) ;  // Every task submitted gets assigned to a fresh new virtual thread.\r\n\r\n\r\n----------\r\n\r\nTo learn more, I highly recommend viewing the videos of presentations and interviews by Ron Pressler or Alan Bateman, members of the Project Loom team. Find the most recent, as Loom has been evolving. \r\n\r\nAnd read the new Java JEP, [*JEP draft: Virtual Threads (Preview)*][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70175396/642706\r\n  [2]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\r\n  [3]: https://openjdk.java.net/jeps/8277131","title":"Project loom, what happens when virtual thread makes a blocking system call?","body":"<p>The <a href=\"https://stackoverflow.com/a/70175396/642706\">Answer by Thomas Kläger</a> is correct. I’ll add a few thoughts.</p>\n<blockquote>\n<p>So as far as I understand, if I have amount of OS threads equals to amount of CPU cores and unbounded amount of virtual threads, all OS threads will still wait for IO</p>\n</blockquote>\n<p>No, incorrect, you misunderstand.</p>\n<p>What you describe is what happens under current threading technology in Java. With a one-to-one mapping of Java thread to host OS thread, any call made in Java that blocks (waiting a relatively long time for a response) leaves that host thread twiddling its thumbs, doing no work. This would not be a problem if the host had a zillion threads so that other threads could be scheduled for work on a CPU core. But host OS threads are quite expensive, so we do not have a zillion, we have very few.</p>\n<p>Using Project Loom technology, the JVM detects the blocking call, such as waiting for I/O. Once detected, the JVM sets aside (“parks”) the virtual thread as it waits for I/O response. The JVM assigns a different virtual thread to that host OS carrier thread, so that “real” thread may continue performing work rather than waiting while twiddling its thumbs. Since the virtual threads living within the JVM are so cheap (highly efficient with both memory and CPU), we can have thousands, even millions, for the JVM to juggle.</p>\n<p>In your example of 200 threads each waiting for IO response form JDBC calls to a database, if those were virtual threads that would all be parked within the JVM. The few host OS threads used as carrier threads by your <code>ExecutorService</code> will be working on other virtual breads that are not currently blocked. This parking and rescheduling of blocked-then-unblocked virtual threads is handled automatically by the Project Loom technology within the JVM, with no intervention needed by us Java app developers.</p>\n<blockquote>\n<p>let's say I switched a thread pool to use virtual threads</p>\n</blockquote>\n<p>Actually, there is no pool of virtual threads. Each virtual thread is fresh and new, with no recycling. This eliminates worrying about thread-local contamination.</p>\n<pre><code>ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n…\nexecutorService.submit( someTask ) ;  // Every task submitted gets assigned to a fresh new virtual thread.\n</code></pre>\n<hr />\n<p>To learn more, I highly recommend viewing the videos of presentations and interviews by Ron Pressler or Alan Bateman, members of the Project Loom team. Find the most recent, as Loom has been evolving.</p>\n<p>And read the new Java JEP, <a href=\"https://openjdk.java.net/jeps/8277131\" rel=\"nofollow noreferrer\"><em>JEP draft: Virtual Threads (Preview)</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1638308401,"creation_date":1638308401,"answer_id":70176442,"question_id":70174468,"body_markdown":"I finally found an answer . So as I said , by default `InputStream.read` method makes a `read()` syscall which according to Linux man pages will block the underling OS thread. So how is it possible that Loom won&#39;t block it ? I found an [article](https://inside.java/2021/05/10/networking-io-with-virtual-threads/) that shows the stacktrace So if this block of code will be executed by virtual thread\r\n```\r\nURLData getURL(URL url) throws IOException {\r\n  try (InputStream in = url.openStream()) {//blocking call\r\n    return new URLData(url, in.readAllBytes());\r\n  }\r\n}\r\n```\r\nJVM runtime will transform it into the following stacktrace\r\n```\r\njava.base/jdk.internal.misc.VirtualThreads.park(VirtualThreads.java:60)//this line parks the virtual thread\r\njava.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:184)\r\njava.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:212)\r\njava.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:356)//JVM runtime will replace an actual read() into read from java nio package \r\njava.base/java.io.InputStream.readAllBytes(InputStream.java:346)\r\n```\r\nHow JVM knows when to unpark the virtual thread ? Here is the stacktrace that will be ran once `readAllBytes` is finished\r\n```\r\n&quot;Read-Poller&quot; #16\r\n  java.base@17-internal/sun.nio.ch.KQueue.poll(Native Method)\r\n  java.base@17-internal/sun.nio.ch.KQueuePoller.poll(KQueuePoller.java:65)\r\n  java.base@17-internal/sun.nio.ch.Poller.poll(Poller.java:195)\r\n```\r\nThe author of the article uses MacOs, Mac uses `kqueue` as non blocking syscall, If I run it on Linux, I would see `epoll` syscall. \r\n\r\nSo basically Loom doesn&#39;t introduce anything new, under the hood it&#39;s a plain `epoll` syscall with callbacks which can be implelemented using a framework such as Vert.x that uses Netty under the hood, but in Loom the callback logic is encapsulated with the JVM runtime which I found counter intuitive, when I call InputStream.read() I do expect a corresponding read() syscall, but JVM will replace it with non blocking syscalls.\r\n","title":"Project loom, what happens when virtual thread makes a blocking system call?","body":"<p>I finally found an answer . So as I said , by default <code>InputStream.read</code> method makes a <code>read()</code> syscall which according to Linux man pages will block the underling OS thread. So how is it possible that Loom won't block it ? I found an <a href=\"https://inside.java/2021/05/10/networking-io-with-virtual-threads/\" rel=\"noreferrer\">article</a> that shows the stacktrace So if this block of code will be executed by virtual thread</p>\n<pre><code>URLData getURL(URL url) throws IOException {\n  try (InputStream in = url.openStream()) {//blocking call\n    return new URLData(url, in.readAllBytes());\n  }\n}\n</code></pre>\n<p>JVM runtime will transform it into the following stacktrace</p>\n<pre><code>java.base/jdk.internal.misc.VirtualThreads.park(VirtualThreads.java:60)//this line parks the virtual thread\njava.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:184)\njava.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:212)\njava.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:356)//JVM runtime will replace an actual read() into read from java nio package \njava.base/java.io.InputStream.readAllBytes(InputStream.java:346)\n</code></pre>\n<p>How JVM knows when to unpark the virtual thread ? Here is the stacktrace that will be ran once <code>readAllBytes</code> is finished</p>\n<pre><code>&quot;Read-Poller&quot; #16\n  java.base@17-internal/sun.nio.ch.KQueue.poll(Native Method)\n  java.base@17-internal/sun.nio.ch.KQueuePoller.poll(KQueuePoller.java:65)\n  java.base@17-internal/sun.nio.ch.Poller.poll(Poller.java:195)\n</code></pre>\n<p>The author of the article uses MacOs, Mac uses <code>kqueue</code> as non blocking syscall, If I run it on Linux, I would see <code>epoll</code> syscall.</p>\n<p>So basically Loom doesn't introduce anything new, under the hood it's a plain <code>epoll</code> syscall with callbacks which can be implelemented using a framework such as Vert.x that uses Netty under the hood, but in Loom the callback logic is encapsulated with the JVM runtime which I found counter intuitive, when I call InputStream.read() I do expect a corresponding read() syscall, but JVM will replace it with non blocking syscalls.</p>\n"}],"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3508,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":70175396,"answer_count":3,"score":16,"last_activity_date":1685381133,"creation_date":1638297607,"question_id":70174468,"body_markdown":"I was investigating how [*Project Loom*][1] works and what kind of benefits it can bring to my company. \r\n\r\nSo I understand the motivation, for standard servlet based backend, there is always a thread pool that executes a business logic, once thread is blocked because of IO it can&#39;t do anything but wait. So let&#39;s say I have a backend application that has single endpoint , the business logic behind this endpoint is to read some data using JDBC which internally uses InputStream which again will use blocking system call( read() in terms of Linux). So if I have 200 hundred users reaching this endpoint, I need to create 200 threads each waiting for IO.\r\n\r\nNow let&#39;s say I switched a thread pool to use virtual threads instead. According to Ben Evans in the article [*Going inside Java’s Project Loom and virtual threads*](https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads):\r\n\r\n&gt;Instead, virtual threads automatically give up (or yield) their carrier thread when a blocking call (such as I/O) is made.\r\n\r\nSo as far as I understand, if I have amount of OS threads equals to amount of CPU cores and unbounded amount of virtual threads, all OS threads will still wait for IO and Executor service won&#39;t be able to assign new work for Virtual threads because there are no available threads to execute it. How is it different from regular threads , at least for OS threads I can scale it to thousand to increase the throughput. Or Did I just misunderstood the use case for Loom ? Thanks in advance  \r\n\r\n\r\n## Addon\r\n\r\nI just read this [mailing list](https://mail.openjdk.java.net/pipermail/loom-dev/2021-April/002366.html):\r\n\r\n&gt;Virtual threads love blocking I/O. If the thread needs to block in say a Socket read then this releases the underlying kernel thread to do other work\r\n\r\nI am not sure I understand it, there is no way for OS to release the thread if it does a blocking call such as read, for these purposes kernel has non blocking syscalls such as epoll which doesn&#39;t block the thread and immediately returns a list of file descriptors that have some data available. Does the quote above implies that under the hood , JVM will replace a blocking `read` with non blocking `epoll` if thread that called it is virtual ?  \r\n\r\n\r\n  [1]: https://wiki.openjdk.java.net/display/loom/Main","title":"Project loom, what happens when virtual thread makes a blocking system call?","body":"<p>I was investigating how <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"noreferrer\"><em>Project Loom</em></a> works and what kind of benefits it can bring to my company.</p>\n<p>So I understand the motivation, for standard servlet based backend, there is always a thread pool that executes a business logic, once thread is blocked because of IO it can't do anything but wait. So let's say I have a backend application that has single endpoint , the business logic behind this endpoint is to read some data using JDBC which internally uses InputStream which again will use blocking system call( read() in terms of Linux). So if I have 200 hundred users reaching this endpoint, I need to create 200 threads each waiting for IO.</p>\n<p>Now let's say I switched a thread pool to use virtual threads instead. According to Ben Evans in the article <a href=\"https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads\" rel=\"noreferrer\"><em>Going inside Java’s Project Loom and virtual threads</em></a>:</p>\n<blockquote>\n<p>Instead, virtual threads automatically give up (or yield) their carrier thread when a blocking call (such as I/O) is made.</p>\n</blockquote>\n<p>So as far as I understand, if I have amount of OS threads equals to amount of CPU cores and unbounded amount of virtual threads, all OS threads will still wait for IO and Executor service won't be able to assign new work for Virtual threads because there are no available threads to execute it. How is it different from regular threads , at least for OS threads I can scale it to thousand to increase the throughput. Or Did I just misunderstood the use case for Loom ? Thanks in advance</p>\n<h2>Addon</h2>\n<p>I just read this <a href=\"https://mail.openjdk.java.net/pipermail/loom-dev/2021-April/002366.html\" rel=\"noreferrer\">mailing list</a>:</p>\n<blockquote>\n<p>Virtual threads love blocking I/O. If the thread needs to block in say a Socket read then this releases the underlying kernel thread to do other work</p>\n</blockquote>\n<p>I am not sure I understand it, there is no way for OS to release the thread if it does a blocking call such as read, for these purposes kernel has non blocking syscalls such as epoll which doesn't block the thread and immediately returns a list of file descriptors that have some data available. Does the quote above implies that under the hood , JVM will replace a blocking <code>read</code> with non blocking <code>epoll</code> if thread that called it is virtual ?</p>\n"},{"tags":["java","spring-boot","hashicorp-vault"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685375846,"post_id":76358690,"comment_id":134648282,"body_markdown":"based on what it says in [spring-vault - Object to Vault JSON Mapping](https://docs.spring.io/spring-vault/docs/current/reference/html/#vault.repositories.mapping), with `List&lt;String&gt;` should work fine. Could you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)? show some config, log error messages. Also you could try to enable set your logs to `DEBUG` level and see if you find something","body":"based on what it says in <a href=\"https://docs.spring.io/spring-vault/docs/current/reference/html/#vault.repositories.mapping\" rel=\"nofollow noreferrer\">spring-vault - Object to Vault JSON Mapping</a>, with <code>List&lt;String&gt;</code> should work fine. Could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? show some config, log error messages. Also you could try to enable set your logs to <code>DEBUG</code> level and see if you find something"},{"owner":{"account_id":16053266,"reputation":1,"user_id":11586469,"display_name":"Amith Kumar"},"score":0,"creation_date":1685382426,"post_id":76358690,"comment_id":134649284,"body_markdown":"It is mentioning that it is unable to find the placeholder in logs for value_arr","body":"It is mentioning that it is unable to find the placeholder in logs for value_arr"}],"owner":{"account_id":16053266,"reputation":1,"user_id":11586469,"display_name":"Amith Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685380153,"creation_date":1685375196,"question_id":76358690,"body_markdown":"i was working on springboot and using HashiCorp Vault \r\n\r\nin vault i stored two values in form of json \r\n\r\n```json\r\n{\r\n  &quot;singleValue&quot;: &quot;single value&quot;,\r\n  &quot;value_arr&quot;: [&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;]\r\n}\r\n```\r\n\r\nin spring boot \r\n\r\ni am able to load the property of singleValue\r\n\r\n```java\r\n@Value(&quot;${singleValue}&quot;)\r\nprivate String value;\r\n```\r\n\r\nbut i am not able to load the value_arr\r\n\r\n```java\r\n@Value(&quot;${value_arr}&quot;)\r\nprivate String[] value;\r\n```\r\n\r\ni have even tried\r\n\r\n```java\r\n@Value(&quot;${value_arr}&quot;)\r\nprivate List&lt;String&gt; value;\r\n```\r\n\r\nbut nothing is working when i tried to load the value_arr in spring boot. Is there any way to load the array values from HashiCorp Vault \r\n\r\ni was expecting that value array or value list should load the values which has been mentioned in value_arr of the vault","title":"Spring boot not able to inject HashiCorp Vault array values","body":"<p>i was working on springboot and using HashiCorp Vault</p>\n<p>in vault i stored two values in form of json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;singleValue&quot;: &quot;single value&quot;,\n  &quot;value_arr&quot;: [&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;]\n}\n</code></pre>\n<p>in spring boot</p>\n<p>i am able to load the property of singleValue</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${singleValue}&quot;)\nprivate String value;\n</code></pre>\n<p>but i am not able to load the value_arr</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${value_arr}&quot;)\nprivate String[] value;\n</code></pre>\n<p>i have even tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${value_arr}&quot;)\nprivate List&lt;String&gt; value;\n</code></pre>\n<p>but nothing is working when i tried to load the value_arr in spring boot. Is there any way to load the array values from HashiCorp Vault</p>\n<p>i was expecting that value array or value list should load the values which has been mentioned in value_arr of the vault</p>\n"},{"tags":["java","spring-boot","google-analytics","google-analytics-api","google-analytics-4"],"owner":{"account_id":28536952,"reputation":21,"user_id":21843531,"display_name":"Giovane Neves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685379603,"creation_date":1685379603,"question_id":76359118,"body_markdown":"My API has the following endpoint: ``my-api/v1/books/book/{id}``.\r\n\r\nThe &quot;books&quot; are serialized books on the web, each book has a category on my website.\r\nThe endpoint above has the parameter ``?info=views``, to see the total views for the book that has the ID passed in the URL.\r\n\r\nAnd here the problem begins. I found almost no information on the internet about how to use Google Analytics with Spring Boot, most of the tutorials are old and outdated. I know there is a Google Analytics Client library for Java, but there are no recent tutorials teaching how to use it.\r\n\r\nThis is the flow of what I want to do: &lt;br&gt;\r\n1 - The user makes the request:\r\n``my-api/v1/books/book/{id}?info=views`` &lt;br&gt;\r\n2 - The PathVariable ID is passed to my BookService. &lt;br&gt;\r\n3 - In BookService, the book search is done. If the book is found, it must pass the &quot;slug&quot;, the parent slug of a book would be something like ``&quot;my-book-01&quot;``, the slugs have variations: ``&quot;my-book-01-chapter-02&quot;``, each chapter of a book has a slug that identifies which book it belongs to. &lt;br&gt;\r\n```java\r\n\r\n@Autowired\r\nAnalyticsService analyticsService;\r\n\r\n@Autowired \r\nBookRepository bookRepository;\r\n\r\n// Other methods...//\r\n@Override\r\npublic Long getViews(Long id)\r\n{\r\n\r\n   Optional&lt;Book&gt; optionalBook = bookRepository.findById(id);\r\n   if(optionalBook.isPresent())\r\n   {\r\n      Book foundBook = optionalBook.get();\r\n      Long totalViews = analyticsService.receiveDataFromAnalytics(foundBook.getSlug());  \r\n\r\n      // logic to validate the views..... //\r\n\r\n      return totalViews;\r\n   } \r\n   //rest of the code...//\r\n}\r\n```\r\n\r\nThe &quot;AnalyticsService&quot; class does not exist in my code yet, what I want to know is what would be the structure of the request to be made in the ``receiveDataFromAnalytics`` method? &lt;br&gt;\r\nI&#39;d appreciate it if someone has an updated tutorial that can help me.\r\n\r\nI have tried to follow YouTube tutorials, but they are all obsolete.","title":"How to get data from google analytics in a Spring Boot application?","body":"<p>My API has the following endpoint: <code>my-api/v1/books/book/{id}</code>.</p>\n<p>The &quot;books&quot; are serialized books on the web, each book has a category on my website.\nThe endpoint above has the parameter <code>?info=views</code>, to see the total views for the book that has the ID passed in the URL.</p>\n<p>And here the problem begins. I found almost no information on the internet about how to use Google Analytics with Spring Boot, most of the tutorials are old and outdated. I know there is a Google Analytics Client library for Java, but there are no recent tutorials teaching how to use it.</p>\n<p>This is the flow of what I want to do: <br>\n1 - The user makes the request:\n<code>my-api/v1/books/book/{id}?info=views</code> <br>\n2 - The PathVariable ID is passed to my BookService. <br>\n3 - In BookService, the book search is done. If the book is found, it must pass the &quot;slug&quot;, the parent slug of a book would be something like <code>&quot;my-book-01&quot;</code>, the slugs have variations: <code>&quot;my-book-01-chapter-02&quot;</code>, each chapter of a book has a slug that identifies which book it belongs to. <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Autowired\nAnalyticsService analyticsService;\n\n@Autowired \nBookRepository bookRepository;\n\n// Other methods...//\n@Override\npublic Long getViews(Long id)\n{\n\n   Optional&lt;Book&gt; optionalBook = bookRepository.findById(id);\n   if(optionalBook.isPresent())\n   {\n      Book foundBook = optionalBook.get();\n      Long totalViews = analyticsService.receiveDataFromAnalytics(foundBook.getSlug());  \n\n      // logic to validate the views..... //\n\n      return totalViews;\n   } \n   //rest of the code...//\n}\n</code></pre>\n<p>The &quot;AnalyticsService&quot; class does not exist in my code yet, what I want to know is what would be the structure of the request to be made in the <code>receiveDataFromAnalytics</code> method? <br>\nI'd appreciate it if someone has an updated tutorial that can help me.</p>\n<p>I have tried to follow YouTube tutorials, but they are all obsolete.</p>\n"},{"tags":["java","json","jsonpath","nested-json"],"comments":[{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1685347451,"post_id":76355496,"comment_id":134643439,"body_markdown":"The easy way is parse the json string as JsonObject. Then access the object to get the value and apply your function.","body":"The easy way is parse the json string as JsonObject. Then access the object to get the value and apply your function."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1685358159,"post_id":76355496,"comment_id":134645037,"body_markdown":"May be you can flatten the JSON, change the required value, and then unflatten back.","body":"May be you can flatten the JSON, change the required value, and then unflatten back."},{"owner":{"account_id":27199411,"reputation":1,"user_id":20731871,"display_name":"Chris Paul"},"score":0,"creation_date":1685359473,"post_id":76355496,"comment_id":134645219,"body_markdown":"Do any function can flatten and unflatten JSON?","body":"Do any function can flatten and unflatten JSON?"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685379149,"creation_date":1685376583,"answer_id":76358811,"question_id":76355496,"body_markdown":"You may try library _Josson_ to flatten the JSON, change the required value, and then unflatten back.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;store\\&quot;: {&quot; +\r\n        &quot;       \\&quot;name\\&quot;: \\&quot;ABC Co\\&quot;,&quot; +\r\n        &quot;        \\&quot;book\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;                \\&quot;category\\&quot;: \\&quot;reference\\&quot;,&quot; +\r\n        &quot;                \\&quot;author\\&quot;: \\&quot;Nigel Rees\\&quot;,&quot; +\r\n        &quot;                \\&quot;title\\&quot;: \\&quot;Sayings of the Century\\&quot;,&quot; +\r\n        &quot;                \\&quot;price\\&quot;: 8.95,&quot; +\r\n        &quot;                \\&quot;edition\\&quot;: {&quot; +\r\n        &quot;                       \\&quot;year\\&quot;: 1990,&quot; +\r\n        &quot;                       \\&quot;published_by\\&quot;: \\&quot;MacMillan\\&quot;&quot; +\r\n        &quot;                 }&quot; +\r\n        &quot;            },&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;                \\&quot;category\\&quot;: \\&quot;fiction\\&quot;,&quot; +\r\n        &quot;                \\&quot;author\\&quot;: \\&quot;Evelyn Waugh\\&quot;,&quot; +\r\n        &quot;                \\&quot;title\\&quot;: \\&quot;Sword of Honour\\&quot;,&quot; +\r\n        &quot;                \\&quot;price\\&quot;: 12.99,&quot; +\r\n        &quot;                \\&quot;edition\\&quot;: {&quot; +\r\n        &quot;                       \\&quot;year\\&quot;: 1980,&quot; +\r\n        &quot;                       \\&quot;published_by\\&quot;: \\&quot;MacMillan\\&quot;&quot; +\r\n        &quot;                 }&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;        ]&quot; +\r\n        &quot;     }&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Demo of flatten()__\r\n\r\n    JsonNode node = josson.getNode(&quot;flatten(&#39;_&#39;)&quot;);\r\n    System.out.println(&quot;Style 1:\\n&quot; + node.toPrettyString());\r\n    node = josson.getNode(&quot;flatten(&#39;.&#39;,&#39;[%d]&#39;)&quot;);\r\n    System.out.println(&quot;Style 2:\\n&quot; + node.toPrettyString());\r\n\r\n__Output__\r\n        \r\n    Style 1:\r\n    {\r\n      &quot;store_name&quot; : &quot;ABC Co&quot;,\r\n      &quot;store_book_0_category&quot; : &quot;reference&quot;,\r\n      &quot;store_book_0_author&quot; : &quot;Nigel Rees&quot;,\r\n      &quot;store_book_0_title&quot; : &quot;Sayings of the Century&quot;,\r\n      &quot;store_book_0_price&quot; : 8.95,\r\n      &quot;store_book_0_edition_year&quot; : 1990,\r\n      &quot;store_book_0_edition_published_by&quot; : &quot;MacMillan&quot;,\r\n      &quot;store_book_1_category&quot; : &quot;fiction&quot;,\r\n      &quot;store_book_1_author&quot; : &quot;Evelyn Waugh&quot;,\r\n      &quot;store_book_1_title&quot; : &quot;Sword of Honour&quot;,\r\n      &quot;store_book_1_price&quot; : 12.99,\r\n      &quot;store_book_1_edition_year&quot; : 1980,\r\n      &quot;store_book_1_edition_published_by&quot; : &quot;MacMillan&quot;\r\n    }\r\n    Style 2:\r\n    {\r\n      &quot;store.name&quot; : &quot;ABC Co&quot;,\r\n      &quot;store.book[0].category&quot; : &quot;reference&quot;,\r\n      &quot;store.book[0].author&quot; : &quot;Nigel Rees&quot;,\r\n      &quot;store.book[0].title&quot; : &quot;Sayings of the Century&quot;,\r\n      &quot;store.book[0].price&quot; : 8.95,\r\n      &quot;store.book[0].edition.year&quot; : 1990,\r\n      &quot;store.book[0].edition.published_by&quot; : &quot;MacMillan&quot;,\r\n      &quot;store.book[1].category&quot; : &quot;fiction&quot;,\r\n      &quot;store.book[1].author&quot; : &quot;Evelyn Waugh&quot;,\r\n      &quot;store.book[1].title&quot; : &quot;Sword of Honour&quot;,\r\n      &quot;store.book[1].price&quot; : 12.99,\r\n      &quot;store.book[1].edition.year&quot; : 1980,\r\n      &quot;store.book[1].edition.published_by&quot; : &quot;MacMillan&quot;\r\n    }\r\n\r\n__Expression to flatten, update values and unflatten on style 1__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;flatten(&#39;_&#39;)&quot; +\r\n        &quot;.field(store_book_0_price:9.99, store_book_1_price:19.00)&quot; +\r\n        &quot;.unflatten(&#39;_&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Expression to flatten, update values and unflatten on style 2__\r\n\r\n    node = josson.getNode(\r\n        &quot;flatten(&#39;.&#39;,&#39;[%d]&#39;)&quot; +\r\n        &quot;.field(store.book[0].price:9.99, store.book[1].price:19.00)&quot; +\r\n        &quot;.unflatten(&#39;.[]&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;store&quot; : {\r\n        &quot;name&quot; : &quot;ABC Co&quot;,\r\n        &quot;book&quot; : [ {\r\n          &quot;category&quot; : &quot;reference&quot;,\r\n          &quot;author&quot; : &quot;Nigel Rees&quot;,\r\n          &quot;title&quot; : &quot;Sayings of the Century&quot;,\r\n          &quot;price&quot; : 9.99,\r\n          &quot;edition&quot; : {\r\n            &quot;year&quot; : 1990,\r\n            &quot;published&quot; : {\r\n              &quot;by&quot; : &quot;MacMillan&quot;\r\n            }\r\n          }\r\n        }, {\r\n          &quot;category&quot; : &quot;fiction&quot;,\r\n          &quot;author&quot; : &quot;Evelyn Waugh&quot;,\r\n          &quot;title&quot; : &quot;Sword of Honour&quot;,\r\n          &quot;price&quot; : 19.0,\r\n          &quot;edition&quot; : {\r\n            &quot;year&quot; : 1980,\r\n            &quot;published&quot; : {\r\n              &quot;by&quot; : &quot;MacMillan&quot;\r\n            }\r\n          }\r\n        } ]\r\n      }\r\n    }\r\n\r\n","title":"How can I use a customized function in JsonPath to set values for nested JSON objects in Java?","body":"<p>You may try library <em>Josson</em> to flatten the JSON, change the required value, and then unflatten back.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;store\\&quot;: {&quot; +\n    &quot;       \\&quot;name\\&quot;: \\&quot;ABC Co\\&quot;,&quot; +\n    &quot;        \\&quot;book\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;                \\&quot;category\\&quot;: \\&quot;reference\\&quot;,&quot; +\n    &quot;                \\&quot;author\\&quot;: \\&quot;Nigel Rees\\&quot;,&quot; +\n    &quot;                \\&quot;title\\&quot;: \\&quot;Sayings of the Century\\&quot;,&quot; +\n    &quot;                \\&quot;price\\&quot;: 8.95,&quot; +\n    &quot;                \\&quot;edition\\&quot;: {&quot; +\n    &quot;                       \\&quot;year\\&quot;: 1990,&quot; +\n    &quot;                       \\&quot;published_by\\&quot;: \\&quot;MacMillan\\&quot;&quot; +\n    &quot;                 }&quot; +\n    &quot;            },&quot; +\n    &quot;            {&quot; +\n    &quot;                \\&quot;category\\&quot;: \\&quot;fiction\\&quot;,&quot; +\n    &quot;                \\&quot;author\\&quot;: \\&quot;Evelyn Waugh\\&quot;,&quot; +\n    &quot;                \\&quot;title\\&quot;: \\&quot;Sword of Honour\\&quot;,&quot; +\n    &quot;                \\&quot;price\\&quot;: 12.99,&quot; +\n    &quot;                \\&quot;edition\\&quot;: {&quot; +\n    &quot;                       \\&quot;year\\&quot;: 1980,&quot; +\n    &quot;                       \\&quot;published_by\\&quot;: \\&quot;MacMillan\\&quot;&quot; +\n    &quot;                 }&quot; +\n    &quot;            }&quot; +\n    &quot;        ]&quot; +\n    &quot;     }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Demo of flatten()</strong></p>\n<pre><code>JsonNode node = josson.getNode(&quot;flatten('_')&quot;);\nSystem.out.println(&quot;Style 1:\\n&quot; + node.toPrettyString());\nnode = josson.getNode(&quot;flatten('.','[%d]')&quot;);\nSystem.out.println(&quot;Style 2:\\n&quot; + node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Style 1:\n{\n  &quot;store_name&quot; : &quot;ABC Co&quot;,\n  &quot;store_book_0_category&quot; : &quot;reference&quot;,\n  &quot;store_book_0_author&quot; : &quot;Nigel Rees&quot;,\n  &quot;store_book_0_title&quot; : &quot;Sayings of the Century&quot;,\n  &quot;store_book_0_price&quot; : 8.95,\n  &quot;store_book_0_edition_year&quot; : 1990,\n  &quot;store_book_0_edition_published_by&quot; : &quot;MacMillan&quot;,\n  &quot;store_book_1_category&quot; : &quot;fiction&quot;,\n  &quot;store_book_1_author&quot; : &quot;Evelyn Waugh&quot;,\n  &quot;store_book_1_title&quot; : &quot;Sword of Honour&quot;,\n  &quot;store_book_1_price&quot; : 12.99,\n  &quot;store_book_1_edition_year&quot; : 1980,\n  &quot;store_book_1_edition_published_by&quot; : &quot;MacMillan&quot;\n}\nStyle 2:\n{\n  &quot;store.name&quot; : &quot;ABC Co&quot;,\n  &quot;store.book[0].category&quot; : &quot;reference&quot;,\n  &quot;store.book[0].author&quot; : &quot;Nigel Rees&quot;,\n  &quot;store.book[0].title&quot; : &quot;Sayings of the Century&quot;,\n  &quot;store.book[0].price&quot; : 8.95,\n  &quot;store.book[0].edition.year&quot; : 1990,\n  &quot;store.book[0].edition.published_by&quot; : &quot;MacMillan&quot;,\n  &quot;store.book[1].category&quot; : &quot;fiction&quot;,\n  &quot;store.book[1].author&quot; : &quot;Evelyn Waugh&quot;,\n  &quot;store.book[1].title&quot; : &quot;Sword of Honour&quot;,\n  &quot;store.book[1].price&quot; : 12.99,\n  &quot;store.book[1].edition.year&quot; : 1980,\n  &quot;store.book[1].edition.published_by&quot; : &quot;MacMillan&quot;\n}\n</code></pre>\n<p><strong>Expression to flatten, update values and unflatten on style 1</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;flatten('_')&quot; +\n    &quot;.field(store_book_0_price:9.99, store_book_1_price:19.00)&quot; +\n    &quot;.unflatten('_')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Expression to flatten, update values and unflatten on style 2</strong></p>\n<pre><code>node = josson.getNode(\n    &quot;flatten('.','[%d]')&quot; +\n    &quot;.field(store.book[0].price:9.99, store.book[1].price:19.00)&quot; +\n    &quot;.unflatten('.[]')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;store&quot; : {\n    &quot;name&quot; : &quot;ABC Co&quot;,\n    &quot;book&quot; : [ {\n      &quot;category&quot; : &quot;reference&quot;,\n      &quot;author&quot; : &quot;Nigel Rees&quot;,\n      &quot;title&quot; : &quot;Sayings of the Century&quot;,\n      &quot;price&quot; : 9.99,\n      &quot;edition&quot; : {\n        &quot;year&quot; : 1990,\n        &quot;published&quot; : {\n          &quot;by&quot; : &quot;MacMillan&quot;\n        }\n      }\n    }, {\n      &quot;category&quot; : &quot;fiction&quot;,\n      &quot;author&quot; : &quot;Evelyn Waugh&quot;,\n      &quot;title&quot; : &quot;Sword of Honour&quot;,\n      &quot;price&quot; : 19.0,\n      &quot;edition&quot; : {\n        &quot;year&quot; : 1980,\n        &quot;published&quot; : {\n          &quot;by&quot; : &quot;MacMillan&quot;\n        }\n      }\n    } ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27199411,"reputation":1,"user_id":20731871,"display_name":"Chris Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685379149,"creation_date":1685346191,"question_id":76355496,"body_markdown":"how to use Jsonpath to set values with a customized function for nested JSON objects\r\nthe JSON objects is nested by unordered json array and json object\r\nsuch as \r\n\r\n\r\n```\r\n{\r\n    &quot;store&quot;: {\r\n       &quot;name&quot;: &quot;ABC Co&quot;,\r\n        &quot;book&quot;: [\r\n            {\r\n                &quot;category&quot;: &quot;reference&quot;,\r\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\r\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\r\n                &quot;price&quot;: 8.95,\r\n                &quot;edition&quot;: {\r\n                       &quot;year&quot;: 1990,\r\n                       &quot;published_by&quot;: &quot;MacMillan&quot;\r\n                 }\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\r\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\r\n                &quot;price&quot;: 12.99,\r\n                &quot;edition&quot;: {\r\n                       &quot;year&quot;: 1980,\r\n                       &quot;published_by&quot;: &quot;MacMillan&quot;\r\n                 }\r\n            }\r\n        ]\r\n     }\r\n}\r\n```\r\ngive any JsonPath such as\r\n`$.store.book[0:].price`  （jsonarray）\r\n`$.store.name`  (jsonobject)\r\nI want to use my own customized function such as encrypt function to process all the value matched by the provided jsonpath\r\n\r\nDo any JsonPath package or library provide the function? Or how could I write the setNestedJson(String jsonPath, function func)\r\n\r\n\r\n\r\n\r\n\r\nsincerely thanks for help!\r\n\r\nI use `com.alibaba.fastjson2.JSONPath`, but it may be not able to set value with function.\r\n\r\nfor example\r\n\r\nJSONPath.set(jsonobject, &quot;$.store.book[0:].price&quot;, &quot;test&quot;)\r\n\r\nI wonder how to deal it with function","title":"How can I use a customized function in JsonPath to set values for nested JSON objects in Java?","body":"<p>how to use Jsonpath to set values with a customized function for nested JSON objects\nthe JSON objects is nested by unordered json array and json object\nsuch as</p>\n<pre><code>{\n    &quot;store&quot;: {\n       &quot;name&quot;: &quot;ABC Co&quot;,\n        &quot;book&quot;: [\n            {\n                &quot;category&quot;: &quot;reference&quot;,\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\n                &quot;price&quot;: 8.95,\n                &quot;edition&quot;: {\n                       &quot;year&quot;: 1990,\n                       &quot;published_by&quot;: &quot;MacMillan&quot;\n                 }\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\n                &quot;price&quot;: 12.99,\n                &quot;edition&quot;: {\n                       &quot;year&quot;: 1980,\n                       &quot;published_by&quot;: &quot;MacMillan&quot;\n                 }\n            }\n        ]\n     }\n}\n</code></pre>\n<p>give any JsonPath such as\n<code>$.store.book[0:].price</code>  （jsonarray）\n<code>$.store.name</code>  (jsonobject)\nI want to use my own customized function such as encrypt function to process all the value matched by the provided jsonpath</p>\n<p>Do any JsonPath package or library provide the function? Or how could I write the setNestedJson(String jsonPath, function func)</p>\n<p>sincerely thanks for help!</p>\n<p>I use <code>com.alibaba.fastjson2.JSONPath</code>, but it may be not able to set value with function.</p>\n<p>for example</p>\n<p>JSONPath.set(jsonobject, &quot;$.store.book[0:].price&quot;, &quot;test&quot;)</p>\n<p>I wonder how to deal it with function</p>\n"},{"tags":["java","android","api","jar","shared-libraries"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1685378643,"post_id":76358966,"comment_id":134648700,"body_markdown":"Your IDE may support this sort of library directly.  For example NetBeans you can include another project directly as a library, and ask the IDE to copy the .class files into the main project so that there&#39;s no separate Jar file to deal with.","body":"Your IDE may support this sort of library directly.  For example NetBeans you can include another project directly as a library, and ask the IDE to copy the .class files into the main project so that there&#39;s no separate Jar file to deal with."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685381182,"post_id":76358966,"comment_id":134649089,"body_markdown":"If the three projects are not too different you could make one Android project and implement each app as a flavor dimension. That would allow to have the common code in the regular part that is not assigned to a flavor.","body":"If the three projects are not too different you could make one Android project and implement each app as a flavor dimension. That would allow to have the common code in the regular part that is not assigned to a flavor."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685378527,"creation_date":1685378527,"answer_id":76359004,"question_id":76358966,"body_markdown":"An [Android Library][1] is not the same than a Jar file. Depending on what you are doing an Android Library (reusing Android components) or a jar library (reusing only Java code) would be appropriate.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/projects/android-library","title":"I have three android projects that share many identical or very similar classes. What could I do to make single edits?","body":"<p>An <a href=\"https://developer.android.com/studio/projects/android-library\" rel=\"nofollow noreferrer\">Android Library</a> is not the same than a Jar file. Depending on what you are doing an Android Library (reusing Android components) or a jar library (reusing only Java code) would be appropriate.</p>\n"}],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685378527,"creation_date":1685378056,"question_id":76358966,"body_markdown":"I have three projects on Android that have many identical or similar classes. \r\nSince I found myself making double or triple changes, I was wondering what could I do to make single edits.\r\n\r\nI came up with the following solutions:\r\n\r\n - Writing my &quot;own API&quot; and adding it to my android projects. However I would need to export the jar and import the updated one every time I make a change since I don&#39;t want to put it on GitHub.\r\n - Loading and compiling those classes at runtime (Reflection). I could for instance load those classes on a server.\r\n - I was thinking maybe about creating an Android library but would be the same thing of creating a jar, right?\r\n\r\nOr what else could I do? Thank you.","title":"I have three android projects that share many identical or very similar classes. What could I do to make single edits?","body":"<p>I have three projects on Android that have many identical or similar classes.\nSince I found myself making double or triple changes, I was wondering what could I do to make single edits.</p>\n<p>I came up with the following solutions:</p>\n<ul>\n<li>Writing my &quot;own API&quot; and adding it to my android projects. However I would need to export the jar and import the updated one every time I make a change since I don't want to put it on GitHub.</li>\n<li>Loading and compiling those classes at runtime (Reflection). I could for instance load those classes on a server.</li>\n<li>I was thinking maybe about creating an Android library but would be the same thing of creating a jar, right?</li>\n</ul>\n<p>Or what else could I do? Thank you.</p>\n"},{"tags":["java","postgresql","junit","mockito"],"owner":{"account_id":4605646,"reputation":51,"user_id":3735228,"display_name":"ProgrammerGirl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685378505,"creation_date":1685378505,"question_id":76359003,"body_markdown":"Good morning:\r\n\r\nI have problems to mock a test that uses Postgres, when put \r\n\r\nTengo problemas al mockear un test que utiliza el postgres, If I put dummy data to the postgres connection string I get an error when compiling. Attached structure and build.\r\n\r\n    spring:\r\n     datasource:\r\n       driver-class-name: org.postgresql.Driver\r\n        hikari:\r\n          jdbc-url: jdbc:postgresql://localhost:5432/example?currentSchema=public\r\n          username: usuario\r\n          password: password\r\n\r\n\r\n[![introducir la descripci&#243;n de la imagen aqu&#237;][1]][1]\r\n\r\n    2023-05-29 09:47:37.357 ERROR 8880 --- [           main] o.s.boot.SpringApplication                   : Application run failed\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [com/ingrid/ms/aplicacion/config/DataSourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [com/ingrid/ms/aplicacion/config/DataSourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\r\n    Caused by: java.lang.NullPointerException: null\r\n\r\n    org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;usuario&quot;\r\n\r\n\r\nThe language used is Java and tests JUnit and Mockito.\r\n\r\nDo you know how else I can mock?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1eyYA.png","title":"How mock Postgres in WebFlux","body":"<p>Good morning:</p>\n<p>I have problems to mock a test that uses Postgres, when put</p>\n<p>Tengo problemas al mockear un test que utiliza el postgres, If I put dummy data to the postgres connection string I get an error when compiling. Attached structure and build.</p>\n<pre><code>spring:\n datasource:\n   driver-class-name: org.postgresql.Driver\n    hikari:\n      jdbc-url: jdbc:postgresql://localhost:5432/example?currentSchema=public\n      username: usuario\n      password: password\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1eyYA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1eyYA.png\" alt=\"introducir la descripción de la imagen aquí\" /></a></p>\n<pre><code>2023-05-29 09:47:37.357 ERROR 8880 --- [           main] o.s.boot.SpringApplication                   : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/ingrid/ms/aplicacion/config/DataSourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.NullPointerException\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/ingrid/ms/aplicacion/config/DataSourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.NullPointerException\n\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.NullPointerException\n\nCaused by: java.lang.NullPointerException: null\n\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;usuario&quot;\n</code></pre>\n<p>The language used is Java and tests JUnit and Mockito.</p>\n<p>Do you know how else I can mock?</p>\n"},{"tags":["java","collections","bitwise-operators","bitwise-and","arraydeque"],"answers":[{"tags":[],"owner":{"account_id":6004752,"reputation":3678,"user_id":4717027,"display_name":"Ori Lentz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1685378332,"creation_date":1461512897,"answer_id":36825410,"question_id":36825213,"body_markdown":"Take a look at the initialization code - the Deque is represented as an array whose size is always a power of 2:\r\n\r\n    195    public ArrayDeque(int numElements) {\r\n    196        allocateElements(numElements);\r\n    197    }\r\n\r\n    124    private void allocateElements(int numElements) {\r\n    125        int initialCapacity = MIN_INITIAL_CAPACITY;\r\n    126        // Find the best power of two to hold elements.\r\n    127        // Tests &quot;&lt;=&quot; because arrays aren&#39;t kept full.\r\n    128        if (numElements &gt;= initialCapacity) {\r\n    129            initialCapacity = numElements;\r\n    130            initialCapacity |= (initialCapacity &gt;&gt;&gt;  1);\r\n    131            initialCapacity |= (initialCapacity &gt;&gt;&gt;  2);\r\n    132            initialCapacity |= (initialCapacity &gt;&gt;&gt;  4);\r\n    133            initialCapacity |= (initialCapacity &gt;&gt;&gt;  8);\r\n    134            initialCapacity |= (initialCapacity &gt;&gt;&gt; 16);\r\n    135            initialCapacity++;\r\n    136\r\n    137            if (initialCapacity &lt; 0)   // Too many elements, must back off\r\n    138                initialCapacity &gt;&gt;&gt;= 1;// Good luck allocating 2 ^ 30 elements\r\n    139        }\r\n    140        elements = (E[]) new Object[initialCapacity];\r\n    141    }\r\n\r\n\r\nso `elements. Length - 1` in binary is basically a series of `1` bits before the size of the array is exceeded.\r\n\r\nFor instance, if `elements` is initialized to an array of size 16, then `elements.length - 1` is 15, meaning `0..001111` (truncated leading zeros).\r\n\r\nSo when the `head` element is reset in `pollFirst` method (advanced by one), the bitwise `&amp;` operator is used in order to make the Deque cyclic. Again, if `elements` is of size 16 and currently `head` is 15, then `head + 1` would be 16, and so:\r\n\r\n    10000\r\n    01111\r\n    -----\r\n    00000\r\n\r\nMeaning, the `head` is reset to index 0. This allows you to reuse the space you&#39;ve already allocated, using the array and its O(1) efficiency in inserting and retrieval, without needing to allocate new space.\r\n\r\nThe same is true for `pollLast` where you reset the `tail` variable, i.e. if `tail` is 0 and `elements` is of size 16, then:\r\n\r\n    tail      00000\r\n    tail-1    11111   (-1 in two&#39;s complement)\r\n              01111\r\n              -----\r\n              01111\r\n\r\nMeaning `tail` is decremented one value, but moves from 0 to `elements.length - 1`.\r\n\r\nYou could have achieved the same with a more &quot;complex&quot; if statement (or by using the trinary operator), however this is a fairly common and acceptable way of implementing a cyclic array.","title":"Why the ArrayDeque class use bitwise operation in the pollFirst method?","body":"<p>Take a look at the initialization code - the Deque is represented as an array whose size is always a power of 2:</p>\n<pre><code>195    public ArrayDeque(int numElements) {\n196        allocateElements(numElements);\n197    }\n\n124    private void allocateElements(int numElements) {\n125        int initialCapacity = MIN_INITIAL_CAPACITY;\n126        // Find the best power of two to hold elements.\n127        // Tests &quot;&lt;=&quot; because arrays aren't kept full.\n128        if (numElements &gt;= initialCapacity) {\n129            initialCapacity = numElements;\n130            initialCapacity |= (initialCapacity &gt;&gt;&gt;  1);\n131            initialCapacity |= (initialCapacity &gt;&gt;&gt;  2);\n132            initialCapacity |= (initialCapacity &gt;&gt;&gt;  4);\n133            initialCapacity |= (initialCapacity &gt;&gt;&gt;  8);\n134            initialCapacity |= (initialCapacity &gt;&gt;&gt; 16);\n135            initialCapacity++;\n136\n137            if (initialCapacity &lt; 0)   // Too many elements, must back off\n138                initialCapacity &gt;&gt;&gt;= 1;// Good luck allocating 2 ^ 30 elements\n139        }\n140        elements = (E[]) new Object[initialCapacity];\n141    }\n</code></pre>\n<p>so <code>elements. Length - 1</code> in binary is basically a series of <code>1</code> bits before the size of the array is exceeded.</p>\n<p>For instance, if <code>elements</code> is initialized to an array of size 16, then <code>elements.length - 1</code> is 15, meaning <code>0..001111</code> (truncated leading zeros).</p>\n<p>So when the <code>head</code> element is reset in <code>pollFirst</code> method (advanced by one), the bitwise <code>&amp;</code> operator is used in order to make the Deque cyclic. Again, if <code>elements</code> is of size 16 and currently <code>head</code> is 15, then <code>head + 1</code> would be 16, and so:</p>\n<pre><code>10000\n01111\n-----\n00000\n</code></pre>\n<p>Meaning, the <code>head</code> is reset to index 0. This allows you to reuse the space you've already allocated, using the array and its O(1) efficiency in inserting and retrieval, without needing to allocate new space.</p>\n<p>The same is true for <code>pollLast</code> where you reset the <code>tail</code> variable, i.e. if <code>tail</code> is 0 and <code>elements</code> is of size 16, then:</p>\n<pre><code>tail      00000\ntail-1    11111   (-1 in two's complement)\n          01111\n          -----\n          01111\n</code></pre>\n<p>Meaning <code>tail</code> is decremented one value, but moves from 0 to <code>elements.length - 1</code>.</p>\n<p>You could have achieved the same with a more &quot;complex&quot; if statement (or by using the trinary operator), however this is a fairly common and acceptable way of implementing a cyclic array.</p>\n"},{"tags":[],"owner":{"account_id":2219298,"reputation":1663,"user_id":1959155,"accept_rate":89,"display_name":"EthanP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463875690,"creation_date":1463875690,"answer_id":37369265,"question_id":36825213,"body_markdown":"It&#39;s a more efficient way of calculating `(head+1) % elements.length`, which we can do because `elements.length` is a power of 2. It is more efficient because the _mod_ operator is expensive compared to _bitwise and_. \r\n\r\nOn the other end, only using _mod_ for the `tail` would not work because in Java, `-1 % N == -1`.","title":"Why the ArrayDeque class use bitwise operation in the pollFirst method?","body":"<p>It's a more efficient way of calculating <code>(head+1) % elements.length</code>, which we can do because <code>elements.length</code> is a power of 2. It is more efficient because the <em>mod</em> operator is expensive compared to <em>bitwise and</em>. </p>\n\n<p>On the other end, only using <em>mod</em> for the <code>tail</code> would not work because in Java, <code>-1 % N == -1</code>.</p>\n"}],"owner":{"account_id":1389967,"reputation":3693,"user_id":1321025,"accept_rate":77,"display_name":"Albert Gao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36825410,"answer_count":2,"score":8,"last_activity_date":1685378332,"creation_date":1461511953,"question_id":36825213,"body_markdown":"I look through java source code try to learn the implementation of collection.\r\nFound a interesting thing in the ArrayDeque class.\r\n\r\n    public E pollFirst() {\r\n        int h = head;\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        E result = (E) elements[h];\r\n        // Element is null if deque empty\r\n        if (result == null)\r\n            return null;\r\n        elements[h] = null;     // Must null out slot\r\n        head = (h + 1) &amp; (elements.length - 1);\r\n        return result;\r\n    }\r\n\r\n    public E pollLast() {\r\n        int t = (tail - 1) &amp; (elements.length - 1);\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        E result = (E) elements[t];\r\n        if (result == null)\r\n            return null;\r\n        elements[t] = null;\r\n        tail = t;\r\n        return result;\r\n    }\r\n\r\nWhat does the following 2 lines mean?\r\nIs it a bitwise operation? Why they use it and what&#39;s the purpose here?\r\n\r\n        head = (h + 1) &amp; (elements.length - 1);\r\n        int t = (tail - 1) &amp; (elements.length - 1);\r\n\r\nI know one scenario to use the bitwise is to pack 2 values in 1 variable. But it seems this is not the case. \r\n","title":"Why the ArrayDeque class use bitwise operation in the pollFirst method?","body":"<p>I look through java source code try to learn the implementation of collection.\nFound a interesting thing in the ArrayDeque class.</p>\n\n<pre><code>public E pollFirst() {\n    int h = head;\n    @SuppressWarnings(\"unchecked\")\n    E result = (E) elements[h];\n    // Element is null if deque empty\n    if (result == null)\n        return null;\n    elements[h] = null;     // Must null out slot\n    head = (h + 1) &amp; (elements.length - 1);\n    return result;\n}\n\npublic E pollLast() {\n    int t = (tail - 1) &amp; (elements.length - 1);\n    @SuppressWarnings(\"unchecked\")\n    E result = (E) elements[t];\n    if (result == null)\n        return null;\n    elements[t] = null;\n    tail = t;\n    return result;\n}\n</code></pre>\n\n<p>What does the following 2 lines mean?\nIs it a bitwise operation? Why they use it and what's the purpose here?</p>\n\n<pre><code>    head = (h + 1) &amp; (elements.length - 1);\n    int t = (tail - 1) &amp; (elements.length - 1);\n</code></pre>\n\n<p>I know one scenario to use the bitwise is to pack 2 values in 1 variable. But it seems this is not the case. </p>\n"},{"tags":["java","apache-spark","kubernetes","jar","yaml"],"answers":[{"tags":[],"owner":{"account_id":9474939,"reputation":1526,"user_id":7044608,"display_name":"Emon46"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685351136,"creation_date":1611954503,"answer_id":65961764,"question_id":65959929,"body_markdown":"The format of your YAML is wrong. Try this one:\r\n\r\n```yaml\r\napiVersion: batch/v1\r\nkind: Job\r\nmetadata:\r\n  name: spark-on-eks\r\nspec:\r\n  template:\r\n    spec:\r\n      containers:\r\n        - name: spark\r\n          image: repo:buildversion\r\n          command:  \r\n            - &quot;/bin/sh&quot;\r\n            - &quot;-c&quot;\r\n            - &#39;/opt/spark/bin/spark-submit \\\r\n            --master k8s://EKSEndpoint \\\r\n            --deploy-mode cluster \\\r\n            --name spark-luluapp \\\r\n            --class com.ll.jsonclass \\\r\n            --conf spark.jars.ivy=/tmp/.ivy \\\r\n            --conf spark.kubernetes.container.image=repo:buildversion \\\r\n            --conf spark.kubernetes.namespace=spark-pi \\\r\n            --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\r\n            --conf spark.hadoop.fs.s3a.impl=org.apache.hadoop.fs.s3a.S3AFileSystem \\\r\n            --conf spark.kubernetes.authenticate.executor.serviceAccountName=spark-sa \\\r\n            --conf spark.kubernetes.driver.pod.name=spark-job-driver \\\r\n            --conf spark.executor.instances=4 \\\r\n            local:///opt/spark/examples/App-buildversion-SNAPSHOT.jar \\\r\n            [mks,env,reg,&quot;dd.mm.yyyy&quot;,&quot;true&quot;,&quot;off&quot;,&quot;db-comp-results&quot;,&quot;true&quot;,&quot;XX&quot;,&quot;XXX&quot;,&quot;XXXXX&quot;,&quot;XXX&quot;,$$,###] &#39;\r\n\r\n      serviceAccountName: spark-pi\r\n      restartPolicy: Never\r\n  backoffLimit: 4\r\n```","title":"k8s Spark Job JAR params","body":"<p>The format of your YAML is wrong. Try this one:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: spark-on-eks\nspec:\n  template:\n    spec:\n      containers:\n        - name: spark\n          image: repo:buildversion\n          command:  \n            - &quot;/bin/sh&quot;\n            - &quot;-c&quot;\n            - '/opt/spark/bin/spark-submit \\\n            --master k8s://EKSEndpoint \\\n            --deploy-mode cluster \\\n            --name spark-luluapp \\\n            --class com.ll.jsonclass \\\n            --conf spark.jars.ivy=/tmp/.ivy \\\n            --conf spark.kubernetes.container.image=repo:buildversion \\\n            --conf spark.kubernetes.namespace=spark-pi \\\n            --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\n            --conf spark.hadoop.fs.s3a.impl=org.apache.hadoop.fs.s3a.S3AFileSystem \\\n            --conf spark.kubernetes.authenticate.executor.serviceAccountName=spark-sa \\\n            --conf spark.kubernetes.driver.pod.name=spark-job-driver \\\n            --conf spark.executor.instances=4 \\\n            local:///opt/spark/examples/App-buildversion-SNAPSHOT.jar \\\n            [mks,env,reg,&quot;dd.mm.yyyy&quot;,&quot;true&quot;,&quot;off&quot;,&quot;db-comp-results&quot;,&quot;true&quot;,&quot;XX&quot;,&quot;XXX&quot;,&quot;XXXXX&quot;,&quot;XXX&quot;,$$,###] '\n\n      serviceAccountName: spark-pi\n      restartPolicy: Never\n  backoffLimit: 4\n</code></pre>\n"}],"owner":{"account_id":6426439,"reputation":183,"user_id":4981408,"display_name":"Zester07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65961764,"answer_count":1,"score":2,"last_activity_date":1685378321,"creation_date":1611945156,"question_id":65959929,"body_markdown":"I am using the below manifest and when applying I get the below error. Is this a correct way to pass JAR arguments?\r\n\r\n```yaml\r\napiVersion: batch/v1\r\nkind: Job\r\nmetadata:\r\n  name: spark-on-eks\r\nspec:\r\n  template:\r\n    spec:\r\n      containers:\r\n        - name: spark\r\n          image: repo:buildversion\r\n          command: [\r\n            &quot;/bin/sh&quot;,\r\n            &quot;-c&quot;,\r\n            &quot;/opt/spark/bin/spark-submit \\\r\n            --master k8s://EKSEndpoint \\\r\n            --deploy-mode cluster \\\r\n            --name spark-luluapp \\\r\n            --class com.ll.jsonclass \\\r\n            --conf spark.jars.ivy=/tmp/.ivy \\\r\n            --conf spark.kubernetes.container.image=repo:buildversion \\\r\n            --conf spark.kubernetes.namespace=spark-pi \\\r\n            --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\r\n            --conf spark.hadoop.fs.s3a.impl=org.apache.hadoop.fs.s3a.S3AFileSystem \\\r\n            --conf spark.kubernetes.authenticate.executor.serviceAccountName=spark-sa \\\r\n            --conf spark.kubernetes.driver.pod.name=spark-job-driver \\\r\n            --conf spark.executor.instances=4 \\\r\n            local:///opt/spark/examples/App-buildversion-SNAPSHOT.jar \\\r\n            [mks,env,reg,&quot;dd.mm.yyyy&quot;,&quot;true&quot;,&quot;off&quot;,&quot;db-comp-results&quot;,&quot;true&quot;,&quot;XX&quot;,&quot;XXX&quot;,&quot;XXXXX&quot;,&quot;XXX&quot;,$$,###] &quot; \r\n          ]\r\n      serviceAccountName: spark-pi\r\n      restartPolicy: Never\r\n  backoffLimit: 4\r\n```\r\n\r\nThe resulting error:\r\n```\r\nerror converting YAML to JSON: yaml: line 33: did not find expected &#39;,&#39; or &#39;]&#39;\r\n```","title":"k8s Spark Job JAR params","body":"<p>I am using the below manifest and when applying I get the below error. Is this a correct way to pass JAR arguments?</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: spark-on-eks\nspec:\n  template:\n    spec:\n      containers:\n        - name: spark\n          image: repo:buildversion\n          command: [\n            &quot;/bin/sh&quot;,\n            &quot;-c&quot;,\n            &quot;/opt/spark/bin/spark-submit \\\n            --master k8s://EKSEndpoint \\\n            --deploy-mode cluster \\\n            --name spark-luluapp \\\n            --class com.ll.jsonclass \\\n            --conf spark.jars.ivy=/tmp/.ivy \\\n            --conf spark.kubernetes.container.image=repo:buildversion \\\n            --conf spark.kubernetes.namespace=spark-pi \\\n            --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\n            --conf spark.hadoop.fs.s3a.impl=org.apache.hadoop.fs.s3a.S3AFileSystem \\\n            --conf spark.kubernetes.authenticate.executor.serviceAccountName=spark-sa \\\n            --conf spark.kubernetes.driver.pod.name=spark-job-driver \\\n            --conf spark.executor.instances=4 \\\n            local:///opt/spark/examples/App-buildversion-SNAPSHOT.jar \\\n            [mks,env,reg,&quot;dd.mm.yyyy&quot;,&quot;true&quot;,&quot;off&quot;,&quot;db-comp-results&quot;,&quot;true&quot;,&quot;XX&quot;,&quot;XXX&quot;,&quot;XXXXX&quot;,&quot;XXX&quot;,$$,###] &quot; \n          ]\n      serviceAccountName: spark-pi\n      restartPolicy: Never\n  backoffLimit: 4\n</code></pre>\n<p>The resulting error:</p>\n<pre><code>error converting YAML to JSON: yaml: line 33: did not find expected ',' or ']'\n</code></pre>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685385395,"post_id":76358959,"comment_id":134649736,"body_markdown":"please help / suggest","body":"please help / suggest"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685378007,"creation_date":1685378007,"question_id":76358959,"body_markdown":"I have following YAML \r\n\r\n    image:\r\n      - repository: &quot;test.com/test&quot;\r\n        pullPolicy: &quot;IfNotPresent&quot;\r\n        tag: &quot;abctag&quot;\r\n    route:\r\n      hosts:\r\n        - host: abc.bbc.com\r\n        - host: bbc.abc.com\r\n        - host: bbc1.abc.com\r\n\r\nI want to add the new host entry in hosts section and save/rewrite the YANL file \r\nCan it be possible using SnakeYAML file ? Please suggest \r\n\r\nI have following code \r\n\r\n    \r\n    \r\n    public class Image {\r\n    \t\r\n    \tprivate String repository;\r\n    \tprivate String pullPolicy;\r\n    \tprivate String tag;\r\n    \t\r\n    \tpublic Image()\r\n    \t{\t\r\n    \t}\r\n    \t\r\n    \tpublic Image (String repository, String pullPolicy, String tags)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.repository = repository;\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t\tthis.tag = tags;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String getRepository() {\r\n    \t\treturn repository;\r\n    \t}\r\n    \tpublic void setRepository(String repository) {\r\n    \t\tthis.repository = repository;\r\n    \t}\r\n    \tpublic String getPullPolicy() {\r\n    \t\treturn pullPolicy;\r\n    \t}\r\n    \tpublic void setPullPolicy(String pullPolicy) {\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t}\r\n    \tpublic String getTag() {\r\n    \t\treturn tag;\r\n    \t}\r\n    \tpublic void setTag(String tag) {\r\n    \t\tthis.tag = tag;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n    public class Host {\r\n    \t\r\n    \t  private String host;\r\n    \t    public String getHost() {\r\n    \t        return host;\r\n    \t    }\r\n    \t    public void setHost(String host) {\r\n    \t        this.host = host;\r\n    \t    }\r\n    \r\n    }\r\n\r\n    public class Route {\r\n    \t\r\n    \t   private List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\r\n    \t    public List&lt;Host&gt; getHosts() {\r\n    \t        return hosts;\r\n    \t    }\r\n    \t    public void setHosts(List&lt;Host&gt; hosts) {\r\n    \t        this.hosts = hosts;\r\n    \t    }\r\n    \r\n    }\r\n\r\n    public class SnakeYaml {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \t\t\r\n    \t\tInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\r\n    \t\r\n    \t\tYaml yaml = new Yaml(new Constructor(Values.class));\r\n    \t\r\n    \t\tValues data = yaml.load(inputStream);\r\n    \t\r\n    \t\tdata.getImage().forEach(x -&gt; System.out.println(x.getTag()));\r\n    \t\tdata.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"how to set Values in List of collection using SnakeYaml lib","body":"<p>I have following YAML</p>\n<pre><code>image:\n  - repository: &quot;test.com/test&quot;\n    pullPolicy: &quot;IfNotPresent&quot;\n    tag: &quot;abctag&quot;\nroute:\n  hosts:\n    - host: abc.bbc.com\n    - host: bbc.abc.com\n    - host: bbc1.abc.com\n</code></pre>\n<p>I want to add the new host entry in hosts section and save/rewrite the YANL file\nCan it be possible using SnakeYAML file ? Please suggest</p>\n<p>I have following code</p>\n<pre><code>public class Image {\n    \n    private String repository;\n    private String pullPolicy;\n    private String tag;\n    \n    public Image()\n    {   \n    }\n    \n    public Image (String repository, String pullPolicy, String tags)\n    {\n        super();\n        this.repository = repository;\n        this.pullPolicy = pullPolicy;\n        this.tag = tags;\n        \n    }\n    \n    public String getRepository() {\n        return repository;\n    }\n    public void setRepository(String repository) {\n        this.repository = repository;\n    }\n    public String getPullPolicy() {\n        return pullPolicy;\n    }\n    public void setPullPolicy(String pullPolicy) {\n        this.pullPolicy = pullPolicy;\n    }\n    public String getTag() {\n        return tag;\n    }\n    public void setTag(String tag) {\n        this.tag = tag;\n    }\n    \n\n}\n\npublic class Host {\n    \n      private String host;\n        public String getHost() {\n            return host;\n        }\n        public void setHost(String host) {\n            this.host = host;\n        }\n\n}\n\npublic class Route {\n    \n       private List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\n        public List&lt;Host&gt; getHosts() {\n            return hosts;\n        }\n        public void setHosts(List&lt;Host&gt; hosts) {\n            this.hosts = hosts;\n        }\n\n}\n\npublic class SnakeYaml {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        \n        InputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\n    \n        Yaml yaml = new Yaml(new Constructor(Values.class));\n    \n        Values data = yaml.load(inputStream);\n    \n        data.getImage().forEach(x -&gt; System.out.println(x.getTag()));\n        data.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","inheritance","super"],"answers":[{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685369712,"creation_date":1685367286,"answer_id":76357842,"question_id":76357589,"body_markdown":"You cannot write `super.super` in Java, that&#39;s why you are getting a compilation error.\r\n\r\nThe keyword `super` is used to get the attributes and methods from the immediate `parent` given that they are accessible from the `child`. So it expects only methods and attributes and not a keyword.\r\n\r\nNow, if you want to access an attribute from the topmost parent, the best thing you can do is create an object and call the attribute. The other way of doing this is by creating a chain of methods in the intermediate parent classes. You can create a method in `Ab` that returns the `super.length` (A.length) and call that method from `Abc` using the `super` keyword. I won&#39;t recommend that because as the number of classes increases in the hierarchy you&#39;ll have to add this method in all the intermediate classes.\r\n\r\nBut, in a normal scenario, I&#39;ve to ask a question. Consider the `Car` (a class) which has a `gasPedal` (an attribute), now there are `Audi`, `Bently`, and `Honda` which inherit from the `Car`. My question is that why would `Audi` be requiring the `gasPedal` from the `Car` when it has its own custom-designed `gasPedal`? \r\n\r\nThere is nothing wrong with accessing the superclass attribute, it is fine, but what I was trying to convey in the above question is a basic OOPs concept.\r\n\r\n**Update regarding the comment**\r\n\r\nWhen a person needs to have data regarding his grandparent&#39;s age, you&#39;ll need a new attribute in that person, `grandFatherAge`. Now this new attribute will be having the same value for every grandchildren he has, so you can declare it as `static`.\r\n\r\n    class GrandFather {\r\n    \t\r\n    \tint age = 88;\r\n    }\r\n    \r\n    class Father extends GrandFather {\r\n    \t\r\n    \tint age = 50;\r\n    }\r\n    \r\n    class Son1 extends Father {\r\n    \t\r\n    \tint age = 18;\r\n    \tstatic int grandFatherAge;\r\n    \t\r\n    \tstatic {\r\n    \t\t\r\n    \t\tgrandFatherAge = new GrandFather().age;\r\n    \t}\r\n    }\r\n    \r\n    class Son2 extends Father {\r\n    \t\r\n    \tint age = 15;\r\n    \tstatic int grandFatherAge;\r\n    \t\r\n    \tstatic {\r\n    \t\t\r\n    \t\tgrandFatherAge = new GrandFather().age;\r\n    \t}\r\n    }\r\n    \r\n    class Daughter1 extends Father {\r\n    \t\r\n    \tint age = 21;\r\n    \tstatic int grandFatherAge;\r\n    \t\r\n    \tstatic {\r\n    \t\t\r\n    \t\tgrandFatherAge = new GrandFather().age;\r\n    \t}\r\n    }\r\n    \r\n    class HierarchyManager {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.println(Son1.grandFatherAge);\r\n    \t\tSystem.out.println(Son2.grandFatherAge);\r\n    \t\tSystem.out.println(Daughter1.grandFatherAge);\r\n    \t}\r\n    }\r\n\r\nI applied your &quot;brainstorming&quot; logic, a person can know his grandparent&#39;s age directly from his Grandparent, it is not necessary that it needs to come from his direct parent.","title":"how to access grandparent attribute in the child class with same name as some attribute in child class","body":"<p>You cannot write <code>super.super</code> in Java, that's why you are getting a compilation error.</p>\n<p>The keyword <code>super</code> is used to get the attributes and methods from the immediate <code>parent</code> given that they are accessible from the <code>child</code>. So it expects only methods and attributes and not a keyword.</p>\n<p>Now, if you want to access an attribute from the topmost parent, the best thing you can do is create an object and call the attribute. The other way of doing this is by creating a chain of methods in the intermediate parent classes. You can create a method in <code>Ab</code> that returns the <code>super.length</code> (A.length) and call that method from <code>Abc</code> using the <code>super</code> keyword. I won't recommend that because as the number of classes increases in the hierarchy you'll have to add this method in all the intermediate classes.</p>\n<p>But, in a normal scenario, I've to ask a question. Consider the <code>Car</code> (a class) which has a <code>gasPedal</code> (an attribute), now there are <code>Audi</code>, <code>Bently</code>, and <code>Honda</code> which inherit from the <code>Car</code>. My question is that why would <code>Audi</code> be requiring the <code>gasPedal</code> from the <code>Car</code> when it has its own custom-designed <code>gasPedal</code>?</p>\n<p>There is nothing wrong with accessing the superclass attribute, it is fine, but what I was trying to convey in the above question is a basic OOPs concept.</p>\n<p><strong>Update regarding the comment</strong></p>\n<p>When a person needs to have data regarding his grandparent's age, you'll need a new attribute in that person, <code>grandFatherAge</code>. Now this new attribute will be having the same value for every grandchildren he has, so you can declare it as <code>static</code>.</p>\n<pre><code>class GrandFather {\n    \n    int age = 88;\n}\n\nclass Father extends GrandFather {\n    \n    int age = 50;\n}\n\nclass Son1 extends Father {\n    \n    int age = 18;\n    static int grandFatherAge;\n    \n    static {\n        \n        grandFatherAge = new GrandFather().age;\n    }\n}\n\nclass Son2 extends Father {\n    \n    int age = 15;\n    static int grandFatherAge;\n    \n    static {\n        \n        grandFatherAge = new GrandFather().age;\n    }\n}\n\nclass Daughter1 extends Father {\n    \n    int age = 21;\n    static int grandFatherAge;\n    \n    static {\n        \n        grandFatherAge = new GrandFather().age;\n    }\n}\n\nclass HierarchyManager {\n    \n    public static void main(String[] args) {\n        \n        System.out.println(Son1.grandFatherAge);\n        System.out.println(Son2.grandFatherAge);\n        System.out.println(Daughter1.grandFatherAge);\n    }\n}\n</code></pre>\n<p>I applied your &quot;brainstorming&quot; logic, a person can know his grandparent's age directly from his Grandparent, it is not necessary that it needs to come from his direct parent.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685374612,"creation_date":1685374612,"answer_id":76358622,"question_id":76357589,"body_markdown":"You can cast your object to the class you&#39;re looking to reference.\r\n\r\nThe _[this](https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html)_ and _[super](https://docs.oracle.com/javase/tutorial/java/IandI/super.html)_ keywords are essentially shortcuts; additionally, they can provide resolve for field names and local variable names.\r\n\r\n```java\r\nAbc sahil = new Abc();\r\nSystem.out.println(((A) sahil).length);\r\nSystem.out.println(((Ab) sahil).length);\r\nSystem.out.println(sahil.length);\r\n```\r\n\r\n```none\r\n1\r\n2\r\n3\r\n```","title":"how to access grandparent attribute in the child class with same name as some attribute in child class","body":"<p>You can cast your object to the class you're looking to reference.</p>\n<p>The <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\">this</a></em> and <em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">super</a></em> keywords are essentially shortcuts; additionally, they can provide resolve for field names and local variable names.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Abc sahil = new Abc();\nSystem.out.println(((A) sahil).length);\nSystem.out.println(((Ab) sahil).length);\nSystem.out.println(sahil.length);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\n3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11457947,"reputation":101,"user_id":8413055,"display_name":"Serodv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685374645,"creation_date":1685374645,"answer_id":76358623,"question_id":76357589,"body_markdown":"Child classes shadow the property of parent. If you cast the object to any of parent class the appropriate value be extracted.\r\n\r\n    System.out.println(sahil.length);  // 3\r\n    System.out.println(((Ab)sahil).length); // 2\r\n    System.out.println(((A)sahil).length); // 1","title":"how to access grandparent attribute in the child class with same name as some attribute in child class","body":"<p>Child classes shadow the property of parent. If you cast the object to any of parent class the appropriate value be extracted.</p>\n<pre><code>System.out.println(sahil.length);  // 3\nSystem.out.println(((Ab)sahil).length); // 2\nSystem.out.println(((A)sahil).length); // 1\n</code></pre>\n"}],"owner":{"account_id":27060303,"reputation":63,"user_id":20612412,"display_name":"Sahil Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76357842,"answer_count":3,"score":0,"last_activity_date":1685377987,"creation_date":1685365071,"question_id":76357589,"body_markdown":"I was tinkering with classes and objects, then  I had a doubt, since all the non-private\r\nmethods and variables/attributes are available to the child class, and if there is any attribute in the parent class with the same name as some attribute in the child class, the it can be accessed using `super.attrName`. But what if this is the situation in case of multi-level-inheritence, and you want to access the grandparent attribute in the child class, how can it be done. using `super.super.attrName` gives error.\r\n\r\nmy sample code\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Abc sahil = new Abc();\r\n        System.out.println(sahil.length);\r\n    }\r\n}\r\n\r\nclass A {\r\n    int length;\r\n\r\n    A() {\r\n        this.length = 1;\r\n    }\r\n}\r\n\r\nclass Ab extends A {\r\n    int length;\r\n    \r\n    Ab() {\r\n        this.length = 2;\r\n    }\r\n}\r\n\r\nclass Abc extends Ab {\r\n    int length;\r\n\r\n    Abc() {\r\n        this.length = 3;\r\n    }\r\n}\r\n```","title":"how to access grandparent attribute in the child class with same name as some attribute in child class","body":"<p>I was tinkering with classes and objects, then  I had a doubt, since all the non-private\nmethods and variables/attributes are available to the child class, and if there is any attribute in the parent class with the same name as some attribute in the child class, the it can be accessed using <code>super.attrName</code>. But what if this is the situation in case of multi-level-inheritence, and you want to access the grandparent attribute in the child class, how can it be done. using <code>super.super.attrName</code> gives error.</p>\n<p>my sample code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Abc sahil = new Abc();\n        System.out.println(sahil.length);\n    }\n}\n\nclass A {\n    int length;\n\n    A() {\n        this.length = 1;\n    }\n}\n\nclass Ab extends A {\n    int length;\n    \n    Ab() {\n        this.length = 2;\n    }\n}\n\nclass Abc extends Ab {\n    int length;\n\n    Abc() {\n        this.length = 3;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jobrunr"],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685377608,"creation_date":1685377608,"question_id":76358917,"body_markdown":"I have an `AuthorizationComponent` that allows me to check my user&#39;s roles. I use it in the methods of my various services.\r\n\r\nNow, I try to create a job ([using Jobrunr][1]) that `@Autowired` one of these services, but it crashes because the `SecurityContextHolder.getContext()` is null.\r\n\r\nSo I&#39;m trying to apply the answer I got [here][2]. Only, when I use `DelegatingSecurityContextRunnable` and my job is run, I get the following stacktrace:\r\n```\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.concurrent.DelegatingSecurityContextRunnable&#39; available\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351) ~[spring-beans-5.3.23.jar:5.3.23]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.23.jar:5.3.23]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172) ~[spring-context-5.3.23.jar:5.3.23]\r\n        at org.jobrunr.server.runner.BackgroundJobWithIocRunner.supports(BackgroundJobWithIocRunner.java:21) ~[jobrunr-6.1.4.jar:6.1.4]\r\n        at org.jobrunr.server.BackgroundJobServer.lambda$getBackgroundJobRunner$0(BackgroundJobServer.java:224) ~[jobrunr-6.1.4.jar:6.1.4]\r\n        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176) ~[?:?]\r\n        at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958) ~[?:?]\r\n        at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n        at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n        at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543) ~[?:?]\r\n        at org.jobrunr.server.BackgroundJobServer.getBackgroundJobRunner(BackgroundJobServer.java:225) ~[jobrunr-6.1.4.jar:6.1.4]\r\n        at org.jobrunr.server.BackgroundJobPerformer.runActualJob(BackgroundJobPerformer.java:88) ~[jobrunr-6.1.4.jar:6.1.4]\r\n        at org.jobrunr.server.BackgroundJobPerformer.performJob(BackgroundJobPerformer.java:64) ~[jobrunr-6.1.4.jar:6.1.4]\r\n        at org.jobrunr.server.BackgroundJobPerformer.run(BackgroundJobPerformer.java:42) ~[jobrunr-6.1.4.jar:6.1.4]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n**Here&#39;s some code to give you some context:**\r\n____\r\n\r\nAuthorization component:\r\n```java\r\n@Component\r\npublic class AuthorizationComponent {\r\n    public SecurityContext getSecurityContext() {\r\n        return SecurityContextHolder.getContext();\r\n    }\r\n\r\n    public Authentication getAuthentication() {\r\n        return this.getSecurityContext().getAuthentication();\r\n    }\r\n\r\n    public CustomUserDetails getUser() {\r\n        return (CustomUserDetails) this.getAuthentication().getPrincipal();\r\n    }\r\n\r\n    public boolean hasAnyRole(ERole...roles) {\r\n        return this.getAuthentication().getAuthorities().stream()\r\n            .anyMatch(grantedAuthority -&gt; Arrays.stream(roles)\r\n                .map(Enum::toString)\r\n                .collect(Collectors.toList())\r\n                .contains(grantedAuthority.getAuthority())\r\n            );\r\n    }\r\n\r\n    public boolean hasSuperAdminRights() {\r\n        return this.hasAnyRole(ERole.ROLE_ADMIN);\r\n    }\r\n\r\n    public boolean hasAdminRights() {\r\n        return this.hasAnyRole(ERole.ROLE_ADMIN, ERole.ROLE_HR);\r\n    }\r\n}\r\n```\r\n\r\nJobrunr job :\r\n```java\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class InactiveUsersEmail implements JobRequest {\r\n    private Integer userId;\r\n\r\n    @Override\r\n    public Class&lt;InactiveUsersEmailHandler&gt; getJobRequestHandler() {\r\n        return InactiveUsersEmailHandler.class;\r\n    }\r\n}\r\n```\r\n\r\nDefine the recurring job:\r\n```java\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class RecurringJobService {\r\n    private final AuthorizationComponent authorizationComponent;\r\n\r\n    @Recurring(id = &quot;inactive-users-email&quot;, cron = &quot;0 5 * * *&quot;)\r\n    @Job(name = &quot;Sends email to inactive users&quot;)\r\n    public void sendInactiveUsersEmail() {\r\n        // for this example, only send user id 1\r\n        Runnable task = () -&gt; new InactiveUsersEmail(1);\r\n        DelegatingSecurityContextRunnable securedTask = new DelegatingSecurityContextRunnable(task, this.authorizationComponent.getSecurityContext());\r\n        BackgroundJob.enqueue(securedTask::run);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/jobrunr/jobrunr\r\n  [2]: https://stackoverflow.com/a/76349211/5282089","title":"Spring Jobrunr: No qualifying bean of type DelegatingSecurityContextRunnable available","body":"<p>I have an <code>AuthorizationComponent</code> that allows me to check my user's roles. I use it in the methods of my various services.</p>\n<p>Now, I try to create a job (<a href=\"https://github.com/jobrunr/jobrunr\" rel=\"nofollow noreferrer\">using Jobrunr</a>) that <code>@Autowired</code> one of these services, but it crashes because the <code>SecurityContextHolder.getContext()</code> is null.</p>\n<p>So I'm trying to apply the answer I got <a href=\"https://stackoverflow.com/a/76349211/5282089\">here</a>. Only, when I use <code>DelegatingSecurityContextRunnable</code> and my job is run, I get the following stacktrace:</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.concurrent.DelegatingSecurityContextRunnable' available\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351) ~[spring-beans-5.3.23.jar:5.3.23]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.23.jar:5.3.23]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172) ~[spring-context-5.3.23.jar:5.3.23]\n        at org.jobrunr.server.runner.BackgroundJobWithIocRunner.supports(BackgroundJobWithIocRunner.java:21) ~[jobrunr-6.1.4.jar:6.1.4]\n        at org.jobrunr.server.BackgroundJobServer.lambda$getBackgroundJobRunner$0(BackgroundJobServer.java:224) ~[jobrunr-6.1.4.jar:6.1.4]\n        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176) ~[?:?]\n        at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958) ~[?:?]\n        at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127) ~[?:?]\n        at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502) ~[?:?]\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488) ~[?:?]\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\n        at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150) ~[?:?]\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\n        at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543) ~[?:?]\n        at org.jobrunr.server.BackgroundJobServer.getBackgroundJobRunner(BackgroundJobServer.java:225) ~[jobrunr-6.1.4.jar:6.1.4]\n        at org.jobrunr.server.BackgroundJobPerformer.runActualJob(BackgroundJobPerformer.java:88) ~[jobrunr-6.1.4.jar:6.1.4]\n        at org.jobrunr.server.BackgroundJobPerformer.performJob(BackgroundJobPerformer.java:64) ~[jobrunr-6.1.4.jar:6.1.4]\n        at org.jobrunr.server.BackgroundJobPerformer.run(BackgroundJobPerformer.java:42) ~[jobrunr-6.1.4.jar:6.1.4]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n        at java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p><strong>Here's some code to give you some context:</strong></p>\n<hr />\n<p>Authorization component:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AuthorizationComponent {\n    public SecurityContext getSecurityContext() {\n        return SecurityContextHolder.getContext();\n    }\n\n    public Authentication getAuthentication() {\n        return this.getSecurityContext().getAuthentication();\n    }\n\n    public CustomUserDetails getUser() {\n        return (CustomUserDetails) this.getAuthentication().getPrincipal();\n    }\n\n    public boolean hasAnyRole(ERole...roles) {\n        return this.getAuthentication().getAuthorities().stream()\n            .anyMatch(grantedAuthority -&gt; Arrays.stream(roles)\n                .map(Enum::toString)\n                .collect(Collectors.toList())\n                .contains(grantedAuthority.getAuthority())\n            );\n    }\n\n    public boolean hasSuperAdminRights() {\n        return this.hasAnyRole(ERole.ROLE_ADMIN);\n    }\n\n    public boolean hasAdminRights() {\n        return this.hasAnyRole(ERole.ROLE_ADMIN, ERole.ROLE_HR);\n    }\n}\n</code></pre>\n<p>Jobrunr job :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class InactiveUsersEmail implements JobRequest {\n    private Integer userId;\n\n    @Override\n    public Class&lt;InactiveUsersEmailHandler&gt; getJobRequestHandler() {\n        return InactiveUsersEmailHandler.class;\n    }\n}\n</code></pre>\n<p>Define the recurring job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class RecurringJobService {\n    private final AuthorizationComponent authorizationComponent;\n\n    @Recurring(id = &quot;inactive-users-email&quot;, cron = &quot;0 5 * * *&quot;)\n    @Job(name = &quot;Sends email to inactive users&quot;)\n    public void sendInactiveUsersEmail() {\n        // for this example, only send user id 1\n        Runnable task = () -&gt; new InactiveUsersEmail(1);\n        DelegatingSecurityContextRunnable securedTask = new DelegatingSecurityContextRunnable(task, this.authorizationComponent.getSecurityContext());\n        BackgroundJob.enqueue(securedTask::run);\n    }\n</code></pre>\n"},{"tags":["java","servlets","hcl"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685345875,"post_id":76345657,"comment_id":134643241,"body_markdown":"Is the `download` button designed by you?","body":"Is the <code>download</code> button designed by you?"},{"owner":{"account_id":4138062,"reputation":518,"user_id":3394223,"accept_rate":64,"display_name":"peterremec"},"score":0,"creation_date":1685362148,"post_id":76345657,"comment_id":134645672,"body_markdown":"@ArunSudhakaran yes, it is, see edit1. I&#39;m sure that it can be done in a different (easier way), but still I can&#39;t understand why servlet is called again when i hit Download button of pdf preview.","body":"@ArunSudhakaran yes, it is, see edit1. I&#39;m sure that it can be done in a different (easier way), but still I can&#39;t understand why servlet is called again when i hit Download button of pdf preview."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685364784,"post_id":76345657,"comment_id":134646197,"body_markdown":"Your question is that the `PdfDownloadServlet` is being called when the `download` button is clicked, right?","body":"Your question is that the <code>PdfDownloadServlet</code> is being called when the <code>download</code> button is clicked, right?"},{"owner":{"account_id":4138062,"reputation":518,"user_id":3394223,"accept_rate":64,"display_name":"peterremec"},"score":0,"creation_date":1685367106,"post_id":76345657,"comment_id":134646679,"body_markdown":"@ArunSudhakaran I&#39;m sorry, I misunderstood your question. Button, that is designed by me, is `btnGenerate` (see code above). It triggers action listener `onBtnGeneratePdf` that calls JS function `generatePdf`. That function opens pdf in new tab (calls servlet) and when I try to download pdf (using download button in newly opened tab - Chrome&#39;s Pdf Viever), servlet is called the second time. This is what I don&#39;t understand - why is servlet called the second?","body":"@ArunSudhakaran I&#39;m sorry, I misunderstood your question. Button, that is designed by me, is <code>btnGenerate</code> (see code above). It triggers action listener <code>onBtnGeneratePdf</code> that calls JS function <code>generatePdf</code>. That function opens pdf in new tab (calls servlet) and when I try to download pdf (using download button in newly opened tab - Chrome&#39;s Pdf Viever), servlet is called the second time. This is what I don&#39;t understand - why is servlet called the second?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1685441960,"post_id":76345657,"comment_id":134656977,"body_markdown":"You can try telling the client to cache it: https://stackoverflow.com/a/29991447 But if that also doesn&#39;t work then it&#39;s beyond your control. It&#39;s the client who&#39;s acting inefficiently, not the server.","body":"You can try telling the client to cache it: <a href=\"https://stackoverflow.com/a/29991447\">stackoverflow.com/a/29991447</a> But if that also doesn&#39;t work then it&#39;s beyond your control. It&#39;s the client who&#39;s acting inefficiently, not the server."},{"owner":{"account_id":4138062,"reputation":518,"user_id":3394223,"accept_rate":64,"display_name":"peterremec"},"score":0,"creation_date":1685467401,"post_id":76345657,"comment_id":134663100,"body_markdown":"@BalusC I understand it&#39;s a client &quot;problem&quot; but I must admit I didn&#39;t know that servlet is called again if user wants to downolad pdf from Pdf Viewer. I thought that pdf is already cached in browser when preview is opened. I&#39;ve just set `Content-Disposition` to `attachment` this time but it&#39;s good to know that another solution exists. Thanks.","body":"@BalusC I understand it&#39;s a client &quot;problem&quot; but I must admit I didn&#39;t know that servlet is called again if user wants to downolad pdf from Pdf Viewer. I thought that pdf is already cached in browser when preview is opened. I&#39;ve just set <code>Content-Disposition</code> to <code>attachment</code> this time but it&#39;s good to know that another solution exists. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685377387,"creation_date":1685377387,"answer_id":76358894,"question_id":76345657,"body_markdown":"Your servlet is designed to process both `GET` and `POST` requests. When you click the button, it triggers the `onBtnGeneratePdf` method in your backing bean, which calls the `generatePdf` JavaScript function. This function opens a new window with the URL of your servlet, which results in a `GET` request to your servlet.\r\n\r\nNow, when you say you click a download button in the new tab and the servlet is called again, I suspect this download button is part of the browser&#39;s UI for handling PDF files, and not a button you have defined in your application.\r\n\r\n&gt; when I try to download pdf (using download button in newly opened tab - Chrome&#39;s Pdf Viever)\r\n\r\nThat would confirm it. \r\n\r\nWhen a PDF file is served with the content-disposition header set to `inline`, the browser displays the PDF within the browser window and typically adds a toolbar with options to zoom, print, and download the file. When you click the download button on this toolbar, it sends another `GET` request to the same URL to download the file, which is why your servlet is called again.\r\n\r\nIf you want to avoid this, you can try changing the content-disposition header from `inline` to `attachment`. This will force the browser to download the file directly instead of displaying it inline, which might be more in line with what you are trying to achieve.\r\n\r\nYou can do this by changing this line in your `writeOutputStream` method:\r\n\r\n```java\r\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=Sample.pdf&quot;);\r\n```\r\n\r\nto:\r\n\r\n```java\r\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=Sample.pdf&quot;);\r\n```\r\n\r\nAs [seen here](https://stackoverflow.com/a/5279467/6309), you might also need to change the content type:   \r\n`response.setContentType(&quot;application/x-download&quot;);`\r\n\r\nThis should cause the file to be downloaded immediately when you call the servlet, and it will not be displayed in the browser, so there should be no download button to click and trigger a second call to your servlet. However, this will also mean that users will not be able to view the PDF in their browser before downloading it, which might not be what you want. \r\n\r\nYou could also consider generating a unique URL for each PDF download request. This would mean that when a user clicks the download button in the PDF viewer, it would not trigger a second call to your servlet with the same parameters. Instead, the browser would download the PDF from the URL directly. This approach might require more changes to your code and server configuration, though.","title":"Java servlet called again when download button is clicked","body":"<p>Your servlet is designed to process both <code>GET</code> and <code>POST</code> requests. When you click the button, it triggers the <code>onBtnGeneratePdf</code> method in your backing bean, which calls the <code>generatePdf</code> JavaScript function. This function opens a new window with the URL of your servlet, which results in a <code>GET</code> request to your servlet.</p>\n<p>Now, when you say you click a download button in the new tab and the servlet is called again, I suspect this download button is part of the browser's UI for handling PDF files, and not a button you have defined in your application.</p>\n<blockquote>\n<p>when I try to download pdf (using download button in newly opened tab - Chrome's Pdf Viever)</p>\n</blockquote>\n<p>That would confirm it.</p>\n<p>When a PDF file is served with the content-disposition header set to <code>inline</code>, the browser displays the PDF within the browser window and typically adds a toolbar with options to zoom, print, and download the file. When you click the download button on this toolbar, it sends another <code>GET</code> request to the same URL to download the file, which is why your servlet is called again.</p>\n<p>If you want to avoid this, you can try changing the content-disposition header from <code>inline</code> to <code>attachment</code>. This will force the browser to download the file directly instead of displaying it inline, which might be more in line with what you are trying to achieve.</p>\n<p>You can do this by changing this line in your <code>writeOutputStream</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=Sample.pdf&quot;);\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=Sample.pdf&quot;);\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/a/5279467/6309\">seen here</a>, you might also need to change the content type:<br />\n<code>response.setContentType(&quot;application/x-download&quot;);</code></p>\n<p>This should cause the file to be downloaded immediately when you call the servlet, and it will not be displayed in the browser, so there should be no download button to click and trigger a second call to your servlet. However, this will also mean that users will not be able to view the PDF in their browser before downloading it, which might not be what you want.</p>\n<p>You could also consider generating a unique URL for each PDF download request. This would mean that when a user clicks the download button in the PDF viewer, it would not trigger a second call to your servlet with the same parameters. Instead, the browser would download the PDF from the URL directly. This approach might require more changes to your code and server configuration, though.</p>\n"}],"owner":{"account_id":4138062,"reputation":518,"user_id":3394223,"accept_rate":64,"display_name":"peterremec"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76358894,"answer_count":1,"score":0,"last_activity_date":1685377387,"creation_date":1685169629,"question_id":76345657,"body_markdown":"I&#39;m deploying JSF portlet on HCL Portal 9.5 that includes a servlet for PDF opened in a new tab. I don&#39;t know if that&#39;s a common behavior but when I click a download button in a newly opened tab, servlet is called again. Why? Can I avoid this?\r\n\r\nservlet class:\r\n\r\n    public class PdfDownloadServlet extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t// za shranjevanje SNMP pasti\r\n    \tprivate static HashMap&lt;SnmpNapakeEnum, Date&gt; snmpMap = new HashMap&lt;SnmpNapakeEnum, Date&gt;();\r\n    \r\n    \t@Override\r\n    \tprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \t\tprocessRequest(req, resp);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \t\tprocessRequest(req, resp);\r\n    \t}\r\n    \r\n    \tprotected void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tString param1 = ... // reading some url params\r\n    \r\n    \t\ttry {\r\n    \t\t\twriteOutputStream(response);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOG.error(e.getMessage(), e);\r\n    \t\t\tOutputStream os = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tos = response.getOutputStream();\r\n    \t\t\t\tos.write(e.getMessage().getBytes(&quot;UTF-8&quot;));\r\n    \t\t\t} finally {\r\n    \t\t\t\tif (ObjectUtils.isNotEmpty(os)) {\r\n    \t\t\t\t\tos.close();\r\n    \t\t\t\t\tos = null;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void writeOutputStream(HttpServletResponse response, String param1) throws IOException, ParseException {\r\n    \t\tOutputStream os = null;\r\n    \t\ttry {\r\n    \t\t\tbyte[] data = ... // calling some ejb method that returns byte array \r\n    \r\n    \t\t\tresponse.setContentType(&quot;application/pdf&quot;);\r\n    \t\t\tresponse.setContentLength(data.length);\r\n    \r\n    \t\t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=Sample.pdf&quot;);\r\n    \r\n    \t\t\tos = response.getOutputStream();\r\n    \t\t\tos.write(data);\r\n    \t\t} finally {\r\n    \t\t\tif (ObjectUtils.isNotEmpty(os)) {\r\n    \t\t\t\tos.close();\r\n    \t\t\t\tos = null;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;servlet&gt;\r\n    \t\t&lt;description&gt;Pdf download&lt;/description&gt;\r\n    \t\t&lt;display-name&gt;PdfDownloadServlet&lt;/display-name&gt;\r\n    \t\t&lt;servlet-name&gt;PdfDownloadServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;si.nijz.rizddz.portlet.skupno.servlets.ObvestiloOStDelavcaServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;PdfDownloadServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/PdfDownloadServlet&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nEDIT1:\r\n\r\nI&#39;m calling JS function (that calls servlet) from my backing bean.\r\n\r\naction listener:\r\n\r\n    public void onBtnGeneratePdf() {\r\n    \tString date1AsStr = &quot;2020-02-13&quot;;\r\n    \t\r\n    \tPrimeFaces.current().executeScript(&quot;generatePdf(&#39;&quot; + date1AsStr + &quot;&#39;);&quot;);\r\n    }\r\n\r\nJS function:\r\n\r\n    generatePdf : function(date1AsStr) {\r\n    \ttry {\r\n    \t\t\tvar path = $(&#39;[id$=hidContextPath]&#39;).val() + &#39;/PdfDownloadServlet?date1AsStr=&#39; + date1AsStr;\r\n    \t\t\twindow.open(path);\r\n    \t} catch (e) {\r\n    \t\t...\r\n    \t}\r\n    \treturn true;\r\n    }\r\n\r\nbutton html:\r\n\r\n    &lt;p:commandButton id=&quot;btnGenerate&quot; icon=&quot;ui-icon-document&quot; actionListener=&quot;#{myBean.onBtnGeneratePdf}&quot; value=&quot;Generate&quot; /&gt;\r\n\r\n\r\n\r\n ","title":"Java servlet called again when download button is clicked","body":"<p>I'm deploying JSF portlet on HCL Portal 9.5 that includes a servlet for PDF opened in a new tab. I don't know if that's a common behavior but when I click a download button in a newly opened tab, servlet is called again. Why? Can I avoid this?</p>\n<p>servlet class:</p>\n<pre><code>public class PdfDownloadServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    // za shranjevanje SNMP pasti\n    private static HashMap&lt;SnmpNapakeEnum, Date&gt; snmpMap = new HashMap&lt;SnmpNapakeEnum, Date&gt;();\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        processRequest(req, resp);\n    }\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        processRequest(req, resp);\n    }\n\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String param1 = ... // reading some url params\n\n        try {\n            writeOutputStream(response);\n        } catch (Exception e) {\n            LOG.error(e.getMessage(), e);\n            OutputStream os = null;\n            try {\n                os = response.getOutputStream();\n                os.write(e.getMessage().getBytes(&quot;UTF-8&quot;));\n            } finally {\n                if (ObjectUtils.isNotEmpty(os)) {\n                    os.close();\n                    os = null;\n                }\n            }\n        }\n    }\n\n    private void writeOutputStream(HttpServletResponse response, String param1) throws IOException, ParseException {\n        OutputStream os = null;\n        try {\n            byte[] data = ... // calling some ejb method that returns byte array \n\n            response.setContentType(&quot;application/pdf&quot;);\n            response.setContentLength(data.length);\n\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=Sample.pdf&quot;);\n\n            os = response.getOutputStream();\n            os.write(data);\n        } finally {\n            if (ObjectUtils.isNotEmpty(os)) {\n                os.close();\n                os = null;\n            }\n        }\n    }\n}\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;servlet&gt;\n        &lt;description&gt;Pdf download&lt;/description&gt;\n        &lt;display-name&gt;PdfDownloadServlet&lt;/display-name&gt;\n        &lt;servlet-name&gt;PdfDownloadServlet&lt;/servlet-name&gt;\n&lt;servlet-class&gt;si.nijz.rizddz.portlet.skupno.servlets.ObvestiloOStDelavcaServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;PdfDownloadServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/PdfDownloadServlet&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>EDIT1:</p>\n<p>I'm calling JS function (that calls servlet) from my backing bean.</p>\n<p>action listener:</p>\n<pre><code>public void onBtnGeneratePdf() {\n    String date1AsStr = &quot;2020-02-13&quot;;\n    \n    PrimeFaces.current().executeScript(&quot;generatePdf('&quot; + date1AsStr + &quot;');&quot;);\n}\n</code></pre>\n<p>JS function:</p>\n<pre><code>generatePdf : function(date1AsStr) {\n    try {\n            var path = $('[id$=hidContextPath]').val() + '/PdfDownloadServlet?date1AsStr=' + date1AsStr;\n            window.open(path);\n    } catch (e) {\n        ...\n    }\n    return true;\n}\n</code></pre>\n<p>button html:</p>\n<pre><code>&lt;p:commandButton id=&quot;btnGenerate&quot; icon=&quot;ui-icon-document&quot; actionListener=&quot;#{myBean.onBtnGeneratePdf}&quot; value=&quot;Generate&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685371681,"post_id":76357949,"comment_id":134647534,"body_markdown":"..add `@Component` annotation to where it &quot;is manually initialized&quot; ..and set it there?","body":"..add <code>@Component</code> annotation to where it &quot;is manually initialized&quot; ..and set it there?"}],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685370666,"creation_date":1685369856,"answer_id":76358108,"question_id":76357949,"body_markdown":"You need to create a spring managed bean and inject property into that bean. Then you can pass it as a constructor argument to your `MyObj`. \r\n\r\nHere is the example:\r\n\r\n```java\r\n@Component // will be instantiated by Spring as a singleton bean\r\npublic class MyObjFactory {\r\n\r\n    @Value(&quot;${apple.price}&quot;)\r\n    private int applePrice;\r\n\r\n    public MyObj newMyObject() {\r\n        return new MyObj(applePrice);\r\n    }\r\n}\r\n```\r\n\r\nRemember that you should not manually create `MyObjFactory` using the `new` operator. Spring instantiates classes marked as `@Component` during context creation. So you need to inject that factory where you want to use it. You can read more about it here: https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html","title":"How to get values of injected beans in a common class","body":"<p>You need to create a spring managed bean and inject property into that bean. Then you can pass it as a constructor argument to your <code>MyObj</code>.</p>\n<p>Here is the example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component // will be instantiated by Spring as a singleton bean\npublic class MyObjFactory {\n\n    @Value(&quot;${apple.price}&quot;)\n    private int applePrice;\n\n    public MyObj newMyObject() {\n        return new MyObj(applePrice);\n    }\n}\n</code></pre>\n<p>Remember that you should not manually create <code>MyObjFactory</code> using the <code>new</code> operator. Spring instantiates classes marked as <code>@Component</code> during context creation. So you need to inject that factory where you want to use it. You can read more about it here: <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html</a></p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685377361,"creation_date":1685377361,"answer_id":76358890,"question_id":76357949,"body_markdown":"If you don&#39;t have access to the application context or other beans, you can keep static reference to `AutowireCapableSpringBeanFactory` to manually autowire manually created objects. You could do it as in [this answer][1], for example.\r\n\r\nThen autowire the instances like this:\r\n```\r\nMyObj obj = new MyObj();\r\nApplicationContextHolder.autowireBean(obj);\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/73898684/17795888","title":"How to get values of injected beans in a common class","body":"<p>If you don't have access to the application context or other beans, you can keep static reference to <code>AutowireCapableSpringBeanFactory</code> to manually autowire manually created objects. You could do it as in <a href=\"https://stackoverflow.com/a/73898684/17795888\">this answer</a>, for example.</p>\n<p>Then autowire the instances like this:</p>\n<pre><code>MyObj obj = new MyObj();\nApplicationContextHolder.autowireBean(obj);\n</code></pre>\n"}],"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76358890,"answer_count":2,"score":2,"last_activity_date":1685377361,"creation_date":1685368388,"question_id":76357949,"body_markdown":"I&#39;m using Springboot to develop a web server and I need to add some custom configurations for it. So I put the config into `resources/application.properties` as below:\r\n\r\n    apple.price=1\r\n\r\nIn some function I need to get the config.\r\n\r\n    class MyObj {\r\n        @Value\r\n        private int applePrice;\r\n    }\r\n\r\nThis is not working because `MyObj` is not managed by Springboot.\r\n\r\nBut I couldn&#39;t add any annotation like `@Component` for the class `MyObj` because the objects of `MyObj` is initialized manually: `MyObj obj = new MyObj();`\r\n\r\nSo it seems that I need to get the injected bean in an unmanaged object.\r\n\r\nI&#39;m a Springboot newbie, please help me on this issue.","title":"How to get values of injected beans in a common class","body":"<p>I'm using Springboot to develop a web server and I need to add some custom configurations for it. So I put the config into <code>resources/application.properties</code> as below:</p>\n<pre><code>apple.price=1\n</code></pre>\n<p>In some function I need to get the config.</p>\n<pre><code>class MyObj {\n    @Value\n    private int applePrice;\n}\n</code></pre>\n<p>This is not working because <code>MyObj</code> is not managed by Springboot.</p>\n<p>But I couldn't add any annotation like <code>@Component</code> for the class <code>MyObj</code> because the objects of <code>MyObj</code> is initialized manually: <code>MyObj obj = new MyObj();</code></p>\n<p>So it seems that I need to get the injected bean in an unmanaged object.</p>\n<p>I'm a Springboot newbie, please help me on this issue.</p>\n"},{"tags":["java","android","web","webview","native"],"answers":[{"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685377292,"creation_date":1685377292,"answer_id":76358883,"question_id":76357458,"body_markdown":"Basically, WebView works as a container, like any other web browser. It only shows the content based on how the view is defined in HTML. If your website has already handled responsive for different browsers, it will work perfectly on WebView as well. Please ensure that the following meta tag is added to the web content: \r\n\r\n`&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;`\r\n\r\nIn the application side implementation, add some basic WebView settings as below:\r\n\r\n    webView.settings.useWideViewPort = true\r\n    webView.settings.loadWithOverviewMode = true\r\n\r\nThese settings enable the website to adjust its layout to fit the dimensions of the WebView properly.","title":"Is it possible to maintain responsive design in WebView for Android native apps?","body":"<p>Basically, WebView works as a container, like any other web browser. It only shows the content based on how the view is defined in HTML. If your website has already handled responsive for different browsers, it will work perfectly on WebView as well. Please ensure that the following meta tag is added to the web content:</p>\n<p><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</code></p>\n<p>In the application side implementation, add some basic WebView settings as below:</p>\n<pre><code>webView.settings.useWideViewPort = true\nwebView.settings.loadWithOverviewMode = true\n</code></pre>\n<p>These settings enable the website to adjust its layout to fit the dimensions of the WebView properly.</p>\n"}],"owner":{"account_id":9473147,"reputation":1047,"user_id":7043375,"display_name":"Dhvani023"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685377292,"creation_date":1685363931,"question_id":76357458,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/Ntx6w.jpg)](https://i.stack.imgur.com/Ntx6w.jpg) When I add website in webview, content goes outside of box, website is responsive, any one help with that?\r\n\r\nResponsive website should behave same in the webview like we browse website in browser chrome or other browser.\r\n\r\nis there anything to setup in webview, so responsive website looks same in webview?","title":"Is it possible to maintain responsive design in WebView for Android native apps?","body":"<p><a href=\"https://i.stack.imgur.com/Ntx6w.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ntx6w.jpg\" alt=\"enter image description here\" /></a> When I add website in webview, content goes outside of box, website is responsive, any one help with that?</p>\n<p>Responsive website should behave same in the webview like we browse website in browser chrome or other browser.</p>\n<p>is there anything to setup in webview, so responsive website looks same in webview?</p>\n"},{"tags":["java","android","xml","android-studio"],"owner":{"account_id":17856848,"reputation":1,"user_id":12971251,"display_name":"Carlo Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685377181,"creation_date":1685377181,"question_id":76358873,"body_markdown":"I am trying too implement a overflow menu on a simple application, however the overflow menu does not render on the application. I tried to call a Log.d on the function onCreateOptionsMenu(Menu menu) too see if the function is even called and as I excepted it is not called! I don&#39;t understand what I am doing wrong. \r\n\r\nhere is the relevent code for the overflow menu.\r\n\r\nin the settings class is where I call the function onCreateOptionsMenu(Menu menu)\r\n\r\n``` \r\npublic class SettingActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_setting);\r\n        Log.d(&quot;ERROR&quot;,&quot;SOMETHING&quot;);\r\n//        creating recycler view\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\r\n        items.add(new Item(&quot;counter name 1&quot;,&quot;enter name here&quot;));\r\n        items.add(new Item(&quot;counter name 2&quot;,&quot;enter name here&quot;));\r\n        items.add(new Item(&quot;counter name 3&quot;, &quot;enter name here&quot;));\r\n        items.add(new Item(&quot;Max counts&quot;,&quot;enter max count here&quot;));\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(new MyAdapter(getApplicationContext(),items));\r\n\r\n\r\n    }\r\n\r\n    //    creating the overflow menu\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        Log.d(&quot;ERROR&quot;,&quot;SOMETHING&quot;);\r\n        MenuInflater menuInflater = getMenuInflater();\r\n        menuInflater.inflate(R.menu.overflow_menu, menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    //    creating a callback method to know what option was selected in the overflow menu\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n//        once the edit settings is pressed the user will be able to edit the page\r\n        if(item.getItemId() == R.id.edit_settings){\r\n            Toast.makeText(this,&quot;item selected&quot;,Toast.LENGTH_LONG).show();\r\n            return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n```\r\n\r\nin the activity_settings xml file I made a toolbar and a recycler view \r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;.SettingActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/grey&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;-16dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:text=&quot;@string/settings_activity_bar&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/imageButton&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;@null&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/toolbar&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/toolbar&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/back_arrow_icon&quot; /&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\r\n        tools:layout_editor_absoluteX=&quot;109dp&quot;\r\n        android:id=&quot;@+id/recycler_view&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/save&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recycler_view&quot; /&gt;\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;  \r\n```\r\n\r\nand finally i have the overflow_menu xml file\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;.activity.SettingActivity&quot;&gt;\r\n\r\n&lt;item\r\n    android:id=&quot;@+id/edit_settings&quot;\r\n    android:orderInCategory=&quot;1&quot;\r\n    android:title=&quot;@string/edit_settings&quot;\r\n    app:showAsAction=&quot;never&quot;\r\n         /&gt;\r\n\r\n&lt;/menu&gt;\r\n\r\n```\r\n\r\nPlease help!!","title":"overflow menu function onCreateOptionsMenu never called","body":"<p>I am trying too implement a overflow menu on a simple application, however the overflow menu does not render on the application. I tried to call a Log.d on the function onCreateOptionsMenu(Menu menu) too see if the function is even called and as I excepted it is not called! I don't understand what I am doing wrong.</p>\n<p>here is the relevent code for the overflow menu.</p>\n<p>in the settings class is where I call the function onCreateOptionsMenu(Menu menu)</p>\n<pre><code>public class SettingActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_setting);\n        Log.d(&quot;ERROR&quot;,&quot;SOMETHING&quot;);\n//        creating recycler view\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\n        List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\n        items.add(new Item(&quot;counter name 1&quot;,&quot;enter name here&quot;));\n        items.add(new Item(&quot;counter name 2&quot;,&quot;enter name here&quot;));\n        items.add(new Item(&quot;counter name 3&quot;, &quot;enter name here&quot;));\n        items.add(new Item(&quot;Max counts&quot;,&quot;enter max count here&quot;));\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(new MyAdapter(getApplicationContext(),items));\n\n\n    }\n\n    //    creating the overflow menu\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        Log.d(&quot;ERROR&quot;,&quot;SOMETHING&quot;);\n        MenuInflater menuInflater = getMenuInflater();\n        menuInflater.inflate(R.menu.overflow_menu, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    //    creating a callback method to know what option was selected in the overflow menu\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n//        once the edit settings is pressed the user will be able to edit the page\n        if(item.getItemId() == R.id.edit_settings){\n            Toast.makeText(this,&quot;item selected&quot;,Toast.LENGTH_LONG).show();\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n</code></pre>\n<p>in the activity_settings xml file I made a toolbar and a recycler view</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.SettingActivity&quot;&gt;\n\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/grey&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:layout_editor_absoluteX=&quot;-16dp&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:text=&quot;@string/settings_activity_bar&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;30sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/imageButton&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:background=&quot;@null&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/toolbar&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/toolbar&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:srcCompat=&quot;@drawable/back_arrow_icon&quot; /&gt;\n\n\n\n\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\n        tools:layout_editor_absoluteX=&quot;109dp&quot;\n        android:id=&quot;@+id/recycler_view&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/save&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recycler_view&quot; /&gt;\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;  \n</code></pre>\n<p>and finally i have the overflow_menu xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;.activity.SettingActivity&quot;&gt;\n\n&lt;item\n    android:id=&quot;@+id/edit_settings&quot;\n    android:orderInCategory=&quot;1&quot;\n    android:title=&quot;@string/edit_settings&quot;\n    app:showAsAction=&quot;never&quot;\n         /&gt;\n\n&lt;/menu&gt;\n\n</code></pre>\n<p>Please help!!</p>\n"},{"tags":["java","mongodb","postgresql","etl","database-migration"],"owner":{"account_id":10980531,"reputation":1,"user_id":8067752,"display_name":"Mohamad Alaa Al Zainy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685376794,"creation_date":1685278204,"question_id":76351592,"body_markdown":" I am currently working on a data-engineering project that is crucial to my business. I am trying to migrate data from MongoDB to a postgresql warehouse and I am using the streamer in this [repo][1]. \r\n\r\nI have created the mapping file and everything is working well, except for the `_ARRAY_OF_SCALARS` datatype, it&#39;s showing as null values in the table that is created for the array along with `_Creation_date` column which is also showing null values.\r\n\r\n\r\nThe following code snippet is the one mapping an array from MongoDB to the postgresql:\r\n\r\n```\r\ntablename:{\r\n\r\n    &quot;favorit_by_customers&quot;: {\r\n        &quot;dest&quot;:&quot;favorited_by_customers&quot;,\r\n        &quot;type&quot;: &quot;_ARRAY_OF_SCALARS&quot;,\r\n        &quot;fk&quot;: &quot;favorited_by_customers_id&quot;,\r\n        &quot;valueField&quot;:&quot;thevalueIwant&quot;\r\n    },\r\n    &quot;favorited_by_customers&quot;:{\r\n        &quot;pk&quot;: &quot;id_number&quot;,\r\n        &quot;id_number&quot;: {\r\n            &quot;dest&quot;: &quot;id_number&quot;,\r\n            &quot;type&quot;: &quot;TEXT&quot;\r\n        },\r\n\r\n        &quot;thevalueIwant&quot;:{\r\n            &quot;type&quot;:&quot;TEXT&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n    }\r\n}\r\n```\r\n\r\nThe number of rows in the postgresql shows that the streamer was able to identify the right number of items in the array in all documents, but it shows null values. Has anyone used it or used something similar and can help? \r\n\r\nP.S: As a data professional I am familiar with python but not with java which makes editing the source code challenging. \r\n\r\n\r\nI tried changing the data type of the resulting column to integer, while I know that is string datatype, and the streamer didn&#39;t throw an error which means it doesn&#39;t access the values in the array. \r\n\r\n\r\n  [1]: https://github.com/sbrichardson/mongo-postgresql-streamer","title":"Is there a way to map array_of_scalars data type from MongoDb to postgresql?","body":"<p>I am currently working on a data-engineering project that is crucial to my business. I am trying to migrate data from MongoDB to a postgresql warehouse and I am using the streamer in this <a href=\"https://github.com/sbrichardson/mongo-postgresql-streamer\" rel=\"nofollow noreferrer\">repo</a>.</p>\n<p>I have created the mapping file and everything is working well, except for the <code>_ARRAY_OF_SCALARS</code> datatype, it's showing as null values in the table that is created for the array along with <code>_Creation_date</code> column which is also showing null values.</p>\n<p>The following code snippet is the one mapping an array from MongoDB to the postgresql:</p>\n<pre><code>tablename:{\n\n    &quot;favorit_by_customers&quot;: {\n        &quot;dest&quot;:&quot;favorited_by_customers&quot;,\n        &quot;type&quot;: &quot;_ARRAY_OF_SCALARS&quot;,\n        &quot;fk&quot;: &quot;favorited_by_customers_id&quot;,\n        &quot;valueField&quot;:&quot;thevalueIwant&quot;\n    },\n    &quot;favorited_by_customers&quot;:{\n        &quot;pk&quot;: &quot;id_number&quot;,\n        &quot;id_number&quot;: {\n            &quot;dest&quot;: &quot;id_number&quot;,\n            &quot;type&quot;: &quot;TEXT&quot;\n        },\n\n        &quot;thevalueIwant&quot;:{\n            &quot;type&quot;:&quot;TEXT&quot;\n        }\n    }\n}\n</code></pre>\n<p>The number of rows in the postgresql shows that the streamer was able to identify the right number of items in the array in all documents, but it shows null values. Has anyone used it or used something similar and can help?</p>\n<p>P.S: As a data professional I am familiar with python but not with java which makes editing the source code challenging.</p>\n<p>I tried changing the data type of the resulting column to integer, while I know that is string datatype, and the streamer didn't throw an error which means it doesn't access the values in the array.</p>\n"},{"tags":["java","algorithm","breadth-first-search"],"comments":[{"owner":{"account_id":1001833,"reputation":2489,"user_id":1016514,"accept_rate":100,"display_name":"Hans"},"score":0,"creation_date":1609759856,"post_id":65561856,"comment_id":115914018,"body_markdown":"How is an &quot;extreme-string&quot; defined?","body":"How is an &quot;extreme-string&quot; defined?"},{"owner":{"account_id":3996823,"reputation":302,"user_id":3294082,"display_name":"RookieCookie"},"score":0,"creation_date":1609760085,"post_id":65561856,"comment_id":115914102,"body_markdown":"@Hans Edited the question and the definition is in it.","body":"@Hans Edited the question and the definition is in it."},{"owner":{"account_id":1001833,"reputation":2489,"user_id":1016514,"accept_rate":100,"display_name":"Hans"},"score":0,"creation_date":1609764272,"post_id":65561856,"comment_id":115915783,"body_markdown":"As a side-note: A trivial precondition for a solution to exist would be that the input list needs at least one pair where the first string is shorter than the second one, and at least one pair where the first string is longer than the second; or, if all pairs of strings are of equal length, respectively, the solution can only be one or more of these. (But that does _not_ seem to help with the termination, AFAICS.)","body":"As a side-note: A trivial precondition for a solution to exist would be that the input list needs at least one pair where the first string is shorter than the second one, and at least one pair where the first string is longer than the second; or, if all pairs of strings are of equal length, respectively, the solution can only be one or more of these. (But that does <i>not</i> seem to help with the termination, AFAICS.)"},{"owner":{"account_id":1001833,"reputation":2489,"user_id":1016514,"accept_rate":100,"display_name":"Hans"},"score":0,"creation_date":1610034576,"post_id":65561856,"comment_id":116010560,"body_markdown":"This keeps puzzling me - have you had any new insights?","body":"This keeps puzzling me - have you had any new insights?"},{"owner":{"account_id":3996823,"reputation":302,"user_id":3294082,"display_name":"RookieCookie"},"score":0,"creation_date":1610041479,"post_id":65561856,"comment_id":116013819,"body_markdown":"@Hans To be honest I could not find in time something that would resolve the input issue. As far as I know the BFS approach works perfectly and to my knowledge there will always be some *problematic* input.","body":"@Hans To be honest I could not find in time something that would resolve the input issue. As far as I know the BFS approach works perfectly and to my knowledge there will always be some <i>problematic</i> input."},{"owner":{"account_id":3996823,"reputation":302,"user_id":3294082,"display_name":"RookieCookie"},"score":0,"creation_date":1685393816,"post_id":65561856,"comment_id":134650851,"body_markdown":"@Hans according to my Theory of Computation professor the problem is semi-decidable.","body":"@Hans according to my Theory of Computation professor the problem is semi-decidable."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609760687,"creation_date":1609760687,"answer_id":65562158,"question_id":65561856,"body_markdown":"Since its an assignment I can&#39;t really solve it for you, but I&#39;ll try to give tips:\r\n\r\nBFS sounds great to me as well.\r\n\r\nOne thing that differentiates the BFS from, say, DFS is that you place the elements of level N into the queue (as opposed to stack). Since queue is FIFO, you&#39;ll process the elements of Level N before elements at the level of N + 1. So this algorithm will finish (although might occupy a lot of memory).\r\n\r\nThe interesting part is what exactly you put into the queue and how you organize the traversal algorithm. This is something that I feel you&#39;ve already solved or at least you have a direction. So think about my previous paragraph and hopefully you&#39;ll come to the solution ;)\r\n\r\n","title":"Condition to terminate BFS","body":"<p>Since its an assignment I can't really solve it for you, but I'll try to give tips:</p>\n<p>BFS sounds great to me as well.</p>\n<p>One thing that differentiates the BFS from, say, DFS is that you place the elements of level N into the queue (as opposed to stack). Since queue is FIFO, you'll process the elements of Level N before elements at the level of N + 1. So this algorithm will finish (although might occupy a lot of memory).</p>\n<p>The interesting part is what exactly you put into the queue and how you organize the traversal algorithm. This is something that I feel you've already solved or at least you have a direction. So think about my previous paragraph and hopefully you'll come to the solution ;)</p>\n"},{"tags":[],"owner":{"account_id":3996823,"reputation":302,"user_id":3294082,"display_name":"RookieCookie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1685376663,"creation_date":1685376663,"answer_id":76358817,"question_id":65561856,"body_markdown":"Problem described is semidecidable","title":"Condition to terminate BFS","body":"<p>Problem described is semidecidable</p>\n"}],"owner":{"account_id":3996823,"reputation":302,"user_id":3294082,"display_name":"RookieCookie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76358817,"answer_count":2,"score":1,"last_activity_date":1685376663,"creation_date":1609759290,"question_id":65561856,"body_markdown":"I have this assignment where given a list of tuples where each tuple contains 2 Strings like this : \r\n\r\n- [ (&quot;...&quot;,&quot;...&quot;) , (&quot;...&quot;,&quot;...&quot;) , (&quot;...&quot;,&quot;...&quot;) ... ]\r\n\r\nI have to calculate the **shortest path** which will lead to an *extreme-string*.\r\n\r\nAn *extreme-string* is defined as a tuple of 2 strings where the first string is equal to the second string.\r\n\r\nI know this might sound confusing so let me set an example. \r\n\r\nGiven :\r\n\r\n - The list  [(&quot;0&quot;,&quot;100&quot;) , (&quot;01&quot;,&quot;00&quot;) , (&quot;110&quot;,&quot;11&quot;)] \r\n - With indices 0,1,2 \r\n - The shortest path is : **[2,1,2,0]**\r\n - The *extreme-string* is equal to : &quot;110011100&quot; \r\n\r\nStep by step explanation :\r\n \r\n - **Starting** with tuple of index 2 the initial string is : &quot;110&quot;,&quot;11&quot;\r\n - **Appending** tuple of index 1 next string is : &quot;11001&quot;,&quot;1100&quot;\r\n - **Appending** tuple of index 2 next string is : &quot;11001110&quot;,&quot;110011&quot;\r\n - **Appending** tuple of index 0 final string is : &quot;110011100&quot;,&quot;110011100&quot;\r\n\r\nSo say you begin with tuple (&quot;X&quot;,&quot;Y&quot;) and then you pick tuple (&quot;A&quot;,&quot;B&quot;) then result is (&quot;XA&quot;,&quot;YB&quot;).\r\n\r\nThe way I approached this problem was using BFS **which I already implemented** and sounds right to me but there is an issue I am dealing with. \r\n\r\nIf the input is something like :\r\n\r\n - [(&quot;1&quot;,&quot;111&quot;)] \r\n\r\nthen the **algorithm will never terminate** as it will always be in the state &quot;111...&quot; - &quot;111111111...&quot; .\r\n\r\nChecking for this specific input is not a good idea as there many inputs that can reproduce this result.\r\n\r\nHaving an upper bound for the iterations is also not a good idea because in some cases a finite result may actually exist after the iterations bound.\r\n\r\nAny insight would be really useful.","title":"Condition to terminate BFS","body":"<p>I have this assignment where given a list of tuples where each tuple contains 2 Strings like this :</p>\n<ul>\n<li>[ (&quot;...&quot;,&quot;...&quot;) , (&quot;...&quot;,&quot;...&quot;) , (&quot;...&quot;,&quot;...&quot;) ... ]</li>\n</ul>\n<p>I have to calculate the <strong>shortest path</strong> which will lead to an <em>extreme-string</em>.</p>\n<p>An <em>extreme-string</em> is defined as a tuple of 2 strings where the first string is equal to the second string.</p>\n<p>I know this might sound confusing so let me set an example.</p>\n<p>Given :</p>\n<ul>\n<li>The list  [(&quot;0&quot;,&quot;100&quot;) , (&quot;01&quot;,&quot;00&quot;) , (&quot;110&quot;,&quot;11&quot;)]</li>\n<li>With indices 0,1,2</li>\n<li>The shortest path is : <strong>[2,1,2,0]</strong></li>\n<li>The <em>extreme-string</em> is equal to : &quot;110011100&quot;</li>\n</ul>\n<p>Step by step explanation :</p>\n<ul>\n<li><strong>Starting</strong> with tuple of index 2 the initial string is : &quot;110&quot;,&quot;11&quot;</li>\n<li><strong>Appending</strong> tuple of index 1 next string is : &quot;11001&quot;,&quot;1100&quot;</li>\n<li><strong>Appending</strong> tuple of index 2 next string is : &quot;11001110&quot;,&quot;110011&quot;</li>\n<li><strong>Appending</strong> tuple of index 0 final string is : &quot;110011100&quot;,&quot;110011100&quot;</li>\n</ul>\n<p>So say you begin with tuple (&quot;X&quot;,&quot;Y&quot;) and then you pick tuple (&quot;A&quot;,&quot;B&quot;) then result is (&quot;XA&quot;,&quot;YB&quot;).</p>\n<p>The way I approached this problem was using BFS <strong>which I already implemented</strong> and sounds right to me but there is an issue I am dealing with.</p>\n<p>If the input is something like :</p>\n<ul>\n<li>[(&quot;1&quot;,&quot;111&quot;)]</li>\n</ul>\n<p>then the <strong>algorithm will never terminate</strong> as it will always be in the state &quot;111...&quot; - &quot;111111111...&quot; .</p>\n<p>Checking for this specific input is not a good idea as there many inputs that can reproduce this result.</p>\n<p>Having an upper bound for the iterations is also not a good idea because in some cases a finite result may actually exist after the iterations bound.</p>\n<p>Any insight would be really useful.</p>\n"},{"tags":["java","api","business-intelligence","business-objects"],"comments":[{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":0,"creation_date":1351899012,"post_id":13203828,"comment_id":17978327,"body_markdown":"I found the answer to this, so if you&#39;re looking for the answer, just wait a while for me to post it :)","body":"I found the answer to this, so if you&#39;re looking for the answer, just wait a while for me to post it :)"}],"answers":[{"tags":[],"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1352731507,"creation_date":1352502223,"answer_id":13317317,"question_id":13203828,"body_markdown":"The problem this line:\r\n\r\n    RetrieveBinaryView retBinView = new RetrieveBinaryView();\r\n\r\nSo I don&#39;t know how this all works, but this is what you&#39;re looking for:\r\n\r\n    ViewSupport viewSupport = ViewSupport.Factory.newInstance();\r\n    viewSupport.setOutputFormat(OutputFormatType.INT_XML);\r\n    viewSupport.setViewType(ViewType.INT_CHARACTER);\r\n    viewSupport.setViewMode(ViewModeType.INT_REPORT_PAGE);\r\n\r\n    RetrieveData retBOData = RetrieveData.Factory.newInstance();\r\n\r\n    RetrieveXMLView retXMLView = RetrieveXMLView.Factory.newInstance();\r\n    retXMLView.setViewSupport(viewSupport);\r\n    retBOData.setRetrieveView(retXMLView);\r\n    DocumentInformation boDocInfo = getDocInfo(actions, retBOData);\r\n    XMLView bView = (XMLView) boDocInfo.getView();\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream(bView.getContentLength());\r\n    bView.getContent().save(out);\r\n    byte[] reportBytes = out.toByteArray();\r\n    String reportInString = new String(reportBytes);\r\n\r\nHowever, the `reportInString` here is XML representing the report. So what I did was encapsulate what I want out of the report with a prefix and suffix. So, for example, let&#39;s say I encapsulate it with `@#$ThisIsWhatYouWant-` and `-End$#@`, then I would do the following:\r\n\r\n    Pattern patt = Pattern.compile(&quot;(?i)@#$ThisIsWhatYouWant-(.*?)-End$#@&quot;, Pattern.DOTALL);\r\n    Matcher match = patt.matcher(reportInString);\r\n    if (match.find()) {\r\n      return match.group(1);\r\n    }\r\n    return null;\r\n\r\nP.S. This should work for both 3.x and 4.0 BO Servers.","title":"How to run and download a BusinessObjects report as text","body":"<p>The problem this line:</p>\n\n<pre><code>RetrieveBinaryView retBinView = new RetrieveBinaryView();\n</code></pre>\n\n<p>So I don't know how this all works, but this is what you're looking for:</p>\n\n<pre><code>ViewSupport viewSupport = ViewSupport.Factory.newInstance();\nviewSupport.setOutputFormat(OutputFormatType.INT_XML);\nviewSupport.setViewType(ViewType.INT_CHARACTER);\nviewSupport.setViewMode(ViewModeType.INT_REPORT_PAGE);\n\nRetrieveData retBOData = RetrieveData.Factory.newInstance();\n\nRetrieveXMLView retXMLView = RetrieveXMLView.Factory.newInstance();\nretXMLView.setViewSupport(viewSupport);\nretBOData.setRetrieveView(retXMLView);\nDocumentInformation boDocInfo = getDocInfo(actions, retBOData);\nXMLView bView = (XMLView) boDocInfo.getView();\nByteArrayOutputStream out = new ByteArrayOutputStream(bView.getContentLength());\nbView.getContent().save(out);\nbyte[] reportBytes = out.toByteArray();\nString reportInString = new String(reportBytes);\n</code></pre>\n\n<p>However, the <code>reportInString</code> here is XML representing the report. So what I did was encapsulate what I want out of the report with a prefix and suffix. So, for example, let's say I encapsulate it with <code>@#$ThisIsWhatYouWant-</code> and <code>-End$#@</code>, then I would do the following:</p>\n\n<pre><code>Pattern patt = Pattern.compile(\"(?i)@#$ThisIsWhatYouWant-(.*?)-End$#@\", Pattern.DOTALL);\nMatcher match = patt.matcher(reportInString);\nif (match.find()) {\n  return match.group(1);\n}\nreturn null;\n</code></pre>\n\n<p>P.S. This should work for both 3.x and 4.0 BO Servers.</p>\n"}],"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13317317,"answer_count":1,"score":0,"last_activity_date":1685376620,"creation_date":1351894908,"question_id":13203828,"body_markdown":"**My Question:** How do you run and download a report to text? In BusinessObjects, you can download reports as a plain text file. The documentation for the API indicates that you can download reports in various formats. How is this accomplished?\r\n\r\n**How to download them as PDF:** In [the documentation][1], they describe how to download them as a PDF file:\r\n\r\n    ViewSupport pdfViewSupport = new ViewSupport();\r\n    pdfViewSupport.setOutputFormat(OutputFormatType.PDF);\r\n    pdfViewSupport.setViewType(ViewType.BINARY);\r\n    pdfViewSupport.setViewMode(ViewModeType.DOCUMENT);\r\n    \r\n    RetrieveBinaryView retBinView = new RetrieveBinaryView();\r\n    retBinView.setViewSupport(pdfViewSupport);\r\n    \r\n    RetrieveData retBOData = new RetrieveData();\r\n    retBOData.setRetrieveView(retBinView);\r\n    \r\n    DocumentInformation docInfo = boReportEngine.getDocumentInformation(struid, null, null, null, retBOData);\r\n    BinaryView myBOView = (BinaryView) boDocInfo.getView();\r\n    byte[] docContents = myBOView.getContent();\r\n\r\nWhen I change:\r\n\r\n    pdfViewSupport.setOutputFormat(OutputFormatType.PDF);\r\n    pdfViewSupport.setViewType(ViewType.BINARY);\r\n    pdfViewSupport.setViewMode(ViewModeType.DOCUMENT);\r\n\r\nto\r\n\r\n    pdfViewSupport.setOutputFormat(OutputFormatType.INT_HTML);\r\n    pdfViewSupport.setViewType(ViewType.INT_CHARACTER);\r\n    pdfViewSupport.setViewMode(ViewModeType.INT_REPORT_PAGE);\r\n\r\nI get the following error:\r\n\r\n&gt; org.apache.axis2.AxisFault: Binary view of such a document should be only requested with the use of ViewType.BINARY (WRE 01151)\r\n\r\nThe funny thing is that I set the ViewType to be INT_CHARACTER, not BINARY...\r\n\r\nIt breaks on the line:\r\n\r\n    DocumentInformation docInfo = boReportEngine.getDocumentInformation(struid, null, null, null, retBOData);\r\n\r\n**What I&#39;m trying to do:** It&#39;s really complicated, but I basically want to have a report which returns a single row and just prints that on the report (nothing else) and then download that report as text because the text is xml which I use in another program.\r\n\r\nAny help would be great!\r\n\r\n---\r\n\r\n**Note:** I&#39;m running on a 3.2 server, but we&#39;ll be upgrading to 4.0 pretty soon. So if the solution could work for both versions, that&#39;d be awesome, otherwise a v4 and v3.x solution would be awesome as well :)\r\n\r\n  [1]: http://help.sap.com/javadocs/boe/xi/ws/en/com/businessobjects/dsws/reportengine/DocumentInformation.html","title":"How to run and download a BusinessObjects report as text","body":"<p><strong>My Question:</strong> How do you run and download a report to text? In BusinessObjects, you can download reports as a plain text file. The documentation for the API indicates that you can download reports in various formats. How is this accomplished?</p>\n<p><strong>How to download them as PDF:</strong> In <a href=\"http://help.sap.com/javadocs/boe/xi/ws/en/com/businessobjects/dsws/reportengine/DocumentInformation.html\" rel=\"nofollow noreferrer\">the documentation</a>, they describe how to download them as a PDF file:</p>\n<pre><code>ViewSupport pdfViewSupport = new ViewSupport();\npdfViewSupport.setOutputFormat(OutputFormatType.PDF);\npdfViewSupport.setViewType(ViewType.BINARY);\npdfViewSupport.setViewMode(ViewModeType.DOCUMENT);\n\nRetrieveBinaryView retBinView = new RetrieveBinaryView();\nretBinView.setViewSupport(pdfViewSupport);\n\nRetrieveData retBOData = new RetrieveData();\nretBOData.setRetrieveView(retBinView);\n\nDocumentInformation docInfo = boReportEngine.getDocumentInformation(struid, null, null, null, retBOData);\nBinaryView myBOView = (BinaryView) boDocInfo.getView();\nbyte[] docContents = myBOView.getContent();\n</code></pre>\n<p>When I change:</p>\n<pre><code>pdfViewSupport.setOutputFormat(OutputFormatType.PDF);\npdfViewSupport.setViewType(ViewType.BINARY);\npdfViewSupport.setViewMode(ViewModeType.DOCUMENT);\n</code></pre>\n<p>to</p>\n<pre><code>pdfViewSupport.setOutputFormat(OutputFormatType.INT_HTML);\npdfViewSupport.setViewType(ViewType.INT_CHARACTER);\npdfViewSupport.setViewMode(ViewModeType.INT_REPORT_PAGE);\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>org.apache.axis2.AxisFault: Binary view of such a document should be only requested with the use of ViewType.BINARY (WRE 01151)</p>\n</blockquote>\n<p>The funny thing is that I set the ViewType to be INT_CHARACTER, not BINARY...</p>\n<p>It breaks on the line:</p>\n<pre><code>DocumentInformation docInfo = boReportEngine.getDocumentInformation(struid, null, null, null, retBOData);\n</code></pre>\n<p><strong>What I'm trying to do:</strong> It's really complicated, but I basically want to have a report which returns a single row and just prints that on the report (nothing else) and then download that report as text because the text is xml which I use in another program.</p>\n<p>Any help would be great!</p>\n<hr />\n<p><strong>Note:</strong> I'm running on a 3.2 server, but we'll be upgrading to 4.0 pretty soon. So if the solution could work for both versions, that'd be awesome, otherwise a v4 and v3.x solution would be awesome as well :)</p>\n"},{"tags":["java","spring","elasticsearch","elastic-stack"],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":1996,"user_id":10685211,"display_name":"Musab Dogan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685370740,"creation_date":1685370740,"answer_id":76358194,"question_id":76357334,"body_markdown":"You should add the nested query inside of a must_not, it should work:\r\n\r\n    GET test_hr/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n            {\r\n              &quot;term&quot;: {\r\n                &quot;companyId&quot;: 3211002\r\n              }\r\n            },\r\n            {\r\n              &quot;bool&quot;: {\r\n                &quot;should&quot;: [\r\n                  {\r\n                    &quot;term&quot;: {\r\n                      &quot;hrId&quot;: 1005031\r\n                    }\r\n                  },\r\n                  {\r\n                    &quot;terms&quot;: {\r\n                      &quot;manager&quot;: [\r\n                        1005031\r\n                      ]\r\n                    }\r\n                  },\r\n                  {\r\n                    &quot;bool&quot;: {\r\n                      &quot;must&quot;: [\r\n                        {\r\n                          &quot;exists&quot;: {\r\n                            &quot;field&quot;: &quot;manager&quot;\r\n                          }\r\n                        },\r\n                        {\r\n                          &quot;terms&quot;: {\r\n                            &quot;manager&quot;: []\r\n                          }\r\n                        }\r\n                      ]\r\n                    }\r\n                  },\r\n                  {\r\n                    &quot;bool&quot;: {\r\n                      &quot;must_not&quot;: {\r\n                        &quot;exists&quot;: {\r\n                          &quot;field&quot;: &quot;manager&quot;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;minimum_should_match&quot;: &quot;1&quot;\r\n              }\r\n            },\r\n            {\r\n              &quot;terms&quot;: {\r\n                &quot;status&quot;: [\r\n                  &quot;0&quot;\r\n                ]\r\n              }\r\n            },\r\n            {\r\n              &quot;bool&quot;: {\r\n                &quot;should&quot;: [\r\n                  {\r\n                    &quot;bool&quot;: {\r\n                      &quot;must_not&quot;: {\r\n                        &quot;nested&quot;: {\r\n                          &quot;path&quot;: &quot;approvals&quot;,\r\n                          &quot;query&quot;: {\r\n                            &quot;exists&quot;: {\r\n                              &quot;field&quot;: &quot;approvals&quot;\r\n                            }\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;minimum_should_match&quot;: &quot;1&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      &quot;sort&quot;: [\r\n        {\r\n          &quot;createTime&quot;: {\r\n            &quot;order&quot;: &quot;desc&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n\r\n\r\n\r\ntest\r\n----\r\n\r\n    PUT test_hr\r\n    {\r\n      &quot;mappings&quot;: {\r\n        &quot;properties&quot;: {\r\n          &quot;approvals&quot;:{\r\n            &quot;type&quot;: &quot;nested&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    PUT test_hr/_doc/501\r\n    {\r\n      &quot;id&quot;: 501,\r\n      &quot;companyId&quot;: 3211002,\r\n      &quot;hrId&quot;: 1005031,\r\n      &quot;formId&quot;: 501,\r\n      &quot;requirementId&quot;: &quot;Test0004&quot;,\r\n      &quot;positionTitle&quot;: &quot;招聘需求004&quot;,\r\n      &quot;positionProperties&quot;: 1,\r\n      &quot;requirementCount&quot;: 3,\r\n      &quot;requirementType&quot;: 1,\r\n      &quot;reportTo&quot;: 1004651,\r\n      &quot;requirementTeam&quot;: 188384773,\r\n      &quot;requirementStatus&quot;: 0,\r\n      &quot;manager&quot;: [\r\n        1005031\r\n      ],\r\n      &quot;status&quot;: 0,\r\n      &quot;createTime&quot;: 1685350126881,\r\n      &quot;hasAttachment&quot;: false\r\n    }\r\n    \r\n    PUT test_hr/_doc/498\r\n    {\r\n      &quot;id&quot;: 498,\r\n      &quot;companyId&quot;: 3211002,\r\n      &quot;hrId&quot;: 1004483,\r\n      &quot;formId&quot;: 498,\r\n      &quot;requirementId&quot;: &quot;Test0002&quot;,\r\n      &quot;positionTitle&quot;: &quot;审批测试1&quot;,\r\n      &quot;positionProperties&quot;: 2,\r\n      &quot;requirementCount&quot;: 2,\r\n      &quot;requirementStatus&quot;: 0,\r\n      &quot;status&quot;: 0,\r\n      &quot;createTime&quot;: 1685346243403,\r\n      &quot;hasAttachment&quot;: false,\r\n      &quot;approvals&quot;: [\r\n        {\r\n          &quot;approvalStatus&quot;: 1,\r\n          &quot;nodes&quot;: [\r\n            {\r\n              &quot;approvers&quot;: [\r\n                {\r\n                  &quot;approverStatus&quot;: 3,\r\n                  &quot;id&quot;: 1005031\r\n                }\r\n              ],\r\n              &quot;nodeStatus&quot;: 3\r\n            },\r\n            {\r\n              &quot;approvers&quot;: [\r\n                {\r\n                  &quot;approverStatus&quot;: 1,\r\n                  &quot;id&quot;: 1004789\r\n                },\r\n                {\r\n                  &quot;approverStatus&quot;: 1,\r\n                  &quot;id&quot;: 1004483\r\n                }\r\n              ],\r\n              &quot;nodeStatus&quot;: 1\r\n            }\r\n          ],\r\n          &quot;createTime&quot;: &quot;2023-05-29T15:44:07+08:00&quot;,\r\n          &quot;hrId&quot;: 1004483,\r\n          &quot;id&quot;: 597\r\n        }\r\n      ]\r\n    }\r\n\r\n---\r\n\r\n    #not working\r\n    GET test_hr/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must_not&quot;: [\r\n            {\r\n              &quot;exists&quot;: {\r\n                &quot;field&quot;: &quot;approvals&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n    \r\n    #working\r\n    GET test_hr/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must_not&quot;: [\r\n            {\r\n              &quot;nested&quot;: {\r\n                &quot;path&quot;: &quot;approvals&quot;,\r\n                &quot;query&quot;: {\r\n                  &quot;exists&quot;: {\r\n                    &quot;field&quot;: &quot;approvals&quot;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jmQQd.png","title":"How to get the right data?","body":"<p>You should add the nested query inside of a must_not, it should work:</p>\n<pre><code>GET test_hr/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;companyId&quot;: 3211002\n          }\n        },\n        {\n          &quot;bool&quot;: {\n            &quot;should&quot;: [\n              {\n                &quot;term&quot;: {\n                  &quot;hrId&quot;: 1005031\n                }\n              },\n              {\n                &quot;terms&quot;: {\n                  &quot;manager&quot;: [\n                    1005031\n                  ]\n                }\n              },\n              {\n                &quot;bool&quot;: {\n                  &quot;must&quot;: [\n                    {\n                      &quot;exists&quot;: {\n                        &quot;field&quot;: &quot;manager&quot;\n                      }\n                    },\n                    {\n                      &quot;terms&quot;: {\n                        &quot;manager&quot;: []\n                      }\n                    }\n                  ]\n                }\n              },\n              {\n                &quot;bool&quot;: {\n                  &quot;must_not&quot;: {\n                    &quot;exists&quot;: {\n                      &quot;field&quot;: &quot;manager&quot;\n                    }\n                  }\n                }\n              }\n            ],\n            &quot;minimum_should_match&quot;: &quot;1&quot;\n          }\n        },\n        {\n          &quot;terms&quot;: {\n            &quot;status&quot;: [\n              &quot;0&quot;\n            ]\n          }\n        },\n        {\n          &quot;bool&quot;: {\n            &quot;should&quot;: [\n              {\n                &quot;bool&quot;: {\n                  &quot;must_not&quot;: {\n                    &quot;nested&quot;: {\n                      &quot;path&quot;: &quot;approvals&quot;,\n                      &quot;query&quot;: {\n                        &quot;exists&quot;: {\n                          &quot;field&quot;: &quot;approvals&quot;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            ],\n            &quot;minimum_should_match&quot;: &quot;1&quot;\n          }\n        }\n      ]\n    }\n  },\n  &quot;sort&quot;: [\n    {\n      &quot;createTime&quot;: {\n        &quot;order&quot;: &quot;desc&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<h2>test</h2>\n<pre><code>PUT test_hr\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;approvals&quot;:{\n        &quot;type&quot;: &quot;nested&quot;\n      }\n    }\n  }\n}\n\nPUT test_hr/_doc/501\n{\n  &quot;id&quot;: 501,\n  &quot;companyId&quot;: 3211002,\n  &quot;hrId&quot;: 1005031,\n  &quot;formId&quot;: 501,\n  &quot;requirementId&quot;: &quot;Test0004&quot;,\n  &quot;positionTitle&quot;: &quot;招聘需求004&quot;,\n  &quot;positionProperties&quot;: 1,\n  &quot;requirementCount&quot;: 3,\n  &quot;requirementType&quot;: 1,\n  &quot;reportTo&quot;: 1004651,\n  &quot;requirementTeam&quot;: 188384773,\n  &quot;requirementStatus&quot;: 0,\n  &quot;manager&quot;: [\n    1005031\n  ],\n  &quot;status&quot;: 0,\n  &quot;createTime&quot;: 1685350126881,\n  &quot;hasAttachment&quot;: false\n}\n\nPUT test_hr/_doc/498\n{\n  &quot;id&quot;: 498,\n  &quot;companyId&quot;: 3211002,\n  &quot;hrId&quot;: 1004483,\n  &quot;formId&quot;: 498,\n  &quot;requirementId&quot;: &quot;Test0002&quot;,\n  &quot;positionTitle&quot;: &quot;审批测试1&quot;,\n  &quot;positionProperties&quot;: 2,\n  &quot;requirementCount&quot;: 2,\n  &quot;requirementStatus&quot;: 0,\n  &quot;status&quot;: 0,\n  &quot;createTime&quot;: 1685346243403,\n  &quot;hasAttachment&quot;: false,\n  &quot;approvals&quot;: [\n    {\n      &quot;approvalStatus&quot;: 1,\n      &quot;nodes&quot;: [\n        {\n          &quot;approvers&quot;: [\n            {\n              &quot;approverStatus&quot;: 3,\n              &quot;id&quot;: 1005031\n            }\n          ],\n          &quot;nodeStatus&quot;: 3\n        },\n        {\n          &quot;approvers&quot;: [\n            {\n              &quot;approverStatus&quot;: 1,\n              &quot;id&quot;: 1004789\n            },\n            {\n              &quot;approverStatus&quot;: 1,\n              &quot;id&quot;: 1004483\n            }\n          ],\n          &quot;nodeStatus&quot;: 1\n        }\n      ],\n      &quot;createTime&quot;: &quot;2023-05-29T15:44:07+08:00&quot;,\n      &quot;hrId&quot;: 1004483,\n      &quot;id&quot;: 597\n    }\n  ]\n}\n</code></pre>\n<hr />\n<pre><code>#not working\nGET test_hr/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must_not&quot;: [\n        {\n          &quot;exists&quot;: {\n            &quot;field&quot;: &quot;approvals&quot;\n          }\n        }\n      ]\n    }\n  }\n}\n\n#working\nGET test_hr/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must_not&quot;: [\n        {\n          &quot;nested&quot;: {\n            &quot;path&quot;: &quot;approvals&quot;,\n            &quot;query&quot;: {\n              &quot;exists&quot;: {\n                &quot;field&quot;: &quot;approvals&quot;\n              }\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jmQQd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmQQd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28272862,"reputation":25,"user_id":21615776,"display_name":"ZhuXJun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76358194,"answer_count":1,"score":0,"last_activity_date":1685376495,"creation_date":1685362869,"question_id":76357334,"body_markdown":"I have this ElasticSearch Query for ES ,version:2.2:\r\n\r\n```json\r\n{\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n                {\r\n                     &quot;term&quot;: {\r\n                        &quot;companyId&quot;: 3211002\r\n                    }\r\n                },\r\n                {\r\n                    &quot;bool&quot;: {\r\n                        &quot;should&quot;: [\r\n                            {\r\n                                &quot;term&quot;: {\r\n                                    &quot;hrId&quot;: 1005031\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;terms&quot;: {\r\n                                    &quot;manager&quot;: [\r\n                                        1005031\r\n                                    ]\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;bool&quot;: {\r\n                                    &quot;must&quot;: [\r\n                                        {\r\n                                            &quot;exists&quot;: {\r\n                                                &quot;field&quot;: &quot;manager&quot;\r\n                                            }\r\n                                        },\r\n                                        {\r\n                                            &quot;terms&quot;: {\r\n                                                &quot;manager&quot;: []\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;bool&quot;: {\r\n                                    &quot;must_not&quot;: {\r\n                                        &quot;exists&quot;: {\r\n                                            &quot;field&quot;: &quot;manager&quot;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        ],\r\n                        &quot;minimum_should_match&quot;: &quot;1&quot;\r\n                    }\r\n                },\r\n                {\r\n                    &quot;terms&quot;: {\r\n                        &quot;status&quot;: [\r\n                            &quot;0&quot;\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    &quot;bool&quot;: {\r\n                        &quot;should&quot;: [\r\n                            {\r\n                                &quot;bool&quot;: {\r\n                                    &quot;must_not&quot;: {\r\n                                        &quot;exists&quot;: {\r\n                                            &quot;field&quot;: &quot;approvals&quot;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;nested&quot;: {\r\n                                    &quot;query&quot;: {\r\n                                        &quot;terms&quot;: {\r\n                                            &quot;approvals.approvalStatus&quot;: [\r\n                                                1\r\n                                            ]\r\n                                        }\r\n                                    },\r\n                                    &quot;path&quot;: &quot;approvals&quot;\r\n                                }\r\n                            }\r\n                        ],\r\n                        &quot;minimum_should_match&quot;: &quot;1&quot;\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    &quot;sort&quot;: [\r\n        {\r\n            &quot;createTime&quot;: {\r\n                &quot;order&quot;: &quot;desc&quot;\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nBut,ES gives me back this:\r\n\r\n```json\r\n{\r\n    &quot;hits&quot;: {\r\n        &quot;total&quot;: 2,\r\n        &quot;max_score&quot;: null,\r\n        &quot;hits&quot;: [\r\n            {\r\n                &quot;_index&quot;: &quot;recruitment&quot;,\r\n                &quot;_type&quot;: &quot;requirement&quot;,\r\n                &quot;_id&quot;: &quot;501&quot;,\r\n                &quot;_score&quot;: null,\r\n                &quot;_source&quot;: {\r\n                    &quot;id&quot;: 501,\r\n                    &quot;companyId&quot;: 3211002,\r\n                    &quot;hrId&quot;: 1005031,\r\n                    &quot;formId&quot;: 501,\r\n                    &quot;requirementId&quot;: &quot;Test0004&quot;,\r\n                    &quot;positionTitle&quot;: &quot;招聘需求004&quot;,\r\n                    &quot;positionProperties&quot;: 1,\r\n                    &quot;requirementCount&quot;: 3,\r\n                    &quot;requirementType&quot;: 1,\r\n                    &quot;reportTo&quot;: 1004651,\r\n                    &quot;requirementTeam&quot;: 188384773,\r\n                    &quot;requirementStatus&quot;: 0,\r\n                    &quot;manager&quot;: [\r\n                        1005031\r\n                    ],\r\n                    &quot;status&quot;: 0,\r\n                    &quot;createTime&quot;: 1685350126881,\r\n                    &quot;hasAttachment&quot;: false\r\n                },\r\n                &quot;sort&quot;: [\r\n                    1685350126881\r\n                ]\r\n            },\r\n            {\r\n                &quot;_index&quot;: &quot;recruitment&quot;,\r\n                &quot;_type&quot;: &quot;requirement&quot;,\r\n                &quot;_id&quot;: &quot;498&quot;,\r\n                &quot;_score&quot;: null,\r\n                &quot;_source&quot;: {\r\n                    &quot;id&quot;: 498,\r\n                    &quot;companyId&quot;: 3211002,\r\n                    &quot;hrId&quot;: 1004483,\r\n                    &quot;formId&quot;: 498,\r\n                    &quot;requirementId&quot;: &quot;Test0002&quot;,\r\n                    &quot;positionTitle&quot;: &quot;审批测试1&quot;,\r\n                    &quot;positionProperties&quot;: 2,\r\n                    &quot;requirementCount&quot;: 2,\r\n                    &quot;requirementStatus&quot;: 0,\r\n                    &quot;status&quot;: 0,\r\n                    &quot;createTime&quot;: 1685346243403,\r\n                    &quot;hasAttachment&quot;: false,\r\n                    &quot;approvals&quot;: [\r\n                        {\r\n                            &quot;approvalStatus&quot;: 1,\r\n                            &quot;nodes&quot;: [\r\n                                {\r\n                                    &quot;approvers&quot;: [\r\n                                        {\r\n                                            &quot;approverStatus&quot;: 3,\r\n                                            &quot;id&quot;: 1005031\r\n                                        }\r\n                                    ],\r\n                                    &quot;nodeStatus&quot;: 3\r\n                                },\r\n                                {\r\n                                    &quot;approvers&quot;: [\r\n                                        {\r\n                                            &quot;approverStatus&quot;: 1,\r\n                                            &quot;id&quot;: 1004789\r\n                                        },\r\n                                        {\r\n                                            &quot;approverStatus&quot;: 1,\r\n                                            &quot;id&quot;: 1004483\r\n                                        }\r\n                                    ],\r\n                                    &quot;nodeStatus&quot;: 1\r\n                                }\r\n                            ],\r\n                            &quot;createTime&quot;: &quot;2023-05-29T15:44:07+08:00&quot;,\r\n                            &quot;hrId&quot;: 1004483,\r\n                            &quot;id&quot;: 597\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;sort&quot;: [\r\n                    1685346243403\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t understand why ID = 498 is returned.\r\n\r\nMy goal is to filter out id = 498, I don&#39;t know how to do that.","title":"How to get the right data?","body":"<p>I have this ElasticSearch Query for ES ,version:2.2:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                     &quot;term&quot;: {\n                        &quot;companyId&quot;: 3211002\n                    }\n                },\n                {\n                    &quot;bool&quot;: {\n                        &quot;should&quot;: [\n                            {\n                                &quot;term&quot;: {\n                                    &quot;hrId&quot;: 1005031\n                                }\n                            },\n                            {\n                                &quot;terms&quot;: {\n                                    &quot;manager&quot;: [\n                                        1005031\n                                    ]\n                                }\n                            },\n                            {\n                                &quot;bool&quot;: {\n                                    &quot;must&quot;: [\n                                        {\n                                            &quot;exists&quot;: {\n                                                &quot;field&quot;: &quot;manager&quot;\n                                            }\n                                        },\n                                        {\n                                            &quot;terms&quot;: {\n                                                &quot;manager&quot;: []\n                                            }\n                                        }\n                                    ]\n                                }\n                            },\n                            {\n                                &quot;bool&quot;: {\n                                    &quot;must_not&quot;: {\n                                        &quot;exists&quot;: {\n                                            &quot;field&quot;: &quot;manager&quot;\n                                        }\n                                    }\n                                }\n                            }\n                        ],\n                        &quot;minimum_should_match&quot;: &quot;1&quot;\n                    }\n                },\n                {\n                    &quot;terms&quot;: {\n                        &quot;status&quot;: [\n                            &quot;0&quot;\n                        ]\n                    }\n                },\n                {\n                    &quot;bool&quot;: {\n                        &quot;should&quot;: [\n                            {\n                                &quot;bool&quot;: {\n                                    &quot;must_not&quot;: {\n                                        &quot;exists&quot;: {\n                                            &quot;field&quot;: &quot;approvals&quot;\n                                        }\n                                    }\n                                }\n                            },\n                            {\n                                &quot;nested&quot;: {\n                                    &quot;query&quot;: {\n                                        &quot;terms&quot;: {\n                                            &quot;approvals.approvalStatus&quot;: [\n                                                1\n                                            ]\n                                        }\n                                    },\n                                    &quot;path&quot;: &quot;approvals&quot;\n                                }\n                            }\n                        ],\n                        &quot;minimum_should_match&quot;: &quot;1&quot;\n                    }\n                }\n            ]\n        }\n    },\n    &quot;sort&quot;: [\n        {\n            &quot;createTime&quot;: {\n                &quot;order&quot;: &quot;desc&quot;\n            }\n        }\n    ]\n}\n</code></pre>\n<p>But,ES gives me back this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;hits&quot;: {\n        &quot;total&quot;: 2,\n        &quot;max_score&quot;: null,\n        &quot;hits&quot;: [\n            {\n                &quot;_index&quot;: &quot;recruitment&quot;,\n                &quot;_type&quot;: &quot;requirement&quot;,\n                &quot;_id&quot;: &quot;501&quot;,\n                &quot;_score&quot;: null,\n                &quot;_source&quot;: {\n                    &quot;id&quot;: 501,\n                    &quot;companyId&quot;: 3211002,\n                    &quot;hrId&quot;: 1005031,\n                    &quot;formId&quot;: 501,\n                    &quot;requirementId&quot;: &quot;Test0004&quot;,\n                    &quot;positionTitle&quot;: &quot;招聘需求004&quot;,\n                    &quot;positionProperties&quot;: 1,\n                    &quot;requirementCount&quot;: 3,\n                    &quot;requirementType&quot;: 1,\n                    &quot;reportTo&quot;: 1004651,\n                    &quot;requirementTeam&quot;: 188384773,\n                    &quot;requirementStatus&quot;: 0,\n                    &quot;manager&quot;: [\n                        1005031\n                    ],\n                    &quot;status&quot;: 0,\n                    &quot;createTime&quot;: 1685350126881,\n                    &quot;hasAttachment&quot;: false\n                },\n                &quot;sort&quot;: [\n                    1685350126881\n                ]\n            },\n            {\n                &quot;_index&quot;: &quot;recruitment&quot;,\n                &quot;_type&quot;: &quot;requirement&quot;,\n                &quot;_id&quot;: &quot;498&quot;,\n                &quot;_score&quot;: null,\n                &quot;_source&quot;: {\n                    &quot;id&quot;: 498,\n                    &quot;companyId&quot;: 3211002,\n                    &quot;hrId&quot;: 1004483,\n                    &quot;formId&quot;: 498,\n                    &quot;requirementId&quot;: &quot;Test0002&quot;,\n                    &quot;positionTitle&quot;: &quot;审批测试1&quot;,\n                    &quot;positionProperties&quot;: 2,\n                    &quot;requirementCount&quot;: 2,\n                    &quot;requirementStatus&quot;: 0,\n                    &quot;status&quot;: 0,\n                    &quot;createTime&quot;: 1685346243403,\n                    &quot;hasAttachment&quot;: false,\n                    &quot;approvals&quot;: [\n                        {\n                            &quot;approvalStatus&quot;: 1,\n                            &quot;nodes&quot;: [\n                                {\n                                    &quot;approvers&quot;: [\n                                        {\n                                            &quot;approverStatus&quot;: 3,\n                                            &quot;id&quot;: 1005031\n                                        }\n                                    ],\n                                    &quot;nodeStatus&quot;: 3\n                                },\n                                {\n                                    &quot;approvers&quot;: [\n                                        {\n                                            &quot;approverStatus&quot;: 1,\n                                            &quot;id&quot;: 1004789\n                                        },\n                                        {\n                                            &quot;approverStatus&quot;: 1,\n                                            &quot;id&quot;: 1004483\n                                        }\n                                    ],\n                                    &quot;nodeStatus&quot;: 1\n                                }\n                            ],\n                            &quot;createTime&quot;: &quot;2023-05-29T15:44:07+08:00&quot;,\n                            &quot;hrId&quot;: 1004483,\n                            &quot;id&quot;: 597\n                        }\n                    ]\n                },\n                &quot;sort&quot;: [\n                    1685346243403\n                ]\n            }\n        ]\n    }\n}\n</code></pre>\n<p>I don't understand why ID = 498 is returned.</p>\n<p>My goal is to filter out id = 498, I don't know how to do that.</p>\n"},{"tags":["java","httpclient","apache-commons-httpclient"],"comments":[{"owner":{"account_id":6094220,"reputation":509,"user_id":4755567,"accept_rate":23,"display_name":"TommyQu"},"score":0,"creation_date":1684479657,"post_id":76286457,"comment_id":134526245,"body_markdown":"@skomisa removed those words from my question","body":"@skomisa removed those words from my question"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1684536620,"post_id":76286457,"comment_id":134536800,"body_markdown":"Update your question to clarify exactly which implementation of `HttpClient` you are referring to. The link in your question is pointing to documentation from 2008, and its [Features section](https://hc.apache.org/httpclient-legacy/features.html) states _&quot;**The Commons HttpClient project is now end of life, and is no longer being developed**. It has been replaced by the Apache HttpComponents project in its HttpClient and HttpCore modules, which offer better performance and more flexibility.&quot;_ The JDK has also had an `HTTPClient` since JDK 11, though I assume you are not referring to that.","body":"Update your question to clarify exactly which implementation of <code>HttpClient</code> you are referring to. The link in your question is pointing to documentation from 2008, and its <a href=\"https://hc.apache.org/httpclient-legacy/features.html\" rel=\"nofollow noreferrer\">Features section</a> states <i>&quot;<b>The Commons HttpClient project is now end of life, and is no longer being developed</b>. It has been replaced by the Apache HttpComponents project in its HttpClient and HttpCore modules, which offer better performance and more flexibility.&quot;</i> The JDK has also had an <code>HTTPClient</code> since JDK 11, though I assume you are not referring to that."}],"answers":[{"tags":[],"owner":{"account_id":5271912,"reputation":55,"user_id":4209925,"display_name":"rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684478726,"creation_date":1684478726,"answer_id":76286624,"question_id":76286457,"body_markdown":"\r\nIt depends on the specific scenario. The TCP three-way handshake is time-consuming, so you should try to use the same TCP connection, also known as a persistent connection or a long connection. In some scenarios, if you don&#39;t need to send any further requests based on this socket after sending one request, you can immediately close the connection.","title":"Should we releaseConnection for org.apache.commons.httpclient after each call?","body":"<p>It depends on the specific scenario. The TCP three-way handshake is time-consuming, so you should try to use the same TCP connection, also known as a persistent connection or a long connection. In some scenarios, if you don't need to send any further requests based on this socket after sending one request, you can immediately close the connection.</p>\n"}],"owner":{"account_id":6094220,"reputation":509,"user_id":4755567,"accept_rate":23,"display_name":"TommyQu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685376121,"creation_date":1684477014,"question_id":76286457,"body_markdown":"I&#39;m creating a HttpClient as\r\n\r\n```\r\nnew HttpClient(new MultiThreadedHttpConnectionManager());\r\n```\r\n\r\nShould we releaseConnection for org.apache.commons.httpclient after each call? Such as below\r\n\r\n```\r\nfinal GetMethod getMethod = new GetMethod(uri);\r\n\r\ntry {\r\n  mHttpClient.executeMethod(getMethod)\r\n} catch (Exception e) {\r\n //\r\n} finally {\r\n  getMethod.releaseConnection();\r\n}\r\n```\r\n\r\nFrom the official doc https://hc.apache.org/httpclient-legacy/performance.html it says\r\n\r\n&gt; HttpClient always does its best to reuse connections. Connection\r\n&gt; persistence is enabled by default and requires no configuration. Under\r\n&gt; some situations this can lead to leaked connections and therefore lost\r\n&gt; resources. The easiest way to disable connection persistence is to\r\n&gt; provide or extend a connection manager that force-closes connections\r\n&gt; upon release in the releaseConnection method.\r\n\r\nIt&#39;s not specifically saying which will be better. Will releaseConnection after each executeMethod degrade performance or have another cons? Or it&#39;s better always to releaseConnection after each executeMethod?\r\n\r\nMy scenario is not long-living requests.","title":"Should we releaseConnection for org.apache.commons.httpclient after each call?","body":"<p>I'm creating a HttpClient as</p>\n<pre><code>new HttpClient(new MultiThreadedHttpConnectionManager());\n</code></pre>\n<p>Should we releaseConnection for org.apache.commons.httpclient after each call? Such as below</p>\n<pre><code>final GetMethod getMethod = new GetMethod(uri);\n\ntry {\n  mHttpClient.executeMethod(getMethod)\n} catch (Exception e) {\n //\n} finally {\n  getMethod.releaseConnection();\n}\n</code></pre>\n<p>From the official doc <a href=\"https://hc.apache.org/httpclient-legacy/performance.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpclient-legacy/performance.html</a> it says</p>\n<blockquote>\n<p>HttpClient always does its best to reuse connections. Connection\npersistence is enabled by default and requires no configuration. Under\nsome situations this can lead to leaked connections and therefore lost\nresources. The easiest way to disable connection persistence is to\nprovide or extend a connection manager that force-closes connections\nupon release in the releaseConnection method.</p>\n</blockquote>\n<p>It's not specifically saying which will be better. Will releaseConnection after each executeMethod degrade performance or have another cons? Or it's better always to releaseConnection after each executeMethod?</p>\n<p>My scenario is not long-living requests.</p>\n"},{"tags":["java","image","listview","javafx"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":2,"creation_date":1522315719,"post_id":49552374,"comment_id":86112053,"body_markdown":"Set a custom cell factory and update the cells it returns from their `updateItem` methods. (Set suitable content to the the `graphic` property.)","body":"Set a custom cell factory and update the cells it returns from their <code>updateItem</code> methods. (Set suitable content to the the <code>graphic</code> property.)"},{"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"score":0,"creation_date":1522316114,"post_id":49552374,"comment_id":86112360,"body_markdown":"Possible duplicate of [Image in JavaFX ListView](https://stackoverflow.com/questions/25570803/image-in-javafx-listview)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/25570803/image-in-javafx-listview\">Image in JavaFX ListView</a>"},{"owner":{"account_id":13184419,"reputation":7,"user_id":9522914,"display_name":"Gorgeo"},"score":0,"creation_date":1522316368,"post_id":49552374,"comment_id":86112546,"body_markdown":"Okay, what if I want to have jpanel instead of image2 ?","body":"Okay, what if I want to have jpanel instead of image2 ?"},{"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"score":2,"creation_date":1522317604,"post_id":49552374,"comment_id":86113410,"body_markdown":"Please read the official guide for cell factory from Oracle https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Cell.html.","body":"Please read the official guide for cell factory from Oracle <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Cell.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/api/javafx/scene/control/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1685375848,"creation_date":1522320331,"answer_id":49554090,"question_id":49552374,"body_markdown":"Implementing your own &lt;code&gt;CellFactory&lt;/code&gt; gives you all the options you want to apply on a &lt;code&gt;ListView&lt;/code&gt;&#39;s cell. Unfortunately the image you uploaded is not opening so I couldn&#39;t understand your exact requirements. anyway this is how you set your &lt;code&gt;CellFactory&lt;/code&gt; for your &lt;code&gt;ListView&lt;/code&gt; where &lt;code&gt;T&lt;/code&gt; is your data type.\r\n\r\n    ListView#setCellFactory(Callback&lt;ListView&lt;T&gt;, ListCell&lt;T&gt;&gt; value)\r\n\r\n**Example:**\r\n\r\n    ListView&lt;Employee&gt; listView = new ListView&lt;&gt;();\r\n    listView.setCellFactory(new Callback&lt;ListView&lt;Employee&gt;, ListCell&lt;Employee&gt;&gt;() {\r\n        @Override\r\n        public ListCell&lt;Employee&gt; call(ListView&lt;Employee&gt; param) {\r\n            return new ListCell&lt;Employee&gt;() {\r\n                \r\n                private ImageView imageView = new ImageView(&quot;ImageURL&quot;);\r\n                private TextField textField = new TextField(&quot;Text&quot;);\r\n                private Button button = new Button(&quot;Button&quot;);\r\n                private BorderPane bp = new BorderPane(imageView, null, button, null, textField);\r\n                \r\n                @Override\r\n                protected void updateItem(Employee item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n                    if (item == null || empty) {\r\n                        setText(null);\r\n                        setGraphic(null);\r\n                    } else {\r\n                        setText(item.getName());\r\n                        setGraphic(bp);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    });","title":"Custom item in ListView JavaFX","body":"<p>Implementing your own <code>CellFactory</code> gives you all the options you want to apply on a <code>ListView</code>'s cell. Unfortunately the image you uploaded is not opening so I couldn't understand your exact requirements. anyway this is how you set your <code>CellFactory</code> for your <code>ListView</code> where <code>T</code> is your data type.</p>\n<pre><code>ListView#setCellFactory(Callback&lt;ListView&lt;T&gt;, ListCell&lt;T&gt;&gt; value)\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>ListView&lt;Employee&gt; listView = new ListView&lt;&gt;();\nlistView.setCellFactory(new Callback&lt;ListView&lt;Employee&gt;, ListCell&lt;Employee&gt;&gt;() {\n    @Override\n    public ListCell&lt;Employee&gt; call(ListView&lt;Employee&gt; param) {\n        return new ListCell&lt;Employee&gt;() {\n            \n            private ImageView imageView = new ImageView(&quot;ImageURL&quot;);\n            private TextField textField = new TextField(&quot;Text&quot;);\n            private Button button = new Button(&quot;Button&quot;);\n            private BorderPane bp = new BorderPane(imageView, null, button, null, textField);\n            \n            @Override\n            protected void updateItem(Employee item, boolean empty) {\n                super.updateItem(item, empty);\n                if (item == null || empty) {\n                    setText(null);\n                    setGraphic(null);\n                } else {\n                    setText(item.getName());\n                    setGraphic(bp);\n                }\n            }\n        };\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":13184419,"reputation":7,"user_id":9522914,"display_name":"Gorgeo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49554090,"answer_count":1,"score":0,"last_activity_date":1685375848,"creation_date":1522315381,"question_id":49552374,"body_markdown":"I have question about ListView in JavaFX.\r\n\r\nHow I can do custom item in ListView like this :\r\n\r\n[ScreenShot][1]\r\n[SS][1]\r\n\r\nSecondly, when I click Button1 i want to show image2 and textfield1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R8EO6.png","title":"Custom item in ListView JavaFX","body":"<p>I have question about ListView in JavaFX.</p>\n\n<p>How I can do custom item in ListView like this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/R8EO6.png\" rel=\"nofollow noreferrer\">ScreenShot</a>\n<a href=\"https://i.stack.imgur.com/R8EO6.png\" rel=\"nofollow noreferrer\">SS</a></p>\n\n<p>Secondly, when I click Button1 i want to show image2 and textfield1</p>\n"},{"tags":["java","matrix","jama"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1684185433,"post_id":76257849,"comment_id":134477773,"body_markdown":"have you tried to directly create a new instance of `Matrix` passing a `double[][]` as constructor parameter without doing the conversion? if that also fails, I guess the lib could have a bug","body":"have you tried to directly create a new instance of <code>Matrix</code> passing a <code>double[][]</code> as constructor parameter without doing the conversion? if that also fails, I guess the lib could have a bug"}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684185462,"creation_date":1684185462,"answer_id":76257985,"question_id":76257849,"body_markdown":"According to [this site][1] the inverse of your matrix is:\r\n\r\n    0.15873015873015873015\t0.011337868480725623586\t-0.22448979591836734692\r\n    -0.77777777777777777776\t0.15873015873015873014\t0.85714285714285714285\r\n    0.5079365079365079365\t-0.10657596371882086167\t-0.48979591836734693897\r\n\r\nwhich is identical to the inverse calculated by JAMA, so I&#39;m inclined to think it&#39;s actually correct. What makes you think it is incorrect? You can verify it by multiplying the two matrices together - it should result in the identity matrix.\r\n\r\n  [1]: https://matrix.reshish.com/inverse.php","title":"Calculate the inverse of a matrix using JAMA library","body":"<p>According to <a href=\"https://matrix.reshish.com/inverse.php\" rel=\"nofollow noreferrer\">this site</a> the inverse of your matrix is:</p>\n<pre><code>0.15873015873015873015  0.011337868480725623586 -0.22448979591836734692\n-0.77777777777777777776 0.15873015873015873014  0.85714285714285714285\n0.5079365079365079365   -0.10657596371882086167 -0.48979591836734693897\n</code></pre>\n<p>which is identical to the inverse calculated by JAMA, so I'm inclined to think it's actually correct. What makes you think it is incorrect? You can verify it by multiplying the two matrices together - it should result in the identity matrix.</p>\n"}],"owner":{"account_id":21014341,"reputation":31,"user_id":15442214,"display_name":"KayraOz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685393421,"answer_count":1,"score":0,"last_activity_date":1685375602,"creation_date":1684183980,"question_id":76257849,"body_markdown":"This is my method to calculate the inverse of a matrix (key).\r\nI used the JAMA lib for the calculation.\r\n\r\n``` \r\npublic static double[][] inverseKey(int[][] key) { \r\n    int n = key.length;\r\n    double[][] keyAsDoubleArray = new double[n][n];\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        for (int j = 0; j &lt; n; j++) {\r\n            keyAsDoubleArray[i][j] = key[i][j];\r\n        }\r\n    }\r\n\r\n    \r\n    Matrix matrix = new Matrix(keyAsDoubleArray);\r\n\r\n    // Berechne die Inverse der Matrix\r\n    Matrix inverseMatrix = matrix.inverse();\r\n    double[][] inverseArray = inverseMatrix.getArray();\r\n\r\n    return inverseArray;\r\n}\r\n```\r\n\r\nThere is no error but the result of the calculation is wrong.\r\nResult:\r\n0\\.1587301587301587 0.011337868480725636 -0.2244897959183673\r\n\\-0.7777777777777777 0.15873015873015872 0.857142857142857\r\n0\\.5079365079365079 -0.10657596371882086 -0.48979591836734687\r\n\r\nThis is the matrix I used: ```int[][] key = {{6,13,20},{24,16, 17}, {1,10,15}};```\r\n\r\nI think there is maybe a problem in converting the int\\[\\]\\[\\] in a double\\[\\]\\[\\], but it is necessary in my specific case that the parameter of the method is a Integer Array.\r\nHave you any ideas to solve this problem?","title":"Calculate the inverse of a matrix using JAMA library","body":"<p>This is my method to calculate the inverse of a matrix (key).\nI used the JAMA lib for the calculation.</p>\n<pre><code>public static double[][] inverseKey(int[][] key) { \n    int n = key.length;\n    double[][] keyAsDoubleArray = new double[n][n];\n\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            keyAsDoubleArray[i][j] = key[i][j];\n        }\n    }\n\n    \n    Matrix matrix = new Matrix(keyAsDoubleArray);\n\n    // Berechne die Inverse der Matrix\n    Matrix inverseMatrix = matrix.inverse();\n    double[][] inverseArray = inverseMatrix.getArray();\n\n    return inverseArray;\n}\n</code></pre>\n<p>There is no error but the result of the calculation is wrong.\nResult:\n0.1587301587301587 0.011337868480725636 -0.2244897959183673\n-0.7777777777777777 0.15873015873015872 0.857142857142857\n0.5079365079365079 -0.10657596371882086 -0.48979591836734687</p>\n<p>This is the matrix I used: <code>int[][] key = {{6,13,20},{24,16, 17}, {1,10,15}};</code></p>\n<p>I think there is maybe a problem in converting the int[][] in a double[][], but it is necessary in my specific case that the parameter of the method is a Integer Array.\nHave you any ideas to solve this problem?</p>\n"},{"tags":["java","json","salesforce-marketing-cloud","unirest-java"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685285554,"post_id":76352063,"comment_id":134637410,"body_markdown":"This looks like a typo: `eventDefinitionId` - not `eventDefinationId`.","body":"This looks like a typo: <code>eventDefinitionId</code> - not <code>eventDefinationId</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1685285666,"post_id":76352063,"comment_id":134637425,"body_markdown":"If that does not solve your issue, try to be more specific regarding the error you are getting - not &quot;_all possible type of errors_&quot;. Also, please [provide text as text](https://meta.stackoverflow.com/a/285557/12567365) - not as screenshots of text. You can [edit] your question as needed.","body":"If that does not solve your issue, try to be more specific regarding the error you are getting - not &quot;<i>all possible type of errors</i>&quot;. Also, please <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">provide text as text</a> - not as screenshots of text. You can <a href=\"https://stackoverflow.com/posts/76352063/edit\">edit</a> your question as needed."},{"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"score":0,"creation_date":1685286056,"post_id":76352063,"comment_id":134637464,"body_markdown":"Thanks andrew , i have added the error message i get . Its null pointer error. The image contain client specfic info , thus i am not attaching the it as text and just a screenshot of message . my applogies for that. any clue what i am doing wrong or is the whole approach itself wrong?","body":"Thanks andrew , i have added the error message i get . Its null pointer error. The image contain client specfic info , thus i am not attaching the it as text and just a screenshot of message . my applogies for that. any clue what i am doing wrong or is the whole approach itself wrong?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286229,"post_id":76352063,"comment_id":134637479,"body_markdown":"Which line of code is `ProcessJourney.java:105`? You can see that, but we cannot.","body":"Which line of code is <code>ProcessJourney.java:105</code>? You can see that, but we cannot."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286250,"post_id":76352063,"comment_id":134637482,"body_markdown":"See also [Reading value of nested key in JSON with Java (Jackson)](https://stackoverflow.com/q/29858248/12567365).","body":"See also <a href=\"https://stackoverflow.com/q/29858248/12567365\">Reading value of nested key in JSON with Java (Jackson)</a>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286359,"post_id":76352063,"comment_id":134637490,"body_markdown":"And also [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/q/218384/12567365)","body":"And also <a href=\"https://stackoverflow.com/q/218384/12567365\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"score":1,"creation_date":1685286461,"post_id":76352063,"comment_id":134637504,"body_markdown":"@andrewJames, that would be String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();","body":"@andrewJames, that would be String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286583,"post_id":76352063,"comment_id":134637513,"body_markdown":"You can [edit] the question to include this new, relevant information there (instead of in a comment). But the links to those other questions should allow you to solve this error, I believe.","body":"You can <a href=\"https://stackoverflow.com/posts/76352063/edit\">edit</a> the question to include this new, relevant information there (instead of in a comment). But the links to those other questions should allow you to solve this error, I believe."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685287802,"post_id":76352063,"comment_id":134637644,"body_markdown":"mask confidential information but code should be provided as text always.","body":"mask confidential information but code should be provided as text always."}],"answers":[{"tags":[],"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373832,"creation_date":1685373832,"answer_id":76358524,"question_id":76352063,"body_markdown":"Thanks all for comments. After trying and checking different sites , i was able to come up with solution or code to resolve the problem\r\n\r\nThe approach is, i get response as Json and the i start extracting JSON objects and arrays from it. As seen below . Thanks all\r\n\r\n    //*Enrich Journey Event Info *//\r\n        Statement stmt_eventId = conn.createStatement();\r\n        ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyNames FROM journeynameedited&quot;);\r\n        //ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\r\n        while(rs_event.next()){\r\n            String JourneyName_For_EventId = rs_event.getString(&quot;JourneyNames&quot;).strip().replaceAll(&quot;\\\\p{C}&quot;, &quot;&quot;);\r\n            System.out.println(JourneyName_For_EventId);\r\n            String JourneyDefinationId = &quot;&quot;;\r\n            //String JourneyDefinationId = rs_event.getString(&quot;definitionid&quot;);\r\n            String JourneyName_For_EventId_html = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n            String Event_URL = &quot;https://xxxxxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId_html+&quot;&amp;extras=all&quot;;\r\n            \r\n            Unirest.setTimeouts(0, 0);\r\n            HttpResponse&lt;JsonNode&gt; response_event = Unirest.get(Event_URL)\r\n                                                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                                                    .header(&quot;Authorization&quot;, Token_Auth)\r\n                                                    .asJson();\r\n            JSONObject Response_Obj_Event = response_event.getBody().getObject();\r\n            if(Response_Obj_Event.has(&quot;items&quot;))\r\n            {\r\n                JSONArray Event_Items = Response_Obj_Event.getJSONArray(&quot;items&quot;);\r\n                for(int ii=0;ii&lt;Event_Items.length();ii++)\r\n                {\r\n                    JSONObject Event_Object = Event_Items.getJSONObject(ii);\r\n                    if((Event_Object.has(&quot;triggers&quot;)) &amp;&amp; ((Event_Object.getJSONArray(&quot;triggers&quot;)!= null) &amp;&amp; (Event_Object.getJSONArray(&quot;triggers&quot;).length()&gt;0 )))\r\n                    {\r\n                        JSONArray Event_Trigger_Array = Event_Object.getJSONArray(&quot;triggers&quot;);\r\n                        if((Event_Trigger_Array.getJSONObject(0).has(&quot;metaData&quot;)) &amp;&amp; (Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;)!= null))\r\n                        {\r\n                            if(Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).has(&quot;eventDefinitionId&quot;))\r\n                            {\r\n                                String eventDefinitionId = Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).getString(&quot;eventDefinitionId&quot;);\r\n                                String queryString = &quot;INSERT INTO journeyeventinfo (JourneyName,DefinationId,EventId) VALUES (\\&quot;&quot;+JourneyName_For_EventId+&quot;\\&quot;,\\&quot;&quot;+JourneyDefinationId+&quot;\\&quot;,\\&quot;&quot;+eventDefinitionId+&quot;\\&quot;);&quot;;\r\n                                populatejourneyEventTable(conn,queryString);\r\n                            }                            \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Parsing response from Unirest and extracting tag value","body":"<p>Thanks all for comments. After trying and checking different sites , i was able to come up with solution or code to resolve the problem</p>\n<p>The approach is, i get response as Json and the i start extracting JSON objects and arrays from it. As seen below . Thanks all</p>\n<pre><code>//*Enrich Journey Event Info *//\n    Statement stmt_eventId = conn.createStatement();\n    ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyNames FROM journeynameedited&quot;);\n    //ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\n    while(rs_event.next()){\n        String JourneyName_For_EventId = rs_event.getString(&quot;JourneyNames&quot;).strip().replaceAll(&quot;\\\\p{C}&quot;, &quot;&quot;);\n        System.out.println(JourneyName_For_EventId);\n        String JourneyDefinationId = &quot;&quot;;\n        //String JourneyDefinationId = rs_event.getString(&quot;definitionid&quot;);\n        String JourneyName_For_EventId_html = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\n        String Event_URL = &quot;https://xxxxxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId_html+&quot;&amp;extras=all&quot;;\n        \n        Unirest.setTimeouts(0, 0);\n        HttpResponse&lt;JsonNode&gt; response_event = Unirest.get(Event_URL)\n                                                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                                                .header(&quot;Authorization&quot;, Token_Auth)\n                                                .asJson();\n        JSONObject Response_Obj_Event = response_event.getBody().getObject();\n        if(Response_Obj_Event.has(&quot;items&quot;))\n        {\n            JSONArray Event_Items = Response_Obj_Event.getJSONArray(&quot;items&quot;);\n            for(int ii=0;ii&lt;Event_Items.length();ii++)\n            {\n                JSONObject Event_Object = Event_Items.getJSONObject(ii);\n                if((Event_Object.has(&quot;triggers&quot;)) &amp;&amp; ((Event_Object.getJSONArray(&quot;triggers&quot;)!= null) &amp;&amp; (Event_Object.getJSONArray(&quot;triggers&quot;).length()&gt;0 )))\n                {\n                    JSONArray Event_Trigger_Array = Event_Object.getJSONArray(&quot;triggers&quot;);\n                    if((Event_Trigger_Array.getJSONObject(0).has(&quot;metaData&quot;)) &amp;&amp; (Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;)!= null))\n                    {\n                        if(Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).has(&quot;eventDefinitionId&quot;))\n                        {\n                            String eventDefinitionId = Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).getString(&quot;eventDefinitionId&quot;);\n                            String queryString = &quot;INSERT INTO journeyeventinfo (JourneyName,DefinationId,EventId) VALUES (\\&quot;&quot;+JourneyName_For_EventId+&quot;\\&quot;,\\&quot;&quot;+JourneyDefinationId+&quot;\\&quot;,\\&quot;&quot;+eventDefinitionId+&quot;\\&quot;);&quot;;\n                            populatejourneyEventTable(conn,queryString);\n                        }                            \n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685375521,"creation_date":1685285446,"question_id":76352063,"body_markdown":"I am calling a rest end point in Java using Unirest. The response is a JSON message which is complex and contains multiple levels inside.\r\n\r\nI need to extract the value of a specific tag &quot;eventDefinationId&quot; from the response message. However, that is failing or not working. I cannot handle the JSON parsing from the response to extract the tag value\r\n\r\nBelow is the code I am using\r\n\r\n```java\r\n//*Enrich Journey Event Info *//\r\nStatement stmt_eventId = conn.createStatement();\r\nResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\r\nwhile(rs_event.next()){\r\n    String JourneyName_For_EventId = rs_event.getString(&quot;JourneyName&quot;);\r\n    JourneyName_For_EventId = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n    String Event_URL = &quot;https://xxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId+&quot;&amp;extras=all&quot;;\r\n    Unirest.setTimeouts(0, 0);\r\n    HttpResponse&lt;String&gt; response_event = Unirest.get(Event_URL)\r\n                                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                                            .header(&quot;Authorization&quot;, Token_Auth)\r\n                                            .asString();\r\n    String jsonString = response_event.getBody();\r\n    ObjectMapper mapper = new ObjectMapper();  \r\n    com.fasterxml.jackson.databind.JsonNode actualObj = mapper.readTree(jsonString);\r\n    String eventDefinationId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();\r\n    System.out.println(eventDefinationId);\r\n}\r\n```\r\n\r\nBelow is an example of a successful call using Postman. The image is the same API call, but using Postman instead of code. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/3Pfnl.png)](https://i.stack.imgur.com/3Pfnl.png)\r\n\r\nAs you see eventDefinationId is way below(inside metadata section) .\r\n\r\nI want to extract it. I am getting all possible type of errors. Also this tag sometime may not be present. in that case it shouldn&#39;t error, but skip and go to next value from result set.\r\n\r\nWhen I run the above program, I get null pointer exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat sfmc_process.ProcessJourney.UpdateJourneyDetailsTables(ProcessJourney.java:105)\r\n\tat sfmc_main.AppLauncher.main(AppLauncher.java:29)\r\nCommand execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n\r\nLine 105 which is error is : String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();\r\n\r\nBelow is the image of the code which I am using. I want to extract the eventDefinitionId from message only. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghQdu.png","title":"Parsing response from Unirest and extracting tag value","body":"<p>I am calling a rest end point in Java using Unirest. The response is a JSON message which is complex and contains multiple levels inside.</p>\n<p>I need to extract the value of a specific tag &quot;eventDefinationId&quot; from the response message. However, that is failing or not working. I cannot handle the JSON parsing from the response to extract the tag value</p>\n<p>Below is the code I am using</p>\n<pre class=\"lang-java prettyprint-override\"><code>//*Enrich Journey Event Info *//\nStatement stmt_eventId = conn.createStatement();\nResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\nwhile(rs_event.next()){\n    String JourneyName_For_EventId = rs_event.getString(&quot;JourneyName&quot;);\n    JourneyName_For_EventId = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\n    String Event_URL = &quot;https://xxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId+&quot;&amp;extras=all&quot;;\n    Unirest.setTimeouts(0, 0);\n    HttpResponse&lt;String&gt; response_event = Unirest.get(Event_URL)\n                                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                                            .header(&quot;Authorization&quot;, Token_Auth)\n                                            .asString();\n    String jsonString = response_event.getBody();\n    ObjectMapper mapper = new ObjectMapper();  \n    com.fasterxml.jackson.databind.JsonNode actualObj = mapper.readTree(jsonString);\n    String eventDefinationId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();\n    System.out.println(eventDefinationId);\n}\n</code></pre>\n<p>Below is an example of a successful call using Postman. The image is the same API call, but using Postman instead of code.</p>\n<p><a href=\"https://i.stack.imgur.com/3Pfnl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Pfnl.png\" alt=\"enter image description here\" /></a></p>\n<p>As you see eventDefinationId is way below(inside metadata section) .</p>\n<p>I want to extract it. I am getting all possible type of errors. Also this tag sometime may not be present. in that case it shouldn't error, but skip and go to next value from result set.</p>\n<p>When I run the above program, I get null pointer exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat sfmc_process.ProcessJourney.UpdateJourneyDetailsTables(ProcessJourney.java:105)\nat sfmc_main.AppLauncher.main(AppLauncher.java:29)\n</code></pre>\n<p>Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\nat org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)</p>\n<p>Line 105 which is error is : String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();</p>\n<p>Below is the image of the code which I am using. I want to extract the eventDefinitionId from message only.</p>\n<p><a href=\"https://i.stack.imgur.com/ghQdu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ghQdu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sorting","nullpointerexception","comparator"],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685373945,"creation_date":1685373945,"answer_id":76358537,"question_id":76356942,"body_markdown":"You are using the `comparing` comparator on the null values by using `comparing.thenComparing(...)` and then only you use the `Comparators.nulls...(..)`. You just need the `Comparator.nulls...(..)` like this :\r\n\r\n    private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\r\n            final String[] split,\r\n            final Comparator&lt;MobileSearch&gt; comparing) {\r\n\r\n        final var direction = getDirection(split);\r\n\r\n        final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\r\n\r\n        final var comparator = direction.equals(Constants.ASC)\r\n                ? Comparator.nullsLast(comparing)\r\n                : Comparator.nullsFirst(comparing.reversed());\r\n\r\n        modifiableList.sort(comparator);\r\n        return modifiableList;\r\n    }","title":"Java Comparator.nullsLast and Comparator.nullsFirst not working as expected","body":"<p>You are using the <code>comparing</code> comparator on the null values by using <code>comparing.thenComparing(...)</code> and then only you use the <code>Comparators.nulls...(..)</code>. You just need the <code>Comparator.nulls...(..)</code> like this :</p>\n<pre><code>private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\n        final String[] split,\n        final Comparator&lt;MobileSearch&gt; comparing) {\n\n    final var direction = getDirection(split);\n\n    final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\n\n    final var comparator = direction.equals(Constants.ASC)\n            ? Comparator.nullsLast(comparing)\n            : Comparator.nullsFirst(comparing.reversed());\n\n    modifiableList.sort(comparator);\n    return modifiableList;\n}\n</code></pre>\n"}],"owner":{"account_id":14528548,"reputation":79,"user_id":10494078,"display_name":"Miltos Dimitriadis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76358537,"answer_count":1,"score":1,"last_activity_date":1685375490,"creation_date":1685359715,"question_id":76356942,"body_markdown":"I have the following method, which throws NPE in `sort()` when I am trying to sort by a field which is null in the list : \r\n\r\n    private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\r\n    \t\t\tfinal String[] split,\r\n    \t\t\tfinal Comparator&lt;MobileSearch&gt; comparing) {\r\n    \r\n    \tfinal var direction = getDirection(split);\r\n    \r\n        final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\r\n    \r\n    \tfinal var comparator = direction.equals(Constants.ASC)\r\n    \t\t\t? comparing.thenComparing(Comparator.nullsLast(comparing))\r\n    \t\t\t: comparing.thenComparing(Comparator.nullsFirst(comparing.reversed()));\r\n    \r\n    \tmodifiableList.sort(comparator);\r\n    \treturn modifiableList;\r\n    }\r\n\r\nA comparator is passed as a parameter which is using several keyExtractors. \r\nYou can see below some method calls : \r\n\r\n    final var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getMsisdn));\r\n\r\n    final var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getAssignedProfile));\r\n\r\nAll I want is to avoid getting NPE when applying the `modifiableList.sort()` in EVERY case, but with my piece of code I can not achieve it. Any ideas?","title":"Java Comparator.nullsLast and Comparator.nullsFirst not working as expected","body":"<p>I have the following method, which throws NPE in <code>sort()</code> when I am trying to sort by a field which is null in the list :</p>\n<pre><code>private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\n            final String[] split,\n            final Comparator&lt;MobileSearch&gt; comparing) {\n\n    final var direction = getDirection(split);\n\n    final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\n\n    final var comparator = direction.equals(Constants.ASC)\n            ? comparing.thenComparing(Comparator.nullsLast(comparing))\n            : comparing.thenComparing(Comparator.nullsFirst(comparing.reversed()));\n\n    modifiableList.sort(comparator);\n    return modifiableList;\n}\n</code></pre>\n<p>A comparator is passed as a parameter which is using several keyExtractors.\nYou can see below some method calls :</p>\n<pre><code>final var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getMsisdn));\n\nfinal var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getAssignedProfile));\n</code></pre>\n<p>All I want is to avoid getting NPE when applying the <code>modifiableList.sort()</code> in EVERY case, but with my piece of code I can not achieve it. Any ideas?</p>\n"},{"tags":["java","stack","log4j2","threadcontext"],"comments":[{"owner":{"account_id":3873085,"reputation":215,"user_id":3207875,"accept_rate":40,"display_name":"user3207875"},"score":0,"creation_date":1484051387,"post_id":41568900,"comment_id":70341700,"body_markdown":"I want the logger without braces as below.\n\n\n        \n`[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number`","body":"I want the logger without braces as below.            <code>[01&#47;10&#47;17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number</code>"}],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484066394,"creation_date":1484066394,"answer_id":41573823,"question_id":41568900,"body_markdown":"You can use [PatternLayout][1]&#39;s `notEmpty{pattern}` pattern converter:\n\nThis outputs the result of evaluating the pattern if and only if all variables in the pattern are not empty.\n\nFor example:\n\n    %notEmpty{[%x]}\n\nAliases: variablesNotEmpty{pattern}, \nvarsNotEmpty{pattern}, \nnotEmpty{pattern}\t\n\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout","title":"Empty Threadcontext braces scenario handling in log4j2","body":"<p>You can use <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">PatternLayout</a>'s <code>notEmpty{pattern}</code> pattern converter:</p>\n\n<p>This outputs the result of evaluating the pattern if and only if all variables in the pattern are not empty.</p>\n\n<p>For example:</p>\n\n<pre><code>%notEmpty{[%x]}\n</code></pre>\n\n<p>Aliases: variablesNotEmpty{pattern}, \nvarsNotEmpty{pattern}, \nnotEmpty{pattern}   </p>\n"},{"tags":[],"owner":{"account_id":28703763,"reputation":11,"user_id":21980481,"display_name":"Vaishnavi Rathi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685375255,"creation_date":1685375255,"answer_id":76358695,"question_id":41568900,"body_markdown":"You can use %equals{pattern}{test}{substitution} from https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\r\n\r\nFor example -\r\n\r\n%equals{%x}{[]}{}\r\n\r\nThis will replace [] with empty string.\r\nWorked for me.\r\n","title":"Empty Threadcontext braces scenario handling in log4j2","body":"<p>You can use %equals{pattern}{test}{substitution} from <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout</a></p>\n<p>For example -</p>\n<p>%equals{%x}{[]}{}</p>\n<p>This will replace [] with empty string.\nWorked for me.</p>\n"}],"owner":{"account_id":3873085,"reputation":215,"user_id":3207875,"accept_rate":40,"display_name":"user3207875"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685375255,"creation_date":1484051310,"question_id":41568900,"body_markdown":"I am trying to migrate to log4j2. \r\nIn RollingFile Appender I am adding as below:\r\n\r\n    &lt;PatternLayout&gt;\r\n    \t&lt;pattern&gt;[%d{MM/dd/yy HH:mm:ss:SSS z}] %-18.18t %-35.35c{1} %-5p (%F:%L) %m \\t %x %n&lt;/pattern&gt;\r\n    &lt;/PatternLayout&gt;\r\n\r\nWe know that %x is for printing stack elements to end of the every logger statement.\r\n\r\nNow if my stack is empty initially, it is giving me the empty braces as below.\r\n\r\n    [01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number \t [] \r\n\r\n[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number \t [] \r\n\r\n\r\nSo how do I handle this empty stack scenario ?","title":"Empty Threadcontext braces scenario handling in log4j2","body":"<p>I am trying to migrate to log4j2. \nIn RollingFile Appender I am adding as below:</p>\n\n<pre><code>&lt;PatternLayout&gt;\n    &lt;pattern&gt;[%d{MM/dd/yy HH:mm:ss:SSS z}] %-18.18t %-35.35c{1} %-5p (%F:%L) %m \\t %x %n&lt;/pattern&gt;\n&lt;/PatternLayout&gt;\n</code></pre>\n\n<p>We know that %x is for printing stack elements to end of the every logger statement.</p>\n\n<p>Now if my stack is empty initially, it is giving me the empty braces as below.</p>\n\n<pre><code>[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number     [] \n</code></pre>\n\n<p>[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number     [] </p>\n\n<p>So how do I handle this empty stack scenario ?</p>\n"},{"tags":["java","gradle","build"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685374252,"post_id":76358545,"comment_id":134648030,"body_markdown":"You seem to be using Java 8 (class version 52), while you&#39;re trying to use classes compiled with Java 11 (class version 55).","body":"You seem to be using Java 8 (class version 52), while you&#39;re trying to use classes compiled with Java 11 (class version 55)."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685376227,"post_id":76358545,"comment_id":134648343,"body_markdown":"My question isn&#39;t duplicate. Where have gradle in the duplicate? It normally works, but with gradle it doesn&#39;t work.","body":"My question isn&#39;t duplicate. Where have gradle in the duplicate? It normally works, but with gradle it doesn&#39;t work."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685376526,"post_id":76358545,"comment_id":134648396,"body_markdown":"See the output of `gradle --version`: `JVM:          **1.8.0_362** (Private Build 25.362-b09)`. In other words, when you run Gradle, it is running Java 8, probably because your `JAVA_HOME` is configured to point to Java 8 and not to your Java 17 install. Make sure it points to Java 17 (or at least to a Java 11 or higher). In other words, the duplicate applies for your problem.","body":"See the output of <code>gradle --version</code>: <code>JVM:          **1.8.0_362** (Private Build 25.362-b09)</code>. In other words, when you run Gradle, it is running Java 8, probably because your <code>JAVA_HOME</code> is configured to point to Java 8 and not to your Java 17 install. Make sure it points to Java 17 (or at least to a Java 11 or higher). In other words, the duplicate applies for your problem."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685376655,"post_id":76358545,"comment_id":134648416,"body_markdown":"@MarkRotteveel You&#39;re right `$ echo $JAVA_HOME\n/usr/lib/jvm/java-8-openjdk-i386/` How can I find out, where is `Java 17` (Ubuntu 18.04)","body":"@MarkRotteveel You&#39;re right <code>$ echo $JAVA_HOME &#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-i386&#47;</code> How can I find out, where is <code>Java 17</code> (Ubuntu 18.04)"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685376724,"post_id":76358545,"comment_id":134648426,"body_markdown":"Using `which java` should report the location of the executable used when you run `java` (and then use the parent directory of the bin-directory).","body":"Using <code>which java</code> should report the location of the executable used when you run <code>java</code> (and then use the parent directory of the bin-directory)."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685376865,"post_id":76358545,"comment_id":134648442,"body_markdown":"I set JAVA_HOME to /usr/bin/java but `$ gradle clean\n\nERROR: JAVA_HOME is set to an invalid directory: /usr/bin/java\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n`","body":"I set JAVA_HOME to /usr/bin/java but <code>$ gradle clean  ERROR: JAVA_HOME is set to an invalid directory: &#47;usr&#47;bin&#47;java  Please set the JAVA_HOME variable in your environment to match the location of your Java installation. </code>"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685377107,"post_id":76358545,"comment_id":134648483,"body_markdown":"`$ file /usr/bin/java\n/usr/bin/java: symbolic link to /etc/alternatives/java\n`","body":"<code>$ file &#47;usr&#47;bin&#47;java &#47;usr&#47;bin&#47;java: symbolic link to &#47;etc&#47;alternatives&#47;java </code>"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685377562,"post_id":76358545,"comment_id":134648543,"body_markdown":"Finally, [this](https://askubuntu.com/a/1259182/13394) solved it. Thank you.","body":"Finally, <a href=\"https://askubuntu.com/a/1259182/13394\">this</a> solved it. Thank you."}],"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685375302,"answer_count":0,"score":0,"last_activity_date":1685374629,"creation_date":1685373985,"question_id":76358545,"body_markdown":"When I run commands:\r\n\r\n    javac -cp tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App.java\r\n    java -cp .:tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App\r\n\r\nIt works perfect.\r\n\r\nI wanted to automatize the build process with `gradle`.\r\n\r\nSo I created this directory tree:\r\n\r\n    $ tree -L 2 my-app/\r\n    my-app/\r\n    ├── build\r\n    │&#160;&#160; ├── classes\r\n    │&#160;&#160; ├── generated\r\n    │&#160;&#160; └── tmp\r\n    ├── build.gradle\r\n    ├── opennlp\r\n    │&#160;&#160; ├── apache-opennlp-2.2.0\r\n    │&#160;&#160; └── apache-opennlp-2.2.0-bin.zip\r\n    ├── src\r\n    │&#160;&#160; └── main\r\n    └── tika\r\n        ├── tika-2.8.0\r\n        └── tika-2.8.0-src.zip\r\n\r\n    $ tree src\r\n    src\r\n    └── main\r\n        └── java\r\n            └── App.java\r\n\r\nmy `build.gradle` is here:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation files(&#39;tika/tika-2.8.0/tika-app-2.8.0.jar&#39;)\r\n        implementation files(&#39;opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar&#39;)\r\n    }\r\n    \r\n    task runApp(type: JavaExec) {\r\n        main = &#39;App&#39;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n    }\r\n\r\n\r\n\r\nThe output of gradle build is here:\r\n\r\n    $ gradle build\r\n    \r\n    &gt; Task :compileJava\r\n    /home/me/tmp/my-app/src/main/java/App.java:7: error: cannot access opennlp.tools.sentdetect.SentenceDetectorME\r\n    import opennlp.tools.sentdetect.SentenceDetectorME;\r\n                                   ^\r\n      bad class file: /home/me/tmp/my-app/opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar(opennlp/tools/sentdetect/SentenceDetectorME.class)\r\n        class file has wrong version 55.0, should be 52.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n    \r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    See https://docs.gradle.org/7.4.2/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 4s\r\n    1 actionable task: 1 executed\r\n\r\n    $ java --version\r\n    openjdk 17.0.7 2023-04-18\r\n    OpenJDK Runtime Environment (build 17.0.7+7-Ubuntu-0ubuntu118.04)\r\n    OpenJDK Server VM (build 17.0.7+7-Ubuntu-0ubuntu118.04, mixed mode, sharing)\r\n\r\n    $ javac --version\r\n    javac 17.0.7\r\n\r\n    $ gradle --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 7.4.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-03-31 15:25:29 UTC\r\n    Revision:     540473b8118064efcc264694cbcaa4b677f61041\r\n    \r\n    Kotlin:       1.5.31\r\n    Groovy:       3.0.9\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          1.8.0_362 (Private Build 25.362-b09)\r\n    OS:           Linux 4.15.0-211-generic i386\r\n\r\nHow can I fix it?\r\n\r\n","title":"opennlp: bad class file, wrong version","body":"<p>When I run commands:</p>\n<pre><code>javac -cp tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App.java\njava -cp .:tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App\n</code></pre>\n<p>It works perfect.</p>\n<p>I wanted to automatize the build process with <code>gradle</code>.</p>\n<p>So I created this directory tree:</p>\n<pre><code>$ tree -L 2 my-app/\nmy-app/\n├── build\n│   ├── classes\n│   ├── generated\n│   └── tmp\n├── build.gradle\n├── opennlp\n│   ├── apache-opennlp-2.2.0\n│   └── apache-opennlp-2.2.0-bin.zip\n├── src\n│   └── main\n└── tika\n    ├── tika-2.8.0\n    └── tika-2.8.0-src.zip\n\n$ tree src\nsrc\n└── main\n    └── java\n        └── App.java\n</code></pre>\n<p>my <code>build.gradle</code> is here:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation files('tika/tika-2.8.0/tika-app-2.8.0.jar')\n    implementation files('opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar')\n}\n\ntask runApp(type: JavaExec) {\n    main = 'App'\n    classpath = sourceSets.main.runtimeClasspath\n}\n</code></pre>\n<p>The output of gradle build is here:</p>\n<pre><code>$ gradle build\n\n&gt; Task :compileJava\n/home/me/tmp/my-app/src/main/java/App.java:7: error: cannot access opennlp.tools.sentdetect.SentenceDetectorME\nimport opennlp.tools.sentdetect.SentenceDetectorME;\n                               ^\n  bad class file: /home/me/tmp/my-app/opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar(opennlp/tools/sentdetect/SentenceDetectorME.class)\n    class file has wrong version 55.0, should be 52.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.4.2/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 4s\n1 actionable task: 1 executed\n\n$ java --version\nopenjdk 17.0.7 2023-04-18\nOpenJDK Runtime Environment (build 17.0.7+7-Ubuntu-0ubuntu118.04)\nOpenJDK Server VM (build 17.0.7+7-Ubuntu-0ubuntu118.04, mixed mode, sharing)\n\n$ javac --version\njavac 17.0.7\n\n$ gradle --version\n\n------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_362 (Private Build 25.362-b09)\nOS:           Linux 4.15.0-211-generic i386\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","heroku","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1456845434,"post_id":35726500,"comment_id":59128007,"body_markdown":"You cannot read it as a file, you will have to read it as in `InputStream`. A `File` has to be an actual resource on the system (when using it to read or write). Which is also what the error is telling you.","body":"You cannot read it as a file, you will have to read it as in <code>InputStream</code>. A <code>File</code> has to be an actual resource on the system (when using it to read or write). Which is also what the error is telling you."},{"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"score":2,"creation_date":1456931119,"post_id":35726500,"comment_id":59174997,"body_markdown":"Yes, you&#39;re right. I ended up using `ResourceUtils.getURL().openStream()`","body":"Yes, you&#39;re right. I ended up using <code>ResourceUtils.getURL().openStream()</code>"},{"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"score":0,"creation_date":1606918418,"post_id":35726500,"comment_id":115108362,"body_markdown":"You may want to use Guava&#39;s Resources.toString(Resources.getResource(pathToMyFile), Charset.forName(&quot;UTF-8&quot;)) to read a file from your application jar.","body":"You may want to use Guava&#39;s Resources.toString(Resources.getResource(pathToMyFile), Charset.forName(&quot;UTF-8&quot;)) to read a file from your application jar."}],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1569309520,"creation_date":1456848483,"answer_id":35727761,"question_id":35726500,"body_markdown":"I suspect that when you are running locally, it is picking up the file on the classpath from an exploded JAR file (i.e. as a regular file on the filesystem).\r\n\r\nOn Heroku, it is in the JAR file, which means it is not a regular file, and must be read as an input stream, which might look like this:\r\n\r\n    ClassLoader cl = this.getClass().getClassLoader();\r\n    InputStream inputStream = cl.getResourceAsStream(pathToMyFile);\r\n    \r\nThen you might use a [BufferedReader](http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html) to read the lines. But maybe `ResourceUtils` has a better method.\r\n\r\nYou can probably reproduce the problem locally by running the same command that&#39;s in your `Profile`.","title":"Using ResourceUtils.getFile to read a file from classpath in Heroku environment","body":"<p>I suspect that when you are running locally, it is picking up the file on the classpath from an exploded JAR file (i.e. as a regular file on the filesystem).</p>\n\n<p>On Heroku, it is in the JAR file, which means it is not a regular file, and must be read as an input stream, which might look like this:</p>\n\n<pre><code>ClassLoader cl = this.getClass().getClassLoader();\nInputStream inputStream = cl.getResourceAsStream(pathToMyFile);\n</code></pre>\n\n<p>Then you might use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\">BufferedReader</a> to read the lines. But maybe <code>ResourceUtils</code> has a better method.</p>\n\n<p>You can probably reproduce the problem locally by running the same command that's in your <code>Profile</code>.</p>\n"},{"tags":[],"owner":{"account_id":13790539,"reputation":701,"user_id":9953131,"display_name":"Sumit Rane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685374469,"creation_date":1685374469,"answer_id":76358600,"question_id":35726500,"body_markdown":"`ResourceUtils.getFile(pathToMyFile)` is not suitable for reading files from the classpath. It is primarily used for retrieving files from the file system.\r\n\r\nYou can modify your code and get `openStream` using `ResourceUtils` class and then convert that stream into String to read whole content of file  at once.\r\n\r\n    InputStream inputStream = ResourceUtils.getURL(pathToMyFile).openStream();\r\n    String wholeContentOfFile = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);\r\n    inputStream.close();\r\n\r\n","title":"Using ResourceUtils.getFile to read a file from classpath in Heroku environment","body":"<p><code>ResourceUtils.getFile(pathToMyFile)</code> is not suitable for reading files from the classpath. It is primarily used for retrieving files from the file system.</p>\n<p>You can modify your code and get <code>openStream</code> using <code>ResourceUtils</code> class and then convert that stream into String to read whole content of file  at once.</p>\n<pre><code>InputStream inputStream = ResourceUtils.getURL(pathToMyFile).openStream();\nString wholeContentOfFile = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);\ninputStream.close();\n</code></pre>\n"}],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24457,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":35727761,"answer_count":2,"score":9,"last_activity_date":1685374469,"creation_date":1456845089,"question_id":35726500,"body_markdown":"I&#39;m running a Spring Boot application in Heroku, using Maven to manage the build lifecycle.\r\n\r\nDuring the initialisation phase of my application, I want to read a file packaged into my JAR file.\r\n\r\nTo manage to get the content of the file I&#39;m using the Spring utility class `ResourceUtils`, and I&#39;m expressing the path of the file using the special prefix `classpath:`.\r\n\r\nThe code I&#39;m using looks like this:\r\n\r\n    String pathToMyFile = &quot;classpath:com/myapp/myFile.test&quot;\r\n    List&lt;String&gt; fileLines = Files.readLines(ResourceUtils.getFile(pathToMyFile), IOConstants.DEFAULT_CHARSET_TYPE);\r\n\r\nThis code works as expected when I execute the application in my local machine.\r\n\r\nBut when I push my application to Heroku I&#39;m getting the following error:\r\n\r\n    Caused by: java.io.FileNotFoundException: class path resource [com/myapp/myFile.test] \r\n    cannot be resolved to absolute file path because it does not reside in the \r\n    file system: jar:file:/app/target/myapp.jar!/com/myapp/myFile.test \r\n\r\nI&#39;ve run a `heroku run bash` and I&#39;ve checked that the file is just where it should be (inside the jar).\r\n\r\nMoreover, according to the error trace, Spring locates the file, because it transform the path from `classpath:com/myapp/myFile.test` to `jar:file:/app/target/myapp.jar!/com/myapp/myFile.test`\r\n\r\n","title":"Using ResourceUtils.getFile to read a file from classpath in Heroku environment","body":"<p>I'm running a Spring Boot application in Heroku, using Maven to manage the build lifecycle.</p>\n\n<p>During the initialisation phase of my application, I want to read a file packaged into my JAR file.</p>\n\n<p>To manage to get the content of the file I'm using the Spring utility class <code>ResourceUtils</code>, and I'm expressing the path of the file using the special prefix <code>classpath:</code>.</p>\n\n<p>The code I'm using looks like this:</p>\n\n<pre><code>String pathToMyFile = \"classpath:com/myapp/myFile.test\"\nList&lt;String&gt; fileLines = Files.readLines(ResourceUtils.getFile(pathToMyFile), IOConstants.DEFAULT_CHARSET_TYPE);\n</code></pre>\n\n<p>This code works as expected when I execute the application in my local machine.</p>\n\n<p>But when I push my application to Heroku I'm getting the following error:</p>\n\n<pre><code>Caused by: java.io.FileNotFoundException: class path resource [com/myapp/myFile.test] \ncannot be resolved to absolute file path because it does not reside in the \nfile system: jar:file:/app/target/myapp.jar!/com/myapp/myFile.test \n</code></pre>\n\n<p>I've run a <code>heroku run bash</code> and I've checked that the file is just where it should be (inside the jar).</p>\n\n<p>Moreover, according to the error trace, Spring locates the file, because it transform the path from <code>classpath:com/myapp/myFile.test</code> to <code>jar:file:/app/target/myapp.jar!/com/myapp/myFile.test</code></p>\n"},{"tags":["java","android","udp","video-streaming","libvlc"],"comments":[{"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"score":0,"creation_date":1685506325,"post_id":76358574,"comment_id":134667993,"body_markdown":"share some logs, we&#39;re as blind as you here","body":"share some logs, we&#39;re as blind as you here"}],"owner":{"account_id":15695487,"reputation":131,"user_id":11325201,"display_name":"Ethan K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685374290,"creation_date":1685374290,"question_id":76358574,"body_markdown":"I am trying to achieve a playback of a `UDP` stream that streams packets of `MPEG Transport Stream.`\r\n\r\nRight now I was able to continuously read packets and append them to a `.ts file`.\r\nI decided to split the data into separate `.ts files` - each file has a a maximum duration of 3 seconds.\r\nEvery time I finish writing to a file - I update the UI to read the most recent file and play it.\r\n\r\nI am using the `LibVLC` library to play the `.ts files.`\r\n\r\nRight now I am able to play the corresponding videos - but apart from the 3 second delay - There are a lot of dropped frames which cause a very negative user experience.\r\n\r\nI believe that that it may be caused due to corrupt packets.\r\n\r\nI&#39;d love to hear any insights.\r\n\r\nI am using `Android 12`, \r\n`LibVLC` version: org.videolan.android:libvlc-all:3.3.0-eap10\r\nAnd `UDP` packets as well as `FileOutputStream` to write the packets.\r\n  ","title":"Android - Displaying a UDP video stream - handling corrupt packets","body":"<p>I am trying to achieve a playback of a <code>UDP</code> stream that streams packets of <code>MPEG Transport Stream.</code></p>\n<p>Right now I was able to continuously read packets and append them to a <code>.ts file</code>.\nI decided to split the data into separate <code>.ts files</code> - each file has a a maximum duration of 3 seconds.\nEvery time I finish writing to a file - I update the UI to read the most recent file and play it.</p>\n<p>I am using the <code>LibVLC</code> library to play the <code>.ts files.</code></p>\n<p>Right now I am able to play the corresponding videos - but apart from the 3 second delay - There are a lot of dropped frames which cause a very negative user experience.</p>\n<p>I believe that that it may be caused due to corrupt packets.</p>\n<p>I'd love to hear any insights.</p>\n<p>I am using <code>Android 12</code>,\n<code>LibVLC</code> version: org.videolan.android:libvlc-all:3.3.0-eap10\nAnd <code>UDP</code> packets as well as <code>FileOutputStream</code> to write the packets.</p>\n"},{"tags":["java","postgresql","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1685372470,"post_id":76358353,"comment_id":134647712,"body_markdown":"If you&#39;re running the application in a container, `localhost` is the application container, not another container or the outer host.  Also see for example [Docker Compose + Spring Boot + Postgres connection](https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection) or other questions around connecting to databases in Docker.","body":"If you&#39;re running the application in a container, <code>localhost</code> is the application container, not another container or the outer host.  Also see for example <a href=\"https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection\">Docker Compose + Spring Boot + Postgres connection</a> or other questions around connecting to databases in Docker."},{"owner":{"account_id":27670924,"reputation":1,"user_id":21121735,"display_name":"Amr Nashaat"},"score":0,"creation_date":1685372559,"post_id":76358353,"comment_id":134647729,"body_markdown":"Yeah. I&#39;ve already changed the application.yaml from referring to localhost to db.","body":"Yeah. I&#39;ve already changed the application.yaml from referring to localhost to db."}],"answers":[{"tags":[],"owner":{"account_id":1437483,"reputation":1908,"user_id":1358551,"display_name":"charybr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373161,"creation_date":1685372755,"answer_id":76358427,"question_id":76358353,"body_markdown":"In application.yaml, jdbc url cannot be localhost:5332 because spring application is running on one container and postgres db is on another container. Instead of localhost, it should point hostname of postgres container.\r\n\r\nFor example, create a container_name for postgres, create a environment variable and use that in jdbc url. \r\nRefer \r\n\r\nhttps://github.com/wkrzywiec/kanban-board/blob/master/kanban-app/src/main/resources/application.properties\r\n\r\nhttps://github.com/wkrzywiec/kanban-board/blob/master/docker-compose.yml","title":"Connection refused to PostgreSQL Docker container in Spring Boot application using a Dockerfile","body":"<p>In application.yaml, jdbc url cannot be localhost:5332 because spring application is running on one container and postgres db is on another container. Instead of localhost, it should point hostname of postgres container.</p>\n<p>For example, create a container_name for postgres, create a environment variable and use that in jdbc url.\nRefer</p>\n<p><a href=\"https://github.com/wkrzywiec/kanban-board/blob/master/kanban-app/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/wkrzywiec/kanban-board/blob/master/kanban-app/src/main/resources/application.properties</a></p>\n<p><a href=\"https://github.com/wkrzywiec/kanban-board/blob/master/docker-compose.yml\" rel=\"nofollow noreferrer\">https://github.com/wkrzywiec/kanban-board/blob/master/docker-compose.yml</a></p>\n"},{"tags":[],"owner":{"account_id":3393686,"reputation":962,"user_id":2847913,"display_name":"Pedro Augusto Freitas de Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373436,"creation_date":1685373436,"answer_id":76358484,"question_id":76358353,"body_markdown":"Your application is trying to connect to a PostgreSQL server running on localhost, but when your application is running inside a Docker container, localhost refers to the container itself, not your machine.\r\n\r\nIn your Docker Compose file, you&#39;ve correctly set up a PostgreSQL server as a service and named it db. So you should configure your Spring Boot application to connect to this server by using the service name db as the hostname, instead of localhost.\r\n\r\nHowever, when you&#39;re running your application inside a Docker container, you aren&#39;t actually using Docker Compose, which is why your application isn&#39;t able to connect to the database.\r\n\r\nYou need to modify your docker-compose.yaml file to include the application as a service, alongside the database service, and use Docker Compose to run both services. Here is an example of what that might look like:\r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      app:\r\n        container_name: irrigation-app\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        depends_on:\r\n          - db\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n    \r\n      db:\r\n        container_name: postgres\r\n        image: postgres\r\n        environment:\r\n          POSTGRES_USER: redacted\r\n          POSTGRES_PASSWORD: redacted\r\n          PGDATA: /data/postgres\r\n        volumes:\r\n          - db:/data/postgres\r\n        ports:\r\n          - &quot;5332:5432&quot;\r\n        networks:\r\n          - db\r\n        restart: unless-stopped\r\n    \r\n    networks:\r\n      db:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n      db:\r\n\r\nYou should also modify your application.yaml file to connect to the db host instead of localhost:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:postgresql://db:5432/irrigation\r\n\r\nNow, you should be able to start your application and database with the docker-compose up command, and your application should be able to connect to the database.\r\n\r\nNote: Docker Compose sets up a default network for all services defined in a docker-compose.yaml file and service-to-service communication can be done via service names as hostnames. Hence db is used as the hostname in the JDBC connection string.\r\n\r\nAlso, keep in mind that Docker Compose starts services in dependency order, which in your case means it starts the database before the application. However, it does not wait for a service to be &quot;ready&quot; (such as a database fully starting up and being ready to accept connections) before starting the next one. To handle this, your application should be able to tolerate the database connection not being immediately available, and should retry the connection if the initial connection attempt fails. This could be handled by Spring Boot&#39;s spring.datasource.initialization-mode property set to always (it is embedded by default).\r\n\r\nLast but not least, I removed EXPOSE 5332 and EXPOSE 5432 from your Dockerfile as your app container doesn&#39;t need to expose these ports, and updated the PostgreSQL port in application.yaml to 5432 because inside the network created by Docker Compose, the PostgreSQL container will be listening on its original port (5432), not the mapped one (5332).\r\n\r\n","title":"Connection refused to PostgreSQL Docker container in Spring Boot application using a Dockerfile","body":"<p>Your application is trying to connect to a PostgreSQL server running on localhost, but when your application is running inside a Docker container, localhost refers to the container itself, not your machine.</p>\n<p>In your Docker Compose file, you've correctly set up a PostgreSQL server as a service and named it db. So you should configure your Spring Boot application to connect to this server by using the service name db as the hostname, instead of localhost.</p>\n<p>However, when you're running your application inside a Docker container, you aren't actually using Docker Compose, which is why your application isn't able to connect to the database.</p>\n<p>You need to modify your docker-compose.yaml file to include the application as a service, alongside the database service, and use Docker Compose to run both services. Here is an example of what that might look like:</p>\n<pre><code>version: '3'\n\nservices:\n  app:\n    container_name: irrigation-app\n    build:\n      context: .\n      dockerfile: Dockerfile\n    depends_on:\n      - db\n    ports:\n      - &quot;8080:8080&quot;\n\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: redacted\n      POSTGRES_PASSWORD: redacted\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5332:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n</code></pre>\n<p>You should also modify your application.yaml file to connect to the db host instead of localhost:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://db:5432/irrigation\n</code></pre>\n<p>Now, you should be able to start your application and database with the docker-compose up command, and your application should be able to connect to the database.</p>\n<p>Note: Docker Compose sets up a default network for all services defined in a docker-compose.yaml file and service-to-service communication can be done via service names as hostnames. Hence db is used as the hostname in the JDBC connection string.</p>\n<p>Also, keep in mind that Docker Compose starts services in dependency order, which in your case means it starts the database before the application. However, it does not wait for a service to be &quot;ready&quot; (such as a database fully starting up and being ready to accept connections) before starting the next one. To handle this, your application should be able to tolerate the database connection not being immediately available, and should retry the connection if the initial connection attempt fails. This could be handled by Spring Boot's spring.datasource.initialization-mode property set to always (it is embedded by default).</p>\n<p>Last but not least, I removed EXPOSE 5332 and EXPOSE 5432 from your Dockerfile as your app container doesn't need to expose these ports, and updated the PostgreSQL port in application.yaml to 5432 because inside the network created by Docker Compose, the PostgreSQL container will be listening on its original port (5432), not the mapped one (5332).</p>\n"}],"owner":{"account_id":27670924,"reputation":1,"user_id":21121735,"display_name":"Amr Nashaat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685373436,"creation_date":1685372179,"question_id":76358353,"body_markdown":"I&#39;m currently creating a backend API using Java 20, and Springboot. Im kind of a beginner. So Ill explain the structure Im following. Before thinking about dockerizing the application, I ussed a docker-compose file to run a PostgreSQL Database.\r\n\r\ndocker-compose.yaml\r\n```\r\n\r\nservices:\r\n  db:\r\n    container_name: postgres\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_USER: redacted\r\n      POSTGRES_PASSWORD: redacted\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n    ports:\r\n      - &quot;5332:5432&quot;\r\n    networks:\r\n      - db\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  db:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  db:\r\n```\r\n\r\nAnd here is my application.yaml file as well\r\n```\r\nserver:\r\n  port: 8080\r\n\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://db:5332/irrigation\r\n    username: redacted\r\n    password: redacted\r\n    data: classpath:data.sql\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create-drop\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n        format-sql: true\r\n    show-sql: false\r\n  main:\r\n    web-application-type: servlet\r\n```\r\nInitially, i ran docker-compose up -d to start up the postgre container on my machine (Im using a MacBook M1 Pro). Its working perfectly on my local machine.\r\nAnd here is the structure of my project (if It helps in anyways)\r\n\r\n```\r\n.\r\n├── Dockerfile\r\n├── HELP.md\r\n├── docker-compose.yaml\r\n├── mvnw\r\n├── mvnw.cmd\r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; └── main\r\n│&#160;&#160;     ├── java\r\n│&#160;&#160;     │&#160;&#160; └── com\r\n│&#160;&#160;     │&#160;&#160;     └── amr\r\n│&#160;&#160;     │&#160;&#160;         └── irrigation\r\n│&#160;&#160;     │&#160;&#160;             ├── Main.java\r\n│&#160;&#160;     │&#160;&#160;             ├── Plot.java\r\n│&#160;&#160;     │&#160;&#160;             ├── TimeSlot.java\r\n│&#160;&#160;     │&#160;&#160;             ├── controllers\r\n│&#160;&#160;     │&#160;&#160;             │&#160;&#160; ├── PlotController.java\r\n│&#160;&#160;     │&#160;&#160;             │&#160;&#160; └── TimeslotController.java\r\n│&#160;&#160;     │&#160;&#160;             └── repositories\r\n│&#160;&#160;     │&#160;&#160;                 ├── PlotRepository.java\r\n│&#160;&#160;     │&#160;&#160;                 └── TimeslotRepository.java\r\n│&#160;&#160;     └── resources\r\n│&#160;&#160;         ├── application.yaml\r\n│&#160;&#160;         ├── data.sql\r\n│&#160;&#160;         └── import.sql\r\n└── target\r\n    ├── classes\r\n    │&#160;&#160; ├── application.yaml\r\n    │&#160;&#160; ├── com\r\n    │&#160;&#160; │&#160;&#160; └── amr\r\n    │&#160;&#160; │&#160;&#160;     └── irrigation\r\n    │&#160;&#160; │&#160;&#160;         ├── Main.class\r\n    │&#160;&#160; │&#160;&#160;         ├── Plot.class\r\n    │&#160;&#160; │&#160;&#160;         ├── TimeSlot.class\r\n    │&#160;&#160; │&#160;&#160;         ├── controllers\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; ├── PlotController.class\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; └── TimeslotController.class\r\n    │&#160;&#160; │&#160;&#160;         └── repositories\r\n    │&#160;&#160; │&#160;&#160;             ├── PlotRepository.class\r\n    │&#160;&#160; │&#160;&#160;             └── TimeslotRepository.class\r\n    │&#160;&#160; ├── data.sql\r\n    │&#160;&#160; └── import.sql\r\n    ├── generated-sources\r\n    │&#160;&#160; └── annotations\r\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar\r\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar.original\r\n    ├── maven-archiver\r\n    │&#160;&#160; └── pom.properties\r\n    └── maven-status\r\n        └── maven-compiler-plugin\r\n            └── compile\r\n                └── default-compile\r\n                    ├── createdFiles.lst\r\n                    └── inputFiles.lst\r\n```\r\n\r\nThe application runs perfectly. I&#39;ve also used the ./mvnw command to build a jar file for my application and I ran it. It works as planned.\r\n\r\n**What I actually want to do**\r\nIs to have my application as a microservice that runs on its own. To be able to run calls on my APIs using postman on localhost:8080, and to have the database running on port 5332. I also want the container to be self-sufficient, or in other words, have all the dependencies it needs to run on any machine.\r\nEDIT: I also want to run a command that created a database called irrigation. As this is the second thing I did manually. The tables, as I assume would happend, supposedly will be created automatically using the import.sql file I have.\r\n\r\n**What the problem is**\r\n```\r\nHere is my docker file\r\n\r\nFROM eclipse-temurin:20.0.1_9-jdk-alpine\r\nWORKDIR /app\r\nCOPY .mvn/ .mvn\r\nCOPY mvnw pom.xml ./\r\nRUN ./mvnw dependency:go-offline\r\nEXPOSE 8080\r\nEXPOSE 5332\r\nEXPOSE 5432\r\nCOPY src ./src\r\n\r\nRUN apk add docker-compose\r\n##CMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\r\n\r\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\r\n```\r\n\r\nThis builds successfully. However, I get faced with an error\r\n\r\n`Caused by: org.postgresql.util.PSQLException: Connection to localhost:5332 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.`\r\n\r\nCOMPLETE LOG FILE: https://pastebin.com/shhtci33 \r\nPS: Im not sure if I should paste the log file here or just link it one pastebin. Please correct me if Im wrong.\r\n\r\nI have tried for countless hours, and searched a lot. I still dont know what the problem is. I tried running the docker-compose up -d on the dockerfile initially, however, It just returned docker-compose now found. I&#39;d be very glad if someone with more experience can spot where the error is, and potentially explain to me briefly how to solve it. Thank you for reading my question! :)\r\n\r\n\r\n","title":"Connection refused to PostgreSQL Docker container in Spring Boot application using a Dockerfile","body":"<p>I'm currently creating a backend API using Java 20, and Springboot. Im kind of a beginner. So Ill explain the structure Im following. Before thinking about dockerizing the application, I ussed a docker-compose file to run a PostgreSQL Database.</p>\n<p>docker-compose.yaml</p>\n<pre><code>\nservices:\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: redacted\n      POSTGRES_PASSWORD: redacted\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5332:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n</code></pre>\n<p>And here is my application.yaml file as well</p>\n<pre><code>server:\n  port: 8080\n\nspring:\n  datasource:\n    url: jdbc:postgresql://db:5332/irrigation\n    username: redacted\n    password: redacted\n    data: classpath:data.sql\n  jpa:\n    hibernate:\n      ddl-auto: create-drop\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format-sql: true\n    show-sql: false\n  main:\n    web-application-type: servlet\n</code></pre>\n<p>Initially, i ran docker-compose up -d to start up the postgre container on my machine (Im using a MacBook M1 Pro). Its working perfectly on my local machine.\nAnd here is the structure of my project (if It helps in anyways)</p>\n<pre><code>.\n├── Dockerfile\n├── HELP.md\n├── docker-compose.yaml\n├── mvnw\n├── mvnw.cmd\n├── pom.xml\n├── src\n│   └── main\n│       ├── java\n│       │   └── com\n│       │       └── amr\n│       │           └── irrigation\n│       │               ├── Main.java\n│       │               ├── Plot.java\n│       │               ├── TimeSlot.java\n│       │               ├── controllers\n│       │               │   ├── PlotController.java\n│       │               │   └── TimeslotController.java\n│       │               └── repositories\n│       │                   ├── PlotRepository.java\n│       │                   └── TimeslotRepository.java\n│       └── resources\n│           ├── application.yaml\n│           ├── data.sql\n│           └── import.sql\n└── target\n    ├── classes\n    │   ├── application.yaml\n    │   ├── com\n    │   │   └── amr\n    │   │       └── irrigation\n    │   │           ├── Main.class\n    │   │           ├── Plot.class\n    │   │           ├── TimeSlot.class\n    │   │           ├── controllers\n    │   │           │   ├── PlotController.class\n    │   │           │   └── TimeslotController.class\n    │   │           └── repositories\n    │   │               ├── PlotRepository.class\n    │   │               └── TimeslotRepository.class\n    │   ├── data.sql\n    │   └── import.sql\n    ├── generated-sources\n    │   └── annotations\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar.original\n    ├── maven-archiver\n    │   └── pom.properties\n    └── maven-status\n        └── maven-compiler-plugin\n            └── compile\n                └── default-compile\n                    ├── createdFiles.lst\n                    └── inputFiles.lst\n</code></pre>\n<p>The application runs perfectly. I've also used the ./mvnw command to build a jar file for my application and I ran it. It works as planned.</p>\n<p><strong>What I actually want to do</strong>\nIs to have my application as a microservice that runs on its own. To be able to run calls on my APIs using postman on localhost:8080, and to have the database running on port 5332. I also want the container to be self-sufficient, or in other words, have all the dependencies it needs to run on any machine.\nEDIT: I also want to run a command that created a database called irrigation. As this is the second thing I did manually. The tables, as I assume would happend, supposedly will be created automatically using the import.sql file I have.</p>\n<p><strong>What the problem is</strong></p>\n<pre><code>Here is my docker file\n\nFROM eclipse-temurin:20.0.1_9-jdk-alpine\nWORKDIR /app\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\nRUN ./mvnw dependency:go-offline\nEXPOSE 8080\nEXPOSE 5332\nEXPOSE 5432\nCOPY src ./src\n\nRUN apk add docker-compose\n##CMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\n\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\n</code></pre>\n<p>This builds successfully. However, I get faced with an error</p>\n<p><code>Caused by: org.postgresql.util.PSQLException: Connection to localhost:5332 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.</code></p>\n<p>COMPLETE LOG FILE: <a href=\"https://pastebin.com/shhtci33\" rel=\"nofollow noreferrer\">https://pastebin.com/shhtci33</a>\nPS: Im not sure if I should paste the log file here or just link it one pastebin. Please correct me if Im wrong.</p>\n<p>I have tried for countless hours, and searched a lot. I still dont know what the problem is. I tried running the docker-compose up -d on the dockerfile initially, however, It just returned docker-compose now found. I'd be very glad if someone with more experience can spot where the error is, and potentially explain to me briefly how to solve it. Thank you for reading my question! :)</p>\n"},{"tags":["java","getter-setter"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685292770,"post_id":76352483,"comment_id":134638187,"body_markdown":"As per this [live demo](https://ideone.com/rYORy6), your code works. Use an IDE (I recommend IntelliJ) which will help you keep everything compiled.","body":"As per this <a href=\"https://ideone.com/rYORy6\" rel=\"nofollow noreferrer\">live demo</a>, your code works. Use an IDE (I recommend IntelliJ) which will help you keep everything compiled."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685291872,"creation_date":1685291872,"answer_id":76352519,"question_id":76352483,"body_markdown":"That error is not possible unless you have done the following:\r\n\r\n* You have compiled your code the way it was _before_ you added those getters/setters.\r\n* You then added them and (re)compiled everything. However, to a new location. Or, you have recompiled only your main class, with the changed (but not yet recompiled!) Employee source file on the sourcepath.\r\n* You are now running the class file created by compiling `main` __after__ your update, with the Employee class file created by compiling `Employee` __before__ it.\r\n\r\nSolution: Recompile everything.\r\n\r\n`NoSuchMethodError` can only occur if a method does exist when you compile your code but no longer exists at runtime - i.e. when you are mixing compilation output from different runs together (or, if it&#39;s not within your own code, you have compiled against version X of some library but at runtime version Y is on the classpath, or both X and Y are on the classpath resulting in an arbitrary one being used at runtime).\r\n\r\n","title":"Java: NoSuchMethodError when using getters and setters to access private variables from another class","body":"<p>That error is not possible unless you have done the following:</p>\n<ul>\n<li>You have compiled your code the way it was <em>before</em> you added those getters/setters.</li>\n<li>You then added them and (re)compiled everything. However, to a new location. Or, you have recompiled only your main class, with the changed (but not yet recompiled!) Employee source file on the sourcepath.</li>\n<li>You are now running the class file created by compiling <code>main</code> <strong>after</strong> your update, with the Employee class file created by compiling <code>Employee</code> <strong>before</strong> it.</li>\n</ul>\n<p>Solution: Recompile everything.</p>\n<p><code>NoSuchMethodError</code> can only occur if a method does exist when you compile your code but no longer exists at runtime - i.e. when you are mixing compilation output from different runs together (or, if it's not within your own code, you have compiled against version X of some library but at runtime version Y is on the classpath, or both X and Y are on the classpath resulting in an arbitrary one being used at runtime).</p>\n"}],"owner":{"account_id":21813050,"reputation":9,"user_id":16110278,"display_name":"Anurag Shirvatkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685393122,"answer_count":1,"score":0,"last_activity_date":1685373201,"creation_date":1685291372,"question_id":76352483,"body_markdown":"-I am understanding working of getters and setters in java. I am trying to access private variables(id, name) of other class through -methods like getName(),setName(). but my main method is not able to detect these methods and gives\r\n\r\n&gt;error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void Employee.setName(java.lang.String)&#39;\r\n&gt;    at getterssetters_41.main(getterssetters_41.java:5)\r\n\r\nThis is my main class:\r\n\r\n```\r\npublic  class getterssetters_41 {\r\n    public static void main(String args[]) {\r\n        Employee emp1 = new Employee();\r\n        String anurag=&quot;Anurag&quot;;\r\n        emp1.setName(anurag);\r\n        System.out.println(emp1.getName());\r\n        emp1.setId(1);\r\n        System.out.println(emp1.getId());\r\n   }\r\n}\r\n```\r\n\r\n\r\n&gt;//This is class which have variables and methods I want to access\r\n\r\n```\r\nclass Employee {\r\n    private int id;\r\n    private  String name;\r\n    public String getName(){\r\n        return this.name;\r\n    }\r\n    public void setName(String n){\r\n        name = n;\r\n    }\r\n    public void setId(int i){\r\n        id = i;\r\n    }    public int getId(){\r\n        return this.id;\r\n    }\r\n}\r\n```\r\n\r\n&#39;\r\n\r\n","title":"Java: NoSuchMethodError when using getters and setters to access private variables from another class","body":"<p>-I am understanding working of getters and setters in java. I am trying to access private variables(id, name) of other class through -methods like getName(),setName(). but my main method is not able to detect these methods and gives</p>\n<blockquote>\n<p>error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void Employee.setName(java.lang.String)'\nat getterssetters_41.main(getterssetters_41.java:5)</p>\n</blockquote>\n<p>This is my main class:</p>\n<pre><code>public  class getterssetters_41 {\n    public static void main(String args[]) {\n        Employee emp1 = new Employee();\n        String anurag=&quot;Anurag&quot;;\n        emp1.setName(anurag);\n        System.out.println(emp1.getName());\n        emp1.setId(1);\n        System.out.println(emp1.getId());\n   }\n}\n</code></pre>\n<blockquote>\n<p>//This is class which have variables and methods I want to access</p>\n</blockquote>\n<pre><code>class Employee {\n    private int id;\n    private  String name;\n    public String getName(){\n        return this.name;\n    }\n    public void setName(String n){\n        name = n;\n    }\n    public void setId(int i){\n        id = i;\n    }    public int getId(){\n        return this.id;\n    }\n}\n</code></pre>\n<p>'</p>\n"},{"tags":["java","caching","microservices","grpc","hazelcast"],"comments":[{"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"score":0,"creation_date":1685428712,"post_id":76357800,"comment_id":134654147,"body_markdown":"@noctarius  can u guys please have a look at this?","body":"@noctarius  can u guys please have a look at this?"},{"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"score":0,"creation_date":1685428723,"post_id":76357800,"comment_id":134654149,"body_markdown":"@pveentjer can u guys please have a look at this?","body":"@pveentjer can u guys please have a look at this?"},{"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"score":0,"creation_date":1685428736,"post_id":76357800,"comment_id":134654151,"body_markdown":"@Neil Stevenson can u guys please have a look at this?","body":"@Neil Stevenson can u guys please have a look at this?"}],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685372664,"creation_date":1685366898,"question_id":76357800,"body_markdown":"I have 2 micro-service applications which connect with gRPC .I have implemented Hazelcast caching and have connected both applications to Hazelcast cache over TCP/IP.I have exposed same functionality in gRPC server using REST api as well as accessing the same from gRPC Client using gRPC call.Caching works properly when REST api of application which also acts as gRPC Server is hit.However Caching does not work when call is made by applications which also acts as gRPC Client using gRPC call.\r\n\r\nPlease help with this","title":"@Cacheable does not work when call is made from gRPC Client","body":"<p>I have 2 micro-service applications which connect with gRPC .I have implemented Hazelcast caching and have connected both applications to Hazelcast cache over TCP/IP.I have exposed same functionality in gRPC server using REST api as well as accessing the same from gRPC Client using gRPC call.Caching works properly when REST api of application which also acts as gRPC Server is hit.However Caching does not work when call is made by applications which also acts as gRPC Client using gRPC call.</p>\n<p>Please help with this</p>\n"},{"tags":["java","docx4j","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685372162,"creation_date":1685372162,"answer_id":76358351,"question_id":76357099,"body_markdown":"Embedded objects in Aspose.Words Document Object Model are represented by Shape nodes with [Shape.getOleFormat()][1] property set. You can check whether `OleFormat` property is not null to identify embedded OLE objects. \r\nYou can learn more about working with OLE objects from this article:\r\nhttps://docs.aspose.com/words/java/working-with-ole-objects/\r\n\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/shape/#getOleFormat","title":"How to get the data of an embedded document inside a word document in Java","body":"<p>Embedded objects in Aspose.Words Document Object Model are represented by Shape nodes with <a href=\"https://reference.aspose.com/words/java/com.aspose.words/shape/#getOleFormat\" rel=\"nofollow noreferrer\">Shape.getOleFormat()</a> property set. You can check whether <code>OleFormat</code> property is not null to identify embedded OLE objects.\nYou can learn more about working with OLE objects from this article:\n<a href=\"https://docs.aspose.com/words/java/working-with-ole-objects/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/working-with-ole-objects/</a></p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685372162,"creation_date":1685360887,"question_id":76357099,"body_markdown":"I am using Aspose library node collection to read a Word document node by node, but embedded documents are being identified as node of type shape. How can i get the data inside those documents. Is there any way to achieve this using Aspose words or any other library.","title":"How to get the data of an embedded document inside a word document in Java","body":"<p>I am using Aspose library node collection to read a Word document node by node, but embedded documents are being identified as node of type shape. How can i get the data inside those documents. Is there any way to achieve this using Aspose words or any other library.</p>\n"},{"tags":["java","spring","concurrency","java.util.concurrent"],"owner":{"account_id":7301358,"reputation":158,"user_id":7341580,"accept_rate":60,"display_name":"wp42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685371900,"creation_date":1685370851,"question_id":76358199,"body_markdown":"In a Spring application the goal is to have multiple threads running, 1 of each &quot;type&quot; at a time.\r\nWhen running  together type1, type2, type3, type3, only the first 3 are running (concurrently), but the last one seems to stay blocked and doesn&#39;t run.\r\n\r\n    class MyClass{\r\n    \t\r\n    \tprivate ReentrantLock lock = new ReentrantLock();\r\n    \tprivate Condition shouldRun = lock.newCondition();\r\n    \tprivate Set&lt;String&gt; currentRunningTypes = Sets.newHashSet();\r\n    \r\n    \t@Async\r\n    \tpublic void process(String type){\r\n    \t\ttry{\r\n    \t\t\tlog.info(&quot;Starting type {}&quot;, type);\r\n    \t\t\tlock.lock();\r\n    \t\t\twhile(currentRunningTypes.contains(type)) {\r\n    \t\t\t\tlog.info(&quot;waiting for type {}&quot;, type);\r\n    \t\t\t\tshouldRun.await();\r\n    \t\t\t}\r\n    \t\t\tcurrentRunningTypes.add(type);\r\n    \t\t\tlock.unlock();\r\n    \r\n    \t\t\tdoSomething(type);\r\n    \r\n    \t\t} finally {\r\n    \t\t\tlog.info(&quot;Type ended {}&quot;, type);\r\n    \t\t\tif(lock.isLocked) {\r\n    \t\t\t\tlock.unlock;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate void doSomething(String type) {\r\n    \t\t//... process\r\n    \t\tcurrentRunningTypes.remove(type)\r\n    \t\tshouldRun.signalAll();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe output:\r\n\r\n    Starting type type1\r\n    Starting type type2\r\n    Starting type type3\r\n    Starting type type4\r\n    waiting for type type4\r\n    Type ended type1\r\n    Type ended type2\r\n    Type ended type3\r\n\r\nThe expected output:\r\n\r\n    Starting type type1\r\n    Starting type type2\r\n    Starting type type3\r\n    Starting type type4\r\n    waiting for type type4\r\n    Type ended type1\r\n    Type ended type2\r\n    Type ended type3\r\n    Type ended type4\r\n\r\n\r\nWhy isn&#39;t the thread starting?","title":"How to manage threads with locks and custom condition with Spring?","body":"<p>In a Spring application the goal is to have multiple threads running, 1 of each &quot;type&quot; at a time.\nWhen running  together type1, type2, type3, type3, only the first 3 are running (concurrently), but the last one seems to stay blocked and doesn't run.</p>\n<pre><code>class MyClass{\n    \n    private ReentrantLock lock = new ReentrantLock();\n    private Condition shouldRun = lock.newCondition();\n    private Set&lt;String&gt; currentRunningTypes = Sets.newHashSet();\n\n    @Async\n    public void process(String type){\n        try{\n            log.info(&quot;Starting type {}&quot;, type);\n            lock.lock();\n            while(currentRunningTypes.contains(type)) {\n                log.info(&quot;waiting for type {}&quot;, type);\n                shouldRun.await();\n            }\n            currentRunningTypes.add(type);\n            lock.unlock();\n\n            doSomething(type);\n\n        } finally {\n            log.info(&quot;Type ended {}&quot;, type);\n            if(lock.isLocked) {\n                lock.unlock;\n            }\n        }\n\n    }\n\n    private void doSomething(String type) {\n        //... process\n        currentRunningTypes.remove(type)\n        shouldRun.signalAll();\n    }\n\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>Starting type type1\nStarting type type2\nStarting type type3\nStarting type type4\nwaiting for type type4\nType ended type1\nType ended type2\nType ended type3\n</code></pre>\n<p>The expected output:</p>\n<pre><code>Starting type type1\nStarting type type2\nStarting type type3\nStarting type type4\nwaiting for type type4\nType ended type1\nType ended type2\nType ended type3\nType ended type4\n</code></pre>\n<p>Why isn't the thread starting?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":6,"creation_date":1685359502,"post_id":76356919,"comment_id":134645225,"body_markdown":"Why did you make them static?","body":"Why did you make them static?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1685359566,"post_id":76356919,"comment_id":134645240,"body_markdown":"Because it is a record and we can only declare a static fields","body":"Because it is a record and we can only declare a static fields"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1685359663,"post_id":76356919,"comment_id":134645253,"body_markdown":"You can declare them in the constructor brackets,  just after the record name. But I don&#39;t think `Result` should be a record...","body":"You can declare them in the constructor brackets,  just after the record name. But I don&#39;t think <code>Result</code> should be a record..."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1685360177,"post_id":76356919,"comment_id":134645340,"body_markdown":"Why did you make it a record? (without components))","body":"Why did you make it a record? (without components))"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685362493,"post_id":76356919,"comment_id":134645740,"body_markdown":"And what exactly is your question? That&#39;s just a code dump","body":"And what exactly is your question? That&#39;s just a code dump"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685371613,"creation_date":1685361938,"answer_id":76357221,"question_id":76356919,"body_markdown":"Since `T` is a generic type that can differ from one instance to another, you cannot use it for a static field. It doesn&#39;t have to do with records, it&#39;s just how java works. For instance, if you write this class, you&#39;ll get the same complication error:\r\n```java\r\nclass MyClass&lt;T&gt; {\r\n    public static T staticField; // ... cannot be referenced from a static context\r\n}\r\n```\r\nAs a result, if you replace the generic type `T` with `Object`, your code example will work:\r\n```\r\nstatic record Result&lt;T&gt;() {\r\n\tprivate static ResultState state;\r\n\tprivate static Exception exception;\r\n\tprivate static Object value;\r\n   \r\n    // ...\r\n}\r\n``` \r\nHowever, this looks wrong because each computation will override the previous (static) result. In my opinion, the correct way would be declare the *state, value* and *exception* fields inside the record itself, like this:\r\n\r\n```java\r\nstatic record Result&lt;T&gt;(\r\n\tResultState state,\r\n\tT value,\r\n\tException exception\r\n) {\r\n\r\n\tpublic Result(T value) {\r\n\t\tthis(ResultState.Success, value, null);\r\n\t}\r\n\r\n\tpublic Result(Exception e) {\r\n\t\tthis(ResultState.Success, null, e);\r\n\t}\r\n\r\n\tpublic void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\r\n\t\tif (state == ResultState.Faulted)\r\n\t\t\tfail.accept(exception);\r\n\t\telse\r\n\t\t\tsucc.accept(value);\r\n\t}\r\n}\r\n```","title":"Java records Generics : non-static type variable T cannot be referenced from a static context","body":"<p>Since <code>T</code> is a generic type that can differ from one instance to another, you cannot use it for a static field. It doesn't have to do with records, it's just how java works. For instance, if you write this class, you'll get the same complication error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass&lt;T&gt; {\n    public static T staticField; // ... cannot be referenced from a static context\n}\n</code></pre>\n<p>As a result, if you replace the generic type <code>T</code> with <code>Object</code>, your code example will work:</p>\n<pre><code>static record Result&lt;T&gt;() {\n    private static ResultState state;\n    private static Exception exception;\n    private static Object value;\n   \n    // ...\n}\n</code></pre>\n<p>However, this looks wrong because each computation will override the previous (static) result. In my opinion, the correct way would be declare the <em>state, value</em> and <em>exception</em> fields inside the record itself, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static record Result&lt;T&gt;(\n    ResultState state,\n    T value,\n    Exception exception\n) {\n\n    public Result(T value) {\n        this(ResultState.Success, value, null);\n    }\n\n    public Result(Exception e) {\n        this(ResultState.Success, null, e);\n    }\n\n    public void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\n        if (state == ResultState.Faulted)\n            fail.accept(exception);\n        else\n            succ.accept(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685371613,"creation_date":1685359469,"question_id":76356919,"body_markdown":"     public record Result&lt;T&gt;() {\r\n        private static ResultState state;\r\n        private static Exception exception;\r\n        private static T value;\r\n    \r\n        public Result(T value) {\r\n            state = ResultState.Success;\r\n            value = value;\r\n            exception = null;\r\n        }\r\n    \r\n        public Result(Exception e) {\r\n            state = ResultState.Faulted;\r\n            exception = e;\r\n            value = null;\r\n        }\r\n    \r\n        public static Supplier&lt;Boolean&gt; isFaulted = () -&gt; state == ResultState.Faulted;\r\n    \r\n        public static Supplier&lt;Boolean&gt; isSuccess = () -&gt; state == ResultState.Success;\r\n    \r\n        public void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\r\n            if (isFaulted.get())\r\n                fail.accept(exception);\r\n            else\r\n                succ.accept(value);\r\n        }\r\n    }\r\n\r\n**Exception**\r\n\r\n    error: non-static type variable T cannot be referenced from a static context\r\n        private static T value;\r\n                   ^","title":"Java records Generics : non-static type variable T cannot be referenced from a static context","body":"<pre><code> public record Result&lt;T&gt;() {\n    private static ResultState state;\n    private static Exception exception;\n    private static T value;\n\n    public Result(T value) {\n        state = ResultState.Success;\n        value = value;\n        exception = null;\n    }\n\n    public Result(Exception e) {\n        state = ResultState.Faulted;\n        exception = e;\n        value = null;\n    }\n\n    public static Supplier&lt;Boolean&gt; isFaulted = () -&gt; state == ResultState.Faulted;\n\n    public static Supplier&lt;Boolean&gt; isSuccess = () -&gt; state == ResultState.Success;\n\n    public void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\n        if (isFaulted.get())\n            fail.accept(exception);\n        else\n            succ.accept(value);\n    }\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>error: non-static type variable T cannot be referenced from a static context\n    private static T value;\n               ^\n</code></pre>\n"},{"tags":["java","windows","registry"],"comments":[{"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":0,"creation_date":1329947792,"post_id":9403685,"comment_id":11883308,"body_markdown":"possible duplicate of [read/write to Windows Registry using Java](http://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java\">read/write to Windows Registry using Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329948235,"creation_date":1329947867,"answer_id":9403735,"question_id":9403685,"body_markdown":"I&#39;ve used jRegistryKey.dll jRegistryKey.jar \r\nHere you go \r\nftp://ftp.heanet.ie/mirrors/sourceforge/j/project/jr/jregistrykey/manual/original/jreg_key.pdf\r\n\r\ne.g. code:\r\n\r\n    import ca.beq.util.win32.registry.RegistryKey;\r\n    import ca.beq.util.win32.registry.RegistryValue;\r\n    import ca.beq.util.win32.registry.RootKey;\r\n    \r\nenumeration from example ---\r\n\r\n    RegistryKey r = new RegistryKey(RootKey.HKEY_CURRENT_USER, &quot;Software&quot;);\r\n    if(r.hasSubkeys()) {\r\n       Iterator i = r.subkeys();\r\n       while(i.hasNext()) {\r\n          RegistryKey x = (RegistryKey)i.next();\r\n          System.out.println(x.toString());\r\n       } // while\r\n    } // if\r\n\r\n---------------\r\n    \r\n             RegistryKey r = new RegistryKey(RootKey.HKEY_LOCAL_MACHINE, &quot;Software\\\\app\\\\update\\\\Date&quot;);\r\n              if (r.hasValue(&quot;LastSuccessfulUpdate&quot;)) {\r\n                RegistryValue v = r.getValue(&quot;LastSuccessfulUpdate&quot;);\r\n                updateDate = v.getStringValue();\r\n                Date now = new Date(Long.parseLong(updateDate.trim() + &quot;000&quot;));\r\n................\r\n        }\r\n","title":"Reading subfolders within the registry (JAVA)","body":"<p>I've used jRegistryKey.dll jRegistryKey.jar \nHere you go \n<a href=\"ftp://ftp.heanet.ie/mirrors/sourceforge/j/project/jr/jregistrykey/manual/original/jreg_key.pdf\" rel=\"nofollow\">ftp://ftp.heanet.ie/mirrors/sourceforge/j/project/jr/jregistrykey/manual/original/jreg_key.pdf</a></p>\n\n<p>e.g. code:</p>\n\n<pre><code>import ca.beq.util.win32.registry.RegistryKey;\nimport ca.beq.util.win32.registry.RegistryValue;\nimport ca.beq.util.win32.registry.RootKey;\n</code></pre>\n\n<p>enumeration from example ---</p>\n\n<pre><code>RegistryKey r = new RegistryKey(RootKey.HKEY_CURRENT_USER, \"Software\");\nif(r.hasSubkeys()) {\n   Iterator i = r.subkeys();\n   while(i.hasNext()) {\n      RegistryKey x = (RegistryKey)i.next();\n      System.out.println(x.toString());\n   } // while\n} // if\n</code></pre>\n\n<hr>\n\n<pre><code>         RegistryKey r = new RegistryKey(RootKey.HKEY_LOCAL_MACHINE, \"Software\\\\app\\\\update\\\\Date\");\n          if (r.hasValue(\"LastSuccessfulUpdate\")) {\n            RegistryValue v = r.getValue(\"LastSuccessfulUpdate\");\n            updateDate = v.getStringValue();\n            Date now = new Date(Long.parseLong(updateDate.trim() + \"000\"));\n</code></pre>\n\n<p>................\n        }</p>\n"}],"owner":{"account_id":1270546,"reputation":1,"user_id":1226938,"display_name":"user1226938"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685370977,"creation_date":1329947627,"question_id":9403685,"body_markdown":"I&#39;m busy creating a program that will read parts of the registry to find out what USB devices have been connected to a windows system etc... I&#39;ve managed to create a piece of software what will display the values, however each person&#39;s registry will hold different information.\r\n\r\nI&#39;ve tried looking everywhere to find help/guidence with code to be able to scan a registry folder and display the subfolders within it. I know there is plenty of code for reading ordinary file locations however none will work with attempting to read the registry.\r\n\r\nThe folder location I am trying to read is:\r\n\r\n**&quot;\\&quot;HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\Enum\\\\USBSTOR\\\\**\r\n\r\nI&#39;ve managed to create a program which will read the values from the above location however I have to manualy specify each subfolder into the code.\r\n\r\n\r\nI hope i&#39;ve explained what i need, sorry if it&#39;s confusing\r\n\r\nThanks in advance\r\n\r\n","title":"Reading subfolders within the registry (JAVA)","body":"<p>I'm busy creating a program that will read parts of the registry to find out what USB devices have been connected to a windows system etc... I've managed to create a piece of software what will display the values, however each person's registry will hold different information.</p>\n\n<p>I've tried looking everywhere to find help/guidence with code to be able to scan a registry folder and display the subfolders within it. I know there is plenty of code for reading ordinary file locations however none will work with attempting to read the registry.</p>\n\n<p>The folder location I am trying to read is:</p>\n\n<p><strong>\"\\\"HKLM\\SYSTEM\\CurrentControlSet\\Enum\\USBSTOR\\</strong></p>\n\n<p>I've managed to create a program which will read the values from the above location however I have to manualy specify each subfolder into the code.</p>\n\n<p>I hope i've explained what i need, sorry if it's confusing</p>\n\n<p>Thanks in advance</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9589,"page":403,"page_size":100}
