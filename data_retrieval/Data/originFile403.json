{"items":[{"tags":["java","singleton"],"comments":[{"owner":{"account_id":173890,"reputation":30412,"user_id":402884,"accept_rate":75,"display_name":"Chris Martin"},"score":13,"creation_date":1407874324,"post_id":25273210,"comment_id":39382075,"body_markdown":"The quote isn&#39;t about testing the singleton, it&#39;s about testing code that uses the singleton.","body":"The quote isn&#39;t about testing the singleton, it&#39;s about testing code that uses the singleton."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1407874327,"post_id":25273210,"comment_id":39382078,"body_markdown":"Now do you test _the client_? In a **unit** test you need to mock dependencies and test only the CUT. How do you do this when the client uses a hardcoded reference to `Singleton.INSTANCE`?","body":"Now do you test <i>the client</i>? In a <b>unit</b> test you need to mock dependencies and test only the CUT. How do you do this when the client uses a hardcoded reference to <code>Singleton.INSTANCE</code>?"},{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":1,"creation_date":1407875155,"post_id":25273210,"comment_id":39382463,"body_markdown":"This actually is true for `static`s in general (that is, anything accessed in a static manner)","body":"This actually is true for <code>static</code>s in general (that is, anything accessed in a static manner)"},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":1,"creation_date":1407875564,"post_id":25273210,"comment_id":39382653,"body_markdown":"Since nowadays a singleton gets injected and is not accessed in a static manner, do not try too hard on this statement.","body":"Since nowadays a singleton gets injected and is not accessed in a static manner, do not try too hard on this statement."}],"answers":[{"comments":[{"owner":{"account_id":4641941,"reputation":9377,"user_id":3761530,"accept_rate":100,"display_name":"coder123"},"score":7,"creation_date":1407875499,"post_id":25273286,"comment_id":39382615,"body_markdown":"But it seems like the main difference between `MySingleton` and `MyNonSingleton` is that `MyNonSingleton` implements an interface that serves as the type, not that `MyNonSingleton` isn&#39;t a singleton. If `MySingleton` were to remain a singleton, but implemented `ISomeInterface`, wouldn&#39;t you be able to test it in the same way (with a `MockSingleton` that implemented the same interface)?","body":"But it seems like the main difference between <code>MySingleton</code> and <code>MyNonSingleton</code> is that <code>MyNonSingleton</code> implements an interface that serves as the type, not that <code>MyNonSingleton</code> isn&#39;t a singleton. If <code>MySingleton</code> were to remain a singleton, but implemented <code>ISomeInterface</code>, wouldn&#39;t you be able to test it in the same way (with a <code>MockSingleton</code> that implemented the same interface)?"},{"owner":{"account_id":944628,"reputation":5058,"user_id":972121,"accept_rate":71,"display_name":"mclaassen"},"score":0,"creation_date":1407875579,"post_id":25273286,"comment_id":39382661,"body_markdown":"@coder123 But how are you going to change which singleton is used in your unit tests?","body":"@coder123 But how are you going to change which singleton is used in your unit tests?"},{"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"score":0,"creation_date":1407875775,"post_id":25273286,"comment_id":39382745,"body_markdown":"@mclaassen I Java&#39;fied it a bit for you :) To contribute to the general discussion. There is `powermock` that enables you to mock even static methods. Thus Josh&#39;s point on testability is less of a problem when you choose to use it.","body":"@mclaassen I Java&#39;fied it a bit for you :) To contribute to the general discussion. There is <code>powermock</code> that enables you to mock even static methods. Thus Josh&#39;s point on testability is less of a problem when you choose to use it."},{"owner":{"account_id":944628,"reputation":5058,"user_id":972121,"accept_rate":71,"display_name":"mclaassen"},"score":0,"creation_date":1407876297,"post_id":25273286,"comment_id":39383003,"body_markdown":"@ThomasJungblut Thanks. It&#39;s been a while since I used Java.","body":"@ThomasJungblut Thanks. It&#39;s been a while since I used Java."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1407879293,"post_id":25273286,"comment_id":39384504,"body_markdown":"@coder123 wouldn&#39;t a singleton by definition be the only version? Otherwise it&#39;s at best a dualton ;)","body":"@coder123 wouldn&#39;t a singleton by definition be the only version? Otherwise it&#39;s at best a dualton ;)"},{"owner":{"account_id":5912913,"reputation":934,"user_id":4652536,"accept_rate":17,"display_name":"yuxh"},"score":0,"creation_date":1493821079,"post_id":25273286,"comment_id":74566517,"body_markdown":"@mclaassen ，I think &quot;MyNonSingleton&quot; can be replace with something like MySingletonImpl  ?  It doesn&#39;t matter whether singleton or not.","body":"@mclaassen ，I think &quot;MyNonSingleton&quot; can be replace with something like MySingletonImpl  ?  It doesn&#39;t matter whether singleton or not."},{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":0,"creation_date":1687183596,"post_id":25273286,"comment_id":134897365,"body_markdown":"@Voo on coder123 &#39;s question.... if its implementing an interface, how would you create another instance just with the interface? On another hand to coder123 &#39;s original question, so just to test the singleton, do we need to implement an interface??","body":"@Voo on coder123 &#39;s question.... if its implementing an interface, how would you create another instance just with the interface? On another hand to coder123 &#39;s original question, so just to test the singleton, do we need to implement an interface??"}],"tags":[],"owner":{"account_id":944628,"reputation":5058,"user_id":972121,"accept_rate":71,"display_name":"mclaassen"},"comment_count":7,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1407875761,"creation_date":1407874356,"answer_id":25273286,"question_id":25273210,"body_markdown":"What if  your singleton was performing operations on a database or writing data to a file? You would not want that occurring in a unit test. You would want to mock out the object to perform some operations in memory instead so you could verify them without having permanent side effects. Unit tests should be self contained and should not create connections to databases or perform other operations with outside systems that could fail and then cause your unit test to fail for an unrelated reason. \r\n\r\nExample with pseudo-java (I&#39;m a C# dev):\r\n\r\n    public class MySingleton {\r\n    \r\n    \tprivate static final MySingleton instance = new MySingleton();\r\n    \t\r\n    \tprivate MySingleton() { }\r\n    \t\r\n    \tpublic int doSomething() {\r\n    \t\t//create connection to database, write to a file, etc..\r\n    \t\treturn something;\r\n    \t}\r\n\r\n    \tpublic static MySingleton getInstance() {\r\n    \t\treturn instance;\r\n    \t}\r\n    }\r\n        \r\n    public class OtherClass {\r\n    \t\r\n            public int myMethod() {\r\n                //do some stuff\r\n                int result = MySingleton.getInstance().doSomething();\r\n    \t\t\t\r\n                //do some other suff\r\n                return something;\r\n            }\r\n    }\r\n    \r\nIn order to test `myMethod` we have to make an actual database call, file operation etc\r\n\r\n\r\n    @Test\r\n    public void testMyMethod() {\r\n        OtherClass obj = new OtherClass();\r\n        \r\n        //if this fails it might be because of some external code called by \r\n        //MySingleton.doSomething(), not necessarily the logic inside MyMethod()\r\n\r\n        Asserts.assertEqual(1, obj.myMethod());\r\n    }\r\n\r\nIf `MySingleton` was instead something like:\r\n\r\n    public class MyNonSingleton implements ISomeInterface {\r\n\r\n        public MyNonSingleton() {}\r\n\r\n        @Override\r\n        public int doSomething() {\r\n            //create connection to database, write to a file, etc..\r\n            return something;\r\n        }\r\n\r\n    }\r\n\r\nyou could then inject it as a dependency into MyOtherClass like this:\r\n\r\n    public class OtherClass {\r\n\r\n        private ISomeInterface obj;\r\n\r\n        public OtherClass(ISomeInterface obj) {\r\n            this.obj = obj;\r\n        }\r\n\r\n        public int myMethod() {\r\n            //do some stuff\r\n            int result = obj.doSomething();\r\n\r\n            //do some other stuff\r\n            return something;\r\n        }\r\n    }\r\n    \r\nthen you can test like this:\r\n\r\n    @Test\r\n    public void TestMyMethod() {\r\n        OtherClass obj = new OtherClass(new MockNonSingleton());\r\n        \r\n        //now our mock object can fake the database, filesystem etc. calls to isolate the testing to just the logic in myMethod()\r\n\r\n        Asserts.assertEqual(1, obj.myMethod());\r\n    }\r\n\r\n   ","title":"Why is a singleton class hard to test?","body":"<p>What if  your singleton was performing operations on a database or writing data to a file? You would not want that occurring in a unit test. You would want to mock out the object to perform some operations in memory instead so you could verify them without having permanent side effects. Unit tests should be self contained and should not create connections to databases or perform other operations with outside systems that could fail and then cause your unit test to fail for an unrelated reason. </p>\n\n<p>Example with pseudo-java (I'm a C# dev):</p>\n\n<pre><code>public class MySingleton {\n\n    private static final MySingleton instance = new MySingleton();\n\n    private MySingleton() { }\n\n    public int doSomething() {\n        //create connection to database, write to a file, etc..\n        return something;\n    }\n\n    public static MySingleton getInstance() {\n        return instance;\n    }\n}\n\npublic class OtherClass {\n\n        public int myMethod() {\n            //do some stuff\n            int result = MySingleton.getInstance().doSomething();\n\n            //do some other suff\n            return something;\n        }\n}\n</code></pre>\n\n<p>In order to test <code>myMethod</code> we have to make an actual database call, file operation etc</p>\n\n<pre><code>@Test\npublic void testMyMethod() {\n    OtherClass obj = new OtherClass();\n\n    //if this fails it might be because of some external code called by \n    //MySingleton.doSomething(), not necessarily the logic inside MyMethod()\n\n    Asserts.assertEqual(1, obj.myMethod());\n}\n</code></pre>\n\n<p>If <code>MySingleton</code> was instead something like:</p>\n\n<pre><code>public class MyNonSingleton implements ISomeInterface {\n\n    public MyNonSingleton() {}\n\n    @Override\n    public int doSomething() {\n        //create connection to database, write to a file, etc..\n        return something;\n    }\n\n}\n</code></pre>\n\n<p>you could then inject it as a dependency into MyOtherClass like this:</p>\n\n<pre><code>public class OtherClass {\n\n    private ISomeInterface obj;\n\n    public OtherClass(ISomeInterface obj) {\n        this.obj = obj;\n    }\n\n    public int myMethod() {\n        //do some stuff\n        int result = obj.doSomething();\n\n        //do some other stuff\n        return something;\n    }\n}\n</code></pre>\n\n<p>then you can test like this:</p>\n\n<pre><code>@Test\npublic void TestMyMethod() {\n    OtherClass obj = new OtherClass(new MockNonSingleton());\n\n    //now our mock object can fake the database, filesystem etc. calls to isolate the testing to just the logic in myMethod()\n\n    Asserts.assertEqual(1, obj.myMethod());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1843186,"reputation":1464,"user_id":1672165,"accept_rate":67,"display_name":"lot"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548678362,"creation_date":1548678362,"answer_id":54402013,"question_id":25273210,"body_markdown":"Personally I think this statement is totally **wrong**, because it assumes that singleton is not replacable (mockable) for unit tests. On the contrary. In Spring&#39;s dependency injection, for example, singleton is actually the default model for DI components. Singletons and dependency injection are not mutually exclusive, which statement above somehow tries to imply.\r\n\r\nI agree that anything that can&#39;t be mocked makes application more difficult to test, but **there is no reason to assume singletons are less mockable than any other objects in your application**.\r\n\r\nWhat might be the problem, is the fact that singleton is one global instance and when it can be in too many different states, unit tests might show unpredictable results because of changing state of the singleton. But there are simple solutions to this - mock your singleton and make your mock to have less states. Or write your tests in such a fashion, that singleton is recreated (or reinitialized) before each unit test that depends on it. Or, the best solution, test your application for all possible states of the singleton. Ultimately, if reality requires multiple states, like, for example, a database connection (disconnected/connecting/connected/error/...), then you will have to deal with it regardless of whether you use singletons or not.","title":"Why is a singleton class hard to test?","body":"<p>Personally I think this statement is totally <strong>wrong</strong>, because it assumes that singleton is not replacable (mockable) for unit tests. On the contrary. In Spring's dependency injection, for example, singleton is actually the default model for DI components. Singletons and dependency injection are not mutually exclusive, which statement above somehow tries to imply.</p>\n\n<p>I agree that anything that can't be mocked makes application more difficult to test, but <strong>there is no reason to assume singletons are less mockable than any other objects in your application</strong>.</p>\n\n<p>What might be the problem, is the fact that singleton is one global instance and when it can be in too many different states, unit tests might show unpredictable results because of changing state of the singleton. But there are simple solutions to this - mock your singleton and make your mock to have less states. Or write your tests in such a fashion, that singleton is recreated (or reinitialized) before each unit test that depends on it. Or, the best solution, test your application for all possible states of the singleton. Ultimately, if reality requires multiple states, like, for example, a database connection (disconnected/connecting/connected/error/...), then you will have to deal with it regardless of whether you use singletons or not.</p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641891476,"creation_date":1641777873,"answer_id":70646894,"question_id":25273210,"body_markdown":"# Impossible to substitute a mock implementation for a singleton\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.Mockito;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    public class Main {\r\n        @Test\r\n        void test(){\r\n            SpellChecker s = Mockito.mock(SpellChecker.class); //IMPOSSIBLE\r\n            when(s.check(any())).thenReturn(false);\r\n            Client c = new Client(s);\r\n            assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\r\n        }\r\n    }\r\n    \r\n    class SpellChecker{\r\n        private static final SpellChecker INSTANCE = new SpellChecker();\r\n        private SpellChecker(){throw new AssertionError();}\r\n        public boolean check(String word){return true;}\r\n        public static SpellChecker getInstance(){return INSTANCE;}\r\n    }\r\n    \r\n    class Client{\r\n        private SpellChecker s;\r\n        Client(SpellChecker s){this.s=s;}\r\n        boolean check(String str){return s.check(str);}\r\n    }\r\n\r\n# unless it implements an interface that serves as its type.\r\n\r\n    public class Main {\r\n        @Test\r\n        void test(){\r\n            SpellCheckerI s = Mockito.mock(SpellCheckerI.class); //POSSIBLE\r\n            when(s.check(any())).thenReturn(false);\r\n            Client c = new Client(s);\r\n            assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\r\n        }\r\n    }\r\n    \r\n    interface SpellCheckerI{boolean check(String word);}\r\n    \r\n    class SpellChecker implements SpellCheckerI{\r\n        private static final SpellChecker INSTANCE = new SpellChecker();\r\n        private SpellChecker(){throw new AssertionError();}\r\n        @Override public boolean check(String word){return true;}\r\n        public static SpellChecker getInstance(){return INSTANCE;}\r\n    }\r\n    \r\n    class Client{\r\n        private SpellCheckerI s;\r\n        Client(SpellCheckerI s){this.s=s;}\r\n        boolean check(String str){return s.check(str);}\r\n    }\r\n\r\nP.S You might want to check out [this](https://mattcarroll.medium.com/singletons-the-safe-way-9d1e019220fc) wonderful post too. Btw, the unit test state danger is not a great example(it&#39;s not a **unit** test), but getting the point is more important.","title":"Why is a singleton class hard to test?","body":"<h1>Impossible to substitute a mock implementation for a singleton</h1>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\n\npublic class Main {\n    @Test\n    void test(){\n        SpellChecker s = Mockito.mock(SpellChecker.class); //IMPOSSIBLE\n        when(s.check(any())).thenReturn(false);\n        Client c = new Client(s);\n        assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\n    }\n}\n\nclass SpellChecker{\n    private static final SpellChecker INSTANCE = new SpellChecker();\n    private SpellChecker(){throw new AssertionError();}\n    public boolean check(String word){return true;}\n    public static SpellChecker getInstance(){return INSTANCE;}\n}\n\nclass Client{\n    private SpellChecker s;\n    Client(SpellChecker s){this.s=s;}\n    boolean check(String str){return s.check(str);}\n}\n</code></pre>\n<h1>unless it implements an interface that serves as its type.</h1>\n<pre><code>public class Main {\n    @Test\n    void test(){\n        SpellCheckerI s = Mockito.mock(SpellCheckerI.class); //POSSIBLE\n        when(s.check(any())).thenReturn(false);\n        Client c = new Client(s);\n        assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\n    }\n}\n\ninterface SpellCheckerI{boolean check(String word);}\n\nclass SpellChecker implements SpellCheckerI{\n    private static final SpellChecker INSTANCE = new SpellChecker();\n    private SpellChecker(){throw new AssertionError();}\n    @Override public boolean check(String word){return true;}\n    public static SpellChecker getInstance(){return INSTANCE;}\n}\n\nclass Client{\n    private SpellCheckerI s;\n    Client(SpellCheckerI s){this.s=s;}\n    boolean check(String str){return s.check(str);}\n}\n</code></pre>\n<p>P.S You might want to check out <a href=\"https://mattcarroll.medium.com/singletons-the-safe-way-9d1e019220fc\" rel=\"nofollow noreferrer\">this</a> wonderful post too. Btw, the unit test state danger is not a great example(it's not a <strong>unit</strong> test), but getting the point is more important.</p>\n"},{"tags":[],"owner":{"account_id":4983383,"reputation":301,"user_id":4007690,"display_name":"Komoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685462484,"creation_date":1685462484,"answer_id":76366640,"question_id":25273210,"body_markdown":" You can actually substitute a mocked implementation for a singleton if you wanted to\r\n\r\n    import static org.mockito.Mockito.mockConstruction;\r\n    \r\n    try (MockedConstruction&lt;SpellChecker&gt; mocked = mockConstruction(SpellChecker.class,\r\n        \t\t(mock, context) -&gt; {\r\n        \t\t   // other mock and when-thenReturn constructs\r\n        \r\n        \t\t})) {\r\n        \r\n        \t// assertions here\r\n        }","title":"Why is a singleton class hard to test?","body":"<p>You can actually substitute a mocked implementation for a singleton if you wanted to</p>\n<pre><code>import static org.mockito.Mockito.mockConstruction;\n\ntry (MockedConstruction&lt;SpellChecker&gt; mocked = mockConstruction(SpellChecker.class,\n            (mock, context) -&gt; {\n               // other mock and when-thenReturn constructs\n    \n            })) {\n    \n        // assertions here\n    }\n</code></pre>\n"}],"owner":{"account_id":4641941,"reputation":9377,"user_id":3761530,"accept_rate":100,"display_name":"coder123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8668,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":25273286,"answer_count":4,"score":19,"last_activity_date":1685462484,"creation_date":1407874123,"question_id":25273210,"body_markdown":"**Effective Java** Item 3 (Enforce the singleton property with a private constructor or an enum type) notes that:\r\n\r\n&gt; Making a class a singleton can make it difficult to test its clients, as it&#39;s impossible to substitute a mock implementation for a singleton unless it implements an interface that serves as its type.\r\n\r\nFor testing purposes, why is it not sufficient to instantiate the one singleton instance and test its APIs? Isn&#39;t that what a client would be consuming? The quote seems to imply that testing the singleton would involve a &quot;mock implementation,&quot; but why is that necessary?\r\n\r\nI&#39;ve seen various &quot;explanations&quot; that are more or less rephrasings of the quote above. Can someone explain this further, preferably with a code example?\r\n","title":"Why is a singleton class hard to test?","body":"<p><strong>Effective Java</strong> Item 3 (Enforce the singleton property with a private constructor or an enum type) notes that:</p>\n\n<blockquote>\n  <p>Making a class a singleton can make it difficult to test its clients, as it's impossible to substitute a mock implementation for a singleton unless it implements an interface that serves as its type.</p>\n</blockquote>\n\n<p>For testing purposes, why is it not sufficient to instantiate the one singleton instance and test its APIs? Isn't that what a client would be consuming? The quote seems to imply that testing the singleton would involve a \"mock implementation,\" but why is that necessary?</p>\n\n<p>I've seen various \"explanations\" that are more or less rephrasings of the quote above. Can someone explain this further, preferably with a code example?</p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"comments":[{"owner":{"account_id":19012104,"reputation":19,"user_id":13877835,"display_name":"Isuru Thiwanka"},"score":0,"creation_date":1684993777,"post_id":76317105,"comment_id":134599193,"body_markdown":"&quot;setOnClickListener&quot; works well on the button with ID &quot;button5&quot; on the activity&#39;s original layout even after going back again (like in the &quot;onBackPressed()&quot; method).  The problem is with the &quot;setOnClickListener&quot; on text-view on the newly inflated layout file using the &quot;setContentView&quot; method. In my activity code, I have set the &quot;onClick&quot; attribute to the button with ID &quot;button5&quot; and its method is in the activity code as &quot;public void open_new_layout(View view)&quot;. When I click on that, it displays the inflated layout correctly. Every time , no matter what &quot;button5&quot; works well.","body":"&quot;setOnClickListener&quot; works well on the button with ID &quot;button5&quot; on the activity&#39;s original layout even after going back again (like in the &quot;onBackPressed()&quot; method).  The problem is with the &quot;setOnClickListener&quot; on text-view on the newly inflated layout file using the &quot;setContentView&quot; method. In my activity code, I have set the &quot;onClick&quot; attribute to the button with ID &quot;button5&quot; and its method is in the activity code as &quot;public void open_new_layout(View view)&quot;. When I click on that, it displays the inflated layout correctly. Every time , no matter what &quot;button5&quot; works well."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1685022905,"post_id":76317105,"comment_id":134605535,"body_markdown":"@IsuruThiwanka oh right, you&#39;re setting one of your click listeners in XML, I didn&#39;t notice that - sorry! The rest still stands though - you need to set your click listener on the view hierarchy being displayed, and when you call `setContentView(R.layout.some_layout)` you&#39;re inflating *a new set of Views for display* .So your click listener won&#39;t work, because the View object you added it to isn&#39;t on the screen. You need to add a click listener to the new View, or use `setContentView` with your already inflated hiearchy, like I explained in the answer","body":"@IsuruThiwanka oh right, you&#39;re setting one of your click listeners in XML, I didn&#39;t notice that - sorry! The rest still stands though - you need to set your click listener on the view hierarchy being displayed, and when you call <code>setContentView(R.layout.some_layout)</code> you&#39;re inflating <i>a new set of Views for display</i> .So your click listener won&#39;t work, because the View object you added it to isn&#39;t on the screen. You need to add a click listener to the new View, or use <code>setContentView</code> with your already inflated hiearchy, like I explained in the answer"},{"owner":{"account_id":19012104,"reputation":19,"user_id":13877835,"display_name":"Isuru Thiwanka"},"score":0,"creation_date":1685462058,"post_id":76317105,"comment_id":134661918,"body_markdown":"Yes. I did what you said. It worked..Thanks lot","body":"Yes. I did what you said. It worked..Thanks lot"}],"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684861137,"creation_date":1684861137,"answer_id":76317105,"question_id":76316398,"body_markdown":"You&#39;re inflating a layout (`custome_layout.xml`) and setting a click listener on its `TextView`, but you&#39;re not actually displaying that inflated layout - so the user can&#39;t click on it!\r\n\r\nI&#39;m guessing you actually want to set the click listener on the `Button` in `activity_layout`:\r\n\r\n````\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    // inflate and display the main activity layout\r\n    setContentView(R.layout.activity_layout);\r\n\r\n    // find the button on the displayed layout\r\n    Button button = findViewById(R.id.button5);\r\n    \r\n    // set a click listener on it\r\n    button.setOnClickListener(new OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            // call openNewLayout or whatever\r\n        }\r\n    };\r\n}\r\n````\r\n\r\n----\r\n\r\nA problem here is you&#39;re using `setContentView` with layout resource IDs, like `setContentView(R.layout.activity_layout)`. That takes the XML file, *inflates* its layout (i.e. creates the `View` objects described in the XML file and connects them up), and finally displays that final hierarchy of `View` objects.\r\n\r\nWhen you find `button` and set a click listener on it, *you&#39;re setting it on that specific `View` object*. If you call `setContentView(R.layout.activity_layout)` again (like in your &#39;back&#39; function) then *it inflates a new set of `View` objects*. The `Button` with the `button5` ID **won&#39;t have a click listener set on it** until you set it up again, because it&#39;s a completely new object.\r\n\r\n----\r\n\r\nYou have two options here. You can manually inflate each view hierarchy and store them (like you&#39;re doing with `R.layout.custome_layout` in `onCreate`) and then call `setContentView(view1)` etc, i.e. passing *a set of `Views` for display*. That way, since you&#39;re using the same objects, any click listeners will still be set.\r\n\r\nThe other option is to do what you&#39;re doing, and call `setContentView(R.layout.activity_layout)`, but run your setup code (adding click listeners etc) every time you call it - you&#39;re inflating new objects, so you need to set them up every time. The easiest way to do that would be creating a method like `showMainLayout()` that has the `setContentView` and `setOnClickListener` code, and call that when you want to display that layout.\r\n\r\nOr you could use `Fragment`s and just swap between those - this kind of thing is a big part of what they&#39;re for.","title":"&quot;setOnClickListener&quot; methode doesn&#39;t work on custom layout file set by &quot;setContentView&quot;","body":"<p>You're inflating a layout (<code>custome_layout.xml</code>) and setting a click listener on its <code>TextView</code>, but you're not actually displaying that inflated layout - so the user can't click on it!</p>\n<p>I'm guessing you actually want to set the click listener on the <code>Button</code> in <code>activity_layout</code>:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // inflate and display the main activity layout\n    setContentView(R.layout.activity_layout);\n\n    // find the button on the displayed layout\n    Button button = findViewById(R.id.button5);\n    \n    // set a click listener on it\n    button.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // call openNewLayout or whatever\n        }\n    };\n}\n</code></pre>\n<hr />\n<p>A problem here is you're using <code>setContentView</code> with layout resource IDs, like <code>setContentView(R.layout.activity_layout)</code>. That takes the XML file, <em>inflates</em> its layout (i.e. creates the <code>View</code> objects described in the XML file and connects them up), and finally displays that final hierarchy of <code>View</code> objects.</p>\n<p>When you find <code>button</code> and set a click listener on it, <em>you're setting it on that specific <code>View</code> object</em>. If you call <code>setContentView(R.layout.activity_layout)</code> again (like in your 'back' function) then <em>it inflates a new set of <code>View</code> objects</em>. The <code>Button</code> with the <code>button5</code> ID <strong>won't have a click listener set on it</strong> until you set it up again, because it's a completely new object.</p>\n<hr />\n<p>You have two options here. You can manually inflate each view hierarchy and store them (like you're doing with <code>R.layout.custome_layout</code> in <code>onCreate</code>) and then call <code>setContentView(view1)</code> etc, i.e. passing <em>a set of <code>Views</code> for display</em>. That way, since you're using the same objects, any click listeners will still be set.</p>\n<p>The other option is to do what you're doing, and call <code>setContentView(R.layout.activity_layout)</code>, but run your setup code (adding click listeners etc) every time you call it - you're inflating new objects, so you need to set them up every time. The easiest way to do that would be creating a method like <code>showMainLayout()</code> that has the <code>setContentView</code> and <code>setOnClickListener</code> code, and call that when you want to display that layout.</p>\n<p>Or you could use <code>Fragment</code>s and just swap between those - this kind of thing is a big part of what they're for.</p>\n"},{"tags":[],"owner":{"account_id":19012104,"reputation":19,"user_id":13877835,"display_name":"Isuru Thiwanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685462369,"creation_date":1685462369,"answer_id":76366630,"question_id":76316398,"body_markdown":"Solution : Here we need to store customer layouts in &quot;View&quot; objects in &quot;oncreate()&quot; method. Then set new layout using &quot;setContentView()&quot; method like\r\n\r\n    setContentView(view);\r\n\r\nThen initiate a child object on the view like `textview = view.findViewById(R.id.id_of_element);`\r\n\r\nthen set the &quot;setOnClickListener&quot; on that element ..\r\nIt works..","title":"&quot;setOnClickListener&quot; methode doesn&#39;t work on custom layout file set by &quot;setContentView&quot;","body":"<p>Solution : Here we need to store customer layouts in &quot;View&quot; objects in &quot;oncreate()&quot; method. Then set new layout using &quot;setContentView()&quot; method like</p>\n<pre><code>setContentView(view);\n</code></pre>\n<p>Then initiate a child object on the view like <code>textview = view.findViewById(R.id.id_of_element);</code></p>\n<p>then set the &quot;setOnClickListener&quot; on that element ..\nIt works..</p>\n"}],"owner":{"account_id":19012104,"reputation":19,"user_id":13877835,"display_name":"Isuru Thiwanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76317105,"answer_count":2,"score":-1,"last_activity_date":1685462369,"creation_date":1684855742,"question_id":76316398,"body_markdown":"# OnClickListener does not work on custom imported views using &quot;setContentView&quot;\r\n\r\nThe android app has activity and its activit_layout. Then I placed three button on activity_layout and set &quot;onclicklistener&quot; for each buttons in order to open different custom views. Each button set specific layout file for the activity using &quot;setContentView&quot; methode inside &quot;onclicklistener&quot; methode and they work well. Then, those each custom layouts have sperate textview on them. Once agian, I want set &quot;setOnClickListener&quot; for these each textviews that are on custom layout files, seperatelty and perform different tasks. Thing is when I click on the textview, nothing happens at all. I have no idea about weather text is recognized or &quot;onclicklistener&quot; methode doesn&#39;t work. \r\nHere I&#39;m attaching my code file below.\r\n\r\nActivity java file :-\r\n\r\n```\r\n\r\n\r\npublic class beverbs extends AppCompatActivity\r\n{\r\n    private int layout = 0; // interger for custom layout file\r\n    TextView text1;  // textview is on the custom layoutfile\r\n    View view1;   // custom Layout file\r\n\r\n    @SuppressLint(&quot;InflateParams&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_layout);\r\n\r\n\r\n        view1 = LayoutInflater.from(getBaseContext()).inflate(R.layout.custome_layout,null);\r\n\r\n        text1 = view1.findViewById(R.id.textView12);\r\n\r\n        text1.setOnClickListener(new OnClickListener()   // this part does not work\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                // do something\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void open_new_layout(View view)  // onclick methode  \r\n    {\r\n        layout = 1;\r\n        setContentView(R.layout.custome_layout);  // button on main layout set  custom layout the activity \r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        if (layout==1)\r\n        {\r\n            layout = 0;\r\n            setContentView(R.layout.activity_layout);  // set original layout again\r\n        }\r\n        else\r\n        {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nActivity XML file :-\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;open_new_layout&quot;\r\n        android:text=&quot;Open Layout&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nCustom layout XML file:-\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView12&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Perform Task&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nPls anyone help me with this weather there&#39;s another way to do my task.\r\n\r\n\r\n\r\nI dug the internet for any solution but got nothing regarding with this.","title":"&quot;setOnClickListener&quot; methode doesn&#39;t work on custom layout file set by &quot;setContentView&quot;","body":"<h1>OnClickListener does not work on custom imported views using &quot;setContentView&quot;</h1>\n<p>The android app has activity and its activit_layout. Then I placed three button on activity_layout and set &quot;onclicklistener&quot; for each buttons in order to open different custom views. Each button set specific layout file for the activity using &quot;setContentView&quot; methode inside &quot;onclicklistener&quot; methode and they work well. Then, those each custom layouts have sperate textview on them. Once agian, I want set &quot;setOnClickListener&quot; for these each textviews that are on custom layout files, seperatelty and perform different tasks. Thing is when I click on the textview, nothing happens at all. I have no idea about weather text is recognized or &quot;onclicklistener&quot; methode doesn't work.\nHere I'm attaching my code file below.</p>\n<p>Activity java file :-</p>\n<pre><code>\n\npublic class beverbs extends AppCompatActivity\n{\n    private int layout = 0; // interger for custom layout file\n    TextView text1;  // textview is on the custom layoutfile\n    View view1;   // custom Layout file\n\n    @SuppressLint(&quot;InflateParams&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_layout);\n\n\n        view1 = LayoutInflater.from(getBaseContext()).inflate(R.layout.custome_layout,null);\n\n        text1 = view1.findViewById(R.id.textView12);\n\n        text1.setOnClickListener(new OnClickListener()   // this part does not work\n        {\n            @Override\n            public void onClick(View view)\n            {\n                // do something\n            }\n        });\n\n    }\n\n    public void open_new_layout(View view)  // onclick methode  \n    {\n        layout = 1;\n        setContentView(R.layout.custome_layout);  // button on main layout set  custom layout the activity \n    }\n\n    @Override\n    public void onBackPressed()\n    {\n        if (layout==1)\n        {\n            layout = 0;\n            setContentView(R.layout.activity_layout);  // set original layout again\n        }\n        else\n        {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>Activity XML file :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;open_new_layout&quot;\n        android:text=&quot;Open Layout&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Custom layout XML file:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView12&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Perform Task&quot;\n        android:textSize=&quot;34sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Pls anyone help me with this weather there's another way to do my task.</p>\n<p>I dug the internet for any solution but got nothing regarding with this.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api","jaas","sasl"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685445939,"post_id":76363602,"comment_id":134657823,"body_markdown":"Did you try debugging what actually is in your config map? Or why do you even need a map? `spring.bootstrap.kafka` is the wrong property prefix. It&#39;s just `spring.kafka...` https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties And the classname must be fully qualified","body":"Did you try debugging what actually is in your config map? Or why do you even need a map? <code>spring.bootstrap.kafka</code> is the wrong property prefix. It&#39;s just <code>spring.kafka...</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> And the classname must be fully qualified"},{"owner":{"account_id":22619864,"reputation":25,"user_id":16798848,"display_name":"Javier Decena Castillo"},"score":0,"creation_date":1685446397,"post_id":76363602,"comment_id":134657941,"body_markdown":"spring.bootstrap.kafka is just the name of the property i set up in my app.properties nothing default from kafka docs. And i debug it printing whats inside jass config when hardcoding it and when using it with env variables and the output is the same. But it doesnt work","body":"spring.bootstrap.kafka is just the name of the property i set up in my app.properties nothing default from kafka docs. And i debug it printing whats inside jass config when hardcoding it and when using it with env variables and the output is the same. But it doesnt work"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685460388,"post_id":76363602,"comment_id":134661517,"body_markdown":"&quot;bootstrap&quot; is only used for bootstrap-servers. I suggest you stick with actual Spring Boot variables, rather than remap them to something else. It&#39;ll help debug the issue better for others. Please [edit] to show with the working config and the output logs for `ProducerConfig` on both working and non-working instances","body":"&quot;bootstrap&quot; is only used for bootstrap-servers. I suggest you stick with actual Spring Boot variables, rather than remap them to something else. It&#39;ll help debug the issue better for others. Please <a href=\"https://stackoverflow.com/posts/76363602/edit\">edit</a> to show with the working config and the output logs for <code>ProducerConfig</code> on both working and non-working instances"}],"answers":[{"tags":[],"owner":{"account_id":22619864,"reputation":25,"user_id":16798848,"display_name":"Javier Decena Castillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685461725,"creation_date":1685461725,"answer_id":76366551,"question_id":76363602,"body_markdown":"I solved it changing this line:\r\n\r\n`configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\r\n     &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password\r\n     ));`\r\n\r\nfor this one:\r\n         \r\n\r\n`configProps.put(&quot;sasl.jaas.config&quot;,String.format(&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;%s\\&quot; password=\\&quot;%s\\&quot;;&quot;,username, password));`\r\n\r\n","title":"Configure kafka producer SASL_JAAS_CONFIG error when using env variables","body":"<p>I solved it changing this line:</p>\n<p><code>configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format( &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password ));</code></p>\n<p>for this one:</p>\n<p><code>configProps.put(&quot;sasl.jaas.config&quot;,String.format(&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;%s\\&quot; password=\\&quot;%s\\&quot;;&quot;,username, password));</code></p>\n"}],"owner":{"account_id":22619864,"reputation":25,"user_id":16798848,"display_name":"Javier Decena Castillo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76366551,"answer_count":1,"score":0,"last_activity_date":1685461725,"creation_date":1685440168,"question_id":76363602,"body_markdown":"Hello i have the following config to produce to topic with spring batch app:\r\n\r\n            Map&lt;String,Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServers);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,JsonSerializer.class);\r\n        configProps.put(ProducerConfig.MAX_BLOCK_MS_CONFIG,10000);\r\n        configProps.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,6000);\r\n        configProps.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG,8000);\r\n        configProps.put(ProducerConfig.RETRIES_CONFIG,0);\r\n         configProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\r\n         configProps.put(SaslConfigs.SASL_MECHANISM, &quot;PLAIN&quot;);\r\n         configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\r\n         &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), &quot;UYDUEWWU27LFC2CJ&quot;, &quot;yqBcf5BM4rd3X273OsaB6/n7/kuxmRG39+Fr3nVuOdXI/RZ/sM9E6hpqmaAPxCbC&quot;\r\n         ));\r\n\r\nThis works fine, but when i try to get the env variables for username and password in SASL JAAS CONFIG like i do with bootstrap server:\r\n\r\n        String username = env.getProperty(&quot;spring.bootstrap.kafka.username&quot;);\r\n    String password = env.getProperty(&quot;spring.bootstrap.kafka.password&quot;);\r\n         configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\r\n         &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password\r\n         ));\r\n\r\nIt give me the error for authentication failed when sending the object to the kafka topic even its says that the login was succesfull. I have verified that the content of each string format is the same with log. How is that possible?\r\n\r\nThanks","title":"Configure kafka producer SASL_JAAS_CONFIG error when using env variables","body":"<p>Hello i have the following config to produce to topic with spring batch app:</p>\n<pre><code>        Map&lt;String,Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServers);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,JsonSerializer.class);\n    configProps.put(ProducerConfig.MAX_BLOCK_MS_CONFIG,10000);\n    configProps.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,6000);\n    configProps.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG,8000);\n    configProps.put(ProducerConfig.RETRIES_CONFIG,0);\n     configProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\n     configProps.put(SaslConfigs.SASL_MECHANISM, &quot;PLAIN&quot;);\n     configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\n     &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), &quot;UYDUEWWU27LFC2CJ&quot;, &quot;yqBcf5BM4rd3X273OsaB6/n7/kuxmRG39+Fr3nVuOdXI/RZ/sM9E6hpqmaAPxCbC&quot;\n     ));\n</code></pre>\n<p>This works fine, but when i try to get the env variables for username and password in SASL JAAS CONFIG like i do with bootstrap server:</p>\n<pre><code>    String username = env.getProperty(&quot;spring.bootstrap.kafka.username&quot;);\nString password = env.getProperty(&quot;spring.bootstrap.kafka.password&quot;);\n     configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\n     &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password\n     ));\n</code></pre>\n<p>It give me the error for authentication failed when sending the object to the kafka topic even its says that the login was succesfull. I have verified that the content of each string format is the same with log. How is that possible?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1685470852,"post_id":76366521,"comment_id":134663784,"body_markdown":"The `logoutSuccessUrl` has to be an existing endpoint. However, you could also set a custom [`LogoutSuccessHandler`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/logout/LogoutSuccessHandler.htm)","body":"The <code>logoutSuccessUrl</code> has to be an existing endpoint. However, you could also set a custom <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/logout/LogoutSuccessHandler.htm\" rel=\"nofollow noreferrer\"><code>LogoutSuccessHandler</code></a>"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685483033,"answer_count":0,"score":0,"last_activity_date":1685461477,"creation_date":1685461477,"question_id":76366521,"body_markdown":"I am battling against Spring Security logout. I have to mention that I am not the sharpest tool in the shed when it comes to Spring Security, and especially combined with Azure AD.\r\n\r\nI have a `SecurityFilterChain` configuration looking like this:\r\n\r\n    @Bean\r\n    fun securityFilterChain(http: HttpSecurity): SecurityFilterChain {\r\n        http\r\n            .httpBasic()\r\n            .disable()\r\n            .csrf()\r\n            .disable()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .logout()\r\n            .logoutSuccessUrl(&quot;/logout&quot;)\r\n            .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\r\n            .clearAuthentication(true)\r\n            .and()\r\n            .oauth2ResourceServer { oauth2Configurer: OAuth2ResourceServerConfigurer&lt;HttpSecurity?&gt; -&gt;\r\n                oauth2Configurer.jwt()\r\n            }.authorizeRequests { auth -&gt;\r\n                auth.antMatchers(\r\n                    &quot;/actuator/**&quot;,\r\n                    &quot;/swagger-ui.html&quot;,\r\n                    &quot;/swagger-ui/**&quot;,\r\n                    &quot;/v3/api-docs/**&quot;,\r\n                )\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n            }.oauth2Client()\r\n        return http.build()\r\n    }\r\n\r\nI am specifically talking about this part:\r\n\r\n     .and()\r\n     .logout()\r\n     .logoutSuccessUrl(&quot;/logout&quot;)\r\n     .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\r\n     .clearAuthentication(true)\r\n\r\nWhen I shot a `POST /logout` to the controller, I get a `404` response and an exception caught by a `@ExceptionHandler`:\r\n\r\n    {\r\n    \t&quot;requestUri&quot;: &quot;/login&quot;,\r\n    \t&quot;status&quot;: 404,\r\n    \t&quot;statusText&quot;: &quot;Not Found&quot;,\r\n    \t&quot;createdAt&quot;: &quot;2023-05-30T18:23:45.59681+03:00&quot;,\r\n    \t&quot;errorMessage&quot;: &quot;No handler found for GET /login&quot;\r\n    }\r\n\r\nand a bit of the stacktrace:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name\r\n&gt; &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;:\r\n&gt; Unsatisfied dependency expressed through method &#39;setFilterChains&#39;\r\n&gt; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;securityFilterChain&#39; defined in class path\r\n&gt; resource\r\n&gt; [fi/vr/fleetcare/varpubff/config/SecurityConfiguration.class]: Bean\r\n&gt; instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [org.springframework.security.web.SecurityFilterChain]:\r\n&gt; Factory method &#39;securityFilterChain&#39; threw exception; nested exception\r\n&gt; is java.lang.IllegalArgumentException: defaultTarget must start with\r\n&gt; &#39;/&#39; or with &#39;http(s)&#39;\r\n\r\n\r\nAs I am not using Spring WebMvc (at least directly) but the software I&#39;m developing is just a Backend-For-Frontend for an Android application.\r\n\r\nSo my question is: Is it possible to somehow skip, disable or properly configure that `logoutSuccessUrl`, so the user gets logged out without throwing an exception?\r\n\r\nOr is my approach completely wrong and I should do this completely different?","title":"Spring Security, Azure AD and logout functionality - is it possible to logout without redirection that leads to 404?","body":"<p>I am battling against Spring Security logout. I have to mention that I am not the sharpest tool in the shed when it comes to Spring Security, and especially combined with Azure AD.</p>\n<p>I have a <code>SecurityFilterChain</code> configuration looking like this:</p>\n<pre><code>@Bean\nfun securityFilterChain(http: HttpSecurity): SecurityFilterChain {\n    http\n        .httpBasic()\n        .disable()\n        .csrf()\n        .disable()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .logout()\n        .logoutSuccessUrl(&quot;/logout&quot;)\n        .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\n        .clearAuthentication(true)\n        .and()\n        .oauth2ResourceServer { oauth2Configurer: OAuth2ResourceServerConfigurer&lt;HttpSecurity?&gt; -&gt;\n            oauth2Configurer.jwt()\n        }.authorizeRequests { auth -&gt;\n            auth.antMatchers(\n                &quot;/actuator/**&quot;,\n                &quot;/swagger-ui.html&quot;,\n                &quot;/swagger-ui/**&quot;,\n                &quot;/v3/api-docs/**&quot;,\n            )\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n        }.oauth2Client()\n    return http.build()\n}\n</code></pre>\n<p>I am specifically talking about this part:</p>\n<pre><code> .and()\n .logout()\n .logoutSuccessUrl(&quot;/logout&quot;)\n .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\n .clearAuthentication(true)\n</code></pre>\n<p>When I shot a <code>POST /logout</code> to the controller, I get a <code>404</code> response and an exception caught by a <code>@ExceptionHandler</code>:</p>\n<pre><code>{\n    &quot;requestUri&quot;: &quot;/login&quot;,\n    &quot;status&quot;: 404,\n    &quot;statusText&quot;: &quot;Not Found&quot;,\n    &quot;createdAt&quot;: &quot;2023-05-30T18:23:45.59681+03:00&quot;,\n    &quot;errorMessage&quot;: &quot;No handler found for GET /login&quot;\n}\n</code></pre>\n<p>and a bit of the stacktrace:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name\n'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration':\nUnsatisfied dependency expressed through method 'setFilterChains'\nparameter 0; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'securityFilterChain' defined in class path\nresource\n[fi/vr/fleetcare/varpubff/config/SecurityConfiguration.class]: Bean\ninstantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [org.springframework.security.web.SecurityFilterChain]:\nFactory method 'securityFilterChain' threw exception; nested exception\nis java.lang.IllegalArgumentException: defaultTarget must start with\n'/' or with 'http(s)'</p>\n</blockquote>\n<p>As I am not using Spring WebMvc (at least directly) but the software I'm developing is just a Backend-For-Frontend for an Android application.</p>\n<p>So my question is: Is it possible to somehow skip, disable or properly configure that <code>logoutSuccessUrl</code>, so the user gets logged out without throwing an exception?</p>\n<p>Or is my approach completely wrong and I should do this completely different?</p>\n"},{"tags":["java","rest","web-applications","pom.xml"],"comments":[{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1685461548,"post_id":76366475,"comment_id":134661796,"body_markdown":"It may be due to servlet from the javax.servlet package to the new jakarata.servlet. Please update javax.servlet.jsp and javax.servlet-api to jakarta one&#39;s and try. Then subsequently in your WebappConfig &amp;  AppInitializer update the imports. Try clean build, think should be okay. Thankyou","body":"It may be due to servlet from the javax.servlet package to the new jakarata.servlet. Please update javax.servlet.jsp and javax.servlet-api to jakarta one&#39;s and try. Then subsequently in your WebappConfig &amp;  AppInitializer update the imports. Try clean build, think should be okay. Thankyou"},{"owner":{"account_id":28235830,"reputation":11,"user_id":21584318,"display_name":"DDC"},"score":0,"creation_date":1685462589,"post_id":76366475,"comment_id":134662050,"body_markdown":"Ok work! But all import in my servlet have a error... I change import in jackarta but dont work. In browser error 404.","body":"Ok work! But all import in my servlet have a error... I change import in jackarta but dont work. In browser error 404."}],"owner":{"account_id":28235830,"reputation":11,"user_id":21584318,"display_name":"DDC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685461447,"creation_date":1685461117,"question_id":76366475,"body_markdown":"I have a problem with change my pom. The project now is with servlet and JSP and now i need REST API.\r\nI change my POM: \r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;templateGestionale&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;templateGestionale&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- mysql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.24&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Oracle --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;18.3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Hibernate --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- jsp-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- jstl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- risolve errore web.xml mancante --&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- imposta versione Java --&gt;\r\n\t\t\t\t\t&lt;source&gt;18&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;18&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nAnd i create a package &quot;config&quot; with: \r\n\r\nWebAppConfig: \r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\nimport org.springframework.web.servlet.view.JstlView;\r\n\r\n@EnableWebMvc\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;controller&quot;)\r\npublic class WebAppConfig implements WebMvcConfigurer {\r\n\t@Bean\r\n\tpublic ViewResolver vResolver() {\r\n\t\tInternalResourceViewResolver viewRes = new InternalResourceViewResolver();\r\n\t\tviewRes.setPrefix(&quot;/WEB-INF/view&quot;);\r\n\t\tviewRes.setSuffix(&quot;.jsp&quot;);\r\n\t\tviewRes.setViewClass(JstlView.class);\r\n\t\treturn viewRes;\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/res/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nand AppInizializer, but dont work, \r\nerror in package config &quot;Multiple markers at this line\r\n\t- The type jakarta.servlet.ServletContext cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer\r\n\t- The type jakarta.servlet.ServletException cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer&quot;: \r\n```\r\npackage config;\r\n\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.servlet.FrameworkServlet;\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer{\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\t\r\n\t\treturn new Class&lt;?&gt;[] {WebAppConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\t\r\n\t\treturn new String[] {&quot;/&quot;};\r\n\t}\r\n\t@Override\r\n\tprotected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\t\t\r\n\t\treturn super.createDispatcherServlet(servletAppContext);\r\n\t}\r\n}\r\n```\r\n How to resolve? Thanks\r\n\r\nI think the error lies in the dependencies of the pom","title":"Is pom or AppInitializer error dependency?","body":"<p>I have a problem with change my pom. The project now is with servlet and JSP and now i need REST API.\nI change my POM:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;templateGestionale&lt;/groupId&gt;\n    &lt;artifactId&gt;templateGestionale&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- mysql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Oracle --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;18.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jsp-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- risolve errore web.xml mancante --&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- imposta versione Java --&gt;\n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>And i create a package &quot;config&quot; with:</p>\n<p>WebAppConfig:</p>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\n\n@EnableWebMvc\n@Configuration\n@ComponentScan(basePackages = &quot;controller&quot;)\npublic class WebAppConfig implements WebMvcConfigurer {\n    @Bean\n    public ViewResolver vResolver() {\n        InternalResourceViewResolver viewRes = new InternalResourceViewResolver();\n        viewRes.setPrefix(&quot;/WEB-INF/view&quot;);\n        viewRes.setSuffix(&quot;.jsp&quot;);\n        viewRes.setViewClass(JstlView.class);\n        return viewRes;\n\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/res/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n\n    }\n\n}\n</code></pre>\n<p>and AppInizializer, but dont work,\nerror in package config &quot;Multiple markers at this line\n- The type jakarta.servlet.ServletContext cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer\n- The type jakarta.servlet.ServletException cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer&quot;:</p>\n<pre><code>package config;\n\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.FrameworkServlet;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer{\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        \n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        \n        return new Class&lt;?&gt;[] {WebAppConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        \n        return new String[] {&quot;/&quot;};\n    }\n    @Override\n    protected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {       \n        return super.createDispatcherServlet(servletAppContext);\n    }\n}\n</code></pre>\n<p>How to resolve? Thanks</p>\n<p>I think the error lies in the dependencies of the pom</p>\n"},{"tags":["java","maven","apache-spark","intellij-idea","junit"],"comments":[{"owner":{"account_id":10985164,"reputation":770,"user_id":8071124,"display_name":"srikanth holur"},"score":0,"creation_date":1685512288,"post_id":76366510,"comment_id":134668550,"body_markdown":"Check if you have set correct SDK in intellij.\nFile&gt;Project Structure&gt;Project&gt;SDK","body":"Check if you have set correct SDK in intellij. File&gt;Project Structure&gt;Project&gt;SDK"},{"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"score":0,"creation_date":1685514848,"post_id":76366510,"comment_id":134668912,"body_markdown":"I used the right SDK, i have more than 200 tests, also some including spark that all pass, except for 2","body":"I used the right SDK, i have more than 200 tests, also some including spark that all pass, except for 2"}],"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685461382,"creation_date":1685461382,"question_id":76366510,"body_markdown":"When I using the maven panel in Intellij to launch all the test, I get some spark test falling with this a basic wintutils related problem : \r\n\r\nterminated with exception: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nif I launch the whole class or the failled test with Intellij, the test pass:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut if I launch the selected class with maven it pass too: \r\n\r\n[![enter image description here][3]][3]\r\n\r\nMy goal was to test a listener implementation:\r\n\r\n    @Test\r\n    public void simpleStreamingListenerMemoryStreaming() {\r\n        SparkContext sc = new SparkContext(&quot;local[1]&quot;, &quot;test&quot;);\r\n        SparkSession ss = new SparkSession(sc);\r\n        StreamingListenerImpl listener = new StreamingListenerImpl(jobConfig);\r\n        ss.streams().addListener(listener);\r\n        ss.sparkContext().env().metricsSystem().registerSource(listener);\r\n    \r\n        StructField[] kafkaStructFields1 = new StructField[]{\r\n                new StructField(&quot;key&quot;, DataTypes.StringType, true, Metadata.empty()),\r\n                new StructField(&quot;value&quot;, DataTypes.StringType, true, Metadata.empty()),\r\n        };\r\n    \r\n        StructType kafkaStreamSchema = new StructType(kafkaStructFields1);\r\n    \r\n        MemoryStream&lt;Row&gt; input = new MemoryStream&lt;&gt;(1, ss.sqlContext(), RowEncoder.apply(kafkaStreamSchema));\r\n        Dataset&lt;Row&gt; inputDS = input.toDS();\r\n    \r\n        StreamingQuery streamingQuery = inputDS\r\n                .writeStream()\r\n                .format(&quot;console&quot;)\r\n                .queryName(&quot;testMemoryStream&quot;)\r\n                .outputMode(&quot;append&quot;)\r\n                .start();\r\n    \r\n        List&lt;Row&gt; values = new ArrayList&lt;&gt;();\r\n        values.add(RowFactory.create(&quot;key1&quot;, &quot;value1&quot;));\r\n    \r\n        input.addData(JavaConverters.asScalaIteratorConverter(values.iterator()).asScala().toSeq());\r\n    \r\n        streamingQuery.processAllAvailable();\r\n        streamingQuery.stop();\r\n    \r\n    }\r\n\r\nEven without creating a new SparkSession i get this problem. \r\n\r\n  [1]: https://i.stack.imgur.com/AwZp8.png\r\n  [2]: https://i.stack.imgur.com/dgKxv.png\r\n  [3]: https://i.stack.imgur.com/7FAYl.png","title":"spark test fail with maven but success with Intellij due to winutils","body":"<p>When I using the maven panel in Intellij to launch all the test, I get some spark test falling with this a basic wintutils related problem :</p>\n<p>terminated with exception: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z</p>\n<p><a href=\"https://i.stack.imgur.com/AwZp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AwZp8.png\" alt=\"enter image description here\" /></a></p>\n<p>if I launch the whole class or the failled test with Intellij, the test pass:</p>\n<p><a href=\"https://i.stack.imgur.com/dgKxv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dgKxv.png\" alt=\"enter image description here\" /></a></p>\n<p>but if I launch the selected class with maven it pass too:</p>\n<p><a href=\"https://i.stack.imgur.com/7FAYl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7FAYl.png\" alt=\"enter image description here\" /></a></p>\n<p>My goal was to test a listener implementation:</p>\n<pre><code>@Test\npublic void simpleStreamingListenerMemoryStreaming() {\n    SparkContext sc = new SparkContext(&quot;local[1]&quot;, &quot;test&quot;);\n    SparkSession ss = new SparkSession(sc);\n    StreamingListenerImpl listener = new StreamingListenerImpl(jobConfig);\n    ss.streams().addListener(listener);\n    ss.sparkContext().env().metricsSystem().registerSource(listener);\n\n    StructField[] kafkaStructFields1 = new StructField[]{\n            new StructField(&quot;key&quot;, DataTypes.StringType, true, Metadata.empty()),\n            new StructField(&quot;value&quot;, DataTypes.StringType, true, Metadata.empty()),\n    };\n\n    StructType kafkaStreamSchema = new StructType(kafkaStructFields1);\n\n    MemoryStream&lt;Row&gt; input = new MemoryStream&lt;&gt;(1, ss.sqlContext(), RowEncoder.apply(kafkaStreamSchema));\n    Dataset&lt;Row&gt; inputDS = input.toDS();\n\n    StreamingQuery streamingQuery = inputDS\n            .writeStream()\n            .format(&quot;console&quot;)\n            .queryName(&quot;testMemoryStream&quot;)\n            .outputMode(&quot;append&quot;)\n            .start();\n\n    List&lt;Row&gt; values = new ArrayList&lt;&gt;();\n    values.add(RowFactory.create(&quot;key1&quot;, &quot;value1&quot;));\n\n    input.addData(JavaConverters.asScalaIteratorConverter(values.iterator()).asScala().toSeq());\n\n    streamingQuery.processAllAvailable();\n    streamingQuery.stop();\n\n}\n</code></pre>\n<p>Even without creating a new SparkSession i get this problem.</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"comments":[{"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"score":0,"creation_date":1660723003,"post_id":73380130,"comment_id":129597089,"body_markdown":"Yep. That&#39;s what I ended up doing. I thought, when creating a session, maybe there is a way to pass some metadata (e.g. internal pk) to be attached to the created customer so that when it is created, I can use that to link Stripe customer to mine. That way, the code would be cleaner and I didn&#39;t have to create a customer in case user returns without doing anything.","body":"Yep. That&#39;s what I ended up doing. I thought, when creating a session, maybe there is a way to pass some metadata (e.g. internal pk) to be attached to the created customer so that when it is created, I can use that to link Stripe customer to mine. That way, the code would be cleaner and I didn&#39;t have to create a customer in case user returns without doing anything."}],"tags":[],"owner":{"account_id":23589346,"reputation":649,"user_id":17627350,"display_name":"codename_duchess"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660682764,"creation_date":1660682764,"answer_id":73380130,"question_id":73380034,"body_markdown":"Probably the easiest way to achieve this is to [create the customer object manually][1] prior to creating the checkout session. This way you can easily link the customer in your database with the Stripe Customer object. You can then [pass in this Customer object&#39;s ID when creating the checkout session][2].\r\n\r\n\r\n  [1]: https://stripe.com/docs/api/customers/create\r\n  [2]: https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-customer","title":"Stripe Webhook: How to link Stripe customer to my customer?","body":"<p>Probably the easiest way to achieve this is to <a href=\"https://stripe.com/docs/api/customers/create\" rel=\"nofollow noreferrer\">create the customer object manually</a> prior to creating the checkout session. This way you can easily link the customer in your database with the Stripe Customer object. You can then <a href=\"https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-customer\" rel=\"nofollow noreferrer\">pass in this Customer object's ID when creating the checkout session</a>.</p>\n"},{"tags":[],"owner":{"account_id":389113,"reputation":21,"user_id":4626818,"display_name":"Peter Nees"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685461089,"creation_date":1685461089,"answer_id":76366469,"question_id":73380034,"body_markdown":"But that means creating a stripe account for all my users. 99% does not take a paying subscription..\r\n","title":"Stripe Webhook: How to link Stripe customer to my customer?","body":"<p>But that means creating a stripe account for all my users. 99% does not take a paying subscription..</p>\n"}],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73380130,"answer_count":2,"score":0,"last_activity_date":1685461089,"creation_date":1660682168,"question_id":73380034,"body_markdown":"I&#39;m using Stripe&#39;s Webhook to set up a Checkout session to be notified about important events.\r\n\r\nI create a Session and redirect client to subscribe to a plan successfully. And I get events in my webhook, including &quot;customer.created&quot; which has information about a Stripe customer.\r\n\r\nHow can I link this Strip&#39;s Customer object to my internal customer? I can specify some metadata and cient_reference_id when I create a session but they are not accessible during &quot;customer.created&quot; event.","title":"Stripe Webhook: How to link Stripe customer to my customer?","body":"<p>I'm using Stripe's Webhook to set up a Checkout session to be notified about important events.</p>\n<p>I create a Session and redirect client to subscribe to a plan successfully. And I get events in my webhook, including &quot;customer.created&quot; which has information about a Stripe customer.</p>\n<p>How can I link this Strip's Customer object to my internal customer? I can specify some metadata and cient_reference_id when I create a session but they are not accessible during &quot;customer.created&quot; event.</p>\n"},{"tags":["java","jersey","glassfish"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685313409,"post_id":76353635,"comment_id":134640424,"body_markdown":"I cannot recreate your problem. Can you show us a POM and some code which are a [mre]?","body":"I cannot recreate your problem. Can you show us a POM and some code which are a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1685313422,"post_id":76353635,"comment_id":134640426,"body_markdown":"For your reference I am using v3.1.0 of `jakarta.ws.rs-api`. And I am using v3.1.1 of `jersey-client`, `jersey-hk2` and `jersey-media-json-jackson`. I am not using `jersey-cdi1x` - but it looks as if that should work also (for my code, anyway - but my code may be quite different from yours...).","body":"For your reference I am using v3.1.0 of <code>jakarta.ws.rs-api</code>. And I am using v3.1.1 of <code>jersey-client</code>, <code>jersey-hk2</code> and <code>jersey-media-json-jackson</code>. I am not using <code>jersey-cdi1x</code> - but it looks as if that should work also (for my code, anyway - but my code may be quite different from yours...)."},{"owner":{"account_id":5395500,"reputation":642,"user_id":4296851,"accept_rate":71,"display_name":"Richard Sand"},"score":0,"creation_date":1685460350,"post_id":76353635,"comment_id":134661508,"body_markdown":"I&#39;ll try to create a simple example, but I can tell you the exception is thrown from  JerseyWebTargetBuilder in private static JerseyInvocation.Builder onBuilder(JerseyInvocation.Builder builder)","body":"I&#39;ll try to create a simple example, but I can tell you the exception is thrown from  JerseyWebTargetBuilder in private static JerseyInvocation.Builder onBuilder(JerseyInvocation.Builder builder)"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1685462465,"post_id":76353635,"comment_id":134662021,"body_markdown":"I can recreate your error - but only if I do not explicitly include `jersey-hk2` in my POM. What happens if you remove `jersey-cdi1x` and use `jersey-hk2` (version 3.1.1) instead? It sounds as if you may have already tried that in a previous iteration... but worth another try? Otherwise, please share your POM.","body":"I can recreate your error - but only if I do not explicitly include <code>jersey-hk2</code> in my POM. What happens if you remove <code>jersey-cdi1x</code> and use <code>jersey-hk2</code> (version 3.1.1) instead? It sounds as if you may have already tried that in a previous iteration... but worth another try? Otherwise, please share your POM."},{"owner":{"account_id":5395500,"reputation":642,"user_id":4296851,"accept_rate":71,"display_name":"Richard Sand"},"score":0,"creation_date":1686519800,"post_id":76353635,"comment_id":134805818,"body_markdown":"You are right. When I switched cdi1x back to hk2 it is now working. I must have had some other  conflict in my pom when I started this that was causing the error initially that lead me to switching it to cdi1x. Thank you for confirming!","body":"You are right. When I switched cdi1x back to hk2 it is now working. I must have had some other  conflict in my pom when I started this that was causing the error initially that lead me to switching it to cdi1x. Thank you for confirming!"}],"owner":{"account_id":5395500,"reputation":642,"user_id":4296851,"accept_rate":71,"display_name":"Richard Sand"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685460978,"creation_date":1685308629,"question_id":76353635,"body_markdown":"I am using Jersey Client 3.1.1 to post a JSON object to a REST API, but I am encountering an issue that is known from the 2.x Jersey version: `java.lang.IllegalStateException: InjectionManagerFactory not found`.\r\n\r\nThere are many questions about this exception which was introduced in later 2.3.x versions. The solution was to add *jersey-hk2* as a dependency. However, this doesn&#39;t seem to solve the problem for 3.x, and its one of those issues where there are so many hits regarding 2.x version that I can&#39;t  find anything regarding 3.x. I was using jersey-hk2:3.1.1, but I have to now use the 3.x version because I am running Servlet 5.0. / Tomcat 10.\r\n\r\nAccording to the latest Jersey 3.x docs, the following dependency should be used, which pulls in jersey-hk2:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.ext.cdi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-cdi1x&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nUnfortunately, I am still facing the same issue even after ensuring the version compatibility. \r\n\r\nEDIT 1: the exception occurs when I call `request()` on my `JerseyWebTarget`\r\n\r\n    Builder builder = myWebTarget.request(MediaType.APPLICATION_JSON_TYPE);\r\n\r\nThe exception occurs inside `ClientConfig$State.initRuntime()` when it invokes `InjectionManager injectionManager = Injections.createInjectionManager()`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan anyone help me understand what might be causing this error and how to resolve it? Thank you in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kmiPA.png","title":"Jersey Client 3.1.1 InjectionManagerFactory not found","body":"<p>I am using Jersey Client 3.1.1 to post a JSON object to a REST API, but I am encountering an issue that is known from the 2.x Jersey version: <code>java.lang.IllegalStateException: InjectionManagerFactory not found</code>.</p>\n<p>There are many questions about this exception which was introduced in later 2.3.x versions. The solution was to add <em>jersey-hk2</em> as a dependency. However, this doesn't seem to solve the problem for 3.x, and its one of those issues where there are so many hits regarding 2.x version that I can't  find anything regarding 3.x. I was using jersey-hk2:3.1.1, but I have to now use the 3.x version because I am running Servlet 5.0. / Tomcat 10.</p>\n<p>According to the latest Jersey 3.x docs, the following dependency should be used, which pulls in jersey-hk2:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.ext.cdi&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-cdi1x&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Unfortunately, I am still facing the same issue even after ensuring the version compatibility.</p>\n<p>EDIT 1: the exception occurs when I call <code>request()</code> on my <code>JerseyWebTarget</code></p>\n<pre><code>Builder builder = myWebTarget.request(MediaType.APPLICATION_JSON_TYPE);\n</code></pre>\n<p>The exception occurs inside <code>ClientConfig$State.initRuntime()</code> when it invokes <code>InjectionManager injectionManager = Injections.createInjectionManager()</code></p>\n<p><a href=\"https://i.stack.imgur.com/kmiPA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kmiPA.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help me understand what might be causing this error and how to resolve it? Thank you in advance!</p>\n"},{"tags":["java","spring","optaplanner"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685493101,"post_id":76366085,"comment_id":134666908,"body_markdown":"Hello there, please share your code and outcome for further discussion","body":"Hello there, please share your code and outcome for further discussion"}],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685460896,"creation_date":1685460896,"answer_id":76366446,"question_id":76366085,"body_markdown":"Are you using SolverManager? If so, you can use one of the SolverManager methods that support a `finalBestSolutionListener`\r\n\r\n- https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solve(ProblemId_,Solution_,java.util.function.Consumer) \r\n\r\n- https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solveAndListen(ProblemId_,java.util.function.Function,java.util.function.Consumer,java.util.function.Consumer,java.util.function.BiConsumer)\r\n\r\n```java\r\nsolverManager.solve(1L, MyClass::getProblem, finalBestSolution -&gt; {\r\n    // process final solution here\r\n});\r\n\r\nsolverManager.solveAndListen(1L,\r\n    MyClass::getProblem\r\n    bestSolution -&gt; {\r\n        // process intermediate solution here\r\n    },\r\n    finalBestSolution -&gt; {\r\n        // process final solution here\r\n    },\r\n    null); // Use null so default exception handler is used\r\n```\r\n\r\nor the `getFinalBestSolution()` method of `SolverJob` (which is what `SolverManager.solve` and `SolverManager.solveAndListen` returns):\r\n\r\n- https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverJob.html#getFinalBestSolution()\r\n\r\n```java\r\nSolverJob&lt;ProblemType, Long&gt; solverJob = solverManager.solve(1L, problem);\r\nProblemType bestSolution = solverJob.getFinalBestSolution();\r\n```","title":"How can I detect when my OptaPlanner solver stops running in my Java Spring application?","body":"<p>Are you using SolverManager? If so, you can use one of the SolverManager methods that support a <code>finalBestSolutionListener</code></p>\n<ul>\n<li><p><a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solve(ProblemId_,Solution_,java.util.function.Consumer)\" rel=\"nofollow noreferrer\">https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solve(ProblemId_,Solution_,java.util.function.Consumer)</a></p>\n</li>\n<li><p><a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solveAndListen(ProblemId_,java.util.function.Function,java.util.function.Consumer,java.util.function.Consumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solveAndListen(ProblemId_,java.util.function.Function,java.util.function.Consumer,java.util.function.Consumer,java.util.function.BiConsumer)</a></p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>solverManager.solve(1L, MyClass::getProblem, finalBestSolution -&gt; {\n    // process final solution here\n});\n\nsolverManager.solveAndListen(1L,\n    MyClass::getProblem\n    bestSolution -&gt; {\n        // process intermediate solution here\n    },\n    finalBestSolution -&gt; {\n        // process final solution here\n    },\n    null); // Use null so default exception handler is used\n</code></pre>\n<p>or the <code>getFinalBestSolution()</code> method of <code>SolverJob</code> (which is what <code>SolverManager.solve</code> and <code>SolverManager.solveAndListen</code> returns):</p>\n<ul>\n<li><a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverJob.html#getFinalBestSolution()\" rel=\"nofollow noreferrer\">https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverJob.html#getFinalBestSolution()</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>SolverJob&lt;ProblemType, Long&gt; solverJob = solverManager.solve(1L, problem);\nProblemType bestSolution = solverJob.getFinalBestSolution();\n</code></pre>\n"}],"owner":{"display_name":"user21986685"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685460896,"creation_date":1685458278,"question_id":76366085,"body_markdown":"I create an application that uses OptaPlanner to solve optimization problems. However I can&#39;t get an action to be performed when the solver stops, for the moment my solver stops after 5 seconds but I have no way of knowing it and therefore of exploit the result.\r\n\r\nMaybe set up listeners?","title":"How can I detect when my OptaPlanner solver stops running in my Java Spring application?","body":"<p>I create an application that uses OptaPlanner to solve optimization problems. However I can't get an action to be performed when the solver stops, for the moment my solver stops after 5 seconds but I have no way of knowing it and therefore of exploit the result.</p>\n<p>Maybe set up listeners?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1375271253,"post_id":17969436,"comment_id":26266146,"body_markdown":"To insert a new line, place 2 spaces at the end of the line. More about markdown syntax: http://en.wikipedia.org/wiki/Markdown - See also:http://stackoverflow.com/editing-help","body":"To insert a new line, place 2 spaces at the end of the line. More about markdown syntax: <a href=\"http://en.wikipedia.org/wiki/Markdown\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Markdown</a> - See also:<a href=\"http://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a>"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1375271391,"creation_date":1375271391,"answer_id":17969568,"question_id":17969436,"body_markdown":"Your understanding is correct. However, if we walk through:\r\n\r\n* `(.*)` will swallow the whole string;\r\n* it will need to give back characters so that `(\\\\d+)` is satistifed (which is why `0` is captured, and not `3000`);\r\n* the last `(.*)` will then capture the rest.\r\n\r\nI am not sure what the original intent of the author was, however.\r\n","title":"Java Regex Capturing Groups","body":"<p>Your understanding is correct. However, if we walk through:</p>\n\n<ul>\n<li><code>(.*)</code> will swallow the whole string;</li>\n<li>it will need to give back characters so that <code>(\\\\d+)</code> is satistifed (which is why <code>0</code> is captured, and not <code>3000</code>);</li>\n<li>the last <code>(.*)</code> will then capture the rest.</li>\n</ul>\n\n<p>I am not sure what the original intent of the author was, however.</p>\n"},{"tags":[],"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1375271506,"creation_date":1375271506,"answer_id":17969614,"question_id":17969436,"body_markdown":"From the doc :\r\n\r\n    Capturing groups&lt;/a&gt; are indexed from left\r\n     * to right, starting at one.  Group zero denotes the entire pattern, so\r\n     * the expression m.group(0) is equivalent to m.group().\r\n\r\nSo capture group 0 send the whole line.","title":"Java Regex Capturing Groups","body":"<p>From the doc :</p>\n\n<pre><code>Capturing groups&lt;/a&gt; are indexed from left\n * to right, starting at one.  Group zero denotes the entire pattern, so\n * the expression m.group(0) is equivalent to m.group().\n</code></pre>\n\n<p>So capture group 0 send the whole line.</p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1375271514,"creation_date":1375271514,"answer_id":17969618,"question_id":17969436,"body_markdown":"This is totally OK.\r\n\r\n  1. The first group (``m.group(0)``) always captures *the whole area that is covered by your regular expression*. In this case, it&#39;s the whole string.\r\n  2. Regular expressions are greedy by default, meaning that the first group captures as much as possible without violating the regex. The ``(.*)(\\\\d+)`` (the first part of your regex) covers the ``...QT300`` int the first group and the ``0`` in the second.\r\n  3. You can quickly fix this by making the first group non-greedy: change ``(.*)`` to ``(.*?)``.\r\n\r\nFor more info on greedy vs. lazy, check [this site.][1]\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/repeat.html","title":"Java Regex Capturing Groups","body":"<p>This is totally OK.</p>\n\n<ol>\n<li>The first group (<code>m.group(0)</code>) always captures <em>the whole area that is covered by your regular expression</em>. In this case, it's the whole string.</li>\n<li>Regular expressions are greedy by default, meaning that the first group captures as much as possible without violating the regex. The <code>(.*)(\\\\d+)</code> (the first part of your regex) covers the <code>...QT300</code> int the first group and the <code>0</code> in the second.</li>\n<li>You can quickly fix this by making the first group non-greedy: change <code>(.*)</code> to <code>(.*?)</code>.</li>\n</ol>\n\n<p>For more info on greedy vs. lazy, check <a href=\"http://www.regular-expressions.info/repeat.html\">this site.</a></p>\n"},{"comments":[{"owner":{"account_id":2981745,"reputation":2481,"user_id":2531583,"accept_rate":91,"display_name":"Xivilai"},"score":0,"creation_date":1375280551,"post_id":17969620,"comment_id":26272561,"body_markdown":"Thanks! Is the reason group 2 stored 0 because the entire line was consumed by the greedy quantifier which then backed off until it came into contact with one or more numbers.   0 satisfied this so the expression succeeded. I find the third group confusing, does that greedy quantifier also consume the entire line, but backs off until it finds the one or more numbers (\\\\d+) which is supposed to precede it?","body":"Thanks! Is the reason group 2 stored 0 because the entire line was consumed by the greedy quantifier which then backed off until it came into contact with one or more numbers.   0 satisfied this so the expression succeeded. I find the third group confusing, does that greedy quantifier also consume the entire line, but backs off until it finds the one or more numbers (\\\\d+) which is supposed to precede it?"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1375281066,"post_id":17969620,"comment_id":26272926,"body_markdown":"@Xivilai let me fine-tune my explanation in my answer, just a sec.","body":"@Xivilai let me fine-tune my explanation in my answer, just a sec."},{"owner":{"account_id":2981745,"reputation":2481,"user_id":2531583,"accept_rate":91,"display_name":"Xivilai"},"score":0,"creation_date":1375281997,"post_id":17969620,"comment_id":26273617,"body_markdown":"Thats a good explanation. So the reluctant starts from the left and just takes the minimum whereas with the greedy, it will take as much as possible (starting from the right), only stopping before the last digit to satisfy that condition. The third group takes the rest.","body":"Thats a good explanation. So the reluctant starts from the left and just takes the minimum whereas with the greedy, it will take as much as possible (starting from the right), only stopping before the last digit to satisfy that condition. The third group takes the rest."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1375283193,"post_id":17969620,"comment_id":26274504,"body_markdown":"@Xivilai more or less. It always starts from the left though in this case. [Here](http://docs.oracle.com/javase/tutorial/essential/regex/quant.html) is some more info about quantifiers.","body":"@Xivilai more or less. It always starts from the left though in this case. <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"nofollow noreferrer\">Here</a> is some more info about quantifiers."},{"owner":{"display_name":"user748113"},"score":2,"creation_date":1406942221,"post_id":17969620,"comment_id":39041270,"body_markdown":"You can use named capture groups in Java 5/6 with [`named-regexp`](http://tony19.github.com/named-regexp/index.html).","body":"You can use named capture groups in Java 5/6 with <a href=\"http://tony19.github.com/named-regexp/index.html\" rel=\"nofollow noreferrer\"><code>named-regexp</code></a>."},{"owner":{"account_id":1533035,"reputation":1531,"user_id":1819810,"display_name":"Weekend"},"score":0,"creation_date":1618381214,"post_id":17969620,"comment_id":118580779,"body_markdown":"Why it&#39;s `while (matcher.find())` but not `if (matcher.find())`?","body":"Why it&#39;s <code>while (matcher.find())</code> but not <code>if (matcher.find())</code>?"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1618382645,"post_id":17969620,"comment_id":118581272,"body_markdown":"@Weekend in this case, it&#39;s equivalent insofar as the loop will only run once with that string example. I think I used a `while` loop back then because it&#39;s a common usage for patterns that may repeat in the input, and a common mistake to use `if` instead of `while` in those cases. TL;DR `if` is safe to use when you&#39;re sure the pattern won&#39;t repeat / you need the first occurrence only / `while` covers every case.","body":"@Weekend in this case, it&#39;s equivalent insofar as the loop will only run once with that string example. I think I used a <code>while</code> loop back then because it&#39;s a common usage for patterns that may repeat in the input, and a common mistake to use <code>if</code> instead of <code>while</code> in those cases. TL;DR <code>if</code> is safe to use when you&#39;re sure the pattern won&#39;t repeat / you need the first occurrence only / <code>while</code> covers every case."}],"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":7,"down_vote_count":0,"up_vote_count":301,"is_accepted":true,"score":301,"last_activity_date":1401283954,"creation_date":1375271518,"answer_id":17969620,"question_id":17969436,"body_markdown":"The issue you&#39;re having is with the type of quantifier. You&#39;re using a **greedy** quantifier in your first group (index **1** - index 0 represents the whole `Pattern`), which means it&#39;ll match as much as it can (and since it&#39;s *any* character, it&#39;ll match **as many characters** as there are in order to fulfill the condition for the next groups). \r\n\r\nIn short, your 1st group `.*` matches anything as long as the next group `\\\\d+` can match something (in this case, the last digit). \r\n\r\nAs per the 3rd group, it will match anything after the last digit. \r\n\r\nIf you change it to a **reluctant** quantifier in your 1st group, you&#39;ll get the result I suppose you are expecting, that is, the *3000* part. \r\n\r\nNote the **question mark** in the 1st group.  \r\n\r\n    String line = &quot;This order was placed for QT3000! OK?&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;(.*?)(\\\\d+)(.*)&quot;);\r\n    Matcher matcher = pattern.matcher(line);\r\n    while (matcher.find()) {\r\n    \tSystem.out.println(&quot;group 1: &quot; + matcher.group(1));\r\n    \tSystem.out.println(&quot;group 2: &quot; + matcher.group(2));\r\n    \tSystem.out.println(&quot;group 3: &quot; + matcher.group(3));\r\n    }\r\n\r\nOutput: \r\n\r\n    group 1: This order was placed for QT\r\n    group 2: 3000\r\n    group 3: ! OK?\r\n\r\nMore info on Java `Pattern` [here][1]. \r\n\r\nFinally, the capturing groups are delimited by round brackets, and provide a very useful way to use back-references (amongst other things), once your `Pattern` is matched to the input. \r\n\r\nIn Java 6 groups can only be referenced by their order (beware of nested groups and the subtlety of ordering). \r\n\r\nIn Java 7 it&#39;s much easier, as you can use named groups. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html","title":"Java Regex Capturing Groups","body":"<p>The issue you're having is with the type of quantifier. You're using a <strong>greedy</strong> quantifier in your first group (index <strong>1</strong> - index 0 represents the whole <code>Pattern</code>), which means it'll match as much as it can (and since it's <em>any</em> character, it'll match <strong>as many characters</strong> as there are in order to fulfill the condition for the next groups). </p>\n\n<p>In short, your 1st group <code>.*</code> matches anything as long as the next group <code>\\\\d+</code> can match something (in this case, the last digit). </p>\n\n<p>As per the 3rd group, it will match anything after the last digit. </p>\n\n<p>If you change it to a <strong>reluctant</strong> quantifier in your 1st group, you'll get the result I suppose you are expecting, that is, the <em>3000</em> part. </p>\n\n<p>Note the <strong>question mark</strong> in the 1st group.  </p>\n\n<pre><code>String line = \"This order was placed for QT3000! OK?\";\nPattern pattern = Pattern.compile(\"(.*?)(\\\\d+)(.*)\");\nMatcher matcher = pattern.matcher(line);\nwhile (matcher.find()) {\n    System.out.println(\"group 1: \" + matcher.group(1));\n    System.out.println(\"group 2: \" + matcher.group(2));\n    System.out.println(\"group 3: \" + matcher.group(3));\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>group 1: This order was placed for QT\ngroup 2: 3000\ngroup 3: ! OK?\n</code></pre>\n\n<p>More info on Java <code>Pattern</code> <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">here</a>. </p>\n\n<p>Finally, the capturing groups are delimited by round brackets, and provide a very useful way to use back-references (amongst other things), once your <code>Pattern</code> is matched to the input. </p>\n\n<p>In Java 6 groups can only be referenced by their order (beware of nested groups and the subtlety of ordering). </p>\n\n<p>In Java 7 it's much easier, as you can use named groups. </p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685460619,"creation_date":1685460619,"answer_id":76366410,"question_id":17969436,"body_markdown":"A small note for others: You can make a quantifier possessive by placing an extra `+` after it, or make it lazy/reluctant by adding extra `?` after it. By default quantifiers are greedy.\r\n\r\nSo, the examples are:\r\n```\r\n*  is greedy \r\n*? is lazy  \r\n*+ is possessive\r\n```","title":"Java Regex Capturing Groups","body":"<p>A small note for others: You can make a quantifier possessive by placing an extra <code>+</code> after it, or make it lazy/reluctant by adding extra <code>?</code> after it. By default quantifiers are greedy.</p>\n<p>So, the examples are:</p>\n<pre><code>*  is greedy \n*? is lazy  \n*+ is possessive\n</code></pre>\n"}],"owner":{"account_id":2981745,"reputation":2481,"user_id":2531583,"accept_rate":91,"display_name":"Xivilai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291999,"favorite_count":0,"down_vote_count":0,"up_vote_count":215,"accepted_answer_id":17969620,"answer_count":5,"score":215,"last_activity_date":1685460619,"creation_date":1375271045,"question_id":17969436,"body_markdown":"I am trying to understand this code block. In the first one, what is it we are looking for in the expression?\r\n\r\nMy understanding is that it is any character (0 or more times *) followed by any number between 0 and 9 (one or more times +) followed by any character (0 or more times *).\r\n\r\nWhen this is executed the result is:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Found value: This order was placed for QT3000! OK?\r\n    Found value: This order was placed for QT300\r\n    Found value: 0\r\n\r\nCould someone please go through this with me?\r\n\r\nWhat is the advantage of using Capturing groups?\r\n\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class RegexTut3 {\r\n\r\n\t    public static void main(String args[]) {\r\n\t\t    String line = &quot;This order was placed for QT3000! OK?&quot;; \r\n\t\t    String pattern = &quot;(.*)(\\\\d+)(.*)&quot;;\r\n\r\n\t\t    // Create a Pattern object\r\n\t\t    Pattern r = Pattern.compile(pattern);\r\n\r\n\t\t    // Now create matcher object.\r\n\t\t    Matcher m = r.matcher(line);\r\n\r\n\t\t    if (m.find()) {\r\n\t\t\t    System.out.println(&quot;Found value: &quot; + m.group(0));\r\n\t\t\t    System.out.println(&quot;Found value: &quot; + m.group(1));\r\n\t\t\t    System.out.println(&quot;Found value: &quot; + m.group(2));\r\n\t\t    } else {\r\n\t\t\t    System.out.println(&quot;NO MATCH&quot;);\r\n\t\t    }\r\n\t    }\r\n\r\n    }","title":"Java Regex Capturing Groups","body":"<p>I am trying to understand this code block. In the first one, what is it we are looking for in the expression?</p>\n\n<p>My understanding is that it is any character (0 or more times *) followed by any number between 0 and 9 (one or more times +) followed by any character (0 or more times *).</p>\n\n<p>When this is executed the result is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Found value: This order was placed for QT3000! OK?\nFound value: This order was placed for QT300\nFound value: 0\n</code></pre>\n\n<p>Could someone please go through this with me?</p>\n\n<p>What is the advantage of using Capturing groups?</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RegexTut3 {\n\n    public static void main(String args[]) {\n        String line = \"This order was placed for QT3000! OK?\"; \n        String pattern = \"(.*)(\\\\d+)(.*)\";\n\n        // Create a Pattern object\n        Pattern r = Pattern.compile(pattern);\n\n        // Now create matcher object.\n        Matcher m = r.matcher(line);\n\n        if (m.find()) {\n            System.out.println(\"Found value: \" + m.group(0));\n            System.out.println(\"Found value: \" + m.group(1));\n            System.out.println(\"Found value: \" + m.group(2));\n        } else {\n            System.out.println(\"NO MATCH\");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mybatis","mapper"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1685452094,"post_id":76365188,"comment_id":134659338,"body_markdown":"The error message is quite clear: add a UserRegisterMapper bean to your configuration.  Move on to the next error until you&#39;ve cleaned them all up.","body":"The error message is quite clear: add a UserRegisterMapper bean to your configuration.  Move on to the next error until you&#39;ve cleaned them all up."},{"owner":{"account_id":1193347,"reputation":5518,"user_id":1386584,"display_name":"Ivan Vasiljevic"},"score":0,"creation_date":1685452425,"post_id":76365188,"comment_id":134659437,"body_markdown":"Could you share  code of `userRegisterMapper`?","body":"Could you share  code of <code>userRegisterMapper</code>?"},{"owner":{"account_id":14749359,"reputation":39,"user_id":10651881,"display_name":"Shubham Singh"},"score":0,"creation_date":1685452473,"post_id":76365188,"comment_id":134659445,"body_markdown":"@duffmo How to add bean to configuration?","body":"@duffmo How to add bean to configuration?"},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1685516427,"post_id":76365188,"comment_id":134669223,"body_markdown":"error state that bean for mapper class has not created. Use @Component or any suitable stereotype annotation to get that bean scanned.","body":"error state that bean for mapper class has not created. Use @Component or any suitable stereotype annotation to get that bean scanned."}],"owner":{"account_id":14749359,"reputation":39,"user_id":10651881,"display_name":"Shubham Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685460413,"creation_date":1685451951,"question_id":76365188,"body_markdown":"I am getting the below error while starting the springboot application. I am attaching the code snippets. I am not able to create the mapper bean.\r\n```\r\nMay 28, 2023 2:26:11 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nMay 28, 2023 2:26:11 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRegisterController&#39;: Unsatisfied dependency expressed through field &#39;restProcessor&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;restProcessor&#39;: Unsatisfied dependency expressed through field &#39;placementPortalCatalogue&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;placementPortalCatalogue&#39;: Unsatisfied dependency expressed through field &#39;userRegisterChain&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRegisterChain&#39;: Unsatisfied dependency expressed through field &#39;insertUserRegisterOrder&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;insertUserRegisterOrder&#39;: Unsatisfied dependency expressed through field &#39;userRegisterDao&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRegisterDao&#39;: Unsatisfied dependency expressed through field &#39;userRegisterMapper&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.placement.portal.repository.mapper.UserRegisterMapper&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\r\nMay 28, 2023 2:26:11 PM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Tomcat]\r\n[main] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField userRegisterMapper in com.placement.portal.repository.dao.UserRegisterDao required a bean of type &#39;com.placement.portal.repository.mapper.UserRegisterMapper&#39; that could not be found.\r\n```\r\nThe injection point has the following annotations:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal.service.commands;\r\n\r\n    import com.placement.portal.common.ChainContext;\r\n    import com.placement.portal.common.order.UserRegisterOrder;\r\n    import com.placement.portal.repository.dao.UserRegisterDao;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.commons.chain.Context;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class InsertUserRegisterOrder extends CommandWrapper{\r\n        @Autowired\r\n        UserRegisterDao userRegisterDao;\r\n\r\n        @Override\r\n        public boolean execute(Context context) throws Exception {\r\n            try {\r\n                ChainContext chainContext = (ChainContext) context;\r\n                UserRegisterOrder userRegisterOrder = chainContext.getUserRegisterOrder();\r\n                userRegisterDao.insertUserRegisterOrder(userRegisterOrder);\r\n                return super.invokeTarget(context);\r\n            }\r\n            finally {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class PlacementPortalStudentApplication {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(PlacementPortalStudentApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal.repository.dao;\r\n\r\n    import com.placement.portal.common.order.UserRegisterOrder;\r\n    import com.placement.portal.repository.mapper.UserRegisterMapper;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import java.sql.SQLException;\r\n\r\n    @Slf4j\r\n    @Repository\r\n    public class UserRegisterDao {\r\n\r\n        @Autowired\r\n        UserRegisterMapper userRegisterMapper;\r\n        public void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException {\r\n            if (null == userRegisterOrder){\r\n                log.error(&quot;User Register Order is null&quot;);\r\n                return;\r\n            }\r\n            userRegisterMapper.insertUserRegisterOrder(userRegisterOrder);\r\n\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.amiya&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;placement-portal-student&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Placement-Portal&lt;/name&gt;\r\n\t&lt;description&gt;Placement Portal Student&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Dependency for MySQL Database --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-chain&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-chain&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.shardingsphere/sharding-jdbc-spring-boot-starter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shardingsphere&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal.repository.mapper;\r\n\r\n\r\n    import com.placement.portal.common.order.UserRegisterOrder;\r\n    import org.apache.ibatis.annotations.Insert;\r\n    import org.apache.ibatis.annotations.Mapper;\r\n\r\n    import java.sql.SQLException;\r\n\r\n    @Mapper\r\n    public interface UserRegisterMapper {\r\n        @Insert(&quot;insert into user(user_id,request_id) values (#{userId},#{requestId}&quot;)\r\n        void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Springboot Application not starting","body":"<p>I am getting the below error while starting the springboot application. I am attaching the code snippets. I am not able to create the mapper bean.</p>\n<pre><code>May 28, 2023 2:26:11 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nMay 28, 2023 2:26:11 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'\n[main] WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRegisterController': Unsatisfied dependency expressed through field 'restProcessor'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'restProcessor': Unsatisfied dependency expressed through field 'placementPortalCatalogue'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'placementPortalCatalogue': Unsatisfied dependency expressed through field 'userRegisterChain'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRegisterChain': Unsatisfied dependency expressed through field 'insertUserRegisterOrder'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insertUserRegisterOrder': Unsatisfied dependency expressed through field 'userRegisterDao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRegisterDao': Unsatisfied dependency expressed through field 'userRegisterMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.placement.portal.repository.mapper.UserRegisterMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\nMay 28, 2023 2:26:11 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\n[main] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userRegisterMapper in com.placement.portal.repository.dao.UserRegisterDao required a bean of type 'com.placement.portal.repository.mapper.UserRegisterMapper' that could not be found.\n</code></pre>\n<p>The injection point has the following annotations:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal.service.commands;\n\nimport com.placement.portal.common.ChainContext;\nimport com.placement.portal.common.order.UserRegisterOrder;\nimport com.placement.portal.repository.dao.UserRegisterDao;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.chain.Context;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Slf4j\npublic class InsertUserRegisterOrder extends CommandWrapper{\n    @Autowired\n    UserRegisterDao userRegisterDao;\n\n    @Override\n    public boolean execute(Context context) throws Exception {\n        try {\n            ChainContext chainContext = (ChainContext) context;\n            UserRegisterOrder userRegisterOrder = chainContext.getUserRegisterOrder();\n            userRegisterDao.insertUserRegisterOrder(userRegisterOrder);\n            return super.invokeTarget(context);\n        }\n        finally {\n\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class PlacementPortalStudentApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PlacementPortalStudentApplication.class, args);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal.repository.dao;\n\nimport com.placement.portal.common.order.UserRegisterOrder;\nimport com.placement.portal.repository.mapper.UserRegisterMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport java.sql.SQLException;\n\n@Slf4j\n@Repository\npublic class UserRegisterDao {\n\n    @Autowired\n    UserRegisterMapper userRegisterMapper;\n    public void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException {\n        if (null == userRegisterOrder){\n            log.error(\"User Register Order is null\");\n            return;\n        }\n        userRegisterMapper.insertUserRegisterOrder(userRegisterOrder);\n\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.5.5\n \n\ncom.amiya\nplacement-portal-student\n1.0.0-SNAPSHOT\nPlacement-Portal\nPlacement Portal Student\n\n&lt;java.version&gt;11&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-web\n\n\norg.springframework.boot\nspring-boot-starter-logging\n\n\n</p>\n<pre><code>    &lt;!-- Dependency for MySQL Database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;--&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-chain&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-chain&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.shardingsphere/sharding-jdbc-spring-boot-starter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shardingsphere&lt;/groupId&gt;\n        &lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;version&gt;6.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal.repository.mapper;\n\n\nimport com.placement.portal.common.order.UserRegisterOrder;\nimport org.apache.ibatis.annotations.Insert;\nimport org.apache.ibatis.annotations.Mapper;\n\nimport java.sql.SQLException;\n\n@Mapper\npublic interface UserRegisterMapper {\n    @Insert(\"insert into user(user_id,request_id) values (#{userId},#{requestId}\")\n    void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","discord","rate-limiting","discord-jda"],"answers":[{"comments":[{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1685465957,"post_id":76366357,"comment_id":134662828,"body_markdown":"Okay, thanks! So i am guessing that there isn&#39;t really a way to overcome this?\nAlso i know i should use .reply(), just didin&#39;t add it yet... But thanks anyways :)","body":"Okay, thanks! So i am guessing that there isn&#39;t really a way to overcome this? Also i know i should use .reply(), just didin&#39;t add it yet... But thanks anyways :)"}],"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685460233,"creation_date":1685460233,"answer_id":76366357,"question_id":76358960,"body_markdown":"You can only change the channel topic twice every 10 minutes. What you are observing is a *warning* not an *error*, as indicated by the log level WARN.\r\n\r\nAdditionally, for a slash command interaction, you are supposed to use `event.reply(...)` instead of sending a message to the channel.","title":"setTopic() Rate Limit problems","body":"<p>You can only change the channel topic twice every 10 minutes. What you are observing is a <em>warning</em> not an <em>error</em>, as indicated by the log level WARN.</p>\n<p>Additionally, for a slash command interaction, you are supposed to use <code>event.reply(...)</code> instead of sending a message to the channel.</p>\n"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76366357,"answer_count":1,"score":0,"last_activity_date":1685460233,"creation_date":1685378018,"question_id":76358960,"body_markdown":"I am getting a rate limit error when trying to change the topic of a TextChannel via `.setTopic()`. It is weird becouse i am not really doing much here...\r\nIt only works when adding a huge delay, like 10 seconds ( which i cannot do for my project )\r\neven with seemingly high delays like 5 seconds i get the error.\r\nNone of the funcitons (`saveEquationToMongo` and `randomEquation` ) do anything that could cause problems.\r\n\r\nHere is the ERROR:\r\n\r\n`[JDA RateLimit-Worker 2] WARN RateLimiter - Encountered 429 on route PATCH/channels/{channel_id} with bucket 6e836da6cef38ba2f3dfd8568a4e9631:channel_id=1111635288435994706 Retry-After: 512000 ms`\r\n\r\nHere is my code:\r\n```\r\n @Override\r\n    public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\r\n\r\n        if(event.getInteraction().getName().equals(&quot;equation&quot;)){\r\n\r\n            Equation equation = null;\r\n            try {\r\n                equation = randomEquation();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            int answer = equation.getAnswer();\r\n            System.out.println(answer);\r\n            String equationString = equation.getEquation();\r\n\r\n            MessageEmbed embed = new EmbedBuilder()\r\n                    .setTitle(&quot;Solve this equation:&quot;)\r\n                    .addField(equationString, &quot;Be the first one to do it! \\n Just send in the answers to this channel.&quot;, false)\r\n                    .setColor(Color.YELLOW)\r\n                    .build();\r\n            event.getChannel().asTextChannel().sendMessageEmbeds(embed).queue(message -&gt; {\r\n                String messageId = message.getId();\r\n                String channelId = message.getChannel().getId();\r\n                String channelTopic = event.getChannel().asTextChannel().getTopic();\r\n\r\n                saveEquationToMongo(equationString, answer, messageId, channelId, channelTopic);\r\n\r\n                TextChannel channel = event.getChannel().asTextChannel();\r\n                channel.getManager().setTopic(&quot;Currently playing the Equations Game...&quot;).queueAfter(500, TimeUnit.MILLISECONDS);\r\n\r\n            });\r\n\r\n\r\n           // event.reply(equationString  + &quot; = &quot; + answer).queue();\r\n\r\n        }\r\n    ```\r\n\r\n\r\n","title":"setTopic() Rate Limit problems","body":"<p>I am getting a rate limit error when trying to change the topic of a TextChannel via <code>.setTopic()</code>. It is weird becouse i am not really doing much here...\nIt only works when adding a huge delay, like 10 seconds ( which i cannot do for my project )\neven with seemingly high delays like 5 seconds i get the error.\nNone of the funcitons (<code>saveEquationToMongo</code> and <code>randomEquation</code> ) do anything that could cause problems.</p>\n<p>Here is the ERROR:</p>\n<p><code>[JDA RateLimit-Worker 2] WARN RateLimiter - Encountered 429 on route PATCH/channels/{channel_id} with bucket 6e836da6cef38ba2f3dfd8568a4e9631:channel_id=1111635288435994706 Retry-After: 512000 ms</code></p>\n<p>Here is my code:</p>\n<pre><code> @Override\n    public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\n\n        if(event.getInteraction().getName().equals(&quot;equation&quot;)){\n\n            Equation equation = null;\n            try {\n                equation = randomEquation();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            int answer = equation.getAnswer();\n            System.out.println(answer);\n            String equationString = equation.getEquation();\n\n            MessageEmbed embed = new EmbedBuilder()\n                    .setTitle(&quot;Solve this equation:&quot;)\n                    .addField(equationString, &quot;Be the first one to do it! \\n Just send in the answers to this channel.&quot;, false)\n                    .setColor(Color.YELLOW)\n                    .build();\n            event.getChannel().asTextChannel().sendMessageEmbeds(embed).queue(message -&gt; {\n                String messageId = message.getId();\n                String channelId = message.getChannel().getId();\n                String channelTopic = event.getChannel().asTextChannel().getTopic();\n\n                saveEquationToMongo(equationString, answer, messageId, channelId, channelTopic);\n\n                TextChannel channel = event.getChannel().asTextChannel();\n                channel.getManager().setTopic(&quot;Currently playing the Equations Game...&quot;).queueAfter(500, TimeUnit.MILLISECONDS);\n\n            });\n\n\n           // event.reply(equationString  + &quot; = &quot; + answer).queue();\n\n        }\n    ```\n\n\n</code></pre>\n"},{"tags":["java","selenium","automation","appium"],"answers":[{"comments":[{"owner":{"account_id":14824367,"reputation":1,"user_id":10705726,"display_name":"Abhishek Chauhan"},"score":0,"creation_date":1548314347,"post_id":54340467,"comment_id":95498401,"body_markdown":"- I did the same but in between of scrolling on the screen, the script would fail.","body":"- I did the same but in between of scrolling on the screen, the script would fail."},{"owner":{"account_id":14824367,"reputation":1,"user_id":10705726,"display_name":"Abhishek Chauhan"},"score":0,"creation_date":1548314377,"post_id":54340467,"comment_id":95498414,"body_markdown":"unable to get it why is it so","body":"unable to get it why is it so"},{"owner":{"account_id":14824367,"reputation":1,"user_id":10705726,"display_name":"Abhishek Chauhan"},"score":0,"creation_date":1548331570,"post_id":54340467,"comment_id":95507879,"body_markdown":"Yes getting the same error. I tried thrice by adb commands but that thing can&#39;t help me.","body":"Yes getting the same error. I tried thrice by adb commands but that thing can&#39;t help me."},{"owner":{"account_id":14824367,"reputation":1,"user_id":10705726,"display_name":"Abhishek Chauhan"},"score":3,"creation_date":1548418082,"post_id":54340467,"comment_id":95543758,"body_markdown":"Solved the issue by uninstalling:                                                                         \nadb uninstall io.appium.uiautomator2.server\nadb uninstall io.appium.uiautomator2.server.test                           \nabd unistall io.appium.unlock                                                                         \nadb uninstall io.appium.settings","body":"Solved the issue by uninstalling:                                                                          adb uninstall io.appium.uiautomator2.server adb uninstall io.appium.uiautomator2.server.test                            abd unistall io.appium.unlock                                                                          adb uninstall io.appium.settings"}],"tags":[],"owner":{"account_id":14382898,"reputation":668,"user_id":10389622,"display_name":"akshay patil"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548310884,"creation_date":1548310884,"answer_id":54340467,"question_id":54340292,"body_markdown":" restarting `adb` before the test run with `adb kill-server; adb start-server`. \r\nbecause sometimes the `appium` server having issue with adb so by restarting you can avoid this problem not every time when this error comes you can again start executing if not solved then please restart `adb` and then start executing script that will work..\r\nHappy to help...\r\nIn case you have any doubts comment down below..","title":"Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception","body":"<p>restarting <code>adb</code> before the test run with <code>adb kill-server; adb start-server</code>. \nbecause sometimes the <code>appium</code> server having issue with adb so by restarting you can avoid this problem not every time when this error comes you can again start executing if not solved then please restart <code>adb</code> and then start executing script that will work..\nHappy to help...\nIn case you have any doubts comment down below..</p>\n"},{"tags":[],"owner":{"account_id":17436743,"reputation":1,"user_id":12639581,"display_name":"MonkeyStack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685460179,"creation_date":1685460179,"answer_id":76366346,"question_id":54340292,"body_markdown":"I was in an Android app, and when I opened a web page, I guess appium was monitoring the app, but couldn&#39;t monitor another thread that opened the web page in the browser (although that&#39;s what it looks like on the phone), or could it be something like a browser page jump? I don&#39;t know exactly why, but I was able to get the display layer elements by restarting webdriver. The python code is as follows:\r\n\r\n```python\r\nself.driver = webdriver.Remote(appium_server_url, self.capabilities)\r\nself.driver.find_element(by=AppiumBy.XPATH, value=&#39;//android.widget.ImageView[@content-desc=&quot;more&quot;]&#39;).click()\r\n# restart webdriver\r\nself.driver.quit()\r\nself.driver = webdriver.Remote(appium_server_url, self.capabilities)\r\n#\r\nself.driver.find_element(by=AppiumBy.XPATH, value=&#39;//android.widget.TextView[@text=&quot;link&quot;]&#39;).click()\r\n```\r\n","title":"Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception","body":"<p>I was in an Android app, and when I opened a web page, I guess appium was monitoring the app, but couldn't monitor another thread that opened the web page in the browser (although that's what it looks like on the phone), or could it be something like a browser page jump? I don't know exactly why, but I was able to get the display layer elements by restarting webdriver. The python code is as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>self.driver = webdriver.Remote(appium_server_url, self.capabilities)\nself.driver.find_element(by=AppiumBy.XPATH, value='//android.widget.ImageView[@content-desc=&quot;more&quot;]').click()\n# restart webdriver\nself.driver.quit()\nself.driver = webdriver.Remote(appium_server_url, self.capabilities)\n#\nself.driver.find_element(by=AppiumBy.XPATH, value='//android.widget.TextView[@text=&quot;link&quot;]').click()\n</code></pre>\n"}],"owner":{"account_id":14824367,"reputation":1,"user_id":10705726,"display_name":"Abhishek Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685460179,"creation_date":1548309975,"question_id":54340292,"body_markdown":"- Getting unknown server-side error while running the script.\r\n- The script would terminate while scrolling else it would work fine.\r\n\r\n**Log error:**\r\n\r\n    org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception: java.lang.IllegalStateException: UiAutomation not connected!\r\n    \tat io.appium.uiautomator2.utils.UiExpressionParser.invokeMethod(UiExpressionParser.java:251)\r\n    \tat io.appium.uiautomator2.utils.UiScrollableParser.consumeMethodCall(UiScrollableParser.java:124)\r\n    \tat io.appium.uiautomator2.utils.UiScrollableParser.parse(UiScrollableParser.java:60)\r\n    \tat io.appium.uiautomator2.utils.UiAutomatorParser.consumeStatement(UiAutomatorParser.java:93)\r\n    \tat io.appium.uiautomator2.utils.UiAutomatorParser.parse(UiAutomatorParser.java:49)\r\n    \tat io.appium.uiautomator2.utils.LocationHelpers.toSelectors(LocationHelpers.java:95)\r\n    \tat io.appium.uiautomator2.utils.LocationHelpers.toSelector(LocationHelpers.java:88)\r\n    \tat io.appium.uiautomator2.handler.FindElement.findElement(FindElement.java:144)\r\n    \tat io.appium.uiautomator2.handler.FindElement.safeHandle(FindElement.java:75)\r\n    \tat io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:37)\r\n    \tat io.appium.uiautomator2.server.AppiumServlet.handleRequest(AppiumServlet.java:250)\r\n    \tat io.appium.uiautomator2.server.AppiumServlet.handleHttpRequest(AppiumServlet.java:241)\r\n    \tat io.appium.uiautomator2.http.ServerHandler.channelRead(ServerHandler.java:44)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\r\n\r\n*** **Element info:** \r\n\r\n    {Using=-android uiautomator, value=new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(&quot; val &quot;));}\r\n\r\n\r\n**Appium Log:**\r\n","title":"Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception","body":"<ul>\n<li>Getting unknown server-side error while running the script.</li>\n<li>The script would terminate while scrolling else it would work fine.</li>\n</ul>\n\n<p><strong>Log error:</strong></p>\n\n<pre><code>org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception: java.lang.IllegalStateException: UiAutomation not connected!\n    at io.appium.uiautomator2.utils.UiExpressionParser.invokeMethod(UiExpressionParser.java:251)\n    at io.appium.uiautomator2.utils.UiScrollableParser.consumeMethodCall(UiScrollableParser.java:124)\n    at io.appium.uiautomator2.utils.UiScrollableParser.parse(UiScrollableParser.java:60)\n    at io.appium.uiautomator2.utils.UiAutomatorParser.consumeStatement(UiAutomatorParser.java:93)\n    at io.appium.uiautomator2.utils.UiAutomatorParser.parse(UiAutomatorParser.java:49)\n    at io.appium.uiautomator2.utils.LocationHelpers.toSelectors(LocationHelpers.java:95)\n    at io.appium.uiautomator2.utils.LocationHelpers.toSelector(LocationHelpers.java:88)\n    at io.appium.uiautomator2.handler.FindElement.findElement(FindElement.java:144)\n    at io.appium.uiautomator2.handler.FindElement.safeHandle(FindElement.java:75)\n    at io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:37)\n    at io.appium.uiautomator2.server.AppiumServlet.handleRequest(AppiumServlet.java:250)\n    at io.appium.uiautomator2.server.AppiumServlet.handleHttpRequest(AppiumServlet.java:241)\n    at io.appium.uiautomator2.http.ServerHandler.channelRead(ServerHandler.java:44)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n</code></pre>\n\n<p><strong>* **Element info:</strong> </p>\n\n<pre><code>{Using=-android uiautomator, value=new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(\" val \"));}\n</code></pre>\n\n<p><strong>Appium Log:</strong></p>\n"},{"tags":["java","android","listview","checkbox","adapter"],"answers":[{"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685458969,"post_id":76366165,"comment_id":134661175,"body_markdown":"Please include the image and not link it","body":"Please include the image and not link it"},{"owner":{"account_id":28701008,"reputation":1,"user_id":21978190,"display_name":"Sergon24"},"score":0,"creation_date":1685459737,"post_id":76366165,"comment_id":134661367,"body_markdown":"it won&#39;t work because although i should use radiogroup there is only one id. Now i wil update my questions for show better my problem","body":"it won&#39;t work because although i should use radiogroup there is only one id. Now i wil update my questions for show better my problem"}],"tags":[],"owner":{"account_id":28711352,"reputation":1,"user_id":21986799,"display_name":"Kronos NT"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685458819,"creation_date":1685458819,"answer_id":76366165,"question_id":76365201,"body_markdown":"You must use a radiogroup and within that radiogroup must be the checkboxes you need, if they are within the radiogroup automatically when selecting one the other is deselected.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fMGnT.png\r\n\r\nit is worth mentioning that the error that appears in the radiogroup is because I did not add the constrains","title":"Check only one Checkbox in a listview unchecking the previous one","body":"<p>You must use a radiogroup and within that radiogroup must be the checkboxes you need, if they are within the radiogroup automatically when selecting one the other is deselected.\n<a href=\"https://i.stack.imgur.com/fMGnT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>it is worth mentioning that the error that appears in the radiogroup is because I did not add the constrains</p>\n"}],"owner":{"account_id":28701008,"reputation":1,"user_id":21978190,"display_name":"Sergon24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685460024,"creation_date":1685452035,"question_id":76365201,"body_markdown":"I have a listview with checkboxes, i want that only one checkbox can be clicked (like radiobutton), but i don&#39;t know how, because all the checkboxes came from the item and have the same id\r\n\r\n[enter image description here][1]\r\n\r\nThis is an example of my listview.\r\n\r\nCan someone explain me a method for check the last Checkbox pressed and uncheck the previous one\r\n\r\nin this image  you can find my code, as you can see i have only one id\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nvIsN.jpg\r\n  [2]: https://i.stack.imgur.com/F4iLV.png","title":"Check only one Checkbox in a listview unchecking the previous one","body":"<p>I have a listview with checkboxes, i want that only one checkbox can be clicked (like radiobutton), but i don't know how, because all the checkboxes came from the item and have the same id</p>\n<p><a href=\"https://i.stack.imgur.com/nvIsN.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is an example of my listview.</p>\n<p>Can someone explain me a method for check the last Checkbox pressed and uncheck the previous one</p>\n<p>in this image  you can find my code, as you can see i have only one id</p>\n<p><a href=\"https://i.stack.imgur.com/F4iLV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-security","single-sign-on","saml","spring-saml"],"owner":{"account_id":28710265,"reputation":1,"user_id":21985883,"display_name":"Bon Voyage Devs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685459894,"creation_date":1685450663,"question_id":76364991,"body_markdown":"I have an spring boot application in which i have integrated with spring-security-saml2-core for sso authetication and i am trying to put the identity provider xml config files externally.\r\n\r\nI have uploaded the file in a s3 bucket and trying to download and load them at the application startup.\r\n\r\nThe files gets downloaded  but the context for the classpath is not updated and resource loader is failing while initialising\r\n\r\nCode Snippet For Saml File loading :\r\n\r\n```java\r\n@Bean\r\n    @DependsOn(&quot;idpFileDownloader&quot;)\r\n    BeanFactoryPostProcessor idpMetadataLoader() throws ConfigurationException {\r\n        return beanFactory -&gt; {\r\n            PathMatchingResourcePatternResolver metadataFilesResolver = new PathMatchingResourcePatternResolver();\r\n            try {\r\n                Resource[] idpMetadataFiles = metadataFilesResolver.getResources(&quot;classpath:/idp-xml-directory/idp-*.xml&quot;);\r\n                Stream.of(idpMetadataFiles).forEach(idpMetadataFile -&gt; {\r\n                    try {\r\n                        Timer refreshTimer = new Timer(true);\r\n                        ResourceBackedMetadataProvider delegate = null;\r\n                        delegate = new ResourceBackedMetadataProvider(refreshTimer, new SpringResourceWrapperOpenSAMLResource(idpMetadataFile));\r\n                        delegate.setParserPool(parserPool());\r\n                        ExtendedMetadata extendedMetadata = extendedMetadata().clone();\r\n                        ExtendedMetadataDelegate provider = new ExtendedMetadataDelegate(delegate, extendedMetadata);\r\n                        provider.setMetadataTrustCheck(false);\r\n                        provider.setMetadataRequireSignature(false);\r\n                        String idpFileName = idpMetadataFile.getFilename();\r\n                        String idpName = idpFileName.substring(idpFileName.lastIndexOf(&quot;idp-&quot;) + 4, idpFileName.lastIndexOf(&quot;.xml&quot;));\r\n                        extendedMetadata.setAlias(idpName);\r\n                        beanFactory.registerSingleton(idpName, provider);\r\n                        //todo: log.info(&quot;Loaded Idp Metadata bean {}: {}&quot;, idpName, idpMetadataFile);\r\n                    } catch (Exception e) {\r\n                        throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\r\n            }\r\n        };\r\n    }   \r\n```\r\n\r\nS3 file download logic :\r\n\r\n```java\r\n private void downloadFileFromS3(final String key) {\r\n        final long startTime = System.currentTimeMillis();\r\n        log.info(&quot;Starting Time {} for Downloading The file with the Key is {}&quot;,startTime/1000 ,key);\r\n        try {\r\n               /* final DirectoryDownload directoryDownload =\r\n                        transferManager.downloadDirectory(DownloadDirectoryRequest.builder()\r\n                                .destination(Paths.get(s3IdpFilesDirectoryPath))\r\n                                .bucket(s3BucketName)\r\n                                .build());\r\n                final CompletedDirectoryDownload completedDirectoryDownload = directoryDownload.completionFuture().join();\r\n                completedDirectoryDownload.failedTransfers().forEach(fail -&gt;\r\n                        log.warn(&quot;Object [{}] failed to transfer&quot;, fail.toString()));\r\n                log.info(&quot;Content length [{}]&quot;, completedDirectoryDownload);*/\r\n            final DownloadFileRequest downloadFileRequest =\r\n                    DownloadFileRequest.builder()\r\n                            .getObjectRequest(b -&gt; b.bucket(s3BucketName).key(key))\r\n                            .addTransferListener(LoggingTransferListener.create())\r\n                            .destination(Paths.get(s3IdpFilesDirectoryPath + key))\r\n                            .build();\r\n            log.info(&quot;Download path for key {} is {}&quot;, key, Paths.get(s3IdpFilesDirectoryPath + key));\r\n            final FileDownload downloadFile = transferManager.downloadFile(downloadFileRequest);\r\n            final CompletedFileDownload downloadResult = downloadFile.completionFuture().join();\r\n            log.info(&quot;Content length [{}]&quot;, downloadResult.response().contentLength());\r\n        } catch (Exception e) {\r\n            log.error(&quot;Exception while Downloading file {} is  {}&quot;,key ,e);\r\n            throw e;\r\n        }\r\n        final long endTime = System.currentTimeMillis();\r\n        log.info(&quot;Total Time {} for Downloading The file with the Key is {}&quot;,(endTime-startTime)/1000 ,key);\r\n        return;\r\n    }\r\n```\r\n\r\nI have tried downloading them at extern\r\nI have tried to load resources as file by given path instead of the resource load.\r\n\r\nCan you please suggest a way where i can store saml conf externally and load them at the application startup.","title":"How can I load SAML config files stored in S3 bucket in Spring Boot application using spring-security-saml2-core?","body":"<p>I have an spring boot application in which i have integrated with spring-security-saml2-core for sso authetication and i am trying to put the identity provider xml config files externally.</p>\n<p>I have uploaded the file in a s3 bucket and trying to download and load them at the application startup.</p>\n<p>The files gets downloaded  but the context for the classpath is not updated and resource loader is failing while initialising</p>\n<p>Code Snippet For Saml File loading :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    @DependsOn(&quot;idpFileDownloader&quot;)\n    BeanFactoryPostProcessor idpMetadataLoader() throws ConfigurationException {\n        return beanFactory -&gt; {\n            PathMatchingResourcePatternResolver metadataFilesResolver = new PathMatchingResourcePatternResolver();\n            try {\n                Resource[] idpMetadataFiles = metadataFilesResolver.getResources(&quot;classpath:/idp-xml-directory/idp-*.xml&quot;);\n                Stream.of(idpMetadataFiles).forEach(idpMetadataFile -&gt; {\n                    try {\n                        Timer refreshTimer = new Timer(true);\n                        ResourceBackedMetadataProvider delegate = null;\n                        delegate = new ResourceBackedMetadataProvider(refreshTimer, new SpringResourceWrapperOpenSAMLResource(idpMetadataFile));\n                        delegate.setParserPool(parserPool());\n                        ExtendedMetadata extendedMetadata = extendedMetadata().clone();\n                        ExtendedMetadataDelegate provider = new ExtendedMetadataDelegate(delegate, extendedMetadata);\n                        provider.setMetadataTrustCheck(false);\n                        provider.setMetadataRequireSignature(false);\n                        String idpFileName = idpMetadataFile.getFilename();\n                        String idpName = idpFileName.substring(idpFileName.lastIndexOf(&quot;idp-&quot;) + 4, idpFileName.lastIndexOf(&quot;.xml&quot;));\n                        extendedMetadata.setAlias(idpName);\n                        beanFactory.registerSingleton(idpName, provider);\n                        //todo: log.info(&quot;Loaded Idp Metadata bean {}: {}&quot;, idpName, idpMetadataFile);\n                    } catch (Exception e) {\n                        throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\n                    }\n                });\n            } catch (Exception e) {\n                throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\n            }\n        };\n    }   \n</code></pre>\n<p>S3 file download logic :</p>\n<pre class=\"lang-java prettyprint-override\"><code> private void downloadFileFromS3(final String key) {\n        final long startTime = System.currentTimeMillis();\n        log.info(&quot;Starting Time {} for Downloading The file with the Key is {}&quot;,startTime/1000 ,key);\n        try {\n               /* final DirectoryDownload directoryDownload =\n                        transferManager.downloadDirectory(DownloadDirectoryRequest.builder()\n                                .destination(Paths.get(s3IdpFilesDirectoryPath))\n                                .bucket(s3BucketName)\n                                .build());\n                final CompletedDirectoryDownload completedDirectoryDownload = directoryDownload.completionFuture().join();\n                completedDirectoryDownload.failedTransfers().forEach(fail -&gt;\n                        log.warn(&quot;Object [{}] failed to transfer&quot;, fail.toString()));\n                log.info(&quot;Content length [{}]&quot;, completedDirectoryDownload);*/\n            final DownloadFileRequest downloadFileRequest =\n                    DownloadFileRequest.builder()\n                            .getObjectRequest(b -&gt; b.bucket(s3BucketName).key(key))\n                            .addTransferListener(LoggingTransferListener.create())\n                            .destination(Paths.get(s3IdpFilesDirectoryPath + key))\n                            .build();\n            log.info(&quot;Download path for key {} is {}&quot;, key, Paths.get(s3IdpFilesDirectoryPath + key));\n            final FileDownload downloadFile = transferManager.downloadFile(downloadFileRequest);\n            final CompletedFileDownload downloadResult = downloadFile.completionFuture().join();\n            log.info(&quot;Content length [{}]&quot;, downloadResult.response().contentLength());\n        } catch (Exception e) {\n            log.error(&quot;Exception while Downloading file {} is  {}&quot;,key ,e);\n            throw e;\n        }\n        final long endTime = System.currentTimeMillis();\n        log.info(&quot;Total Time {} for Downloading The file with the Key is {}&quot;,(endTime-startTime)/1000 ,key);\n        return;\n    }\n</code></pre>\n<p>I have tried downloading them at extern\nI have tried to load resources as file by given path instead of the resource load.</p>\n<p>Can you please suggest a way where i can store saml conf externally and load them at the application startup.</p>\n"},{"tags":["java","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1685517416,"post_id":76366246,"comment_id":134669405,"body_markdown":"Have a look at [Handling poison messages in IBM MQ classes for JMS](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-handling-poison-messages-in-mq-classes-jms). Looks like the IBM MQ queue attributes BOTHRESH (backout threshold) and BOQNAME (backout requeue queue) are not defined for your queue by the administrator.","body":"Have a look at <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-handling-poison-messages-in-mq-classes-jms\" rel=\"nofollow noreferrer\">Handling poison messages in IBM MQ classes for JMS</a>. Looks like the IBM MQ queue attributes BOTHRESH (backout threshold) and BOQNAME (backout requeue queue) are not defined for your queue by the administrator."},{"owner":{"account_id":28711411,"reputation":1,"user_id":21986853,"display_name":"Ramzi Gachi"},"score":0,"creation_date":1685524518,"post_id":76366246,"comment_id":134670917,"body_markdown":"We can&#39;t do without those attributes ?","body":"We can&#39;t do without those attributes ?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1685596052,"post_id":76366246,"comment_id":134682752,"body_markdown":"Because the Spring `DefaultJmsListenerContainerFactory` does simply a reconnect with these settings, but it does not contain the logic to put poison messages on a back out queue. This logic is part of the IBM MQ JMS library and is based on the attributes BOTHRESH and BOQNAME.","body":"Because the Spring <code>DefaultJmsListenerContainerFactory</code> does simply a reconnect with these settings, but it does not contain the logic to put poison messages on a back out queue. This logic is part of the IBM MQ JMS library and is based on the attributes BOTHRESH and BOQNAME."},{"owner":{"account_id":28711411,"reputation":1,"user_id":21986853,"display_name":"Ramzi Gachi"},"score":0,"creation_date":1685609811,"post_id":76366246,"comment_id":134685041,"body_markdown":"I defined the bothresh and boqame , now it&#39;s work but i want to put a delay before each redelivery  message , i dont want to do it with thread.sleep , how i can do it ?","body":"I defined the bothresh and boqame , now it&#39;s work but i want to put a delay before each redelivery  message , i dont want to do it with thread.sleep , how i can do it ?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1685618157,"post_id":76366246,"comment_id":134686791,"body_markdown":"Sorry, I don&#39;t know how to do this with the `DefaultJmsListenerContainerFactory`. In IBM MQ, you could use the queue manager&#39;s dead letter queue instead of an individual back out queue and then define a specific dead letter queue handler to replay the message with a delay, see [DLQ control data](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=table-dlq-control-data).","body":"Sorry, I don&#39;t know how to do this with the <code>DefaultJmsListenerContainerFactory</code>. In IBM MQ, you could use the queue manager&#39;s dead letter queue instead of an individual back out queue and then define a specific dead letter queue handler to replay the message with a delay, see <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=table-dlq-control-data\" rel=\"nofollow noreferrer\">DLQ control data</a>."}],"owner":{"account_id":28711411,"reputation":1,"user_id":21986853,"display_name":"Ramzi Gachi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685459844,"creation_date":1685459421,"question_id":76366246,"body_markdown":"I am writing a Spring JmsListener to an MQ series. I have some problems when I am implementing the backoff strategy. It&#39;s seem to be ignored. Below is my JMS config:\r\n\r\n```java\r\n@Configuration\r\npublic class Jmsconfig implements JmsListenerConfigurer {\r\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(Jmsconfig.class);\r\n    @Autowired\r\n    DataSource dataSource;\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    @Value(&quot;${mqueue.error}&quot;)\r\n    String mqError;\r\n\r\n    @Bean\r\n    public JmsListenerContainerFactory jmsListenerContainerFactory() {\r\n            DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n            factory.setConnectionFactory(connectionFactory);\r\n\r\n            // D&#233;finir sessionTransacted sur false\r\n            FixedBackOff fbo = new FixedBackOff(); // or ExponentialBackOff\r\n            fbo.setMaxAttempts(3);\r\n            fbo.setInterval(5000);\r\n\r\n            //factory.setSessionTransacted(false);\r\n            //factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n            factory.setRecoveryInterval(3000L);\r\n            factory.setBackOff(fbo);\r\n\r\n            return factory;\r\n    }\r\n\r\n    //cache pour pouvoir recevoir les message asynchrones\r\n    @Bean\r\n    public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\r\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n\r\n        factory.setMessageConverter(messageConverter());\r\n        return factory;\r\n    }\r\n\r\n\r\n    //d&#233;s&#233;rialisation et mapping vers objet java\r\n    @Bean\r\n    public MessageConverter messageConverter() {\r\n        return new MappingJackson2MessageConverter();\r\n    }\r\n\r\n    @Override\r\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\r\n        registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\r\n\r\n    }    \r\n}\r\n```\r\nI tried to activate SESSION TRANSACTED, and I had an infinite loop! When I display the attribute &quot;JMSXDeliveryCount&quot; it seems to be normal. It is incremented at each attempt but the maxattemps and interval is not respected!\r\n","title":"Backoff seem to be ignored in a Spring JmsListener","body":"<p>I am writing a Spring JmsListener to an MQ series. I have some problems when I am implementing the backoff strategy. It's seem to be ignored. Below is my JMS config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Jmsconfig implements JmsListenerConfigurer {\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(Jmsconfig.class);\n    @Autowired\n    DataSource dataSource;\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    @Autowired\n    private ConnectionFactory connectionFactory;\n\n    @Value(&quot;${mqueue.error}&quot;)\n    String mqError;\n\n    @Bean\n    public JmsListenerContainerFactory jmsListenerContainerFactory() {\n            DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n            factory.setConnectionFactory(connectionFactory);\n\n            // Définir sessionTransacted sur false\n            FixedBackOff fbo = new FixedBackOff(); // or ExponentialBackOff\n            fbo.setMaxAttempts(3);\n            fbo.setInterval(5000);\n\n            //factory.setSessionTransacted(false);\n            //factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n            factory.setRecoveryInterval(3000L);\n            factory.setBackOff(fbo);\n\n            return factory;\n    }\n\n    //cache pour pouvoir recevoir les message asynchrones\n    @Bean\n    public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n\n        factory.setMessageConverter(messageConverter());\n        return factory;\n    }\n\n\n    //désérialisation et mapping vers objet java\n    @Bean\n    public MessageConverter messageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n\n    @Override\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\n\n    }    \n}\n</code></pre>\n<p>I tried to activate SESSION TRANSACTED, and I had an infinite loop! When I display the attribute &quot;JMSXDeliveryCount&quot; it seems to be normal. It is incremented at each attempt but the maxattemps and interval is not respected!</p>\n"},{"tags":["java","eclipse","sonarlint"],"comments":[{"owner":{"account_id":1008902,"reputation":12661,"user_id":1021920,"accept_rate":70,"display_name":"hellow"},"score":0,"creation_date":1548159135,"post_id":34939992,"comment_id":95435629,"body_markdown":"This pops up in the Close Votes Review. I think one should clarify if this is Offtopic or not. I&#39;m afraid it is... :/","body":"This pops up in the Close Votes Review. I think one should clarify if this is Offtopic or not. I&#39;m afraid it is... :/"},{"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"score":0,"creation_date":1548228872,"post_id":34939992,"comment_id":95462935,"body_markdown":"@hellow why would this be off topic?","body":"@hellow why would this be off topic?"},{"owner":{"account_id":1008902,"reputation":12661,"user_id":1021920,"accept_rate":70,"display_name":"hellow"},"score":0,"creation_date":1548229295,"post_id":34939992,"comment_id":95463132,"body_markdown":"*&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;* 3 votes so far for this.","body":"<i>&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;</i> 3 votes so far for this."}],"answers":[{"comments":[{"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"score":22,"creation_date":1453442978,"post_id":34940012,"comment_id":57612248,"body_markdown":"I installed the plugin. Problem is how to use it.","body":"I installed the plugin. Problem is how to use it."},{"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"score":9,"creation_date":1453794079,"post_id":34940012,"comment_id":57745200,"body_markdown":"@pippilongstocking The first things is to enable it for a project: you right click over a project (in the project view), Configure -&gt; Enable SonarLint. Then, files should be automatically analyse when opening them or saving them. You can also analyze all the project with right click over it -&gt; SonarLint -&gt; Analyze all files. Issues are marked in the editor and also appear in the &quot;SonarLint Issues&quot; view (Window -&gt; Show View -&gt; SonarLint Issues).","body":"@pippilongstocking The first things is to enable it for a project: you right click over a project (in the project view), Configure -&gt; Enable SonarLint. Then, files should be automatically analyse when opening them or saving them. You can also analyze all the project with right click over it -&gt; SonarLint -&gt; Analyze all files. Issues are marked in the editor and also appear in the &quot;SonarLint Issues&quot; view (Window -&gt; Show View -&gt; SonarLint Issues)."},{"owner":{"account_id":3651932,"reputation":471,"user_id":3043870,"display_name":"Fran&#231;ois POYER"},"score":0,"creation_date":1454318912,"post_id":34940012,"comment_id":57973809,"body_markdown":"@Duarte-SonarSourceTeam : is there any way (eg through maven&#39;s pom.xml) to make the &quot;enable SonarLint for the project&quot; step automatic? I mean: if I import an existing Maven project into Eclipse, with SonarLint plugin already installed, what could I do to have the SonarLint plugin activated for that project automatically?","body":"@Duarte-SonarSourceTeam : is there any way (eg through maven&#39;s pom.xml) to make the &quot;enable SonarLint for the project&quot; step automatic? I mean: if I import an existing Maven project into Eclipse, with SonarLint plugin already installed, what could I do to have the SonarLint plugin activated for that project automatically?"},{"owner":{"account_id":1443125,"reputation":187,"user_id":1362606,"accept_rate":80,"display_name":"saylee"},"score":3,"creation_date":1468579883,"post_id":34940012,"comment_id":64197047,"body_markdown":"@duarte-sonarsource-team : I cannot see any option to analyze all files in SonarLint 2.1.0 plugin. Was that purposefully removed? If yes, then how are we supposed to analyse entire project?","body":"@duarte-sonarsource-team : I cannot see any option to analyze all files in SonarLint 2.1.0 plugin. Was that purposefully removed? If yes, then how are we supposed to analyse entire project?"},{"owner":{"account_id":255011,"reputation":5242,"user_id":534773,"display_name":"Julien H. - SonarSource Team"},"score":0,"creation_date":1473242432,"post_id":34940012,"comment_id":66061854,"body_markdown":"Analyzing a full project is not a task for SonarLint. This is was SonarQube is made for.","body":"Analyzing a full project is not a task for SonarLint. This is was SonarQube is made for."},{"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"score":0,"creation_date":1477925511,"post_id":34940012,"comment_id":67943454,"body_markdown":"Hmmm. So basically I have to go to SonarQube to see what files have issues and then individually search those files in Eclipse? I don&#39;t want to *only* avoid adding new issues, I&#39;d like to also easily find and remove old ones...","body":"Hmmm. So basically I have to go to SonarQube to see what files have issues and then individually search those files in Eclipse? I don&#39;t want to <i>only</i> avoid adding new issues, I&#39;d like to also easily find and remove old ones..."},{"owner":{"account_id":1711755,"reputation":6012,"user_id":1574942,"accept_rate":80,"display_name":"Mike D"},"score":0,"creation_date":1510761005,"post_id":34940012,"comment_id":81574153,"body_markdown":"@JulienH.-SonarSourceTeam how do you configure rules if you aren&#39;t using sonarqube then?","body":"@JulienH.-SonarSourceTeam how do you configure rules if you aren&#39;t using sonarqube then?"},{"owner":{"account_id":255011,"reputation":5242,"user_id":534773,"display_name":"Julien H. - SonarSource Team"},"score":4,"creation_date":1510830584,"post_id":34940012,"comment_id":81606853,"body_markdown":"We have now changed our mind, and recent versions of SonarLint for Eclipse and IntelliJ offer a way to run a full analysis.","body":"We have now changed our mind, and recent versions of SonarLint for Eclipse and IntelliJ offer a way to run a full analysis."},{"owner":{"account_id":255011,"reputation":5242,"user_id":534773,"display_name":"Julien H. - SonarSource Team"},"score":0,"creation_date":1510830671,"post_id":34940012,"comment_id":81606907,"body_markdown":"@MikeD This is currently not possible to tune rules with SonarLint only. This is still an open subject.","body":"@MikeD This is currently not possible to tune rules with SonarLint only. This is still an open subject."},{"owner":{"account_id":5357025,"reputation":1178,"user_id":4269425,"display_name":"Shilpi Jaiswal"},"score":0,"creation_date":1547101001,"post_id":34940012,"comment_id":95077413,"body_markdown":"I have installed  sonarlint from eclipse marketplace , but I couldn&#39;t find any option to configure it.. I am using Eclipse Juno.. any help will be appreciated for how sonarlint works in eclipse.","body":"I have installed  sonarlint from eclipse marketplace , but I couldn&#39;t find any option to configure it.. I am using Eclipse Juno.. any help will be appreciated for how sonarlint works in eclipse."},{"owner":{"account_id":2557024,"reputation":163,"user_id":2218775,"display_name":"Sridivakar"},"score":0,"creation_date":1562259568,"post_id":34940012,"comment_id":100330682,"body_markdown":"while installing I get an error  ```Unable to read repository at https://eclipse-uc.sonarlint.org/content.xml.\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target```","body":"while installing I get an error  <code>Unable to read repository at https:&#47;&#47;eclipse-uc.sonarlint.org&#47;content.xml. sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code>"}],"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"comment_count":11,"down_vote_count":8,"up_vote_count":27,"is_accepted":true,"score":19,"last_activity_date":1473242620,"creation_date":1453442546,"answer_id":34940012,"question_id":34939992,"body_markdown":"You can install SonarLint from the [Eclipse Marketplace][2] and read the [official SonarLint documentation][1]\r\n\r\n\r\n  [1]: http://www.sonarlint.org/eclipse/\r\n  [2]: https://marketplace.eclipse.org/content/sonarlint\r\n","title":"How to use SonarLint in Eclipse","body":"<p>You can install SonarLint from the <a href=\"https://marketplace.eclipse.org/content/sonarlint\" rel=\"noreferrer\">Eclipse Marketplace</a> and read the <a href=\"http://www.sonarlint.org/eclipse/\" rel=\"noreferrer\">official SonarLint documentation</a></p>\n"},{"tags":[],"owner":{"account_id":3805302,"reputation":1898,"user_id":3157899,"accept_rate":62,"display_name":"Naxos84"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1469517471,"creation_date":1469517471,"answer_id":38583422,"question_id":34939992,"body_markdown":"You can install SonarLint as described by Sumit Singh.\r\nThen you can link your project to a sonarqube server as described [here][1]\r\n\r\n\r\n  [1]: http://www.sonarlint.org/eclipse/\r\n\r\nAfter that just make a change and save it. Sonarlint will automatically analyze the project for you. Cause analyzing is enabled by default (as far as i know)","title":"How to use SonarLint in Eclipse","body":"<p>You can install SonarLint as described by Sumit Singh.\nThen you can link your project to a sonarqube server as described <a href=\"http://www.sonarlint.org/eclipse/\" rel=\"nofollow\">here</a></p>\n\n<p>After that just make a change and save it. Sonarlint will automatically analyze the project for you. Cause analyzing is enabled by default (as far as i know)</p>\n"},{"tags":[],"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501600741,"creation_date":1501600741,"answer_id":45441696,"question_id":34939992,"body_markdown":"If you want to analyze a complete project with the Sonar Lint plugin, you can trick the plugin by searching all Java files with a text editor and replacing &quot;package&quot; with &quot; package&quot;. This will cause SVN or git changes. Open the &quot;Sonar Lint Report&quot; view and run the analysis on the &quot;Current project&quot;. Afterwards, revert all your SVN changes. Do *not* run the analysis again as the Sonar Lint Plugin only analyzes changed files. \r\n\r\nI found this helpful when I had no project on the Sonar server available.","title":"How to use SonarLint in Eclipse","body":"<p>If you want to analyze a complete project with the Sonar Lint plugin, you can trick the plugin by searching all Java files with a text editor and replacing \"package\" with \" package\". This will cause SVN or git changes. Open the \"Sonar Lint Report\" view and run the analysis on the \"Current project\". Afterwards, revert all your SVN changes. Do <em>not</em> run the analysis again as the Sonar Lint Plugin only analyzes changed files. </p>\n\n<p>I found this helpful when I had no project on the Sonar server available.</p>\n"},{"tags":[],"owner":{"account_id":3851913,"reputation":23,"user_id":3191862,"display_name":"Giac1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685458956,"creation_date":1685458956,"answer_id":76366182,"question_id":34939992,"body_markdown":"Maybe I&#39;m late but try looking at this doc/wiki about SonarLint for Eclipse:&lt;br&gt;\r\nhttps://github.com/SonarSource/sonarlint-eclipse/wiki","title":"How to use SonarLint in Eclipse","body":"<p>Maybe I'm late but try looking at this doc/wiki about SonarLint for Eclipse:<br>\n<a href=\"https://github.com/SonarSource/sonarlint-eclipse/wiki\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonarlint-eclipse/wiki</a></p>\n"}],"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133450,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":34940012,"answer_count":4,"score":36,"last_activity_date":1685458956,"creation_date":1453442448,"question_id":34939992,"body_markdown":"I was assigned to use SonarQube for code quality. But while I&#39;m downloading it&#39;s plugin to Eclipse I understood it is deprecated and new one is SonarLint.  \r\n\r\nBut as so far I couldn&#39;t find any good documentation to how to use SonarLint. How to check java project using that. I only got touch with Youtube videos. But sadly they are really really unclear to me. \r\n\r\nIf can direct me to a good place to gain clear knowledge on this I&#39;ll be really grateful to you. ","title":"How to use SonarLint in Eclipse","body":"<p>I was assigned to use SonarQube for code quality. But while I'm downloading it's plugin to Eclipse I understood it is deprecated and new one is SonarLint.  </p>\n\n<p>But as so far I couldn't find any good documentation to how to use SonarLint. How to check java project using that. I only got touch with Youtube videos. But sadly they are really really unclear to me. </p>\n\n<p>If can direct me to a good place to gain clear knowledge on this I'll be really grateful to you. </p>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"comments":[{"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"score":0,"creation_date":1685458951,"post_id":76366104,"comment_id":134661171,"body_markdown":"Thank you for the answer. Regarding the name - it&#39;s just an example. Consider, it&#39;s an email or id or whatever. So, you think the 1) is the most suitable. But what about my doubts stated there? Like, making mandatory DTO fields not mandatory would break the design?\n\nRegarding specific DTOs - yes, I thought to make specific DTO identical to the main one but without mandatory fields, but in case data model changes, all of them should be located and updated then.","body":"Thank you for the answer. Regarding the name - it&#39;s just an example. Consider, it&#39;s an email or id or whatever. So, you think the 1) is the most suitable. But what about my doubts stated there? Like, making mandatory DTO fields not mandatory would break the design?  Regarding specific DTOs - yes, I thought to make specific DTO identical to the main one but without mandatory fields, but in case data model changes, all of them should be located and updated then."},{"owner":{"account_id":24503545,"reputation":36,"user_id":18418850,"display_name":"codingwzrd"},"score":1,"creation_date":1685459752,"post_id":76366104,"comment_id":134661372,"body_markdown":"As you already know, in SE its all about trade offs. If you want to keep the design more consistent, then you need to force the frontend to always provide everything that is needed and then you can do a complete update with PUT. In this case you could reuse one DTO for POST, and PUT. I would still go with making it more flexible for every operation.","body":"As you already know, in SE its all about trade offs. If you want to keep the design more consistent, then you need to force the frontend to always provide everything that is needed and then you can do a complete update with PUT. In this case you could reuse one DTO for POST, and PUT. I would still go with making it more flexible for every operation."},{"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"score":0,"creation_date":1685469258,"post_id":76366104,"comment_id":134663477,"body_markdown":"well, I see the problem is a bit deeper than I thought. I don&#39;t really understand why there&#39;s no patch/partial update support in the spring. maybe I just don&#39;t know, will study it deeper. It might be not too difficult to implement. Will try. Thank you!","body":"well, I see the problem is a bit deeper than I thought. I don&#39;t really understand why there&#39;s no patch/partial update support in the spring. maybe I just don&#39;t know, will study it deeper. It might be not too difficult to implement. Will try. Thank you!"}],"tags":[],"owner":{"account_id":24503545,"reputation":36,"user_id":18418850,"display_name":"codingwzrd"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685458402,"creation_date":1685458402,"answer_id":76366104,"question_id":76365849,"body_markdown":"What you are trying to achieve is partial update. The correct way to do this is :\r\n 1. In the backend you expose an endpoint such as:\r\n \r\n\r\n    PATCH /users/{id}\r\n   \r\n 2. You can use an existing DTO but you need to make sure that the no fields are mandatory since then you break the &quot;partial&quot; thingy.. e.g PatchUserDTO.class\r\n\r\n 3. The request you will send:\r\n    Body:\r\n    {\r\n     &quot;name&quot;:&quot;...&quot;,\r\n      &quot;birthday&quot;:&quot;....&quot;\r\n    }\r\n 4. You find the entity by id provided in the path.\r\n 5. You map the fields from the dto to the existing entity.( You can use ModelMapper or just provide helper methods )\r\n\r\n 6. Pass down the model to the service layer and it takes care of saving etc..\r\n\r\nYou said that the resource can be identified by /users/name.. But this looks wrong because chances of names being unique are quite low..\r\nDo not be afraid to have DTO&#39;s for specific use cases, you will have more classes but your code is more readable and you separate the concerns.\r\n ","title":"Update a single property with REST/RestController","body":"<p>What you are trying to achieve is partial update. The correct way to do this is :</p>\n<ol>\n<li><p>In the backend you expose an endpoint such as:</p>\n<p>PATCH /users/{id}</p>\n</li>\n<li><p>You can use an existing DTO but you need to make sure that the no fields are mandatory since then you break the &quot;partial&quot; thingy.. e.g PatchUserDTO.class</p>\n</li>\n<li><p>The request you will send:\nBody:\n{\n&quot;name&quot;:&quot;...&quot;,\n&quot;birthday&quot;:&quot;....&quot;\n}</p>\n</li>\n<li><p>You find the entity by id provided in the path.</p>\n</li>\n<li><p>You map the fields from the dto to the existing entity.( You can use ModelMapper or just provide helper methods )</p>\n</li>\n<li><p>Pass down the model to the service layer and it takes care of saving etc..</p>\n</li>\n</ol>\n<p>You said that the resource can be identified by /users/name.. But this looks wrong because chances of names being unique are quite low..\nDo not be afraid to have DTO's for specific use cases, you will have more classes but your code is more readable and you separate the concerns.</p>\n"}],"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685482725,"accepted_answer_id":76366104,"answer_count":1,"score":0,"last_activity_date":1685458700,"creation_date":1685456651,"question_id":76365849,"body_markdown":"What is the best way to update a single property with RestController?\r\n\r\nI have a DTO with a lot of fields and need to update just one. Basically, on the frontend there might be no DTO at all. For example, frontend has 2 fields: username and birthday, both could be filled manually. On submit, on the server side, I need to find a user with that name and update that field. Despite the &quot;lost update&quot; problem, which is irrelevant in this case, what is the best way to accomplish that?\r\n\r\nI see following options (assuming entity is identified by the path, like &quot;/users/name&quot;):\r\n\r\n 1. To pass json with PUT and just one required field set, i. e. `{ &#39;birthdate&#39; : &#39;1854/12/02&#39;}` and to map it to the DTO class instance. It could be problematic, cause DTO could have some mandatory fields, like Id or something, which could break the whole design\r\n 2. To find whole entity/DTO from the client&#39; side first, then to transfer it to the client, then modify, then pass it back to the RestController&#39;s PUT endpoint. Quite complicated for such a trivial operation.\r\n 3. To do everything manually, like, to use the same simple JSON with just this one field, and to parse JSON manually. To find/create entity/DTO in the service or controller then, and update. In this case, from my point of view, it&#39;s not good to manually parse body and the rest of manual work don&#39;t suit the whole spring/rest design.\r\n\r\nI suppose, there&#39;s a simple and elegant way to achieve that. Please share. Thank you!\r\n\r\n \r\n\r\n","title":"Update a single property with REST/RestController","body":"<p>What is the best way to update a single property with RestController?</p>\n<p>I have a DTO with a lot of fields and need to update just one. Basically, on the frontend there might be no DTO at all. For example, frontend has 2 fields: username and birthday, both could be filled manually. On submit, on the server side, I need to find a user with that name and update that field. Despite the &quot;lost update&quot; problem, which is irrelevant in this case, what is the best way to accomplish that?</p>\n<p>I see following options (assuming entity is identified by the path, like &quot;/users/name&quot;):</p>\n<ol>\n<li>To pass json with PUT and just one required field set, i. e. <code>{ 'birthdate' : '1854/12/02'}</code> and to map it to the DTO class instance. It could be problematic, cause DTO could have some mandatory fields, like Id or something, which could break the whole design</li>\n<li>To find whole entity/DTO from the client' side first, then to transfer it to the client, then modify, then pass it back to the RestController's PUT endpoint. Quite complicated for such a trivial operation.</li>\n<li>To do everything manually, like, to use the same simple JSON with just this one field, and to parse JSON manually. To find/create entity/DTO in the service or controller then, and update. In this case, from my point of view, it's not good to manually parse body and the rest of manual work don't suit the whole spring/rest design.</li>\n</ol>\n<p>I suppose, there's a simple and elegant way to achieve that. Please share. Thank you!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685458333,"creation_date":1685458333,"answer_id":76366097,"question_id":76345157,"body_markdown":"For now, Kafka Streams doesn&#39;t support handling errors and pushing a record to a DLQ, so you&#39;ll need to implement it yourself.\r\n\r\nAlso, note that making external calls from Kafka Streams is not considered a best practice for the reason you describe here.\r\n\r\nBut if you need to do this in Kafka Streams, maybe try using a [KStream.process][1] method and make the HTTP external call from there and keep track of the time if the response doesn&#39;t come back in time, forward the record with a flag of some sort indicating the failure, and you could use either `branch` downstream to route the failed records to a DLQ or simply use a [TopicNameExtractor][2]\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/kstream/KStream.html#process-org.apache.kafka.streams.processor.api.ProcessorSupplier-org.apache.kafka.streams.kstream.Named-java.lang.String...-\r\n  [2]: https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/processor/TopicNameExtractor.html","title":"Kafka stream for processing event which takes long time","body":"<p>For now, Kafka Streams doesn't support handling errors and pushing a record to a DLQ, so you'll need to implement it yourself.</p>\n<p>Also, note that making external calls from Kafka Streams is not considered a best practice for the reason you describe here.</p>\n<p>But if you need to do this in Kafka Streams, maybe try using a <a href=\"https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/kstream/KStream.html#process-org.apache.kafka.streams.processor.api.ProcessorSupplier-org.apache.kafka.streams.kstream.Named-java.lang.String...-\" rel=\"nofollow noreferrer\">KStream.process</a> method and make the HTTP external call from there and keep track of the time if the response doesn't come back in time, forward the record with a flag of some sort indicating the failure, and you could use either <code>branch</code> downstream to route the failed records to a DLQ or simply use a <a href=\"https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/processor/TopicNameExtractor.html\" rel=\"nofollow noreferrer\">TopicNameExtractor</a></p>\n"}],"owner":{"account_id":4306490,"reputation":75,"user_id":3527506,"accept_rate":40,"display_name":"omkar1707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685458333,"creation_date":1685156203,"question_id":76345157,"body_markdown":"I have a Spring Boot Kafka Stream application that reads the records do some HTTP calls and transform the record into another form. This transform record is then sent to the producer. \r\n```\r\nfinal KStream&lt;String, String&gt; toSquare = builder.stream(eventTopic,\r\n                Consumed.with(Serdes.String(), Serdes.String()));\r\ntoSquare.mapValues(recodProcessor::processMessage).to(notificationTopic,\r\n                Produced.with(Serdes.String(), Serdes.String()));\r\n```\r\n\r\nSometimes `processMessage` method is taking more than 5 min to execute based on the input event. `max.poll.interval.ms` is configured as 5 min. This is triggering rebalancing. Also, we are seeing the lag start building up for the particular partition.\r\n\r\nHow Kafka stream can be configured to handle such a scenario like throwing an error and pushing a record in DLQ and moving to the next record?","title":"Kafka stream for processing event which takes long time","body":"<p>I have a Spring Boot Kafka Stream application that reads the records do some HTTP calls and transform the record into another form. This transform record is then sent to the producer.</p>\n<pre><code>final KStream&lt;String, String&gt; toSquare = builder.stream(eventTopic,\n                Consumed.with(Serdes.String(), Serdes.String()));\ntoSquare.mapValues(recodProcessor::processMessage).to(notificationTopic,\n                Produced.with(Serdes.String(), Serdes.String()));\n</code></pre>\n<p>Sometimes <code>processMessage</code> method is taking more than 5 min to execute based on the input event. <code>max.poll.interval.ms</code> is configured as 5 min. This is triggering rebalancing. Also, we are seeing the lag start building up for the particular partition.</p>\n<p>How Kafka stream can be configured to handle such a scenario like throwing an error and pushing a record in DLQ and moving to the next record?</p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":55654,"reputation":90573,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1377020683,"post_id":18341652,"comment_id":26923365,"body_markdown":"Is there something else listening on port 8080? What does `netstat -a -b` output for port 8080?","body":"Is there something else listening on port 8080? What does <code>netstat -a -b</code> output for port 8080?"},{"owner":{"account_id":1987939,"reputation":505,"user_id":1782683,"accept_rate":32,"display_name":"J&#225;n Srniček"},"score":0,"creation_date":1377021050,"post_id":18341652,"comment_id":26923524,"body_markdown":"yes ,there are some apss linstening on that port","body":"yes ,there are some apss linstening on that port"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1377037753,"post_id":18341652,"comment_id":26931578,"body_markdown":"@AnthonyForloney &#39;Something else listening&#39; wouldn&#39;t cause ECONNREFUSED. That means *nothing* is listening, or a firewall rule.","body":"@AnthonyForloney &#39;Something else listening&#39; wouldn&#39;t cause ECONNREFUSED. That means <i>nothing</i> is listening, or a firewall rule."}],"answers":[{"comments":[{"owner":{"account_id":2207668,"reputation":1419,"user_id":2734849,"accept_rate":57,"display_name":"AndroidOptimist"},"score":1,"creation_date":1391065291,"post_id":18357646,"comment_id":32367686,"body_markdown":"@Laalto can u please tell me where to change my address to 10.0.2.2 in code","body":"@Laalto can u please tell me where to change my address to 10.0.2.2 in code"},{"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"score":9,"creation_date":1425853483,"post_id":18357646,"comment_id":46120949,"body_markdown":"For Genymotion 10.0.2.2 won&#39;t work.  You need to use 10.0.3.2, thanks to: http://stackoverflow.com/a/20914067/2162226","body":"For Genymotion 10.0.2.2 won&#39;t work.  You need to use 10.0.3.2, thanks to: <a href=\"http://stackoverflow.com/a/20914067/2162226\">stackoverflow.com/a/20914067/2162226</a>"},{"owner":{"account_id":1438042,"reputation":1700,"user_id":1359002,"display_name":"sanjeev51"},"score":4,"creation_date":1432530840,"post_id":18357646,"comment_id":48947432,"body_markdown":"This idea worked fine with localhost....but in my office i have different host address 203.131.91.72\nHere using url.openConnection() always throws an exception &quot;failed to connect to 203.131.91.72 &quot; \nWhat host or proxy permission is required to solve this problem??","body":"This idea worked fine with localhost....but in my office i have different host address 203.131.91.72 Here using url.openConnection() always throws an exception &quot;failed to connect to 203.131.91.72 &quot;  What host or proxy permission is required to solve this problem??"},{"owner":{"account_id":1604993,"reputation":3957,"user_id":1485254,"accept_rate":39,"display_name":"Manoj"},"score":0,"creation_date":1437736431,"post_id":18357646,"comment_id":51167807,"body_markdown":"i too keep on getting this error, i tried to download a file from local host but i keep on geting this error java.net.ConnectException: failed to connect to /30.30.30.38 (port 51749): connect failed: ECONNREFUSED (Connection refused)","body":"i too keep on getting this error, i tried to download a file from local host but i keep on geting this error java.net.ConnectException: failed to connect to /30.30.30.38 (port 51749): connect failed: ECONNREFUSED (Connection refused)"},{"owner":{"account_id":4389900,"reputation":1206,"user_id":3578677,"accept_rate":27,"display_name":"Mansuu...."},"score":0,"creation_date":1488953928,"post_id":18357646,"comment_id":72453859,"body_markdown":"I am also facing same issue,but I really don&#39;t understand why it is localhost/127.0.0.1:port  instead of localhost:port","body":"I am also facing same issue,but I really don&#39;t understand why it is localhost/127.0.0.1:port  instead of localhost:port"}],"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":5,"down_vote_count":0,"up_vote_count":143,"is_accepted":true,"score":143,"last_activity_date":1533566251,"creation_date":1377088698,"answer_id":18357646,"question_id":18341652,"body_markdown":"To access your PC localhost from Android emulator, use 10.0.2.2 instead of 127.0.0.1. localhost or 127.0.0.1 refers to the emulated device itself, not the host the emulator is running on.\r\n\r\nReference: https://developer.android.com/studio/run/emulator-networking#networkaddresses\r\n\r\nFor **Genymotion** use:  **10.0.3.2** instead of 10.0.2.2 ","title":"connect failed: ECONNREFUSED","body":"<p>To access your PC localhost from Android emulator, use 10.0.2.2 instead of 127.0.0.1. localhost or 127.0.0.1 refers to the emulated device itself, not the host the emulator is running on.</p>\n\n<p>Reference: <a href=\"https://developer.android.com/studio/run/emulator-networking#networkaddresses\" rel=\"noreferrer\">https://developer.android.com/studio/run/emulator-networking#networkaddresses</a></p>\n\n<p>For <strong>Genymotion</strong> use:  <strong>10.0.3.2</strong> instead of 10.0.2.2 </p>\n"},{"tags":[],"owner":{"account_id":9140932,"reputation":21,"user_id":6798790,"display_name":"Rahul pawar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473448034,"creation_date":1473448034,"answer_id":39418245,"question_id":18341652,"body_markdown":"\r\nif you are using genymotion then go to command prompt type ipconfig\r\n-find for Ethernet adapter virtualBox host-only network:\r\n-find for Ipv4 Address..............192.1**.**.*\r\ncopy \r\n\r\nhttp://192.1**.**.*/foldername/filename/filename.json or filename.php\r\n\r\nto check if its working go to browser in emulator copy paste the url you should find the file which you are looking in your browser..\r\n\r\nSorry for English..\r\nThis worked for me hope this might help some one..\r\nThank u..\r\n","title":"connect failed: ECONNREFUSED","body":"<p>if you are using genymotion then go to command prompt type ipconfig\n-find for Ethernet adapter virtualBox host-only network:\n-find for Ipv4 Address..............192.1**.**.*\ncopy </p>\n\n<p><a href=\"http://192.1\" rel=\"nofollow\">http://192.1</a><strong>.</strong>.*/foldername/filename/filename.json or filename.php</p>\n\n<p>to check if its working go to browser in emulator copy paste the url you should find the file which you are looking in your browser..</p>\n\n<p>Sorry for English..\nThis worked for me hope this might help some one..\nThank u..</p>\n"}],"owner":{"account_id":1987939,"reputation":505,"user_id":1782683,"accept_rate":32,"display_name":"J&#225;n Srniček"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83211,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":18357646,"answer_count":2,"score":50,"last_activity_date":1685458019,"creation_date":1377020544,"question_id":18341652,"body_markdown":"I am developing one app, and what I think I wanna do is receive data from server database in android. So I started to run some tutorials. I found one that is doing pretty much what I want. \r\nBut I am getting: \r\n\r\n    detailMessage\t&quot;failed to connect to localhost/127.0.0.1 (port 8080): connect failed: ECONNREFUSED (Connection refused)&quot; (id=830021648792)\t\r\n\r\nWhole code of this tutorial is here [link][1]\r\n\r\nError occurs on : \r\n\r\n`OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());`\r\n\r\n\r\n  [1]: http://veereshr.com/Android/AndroidToServlet\r\n\r\nI checked that:\r\n\r\n - firewall is disabled\r\n - ping is working\r\n - connection string is exactly the same as when I run the servlet from server admin interface - `http://localhost:8080/Requestor/RQSRV`\r\n-the servlet is running \r\n\r\nMy configuration :\r\n\r\n\r\n - Server : Glass Fish 4.0\r\n - Android App - Developed in Eclipse\r\n - Servlet - Developed in NetBeans\r\n\r\n","title":"connect failed: ECONNREFUSED","body":"<p>I am developing one app, and what I think I wanna do is receive data from server database in android. So I started to run some tutorials. I found one that is doing pretty much what I want. \nBut I am getting: </p>\n\n<pre><code>detailMessage   \"failed to connect to localhost/127.0.0.1 (port 8080): connect failed: ECONNREFUSED (Connection refused)\" (id=830021648792) \n</code></pre>\n\n<p>Whole code of this tutorial is here <a href=\"http://veereshr.com/Android/AndroidToServlet\" rel=\"noreferrer\">link</a></p>\n\n<p>Error occurs on : </p>\n\n<p><code>OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());</code></p>\n\n<p>I checked that:</p>\n\n<ul>\n<li>firewall is disabled</li>\n<li>ping is working</li>\n<li>connection string is exactly the same as when I run the servlet from server admin interface - <code>http://localhost:8080/Requestor/RQSRV</code>\n-the servlet is running </li>\n</ul>\n\n<p>My configuration :</p>\n\n<ul>\n<li>Server : Glass Fish 4.0</li>\n<li>Android App - Developed in Eclipse</li>\n<li>Servlet - Developed in NetBeans</li>\n</ul>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1685452702,"post_id":76365168,"comment_id":134659495,"body_markdown":"I&#39;m not sure you can include multiple statements into one execution. Also, you should remove those `\\n`s. At best they&#39;re useless, at worst they break the execution.","body":"I&#39;m not sure you can include multiple statements into one execution. Also, you should remove those <code>\\n</code>s. At best they&#39;re useless, at worst they break the execution."},{"owner":{"account_id":31629,"reputation":264557,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"score":0,"creation_date":1685453097,"post_id":76365168,"comment_id":134659592,"body_markdown":"What is the purpose of `SET SQL_SAFE_UPDATES = 0`?","body":"What is the purpose of <code>SET SQL_SAFE_UPDATES = 0</code>?"},{"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"score":0,"creation_date":1685453182,"post_id":76365168,"comment_id":134659621,"body_markdown":"SET SQL_SAFE_UPDATES = 0; because mySQL is on save mode by default and i can&#39;t delete the data without it","body":"SET SQL_SAFE_UPDATES = 0; because mySQL is on save mode by default and i can&#39;t delete the data without it"},{"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"score":0,"creation_date":1685453238,"post_id":76365168,"comment_id":134659638,"body_markdown":"@FedericoklezCulloca i tried to remove \\n but the error is still the same, i don&#39;t know what to do now","body":"@FedericoklezCulloca i tried to remove \\n but the error is still the same, i don&#39;t know what to do now"},{"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"score":0,"creation_date":1685453529,"post_id":76365168,"comment_id":134659710,"body_markdown":"@SManikandan i just tried replacing &quot;*&quot; with ID since there is only one column in the table, it still returns &quot;RefreshCart:You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;delete from cart where cart.ID in (select ID from (select cart.ID from cart wher&#39; at line 1&quot;","body":"@SManikandan i just tried replacing &quot;*&quot; with ID since there is only one column in the table, it still returns &quot;RefreshCart:You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;delete from cart where cart.ID in (select ID from (select cart.ID from cart wher&#39; at line 1&quot;"},{"owner":{"account_id":10298373,"reputation":148,"user_id":7597798,"display_name":"S Manikandan"},"score":0,"creation_date":1685453945,"post_id":76365168,"comment_id":134659823,"body_markdown":"replace * with  &quot;tblTmp.id &quot;","body":"replace * with  &quot;tblTmp.id &quot;"}],"answers":[{"tags":[],"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685454134,"creation_date":1685454134,"answer_id":76365478,"question_id":76365168,"body_markdown":"OK, so what did work for me is to divide the sql statement into 3 parts, execute them in seperate functions and then make a function that does 3 of them step by step like so\r\n\r\n        public void deleteData() {\r\n        try {\r\n            String strUpdate = &quot;delete from cart where cart.ID in (select ID from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp)&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void sqlUnsafe() {\r\n        try {\r\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n     public void sqlSafe() {\r\n        try {\r\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 1&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n     \r\n    public void refresh(){\r\n        this.sqlUnsafe();\r\n        this.deleteData();\r\n        this.sqlSafe();\r\n    }","title":"Why does my JDBC/MySQL code throw an error when running SQL &#39;delete from cart where cart.ID in ...&#39; inside a function?","body":"<p>OK, so what did work for me is to divide the sql statement into 3 parts, execute them in seperate functions and then make a function that does 3 of them step by step like so</p>\n<pre><code>    public void deleteData() {\n    try {\n        String strUpdate = &quot;delete from cart where cart.ID in (select ID from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp)&quot;;\n        System.out.println(strUpdate);\n        pstm = cnn.prepareStatement(strUpdate);\n        pstm.executeUpdate();\n    } catch (Exception e) {\n        System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n    }\n}\n\npublic void sqlUnsafe() {\n    try {\n        String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0&quot;;\n        System.out.println(strUpdate);\n        pstm = cnn.prepareStatement(strUpdate);\n        pstm.executeUpdate();\n    } catch (Exception e) {\n        System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n    }\n}\n public void sqlSafe() {\n    try {\n        String strUpdate = &quot;SET SQL_SAFE_UPDATES = 1&quot;;\n        System.out.println(strUpdate);\n        pstm = cnn.prepareStatement(strUpdate);\n        pstm.executeUpdate();\n    } catch (Exception e) {\n        System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n    }\n}\n \npublic void refresh(){\n    this.sqlUnsafe();\n    this.deleteData();\n    this.sqlSafe();\n}\n</code></pre>\n"}],"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685454126,"answer_count":1,"score":0,"last_activity_date":1685457980,"creation_date":1685451819,"question_id":76365168,"body_markdown":"so i was trying to run these lines of code \r\n\r\n \r\n```\r\n\r\n    public void refresh() {\r\n        try {\r\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0; \\n&quot;\r\n                    + &quot;delete from cart where cart.ID in (select * from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp);\\n&quot;\r\n                    + &quot;SET SQL_SAFE_UPDATES = 1;&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n   \r\n```\r\nThe 3 sql line ran fine in mySQL\r\n[enter image description here](https://i.stack.imgur.com/zu5cP.png) \r\nbut when i try to ran it in this function it returns an error\r\n[enter image description here](https://i.stack.imgur.com/zHuBU.png)\r\n\r\ni have the SQL statement printed out using System.out.println and it returned fine, even works when i recopy it back into mySQL workbench\r\n[enter image description here](https://i.stack.imgur.com/Ri1mU.png)","title":"Why does my JDBC/MySQL code throw an error when running SQL &#39;delete from cart where cart.ID in ...&#39; inside a function?","body":"<p>so i was trying to run these lines of code</p>\n<pre><code>\n    public void refresh() {\n        try {\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0; \\n&quot;\n                    + &quot;delete from cart where cart.ID in (select * from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp);\\n&quot;\n                    + &quot;SET SQL_SAFE_UPDATES = 1;&quot;;\n            System.out.println(strUpdate);\n            pstm = cnn.prepareStatement(strUpdate);\n            pstm.executeUpdate();\n        } catch (Exception e) {\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n        }\n    }\n   \n</code></pre>\n<p>The 3 sql line ran fine in mySQL\n<a href=\"https://i.stack.imgur.com/zu5cP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nbut when i try to ran it in this function it returns an error\n<a href=\"https://i.stack.imgur.com/zHuBU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i have the SQL statement printed out using System.out.println and it returned fine, even works when i recopy it back into mySQL workbench\n<a href=\"https://i.stack.imgur.com/Ri1mU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633510037,"post_id":69462503,"comment_id":122775827,"body_markdown":"You can use the `OffsetDateTime` and call `myOffsetDateTime.toLocalTime()`.","body":"You can use the <code>OffsetDateTime</code> and call <code>myOffsetDateTime.toLocalTime()</code>."},{"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"score":1,"creation_date":1633514746,"post_id":69462503,"comment_id":122777861,"body_markdown":"It could work but it&#39;s not too effective, firstly, I&#39;d have to do that in a lot of different places, and also, setting the parameter as `date-time` in the OpenAPI specification would communicate that it allows any combination of date and time, while it actually only works with time. I guess my wording wasn&#39;t very good, because what I&#39;d like is to have a time parameter in my API and also in the generated code. (Maybe using a regex pattern for the string is my only choice?)","body":"It could work but it&#39;s not too effective, firstly, I&#39;d have to do that in a lot of different places, and also, setting the parameter as <code>date-time</code> in the OpenAPI specification would communicate that it allows any combination of date and time, while it actually only works with time. I guess my wording wasn&#39;t very good, because what I&#39;d like is to have a time parameter in my API and also in the generated code. (Maybe using a regex pattern for the string is my only choice?)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633515465,"post_id":69462503,"comment_id":122778140,"body_markdown":"Sorry, I think it was not the wording but the lack of example values and code. Could you provide some minimal and reproducible example of the situation?","body":"Sorry, I think it was not the wording but the lack of example values and code. Could you provide some minimal and reproducible example of the situation?"},{"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"score":0,"creation_date":1633516141,"post_id":69462503,"comment_id":122778439,"body_markdown":"I&#39;ve added a small example of what I need","body":"I&#39;ve added a small example of what I need"}],"answers":[{"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633517054,"post_id":69464205,"comment_id":122778807,"body_markdown":"OK, good... Because [the specifiation](https://swagger.io/specification/) includes only the two types you already mentioned: `date-time` and `date`…","body":"OK, good... Because <a href=\"https://swagger.io/specification/\" rel=\"nofollow noreferrer\">the specifiation</a> includes only the two types you already mentioned: <code>date-time</code> and <code>date</code>…"},{"owner":{"account_id":1531125,"reputation":613,"user_id":8230706,"accept_rate":50,"display_name":"Ghassen"},"score":1,"creation_date":1645746950,"post_id":69464205,"comment_id":125959920,"body_markdown":"Is there a way to use the same thing using the `openapi-generator-maven-plugin`","body":"Is there a way to use the same thing using the <code>openapi-generator-maven-plugin</code>"},{"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"score":4,"creation_date":1645777265,"post_id":69464205,"comment_id":125965480,"body_markdown":"Yeah, use the following snippet inside your `&lt;configuration&gt;...&lt;/configuration&gt;` block in your `pom.xml`:  \n```java\n&lt;typeMappings&gt;\n   &lt;typeMapping&gt;OffsetDateTime=java.time.LocalDateTime&lt;/typeMapping&gt;\n&lt;/typeMappings&gt;\n&lt;importMappings&gt;  \n&lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\n &lt;/importMappings&gt;\n```\n  \nSorry for the poor formatting. You might have to fully qualify `OffsetDateTime` in `typeMapping` too, but this worked for me","body":"Yeah, use the following snippet inside your <code>&lt;configuration&gt;...&lt;&#47;configuration&gt;</code> block in your <code>pom.xml</code>:   <code>java &lt;typeMappings&gt;    &lt;typeMapping&gt;OffsetDateTime=java.time.LocalDateTime&lt;&#47;typeMap&zwnj;&#8203;ping&gt; &lt;&#47;typeMappings&gt; &lt;importMappings&gt;   &lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateT&zwnj;&#8203;ime&lt;&#47;importMapping&gt;  &lt;&#47;importMappings&gt; </code>    Sorry for the poor formatting. You might have to fully qualify <code>OffsetDateTime</code> in <code>typeMapping</code> too, but this worked for me"}],"tags":[],"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633517506,"creation_date":1633516821,"answer_id":69464205,"question_id":69462503,"body_markdown":"Solved it! Actually it was really easy, but being a beginner in OpenAPI it was hard finding a solution.Given the example in my question, I&#39;d just have to run `openapi-generator-cli` as\r\n\r\n`openapi-generator-cli generate -g java --type-mappings time=LocalTime`\r\n\r\nAnd *voil&#224;*, it&#39;s done!\r\n\r\nEDIT:\r\nBut this doesn&#39;t use `java.time.LocalTime` as a type because of the previously (in the question) mentioned `import-mappings`, so the definitive command would be:\r\n\r\n```\r\nopenapi-generator-cli generate -g java --type-mappings time=LocalTime --import-mappings LocalTime=java.time.LocalTime\r\n```\r\n","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>Solved it! Actually it was really easy, but being a beginner in OpenAPI it was hard finding a solution.Given the example in my question, I'd just have to run <code>openapi-generator-cli</code> as</p>\n<p><code>openapi-generator-cli generate -g java --type-mappings time=LocalTime</code></p>\n<p>And <em>voilà</em>, it's done!</p>\n<p>EDIT:\nBut this doesn't use <code>java.time.LocalTime</code> as a type because of the previously (in the question) mentioned <code>import-mappings</code>, so the definitive command would be:</p>\n<pre><code>openapi-generator-cli generate -g java --type-mappings time=LocalTime --import-mappings LocalTime=java.time.LocalTime\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7806091,"reputation":85,"user_id":5903937,"display_name":"Elias Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680299055,"creation_date":1680283019,"answer_id":75901127,"question_id":69462503,"body_markdown":"I have found that there is a dateLibrary option in the configOptions tag in the pom.xml. This way I didn&#39;t have to map manually between OffsetDateTime (which was being generated at first) and LocalDateTime. \r\n\r\nIf you add &lt;configHelp&gt;true&lt;/configHelp&gt; to the configuration tag it will print out all the options. \r\n\r\n\r\n    dateLibrary\r\n    \t    Option. Date library to use (Default: threetenbp)\r\n    \t        joda - Joda (for legacy app only)\r\n    \t        legacy - Legacy java.util.Date (if you really have a good reason not to use threetenbp\r\n    \t        java8-localdatetime - Java 8 using LocalDateTime (for legacy app only)\r\n    \t        java8 - Java 8 native JSR310 (preferred for jdk 1.8+) - note: this also sets &quot;java8&quot; to true\r\n    \t        threetenbp - Backport of JSR310 (preferred for jdk &lt; 1.8)\r\n\r\n","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>I have found that there is a dateLibrary option in the configOptions tag in the pom.xml. This way I didn't have to map manually between OffsetDateTime (which was being generated at first) and LocalDateTime.</p>\n<p>If you add true to the configuration tag it will print out all the options.</p>\n<pre><code>dateLibrary\n        Option. Date library to use (Default: threetenbp)\n            joda - Joda (for legacy app only)\n            legacy - Legacy java.util.Date (if you really have a good reason not to use threetenbp\n            java8-localdatetime - Java 8 using LocalDateTime (for legacy app only)\n            java8 - Java 8 native JSR310 (preferred for jdk 1.8+) - note: this also sets &quot;java8&quot; to true\n            threetenbp - Backport of JSR310 (preferred for jdk &lt; 1.8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14650812,"reputation":264,"user_id":10580886,"display_name":"mflorczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685457899,"creation_date":1685457899,"answer_id":76366031,"question_id":69462503,"body_markdown":"If you are using spring with gradle you need to add this two properties to build.gradle\r\n\r\n    openApiGenerate() {\r\n        generatorName = &quot;spring&quot;\r\n        ...\r\n        typeMappings = [&quot;time&quot;: &quot;LocalTime&quot;]\r\n        importMappings = [&quot;LocalTime&quot;: &quot;java.time.LocalTime&quot;]\r\n    }\r\nSo this configuration will say that `format: time` will generate `LocalTime` type and `java.time.LocalTime` here is the source of this type.","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>If you are using spring with gradle you need to add this two properties to build.gradle</p>\n<pre><code>openApiGenerate() {\n    generatorName = &quot;spring&quot;\n    ...\n    typeMappings = [&quot;time&quot;: &quot;LocalTime&quot;]\n    importMappings = [&quot;LocalTime&quot;: &quot;java.time.LocalTime&quot;]\n}\n</code></pre>\n<p>So this configuration will say that <code>format: time</code> will generate <code>LocalTime</code> type and <code>java.time.LocalTime</code> here is the source of this type.</p>\n"}],"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7893,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69464205,"answer_count":3,"score":4,"last_activity_date":1685457899,"creation_date":1633509990,"question_id":69462503,"body_markdown":"I see that there is a `date` format for strings in OpenAPI, and that by using `dateLibrary=java8` we can generate `LocalDate` fields by using `openapi-generator`.\r\n\r\nBut is there any way of producing `LocalTime` fields? There is no `time` format in OpenAPI and the `date-time` one produces `OffsetDateTime`.\r\n\r\nEDIT: It&#39;s hard offering a reproducible example since the question is about something I can&#39;t do, but some illustrative example would be that I want something along the lines of:\r\n\r\nA schema specification:\r\n```yaml\r\nVisit:\r\n  type: object\r\n  parameters:\r\n    visitor:\r\n      type: string\r\n    timeOfVisit:\r\n      type: string\r\n      format: time\r\n```\r\n\r\nBut obviously the `time` format is not present in the OpenAPI specification. The generated code should be something like\r\n\r\n```java\r\npublic class Visit {\r\n  private String visitor;\r\n  private LocalTime timeOfVisit;\r\n\r\n  // Getters, setters, etc\r\n}\r\n```\r\n\r\nThere must surely be some way for `openapi-generator` to produce this output, isn&#39;t it? I&#39;ve found that there are some `import-mappings` that map `LocalTime` to `org.joda.time.*` so there seems to be a way of having it produce `LocalTime` types, but I haven&#39;t found it","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>I see that there is a <code>date</code> format for strings in OpenAPI, and that by using <code>dateLibrary=java8</code> we can generate <code>LocalDate</code> fields by using <code>openapi-generator</code>.</p>\n<p>But is there any way of producing <code>LocalTime</code> fields? There is no <code>time</code> format in OpenAPI and the <code>date-time</code> one produces <code>OffsetDateTime</code>.</p>\n<p>EDIT: It's hard offering a reproducible example since the question is about something I can't do, but some illustrative example would be that I want something along the lines of:</p>\n<p>A schema specification:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Visit:\n  type: object\n  parameters:\n    visitor:\n      type: string\n    timeOfVisit:\n      type: string\n      format: time\n</code></pre>\n<p>But obviously the <code>time</code> format is not present in the OpenAPI specification. The generated code should be something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Visit {\n  private String visitor;\n  private LocalTime timeOfVisit;\n\n  // Getters, setters, etc\n}\n</code></pre>\n<p>There must surely be some way for <code>openapi-generator</code> to produce this output, isn't it? I've found that there are some <code>import-mappings</code> that map <code>LocalTime</code> to <code>org.joda.time.*</code> so there seems to be a way of having it produce <code>LocalTime</code> types, but I haven't found it</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":1112721,"reputation":4566,"user_id":1103702,"accept_rate":65,"display_name":"Churk"},"score":2,"creation_date":1333103598,"post_id":9941296,"comment_id":12692453,"body_markdown":"I think this can be accomplish much easier by using packaging tool such as ANT or Maven","body":"I think this can be accomplish much easier by using packaging tool such as ANT or Maven"},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1333103716,"post_id":9941296,"comment_id":12692484,"body_markdown":"Agree with Chuck. Take a look at ANT. IDEs are great for developing, but you need to understand how things works. java files are compiled via javac to .class files, after this, .class files can be packaged into a jar with the jar command. (Ant has tasks for doing this, even jdeveloper has some wizard for doing this).","body":"Agree with Chuck. Take a look at ANT. IDEs are great for developing, but you need to understand how things works. java files are compiled via javac to .class files, after this, .class files can be packaged into a jar with the jar command. (Ant has tasks for doing this, even jdeveloper has some wizard for doing this)."},{"owner":{"account_id":288915,"reputation":364,"user_id":589591,"display_name":"stolzem"},"score":0,"creation_date":1333103781,"post_id":9941296,"comment_id":12692500,"body_markdown":"JDeveloper itself should have the capability to create jar files. A quick google search comes up with a howto here: http://tompeez.wordpress.com/2011/06/01/creating-a-jar-file-in-jdeveloper/","body":"JDeveloper itself should have the capability to create jar files. A quick google search comes up with a howto here: <a href=\"http://tompeez.wordpress.com/2011/06/01/creating-a-jar-file-in-jdeveloper/\" rel=\"nofollow noreferrer\">tompeez.wordpress.com/2011/06/01/&hellip;</a>"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1333103883,"post_id":9941296,"comment_id":12692534,"body_markdown":"Can you clarify your question?","body":"Can you clarify your question?"},{"owner":{"account_id":2679536,"reputation":667,"user_id":2315166,"display_name":"garish"},"score":0,"creation_date":1596172238,"post_id":9941296,"comment_id":111732542,"body_markdown":"Go to source dir and run command:-  javac *.java &amp;&amp; jar cvf  JarName.jar *.class","body":"Go to source dir and run command:-  javac *.java &amp;&amp; jar cvf  JarName.jar *.class"}],"answers":[{"comments":[{"owner":{"account_id":307264,"reputation":2065,"user_id":618465,"accept_rate":95,"display_name":"Navigatron"},"score":11,"creation_date":1436178191,"post_id":9941385,"comment_id":50484288,"body_markdown":"The above worked, however I needed to specify the `.class` of myApp. So it was `jar -cf myJar.jar myApp.class`","body":"The above worked, however I needed to specify the <code>.class</code> of myApp. So it was <code>jar -cf myJar.jar myApp.class</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1439260663,"post_id":9941385,"comment_id":51776184,"body_markdown":"Spelling errors here too, and it assumes there is no package statement. Not adequate.","body":"Spelling errors here too, and it assumes there is no package statement. Not adequate."},{"owner":{"account_id":10205950,"reputation":321,"user_id":7534680,"display_name":"Aawara"},"score":0,"creation_date":1659759136,"post_id":9941385,"comment_id":129376496,"body_markdown":"This worked. Could anyone please decode what&#39;s happening here? What&#39;s -cf?","body":"This worked. Could anyone please decode what&#39;s happening here? What&#39;s -cf?"}],"tags":[],"owner":{"account_id":456742,"reputation":1952,"user_id":855654,"accept_rate":100,"display_name":"ab_dev86"},"comment_count":3,"down_vote_count":3,"up_vote_count":45,"is_accepted":false,"score":42,"last_activity_date":1532111939,"creation_date":1333103872,"answer_id":9941385,"question_id":9941296,"body_markdown":"Simply with command line:\r\n\r\n    javac MyApp.java\r\n    jar -cf myJar.jar MyApp.class\r\n\r\nSure IDEs avoid using command line terminal","title":"How do I make a JAR from a .java file?","body":"<p>Simply with command line:</p>\n\n<pre><code>javac MyApp.java\njar -cf myJar.jar MyApp.class\n</code></pre>\n\n<p>Sure IDEs avoid using command line terminal</p>\n"},{"comments":[{"owner":{"account_id":1366727,"reputation":1101,"user_id":1303007,"display_name":"user1303007"},"score":0,"creation_date":1333115737,"post_id":9941411,"comment_id":12696914,"body_markdown":"I&#39;ve tried compiling from the command line, but I get an error:\nFrame1.java:23: package oracle.jdeveloper.layout does not exist\n\nHow do I solve that? Sorry for the newbie questions...","body":"I&#39;ve tried compiling from the command line, but I get an error: Frame1.java:23: package oracle.jdeveloper.layout does not exist  How do I solve that? Sorry for the newbie questions..."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1333115911,"post_id":9941411,"comment_id":12696999,"body_markdown":"you have to build the classpath referring all the libraries you&#39;re referencing in your classes. Check with your jdeveloper installation, there should be some ant build example (build.xml file) and at least a couple of good tutorials on how to use jDeveloper with ANT on Oracle&#39;s site.","body":"you have to build the classpath referring all the libraries you&#39;re referencing in your classes. Check with your jdeveloper installation, there should be some ant build example (build.xml file) and at least a couple of good tutorials on how to use jDeveloper with ANT on Oracle&#39;s site."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1333116561,"post_id":9941411,"comment_id":12697247,"body_markdown":"@user1303007 take a look here http://www.oracle.com/technetwork/articles/adf/part4-098813.html","body":"@user1303007 take a look here <a href=\"http://www.oracle.com/technetwork/articles/adf/part4-098813.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/articles/adf/part4-098813.html</a>"},{"owner":{"display_name":"user5066707"},"score":1,"creation_date":1489060531,"post_id":9941411,"comment_id":72511518,"body_markdown":"I&#39;ve added an option to my jar command to automatically add the Main-Class to manifest... `jar cfe Main.jar Main *` (I&#39;ve got confused though, I&#39;ve had to put the Main-Class name after the output file name.)","body":"I&#39;ve added an option to my jar command to automatically add the Main-Class to manifest... <code>jar cfe Main.jar Main *</code> (I&#39;ve got confused though, I&#39;ve had to put the Main-Class name after the output file name.)"},{"owner":{"account_id":8990551,"reputation":2687,"user_id":6702598,"display_name":"DarkTrick"},"score":0,"creation_date":1618901326,"post_id":9941411,"comment_id":118735642,"body_markdown":"I&#39;d like to point out: `You have to move to build directory`. If you try `jar cvf YourJar.jar ./build/*`, you will have trouble running your jar file later.","body":"I&#39;d like to point out: <code>You have to move to build directory</code>. If you try <code>jar cvf YourJar.jar .&#47;build&#47;*</code>, you will have trouble running your jar file later."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1619383721,"post_id":9941411,"comment_id":118882868,"body_markdown":"@DarkTrick precisely, similar issues you would get if you forget the -d switch on javac.","body":"@DarkTrick precisely, similar issues you would get if you forget the -d switch on javac."}],"tags":[],"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"comment_count":6,"down_vote_count":2,"up_vote_count":137,"is_accepted":false,"score":135,"last_activity_date":1455205690,"creation_date":1333103970,"answer_id":9941411,"question_id":9941296,"body_markdown":"Open a command prompt.\r\n\r\nGo to the directory where you have your .java files\r\n\r\nCreate a directory build\r\n\r\nRun java compilation from the command line\r\n\r\n    javac -d ./build *.java\r\n\r\nif there are no errors, in the build directory you should have your class tree\r\n\r\nmove to the build directory and do a \r\n\r\n    jar cvf YourJar.jar *\r\n\r\nFor adding manifest check jar command line switches","title":"How do I make a JAR from a .java file?","body":"<p>Open a command prompt.</p>\n\n<p>Go to the directory where you have your .java files</p>\n\n<p>Create a directory build</p>\n\n<p>Run java compilation from the command line</p>\n\n<pre><code>javac -d ./build *.java\n</code></pre>\n\n<p>if there are no errors, in the build directory you should have your class tree</p>\n\n<p>move to the build directory and do a </p>\n\n<pre><code>jar cvf YourJar.jar *\n</code></pre>\n\n<p>For adding manifest check jar command line switches</p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1382893104,"creation_date":1382893104,"answer_id":19620748,"question_id":9941296,"body_markdown":"This can be done without terminal, directly from IDE. Netbeans, for example.\r\n\r\n1. Create a separate project with packages (Create Project - Java - Java Class Library).\r\n2. Put your .java classes there.\r\n3. Build this project.\r\n4. Go to your project folder and find build and dist folders there.\r\n5. Find .jar file in your dist folder.\r\n6. Get your other project and add this .jar file to project libraries.\r\n7. You can now reference classes from this library and its methods directly from code, if import is automatically done for you.\r\n\r\n","title":"How do I make a JAR from a .java file?","body":"<p>This can be done without terminal, directly from IDE. Netbeans, for example.</p>\n\n<ol>\n<li>Create a separate project with packages (Create Project - Java - Java Class Library).</li>\n<li>Put your .java classes there.</li>\n<li>Build this project.</li>\n<li>Go to your project folder and find build and dist folders there.</li>\n<li>Find .jar file in your dist folder.</li>\n<li>Get your other project and add this .jar file to project libraries.</li>\n<li>You can now reference classes from this library and its methods directly from code, if import is automatically done for you.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1439259668,"creation_date":1439259668,"answer_id":31932172,"question_id":9941296,"body_markdown":"Often you will want to specify a manifest, like so:\r\n\r\n    jar -cvfm myJar.jar myManifest.txt myApp.class\r\n\r\nWhich reads: &quot;create verbose jarFilename manifestFilename&quot;, followed by the files you want to include. Verbose means print messages about what it&#39;s doing.\r\n\r\nNote that the name of the manifest file you supply can be anything, as `jar` will automatically rename it and put it into the right directory within the jar file.\r\n\r\n","title":"How do I make a JAR from a .java file?","body":"<p>Often you will want to specify a manifest, like so:</p>\n\n<pre><code>jar -cvfm myJar.jar myManifest.txt myApp.class\n</code></pre>\n\n<p>Which reads: \"create verbose jarFilename manifestFilename\", followed by the files you want to include. Verbose means print messages about what it's doing.</p>\n\n<p>Note that the name of the manifest file you supply can be anything, as <code>jar</code> will automatically rename it and put it into the right directory within the jar file.</p>\n"},{"tags":[],"owner":{"account_id":2498224,"reputation":3197,"user_id":2174099,"accept_rate":42,"display_name":"sarah.ferguson"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1685457877,"creation_date":1444221849,"answer_id":32992556,"question_id":9941296,"body_markdown":"Ok this is the solution I would have liked to find, instead here I write it:\r\n\r\nFirst create the directory structure corresponding to the package defined for the .java file, if it is `my.super.application` create the directory `my` and inside it `super` and inside it the .java file `App.java`\r\n\r\nthen from command line:\r\n\r\n```bash\r\njavac -cp /path/to/lib1.jar:/path/to/lib2.jar path/to/my/super/App.java\r\n```\r\n\r\nNotice the above will include multiple libraries, if under windows use &quot;,&quot; to separate multiple files otherwise under GNU/Linux use &quot;:&quot;\r\nTo create a jar file\r\n\r\n```bash\r\njar -cvfe App.jar App my/app/\r\n```\r\n\r\nthe above will create the application with its corresponding Manifest indicating the App as the main class.\r\n\r\nIncluding the required libraries inside the jar file is not possible using java or jar command line parameters.\r\n\r\nYou can instead:\r\n\r\n 1. manually extract libraries to the root folder of the jar file\r\n 2. use an IDE such as Netbeans and insert a rule inside post-jar section of `nbproject/build-impl.xml` to extract the libraries inside the jar. See below.\r\n\r\n```xml\r\n&lt;target name=&quot;-post-jar&quot;&gt;\r\n    &lt;!-- Empty placeholder for easier customization. --&gt;\r\n    &lt;!-- You can override this target in the ../build.xml file. --&gt;\r\n    &lt;jar jarfile=&quot;${dist.jar}&quot; update=&quot;true&quot;&gt;\r\n        &lt;zipfileset src=&quot;${dist.jar}&quot;                           includes=&quot;**/*.class&quot;/&gt;\r\n        &lt;zipfileset src=&quot;${file.reference.iText-1.0.8.jar}&quot;     includes=&quot;**/*&quot;/&gt;\r\n        &lt;zipfileset src=&quot;${file.reference.itextpdf-3.2.1.jar}&quot;  includes=&quot;**/*&quot;/&gt;\r\n    &lt;/jar&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\nthe `file.reference` names are found inside `project.properties` file after you added the libraries to the Netbeans IDE.","title":"How do I make a JAR from a .java file?","body":"<p>Ok this is the solution I would have liked to find, instead here I write it:</p>\n<p>First create the directory structure corresponding to the package defined for the .java file, if it is <code>my.super.application</code> create the directory <code>my</code> and inside it <code>super</code> and inside it the .java file <code>App.java</code></p>\n<p>then from command line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -cp /path/to/lib1.jar:/path/to/lib2.jar path/to/my/super/App.java\n</code></pre>\n<p>Notice the above will include multiple libraries, if under windows use &quot;,&quot; to separate multiple files otherwise under GNU/Linux use &quot;:&quot;\nTo create a jar file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jar -cvfe App.jar App my/app/\n</code></pre>\n<p>the above will create the application with its corresponding Manifest indicating the App as the main class.</p>\n<p>Including the required libraries inside the jar file is not possible using java or jar command line parameters.</p>\n<p>You can instead:</p>\n<ol>\n<li>manually extract libraries to the root folder of the jar file</li>\n<li>use an IDE such as Netbeans and insert a rule inside post-jar section of <code>nbproject/build-impl.xml</code> to extract the libraries inside the jar. See below.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target name=&quot;-post-jar&quot;&gt;\n    &lt;!-- Empty placeholder for easier customization. --&gt;\n    &lt;!-- You can override this target in the ../build.xml file. --&gt;\n    &lt;jar jarfile=&quot;${dist.jar}&quot; update=&quot;true&quot;&gt;\n        &lt;zipfileset src=&quot;${dist.jar}&quot;                           includes=&quot;**/*.class&quot;/&gt;\n        &lt;zipfileset src=&quot;${file.reference.iText-1.0.8.jar}&quot;     includes=&quot;**/*&quot;/&gt;\n        &lt;zipfileset src=&quot;${file.reference.itextpdf-3.2.1.jar}&quot;  includes=&quot;**/*&quot;/&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n</code></pre>\n<p>the <code>file.reference</code> names are found inside <code>project.properties</code> file after you added the libraries to the Netbeans IDE.</p>\n"},{"tags":[],"owner":{"account_id":8056396,"reputation":51,"user_id":6581048,"display_name":"Matthieu vdBiggelaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521844022,"creation_date":1521844022,"answer_id":49459082,"question_id":9941296,"body_markdown":"Here is another fancy way of doing this:\r\n\r\n    $ ls | grep .java | xargs -I {} javac {} ; jar -cf myJar.jar *.class\r\n\r\nWhich will grab all the .java files ( `ls | grep .java` ) from your current directory and compile them into .class (`xargs -I {} javac {}`) and then create the jar file from the previously compiled classes (`jar -cf myJar.jar *.class`).","title":"How do I make a JAR from a .java file?","body":"<p>Here is another fancy way of doing this:</p>\n\n<pre><code>$ ls | grep .java | xargs -I {} javac {} ; jar -cf myJar.jar *.class\n</code></pre>\n\n<p>Which will grab all the .java files ( <code>ls | grep .java</code> ) from your current directory and compile them into .class (<code>xargs -I {} javac {}</code>) and then create the jar file from the previously compiled classes (<code>jar -cf myJar.jar *.class</code>).</p>\n"},{"tags":[],"owner":{"account_id":11512106,"reputation":407,"user_id":8436570,"display_name":"Randall Arms"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576995827,"creation_date":1576995827,"answer_id":59442091,"question_id":9941296,"body_markdown":"Perhaps the most beginner-friendly way to compile a JAR from your Java code is to use an IDE (integrated development environment; essentially just user-friendly software for development) like Netbeans or Eclipse.\r\n\r\n* Install and set-up an IDE. [Here is the latest version of Eclipse][1].\r\n* Create a project in your IDE and put your Java files inside of the project folder.\r\n* Select the project in the IDE and export the project as a JAR. Double check that the appropriate java files are selected when exporting.\r\n\r\nYou can always do this all very easily with the command line. Make sure that you are in the same directory as the files targeted before executing a command such as this:\r\n\r\n    javac YourApp.java\r\n    jar -cf YourJar.jar YourApp.class\r\n\r\n...changing &quot;YourApp&quot; and &quot;YourJar&quot; to the proper names of your files, respectively.\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/","title":"How do I make a JAR from a .java file?","body":"<p>Perhaps the most beginner-friendly way to compile a JAR from your Java code is to use an IDE (integrated development environment; essentially just user-friendly software for development) like Netbeans or Eclipse.</p>\n\n<ul>\n<li>Install and set-up an IDE. <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">Here is the latest version of Eclipse</a>.</li>\n<li>Create a project in your IDE and put your Java files inside of the project folder.</li>\n<li>Select the project in the IDE and export the project as a JAR. Double check that the appropriate java files are selected when exporting.</li>\n</ul>\n\n<p>You can always do this all very easily with the command line. Make sure that you are in the same directory as the files targeted before executing a command such as this:</p>\n\n<pre><code>javac YourApp.java\njar -cf YourJar.jar YourApp.class\n</code></pre>\n\n<p>...changing \"YourApp\" and \"YourJar\" to the proper names of your files, respectively.</p>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1679021423,"post_id":70482544,"comment_id":133650207,"body_markdown":"How to include a `.jar` file (library) inside the new jar?","body":"How to include a <code>.jar</code> file (library) inside the new jar?"}],"tags":[],"owner":{"account_id":9208637,"reputation":43,"user_id":9289086,"display_name":"Felipe Ara&#250;jo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640463792,"creation_date":1640463792,"answer_id":70482544,"question_id":9941296,"body_markdown":"If you have one simple main class(let&#39;s say Count.class), and want a jar with a MANIFEST file that points to this class as the entry point, you can do this:\r\n\r\n```\r\njar cfe app.jar Count Count.class \r\n```\r\n\r\nSource: https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html","title":"How do I make a JAR from a .java file?","body":"<p>If you have one simple main class(let's say Count.class), and want a jar with a MANIFEST file that points to this class as the entry point, you can do this:</p>\n<pre><code>jar cfe app.jar Count Count.class \n</code></pre>\n<p>Source: <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html</a></p>\n"}],"owner":{"account_id":1366727,"reputation":1101,"user_id":1303007,"display_name":"user1303007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349049,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"answer_count":8,"score":110,"last_activity_date":1685457877,"creation_date":1333103483,"question_id":9941296,"body_markdown":"I was writing a simple program using a Java application (not application that has projects, but application within a project; *.java*) that has a single frame. Both of the files are *.java* so I can&#39;t write a *manifest* needed by the JAR.\r\n\r\nThe *MyApp.java* starts like a class with package, imports then public class `MyApp` and has a main function, but it&#39;s still .java file! I&#39;m writing it in JDeveloper 11g if it helps.\r\n\r\nAny ideas how to make a JAR from these files?  ","title":"How do I make a JAR from a .java file?","body":"<p>I was writing a simple program using a Java application (not application that has projects, but application within a project; <em>.java</em>) that has a single frame. Both of the files are <em>.java</em> so I can't write a <em>manifest</em> needed by the JAR.</p>\n<p>The <em>MyApp.java</em> starts like a class with package, imports then public class <code>MyApp</code> and has a main function, but it's still .java file! I'm writing it in JDeveloper 11g if it helps.</p>\n<p>Any ideas how to make a JAR from these files?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":6,"creation_date":1685456187,"post_id":76365777,"comment_id":134660477,"body_markdown":"Compilers are usually quite explicit about what causes a compilation error","body":"Compilers are usually quite explicit about what causes a compilation error"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685457782,"post_id":76365777,"comment_id":134660882,"body_markdown":"Hint: next time show us the compilation error.  Or better still, *read* the compilation error and see if you can figure out what it means yourself.  Hint #2: Googling for a compilation error that you don&#39;t understand is often helpful; e.g. https://stackoverflow.com/questions/25706216","body":"Hint: next time show us the compilation error.  Or better still, <i>read</i> the compilation error and see if you can figure out what it means yourself.  Hint #2: Googling for a compilation error that you don&#39;t understand is often helpful; e.g. <a href=\"https://stackoverflow.com/questions/25706216\">stackoverflow.com/questions/25706216</a>"}],"answers":[{"tags":[],"owner":{"account_id":28711207,"reputation":11,"user_id":21986667,"display_name":"user21986667"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685457273,"creation_date":1685457273,"answer_id":76365942,"question_id":76365777,"body_markdown":"You&#39;re obviously working with standard console input/output. So you need to tell JVM you want console input to be used in your project.\r\n\r\nEvery class you use in your projects must be described either in your code OR imported from somewhere else.\r\n\r\nHere, you used standard class Scanner but didn&#39;t imported it.\r\nDo so by typing `import java.util.Scanner;` before you use it.","title":"What could be causing a compilation error in this Java code for inputting values from the keyboard using an algorithm?","body":"<p>You're obviously working with standard console input/output. So you need to tell JVM you want console input to be used in your project.</p>\n<p>Every class you use in your projects must be described either in your code OR imported from somewhere else.</p>\n<p>Here, you used standard class Scanner but didn't imported it.\nDo so by typing <code>import java.util.Scanner;</code> before you use it.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685457587,"creation_date":1685457587,"answer_id":76365982,"question_id":76365777,"body_markdown":"You code works fine as-is. The only thing that looks wrong is the lack of imported classes.\r\n\r\nHere is a version of your code where the `Scanner` class is imported and the algorithm exists in its own static method. I added method called `reversedNumberAsString` to verify if the computed value is correct.\r\n\r\n**Note:** When requesting input, you should typically display a prompt to let the user know the program is awaiting input.\r\n\r\n```java\r\nimport java.util.Scanner; // Import the Scanner class from the java.util package\r\n\r\npublic class ReverseInteger {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in); // Open scanner\r\n        System.out.print(&quot;Enter a number: &quot;); // Prompt user\r\n        int num = input.nextInt(), ans = reverse(num); // Grab input and compute\r\n        input.close(); // Close scanner\r\n        String expected = reversedNumberAsString(num); // Expected reversed\r\n        String actual = Integer.toString(ans, 10); // Computed number as string\r\n        System.out.println(ans); // Display the reversed number\r\n        System.out.printf(&quot;Correct?: %b&quot;, actual.equals(expected)); // Correct?\r\n    }\r\n\r\n    // Algorithm as its own function\r\n    public static int reverse(int num) {\r\n        int ans = 0;\r\n        while (num &gt; 0) {\r\n            int rem = num % 10;\r\n            num = num / 10;\r\n            ans = ans * 10 + rem;\r\n        }\r\n        return ans;\r\n    }\r\n\r\n    private static String reversedNumberAsString(int num) {\r\n        return new StringBuilder(Integer.toString(num, 10)).reverse().toString();\r\n    }\r\n}\r\n```","title":"What could be causing a compilation error in this Java code for inputting values from the keyboard using an algorithm?","body":"<p>You code works fine as-is. The only thing that looks wrong is the lack of imported classes.</p>\n<p>Here is a version of your code where the <code>Scanner</code> class is imported and the algorithm exists in its own static method. I added method called <code>reversedNumberAsString</code> to verify if the computed value is correct.</p>\n<p><strong>Note:</strong> When requesting input, you should typically display a prompt to let the user know the program is awaiting input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner; // Import the Scanner class from the java.util package\n\npublic class ReverseInteger {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in); // Open scanner\n        System.out.print(&quot;Enter a number: &quot;); // Prompt user\n        int num = input.nextInt(), ans = reverse(num); // Grab input and compute\n        input.close(); // Close scanner\n        String expected = reversedNumberAsString(num); // Expected reversed\n        String actual = Integer.toString(ans, 10); // Computed number as string\n        System.out.println(ans); // Display the reversed number\n        System.out.printf(&quot;Correct?: %b&quot;, actual.equals(expected)); // Correct?\n    }\n\n    // Algorithm as its own function\n    public static int reverse(int num) {\n        int ans = 0;\n        while (num &gt; 0) {\n            int rem = num % 10;\n            num = num / 10;\n            ans = ans * 10 + rem;\n        }\n        return ans;\n    }\n\n    private static String reversedNumberAsString(int num) {\n        return new StringBuilder(Integer.toString(num, 10)).reverse().toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27404600,"reputation":1,"user_id":20905474,"display_name":"Naza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685457675,"answer_count":2,"score":-2,"last_activity_date":1685457587,"creation_date":1685456148,"question_id":76365777,"body_markdown":"What is the likely reason for a compilation error in this code?\r\n\r\n```java\r\npublic class Reverse {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int num = input.nextInt();\r\n        int ans = 0;\r\n\r\n        while (num &gt; 0) {\r\n            int rem = num % 10;\r\n            num = num / 10;\r\n            ans = ans * 10 + rem;\r\n        }\r\n\r\n        System.out.println(ans);\r\n    }\r\n}\r\n```\r\n\r\nI want to be able to input values using the keyboard.","title":"What could be causing a compilation error in this Java code for inputting values from the keyboard using an algorithm?","body":"<p>What is the likely reason for a compilation error in this code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Reverse {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int num = input.nextInt();\n        int ans = 0;\n\n        while (num &gt; 0) {\n            int rem = num % 10;\n            num = num / 10;\n            ans = ans * 10 + rem;\n        }\n\n        System.out.println(ans);\n    }\n}\n</code></pre>\n<p>I want to be able to input values using the keyboard.</p>\n"},{"tags":["java","android","material-ui","material-design","android-datepicker"],"owner":{"account_id":28710173,"reputation":1,"user_id":21985805,"display_name":"Ahmad Badar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685457562,"creation_date":1685450158,"question_id":76364901,"body_markdown":"I am trying to highlight the previous selected dates ranges in Material Date Picker Android. I am saving previous months ranges in shared preferences. I want whenever user opens the calendar I can show previous ranges in some way, like highlighted or changed colour. In short, I want to somehow represent the previous selected date ranges. As far I&#39;ve researched, I cannot select more than one range in material date range picker. \r\n\r\nSolution I tried:\r\n\r\nI&#39;ve made previous selected dates inValid due to which they are grayed out as seen in screenshot. I am unable to customise the inValid Dates also.\r\n\r\n\r\n[![Screenshot][1]][1]\r\n\r\n    private void showCalendar() {\r\n        long l1 = prefsManager.getPeriodStartingDayLong();\r\n        long l2 = prefsManager.getPeriodEndingDayLong();\r\n       /* long l1 = 1681412400000L;\r\n        long l2 = 1681498800000L;\r\n        long l3 = 1681585200000L;\r\n        long l4 = 1681671600000L;*/\r\n\r\n        MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\r\n        builder.setTitleText(&quot;Select Dates&quot;);\r\n        builder.setTheme(R.style.MyMaterialCalendarTheme);\r\n\r\n        List&lt;Long&gt; highlightedDates = new ArrayList&lt;&gt;();\r\n\r\n        highlightedDates.add(l1);\r\n        highlightedDates.add(l2);\r\n      /*  highlightedDates.add(l3);\r\n        highlightedDates.add(l4);*/\r\n        // Add more dates as needed\r\n\r\n        CalendarConstraints.DateValidator dateValidator = new CalendarConstraints.DateValidator() {\r\n            @Override\r\n            public boolean isValid(long date) {\r\n                return !highlightedDates.contains(date);\r\n            }\r\n\r\n            @Override\r\n            public int describeContents() {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public void writeToParcel(Parcel dest, int flags) {\r\n                // Not needed for this example\r\n            }\r\n        };\r\n\r\n        CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\r\n        constraintsBuilder.setValidator(dateValidator);\r\n\r\n        builder.setCalendarConstraints(constraintsBuilder.build());\r\n\r\n        MaterialDatePicker&lt;Pair&lt;Long, Long&gt;&gt; datePicker = builder.build();\r\n        datePicker.show(getSupportFragmentManager(), &quot;DatePickerTag&quot;);\r\n\r\n    }\r\n\r\n\r\nI was expecting to be able to somehow modify the colours or put a stroke around in-valid dates.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQlRd.png","title":"Highlight previous selected dates in Material Date Picker Android","body":"<p>I am trying to highlight the previous selected dates ranges in Material Date Picker Android. I am saving previous months ranges in shared preferences. I want whenever user opens the calendar I can show previous ranges in some way, like highlighted or changed colour. In short, I want to somehow represent the previous selected date ranges. As far I've researched, I cannot select more than one range in material date range picker.</p>\n<p>Solution I tried:</p>\n<p>I've made previous selected dates inValid due to which they are grayed out as seen in screenshot. I am unable to customise the inValid Dates also.</p>\n<p><a href=\"https://i.stack.imgur.com/QQlRd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQlRd.png\" alt=\"Screenshot\" /></a></p>\n<pre><code>private void showCalendar() {\n    long l1 = prefsManager.getPeriodStartingDayLong();\n    long l2 = prefsManager.getPeriodEndingDayLong();\n   /* long l1 = 1681412400000L;\n    long l2 = 1681498800000L;\n    long l3 = 1681585200000L;\n    long l4 = 1681671600000L;*/\n\n    MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\n    builder.setTitleText(&quot;Select Dates&quot;);\n    builder.setTheme(R.style.MyMaterialCalendarTheme);\n\n    List&lt;Long&gt; highlightedDates = new ArrayList&lt;&gt;();\n\n    highlightedDates.add(l1);\n    highlightedDates.add(l2);\n  /*  highlightedDates.add(l3);\n    highlightedDates.add(l4);*/\n    // Add more dates as needed\n\n    CalendarConstraints.DateValidator dateValidator = new CalendarConstraints.DateValidator() {\n        @Override\n        public boolean isValid(long date) {\n            return !highlightedDates.contains(date);\n        }\n\n        @Override\n        public int describeContents() {\n            return 0;\n        }\n\n        @Override\n        public void writeToParcel(Parcel dest, int flags) {\n            // Not needed for this example\n        }\n    };\n\n    CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\n    constraintsBuilder.setValidator(dateValidator);\n\n    builder.setCalendarConstraints(constraintsBuilder.build());\n\n    MaterialDatePicker&lt;Pair&lt;Long, Long&gt;&gt; datePicker = builder.build();\n    datePicker.show(getSupportFragmentManager(), &quot;DatePickerTag&quot;);\n\n}\n</code></pre>\n<p>I was expecting to be able to somehow modify the colours or put a stroke around in-valid dates.</p>\n"},{"tags":["java","html","spring-boot","html-escape-characters","html-escape"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685456717,"post_id":76365642,"comment_id":134660614,"body_markdown":"getPdf() returns the content of a PDF file as a byte array?","body":"getPdf() returns the content of a PDF file as a byte array?"},{"owner":{"account_id":8986659,"reputation":45,"user_id":6700047,"display_name":"k.kbr"},"score":0,"creation_date":1685456809,"post_id":76365642,"comment_id":134660638,"body_markdown":"yes it s byte array and content of pdf file","body":"yes it s byte array and content of pdf file"}],"answers":[{"comments":[{"owner":{"account_id":8986659,"reputation":45,"user_id":6700047,"display_name":"k.kbr"},"score":0,"creation_date":1685459204,"post_id":76365976,"comment_id":134661232,"body_markdown":"But I need to show as html","body":"But I need to show as html"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685459282,"post_id":76365976,"comment_id":134661249,"body_markdown":"Please expand in the question exactly what output do you expect of a PDF as HTML and provide examples.","body":"Please expand in the question exactly what output do you expect of a PDF as HTML and provide examples."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685457521,"creation_date":1685457521,"answer_id":76365976,"question_id":76365642,"body_markdown":"You should not treat a PDF file as text or a string. Doing so can corrupt the file. Treat it as a binary file. Also you should not return or process it as if it were an HTML. In Spring Boot the media type should be MediaType.APPLICATION_PDF_VALUE. Refer to this answer on the [how to set the presentation][1] in the browser.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21871854/721855","title":"Html escape in byte array - xss issue","body":"<p>You should not treat a PDF file as text or a string. Doing so can corrupt the file. Treat it as a binary file. Also you should not return or process it as if it were an HTML. In Spring Boot the media type should be MediaType.APPLICATION_PDF_VALUE. Refer to this answer on the <a href=\"https://stackoverflow.com/a/21871854/721855\">how to set the presentation</a> in the browser.</p>\n"}],"owner":{"account_id":8986659,"reputation":45,"user_id":6700047,"display_name":"k.kbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685457521,"creation_date":1685455285,"question_id":76365642,"body_markdown":"I have byte array with html and try to escape. I convert byte array to string and replace special characters. When I make replace, my html doesnt work properly. It looks like a string and no css. \r\n\r\nHow to make properly ? \r\n\r\n\r\n      String x= IOUtils.toString(getPdf(), &quot;UTF-8&quot;);\r\n      String secureX = replaceXssCharacters(x);\r\n      return ResponseEntity.ok().contentType(\r\n                MediaType.TEXT_HTML).body(secureX);\r\n\r\n\r\n    private String replaceXssCharacters(String value) {\r\n    if (value != null) {\r\n      return value\r\n              .replace(&quot;&amp;&quot;,&quot;&amp;#38;&quot;)\r\n              .replace(&quot;&lt;&quot;, &quot;&amp;#60;&quot;)\r\n              .replace(&quot;&gt;&quot;,&quot;&amp;#62;&quot;)\r\n              .replace(&quot;\\&quot;&quot;,&quot;&amp;#34;&quot;)\r\n              .replace(&quot;&#39;&quot;,&quot;&amp;#39;&quot;);\r\n    }\r\n    return null;\r\n  }\r\n","title":"Html escape in byte array - xss issue","body":"<p>I have byte array with html and try to escape. I convert byte array to string and replace special characters. When I make replace, my html doesnt work properly. It looks like a string and no css.</p>\n<p>How to make properly ?</p>\n<pre><code>  String x= IOUtils.toString(getPdf(), &quot;UTF-8&quot;);\n  String secureX = replaceXssCharacters(x);\n  return ResponseEntity.ok().contentType(\n            MediaType.TEXT_HTML).body(secureX);\n\n\nprivate String replaceXssCharacters(String value) {\nif (value != null) {\n  return value\n          .replace(&quot;&amp;&quot;,&quot;&amp;#38;&quot;)\n          .replace(&quot;&lt;&quot;, &quot;&amp;#60;&quot;)\n          .replace(&quot;&gt;&quot;,&quot;&amp;#62;&quot;)\n          .replace(&quot;\\&quot;&quot;,&quot;&amp;#34;&quot;)\n          .replace(&quot;'&quot;,&quot;&amp;#39;&quot;);\n}\nreturn null;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","email","smtp"],"owner":{"account_id":25542867,"reputation":77,"user_id":19328664,"display_name":"Wabi-Sabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685457424,"creation_date":1685457424,"question_id":76365964,"body_markdown":"I have created a simple java project, using Jakarta mail. On my work computer the app works fine, but when I run it on a Windows Server. I get an error. \r\n\r\nI have tested different settings like turn on/off; tls and ssl, and also tried different ports like 25 and 465. I looked around the internet but could not find an answer.\r\n\r\nPlease need help, I&#39;ve been stuck on this for over a week now.\r\n\r\n\r\n    private static void jakarta() \r\n        {\r\n                // Set Email Service Properties\r\n                Properties properties = new Properties();\r\n                properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n                properties.put(&quot;mail.smtp.host&quot;, host); // &quot;outlook.office365.com&quot;\r\n                properties.put(&quot;mail.smtp.port&quot;, port); // 587\r\n                properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n            Authenticator authenticator = new Authenticator() {\r\n                @Override\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(username,password);\r\n            }\r\n        };\r\n\r\n        Session session = Session.getInstance(properties, authenticator);\r\n\r\n    try {\r\n        // Init Message\r\n        Message message = new MimeMessage(session);\r\n        message.setFrom(new InternetAddress(from));\r\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n        message.setSubject(subject);\r\n        message.setText(body);\r\n\r\n         // Send message\r\n         Transport.send(message);\r\n\r\n        System.out.println(&quot;[INFO] - Send Email successfully&quot;);\r\n\r\n    } catch (MessagingException e) {\r\n        System.out.println(&quot;[BUG] - MessagingException, while building Email&quot;);\r\n        e.getMessage();\r\n        e.printStackTrace();\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;[BUG] - Unknown exception, building Email with attachment&quot;);\r\n        e.getMessage();\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n&gt; [INFO] - Run Jakarta Mail DEBUG: Jakarta Mail version 2.0.1 DEBUG:\r\n&gt; successfully loaded resource: /META-INF/javamail.default.providers\r\n&gt; DEBUG: Tables of loaded providers DEBUG: Providers Listed By Class\r\n&gt; Name:\r\n&gt; {com.sun.mail.smtp.SMTPTransport=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\r\n&gt; com.sun.mail.imap.IMAPSSLStore=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\r\n&gt; com.sun.mail.pop3.POP3Store=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\r\n&gt; com.sun.mail.imap.IMAPStore=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\n&gt; DEBUG: Providers Listed By Protocol:\r\n&gt; {imap=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\r\n&gt; pop3=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\r\n&gt; smtps=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\r\n&gt; pop3s=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\n&gt; DEBUG: successfully loaded resource:\r\n&gt; /META-INF/javamail.default.address.map DEBUG: getProvider() returning\r\n&gt; jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n&gt; DEBUG SMTP: need username and password for authentication DEBUG SMTP:\r\n&gt; protocolConnect returning false, host=outlook.office365.com,\r\n&gt; user=Lucas-admin, password=&lt;null&gt; DEBUG SMTP: useEhlo true, useAuth\r\n&gt; true DEBUG SMTP: trying to connect to host &quot;outlook.office365.com&quot;,\r\n&gt; port 587, isSSL false [BUG] - MessagingException, while building Email\r\n&gt; com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host,\r\n&gt; port: outlook.office365.com, 587; timeout -1;   nested exception is:\r\n&gt;         java.net.ConnectException: Connection timed out: connect\r\n&gt;         at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\r\n&gt;         at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\r\n&gt;         at jakarta.mail.Service.connect(Service.java:364)\r\n&gt;         at jakarta.mail.Service.connect(Service.java:222)\r\n&gt;         at jakarta.mail.Service.connect(Service.java:171)\r\n&gt;         at jakarta.mail.Transport.send0(Transport.java:230)\r\n&gt;         at jakarta.mail.Transport.send(Transport.java:100)\r\n&gt;         at com.example.App.jakarta(App.java:57)\r\n&gt;         at com.example.App.main(App.java:74) Caused by: java.net.ConnectException: Connection timed out: connect\r\n&gt;         at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n&gt;         at java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n&gt;         at java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n&gt;         at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n&gt;         at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n&gt;         at java.base/java.net.Socket.connect(Socket.java:633)\r\n&gt;         at java.base/java.net.Socket.connect(Socket.java:583)\r\n&gt;         at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\r\n&gt;         at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\r\n&gt;         at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\r\n&gt;         ... 8 more","title":"MailConnectException: Couldn&#39;t connect to host, port: outlook.office365.com, 587;","body":"<p>I have created a simple java project, using Jakarta mail. On my work computer the app works fine, but when I run it on a Windows Server. I get an error.</p>\n<p>I have tested different settings like turn on/off; tls and ssl, and also tried different ports like 25 and 465. I looked around the internet but could not find an answer.</p>\n<p>Please need help, I've been stuck on this for over a week now.</p>\n<pre><code>private static void jakarta() \n    {\n            // Set Email Service Properties\n            Properties properties = new Properties();\n            properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            properties.put(&quot;mail.smtp.host&quot;, host); // &quot;outlook.office365.com&quot;\n            properties.put(&quot;mail.smtp.port&quot;, port); // 587\n            properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        Authenticator authenticator = new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(username,password);\n        }\n    };\n\n    Session session = Session.getInstance(properties, authenticator);\n\ntry {\n    // Init Message\n    Message message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(from));\n    message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n    message.setSubject(subject);\n    message.setText(body);\n\n     // Send message\n     Transport.send(message);\n\n    System.out.println(&quot;[INFO] - Send Email successfully&quot;);\n\n} catch (MessagingException e) {\n    System.out.println(&quot;[BUG] - MessagingException, while building Email&quot;);\n    e.getMessage();\n    e.printStackTrace();\n} catch (Exception e) {\n    System.out.println(&quot;[BUG] - Unknown exception, building Email with attachment&quot;);\n    e.getMessage();\n    e.printStackTrace();\n}\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>[INFO] - Run Jakarta Mail DEBUG: Jakarta Mail version 2.0.1 DEBUG:\nsuccessfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers DEBUG: Providers Listed By Class\nName:\n{com.sun.mail.smtp.SMTPTransport=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\ncom.sun.mail.imap.IMAPSSLStore=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\ncom.sun.mail.pop3.POP3Store=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\ncom.sun.mail.imap.IMAPStore=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: Providers Listed By Protocol:\n{imap=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\npop3=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\nsmtps=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\npop3s=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: successfully loaded resource:\n/META-INF/javamail.default.address.map DEBUG: getProvider() returning\njakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: need username and password for authentication DEBUG SMTP:\nprotocolConnect returning false, host=outlook.office365.com,\nuser=Lucas-admin, password= DEBUG SMTP: useEhlo true, useAuth\ntrue DEBUG SMTP: trying to connect to host &quot;outlook.office365.com&quot;,\nport 587, isSSL false [BUG] - MessagingException, while building Email\ncom.sun.mail.util.MailConnectException: Couldn't connect to host,\nport: outlook.office365.com, 587; timeout -1;   nested exception is:\njava.net.ConnectException: Connection timed out: connect\nat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\nat jakarta.mail.Service.connect(Service.java:364)\nat jakarta.mail.Service.connect(Service.java:222)\nat jakarta.mail.Service.connect(Service.java:171)\nat jakarta.mail.Transport.send0(Transport.java:230)\nat jakarta.mail.Transport.send(Transport.java:100)\nat com.example.App.jakarta(App.java:57)\nat com.example.App.main(App.java:74) Caused by: java.net.ConnectException: Connection timed out: connect\nat java.base/sun.nio.ch.Net.connect0(Native Method)\nat java.base/sun.nio.ch.Net.connect(Net.java:579)\nat java.base/sun.nio.ch.Net.connect(Net.java:568)\nat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\nat java.base/java.net.Socket.connect(Socket.java:633)\nat java.base/java.net.Socket.connect(Socket.java:583)\nat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\nat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\nat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\n... 8 more</p>\n</blockquote>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685457234,"post_id":76365882,"comment_id":134660750,"body_markdown":"See https://stackoverflow.com/a/42200519/104891 for the sample project.","body":"See <a href=\"https://stackoverflow.com/a/42200519/104891\">stackoverflow.com/a/42200519/104891</a> for the sample project."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685516094,"post_id":76365882,"comment_id":134669154,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28711018,"reputation":1,"user_id":21986511,"display_name":"newbie123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456810,"creation_date":1685456810,"question_id":76365882,"body_markdown":"I was trying to make my java project in Intellij executable, I did everything correct step by step, but theres no artifact folder in out after adding artifact, anyone can help? Everything seems to be fine, except out folder. I&#39;ve been looking for a solution to the problem but nothing helps. I apprecieate any help :)\r\nHere is screenshot what it looks like after all the steps taken and the artifact built:\r\n[Intellij screenshot](https://i.stack.imgur.com/UZtG0.png)","title":"Artifact folder not appearing in &#39;out&#39; directory in Intellij when trying to make java project executable","body":"<p>I was trying to make my java project in Intellij executable, I did everything correct step by step, but theres no artifact folder in out after adding artifact, anyone can help? Everything seems to be fine, except out folder. I've been looking for a solution to the problem but nothing helps. I apprecieate any help :)\nHere is screenshot what it looks like after all the steps taken and the artifact built:\n<a href=\"https://i.stack.imgur.com/UZtG0.png\" rel=\"nofollow noreferrer\">Intellij screenshot</a></p>\n"},{"tags":["java","generics","observer-pattern"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685459351,"post_id":76365841,"comment_id":134661264,"body_markdown":"I&#39;ve not digested your full question, because my eye was caught by `Observable &lt;T extends Observable&lt;?&gt;&gt;`: using an unbounded wildcard like the is pretty odd. What are you trying to achieve with that?","body":"I&#39;ve not digested your full question, because my eye was caught by <code>Observable &lt;T extends Observable&lt;?&gt;&gt;</code>: using an unbounded wildcard like the is pretty odd. What are you trying to achieve with that?"},{"owner":{"account_id":28676051,"reputation":1,"user_id":21958125,"display_name":"bhansen"},"score":0,"creation_date":1685520842,"post_id":76365841,"comment_id":134670093,"body_markdown":"@AndyTurner\nThank you for your comment. My objective is to create a generic implementation of the observer pattern. Although the current implementation works, I&#39;m not completely satisfied with it. The question I have posted is specifically about finding a better solution. I have included a second version in my text that removes the unbounded wildcard parameter for the Observable class. However, this version comes with the drawback of an unchecked cast warning in the implementing class.\nIf you have any suggestions on how to enhance this code, I would greatly appreciate your input.","body":"@AndyTurner Thank you for your comment. My objective is to create a generic implementation of the observer pattern. Although the current implementation works, I&#39;m not completely satisfied with it. The question I have posted is specifically about finding a better solution. I have included a second version in my text that removes the unbounded wildcard parameter for the Observable class. However, this version comes with the drawback of an unchecked cast warning in the implementing class. If you have any suggestions on how to enhance this code, I would greatly appreciate your input."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685521229,"post_id":76365841,"comment_id":134670180,"body_markdown":"AFAICS, you are only using the elements of `observerList` to invoke `observer.update(...)`. As such, these are consumers, and should be bounded by `? super Observable` instead.","body":"AFAICS, you are only using the elements of <code>observerList</code> to invoke <code>observer.update(...)</code>. As such, these are consumers, and should be bounded by <code>? super Observable</code> instead."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1685534655,"post_id":76365841,"comment_id":134673036,"body_markdown":"@bhansen You said that you dislike the first solution because **the method getIdentity** and **the usage of a type parameter in the class of the observable**. That does not explain why you dislike these. Both of those bullets are good strategies that have their place, especially in this problem. Why do you dislike them? What problems do they cause you?","body":"@bhansen You said that you dislike the first solution because <b>the method getIdentity</b> and <b>the usage of a type parameter in the class of the observable</b>. That does not explain why you dislike these. Both of those bullets are good strategies that have their place, especially in this problem. Why do you dislike them? What problems do they cause you?"},{"owner":{"account_id":28676051,"reputation":1,"user_id":21958125,"display_name":"bhansen"},"score":0,"creation_date":1685707166,"post_id":76365841,"comment_id":134702318,"body_markdown":"@davidalayachew\nThank you for your comment. In fact, I assumed that doing it that way would be considered poor style, but perhaps my assumption was incorrect.","body":"@davidalayachew Thank you for your comment. In fact, I assumed that doing it that way would be considered poor style, but perhaps my assumption was incorrect."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1685719117,"post_id":76365841,"comment_id":134705089,"body_markdown":"@bhansen Well, what about it would be considered poor style? What problems or issues would result by choosing to use the method getIdentity and the usage of a type parameter in the class of the observable?","body":"@bhansen Well, what about it would be considered poor style? What problems or issues would result by choosing to use the method getIdentity and the usage of a type parameter in the class of the observable?"}],"owner":{"account_id":28676051,"reputation":1,"user_id":21958125,"display_name":"bhansen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456606,"creation_date":1685456606,"question_id":76365841,"body_markdown":"Unsatisfying Solution for Implementing Observer Pattern Using Java Generics\r\n\r\nFor educational reasons I wanted to implement the Observer Pattern using Java Generics.\r\nI came up with the following solution:\r\n\r\n\r\n```\r\npublic interface Observer &lt;T extends Observable&lt;?&gt;&gt;\r\n{\r\n\tvoid update(T observable);\r\n}\r\n```\r\n\r\n\r\n```\r\npublic abstract class Observable &lt;T extends Observable&lt;?&gt;&gt;\r\n{\r\n\tprivate final List&lt;Observer&lt;T&gt;&gt; observerList = new ArrayList&lt;&gt;();\r\n\t\r\n\t\r\n\tpublic void addObserver(Observer&lt;T&gt; observer)\r\n\t{\r\n\t\tthis.observerList.add(observer);\r\n\t}\r\n\t\r\n\tpublic void notifyObservers()\r\n\t{\r\n\t\tfor( Observer&lt;T&gt; observer : this.observerList)\r\n\t\t{\r\n\t\t\tobserver.update(getIdentity());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic abstract T getIdentity();\r\n}\r\n\r\n```\r\n\r\nNow I can have a class\r\n\r\n```\r\nclass Data extends Observable&lt;Data&gt;\r\n```\r\n\r\nand an Observer\r\n```\r\nclass DataObserver implements Observer&lt;Data&gt;\r\n```\r\n\r\n\r\nWhat I dislike about this solution: \r\n- the method *getIdentity*\r\n- the usage of a type parameter in the class of the observable \r\n\r\n\r\nTo address these concerns, I came up with a second solution using bounded wildcard parameters:\r\n\r\n```\r\ninterface Observer&lt;T extends Observable&gt;\r\n{\r\n\tvoid update(T observable);\r\n}\r\n```\r\n\r\n```\r\nabstract class Observable\r\n{\r\n    private final List&lt;Observer&lt;? extends Observable&gt;&gt; observerList = new ArrayList&lt;&gt;();\r\n    \r\n    public void addObserver(Observer&lt;? extends Observable&gt; observer)\r\n    {\r\n        this.observerList.add(observer);\r\n    }\r\n    \r\n    public void notifyObservers()\r\n    {\r\n        for(Observer&lt;? extends Observable&gt; observer : this.observerList)\r\n        {\r\n            observer.update(getIdentity());\r\n        }\r\n    }\r\n    \r\n    public abstract &lt;T extends Observable&gt; T getIdentity();\r\n}\r\n```\r\n\r\nNow, I no longer have a type parameter in the class for the observable. However, there is an &quot;Unchecked cast&quot; warning in the *getIdentity* method implementation:\r\n\r\n```\r\n    @Override\r\n    public &lt;T extends Observable&gt; T getIdentity()\r\n    {\r\n        return (T) this;\r\n    }\r\n```\r\n\r\nHow can I improve these solutions? \r\nWhich solution is better?\r\nIs there a more elegant way to achieve the desired outcome?\r\n\r\nPlease note that this example focuses on understanding Java Generics rather than the Observer Pattern itself. \r\n\r\nYour insights and suggestions are greatly appreciated!\r\n","title":"How can I improve my solution for implementing the Observer Pattern using Java Generics?","body":"<p>Unsatisfying Solution for Implementing Observer Pattern Using Java Generics</p>\n<p>For educational reasons I wanted to implement the Observer Pattern using Java Generics.\nI came up with the following solution:</p>\n<pre><code>public interface Observer &lt;T extends Observable&lt;?&gt;&gt;\n{\n    void update(T observable);\n}\n</code></pre>\n<pre><code>public abstract class Observable &lt;T extends Observable&lt;?&gt;&gt;\n{\n    private final List&lt;Observer&lt;T&gt;&gt; observerList = new ArrayList&lt;&gt;();\n    \n    \n    public void addObserver(Observer&lt;T&gt; observer)\n    {\n        this.observerList.add(observer);\n    }\n    \n    public void notifyObservers()\n    {\n        for( Observer&lt;T&gt; observer : this.observerList)\n        {\n            observer.update(getIdentity());\n        }\n    }\n    \n    public abstract T getIdentity();\n}\n\n</code></pre>\n<p>Now I can have a class</p>\n<pre><code>class Data extends Observable&lt;Data&gt;\n</code></pre>\n<p>and an Observer</p>\n<pre><code>class DataObserver implements Observer&lt;Data&gt;\n</code></pre>\n<p>What I dislike about this solution:</p>\n<ul>\n<li>the method <em>getIdentity</em></li>\n<li>the usage of a type parameter in the class of the observable</li>\n</ul>\n<p>To address these concerns, I came up with a second solution using bounded wildcard parameters:</p>\n<pre><code>interface Observer&lt;T extends Observable&gt;\n{\n    void update(T observable);\n}\n</code></pre>\n<pre><code>abstract class Observable\n{\n    private final List&lt;Observer&lt;? extends Observable&gt;&gt; observerList = new ArrayList&lt;&gt;();\n    \n    public void addObserver(Observer&lt;? extends Observable&gt; observer)\n    {\n        this.observerList.add(observer);\n    }\n    \n    public void notifyObservers()\n    {\n        for(Observer&lt;? extends Observable&gt; observer : this.observerList)\n        {\n            observer.update(getIdentity());\n        }\n    }\n    \n    public abstract &lt;T extends Observable&gt; T getIdentity();\n}\n</code></pre>\n<p>Now, I no longer have a type parameter in the class for the observable. However, there is an &quot;Unchecked cast&quot; warning in the <em>getIdentity</em> method implementation:</p>\n<pre><code>    @Override\n    public &lt;T extends Observable&gt; T getIdentity()\n    {\n        return (T) this;\n    }\n</code></pre>\n<p>How can I improve these solutions?\nWhich solution is better?\nIs there a more elegant way to achieve the desired outcome?</p>\n<p>Please note that this example focuses on understanding Java Generics rather than the Observer Pattern itself.</p>\n<p>Your insights and suggestions are greatly appreciated!</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream","spring-aop"],"answers":[{"comments":[{"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"score":0,"creation_date":1688382538,"post_id":76365819,"comment_id":135062307,"body_markdown":"In this pattern how do skip message consumption if there is a duplicate found?","body":"In this pattern how do skip message consumption if there is a duplicate found?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1688387962,"post_id":76365819,"comment_id":135063325,"body_markdown":"Return null. Read the javadoc above.","body":"Return null. Read the javadoc above."},{"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"score":0,"creation_date":1688477775,"post_id":76365819,"comment_id":135077429,"body_markdown":"I&#39;m really sorry. I should have looked more carefully before asking. I assumed it would function similar to the GlobalChannelInterceptor. Returning null with that throws an exception instead of skipping the message.","body":"I&#39;m really sorry. I should have looked more carefully before asking. I assumed it would function similar to the GlobalChannelInterceptor. Returning null with that throws an exception instead of skipping the message."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1688481581,"post_id":76365819,"comment_id":135078339,"body_markdown":"See https://stackoverflow.com/help/someone-answers","body":"See <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"},{"owner":{"account_id":6227611,"reputation":364,"user_id":4845349,"accept_rate":43,"display_name":"Dhananjay"},"score":0,"creation_date":1699437226,"post_id":76365819,"comment_id":136530197,"body_markdown":"@GaryRussell if we return null and ack mode is set to manual the offset is not committed for skipped message. Any workaround for that.","body":"@GaryRussell if we return null and ack mode is set to manual the offset is not committed for skipped message. Any workaround for that."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1699894661,"post_id":76365819,"comment_id":136585375,"body_markdown":"@Dhananjay the framework cannot make any assumptions when using MANUAL acks - the application may have not ack&#39;d earlier records yet and committing the offset of a skipped record would implicitly ack those records too. The interceptor provides access to the consumer, allowing the interceptor itself to commit the offset, if that is what the application wants.","body":"@Dhananjay the framework cannot make any assumptions when using MANUAL acks - the application may have not ack&#39;d earlier records yet and committing the offset of a skipped record would implicitly ack those records too. The interceptor provides access to the consumer, allowing the interceptor itself to commit the offset, if that is what the application wants."},{"owner":{"account_id":6227611,"reputation":364,"user_id":4845349,"accept_rate":43,"display_name":"Dhananjay"},"score":0,"creation_date":1700042417,"post_id":76365819,"comment_id":136605289,"body_markdown":"@GaryRussellin  i am using version 2.8.0 in that even with auto acknowledgement , offset was not committing. Though in version 3.0.0 i can see fix to ack the current record. Due to our project restrictions cant upgrade to 3.0.0 is there anyway i can customise kafkamessage listener container at project level?","body":"@GaryRussellin  i am using version 2.8.0 in that even with auto acknowledgement , offset was not committing. Though in version 3.0.0 i can see fix to ack the current record. Due to our project restrictions cant upgrade to 3.0.0 is there anyway i can customise kafkamessage listener container at project level?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1700055577,"post_id":76365819,"comment_id":136607612,"body_markdown":"Overloaded (`default`) methods including the consumer have been available since 2.7.x. However you should use 2.9.13; 2.8.x is no longer supported as OSS. https://spring.io/projects/spring-kafka#support 2.9.x is fully compatible with Boot 2.7.x.","body":"Overloaded (<code>default</code>) methods including the consumer have been available since 2.7.x. However you should use 2.9.13; 2.8.x is no longer supported as OSS. <a href=\"https://spring.io/projects/spring-kafka#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-kafka#support</a> 2.9.x is fully compatible with Boot 2.7.x."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685456477,"creation_date":1685456477,"answer_id":76365819,"question_id":76355061,"body_markdown":"You can add a `ListenerContainerCustomizer` bean and add a `RecordInterceptor` to the listener container.\r\n\r\n```java\r\n/**\r\n * An interceptor for {@link ConsumerRecord} invoked by the listener\r\n * container before and after invoking the listener.\r\n *\r\n * @param &lt;K&gt; the key type.\r\n * @param &lt;V&gt; the value type.\r\n *\r\n * @author Gary Russell\r\n * @since 2.2.7\r\n *\r\n */\r\n@FunctionalInterface\r\npublic interface RecordInterceptor&lt;K, V&gt; extends ThreadStateProcessor {\r\n\r\n\t/**\r\n\t * Perform some action on the record or return a different one. If null is returned\r\n\t * the record will be skipped. Invoked before the listener. IMPORTANT; if this method\r\n\t * returns a different record, the topic, partition and offset must not be changed\r\n\t * to avoid undesirable side-effects.\r\n\t * @param record the record.\r\n\t * @param consumer the consumer.\r\n\t * @return the record or null.\r\n\t * @since 2.7\r\n\t */\r\n\t@Nullable\r\n\tConsumerRecord&lt;K, V&gt; intercept(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer);\r\n\r\n\t/**\r\n\t * Called after the listener exits normally.\r\n\t * @param record the record.\r\n\t * @param consumer the consumer.\r\n\t * @since 2.7\r\n\t */\r\n\tdefault void success(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\r\n\t}\r\n\r\n\t/**\r\n\t * Called after the listener throws an exception.\r\n\t * @param record the record.\r\n\t * @param exception the exception.\r\n\t * @param consumer the consumer.\r\n\t * @since 2.7\r\n\t */\r\n\tdefault void failure(ConsumerRecord&lt;K, V&gt; record, Exception exception, Consumer&lt;K, V&gt; consumer) {\r\n\t}\r\n\r\n\t/**\r\n\t * Called when processing the record is complete either\r\n\t * {@link #success(ConsumerRecord, Consumer)} or\r\n\t * {@link #failure(ConsumerRecord, Exception, Consumer)}.\r\n\t * @param record the record.\r\n\t * @param consumer the consumer.\r\n\t * @since 2.8\r\n\t */\r\n\tdefault void afterRecord(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\r\n\t}\r\n\r\n}\r\n```","title":"Duplicate check for spring cloud stream consumers","body":"<p>You can add a <code>ListenerContainerCustomizer</code> bean and add a <code>RecordInterceptor</code> to the listener container.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * An interceptor for {@link ConsumerRecord} invoked by the listener\n * container before and after invoking the listener.\n *\n * @param &lt;K&gt; the key type.\n * @param &lt;V&gt; the value type.\n *\n * @author Gary Russell\n * @since 2.2.7\n *\n */\n@FunctionalInterface\npublic interface RecordInterceptor&lt;K, V&gt; extends ThreadStateProcessor {\n\n    /**\n     * Perform some action on the record or return a different one. If null is returned\n     * the record will be skipped. Invoked before the listener. IMPORTANT; if this method\n     * returns a different record, the topic, partition and offset must not be changed\n     * to avoid undesirable side-effects.\n     * @param record the record.\n     * @param consumer the consumer.\n     * @return the record or null.\n     * @since 2.7\n     */\n    @Nullable\n    ConsumerRecord&lt;K, V&gt; intercept(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer);\n\n    /**\n     * Called after the listener exits normally.\n     * @param record the record.\n     * @param consumer the consumer.\n     * @since 2.7\n     */\n    default void success(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\n    }\n\n    /**\n     * Called after the listener throws an exception.\n     * @param record the record.\n     * @param exception the exception.\n     * @param consumer the consumer.\n     * @since 2.7\n     */\n    default void failure(ConsumerRecord&lt;K, V&gt; record, Exception exception, Consumer&lt;K, V&gt; consumer) {\n    }\n\n    /**\n     * Called when processing the record is complete either\n     * {@link #success(ConsumerRecord, Consumer)} or\n     * {@link #failure(ConsumerRecord, Exception, Consumer)}.\n     * @param record the record.\n     * @param consumer the consumer.\n     * @since 2.8\n     */\n    default void afterRecord(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685456477,"creation_date":1685341137,"question_id":76355061,"body_markdown":"I want to check for duplicate messages in my Spring Cloud Stream Kafka consumers. This is what I have now:\r\n\r\n```java\r\n@Component\r\npublic class MessageSubscriber {\r\n\r\n\r\n    @Autowired\r\n    MessageConsumer messageConsumer;\r\n\r\n    public Consumer&lt;Message&lt;PlaneEvent&gt;&gt; planeEventConsumer() {\r\n        return event -&gt; messageConsumer.consumePlaneEvent(event);\r\n    }\r\n\r\n    @Component\r\n    public static class MessageConsumer {\r\n        \r\n        @Transactional\r\n        @DuplicateCheck(key = &quot;id&quot;)\r\n        public void consumePlaneEvent(Message&lt;PlaneEvent&gt; msg) {\r\n            // do something here\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe custom `@DuplicateCheck` annotation uses Spring AOP to intercept the consumer method and checks for duplicates in the database using the specified `key`, and the `kafka_receivedTopic` header from the `Message`.\r\n\r\nIs there a recommended pattern or better way to:\r\n\r\n- **Intercept functional consumers**. (I am aware about `ChannelInterceptor`, but would **not** prefer to use it because of multiple reasons. ChannelInterceptor intercepts all channels [input and output], and the regex to filter channels will need me to enforce a channel naming scheme. ChannelInterceptor will also complicate skipping the processing of duplicate messages. I&#39;d like something less intrusive.)\r\n\r\n- **Get the kafka topic or binding destination in the functional consumer**. Relying on the `kafka_receivedTopic` header seems brittle and inflexible.\r\n\r\n- **Handle transactions with functional consumers**. Since the `@Transactional` annotation creates dynamic proxies, I&#39;m having to wrap the consumer logic in another class and create its bean.\r\n\r\nThese things were a little simpler with the older annotation-based consumers (`@StreamListener`).","title":"Duplicate check for spring cloud stream consumers","body":"<p>I want to check for duplicate messages in my Spring Cloud Stream Kafka consumers. This is what I have now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MessageSubscriber {\n\n\n    @Autowired\n    MessageConsumer messageConsumer;\n\n    public Consumer&lt;Message&lt;PlaneEvent&gt;&gt; planeEventConsumer() {\n        return event -&gt; messageConsumer.consumePlaneEvent(event);\n    }\n\n    @Component\n    public static class MessageConsumer {\n        \n        @Transactional\n        @DuplicateCheck(key = &quot;id&quot;)\n        public void consumePlaneEvent(Message&lt;PlaneEvent&gt; msg) {\n            // do something here\n        }\n\n    }\n\n}\n</code></pre>\n<p>The custom <code>@DuplicateCheck</code> annotation uses Spring AOP to intercept the consumer method and checks for duplicates in the database using the specified <code>key</code>, and the <code>kafka_receivedTopic</code> header from the <code>Message</code>.</p>\n<p>Is there a recommended pattern or better way to:</p>\n<ul>\n<li><p><strong>Intercept functional consumers</strong>. (I am aware about <code>ChannelInterceptor</code>, but would <strong>not</strong> prefer to use it because of multiple reasons. ChannelInterceptor intercepts all channels [input and output], and the regex to filter channels will need me to enforce a channel naming scheme. ChannelInterceptor will also complicate skipping the processing of duplicate messages. I'd like something less intrusive.)</p>\n</li>\n<li><p><strong>Get the kafka topic or binding destination in the functional consumer</strong>. Relying on the <code>kafka_receivedTopic</code> header seems brittle and inflexible.</p>\n</li>\n<li><p><strong>Handle transactions with functional consumers</strong>. Since the <code>@Transactional</code> annotation creates dynamic proxies, I'm having to wrap the consumer logic in another class and create its bean.</p>\n</li>\n</ul>\n<p>These things were a little simpler with the older annotation-based consumers (<code>@StreamListener</code>).</p>\n"},{"tags":["java","mapstruct"],"owner":{"account_id":28182521,"reputation":23,"user_id":21539296,"display_name":"Nathan S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456289,"creation_date":1685456289,"question_id":76365795,"body_markdown":"I tried something with mapstruct using abstraction,\r\nit works pretty well apart from one thing.\r\n\r\n```\r\n@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderCreateRequest.class)\r\n@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderUpdateRequest.class)\r\n@Mapping(target = &quot;totalQuantity&quot;, expression = &quot;java(supplierOrder.sumQuantity())&quot;)\r\n@Mapping(target = &quot;weightedAveragePurchasePrice&quot;, expression = &quot;java(supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null)&quot;)\r\n@BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\nSupplierOrderEntity toSupplierOrderEntity(SupplierOrderAbstractRequest supplierOrder);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have one problem in the auto generated method.\r\n\r\n```\r\nprotected SupplierOrderEntity supplierOrderCreateRequestToSupplierOrderEntity(SupplierOrderCreateRequest supplierOrderCreateRequest) {\r\n        if ( supplierOrderCreateRequest == null ) {\r\n            return null;\r\n        }\r\n\r\n        SupplierOrderEntity.SupplierOrderEntityBuilder supplierOrderEntity = SupplierOrderEntity.builder();\r\n\r\n        supplierOrderEntity.supplier( blabla( supplierOrderCreateRequest.getSupplier() ) );\r\n        supplierOrderEntity.firstOrderQuantity( supplierOrderCreateRequest.getFirstOrderQuantity() );\r\n        supplierOrderEntity.reapproQuantity( supplierOrderCreateRequest.getReapproQuantity() );\r\n        supplierOrderEntity.alpha3Code( supplierOrderCreateRequest.getAlpha3Code() );\r\n        supplierOrderEntity.currency( supplierOrderCreateRequest.getCurrency() );\r\n\r\n        supplierOrderEntity.totalQuantity( supplierOrder.sumQuantity() );\r\n        supplierOrderEntity.weightedAveragePurchasePrice( supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null );\r\n\r\n        return supplierOrderEntity.build();\r\n    }\r\n\r\n```\r\n\r\nAs you can see in totalQuantity and weightedAveragePurchasePrice setters, it tries to access through supplierOrder whereas the auto generated method creates a supplierOrderCreateRequest parameter.\r\n\r\nIs there a way to handle this specific problem that I don&#39;t know ? \r\n\r\nThanks &#128516;\r\n","title":"Is there a way to handle abstraction through @Mapping expression","body":"<p>I tried something with mapstruct using abstraction,\nit works pretty well apart from one thing.</p>\n<pre><code>@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderCreateRequest.class)\n@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderUpdateRequest.class)\n@Mapping(target = &quot;totalQuantity&quot;, expression = &quot;java(supplierOrder.sumQuantity())&quot;)\n@Mapping(target = &quot;weightedAveragePurchasePrice&quot;, expression = &quot;java(supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null)&quot;)\n@BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\nSupplierOrderEntity toSupplierOrderEntity(SupplierOrderAbstractRequest supplierOrder);\n</code></pre>\n<p>I have one problem in the auto generated method.</p>\n<pre><code>protected SupplierOrderEntity supplierOrderCreateRequestToSupplierOrderEntity(SupplierOrderCreateRequest supplierOrderCreateRequest) {\n        if ( supplierOrderCreateRequest == null ) {\n            return null;\n        }\n\n        SupplierOrderEntity.SupplierOrderEntityBuilder supplierOrderEntity = SupplierOrderEntity.builder();\n\n        supplierOrderEntity.supplier( blabla( supplierOrderCreateRequest.getSupplier() ) );\n        supplierOrderEntity.firstOrderQuantity( supplierOrderCreateRequest.getFirstOrderQuantity() );\n        supplierOrderEntity.reapproQuantity( supplierOrderCreateRequest.getReapproQuantity() );\n        supplierOrderEntity.alpha3Code( supplierOrderCreateRequest.getAlpha3Code() );\n        supplierOrderEntity.currency( supplierOrderCreateRequest.getCurrency() );\n\n        supplierOrderEntity.totalQuantity( supplierOrder.sumQuantity() );\n        supplierOrderEntity.weightedAveragePurchasePrice( supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null );\n\n        return supplierOrderEntity.build();\n    }\n\n</code></pre>\n<p>As you can see in totalQuantity and weightedAveragePurchasePrice setters, it tries to access through supplierOrder whereas the auto generated method creates a supplierOrderCreateRequest parameter.</p>\n<p>Is there a way to handle this specific problem that I don't know ?</p>\n<p>Thanks 😄</p>\n"},{"tags":["java","multithreading","memory","jvm","jit"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1685117067,"post_id":76339646,"comment_id":134621544,"body_markdown":"The (384 bytes) refers to the bytecode size of the method being compiled. Please specify what Java version you&#39;re running.","body":"The (384 bytes) refers to the bytecode size of the method being compiled. Please specify what Java version you&#39;re running."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685122944,"post_id":76339646,"comment_id":134622537,"body_markdown":"Did you search for this issue? There is information out there.","body":"Did you search for this issue? There is information out there."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1685142140,"post_id":76339646,"comment_id":134625188,"body_markdown":"Try to disable compilation of the problematic method: `-XX:CompileCommand=exclude,my.class::myFunction`","body":"Try to disable compilation of the problematic method: <code>-XX:CompileCommand=exclude,my.class::myFunction</code>"},{"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"score":0,"creation_date":1685428970,"post_id":76339646,"comment_id":134654191,"body_markdown":"@boneill We are using `OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)`\n@aled I&#39;ve searched far and wide, and had to read up on a lot of low level stuff I wouldn&#39;t have thought I&#39;d ever have to read up on, but I have yet to find anything concrete on this issue.","body":"@boneill We are using <code>OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)</code> @aled I&#39;ve searched far and wide, and had to read up on a lot of low level stuff I wouldn&#39;t have thought I&#39;d ever have to read up on, but I have yet to find anything concrete on this issue."},{"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"score":0,"creation_date":1685428990,"post_id":76339646,"comment_id":134654193,"body_markdown":"@apangin good point, added this as flag now to a separate pod to see how it behaves","body":"@apangin good point, added this as flag now to a separate pod to see how it behaves"}],"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456283,"creation_date":1685094780,"question_id":76339646,"body_markdown":"So whilst debugging some peaks in memory usage on our prod environment, I started periodically dumping threaddumps, and have found the following part:\r\n\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=208687.03ms elapsed=10057.72s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\r\n```\r\n\r\nThis is present in a lot of follow up dumps (spanning up to 50 seconds) whilst, according to `VM.native_memory summary`, taking up memory in the range of 1G - 1.3G (various observed cases).\r\n\r\nSo, the threaddump before it starts the compilation is\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=185150.71ms elapsed=10028.85s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n```\r\n\r\nThe last one before finishing\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=247100.38ms elapsed=10096.32s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\r\n```\r\n\r\nand the one after finishing\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=255511.25ms elapsed=10105.79s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n```\r\n\r\nSo before compilation starts, between threaddumps (roughly all 10 seconds), the cpu time increases in the range of 0.xx _ms_, which is negligible.\r\n\r\nYet, in the time of the compilation, it rose by _70 seconds_, which seems insane. The ID `41155`, which apparently is given for any compilation task and should therefor not repeat, is also the same across the relevant threaddumps. What I have yet to figure out is what the `(384 bytes)` mean at the end - those remain the same.\r\n\r\nThis function is per se not special - it is called plenty of times across several pods and seems to be absolutely fine 99% of the cases - these are super rare occasions, but we can&#39;t seem to find a root cause. \r\n\r\nWhat might be relevant information here is that the `VM.native_memory` dump shows the memory wandering from `Compilation` to `Arena Chunks`, where it is then quickly taken care of and memory usage drops back to normal levels. \r\n\r\nI know there was a memory leak on Java 17.0.4, but we are running\r\n`OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)` so this shouldn&#39;t be the issue at hand.\r\n\r\nThe question here is, where would one go from here? I&#39;ve added several logs to the application at this function, but can&#39;t seem to find any &quot;misbehaviour&quot;.\r\n\r\nAnother question would of course be: _How does the code behave?_ As in, if it&#39;s compiling, would we even _get any logs until it&#39;s finished?_ Idea being that it would _compile -&gt; execute_ and therefor the logs would only &quot;appear&quot; after it.\r\n\r\n&lt;hr&gt;\r\n\r\nAfter adding the flag `XX:CompileCommand=exclude,myClass::myFunction`, the output of the threaddump is now a bit different:\r\n\r\n```\r\n\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=244772.46ms elapsed=15463.68s tid=0x00007fe65e0299d0 nid=0x2c runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 42704   !   4       myClass::deliverMessage (318 bytes)\r\n```\r\n\r\nThis helps me narrow it down a bit, but the question is, why is there a `!` in the output?\r\n\r\n&lt;hr&gt;\r\n\r\nOne level deeper we go! The peak happened again, and now with `deliverMessage` blocked from JIT, we reach the next level:\r\n\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=209412.09ms elapsed=5769.99s tid=0x00007f855b8b69d0 nid=0x2c runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 41589       4       my.kafka.Payload::toString (288 bytes)\r\n```\r\n\r\nSo this seems to be the &quot;root&quot; that is triggering `JIT` to eat up memory and take long compilation times. This `toString` is rather big, with roughly _70_ variables printed out here. In addition, it&#39;s all done with the following schema:\r\n\r\n```java\r\nreturn &quot;KafkaPayload{&quot; +\r\n    &quot;id=&quot; + id +\r\n    &quot;, externalId=&#39;&quot; + externalId + &#39;\\&#39;&#39; +\r\n    ...\r\n    &quot;, eSignatureBase64Image=&#39;&quot; + (shouldContainESignatureBase64Image ? eSignatureBase64Image : &quot;censored&quot;) + &#39;\\&#39;&#39; +\r\n    ...\r\n} \r\n```\r\n\r\nInteresting here is that the big boy, namely the `eSignatureBase64Image` is censored out, as it gets relatively large. Could it be that even tho it&#39;s _not printed out_, the JIT still has an internal conflict and somehow tries to optimize it?","title":"C2 JIT Thread takes a long time whilst consuming wast amounts of memory","body":"<p>So whilst debugging some peaks in memory usage on our prod environment, I started periodically dumping threaddumps, and have found the following part:</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=208687.03ms elapsed=10057.72s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\n</code></pre>\n<p>This is present in a lot of follow up dumps (spanning up to 50 seconds) whilst, according to <code>VM.native_memory summary</code>, taking up memory in the range of 1G - 1.3G (various observed cases).</p>\n<p>So, the threaddump before it starts the compilation is</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=185150.71ms elapsed=10028.85s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n</code></pre>\n<p>The last one before finishing</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=247100.38ms elapsed=10096.32s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\n</code></pre>\n<p>and the one after finishing</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=255511.25ms elapsed=10105.79s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n</code></pre>\n<p>So before compilation starts, between threaddumps (roughly all 10 seconds), the cpu time increases in the range of 0.xx <em>ms</em>, which is negligible.</p>\n<p>Yet, in the time of the compilation, it rose by <em>70 seconds</em>, which seems insane. The ID <code>41155</code>, which apparently is given for any compilation task and should therefor not repeat, is also the same across the relevant threaddumps. What I have yet to figure out is what the <code>(384 bytes)</code> mean at the end - those remain the same.</p>\n<p>This function is per se not special - it is called plenty of times across several pods and seems to be absolutely fine 99% of the cases - these are super rare occasions, but we can't seem to find a root cause.</p>\n<p>What might be relevant information here is that the <code>VM.native_memory</code> dump shows the memory wandering from <code>Compilation</code> to <code>Arena Chunks</code>, where it is then quickly taken care of and memory usage drops back to normal levels.</p>\n<p>I know there was a memory leak on Java 17.0.4, but we are running\n<code>OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)</code> so this shouldn't be the issue at hand.</p>\n<p>The question here is, where would one go from here? I've added several logs to the application at this function, but can't seem to find any &quot;misbehaviour&quot;.</p>\n<p>Another question would of course be: <em>How does the code behave?</em> As in, if it's compiling, would we even <em>get any logs until it's finished?</em> Idea being that it would <em>compile -&gt; execute</em> and therefor the logs would only &quot;appear&quot; after it.</p>\n<hr>\n<p>After adding the flag <code>XX:CompileCommand=exclude,myClass::myFunction</code>, the output of the threaddump is now a bit different:</p>\n<pre><code>\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=244772.46ms elapsed=15463.68s tid=0x00007fe65e0299d0 nid=0x2c runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 42704   !   4       myClass::deliverMessage (318 bytes)\n</code></pre>\n<p>This helps me narrow it down a bit, but the question is, why is there a <code>!</code> in the output?</p>\n<hr>\n<p>One level deeper we go! The peak happened again, and now with <code>deliverMessage</code> blocked from JIT, we reach the next level:</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=209412.09ms elapsed=5769.99s tid=0x00007f855b8b69d0 nid=0x2c runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 41589       4       my.kafka.Payload::toString (288 bytes)\n</code></pre>\n<p>So this seems to be the &quot;root&quot; that is triggering <code>JIT</code> to eat up memory and take long compilation times. This <code>toString</code> is rather big, with roughly <em>70</em> variables printed out here. In addition, it's all done with the following schema:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return &quot;KafkaPayload{&quot; +\n    &quot;id=&quot; + id +\n    &quot;, externalId='&quot; + externalId + '\\'' +\n    ...\n    &quot;, eSignatureBase64Image='&quot; + (shouldContainESignatureBase64Image ? eSignatureBase64Image : &quot;censored&quot;) + '\\'' +\n    ...\n} \n</code></pre>\n<p>Interesting here is that the big boy, namely the <code>eSignatureBase64Image</code> is censored out, as it gets relatively large. Could it be that even tho it's <em>not printed out</em>, the JIT still has an internal conflict and somehow tries to optimize it?</p>\n"},{"tags":["java","sql","spring-boot","data-conversion","spring-boot-maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":22355114,"reputation":13,"user_id":16572547,"display_name":"FineFree22"},"score":0,"creation_date":1685458130,"post_id":76365700,"comment_id":134660979,"body_markdown":"it still doesnt work, but i get the\n` ` `\nData conversion error converting &quot;&#39;New York Business Trip&#39; (EXPENSE: &quot;&quot;ID&quot;&quot; BIGINT NOT NULL)&quot;;\n` ` `\nand im again not sure what that means","body":"it still doesnt work, but i get the ` ` ` Data conversion error converting &quot;&#39;New York Business Trip&#39; (EXPENSE: &quot;&quot;ID&quot;&quot; BIGINT NOT NULL)&quot;; ` ` ` and im again not sure what that means"}],"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685455689,"creation_date":1685455689,"answer_id":76365700,"question_id":76365164,"body_markdown":"You are trying to pass a string value inside the Instant column, so that&#39;s why you are getting this issue.\r\n\r\n    insert into expense values (100, &#39;2019-06-16T17:00:00.000Z&#39;, &#39;New York Business Trip&#39;, &#39;New York&#39;, 1, 1)\r\n\r\nNot sure what&#39;s the inside the category class so you need to pass the value for it.","title":"Cannot parse constant error in SQL and Spring Boot","body":"<p>You are trying to pass a string value inside the Instant column, so that's why you are getting this issue.</p>\n<pre><code>insert into expense values (100, '2019-06-16T17:00:00.000Z', 'New York Business Trip', 'New York', 1, 1)\n</code></pre>\n<p>Not sure what's the inside the category class so you need to pass the value for it.</p>\n"}],"owner":{"account_id":22355114,"reputation":13,"user_id":16572547,"display_name":"FineFree22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76365700,"answer_count":1,"score":0,"last_activity_date":1685455689,"creation_date":1685451786,"question_id":76365164,"body_markdown":"SpringBoot bug, that occurs when i try to insert a values into SQL &quot;expense&quot; table.\r\n\r\n```\r\nimport java.time.Instant;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity\r\n@Table(name=&quot;expense&quot;)\r\npublic class Expense {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n    private Instant expensedate;\r\n\r\n\tprivate String description;\r\n\r\n\tprivate String location;\r\n\t\r\n\t@ManyToOne\r\n\tprivate Category category;\r\n\r\n\t@JsonIgnore\r\n\t@ManyToOne\r\n\tprivate User user1;\r\n}\r\n```\r\n\r\nI have this expense.java (User and Category are also separate files) file and when i try to\r\n\r\n```\r\ninsert into expense values (100,&#39;New York Business Trip&#39;,&#39;2019-06-16T17:00:00.000Z&#39;,&#39;New York&#39;,1,1)\r\n``` \r\n\r\ni get this error for some reason:\r\n\r\n```\r\nCannot parse &quot;TIMESTAMP WITH TIME ZONE&quot; constant &quot;New York Business Trip&quot;;\r\n```\r\n\r\nim pretty new at this, so explain it if you find a bug please. Thank you.\r\n","title":"Cannot parse constant error in SQL and Spring Boot","body":"<p>SpringBoot bug, that occurs when i try to insert a values into SQL &quot;expense&quot; table.</p>\n<pre><code>import java.time.Instant;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n@Table(name=&quot;expense&quot;)\npublic class Expense {\n\n    @Id\n    private Long id;\n\n    private Instant expensedate;\n\n    private String description;\n\n    private String location;\n    \n    @ManyToOne\n    private Category category;\n\n    @JsonIgnore\n    @ManyToOne\n    private User user1;\n}\n</code></pre>\n<p>I have this expense.java (User and Category are also separate files) file and when i try to</p>\n<pre><code>insert into expense values (100,'New York Business Trip','2019-06-16T17:00:00.000Z','New York',1,1)\n</code></pre>\n<p>i get this error for some reason:</p>\n<pre><code>Cannot parse &quot;TIMESTAMP WITH TIME ZONE&quot; constant &quot;New York Business Trip&quot;;\n</code></pre>\n<p>im pretty new at this, so explain it if you find a bug please. Thank you.</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685379400,"post_id":76358841,"comment_id":134648822,"body_markdown":"It is common for javadoc to contain statements like `See {@link #formatMe(String, Boolean, Boolean)} for a full explanation of this method’s behavior.`  (Side note:  use `boolean`, not Boolean.  If someone passes null for bold or cursive, your method will throw a NullPointerException.)","body":"It is common for javadoc to contain statements like <code>See {@link #formatMe(String, Boolean, Boolean)} for a full explanation of this method’s behavior.</code>  (Side note:  use <code>boolean</code>, not Boolean.  If someone passes null for bold or cursive, your method will throw a NullPointerException.)"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685418194,"creation_date":1685377222,"answer_id":76358877,"question_id":76358841,"body_markdown":"    {@link #member() label}\r\n\r\nMore details here: [https://www.baeldung.com/java-method-in-javadoc][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-method-in-javadoc","title":"JavaDoc for Method with Multiple Signatures","body":"<pre><code>{@link #member() label}\n</code></pre>\n<p>More details here: <a href=\"https://www.baeldung.com/java-method-in-javadoc\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-method-in-javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685455150,"creation_date":1685378143,"answer_id":76358975,"question_id":76358841,"body_markdown":"Yes … no …\r\n\r\nThe OOTB JavaDoc does not provide a functionality to have the same documentation for a group of methods (or other elements). But you can refer to an already existing documentation, like this:\r\n\r\n```Java\r\n/**\r\n * Function to format a string.\r\n * \r\n * @param s The string to be formatted.\r\n * @param bold {@code true} if the string should be bold, {@code false}\r\n *    otherwise.\r\n * @param cursive {@code true} if the string should be cursive, {@code false}\r\n *    otherwise.\r\n * @return A formatted string.\r\n */\r\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\r\n{\r\n    var retValue = s;\r\n\r\n    // handle bold option\r\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\r\n\r\n    // handle cursive option\r\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\r\n\r\n    // Done!\r\n    return retValue;\r\n}\r\n\r\n/**\r\n * Function to format a string.\r\n * \r\n * Calls\r\n * {@link #formatMe(String,boolean,boolean)}\r\n * with the arguments {@code &amp;quot;&amp;quot;,false,false}.\r\n *\r\n * @return A formatted string. \r\n *\r\n */\r\npublic static String formatMe()\r\n{\r\n    return formatMe( &quot;&quot;, false, false );\r\n}\r\n\r\n/**\r\n * Function to format a string.\r\n * \r\n * Calls\r\n * {@link #formatMe(String,boolean,boolean)}\r\n * with the arguments {@code s,false,false}.\r\n *\r\n * @param s The string to be formatted.\r\n * @return A formatted string.\r\n */\r\npublic static String formatMe( String s )\r\n{\r\n    return formatMe( s, false, false );\r\n}\r\n```\r\n\r\nAlternatively, you can implement your own JavaDoc tag that works along the lines of `{@inheritDoc}`:\r\n```Java\r\n/**\r\n * Function to format a string.\r\n * \r\n * @param s The string to be formatted.\r\n * @param bold {@code true} if the string should be bold, {@code false}\r\n *    otherwise.\r\n * @param cursive {@code true} if the string should be cursive, {@code false}\r\n *    otherwise.\r\n * @return A formatted string. \r\n */\r\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\r\n{\r\n    var retValue = s;\r\n\r\n    // handle bold option\r\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\r\n\r\n    // handle cursive option\r\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\r\n\r\n    // Done!\r\n    return retValue;\r\n}\r\n\r\n/**\r\n * {@copyDoc #formatMe(String,boolean,boolean)}\r\n */\r\npublic static String formatMe()\r\n{\r\n    return formatMe( &quot;&quot;, false, false );\r\n}\r\n\r\n/**\r\n * {@copyDoc #formatMe(String,boolean,boolean)}\r\n */\r\npublic static String formatMe( String s )\r\n{\r\n    return formatMe( s, false, false );\r\n}\r\n```\r\n\r\nYour new tag can copy the `@return` tag and those `@param` tags that match the current signature plus the general description.\r\n\r\nBut me personally, I just use copy, paste and edit instead.","title":"JavaDoc for Method with Multiple Signatures","body":"<p>Yes … no …</p>\n<p>The OOTB JavaDoc does not provide a functionality to have the same documentation for a group of methods (or other elements). But you can refer to an already existing documentation, like this:</p>\n<pre><code>/**\n * Function to format a string.\n * \n * @param s The string to be formatted.\n * @param bold {@code true} if the string should be bold, {@code false}\n *    otherwise.\n * @param cursive {@code true} if the string should be cursive, {@code false}\n *    otherwise.\n * @return A formatted string.\n */\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\n{\n    var retValue = s;\n\n    // handle bold option\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\n\n    // handle cursive option\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\n\n    // Done!\n    return retValue;\n}\n\n/**\n * Function to format a string.\n * \n * Calls\n * {@link #formatMe(String,boolean,boolean)}\n * with the arguments {@code &amp;quot;&amp;quot;,false,false}.\n *\n * @return A formatted string. \n *\n */\npublic static String formatMe()\n{\n    return formatMe( &quot;&quot;, false, false );\n}\n\n/**\n * Function to format a string.\n * \n * Calls\n * {@link #formatMe(String,boolean,boolean)}\n * with the arguments {@code s,false,false}.\n *\n * @param s The string to be formatted.\n * @return A formatted string.\n */\npublic static String formatMe( String s )\n{\n    return formatMe( s, false, false );\n}\n</code></pre>\n<p>Alternatively, you can implement your own JavaDoc tag that works along the lines of <code>{@inheritDoc}</code>:</p>\n<pre><code>/**\n * Function to format a string.\n * \n * @param s The string to be formatted.\n * @param bold {@code true} if the string should be bold, {@code false}\n *    otherwise.\n * @param cursive {@code true} if the string should be cursive, {@code false}\n *    otherwise.\n * @return A formatted string. \n */\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\n{\n    var retValue = s;\n\n    // handle bold option\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\n\n    // handle cursive option\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\n\n    // Done!\n    return retValue;\n}\n\n/**\n * {@copyDoc #formatMe(String,boolean,boolean)}\n */\npublic static String formatMe()\n{\n    return formatMe( &quot;&quot;, false, false );\n}\n\n/**\n * {@copyDoc #formatMe(String,boolean,boolean)}\n */\npublic static String formatMe( String s )\n{\n    return formatMe( s, false, false );\n}\n</code></pre>\n<p>Your new tag can copy the <code>@return</code> tag and those <code>@param</code> tags that match the current signature plus the general description.</p>\n<p>But me personally, I just use copy, paste and edit instead.</p>\n"}],"owner":{"account_id":1166925,"reputation":12334,"user_id":1144966,"accept_rate":94,"display_name":"petermeissner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76358975,"answer_count":2,"score":1,"last_activity_date":1685455150,"creation_date":1685376879,"question_id":76358841,"body_markdown":"Suppose I have a method with multiple signatures (just a silly example). The method with all parameters is the actuall workhorse and all other methods are convenience shortcuts. \r\n\r\nI have documented the workhorse method using JavaDoc. \r\nSince all other methods work the same I do not want to duplicate the documentation.  \r\n\r\nIs there a way in JavaDoc to link to the full documentation - or some other way to not have to re-write the documentation over and over again?\r\n\r\n```java\r\n\r\n    /**\r\n     * Function to format a string\r\n     * \r\n     * @param s string to be formatted\r\n     * @param bold string should be bold?\r\n     * @param cursive string should be cursive?\r\n     *                \r\n     * @return a formatted string \r\n     */\r\n    public static String formatMe(String s, Boolean bold, Boolean cursive){\r\n        String res = s;\r\n\r\n        // handle bold option\r\n        if (bold) {\r\n            res = &quot;BOLD&quot; + res + &quot;BOLD&quot;;\r\n        }\r\n\r\n        // handle cursive option\r\n        if (cursive) {\r\n            res = &quot;KURSIVE&quot; + res + &quot;KURSIVE&quot;;\r\n        }\r\n\r\n        // return\r\n        return res;\r\n    }\r\n\r\n    public static String formatMe(){\r\n        return formatMe(&quot;&quot;, false, false);\r\n    }\r\n    \r\n    public static String formatMe(String s){\r\n        return formatMe(s, false, false);\r\n    }```","title":"JavaDoc for Method with Multiple Signatures","body":"<p>Suppose I have a method with multiple signatures (just a silly example). The method with all parameters is the actuall workhorse and all other methods are convenience shortcuts.</p>\n<p>I have documented the workhorse method using JavaDoc.\nSince all other methods work the same I do not want to duplicate the documentation.</p>\n<p>Is there a way in JavaDoc to link to the full documentation - or some other way to not have to re-write the documentation over and over again?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    /**\n     * Function to format a string\n     * \n     * @param s string to be formatted\n     * @param bold string should be bold?\n     * @param cursive string should be cursive?\n     *                \n     * @return a formatted string \n     */\n    public static String formatMe(String s, Boolean bold, Boolean cursive){\n        String res = s;\n\n        // handle bold option\n        if (bold) {\n            res = &quot;BOLD&quot; + res + &quot;BOLD&quot;;\n        }\n\n        // handle cursive option\n        if (cursive) {\n            res = &quot;KURSIVE&quot; + res + &quot;KURSIVE&quot;;\n        }\n\n        // return\n        return res;\n    }\n\n    public static String formatMe(){\n        return formatMe(&quot;&quot;, false, false);\n    }\n    \n    public static String formatMe(String s){\n        return formatMe(s, false, false);\n    }```\n</code></pre>\n"},{"tags":["java","android","tcp","httpconnection"],"answers":[{"comments":[{"owner":{"account_id":112376,"reputation":37780,"user_id":296446,"accept_rate":74,"display_name":"Robert"},"score":2,"creation_date":1315570911,"post_id":7360916,"comment_id":8882840,"body_markdown":"Could you ever get a connection timeout if the server is not down but is to busy? Or would that be a socket timeout?","body":"Could you ever get a connection timeout if the server is not down but is to busy? Or would that be a socket timeout?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":11,"creation_date":1315571112,"post_id":7360916,"comment_id":8882889,"body_markdown":"That depends - if the TCP connection has been established before the server is overloaded you will get a socket exception - otherwise you will get a connection exception, indicating that the TCP connection could not be established.","body":"That depends - if the TCP connection has been established before the server is overloaded you will get a socket exception - otherwise you will get a connection exception, indicating that the TCP connection could not be established."},{"owner":{"account_id":112376,"reputation":37780,"user_id":296446,"accept_rate":74,"display_name":"Robert"},"score":0,"creation_date":1315571341,"post_id":7360916,"comment_id":8882950,"body_markdown":"Also what are typical values of the socket timeout and connection timeout for mobile devices?  Is one usually bigger than the other?","body":"Also what are typical values of the socket timeout and connection timeout for mobile devices?  Is one usually bigger than the other?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1315572123,"post_id":7360916,"comment_id":8883154,"body_markdown":"Considering the high latency of especially older mobile networks the connection timeout has to be set to several seconds (e.g. 10s or better 10000 msec). The socket timeout I would only set if you don&#39;t use several connections because HTTP can re-use the connection after a request.","body":"Considering the high latency of especially older mobile networks the connection timeout has to be set to several seconds (e.g. 10s or better 10000 msec). The socket timeout I would only set if you don&#39;t use several connections because HTTP can re-use the connection after a request."},{"owner":{"account_id":112376,"reputation":37780,"user_id":296446,"accept_rate":74,"display_name":"Robert"},"score":1,"creation_date":1315572979,"post_id":7360916,"comment_id":8883438,"body_markdown":"Does this mean that if you set a socket timeout (e.g. 1min), then the connection would be killed after 1 mins of inactivity, where as it would normally get re-used if no timeout was set?","body":"Does this mean that if you set a socket timeout (e.g. 1min), then the connection would be killed after 1 mins of inactivity, where as it would normally get re-used if no timeout was set?"},{"owner":{"account_id":43447,"reputation":43136,"user_id":127013,"accept_rate":66,"display_name":"mxk"},"score":0,"creation_date":1315573291,"post_id":7360916,"comment_id":8883530,"body_markdown":"Android sets both values to 60 seconds: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.4_r1/android/net/http/AndroidHttpClient.java#AndroidHttpClient","body":"Android sets both values to 60 seconds: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.4_r1/android/net/http/AndroidHttpClient.java#AndroidHttpClient\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/ext/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1404719026,"post_id":7360916,"comment_id":38125034,"body_markdown":"@Robert You won&#39;t necessarily get a connect exception if the server is too busy. It&#39;s platform-dependent, on the server platform. A socket read timeout does not kill the connection. It just causes a SocketTimeoutException. Whether the connection is still usable is a decision the application has to make. There&#39;s certainly nothing about the API that says you can&#39;t try more I/O on the socket. Your statement about not using timeouts if you use multiple connections doesn&#39;t begin to make sense. Too much misinformation here.","body":"@Robert You won&#39;t necessarily get a connect exception if the server is too busy. It&#39;s platform-dependent, on the server platform. A socket read timeout does not kill the connection. It just causes a SocketTimeoutException. Whether the connection is still usable is a decision the application has to make. There&#39;s certainly nothing about the API that says you can&#39;t try more I/O on the socket. Your statement about not using timeouts if you use multiple connections doesn&#39;t begin to make sense. Too much misinformation here."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1404731428,"post_id":7360916,"comment_id":38131953,"body_markdown":"@EJP: Interesting detail about the socket timeout. But regarding the &quot;multiple connections&quot; I can not follow you. I never talked about that topic in my answer.","body":"@EJP: Interesting detail about the socket timeout. But regarding the &quot;multiple connections&quot; I can not follow you. I never talked about that topic in my answer."},{"owner":{"account_id":4995828,"reputation":4085,"user_id":4124076,"display_name":"Manish Maheshwari"},"score":0,"creation_date":1524467925,"post_id":7360916,"comment_id":86966697,"body_markdown":"I wish they had named &quot;socket timeout&quot; as &quot;idle timeout&quot;.","body":"I wish they had named &quot;socket timeout&quot; as &quot;idle timeout&quot;."},{"owner":{"account_id":1808097,"reputation":571,"user_id":1644740,"accept_rate":38,"display_name":"sainiankit"},"score":0,"creation_date":1564592793,"post_id":7360916,"comment_id":101085792,"body_markdown":"@Robert Do connection timeouts and socket timeouts result in the same HTTP status code ie. 408 ?","body":"@Robert Do connection timeouts and socket timeouts result in the same HTTP status code ie. 408 ?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1564593807,"post_id":7360916,"comment_id":101086208,"body_markdown":"@sainiankit If you get an HTTP status code this code has been sent from the server. In case of a connection timeout the connection was never established - hence you can&#39;t get any status code. In case of a socket timeout the status code may have been sent already, however the socket timeout is an error that occurs on client side, therefore no status code related to this error will occur.","body":"@sainiankit If you get an HTTP status code this code has been sent from the server. In case of a connection timeout the connection was never established - hence you can&#39;t get any status code. In case of a socket timeout the status code may have been sent already, however the socket timeout is an error that occurs on client side, therefore no status code related to this error will occur."},{"owner":{"account_id":1808097,"reputation":571,"user_id":1644740,"accept_rate":38,"display_name":"sainiankit"},"score":0,"creation_date":1564688582,"post_id":7360916,"comment_id":101123731,"body_markdown":"@Robert I&#39;m really confused here. What exactly results in 408 ?","body":"@Robert I&#39;m really confused here. What exactly results in 408 ?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1564750524,"post_id":7360916,"comment_id":101143685,"body_markdown":"@sainiankit May be you just read the documentation? E.g. here: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/408","body":"@sainiankit May be you just read the documentation? E.g. here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/408\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/408</a>"}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":13,"down_vote_count":3,"up_vote_count":292,"is_accepted":true,"score":289,"last_activity_date":1685454628,"creation_date":1315567460,"answer_id":7360916,"question_id":7360520,"body_markdown":"A **connection timeout** occurs only upon starting the TCP connection. This usually happens if the remote machine does not answer. If you get an ConnectException, possible reasons are: the server has been shut down, you used the wrong IP/DNS name, wrong port or the network connection to the server is down.\r\n\r\nA **socket timeout** is dedicated to monitor the continuous incoming data flow. If the data flow is interrupted for the specified time the connection is regarded as stalled/broken. Of course this only works with connections where data is received all the time and there are no delays longer than the configured socket timeout. \r\n\r\nBy setting socket timeout to 1000 this would require that every second new data is received (assuming that you read the data block wise and the block is large enough).  \r\n\r\nIf only the incoming stream stalls for more than a second you are running into a timeout. \r\n\r\nThis is especially important when HTTP servers process a complex request that requires some time on server side before the HTTP response data is available. If you configure socket timeout to 10000 (10 seconds) but the HTTP server requires 15 seconds after receiving the HTTP request, then you will never get the response as after 10 seconds you will get an SocketTimeoutException (no data is transmitted between reception of the HTTP request until the HTTP response is ready). \r\n","title":"ConnectionTimeout versus SocketTimeout","body":"<p>A <strong>connection timeout</strong> occurs only upon starting the TCP connection. This usually happens if the remote machine does not answer. If you get an ConnectException, possible reasons are: the server has been shut down, you used the wrong IP/DNS name, wrong port or the network connection to the server is down.</p>\n<p>A <strong>socket timeout</strong> is dedicated to monitor the continuous incoming data flow. If the data flow is interrupted for the specified time the connection is regarded as stalled/broken. Of course this only works with connections where data is received all the time and there are no delays longer than the configured socket timeout.</p>\n<p>By setting socket timeout to 1000 this would require that every second new data is received (assuming that you read the data block wise and the block is large enough).</p>\n<p>If only the incoming stream stalls for more than a second you are running into a timeout.</p>\n<p>This is especially important when HTTP servers process a complex request that requires some time on server side before the HTTP response data is available. If you configure socket timeout to 10000 (10 seconds) but the HTTP server requires 15 seconds after receiving the HTTP request, then you will never get the response as after 10 seconds you will get an SocketTimeoutException (no data is transmitted between reception of the HTTP request until the HTTP response is ready).</p>\n"},{"comments":[{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":5,"creation_date":1500559727,"post_id":34008123,"comment_id":77400602,"body_markdown":"Okay. 1. So can we say that SocketTimeout only comes into picture when a Connection is already established? 2. What if there is no data flow for like say 5 mins after the 3 packets have been received? Will there be a SocketTimeout exception after the 3rd packet has been received?","body":"Okay. 1. So can we say that SocketTimeout only comes into picture when a Connection is already established? 2. What if there is no data flow for like say 5 mins after the 3 packets have been received? Will there be a SocketTimeout exception after the 3rd packet has been received?"},{"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"score":4,"creation_date":1500952933,"post_id":34008123,"comment_id":77548494,"body_markdown":"@SaurabhPatil 1. Yes. See [Wikipedia&#39;s Technical Overview of the HTTP protocol](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Technical_overview) for confirmation. 2. Once the end of message is sent, no further data is needed, so a socket timeout won&#39;t occur. See [this answer](https://stackoverflow.com/a/4824738/4851565) on the topic.","body":"@SaurabhPatil 1. Yes. See <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Technical_overview\" rel=\"nofollow noreferrer\">Wikipedia&#39;s Technical Overview of the HTTP protocol</a> for confirmation. 2. Once the end of message is sent, no further data is needed, so a socket timeout won&#39;t occur. See <a href=\"https://stackoverflow.com/a/4824738/4851565\">this answer</a> on the topic."},{"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"score":1,"creation_date":1597741382,"post_id":34008123,"comment_id":112225820,"body_markdown":"If you have a socket timeout of 1 second, and a response comprised of 3 IP packets, where each response packet takes 0.8 seconds to arrive, and between the 1st and 2nd packet, there&#39;s a gap of 0.3 seconds. Then the total response time is still 2.7 seconds, but there will be a socket timeout.","body":"If you have a socket timeout of 1 second, and a response comprised of 3 IP packets, where each response packet takes 0.8 seconds to arrive, and between the 1st and 2nd packet, there&#39;s a gap of 0.3 seconds. Then the total response time is still 2.7 seconds, but there will be a socket timeout."},{"owner":{"account_id":5093351,"reputation":99,"user_id":5413476,"display_name":"rahul rachh"},"score":0,"creation_date":1684266344,"post_id":34008123,"comment_id":134492641,"body_markdown":"This explains it in a much better way than the accepted answer","body":"This explains it in a much better way than the accepted answer"},{"owner":{"account_id":19570349,"reputation":73,"user_id":14321650,"display_name":"Abhi"},"score":0,"creation_date":1694670788,"post_id":34008123,"comment_id":135922258,"body_markdown":"My doubt is: if socket read-time-out occurs, will it definitely post my data to the server or is there still a chance that I could lose my posting data as well? I&#39;m doing an HTTP post with json data, and the response is also json data.","body":"My doubt is: if socket read-time-out occurs, will it definitely post my data to the server or is there still a chance that I could lose my posting data as well? I&#39;m doing an HTTP post with json data, and the response is also json data."},{"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"score":1,"creation_date":1694738865,"post_id":34008123,"comment_id":135934311,"body_markdown":"@Abhi I think there&#39;s a solid chance that the data may not have posted, and that you likely can&#39;t determine whether or not a server has actually processed your request. All you can say is that a network partition has probably occurred. That being said, what I think you&#39;re really asking about here is server idempotency, requiring the server to know whether or not it&#39;s already processed a request. To me, making the server idempotent would probably solve your problem far better than inferring success or failure based on a timeout.","body":"@Abhi I think there&#39;s a solid chance that the data may not have posted, and that you likely can&#39;t determine whether or not a server has actually processed your request. All you can say is that a network partition has probably occurred. That being said, what I think you&#39;re really asking about here is server idempotency, requiring the server to know whether or not it&#39;s already processed a request. To me, making the server idempotent would probably solve your problem far better than inferring success or failure based on a timeout."}],"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"comment_count":6,"down_vote_count":0,"up_vote_count":134,"is_accepted":false,"score":134,"last_activity_date":1448918071,"creation_date":1448918071,"answer_id":34008123,"question_id":7360520,"body_markdown":"A *connection timeout* is the maximum amount of time that the program is willing to wait to setup a connection to another process. You aren&#39;t getting or posting any application data at this point, just establishing the connection, itself.\r\n\r\nA *socket timeout* is the timeout when waiting for individual packets. It&#39;s a common misconception that a socket timeout is the timeout to receive the full response. So if you have a socket timeout of 1 second, and a response comprised of 3 IP packets, where each response packet takes 0.9 seconds to arrive, for a total response time of 2.7 seconds, then there will be no timeout.","title":"ConnectionTimeout versus SocketTimeout","body":"<p>A <em>connection timeout</em> is the maximum amount of time that the program is willing to wait to setup a connection to another process. You aren't getting or posting any application data at this point, just establishing the connection, itself.</p>\n\n<p>A <em>socket timeout</em> is the timeout when waiting for individual packets. It's a common misconception that a socket timeout is the timeout to receive the full response. So if you have a socket timeout of 1 second, and a response comprised of 3 IP packets, where each response packet takes 0.9 seconds to arrive, for a total response time of 2.7 seconds, then there will be no timeout.</p>\n"}],"owner":{"account_id":112376,"reputation":37780,"user_id":296446,"accept_rate":74,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215294,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":7360916,"answer_count":2,"score":172,"last_activity_date":1685454628,"creation_date":1315565334,"question_id":7360520,"body_markdown":"I&#39;m having a problem with a library that I am using. It might be the library or it might be me using it wrong!\r\n\r\nBasically, when I do this (Timeout in milliseconds)\r\n\r\n    _ignitedHttp.setConnectionTimeout(1);  // v short\r\n    _ignitedHttp.setSocketTimeout(60000);  // 60 seconds\r\n\r\nNo timeout exception is generated and it works ok, however, when I do the following,\r\n\r\n    _ignitedHttp.setConnectionTimeout(60000);  // 60 seconds\r\n    _ignitedHttp.setSocketTimeout(1);          // v short\r\n\r\nI get a Socket Exception.\r\n\r\nSo, my question is why can I not simulate a Connection Exception? Am I misunderstanding the difference between a socket and a connection time-out? The library is [here][1] (not officially released yet).\r\n\r\n\r\n  [1]: https://github.com/kaeppler/ignition-support/tree/master/src","title":"ConnectionTimeout versus SocketTimeout","body":"<p>I'm having a problem with a library that I am using. It might be the library or it might be me using it wrong!</p>\n\n<p>Basically, when I do this (Timeout in milliseconds)</p>\n\n<pre><code>_ignitedHttp.setConnectionTimeout(1);  // v short\n_ignitedHttp.setSocketTimeout(60000);  // 60 seconds\n</code></pre>\n\n<p>No timeout exception is generated and it works ok, however, when I do the following,</p>\n\n<pre><code>_ignitedHttp.setConnectionTimeout(60000);  // 60 seconds\n_ignitedHttp.setSocketTimeout(1);          // v short\n</code></pre>\n\n<p>I get a Socket Exception.</p>\n\n<p>So, my question is why can I not simulate a Connection Exception? Am I misunderstanding the difference between a socket and a connection time-out? The library is <a href=\"https://github.com/kaeppler/ignition-support/tree/master/src\" rel=\"noreferrer\">here</a> (not officially released yet).</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":10742308,"reputation":88,"user_id":7904942,"display_name":"R.Groote"},"score":1,"creation_date":1584598764,"post_id":60751827,"comment_id":107486647,"body_markdown":"Couple of remarks:\n- ArrayList&lt;Point&gt; could be replaced by LIst&lt;Point&gt;\n- assertEquals should be assertTrue(points.size() ==4)\n- assertEquals can be used, for example assertEquals(points.size(),4)\n- assertEquals can be used, for example assertEquals(&quot;points are not the same&quot;,points.size(),4)","body":"Couple of remarks: - ArrayList&lt;Point&gt; could be replaced by LIst&lt;Point&gt; - assertEquals should be assertTrue(points.size() ==4) - assertEquals can be used, for example assertEquals(points.size(),4) - assertEquals can be used, for example assertEquals(&quot;points are not the same&quot;,points.size(),4)"}],"answers":[{"tags":[],"owner":{"account_id":16405985,"reputation":125,"user_id":11850526,"display_name":"more"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1584598768,"creation_date":1584598768,"answer_id":60751869,"question_id":60751827,"body_markdown":"Either you use\r\n\r\n    assertTrue(points.size() == 4);\r\n\r\nor\r\n\r\n    assertEquals(4, points.size());","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>Either you use</p>\n\n<pre><code>assertTrue(points.size() == 4);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>assertEquals(4, points.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4091211,"reputation":362,"user_id":3359134,"display_name":"Yomal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584598821,"creation_date":1584598821,"answer_id":60751878,"question_id":60751827,"body_markdown":"Please check &lt;http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertEquals(long,%20long)&gt;\r\n\r\nThe `assertEquals` method requires two parameters. Replace your code as\r\n`assertEquals(4,points.size());`","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>Please check <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertEquals(long,%20long)\" rel=\"nofollow noreferrer\">http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertEquals(long,%20long)</a></p>\n\n<p>The <code>assertEquals</code> method requires two parameters. Replace your code as\n<code>assertEquals(4,points.size());</code></p>\n"},{"tags":[],"owner":{"account_id":1758628,"reputation":196,"user_id":1606287,"display_name":"Rafał Maciak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584598825,"creation_date":1584598825,"answer_id":60751879,"question_id":60751827,"body_markdown":"The method assertEquals() takes two parameters:\r\n\r\n - expected value and\r\n - actual value\r\n\r\nWhat you passed is a result of equality operator on two integers, which is boolean.\r\n\r\nYou have to change this line to the following:\r\n\r\n     assertEquals(4, points.size());","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>The method assertEquals() takes two parameters:</p>\n\n<ul>\n<li>expected value and</li>\n<li>actual value</li>\n</ul>\n\n<p>What you passed is a result of equality operator on two integers, which is boolean.</p>\n\n<p>You have to change this line to the following:</p>\n\n<pre><code> assertEquals(4, points.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703126,"reputation":562,"user_id":7877771,"display_name":"sachyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584599182,"creation_date":1584599182,"answer_id":60751940,"question_id":60751827,"body_markdown":"You can use the Assert options appropriately as per your need.\r\ntwo easy methods that can be used for your case is \r\n\r\n    assertEquals(4, points.size());\r\n    assertTrue(points.size() == 4);\r\n\r\ndepending on your requirement, you can use the **assertFalse()** which is also a much used method.\r\n\r\n","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>You can use the Assert options appropriately as per your need.\ntwo easy methods that can be used for your case is </p>\n\n<pre><code>assertEquals(4, points.size());\nassertTrue(points.size() == 4);\n</code></pre>\n\n<p>depending on your requirement, you can use the <strong>assertFalse()</strong> which is also a much used method.</p>\n"},{"tags":[],"owner":{"account_id":1563022,"reputation":823,"user_id":1452460,"display_name":"tam.teixeira"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685454331,"creation_date":1685454331,"answer_id":76365509,"question_id":60751827,"body_markdown":"If you use `assertThat()` from `org.assertj.core.api.AssertionsForClassTypes.assertThat` or from `org.assertj.core.api.Assertions.assertThat`\r\n\r\nthen you can use:\r\n\r\n    assertThat(points).hasSize(4);","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>If you use <code>assertThat()</code> from <code>org.assertj.core.api.AssertionsForClassTypes.assertThat</code> or from <code>org.assertj.core.api.Assertions.assertThat</code></p>\n<p>then you can use:</p>\n<pre><code>assertThat(points).hasSize(4);\n</code></pre>\n"}],"owner":{"account_id":17832867,"reputation":135,"user_id":12952482,"display_name":"Yosua Martiansia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60751869,"answer_count":5,"score":3,"last_activity_date":1685454331,"creation_date":1584598542,"question_id":60751827,"body_markdown":"```\r\n\t@Test\r\n\t@DisplayName(&quot;Get all Points in Shape is working and gets the correct number output&quot;)\r\n\tpublic void test_Get_All_Points_On_Shape()\r\n\t{\r\n\t\tArrayList&lt;Point&gt; points = new ArrayList&lt;Point&gt;(Arrays.asList(new Point[4]));\r\n\t\tassertEquals(points.size() == 4);\r\n\t}\r\n```\r\nthe above code gives an error \r\n```\r\nThe method assertEquals(short, short) in the type Assertions is not applicable for the arguments (boolean)\r\n```\r\n\r\nHow to resolve this problem?","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<pre><code>    @Test\n    @DisplayName(\"Get all Points in Shape is working and gets the correct number output\")\n    public void test_Get_All_Points_On_Shape()\n    {\n        ArrayList&lt;Point&gt; points = new ArrayList&lt;Point&gt;(Arrays.asList(new Point[4]));\n        assertEquals(points.size() == 4);\n    }\n</code></pre>\n\n<p>the above code gives an error </p>\n\n<pre><code>The method assertEquals(short, short) in the type Assertions is not applicable for the arguments (boolean)\n</code></pre>\n\n<p>How to resolve this problem?</p>\n"},{"tags":["java","mysql","spring","docker"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":1,"creation_date":1685453516,"post_id":76365241,"comment_id":134659704,"body_markdown":"Are you sure the values are actually null, because it looks more like to me that the screen shot show that the definition of your table ALLOWS null values, rather than you showing any examples of data.","body":"Are you sure the values are actually null, because it looks more like to me that the screen shot show that the definition of your table ALLOWS null values, rather than you showing any examples of data."},{"owner":{"account_id":26412055,"reputation":11,"user_id":20061028,"display_name":"cimpoiesudanila19"},"score":0,"creation_date":1685454768,"post_id":76365241,"comment_id":134660036,"body_markdown":"Oh really, thanks, I didn&#39;t think about it","body":"Oh really, thanks, I didn&#39;t think about it"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685454178,"creation_date":1685454178,"answer_id":76365482,"question_id":76365241,"body_markdown":"Those NULL in the table are indicating that the columns are nullable. Compare id bigint **not null**\r\n\r\n    Hibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\r\n\r\nTo see what has been added to the db add the following to your code after          `repository.save(student);`\r\n\r\n\t\trepository.findAll().stream().forEach(student -&gt; System.out.println(student));\r\n\r\n\r\nTo prevent the DB accepting nulls to a column add the following annotation to the field:\r\n\r\n    @Column(nullable = false)\r\n\r\n\r\n","title":"Java Spring Boot Docker project with MySQL - All values saved as null in the database","body":"<p>Those NULL in the table are indicating that the columns are nullable. Compare id bigint <strong>not null</strong></p>\n<pre><code>Hibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\n</code></pre>\n<p>To see what has been added to the db add the following to your code after          <code>repository.save(student);</code></p>\n<pre><code>    repository.findAll().stream().forEach(student -&gt; System.out.println(student));\n</code></pre>\n<p>To prevent the DB accepting nulls to a column add the following annotation to the field:</p>\n<pre><code>@Column(nullable = false)\n</code></pre>\n"}],"owner":{"account_id":26412055,"reputation":11,"user_id":20061028,"display_name":"cimpoiesudanila19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685454178,"creation_date":1685452287,"question_id":76365241,"body_markdown":"I want my project to create a table and it is saved in mysql, the problem is that when saving all values are null\r\n\r\nI am being forced to write something else, but I do not know what to add, this project can be done through mvc by writing to the save post update delete controllers, I would do this after it would be possible to solve the problem that has arisen now\r\n\r\n\r\ni use docker\r\ndocker-compose.yaml\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  db:\r\n    image: mysql\r\n    command: --default-authentication-plugin=mysql_native_password\r\n    ports:\r\n      - 3306:3306\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: example\r\n  adminer:\r\n    image: adminer\r\n    restart: always\r\n    ports:\r\n      - 8081:8080\r\n```\r\n\r\napplication.yaml\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/cimpoiesu\r\n    username: root\r\n    password: example\r\n  jpa:\r\n    showSql: true\r\n    hibernate:\r\n      ddl-auto: create\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n...\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\t\t\t\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nmain class\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(DemoApplication.class, args);\r\n   }\r\n\r\n   @Bean\r\n   CommandLineRunner runner(StudentRepository repository) {\r\n      return args -&gt; {\r\n         Address address = new Address(\r\n               &quot;Z&quot;,\r\n               &quot;X&quot;,\r\n               &quot;C&quot;\r\n         );\r\n         Student student = new Student(\r\n               &quot;Danila&quot;,\r\n               &quot;Cimpoiesu&quot;,\r\n               &quot;danila.cimpoiesu@mail.ru&quot;,\r\n               Gender.MALE,\r\n               address,\r\n               List.of(&quot;Computer science&quot;),\r\n               BigDecimal.TEN,\r\n               LocalDateTime.now()\r\n         );\r\n\r\n         repository.save(student);\r\n      };\r\n   }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface StudentRepository extends\r\n        JpaRepository&lt;Student, Long&gt; {\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport lombok.Data;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@Data\r\n@Entity\r\npublic class Student {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstname;\r\n    private String lastname;\r\n    private String email;\r\n    private Gender gender;\r\n    private Address address;\r\n    private List&lt;String&gt; favouriteSubject;\r\n    private BigDecimal totalSpentInBooks;\r\n    private LocalDateTime created;\r\n\r\n    public Student() {\r\n    }\r\n\r\n    public Student(String firstname, String lastname, String email, Gender gender, Address address, List&lt;String&gt; favouriteSubject, BigDecimal totalSpentInBooks, LocalDateTime created) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.email = email;\r\n        this.gender = gender;\r\n        this.address = address;\r\n        this.favouriteSubject = favouriteSubject;\r\n        this.totalSpentInBooks = totalSpentInBooks;\r\n        this.created = created;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Embeddable;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Embeddable\r\npublic class Address {\r\n    private String country;\r\n    private String city;\r\n    private String postCode;\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\npublic enum Gender {\r\n    MALE, FEMALE\r\n}\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/K5Ljf.png)](https://i.stack.imgur.com/K5Ljf.png)\r\n\r\n```\r\n\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-05-30T15:54:04.647+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 19 with PID 9896 (C:\\Users\\jesus\\Desktop\\plack\\target\\classes started by jesus in C:\\Users\\jesus\\Desktop\\plack)\r\n2023-05-30T15:54:04.656+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-30T15:54:06.140+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-05-30T15:54:06.324+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158 ms. Found 1 JPA repository interfaces.\r\n2023-05-30T15:54:07.720+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-05-30T15:54:07.737+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-05-30T15:54:07.738+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n2023-05-30T15:54:07.918+03:00  INFO 9896 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-05-30T15:54:07.921+03:00  INFO 9896 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3113 ms\r\n2023-05-30T15:54:08.298+03:00  INFO 9896 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-05-30T15:54:08.423+03:00  INFO 9896 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-05-30T15:54:08.998+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-05-30T15:54:09.740+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55adcf9e\r\n2023-05-30T15:54:09.745+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-05-30T15:54:09.893+03:00  INFO 9896 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\nHibernate: drop table if exists student\r\nHibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\r\n2023-05-30T15:54:11.908+03:00  INFO 9896 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-05-30T15:54:11.923+03:00  INFO 9896 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-30T15:54:12.463+03:00  WARN 9896 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-05-30T15:54:13.171+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-05-30T15:54:13.187+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 9.612 seconds (process running for 10.486)\r\nHibernate: insert into student (city, country, post_code, created, email, favourite_subject, firstname, gender, lastname, total_spent_in_books) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n```\r\n\r\nI have done a project using mongodb before and it worked and I want to redo it for mysql","title":"Java Spring Boot Docker project with MySQL - All values saved as null in the database","body":"<p>I want my project to create a table and it is saved in mysql, the problem is that when saving all values are null</p>\n<p>I am being forced to write something else, but I do not know what to add, this project can be done through mvc by writing to the save post update delete controllers, I would do this after it would be possible to solve the problem that has arisen now</p>\n<p>i use docker\ndocker-compose.yaml</p>\n<pre><code>version: '3.8'\n\nservices:\n  db:\n    image: mysql\n    command: --default-authentication-plugin=mysql_native_password\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_ROOT_PASSWORD: example\n  adminer:\n    image: adminer\n    restart: always\n    ports:\n      - 8081:8080\n</code></pre>\n<p>application.yaml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/cimpoiesu\n    username: root\n    password: example\n  jpa:\n    showSql: true\n    hibernate:\n      ddl-auto: create\n</code></pre>\n<p>pom.xml</p>\n<pre><code>...\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            \n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>main class</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(DemoApplication.class, args);\n   }\n\n   @Bean\n   CommandLineRunner runner(StudentRepository repository) {\n      return args -&gt; {\n         Address address = new Address(\n               &quot;Z&quot;,\n               &quot;X&quot;,\n               &quot;C&quot;\n         );\n         Student student = new Student(\n               &quot;Danila&quot;,\n               &quot;Cimpoiesu&quot;,\n               &quot;danila.cimpoiesu@mail.ru&quot;,\n               Gender.MALE,\n               address,\n               List.of(&quot;Computer science&quot;),\n               BigDecimal.TEN,\n               LocalDateTime.now()\n         );\n\n         repository.save(student);\n      };\n   }\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends\n        JpaRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport lombok.Data;\nimport jakarta.persistence.Id;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Data\n@Entity\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstname;\n    private String lastname;\n    private String email;\n    private Gender gender;\n    private Address address;\n    private List&lt;String&gt; favouriteSubject;\n    private BigDecimal totalSpentInBooks;\n    private LocalDateTime created;\n\n    public Student() {\n    }\n\n    public Student(String firstname, String lastname, String email, Gender gender, Address address, List&lt;String&gt; favouriteSubject, BigDecimal totalSpentInBooks, LocalDateTime created) {\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.email = email;\n        this.gender = gender;\n        this.address = address;\n        this.favouriteSubject = favouriteSubject;\n        this.totalSpentInBooks = totalSpentInBooks;\n        this.created = created;\n    }\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Embeddable;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Embeddable\npublic class Address {\n    private String country;\n    private String city;\n    private String postCode;\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\npublic enum Gender {\n    MALE, FEMALE\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/K5Ljf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K5Ljf.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-05-30T15:54:04.647+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 19 with PID 9896 (C:\\Users\\jesus\\Desktop\\plack\\target\\classes started by jesus in C:\\Users\\jesus\\Desktop\\plack)\n2023-05-30T15:54:04.656+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-30T15:54:06.140+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-30T15:54:06.324+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158 ms. Found 1 JPA repository interfaces.\n2023-05-30T15:54:07.720+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-30T15:54:07.737+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-30T15:54:07.738+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-05-30T15:54:07.918+03:00  INFO 9896 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-30T15:54:07.921+03:00  INFO 9896 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3113 ms\n2023-05-30T15:54:08.298+03:00  INFO 9896 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-30T15:54:08.423+03:00  INFO 9896 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-05-30T15:54:08.998+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-30T15:54:09.740+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55adcf9e\n2023-05-30T15:54:09.745+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-30T15:54:09.893+03:00  INFO 9896 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nHibernate: drop table if exists student\nHibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\n2023-05-30T15:54:11.908+03:00  INFO 9896 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-30T15:54:11.923+03:00  INFO 9896 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-30T15:54:12.463+03:00  WARN 9896 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-05-30T15:54:13.171+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-30T15:54:13.187+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 9.612 seconds (process running for 10.486)\nHibernate: insert into student (city, country, post_code, created, email, favourite_subject, firstname, gender, lastname, total_spent_in_books) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n<p>I have done a project using mongodb before and it worked and I want to redo it for mysql</p>\n"},{"tags":["java","saml-2.0","idp","spring-security-saml2"],"answers":[{"tags":[],"owner":{"account_id":11715131,"reputation":85,"user_id":8575889,"display_name":"Jose Guerra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685453983,"creation_date":1685453983,"answer_id":76365458,"question_id":75981487,"body_markdown":"only put the default-success-url: https://localhost:8443/login into the application.yml and works","title":"How redirect my saml2-client to home page when i authenticate with local SP and IDP Saml2","body":"<p>only put the default-success-url: https://localhost:8443/login into the application.yml and works</p>\n"}],"owner":{"account_id":11715131,"reputation":85,"user_id":8575889,"display_name":"Jose Guerra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685453983,"creation_date":1681170084,"question_id":75981487,"body_markdown":"I try to authenticate an application with an SP and IDP local but when I try from the same server(IDP) the response is ok but when I try from other application the response redirect show an error\r\n\r\nThis is the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my IDP code when redirect the response:\r\n\r\n    @Override\r\n    protected ServiceProviderMetadata getTargetProvider(HttpServletRequest request) {\r\n        IdentityProviderService provider = getProvisioning().getHostedProvider();\r\n        String param = request.getParameter(&quot;SAMLRequest&quot;);\r\n        AuthenticationRequest authn =\r\n                provider.fromXml(\r\n                        param,\r\n                        true,\r\n                        HttpMethod.GET.name().equalsIgnoreCase(request.getMethod()),\r\n                        AuthenticationRequest.class\r\n                );\r\n        provider.validate(authn);\r\n        return provider.getRemoteProvider(authn);\r\n    }\r\n\r\nThe client are in the 8080 port and sp 8082 and idp 8081\r\n\r\nthis is my application.yml:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow i do for redirect to 8080/home in the client application?\r\nWhen call from http://localhost:8080 this field is null in the getTargetProvider() method:\r\n            String param = request.getParameter(&quot;SAMLRequest&quot;);\r\n\r\n  [1]: https://i.stack.imgur.com/OkKNI.png\r\n  [2]: https://i.stack.imgur.com/5lC1D.png","title":"How redirect my saml2-client to home page when i authenticate with local SP and IDP Saml2","body":"<p>I try to authenticate an application with an SP and IDP local but when I try from the same server(IDP) the response is ok but when I try from other application the response redirect show an error</p>\n<p>This is the error:</p>\n<p><a href=\"https://i.stack.imgur.com/OkKNI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OkKNI.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my IDP code when redirect the response:</p>\n<pre><code>@Override\nprotected ServiceProviderMetadata getTargetProvider(HttpServletRequest request) {\n    IdentityProviderService provider = getProvisioning().getHostedProvider();\n    String param = request.getParameter(&quot;SAMLRequest&quot;);\n    AuthenticationRequest authn =\n            provider.fromXml(\n                    param,\n                    true,\n                    HttpMethod.GET.name().equalsIgnoreCase(request.getMethod()),\n                    AuthenticationRequest.class\n            );\n    provider.validate(authn);\n    return provider.getRemoteProvider(authn);\n}\n</code></pre>\n<p>The client are in the 8080 port and sp 8082 and idp 8081</p>\n<p>this is my application.yml:</p>\n<p><a href=\"https://i.stack.imgur.com/5lC1D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5lC1D.png\" alt=\"enter image description here\" /></a></p>\n<p>How i do for redirect to 8080/home in the client application?\nWhen call from http://localhost:8080 this field is null in the getTargetProvider() method:\nString param = request.getParameter(&quot;SAMLRequest&quot;);</p>\n"},{"tags":["java","filter","apache-kafka","apache-kafka-connect","jsonpath"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669831102,"post_id":74630907,"comment_id":131734498,"body_markdown":"Please clarify what Filter transform you are using. Kafka Connect is not unique to Confluent Platform","body":"Please clarify what Filter transform you are using. Kafka Connect is not unique to Confluent Platform"},{"owner":{"account_id":27100987,"reputation":3,"user_id":20647554,"display_name":"Sugs"},"score":0,"creation_date":1669835126,"post_id":74630907,"comment_id":131735850,"body_markdown":"I am trying to use something like this                                                &quot;transforms.filterValue.type&quot;: &quot;io.confluent.connect.transforms.Filter$Value&quot;,\n&quot;transforms.filterValue.filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;,\n&quot;transforms.filterValue.filter.type&quot;: &quot;include&quot;,","body":"I am trying to use something like this                                                &quot;transforms.filterValue.type&quot;: &quot;io.confluent.connect.transforms.Filter$Value&quot;, &quot;transforms.filterValue.filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;, &quot;transforms.filterValue.filter.type&quot;: &quot;include&quot;,"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669836923,"post_id":74630907,"comment_id":131736392,"body_markdown":"That Transform is part of this package, which can be added to any Kafka installation - https://www.confluent.io/hub/confluentinc/connect-transforms","body":"That Transform is part of this package, which can be added to any Kafka installation - <a href=\"https://www.confluent.io/hub/confluentinc/connect-transforms\" rel=\"nofollow noreferrer\">confluent.io/hub/confluentinc/connect-transforms</a>"},{"owner":{"account_id":27100987,"reputation":3,"user_id":20647554,"display_name":"Sugs"},"score":0,"creation_date":1669837679,"post_id":74630907,"comment_id":131736602,"body_markdown":"Yeah I already did step by doing below                                                                               confluent-hub install confluentinc/connect-transforms:latest","body":"Yeah I already did step by doing below                                                                               confluent-hub install confluentinc/connect-transforms:latest"}],"answers":[{"comments":[{"owner":{"account_id":27100987,"reputation":3,"user_id":20647554,"display_name":"Sugs"},"score":0,"creation_date":1669838078,"post_id":74633263,"comment_id":131736728,"body_markdown":"Thank you, I was planning on using streams as json path library was not supporting Bitwise and % operations. Thanks a lot for helping on this query","body":"Thank you, I was planning on using streams as json path library was not supporting Bitwise and % operations. Thanks a lot for helping on this query"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669837048,"creation_date":1669837048,"answer_id":74633263,"question_id":74630907,"body_markdown":"Bitwise [operations](https://github.com/json-path/JsonPath#functions) are not supported by the JSONPath library being used. \r\n\r\nIf you want to filter even/odds, use Kafka Streams or KSQL to create a new topic before writing to the database. ","title":"Kafka transforms.Filter to filter records based on Odd/Even numbers is not working with bitwise operator &amp; and remainder % operator","body":"<p>Bitwise <a href=\"https://github.com/json-path/JsonPath#functions\" rel=\"nofollow noreferrer\">operations</a> are not supported by the JSONPath library being used.</p>\n<p>If you want to filter even/odds, use Kafka Streams or KSQL to create a new topic before writing to the database.</p>\n"},{"tags":[],"owner":{"account_id":11017223,"reputation":1,"user_id":8092725,"display_name":"Jagajeet Kuppala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685453798,"creation_date":1685453798,"answer_id":76365436,"question_id":74630907,"body_markdown":"As [JSONPath][1] docs show, you can filter array elements with RegEx, using the `=~` operator.\r\n\r\nSo, JSONPath to filter\r\n- odd numbers of an array: `[?(@ =~ /^\\\\d*[13579]$/)]`\r\n- even numbers of an array: `[?(@ =~ /^\\\\d*[02468]$/)]`\r\n\r\n(Used `\\\\d` instead of `\\d` here as escape sequence.)\r\n\r\n*PS: I was facing similar scenario while writing State Machine definitions in AWS Step Functions, and this worked for me.*\r\n\r\n\r\n  [1]: https://github.com/json-path/JsonPath#functions","title":"Kafka transforms.Filter to filter records based on Odd/Even numbers is not working with bitwise operator &amp; and remainder % operator","body":"<p>As <a href=\"https://github.com/json-path/JsonPath#functions\" rel=\"nofollow noreferrer\">JSONPath</a> docs show, you can filter array elements with RegEx, using the <code>=~</code> operator.</p>\n<p>So, JSONPath to filter</p>\n<ul>\n<li>odd numbers of an array: <code>[?(@ =~ /^\\\\d*[13579]$/)]</code></li>\n<li>even numbers of an array: <code>[?(@ =~ /^\\\\d*[02468]$/)]</code></li>\n</ul>\n<p>(Used <code>\\\\d</code> instead of <code>\\d</code> here as escape sequence.)</p>\n<p><em>PS: I was facing similar scenario while writing State Machine definitions in AWS Step Functions, and this worked for me.</em></p>\n"}],"owner":{"account_id":27100987,"reputation":3,"user_id":20647554,"display_name":"Sugs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74633263,"answer_count":2,"score":0,"last_activity_date":1685453798,"creation_date":1669824896,"question_id":74630907,"body_markdown":"I have been trying to find a way to include a filter that discards the records with a particular value, in the Couchbase source connector. Lets say, I have the JSON: `{&quot;key&quot;:10004, &quot;name&quot;:&quot;testt&quot;}` and I want to discard all the records that have the key with all odd numbers . Is there a way to do that without having to use confluent platform?\r\n\r\nI have installed confluent hub client and tried `filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;`, (bitwise operator) and also tried  `&quot;$[?(@.key % 2 != 0)]&quot;`. Seems like these both are not working. I also checked that JsonPath(https://github.com/json-path/JsonPath) does not have this operators, does that mean these operatoes `% &amp;` are not supported? ","title":"Kafka transforms.Filter to filter records based on Odd/Even numbers is not working with bitwise operator &amp; and remainder % operator","body":"<p>I have been trying to find a way to include a filter that discards the records with a particular value, in the Couchbase source connector. Lets say, I have the JSON: <code>{&quot;key&quot;:10004, &quot;name&quot;:&quot;testt&quot;}</code> and I want to discard all the records that have the key with all odd numbers . Is there a way to do that without having to use confluent platform?</p>\n<p>I have installed confluent hub client and tried <code>filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;</code>, (bitwise operator) and also tried  <code>&quot;$[?(@.key % 2 != 0)]&quot;</code>. Seems like these both are not working. I also checked that JsonPath(<a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath</a>) does not have this operators, does that mean these operatoes <code>% &amp;</code> are not supported?</p>\n"},{"tags":["java","jenkins","testng","microsoft-teams","extentreports"],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685453744,"creation_date":1685453744,"question_id":76365419,"body_markdown":"I have a requirement to update a Microsoft teams channel with Test Results (**Success, Failure, Skipped**) after my test suite has completed, which consists of a Java/Maven/TestNG stack and uses extent reports (version 5.0.9) as the reporting tool.  Currently there is a Jenkins pipeline that sends a POST request to the teams channel via shell curl command, but since this is requirement requires the test results it seems like the course of action would be to use an httpClient to POST the request to the teams channel via the webhook and send these custom results along with the required teams fields.\r\n\r\nHow can this be done?  I have the below code which is in my @AfterMethod to increment the results for each status coming from each ITestResult (which I&#39;m unsure how to use in the POST request), along with the current CURL command from Jenkins:\r\n\r\n```\r\n@AfterMethod\r\npublic void closure(ITestResult res) {\r\n\ttry {\r\n\t\tif (res.getStatus() == ITestResult.FAILURE) {\r\n\t\t\tString failScreenshotPath = ExtentCustom.getScreenshot(res.getName());\r\n\t\t\tExtentCustom.eachTest.log(Status.FAIL, ExtentCustom.getFailFont(&quot;Snapshot below : &quot; + res.getThrowable()),\r\n\t\t\t\t\tMediaEntityBuilder.createScreenCaptureFromPath(failScreenshotPath).build());\r\n\t\t\tsuccess_tests++;\r\n\t\t} else if (res.getStatus() == ITestResult.SUCCESS) {\r\n\t\t\tString passScreenshotPath = ExtentCustom.getScreenshot(res.getName());\r\n\t\t\tExtentCustom.eachTest.log(Status.PASS, ExtentCustom.getPassFont(&quot;Snapshot below : &quot;),\r\n\t\t\t\t\tMediaEntityBuilder.createScreenCaptureFromPath(passScreenshotPath).build());\r\n\t\t\tfail_tests++;\r\n\t\t} else {\r\n\t\t\tString skipScreenshotPath = ExtentCustom.getScreenshot(res.getName());\r\n\t\t\tExtentCustom.eachTest.log(Status.SKIP, ExtentCustom.getSkipFont(&quot;Snapshot below : &quot;),\r\n\t\t\t\t\tMediaEntityBuilder.createScreenCaptureFromPath(skipScreenshotPath).build());\r\n\t\t\tskip_tests++;\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nPOST via CURL command in Jenkins:\r\n```\r\nsh(&quot;curl -v --location --request POST &#39;https://xyzco.webhook.office.com/webhookb2/c62020bd-2ad9-4a3a-84bb-65979f2d6873@bcfa3e87-841e-48c7-983b-584159dd1a69/IncomingWebhook/3281bd73bb4048229cac2c68d9dd28b7/1b2d22b1-e878-49b5-9f42-4c18d5bf853d&#39; --header &#39;Content-Type: application/json&#39; --data &#39;{\\&quot;@type\\&quot;: \\&quot;MessageCard\\&quot;,\\&quot;@context\\&quot;: \\&quot;http://schema.org/extensions\\&quot;,\\&quot;themeColor\\&quot;: \\&quot;#00FF00\\&quot;,\\&quot;summary\\&quot;: \\&quot;Weekend UI Validation Success\\&quot;,\\&quot;sections\\&quot;: [{\\&quot;activityTitle\\&quot;: \\&quot;Weekend UI Validation Succesfull!!\\&quot;,\\&quot;activitySubtitle\\&quot;: \\&quot;Build Results\\&quot;,\\&quot;activityImage\\&quot;: \\&quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png\\&quot;,\\&quot;facts\\&quot;: [{\\&quot;name\\&quot;: \\&quot;Message\\&quot;,\\&quot;value\\&quot;: \\&quot; Weekend UI Validation. Validation report: &lt;a href=${Report_URL}&gt; Click here &lt;/a&gt;\\&quot;}, {\\&quot;name\\&quot;: \\&quot;Status\\&quot;,\\&quot;value\\&quot;: \\&quot;Success\\&quot;},{\\&quot;name\\&quot;: \\&quot;Job\\&quot;,\\&quot;value\\&quot;: \\&quot;${JOB_NAME}:${BUILD_NUMBER}\\&quot;}],\\&quot;markdown\\&quot;: true}]}&#39;&quot;)\r\n```\r\n\r\nGiven this, I was thinking of creating method for this POST request using an http client such as Rest-Assured.  The details of the Report (${Report_URL}) comes from Jenkins using the publish html plugin.  How can I mimic something similar while also including the Test Results?  I am having a hard time finding any examples online, so just seeing if anyone has an suggestion.  Please let me know!","title":"How to Include Test Results from TestNG when sending a Microsoft Teams MessageCard POST request","body":"<p>I have a requirement to update a Microsoft teams channel with Test Results (<strong>Success, Failure, Skipped</strong>) after my test suite has completed, which consists of a Java/Maven/TestNG stack and uses extent reports (version 5.0.9) as the reporting tool.  Currently there is a Jenkins pipeline that sends a POST request to the teams channel via shell curl command, but since this is requirement requires the test results it seems like the course of action would be to use an httpClient to POST the request to the teams channel via the webhook and send these custom results along with the required teams fields.</p>\n<p>How can this be done?  I have the below code which is in my @AfterMethod to increment the results for each status coming from each ITestResult (which I'm unsure how to use in the POST request), along with the current CURL command from Jenkins:</p>\n<pre><code>@AfterMethod\npublic void closure(ITestResult res) {\n    try {\n        if (res.getStatus() == ITestResult.FAILURE) {\n            String failScreenshotPath = ExtentCustom.getScreenshot(res.getName());\n            ExtentCustom.eachTest.log(Status.FAIL, ExtentCustom.getFailFont(&quot;Snapshot below : &quot; + res.getThrowable()),\n                    MediaEntityBuilder.createScreenCaptureFromPath(failScreenshotPath).build());\n            success_tests++;\n        } else if (res.getStatus() == ITestResult.SUCCESS) {\n            String passScreenshotPath = ExtentCustom.getScreenshot(res.getName());\n            ExtentCustom.eachTest.log(Status.PASS, ExtentCustom.getPassFont(&quot;Snapshot below : &quot;),\n                    MediaEntityBuilder.createScreenCaptureFromPath(passScreenshotPath).build());\n            fail_tests++;\n        } else {\n            String skipScreenshotPath = ExtentCustom.getScreenshot(res.getName());\n            ExtentCustom.eachTest.log(Status.SKIP, ExtentCustom.getSkipFont(&quot;Snapshot below : &quot;),\n                    MediaEntityBuilder.createScreenCaptureFromPath(skipScreenshotPath).build());\n            skip_tests++;\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>POST via CURL command in Jenkins:</p>\n<pre><code>sh(&quot;curl -v --location --request POST 'https://xyzco.webhook.office.com/webhookb2/c62020bd-2ad9-4a3a-84bb-65979f2d6873@bcfa3e87-841e-48c7-983b-584159dd1a69/IncomingWebhook/3281bd73bb4048229cac2c68d9dd28b7/1b2d22b1-e878-49b5-9f42-4c18d5bf853d' --header 'Content-Type: application/json' --data '{\\&quot;@type\\&quot;: \\&quot;MessageCard\\&quot;,\\&quot;@context\\&quot;: \\&quot;http://schema.org/extensions\\&quot;,\\&quot;themeColor\\&quot;: \\&quot;#00FF00\\&quot;,\\&quot;summary\\&quot;: \\&quot;Weekend UI Validation Success\\&quot;,\\&quot;sections\\&quot;: [{\\&quot;activityTitle\\&quot;: \\&quot;Weekend UI Validation Succesfull!!\\&quot;,\\&quot;activitySubtitle\\&quot;: \\&quot;Build Results\\&quot;,\\&quot;activityImage\\&quot;: \\&quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png\\&quot;,\\&quot;facts\\&quot;: [{\\&quot;name\\&quot;: \\&quot;Message\\&quot;,\\&quot;value\\&quot;: \\&quot; Weekend UI Validation. Validation report: &lt;a href=${Report_URL}&gt; Click here &lt;/a&gt;\\&quot;}, {\\&quot;name\\&quot;: \\&quot;Status\\&quot;,\\&quot;value\\&quot;: \\&quot;Success\\&quot;},{\\&quot;name\\&quot;: \\&quot;Job\\&quot;,\\&quot;value\\&quot;: \\&quot;${JOB_NAME}:${BUILD_NUMBER}\\&quot;}],\\&quot;markdown\\&quot;: true}]}'&quot;)\n</code></pre>\n<p>Given this, I was thinking of creating method for this POST request using an http client such as Rest-Assured.  The details of the Report (${Report_URL}) comes from Jenkins using the publish html plugin.  How can I mimic something similar while also including the Test Results?  I am having a hard time finding any examples online, so just seeing if anyone has an suggestion.  Please let me know!</p>\n"},{"tags":["java","gradle","publish"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":1,"creation_date":1685437461,"post_id":76363003,"comment_id":134656020,"body_markdown":"Shadow JAR is probably the right direction, you can look into excluding dependencies here: https://imperceptiblethoughts.com/shadow/configuration/dependencies/#filtering-dependencies","body":"Shadow JAR is probably the right direction, you can look into excluding dependencies here: <a href=\"https://imperceptiblethoughts.com/shadow/configuration/dependencies/#filtering-dependencies\" rel=\"nofollow noreferrer\">imperceptiblethoughts.com/shadow/configuration/dependencies/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":341845,"reputation":19101,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"score":0,"creation_date":1685451920,"post_id":76363003,"comment_id":134659276,"body_markdown":"That worked for creating the JAR, but now when I publish to JFrog using the `maven-publish` plugin, the published POM is having no dependencies. While I want it to include the `common` spring dependencies. otherwise, who ever depend on the new JAR will have to include the spring dependencies manually","body":"That worked for creating the JAR, but now when I publish to JFrog using the <code>maven-publish</code> plugin, the published POM is having no dependencies. While I want it to include the <code>common</code> spring dependencies. otherwise, who ever depend on the new JAR will have to include the spring dependencies manually"}],"answers":[{"comments":[{"owner":{"account_id":341845,"reputation":19101,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"score":0,"creation_date":1685451927,"post_id":76363115,"comment_id":134659277,"body_markdown":"That worked for creating the JAR, but now when I publish to JFrog using the `maven-publish` plugin, the published POM is having no dependencies. While I want it to include the `common` spring dependencies. otherwise, who ever depend on the new JAR will have to include the spring dependencies manually","body":"That worked for creating the JAR, but now when I publish to JFrog using the <code>maven-publish</code> plugin, the published POM is having no dependencies. While I want it to include the <code>common</code> spring dependencies. otherwise, who ever depend on the new JAR will have to include the spring dependencies manually"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1685453518,"post_id":76363115,"comment_id":134659706,"body_markdown":"@RoeeGavirel please see https://stackoverflow.com/a/39486292/12473843","body":"@RoeeGavirel please see <a href=\"https://stackoverflow.com/a/39486292/12473843\">stackoverflow.com/a/39486292/12473843</a>"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685453570,"creation_date":1685436516,"answer_id":76363115,"question_id":76363003,"body_markdown":"To achieve your goal you can use [shadowing][1], see this answer: https://stackoverflow.com/a/59104725/12473843\r\n\r\nP.S. To fix issue with Maven-publish plugin not including dependencies into generated pom.xml file please refer https://stackoverflow.com/a/39486292/12473843\r\n\r\n  [1]: https://plugins.gradle.org/plugin/com.github.johnrengelman.shadow","title":"How to build and publish single JAR for multiple Gradle modules","body":"<p>To achieve your goal you can use <a href=\"https://plugins.gradle.org/plugin/com.github.johnrengelman.shadow\" rel=\"nofollow noreferrer\">shadowing</a>, see this answer: <a href=\"https://stackoverflow.com/a/59104725/12473843\">https://stackoverflow.com/a/59104725/12473843</a></p>\n<p>P.S. To fix issue with Maven-publish plugin not including dependencies into generated pom.xml file please refer <a href=\"https://stackoverflow.com/a/39486292/12473843\">https://stackoverflow.com/a/39486292/12473843</a></p>\n"}],"owner":{"account_id":341845,"reputation":19101,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76363115,"answer_count":1,"score":1,"last_activity_date":1685453570,"creation_date":1685435711,"question_id":76363003,"body_markdown":"For the simplicity, this is the basic structure of my project:\r\n\r\n```\r\nroot\r\n|-- api\r\n|   |-- src\r\n|   `-- build.gradle (dependency on common)\r\n|-- common\r\n|   |-- src // (include common DTOs)\r\n|   `-- build.gradle (dependency on some spring modules)\r\n|-- sdk \r\n|   |-- src\r\n|   `-- build.gradle  (dependency on common)\r\n```\r\n\r\nI want to publish the `sdk` module including the `common` sources:\r\n\r\nThis is what I tried:\r\n\r\n1. Just building the `sdk` project creates a JAR containing only the `sdk` source expecting the `common` sources to be available on the class part when running.\r\n2. I tried fat-jar (shadow-jar) but that included the Spring dependencies in it, while I would like to keep them out and only ref them in the POM file I publish to JFrog\r\n\r\nWhat I&#39;m trying to do is to build JAR for the `sdk` module that will include the sources of both `sdk` and `common` so I would be able to publish it to JFrog and allow my client to use it, and have access to the DTOs in common. Also the POM that is published with the JAR should include the dependencies in Spring as the `common` module depending on.\r\n\r\nIs it possible?\r\n","title":"How to build and publish single JAR for multiple Gradle modules","body":"<p>For the simplicity, this is the basic structure of my project:</p>\n<pre><code>root\n|-- api\n|   |-- src\n|   `-- build.gradle (dependency on common)\n|-- common\n|   |-- src // (include common DTOs)\n|   `-- build.gradle (dependency on some spring modules)\n|-- sdk \n|   |-- src\n|   `-- build.gradle  (dependency on common)\n</code></pre>\n<p>I want to publish the <code>sdk</code> module including the <code>common</code> sources:</p>\n<p>This is what I tried:</p>\n<ol>\n<li>Just building the <code>sdk</code> project creates a JAR containing only the <code>sdk</code> source expecting the <code>common</code> sources to be available on the class part when running.</li>\n<li>I tried fat-jar (shadow-jar) but that included the Spring dependencies in it, while I would like to keep them out and only ref them in the POM file I publish to JFrog</li>\n</ol>\n<p>What I'm trying to do is to build JAR for the <code>sdk</code> module that will include the sources of both <code>sdk</code> and <code>common</code> so I would be able to publish it to JFrog and allow my client to use it, and have access to the DTOs in common. Also the POM that is published with the JAR should include the dependencies in Spring as the <code>common</code> module depending on.</p>\n<p>Is it possible?</p>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1684219644,"post_id":76260016,"comment_id":134481371,"body_markdown":"Report any issues with the migration [in Github issues](https://github.com/TimefoldAI/timefold-solver/issues?q=is%3Aissue+is%3Aopen+label%3Atimefold-solver-migration).","body":"Report any issues with the migration <a href=\"https://github.com/TimefoldAI/timefold-solver/issues?q=is%3Aissue+is%3Aopen+label%3Atimefold-solver-migration\" rel=\"nofollow noreferrer\">in Github issues</a>."},{"owner":{"account_id":1504788,"reputation":302,"user_id":1408443,"accept_rate":50,"display_name":"elk-tamer"},"score":1,"creation_date":1684725424,"post_id":76260016,"comment_id":134553539,"body_markdown":"I get this error when I run that mvn command(with ./mvnw )  Error resolving version for plugin &#39;.recipeArtifactCoordinates=ai.timefold.solver:timefold-solver-migration&#39; from the repositories [local (C:\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository","body":"I get this error when I run that mvn command(with ./mvnw )  Error resolving version for plugin &#39;.recipeArtifactCoordinates=ai.timefold.solver:timefold-solv&zwnj;&#8203;er-migration&#39; from the repositories [local (C:\\.m2\\repository), central (<a href=\"https://repo.maven.apache.org/maven2)]\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2)]</a>: Plugin not found in any plugin repository"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":1,"creation_date":1684961223,"post_id":76260016,"comment_id":134595804,"body_markdown":"Are you sure that this is the entire command? From the error message (which actually includes *property name* and not a plugin name, I am guessing at a typo on the command line.","body":"Are you sure that this is the entire command? From the error message (which actually includes <i>property name</i> and not a plugin name, I am guessing at a typo on the command line."},{"owner":{"account_id":1504788,"reputation":302,"user_id":1408443,"accept_rate":50,"display_name":"elk-tamer"},"score":0,"creation_date":1685124995,"post_id":76260016,"comment_id":134622838,"body_markdown":"No I&#39;m not sure. I did a copy/paste of the posted cmd&quot;mvn org.openrewrite.maven:rewrite-maven-plugin:4.45.3:run -Drewrite.recipeArtifactCoordinates=ai.timefold.solver:timefold-solver-migration:0.8.38 -Drewrite.activeRecipes=ai.timefold.solver.migration.ToLatest&quot; and ran it using ./mvnw instead of mvn in a windows terminal.","body":"No I&#39;m not sure. I did a copy/paste of the posted cmd&quot;mvn org.openrewrite.maven:rewrite-maven-plugin:4.45.3:run -Drewrite.recipeArtifactCoordinates=ai.timefold.solver:timef&zwnj;&#8203;old-solver-migration&zwnj;&#8203;:0.8.38 -Drewrite.activeRecipes=ai.timefold.solver.migration.ToLates&zwnj;&#8203;t&quot; and ran it using ./mvnw instead of mvn in a windows terminal."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1685453414,"post_id":76260016,"comment_id":134659681,"body_markdown":"I&#39;ve updated the answer to rewrite 4.46 and timefold 0.8.39, can you try again? I &#39;d love to get to the bottom of this.","body":"I&#39;ve updated the answer to rewrite 4.46 and timefold 0.8.39, can you try again? I &#39;d love to get to the bottom of this."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1685453521,"post_id":76260016,"comment_id":134659707,"body_markdown":"What does `mvnw --version` print?","body":"What does <code>mvnw --version</code> print?"}],"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685453362,"creation_date":1684219179,"answer_id":76260016,"question_id":76260015,"body_markdown":"No need to manually change imports statements, dependencies, etc. Just run a single command:\r\n\r\n 1. Pick the right Timefold version:\r\n    * If you&#39;re on OptaPlanner 8, use Timefold 0.8.x.\r\n    * If you&#39;re on OptaPlanner 9, use Timefold 1.x (currently 0.9.x).\r\n\r\n 2. Copy paste the Maven or Gradle command [from here][1]. For Maven it looks like this:\r\n\r\n        mvn org.openrewrite.maven:rewrite-maven-plugin:4.46.0:run -Drewrite.recipeArtifactCoordinates=ai.timefold.solver:timefold-solver-migration:0.8.39 -Drewrite.activeRecipes=ai.timefold.solver.migration.ToLatest\r\n\r\n 3. Run the solver in your application. Verify **the score calculation speed is faster** now. Look at the last log message:\r\n\r\n         INFO  Solving ended: ... score calculation speed (103322/sec) ...\r\n\r\n 4. Commit the local changes.\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/#upgrade-from-optaplanner-to-timefold","title":"How do I upgrade from OptaPlanner to Timefold?","body":"<p>No need to manually change imports statements, dependencies, etc. Just run a single command:</p>\n<ol>\n<li><p>Pick the right Timefold version:</p>\n<ul>\n<li>If you're on OptaPlanner 8, use Timefold 0.8.x.</li>\n<li>If you're on OptaPlanner 9, use Timefold 1.x (currently 0.9.x).</li>\n</ul>\n</li>\n<li><p>Copy paste the Maven or Gradle command <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/#upgrade-from-optaplanner-to-timefold\" rel=\"nofollow noreferrer\">from here</a>. For Maven it looks like this:</p>\n<pre><code>mvn org.openrewrite.maven:rewrite-maven-plugin:4.46.0:run -Drewrite.recipeArtifactCoordinates=ai.timefold.solver:timefold-solver-migration:0.8.39 -Drewrite.activeRecipes=ai.timefold.solver.migration.ToLatest\n</code></pre>\n</li>\n<li><p>Run the solver in your application. Verify <strong>the score calculation speed is faster</strong> now. Look at the last log message:</p>\n<pre><code> INFO  Solving ended: ... score calculation speed (103322/sec) ...\n</code></pre>\n</li>\n<li><p>Commit the local changes.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1685453362,"creation_date":1684219179,"question_id":76260015,"body_markdown":"[We forked OptaPlanner as Timefold][1] some time ago. We often get this question:\r\n\r\nTimefold changes all import statements and dependencies. How do I migrate an OptaPlanner codebase to Timefold efficiently?\r\n\r\n\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/","title":"How do I upgrade from OptaPlanner to Timefold?","body":"<p><a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"noreferrer\">We forked OptaPlanner as Timefold</a> some time ago. We often get this question:</p>\n<p>Timefold changes all import statements and dependencies. How do I migrate an OptaPlanner codebase to Timefold efficiently?</p>\n"},{"tags":["java","spring","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":1088907,"reputation":1550,"user_id":1083981,"display_name":"nurisezgin"},"score":0,"creation_date":1633548627,"post_id":69470003,"comment_id":122792060,"body_markdown":"Hi notFound, maybe I&#39;m wrong. In your samples even I couldn&#39;t see course&#39;s name correctly initialized. Are they actual table rows or arbitrary values under name column?","body":"Hi notFound, maybe I&#39;m wrong. In your samples even I couldn&#39;t see course&#39;s name correctly initialized. Are they actual table rows or arbitrary values under name column?"},{"owner":{"account_id":13542573,"reputation":50,"user_id":9769888,"display_name":"notFound"},"score":0,"creation_date":1633628917,"post_id":69470003,"comment_id":122817216,"body_markdown":"Hi  nurisezgin, name is set via Constructor which takes name as the parameter.","body":"Hi  nurisezgin, name is set via Constructor which takes name as the parameter."}],"answers":[{"tags":[],"owner":{"account_id":1088907,"reputation":1550,"user_id":1083981,"display_name":"nurisezgin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633549742,"creation_date":1633549742,"answer_id":69471911,"question_id":69470003,"body_markdown":"I tried myself quickly and it worked. I&#39;m sharing actual codes, hope you can get benefit from them.\r\n\r\nFirstly, here is my pom.xml. As you can use I&#39;m using Java11 and from dependency perspective only I have h2 database and spring-data-jpa.\r\n\r\n    \t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThen, the entity which is almost as same as yours.\r\n\r\n    @Entity\r\n    @Table(name = &quot;course&quot;)\r\n    public class Course\r\n    {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(name=&quot;NAME&quot;, nullable = false)\r\n        private String name;\r\n    \r\n        @UpdateTimestamp\r\n        private LocalDateTime lastUpdatedDate;\r\n    \r\n        @CreationTimestamp\r\n        private LocalDateTime createdDate;\r\n\r\n    }\r\n\r\nAnd the last thing would be queries.\r\n\r\n    public void saveCourses()\r\n    {\r\n        Course course = new Course();\r\n        course.setName(&quot;Course New!&quot;);\r\n        em.persist(course);\r\n    \r\n        Course retrieved = (Course) em.createQuery(&quot;SELECT c FROM Course c&quot;)\r\n                                   .getSingleResult();\r\n    \r\n        System.out.println(retrieved.getName() + &quot;, &quot; + retrieved.getCreatedDate() + &quot;, &quot; + retrieved.getLastUpdatedDate());\r\n    \r\n    \tretrieved.setName(&quot;Course New2!&quot;);\r\n    \tem.persist(retrieved);\r\n    \r\n    \tretrieved = (Course) em.createQuery(&quot;SELECT c FROM Course c&quot;)\r\n    \t\t\t\t\t\t   .getSingleResult();\r\n    \r\n    \tSystem.out.println(retrieved.getName() + &quot;, &quot; + retrieved.getCreatedDate() + &quot;, &quot; + retrieved.getLastUpdatedDate());\r\n    }","title":"Creation date is set as null by hibernate, when changes are made during persist operation","body":"<p>I tried myself quickly and it worked. I'm sharing actual codes, hope you can get benefit from them.</p>\n<p>Firstly, here is my pom.xml. As you can use I'm using Java11 and from dependency perspective only I have h2 database and spring-data-jpa.</p>\n<pre><code>    &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then, the entity which is almost as same as yours.</p>\n<pre><code>@Entity\n@Table(name = &quot;course&quot;)\npublic class Course\n{\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(name=&quot;NAME&quot;, nullable = false)\n    private String name;\n\n    @UpdateTimestamp\n    private LocalDateTime lastUpdatedDate;\n\n    @CreationTimestamp\n    private LocalDateTime createdDate;\n\n}\n</code></pre>\n<p>And the last thing would be queries.</p>\n<pre><code>public void saveCourses()\n{\n    Course course = new Course();\n    course.setName(&quot;Course New!&quot;);\n    em.persist(course);\n\n    Course retrieved = (Course) em.createQuery(&quot;SELECT c FROM Course c&quot;)\n                               .getSingleResult();\n\n    System.out.println(retrieved.getName() + &quot;, &quot; + retrieved.getCreatedDate() + &quot;, &quot; + retrieved.getLastUpdatedDate());\n\n    retrieved.setName(&quot;Course New2!&quot;);\n    em.persist(retrieved);\n\n    retrieved = (Course) em.createQuery(&quot;SELECT c FROM Course c&quot;)\n                           .getSingleResult();\n\n    System.out.println(retrieved.getName() + &quot;, &quot; + retrieved.getCreatedDate() + &quot;, &quot; + retrieved.getLastUpdatedDate());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7569347,"reputation":3,"user_id":5743791,"display_name":"Cube Smithy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676585084,"creation_date":1676585084,"answer_id":75478364,"question_id":69470003,"body_markdown":"Here&#39;s how I was able to preserve created_by and created_date\r\n\r\n    @CreatedBy\r\n    @Column(updatable = false)\r\n    private String createdBy;\r\n    \r\n    @CreatedDate\r\n    @Column(updatable = false)\r\n    private Date createdAt;\r\n\r\nUnfortunately I also couldn&#39;t find out *why* the fields are nulled on update, but this solution does prevent them from being nulled out.","title":"Creation date is set as null by hibernate, when changes are made during persist operation","body":"<p>Here's how I was able to preserve created_by and created_date</p>\n<pre><code>@CreatedBy\n@Column(updatable = false)\nprivate String createdBy;\n\n@CreatedDate\n@Column(updatable = false)\nprivate Date createdAt;\n</code></pre>\n<p>Unfortunately I also couldn't find out <em>why</em> the fields are nulled on update, but this solution does prevent them from being nulled out.</p>\n"},{"tags":[],"owner":{"account_id":12449299,"reputation":101,"user_id":9064478,"display_name":"Артём Ощепков"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685453220,"creation_date":1685453220,"answer_id":76365343,"question_id":69470003,"body_markdown":"In my case, using `saveAndFlush(Entity)` instead of `save(Entity)` solved the problem.","title":"Creation date is set as null by hibernate, when changes are made during persist operation","body":"<p>In my case, using <code>saveAndFlush(Entity)</code> instead of <code>save(Entity)</code> solved the problem.</p>\n"}],"owner":{"account_id":13542573,"reputation":50,"user_id":9769888,"display_name":"notFound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685453220,"creation_date":1633540462,"question_id":69470003,"body_markdown":"I am creating a course object and persisting in H2 database using hibernate and setting the creation date using @CreationTimestamp annotation\r\n\r\n```\r\n    @Entity\r\n@Table(name = &quot;COURSE_DETAILS&quot;)\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(name=&quot;NAME&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @UpdateTimestamp\r\n    private LocalDateTime lastUpdatedDate;\r\n\r\n    @CreationTimestamp\r\n    private LocalDateTime createdDate;\r\n// constructors and getter and setters\r\n}\r\n\r\n```\r\n```\r\n@Repository\r\n@Transactional\r\npublic class CourseRepository {\r\n\r\n @Autowired\r\n    private EntityManager entityManager;\r\n\r\npublic void play(){\r\n     Course course = new Course(&quot;New Course&quot;);\r\n        entityManager.persist(course);\r\n        course.setName(&quot;Not null&quot;);\r\n}\r\n}\r\n```\r\n\r\nI am getting following entry in the database\r\n&lt;br&gt;\r\n\r\nID  \tCREATED_DATE  \tLAST_UPDATED_DATE  \t            NAME  \r\n&lt;br&gt;\r\n1\t    null\t        2021-10-06 22:31:43.465\t        Not null\r\n\r\nbut when i change the code to \r\n\r\n\r\n```\r\nCourse course = new Course(&quot;New Course&quot;);\r\n        entityManager.persist(course);\r\n        course.setName(&quot;Not null&quot;);\r\n        entityManager.flush();\r\n```\r\n\r\nI am getting following entry in db\r\n&lt;br&gt;\r\nID  \tCREATED_DATE  \t          LAST_UPDATED_DATE  \t    NAME \r\n&lt;br&gt;\r\n1\t    2021-10-06 22:38:37.941\t  2021-10-06 22:38:37.963\tNot null\r\n\r\nWhy the creation date is set to null in first case.","title":"Creation date is set as null by hibernate, when changes are made during persist operation","body":"<p>I am creating a course object and persisting in H2 database using hibernate and setting the creation date using @CreationTimestamp annotation</p>\n<pre><code>    @Entity\n@Table(name = &quot;COURSE_DETAILS&quot;)\npublic class Course {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(name=&quot;NAME&quot;, nullable = false)\n    private String name;\n\n    @UpdateTimestamp\n    private LocalDateTime lastUpdatedDate;\n\n    @CreationTimestamp\n    private LocalDateTime createdDate;\n// constructors and getter and setters\n}\n\n</code></pre>\n<pre><code>@Repository\n@Transactional\npublic class CourseRepository {\n\n @Autowired\n    private EntityManager entityManager;\n\npublic void play(){\n     Course course = new Course(&quot;New Course&quot;);\n        entityManager.persist(course);\n        course.setName(&quot;Not null&quot;);\n}\n}\n</code></pre>\n<p>I am getting following entry in the database\n<br></p>\n<p>ID      CREATED_DATE    LAST_UPDATED_DATE               NAME<br />\n<br>\n1       null            2021-10-06 22:31:43.465         Not null</p>\n<p>but when i change the code to</p>\n<pre><code>Course course = new Course(&quot;New Course&quot;);\n        entityManager.persist(course);\n        course.setName(&quot;Not null&quot;);\n        entityManager.flush();\n</code></pre>\n<p>I am getting following entry in db\n<br>\nID      CREATED_DATE              LAST_UPDATED_DATE         NAME\n<br>\n1       2021-10-06 22:38:37.941   2021-10-06 22:38:37.963   Not null</p>\n<p>Why the creation date is set to null in first case.</p>\n"},{"tags":["java","android-recyclerview"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685450596,"post_id":76364419,"comment_id":134658946,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28709590,"reputation":1,"user_id":21985326,"display_name":"jgm gm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685452819,"creation_date":1685446759,"question_id":76364419,"body_markdown":"Good morning.\r\nI have the following problem that I am not able to solve, and I have been after it for almost 1 month and I am going crazy.\r\nLet me tell you. I have a sqlite database where I store fruit name and fruit photo.\r\nI make a query to the table and I have fruit name / fruit photo stored in an array.\r\nUntil then there is no problem.\r\nNow, I have a Recyclerview with its Adapter, in the onBindViewHolder procedure, I have a holder called FruitAdapter and an int with the position of the array.\r\nI create 2 variables\r\n\r\n    String fruitphoto = fruitlist.get(position).getfruitImage\r\n    String name = fruitlist.get(position).getFruitName.\r\nIn both variables I have loaded a string, both the name of the fruit and the name of the photo of the fruit.\r\nWhen I want to pass the variables to the holder so that it is displayed, I do the following:\r\n\r\n    holder.text.setText(name)\r\nThis works perfectly, but in the case of the image, I do the following:\r\n\r\n    holder.fruitimage .setImageResource(parseInt(image)) \r\nbecause setImageResource has to have an int value.\r\nWell, the above doesn&#39;t work.\r\nI have tried to perform:\r\n\r\n    string uri = &quot;@drawable/&quot;+image;\r\n    int ImageResource = getResources().getIdentifier(uri,null,getPackageName());\r\n    holder.image.setImageResource(imageResource)\r\n\r\nAnd I have tried more things, but none work for me.\r\nDoes anyone know how to do this? How to make that String become an int, since SetImageResource needs an int as input.\r\n\r\nThank you very much to all.\r\n  \r\nI need to know, please, how to solve the SetImageResource problem.\r\nIt is always the same problem, I am not able to pass the value to the procedure that it has to load","title":"setImageResource don&#39;t load image","body":"<p>Good morning.\nI have the following problem that I am not able to solve, and I have been after it for almost 1 month and I am going crazy.\nLet me tell you. I have a sqlite database where I store fruit name and fruit photo.\nI make a query to the table and I have fruit name / fruit photo stored in an array.\nUntil then there is no problem.\nNow, I have a Recyclerview with its Adapter, in the onBindViewHolder procedure, I have a holder called FruitAdapter and an int with the position of the array.\nI create 2 variables</p>\n<pre><code>String fruitphoto = fruitlist.get(position).getfruitImage\nString name = fruitlist.get(position).getFruitName.\n</code></pre>\n<p>In both variables I have loaded a string, both the name of the fruit and the name of the photo of the fruit.\nWhen I want to pass the variables to the holder so that it is displayed, I do the following:</p>\n<pre><code>holder.text.setText(name)\n</code></pre>\n<p>This works perfectly, but in the case of the image, I do the following:</p>\n<pre><code>holder.fruitimage .setImageResource(parseInt(image)) \n</code></pre>\n<p>because setImageResource has to have an int value.\nWell, the above doesn't work.\nI have tried to perform:</p>\n<pre><code>string uri = &quot;@drawable/&quot;+image;\nint ImageResource = getResources().getIdentifier(uri,null,getPackageName());\nholder.image.setImageResource(imageResource)\n</code></pre>\n<p>And I have tried more things, but none work for me.\nDoes anyone know how to do this? How to make that String become an int, since SetImageResource needs an int as input.</p>\n<p>Thank you very much to all.</p>\n<p>I need to know, please, how to solve the SetImageResource problem.\nIt is always the same problem, I am not able to pass the value to the procedure that it has to load</p>\n"},{"tags":["java","junit","annotations"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1685451773,"post_id":76365027,"comment_id":134659233,"body_markdown":"What is the command used to execute this program?  Is it being run from the IDE?  Are you running it from the command line?  Are you passing `-cp` parameter (class path) so that it finds JUnit at run time. Having a dependency in pom.xml will result in build success when built properly, but it does not mean it will run with that jar in class path, if not run properly. Override.class is JDK&#39;s own annotation - https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html - so it will always be in class path. But Test.class may not be.  Put `java` commands used to run both ways in question.","body":"What is the command used to execute this program?  Is it being run from the IDE?  Are you running it from the command line?  Are you passing <code>-cp</code> parameter (class path) so that it finds JUnit at run time. Having a dependency in pom.xml will result in build success when built properly, but it does not mean it will run with that jar in class path, if not run properly. Override.class is JDK&#39;s own annotation - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Override.html</a> - so it will always be in class path. But Test.class may not be.  Put <code>java</code> commands used to run both ways in question."},{"owner":{"account_id":27280708,"reputation":3,"user_id":20800648,"display_name":"Student"},"score":0,"creation_date":1685452319,"post_id":76365027,"comment_id":134659403,"body_markdown":"I execute the command from the terminal, java Lab12 className, where Lab12 is the name of the class to be executed and className the name of the class parameter(a class with getters and setters and 2 getters have @Test annotation). The error is from when I had getAnnotation(Test.class).","body":"I execute the command from the terminal, java Lab12 className, where Lab12 is the name of the class to be executed and className the name of the class parameter(a class with getters and setters and 2 getters have @Test annotation). The error is from when I had getAnnotation(Test.class)."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1685452321,"post_id":76365027,"comment_id":134659404,"body_markdown":"```java -cp .;&lt;path_to_junit_jar&gt; Lab12 &lt;ClassName_to check&gt;``` - did you try this to run - assuming you are in the base directory where compiled `.class` files are there?","body":"<code>java -cp .;&lt;path_to_junit_jar&gt; Lab12 &lt;ClassName_to check&gt;</code> - did you try this to run - assuming you are in the base directory where compiled <code>.class</code> files are there?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1685452395,"post_id":76365027,"comment_id":134659422,"body_markdown":"Ok - so in your `java` command, you have not passed path to the JUnit JAR file, so it cannot use anything other than JDK classes &amp; your current directory .class files.  Pass `.cp .;&lt;path_to_junit_jar&gt;` so that at run time, it knows where junit jar file is, and is able to find `Test` class from it.","body":"Ok - so in your <code>java</code> command, you have not passed path to the JUnit JAR file, so it cannot use anything other than JDK classes &amp; your current directory .class files.  Pass <code>.cp .;&lt;path_to_junit_jar&gt;</code> so that at run time, it knows where junit jar file is, and is able to find <code>Test</code> class from it."}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685452705,"creation_date":1685452705,"answer_id":76365290,"question_id":76365027,"body_markdown":"Instead of running the program as:\r\n```\r\njava Lab12 className\r\n```\r\nTry running it like this:\r\n```\r\njava -cp .;&lt;path_to_junit_jar&gt; Lab12 &lt;className&gt;\r\n```\r\n\r\n`&lt;path_to_junit_jar&gt;` - should be the full path to the junit.jar.\r\nThis needs to be given so that JVM also knows at run time where that jar file is. `pom.xml` will not be used when your run your program. It will only be used when you run `mvn build`, etc. maven commands.\r\nSo, at run time, your command does not find JUnit at all.\r\n\r\nAlso note that, when you run that test method via reflection from your class - e.g. `method.invoke(null)` - if your test class has further dependencies - e.g. mockito or DB jar (e.g. mysql connector/j) or anything else - then those will also need to be added in `-cp` list of class path jars.","title":"How can I fix ClassNotFoundException when using getAnnotation(Test.class) in my Java program with JUnit?","body":"<p>Instead of running the program as:</p>\n<pre><code>java Lab12 className\n</code></pre>\n<p>Try running it like this:</p>\n<pre><code>java -cp .;&lt;path_to_junit_jar&gt; Lab12 &lt;className&gt;\n</code></pre>\n<p><code>&lt;path_to_junit_jar&gt;</code> - should be the full path to the junit.jar.\nThis needs to be given so that JVM also knows at run time where that jar file is. <code>pom.xml</code> will not be used when your run your program. It will only be used when you run <code>mvn build</code>, etc. maven commands.\nSo, at run time, your command does not find JUnit at all.</p>\n<p>Also note that, when you run that test method via reflection from your class - e.g. <code>method.invoke(null)</code> - if your test class has further dependencies - e.g. mockito or DB jar (e.g. mysql connector/j) or anything else - then those will also need to be added in <code>-cp</code> list of class path jars.</p>\n"}],"owner":{"account_id":27280708,"reputation":3,"user_id":20800648,"display_name":"Student"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76365290,"answer_count":1,"score":0,"last_activity_date":1685452705,"creation_date":1685450920,"question_id":76365027,"body_markdown":"I have a program where I want to take methods from a class and verify if they have \r\nthe @Test annotation, and if they do, to output the names of the methods. The problem is when I call getAnnotation(Test.class) it doesn&#39;t find Test class in java ClassLoader and BuiltinClassLoader and throws ClassNotFoundException.\r\n\r\n```\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.lang.annotation.Annotation;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class Lab12 {\r\n    public static void main(String[] args) {\r\n        if(args.length &lt; 1) {\r\n            System.err.println(&quot;Input: &lt;class name&gt;&quot;);\r\n        }\r\n        try {\r\n            Class testedClass = Class.forName(args[0].toString());\r\n            Package testedPackage = testedClass.getPackage();\r\n            System.out.println(&quot;Name of the class: &quot; + testedClass.getName());\r\n            System.out.println(&quot;Name of the package: &quot; + testedPackage.getName());\r\n            Method[] classMethods = testedClass.getDeclaredMethods();\r\n            for(Method method : classMethods) {\r\n                System.out.println(&quot;So far good&quot;);\r\n                if(method.getAnnotation(Test.class) != null) {\r\n                    if(method.getParameterCount() == 0) {\r\n                        method.setAccessible(true);\r\n                        method.invoke(null);\r\n                        System.out.println(&quot;Test method invoked: &quot; + method.getName());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch(ClassNotFoundException ex) {\r\n            System.err.println(ex);\r\n        }\r\n        catch(IllegalAccessException ex) {\r\n            System.err.println(ex);\r\n        }\r\n        catch(InvocationTargetException ex) {\r\n            System.err.println(ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error that I receive:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/jupiter/api/Test   \r\n        at Lab12.main(Lab12.java:20)\r\nCaused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.Test\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 1 more\r\n```\r\n\r\n\r\nI have implemented in the pom.xml the dependencies for the JUnit api and they are recognized in the program.\r\n\r\nIf I change the parameter of getAnnotation(Override.class, for example), it works. I have imported org.junit.jupiter.api.Test in the program.","title":"How can I fix ClassNotFoundException when using getAnnotation(Test.class) in my Java program with JUnit?","body":"<p>I have a program where I want to take methods from a class and verify if they have\nthe @Test annotation, and if they do, to output the names of the methods. The problem is when I call getAnnotation(Test.class) it doesn't find Test class in java ClassLoader and BuiltinClassLoader and throws ClassNotFoundException.</p>\n<pre><code>import java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.lang.annotation.Annotation;\nimport org.junit.jupiter.api.Test;\n\npublic class Lab12 {\n    public static void main(String[] args) {\n        if(args.length &lt; 1) {\n            System.err.println(&quot;Input: &lt;class name&gt;&quot;);\n        }\n        try {\n            Class testedClass = Class.forName(args[0].toString());\n            Package testedPackage = testedClass.getPackage();\n            System.out.println(&quot;Name of the class: &quot; + testedClass.getName());\n            System.out.println(&quot;Name of the package: &quot; + testedPackage.getName());\n            Method[] classMethods = testedClass.getDeclaredMethods();\n            for(Method method : classMethods) {\n                System.out.println(&quot;So far good&quot;);\n                if(method.getAnnotation(Test.class) != null) {\n                    if(method.getParameterCount() == 0) {\n                        method.setAccessible(true);\n                        method.invoke(null);\n                        System.out.println(&quot;Test method invoked: &quot; + method.getName());\n                    }\n                }\n            }\n        }\n        catch(ClassNotFoundException ex) {\n            System.err.println(ex);\n        }\n        catch(IllegalAccessException ex) {\n            System.err.println(ex);\n        }\n        catch(InvocationTargetException ex) {\n            System.err.println(ex);\n        }\n    }\n}\n</code></pre>\n<p>The error that I receive:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/jupiter/api/Test   \n        at Lab12.main(Lab12.java:20)\nCaused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.Test\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 1 more\n</code></pre>\n<p>I have implemented in the pom.xml the dependencies for the JUnit api and they are recognized in the program.</p>\n<p>If I change the parameter of getAnnotation(Override.class, for example), it works. I have imported org.junit.jupiter.api.Test in the program.</p>\n"},{"tags":["java","maven","proguard","java-11","proguard-maven-plugin"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685448614,"post_id":76362717,"comment_id":134658408,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask). You should provide complete the [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough). When do you get this error? At building time, or execution time?","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. You should provide complete the <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a>. When do you get this error? At building time, or execution time?"},{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1685452272,"post_id":76362717,"comment_id":134659379,"body_markdown":"Added the complete error message.","body":"Added the complete error message."}],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685452447,"creation_date":1685433392,"question_id":76362717,"body_markdown":"I am using openjdk11 and below is my proguard configuration\r\n\r\n    &lt;proguard ignorewarnings=&quot;true&quot; repackageclasses=&quot;controller.deps&quot; allowaccessmodification=&quot;true&quot; skipnonpubliclibraryclasses=&quot;false&quot; skipnonpubliclibraryclassmembers=&quot;false&quot; optimize=&quot;false&quot; overloadaggressively=&quot;false&quot; printmapping=&quot;agent-bootstrap.map&quot; renamesourcefileattribute=&quot;SourceFile&quot; verbose=&quot;true&quot; &gt;\r\n                            &lt;!-- we can use the path here, because we shrink the result --&gt;\r\n                            &lt;!-- we can also drop all .xsl, .properties and other META-INF data from libs --&gt;\r\n                            &lt;injar refid=&quot;dist.path&quot; filter=&quot;!**/*.xsl,!**/*.properties,!META-INF/**&quot; /&gt;\r\n                            &lt;injar file=&quot;${build.dir}/apg-bootstrap-agent-no-deps.jar&quot; /&gt;\r\n                            &lt;outjar file=&quot;${build.lib.dir}/apg-bootstrap-agent.jar&quot; /&gt;\r\n    \t\t\t \r\n                            &lt;!-- keep attributes --&gt;\r\n                            &lt;keepattribute name=&quot;*&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/sax-2.0.1.jar&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/jdk_logging.jar&quot; /&gt; &lt;!-- Not sure if this a valid jar added this jar as it was not able to find reference classes --&gt;\r\n    \t\t    &lt;libraryjar file=&quot;${libs.dir}/java-json.jar&quot; /&gt;\r\n    \t\t\t&lt;!-- &lt;libraryjar file=&quot;${libs.dir}/java-rt-jar-stubs-1.5.0.jar&quot; /&gt; --&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/jaxb/jaxb-api-2.3.0.jar&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/jaxb/javax.activation-1.2.0.jar&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/sql.jar&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/javax.xml-1.3.4.jar&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/javax.xml.stream-3.0.1.jar&quot; /&gt;\r\n    \t\t       \r\n    \r\n    \t\t\t&lt;!-- global libraries --&gt;\r\n                          &lt;!--  &lt;libraryjar file=&quot;${java6.home}/lib/rt.jar&quot; /&gt; --&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.base.jmod&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.desktop.jmod&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.management.jmod&quot; /&gt;\r\n                            &lt;!-- still keep static fields, even if they have been inlined by the compiler --&gt;\r\n                            &lt;keepclassmembernames name=&quot;*&quot;&gt;\r\n                                    &lt;field access=&quot;static&quot; type=&quot;%&quot; name=&quot;*&quot; /&gt;\r\n                                    &lt;field access=&quot;static&quot; type=&quot;java.lang.String&quot; name=&quot;*&quot; /&gt;\r\n                            &lt;/keepclassmembernames&gt;\r\n    \t\t\t \r\n                            &lt;!-- keep the agent entry point --&gt;\r\n                            &lt;keep name=&quot;controller.ConBootstrap*&quot;&gt;\r\n                                    &lt;method name=&quot;premain&quot; /&gt;\r\n                            &lt;/keep&gt;\r\n                    &lt;/proguard&gt;\r\n    \r\n    &lt;path id=&quot;build.path&quot;&gt;\r\n    \t\t&lt;fileset dir=&quot;${libs.dir}&quot;&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;${libs.dir}/java-json.jar&quot; /&gt;\r\n    \t\t&lt;/fileset&gt; \r\n    \t\t&lt;path refid=&quot;dist.path&quot; /&gt;\r\n    \t&lt;/path&gt;\r\n\r\n\r\nGetting error as:\r\n\r\n    java.lang.NoClassDefFoundError: org/json/JSONException\r\n    19:02:06 \tat proguard.obfuscate.MappingPrinter.visitProgramClass(MappingPrinter.java:97)\r\n    19:02:06 \tat proguard.classfile.ProgramClass.accept(ProgramClass.java:544)\r\n    19:02:06 \tat proguard.classfile.ClassPool.classesAcceptAlphabetically(ClassPool.java:310)\r\n    19:02:06 \tat proguard.obfuscate.Obfuscator.execute(Obfuscator.java:654)\r\n    19:02:06 \tat proguard.pass.PassRunner.run(PassRunner.java:24)\r\n    19:02:06 \tat proguard.ProGuard.obfuscate(ProGuard.java:505)\r\n    19:02:06 \tat proguard.ProGuard.execute(ProGuard.java:212)\r\n    19:02:06 \tat proguard.ant.ProGuardTask.execute(ProGuardTask.java:333)\r\n    19:02:06 \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n    19:02:06 \tat jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n    19:02:06 \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    19:02:06 \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    19:02:06 \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n    19:02:06 \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n    19:02:06 \tat org.apache.tools.ant.Target.execute(Target.java:435)\r\n    19:02:06 \tat org.apache.tools.ant.Target.performTasks(Target.java:456)\r\n    19:02:06 \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\r\n    19:02:06 \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\r\n    19:02:06 \tat org.apache.tools.ant.Project.executeTargets(Project.java:1248)\r\n    19:02:06 \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\r\n    19:02:06 \tat org.apache.tools.ant.AntBridge.call(AntBridge.java:61)\r\n    19:02:06 \tat org.apache.tools.ant.AntBridge.call(AntBridge.java:17)\r\n    19:02:06 \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    19:02:06 \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    19:02:06 \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    19:02:06 \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    19:02:06 Caused by: java.lang.ClassNotFoundException: org.json.JSONException\r\n    19:02:06 \tat org.apache.tools.ant.AntClassLoader.findClassInComponents(AntClassLoader.java:1366)\r\n    19:02:06 \tat org.apache.tools.ant.AntClassLoader.findClass(AntClassLoader.java:1315)\r\n    19:02:06 \tat org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:1068)\r\n    19:02:06 \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\r\nTried below solutions: \r\na. Added java-json.jar jar only in build.path \r\nb. Added java-json.jar in both build.path and proguard as libraryjars and c. Added java-json.jar in proguard as libraryjars \r\n\r\nbut still same issue.\r\n\r\nAnyone please assist on how to resolve this issue?\r\n\r\n","title":"When using Proguard version 7.3.2 getting JSONException error","body":"<p>I am using openjdk11 and below is my proguard configuration</p>\n<pre><code>&lt;proguard ignorewarnings=&quot;true&quot; repackageclasses=&quot;controller.deps&quot; allowaccessmodification=&quot;true&quot; skipnonpubliclibraryclasses=&quot;false&quot; skipnonpubliclibraryclassmembers=&quot;false&quot; optimize=&quot;false&quot; overloadaggressively=&quot;false&quot; printmapping=&quot;agent-bootstrap.map&quot; renamesourcefileattribute=&quot;SourceFile&quot; verbose=&quot;true&quot; &gt;\n                        &lt;!-- we can use the path here, because we shrink the result --&gt;\n                        &lt;!-- we can also drop all .xsl, .properties and other META-INF data from libs --&gt;\n                        &lt;injar refid=&quot;dist.path&quot; filter=&quot;!**/*.xsl,!**/*.properties,!META-INF/**&quot; /&gt;\n                        &lt;injar file=&quot;${build.dir}/apg-bootstrap-agent-no-deps.jar&quot; /&gt;\n                        &lt;outjar file=&quot;${build.lib.dir}/apg-bootstrap-agent.jar&quot; /&gt;\n             \n                        &lt;!-- keep attributes --&gt;\n                        &lt;keepattribute name=&quot;*&quot; /&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/sax-2.0.1.jar&quot; /&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/jdk_logging.jar&quot; /&gt; &lt;!-- Not sure if this a valid jar added this jar as it was not able to find reference classes --&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/java-json.jar&quot; /&gt;\n            &lt;!-- &lt;libraryjar file=&quot;${libs.dir}/java-rt-jar-stubs-1.5.0.jar&quot; /&gt; --&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/jaxb/jaxb-api-2.3.0.jar&quot; /&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/jaxb/javax.activation-1.2.0.jar&quot; /&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/sql.jar&quot; /&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/javax.xml-1.3.4.jar&quot; /&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/javax.xml.stream-3.0.1.jar&quot; /&gt;\n               \n\n            &lt;!-- global libraries --&gt;\n                      &lt;!--  &lt;libraryjar file=&quot;${java6.home}/lib/rt.jar&quot; /&gt; --&gt;\n            &lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.base.jmod&quot; /&gt;\n            &lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.desktop.jmod&quot; /&gt;\n            &lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.management.jmod&quot; /&gt;\n                        &lt;!-- still keep static fields, even if they have been inlined by the compiler --&gt;\n                        &lt;keepclassmembernames name=&quot;*&quot;&gt;\n                                &lt;field access=&quot;static&quot; type=&quot;%&quot; name=&quot;*&quot; /&gt;\n                                &lt;field access=&quot;static&quot; type=&quot;java.lang.String&quot; name=&quot;*&quot; /&gt;\n                        &lt;/keepclassmembernames&gt;\n             \n                        &lt;!-- keep the agent entry point --&gt;\n                        &lt;keep name=&quot;controller.ConBootstrap*&quot;&gt;\n                                &lt;method name=&quot;premain&quot; /&gt;\n                        &lt;/keep&gt;\n                &lt;/proguard&gt;\n\n&lt;path id=&quot;build.path&quot;&gt;\n        &lt;fileset dir=&quot;${libs.dir}&quot;&gt;\n            &lt;libraryjar file=&quot;${libs.dir}/java-json.jar&quot; /&gt;\n        &lt;/fileset&gt; \n        &lt;path refid=&quot;dist.path&quot; /&gt;\n    &lt;/path&gt;\n</code></pre>\n<p>Getting error as:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/json/JSONException\n19:02:06    at proguard.obfuscate.MappingPrinter.visitProgramClass(MappingPrinter.java:97)\n19:02:06    at proguard.classfile.ProgramClass.accept(ProgramClass.java:544)\n19:02:06    at proguard.classfile.ClassPool.classesAcceptAlphabetically(ClassPool.java:310)\n19:02:06    at proguard.obfuscate.Obfuscator.execute(Obfuscator.java:654)\n19:02:06    at proguard.pass.PassRunner.run(PassRunner.java:24)\n19:02:06    at proguard.ProGuard.obfuscate(ProGuard.java:505)\n19:02:06    at proguard.ProGuard.execute(ProGuard.java:212)\n19:02:06    at proguard.ant.ProGuardTask.execute(ProGuardTask.java:333)\n19:02:06    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n19:02:06    at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n19:02:06    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n19:02:06    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n19:02:06    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n19:02:06    at org.apache.tools.ant.Task.perform(Task.java:348)\n19:02:06    at org.apache.tools.ant.Target.execute(Target.java:435)\n19:02:06    at org.apache.tools.ant.Target.performTasks(Target.java:456)\n19:02:06    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n19:02:06    at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\n19:02:06    at org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n19:02:06    at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\n19:02:06    at org.apache.tools.ant.AntBridge.call(AntBridge.java:61)\n19:02:06    at org.apache.tools.ant.AntBridge.call(AntBridge.java:17)\n19:02:06    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n19:02:06    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n19:02:06    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n19:02:06    at java.base/java.lang.Thread.run(Thread.java:834)\n19:02:06 Caused by: java.lang.ClassNotFoundException: org.json.JSONException\n19:02:06    at org.apache.tools.ant.AntClassLoader.findClassInComponents(AntClassLoader.java:1366)\n19:02:06    at org.apache.tools.ant.AntClassLoader.findClass(AntClassLoader.java:1315)\n19:02:06    at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:1068)\n19:02:06    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n</code></pre>\n<p>Tried below solutions:\na. Added java-json.jar jar only in build.path\nb. Added java-json.jar in both build.path and proguard as libraryjars and c. Added java-json.jar in proguard as libraryjars</p>\n<p>but still same issue.</p>\n<p>Anyone please assist on how to resolve this issue?</p>\n"},{"tags":["java","spring","spring-mvc","streaming","openapi"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685451898,"creation_date":1685451898,"answer_id":76365180,"question_id":76364964,"body_markdown":"This cannot be done because of the following open-api limitation - [Support for Streams in Responses #1576][1]\r\n\r\n\r\n  [1]: https://github.com/OAI/OpenAPI-Specification/issues/1576","title":"Is it possible to generate correct OpenAPI yaml file for Spring Rest Controller in case response as ResponseBodyEmitter instead of ResponseEntity","body":"<p>This cannot be done because of the following open-api limitation - <a href=\"https://github.com/OAI/OpenAPI-Specification/issues/1576\" rel=\"nofollow noreferrer\">Support for Streams in Responses #1576</a></p>\n"}],"owner":{"account_id":2232943,"reputation":1201,"user_id":1970111,"accept_rate":0,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685451898,"creation_date":1685450522,"question_id":76364964,"body_markdown":"I can easily generate OpenAPI yaml file for RestController methods that return ResponseEntity such as\r\n```\r\npublic ResponseEntity&lt;SomeResponseDto&gt; getSomething() {\r\n   ...\r\n   return responseEntity.ok(dto);\r\n}\r\n```\r\n\r\nIs it a way to generate correct OpenAPI yaml file for RestController that use the ResponseBodyEmitter return value such as\r\n```\r\n@GetMapping(path = &quot;/streaming&quot;)\r\npublic ResponseBodyEmitter getSomeStream() {\r\n   ResponseBodyEmitter emitter = new ResponseBodyEmitter(streamTimeout);\r\n   ...\r\n   //------------------------\r\n   // In another thread\r\n   emitter.send(&quot;Some text&quot;);\r\n   emitter.complete();\r\n   //------------------------\r\n   ...\r\n   return emitter;\r\n }\r\n```","title":"Is it possible to generate correct OpenAPI yaml file for Spring Rest Controller in case response as ResponseBodyEmitter instead of ResponseEntity","body":"<p>I can easily generate OpenAPI yaml file for RestController methods that return ResponseEntity such as</p>\n<pre><code>public ResponseEntity&lt;SomeResponseDto&gt; getSomething() {\n   ...\n   return responseEntity.ok(dto);\n}\n</code></pre>\n<p>Is it a way to generate correct OpenAPI yaml file for RestController that use the ResponseBodyEmitter return value such as</p>\n<pre><code>@GetMapping(path = &quot;/streaming&quot;)\npublic ResponseBodyEmitter getSomeStream() {\n   ResponseBodyEmitter emitter = new ResponseBodyEmitter(streamTimeout);\n   ...\n   //------------------------\n   // In another thread\n   emitter.send(&quot;Some text&quot;);\n   emitter.complete();\n   //------------------------\n   ...\n   return emitter;\n }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":1,"creation_date":1685433171,"post_id":76360972,"comment_id":134655060,"body_markdown":"which spring boot version you&#39;re using?","body":"which spring boot version you&#39;re using?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1685440951,"post_id":76360972,"comment_id":134656757,"body_markdown":"You&#39;ve said that `/api/v1/auth/authenticate` is not secured, but your security configuration uses `/api/v1/auth/**` and you are getting a 403 response which suggests that it is secured. Can you provide a [minimal, reproducible example](/help/mcve) that shows exactly how to reproduce the behavior you have described?","body":"You&#39;ve said that <code>&#47;api&#47;v1&#47;auth&#47;authenticate</code> is not secured, but your security configuration uses <code>&#47;api&#47;v1&#47;auth&#47;**</code> and you are getting a 403 response which suggests that it is secured. Can you provide a <a href=\"/help/mcve\">minimal, reproducible example</a> that shows exactly how to reproduce the behavior you have described?"},{"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"score":0,"creation_date":1685444220,"post_id":76360972,"comment_id":134657469,"body_markdown":"I posted all the codes I am using. It looks like that spring boot tries to protect the passwords but completely deletes them.","body":"I posted all the codes I am using. It looks like that spring boot tries to protect the passwords but completely deletes them."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685451523,"creation_date":1685451523,"answer_id":76365120,"question_id":76360972,"body_markdown":"Spring Security avoids holding credentials, such as a password, in memory for any longer than necessary. This is implemented using the `eraseCredentials()` method that `org.springframework.security.core.userdetails.User` implements. Your list of `User`s is held in a static field so the two `User` instances are re-used. Once the credentials have been erased, this makes the `User` useless.\r\n\r\nRather than creating your own in-memory `UserDetailsService` implementation,  I would use Spring Security&#39;s `InMemoryUserDetailsManager` instead.","title":"Spring security when I try to get jwt token second time, it returns forbidden","body":"<p>Spring Security avoids holding credentials, such as a password, in memory for any longer than necessary. This is implemented using the <code>eraseCredentials()</code> method that <code>org.springframework.security.core.userdetails.User</code> implements. Your list of <code>User</code>s is held in a static field so the two <code>User</code> instances are re-used. Once the credentials have been erased, this makes the <code>User</code> useless.</p>\n<p>Rather than creating your own in-memory <code>UserDetailsService</code> implementation,  I would use Spring Security's <code>InMemoryUserDetailsManager</code> instead.</p>\n"}],"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685451523,"creation_date":1685406828,"question_id":76360972,"body_markdown":"I enabled spring security. I have 2 users in my userDetails service. I have an authentication endpoint ```/api/v1/auth/authenticate```. This endpoint is not secured.\r\n\r\nI start the application and hit send button in postman. It returns the JWT token. When I click send right after, it returns ```403```. \r\n\r\nAfter these steps, I entered the credentials of the second user in postman request. I hit the send request button. ```JWT``` token returned normally. When I clicked send button the second time, it returns ```403```.\r\n\r\nI am able to access secured endpoints normally using the ```JWT```.\r\n\r\nI restarted the server, Again I am able to call and get ```JWT``` token but I can get it only once, the other attempts to generate ```JWT``` token results in a ```403``` response.\r\n\r\nWhen I debugged the application, it gets bad credentials exception in this line \r\n```        \r\nauthenticationManager.authenticate(\r\n   new UsernamePasswordAuthenticationToken(\r\n        request.getEmail(), request.getPassword()\r\n    )\r\n);\r\n```\r\nit doesn&#39;t print the exception to the console. Even if the credentials are correct (I don&#39;t change request body between the first and second attempt to get JWT.) the response is 403 in the second attempt.\r\n\r\nWhy is that?\r\n\r\nI use spring boot 3.1.0\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nmy userdetails service is:\r\n```java\r\n@Component\r\npublic class MyUserDetailsService implements UserDetailsService {\r\n\r\n    private final static List&lt;UserDetails&gt; APPLICATION_USERS = Arrays.asList(\r\n            new User(\r\n                &quot;ylozsoy@gmail.com&quot;,\r\n                &quot;password&quot;,\r\n                Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;))\r\n            ),\r\n            new User(\r\n                    &quot;yilmazozsoy@gmail.com&quot;,\r\n                    &quot;password2&quot;,\r\n                    Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;))\r\n            )\r\n    );\r\n\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        return APPLICATION_USERS\r\n                .stream()\r\n                .filter(u -&gt; u.getUsername().equals(email))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;No user was found for email: &quot; + email));\r\n    }\r\n}\r\n```\r\n\r\n\r\nIt is breaking here\r\n[image][1]\r\n\r\nAt the first call this looks like :\r\n[image][2]\r\n\r\nAt the second call, password is gone\r\n[image][3]\r\n\r\n\r\n\r\n\r\n```\r\n@Override\r\nprotected void doFilterInternal(\r\n        HttpServletRequest request,\r\n        HttpServletResponse response,\r\n        FilterChain filterChain) throws ServletException, IOException {\r\n    String authHeader = request.getHeader(AUTHORIZATION);\r\n    String userEmail;\r\n    String jwtToken;\r\n    if (authHeader == null || !authHeader.startsWith(&quot;Bearer&quot;)) {\r\n        filterChain.doFilter(request, response);\r\n        return;\r\n    }\r\n    jwtToken = authHeader.substring(7);\r\n    userEmail = jwtService.extractUsername(jwtToken);\r\n    if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(userEmail);\r\n        if(jwtService.isTokenValid(jwtToken, userDetails)) {\r\n            UsernamePasswordAuthenticationToken authToken =\r\n                        new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n            authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n        }\r\n    }\r\n    filterChain.doFilter(request, response);\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@PostMapping(&quot;/authenticate&quot;)\r\npublic ResponseEntity&lt;String&gt; authenticate(@RequestBody AuthenticationRequest request){\r\n    authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword())\r\n    );\r\n    final UserDetails user = userDetailsService.loadUserByUsername(request.getEmail());\r\n    if (user != null) {\r\n        return ResponseEntity.ok(jwtService.generateToken(user));\r\n    }\r\n    return ResponseEntity.status(400).body(&quot;Some error has occured&quot;);\r\n}\r\n```\r\n\r\n```\r\n@Bean\r\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http.csrf((csrf) -&gt; csrf.disable());\r\n    http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n    http.authorizeHttpRequests((requests) -&gt; {\r\n        requests.requestMatchers(antMatcher(&quot;/api/v1/auth/**&quot;))\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    });\r\n    http.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n    http.authenticationProvider(authenticationProvider());\r\n    http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n    return http.build();\r\n}\r\n```\r\n\r\npom.xml;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springbootdemoweb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.5-b10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[This is the complete project](https://github.com/spring-projects/spring-boot/files/11599537/Archive.zip).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E4iqH.png\r\n  [2]: https://i.stack.imgur.com/WZvjD.png\r\n  [3]: https://i.stack.imgur.com/ctggZ.png","title":"Spring security when I try to get jwt token second time, it returns forbidden","body":"<p>I enabled spring security. I have 2 users in my userDetails service. I have an authentication endpoint <code>/api/v1/auth/authenticate</code>. This endpoint is not secured.</p>\n<p>I start the application and hit send button in postman. It returns the JWT token. When I click send right after, it returns <code>403</code>.</p>\n<p>After these steps, I entered the credentials of the second user in postman request. I hit the send request button. <code>JWT</code> token returned normally. When I clicked send button the second time, it returns <code>403</code>.</p>\n<p>I am able to access secured endpoints normally using the <code>JWT</code>.</p>\n<p>I restarted the server, Again I am able to call and get <code>JWT</code> token but I can get it only once, the other attempts to generate <code>JWT</code> token results in a <code>403</code> response.</p>\n<p>When I debugged the application, it gets bad credentials exception in this line</p>\n<pre><code>authenticationManager.authenticate(\n   new UsernamePasswordAuthenticationToken(\n        request.getEmail(), request.getPassword()\n    )\n);\n</code></pre>\n<p>it doesn't print the exception to the console. Even if the credentials are correct (I don't change request body between the first and second attempt to get JWT.) the response is 403 in the second attempt.</p>\n<p>Why is that?</p>\n<p>I use spring boot 3.1.0</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>my userdetails service is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyUserDetailsService implements UserDetailsService {\n\n    private final static List&lt;UserDetails&gt; APPLICATION_USERS = Arrays.asList(\n            new User(\n                &quot;ylozsoy@gmail.com&quot;,\n                &quot;password&quot;,\n                Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;))\n            ),\n            new User(\n                    &quot;yilmazozsoy@gmail.com&quot;,\n                    &quot;password2&quot;,\n                    Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;))\n            )\n    );\n\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return APPLICATION_USERS\n                .stream()\n                .filter(u -&gt; u.getUsername().equals(email))\n                .findFirst()\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;No user was found for email: &quot; + email));\n    }\n}\n</code></pre>\n<p>It is breaking here\n<a href=\"https://i.stack.imgur.com/E4iqH.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>At the first call this looks like :\n<a href=\"https://i.stack.imgur.com/WZvjD.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>At the second call, password is gone\n<a href=\"https://i.stack.imgur.com/ctggZ.png\" rel=\"nofollow noreferrer\">image</a></p>\n<pre><code>@Override\nprotected void doFilterInternal(\n        HttpServletRequest request,\n        HttpServletResponse response,\n        FilterChain filterChain) throws ServletException, IOException {\n    String authHeader = request.getHeader(AUTHORIZATION);\n    String userEmail;\n    String jwtToken;\n    if (authHeader == null || !authHeader.startsWith(&quot;Bearer&quot;)) {\n        filterChain.doFilter(request, response);\n        return;\n    }\n    jwtToken = authHeader.substring(7);\n    userEmail = jwtService.extractUsername(jwtToken);\n    if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = userDetailsService.loadUserByUsername(userEmail);\n        if(jwtService.isTokenValid(jwtToken, userDetails)) {\n            UsernamePasswordAuthenticationToken authToken =\n                        new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n            authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n        }\n    }\n    filterChain.doFilter(request, response);\n}\n</code></pre>\n<pre><code>@PostMapping(&quot;/authenticate&quot;)\npublic ResponseEntity&lt;String&gt; authenticate(@RequestBody AuthenticationRequest request){\n    authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword())\n    );\n    final UserDetails user = userDetailsService.loadUserByUsername(request.getEmail());\n    if (user != null) {\n        return ResponseEntity.ok(jwtService.generateToken(user));\n    }\n    return ResponseEntity.status(400).body(&quot;Some error has occured&quot;);\n}\n</code></pre>\n<pre><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.csrf((csrf) -&gt; csrf.disable());\n    http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n    http.authorizeHttpRequests((requests) -&gt; {\n        requests.requestMatchers(antMatcher(&quot;/api/v1/auth/**&quot;))\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    });\n    http.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n    http.authenticationProvider(authenticationProvider());\n    http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n<p>pom.xml;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springbootdemoweb&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5-b10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-boot/files/11599537/Archive.zip\" rel=\"nofollow noreferrer\">This is the complete project</a>.</p>\n"},{"tags":["java","javafx","ubuntu-22.04"],"answers":[{"comments":[{"owner":{"account_id":18599417,"reputation":115,"user_id":13554589,"display_name":"Kanishka"},"score":0,"creation_date":1685451574,"post_id":76365088,"comment_id":134659171,"body_markdown":"But in window it work perfectly. only the javafx sdk path represent changes.","body":"But in window it work perfectly. only the javafx sdk path represent changes."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1685451821,"post_id":76365088,"comment_id":134659245,"body_markdown":"@Kanishka I don&#39;t have a windows machine to test with, but `java` (i.e. the Java runtime) is a native application. There is no a priori reason for it to have the same syntax on every system. The bottom line here is that that the specification says `-jar &lt;jarfile&gt;` comes after the JVM options, so you need to call it that way.","body":"@Kanishka I don&#39;t have a windows machine to test with, but <code>java</code> (i.e. the Java runtime) is a native application. There is no a priori reason for it to have the same syntax on every system. The bottom line here is that that the specification says <code>-jar &lt;jarfile&gt;</code> comes after the JVM options, so you need to call it that way."},{"owner":{"account_id":18599417,"reputation":115,"user_id":13554589,"display_name":"Kanishka"},"score":0,"creation_date":1685452934,"post_id":76365088,"comment_id":134659551,"body_markdown":"I tried what java specifications says. but it gives a new error```Unrecognized option: --module-path\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n```","body":"I tried what java specifications says. but it gives a new error<code>Unrecognized option: --module-path Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit. </code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1685453274,"post_id":76365088,"comment_id":134659642,"body_markdown":"If `--module-path` is not a recognized option, then you have an old (outdated) version of `java`. What does `java --version` give?","body":"If <code>--module-path</code> is not a recognized option, then you have an old (outdated) version of <code>java</code>. What does <code>java --version</code> give?"},{"owner":{"account_id":18599417,"reputation":115,"user_id":13554589,"display_name":"Kanishka"},"score":0,"creation_date":1685453416,"post_id":76365088,"comment_id":134659683,"body_markdown":"I use java 8 runtime environment Java - OpenJDK 1.8.0_362","body":"I use java 8 runtime environment Java - OpenJDK 1.8.0_362"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1685453583,"post_id":76365088,"comment_id":134659726,"body_markdown":"@Kanishka You need a more up to date version. Modules were introduced in version 9 (which is why you get the error you get). The current version is version 20.","body":"@Kanishka You need a more up to date version. Modules were introduced in version 9 (which is why you get the error you get). The current version is version 20."},{"owner":{"account_id":18599417,"reputation":115,"user_id":13554589,"display_name":"Kanishka"},"score":0,"creation_date":1685453717,"post_id":76365088,"comment_id":134659765,"body_markdown":"I typed java and as you said it&#39;s not telling anything about modules. I will check on it","body":"I typed java and as you said it&#39;s not telling anything about modules. I will check on it"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1685461053,"post_id":76365088,"comment_id":134661699,"body_markdown":"@Kanishka of course Java 8 doesn&#39;t tell you anything about modules.  Java 8 was created before the module system, so there is no way it could know anything about modules.  JavaFX 11+ was designed only to work with modules.  Anyway, instructions on getting started with JavaFX are at [openjfx.io](https://openjfx.io/openjfx-docs/), remove all the old stuff from your system (e.g. Java 8 and JavaFX 11), and start again from scratch using a recent version of both (20+), following the getting started instructions exactly.  Anything else, and you risk spending a lot of time for no return.","body":"@Kanishka of course Java 8 doesn&#39;t tell you anything about modules.  Java 8 was created before the module system, so there is no way it could know anything about modules.  JavaFX 11+ was designed only to work with modules.  Anyway, instructions on getting started with JavaFX are at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a>, remove all the old stuff from your system (e.g. Java 8 and JavaFX 11), and start again from scratch using a recent version of both (20+), following the getting started instructions exactly.  Anything else, and you risk spending a lot of time for no return."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685462117,"post_id":76365088,"comment_id":134661932,"body_markdown":"What jewelsea said, plus: Search Stack Overflow to learn more. Starting with JavaFX/OpenJFX has been addressed several times, as has [JPMS](https://en.wikipedia.org/wiki/Java_Platform_Module_System).","body":"What jewelsea said, plus: Search Stack Overflow to learn more. Starting with JavaFX/OpenJFX has been addressed several times, as has <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">JPMS</a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685488131,"post_id":76365088,"comment_id":134666483,"body_markdown":"@Kanishka &quot;_But in window it work perfectly. only the javafx sdk path represent changes_&quot; – Anything after `-jar &lt;jarfile&gt;` becomes part of `[args...]`. In other words, it becomes part of the **application arguments** (the values of the string array passed to your main method). So, if you had `java -jar foo.jar --module-path /opt/javafx-sdk-11/lib` then `--module-path /opt/javafx-sdk-11/lib` would not be interpreted as a JVM option but as two application arguments.","body":"@Kanishka &quot;<i>But in window it work perfectly. only the javafx sdk path represent changes</i>&quot; – Anything after <code>-jar &lt;jarfile&gt;</code> becomes part of <code>[args...]</code>. In other words, it becomes part of the <b>application arguments</b> (the values of the string array passed to your main method). So, if you had <code>java -jar foo.jar --module-path &#47;opt&#47;javafx-sdk-11&#47;lib</code> then <code>--module-path &#47;opt&#47;javafx-sdk-11&#47;lib</code> would not be interpreted as a JVM option but as two application arguments."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685488260,"post_id":76365088,"comment_id":134666498,"body_markdown":"However, since you had `java -jar --module-path /opt/javafx-sdk-11/lib foo.jar` (i.e., the module-path option between the `-jar` option and the JAR file), it apparently ignored `--module-path` and tried to use `/opt/javafx-sdk-11/lib` as the JAR file. But that&#39;s a directory, thus the error.","body":"However, since you had <code>java -jar --module-path &#47;opt&#47;javafx-sdk-11&#47;lib foo.jar</code> (i.e., the module-path option between the <code>-jar</code> option and the JAR file), it apparently ignored <code>--module-path</code> and tried to use <code>&#47;opt&#47;javafx-sdk-11&#47;lib</code> as the JAR file. But that&#39;s a directory, thus the error."},{"owner":{"account_id":18599417,"reputation":115,"user_id":13554589,"display_name":"Kanishka"},"score":1,"creation_date":1685508618,"post_id":76365088,"comment_id":134668189,"body_markdown":"I have upgraded my Java runtime and checked. Application successfully started. Thanks for the support and thing tought me.Now I know thing I need to check when implimenting application in java enviornment.@James_D and others","body":"I have upgraded my Java runtime and checked. Application successfully started. Thanks for the support and thing tought me.Now I know thing I need to check when implimenting application in java enviornment.@James_D and others"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":12,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1685451305,"creation_date":1685451305,"answer_id":76365088,"question_id":76365026,"body_markdown":"The usage for `java` is:\r\n\r\n    % java --help\r\n    Usage: java [options] &lt;mainclass&gt; [args...]\r\n               (to execute a class)\r\n       or  java [options] -jar &lt;jarfile&gt; [args...]\r\n               (to execute a jar file)\r\n       or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n           java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n               (to execute the main class in a module)\r\n       or  java [options] &lt;sourcefile&gt; [args]\r\n               (to execute a single source-file program)\r\n\r\nI.e. the jar file should immediately follow the `-jar` option (whicbh should come after any other options). So you need\r\n\r\n    java --module-path /opt/javafx-sdk-11/lib --add-modules javafx.controls -jar myjar-1.0.0-shaded.jar\r\n","title":"Invalid or corrupt jarfile, Run javafx application","body":"<p>The usage for <code>java</code> is:</p>\n<pre><code>% java --help\nUsage: java [options] &lt;mainclass&gt; [args...]\n           (to execute a class)\n   or  java [options] -jar &lt;jarfile&gt; [args...]\n           (to execute a jar file)\n   or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n       java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n           (to execute the main class in a module)\n   or  java [options] &lt;sourcefile&gt; [args]\n           (to execute a single source-file program)\n</code></pre>\n<p>I.e. the jar file should immediately follow the <code>-jar</code> option (whicbh should come after any other options). So you need</p>\n<pre><code>java --module-path /opt/javafx-sdk-11/lib --add-modules javafx.controls -jar myjar-1.0.0-shaded.jar\n</code></pre>\n"}],"owner":{"account_id":18599417,"reputation":115,"user_id":13554589,"display_name":"Kanishka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76365088,"answer_count":1,"score":-1,"last_activity_date":1685451305,"creation_date":1685450915,"question_id":76365026,"body_markdown":"My application code\r\n```\r\npublic class Main extends Application {\r\n    \r\n    private static Scene scene;\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        \r\n        FXMLLoader fxmlloader = new FXMLLoader(LoginControler.class.getResource(&quot;loging.fxml&quot;));\r\n        scene = new Scene(fxmlloader.load());\r\n        stage.setScene(scene);\r\n        stage.setResizable(false);\r\n        stage.show();\r\n        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI was trying to run  above javafx application using terminal,But i get this error. Please tell me did i make a mistake in script. I have used *maven-shade-plugin* to build jar with dependencies\r\n\r\n```\r\nroot@abc-abc2051A:~# java -jar --module-path /opt/javafx-sdk-11/lib --add-modules javafx.controls myjar-1.0.0-shaded.jar\r\nError: Invalid or corrupt jarfile /opt/javafx-sdk-11/lib\r\n```\r\nApplication Running Enviornment\r\n\r\n - OS - Ubuntu 22.04.2 LTS  \r\n - Architecture 64bit \r\n - Java - OpenJDK 1.8.0_362\r\n\r\n","title":"Invalid or corrupt jarfile, Run javafx application","body":"<p>My application code</p>\n<pre><code>public class Main extends Application {\n    \n    private static Scene scene;\n    \n    @Override\n    public void start(Stage stage) throws IOException {\n        \n        FXMLLoader fxmlloader = new FXMLLoader(LoginControler.class.getResource(&quot;loging.fxml&quot;));\n        scene = new Scene(fxmlloader.load());\n        stage.setScene(scene);\n        stage.setResizable(false);\n        stage.show();\n        \n    }\n    \n    public static void main(String[] args) {\n        launch();\n    }\n    \n}\n</code></pre>\n<p>I was trying to run  above javafx application using terminal,But i get this error. Please tell me did i make a mistake in script. I have used <em>maven-shade-plugin</em> to build jar with dependencies</p>\n<pre><code>root@abc-abc2051A:~# java -jar --module-path /opt/javafx-sdk-11/lib --add-modules javafx.controls myjar-1.0.0-shaded.jar\nError: Invalid or corrupt jarfile /opt/javafx-sdk-11/lib\n</code></pre>\n<p>Application Running Enviornment</p>\n<ul>\n<li>OS - Ubuntu 22.04.2 LTS</li>\n<li>Architecture 64bit</li>\n<li>Java - OpenJDK 1.8.0_362</li>\n</ul>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1612487927,"post_id":66055839,"comment_id":116789579,"body_markdown":"`stop()` has been deprecated for nearly 20 years, at least back to [Java 1.4.2](https://www2.cs.duke.edu/csed/java/jdk1.4.2/docs/api/).","body":"<code>stop()</code> has been deprecated for nearly 20 years, at least back to <a href=\"https://www2.cs.duke.edu/csed/java/jdk1.4.2/docs/api/\" rel=\"nofollow noreferrer\">Java 1.4.2</a>."},{"owner":{"account_id":19102637,"reputation":384,"user_id":13950559,"display_name":"Sylvain Hubert"},"score":0,"creation_date":1612488600,"post_id":66055839,"comment_id":116789716,"body_markdown":"@CommonsWare indeed, but I woudn&#39;t ask if it were just deprecated instead of completely deleted","body":"@CommonsWare indeed, but I woudn&#39;t ask if it were just deprecated instead of completely deleted"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1612489742,"post_id":66055839,"comment_id":116789942,"body_markdown":"It was removed from Java by Oracle a couple of years ago. AFAIK, developers working with low-level thread stuff are using `interrupt()`. That&#39;s also one of Oracle&#39;s recommended alternatives. Perhaps you might ask your question in the [java] tag. You might also consider posting a [mcve] demonstrating something that you believe is impossible to solve with `interrupt()` and requires `stop()`. I can see some scenarios for this, mostly involving calling flawed C/C++ code via JNI.","body":"It was removed from Java by Oracle a couple of years ago. AFAIK, developers working with low-level thread stuff are using <code>interrupt()</code>. That&#39;s also one of Oracle&#39;s recommended alternatives. Perhaps you might ask your question in the [java] tag. You might also consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating something that you believe is impossible to solve with <code>interrupt()</code> and requires <code>stop()</code>. I can see some scenarios for this, mostly involving calling flawed C/C++ code via JNI."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1612489816,"post_id":66055839,"comment_id":116789953,"body_markdown":"But, in the end, advice is likely to be scenario-specific, rather than some universal `stop()` replacement. After all, if a universal `stop()` replacement were practical, one imagines that Sun or Oracle would have implemented it. So, a question in the [java] tag with a [mcve] of your specific concern is more likely to get you help.","body":"But, in the end, advice is likely to be scenario-specific, rather than some universal <code>stop()</code> replacement. After all, if a universal <code>stop()</code> replacement were practical, one imagines that Sun or Oracle would have implemented it. So, a question in the [java] tag with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your specific concern is more likely to get you help."},{"owner":{"account_id":19102637,"reputation":384,"user_id":13950559,"display_name":"Sylvain Hubert"},"score":0,"creation_date":1612491684,"post_id":66055839,"comment_id":116790283,"body_markdown":"@CommonsWare thanks for the pointers, I&#39;ve added the java tag. And you&#39;re right, the 3rd party library I&#39;m using includes native code indeed, which is &quot;flawed&quot; in the sense that it exposes no interface for cooperative interruption. A similar question with examples has been asked at &lt;https://stackoverflow.com/q/27555779/13950559&gt;, which received only disappointing answers. I avoided giving such concrete examples because, comparing to practically helpful suggestions of specific &quot;non-flawed&quot; alternative libraries, I would prefer a coherent story around the flawed but common libraries.","body":"@CommonsWare thanks for the pointers, I&#39;ve added the java tag. And you&#39;re right, the 3rd party library I&#39;m using includes native code indeed, which is &quot;flawed&quot; in the sense that it exposes no interface for cooperative interruption. A similar question with examples has been asked at &lt;<a href=\"https://stackoverflow.com/q/27555779/13950559\">stackoverflow.com/q/27555779/13950559</a>&gt;, which received only disappointing answers. I avoided giving such concrete examples because, comparing to practically helpful suggestions of specific &quot;non-flawed&quot; alternative libraries, I would prefer a coherent story around the flawed but common libraries."}],"answers":[{"comments":[{"owner":{"account_id":19102637,"reputation":384,"user_id":13950559,"display_name":"Sylvain Hubert"},"score":0,"creation_date":1612492605,"post_id":66056686,"comment_id":116790450,"body_markdown":"Thanks for the suggestions. `Process` is indeed a last resort, but before that, I would rather make my own JNI using `pthread_kill`. Since it would behave very similarly with `Thread.stop()`, it baffles me even more that `stop` was removed in the first place.","body":"Thanks for the suggestions. <code>Process</code> is indeed a last resort, but before that, I would rather make my own JNI using <code>pthread_kill</code>. Since it would behave very similarly with <code>Thread.stop()</code>, it baffles me even more that <code>stop</code> was removed in the first place."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1612493165,"post_id":66056686,"comment_id":116790571,"body_markdown":"Using `pthread_kill` would be *unsafer* than `Thread.stop`.  The reasons for the removal of `stop` are well documented.","body":"Using <code>pthread_kill</code> would be <i>unsafer</i> than <code>Thread.stop</code>.  The reasons for the removal of <code>stop</code> are well documented."},{"owner":{"account_id":19102637,"reputation":384,"user_id":13950559,"display_name":"Sylvain Hubert"},"score":0,"creation_date":1612495415,"post_id":66056686,"comment_id":116791009,"body_markdown":"The documentation explained quite well indeed that `Thread.stop` is not perfect, but I don&#39;t find it  justifying anything close to the removal of it. With a bit exaggeration, it says something like &quot;since indexing an array with negative numbers would cause overflows, let&#39;s drop the signed integral types altogether and instead use pairs of unsigned in absolute urgent cases&quot; which is insane.","body":"The documentation explained quite well indeed that <code>Thread.stop</code> is not perfect, but I don&#39;t find it  justifying anything close to the removal of it. With a bit exaggeration, it says something like &quot;since indexing an array with negative numbers would cause overflows, let&#39;s drop the signed integral types altogether and instead use pairs of unsigned in absolute urgent cases&quot; which is insane."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1612496329,"post_id":66056686,"comment_id":116791137,"body_markdown":"Shrug ... you are entitled to your opinion.  However, this is not a discussion forum.","body":"Shrug ... you are entitled to your opinion.  However, this is not a discussion forum."},{"owner":{"account_id":19102637,"reputation":384,"user_id":13950559,"display_name":"Sylvain Hubert"},"score":0,"creation_date":1612497801,"post_id":66056686,"comment_id":116791376,"body_markdown":"You&#39;re right, but since the question is rather general and I&#39;m not experienced with java, it&#39;s still good to know that this is a legit opinion instead of some obvious newbie mistake.","body":"You&#39;re right, but since the question is rather general and I&#39;m not experienced with java, it&#39;s still good to know that this is a legit opinion instead of some obvious newbie mistake."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685451194,"creation_date":1612491561,"answer_id":66056686,"question_id":66055839,"body_markdown":"There is no &quot;modern&quot; alternative.  The old alternatives are still the only ones.  Why?  Because this is fundamentally an *unsolvable* problem&lt;sup&gt;1&lt;/sup&gt; ... if the threads are not cooperating / checking for thread interrupts, or if they unable to *correctly* deal with a thread interrupt.\r\n\r\nFor the record, the technical reasons that `Thread.stop()` is unsafe *include*:\r\n\r\n  - It breaks mutual exclusion locks help by the thread being stopped.  This may leave the object that was locked ... or other objects ... in an inconsistent state.\r\n  - It may result in broken inter-thread signalling.  For example, if a thread is expected to notify a condition variable, and it gets stopped before this happen, then other threads may be stuck forever waiting for a notify that never arrives.\r\n\r\nIf has said that, issues such as the above can *in theory* be addressed by application code on a case-by-base basis.  For example, if you were using `stop()` you could catching `ThreadDeath` in all of the necessary places, take remedial action and then rethrow it.  But to borrow someone else&#39;s words, &quot;it would be insanely messy&quot;.\r\n\r\n----------------------\r\n\r\nI&#39;m sorry if you think this is all unsatisfactory.  But this is life.  If you cannot write your threads to be cooperative, and you *need* them to be killable, run them in an external process, via `Process` etcetera.\r\n\r\nNow ... if we could wave a magic wand and replace Java threads with a CSP-like model of concurrency (and in doing so, eschew state sharing between processes), then the problem goes away.  Though now you have to deal with the other problem of what to do with the messages queued up when a process is terminated.  But at least that is a tractable problem.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - I am asserting this without proof!  However, if it was a solvable problem, then you would have thought that Sun or Oracle or Google or someone smart academic would have discovered and implemented a solution in the last ... umm ... 25 years.  **Challenge**: If you can come up with a viable implementation model for *safely* killing Java threads, I expect that certain companies would be willing to offer you a very well-paid job.  Especially if they can secure exclusive rights on your patent!!&lt;/sup&gt;\r\n","title":"Non-cooperative Thread.stop() alternative in modern Android","body":"<p>There is no &quot;modern&quot; alternative.  The old alternatives are still the only ones.  Why?  Because this is fundamentally an <em>unsolvable</em> problem<sup>1</sup> ... if the threads are not cooperating / checking for thread interrupts, or if they unable to <em>correctly</em> deal with a thread interrupt.</p>\n<p>For the record, the technical reasons that <code>Thread.stop()</code> is unsafe <em>include</em>:</p>\n<ul>\n<li>It breaks mutual exclusion locks help by the thread being stopped.  This may leave the object that was locked ... or other objects ... in an inconsistent state.</li>\n<li>It may result in broken inter-thread signalling.  For example, if a thread is expected to notify a condition variable, and it gets stopped before this happen, then other threads may be stuck forever waiting for a notify that never arrives.</li>\n</ul>\n<p>If has said that, issues such as the above can <em>in theory</em> be addressed by application code on a case-by-base basis.  For example, if you were using <code>stop()</code> you could catching <code>ThreadDeath</code> in all of the necessary places, take remedial action and then rethrow it.  But to borrow someone else's words, &quot;it would be insanely messy&quot;.</p>\n<hr />\n<p>I'm sorry if you think this is all unsatisfactory.  But this is life.  If you cannot write your threads to be cooperative, and you <em>need</em> them to be killable, run them in an external process, via <code>Process</code> etcetera.</p>\n<p>Now ... if we could wave a magic wand and replace Java threads with a CSP-like model of concurrency (and in doing so, eschew state sharing between processes), then the problem goes away.  Though now you have to deal with the other problem of what to do with the messages queued up when a process is terminated.  But at least that is a tractable problem.</p>\n<hr />\n<p><sup>1 - I am asserting this without proof!  However, if it was a solvable problem, then you would have thought that Sun or Oracle or Google or someone smart academic would have discovered and implemented a solution in the last ... umm ... 25 years.  <strong>Challenge</strong>: If you can come up with a viable implementation model for <em>safely</em> killing Java threads, I expect that certain companies would be willing to offer you a very well-paid job.  Especially if they can secure exclusive rights on your patent!!</sup></p>\n"}],"owner":{"account_id":19102637,"reputation":384,"user_id":13950559,"display_name":"Sylvain Hubert"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66056686,"answer_count":1,"score":2,"last_activity_date":1685451194,"creation_date":1612484507,"question_id":66055839,"body_markdown":"`Thread.stop()` is now removed from modern Android API. From &lt;https://developer.android.com/reference/java/lang/Thread#stop()&gt;,\r\n\r\n&gt; **Many uses** of `stop` should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, ...\r\n\r\nI suppose that a complete removal of a method must be backed by an alternative of it, both for the **many uses** where it is replaceable, and for the many other uses where it is not. I am therefore wondering what is the alternative of `Thread.stop()` that stops a thread where cooperative interruption flags do not work, which is possibly due to e.g. calls of slow 3rd-party functions.\r\n\r\nFrom the articles I&#39;ve googled and the duplicated SO questions I&#39;ve read about this issue, I got only two unsatisfactory types of answers:\r\n1. You should just consider cooperative interruption because it&#39;s not stupid.\r\n2. `Thread.stop()` is now gone for whatever reason so just forget it.\r\n\r\nI would appreciate a lot if you could either provide a functioning alternative of `Thread.stop()` or explain the rationale behind removing it despite the legitimate use cases depending on it, where &quot;legitimate&quot; implies nonexistence of any synchronization and locking issue.\r\n\r\nThanks in advance.","title":"Non-cooperative Thread.stop() alternative in modern Android","body":"<p><code>Thread.stop()</code> is now removed from modern Android API. From <a href=\"https://developer.android.com/reference/java/lang/Thread#stop()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/lang/Thread#stop()</a>,</p>\n<blockquote>\n<p><strong>Many uses</strong> of <code>stop</code> should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, ...</p>\n</blockquote>\n<p>I suppose that a complete removal of a method must be backed by an alternative of it, both for the <strong>many uses</strong> where it is replaceable, and for the many other uses where it is not. I am therefore wondering what is the alternative of <code>Thread.stop()</code> that stops a thread where cooperative interruption flags do not work, which is possibly due to e.g. calls of slow 3rd-party functions.</p>\n<p>From the articles I've googled and the duplicated SO questions I've read about this issue, I got only two unsatisfactory types of answers:</p>\n<ol>\n<li>You should just consider cooperative interruption because it's not stupid.</li>\n<li><code>Thread.stop()</code> is now gone for whatever reason so just forget it.</li>\n</ol>\n<p>I would appreciate a lot if you could either provide a functioning alternative of <code>Thread.stop()</code> or explain the rationale behind removing it despite the legitimate use cases depending on it, where &quot;legitimate&quot; implies nonexistence of any synchronization and locking issue.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","design-patterns","interface","encapsulation","facade"],"comments":[{"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"score":0,"creation_date":1685451239,"post_id":76364831,"comment_id":134659096,"body_markdown":"@Sweeper scope for internal classes is `default` not protected(corrected it). I have added code and package structure to add more context to my problem.","body":"@Sweeper scope for internal classes is <code>default</code> not protected(corrected it). I have added code and package structure to add more context to my problem."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1685452314,"post_id":76364831,"comment_id":134659400,"body_markdown":"Interfaces can be `default` (package-private) too? What&#39;s the problem with making the interfaces package private? Just don&#39;t put an access modifier before `interface`, and make the implementation classes package-private too.","body":"Interfaces can be <code>default</code> (package-private) too? What&#39;s the problem with making the interfaces package private? Just don&#39;t put an access modifier before <code>interface</code>, and make the implementation classes package-private too."},{"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"score":0,"creation_date":1685452729,"post_id":76364831,"comment_id":134659505,"body_markdown":"@Sweeper with `default` access modifier interface will not be available outside the package for implementation. That means interfaces and implementations have to be in the same package. I think it would go against common design principles.","body":"@Sweeper with <code>default</code> access modifier interface will not be available outside the package for implementation. That means interfaces and implementations have to be in the same package. I think it would go against common design principles."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1685452823,"post_id":76364831,"comment_id":134659523,"body_markdown":"I see. Have a look at the module system then. You can put everything except the client in the same module, and only export the facade to the client. Look up how to write a module-info.java","body":"I see. Have a look at the module system then. You can put everything except the client in the same module, and only export the facade to the client. Look up how to write a module-info.java"},{"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"score":0,"creation_date":1685453788,"post_id":76364831,"comment_id":134659783,"body_markdown":"@Sweeper This can be one of the possible approaches considering we are using Java 9 or later. However, I will be interested to know if there is a general design solutions for such use case without depending on language specific feature.","body":"@Sweeper This can be one of the possible approaches considering we are using Java 9 or later. However, I will be interested to know if there is a general design solutions for such use case without depending on language specific feature."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1685454134,"post_id":76364831,"comment_id":134659892,"body_markdown":"Umm... what is a &quot;general design solution&quot;? Every solution has to be dependent on language features. Otherwise you can just do all the designing in your head. Before Java 9, this is indeed very difficult to do (I&#39;m not sure how) - package-private is tbh [a rather broken feature](https://stackoverflow.com/a/6470746/5133585), *and that&#39;s why Java 9 exists*. And come on, Java 9 was released in 2017, 5 years ago, you should be using it by now.","body":"Umm... what is a &quot;general design solution&quot;? Every solution has to be dependent on language features. Otherwise you can just do all the designing in your head. Before Java 9, this is indeed very difficult to do (I&#39;m not sure how) - package-private is tbh <a href=\"https://stackoverflow.com/a/6470746/5133585\">a rather broken feature</a>, <i>and that&#39;s why Java 9 exists</i>. And come on, Java 9 was released in 2017, 5 years ago, you should be using it by now."},{"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"score":0,"creation_date":1685463706,"post_id":76364831,"comment_id":134662329,"body_markdown":"@Sweeper Thanks for sharing the other post gave me a bone to chew for now.","body":"@Sweeper Thanks for sharing the other post gave me a bone to chew for now."}],"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685451164,"creation_date":1685449672,"question_id":76364831,"body_markdown":"Currently, I have classes in my module represented by the class diagram below. `RestaurantService` is a fa&#231;ade interface that is composed of other services like `ReservationService` and `KitchenService`. Scope for `ReservationService` class and `KitchenService` class is `default` to hide their visibility from client. From encapsulation perspective this works fine, clients are only aware of `RestaurantService` and have no knowledge of the internal services. \r\n[![enter image description here][1]][1]\r\n\r\nPackage Structure\r\n\r\n[![enter image description here][2]][2]\r\n    \r\n    public class RestaurantServiceImpl implements RestaurantService {\r\n\r\n       private KitchenService kitchenService;\r\n       private ReservationService reservationService;\r\n\r\n       @Override\r\n       public void bookTable(){\r\n          this.reservationService.bookTable();\r\n       }\r\n\r\n       @Override\r\n       public OrderDto placeOrder() {\r\n          boolean orderAccepted = this.kitchenService.acceptOrder();\r\n          \r\n          .........\r\n       }\r\n\r\n       .........\r\n    }\r\n\r\n    class KitchenService {\r\n\r\n       public boolean acceptOrder(){\r\n          .........\r\n       }\r\n    }\r\n\r\n    class ReservationService {\r\n\r\n       public void bookTable(){\r\n          .........\r\n       }\r\n    }\r\n\r\nNow, I want to replace internal service classes with interfaces something like below. \r\n[![enter image description here][3]][3]\r\n\r\n\r\nWith this new design the internal services become public since I can&#39;t use `protected` with Java Interfaces. Therefore, by design there is nothing stopping the client from directly accessing the internal services. Which would lead to two obvious problems:\r\n\r\n 1. How will the client know whether it should call `bookTable()` from `RestaurantService` or `ReservationService`.\r\n 2. Leading to fragile code when individual developers decide to call internal service directly rather than using the fa&#231;ade.\r\n\r\nSo, my question is how to use Java Interfaces for internal services without losing on encapsulation. \r\n\r\nI also think this is not a subjective question but more of a design problem for which I am sure there must a design pattern. Therefore, want to learn how you guys handle this in your projects.\r\n\r\nThanks. Looking forward to your inputs.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YKMQk.png\r\n  [2]: https://i.stack.imgur.com/UwA8T.png\r\n  [3]: https://i.stack.imgur.com/RblCj.png","title":"Implementing Facade pattern using Java Interfaces","body":"<p>Currently, I have classes in my module represented by the class diagram below. <code>RestaurantService</code> is a façade interface that is composed of other services like <code>ReservationService</code> and <code>KitchenService</code>. Scope for <code>ReservationService</code> class and <code>KitchenService</code> class is <code>default</code> to hide their visibility from client. From encapsulation perspective this works fine, clients are only aware of <code>RestaurantService</code> and have no knowledge of the internal services.\n<a href=\"https://i.stack.imgur.com/YKMQk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKMQk.png\" alt=\"enter image description here\" /></a></p>\n<p>Package Structure</p>\n<p><a href=\"https://i.stack.imgur.com/UwA8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UwA8T.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class RestaurantServiceImpl implements RestaurantService {\n\n   private KitchenService kitchenService;\n   private ReservationService reservationService;\n\n   @Override\n   public void bookTable(){\n      this.reservationService.bookTable();\n   }\n\n   @Override\n   public OrderDto placeOrder() {\n      boolean orderAccepted = this.kitchenService.acceptOrder();\n      \n      .........\n   }\n\n   .........\n}\n\nclass KitchenService {\n\n   public boolean acceptOrder(){\n      .........\n   }\n}\n\nclass ReservationService {\n\n   public void bookTable(){\n      .........\n   }\n}\n</code></pre>\n<p>Now, I want to replace internal service classes with interfaces something like below.\n<a href=\"https://i.stack.imgur.com/RblCj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RblCj.png\" alt=\"enter image description here\" /></a></p>\n<p>With this new design the internal services become public since I can't use <code>protected</code> with Java Interfaces. Therefore, by design there is nothing stopping the client from directly accessing the internal services. Which would lead to two obvious problems:</p>\n<ol>\n<li>How will the client know whether it should call <code>bookTable()</code> from <code>RestaurantService</code> or <code>ReservationService</code>.</li>\n<li>Leading to fragile code when individual developers decide to call internal service directly rather than using the façade.</li>\n</ol>\n<p>So, my question is how to use Java Interfaces for internal services without losing on encapsulation.</p>\n<p>I also think this is not a subjective question but more of a design problem for which I am sure there must a design pattern. Therefore, want to learn how you guys handle this in your projects.</p>\n<p>Thanks. Looking forward to your inputs.</p>\n"},{"tags":["java","sonarqube","jacoco","java-8"],"comments":[{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":0,"creation_date":1484037747,"post_id":23923443,"comment_id":70333174,"body_markdown":"For those who use Jenkins, the Java version could be specified there. If it isn&#39;t, it takes a default value.","body":"For those who use Jenkins, the Java version could be specified there. If it isn&#39;t, it takes a default value."}],"answers":[{"comments":[{"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"score":0,"creation_date":1401712895,"post_id":23935171,"comment_id":36976816,"body_markdown":"Thanx, it fixed the Exception above. \nStill a problem, though: \nThe sonar gui does not show any Unit Test Coverage, only a dash where the %&#39;s should be. Any clue?","body":"Thanx, it fixed the Exception above.  Still a problem, though:  The sonar gui does not show any Unit Test Coverage, only a dash where the %&#39;s should be. Any clue?"},{"owner":{"account_id":70098,"reputation":523,"user_id":203617,"accept_rate":28,"display_name":"user203617"},"score":0,"creation_date":1401740442,"post_id":23935171,"comment_id":36992171,"body_markdown":"I&#39;m also facing a problem with Java 8 (with SonarQube 4.3 and Java Plugin upgraded to 2.2.1), it&#39;s complaining like -- Caused by: org.sonar.api.utils.SonarException: Directory contains files belonging to different packages : E:\\workspaceCDS\\my\\package Please fix your sourccode or use sonar.skipPackageDesign=true to continue the analysis.\n        at org.sonar.plugins.java.bridges.ResourceIndex.loadSquidFilesAndPackages(ResourceIndex.java:94) But it&#39;s not an issue.","body":"I&#39;m also facing a problem with Java 8 (with SonarQube 4.3 and Java Plugin upgraded to 2.2.1), it&#39;s complaining like -- Caused by: org.sonar.api.utils.SonarException: Directory contains files belonging to different packages : E:\\workspaceCDS\\my\\package Please fix your sourccode or use sonar.skipPackageDesign=true to continue the analysis.         at org.sonar.plugins.java.bridges.ResourceIndex.loadSquidFilesA&zwnj;&#8203;ndPackages(ResourceI&zwnj;&#8203;ndex.java:94) But it&#39;s not an issue."}],"tags":[],"owner":{"account_id":182394,"reputation":2850,"user_id":417065,"display_name":"Freddy - SonarSource Team"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401371924,"creation_date":1401371924,"answer_id":23935171,"question_id":23923443,"body_markdown":"SonarQube 4.3 embeds Java plugin 2.1 whereas http://jira.codehaus.org/browse/SONARJAVA-482 has been fixed in version 2.2. So by upgrading the Java plugin to version 2.2.1, this should fix your issue. ","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>SonarQube 4.3 embeds Java plugin 2.1 whereas <a href=\"http://jira.codehaus.org/browse/SONARJAVA-482\" rel=\"nofollow\">http://jira.codehaus.org/browse/SONARJAVA-482</a> has been fixed in version 2.2. So by upgrading the Java plugin to version 2.2.1, this should fix your issue. </p>\n"},{"comments":[{"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"score":0,"creation_date":1401924276,"post_id":24049089,"comment_id":37079169,"body_markdown":"I read somewhere there might be issues, if you put all maven-targets in a single mvn-command, \nso if you&#39;re using Jenkins, I guess you should put the build-commands in a Freestyle-project with &#39;Execute shell&#39;, \nrather than a Maven-project.","body":"I read somewhere there might be issues, if you put all maven-targets in a single mvn-command,  so if you&#39;re using Jenkins, I guess you should put the build-commands in a Freestyle-project with &#39;Execute shell&#39;,  rather than a Maven-project."},{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":1,"creation_date":1405109317,"post_id":24049089,"comment_id":38314160,"body_markdown":"Thank you sir, you saved billions! :)","body":"Thank you sir, you saved billions! :)"}],"tags":[],"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1401923762,"creation_date":1401923405,"answer_id":24049089,"question_id":23923443,"body_markdown":"I got the missing info from the SonarQube mailing-list...\r\nTo summarize:\r\n\r\nTo get Java8 maven-build working on SonarQube-4.3:\r\n\r\n- Install sonarqube-4.3, and start the server.\r\n\r\n- Login to the **web-gui =&gt; Settings =&gt; Update Center =&gt; Plugins Updates =&gt; Java =&gt; Click &quot;Upgrade to 2.2.1&quot;**\r\n\r\nWait a minute or so for the upgrade to complete... then shutdown+restart sonarqube.\r\nGo back into the Upgrade Center and verify you have plugin: **Java 2.2.1**\r\n\r\n- To get code-coverage in Sonar, you now need to build with these commands:\r\n\r\n        mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install \r\n        mvn sonar:sonar\r\n\r\nReference: http://docs.codehaus.org/display/SONAR/JaCoCo+Plugin\r\n\r\nThat&#39;s it.","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>I got the missing info from the SonarQube mailing-list...\nTo summarize:</p>\n\n<p>To get Java8 maven-build working on SonarQube-4.3:</p>\n\n<ul>\n<li><p>Install sonarqube-4.3, and start the server.</p></li>\n<li><p>Login to the <strong>web-gui => Settings => Update Center => Plugins Updates => Java => Click \"Upgrade to 2.2.1\"</strong></p></li>\n</ul>\n\n<p>Wait a minute or so for the upgrade to complete... then shutdown+restart sonarqube.\nGo back into the Upgrade Center and verify you have plugin: <strong>Java 2.2.1</strong></p>\n\n<ul>\n<li><p>To get code-coverage in Sonar, you now need to build with these commands:</p>\n\n<pre><code>mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install \nmvn sonar:sonar\n</code></pre></li>\n</ul>\n\n<p>Reference: <a href=\"http://docs.codehaus.org/display/SONAR/JaCoCo+Plugin\">http://docs.codehaus.org/display/SONAR/JaCoCo+Plugin</a></p>\n\n<p>That's it.</p>\n"},{"tags":[],"owner":{"account_id":1276721,"reputation":56,"user_id":1231815,"display_name":"Snake007uk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408020857,"creation_date":1408020857,"answer_id":25308565,"question_id":23923443,"body_markdown":"We had the same issue. What we did was re-install sonarqube 4.3 with Java 8 already installed. Then run analysis against sonar. If you already have sonar/java 7 installed previously and have ran analysis against it, sonar seems to install some plugins which causes these failures. If you re-install just sonar and java 8 (dont remove mysql database etc... so history is intact) - re run your analysis it seems to solve the problem with the plugins.","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>We had the same issue. What we did was re-install sonarqube 4.3 with Java 8 already installed. Then run analysis against sonar. If you already have sonar/java 7 installed previously and have ran analysis against it, sonar seems to install some plugins which causes these failures. If you re-install just sonar and java 8 (dont remove mysql database etc... so history is intact) - re run your analysis it seems to solve the problem with the plugins.</p>\n"},{"comments":[{"owner":{"account_id":444896,"reputation":1010,"user_id":837005,"accept_rate":50,"display_name":"DaddyMoe"},"score":0,"creation_date":1547589593,"post_id":43125458,"comment_id":95241537,"body_markdown":"This worked for me.  Similarly I had to bump my version from `0.8.2` to `0.8.2` using jdk8","body":"This worked for me.  Similarly I had to bump my version from <code>0.8.2</code> to <code>0.8.2</code> using jdk8"}],"tags":[],"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490897708,"creation_date":1490897708,"answer_id":43125458,"question_id":23923443,"body_markdown":"I was getting the same error when mvn building a Java 1.7 project using JDK 1.8. The solution was simple: I changed the **jacoco plugin version** to a newer version:\r\n\r\n    &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.7.6.201602180812&lt;/version&gt;\r\n\r\n(The project was using version 0.6.3.201306030806 before.)","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>I was getting the same error when mvn building a Java 1.7 project using JDK 1.8. The solution was simple: I changed the <strong>jacoco plugin version</strong> to a newer version:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.7.6.201602180812&lt;/version&gt;\n</code></pre>\n\n<p>(The project was using version 0.6.3.201306030806 before.)</p>\n"},{"comments":[{"owner":{"account_id":2249676,"reputation":81,"user_id":1982185,"display_name":"Kun Wang"},"score":0,"creation_date":1550002056,"post_id":54308337,"comment_id":96107172,"body_markdown":"upgrade the jacoco plugin to the newest version fixed my problem.","body":"upgrade the jacoco plugin to the newest version fixed my problem."}],"tags":[],"owner":{"account_id":2870293,"reputation":1275,"user_id":2463802,"display_name":"Marcos Nunes"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1593611222,"creation_date":1548160090,"answer_id":54308337,"question_id":23923443,"body_markdown":"Here with java 11 I had this problem and I fix adding this in my gradle properties:\r\n\r\n    jacoco {\r\n      toolVersion = &quot;0.8.4&quot;\r\n    }","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>Here with java 11 I had this problem and I fix adding this in my gradle properties:</p>\n<pre><code>jacoco {\n  toolVersion = &quot;0.8.4&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5038617,"reputation":31,"user_id":4046721,"display_name":"Tushar Bhendarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569405117,"creation_date":1569405117,"answer_id":58095698,"question_id":23923443,"body_markdown":"If you are running jacoco with gradle them update the jacoco to latest version.\r\nI was also facing the similar issues and it got fixed after below changes\r\n\r\nJava 11 and Gradle \r\n\r\n    jacoco {\r\n        toolVersion = &quot;0.8.4&quot;\r\n    }","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>If you are running jacoco with gradle them update the jacoco to latest version.\nI was also facing the similar issues and it got fixed after below changes</p>\n\n<p>Java 11 and Gradle </p>\n\n<pre><code>jacoco {\n    toolVersion = \"0.8.4\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584039885,"creation_date":1584039885,"answer_id":60660407,"question_id":23923443,"body_markdown":"Setting `$JAVA_HOME` resolved the problem for me.","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>Setting <code>$JAVA_HOME</code> resolved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605169177,"creation_date":1605169177,"answer_id":64800193,"question_id":23923443,"body_markdown":"I have done the following changes to come out from the problem.I have used the two steps for it , first one is that update the `jacoco` in latest version along with its **`toolVersion`** , please check it once below\r\n\r\n        classpath &quot;com.dicedmelon.gradle:jacoco-android:0.1.4&quot;\r\n\r\nAnd `toolVersion` is as follow\r\n\r\n    jacoco {\r\n        toolVersion = &quot;0.8.4&quot;\r\n    \r\n    }\r\nPlease refer the link for more info [Click here][1]\r\n\r\n\r\nAnd now check the second step for it in which we use the `excludes = [&#39;jdk.internal.*&#39;]` inside the `testOption` like below\r\n\r\n     testOptions {\r\n            unitTests.all {\r\n                jacoco {\r\n                    includeNoLocationClasses = true\r\n                    excludes = [&#39;jdk.internal.*&#39;]\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\nFor more info in it, please check the link [Click here][2]\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/arturdm/jacoco-android-gradle-plugin\r\n  [2]: https://github.com/gradle/gradle/issues/5184","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>I have done the following changes to come out from the problem.I have used the two steps for it , first one is that update the <code>jacoco</code> in latest version along with its <strong><code>toolVersion</code></strong> , please check it once below</p>\n<pre><code>    classpath &quot;com.dicedmelon.gradle:jacoco-android:0.1.4&quot;\n</code></pre>\n<p>And <code>toolVersion</code> is as follow</p>\n<pre><code>jacoco {\n    toolVersion = &quot;0.8.4&quot;\n\n}\n</code></pre>\n<p>Please refer the link for more info <a href=\"https://github.com/arturdm/jacoco-android-gradle-plugin\" rel=\"nofollow noreferrer\">Click here</a></p>\n<p>And now check the second step for it in which we use the <code>excludes = ['jdk.internal.*']</code> inside the <code>testOption</code> like below</p>\n<pre><code> testOptions {\n        unitTests.all {\n            jacoco {\n                includeNoLocationClasses = true\n                excludes = ['jdk.internal.*']\n\n            }\n        }\n    }\n</code></pre>\n<p>For more info in it, please check the link <a href=\"https://github.com/gradle/gradle/issues/5184\" rel=\"nofollow noreferrer\">Click here</a></p>\n"},{"tags":[],"owner":{"account_id":14871568,"reputation":1,"user_id":10738940,"display_name":"A La Bien Gouchere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685450929,"creation_date":1685450929,"answer_id":76365028,"question_id":23923443,"body_markdown":"I had the same problem under java 8 and I simply changed the version of jacoco from 0.7.9 to 0.8.2","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>I had the same problem under java 8 and I simply changed the version of jacoco from 0.7.9 to 0.8.2</p>\n"}],"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17112,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":24049089,"answer_count":9,"score":20,"last_activity_date":1685450929,"creation_date":1401319495,"question_id":23923443,"body_markdown":"I just downloaded the latest version, SonarQube 4.3,\r\nthen try build a java-8 project with: \r\n\r\n      mvn clean install\r\n      mvn sonar:sonar\r\n\r\nThat gives me the Exception below.\r\n\r\nGoogling, I got the impression this is an earlier issue that should have been fixed... ?\r\n\r\nhttp://sonarqube.15.x6.nabble.com/Sonar-analyze-Java-1-8-project-Failure-td5023663.html\r\n\r\nhttp://jira.codehaus.org/browse/SONARJAVA-482\r\n\r\nDoes SonarQube 4.3 support java-8?\r\n\r\nOr any clue, what is the problem?\r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:483)\r\n            at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\r\n            at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    Caused by: java.lang.RuntimeException: Class java/util/UUID could not be instrumented.\r\n            at org.jacoco.agent.rt.internal_6effb9e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\r\n            at org.jacoco.agent.rt.internal_6effb9e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:99)\r\n            at org.jacoco.agent.rt.internal_6effb9e.PreMain.createRuntime(PreMain.java:55)\r\n            at org.jacoco.agent.rt.internal_6effb9e.PreMain.premain(PreMain.java:47)\r\n            ... 6 more\r\n    Caused by: java.lang.NoSuchFieldException: $jacocoAccess\r\n            at java.lang.Class.getField(Class.java:1690)\r\n            at org.jacoco.agent.rt.internal_6effb9e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:136)\r\n            ... 9 more\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Exception in thread &quot;main&quot;\r\n\r\n\r\n","title":"SonarQube on Java8-project gives jacoco-Exception","body":"<p>I just downloaded the latest version, SonarQube 4.3,\nthen try build a java-8 project with: </p>\n\n<pre><code>  mvn clean install\n  mvn sonar:sonar\n</code></pre>\n\n<p>That gives me the Exception below.</p>\n\n<p>Googling, I got the impression this is an earlier issue that should have been fixed... ?</p>\n\n<p><a href=\"http://sonarqube.15.x6.nabble.com/Sonar-analyze-Java-1-8-project-Failure-td5023663.html\" rel=\"noreferrer\">http://sonarqube.15.x6.nabble.com/Sonar-analyze-Java-1-8-project-Failure-td5023663.html</a></p>\n\n<p><a href=\"http://jira.codehaus.org/browse/SONARJAVA-482\" rel=\"noreferrer\">http://jira.codehaus.org/browse/SONARJAVA-482</a></p>\n\n<p>Does SonarQube 4.3 support java-8?</p>\n\n<p>Or any clue, what is the problem?</p>\n\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\njava.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:483)\n        at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\n        at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nCaused by: java.lang.RuntimeException: Class java/util/UUID could not be instrumented.\n        at org.jacoco.agent.rt.internal_6effb9e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\n        at org.jacoco.agent.rt.internal_6effb9e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:99)\n        at org.jacoco.agent.rt.internal_6effb9e.PreMain.createRuntime(PreMain.java:55)\n        at org.jacoco.agent.rt.internal_6effb9e.PreMain.premain(PreMain.java:47)\n        ... 6 more\nCaused by: java.lang.NoSuchFieldException: $jacocoAccess\n        at java.lang.Class.getField(Class.java:1690)\n        at org.jacoco.agent.rt.internal_6effb9e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:136)\n        ... 9 more\nFATAL ERROR in native method: processing of -javaagent failed\nException in thread \"main\"\n</code></pre>\n"},{"tags":["java","optimization","google-bigquery"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685463663,"post_id":76365009,"comment_id":134662314,"body_markdown":"How does your hardware and system resources compare to Google?","body":"How does your hardware and system resources compare to Google?"},{"owner":{"account_id":169504,"reputation":431,"user_id":395630,"accept_rate":53,"display_name":"Kammy"},"score":0,"creation_date":1685604139,"post_id":76365009,"comment_id":134683896,"body_markdown":"@aled this microservice is on premise hosted and its communicating using service account with GCP.","body":"@aled this microservice is on premise hosted and its communicating using service account with GCP."},{"owner":{"account_id":169504,"reputation":431,"user_id":395630,"accept_rate":53,"display_name":"Kammy"},"score":0,"creation_date":1689341340,"post_id":76365009,"comment_id":135203725,"body_markdown":"@aled Do you think anything can be changed to optimize performance?","body":"@aled Do you think anything can be changed to optimize performance?"}],"owner":{"account_id":169504,"reputation":431,"user_id":395630,"accept_rate":53,"display_name":"Kammy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685450777,"creation_date":1685450777,"question_id":76365009,"body_markdown":"I have simple query to run and it takes 1 sec to run when run from google console. But when I run it from my java code it takes too much time to get result. I have done clustering on i_col1, p_col1 and p_col1Id.\r\n\r\nQuery looks like below:\r\n\r\n    WITH d as (select p_col1, p_col2 as col_num from sit.table3)\r\n    SELECT a.col1, a.col2, b.test_col1, c.col_test1 FROM sit.table1 a\r\n    inner join sit.table2 b\r\n     using (i_col1) \r\n    inner join sit.table3 c\r\n     using (p_col1) \r\n    left join d on a.p_col1Id=d.p_col1 where ( trDate between &#39;2023-05-25&#39; and &#39;2023-05-25&#39; );\r\n\r\nBut when same query run using java API com.google.cloud.bigquery package, it takes around 6.5 sec.\r\n\r\n    JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n    \r\n    JobInfo jobInfo = JobInfo.newBuilder(jobConfiguration).setJobId(jobId).build();\r\n    Long startTime = DateTimeUtils.currentTimeMillis();\r\n    Job job = bigQuery.create(jobInfo).waitFor();\r\n    log.info(&quot;------------Total time to create job: ----------&quot;+(System.currentTimeMillis() - startTime));\r\n\r\nThis gives output as below:\r\n\r\n    [2023-05-30_17:46:00.697] [main] INFO  c.h.g.p.o.s.t.BQReadService - ------------Total time to create job: ----------6572 \r\n\r\nI am not able to understand how to optimize this. \r\n**So Job job = bigQuery.create(jobInfo).waitFor(); this statement taking almost 6.5 sec to return 1922 rows.**\r\nI want to show result in frontend table such delay at this level leads to sluggish response for user even though using BigQuery.\r\n\r\nLet me know if there is way to improve this. Also let me know how I can improve query as well.","title":"Java API to create BigQuery job taking too much time","body":"<p>I have simple query to run and it takes 1 sec to run when run from google console. But when I run it from my java code it takes too much time to get result. I have done clustering on i_col1, p_col1 and p_col1Id.</p>\n<p>Query looks like below:</p>\n<pre><code>WITH d as (select p_col1, p_col2 as col_num from sit.table3)\nSELECT a.col1, a.col2, b.test_col1, c.col_test1 FROM sit.table1 a\ninner join sit.table2 b\n using (i_col1) \ninner join sit.table3 c\n using (p_col1) \nleft join d on a.p_col1Id=d.p_col1 where ( trDate between '2023-05-25' and '2023-05-25' );\n</code></pre>\n<p>But when same query run using java API com.google.cloud.bigquery package, it takes around 6.5 sec.</p>\n<pre><code>JobId jobId = JobId.of(UUID.randomUUID().toString());\n\nJobInfo jobInfo = JobInfo.newBuilder(jobConfiguration).setJobId(jobId).build();\nLong startTime = DateTimeUtils.currentTimeMillis();\nJob job = bigQuery.create(jobInfo).waitFor();\nlog.info(&quot;------------Total time to create job: ----------&quot;+(System.currentTimeMillis() - startTime));\n</code></pre>\n<p>This gives output as below:</p>\n<pre><code>[2023-05-30_17:46:00.697] [main] INFO  c.h.g.p.o.s.t.BQReadService - ------------Total time to create job: ----------6572 \n</code></pre>\n<p>I am not able to understand how to optimize this.\n<strong>So Job job = bigQuery.create(jobInfo).waitFor(); this statement taking almost 6.5 sec to return 1922 rows.</strong>\nI want to show result in frontend table such delay at this level leads to sluggish response for user even though using BigQuery.</p>\n<p>Let me know if there is way to improve this. Also let me know how I can improve query as well.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1685450787,"post_id":76364988,"comment_id":134658987,"body_markdown":"There is no safe way to stop a non-cooperative thread.  There is `Thread.stop()` but it is fundamentally unsafe, deprecated and tagged for future removal.","body":"There is no safe way to stop a non-cooperative thread.  There is <code>Thread.stop()</code> but it is fundamentally unsafe, deprecated and tagged for future removal."},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1685451492,"post_id":76364988,"comment_id":134659144,"body_markdown":"@StephenC i see, do java apis such as ExecutorService also demands the tasks submited are cooperative threads?  From examples i have googled the tasks does not have to be checking interrupted execption at atll","body":"@StephenC i see, do java apis such as ExecutorService also demands the tasks submited are cooperative threads?  From examples i have googled the tasks does not have to be checking interrupted execption at atll"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1685451820,"post_id":76364988,"comment_id":134659244,"body_markdown":"The `ExecutorService` API does not require the tasks to check for interruption, but if a task doesn’t check for interruption, you can’t interrupt it. It’s that simple.","body":"The <code>ExecutorService</code> API does not require the tasks to check for interruption, but if a task doesn’t check for interruption, you can’t interrupt it. It’s that simple."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1685455376,"post_id":76364988,"comment_id":134660226,"body_markdown":"The only way to tell if a task is &quot;cooperative&quot; or not is to read the code, and understand what it does and how it does it. Maybe some day soon, an AI will be able to do that, but (A) we&#39;re not there yet, and (B) it always will be _impossible_ to do for some tasks. (https://en.wikipedia.org/wiki/Halting_problem)","body":"The only way to tell if a task is &quot;cooperative&quot; or not is to read the code, and understand what it does and how it does it. Maybe some day soon, an AI will be able to do that, but (A) we&#39;re not there yet, and (B) it always will be <i>impossible</i> to do for some tasks. (<a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Halting_problem</a>)"}],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685451214,"answer_count":0,"score":0,"last_activity_date":1685450641,"creation_date":1685450641,"question_id":76364988,"body_markdown":"Lets say we have simple task executing in thread, that does not check for interrupted flag, but we want to limit the time we want the task to run.\r\n\r\n    private class TimedTask{\r\n         private final long limit;\r\n         private final Runnable task;\r\n         private final CustomVoidFunction shutDownCallback;\r\n         private Thread t;\r\n         private boolean wasInterrupted = false;\r\n         private Throwable error;\r\n         private String cause;\r\n    \r\n         public TimedTask(long limit, Runnable task, CustomVoidFunction shutDownCallback){\r\n            this.limit = limit;\r\n            this.task = task;\r\n            this.shutDownCallback = shutDownCallback;\r\n         }\r\n    \r\n         public void runTask(){\r\n            t = new Thread(task);\r\n            t.start();\r\n            t.join( limit );\r\n            handleTimeout();\r\n         }\r\n             \r\n         private void handleTimeout(){\r\n            if (t.isAlive()) {\r\n                try {\r\n                    // interrupt the thread\r\n                    t.interrupt();\r\n                    this.wasInterrupted = true;\r\n                    // invoke shutdown callback\r\n                    shutDownCallback.execute();\r\n                } catch (Exception e) {\r\n                    this.cause = &quot;Error during calling shutDown hook in TimedTask!&quot;;\r\n                    this.error = e;\r\n                }\r\n            }\r\n         }\r\n    }\r\n\r\n\r\n\r\n    TimeTask timedTask = new TimedTask(5000, this::computingTask, this::callback);\r\n    \r\n    private void computingTask(){\r\n        for(int i = 0; i &lt; Integer.MAX_VALUE;i++){\r\n             pritnFactorial(i);\r\n        }\r\n    }\r\n    \r\n    private void callback(){\r\n        // log that the task was interrupted\r\n    }\r\n\r\n\r\n\r\n`Thread$interrupt` does not interrupt/kill the thread, it merely sets interrupted flag of the thread. However in this case `computingTask` does not check for the interrupted flag, nor uses any library function that throw `InterruptedException` that checks it internally. Is there any way how to interrupt the computation in this case?\r\n\r\nThanks for help!","title":"Interrupt thread if the task does not check for interrupted flag","body":"<p>Lets say we have simple task executing in thread, that does not check for interrupted flag, but we want to limit the time we want the task to run.</p>\n<pre><code>private class TimedTask{\n     private final long limit;\n     private final Runnable task;\n     private final CustomVoidFunction shutDownCallback;\n     private Thread t;\n     private boolean wasInterrupted = false;\n     private Throwable error;\n     private String cause;\n\n     public TimedTask(long limit, Runnable task, CustomVoidFunction shutDownCallback){\n        this.limit = limit;\n        this.task = task;\n        this.shutDownCallback = shutDownCallback;\n     }\n\n     public void runTask(){\n        t = new Thread(task);\n        t.start();\n        t.join( limit );\n        handleTimeout();\n     }\n         \n     private void handleTimeout(){\n        if (t.isAlive()) {\n            try {\n                // interrupt the thread\n                t.interrupt();\n                this.wasInterrupted = true;\n                // invoke shutdown callback\n                shutDownCallback.execute();\n            } catch (Exception e) {\n                this.cause = &quot;Error during calling shutDown hook in TimedTask!&quot;;\n                this.error = e;\n            }\n        }\n     }\n}\n\n\n\nTimeTask timedTask = new TimedTask(5000, this::computingTask, this::callback);\n\nprivate void computingTask(){\n    for(int i = 0; i &lt; Integer.MAX_VALUE;i++){\n         pritnFactorial(i);\n    }\n}\n\nprivate void callback(){\n    // log that the task was interrupted\n}\n</code></pre>\n<p><code>Thread$interrupt</code> does not interrupt/kill the thread, it merely sets interrupted flag of the thread. However in this case <code>computingTask</code> does not check for the interrupted flag, nor uses any library function that throw <code>InterruptedException</code> that checks it internally. Is there any way how to interrupt the computation in this case?</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","intellij-idea","azure-durable-functions"],"comments":[{"owner":{"account_id":12548624,"reputation":151,"user_id":9498985,"display_name":"Explain Down Vote"},"score":0,"creation_date":1690005058,"post_id":76364945,"comment_id":135295554,"body_markdown":"Is this resolved? Why is this error occurs in Intellij but not in VS Code?","body":"Is this resolved? Why is this error occurs in Intellij but not in VS Code?"},{"owner":{"account_id":23412556,"reputation":117,"user_id":17473998,"display_name":"SomeGuy"},"score":0,"creation_date":1690284648,"post_id":76364945,"comment_id":135328936,"body_markdown":"It is not. That is good question, I was not able to make it work, so I just left Java and move on to C#. In my opinion it is better for Azure development as there is much more material, tutorials, etc. to go around.","body":"It is not. That is good question, I was not able to make it work, so I just left Java and move on to C#. In my opinion it is better for Azure development as there is much more material, tutorials, etc. to go around."}],"owner":{"account_id":23412556,"reputation":117,"user_id":17473998,"display_name":"SomeGuy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685450406,"creation_date":1685450406,"question_id":76364945,"body_markdown":"While trying to build my first durable functions, I am getting this error. I didnt change default code from default file you get, when creating new durable function.\r\n\r\nPart of the error: \r\n\r\n    {&quot;name&quot;:&quot;Cities&quot;,&quot;instanceId&quot;:&quot;f0a50100-1556-4a82-ad2d- \r\n    5b6d0f4eeed7&quot;,&quot;runtimeStatus&quot;:&quot;Failed&quot;,&quot;input&quot;:null,&quot;customStatus&quot;:null,&quot;output&quot;: \r\n    {&quot;message&quot;:&quot;Function &#39;Cities&#39; failed with an unhandled \r\n    exception.&quot;,&quot;details&quot;:&quot;Microsoft.Azure.WebJobs.Host.FunctionInvocationException: Exception \r\n    while executing function: Functions.Cities\\r\\n ---&gt; \r\n    Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException: Result: Failure\\nException: \r\n    UnsupportedOperationException: Interface can&#39;t be instantiated! Interface name: \r\n    com.microsoft.durabletask.TaskOrchestrationContext\\nStack: java.lang.RuntimeException: Unable \r\n    to create instance of interface com.microsoft.durabletask.TaskOrchestrationContext. \r\n    Registering an InstanceCreator or a TypeAdapter for this type, or adding a no-args constructor \r\n    may fix this problem.\\r\\n\\tat \r\n\r\nAs I am trying to run a default file.. I thing, meaby some library is missing? But I should have all prerequisites. \r\n\r\nHost.json :\r\n\r\n    {\r\n      &quot;version&quot;: &quot;2.0&quot;,\r\n      &quot;extensions&quot;: {\r\n        &quot;durableTask&quot;: {\r\n            &quot;hubName&quot;: &quot;JavaTestHub&quot;\r\n        }\r\n      },\r\n    \r\n      &quot;extensionBundle&quot;: {\r\n        &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n        &quot;version&quot;: &quot;[4.*, 5.0.0)&quot;\r\n      }\r\n    }\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n        id &quot;com.microsoft.azure.azurefunctions&quot; version &quot;1.12.0&quot;\r\n    }\r\n    apply plugin: &quot;java&quot;\r\n    \r\n    group &#39;com.phoenix.api&#39;\r\n    version &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;com.azure:azure-identity:1.9.0&#39;\r\n    \r\n        implementation &#39;com.microsoft.azure.functions:azure-functions-java-library:3.0.0&#39;\r\n        implementation &#39;com.microsoft:durabletask-azure-functions:1.1.0&#39;\r\n        implementation &#39;org.jetbrains:annotations:23.0.0&#39;\r\n        implementation &#39;com.azure:azure-storage-blob:12.22.2&#39;\r\n    \r\n        implementation &#39;com.microsoft.sqlserver:mssql-jdbc:7.4.1.jre8&#39;\r\n    \r\n    \r\n        testImplementation &#39;org.mockito:mockito-core:2.23.4&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.4.2&#39;\r\n        implementation &#39;org.json:json:20230227&#39;\r\n    }\r\n    \r\n    sourceCompatibility = &#39;1.8&#39;\r\n    targetCompatibility = &#39;1.8&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n","title":"Azure Durable Functions - Interface can&#39;t be instantiated! - Java","body":"<p>While trying to build my first durable functions, I am getting this error. I didnt change default code from default file you get, when creating new durable function.</p>\n<p>Part of the error:</p>\n<pre><code>{&quot;name&quot;:&quot;Cities&quot;,&quot;instanceId&quot;:&quot;f0a50100-1556-4a82-ad2d- \n5b6d0f4eeed7&quot;,&quot;runtimeStatus&quot;:&quot;Failed&quot;,&quot;input&quot;:null,&quot;customStatus&quot;:null,&quot;output&quot;: \n{&quot;message&quot;:&quot;Function 'Cities' failed with an unhandled \nexception.&quot;,&quot;details&quot;:&quot;Microsoft.Azure.WebJobs.Host.FunctionInvocationException: Exception \nwhile executing function: Functions.Cities\\r\\n ---&gt; \nMicrosoft.Azure.WebJobs.Script.Workers.Rpc.RpcException: Result: Failure\\nException: \nUnsupportedOperationException: Interface can't be instantiated! Interface name: \ncom.microsoft.durabletask.TaskOrchestrationContext\\nStack: java.lang.RuntimeException: Unable \nto create instance of interface com.microsoft.durabletask.TaskOrchestrationContext. \nRegistering an InstanceCreator or a TypeAdapter for this type, or adding a no-args constructor \nmay fix this problem.\\r\\n\\tat \n</code></pre>\n<p>As I am trying to run a default file.. I thing, meaby some library is missing? But I should have all prerequisites.</p>\n<p>Host.json :</p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;extensions&quot;: {\n    &quot;durableTask&quot;: {\n        &quot;hubName&quot;: &quot;JavaTestHub&quot;\n    }\n  },\n\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[4.*, 5.0.0)&quot;\n  }\n}\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id &quot;com.microsoft.azure.azurefunctions&quot; version &quot;1.12.0&quot;\n}\napply plugin: &quot;java&quot;\n\ngroup 'com.phoenix.api'\nversion '1.0.0-SNAPSHOT'\n\ndependencies {\n\n    implementation 'com.azure:azure-identity:1.9.0'\n\n    implementation 'com.microsoft.azure.functions:azure-functions-java-library:3.0.0'\n    implementation 'com.microsoft:durabletask-azure-functions:1.1.0'\n    implementation 'org.jetbrains:annotations:23.0.0'\n    implementation 'com.azure:azure-storage-blob:12.22.2'\n\n    implementation 'com.microsoft.sqlserver:mssql-jdbc:7.4.1.jre8'\n\n\n    testImplementation 'org.mockito:mockito-core:2.23.4'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.4.2'\n    implementation 'org.json:json:20230227'\n}\n\nsourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"},{"tags":["java","classloader","serviceloader"],"comments":[{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1685120087,"post_id":76342882,"comment_id":134622082,"body_markdown":"Please add some context about the versions you are using and don&#39;t forget to add tags to your post ie &quot;java&quot; &quot;jdk&quot; etc.","body":"Please add some context about the versions you are using and don&#39;t forget to add tags to your post ie &quot;java&quot; &quot;jdk&quot; etc."},{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1685120182,"post_id":76342882,"comment_id":134622103,"body_markdown":"&quot;java&quot; tag was in from the start, IIRC. Provided versions now.","body":"&quot;java&quot; tag was in from the start, IIRC. Provided versions now."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1685120259,"post_id":76342882,"comment_id":134622119,"body_markdown":"yeah I see it now, refreshed stuff.","body":"yeah I see it now, refreshed stuff."}],"answers":[{"comments":[{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1685459225,"post_id":76364944,"comment_id":134661236,"body_markdown":"Ah - the cacheing aspect is the explanation I was looking for. Thank you.","body":"Ah - the cacheing aspect is the explanation I was looking for. Thank you."},{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1685532873,"post_id":76364944,"comment_id":134672598,"body_markdown":"The method&#39;s name, however, tells the opposite. If it were &quot;built-in&quot;, that&#39;s the meaning you describe; &quot;installed&quot; however implies you can install things. This was a source of my confusion.","body":"The method&#39;s name, however, tells the opposite. If it were &quot;built-in&quot;, that&#39;s the meaning you describe; &quot;installed&quot; however implies you can install things. This was a source of my confusion."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685537406,"post_id":76364944,"comment_id":134673757,"body_markdown":"Well, the documentation comment uses the phrase “*installed within the JDK*” which was easier to grasp back then, when you could throw jar files into the “ext” folder, literally installing services. But it’s still a difference to the other, broader “load” methods which can find anything from providers supplied with the applications on the classpath, up to dynamically added libraries, or even code generated at runtime, even potentially having different results depending on the caller. Harder to understand, when you’re not using one JDK with multiple applications but bundle one env with `jlink`…","body":"Well, the documentation comment uses the phrase “<i>installed within the JDK</i>” which was easier to grasp back then, when you could throw jar files into the “ext” folder, literally installing services. But it’s still a difference to the other, broader “load” methods which can find anything from providers supplied with the applications on the classpath, up to dynamically added libraries, or even code generated at runtime, even potentially having different results depending on the caller. Harder to understand, when you’re not using one JDK with multiple applications but bundle one env with <code>jlink</code>…"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685450405,"creation_date":1685450405,"answer_id":76364944,"question_id":76342882,"body_markdown":"Even [the oldest documentation] is pretty clear:\r\n\r\n&gt; This method is intended for use when only installed providers are desired. The resulting service will only find and load providers that have been installed into the current Java virtual machine; providers on the application&#39;s class path will be ignored.\r\n\r\n&lt;sup&gt;The [recent documentation] still says the same&lt;/sup&gt;\r\n\r\nSo your knowledge is correct, only providers installed within the JDK will be found with this method and that’s intentional—even given by the method’s name.\r\n\r\nIf you want to use the system class loader, you can simply use the `load(Class)` method, as the “current thread’s context class loader” defaults to the system class loader and you wouldn’t change it without a reason.\r\n\r\nThe [API note on `load(Class)`] says that results should not be cached VM-wide, due to the caller dependency. So, one reason to use the `loadInstalled` method is to be able to cache the invariant JDK provided service implementations.  \r\nSeveral JDK features use this (e.g. [`Charset`]/ [`CharsetProvider`]), to search the cached JDK providers first and only search for application specific providers if the first search failed. To stay with the example, it’s very uncommon to have application specific charsets.\r\n\r\n---\r\nAs a side note, the platform class loader does not load from an ext subdirectory. The mechanism has been abandoned with the introduction of the module system.\r\n\r\n[the oldest documentation]: https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html#loadInstalled(java.lang.Class)\r\n[recent documentation]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html#loadInstalled(java.lang.Class)\r\n[API note on `load(Class)`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html#load(java.lang.Class)\r\n[`Charset`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\r\n[`CharsetProvider`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/spi/CharsetProvider.html","title":"is Java ServiceLoader using the System Class Loader, or the Platform/Extension Class Loader?","body":"<p>Even <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html#loadInstalled(java.lang.Class)\" rel=\"nofollow noreferrer\">the oldest documentation</a> is pretty clear:</p>\n<blockquote>\n<p>This method is intended for use when only installed providers are desired. The resulting service will only find and load providers that have been installed into the current Java virtual machine; providers on the application's class path will be ignored.</p>\n</blockquote>\n<p><sup>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html#loadInstalled(java.lang.Class)\" rel=\"nofollow noreferrer\">recent documentation</a> still says the same</sup></p>\n<p>So your knowledge is correct, only providers installed within the JDK will be found with this method and that’s intentional—even given by the method’s name.</p>\n<p>If you want to use the system class loader, you can simply use the <code>load(Class)</code> method, as the “current thread’s context class loader” defaults to the system class loader and you wouldn’t change it without a reason.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html#load(java.lang.Class)\" rel=\"nofollow noreferrer\">API note on <code>load(Class)</code></a> says that results should not be cached VM-wide, due to the caller dependency. So, one reason to use the <code>loadInstalled</code> method is to be able to cache the invariant JDK provided service implementations.<br />\nSeveral JDK features use this (e.g. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>/ <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/spi/CharsetProvider.html\" rel=\"nofollow noreferrer\"><code>CharsetProvider</code></a>), to search the cached JDK providers first and only search for application specific providers if the first search failed. To stay with the example, it’s very uncommon to have application specific charsets.</p>\n<hr />\n<p>As a side note, the platform class loader does not load from an ext subdirectory. The mechanism has been abandoned with the introduction of the module system.</p>\n"}],"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76364944,"answer_count":1,"score":1,"last_activity_date":1685450405,"creation_date":1685119922,"question_id":76342882,"body_markdown":"Java JDK ServiceLoader as some complex information, and I have a hard time getting this one thing straight: Which class loader it uses.\r\n\r\nThis question concerns the range of JDKs from JDK8 to JDK17.\r\n\r\nThere are three static instantiation functions in the Oracle Java JDK docs:\r\n\r\n* `static &lt;S&gt; ServiceLoader&lt;S&gt; \tload(Class&lt;S&gt; service)`\r\nCreates a new service loader for the given service type, using the current thread&#39;s context class loader.\r\n* `static &lt;S&gt; ServiceLoader&lt;S&gt; \tload(Class&lt;S&gt; service, ClassLoader loader)`\r\nCreates a new service loader for the given service type and class loader.\r\n* `static &lt;S&gt; ServiceLoader&lt;S&gt; \tloadInstalled(Class&lt;S&gt; service)`\r\nCreates a new service loader for the given service type, using the extension class loader.\r\n\r\n(in later JDK, it names the platform class loader instead).\r\n\r\n\r\nThe first two make sense to me. The third one is the confusing one.\r\n\r\nTo my knowledge the Extension/Platform Class Loader is a child of the Bootstrap Class Loader, but a parent to the System Class Loader. BootstrapCL---&gt;PlatformCL--&gt;SystemCL.\r\nThe difference in operation being: the Platform/Extension Class Loader will load only from the java JDK and its ext subdirectory, while the System Class Loader loads from all the `CLASSPATH`, `-cp` and so on the current JVM has been provided with.\r\n\r\nI would expect the System Class Loader to be used, but above documentation explicitly states the Extension or Platform Class Loader will be used.\r\n\r\nIs that really so, and if so, why? ","title":"is Java ServiceLoader using the System Class Loader, or the Platform/Extension Class Loader?","body":"<p>Java JDK ServiceLoader as some complex information, and I have a hard time getting this one thing straight: Which class loader it uses.</p>\n<p>This question concerns the range of JDKs from JDK8 to JDK17.</p>\n<p>There are three static instantiation functions in the Oracle Java JDK docs:</p>\n<ul>\n<li><code>static &lt;S&gt; ServiceLoader&lt;S&gt;  load(Class&lt;S&gt; service)</code>\nCreates a new service loader for the given service type, using the current thread's context class loader.</li>\n<li><code>static &lt;S&gt; ServiceLoader&lt;S&gt;  load(Class&lt;S&gt; service, ClassLoader loader)</code>\nCreates a new service loader for the given service type and class loader.</li>\n<li><code>static &lt;S&gt; ServiceLoader&lt;S&gt;  loadInstalled(Class&lt;S&gt; service)</code>\nCreates a new service loader for the given service type, using the extension class loader.</li>\n</ul>\n<p>(in later JDK, it names the platform class loader instead).</p>\n<p>The first two make sense to me. The third one is the confusing one.</p>\n<p>To my knowledge the Extension/Platform Class Loader is a child of the Bootstrap Class Loader, but a parent to the System Class Loader. BootstrapCL---&gt;PlatformCL--&gt;SystemCL.\nThe difference in operation being: the Platform/Extension Class Loader will load only from the java JDK and its ext subdirectory, while the System Class Loader loads from all the <code>CLASSPATH</code>, <code>-cp</code> and so on the current JVM has been provided with.</p>\n<p>I would expect the System Class Loader to be used, but above documentation explicitly states the Extension or Platform Class Loader will be used.</p>\n<p>Is that really so, and if so, why?</p>\n"},{"tags":["java","javax.xml"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1685449982,"post_id":76364752,"comment_id":134658769,"body_markdown":"Your XML does not contain any namespace declaration, yet your Java code does. The XML should have looked something like `&lt;network xmlns=&quot;urn:com.myproject.server.ws.dto.cfg&quot;&gt;...&lt;/network&gt;`.","body":"Your XML does not contain any namespace declaration, yet your Java code does. The XML should have looked something like <code>&lt;network xmlns=&quot;urn:com.myproject.server.ws.dto.cfg&quot;&gt;...&lt;&#47;network&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":6738,"reputation":6015,"user_id":11457,"display_name":"Matej"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685450378,"creation_date":1685450378,"answer_id":76364938,"question_id":76364752,"body_markdown":"Your XML is not matching what you have configured in @XmlRootElement and @XmlType annotations. \r\n\r\nIn annotations, you have `Network` with uppercase `N` and `urn:com.myproject.server.ws.dto.cfg` namespace. \r\n\r\nIn the XML sample, you are using element `network` with lower-case `n` and no namespace. Try to either align the XML to the annotations, or annotations to the reality of your XML file. \r\n\r\nBased on the error message, other elements might have incorrect case as well. \r\n`Expected elements are &lt;{urn:com.myproject.server.ws.dto.cfg}FullSiteDiversity&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}Network&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}SupportedFeatures&gt;`\r\n\r\nTry this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\r\n    &lt;Network xmlns=&quot;urn:com.myproject.server.ws.dto.cfg&quot;&gt;\r\n        &lt;SupportedFeatures&gt;\r\n            &lt;nmsDiversity&gt;ENABLE&lt;/nmsDiversity&gt;\r\n            &lt;fullSiteDiversity&gt;ENABLE&lt;/fullSiteDiversity&gt;\r\n        &lt;/SupportedFeatures&gt;\r\n        &lt;FullSiteDiversity&gt;\r\n            &lt;activeDc&gt;DC2&lt;/activeDc&gt;\r\n            &lt;active1NGw&gt;My_Teleport_5_GW_Main&lt;/active1NGw&gt;\r\n        &lt;/FullSiteDiversity&gt;\r\n    &lt;/Network&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;network&quot;)","body":"<p>Your XML is not matching what you have configured in @XmlRootElement and @XmlType annotations.</p>\n<p>In annotations, you have <code>Network</code> with uppercase <code>N</code> and <code>urn:com.myproject.server.ws.dto.cfg</code> namespace.</p>\n<p>In the XML sample, you are using element <code>network</code> with lower-case <code>n</code> and no namespace. Try to either align the XML to the annotations, or annotations to the reality of your XML file.</p>\n<p>Based on the error message, other elements might have incorrect case as well.\n<code>Expected elements are &lt;{urn:com.myproject.server.ws.dto.cfg}FullSiteDiversity&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}Network&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}SupportedFeatures&gt;</code></p>\n<p>Try this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Network xmlns=&quot;urn:com.myproject.server.ws.dto.cfg&quot;&gt;\n    &lt;SupportedFeatures&gt;\n        &lt;nmsDiversity&gt;ENABLE&lt;/nmsDiversity&gt;\n        &lt;fullSiteDiversity&gt;ENABLE&lt;/fullSiteDiversity&gt;\n    &lt;/SupportedFeatures&gt;\n    &lt;FullSiteDiversity&gt;\n        &lt;activeDc&gt;DC2&lt;/activeDc&gt;\n        &lt;active1NGw&gt;My_Teleport_5_GW_Main&lt;/active1NGw&gt;\n    &lt;/FullSiteDiversity&gt;\n&lt;/Network&gt;\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76364938,"answer_count":1,"score":0,"last_activity_date":1685450378,"creation_date":1685449101,"question_id":76364752,"body_markdown":"My pojo:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;Network&quot;, namespace = &quot;urn:com.myproject.server.ws.dto.cfg&quot;)\r\n    @XmlType(name = &quot;Network&quot;, namespace = &quot;urn:com.myproject.server.ws.dto.cfg&quot;)\r\n    public class Network {\r\n        @NotNull\r\n        @Valid\r\n        private NetworkSupportedFeaturesSection supportedFeatures;\r\n    \r\n        @Valid\r\n        private NetworkFullSiteDiversitySection fullSiteDiversity;\r\n    \r\n        public NetworkSupportedFeaturesSection getSupportedFeatures() {\r\n            return supportedFeatures;\r\n        }\r\n    \r\n        public void setSupportedFeatures(NetworkSupportedFeaturesSection supportedFeatures) {\r\n            this.supportedFeatures = supportedFeatures;\r\n        }\r\n    \r\n        public NetworkFullSiteDiversitySection getFullSiteDiversity() {\r\n            return fullSiteDiversity;\r\n        }\r\n    \r\n        public void setFullSiteDiversity(NetworkFullSiteDiversitySection fullSiteDiversity) {\r\n            this.fullSiteDiversity = fullSiteDiversity;\r\n        }\r\n    }\r\n\r\n\r\nHere my xml:\r\n\r\n \r\n\r\n     &lt;network&gt;\r\n        &lt;supportedFeatures&gt;\r\n            &lt;nmsDiversity&gt;ENABLE&lt;/nmsDiversity&gt;\r\n            &lt;fullSiteDiversity&gt;ENABLE&lt;/fullSiteDiversity&gt;\r\n        &lt;/supportedFeatures&gt;\r\n        &lt;fullSiteDiversity&gt;\r\n            &lt;activeDc&gt;DC2&lt;/activeDc&gt;\r\n            &lt;active1NGw&gt;My_Teleport_5_GW_Main&lt;/active1NGw&gt;\r\n        &lt;/fullSiteDiversity&gt;\r\n    &lt;/network&gt;\r\n\r\n     \r\n\r\nHere my unit test:\r\n\r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.JAXBException;\r\n    import javax.xml.bind.Unmarshaller;\r\n     @Test\r\n        public void should_throw_exception_with_error_message_when_execute_operation_with_corrupted_parameter2() throws IOException {\r\n            URL url = getClass().getResource(PATH_TO_FULL_SITE_DIVERSITY_RESOURCES + &quot;/network_node.xml&quot;);\r\n            Optional&lt;Network&gt; network = convertXMLToObject(url);\r\n        }\r\n    \r\n        private static Optional&lt;Network&gt; convertXMLToObject(URL url) {\r\n            try {\r\n                JAXBContext context = JAXBContext.newInstance(Network.class);\r\n                Unmarshaller un = context.createUnmarshaller();\r\n                return Optional.of((Network) un.unmarshal(url)); // error here\r\n            } catch (JAXBException e) {\r\n                LOGGER.error(e.getMessage(), e);\r\n            }\r\n            return Optional.empty();\r\n        }\r\n\r\nBut I get error:\r\n\r\n    2023-05-30 15:11:57.705 ERROR [NetworkWebServiceTest:main] unexpected element (uri:&quot;&quot;, local:&quot;network&quot;). Expected elements are &lt;{urn:com.myproject.server.ws.dto.cfg}FullSiteDiversity&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}Network&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}SupportedFeatures&gt;\r\n    javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;network&quot;). Expected elements are &lt;{urn:com.myproject.server.ws.dto.cfg}FullSiteDiversity&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}Network&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}SupportedFeatures&gt;\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:712) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:232) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:227) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:94) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1117) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:542) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:524) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\r\n    \tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\r\n    \tat org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\r\n    \tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\r\n    \tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\r\n    \tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:228) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:199) ~[jaxb-runtime-2.3.5.jar:2.3.5]\r\n    \tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:157) ~[?:1.8.0_342]\r\n    \tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:162) ~[?:1.8.0_342]\r\n    \tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:171) ~[?:1.8.0_342]\r\n    \tat com.myproject.integrationtest.server.ws.NetworkWebServiceTest.convertXMLToObject(NetworkWebServiceTest.java:106) ~[test-classes/:?]\r\n    \tat com.myproject.integrationtest.server.ws.NetworkWebServiceTest.should_throw_exception_with_error_message_when_execute_operation_with_corrupted_parameter2(NetworkWebServiceTest.java:98) ~[test-classes/:?]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_342]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_342]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_342]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_342]\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137) ~[junit-4.13.2.jar:4.13.2]\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) ~[junit-rt.jar:?]\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:?]\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:?]\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:?]\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:?]\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:?]\r\n\r\n\r\n\r\n","title":"javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;network&quot;)","body":"<p>My pojo:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;Network&quot;, namespace = &quot;urn:com.myproject.server.ws.dto.cfg&quot;)\n@XmlType(name = &quot;Network&quot;, namespace = &quot;urn:com.myproject.server.ws.dto.cfg&quot;)\npublic class Network {\n    @NotNull\n    @Valid\n    private NetworkSupportedFeaturesSection supportedFeatures;\n\n    @Valid\n    private NetworkFullSiteDiversitySection fullSiteDiversity;\n\n    public NetworkSupportedFeaturesSection getSupportedFeatures() {\n        return supportedFeatures;\n    }\n\n    public void setSupportedFeatures(NetworkSupportedFeaturesSection supportedFeatures) {\n        this.supportedFeatures = supportedFeatures;\n    }\n\n    public NetworkFullSiteDiversitySection getFullSiteDiversity() {\n        return fullSiteDiversity;\n    }\n\n    public void setFullSiteDiversity(NetworkFullSiteDiversitySection fullSiteDiversity) {\n        this.fullSiteDiversity = fullSiteDiversity;\n    }\n}\n</code></pre>\n<p>Here my xml:</p>\n<pre><code> &lt;network&gt;\n    &lt;supportedFeatures&gt;\n        &lt;nmsDiversity&gt;ENABLE&lt;/nmsDiversity&gt;\n        &lt;fullSiteDiversity&gt;ENABLE&lt;/fullSiteDiversity&gt;\n    &lt;/supportedFeatures&gt;\n    &lt;fullSiteDiversity&gt;\n        &lt;activeDc&gt;DC2&lt;/activeDc&gt;\n        &lt;active1NGw&gt;My_Teleport_5_GW_Main&lt;/active1NGw&gt;\n    &lt;/fullSiteDiversity&gt;\n&lt;/network&gt;\n\n \n</code></pre>\n<p>Here my unit test:</p>\n<pre><code>import javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Unmarshaller;\n @Test\n    public void should_throw_exception_with_error_message_when_execute_operation_with_corrupted_parameter2() throws IOException {\n        URL url = getClass().getResource(PATH_TO_FULL_SITE_DIVERSITY_RESOURCES + &quot;/network_node.xml&quot;);\n        Optional&lt;Network&gt; network = convertXMLToObject(url);\n    }\n\n    private static Optional&lt;Network&gt; convertXMLToObject(URL url) {\n        try {\n            JAXBContext context = JAXBContext.newInstance(Network.class);\n            Unmarshaller un = context.createUnmarshaller();\n            return Optional.of((Network) un.unmarshal(url)); // error here\n        } catch (JAXBException e) {\n            LOGGER.error(e.getMessage(), e);\n        }\n        return Optional.empty();\n    }\n</code></pre>\n<p>But I get error:</p>\n<pre><code>2023-05-30 15:11:57.705 ERROR [NetworkWebServiceTest:main] unexpected element (uri:&quot;&quot;, local:&quot;network&quot;). Expected elements are &lt;{urn:com.myproject.server.ws.dto.cfg}FullSiteDiversity&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}Network&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}SupportedFeatures&gt;\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;network&quot;). Expected elements are &lt;{urn:com.myproject.server.ws.dto.cfg}FullSiteDiversity&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}Network&gt;,&lt;{urn:com.myproject.server.ws.dto.cfg}SupportedFeatures&gt;\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:712) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:232) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:227) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:94) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1117) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:542) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:524) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\n    at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\n    at org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) ~[xercesImpl-2.12.2.jar:2.12.2]\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\n    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\n    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) ~[xercesImpl-2.12.2.jar:?]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:228) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:199) ~[jaxb-runtime-2.3.5.jar:2.3.5]\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:157) ~[?:1.8.0_342]\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:162) ~[?:1.8.0_342]\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:171) ~[?:1.8.0_342]\n    at com.myproject.integrationtest.server.ws.NetworkWebServiceTest.convertXMLToObject(NetworkWebServiceTest.java:106) ~[test-classes/:?]\n    at com.myproject.integrationtest.server.ws.NetworkWebServiceTest.should_throw_exception_with_error_message_when_execute_operation_with_corrupted_parameter2(NetworkWebServiceTest.java:98) ~[test-classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_342]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_342]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_342]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_342]\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413) ~[junit-4.13.2.jar:4.13.2]\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137) ~[junit-4.13.2.jar:4.13.2]\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) ~[junit-rt.jar:?]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:?]\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:?]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:?]\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:?]\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:?]\n</code></pre>\n"},{"tags":["java","google-api","google-drive-api","drive"],"owner":{"account_id":28710240,"reputation":1,"user_id":21985861,"display_name":"Netx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685450317,"creation_date":1685450317,"question_id":76364928,"body_markdown":"In my java code I upload a file using google drive api library, when I put a large file I get sometimes error 504: \r\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 504 Connection Timed Out PUT https://www.googleapis.com/upload/drive/v3/files/XXXXXXXXXXXXXXXXX?uploadType=resumable&amp;upload_id=XXXXXXXXXXXXXXX &lt;HEAD&gt;&lt;TITLE&gt;Connection Timed Out&lt;/TITLE&gt;&lt;/HEAD&gt; &lt;BODY BGCOLOR=&quot;white&quot; FGCOLOR=&quot;black&quot;&gt;&lt;H1&gt;Connection Timed Out&lt;/H1&gt;&lt;HR&gt; &lt;FONT FACE=&quot;Helvetica,Arial&quot;&gt;&lt;B&gt; Description: Connection Timed Out&lt;/B&gt;&lt;/FONT&gt; &lt;HR&gt; &lt;!-- default &quot;Connection Timed Out&quot; response (504) --&gt; &lt;/BODY&gt; \r\nI try to solve its using this: https://developers.google.com/api-client-library/java/google-api-java-client/errors\r\n\r\nbut its didn’t work for me, I set a unlimited timeout and I keep getting this message.\r\n\r\n\r\n\r\n```\r\npublic void initialize(HttpRequest httpRequest)\r\n\t\tthrows IOException {\r\n\tcred.initialize(httpRequest);\r\n\thttpRequest.setWriteTimeout(minutes);\r\n\thttpRequest.setConnectTimeout(minutes);\r\n\thttpRequest.setReadTimeout(minutes);\r\n}\r\n```\r\n","title":"Upload a large file to google drive using java api client library","body":"<p>In my java code I upload a file using google drive api library, when I put a large file I get sometimes error 504:\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 504 Connection Timed Out PUT <a href=\"https://www.googleapis.com/upload/drive/v3/files/XXXXXXXXXXXXXXXXX?uploadType=resumable&amp;upload_id=XXXXXXXXXXXXXXX\" rel=\"nofollow noreferrer\">https://www.googleapis.com/upload/drive/v3/files/XXXXXXXXXXXXXXXXX?uploadType=resumable&amp;upload_id=XXXXXXXXXXXXXXX</a> Connection Timed Out <H1>Connection Timed Out</H1><HR> <B> Description: Connection Timed Out</B> <HR>  \nI try to solve its using this: <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/errors\" rel=\"nofollow noreferrer\">https://developers.google.com/api-client-library/java/google-api-java-client/errors</a></p>\n<p>but its didn’t work for me, I set a unlimited timeout and I keep getting this message.</p>\n<pre><code>public void initialize(HttpRequest httpRequest)\n        throws IOException {\n    cred.initialize(httpRequest);\n    httpRequest.setWriteTimeout(minutes);\n    httpRequest.setConnectTimeout(minutes);\n    httpRequest.setReadTimeout(minutes);\n}\n</code></pre>\n"},{"tags":["java","locale","decimal-point","setlocale"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685446383,"post_id":76364304,"comment_id":134657937,"body_markdown":"Since you mention a script, you can pass `-Duser.language=en -Duser.country=US` on the java command line (before any class name or -jar option).  See https://stackoverflow.com/questions/8809098/how-do-i-set-the-default-locale-in-the-jvm.","body":"Since you mention a script, you can pass <code>-Duser.language=en -Duser.country=US</code> on the java command line (before any class name or -jar option).  See <a href=\"https://stackoverflow.com/questions/8809098/how-do-i-set-the-default-locale-in-the-jvm\" title=\"how do i set the default locale in the jvm\">stackoverflow.com/questions/8809098/&hellip;</a>."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685446618,"post_id":76364304,"comment_id":134657991,"body_markdown":"What do you consider a script in Java exactly? Are you not compiling programs?","body":"What do you consider a script in Java exactly? Are you not compiling programs?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685446680,"post_id":76364304,"comment_id":134658003,"body_markdown":"@OHGODSPIDERS Whew.  Thank you for catching that in time for me to edit it.","body":"@OHGODSPIDERS Whew.  Thank you for catching that in time for me to edit it."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685447007,"post_id":76364304,"comment_id":134658077,"body_markdown":"@aled: By script, I just meant the .java file, which I&#39;m from the IntelliJIDEA IDE.","body":"@aled: By script, I just meant the .java file, which I&#39;m from the IntelliJIDEA IDE."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685447129,"post_id":76364304,"comment_id":134658093,"body_markdown":"@VGR: Since I am running the file from the IntelliJIDEA IDE, I am not sure to which command line I&#39;d pass these parameters.","body":"@VGR: Since I am running the file from the IntelliJIDEA IDE, I am not sure to which command line I&#39;d pass these parameters."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685447343,"post_id":76364304,"comment_id":134658123,"body_markdown":"Just FYI in terminology a .java source file is not called a script.","body":"Just FYI in terminology a .java source file is not called a script."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685447496,"post_id":76364304,"comment_id":134658160,"body_markdown":"@aled: Fair enough, probably I misreferred to it, as I was used to calling .py code files scripts too.","body":"@aled: Fair enough, probably I misreferred to it, as I was used to calling .py code files scripts too."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1685447574,"post_id":76364304,"comment_id":134658181,"body_markdown":"@bproxauf can you post a minimal reproducible example?","body":"@bproxauf can you post a minimal reproducible example?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685447954,"post_id":76364304,"comment_id":134658259,"body_markdown":"You set the Windows Region and Language settings. Because that is what determines the locale Java uses by default. Or you use a script to start Java (every time).","body":"You set the Windows Region and Language settings. Because that is what determines the locale Java uses by default. Or you use a script to start Java (every time)."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685447962,"post_id":76364304,"comment_id":134658260,"body_markdown":"@Morph21: I have included the example code as well as successful and unsuccessful program run messages.","body":"@Morph21: I have included the example code as well as successful and unsuccessful program run messages."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1685448029,"post_id":76364304,"comment_id":134658279,"body_markdown":"@bproxauf you can set locale for scanner in this way Scanner sc = new Scanner(System.in).useLocale(Locale.ENGLISH);","body":"@bproxauf you can set locale for scanner in this way Scanner sc = new Scanner(System.in).useLocale(Locale.ENGLISH);"},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685448113,"post_id":76364304,"comment_id":134658300,"body_markdown":"@ElliottFrisch: Region and Language settings are currently set to German (Germany), but I&#39;d like to not modify these (no idea what else would be affected, keyboard layout, date/time format etc., which I do not want to change globally for my computer).","body":"@ElliottFrisch: Region and Language settings are currently set to German (Germany), but I&#39;d like to not modify these (no idea what else would be affected, keyboard layout, date/time format etc., which I do not want to change globally for my computer)."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685448167,"post_id":76364304,"comment_id":134658307,"body_markdown":"Does this answer your question? [Set java system properties in IntelliJ or Eclipse](https://stackoverflow.com/questions/29454494/set-java-system-properties-in-intellij-or-eclipse)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29454494/set-java-system-properties-in-intellij-or-eclipse\">Set java system properties in IntelliJ or Eclipse</a>"},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685448186,"post_id":76364304,"comment_id":134658312,"body_markdown":"@Morph21: That line would need to be included in every java source file from scratch, instead of changing the locale once and for all.","body":"@Morph21: That line would need to be included in every java source file from scratch, instead of changing the locale once and for all."},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1685448233,"post_id":76364304,"comment_id":134658323,"body_markdown":"In the question you linked, there is [this answer](https://stackoverflow.com/a/56655305/7525132), which mentions the variable `JAVA_TOOL_OPTIONS`. Is this applicable here?","body":"In the question you linked, there is <a href=\"https://stackoverflow.com/a/56655305/7525132\">this answer</a>, which mentions the variable <code>JAVA_TOOL_OPTIONS</code>. Is this applicable here?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685448292,"post_id":76364304,"comment_id":134658340,"body_markdown":"If you want to permanently change it, you need to change your Windows locale settings, not Java.","body":"If you want to permanently change it, you need to change your Windows locale settings, not Java."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1685448537,"post_id":76364304,"comment_id":134658390,"body_markdown":"Scanner is specifically designed and documented to use your locale, as set by your operating system (unless overridden). It seems that what you are asking is how to permanently set your Java locale to be different from your Windows locale. You can do that using the JAVA_TOOL_OPTIONS environment variable, but this could have other consequences in situations where you need to use your German locale. And it seems strange to have two different locales, one for Java, and another for non-Java.","body":"Scanner is specifically designed and documented to use your locale, as set by your operating system (unless overridden). It seems that what you are asking is how to permanently set your Java locale to be different from your Windows locale. You can do that using the JAVA_TOOL_OPTIONS environment variable, but this could have other consequences in situations where you need to use your German locale. And it seems strange to have two different locales, one for Java, and another for non-Java."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1685448774,"post_id":76364304,"comment_id":134658453,"body_markdown":"Do you not want to call method `setDefault` (of class `Locale`) in your code? Things like the &quot;locale&quot; apply to the [JVM](https://en.wikipedia.org/wiki/Java_virtual_machine). The JVM is created when you launch your Java program and ceases to exist when your Java program terminates. Seems to me like `Locale.setDefault` is exactly what you need.","body":"Do you not want to call method <code>setDefault</code> (of class <code>Locale</code>) in your code? Things like the &quot;locale&quot; apply to the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>. The JVM is created when you launch your Java program and ceases to exist when your Java program terminates. Seems to me like <code>Locale.setDefault</code> is exactly what you need."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685448924,"post_id":76364304,"comment_id":134658493,"body_markdown":"@Izruo, @k314159: Creating the `JAVA_TOOL_OPTIONS` environment variable with `-Duser.language=en -Duser.region=US` works. Editing the IDE file `idea64.exe.vmoptions` via `-Duser.locale=en-US -Duser.language=en - Duser.country=US -Duser.variant=US` does not seem to have any effect.","body":"@Izruo, @k314159: Creating the <code>JAVA_TOOL_OPTIONS</code> environment variable with <code>-Duser.language=en -Duser.region=US</code> works. Editing the IDE file <code>idea64.exe.vmoptions</code> via <code>-Duser.locale=en-US -Duser.language=en - Duser.country=US -Duser.variant=US</code> does not seem to have any effect."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685449133,"post_id":76364304,"comment_id":134658542,"body_markdown":"@k314159: I simply think that the &quot;.&quot; separator should be the default decimal separator (even if in countries like Germany &quot;,&quot; is used). Other settings like date/time formats for my computer I am completely fine with, and I would not like to touch those via the Windows locale settings.","body":"@k314159: I simply think that the &quot;.&quot; separator should be the default decimal separator (even if in countries like Germany &quot;,&quot; is used). Other settings like date/time formats for my computer I am completely fine with, and I would not like to touch those via the Windows locale settings."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1685449467,"post_id":76364304,"comment_id":134658637,"body_markdown":"The `idea64.exe.vmoptions` affects only the JVM that runs IDEA itself, not the JVMs that run your applications. To change the latter, you need to modify your Run Configurations and add JVM options for every single project.","body":"The <code>idea64.exe.vmoptions</code> affects only the JVM that runs IDEA itself, not the JVMs that run your applications. To change the latter, you need to modify your Run Configurations and add JVM options for every single project."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685449615,"post_id":76364304,"comment_id":134658665,"body_markdown":"@k314159: I have not created any Run Configurations until now. But you are saying these need to be created for every single project again? There is no single configuration for the whole IDEA which applies to all projects?","body":"@k314159: I have not created any Run Configurations until now. But you are saying these need to be created for every single project again? There is no single configuration for the whole IDEA which applies to all projects?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1685516077,"post_id":76364304,"comment_id":134669151,"body_markdown":"Well, Im not sure if this will work for you but you can create Run Configurations and store it as file and then copypaste to each project of yours. Also you did create run configuration if you at least once clicked run in idea, well idea created one on it&#39;s own at least","body":"Well, Im not sure if this will work for you but you can create Run Configurations and store it as file and then copypaste to each project of yours. Also you did create run configuration if you at least once clicked run in idea, well idea created one on it&#39;s own at least"}],"answers":[{"comments":[{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685449275,"post_id":76364719,"comment_id":134658592,"body_markdown":"As I understand it, this is a valid solution for that specific Java source file you created. But I am looking for a cross-source-file solution, so that I do not always need to include that command in every single .java file.","body":"As I understand it, this is a valid solution for that specific Java source file you created. But I am looking for a cross-source-file solution, so that I do not always need to include that command in every single .java file."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1685449766,"post_id":76364719,"comment_id":134658707,"body_markdown":"Well it should work like it&#39;s working without changing locale. Since every user have his/her locale set in pc. They will type the numbers like they would normally so it shouldn&#39;t be weird for them. Also if you don&#39;t won&#39;t to bother with that just get it with scanner as string and parse it to double like k314159 said. Ultimately if you will not set locale in run file then every user will have different one. And if you want it only for you then it shouldn&#39;t be a problem to change it for whole pc or just change it for specific jvm version you are using.","body":"Well it should work like it&#39;s working without changing locale. Since every user have his/her locale set in pc. They will type the numbers like they would normally so it shouldn&#39;t be weird for them. Also if you don&#39;t won&#39;t to bother with that just get it with scanner as string and parse it to double like k314159 said. Ultimately if you will not set locale in run file then every user will have different one. And if you want it only for you then it shouldn&#39;t be a problem to change it for whole pc or just change it for specific jvm version you are using."},{"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"score":0,"creation_date":1685450027,"post_id":76364719,"comment_id":134658782,"body_markdown":"Ok, seems reasonable.","body":"Ok, seems reasonable."}],"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685450303,"creation_date":1685448901,"answer_id":76364719,"question_id":76364304,"body_markdown":"I&#39;m not sure how you used `Locale.setDefault()`, but the only thing it does is change default settings.\r\n\r\nSo while `Scanner` initially uses default settings, it only appears while it&#39;s created. If you set default after the object was created then it won&#39;t have any effect on that.\r\n\r\nHere is an example with comments which describes how it works:\r\n\r\n```java\r\npublic class DecimalScanner {\r\n  public static void main(String[] args) {\r\n    Locale.setDefault(Locale.ENGLISH); // Sets default locale for whole java application and every object that will use it\r\n\r\n    Scanner sc = new Scanner(System.in); // Uses default locale as a base in initialization\r\n\r\n    sc.nextDouble(); // &quot;.&quot; works\r\n\r\n    Locale.setDefault(Locale.GERMANY); // Changed default locale but scanner still have settings from creation time\r\n\r\n    sc.nextDouble(); // &quot;.&quot; works\r\n\r\n    sc = new Scanner(System.in); // Created new scanner with current default value (GERMANY)\r\n\r\n    sc.nextDouble(); // &quot;,&quot; works\r\n\r\n    sc.useLocale(Locale.ENGLISH); // Setting locale for scanner to use\r\n\r\n    sc.nextDouble(); // &quot;.&quot; works\r\n\r\n    // Now default locale is still set to GERMANY so new objects will use that\r\n  }\r\n}\r\n```\r\n\r\nYou can also set it on vm options in IntelliJ or while running java from command line with a parameter:\r\n\r\n```shell\r\njava -Duser.country=EN -Duser.language=en\r\n```","title":"Java set locale permanently","body":"<p>I'm not sure how you used <code>Locale.setDefault()</code>, but the only thing it does is change default settings.</p>\n<p>So while <code>Scanner</code> initially uses default settings, it only appears while it's created. If you set default after the object was created then it won't have any effect on that.</p>\n<p>Here is an example with comments which describes how it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DecimalScanner {\n  public static void main(String[] args) {\n    Locale.setDefault(Locale.ENGLISH); // Sets default locale for whole java application and every object that will use it\n\n    Scanner sc = new Scanner(System.in); // Uses default locale as a base in initialization\n\n    sc.nextDouble(); // &quot;.&quot; works\n\n    Locale.setDefault(Locale.GERMANY); // Changed default locale but scanner still have settings from creation time\n\n    sc.nextDouble(); // &quot;.&quot; works\n\n    sc = new Scanner(System.in); // Created new scanner with current default value (GERMANY)\n\n    sc.nextDouble(); // &quot;,&quot; works\n\n    sc.useLocale(Locale.ENGLISH); // Setting locale for scanner to use\n\n    sc.nextDouble(); // &quot;.&quot; works\n\n    // Now default locale is still set to GERMANY so new objects will use that\n  }\n}\n</code></pre>\n<p>You can also set it on vm options in IntelliJ or while running java from command line with a parameter:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Duser.country=EN -Duser.language=en\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685449262,"creation_date":1685449262,"answer_id":76364779,"question_id":76364304,"body_markdown":"If all you want to do is to parse Strings to doubles, using the same format that you would when writing the double in the source file itself, then don&#39;t use Scanner. Scanner specifically uses your locale. Use `Double.parseDouble` instead:\r\n\r\n\r\n```\r\npublic class NoDecimalError {\r\n\r\n    public static void main(String[] args) {\r\n        var reader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n        System.out.print(&quot;Enter decimal number: &quot;);\r\n        double decimal = Double.parseDouble(reader.readLine());\r\n    }\r\n\r\n}\r\n```","title":"Java set locale permanently","body":"<p>If all you want to do is to parse Strings to doubles, using the same format that you would when writing the double in the source file itself, then don't use Scanner. Scanner specifically uses your locale. Use <code>Double.parseDouble</code> instead:</p>\n<pre><code>public class NoDecimalError {\n\n    public static void main(String[] args) {\n        var reader = new BufferedReader(new InputStreamReader(System.in));\n\n        System.out.print(&quot;Enter decimal number: &quot;);\n        double decimal = Double.parseDouble(reader.readLine());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6853477,"reputation":1084,"user_id":5269892,"accept_rate":78,"display_name":"bproxauf"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685450303,"creation_date":1685445885,"question_id":76364304,"body_markdown":"I am completely new to Java (I am mainly using Python) and I am using it on a Windows machine with the IntelliJIDEA IDE. When entering a decimal using the dot (&quot;.&quot;) instead of the comma (&quot;,&quot;) separator, I get an error.\r\n\r\nQuick googling suggests this has to do with the [Locale, which may be changed][1], e.g. to &quot;en-US&quot;. I am not familiar with the Locale at all, but I tried changing it via [Locale.setDefault][1] inside the main method. However, the modification apparently is not permanent (when I remove that line and restart the script, the error when entering e.g. &quot;2.5&quot; instead of &quot;2,5&quot; still appears).\r\n\r\nHow do I **permanently** change the Locale (I don&#39;t want to include some code line for every script I write)? If there is some other way to permanently set &quot;.&quot; as the default decimal separator, that&#39;s fine too. I&#39;d like to avoid [overriding the Windows Region &amp; Language settings][2]. Path variables or the like would be ok. Thanks in advance!\r\n\r\n---\r\n\r\n**Minimal reproducible example:**\r\n\r\n    import java.util.Scanner;\r\n    public class DecimalError {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter decimal number: &quot;);\r\n            double decimal = scanner.nextDouble();\r\n        }\r\n    \r\n    }\r\n\r\n---\r\n\r\n**Error message:**\r\n\r\n    C:\\Users\\XYZ\\.jdks\\openjdk-20.0.1\\bin\\java.exe &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\lib\\idea_rt.jar=61309:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;D:\\Dokumente\\Programming\\Java for Absolute Beginners\\HelloWorld\\out\\production\\HelloWorld&quot; DecimalError\r\n    Enter decimal number: 2.5\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    \tat java.base/java.util.Scanner.throwFor(Scanner.java:947)\r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1602)\r\n    \tat java.base/java.util.Scanner.nextDouble(Scanner.java:2573)\r\n    \tat DecimalError.main(DecimalError.java:8)\r\n    \r\n    Process finished with exit code 1\r\n\r\n---\r\n\r\n**Successful execution:**\r\n\r\n    C:\\Users\\XYZ\\.jdks\\openjdk-20.0.1\\bin\\java.exe &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\lib\\idea_rt.jar=61318:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;D:\\Dokumente\\Programming\\Java for Absolute Beginners\\HelloWorld\\out\\production\\HelloWorld&quot; DecimalError\r\n    Enter decimal number: 2,5\r\n    \r\n    Process finished with exit code 0\r\n\r\n  [1]: https://stackoverflow.com/a/8809162/5269892\r\n  [2]: https://stackoverflow.com/a/31529213/5269892\r\n\r\n\r\n","title":"Java set locale permanently","body":"<p>I am completely new to Java (I am mainly using Python) and I am using it on a Windows machine with the IntelliJIDEA IDE. When entering a decimal using the dot (&quot;.&quot;) instead of the comma (&quot;,&quot;) separator, I get an error.</p>\n<p>Quick googling suggests this has to do with the <a href=\"https://stackoverflow.com/a/8809162/5269892\">Locale, which may be changed</a>, e.g. to &quot;en-US&quot;. I am not familiar with the Locale at all, but I tried changing it via <a href=\"https://stackoverflow.com/a/8809162/5269892\">Locale.setDefault</a> inside the main method. However, the modification apparently is not permanent (when I remove that line and restart the script, the error when entering e.g. &quot;2.5&quot; instead of &quot;2,5&quot; still appears).</p>\n<p>How do I <strong>permanently</strong> change the Locale (I don't want to include some code line for every script I write)? If there is some other way to permanently set &quot;.&quot; as the default decimal separator, that's fine too. I'd like to avoid <a href=\"https://stackoverflow.com/a/31529213/5269892\">overriding the Windows Region &amp; Language settings</a>. Path variables or the like would be ok. Thanks in advance!</p>\n<hr />\n<p><strong>Minimal reproducible example:</strong></p>\n<pre><code>import java.util.Scanner;\npublic class DecimalError {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter decimal number: &quot;);\n        double decimal = scanner.nextDouble();\n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>Error message:</strong></p>\n<pre><code>C:\\Users\\XYZ\\.jdks\\openjdk-20.0.1\\bin\\java.exe &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\lib\\idea_rt.jar=61309:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;D:\\Dokumente\\Programming\\Java for Absolute Beginners\\HelloWorld\\out\\production\\HelloWorld&quot; DecimalError\nEnter decimal number: 2.5\nException in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:947)\n    at java.base/java.util.Scanner.next(Scanner.java:1602)\n    at java.base/java.util.Scanner.nextDouble(Scanner.java:2573)\n    at DecimalError.main(DecimalError.java:8)\n\nProcess finished with exit code 1\n</code></pre>\n<hr />\n<p><strong>Successful execution:</strong></p>\n<pre><code>C:\\Users\\XYZ\\.jdks\\openjdk-20.0.1\\bin\\java.exe &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\lib\\idea_rt.jar=61318:D:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;D:\\Dokumente\\Programming\\Java for Absolute Beginners\\HelloWorld\\out\\production\\HelloWorld&quot; DecimalError\nEnter decimal number: 2,5\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","selenium-webdriver","error-handling","cucumber","ui-automation"],"comments":[{"owner":{"account_id":25838667,"reputation":322,"user_id":19574650,"display_name":"I.sh."},"score":0,"creation_date":1685292055,"post_id":76352300,"comment_id":134638121,"body_markdown":"This is very confusing. where exactly the exception come from?\nand you sure that you don&#39;t need to switch to an Iframe again?","body":"This is very confusing. where exactly the exception come from? and you sure that you don&#39;t need to switch to an Iframe again?"},{"owner":{"account_id":25838667,"reputation":322,"user_id":19574650,"display_name":"I.sh."},"score":0,"creation_date":1685292215,"post_id":76352300,"comment_id":134638126,"body_markdown":"FYI: wrapping `getText` with `String.valueOf` is redundant","body":"FYI: wrapping <code>getText</code> with <code>String.valueOf</code> is redundant"},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1685450183,"post_id":76352300,"comment_id":134658837,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](https://meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"https://meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"comments":[{"owner":{"account_id":28697192,"reputation":1,"user_id":21975165,"display_name":"Vlad Stegaru"},"score":0,"creation_date":1685363214,"post_id":76355180,"comment_id":134645873,"body_markdown":"Thank you for your comment! I&#39;ve tried that within the below code, but still doesn&#39;t working\nI still get the same error: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element","body":"Thank you for your comment! I&#39;ve tried that within the below code, but still doesn&#39;t working I still get the same error: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element"},{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1685365304,"post_id":76355180,"comment_id":134646283,"body_markdown":"Make sure you moved to the correct Iframe + revalidate the CSS expression of the element you need.","body":"Make sure you moved to the correct Iframe + revalidate the CSS expression of the element you need."}],"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685342726,"creation_date":1685342726,"answer_id":76355180,"question_id":76352300,"body_markdown":"Vlad, check if the elements sits inside of Iframe. If the element is wrapped in an Iframe - you need to tell Selenium to focus on the relevant Iframe:\r\n\r\n    driver.switchTo().frame(0);\r\n\r\nOr\r\n\r\n    driver.switchTo().frame(&quot;id of the Iframe&quot;);\r\n\r\nSelenium ignores any element that is wrapped inside Iframe by default. You must change the focus in order to interact with such elements.","title":"Why am I getting &#39;Unable to locate element&#39; error for &#39;MainContent_txtTaskName&#39;?","body":"<p>Vlad, check if the elements sits inside of Iframe. If the element is wrapped in an Iframe - you need to tell Selenium to focus on the relevant Iframe:</p>\n<pre><code>driver.switchTo().frame(0);\n</code></pre>\n<p>Or</p>\n<pre><code>driver.switchTo().frame(&quot;id of the Iframe&quot;);\n</code></pre>\n<p>Selenium ignores any element that is wrapped inside Iframe by default. You must change the focus in order to interact with such elements.</p>\n"},{"comments":[{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1685442526,"post_id":76363864,"comment_id":134657099,"body_markdown":"What is mean by you as &#39;swiftk12&#39; in your code?","body":"What is mean by you as &#39;swiftk12&#39; in your code?"},{"owner":{"account_id":28697192,"reputation":1,"user_id":21975165,"display_name":"Vlad Stegaru"},"score":0,"creation_date":1685449978,"post_id":76363864,"comment_id":134658766,"body_markdown":"Thank you for the suggested solution! Unfortunately, the test still fails with the same error message. I&#39;ll try something else.","body":"Thank you for the suggested solution! Unfortunately, the test still fails with the same error message. I&#39;ll try something else."},{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1685454030,"post_id":76363864,"comment_id":134659860,"body_markdown":"Could you check using below css selection will work for element capture.\n\n@FindBy(css = &quot;input#MainContent_txtTaskName&quot;)","body":"Could you check using below css selection will work for element capture.  @FindBy(css = &quot;input#MainContent_txtTaskName&quot;)"},{"owner":{"account_id":28697192,"reputation":1,"user_id":21975165,"display_name":"Vlad Stegaru"},"score":0,"creation_date":1685710444,"post_id":76363864,"comment_id":134703041,"body_markdown":"Thank you for your suggestion, but still no success.","body":"Thank you for your suggestion, but still no success."}],"tags":[],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685442419,"creation_date":1685442419,"answer_id":76363864,"question_id":76352300,"body_markdown":"Will adjusting the code like below will help your issue.\r\n\r\n\r\n    @FindBy(css = &quot;input[id=\\&quot;MainContent_txtTaskName\\&quot;]&quot;)\r\n    public WebElement alertNameInputField;\r\n     public String typeAlertName() {\r\n        try {\r\n            driver.switchTo().frame(alertNameInputField);\r\n        } catch (NoSuchFrameException e) {\r\n            System.out.println(&quot;Handled NoSuchFrameException&quot;);\r\n        }\r\n        alertNameInputField.sendKeys(&quot;School closed on Monday&quot;);\r\n    \tString alertValue = alertNameInputField.getText();\r\n    \treturn alertValue;\r\n        driver.switchTo().defaultContent();\r\n    }\r\n\r\nAbove I directly retrieving the value typed in the text field and then you can compare it with the expected value by calling the method itself from the below code.\r\n\r\n    @And(&quot;verifies if Alert Name on step 3 is the same as on Step 1&quot;)\r\n    public void verifyAlertNamesValues() {\r\n       String step1AlertName = typeAlertName();\r\n       String step3AlertName = swiftk12.getStep3AlertNameText();\r\n       Assert.assertEquals(&quot;The Alert Name on Step 1 is not the same as on Step 3&quot;, step3AlertName, step1AlertName);\r\n\r\n} ","title":"Why am I getting &#39;Unable to locate element&#39; error for &#39;MainContent_txtTaskName&#39;?","body":"<p>Will adjusting the code like below will help your issue.</p>\n<pre><code>@FindBy(css = &quot;input[id=\\&quot;MainContent_txtTaskName\\&quot;]&quot;)\npublic WebElement alertNameInputField;\n public String typeAlertName() {\n    try {\n        driver.switchTo().frame(alertNameInputField);\n    } catch (NoSuchFrameException e) {\n        System.out.println(&quot;Handled NoSuchFrameException&quot;);\n    }\n    alertNameInputField.sendKeys(&quot;School closed on Monday&quot;);\n    String alertValue = alertNameInputField.getText();\n    return alertValue;\n    driver.switchTo().defaultContent();\n}\n</code></pre>\n<p>Above I directly retrieving the value typed in the text field and then you can compare it with the expected value by calling the method itself from the below code.</p>\n<pre><code>@And(&quot;verifies if Alert Name on step 3 is the same as on Step 1&quot;)\npublic void verifyAlertNamesValues() {\n   String step1AlertName = typeAlertName();\n   String step3AlertName = swiftk12.getStep3AlertNameText();\n   Assert.assertEquals(&quot;The Alert Name on Step 1 is not the same as on Step 3&quot;, step3AlertName, step1AlertName);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":28697192,"reputation":1,"user_id":21975165,"display_name":"Vlad Stegaru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685450167,"creation_date":1685288779,"question_id":76352300,"body_markdown":"I&#39;m struggling with the following issue and I hope that someone can help me with a solution.\r\nIn my PO class, I&#39;ve added the below webelement and use it in order to type text within the input field; all the webelements are within iframe;\r\n\r\n\r\n    @FindBy(css = &quot;input[id=\\&quot;MainContent_txtTaskName\\&quot;]&quot;)\r\n    public WebElement alertNameInputField;\r\n     public void typeAlertName() {\r\n        try {\r\n            driver.switchTo().frame(alertNameInputField);\r\n        } catch (NoSuchFrameException e) {\r\n            System.out.println(&quot;Handled NoSuchFrameException&quot;);\r\n        }\r\n        alertNameInputField.sendKeys(&quot;School closed on Monday&quot;);\r\n        driver.switchTo().defaultContent();\r\n    }\r\nThe flow consists of 5 steps. Once having the text written within the input field(on Step 1), in the StepDefinitions class, I&#39;m saving it within a String variable and compare it with  the same text displayed on Step 3(it is neccesary to make sure that the text is correctly displayed the third step).\r\n\r\n\r\n    @And(&quot;verifies if Alert Name on step 3 is the same as on Step 1&quot;)\r\n    public void verifyAlertNamesValues() {\r\n       String step1AlertName = String.valueOf(swiftk12.alertNameInputField.getText());\r\n        String step3AlertName = swiftk12.getStep3AlertNameText();\r\n        Assert.assertEquals(&quot;The Alert Name on Step 1 is not the same as on Step 3&quot;, step3AlertName, step1AlertName);\r\n    }\r\n\r\nOnce running the test, it fails on the mentioned step(which is currently the last one out of 18) with the below error message: \r\n\r\n    **Step failed\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:          {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;input[id=&quot;MainContent_txtTaskName&quot;]&quot;}**\r\n\r\nI can&#39;t figure it out why the webelement is no longer found since I&#39;m only using within the step to get its text and save it within the String variable.\r\n\r\nWhat am I missing? Looking forward to receiving help on this matter! \r\n\r\nThank you!\r\n\r\nI&#39;ve used wait methods, I&#39;ve changed getText() to getAttribute(&quot;value&quot;), I&#39;ve tried a lot of things to get the text from Step 1 and compare it with the one displayed on Step 3. \r\n\r\n","title":"Why am I getting &#39;Unable to locate element&#39; error for &#39;MainContent_txtTaskName&#39;?","body":"<p>I'm struggling with the following issue and I hope that someone can help me with a solution.\nIn my PO class, I've added the below webelement and use it in order to type text within the input field; all the webelements are within iframe;</p>\n<pre><code>@FindBy(css = &quot;input[id=\\&quot;MainContent_txtTaskName\\&quot;]&quot;)\npublic WebElement alertNameInputField;\n public void typeAlertName() {\n    try {\n        driver.switchTo().frame(alertNameInputField);\n    } catch (NoSuchFrameException e) {\n        System.out.println(&quot;Handled NoSuchFrameException&quot;);\n    }\n    alertNameInputField.sendKeys(&quot;School closed on Monday&quot;);\n    driver.switchTo().defaultContent();\n}\n</code></pre>\n<p>The flow consists of 5 steps. Once having the text written within the input field(on Step 1), in the StepDefinitions class, I'm saving it within a String variable and compare it with  the same text displayed on Step 3(it is neccesary to make sure that the text is correctly displayed the third step).</p>\n<pre><code>@And(&quot;verifies if Alert Name on step 3 is the same as on Step 1&quot;)\npublic void verifyAlertNamesValues() {\n   String step1AlertName = String.valueOf(swiftk12.alertNameInputField.getText());\n    String step3AlertName = swiftk12.getStep3AlertNameText();\n    Assert.assertEquals(&quot;The Alert Name on Step 1 is not the same as on Step 3&quot;, step3AlertName, step1AlertName);\n}\n</code></pre>\n<p>Once running the test, it fails on the mentioned step(which is currently the last one out of 18) with the below error message:</p>\n<pre><code>**Step failed\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:          {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;input[id=&quot;MainContent_txtTaskName&quot;]&quot;}**\n</code></pre>\n<p>I can't figure it out why the webelement is no longer found since I'm only using within the step to get its text and save it within the String variable.</p>\n<p>What am I missing? Looking forward to receiving help on this matter!</p>\n<p>Thank you!</p>\n<p>I've used wait methods, I've changed getText() to getAttribute(&quot;value&quot;), I've tried a lot of things to get the text from Step 1 and compare it with the one displayed on Step 3.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1668698015,"post_id":74477480,"comment_id":131473790,"body_markdown":"What exactly is this kind of &quot;sum&quot;? What are its properties? Because from what I understand it&#39;s not a normal integer sum...","body":"What exactly is this kind of &quot;sum&quot;? What are its properties? Because from what I understand it&#39;s not a normal integer sum..."},{"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"score":0,"creation_date":1668699832,"post_id":74477480,"comment_id":131474600,"body_markdown":"In this example [-2,1,-3,4,-1,2,1,-5,4] -- max sum is 6 which is coming from this subarray [4,-1,2,1]","body":"In this example [-2,1,-3,4,-1,2,1,-5,4] -- max sum is 6 which is coming from this subarray [4,-1,2,1]"}],"answers":[{"tags":[],"owner":{"account_id":6579158,"reputation":36,"user_id":5083945,"display_name":"Onway"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668700065,"creation_date":1668700065,"answer_id":74478326,"question_id":74477480,"body_markdown":"You should not reinitialize the sum variable in the second loop, you should choose the largest value after each add arr[j] to sum.\r\n\r\n```\r\npublic int findSum (int[] arr)\r\n{\r\n    int maxSum;\r\n    //This covers when we have just one element\r\n    if(arr.length == 1) {\r\n        maxSum = arr[0];\r\n    } else {\r\n        maxSum = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            int sum = arr[i]; // -1\r\n            if (sum &gt; maxSum) {\r\n                maxSum = sum;\r\n            }\r\n            for (int j = i + 1; j &lt; arr.length; j++) {\r\n                sum = sum + arr[j];\r\n                if (sum &gt; maxSum) {\r\n                    maxSum = sum;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return maxSum;\r\n}\r\n```","title":"Return Maximum Sum SubArray from set of elements in an array Problem","body":"<p>You should not reinitialize the sum variable in the second loop, you should choose the largest value after each add arr[j] to sum.</p>\n<pre><code>public int findSum (int[] arr)\n{\n    int maxSum;\n    //This covers when we have just one element\n    if(arr.length == 1) {\n        maxSum = arr[0];\n    } else {\n        maxSum = Integer.MIN_VALUE;\n        for (int i = 0; i &lt; arr.length; i++) {\n            int sum = arr[i]; // -1\n            if (sum &gt; maxSum) {\n                maxSum = sum;\n            }\n            for (int j = i + 1; j &lt; arr.length; j++) {\n                sum = sum + arr[j];\n                if (sum &gt; maxSum) {\n                    maxSum = sum;\n                }\n            }\n        }\n    }\n    return maxSum;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685452546,"post_id":76364898,"comment_id":134659461,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76364898/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":5171930,"reputation":1,"user_id":4140157,"display_name":"Nitin Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685450110,"creation_date":1685450110,"answer_id":76364898,"question_id":74477480,"body_markdown":"    public int findMaxSubarraySum(int[] nums) {\r\n    int maxSum = Integer.MIN_VALUE;\r\n            for (int i = 0; i &lt; nums.length; i++) {\r\n                // calculate the sum of subarray `nums[i…j]`\r\n                int sum = 0;    // reset sum\r\n                // do for each subarray ending at `j`\r\n                for (int j = i; j &lt; nums.length; j++) {\r\n                    sum += nums[j];\r\n                    if (sum &gt; maxSum) {\r\n                        maxSum = sum;\r\n                    }\r\n                }\r\n            }\r\n            return maxSum;\r\n        }","title":"Return Maximum Sum SubArray from set of elements in an array Problem","body":"<pre><code>public int findMaxSubarraySum(int[] nums) {\nint maxSum = Integer.MIN_VALUE;\n        for (int i = 0; i &lt; nums.length; i++) {\n            // calculate the sum of subarray `nums[i…j]`\n            int sum = 0;    // reset sum\n            // do for each subarray ending at `j`\n            for (int j = i; j &lt; nums.length; j++) {\n                sum += nums[j];\n                if (sum &gt; maxSum) {\n                    maxSum = sum;\n                }\n            }\n        }\n        return maxSum;\n    }\n</code></pre>\n"}],"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74478326,"answer_count":2,"score":0,"last_activity_date":1685450110,"creation_date":1668696684,"question_id":74477480,"body_markdown":"    public class MaxSumSubArray\r\n    {\r\n        public int findSum (int[] arr)\r\n        {\r\n            int maxSum;\r\n            //This covers when we have just one element\r\n            if(arr.length == 1) {\r\n                maxSum = arr[0];\r\n            } else {\r\n                 maxSum = Integer.MIN_VALUE;\r\n                for (int i = 0; i &lt; arr.length; i++) {\r\n                    int sum = arr[i]; // -1\r\n                        for (int j = i + 1; j &lt; arr.length; j++) {\r\n                          // This is the case when your new elem is greater than the sum of prev elements\r\n                           if(arr[j] &gt; sum + arr[j]) {\r\n                                sum = arr[j];\r\n                            } else {\r\n                                sum = sum + arr[j];\r\n                            }\r\n                            if (sum &gt; maxSum) {\r\n                                maxSum = sum;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            return maxSum;\r\n        }\r\n        public static void main(String[] args) {\r\n            int[] arr = {-2,1,-3,4,-1,2,1,-5,4};\r\n            MaxSumSubArray subArray = new MaxSumSubArray();\r\n            System.out.println(&quot;MAx sum is:&quot;+ subArray.findSum(arr));\r\n        }\r\n    }\r\n\r\nI have written this code for maximum Sum subarray, I am using brute force approach.\r\n\r\nInput: nums = [-2,1,-3,4,-1,2,1,-5,4]\r\nOutput: 6\r\nExplanation: [4,-1,2,1] has the largest sum = 6.\r\n\r\nThis code is working for almost every set of input except one [-1,-2]. Can somebody help which I am missing here. Thanks\r\n","title":"Return Maximum Sum SubArray from set of elements in an array Problem","body":"<pre><code>public class MaxSumSubArray\n{\n    public int findSum (int[] arr)\n    {\n        int maxSum;\n        //This covers when we have just one element\n        if(arr.length == 1) {\n            maxSum = arr[0];\n        } else {\n             maxSum = Integer.MIN_VALUE;\n            for (int i = 0; i &lt; arr.length; i++) {\n                int sum = arr[i]; // -1\n                    for (int j = i + 1; j &lt; arr.length; j++) {\n                      // This is the case when your new elem is greater than the sum of prev elements\n                       if(arr[j] &gt; sum + arr[j]) {\n                            sum = arr[j];\n                        } else {\n                            sum = sum + arr[j];\n                        }\n                        if (sum &gt; maxSum) {\n                            maxSum = sum;\n                        }\n                    }\n                }\n            }\n        return maxSum;\n    }\n    public static void main(String[] args) {\n        int[] arr = {-2,1,-3,4,-1,2,1,-5,4};\n        MaxSumSubArray subArray = new MaxSumSubArray();\n        System.out.println(&quot;MAx sum is:&quot;+ subArray.findSum(arr));\n    }\n}\n</code></pre>\n<p>I have written this code for maximum Sum subarray, I am using brute force approach.</p>\n<p>Input: nums = [-2,1,-3,4,-1,2,1,-5,4]\nOutput: 6\nExplanation: [4,-1,2,1] has the largest sum = 6.</p>\n<p>This code is working for almost every set of input except one [-1,-2]. Can somebody help which I am missing here. Thanks</p>\n"},{"tags":["java","google-my-business-api","google-my-business"],"comments":[{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":0,"creation_date":1685354094,"post_id":76356036,"comment_id":134644405,"body_markdown":"What kind of appointment would I make at a women&#39;s clothing store?","body":"What kind of appointment would I make at a women&#39;s clothing store?"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1685357199,"post_id":76356036,"comment_id":134644902,"body_markdown":"only APPOINTMENT. It is a link to the page that the user can book an appointment in a specific store(location), selecting from available dates and time. If you look at the [https://developers.google.com/my-business/reference/placeactions/rest/v1/locations.placeActionLinks#PlaceActionType] you see the enum for the types which are predefined. and APPOINTMENT is one of them","body":"only APPOINTMENT. It is a link to the page that the user can book an appointment in a specific store(location), selecting from available dates and time. If you look at the [<a href=\"https://developers.google.com/my-business/reference/placeactions/rest/v1/locations.placeActionLinks#PlaceActionType]\" rel=\"nofollow noreferrer\">developers.google.com/my-business/reference/placeactions/re&zwnj;&#8203;st/&hellip;</a> you see the enum for the types which are predefined. and APPOINTMENT is one of them"},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":0,"creation_date":1685381995,"post_id":76356036,"comment_id":134649225,"body_markdown":"I know what an appointment link on GBP is. I am referring to the primary category in question. It&#39;s disabled for a reason.","body":"I know what an appointment link on GBP is. I am referring to the primary category in question. It&#39;s disabled for a reason."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1685436510,"post_id":76356036,"comment_id":134655801,"body_markdown":"@vpriesner Sorry, I was explaining the link I am assigning as APPOINTMENT to the location we manage. for Example for another client where the location has a category gcid:clothing_store I created this link with no problem.","body":"@vpriesner Sorry, I was explaining the link I am assigning as APPOINTMENT to the location we manage. for Example for another client where the location has a category gcid:clothing_store I created this link with no problem."},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":0,"creation_date":1685449730,"post_id":76356036,"comment_id":134658695,"body_markdown":"Are the two locations in the same country? It&#39;s possible that appointment links for clothing stores may be disabled for one country and enabled for another country.","body":"Are the two locations in the same country? It&#39;s possible that appointment links for clothing stores may be disabled for one country and enabled for another country."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1685458983,"post_id":76356036,"comment_id":134661179,"body_markdown":"no, you are right , they are not in the same country.","body":"no, you are right , they are not in the same country."}],"answers":[{"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685450044,"creation_date":1685450044,"answer_id":76364888,"question_id":76356036,"body_markdown":"The error message INVALID_LOCATION_CATEGORY indicates that this category in particular is not eligible for the &quot;APPOINTMENT&quot; place action type.\r\n\r\nFor a full list of error codes and their explanations, see the [Place Actions reference][1].\r\n\r\nIf you did manage to produce a place action link for a location with the category `categories/gcid:womens_clothing_store`, that location may either have a different category as well through which that place action link was created or that category might have place action links of that type enabled in one country and disabled in another country.\r\n\r\n  [1]: https://developers.google.com/my-business/reference/placeactions/rpc/google.mybusiness.placeactions.v1#errorcode","title":"Is there a limitation on primary Category of a location in Google My Business (PlaceActionLinks) for creating Place Action Links?","body":"<p>The error message INVALID_LOCATION_CATEGORY indicates that this category in particular is not eligible for the &quot;APPOINTMENT&quot; place action type.</p>\n<p>For a full list of error codes and their explanations, see the <a href=\"https://developers.google.com/my-business/reference/placeactions/rpc/google.mybusiness.placeactions.v1#errorcode\" rel=\"nofollow noreferrer\">Place Actions reference</a>.</p>\n<p>If you did manage to produce a place action link for a location with the category <code>categories/gcid:womens_clothing_store</code>, that location may either have a different category as well through which that place action link was created or that category might have place action links of that type enabled in one country and disabled in another country.</p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76364888,"answer_count":1,"score":0,"last_activity_date":1685450044,"creation_date":1685351520,"question_id":76356036,"body_markdown":"I am trying to create an &quot;**APPOINTMENT**&quot; action type link for the location we manage, following [this link][1] and I have this error\r\n\r\n        {\r\n      &quot;code&quot; : 400,\r\n      &quot;details&quot; : [ {\r\n        &quot;@type&quot; : &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\r\n        &quot;reason&quot; : &quot;INVALID_LOCATION_CATEGORY&quot;\r\n      } ],\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\r\n        &quot;reason&quot; : &quot;badRequest&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\r\n      &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\r\n    }\r\n\r\n\r\nthe location&#39;s primaryCategory is `categories/gcid:womens_clothing_store`\r\n\r\nI am sending the request via JAVA (suppose **myBusinessPlaceActions** is a variable which takes care of Authentication and initialising the API): \r\n\r\n  \r\n\r\n      PlaceActionLink link = new PlaceActionLink();\r\n        \t\t\t\tlink.setUri(&quot;The APPONTMENT URL&quot;);\r\n    link.setPlaceActionType(&quot;APPOINTMENT&quot;); \r\n            MyBusinessPlaceActions.Locations.PlaceActionLinks.Create requestCreate= myBusinessPlaceActions.locations().\r\n        \t\t\t\t\t\t\tplaceActionLinks().create(&quot;locations/ MY LOCATIONID&quot;, link);\r\n\r\nThe Same Code is running correctly for other client and locations, for example a location with primary category =`categories/gcid:cosmetics_store`\r\nor another client and location with category =`categories/gcid:spa_and_health_club`\r\nWhat is wrong?\r\n\r\n  [1]: https://developers.google.com/my-business/reference/placeactions/rest/v1/locations.placeActionLinks/create","title":"Is there a limitation on primary Category of a location in Google My Business (PlaceActionLinks) for creating Place Action Links?","body":"<p>I am trying to create an &quot;<strong>APPOINTMENT</strong>&quot; action type link for the location we manage, following <a href=\"https://developers.google.com/my-business/reference/placeactions/rest/v1/locations.placeActionLinks/create\" rel=\"nofollow noreferrer\">this link</a> and I have this error</p>\n<pre><code>    {\n  &quot;code&quot; : 400,\n  &quot;details&quot; : [ {\n    &quot;@type&quot; : &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\n    &quot;reason&quot; : &quot;INVALID_LOCATION_CATEGORY&quot;\n  } ],\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\n    &quot;reason&quot; : &quot;badRequest&quot;\n  } ],\n  &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\n  &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\n}\n</code></pre>\n<p>the location's primaryCategory is <code>categories/gcid:womens_clothing_store</code></p>\n<p>I am sending the request via JAVA (suppose <strong>myBusinessPlaceActions</strong> is a variable which takes care of Authentication and initialising the API):</p>\n<pre><code>  PlaceActionLink link = new PlaceActionLink();\n                    link.setUri(&quot;The APPONTMENT URL&quot;);\nlink.setPlaceActionType(&quot;APPOINTMENT&quot;); \n        MyBusinessPlaceActions.Locations.PlaceActionLinks.Create requestCreate= myBusinessPlaceActions.locations().\n                                placeActionLinks().create(&quot;locations/ MY LOCATIONID&quot;, link);\n</code></pre>\n<p>The Same Code is running correctly for other client and locations, for example a location with primary category =<code>categories/gcid:cosmetics_store</code>\nor another client and location with category =<code>categories/gcid:spa_and_health_club</code>\nWhat is wrong?</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","redis"],"owner":{"account_id":15623340,"reputation":486,"user_id":11271625,"display_name":"derirative23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685449789,"creation_date":1685449789,"question_id":76364850,"body_markdown":"I am trying to do request on `http://localhost:8080/actuator/health` to check if everything is UP. \r\n\r\nWhen communication is between locally run JAVAAPP -&gt; REDIS in docker container the status is UP. \r\n\r\nBut when communication is between dockereized JAVAAPP -&gt; REDIS in docker container the status is DOWN\r\n\r\n    &quot;redis&quot;: {\r\n            &quot;status&quot;: &quot;DOWN&quot;,\r\n            &quot;details&quot;: {\r\n                &quot;error&quot;: &quot;org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis&quot;\r\n            }\r\n        }\r\n\r\n\r\napplication.properties has :\r\n\r\n    spring.redis.host=redis\r\n    spring.redis.port=6379\r\n\r\ndocker-compose:\r\n\r\n        version: &quot;3.9&quot;\r\n    services:\r\n        JAVAPP:\r\n        container_name: JAVAPP\r\n        image: JAVAPP:latest\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n      redis:\r\n        container_name: redis\r\n        image: redis:6.0\r\n        restart: always\r\n        ports:\r\n          - &quot;6379:6379&quot;\r\n\r\nI tried do add env variables in dockerfile and in docker-compose. \r\n\r\nDo you have any ideas why is it working locally but not between containers? \r\n","title":"Redis healthcheck not working with spring boot app","body":"<p>I am trying to do request on <code>http://localhost:8080/actuator/health</code> to check if everything is UP.</p>\n<p>When communication is between locally run JAVAAPP -&gt; REDIS in docker container the status is UP.</p>\n<p>But when communication is between dockereized JAVAAPP -&gt; REDIS in docker container the status is DOWN</p>\n<pre><code>&quot;redis&quot;: {\n        &quot;status&quot;: &quot;DOWN&quot;,\n        &quot;details&quot;: {\n            &quot;error&quot;: &quot;org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis&quot;\n        }\n    }\n</code></pre>\n<p>application.properties has :</p>\n<pre><code>spring.redis.host=redis\nspring.redis.port=6379\n</code></pre>\n<p>docker-compose:</p>\n<pre><code>    version: &quot;3.9&quot;\nservices:\n    JAVAPP:\n    container_name: JAVAPP\n    image: JAVAPP:latest\n    ports:\n      - &quot;8080:8080&quot;\n  redis:\n    container_name: redis\n    image: redis:6.0\n    restart: always\n    ports:\n      - &quot;6379:6379&quot;\n</code></pre>\n<p>I tried do add env variables in dockerfile and in docker-compose.</p>\n<p>Do you have any ideas why is it working locally but not between containers?</p>\n"},{"tags":["java","spring-boot","multithreading","executorservice","threadpoolexecutor"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1685449123,"post_id":76363293,"comment_id":134658541,"body_markdown":"Note: `downloadExecutor.shutdownNow()` does not wait for the running task to complete. [All it does is](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow()) (a) remove any pending tasks (you have none), (b) interrupt any running task, and (c) set a flag to refuse any new tasks. **Q:** What will your `task` do when it is interrupted?","body":"Note: <code>downloadExecutor.shutdownNow()</code> does not wait for the running task to complete. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow()\" rel=\"nofollow noreferrer\">All it does is</a> (a) remove any pending tasks (you have none), (b) interrupt any running task, and (c) set a flag to refuse any new tasks. <b>Q:</b> What will your <code>task</code> do when it is interrupted?"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1685450922,"post_id":76363293,"comment_id":134659021,"body_markdown":"Action specific wait times are usually implemented by providing a timeout to the respective I/O operation. For instance, using `socket.setSoTimeout(timeout)` (see [related question](https://stackoverflow.com/questions/4969760/setting-a-timeout-for-socket-operations)).","body":"Action specific wait times are usually implemented by providing a timeout to the respective I/O operation. For instance, using <code>socket.setSoTimeout(timeout)</code> (see <a href=\"https://stackoverflow.com/questions/4969760/setting-a-timeout-for-socket-operations\">related question</a>)."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685449583,"creation_date":1685449583,"answer_id":76364819,"question_id":76363293,"body_markdown":"Style note:\r\n\r\nI would not duplicate the `messageSentToNextQueue = future.get(...)` call in three places. Nor would I encode the different timeouts in the `startDownloading` function. I would put them in the `downloadInfo` instead. \r\n\r\n``` lang-java\r\nmessageSentToNextQueue = future.get(\r\n    downloadInfo.getTimeoutValue(),\r\n    downloadInfo.getTimeoutUnit()\r\n);\r\n```","title":"Best way to use ExecutorService in case we need to handle timeout for each thread individually","body":"<p>Style note:</p>\n<p>I would not duplicate the <code>messageSentToNextQueue = future.get(...)</code> call in three places. Nor would I encode the different timeouts in the <code>startDownloading</code> function. I would put them in the <code>downloadInfo</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>messageSentToNextQueue = future.get(\n    downloadInfo.getTimeoutValue(),\n    downloadInfo.getTimeoutUnit()\n);\n</code></pre>\n"}],"owner":{"account_id":9238852,"reputation":55,"user_id":6862621,"display_name":"Noman Ellahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685449583,"creation_date":1685437951,"question_id":76363293,"body_markdown":"Below is my my code implementation using ExecutorService \r\n\r\n    \tpublic void startDownloading(DownloadInfo downloadInfo) {\r\n\t\tint messageSentToNextQueue = 0;\r\n\t\tExecutorService downloadExecutor = Executors.newSingleThreadExecutor();\r\n\t\ttry {\r\n\t\t\t\tCallable&lt;Integer&gt; task = () -&gt; {\r\n\t\t\t\t\treturn fileDownloader.downloadFromSourceLink(downloadInfo);\r\n\t\t\t\t};\r\n\t\t\t\tFuture&lt;Integer&gt; future = downloadExecutor.submit(task);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (downloadInfo.getExtension().equals(ScraperConstant.ZIP_EXTENSION)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tmessageSentToNextQueue = future.get(11, TimeUnit.HOURS);\r\n\r\n\t\t\t\t\t} else if (downloadInfo.getExtension().equals(ScraperConstant.HTML_EXTENSION)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tmessageSentToNextQueue = future.get(10, TimeUnit.MINUTES);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessageSentToNextQueue = future.get(30, TimeUnit.MINUTES);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tlog.error(ex);\r\n\t\t\t\t\tdownloadExecutor.shutdownNow();\r\n\t\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.error(ex);\r\n\r\n\t\t} finally {\r\n\t\t\tif (!downloadExecutor.isShutdown()) {\r\n\t\t\t\tdownloadExecutor.shutdownNow();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nNow I&#39;m creating ExecutorService with SingleThreadExecutor on each method call beacuse in the case of timeOut I can shutdown the service to free all the underlying resources and stop any further processing. \r\n\r\nIf I use ThreadPoolExecutor and intialize it at class level and reuse it, it will definetly a better approach but in that case if time out happen I have to shutdown complete ExecutorService in order to free resources and it will cause other threads while in processing under that ExecutorService to be stop as well and I also have to Initialize ExecutorService after shutdown.\r\n\r\nIf Someone suggest some better approach it would be great.  ","title":"Best way to use ExecutorService in case we need to handle timeout for each thread individually","body":"<p>Below is my my code implementation using ExecutorService</p>\n<pre><code>    public void startDownloading(DownloadInfo downloadInfo) {\n    int messageSentToNextQueue = 0;\n    ExecutorService downloadExecutor = Executors.newSingleThreadExecutor();\n    try {\n            Callable&lt;Integer&gt; task = () -&gt; {\n                return fileDownloader.downloadFromSourceLink(downloadInfo);\n            };\n            Future&lt;Integer&gt; future = downloadExecutor.submit(task);\n            try {\n                if (downloadInfo.getExtension().equals(ScraperConstant.ZIP_EXTENSION)) {\n                        \n                    messageSentToNextQueue = future.get(11, TimeUnit.HOURS);\n\n                } else if (downloadInfo.getExtension().equals(ScraperConstant.HTML_EXTENSION)) {\n                        \n                    messageSentToNextQueue = future.get(10, TimeUnit.MINUTES);\n\n                } else {\n                    messageSentToNextQueue = future.get(30, TimeUnit.MINUTES);\n                }\n            } catch (Exception e) {\n                log.error(ex);\n                downloadExecutor.shutdownNow();\n            }\n    } catch (Exception ex) {\n        log.error(ex);\n\n    } finally {\n        if (!downloadExecutor.isShutdown()) {\n            downloadExecutor.shutdownNow();\n        }\n    }\n}\n</code></pre>\n<p>Now I'm creating ExecutorService with SingleThreadExecutor on each method call beacuse in the case of timeOut I can shutdown the service to free all the underlying resources and stop any further processing.</p>\n<p>If I use ThreadPoolExecutor and intialize it at class level and reuse it, it will definetly a better approach but in that case if time out happen I have to shutdown complete ExecutorService in order to free resources and it will cause other threads while in processing under that ExecutorService to be stop as well and I also have to Initialize ExecutorService after shutdown.</p>\n<p>If Someone suggest some better approach it would be great.</p>\n"},{"tags":["java","apache-spark","hadoop","pyspark","hdfs"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685444580,"post_id":76363472,"comment_id":134657546,"body_markdown":"I&#39;d suggest using pyarrow or pyhdfs if you&#39;re not actually using Spark functions","body":"I&#39;d suggest using pyarrow or pyhdfs if you&#39;re not actually using Spark functions"},{"owner":{"account_id":15323174,"reputation":1107,"user_id":11055042,"display_name":"Alex Ortner"},"score":0,"creation_date":1685451849,"post_id":76363472,"comment_id":134659253,"body_markdown":"I also thought about using pyarrow on the driver only, but this would be not directly processed distributed on the hadoop cluster and would take some time to process all files. Distributing pyarrow via Dask on a Hadoop Cluster seems also quit challenging in particular without admin access to the infrastructure","body":"I also thought about using pyarrow on the driver only, but this would be not directly processed distributed on the hadoop cluster and would take some time to process all files. Distributing pyarrow via Dask on a Hadoop Cluster seems also quit challenging in particular without admin access to the infrastructure"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685460058,"post_id":76363472,"comment_id":134661443,"body_markdown":"You can use Oozie shell action to distribute the job via YARN. You could also use `subprocess.call([&#39;hdfs&#39;, &#39;-ls&#39;])`, for example, or use `distcp` for copying","body":"You can use Oozie shell action to distribute the job via YARN. You could also use <code>subprocess.call([&#39;hdfs&#39;, &#39;-ls&#39;])</code>, for example, or use <code>distcp</code> for copying"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1685444484,"post_id":76363841,"comment_id":134657521,"body_markdown":"`java.io.File` is incorrect. Hadoop has its own Path objects. Also, Spark doesn&#39;t use trunk","body":"<code>java.io.File</code> is incorrect. Hadoop has its own Path objects. Also, Spark doesn&#39;t use trunk"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1685448698,"post_id":76363841,"comment_id":134658428,"body_markdown":"Great remark about Spark not using trunk, I will adapt my answer to contain a relevant Hadoop version!","body":"Great remark about Spark not using trunk, I will adapt my answer to contain a relevant Hadoop version!"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1685449487,"post_id":76363841,"comment_id":134658640,"body_markdown":"About `java.io.File` being incorrect, I must be missing something. If you look at the [function signature](https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1443-L1453C59) and the comments right above it, it seems to be using `java.io.File` right? I must admit that I&#39;m not very familiar `org.apache.hadoop.fs.FileUtil` but I&#39;m interested to see what your take on this is.","body":"About <code>java.io.File</code> being incorrect, I must be missing something. If you look at the <a href=\"https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1443-L1453C59\" rel=\"nofollow noreferrer\">function signature</a> and the comments right above it, it seems to be using <code>java.io.File</code> right? I must admit that I&#39;m not very familiar <code>org.apache.hadoop.fs.FileUtil</code> but I&#39;m interested to see what your take on this is."},{"owner":{"account_id":15323174,"reputation":1107,"user_id":11055042,"display_name":"Alex Ortner"},"score":0,"creation_date":1685451939,"post_id":76363841,"comment_id":134659284,"body_markdown":"`path1` is a string but I transform it using `spark._jvm.org.apache.hadoop.fs.Path(path1)`. from the docmentation I thought this is the way to go","body":"<code>path1</code> is a string but I transform it using <code>spark._jvm.org.apache.hadoop.fs.Path(path1)</code>. from the docmentation I thought this is the way to go"},{"owner":{"account_id":15323174,"reputation":1107,"user_id":11055042,"display_name":"Alex Ortner"},"score":0,"creation_date":1685452161,"post_id":76363841,"comment_id":134659352,"body_markdown":"So you mean the error `method does not exists` might be a weird output from the method was not recognized due to the different versions that are identified by the correct parameters. But the `list` function is unique, this function at least should work","body":"So you mean the error <code>method does not exists</code> might be a weird output from the method was not recognized due to the different versions that are identified by the correct parameters. But the <code>list</code> function is unique, this function at least should work"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1685452902,"post_id":76363841,"comment_id":134659547,"body_markdown":"Indeed, when you see a `method does not exist` output that means that the exact way you wrote that method (including the input parameters and their types) does not exist. It does not necessarily mean that there is no method with that exact name.","body":"Indeed, when you see a <code>method does not exist</code> output that means that the exact way you wrote that method (including the input parameters and their types) does not exist. It does not necessarily mean that there is no method with that exact name."},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1685452933,"post_id":76363841,"comment_id":134659550,"body_markdown":"But from the code that you shared here, it seems like `path1` is a `String`. I&#39;m seeing `path1=&quot;hdfs://mycluster/somefolder&quot;` and then `hadoopFu.list(path1)`.","body":"But from the code that you shared here, it seems like <code>path1</code> is a <code>String</code>. I&#39;m seeing <code>path1=&quot;hdfs:&#47;&#47;mycluster&#47;somefolder&quot;</code> and then <code>hadoopFu.list(path1)</code>."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685460177,"post_id":76363841,"comment_id":134661468,"body_markdown":"`java.io.File` might be &quot;correct&quot; for that API, but it is &quot;not correct&quot; for accessing/listing HDFS `Path` resources since that class is generally used for local FS only. So, I don&#39;t think `FileUtil` is the the correct class to be used here","body":"<code>java.io.File</code> might be &quot;correct&quot; for that API, but it is &quot;not correct&quot; for accessing/listing HDFS <code>Path</code> resources since that class is generally used for local FS only. So, I don&#39;t think <code>FileUtil</code> is the the correct class to be used here"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1685462281,"post_id":76363841,"comment_id":134661972,"body_markdown":"Fair enough, I agree on that point. Thanks for your insight!","body":"Fair enough, I agree on that point. Thanks for your insight!"},{"owner":{"account_id":15323174,"reputation":1107,"user_id":11055042,"display_name":"Alex Ortner"},"score":0,"creation_date":1685479680,"post_id":76363841,"comment_id":134665336,"body_markdown":"Ok, this was a stupid copy paste error to stackoverflow `hadoopFu.list(hadoopPath(path))`  \nor in detail  `hadoopFu.list(spark._jvm.org.apache.hadoop.fs.Path(path))` . But it does still not work.","body":"Ok, this was a stupid copy paste error to stackoverflow <code>hadoopFu.list(hadoopPath(path))</code>   or in detail  <code>hadoopFu.list(spark._jvm.org.apache.hadoop.fs.Path(path))</code> . But it does still not work."},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1685519935,"post_id":76363841,"comment_id":134669912,"body_markdown":"Yeah so as @OneCricketeer and me were discussing using a `Path` object won&#39;t work here: you&#39;ll really need a `java.io.File`. But more important than that, it seems like `FileUtil.list` might not really be the API you want to use. Something like [this](https://stackoverflow.com/a/40258750/15405732) might be more what you want.","body":"Yeah so as @OneCricketeer and me were discussing using a <code>Path</code> object won&#39;t work here: you&#39;ll really need a <code>java.io.File</code>. But more important than that, it seems like <code>FileUtil.list</code> might not really be the API you want to use. Something like <a href=\"https://stackoverflow.com/a/40258750/15405732\">this</a> might be more what you want."}],"tags":[],"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685449085,"creation_date":1685442204,"answer_id":76363841,"question_id":76363472,"body_markdown":"For this answer, I&#39;m looking at the Hadoop version that is used in the latest Spark version (`v3.4.0` at the time of this post): [version 3.3.4][1] (commit hash `a585a73c3e0`).\r\n\r\nIf you look at the function signature of [`FileUtil.list`][2]\r\n\r\n```java\r\npublic static String[] list(File dir) throws IOException {\r\n```\r\n\r\nand of [`FileUtil.copy`][3] (there are multiple ones, you&#39;ll have to choose):\r\n\r\n```java\r\npublic static boolean copy(FileSystem srcFS, Path src,\r\n                           FileSystem dstFS, Path dst,\r\n                           boolean deleteSource,\r\n                           Configuration conf) throws IOException {\r\n```\r\n\r\nor\r\n\r\n```java\r\npublic static boolean copy(FileSystem srcFS, Path[] srcs,\r\n                           FileSystem dstFS, Path dst,\r\n                           boolean deleteSource,\r\n                           boolean overwrite, Configuration conf)\r\n                           throws IOException {\r\n```\r\n\r\nor a few others.\r\n\r\nYou can start understanding what is going wrong: you are not supplying the correct input parameters. `FileUtil.list` for example needs one input parameter of type `File` but you are supplying an input parameter of type `String` (`path1` is a String).\r\n\r\nI&#39;m not super familiar with making Java objects inside of Pyspark with the underlying `_jvm` object but try to make a `java.io.File` and give that as input to the `FileUtil.list` function, something like this maybe?\r\n\r\n```python\r\nhadoopFu.list(spark._jvm.java.io.File(path1))\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/spark/blob/87a5442f7ed96b11051d8a9333476d080054e5a0/pom.xml#L122\r\n  [2]: https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1453\r\n  [3]: https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L336-L509","title":"How to access org.apache.hadoop.fs.FileUtil.copy() from Pyspark?","body":"<p>For this answer, I'm looking at the Hadoop version that is used in the latest Spark version (<code>v3.4.0</code> at the time of this post): <a href=\"https://github.com/apache/spark/blob/87a5442f7ed96b11051d8a9333476d080054e5a0/pom.xml#L122\" rel=\"nofollow noreferrer\">version 3.3.4</a> (commit hash <code>a585a73c3e0</code>).</p>\n<p>If you look at the function signature of <a href=\"https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1453\" rel=\"nofollow noreferrer\"><code>FileUtil.list</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] list(File dir) throws IOException {\n</code></pre>\n<p>and of <a href=\"https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L336-L509\" rel=\"nofollow noreferrer\"><code>FileUtil.copy</code></a> (there are multiple ones, you'll have to choose):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean copy(FileSystem srcFS, Path src,\n                           FileSystem dstFS, Path dst,\n                           boolean deleteSource,\n                           Configuration conf) throws IOException {\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean copy(FileSystem srcFS, Path[] srcs,\n                           FileSystem dstFS, Path dst,\n                           boolean deleteSource,\n                           boolean overwrite, Configuration conf)\n                           throws IOException {\n</code></pre>\n<p>or a few others.</p>\n<p>You can start understanding what is going wrong: you are not supplying the correct input parameters. <code>FileUtil.list</code> for example needs one input parameter of type <code>File</code> but you are supplying an input parameter of type <code>String</code> (<code>path1</code> is a String).</p>\n<p>I'm not super familiar with making Java objects inside of Pyspark with the underlying <code>_jvm</code> object but try to make a <code>java.io.File</code> and give that as input to the <code>FileUtil.list</code> function, something like this maybe?</p>\n<pre class=\"lang-py prettyprint-override\"><code>hadoopFu.list(spark._jvm.java.io.File(path1))\n</code></pre>\n"}],"owner":{"account_id":15323174,"reputation":1107,"user_id":11055042,"display_name":"Alex Ortner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685449085,"creation_date":1685439270,"question_id":76363472,"body_markdown":"I am trying to do some file operations of hdfs directly within a Pyspark Script. In particular I want to check\r\n\r\n1) does a path or a file exits (`org.apache.hadoop.fs.FileSystem`) --&gt; ok\r\n2) create folders/delete folders (`org.apache.hadoop.fs.FileSystem`) --&gt; ok\r\n3) move files from one path to another (`org.apache.hadoop.fs.FileUtil`)--&gt; FAILS - WHY\r\n\r\nSo my issue is only in the use of the last class\r\nMy Code\r\n\r\n```\r\n# get all the jvm Objects\r\nspark = SparkSession.builder.getOrCreate()\r\n\r\nhadoopPath = spark._jvm.org.apache.hadoop.fs.Path\r\nhadoopConfiguration = spark._jsc.hadoopConfiguration()\r\nhadoopFs   = spark._jvm.org.apache.hadoop.fs.FileSystem.get(hadoopConfiguration)\r\n\r\n# this import does not throw an error so far\r\nhadoopFu   = spark._jvm.org.apache.hadoop.fs.FileUtil\r\n```\r\nthe following functions working like charme\r\n```\r\npath1=&quot;hdfs://mycluster/somefolder&quot;\r\npath2=&quot;hdfs://mycluster/newfolder&quot;\r\n\r\n# check if folder exits and contains parquet files (returns list with or without files)\r\nhadoopFs.globStatus(hadoopPath(path + &quot;/*.parquet&quot;))\r\n\r\n# alternativ check only if path exists (returns true, false)\r\nhadoopFs.exists(hadoopPath(path))\r\n\r\n# create folder on hdfs\r\nhadoopFs.mkdirs(hadoopPath(path2))\r\n\r\n```\r\nBut as soon as I want to access methods from `FileUtil` there are not found. But I do not understand why, they should be part of standard hadoop/spark libraries\r\nhttps://hadoop.apache.org/docs/r3.3.5/api/org/apache/hadoop/fs/FileUtil.html \r\nThe following commands are failing\r\n```\r\nhadoopFu.list(path1)\r\n\r\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.list. Trace:\r\npy4j.Py4JException: Method list([class java.lang.String]) does not exist\r\n```\r\nalso \r\n```\r\nhadoopFu.copy(path1,path2)\r\n\r\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.copy. Trace:\r\npy4j.Py4JException: Method copy([class java.lang.String, class java.lang.String]) does not exist\r\n```\r\nWhy are they not found? I don&#39;t understand what I am doing wrong.\r\nImportant, I want to do this within Python/Pyspark wrapper\r\nThanks Alex\r\n","title":"How to access org.apache.hadoop.fs.FileUtil.copy() from Pyspark?","body":"<p>I am trying to do some file operations of hdfs directly within a Pyspark Script. In particular I want to check</p>\n<ol>\n<li>does a path or a file exits (<code>org.apache.hadoop.fs.FileSystem</code>) --&gt; ok</li>\n<li>create folders/delete folders (<code>org.apache.hadoop.fs.FileSystem</code>) --&gt; ok</li>\n<li>move files from one path to another (<code>org.apache.hadoop.fs.FileUtil</code>)--&gt; FAILS - WHY</li>\n</ol>\n<p>So my issue is only in the use of the last class\nMy Code</p>\n<pre><code># get all the jvm Objects\nspark = SparkSession.builder.getOrCreate()\n\nhadoopPath = spark._jvm.org.apache.hadoop.fs.Path\nhadoopConfiguration = spark._jsc.hadoopConfiguration()\nhadoopFs   = spark._jvm.org.apache.hadoop.fs.FileSystem.get(hadoopConfiguration)\n\n# this import does not throw an error so far\nhadoopFu   = spark._jvm.org.apache.hadoop.fs.FileUtil\n</code></pre>\n<p>the following functions working like charme</p>\n<pre><code>path1=&quot;hdfs://mycluster/somefolder&quot;\npath2=&quot;hdfs://mycluster/newfolder&quot;\n\n# check if folder exits and contains parquet files (returns list with or without files)\nhadoopFs.globStatus(hadoopPath(path + &quot;/*.parquet&quot;))\n\n# alternativ check only if path exists (returns true, false)\nhadoopFs.exists(hadoopPath(path))\n\n# create folder on hdfs\nhadoopFs.mkdirs(hadoopPath(path2))\n\n</code></pre>\n<p>But as soon as I want to access methods from <code>FileUtil</code> there are not found. But I do not understand why, they should be part of standard hadoop/spark libraries\n<a href=\"https://hadoop.apache.org/docs/r3.3.5/api/org/apache/hadoop/fs/FileUtil.html\" rel=\"nofollow noreferrer\">https://hadoop.apache.org/docs/r3.3.5/api/org/apache/hadoop/fs/FileUtil.html</a>\nThe following commands are failing</p>\n<pre><code>hadoopFu.list(path1)\n\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.list. Trace:\npy4j.Py4JException: Method list([class java.lang.String]) does not exist\n</code></pre>\n<p>also</p>\n<pre><code>hadoopFu.copy(path1,path2)\n\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.copy. Trace:\npy4j.Py4JException: Method copy([class java.lang.String, class java.lang.String]) does not exist\n</code></pre>\n<p>Why are they not found? I don't understand what I am doing wrong.\nImportant, I want to do this within Python/Pyspark wrapper\nThanks Alex</p>\n"},{"tags":["java","json","mongodb","spring-boot","deserialization"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1685426591,"post_id":76359816,"comment_id":134653814,"body_markdown":"Why did your method `allPreferences()` return `UserPreferences` rather than `List&lt;Preference&gt;`?","body":"Why did your method <code>allPreferences()</code> return <code>UserPreferences</code> rather than <code>List&lt;Preference&gt;</code>?"},{"owner":{"account_id":28698055,"reputation":11,"user_id":21975839,"display_name":"maurice"},"score":0,"creation_date":1685448657,"post_id":76359816,"comment_id":134658417,"body_markdown":"@LHCHIN Hi there, thanks for pointing out my error. Yes, like I commented out before returning a string value, I originally returned a Collection(UserPreferences). I changed it for clarity.","body":"@LHCHIN Hi there, thanks for pointing out my error. Yes, like I commented out before returning a string value, I originally returned a Collection(UserPreferences). I changed it for clarity."}],"owner":{"account_id":28698055,"reputation":11,"user_id":21975839,"display_name":"maurice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685448555,"creation_date":1685387030,"question_id":76359816,"body_markdown":"The following components are part of a Spring Boot 3.0.8 application with Java 17 and Maven.\r\nThe controller makes a request to MongoDB. POST works just fine with the current setup.\r\n\r\nI have been trying to get the data of the list of Preferences for my UserPreferences object:\r\n```\r\n@Document\r\npublic class UserPreferences {\r\n    @Id\r\n    private Long userId;\r\n\r\n    private List&lt;Preference&gt; preferences;\r\n\r\n    public UserPreferences() {\r\n        \r\n    }\r\n\r\n    public UserPreferences(Long id, List&lt;Preference&gt; preferences) {\r\n        this.userId = id;\r\n        this.preferences = preferences;\r\n    }\r\n//getters and setters\r\n```\r\n\r\nThe Preference class, with jackson annotations.\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes.Type;\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @Type(value = MoviePreference.class, name = &quot;movie&quot;),\r\n        @Type(value = GenrePreference.class, name = &quot;genre&quot;)\r\n})\r\n\r\npublic abstract class Preference {\r\n\r\n    protected Preference() {\r\n\r\n    }\r\n\r\n}\r\n```\r\nAnd the controller GetMapping request, which as of now doesn&#39;t work:\r\n```\r\n@GetMapping\r\n    Collection&lt;UserPreferences&gt; allPreferences() throws JsonProcessingException {\r\n        PolymorphicTypeValidator ptv = BasicPolymorphicTypeValidator.builder()\r\n                .allowIfSubType(&quot;com.partytime.userpreferencesservice&quot;)\r\n                .allowIfSubType(&quot;java.util.ArrayList&quot;)\r\n                .build();\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.NON_FINAL);\r\n\r\n        String jsonDataString = mapper.writeValueAsString(repository.findAll());\r\n        UserPreferences deserializedResponse \r\n        = mapper.readValue(jsonDataString, UserPreferences.class);\r\n\r\n        //(Collection&lt;UserPreferences&gt;) repository.findAll();\r\n\r\n        return deserializedResponse;\r\n    }\r\n```\r\n\r\nIt seems like whatever I try, it always returns the following error: \r\n```\r\n2023-05-28T19:41:26.719+02:00 ERROR 21124 --- [nio-8082-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.partytime.userpreferencesservice.models.Preference]] with root cause\r\n```\r\n\r\nI have tried several possible solutions. For example, I exhausted the Jackson Inheritance article written by Baeldung, looked for similar problems here on stackoverflow, but nothing seems to work. It is possible that I&#39;m missing a crucial detail, but maybe somebody can help me fix this.","title":"Having trouble deserializing JSON to POJO with a REST API and MongoDB","body":"<p>The following components are part of a Spring Boot 3.0.8 application with Java 17 and Maven.\nThe controller makes a request to MongoDB. POST works just fine with the current setup.</p>\n<p>I have been trying to get the data of the list of Preferences for my UserPreferences object:</p>\n<pre><code>@Document\npublic class UserPreferences {\n    @Id\n    private Long userId;\n\n    private List&lt;Preference&gt; preferences;\n\n    public UserPreferences() {\n        \n    }\n\n    public UserPreferences(Long id, List&lt;Preference&gt; preferences) {\n        this.userId = id;\n        this.preferences = preferences;\n    }\n//getters and setters\n</code></pre>\n<p>The Preference class, with jackson annotations.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.annotation.JsonSubTypes.Type;\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n        @Type(value = MoviePreference.class, name = &quot;movie&quot;),\n        @Type(value = GenrePreference.class, name = &quot;genre&quot;)\n})\n\npublic abstract class Preference {\n\n    protected Preference() {\n\n    }\n\n}\n</code></pre>\n<p>And the controller GetMapping request, which as of now doesn't work:</p>\n<pre><code>@GetMapping\n    Collection&lt;UserPreferences&gt; allPreferences() throws JsonProcessingException {\n        PolymorphicTypeValidator ptv = BasicPolymorphicTypeValidator.builder()\n                .allowIfSubType(&quot;com.partytime.userpreferencesservice&quot;)\n                .allowIfSubType(&quot;java.util.ArrayList&quot;)\n                .build();\n\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.NON_FINAL);\n\n        String jsonDataString = mapper.writeValueAsString(repository.findAll());\n        UserPreferences deserializedResponse \n        = mapper.readValue(jsonDataString, UserPreferences.class);\n\n        //(Collection&lt;UserPreferences&gt;) repository.findAll();\n\n        return deserializedResponse;\n    }\n</code></pre>\n<p>It seems like whatever I try, it always returns the following error:</p>\n<pre><code>2023-05-28T19:41:26.719+02:00 ERROR 21124 --- [nio-8082-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.partytime.userpreferencesservice.models.Preference]] with root cause\n</code></pre>\n<p>I have tried several possible solutions. For example, I exhausted the Jackson Inheritance article written by Baeldung, looked for similar problems here on stackoverflow, but nothing seems to work. It is possible that I'm missing a crucial detail, but maybe somebody can help me fix this.</p>\n"},{"tags":["java","spring","mongodb","mongodb-query","aggregation-framework"],"owner":{"account_id":28533711,"reputation":1,"user_id":21840713,"display_name":"Arijit Chakrabarty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685448265,"creation_date":1685448265,"question_id":76364620,"body_markdown":"How do I achieve this MongoDB update query in SpringBoot, using mongoTemplate and Aggregation?\r\n\r\n```\r\ndb.getCollection(&quot;dataBank&quot;).updateOne({_id: &quot;12345&quot;}, [\r\n    {\r\n      $set: {\r\n        &quot;indexed&quot;: true,\r\n        &quot;replicated&quot;: true\r\n      }\r\n    }, {\r\n      $set: {\r\n        status: {\r\n          $cond: {\r\n            &#39;if&#39;: {\r\n              $eq: [\r\n                {\r\n                  $and: [\r\n                    &#39;$replicated&#39;,\r\n                    &#39;$indexed&#39;\r\n                  ]\r\n                },\r\n                true\r\n              ]\r\n            },\r\n            &#39;then&#39;: &#39;COMPLETE&#39;,\r\n            &#39;else&#39;: &quot;$status&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ])\r\n```\r\n\r\nOn executing the above query in MongoDB, it updates the the indexed and replicated flags of the document with the given ID, and checks that if there are documents in the collection where both the flags are true, it set&#39;s their status to &quot;COMPLETE&quot;, else it remains as it is, which is &quot;INCOMPLETE&quot;.\r\n\r\nI have a simple entity and repository.\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport lombok.Data;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport javax.persistence.Id;\r\n\r\n@Document(collection = &quot;dataBank&quot;)\r\n@Data\r\npublic class DataBankEntity {\r\n\r\n  @Id private String id;\r\n\r\n  private String status;\r\n\r\n  private String filePath;\r\n\r\n  private String url;\r\n\r\n  private String type;\r\n\r\n  private String taskName;\r\n\r\n  private boolean replicated;\r\n\r\n  private boolean indexed;\r\n}\r\n\r\n```\r\n\r\nAnd my Repository\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n\r\n@Repository\r\npublic interface DataBankRepository extends MongoRepository&lt;DataBankEntity, String&gt; {\r\n\r\n}\r\n```\r\n","title":"Updating multiple documents in MongoDB based on value of multiple fields in Java SpringBoot","body":"<p>How do I achieve this MongoDB update query in SpringBoot, using mongoTemplate and Aggregation?</p>\n<pre><code>db.getCollection(&quot;dataBank&quot;).updateOne({_id: &quot;12345&quot;}, [\n    {\n      $set: {\n        &quot;indexed&quot;: true,\n        &quot;replicated&quot;: true\n      }\n    }, {\n      $set: {\n        status: {\n          $cond: {\n            'if': {\n              $eq: [\n                {\n                  $and: [\n                    '$replicated',\n                    '$indexed'\n                  ]\n                },\n                true\n              ]\n            },\n            'then': 'COMPLETE',\n            'else': &quot;$status&quot;\n          }\n        }\n      }\n    }\n  ])\n</code></pre>\n<p>On executing the above query in MongoDB, it updates the the indexed and replicated flags of the document with the given ID, and checks that if there are documents in the collection where both the flags are true, it set's their status to &quot;COMPLETE&quot;, else it remains as it is, which is &quot;INCOMPLETE&quot;.</p>\n<p>I have a simple entity and repository.</p>\n<pre><code>package com.example.demo;\n\nimport lombok.Data;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport javax.persistence.Id;\n\n@Document(collection = &quot;dataBank&quot;)\n@Data\npublic class DataBankEntity {\n\n  @Id private String id;\n\n  private String status;\n\n  private String filePath;\n\n  private String url;\n\n  private String type;\n\n  private String taskName;\n\n  private boolean replicated;\n\n  private boolean indexed;\n}\n\n</code></pre>\n<p>And my Repository</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface DataBankRepository extends MongoRepository&lt;DataBankEntity, String&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","datetime","timezone","java-time","datetime-conversion"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685436560,"post_id":76363079,"comment_id":134655814,"body_markdown":"Have a look at [Convert date and time between timezone](https://mkyong.com/java/java-convert-date-and-time-between-timezone/)","body":"Have a look at <a href=\"https://mkyong.com/java/java-convert-date-and-time-between-timezone/\" rel=\"nofollow noreferrer\">Convert date and time between timezone</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685436976,"post_id":76363079,"comment_id":134655922,"body_markdown":"Try `ZonedDateTime zdt = ZonedDateTime.parse(date);ZonedDateTime zdtp = zdt.withZoneSameInstant(ZoneId.of(&quot;Europe/Paris&quot;));`","body":"Try <code>ZonedDateTime zdt = ZonedDateTime.parse(date);ZonedDateTime zdtp = zdt.withZoneSameInstant(ZoneId.of(&quot;Europe&#47;Paris&quot;));</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685444607,"post_id":76363079,"comment_id":134657554,"body_markdown":"Unless you have very specific reasons, you should not want a `LocalDateTime` for the date and time in Paris time zone. The *local* in the class name means &quot;without time zone or UTC offset&quot;. Prefer a `ZonedDateTime` for a date and time in a specific time zone. You can do everything with it that you could have done with a `LocalDateTime` and more. So just `Instant.parse(date).atZone(ZoneId.of(&quot;Europe/Paris&quot;))` (a little bit simpler than what @g00se showed you, which works too).","body":"Unless you have very specific reasons, you should not want a <code>LocalDateTime</code> for the date and time in Paris time zone. The <i>local</i> in the class name means &quot;without time zone or UTC offset&quot;. Prefer a <code>ZonedDateTime</code> for a date and time in a specific time zone. You can do everything with it that you could have done with a <code>LocalDateTime</code> and more. So just <code>Instant.parse(date).atZone(ZoneId.of(&quot;Europe&#47;Paris&quot;))</code> (a little bit simpler than what @g00se showed you, which works too)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685461964,"post_id":76363079,"comment_id":134661892,"body_markdown":"Related/similar: [How to convert ISO 8601 formatted DateTime to another time zone in Java?](https://stackoverflow.com/questions/50748930/how-to-convert-iso-8601-formatted-datetime-to-another-time-zone-in-java)","body":"Related/similar: <a href=\"https://stackoverflow.com/questions/50748930/how-to-convert-iso-8601-formatted-datetime-to-another-time-zone-in-java\">How to convert ISO 8601 formatted DateTime to another time zone in Java?</a>"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685437853,"post_id":76363194,"comment_id":134656099,"body_markdown":"I&#39;ve already posted that [admittedly without the trivial step of turning it into `LocalDateTime`] ;)","body":"I&#39;ve already posted that [admittedly without the trivial step of turning it into <code>LocalDateTime</code>] ;)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1685438552,"post_id":76363194,"comment_id":134656224,"body_markdown":"@g00se don&#39;t answer questions in comments; or, don&#39;t expect people not to provide answers with the same content as comments. Comments are meant for clarification, and are not considered permanent.","body":"@g00se don&#39;t answer questions in comments; or, don&#39;t expect people not to provide answers with the same content as comments. Comments are meant for clarification, and are not considered permanent."},{"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"score":1,"creation_date":1685438979,"post_id":76363194,"comment_id":134656317,"body_markdown":"@g00se I admit that. I put it as answer to be more visible for other people. Thank you :)","body":"@g00se I admit that. I put it as answer to be more visible for other people. Thank you :)"}],"tags":[],"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685448250,"creation_date":1685437106,"answer_id":76363194,"question_id":76363079,"body_markdown":"Thanks to @Ole V.V. &amp; @g00se \r\n\r\nThere is the why to cast a String to LocalDateTime with the right Zone :\r\n\r\n**Solution 1 :**\r\n\r\n        String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(date);\r\n\r\n        ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\r\n\r\n        LocalDateTime localDateTime = zonedDateTime.withZoneSameInstant(paris).toLocalDateTime();\r\n        System.out.println(localDateTime);\r\n\r\n**Solution 2 :**\r\n\r\n        String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n\r\n        ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\r\n\r\n        LocalDateTime localDateTime = Instant.parse(date).atZone(paris).toLocalDateTime();\r\n        System.out.println(localDateTime);","title":"Java UTC String to Paris Time","body":"<p>Thanks to @Ole V.V. &amp; @g00se</p>\n<p>There is the why to cast a String to LocalDateTime with the right Zone :</p>\n<p><strong>Solution 1 :</strong></p>\n<pre><code>    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n    ZonedDateTime zonedDateTime = ZonedDateTime.parse(date);\n\n    ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\n\n    LocalDateTime localDateTime = zonedDateTime.withZoneSameInstant(paris).toLocalDateTime();\n    System.out.println(localDateTime);\n</code></pre>\n<p><strong>Solution 2 :</strong></p>\n<pre><code>    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n\n    ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\n\n    LocalDateTime localDateTime = Instant.parse(date).atZone(paris).toLocalDateTime();\n    System.out.println(localDateTime);\n</code></pre>\n"}],"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685448250,"creation_date":1685436325,"question_id":76363079,"body_markdown":"From this time :\r\n\r\n    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n\r\nWhich is in zulu time (UTC). How can I get the `LocalDateTime` in Paris time ? which can be UTC+1 or UTC+2 depending on the offeset if it&#39;s Summer or Winter.\r\n\r\nI tried that but it doses not work :\r\n\r\n        String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).withZone(ZoneOffset.UTC);\r\n        LocalDateTime datetime = LocalDateTime.parse(date, formatter);\r\n        System.out.println(datetime);\r\n        System.out.println(datetime.atZone(ZoneId.of(&quot;Europe/Paris&quot;)));\r\n\r\nThe output :\r\n\r\n    2023-01-31T23:00\r\n    2023-01-31T23:00+01:00[Europe/Paris]","title":"Java UTC String to Paris Time","body":"<p>From this time :</p>\n<pre><code>String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n</code></pre>\n<p>Which is in zulu time (UTC). How can I get the <code>LocalDateTime</code> in Paris time ? which can be UTC+1 or UTC+2 depending on the offeset if it's Summer or Winter.</p>\n<p>I tried that but it doses not work :</p>\n<pre><code>    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;).withZone(ZoneOffset.UTC);\n    LocalDateTime datetime = LocalDateTime.parse(date, formatter);\n    System.out.println(datetime);\n    System.out.println(datetime.atZone(ZoneId.of(&quot;Europe/Paris&quot;)));\n</code></pre>\n<p>The output :</p>\n<pre><code>2023-01-31T23:00\n2023-01-31T23:00+01:00[Europe/Paris]\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","maven-3"],"owner":{"account_id":17116621,"reputation":61,"user_id":12385945,"display_name":"lbndvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685447515,"creation_date":1685445723,"question_id":76364286,"body_markdown":"\r\nI have a mongo script file fruitdata.js for inserting data to the mongo collection.I want to execute this script when we build the java application.\r\n\r\n    // Insert fruits into the &quot;fruit&quot; collection\r\n\r\n    use fruits;\r\n    db.fruit.insertMany([\r\n    { name: &quot;Apple&quot;, color: &quot;Red&quot;},\r\n    { name: \r\n     &quot;Banana&quot;,color:&quot;Yellow&quot; },\r\n    { name: &quot;Orange&quot;, color: \r\n    &quot;Orange&quot; }\r\n    ]);\r\nThe script file can be modified as required. could someone please suggest someways for making this possible. I have tried few solutions nothing is working. Thanks in advance.\r\n\r\n    ","title":"Automatically insert data from a MongoDB script file when the Java application is built","body":"<p>I have a mongo script file fruitdata.js for inserting data to the mongo collection.I want to execute this script when we build the java application.</p>\n<pre><code>// Insert fruits into the &quot;fruit&quot; collection\n\nuse fruits;\ndb.fruit.insertMany([\n{ name: &quot;Apple&quot;, color: &quot;Red&quot;},\n{ name: \n &quot;Banana&quot;,color:&quot;Yellow&quot; },\n{ name: &quot;Orange&quot;, color: \n&quot;Orange&quot; }\n]);\n</code></pre>\n<p>The script file can be modified as required. could someone please suggest someways for making this possible. I have tried few solutions nothing is working. Thanks in advance.</p>\n"},{"tags":["java","spring-batch","jdbctemplate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685004022,"post_id":76330271,"comment_id":134601065,"body_markdown":"your code is missing a &quot;. You do understand that this is already a custom reader, right? Just because you are using existing classes, doesn&#39;t mean the whole is not customized to your needs","body":"your code is missing a &quot;. You do understand that this is already a custom reader, right? Just because you are using existing classes, doesn&#39;t mean the whole is not customized to your needs"},{"owner":{"account_id":24898352,"reputation":35,"user_id":18769331,"display_name":"Ooze"},"score":0,"creation_date":1685004359,"post_id":76330271,"comment_id":134601144,"body_markdown":"Hi @Stultuske thanks for pointing out the missing &quot;. I am not very familiar with Spring Batch but what I am trying to do is to supply the var1 and var2 in the query dynamically.","body":"Hi @Stultuske thanks for pointing out the missing &quot;. I am not very familiar with Spring Batch but what I am trying to do is to supply the var1 and var2 in the query dynamically."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1685006982,"post_id":76330271,"comment_id":134601711,"body_markdown":"How are these `var1` and `var2` passed to your job from the Resful API? Are they retrieved before the job is launched and passed to the job as parameters? Please share the code of where these variables are taken from to understand the dynamism you have and give you the correct answer. You basically need a step-scoped item reader, and the way to do that depends on your answer to the previous question.","body":"How are these <code>var1</code> and <code>var2</code> passed to your job from the Resful API? Are they retrieved before the job is launched and passed to the job as parameters? Please share the code of where these variables are taken from to understand the dynamism you have and give you the correct answer. You basically need a step-scoped item reader, and the way to do that depends on your answer to the previous question."},{"owner":{"account_id":24898352,"reputation":35,"user_id":18769331,"display_name":"Ooze"},"score":0,"creation_date":1685020331,"post_id":76330271,"comment_id":134604802,"body_markdown":"Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question","body":"Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1685447487,"post_id":76330271,"comment_id":134658156,"body_markdown":"Thanks for the update. I added an answer with an example.","body":"Thanks for the update. I added an answer with an example."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685447458,"creation_date":1685447458,"answer_id":76364507,"question_id":76330271,"body_markdown":"&gt; Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question\r\n\r\nIn that case, you should make your item reader step-scoped in order to inject job parameters in its configuration dynamically. Here is an example:\r\n\r\n```\r\n @Bean\r\npublic ItemReader&lt;? extends Orders&gt; reader(\r\n                    @Value(&quot;#{jobParameters[&#39;var1&#39;]}&quot;) String var1,\r\n                    @Value(&quot;#{jobParameters[&#39;var2&#39;]}&quot;) String var2) {\r\n\r\n    JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\r\n    final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\r\n    sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\r\n    sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\r\n    sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\r\n    sqlPagingQueryProviderFactoryBean.setWhereClause(\r\n        &quot;where order_status=&quot; + var1 + &quot; and date &lt; &quot; + var2);\r\n    sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\r\n\r\n    try {\r\n        reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    reader.setDataSource(dataSource);\r\n    reader.setPageSize(3);\r\n    reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\r\n    return reader;\r\n}\r\n```\r\n\r\nYou can find more details in the reference documentation here: [Late Binding of Job and Step Attributes](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#late-binding)","title":"Custom Item Reader that uses JdbcPagingItemReader?","body":"<blockquote>\n<p>Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question</p>\n</blockquote>\n<p>In that case, you should make your item reader step-scoped in order to inject job parameters in its configuration dynamically. Here is an example:</p>\n<pre><code> @Bean\npublic ItemReader&lt;? extends Orders&gt; reader(\n                    @Value(&quot;#{jobParameters['var1']}&quot;) String var1,\n                    @Value(&quot;#{jobParameters['var2']}&quot;) String var2) {\n\n    JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\n    final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\n    sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\n    sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\n    sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\n    sqlPagingQueryProviderFactoryBean.setWhereClause(\n        &quot;where order_status=&quot; + var1 + &quot; and date &lt; &quot; + var2);\n    sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\n\n    try {\n        reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    reader.setDataSource(dataSource);\n    reader.setPageSize(3);\n    reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\n    return reader;\n}\n</code></pre>\n<p>You can find more details in the reference documentation here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#late-binding\" rel=\"nofollow noreferrer\">Late Binding of Job and Step Attributes</a></p>\n"}],"owner":{"account_id":24898352,"reputation":35,"user_id":18769331,"display_name":"Ooze"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76364507,"answer_count":1,"score":0,"last_activity_date":1685447458,"creation_date":1685003197,"question_id":76330271,"body_markdown":"I am able to read from my db when this code snippet is in my batchConfig\r\n\r\n   \r\n\r\n     @Bean\r\n    public ItemReader&lt;? extends Orders&gt; reader() {\r\n    \r\n        JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\r\n        final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\r\n        sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\r\n        sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\r\n        sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\r\n        sqlPagingQueryProviderFactoryBean.setWhereClause(\r\n            &quot;where order_status=var1 and date &lt; var2&quot;);\r\n        sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\r\n    \r\n        try {\r\n            reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        reader.setDataSource(dataSource);\r\n        reader.setPageSize(3);\r\n        reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\r\n        return reader;\r\n    }\r\n\r\nHowever, I am not able to pass variables to this ItemReader dynamically from my Restful API. From what I read, I should create a custom item reader however I am not sure how to create that leveraging JdbcPagingItemReader.\r\n\r\nWould any of you help me on this one? Thanks!\r\n\r\n\r\n\r\n    public void orderProcess(String var1) {\r\n            taskExecutor.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JobParameters jobParameters = new JobParametersBuilder()\r\n                            .addString(&quot;var1&quot;, var1)\r\n                            .addString(&quot;var&quot;, &quot;sampleValue1&quot;)\r\n                            .addString(&quot;time&quot;,\r\n                                new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;)\r\n                                    .format(Calendar.getInstance().getTime()))\r\n                            .addDate(&quot;date&quot;, new Date()).toJobParameters();\r\n                        jobLauncher.run(job, jobParameters);\r\n                    } catch (Exception e) {\r\n                        LogUtil.logError(LOGGER, &quot;ERROR IN STARTING JOB&quot;, e);\r\n                    }\r\n                }\r\n            });\r\n        }","title":"Custom Item Reader that uses JdbcPagingItemReader?","body":"<p>I am able to read from my db when this code snippet is in my batchConfig</p>\n<pre><code> @Bean\npublic ItemReader&lt;? extends Orders&gt; reader() {\n\n    JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\n    final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\n    sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\n    sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\n    sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\n    sqlPagingQueryProviderFactoryBean.setWhereClause(\n        &quot;where order_status=var1 and date &lt; var2&quot;);\n    sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\n\n    try {\n        reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    reader.setDataSource(dataSource);\n    reader.setPageSize(3);\n    reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\n    return reader;\n}\n</code></pre>\n<p>However, I am not able to pass variables to this ItemReader dynamically from my Restful API. From what I read, I should create a custom item reader however I am not sure how to create that leveraging JdbcPagingItemReader.</p>\n<p>Would any of you help me on this one? Thanks!</p>\n<pre><code>public void orderProcess(String var1) {\n        taskExecutor.execute(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JobParameters jobParameters = new JobParametersBuilder()\n                        .addString(&quot;var1&quot;, var1)\n                        .addString(&quot;var&quot;, &quot;sampleValue1&quot;)\n                        .addString(&quot;time&quot;,\n                            new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;)\n                                .format(Calendar.getInstance().getTime()))\n                        .addDate(&quot;date&quot;, new Date()).toJobParameters();\n                    jobLauncher.run(job, jobParameters);\n                } catch (Exception e) {\n                    LogUtil.logError(LOGGER, &quot;ERROR IN STARTING JOB&quot;, e);\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1685442649,"post_id":76363856,"comment_id":134657131,"body_markdown":"Java requires files to be in a directory structure that matches their package name. How would you in your case distinct between `foo.Main` and `bar.Main`?","body":"Java requires files to be in a directory structure that matches their package name. How would you in your case distinct between <code>foo.Main</code> and <code>bar.Main</code>?"},{"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"score":1,"creation_date":1685442802,"post_id":76363856,"comment_id":134657156,"body_markdown":"Or maybe put differently: What is your use case, considering that every IDE should be capable of hiding common base packages?","body":"Or maybe put differently: What is your use case, considering that every IDE should be capable of hiding common base packages?"},{"owner":{"account_id":28709312,"reputation":3,"user_id":21985095,"display_name":"Hagalaz"},"score":0,"creation_date":1685442901,"post_id":76363856,"comment_id":134657179,"body_markdown":"@Marvin if I am not mistaken Java only cares about the structure inside the jar. I don&#39;t have a problem (in fact I want them to) for the files to be in their package directories in the final output. I just want them without the deep common folder in the source.","body":"@Marvin if I am not mistaken Java only cares about the structure inside the jar. I don&#39;t have a problem (in fact I want them to) for the files to be in their package directories in the final output. I just want them without the deep common folder in the source."},{"owner":{"account_id":28709312,"reputation":3,"user_id":21985095,"display_name":"Hagalaz"},"score":0,"creation_date":1685443007,"post_id":76363856,"comment_id":134657197,"body_markdown":"@Marvin yes, inside the IDE they are collapsed but many times I have to navigate to these folders from command line. It&#39;s not critical, just personal preference","body":"@Marvin yes, inside the IDE they are collapsed but many times I have to navigate to these folders from command line. It&#39;s not critical, just personal preference"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685633851,"post_id":76363856,"comment_id":134690941,"body_markdown":"The directory structure starting from `src/main/java/&lt;packageName&gt;` defined the package names within the resulting jar file and so in consequence you have to define the directories as the package structure or in other words the directory structure.","body":"The directory structure starting from <code>src&#47;main&#47;java&#47;&lt;packageName&gt;</code> defined the package names within the resulting jar file and so in consequence you have to define the directories as the package structure or in other words the directory structure."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685447110,"creation_date":1685446803,"answer_id":76364424,"question_id":76363856,"body_markdown":"No. Each package must be in a directory of the same name. It is a requirement of the language implementation for both compilation and execution, rather than an issue with Maven. \r\n\r\nWhile the [language specification][1] doesn&#39;t prevent some implementation to work differently I&#39;m not aware of any and it would remain to be seen if it would be compatible with Maven.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html#jls-7.2","title":"Omit base package directory structure in Maven","body":"<p>No. Each package must be in a directory of the same name. It is a requirement of the language implementation for both compilation and execution, rather than an issue with Maven.</p>\n<p>While the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html#jls-7.2\" rel=\"nofollow noreferrer\">language specification</a> doesn't prevent some implementation to work differently I'm not aware of any and it would remain to be seen if it would be compatible with Maven.</p>\n"}],"owner":{"account_id":28709312,"reputation":3,"user_id":21985095,"display_name":"Hagalaz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76364424,"answer_count":1,"score":0,"last_activity_date":1685447110,"creation_date":1685442337,"question_id":76363856,"body_markdown":"Is there a way to omit the base package from the directory structure in Maven?\r\n\r\nFor example let&#39;s say we have a project with a base package `org.example.server` with 2 files :\r\n\r\n```\r\nMain.java (package: org.example.server)\r\nOther.java (package: org.example.server.modules)\r\n```\r\n\r\nI want them to have the following locations in my project\r\n\r\n```\r\nsrc/main/java/Main.java\r\nsrc/main/java/modules/Other.java\r\n```\r\n\r\nAnd the final Jar should be identical as if these files were placed according to the standard layout\r\n\r\n```\r\norg/example/server/Main.class\r\norg/example/server/modules/Other.class\r\n```","title":"Omit base package directory structure in Maven","body":"<p>Is there a way to omit the base package from the directory structure in Maven?</p>\n<p>For example let's say we have a project with a base package <code>org.example.server</code> with 2 files :</p>\n<pre><code>Main.java (package: org.example.server)\nOther.java (package: org.example.server.modules)\n</code></pre>\n<p>I want them to have the following locations in my project</p>\n<pre><code>src/main/java/Main.java\nsrc/main/java/modules/Other.java\n</code></pre>\n<p>And the final Jar should be identical as if these files were placed according to the standard layout</p>\n<pre><code>org/example/server/Main.class\norg/example/server/modules/Other.class\n</code></pre>\n"},{"tags":["java","hibernate","lucene","full-text-search","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685446876,"creation_date":1522055347,"answer_id":49487734,"question_id":49487444,"body_markdown":"In Hibernate Search 6+, set the configuration property `hibernate.search.enabled` to `false` for the application you don&#39;t want to use Hibernate Search in.\r\n\r\nIn Hibernate Search 5, set the configuration property `hibernate.search.autoregister_listeners` to `false` for the application you don&#39;t want to use Hibernate Search in.\r\n\r\nSource: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-configuration-event","title":"Prevent initialization of Hibernate Search in Spring application","body":"<p>In Hibernate Search 6+, set the configuration property <code>hibernate.search.enabled</code> to <code>false</code> for the application you don't want to use Hibernate Search in.</p>\n<p>In Hibernate Search 5, set the configuration property <code>hibernate.search.autoregister_listeners</code> to <code>false</code> for the application you don't want to use Hibernate Search in.</p>\n<p>Source: <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-configuration-event\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-configuration-event</a></p>\n"}],"owner":{"account_id":2168578,"reputation":45,"user_id":1921131,"display_name":"ashutoshagrawal1010"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49487734,"answer_count":1,"score":0,"last_activity_date":1685446876,"creation_date":1522054304,"question_id":49487444,"body_markdown":"I have a Model class which is shared between two applications. One of the application needs to support full text search which has been implemented using [hibernate search][1]. The other application does not need this search capability. The problem is that when I startup my spring application the index directories are created automatically. Is there any way I can prevent these index directories from being created in the other application?\r\n\r\n\r\n  [1]: http://hibernate.org/search/","title":"Prevent initialization of Hibernate Search in Spring application","body":"<p>I have a Model class which is shared between two applications. One of the application needs to support full text search which has been implemented using <a href=\"http://hibernate.org/search/\" rel=\"nofollow noreferrer\">hibernate search</a>. The other application does not need this search capability. The problem is that when I startup my spring application the index directories are created automatically. Is there any way I can prevent these index directories from being created in the other application?</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":5232707,"reputation":372,"user_id":4182415,"display_name":"Alexandru Hodis"},"score":0,"creation_date":1487923869,"post_id":42433492,"comment_id":72011806,"body_markdown":"try `File -&gt; Invalidate Caches / Restart`","body":"try <code>File -&gt; Invalidate Caches &#47; Restart</code>"},{"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"score":0,"creation_date":1487924064,"post_id":42433492,"comment_id":72011906,"body_markdown":"I&#39;ve tried Invalidate Caches as you suggested, then rebuilding.  After the rebuild the editor still looks the same.  What&#39;s weird is that it rebuilds fine.","body":"I&#39;ve tried Invalidate Caches as you suggested, then rebuilding.  After the rebuild the editor still looks the same.  What&#39;s weird is that it rebuilds fine."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1487924386,"post_id":42433492,"comment_id":72012029,"body_markdown":"Have you reimported the gradle project in IntelliJ after adding the dependency (i.e. clicked on the reload icon at the top of the gradle tool window)?","body":"Have you reimported the gradle project in IntelliJ after adding the dependency (i.e. clicked on the reload icon at the top of the gradle tool window)?"},{"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"score":1,"creation_date":1487924626,"post_id":42433492,"comment_id":72012130,"body_markdown":"That worked!  Thanks!","body":"That worked!  Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":1761731,"reputation":12797,"user_id":1608660,"accept_rate":56,"display_name":"VladL"},"score":4,"creation_date":1545498244,"post_id":48085880,"comment_id":94640834,"body_markdown":"that fixes the problem. You can find the latest vesrion here https://mvnrepository.com/artifact/org.json/json\n\nAt the moment of writing it is 20180813","body":"that fixes the problem. You can find the latest vesrion here <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json</a>  At the moment of writing it is 20180813"},{"owner":{"account_id":1929464,"reputation":645,"user_id":2347273,"display_name":"Nick"},"score":3,"creation_date":1593449642,"post_id":48085880,"comment_id":110779576,"body_markdown":"And it is now 20200518.","body":"And it is now 20200518."}],"tags":[],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"comment_count":2,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1605109338,"creation_date":1515017315,"answer_id":48085880,"question_id":42433492,"body_markdown":"I was able to successfully download json in my gradle dependencies:\r\n\r\n    implementation &#39;org.json:json:20171018&#39;","title":"Gradle build - not able to import org.json","body":"<p>I was able to successfully download json in my gradle dependencies:</p>\n<pre><code>implementation 'org.json:json:20171018'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17670,"reputation":3314,"user_id":39791,"display_name":"Joe McMahon"},"score":3,"creation_date":1553283936,"post_id":55305495,"comment_id":97341889,"body_markdown":"Can you explain how this solves the problem, and the reasoning behind it? This would make the answer more useful in similar situations.","body":"Can you explain how this solves the problem, and the reasoning behind it? This would make the answer more useful in similar situations."},{"owner":{"account_id":17055966,"reputation":101,"user_id":12340495,"display_name":"Eddie T"},"score":0,"creation_date":1667131544,"post_id":55305495,"comment_id":131093531,"body_markdown":"I gradle, after you enter the lines above, don&#39;t you need to do a jarLibs &#39;xxx.xxx:xxx:xxx&#39;  entry: ? How would that look?  And also an uberJar?  How would that be done for org.json?","body":"I gradle, after you enter the lines above, don&#39;t you need to do a jarLibs &#39;xxx.xxx:xxx:xxx&#39;  entry: ? How would that look?  And also an uberJar?  How would that be done for org.json?"}],"tags":[],"owner":{"account_id":7328793,"reputation":356,"user_id":5582402,"display_name":"Mohsenne"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1553330597,"creation_date":1553277991,"answer_id":55305495,"question_id":42433492,"body_markdown":"As some mentioned, [mvnrepository][1] provides snippet for different Build systems.\r\nAfter you choose your desired version, in the middle of the page, select `Gradle` as build system, copy and paste the snippet in your `build.gradle` file, section `dependencies` in your java project. \r\n\r\n    \r\n    // https://mvnrepository.com/artifact/org.json/json\r\n    compile group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20180813&#39;\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.json/json","title":"Gradle build - not able to import org.json","body":"<p>As some mentioned, <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">mvnrepository</a> provides snippet for different Build systems.\nAfter you choose your desired version, in the middle of the page, select <code>Gradle</code> as build system, copy and paste the snippet in your <code>build.gradle</code> file, section <code>dependencies</code> in your java project. </p>\n\n<pre><code>// https://mvnrepository.com/artifact/org.json/json\ncompile group: 'org.json', name: 'json', version: '20180813'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339820,"reputation":1567,"user_id":669518,"accept_rate":0,"display_name":"FrankyHollywood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685446545,"creation_date":1685446545,"answer_id":76364391,"question_id":42433492,"body_markdown":"Make sure your dependency configuration is set correct in your build.gradle, especially important when running plugins like a test framework.\r\n\r\nFor example, I wanted to use JsonObject in a Gatling test. I needed to add the json dependency as follows\r\n\r\n    dependencies {\r\n      gatlingImplementation &#39;org.json:json:20230227&#39;\r\n    }\r\n\r\nTo see the available configurations run\r\n\r\n    gradle -q dependencies","title":"Gradle build - not able to import org.json","body":"<p>Make sure your dependency configuration is set correct in your build.gradle, especially important when running plugins like a test framework.</p>\n<p>For example, I wanted to use JsonObject in a Gatling test. I needed to add the json dependency as follows</p>\n<pre><code>dependencies {\n  gatlingImplementation 'org.json:json:20230227'\n}\n</code></pre>\n<p>To see the available configurations run</p>\n<pre><code>gradle -q dependencies\n</code></pre>\n"}],"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74149,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":3,"score":24,"last_activity_date":1685446545,"creation_date":1487923342,"question_id":42433492,"body_markdown":"I have a problem where I’m trying to include `org.json` as a dependency in my gradle/spring boot project.  In my build.gradle I have\r\n\r\n\r\n    dependencies {\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n        compile(&quot;org.json:json:20141113&quot;)\r\n    }\r\n\r\nBut in the editor window it looks like IntelliJ is not able to import org.json - it’s unable to find the package\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat’s weird is that I can run the gradle ‘build’ task without errors in IntelliJ, and I can run\r\n\r\n\r\n    ./gradlew clean build &amp;&amp; java -jar build/libs/MyApp-0.1.0.jar\r\n\r\nand it works fine.\r\n\r\nIs this a ‘fat jar’ problem?  I’m not sure it is because `org.json` is definitely not in my class path on the command line.  Any advice appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AZb5j.png\r\n  [2]: https://i.stack.imgur.com/lhmtY.png","title":"Gradle build - not able to import org.json","body":"<p>I have a problem where I’m trying to include <code>org.json</code> as a dependency in my gradle/spring boot project.  In my build.gradle I have</p>\n\n<pre><code>dependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n    compile(\"org.springframework.boot:spring-boot-starter-security\")\n    compile(\"org.json:json:20141113\")\n}\n</code></pre>\n\n<p>But in the editor window it looks like IntelliJ is not able to import org.json - it’s unable to find the package</p>\n\n<p><a href=\"https://i.stack.imgur.com/AZb5j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AZb5j.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lhmtY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lhmtY.png\" alt=\"enter image description here\"></a></p>\n\n<p>What’s weird is that I can run the gradle ‘build’ task without errors in IntelliJ, and I can run</p>\n\n<pre><code>./gradlew clean build &amp;&amp; java -jar build/libs/MyApp-0.1.0.jar\n</code></pre>\n\n<p>and it works fine.</p>\n\n<p>Is this a ‘fat jar’ problem?  I’m not sure it is because <code>org.json</code> is definitely not in my class path on the command line.  Any advice appreciated.</p>\n"},{"tags":["java","spring","flutter","spring-boot","dart"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1685434828,"post_id":76362866,"comment_id":134655439,"body_markdown":"It would be easiest if you can just remove the millisecond part from the client. If that&#39;s not an option, you can keep a collection of acceptable formats and iterate over it, until one matches.","body":"It would be easiest if you can just remove the millisecond part from the client. If that&#39;s not an option, you can keep a collection of acceptable formats and iterate over it, until one matches."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1685435281,"post_id":76362866,"comment_id":134655534,"body_markdown":"Actually, custom `LocalDateTime` deserializer, using internally [this solution for variable length of second fraction](https://stackoverflow.com/questions/30103167/jsr-310-parsing-seconds-fraction-with-variable-length/30107522#30107522) is probably the most elegant way.","body":"Actually, custom <code>LocalDateTime</code> deserializer, using internally <a href=\"https://stackoverflow.com/questions/30103167/jsr-310-parsing-seconds-fraction-with-variable-length/30107522#30107522\">this solution for variable length of second fraction</a> is probably the most elegant way."},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1685435377,"post_id":76362866,"comment_id":134655555,"body_markdown":"Given your DTO tries to parse a String I would apply a substring for the Datetime string in your DTO that excludes the milliseconds so you could then parse it as a LocalDateTime","body":"Given your DTO tries to parse a String I would apply a substring for the Datetime string in your DTO that excludes the milliseconds so you could then parse it as a LocalDateTime"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685439482,"post_id":76362866,"comment_id":134656424,"body_markdown":"Try `@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss[.SSSSSS]&quot;)`","body":"Try <code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss[.SSSSSS]&quot;)</code>"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1685446393,"post_id":76362866,"comment_id":134657939,"body_markdown":"@g00se I tried to use that pattern. However, I still get an error while parsing this date time: 2023-05-31 00:00:00.000&#39;","body":"@g00se I tried to use that pattern. However, I still get an error while parsing this date time: 2023-05-31 00:00:00.000&#39;"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685446479,"creation_date":1685434478,"question_id":76362866,"body_markdown":"I have a client written in Flutter and a server written in Spring Boot. The client sends the `DateTime` object in the format of `yyyy-MM-dd HH:mm:ss.SS`. The milliseconds part can change from &quot;.SS&quot; to &quot;.SSSS&quot;, sometimes to &quot;.SSS&quot;. So there is no stable format for the milliseconds part. The server accepts `LocalDateTime` object. How can I reconcile both sides with one DateTime format? Actually, I want the server accepts all kind of DateTime objects without looking at the milliseconds part because I don&#39;t need the milliseconds part. The accuracy of the DateTime should be up to seconds. What kind of logic should I follow?\r\n\r\nI think the best place to handle the format is in the server side `dtos`. I have found an annotation that accepts the given DateTime parameter. \r\n\r\n``@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)``. However, If the client sends the DateTime in the format of &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; or other than the given format inside the annotation. Java throws the following error.\r\n\r\n```\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2023-05-30 11:08:32.832509&#39; could not be parsed, unparsed text found at index 23; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2023-05-30 11:08:32.832509&#39; could not be parsed, unparsed text found at index 23&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 320] (through reference chain: com.napsam.wo.dtos.EventCreateRequest[&quot;startingTime&quot;])]\r\n\r\n```\r\n\r\nWhat kind of logic should I follow?\r\n","title":"Dart&#39;s DateTime and Java&#39;s LocalDateTime handshake","body":"<p>I have a client written in Flutter and a server written in Spring Boot. The client sends the <code>DateTime</code> object in the format of <code>yyyy-MM-dd HH:mm:ss.SS</code>. The milliseconds part can change from &quot;.SS&quot; to &quot;.SSSS&quot;, sometimes to &quot;.SSS&quot;. So there is no stable format for the milliseconds part. The server accepts <code>LocalDateTime</code> object. How can I reconcile both sides with one DateTime format? Actually, I want the server accepts all kind of DateTime objects without looking at the milliseconds part because I don't need the milliseconds part. The accuracy of the DateTime should be up to seconds. What kind of logic should I follow?</p>\n<p>I think the best place to handle the format is in the server side <code>dtos</code>. I have found an annotation that accepts the given DateTime parameter.</p>\n<p><code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</code>. However, If the client sends the DateTime in the format of &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; or other than the given format inside the annotation. Java throws the following error.</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-05-30 11:08:32.832509' could not be parsed, unparsed text found at index 23; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-05-30 11:08:32.832509' could not be parsed, unparsed text found at index 23&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 320] (through reference chain: com.napsam.wo.dtos.EventCreateRequest[&quot;startingTime&quot;])]\n\n</code></pre>\n<p>What kind of logic should I follow?</p>\n"},{"tags":["java","amazon-web-services","hadoop","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":2452792,"reputation":6158,"user_id":2138633,"accept_rate":80,"display_name":"ManojP"},"score":0,"creation_date":1524951862,"post_id":41322405,"comment_id":87178616,"body_markdown":"I did not get the reason but it solved my issue.\n\nconf.set(&quot;fs.s3a.awsAccessKeyId&quot;, access_key); // not working\nconf.set(&quot;fs.s3a.access.key&quot;, access_key);  //worked","body":"I did not get the reason but it solved my issue.  conf.set(&quot;fs.s3a.awsAccessKeyId&quot;, access_key); // not working conf.set(&quot;fs.s3a.access.key&quot;, access_key);  //worked"},{"owner":{"account_id":3283735,"reputation":4243,"user_id":2763683,"accept_rate":94,"display_name":"Andrea Bergonzo"},"score":0,"creation_date":1606244536,"post_id":41322405,"comment_id":114903804,"body_markdown":"Do you know what version made the config name to change?","body":"Do you know what version made the config name to change?"}],"tags":[],"owner":{"account_id":2605791,"reputation":1307,"user_id":2256986,"accept_rate":92,"display_name":"Vitali Melamud"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1685445864,"creation_date":1482679925,"answer_id":41322405,"question_id":41322404,"body_markdown":"As s3a is relatively new implementation (and works correctly from hadoop 2.7), you need to set to sets properties in hadoop configuration -\r\n\r\n\t\tconf.set(&quot;fs.s3a.access.key&quot;, access_key);\r\n\t\tconf.set(&quot;fs.s3a.secret.key&quot;, secret_key);\r\n\r\n(conf is hadoop configuration)\r\n\r\n","title":"How to set s3a configuration correctly in hadoop configuration?","body":"<p>As s3a is relatively new implementation (and works correctly from hadoop 2.7), you need to set to sets properties in hadoop configuration -</p>\n<pre><code>    conf.set(&quot;fs.s3a.access.key&quot;, access_key);\n    conf.set(&quot;fs.s3a.secret.key&quot;, secret_key);\n</code></pre>\n<p>(conf is hadoop configuration)</p>\n"}],"owner":{"account_id":2605791,"reputation":1307,"user_id":2256986,"accept_rate":92,"display_name":"Vitali Melamud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41322405,"answer_count":1,"score":2,"last_activity_date":1685445864,"creation_date":1482679925,"question_id":41322404,"body_markdown":"I get strange errors such as - cant&#39;t get aws credentials or Unable to load credentials from ...\r\n\r\nIs there any way to set explicitly the s3a credentials in hadoop configuration?","title":"How to set s3a configuration correctly in hadoop configuration?","body":"<p>I get strange errors such as - cant't get aws credentials or Unable to load credentials from ...</p>\n\n<p>Is there any way to set explicitly the s3a credentials in hadoop configuration?</p>\n"},{"tags":["java","jwt","rsa","auth0","jks"],"comments":[{"owner":{"account_id":15775589,"reputation":5741,"user_id":11383441,"display_name":"Kalana"},"score":0,"creation_date":1685169805,"post_id":76255333,"comment_id":134626888,"body_markdown":"I have done this with Node.JS. I can give you a heads-up on Java. Please refer [this](https://github.com/auth0/java-jwt).","body":"I have done this with Node.JS. I can give you a heads-up on Java. Please refer <a href=\"https://github.com/auth0/java-jwt\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":1332387,"reputation":67,"user_id":1275989,"accept_rate":25,"display_name":"Richard C"},"score":1,"creation_date":1685445637,"post_id":76255333,"comment_id":134657762,"body_markdown":"@Kalana - thanks.  I did actually resolve this myself and posted in my company&#39;s internal StackOverflow but I will also post the solution below now.","body":"@Kalana - thanks.  I did actually resolve this myself and posted in my company&#39;s internal StackOverflow but I will also post the solution below now."}],"answers":[{"tags":[],"owner":{"account_id":1332387,"reputation":67,"user_id":1275989,"accept_rate":25,"display_name":"Richard C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685445744,"creation_date":1685445744,"answer_id":76364288,"question_id":76255333,"body_markdown":"I came up with the following to be able to use within test cases:\r\n\r\n```java\r\n    public static String generateAndSignTestJwt() throws Exception {\r\n\r\n        String[] productsList = Arrays.asList(&quot;aProduct&quot;, &quot;anotherProduct&quot;)\r\n                .stream()\r\n                .map(Object::toString)\r\n                .toArray(String[]::new);\r\n\r\n        LocalDate localDate = LocalDate.now();\r\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        keyPairGenerator.initialize(2048);\r\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n        Algorithm algorithm = Algorithm.RSA256((\r\n                RSAPublicKey) keyPair.getPublic(), (RSAPrivateKey) keyPair.getPrivate());\r\n        return JWT.create()\r\n                .withExpiresAt(Date.from(LocalDateTime.now().plusSeconds(120).atZone(ZoneId.systemDefault()).toInstant()))\r\n                .withIssuer(&quot;testIssuer1&quot;)\r\n                .withAudience(&quot;testAudience1&quot;)\r\n                .withSubject(&quot;testSubject1&quot;)\r\n                .withIssuedAt(Date.from(LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant()))\r\n                .withJWTId(&quot;testing-token-123&quot;)\r\n                .withArrayClaim(&quot;products&quot;, productsList)\r\n                .sign(algorithm);\r\n    }\r\n```\r\n\r\nThis generates a key pair on the fly to use, which then signs the JWT.  Within my test cases I then use Mockito to pull in the test JWT generation method (`generateAndSignTestJwt()`) when the actual implementation (`generateAndSignJwt()`) is invoked...\r\n\r\n```java\r\n    JWTUtils jwtUtilsMock = mock(JWTUtils.class);\r\n\r\n    when(jwtUtilsMock.generateAndSignJwt(any(), anyString(), anyString(), anyString(), any(), anyInt(), anyString())).thenReturn(generateAndSignTestJwt());\r\n    ...\r\n```\r\n\r\nSo, there is no need for a path to the keys (`keyPath`), and so works perfectly in my unit tests and when running the build in GitLab.","title":"Issue signing JWT using generated keys and JKS","body":"<p>I came up with the following to be able to use within test cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String generateAndSignTestJwt() throws Exception {\n\n        String[] productsList = Arrays.asList(&quot;aProduct&quot;, &quot;anotherProduct&quot;)\n                .stream()\n                .map(Object::toString)\n                .toArray(String[]::new);\n\n        LocalDate localDate = LocalDate.now();\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        keyPairGenerator.initialize(2048);\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\n        Algorithm algorithm = Algorithm.RSA256((\n                RSAPublicKey) keyPair.getPublic(), (RSAPrivateKey) keyPair.getPrivate());\n        return JWT.create()\n                .withExpiresAt(Date.from(LocalDateTime.now().plusSeconds(120).atZone(ZoneId.systemDefault()).toInstant()))\n                .withIssuer(&quot;testIssuer1&quot;)\n                .withAudience(&quot;testAudience1&quot;)\n                .withSubject(&quot;testSubject1&quot;)\n                .withIssuedAt(Date.from(LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant()))\n                .withJWTId(&quot;testing-token-123&quot;)\n                .withArrayClaim(&quot;products&quot;, productsList)\n                .sign(algorithm);\n    }\n</code></pre>\n<p>This generates a key pair on the fly to use, which then signs the JWT.  Within my test cases I then use Mockito to pull in the test JWT generation method (<code>generateAndSignTestJwt()</code>) when the actual implementation (<code>generateAndSignJwt()</code>) is invoked...</p>\n<pre class=\"lang-java prettyprint-override\"><code>    JWTUtils jwtUtilsMock = mock(JWTUtils.class);\n\n    when(jwtUtilsMock.generateAndSignJwt(any(), anyString(), anyString(), anyString(), any(), anyInt(), anyString())).thenReturn(generateAndSignTestJwt());\n    ...\n</code></pre>\n<p>So, there is no need for a path to the keys (<code>keyPath</code>), and so works perfectly in my unit tests and when running the build in GitLab.</p>\n"}],"owner":{"account_id":1332387,"reputation":67,"user_id":1275989,"accept_rate":25,"display_name":"Richard C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76364288,"answer_count":1,"score":1,"last_activity_date":1685445744,"creation_date":1684162542,"question_id":76255333,"body_markdown":"I am looking to implement the accepted answer, which is generating my own RSA key pair to use within the unit tests.  I have written the following method to create the key pair:\r\n\r\n```java\r\n        private void generateKeyPair(String targetDir) throws Exception {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n            PublicKey pub = keyPair.getPublic();\r\n            PrivateKey pvt = keyPair.getPrivate();\r\n    \r\n            String outFile = targetDir + &quot;testKey&quot;;\r\n            OutputStream out = new FileOutputStream(outFile + &quot;.key&quot;);\r\n            out.write(pvt.getEncoded());\r\n            out.close();\r\n    \r\n            out = new FileOutputStream(outFile + &quot;.pub&quot;);\r\n            out.write(pub.getEncoded());\r\n            out.close();\r\n        }\r\n```\r\n\r\nCurrently, I am writing this out to `target` directory within the project.  I am then using the following code to generate JWKS file given the previously generated private key:\r\n\r\n```java\r\n        private void createJwk(String kid, String use, String targetDir) {\r\n            JSONObject json = new JSONObject();\r\n    \r\n            try {\r\n                //byte[] keyBytes = Files.readAllBytes(Paths.get(&quot;./private_key.der&quot;));\r\n                byte[] keyBytes = Files.readAllBytes(Paths.get(targetDir + &quot;testKey.key&quot;));\r\n                PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                PrivateKey privateKey = kf.generatePrivate(spec);\r\n                RSAPrivateCrtKey rsaPrivateKey = (RSAPrivateCrtKey) privateKey;\r\n                BigInteger mod = rsaPrivateKey.getModulus();\r\n                BigInteger pubExp = rsaPrivateKey.getPublicExponent();\r\n                BigInteger prvExp = rsaPrivateKey.getPrivateExponent();\r\n                BigInteger primeP = rsaPrivateKey.getPrimeP();\r\n                BigInteger primeExponentP = rsaPrivateKey.getPrimeExponentP();\r\n                BigInteger primeQ = rsaPrivateKey.getPrimeQ();\r\n                BigInteger primeExponentQ = rsaPrivateKey.getPrimeExponentQ();\r\n                BigInteger crtCoefficient = rsaPrivateKey.getCrtCoefficient();\r\n    \r\n                java.util.Base64.Encoder encoder = java.util.Base64.getUrlEncoder().withoutPadding();\r\n    \r\n                String n = encoder.encodeToString(mod.toByteArray());\r\n                String e = encoder.encodeToString(pubExp.toByteArray());\r\n                String d = encoder.encodeToString(prvExp.toByteArray());\r\n                String p = encoder.encodeToString(primeP.toByteArray());\r\n                String q = encoder.encodeToString(primeQ.toByteArray());\r\n                String dp = encoder.encodeToString(primeExponentP.toByteArray());\r\n                String dq = encoder.encodeToString(primeExponentQ.toByteArray());\r\n                String qi = encoder.encodeToString(crtCoefficient.toByteArray());\r\n    \r\n                json.put(&quot;n&quot;, n);\r\n                json.put(&quot;e&quot;, e);\r\n                json.put(&quot;d&quot;, d);\r\n                json.put(&quot;p&quot;, p);\r\n                json.put(&quot;q&quot;, q);\r\n                json.put(&quot;dp&quot;, dp);\r\n                json.put(&quot;dq&quot;, dq);\r\n                json.put(&quot;qi&quot;, qi);\r\n                json.put(&quot;alg&quot;, &quot;RS256&quot;);\r\n                json.put(&quot;kty&quot;, &quot;RSA&quot;);\r\n                json.put(&quot;kid&quot;, kid);\r\n                json.put(&quot;use&quot;, use);\r\n    \r\n                try (FileWriter file = new FileWriter(targetDir + &quot;jwks.json&quot;)) {\r\n                    file.write(json.toJSONString());\r\n                    file.flush();\r\n                } catch (IOException exp) {\r\n                    exp.printStackTrace();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n```\r\n\r\nThe issue I face is when it comes to creating the JWT, and signing it.  I am using Auth0 library for JWT implementation:\r\n\r\n```java\r\n            RSAKeyProvider keyProvider = rsaUtils.getRSAKeyProvider(keyPath); \r\n            Date exp;\r\n            try {\r\n                Algorithm algo = Algorithm.RSA256(keyProvider);\r\n                Calendar c = Calendar.getInstance();\r\n                c.setTime(issuedAt);\r\n                c.add(Calendar.MONTH, ttl);\r\n                exp = c.getTime();\r\n    \r\n                String token = JWT.create()\r\n                        .withIssuer(issuer)\r\n                        .withAudience(audience)\r\n                        .withSubject(subject)\r\n                        .withIssuedAt(issuedAt)\r\n                        .withExpiresAt(exp)\r\n                        .withJWTId(jwtId)\r\n                        .withArrayClaim(&quot;products&quot;, someProducts)\r\n                        .sign(algo);\r\n            ...\r\n            }\r\n```\r\n\r\nIn the above, the value of `keyPath` refers to the `target` dir containing the previously generated keys.  On drilling down into the code, it fails when it comes to trying to retrieve the private key from the JWKS, this happens when calling `sign(algo)` as seen in code above.  The code in question sits in `com.auth0.jwt.algorithms.RSAAlgorithm` class:\r\n\r\n```java\r\n        public byte[] sign(byte[] headerBytes, byte[] payloadBytes) throws SignatureGenerationException {\r\n            try {\r\n                RSAPrivateKey privateKey = (RSAPrivateKey)this.keyProvider.getPrivateKey(); // here it is null \r\n                if (privateKey == null) {\r\n                    throw new IllegalStateException(&quot;The given Private Key is null.&quot;);\r\n                } else {\r\n                    return this.crypto.createSignatureFor(this.getDescription(), privateKey, headerBytes, payloadBytes);\r\n                }\r\n            } catch (SignatureException | InvalidKeyException | IllegalStateException | NoSuchAlgorithmException var4) {\r\n                throw new SignatureGenerationException(this, var4);\r\n            }\r\n        }\r\n```\r\n\r\nKeen to see whether this can be resolved in a programmatical way.  One thing that strikes me is that the generated keys might not be in the correct format.  I have seen references online to keys needing to be in .DER format, not JKS, in order for them to correctly generate a JWKS.json file from them.  If so, how can I amend the original key generation code to make it .DER format in a programmatical way?  Or are there any other suggestions to be able to resolve my issue using the format that the keys were already generated in?\r\n\r\nMany thanks","title":"Issue signing JWT using generated keys and JKS","body":"<p>I am looking to implement the accepted answer, which is generating my own RSA key pair to use within the unit tests.  I have written the following method to create the key pair:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        private void generateKeyPair(String targetDir) throws Exception {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\n            PublicKey pub = keyPair.getPublic();\n            PrivateKey pvt = keyPair.getPrivate();\n    \n            String outFile = targetDir + &quot;testKey&quot;;\n            OutputStream out = new FileOutputStream(outFile + &quot;.key&quot;);\n            out.write(pvt.getEncoded());\n            out.close();\n    \n            out = new FileOutputStream(outFile + &quot;.pub&quot;);\n            out.write(pub.getEncoded());\n            out.close();\n        }\n</code></pre>\n<p>Currently, I am writing this out to <code>target</code> directory within the project.  I am then using the following code to generate JWKS file given the previously generated private key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        private void createJwk(String kid, String use, String targetDir) {\n            JSONObject json = new JSONObject();\n    \n            try {\n                //byte[] keyBytes = Files.readAllBytes(Paths.get(&quot;./private_key.der&quot;));\n                byte[] keyBytes = Files.readAllBytes(Paths.get(targetDir + &quot;testKey.key&quot;));\n                PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n                PrivateKey privateKey = kf.generatePrivate(spec);\n                RSAPrivateCrtKey rsaPrivateKey = (RSAPrivateCrtKey) privateKey;\n                BigInteger mod = rsaPrivateKey.getModulus();\n                BigInteger pubExp = rsaPrivateKey.getPublicExponent();\n                BigInteger prvExp = rsaPrivateKey.getPrivateExponent();\n                BigInteger primeP = rsaPrivateKey.getPrimeP();\n                BigInteger primeExponentP = rsaPrivateKey.getPrimeExponentP();\n                BigInteger primeQ = rsaPrivateKey.getPrimeQ();\n                BigInteger primeExponentQ = rsaPrivateKey.getPrimeExponentQ();\n                BigInteger crtCoefficient = rsaPrivateKey.getCrtCoefficient();\n    \n                java.util.Base64.Encoder encoder = java.util.Base64.getUrlEncoder().withoutPadding();\n    \n                String n = encoder.encodeToString(mod.toByteArray());\n                String e = encoder.encodeToString(pubExp.toByteArray());\n                String d = encoder.encodeToString(prvExp.toByteArray());\n                String p = encoder.encodeToString(primeP.toByteArray());\n                String q = encoder.encodeToString(primeQ.toByteArray());\n                String dp = encoder.encodeToString(primeExponentP.toByteArray());\n                String dq = encoder.encodeToString(primeExponentQ.toByteArray());\n                String qi = encoder.encodeToString(crtCoefficient.toByteArray());\n    \n                json.put(&quot;n&quot;, n);\n                json.put(&quot;e&quot;, e);\n                json.put(&quot;d&quot;, d);\n                json.put(&quot;p&quot;, p);\n                json.put(&quot;q&quot;, q);\n                json.put(&quot;dp&quot;, dp);\n                json.put(&quot;dq&quot;, dq);\n                json.put(&quot;qi&quot;, qi);\n                json.put(&quot;alg&quot;, &quot;RS256&quot;);\n                json.put(&quot;kty&quot;, &quot;RSA&quot;);\n                json.put(&quot;kid&quot;, kid);\n                json.put(&quot;use&quot;, use);\n    \n                try (FileWriter file = new FileWriter(targetDir + &quot;jwks.json&quot;)) {\n                    file.write(json.toJSONString());\n                    file.flush();\n                } catch (IOException exp) {\n                    exp.printStackTrace();\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>The issue I face is when it comes to creating the JWT, and signing it.  I am using Auth0 library for JWT implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            RSAKeyProvider keyProvider = rsaUtils.getRSAKeyProvider(keyPath); \n            Date exp;\n            try {\n                Algorithm algo = Algorithm.RSA256(keyProvider);\n                Calendar c = Calendar.getInstance();\n                c.setTime(issuedAt);\n                c.add(Calendar.MONTH, ttl);\n                exp = c.getTime();\n    \n                String token = JWT.create()\n                        .withIssuer(issuer)\n                        .withAudience(audience)\n                        .withSubject(subject)\n                        .withIssuedAt(issuedAt)\n                        .withExpiresAt(exp)\n                        .withJWTId(jwtId)\n                        .withArrayClaim(&quot;products&quot;, someProducts)\n                        .sign(algo);\n            ...\n            }\n</code></pre>\n<p>In the above, the value of <code>keyPath</code> refers to the <code>target</code> dir containing the previously generated keys.  On drilling down into the code, it fails when it comes to trying to retrieve the private key from the JWKS, this happens when calling <code>sign(algo)</code> as seen in code above.  The code in question sits in <code>com.auth0.jwt.algorithms.RSAAlgorithm</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public byte[] sign(byte[] headerBytes, byte[] payloadBytes) throws SignatureGenerationException {\n            try {\n                RSAPrivateKey privateKey = (RSAPrivateKey)this.keyProvider.getPrivateKey(); // here it is null \n                if (privateKey == null) {\n                    throw new IllegalStateException(&quot;The given Private Key is null.&quot;);\n                } else {\n                    return this.crypto.createSignatureFor(this.getDescription(), privateKey, headerBytes, payloadBytes);\n                }\n            } catch (SignatureException | InvalidKeyException | IllegalStateException | NoSuchAlgorithmException var4) {\n                throw new SignatureGenerationException(this, var4);\n            }\n        }\n</code></pre>\n<p>Keen to see whether this can be resolved in a programmatical way.  One thing that strikes me is that the generated keys might not be in the correct format.  I have seen references online to keys needing to be in .DER format, not JKS, in order for them to correctly generate a JWKS.json file from them.  If so, how can I amend the original key generation code to make it .DER format in a programmatical way?  Or are there any other suggestions to be able to resolve my issue using the format that the keys were already generated in?</p>\n<p>Many thanks</p>\n"},{"tags":["java","android","notifications","badge"],"owner":{"account_id":7147234,"reputation":11,"user_id":5462540,"display_name":"Aniz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685445626,"creation_date":1685419247,"question_id":76361537,"body_markdown":"I am sending NotificationCompat.Builder , it shows notification, but it does not update the count in the app icon badge. The badge is displayed without a count. I am using Android SDK 31. Any help would be appreciated.","title":"Unable to update notification badge count in Android","body":"<p>I am sending NotificationCompat.Builder , it shows notification, but it does not update the count in the app icon badge. The badge is displayed without a count. I am using Android SDK 31. Any help would be appreciated.</p>\n"},{"tags":["java","microservices","openapi","spring-cloud-gateway"],"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685445102,"creation_date":1685444416,"question_id":76364127,"body_markdown":"I want to integrate Open api to my gateway so that I can access all the swagger documentation of employee-service through the gateway. I have not used any service discovery \r\n\r\n \r\nIn gateway micro service , I have added\r\n  \r\n\r\n      &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n               &lt;version&gt;2021.0.1&lt;/version&gt;\r\n               &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n               &lt;artifactId&gt;springdoc-openapi-webflux-core&lt;/artifactId&gt;\r\n               &lt;version&gt;1.2.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n               &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n               &lt;version&gt;1.2.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI have added the routes of employee service in the application.yaml of gateway service .I am  able to access the api&#39;s of employee service from the gateway. ,\r\n  \r\n\r\n      spring:\r\n              cloud:\r\n                gateway:\r\n                  routes:\r\n                  - id: employee-service\r\n                    uri: http://localhost:8082\r\n                    predicates:\r\n                    - Path=/employee/**\r\n\r\nIn gateway, I have also configured\r\n\r\n    @Autowired\r\n    RouteDefinitionLocator locator;\r\n    \r\n    @Bean\r\n    public List&lt;GroupedOpenApi&gt; apis() {\r\n       List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\r\n       List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\r\n       definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\r\n          String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\r\n          GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).setGroup(name).build();\r\n       });\r\n       return groups;\r\n    }\r\n\r\n But the open api integration is not working. I see many instances of local host running . I have attached the image of the logs in the gateway service .\r\n\r\n[![gateway logs][1]][1]\r\nCan some one tell me how to fix this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hg9Pr.jpg","title":"Open API for spring gateway without service discovery","body":"<p>I want to integrate Open api to my gateway so that I can access all the swagger documentation of employee-service through the gateway. I have not used any service discovery</p>\n<p>In gateway micro service , I have added</p>\n<pre><code>  &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n           &lt;version&gt;2021.0.1&lt;/version&gt;\n           &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n           &lt;artifactId&gt;springdoc-openapi-webflux-core&lt;/artifactId&gt;\n           &lt;version&gt;1.2.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n           &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n           &lt;version&gt;1.2.31&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have added the routes of employee service in the application.yaml of gateway service .I am  able to access the api's of employee service from the gateway. ,</p>\n<pre><code>  spring:\n          cloud:\n            gateway:\n              routes:\n              - id: employee-service\n                uri: http://localhost:8082\n                predicates:\n                - Path=/employee/**\n</code></pre>\n<p>In gateway, I have also configured</p>\n<pre><code>@Autowired\nRouteDefinitionLocator locator;\n\n@Bean\npublic List&lt;GroupedOpenApi&gt; apis() {\n   List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\n   List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\n   definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\n      String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\n      GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).setGroup(name).build();\n   });\n   return groups;\n}\n</code></pre>\n<p>But the open api integration is not working. I see many instances of local host running . I have attached the image of the logs in the gateway service .</p>\n<p><a href=\"https://i.stack.imgur.com/hg9Pr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hg9Pr.jpg\" alt=\"gateway logs\" /></a>\nCan some one tell me how to fix this.</p>\n"},{"tags":["java","path","working-directory"],"comments":[{"owner":{"account_id":93700,"reputation":4353,"user_id":256218,"accept_rate":90,"display_name":"Matthew J Morrison"},"score":1,"creation_date":1277931568,"post_id":3153337,"comment_id":23803812,"body_markdown":"take a look at [this article](http://www.roseindia.net/java/java-get-example/get-class-location.shtml).","body":"take a look at <a href=\"http://www.roseindia.net/java/java-get-example/get-class-location.shtml\" rel=\"nofollow noreferrer\">this article</a>."},{"owner":{"account_id":44322,"reputation":3665,"user_id":130033,"accept_rate":60,"display_name":"Mattias Nilsson"},"score":1,"creation_date":1277931664,"post_id":3153337,"comment_id":3241513,"body_markdown":"What if your main class is in a jar file? What sort of result would you want then?","body":"What if your main class is in a jar file? What sort of result would you want then?"},{"owner":{"account_id":806,"reputation":123161,"user_id":1053,"accept_rate":81,"display_name":"Ed S."},"score":1,"creation_date":1277931871,"post_id":3153337,"comment_id":3241546,"body_markdown":"Why would you ever need to do this anyway?","body":"Why would you ever need to do this anyway?"},{"owner":{"display_name":"user177800"},"score":1,"creation_date":1277932841,"post_id":3153337,"comment_id":3241679,"body_markdown":"sounds like what you need is the directory the CSV files are in, and have the .jar file be able to reference that directory, see my answer if that is the case.","body":"sounds like what you need is the directory the CSV files are in, and have the .jar file be able to reference that directory, see my answer if that is the case."},{"owner":{"account_id":217807,"reputation":15134,"user_id":473792,"accept_rate":81,"display_name":"Kevin"},"score":0,"creation_date":1421793313,"post_id":3153337,"comment_id":44494562,"body_markdown":"possible duplicate of [Getting the Current Working Directory in Java](http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java\">Getting the Current Working Directory in Java</a>"},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1422249112,"post_id":3153337,"comment_id":44661957,"body_markdown":"@Kevin: This was posted roughly a year before the linked post. Unsure if any information has become deprecated, however.","body":"@Kevin: This was posted roughly a year before the linked post. Unsure if any information has become deprecated, however."},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1425338997,"post_id":3153337,"comment_id":45914527,"body_markdown":"@MatthewJMorrison, broken.","body":"@MatthewJMorrison, broken."}],"answers":[{"comments":[{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277931989,"post_id":3153387,"comment_id":3241564,"body_markdown":"I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.","body":"I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder."},{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":0,"creation_date":1277932647,"post_id":3153387,"comment_id":3241659,"body_markdown":"Maybe I&#39;m missing something but it seems like an absolute path would work.  You said you can&#39;t hardcode it, but how are you going to know what folder to look in to begin with?","body":"Maybe I&#39;m missing something but it seems like an absolute path would work.  You said you can&#39;t hardcode it, but how are you going to know what folder to look in to begin with?"},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277933577,"post_id":3153387,"comment_id":3241803,"body_markdown":"Well the issue is that I want to bring it over to other computers, not just my own. I don&#39;t see how hardcoding the path would work. &quot;Assume that my jar and folder will always have a similar relationship (i.e. in the same directory). If this was true, I could get the directory of the jar, then modify it to find the folder.&quot; The only way I could hardcode it would be if I didn&#39;t have to include the full path from the hard drive to the file. Maybe I can go just 3 folders back (i.e &quot;Documents\\Project\\Dump\\\\[file/folder]&quot;)","body":"Well the issue is that I want to bring it over to other computers, not just my own. I don&#39;t see how hardcoding the path would work. &quot;Assume that my jar and folder will always have a similar relationship (i.e. in the same directory). If this was true, I could get the directory of the jar, then modify it to find the folder.&quot; The only way I could hardcode it would be if I didn&#39;t have to include the full path from the hard drive to the file. Maybe I can go just 3 folders back (i.e &quot;Documents\\Project\\Dump\\&#91;file/folder]&quot;)"},{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":0,"creation_date":1277934295,"post_id":3153387,"comment_id":3241904,"body_markdown":"I would say what you want to do is get a handle to the directory the jar file resides in.  Would that accomplish your requirements?","body":"I would say what you want to do is get a handle to the directory the jar file resides in.  Would that accomplish your requirements?"}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":4,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1277931782,"creation_date":1277931782,"answer_id":3153387,"question_id":3153337,"body_markdown":"Who says your main class is in a file on a local harddisk? Classes are more often bundled inside JAR files, and sometimes loaded over the network or even generated on the fly.\r\n\r\nSo what is it that you actually want to do? There is probably a way to do it that does not make assumptions about where classes come from.","title":"How to get current working directory in Java?","body":"<p>Who says your main class is in a file on a local harddisk? Classes are more often bundled inside JAR files, and sometimes loaded over the network or even generated on the fly.</p>\n\n<p>So what is it that you actually want to do? There is probably a way to do it that does not make assumptions about where classes come from.</p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":3,"creation_date":1277932141,"post_id":3153413,"comment_id":3241585,"body_markdown":"+1. There are several conditions to make this work; the most important is that your &quot;main class&quot; is loaded from the file system. In Java, it&#39;s not terribly unusual for this assumption to be false. But, if you are sure that you are loading your class from a JAR on the file system, this is *the* method that works.","body":"+1. There are several conditions to make this work; the most important is that your &quot;main class&quot; is loaded from the file system. In Java, it&#39;s not terribly unusual for this assumption to be false. But, if you are sure that you are loading your class from a JAR on the file system, this is <i>the</i> method that works."},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277932423,"post_id":3153413,"comment_id":3241614,"body_markdown":"It all depends, really. I&#39;m **trying** to get my JAR to compile, but that&#39;s a separate issue at the moment. If you think you can help with that, check out: http://stackoverflow.com/questions/3152240/jar-cant-find-main-method-connected-to-main-class-but-cant-access-method . I&#39;m sure that posting this is an infraction of some kind, but it is related to this issue. If I can get that fixed, this will for sure be my answer.","body":"It all depends, really. I&#39;m <b>trying</b> to get my JAR to compile, but that&#39;s a separate issue at the moment. If you think you can help with that, check out: <a href=\"http://stackoverflow.com/questions/3152240/jar-cant-find-main-method-connected-to-main-class-but-cant-access-method\" title=\"jar cant find main method connected to main class but cant access method\">stackoverflow.com/questions/3152240/&hellip;</a> . I&#39;m sure that posting this is an infraction of some kind, but it is related to this issue. If I can get that fixed, this will for sure be my answer."},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277933338,"post_id":3153413,"comment_id":3241760,"body_markdown":"Why would I need to hardcode that? I&#39;ve done similar things before. Assume that my jar and folder will always have a similar relationship (i.e. in the same directory). If this was true, I could get the directory of the jar, then modify it to find the folder.","body":"Why would I need to hardcode that? I&#39;ve done similar things before. Assume that my jar and folder will always have a similar relationship (i.e. in the same directory). If this was true, I could get the directory of the jar, then modify it to find the folder."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1277933744,"post_id":3153413,"comment_id":3241829,"body_markdown":"If it&#39;s in the same folder as the JAR file, then it&#39;s just already in the classpath. The word &quot;hardcoding&quot; is a bit exaggerated, I actually meant &quot;knowing their path relative to the JAR file&quot;.","body":"If it&#39;s in the same folder as the JAR file, then it&#39;s just already in the classpath. The word &quot;hardcoding&quot; is a bit exaggerated, I actually meant &quot;knowing their path relative to the JAR file&quot;."},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277996106,"post_id":3153413,"comment_id":3248255,"body_markdown":"It can&#39;t seem to find ClassLoader.","body":"It can&#39;t seem to find ClassLoader."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1277996608,"post_id":3153413,"comment_id":3248340,"body_markdown":"Depending on the context, just get it by `getClass().getClassLoader()` or `Foo.class.getClassLoader()` or (preferably) `Thread.currentThread().getContextClassLoader()`. There are also shorthand `getResource()` methods in `Class`. Read the javadocs ;)","body":"Depending on the context, just get it by <code>getClass().getClassLoader()</code> or <code>Foo.class.getClassLoader()</code> or (preferably) <code>Thread.currentThread().getContextClassLoader()</code>. There are also shorthand <code>getResource()</code> methods in <code>Class</code>. Read the javadocs ;)"},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277997073,"post_id":3153413,"comment_id":3248404,"body_markdown":"-Chose as best answer- Quick question before you go. Best way to remove CC.jar from the path name? Recursion cutting off the segments before each &quot;/&quot;, getting the name, then cutting the string down where it finds &quot;CC.jar&quot; or whatever I get from the recursion? Maybe a little overly confusing =/.","body":"-Chose as best answer- Quick question before you go. Best way to remove CC.jar from the path name? Recursion cutting off the segments before each &quot;/&quot;, getting the name, then cutting the string down where it finds &quot;CC.jar&quot; or whatever I get from the recursion? Maybe a little overly confusing =/."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1277997815,"post_id":3153413,"comment_id":3248538,"body_markdown":"`File#getParent()`. So, you&#39;re going for the non-classpath approach? A bit clumsy since the JAR&#39;s root path is already covered by the classpath...","body":"<code>File#getParent()</code>. So, you&#39;re going for the non-classpath approach? A bit clumsy since the JAR&#39;s root path is already covered by the classpath..."},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277999348,"post_id":3153413,"comment_id":3248777,"body_markdown":"Why would. `public static String getCleanPath() {\n\t\tURL location = ExcelFile.class.getProtectionDomain().getCodeSource()\n\t\t\t\t.getLocation();\n\t\tString path = location.getFile();\n\t\t\n\t\treturn new File(path).getParent();\n\t}` Not work?","body":"Why would. <code>public static String getCleanPath() { \t\tURL location = ExcelFile.class.getProtectionDomain().getCodeSource() \t\t\t\t.getLocation(); \t\tString path = location.getFile(); \t\t \t\treturn new File(path).getParent(); \t}</code> Not work?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1278002006,"post_id":3153413,"comment_id":3249201,"body_markdown":"&quot;It does not work&quot; is too ambiguous. Be more precise. Also, why do you keep preferring this above `new File(classLoader.getResource(&quot;&quot;).getPath())`","body":"&quot;It does not work&quot; is too ambiguous. Be more precise. Also, why do you keep preferring this above <code>new File(classLoader.getResource(&quot;&quot;).getPath())</code>"},{"owner":{"account_id":2894488,"reputation":6352,"user_id":2482582,"accept_rate":80,"display_name":"Moebius"},"score":0,"creation_date":1409326048,"post_id":3153413,"comment_id":39936043,"body_markdown":"Could you add the import associated with the url class please ? Two many url class on the web to find the right one.","body":"Could you add the import associated with the url class please ? Two many url class on the web to find the right one."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1409327606,"post_id":3153413,"comment_id":39936989,"body_markdown":"@Moebius: just the one as returned by `getLocation()` method.","body":"@Moebius: just the one as returned by <code>getLocation()</code> method."},{"owner":{"account_id":2894488,"reputation":6352,"user_id":2482582,"accept_rate":80,"display_name":"Moebius"},"score":0,"creation_date":1409566500,"post_id":3153413,"comment_id":39995191,"body_markdown":"@BalusC so the url class is not a standard class, but created by the user ?","body":"@BalusC so the url class is not a standard class, but created by the user ?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1409566561,"post_id":3153413,"comment_id":39995218,"body_markdown":"@Moebius: Huh? Are you new to Java? [Check the javadoc](http://docs.oracle.com/javase/7/docs/api/java/security/CodeSource.html#getLocation()). Just use exactly that one as returned by `getLocation()` method. Other ones are obviously not going to work.","body":"@Moebius: Huh? Are you new to Java? <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/CodeSource.html#getLocation()\" rel=\"nofollow noreferrer\">Check the javadoc</a>. Just use exactly that one as returned by <code>getLocation()</code> method. Other ones are obviously not going to work."},{"owner":{"account_id":148802,"reputation":5127,"user_id":360840,"accept_rate":95,"display_name":"Sabuncu"},"score":0,"creation_date":1419676617,"post_id":3153413,"comment_id":43747710,"body_markdown":"BalusC, what is the name of the convention you are using with the &quot;#&quot; between the class name and the method name? Thank you.","body":"BalusC, what is the name of the convention you are using with the &quot;#&quot; between the class name and the method name? Thank you."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1419676636,"post_id":3153413,"comment_id":43747714,"body_markdown":"@Sabuncu: javadoc style.","body":"@Sabuncu: javadoc style."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":16,"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1363797467,"creation_date":1277931991,"answer_id":3153413,"question_id":3153337,"body_markdown":"Use [`CodeSource#getLocation()`][1]. This works fine in JAR files as well. You can obtain `CodeSource` by [`ProtectionDomain#getCodeSource()`][2] and the `ProtectionDomain` in turn can be obtained by [`Class#getProtectionDomain()`][3].\r\n\r\n    public class Test {\r\n        public static void main(String... args) throws Exception {\r\n            URL location = Test.class.getProtectionDomain().getCodeSource().getLocation();\r\n            System.out.println(location.getFile());\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Update** as per the comment of the OP: \r\n\r\n&gt; *I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.*\r\n\r\nThat would require hardcoding/knowing their relative path in your program. Rather consider adding its path to the classpath so that you can use `ClassLoader#getResource()`\r\n\r\n    File classpathRoot = new File(classLoader.getResource(&quot;&quot;).getPath());\r\n    File[] csvFiles = classpathRoot.listFiles(new FilenameFilter() {\r\n        @Override public boolean accept(File dir, String name) {\r\n            return name.endsWith(&quot;.csv&quot;);\r\n        }\r\n    });\r\n\r\nOr to pass its path as `main()` argument.\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/security/CodeSource.html#getLocation%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/security/ProtectionDomain.html#getCodeSource%28%29\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getProtectionDomain%28%29","title":"How to get current working directory in Java?","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/CodeSource.html#getLocation%28%29\" rel=\"noreferrer\"><code>CodeSource#getLocation()</code></a>. This works fine in JAR files as well. You can obtain <code>CodeSource</code> by <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/ProtectionDomain.html#getCodeSource%28%29\" rel=\"noreferrer\"><code>ProtectionDomain#getCodeSource()</code></a> and the <code>ProtectionDomain</code> in turn can be obtained by <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getProtectionDomain%28%29\" rel=\"noreferrer\"><code>Class#getProtectionDomain()</code></a>.</p>\n\n<pre><code>public class Test {\n    public static void main(String... args) throws Exception {\n        URL location = Test.class.getProtectionDomain().getCodeSource().getLocation();\n        System.out.println(location.getFile());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong> as per the comment of the OP: </p>\n\n<blockquote>\n  <p><em>I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.</em></p>\n</blockquote>\n\n<p>That would require hardcoding/knowing their relative path in your program. Rather consider adding its path to the classpath so that you can use <code>ClassLoader#getResource()</code></p>\n\n<pre><code>File classpathRoot = new File(classLoader.getResource(\"\").getPath());\nFile[] csvFiles = classpathRoot.listFiles(new FilenameFilter() {\n    @Override public boolean accept(File dir, String name) {\n        return name.endsWith(\".csv\");\n    }\n});\n</code></pre>\n\n<p>Or to pass its path as <code>main()</code> argument.</p>\n"},{"comments":[{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1277991449,"post_id":3153440,"comment_id":3247391,"body_markdown":"I&#39;ll test this out when I can. I&#39;m really preoccupied with that .jar issue :P","body":"I&#39;ll test this out when I can. I&#39;m really preoccupied with that .jar issue :P"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1277995041,"post_id":3153440,"comment_id":3248056,"body_markdown":"did you visit the link in my answer to that .jar issue, where I show how to build the .jar file with ANT?","body":"did you visit the link in my answer to that .jar issue, where I show how to build the .jar file with ANT?"},{"owner":{"display_name":"user2916050"},"score":0,"creation_date":1382622322,"post_id":3153440,"comment_id":29039675,"body_markdown":"The code from Jarrod that returns the current working directory absolute path from System Property `user.dir` is much easy to use. System.getProperty(&quot;user.dir&quot;);","body":"The code from Jarrod that returns the current working directory absolute path from System Property <code>user.dir</code> is much easy to use. System.getProperty(&quot;user.dir&quot;);"}],"tags":[],"owner":{"display_name":"user177800"},"comment_count":3,"down_vote_count":0,"up_vote_count":160,"is_accepted":true,"score":160,"last_activity_date":1277933891,"creation_date":1277932320,"answer_id":3153440,"question_id":3153337,"body_markdown":"One way would be to use the [system property][1] `System.getProperty(&quot;user.dir&quot;);` this will give you &quot;The current working directory when the properties were initialized&quot;. This is probably what you want. to find out where the `java` command was issued, in your case in the directory with the files to process, even though the actual .jar file might reside somewhere else on the machine. Having the directory of the actual .jar file isn&#39;t that useful in most cases.\r\n\r\nThe following will print out the current directory from where the command was invoked regardless where the .class or .jar file the .class file is in.\r\n\r\n    public class Test\r\n    {\r\n        public static void main(final String[] args)\r\n        {\r\n            final String dir = System.getProperty(&quot;user.dir&quot;);\r\n            System.out.println(&quot;current dir = &quot; + dir);\r\n        }\r\n    }  \r\n\r\nif you are in `/User/me/` and your .jar file containing the above code is in `/opt/some/nested/dir/`\r\nthe command `java -jar /opt/some/nested/dir/test.jar Test` will output `current dir = /User/me`.\r\n\r\nYou should also as a bonus look at using a good object oriented command line argument parser.\r\nI highly recommend [JSAP][2], the Java Simple Argument Parser. This would let you use `System.getProperty(&quot;user.dir&quot;)` and alternatively pass in something else to over-ride the behavior. A much more maintainable solution. This would make passing in the directory to process very easy to do, and be able to fall back on `user.dir` if nothing was passed in.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html#getProperty%28java.lang.String%29\r\n  [2]: http://martiansoftware.com/jsap/","title":"How to get current working directory in Java?","body":"<p>One way would be to use the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#getProperty%28java.lang.String%29\" rel=\"noreferrer\">system property</a> <code>System.getProperty(\"user.dir\");</code> this will give you \"The current working directory when the properties were initialized\". This is probably what you want. to find out where the <code>java</code> command was issued, in your case in the directory with the files to process, even though the actual .jar file might reside somewhere else on the machine. Having the directory of the actual .jar file isn't that useful in most cases.</p>\n\n<p>The following will print out the current directory from where the command was invoked regardless where the .class or .jar file the .class file is in.</p>\n\n<pre><code>public class Test\n{\n    public static void main(final String[] args)\n    {\n        final String dir = System.getProperty(\"user.dir\");\n        System.out.println(\"current dir = \" + dir);\n    }\n}  \n</code></pre>\n\n<p>if you are in <code>/User/me/</code> and your .jar file containing the above code is in <code>/opt/some/nested/dir/</code>\nthe command <code>java -jar /opt/some/nested/dir/test.jar Test</code> will output <code>current dir = /User/me</code>.</p>\n\n<p>You should also as a bonus look at using a good object oriented command line argument parser.\nI highly recommend <a href=\"http://martiansoftware.com/jsap/\" rel=\"noreferrer\">JSAP</a>, the Java Simple Argument Parser. This would let you use <code>System.getProperty(\"user.dir\")</code> and alternatively pass in something else to over-ride the behavior. A much more maintainable solution. This would make passing in the directory to process very easy to do, and be able to fall back on <code>user.dir</code> if nothing was passed in.</p>\n"},{"tags":[],"owner":{"account_id":214370,"reputation":5510,"user_id":468304,"accept_rate":100,"display_name":"cyber-monk"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1338908279,"creation_date":1338908279,"answer_id":10899693,"question_id":3153337,"body_markdown":"    File currentDirectory = new File(new File(&quot;.&quot;).getAbsolutePath());\r\n    System.out.println(currentDirectory.getCanonicalPath());\r\n    System.out.println(currentDirectory.getAbsolutePath());\r\n\r\nPrints something like:\r\n\r\n    /path/to/current/directory\r\n    /path/to/current/directory/.\r\n\r\nNote that `File.getCanonicalPath()` throws a checked IOException but it will remove things like  `../../../`","title":"How to get current working directory in Java?","body":"<pre><code>File currentDirectory = new File(new File(\".\").getAbsolutePath());\nSystem.out.println(currentDirectory.getCanonicalPath());\nSystem.out.println(currentDirectory.getAbsolutePath());\n</code></pre>\n\n<p>Prints something like:</p>\n\n<pre><code>/path/to/current/directory\n/path/to/current/directory/.\n</code></pre>\n\n<p>Note that <code>File.getCanonicalPath()</code> throws a checked IOException but it will remove things like  <code>../../../</code></p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1392801919,"post_id":16566931,"comment_id":33122061,"body_markdown":"note that this will return the path to the &quot;bin/classes/&quot;, and not just &quot;bin&quot;.","body":"note that this will return the path to the &quot;bin/classes/&quot;, and not just &quot;bin&quot;."},{"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"score":0,"creation_date":1575638685,"post_id":16566931,"comment_id":104644139,"body_markdown":"while debugging a running application using Intellij Idea, this returned \n&quot;/C:/Program%20Files/Java/jdk1.8.0_112/:&quot;","body":"while debugging a running application using Intellij Idea, this returned  &quot;/C:/Program%20Files/Java/jdk1.8.0_112/:&quot;"}],"tags":[],"owner":{"account_id":100576,"reputation":1195,"user_id":271051,"accept_rate":64,"display_name":"Peter De Winter"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1368627113,"creation_date":1368625900,"answer_id":16566931,"question_id":3153337,"body_markdown":"    this.getClass().getClassLoader().getResource(&quot;&quot;).getPath()","title":"How to get current working directory in Java?","body":"<pre><code>this.getClass().getClassLoader().getResource(\"\").getPath()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1127449,"reputation":3696,"user_id":1114357,"accept_rate":50,"display_name":"Sarp Kaya"},"score":0,"creation_date":1441587006,"post_id":17923816,"comment_id":52724598,"body_markdown":"This does not work when you run it on an IDE or using something to spin the instance.","body":"This does not work when you run it on an IDE or using something to spin the instance."},{"owner":{"account_id":2538149,"reputation":524,"user_id":2204672,"accept_rate":71,"display_name":"JAVA"},"score":0,"creation_date":1510635148,"post_id":17923816,"comment_id":81506673,"body_markdown":"Internal path is java\\lang\\Class\nExternal path is  E:\\BranchProduction1.4.0\\FilesTestProject\\src\nWorking directory is E:\\BranchProduction1.4.0\\FilesTestProject\\src\\java\\lang could you explain the output ?","body":"Internal path is java\\lang\\Class External path is  E:\\BranchProduction1.4.0\\FilesTestProject\\src Working directory is E:\\BranchProduction1.4.0\\FilesTestProject\\src\\java\\lang could you explain the output ?"}],"tags":[],"owner":{"account_id":2886154,"reputation":59,"user_id":2476012,"display_name":"jmamatos"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1375100274,"creation_date":1375100274,"answer_id":17923816,"question_id":3153337,"body_markdown":"If you want the absolute path of the current source code, my suggestion is:\r\n\r\n    String internalPath = this.getClass().getName().replace(&quot;.&quot;, File.separator);\r\n    String externalPath = System.getProperty(&quot;user.dir&quot;)+File.separator+&quot;src&quot;;\r\n    String workDir = externalPath+File.separator+internalPath.substring(0, internalPath.lastIndexOf(File.separator));","title":"How to get current working directory in Java?","body":"<p>If you want the absolute path of the current source code, my suggestion is:</p>\n\n<pre><code>String internalPath = this.getClass().getName().replace(\".\", File.separator);\nString externalPath = System.getProperty(\"user.dir\")+File.separator+\"src\";\nString workDir = externalPath+File.separator+internalPath.substring(0, internalPath.lastIndexOf(File.separator));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"score":9,"creation_date":1435747516,"post_id":29931958,"comment_id":50326771,"body_markdown":"Yours its not working, this is one is correct `Paths.get(&quot;&quot;).toAbsolutePath();`","body":"Yours its not working, this is one is correct <code>Paths.get(&quot;&quot;).toAbsolutePath();</code>"},{"owner":{"account_id":743251,"reputation":13440,"user_id":725937,"accept_rate":51,"display_name":"abergmeier"},"score":0,"creation_date":1488969619,"post_id":29931958,"comment_id":72462726,"body_markdown":"@ToKra If I do `Paths.get(&quot;my/file&quot;).toAbsolutePath()` I get `/my/file`, which is definitely not the cwd.","body":"@ToKra If I do <code>Paths.get(&quot;my&#47;file&quot;).toAbsolutePath()</code> I get <code>&#47;my&#47;file</code>, which is definitely not the cwd."},{"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"score":1,"creation_date":1489064176,"post_id":29931958,"comment_id":72513878,"body_markdown":"@abergmeier I wrote &quot;&quot; in string not &quot;my/file&quot;","body":"@abergmeier I wrote &quot;&quot; in string not &quot;my/file&quot;"}],"tags":[],"owner":{"account_id":4550982,"reputation":79,"user_id":3696181,"display_name":"user3696181"},"comment_count":3,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1430265293,"creation_date":1430265293,"answer_id":29931958,"question_id":3153337,"body_markdown":"I just used:\r\n\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n...\r\n    \r\n    Path workingDirectory=Paths.get(&quot;.&quot;).toAbsolutePath();","title":"How to get current working directory in Java?","body":"<p>I just used:</p>\n\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>Path workingDirectory=Paths.get(\".\").toAbsolutePath();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10128720,"reputation":79,"user_id":7483026,"display_name":"rjrajsaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518751702,"creation_date":1518751702,"answer_id":48819650,"question_id":3153337,"body_markdown":"If you want to get your current working directory then use the following line\r\n\r\n    System.out.println(new File(&quot;&quot;).getAbsolutePath());\r\n","title":"How to get current working directory in Java?","body":"<p>If you want to get your current working directory then use the following line</p>\n\n<pre><code>System.out.println(new File(\"\").getAbsolutePath());\n</code></pre>\n"}],"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386165,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":3153440,"answer_count":8,"score":120,"last_activity_date":1685444714,"creation_date":1277931379,"question_id":3153337,"body_markdown":"Let&#39;s say I have my main class in `C:\\Users\\Justian\\Documents\\`. How can I get my program to show that it&#39;s in `C:\\Users\\Justian\\Documents`?\r\n\r\nHard-Coding is not an option- it needs to be adaptable if it&#39;s moved to another location.\r\n\r\n**I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.**","title":"How to get current working directory in Java?","body":"<p>Let's say I have my main class in <code>C:\\Users\\Justian\\Documents\\</code>. How can I get my program to show that it's in <code>C:\\Users\\Justian\\Documents</code>?</p>\n\n<p>Hard-Coding is not an option- it needs to be adaptable if it's moved to another location.</p>\n\n<p><strong>I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.</strong></p>\n"},{"tags":["java","junit","mockito","reflections"],"answers":[{"comments":[{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1685538722,"post_id":76364115,"comment_id":134674099,"body_markdown":"actually not working .","body":"actually not working ."}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685444282,"creation_date":1685444282,"answer_id":76364115,"question_id":76363803,"body_markdown":"It`s pretty simple to do. You need to call the method which uses your mapper and only then you could mock a behavior of your mock. Test should look like this:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ServiceTest {\r\n        @Mock\r\n        private UtilityServiceDTOMapper&lt;String&gt; serviceDTOMapper;\r\n    \r\n        @InjectMocks\r\n        private Service service;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            ReflectionTestUtils.setField(service, &quot;serviceDTOMapper&quot;, serviceDTOMapper);\r\n        }\r\n    \r\n        @Test\r\n        void testMapper() {\r\n            List&lt;Records&gt; someListOfValues = List.of(new Records(&quot;test&quot;));\r\n    \r\n            // Mock the behavior of the mapper method\r\n            when(serviceDTOMapper.mapper(anyString())).thenReturn(someListOfValues);\r\n    \r\n            // Call the method that uses the mapper\r\n            service.someMethod();\r\n    \r\n           // Do some verify\r\n           \r\n        }\r\n    }","title":"do a mock on Mocked object in Junit5","body":"<p>It`s pretty simple to do. You need to call the method which uses your mapper and only then you could mock a behavior of your mock. Test should look like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ServiceTest {\n    @Mock\n    private UtilityServiceDTOMapper&lt;String&gt; serviceDTOMapper;\n\n    @InjectMocks\n    private Service service;\n\n    @BeforeEach\n    void setUp() {\n        ReflectionTestUtils.setField(service, &quot;serviceDTOMapper&quot;, serviceDTOMapper);\n    }\n\n    @Test\n    void testMapper() {\n        List&lt;Records&gt; someListOfValues = List.of(new Records(&quot;test&quot;));\n\n        // Mock the behavior of the mapper method\n        when(serviceDTOMapper.mapper(anyString())).thenReturn(someListOfValues);\n\n        // Call the method that uses the mapper\n        service.someMethod();\n\n       // Do some verify\n       \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685444298,"creation_date":1685441844,"question_id":76363803,"body_markdown":"I am trying to write a test case in `JUNIT5`.\r\n\r\nI want to do unit test on the below `class` \r\n```\r\nClass Service{\r\n\r\n@Autowired\r\nObjectHolder objectHolder;\r\n\r\n UtilityServiceDTOMapper&lt;T&gt; serviceDTOMapper = objectHolder.getImplementation();\r\n List&lt;Records&gt; recordList = serviceDTOMapper.mapper(&quot;Test&quot;);//Line I want to do unit test\r\n\r\n}\r\n```\r\n\r\nJunit \r\n\r\n```\r\n@Test\r\nvoid test(){\r\nReflectionTestUtils.setField(ObjectHolder, &quot;implementations&quot;, mock(DTOMapper.class)));\r\n}\r\n\r\n//---Now i want to do the unit test for the above line i mentioned.\r\n// I tried like \r\n\r\nwhen(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);\r\n//This is not working , getting an empty list not &#39;someListOfValues&#39;\r\n\r\n```\r\n\r\n* `DTOMapper.class` is of type `UtilityServiceDTOMapper` interface.\r\n* there is a method `mapper` inside `serviceDTOMapper`.\r\n* Now I want to do a mocking on this object `serviceDTOMapper` like below\r\n\r\n```when(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);```\r\n\r\nthe above code is what i tried, but its not working.\r\n\r\n\r\n\r\n\r\n\r\n","title":"do a mock on Mocked object in Junit5","body":"<p>I am trying to write a test case in <code>JUNIT5</code>.</p>\n<p>I want to do unit test on the below <code>class</code></p>\n<pre><code>Class Service{\n\n@Autowired\nObjectHolder objectHolder;\n\n UtilityServiceDTOMapper&lt;T&gt; serviceDTOMapper = objectHolder.getImplementation();\n List&lt;Records&gt; recordList = serviceDTOMapper.mapper(&quot;Test&quot;);//Line I want to do unit test\n\n}\n</code></pre>\n<p>Junit</p>\n<pre><code>@Test\nvoid test(){\nReflectionTestUtils.setField(ObjectHolder, &quot;implementations&quot;, mock(DTOMapper.class)));\n}\n\n//---Now i want to do the unit test for the above line i mentioned.\n// I tried like \n\nwhen(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);\n//This is not working , getting an empty list not 'someListOfValues'\n\n</code></pre>\n<ul>\n<li><code>DTOMapper.class</code> is of type <code>UtilityServiceDTOMapper</code> interface.</li>\n<li>there is a method <code>mapper</code> inside <code>serviceDTOMapper</code>.</li>\n<li>Now I want to do a mocking on this object <code>serviceDTOMapper</code> like below</li>\n</ul>\n<p><code>when(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);</code></p>\n<p>the above code is what i tried, but its not working.</p>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685426719,"post_id":76361949,"comment_id":134653830,"body_markdown":"the difference in hours is: 3. Do you see that line in your properties: spring.jpa.properties.hibernate.jdbc.time_zone=+03 ? What do you think that does?","body":"the difference in hours is: 3. Do you see that line in your properties: spring.jpa.properties.hibernate.jdbc.time_zone=+03 ? What do you think that does?"},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1685426851,"post_id":76361949,"comment_id":134653844,"body_markdown":"@Stultuske thank you for answer! In fact, it adds the time I entered by 3 hours and saves it in the database. But if I remove +03 then the database will save time 3 less than my current time","body":"@Stultuske thank you for answer! In fact, it adds the time I entered by 3 hours and saves it in the database. But if I remove +03 then the database will save time 3 less than my current time"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685427108,"post_id":76361949,"comment_id":134653875,"body_markdown":"no, it won&#39;t. meaning somewhere you are using a different timezone which differs three hours from the one you want to be using","body":"no, it won&#39;t. meaning somewhere you are using a different timezone which differs three hours from the one you want to be using"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685432644,"post_id":76361949,"comment_id":134654951,"body_markdown":"What is the output of your code snippet?","body":"What is the output of your code snippet?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685435534,"post_id":76361949,"comment_id":134655589,"body_markdown":"Do you understand that `java.util.Date#toString`tells a lie? That method applies your JVM’s current default time zone, while the object’s value is in UTC (an offset of zero).","body":"Do you understand that <code>java.util.Date#toString</code>tells a lie? That method applies your JVM’s current default time zone, while the object’s value is in UTC (an offset of zero)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685435644,"post_id":76361949,"comment_id":134655612,"body_markdown":"You are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terribly flawed date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1685436910,"post_id":76361949,"comment_id":134655902,"body_markdown":"@BasilBourque What should be done now to solve this problem?","body":"@BasilBourque What should be done now to solve this problem?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685447953,"post_id":76361949,"comment_id":134658258,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685460366,"post_id":76361949,"comment_id":134661513,"body_markdown":"@Yevgeniy What problem? You have not defined a problem. All you’ve done is mention a database, and shown two lines of code *without* any database-related code. [MCVE](https://stackoverflow.com/help/mcve). And I’m guessing your issue has already been addressed in existing Questions and Answers. But you’ve not bothered to search for those, otherwise you would have learned to avoid the obsolete legacy date-time classes.","body":"@Yevgeniy What problem? You have not defined a problem. All you’ve done is mention a database, and shown two lines of code <i>without</i> any database-related code. <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. And I’m guessing your issue has already been addressed in existing Questions and Answers. But you’ve not bothered to search for those, otherwise you would have learned to avoid the obsolete legacy date-time classes."}],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685444276,"creation_date":1685426399,"question_id":76361949,"body_markdown":"I am using postgresql database. The date is entered correctly at +03, but is displayed when requesting a postman or a browser 3 hours less. What to do in such a situation. Checked the settings, everything is fine. Screenshots and code below. Help, thanks!\r\n\r\nDate in database: `2023-01-01 00:00:00.000000`  \r\nOutput: `2022-12-31 21:00:00.000`\r\n\r\n     @PostConstruct\r\n        public void init() {\r\n            TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Moscow&quot;));\r\n            System.out.println(&quot;Date in UTC: &quot; + new Date().toString());\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe data type of the PostgreSQL column is `timestamp`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mtstz.jpg","title":"Wrong date output from database at 3 o&#39;clock","body":"<p>I am using postgresql database. The date is entered correctly at +03, but is displayed when requesting a postman or a browser 3 hours less. What to do in such a situation. Checked the settings, everything is fine. Screenshots and code below. Help, thanks!</p>\n<p>Date in database: <code>2023-01-01 00:00:00.000000</code><br />\nOutput: <code>2022-12-31 21:00:00.000</code></p>\n<pre><code> @PostConstruct\n    public void init() {\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Moscow&quot;));\n        System.out.println(&quot;Date in UTC: &quot; + new Date().toString());\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mtstz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mtstz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The data type of the PostgreSQL column is <code>timestamp</code>.</p>\n"},{"tags":["java","android","kotlin","jar"],"owner":{"account_id":24900932,"reputation":3,"user_id":18771614,"display_name":"Karthick G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685444042,"creation_date":1685432046,"question_id":76362523,"body_markdown":"I need to create a jar file from my old project, but i don&#39;t know which path is correct.\r\n\r\nThis is my code for create jar:\r\n\r\n```\r\ntask clearJar(type: Delete) {\r\n    delete &#39;libs/jars/logmanagementlib.jar&#39;\r\n}\r\n\r\ntask makeJar(type: Copy) {\r\n    from(&#39;build/intermediates/app_classes/release&#39;) // app_classes folder is not there\r\n    into(&#39;libs/&#39;)\r\n    include(&#39;classes.jar&#39;)\r\n    rename (&#39;classes.jar&#39;, &#39;logmanagementlib.jar&#39;)\r\n}\r\n\r\nmakeJar.dependsOn(clearJar, build)\r\n```\r\n\r\nThis is my available folders names:\r\n\r\n**\\\\app\\\\build\\\\intermediates**\r\n\r\n[image1](https://i.stack.imgur.com/aI11D.png)\r\n\r\n[image2](https://i.stack.imgur.com/tcqw9.png)","title":"I don&#39;t know From path is correct or not while create jar file","body":"<p>I need to create a jar file from my old project, but i don't know which path is correct.</p>\n<p>This is my code for create jar:</p>\n<pre><code>task clearJar(type: Delete) {\n    delete 'libs/jars/logmanagementlib.jar'\n}\n\ntask makeJar(type: Copy) {\n    from('build/intermediates/app_classes/release') // app_classes folder is not there\n    into('libs/')\n    include('classes.jar')\n    rename ('classes.jar', 'logmanagementlib.jar')\n}\n\nmakeJar.dependsOn(clearJar, build)\n</code></pre>\n<p>This is my available folders names:</p>\n<p><strong>\\app\\build\\intermediates</strong></p>\n<p><a href=\"https://i.stack.imgur.com/aI11D.png\" rel=\"nofollow noreferrer\">image1</a></p>\n<p><a href=\"https://i.stack.imgur.com/tcqw9.png\" rel=\"nofollow noreferrer\">image2</a></p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1684962625,"post_id":76327367,"comment_id":134596056,"body_markdown":"@Reilas, your suggested question is `when source is null` and my question is `when target is null`","body":"@Reilas, your suggested question is <code>when source is null</code> and my question is <code>when target is null</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684963018,"post_id":76327367,"comment_id":134596121,"body_markdown":"Try this [question](https://stackoverflow.com/questions/59740439/mapstruct-map-fields-to-target-only-when-targets-fields-are-null).  They&#39;re referring to the `NullValuePropertyMappingStrategy` enum; another value possibly?","body":"Try this <a href=\"https://stackoverflow.com/questions/59740439/mapstruct-map-fields-to-target-only-when-targets-fields-are-null\">question</a>.  They&#39;re referring to the <code>NullValuePropertyMappingStrategy</code> enum; another value possibly?"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1684963330,"post_id":76327367,"comment_id":134596188,"body_markdown":"@Reilas, from your suggested question: What I am trying to achieve is only `map fields in source into target only when the fields in target are null`. I want to ignore instead.","body":"@Reilas, from your suggested question: What I am trying to achieve is only <code>map fields in source into target only when the fields in target are null</code>. I want to ignore instead."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1684963551,"post_id":76327367,"comment_id":134596206,"body_markdown":"Also `NullValuePropertyMappingStrategy` only control source but not target.","body":"Also <code>NullValuePropertyMappingStrategy</code> only control source but not target."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684964846,"post_id":76327367,"comment_id":134596375,"body_markdown":"Alright, so there is a similar [question](https://github.com/mapstruct/mapstruct/issues/1443) on GitHub, for setting values only when the fields in target are null.","body":"Alright, so there is a similar <a href=\"https://github.com/mapstruct/mapstruct/issues/1443\" rel=\"nofollow noreferrer\">question</a> on GitHub, for setting values only when the fields in target are null."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1685019707,"post_id":76327367,"comment_id":134604606,"body_markdown":"@Reilas, Thanks. so there is no native support from MapStruct and I leave my answer for reference.","body":"@Reilas, Thanks. so there is no native support from MapStruct and I leave my answer for reference."},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1685028795,"post_id":76327367,"comment_id":134607117,"body_markdown":"Which version of used Mapstruct?","body":"Which version of used Mapstruct?"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1685035929,"post_id":76327367,"comment_id":134608702,"body_markdown":"@fatih 1.5.5.Final","body":"@fatih 1.5.5.Final"}],"answers":[{"tags":[],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685443970,"creation_date":1685019669,"answer_id":76332562,"question_id":76327367,"body_markdown":"We can use `ignore` and `@AfterMapping`.\r\n\r\n```java\r\n@Mapper\r\npublic interface CarMapper {\r\n\r\n    @Mapping(target = &quot;engine&quot;, ignore = &quot;true&quot;)\r\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\r\n\r\n    @AfterMapping\r\n    default void update(CarDto carDto, @MappingTarget Car car) {\r\n        if(car == null || carDto == null) {\r\n            return;\r\n        }\r\n\r\n        if(car.getEngine != null)\r\n            car.setEngine(carDto.getDevice);\r\n            \r\n    }\r\n}\r\n```","title":"Mapstruct - ingore mapping when target is null","body":"<p>We can use <code>ignore</code> and <code>@AfterMapping</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface CarMapper {\n\n    @Mapping(target = &quot;engine&quot;, ignore = &quot;true&quot;)\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\n\n    @AfterMapping\n    default void update(CarDto carDto, @MappingTarget Car car) {\n        if(car == null || carDto == null) {\n            return;\n        }\n\n        if(car.getEngine != null)\n            car.setEngine(carDto.getDevice);\n            \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76332562,"answer_count":1,"score":0,"last_activity_date":1685443970,"creation_date":1684961948,"question_id":76327367,"body_markdown":"Consider the below codes, if `engine` is null, I don&#39;t want to map it. How can I do it?\r\n\r\n```java\r\n@Mapper\r\npublic interface CarMapper {\r\n\r\n    @Mapping(target = &quot;engine&quot;, source = &quot;device&quot;)\r\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\r\n}\r\n```","title":"Mapstruct - ingore mapping when target is null","body":"<p>Consider the below codes, if <code>engine</code> is null, I don't want to map it. How can I do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface CarMapper {\n\n    @Mapping(target = &quot;engine&quot;, source = &quot;device&quot;)\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automated-tests","cucumber"],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685443378,"creation_date":1685443378,"answer_id":76363986,"question_id":76360858,"body_markdown":"As I often say, avoid using long Xpath expression every time. If you have an expression like &#39;div/span/div&#39; or &#39;div[1]/span[3]/../div[4]&#39; you are using a bad approach.  \r\n\r\nAlways prefer finding an element:\r\n* `By class: //div[@class=&quot;ClassValue&quot;]`\r\n* `By ID: //span[@id=&quot;TheID&quot;]`\r\n* `By test: //*[contains(text(),&#39;PartiralTextToFind&#39;)]`\r\n\r\nFollow my advice and you will get a more readable code and also more stable code for your problem.","title":"Elements in hamburger menu on amazon.ca are sometimes not located via xpath and causes inconsistencies","body":"<p>As I often say, avoid using long Xpath expression every time. If you have an expression like 'div/span/div' or 'div[1]/span[3]/../div[4]' you are using a bad approach.</p>\n<p>Always prefer finding an element:</p>\n<ul>\n<li><code>By class: //div[@class=&quot;ClassValue&quot;]</code></li>\n<li><code>By ID: //span[@id=&quot;TheID&quot;]</code></li>\n<li><code>By test: //*[contains(text(),'PartiralTextToFind')]</code></li>\n</ul>\n<p>Follow my advice and you will get a more readable code and also more stable code for your problem.</p>\n"}],"owner":{"account_id":28614750,"reputation":1,"user_id":21909010,"display_name":"Mahmood Alsaftawi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685443378,"creation_date":1685403863,"question_id":76360858,"body_markdown":"I&#39;m trying to create a selenium/cucumber project that does the following:\r\n\r\n1. Go to `amazon.ca`\r\n2. Click on the hamburger menu (top left corner)\r\n3. Select Kindle under Digital Content and Devices\r\n4. Click Kindle under Kindle E-Reader\r\n5. Click Buy Now\r\n6. Verify User is asked for email or mobile number\r\n\r\nThere are 2 issues I&#39;m running into:\r\n\r\nThe amazon homepage is launching without a nav bar and hamburger menu\r\nThe Kindle elements in the hamburger menu sometimes aren&#39;t located properly\r\nHere is the project on GitHub: https://github.com/mahmood-alsaftawi/AmazonSelenium\r\n\r\n\r\n\r\nI believe the second issue may be caused by something dynamically changing in the xpath. I&#39;ve tried selecting the element by xpath, CSS selector, absolute path, text, etc. None seem to work consistently. At one point I got it working a few times in a row but eventually, it will always fail.\r\n\r\nHere&#39;s the snippet of code for that issue:\r\n\r\n    @Then(&quot;click on Kindle under Kindle E-Readers&quot;)\r\n    public void clickOnKindleUnderKindleEReaders() {\r\n        boolean kindleExists = driver.findElements(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).size() &gt; 0;\r\n        if (!kindleExists){\r\n            driver.findElement(By.xpath(&quot;/html/body/div[7]/div[2]/div/ul[4]/li[3]/a&quot;)).click();\r\n        }\r\n        else {\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).click();\r\n        }\r\n        logger.info(&quot;Click on Kindle Options under Kindle E-Readers&quot;);\r\n        logger.info(&quot;Wait for Kindle Page to render&quot;);\r\n    }\r\n\r\nI&#39;m pretty sure the if statement isn&#39;t the best way to go about this. The reason I was trying it was that I was getting 2 different xpaths when I inspected that element.","title":"Elements in hamburger menu on amazon.ca are sometimes not located via xpath and causes inconsistencies","body":"<p>I'm trying to create a selenium/cucumber project that does the following:</p>\n<ol>\n<li>Go to <code>amazon.ca</code></li>\n<li>Click on the hamburger menu (top left corner)</li>\n<li>Select Kindle under Digital Content and Devices</li>\n<li>Click Kindle under Kindle E-Reader</li>\n<li>Click Buy Now</li>\n<li>Verify User is asked for email or mobile number</li>\n</ol>\n<p>There are 2 issues I'm running into:</p>\n<p>The amazon homepage is launching without a nav bar and hamburger menu\nThe Kindle elements in the hamburger menu sometimes aren't located properly\nHere is the project on GitHub: <a href=\"https://github.com/mahmood-alsaftawi/AmazonSelenium\" rel=\"nofollow noreferrer\">https://github.com/mahmood-alsaftawi/AmazonSelenium</a></p>\n<p>I believe the second issue may be caused by something dynamically changing in the xpath. I've tried selecting the element by xpath, CSS selector, absolute path, text, etc. None seem to work consistently. At one point I got it working a few times in a row but eventually, it will always fail.</p>\n<p>Here's the snippet of code for that issue:</p>\n<pre><code>@Then(&quot;click on Kindle under Kindle E-Readers&quot;)\npublic void clickOnKindleUnderKindleEReaders() {\n    boolean kindleExists = driver.findElements(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).size() &gt; 0;\n    if (!kindleExists){\n        driver.findElement(By.xpath(&quot;/html/body/div[7]/div[2]/div/ul[4]/li[3]/a&quot;)).click();\n    }\n    else {\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).click();\n    }\n    logger.info(&quot;Click on Kindle Options under Kindle E-Readers&quot;);\n    logger.info(&quot;Wait for Kindle Page to render&quot;);\n}\n</code></pre>\n<p>I'm pretty sure the if statement isn't the best way to go about this. The reason I was trying it was that I was getting 2 different xpaths when I inspected that element.</p>\n"},{"tags":["java","multithreading","happens-before"],"answers":[{"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":1,"creation_date":1685433182,"post_id":76358040,"comment_id":134655063,"body_markdown":"The reason why this &quot;fixes&quot; the problem is because when you do a print() in Java, changes done in another thread will be visible to all threads. It causes a memory synchronization. However your code is not 100% reliable and the problem is still there. Your code doesn&#39;t guarantee success, so maybe go over your solution again.\n\nDocumentation:\n[Stack Memory and Heap Space](https://www.baeldung.com/java-stack-heap)","body":"The reason why this &quot;fixes&quot; the problem is because when you do a print() in Java, changes done in another thread will be visible to all threads. It causes a memory synchronization. However your code is not 100% reliable and the problem is still there. Your code doesn&#39;t guarantee success, so maybe go over your solution again.  Documentation: <a href=\"https://www.baeldung.com/java-stack-heap\" rel=\"nofollow noreferrer\">Stack Memory and Heap Space</a>"},{"owner":{"account_id":2032415,"reputation":1277,"user_id":1815716,"accept_rate":38,"display_name":"prasad"},"score":0,"creation_date":1685600799,"post_id":76358040,"comment_id":134683307,"body_markdown":"@AztecCodes : you mentioned that print() method will cause a memory synchronization and changes done in another thread will be visible to all threads so do you have any documentation for this . https://www.baeldung.com/java-stack-heap this is about stack and heap memory, it didn&#39;t mentioned above points.","body":"@AztecCodes : you mentioned that print() method will cause a memory synchronization and changes done in another thread will be visible to all threads so do you have any documentation for this . <a href=\"https://www.baeldung.com/java-stack-heap\" rel=\"nofollow noreferrer\">baeldung.com/java-stack-heap</a> this is about stack and heap memory, it didn&#39;t mentioned above points."}],"tags":[],"owner":{"account_id":2032415,"reputation":1277,"user_id":1815716,"accept_rate":38,"display_name":"prasad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685369195,"creation_date":1685369195,"answer_id":76358040,"question_id":76357375,"body_markdown":"i found a way to fix it but i am not sure why it&#39;s behaving like this, still i am checking. check below code and follow my inline comments\r\n\r\n    {\r\n     static int x;\r\n        public static void main(String[] args) {\r\n            Thread t2 = new Thread(()-&gt;{\r\n                while(true) {\r\n                    if(Thread.currentThread().isInterrupted()) {\r\n                        System.out.println(x);\r\n                        break;\r\n                    }\r\n                  System.out.println(&quot;t2 completed&quot;);// if you add sop here then it&#39;s working as expected\r\n                }\r\n            },&quot;t2&quot;);\r\n            t2.start();\r\n            new Thread(()-&gt;{\r\n                sleep(1);\r\n                x = 10;\r\n                t2.interrupt();\r\n            },&quot;t1&quot;).start();\r\n            while(!t2.isInterrupted()) {\r\n                Thread.yield();\r\n            }\r\n            System.out.println(x);\r\n        }\r\n\r\ni am thinking thread t2 is not returning form the while loop as i called out still checking reason behind this\r\nThanks","title":"I checked with jconsole and found there is not dead lock,but program does not exit","body":"<p>i found a way to fix it but i am not sure why it's behaving like this, still i am checking. check below code and follow my inline comments</p>\n<pre><code>{\n static int x;\n    public static void main(String[] args) {\n        Thread t2 = new Thread(()-&gt;{\n            while(true) {\n                if(Thread.currentThread().isInterrupted()) {\n                    System.out.println(x);\n                    break;\n                }\n              System.out.println(&quot;t2 completed&quot;);// if you add sop here then it's working as expected\n            }\n        },&quot;t2&quot;);\n        t2.start();\n        new Thread(()-&gt;{\n            sleep(1);\n            x = 10;\n            t2.interrupt();\n        },&quot;t1&quot;).start();\n        while(!t2.isInterrupted()) {\n            Thread.yield();\n        }\n        System.out.println(x);\n    }\n</code></pre>\n<p>i am thinking thread t2 is not returning form the while loop as i called out still checking reason behind this\nThanks</p>\n"},{"comments":[{"owner":{"account_id":2032415,"reputation":1277,"user_id":1815716,"accept_rate":38,"display_name":"prasad"},"score":1,"creation_date":1685425850,"post_id":76358151,"comment_id":134653703,"body_markdown":"AztecCodes, your live lock related resources are not working , please check the links","body":"AztecCodes, your live lock related resources are not working , please check the links"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685432590,"post_id":76358151,"comment_id":134654940,"body_markdown":"@prasad Thank you very much! Links are fixed now.","body":"@prasad Thank you very much! Links are fixed now."}],"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685432559,"creation_date":1685370323,"answer_id":76358151,"question_id":76357375,"body_markdown":"&lt;h2&gt;Live-Lock is the problem here and not Dead-Lock&lt;/h2&gt;\r\n\r\nYou don&#39;t have a **dead-lock**. You do have a **live-lock**. this means that the threads are not technically blocked, however they are caught in a condition, which blocks them making progress.\r\n\r\n&lt;h3&gt;Why you have a live-lock:&lt;/h3&gt;\r\n\r\nThe main thread you have goes into a loop to continually check out if Thread `t2` has been interrupted or not. The interruption call to Thread `t2` doesn&#39;t change Thread `t2` current status of interruption. This is because Thread `t2` is still running in the infinite loop and didn&#39;t reach the code where the status of interruption is checked.\r\n\r\nThe check of the main threads check of `t2.isInterrupted()` happens before Thread `t2` processes its interruption status. That is the reason for the infinite loop.\r\n\r\n&lt;h3&gt;Quick Fix:&lt;/h3&gt;\r\n\r\nJust replace the `t2.isInterrupted()` method in your main thread with the `t2.join()` method. This will make the main Thread wait for Thread `t2` to finish before going on.\r\n\r\n**Please check out following documentation:**\r\n[Java Thread Deadlock and Livelock][1]\r\n\r\nHere you have a code example with the `join()-method`:\r\n\r\n**Code Example:**\r\n    \r\n    // Variables\r\n    public static int x;\r\n    \r\n    // Main Method\r\n    public static void main(String[] args) {\r\n      Thread t2 = new Thread(() -&gt; {\r\n        while (true) {\r\n          if (Thread.currentThread().isInterrupted()) {\r\n            System.out.println(x);\r\n            break;\r\n          }\r\n        }\r\n      }, &quot;t2&quot;);\r\n      t2.start();\r\n      new Thread(() -&gt; {\r\n        sleep(1);\r\n        x = 10;\r\n        t2.interrupt();\r\n      }, &quot;t1&quot;).start();\r\n      try {\r\n        // Join method on Thread t2 to avoid live-lock\r\n        t2.join();\r\n      } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n      }\r\n      System.out.println(x);\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-deadlock-livelock","title":"I checked with jconsole and found there is not dead lock,but program does not exit","body":"<h2>Live-Lock is the problem here and not Dead-Lock</h2>\n<p>You don't have a <strong>dead-lock</strong>. You do have a <strong>live-lock</strong>. this means that the threads are not technically blocked, however they are caught in a condition, which blocks them making progress.</p>\n<h3>Why you have a live-lock:</h3>\n<p>The main thread you have goes into a loop to continually check out if Thread <code>t2</code> has been interrupted or not. The interruption call to Thread <code>t2</code> doesn't change Thread <code>t2</code> current status of interruption. This is because Thread <code>t2</code> is still running in the infinite loop and didn't reach the code where the status of interruption is checked.</p>\n<p>The check of the main threads check of <code>t2.isInterrupted()</code> happens before Thread <code>t2</code> processes its interruption status. That is the reason for the infinite loop.</p>\n<h3>Quick Fix:</h3>\n<p>Just replace the <code>t2.isInterrupted()</code> method in your main thread with the <code>t2.join()</code> method. This will make the main Thread wait for Thread <code>t2</code> to finish before going on.</p>\n<p><strong>Please check out following documentation:</strong>\n<a href=\"https://www.baeldung.com/java-deadlock-livelock\" rel=\"nofollow noreferrer\">Java Thread Deadlock and Livelock</a></p>\n<p>Here you have a code example with the <code>join()-method</code>:</p>\n<p><strong>Code Example:</strong></p>\n<pre><code>// Variables\npublic static int x;\n\n// Main Method\npublic static void main(String[] args) {\n  Thread t2 = new Thread(() -&gt; {\n    while (true) {\n      if (Thread.currentThread().isInterrupted()) {\n        System.out.println(x);\n        break;\n      }\n    }\n  }, &quot;t2&quot;);\n  t2.start();\n  new Thread(() -&gt; {\n    sleep(1);\n    x = 10;\n    t2.interrupt();\n  }, &quot;t1&quot;).start();\n  try {\n    // Join method on Thread t2 to avoid live-lock\n    t2.join();\n  } catch (InterruptedException e) {\n    e.printStackTrace();\n  }\n  System.out.println(x);\n}\n</code></pre>\n"}],"owner":{"account_id":25170911,"reputation":1,"user_id":19013745,"display_name":"dun mao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685443275,"creation_date":1685363179,"question_id":76357375,"body_markdown":"\r\n```\r\n{static int x;\r\n    public static void main(String[] args) {\r\n        Thread t2 = new Thread(()-&gt;{\r\n            while(true) {\r\n                if(Thread.currentThread().isInterrupted()) {\r\n                    System.out.println(x);\r\n                    break;\r\n                }\r\n            }\r\n        },&quot;t2&quot;);\r\n        t2.start();\r\n        new Thread(()-&gt;{\r\n            sleep(1);\r\n            x = 10;\r\n            t2.interrupt();\r\n        },&quot;t1&quot;).start();\r\n        while(!t2.isInterrupted()) {\r\n            Thread.yield();\r\n        }\r\n        System.out.println(x);\r\n    }\r\n```\r\n\r\n\r\nI verify the happen-before rule,I expect main-Thread and t2-Thread print value of x and exit,but the program is blocked in main thread.I tried to use jconsole to check dead lock and found no dead lock","title":"I checked with jconsole and found there is not dead lock,but program does not exit","body":"<pre><code>{static int x;\n    public static void main(String[] args) {\n        Thread t2 = new Thread(()-&gt;{\n            while(true) {\n                if(Thread.currentThread().isInterrupted()) {\n                    System.out.println(x);\n                    break;\n                }\n            }\n        },&quot;t2&quot;);\n        t2.start();\n        new Thread(()-&gt;{\n            sleep(1);\n            x = 10;\n            t2.interrupt();\n        },&quot;t1&quot;).start();\n        while(!t2.isInterrupted()) {\n            Thread.yield();\n        }\n        System.out.println(x);\n    }\n</code></pre>\n<p>I verify the happen-before rule,I expect main-Thread and t2-Thread print value of x and exit,but the program is blocked in main thread.I tried to use jconsole to check dead lock and found no dead lock</p>\n"},{"tags":["java","sql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685446935,"post_id":76363974,"comment_id":134658058,"body_markdown":"It is not clear if the query will have a defined number of conditions and parameters or the number will be varying from call to call. If the query has a constant form then it can be defined as a JPARepository method. If not then it can be build dynamically with CriteriaBuilder.","body":"It is not clear if the query will have a defined number of conditions and parameters or the number will be varying from call to call. If the query has a constant form then it can be defined as a JPARepository method. If not then it can be build dynamically with CriteriaBuilder."},{"owner":{"account_id":4196263,"reputation":372,"user_id":3437603,"display_name":"ourobor93"},"score":0,"creation_date":1685534698,"post_id":76363974,"comment_id":134673045,"body_markdown":"it will change depending on each call. Can you provide an example of CriteriaBuilder?","body":"it will change depending on each call. Can you provide an example of CriteriaBuilder?"}],"owner":{"account_id":4196263,"reputation":372,"user_id":3437603,"display_name":"ourobor93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685443270,"creation_date":1685443270,"question_id":76363974,"body_markdown":"My use case is the following one, I need to create the following query in JPA:\r\n\r\n    SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2]) OR (column1 &gt;= [VALUE3] AND column1 &lt;= [VALUE4]) OR (column1 &gt;= [VALUE5] AND colum1 &lt;= [VALUE6]) OR ...\r\n\r\nAnd I want to use SpringBoot JPA using Repository annotation. Is there any way to define the function to allow this kind of query?\r\n\r\nThe only solution that comes to me is defining a function to query\r\n\r\n    SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2])\r\n\r\nthat could be\r\n\r\n    @Query(value = &quot;SELECT o FROM Object o WHERE o.column1 &gt;= $1 AND o.column2 &lt;= $2)\r\n    public List&lt;Object&gt; findByValues(Float value1, Float value2)\r\n\r\nBut this causes that I need to execute a query per each condition, and I want to retrieve the full data of all conditions in only one query.","title":"JPA Query with Multiple and Repeated Conditions based on object","body":"<p>My use case is the following one, I need to create the following query in JPA:</p>\n<pre><code>SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2]) OR (column1 &gt;= [VALUE3] AND column1 &lt;= [VALUE4]) OR (column1 &gt;= [VALUE5] AND colum1 &lt;= [VALUE6]) OR ...\n</code></pre>\n<p>And I want to use SpringBoot JPA using Repository annotation. Is there any way to define the function to allow this kind of query?</p>\n<p>The only solution that comes to me is defining a function to query</p>\n<pre><code>SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2])\n</code></pre>\n<p>that could be</p>\n<pre><code>@Query(value = &quot;SELECT o FROM Object o WHERE o.column1 &gt;= $1 AND o.column2 &lt;= $2)\npublic List&lt;Object&gt; findByValues(Float value1, Float value2)\n</code></pre>\n<p>But this causes that I need to execute a query per each condition, and I want to retrieve the full data of all conditions in only one query.</p>\n"},{"tags":["java","log4j","properties-file"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1640890116,"post_id":70535535,"comment_id":124685576,"body_markdown":"As you can guess by the name, the `ibuild.reports.FileNamePatternRollingFileAppender` is not a standard Log4j appender. Can you describe how your appender works? What are the names of the log files, how often it rotates them, etc.","body":"As you can guess by the name, the <code>ibuild.reports.FileNamePatternRollingFileAppender</code> is not a standard Log4j appender. Can you describe how your appender works? What are the names of the log files, how often it rotates them, etc."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640891032,"post_id":70535535,"comment_id":124685809,"body_markdown":"Thanks for the reply. You right, I forgot to mention - this class extends the standard &quot;RollingFileAppender&quot; class. And the configuration worked as it mentioned here. I just want to know how to new properties file (log4j2) will look like. It is also enough for me to see just implantation of the loggers and 1 appender because the other appender is pretty much the same as you can see, apart of few attributes. thanks.","body":"Thanks for the reply. You right, I forgot to mention - this class extends the standard &quot;RollingFileAppender&quot; class. And the configuration worked as it mentioned here. I just want to know how to new properties file (log4j2) will look like. It is also enough for me to see just implantation of the loggers and 1 appender because the other appender is pretty much the same as you can see, apart of few attributes. thanks."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1640892180,"post_id":70535535,"comment_id":124686107,"body_markdown":"The problem is that Log4j 2.x does not support Log4j 1.x appenders. Therefore you need to rewrite it for Log4j 2.x or describe precisely what should it do (chances are, the Log4j 2.x `RollingFile` can emulate the same behavior).","body":"The problem is that Log4j 2.x does not support Log4j 1.x appenders. Therefore you need to rewrite it for Log4j 2.x or describe precisely what should it do (chances are, the Log4j 2.x <code>RollingFile</code> can emulate the same behavior)."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640893387,"post_id":70535535,"comment_id":124686468,"body_markdown":"https://logging.apache.org/log4j/2.x/manual/migration.html\nFrom looking here I can see that the RollingFileAppender is under the &quot;Supported Components&quot;. On &quot;Configuration Compatibility&quot; part.","body":"<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a> From looking here I can see that the RollingFileAppender is under the &quot;Supported Components&quot;. On &quot;Configuration Compatibility&quot; part."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1640930149,"post_id":70535535,"comment_id":124692879,"body_markdown":"Yes, the `RollingFileAppender` can be converter automatically (see [this question](https://stackoverflow.com/q/70386274/11748454)), but classes derived from it can&#39;t.","body":"Yes, the <code>RollingFileAppender</code> can be converter automatically (see <a href=\"https://stackoverflow.com/q/70386274/11748454\">this question</a>), but classes derived from it can&#39;t."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640984576,"post_id":70535535,"comment_id":124704558,"body_markdown":"thanks. I did not see where it is documented that classes derived from it can&#39;t be automatically converted. Is there a way (easy one) to make it work with the derived class? If not, can you please assume the standard RollingFileAppender is being used (instead the FileNamePatternRollingFileAppender) and let me know how the properties file will look like with log4j2? (giving the above configuration in log4j1) thanks.","body":"thanks. I did not see where it is documented that classes derived from it can&#39;t be automatically converted. Is there a way (easy one) to make it work with the derived class? If not, can you please assume the standard RollingFileAppender is being used (instead the FileNamePatternRollingFileAppender) and let me know how the properties file will look like with log4j2? (giving the above configuration in log4j1) thanks."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640991004,"post_id":70535535,"comment_id":124705560,"body_markdown":"Regardless to your answer if it is possible or not to use the derived class, I am adding here the output of the log4j1 file after I used the converter tool you recommended in the other post you mentioned.\nCan you confirm that the output is correct based on the above input?\nsuffix and simpleDateFormatpattern offcourse are missing because these are custom members of the derived class. I will add the code by editing my original question.","body":"Regardless to your answer if it is possible or not to use the derived class, I am adding here the output of the log4j1 file after I used the converter tool you recommended in the other post you mentioned. Can you confirm that the output is correct based on the above input? suffix and simpleDateFormatpattern offcourse are missing because these are custom members of the derived class. I will add the code by editing my original question."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641048701,"post_id":70535535,"comment_id":124711843,"body_markdown":"The configuration converter and configuration factory included in `log4j-1.2-api` do not analyze the bytecode of your customized appenders (so it can not know you extended a standard appender). It just converts the configuration of those appenders it knows (cf. [source code](https://github.com/apache/logging-log4j2/blob/84ba3f260153d4674bf8c1db9cb491bd82dcd41f/log4j-1.2-api/src/main/java/org/apache/log4j/config/Log4j1ConfigurationParser.java#L163)).","body":"The configuration converter and configuration factory included in <code>log4j-1.2-api</code> do not analyze the bytecode of your customized appenders (so it can not know you extended a standard appender). It just converts the configuration of those appenders it knows (cf. <a href=\"https://github.com/apache/logging-log4j2/blob/84ba3f260153d4674bf8c1db9cb491bd82dcd41f/log4j-1.2-api/src/main/java/org/apache/log4j/config/Log4j1ConfigurationParser.java#L163\" rel=\"nofollow noreferrer\">source code</a>)."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1641225612,"post_id":70535535,"comment_id":124745513,"body_markdown":"thanks, so I understand we can not use the derived class in log4j2. \nCan you please confirm the log4j2.xml that I have added with the original class of the appender, if that looks correct? thanks. I used the converter tool you recommended in the other thread.","body":"thanks, so I understand we can not use the derived class in log4j2.  Can you please confirm the log4j2.xml that I have added with the original class of the appender, if that looks correct? thanks. I used the converter tool you recommended in the other thread."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641232902,"post_id":70535535,"comment_id":124748143,"body_markdown":"Yes, custom Log4j 1.x components can not be used directly in Log4j 2.x. Your configuration looks Ok, you should post it as answer.","body":"Yes, custom Log4j 1.x components can not be used directly in Log4j 2.x. Your configuration looks Ok, you should post it as answer."}],"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685442190,"creation_date":1640889849,"question_id":70535535,"body_markdown":"I have a log4j.properties file with 2 custom appenders and 2 custom loggers which I need to convert to log4j2.properties file.\r\nFileNamePatternRollingFileAppender is an extension of RollingFileAppender.\r\nRead the documentation and tried to use some conversion tools but it did not work.\r\nHow the log4j2.properties file will look like in this case?\r\n\r\n\r\n    log4j.logger.ibuild.reports.XML.XMLLogger=DEBUG,StatisticXmlAppender\r\n    log4j.logger.ibuild.reports.CSV.CSVLog=DEBUG,CsvRolledFileAppender\r\n    \r\n    log4j.appender.StatisticXmlAppender=ibuild.reports.FileNamePatternRollingFileAppender\r\n    log4j.appender.StatisticXmlAppender.File=IndexStat\r\n    log4j.appender.StatisticXmlAppender.suffix=.xml\r\n    log4j.appender.StatisticXmlAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\r\n    log4j.appender.StatisticXmlAppender.MaxFileSize=100MB\r\n    log4j.appender.StatisticXmlAppender.MaxBackupIndex=10\r\n    log4j.appender.StatisticXmlAppender.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.StatisticXmlAppender.layout.ConversionPattern=%m%n\r\n    \r\n    log4j.appender.CsvRolledFileAppender=ibuild.reports.FileNamePatternRollingFileAppender\r\n    log4j.appender.CsvRolledFileAppender.File=CallProcInfo\r\n    log4j.appender.CsvRolledFileAppender.suffix=.csv\r\n    log4j.appender.CsvRolledFileAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\r\n    log4j.appender.CsvRolledFileAppender.MaxFileSize=100MB\r\n    log4j.appender.CsvRolledFileAppender.MaxBackupIndex=10\r\n    log4j.appender.CsvRolledFileAppender.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.CsvRolledFileAppender.layout.ConversionPattern=%m%n\r\n\r\nThanks\r\n\r\nEDIT:\r\n\r\nThis is the log4j2.xml after using the recommended converter and with using the original class of RollingFileAppender.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;&lt;Configuration name=&quot;Log4j1&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile \r\n\t\t\tname=&quot;StatisticXmlAppender&quot;\r\n\t\t\tfileName=&quot;IndexStat&quot;\r\n\t\t\tfilePattern=&quot;IndexStat.%i&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t\t&lt;RollingFile\r\n\t\t\tname=&quot;CsvRolledFileAppender&quot;\r\n\t\t\tfileName=&quot;CallProcInfo&quot;\r\n\t\t\tfilePattern=&quot;CallProcInfo.%i&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger\r\n\t\t name=&quot;ibuild.reports.CSV.CSVLog&quot; level=&quot;DEBUG&quot;&gt;\r\n\t\t &lt;AppenderRef ref=&quot;CsvRolledFileAppender&quot;/&gt;\r\n\t\t &lt;/Logger&gt;\r\n\t\t &lt;Logger name=&quot;ibuild.reports.XML.XMLLogger&quot; level=&quot;DEBUG&quot;&gt;\r\n\t\t &lt;AppenderRef ref=&quot;StatisticXmlAppender&quot;/&gt;\r\n\t\t &lt;/Logger&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;","title":"Converting log4j.properties file to log4j2.properties file","body":"<p>I have a log4j.properties file with 2 custom appenders and 2 custom loggers which I need to convert to log4j2.properties file.\nFileNamePatternRollingFileAppender is an extension of RollingFileAppender.\nRead the documentation and tried to use some conversion tools but it did not work.\nHow the log4j2.properties file will look like in this case?</p>\n<pre><code>log4j.logger.ibuild.reports.XML.XMLLogger=DEBUG,StatisticXmlAppender\nlog4j.logger.ibuild.reports.CSV.CSVLog=DEBUG,CsvRolledFileAppender\n\nlog4j.appender.StatisticXmlAppender=ibuild.reports.FileNamePatternRollingFileAppender\nlog4j.appender.StatisticXmlAppender.File=IndexStat\nlog4j.appender.StatisticXmlAppender.suffix=.xml\nlog4j.appender.StatisticXmlAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\nlog4j.appender.StatisticXmlAppender.MaxFileSize=100MB\nlog4j.appender.StatisticXmlAppender.MaxBackupIndex=10\nlog4j.appender.StatisticXmlAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.StatisticXmlAppender.layout.ConversionPattern=%m%n\n\nlog4j.appender.CsvRolledFileAppender=ibuild.reports.FileNamePatternRollingFileAppender\nlog4j.appender.CsvRolledFileAppender.File=CallProcInfo\nlog4j.appender.CsvRolledFileAppender.suffix=.csv\nlog4j.appender.CsvRolledFileAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\nlog4j.appender.CsvRolledFileAppender.MaxFileSize=100MB\nlog4j.appender.CsvRolledFileAppender.MaxBackupIndex=10\nlog4j.appender.CsvRolledFileAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CsvRolledFileAppender.layout.ConversionPattern=%m%n\n</code></pre>\n<p>Thanks</p>\n<p>EDIT:</p>\n<p>This is the log4j2.xml after using the recommended converter and with using the original class of RollingFileAppender.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; ?&gt;&lt;Configuration name=&quot;Log4j1&quot;&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile \n        name=&quot;StatisticXmlAppender&quot;\n        fileName=&quot;IndexStat&quot;\n        filePattern=&quot;IndexStat.%i&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n    &lt;/RollingFile&gt;\n    &lt;RollingFile\n        name=&quot;CsvRolledFileAppender&quot;\n        fileName=&quot;CallProcInfo&quot;\n        filePattern=&quot;CallProcInfo.%i&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n    &lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Logger\n     name=&quot;ibuild.reports.CSV.CSVLog&quot; level=&quot;DEBUG&quot;&gt;\n     &lt;AppenderRef ref=&quot;CsvRolledFileAppender&quot;/&gt;\n     &lt;/Logger&gt;\n     &lt;Logger name=&quot;ibuild.reports.XML.XMLLogger&quot; level=&quot;DEBUG&quot;&gt;\n     &lt;AppenderRef ref=&quot;StatisticXmlAppender&quot;/&gt;\n     &lt;/Logger&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"comments":[{"owner":{"account_id":7218356,"reputation":1,"user_id":18243533,"display_name":"SteirA "},"score":0,"creation_date":1646068123,"post_id":71272473,"comment_id":126028031,"body_markdown":"Thank you very much! One more question: after I added new configuration to my application, I got a message &quot;log4j: Could not find root logger information. Is this ok?&quot; and my logger does not work. Any idea how to solve this? I&#39;m using log4j-api-2.17.1, log4j-core-2.17.1 and log4j-slf4j-impl-2.17.1.","body":"Thank you very much! One more question: after I added new configuration to my application, I got a message &quot;log4j: Could not find root logger information. Is this ok?&quot; and my logger does not work. Any idea how to solve this? I&#39;m using log4j-api-2.17.1, log4j-core-2.17.1 and log4j-slf4j-impl-2.17.1."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646069379,"post_id":71272473,"comment_id":126028498,"body_markdown":"That is a Log4j 1.x message. Did you remove Log4j 1.x from the classpath? What is the fully qualified name of you `Logger` class?","body":"That is a Log4j 1.x message. Did you remove Log4j 1.x from the classpath? What is the fully qualified name of you <code>Logger</code> class?"},{"owner":{"account_id":7218356,"reputation":1,"user_id":18243533,"display_name":"SteirA "},"score":0,"creation_date":1646089749,"post_id":71272473,"comment_id":126034203,"body_markdown":"I found out, that my logging initializer was still using log4j-1.2.16 library to configure Loger using PropertyConfigurator.configure(). Is it a good idea to replace this existing library with log4j-1.2-api-2.17.1 so this part of code remains compatible? Full name of my Logger class is org.slf4j.Logger.class from slf4j-api-1.7.25 library.","body":"I found out, that my logging initializer was still using log4j-1.2.16 library to configure Loger using PropertyConfigurator.configure(). Is it a good idea to replace this existing library with log4j-1.2-api-2.17.1 so this part of code remains compatible? Full name of my Logger class is org.slf4j.Logger.class from slf4j-api-1.7.25 library."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646093996,"post_id":71272473,"comment_id":126034936,"body_markdown":"Programmatic Log4j 1.x configuration is not officially supported, but you can try with version 2.17.2 of `log4j-1.2-api` and set the `log4j1.compatibility` system property to `true`. In that case remove `log4j2.properties` and use the original `log4j.properties`. (also check whether `slf4j-log4j12` is **not** on your classpath).","body":"Programmatic Log4j 1.x configuration is not officially supported, but you can try with version 2.17.2 of <code>log4j-1.2-api</code> and set the <code>log4j1.compatibility</code> system property to <code>true</code>. In that case remove <code>log4j2.properties</code> and use the original <code>log4j.properties</code>. (also check whether <code>slf4j-log4j12</code> is <b>not</b> on your classpath)."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645829029,"creation_date":1645829029,"answer_id":71272473,"question_id":71269626,"body_markdown":"Your configuration seems alright.\r\n\r\nThe `MaxBackupIndex` property is not gone, but it was moved to the [rollover strategy](https://logging.apache.org/log4j/2.x/manual/appenders.html#Rollover_Strategies). You need to add to your appenders a `DefaultRolloverStrategy` with a `max` attribute:\r\n\r\n```\r\nappender.DEFAULT.strategy.type = DefaultRolloverStrategy\r\nappender.DEFAULT.strategy.max = 10\r\nappender.ERROR.strategy.type = DefaultRolloverStrategy\r\nappender.ERROR.strategy.max = 10\r\n```\r\n\r\nThe remaining properties are filters. There are many equivalent ways to add filters to components (cf. [filters documentation](https://logging.apache.org/log4j/2.x/manual/filters.html)):\r\n\r\n - the `log4j.threshold` property can be replaced by a global `ThresholdFilter`:\r\n\r\n   ```\r\n   filter.1.type = ThresholdFilter\r\n   filter.1.level = INFO\r\n   ```\r\n - in the same way you can add a `Threshold` filter to the appenders, but that can be done more efficiently by setting the `level` property on the `AppenderRef`s:\r\n\r\n   ```\r\n   rootLogger.appenderRef.ERROR.level = ERROR\r\n   ```\r\n\r\n - the `log4j.logger` prefix is used in Log4j 1.x to configure the loggers. In Log4j 2.x you can do it like:\r\n\r\n   ```\r\n   logger.1.name = org.apache\r\n   logger.1.level = INFO\r\n   logger.2.name = org.opensaml\r\n   logger.2.level = INFO\r\n   ```","title":"Changing log4j .properties to log4j2 .properties","body":"<p>Your configuration seems alright.</p>\n<p>The <code>MaxBackupIndex</code> property is not gone, but it was moved to the <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#Rollover_Strategies\" rel=\"nofollow noreferrer\">rollover strategy</a>. You need to add to your appenders a <code>DefaultRolloverStrategy</code> with a <code>max</code> attribute:</p>\n<pre><code>appender.DEFAULT.strategy.type = DefaultRolloverStrategy\nappender.DEFAULT.strategy.max = 10\nappender.ERROR.strategy.type = DefaultRolloverStrategy\nappender.ERROR.strategy.max = 10\n</code></pre>\n<p>The remaining properties are filters. There are many equivalent ways to add filters to components (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html\" rel=\"nofollow noreferrer\">filters documentation</a>):</p>\n<ul>\n<li><p>the <code>log4j.threshold</code> property can be replaced by a global <code>ThresholdFilter</code>:</p>\n<pre><code>filter.1.type = ThresholdFilter\nfilter.1.level = INFO\n</code></pre>\n</li>\n<li><p>in the same way you can add a <code>Threshold</code> filter to the appenders, but that can be done more efficiently by setting the <code>level</code> property on the <code>AppenderRef</code>s:</p>\n<pre><code>rootLogger.appenderRef.ERROR.level = ERROR\n</code></pre>\n</li>\n<li><p>the <code>log4j.logger</code> prefix is used in Log4j 1.x to configure the loggers. In Log4j 2.x you can do it like:</p>\n<pre><code>logger.1.name = org.apache\nlogger.1.level = INFO\nlogger.2.name = org.opensaml\nlogger.2.level = INFO\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685442071,"creation_date":1685442071,"answer_id":76363821,"question_id":71269626,"body_markdown":"Not Exactly Related to this question, but if your are migrating from log4j to log4j2, i suggest reading my below stackoverflow answer.\r\nhttps://stackoverflow.com/a/76363764/2606228","title":"Changing log4j .properties to log4j2 .properties","body":"<p>Not Exactly Related to this question, but if your are migrating from log4j to log4j2, i suggest reading my below stackoverflow answer.\n<a href=\"https://stackoverflow.com/a/76363764/2606228\">https://stackoverflow.com/a/76363764/2606228</a></p>\n"}],"owner":{"account_id":7218356,"reputation":1,"user_id":18243533,"display_name":"SteirA "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685442071,"creation_date":1645810387,"question_id":71269626,"body_markdown":"    log4j.threshold=INFO\r\n    log4j.rootCategory=DEBUG, DEFAULT, ERROR\r\n    \r\n    log4j.appender.DEFAULT=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.DEFAULT.File=/logs/appname/${SERVER_NAME}/log.log\r\n    log4j.appender.DEFAULT.MaxFileSize=10MB\r\n    log4j.appender.DEFAULT.MaxBackupIndex=10\r\n    log4j.appender.DEFAULT.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.DEFAULT.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    \r\n    log4j.appender.ERROR=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.ERROR.maxFileSize=10MB\r\n    log4j.appender.ERROR.maxBackupIndex=10\r\n    log4j.appender.ERROR.File=/logs/appname/${SERVER_NAME}/logError.log\r\n    log4j.appender.ERROR.threshold=ERROR\r\n    log4j.appender.ERROR.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.ERROR.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    \r\n    log4j.logger.org.apache = INFO\r\n    log4j.logger.org.opensaml = INFO\r\n\r\nHello. Could you please help me with migrating my log4j properties to log4j2? The first snippet of code is the original .properties, the second one is my attempt to create log4j2 .properties. \r\n\r\n\r\n\r\n    appender.DEFAULT.type = RollingFile\r\n    appender.DEFAULT.name = fileLogger1\r\n    appender.DEFAULT.fileName= /logs/appname/${SERVER_NAME}/log.log\r\n    appender.DEFAULT.layout.type = PatternLayout\r\n    appender.DEFAULT.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    appender.DEFAULT.policies.type = Policies\r\n    appender.DEFAULT.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.DEFAULT.policies.size.size = 10MB\r\n    \r\n    appender.ERROR.type = RollingFile\r\n    appender.ERROR.name = fileLogger2\r\n    appender.ERROR.fileName= /logs/appname/${SERVER_NAME}/logError.log\r\n    appender.ERROR.layout.type = PatternLayout\r\n    appender.ERROR.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    appender.ERROR.policies.type = Policies\r\n    appender.ERROR.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.ERROR.policies.size.size = 10MB\r\n    \r\n    rootLogger.appenderRefs = DEFAULT, ERROR\r\n    rootLogger.appenderRef.DEFAULT.ref = fileLogger1\r\n    rootLogger.appenderRef.ERROR.ref = fileLogger2\r\n\r\nIs the second snippet correct? How should I implement the following lines in log4j2?\r\n\r\n    log4j.threshold=INFO \r\n    log4j.appender.ERROR.threshold=ERROR\r\n    log4j.appender.DEFAULT.MaxBackupIndex=10\r\n    log4j.appender.ERROR.maxBackupIndex=10\r\n    log4j.logger.org.apache = INFO\r\n    log4j.logger.org.opensaml = INFO","title":"Changing log4j .properties to log4j2 .properties","body":"<pre><code>log4j.threshold=INFO\nlog4j.rootCategory=DEBUG, DEFAULT, ERROR\n\nlog4j.appender.DEFAULT=org.apache.log4j.RollingFileAppender\nlog4j.appender.DEFAULT.File=/logs/appname/${SERVER_NAME}/log.log\nlog4j.appender.DEFAULT.MaxFileSize=10MB\nlog4j.appender.DEFAULT.MaxBackupIndex=10\nlog4j.appender.DEFAULT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.DEFAULT.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\n\nlog4j.appender.ERROR=org.apache.log4j.RollingFileAppender\nlog4j.appender.ERROR.maxFileSize=10MB\nlog4j.appender.ERROR.maxBackupIndex=10\nlog4j.appender.ERROR.File=/logs/appname/${SERVER_NAME}/logError.log\nlog4j.appender.ERROR.threshold=ERROR\nlog4j.appender.ERROR.layout=org.apache.log4j.PatternLayout\nlog4j.appender.ERROR.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\n\nlog4j.logger.org.apache = INFO\nlog4j.logger.org.opensaml = INFO\n</code></pre>\n<p>Hello. Could you please help me with migrating my log4j properties to log4j2? The first snippet of code is the original .properties, the second one is my attempt to create log4j2 .properties.</p>\n<pre><code>appender.DEFAULT.type = RollingFile\nappender.DEFAULT.name = fileLogger1\nappender.DEFAULT.fileName= /logs/appname/${SERVER_NAME}/log.log\nappender.DEFAULT.layout.type = PatternLayout\nappender.DEFAULT.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\nappender.DEFAULT.policies.type = Policies\nappender.DEFAULT.policies.size.type = SizeBasedTriggeringPolicy\nappender.DEFAULT.policies.size.size = 10MB\n\nappender.ERROR.type = RollingFile\nappender.ERROR.name = fileLogger2\nappender.ERROR.fileName= /logs/appname/${SERVER_NAME}/logError.log\nappender.ERROR.layout.type = PatternLayout\nappender.ERROR.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\nappender.ERROR.policies.type = Policies\nappender.ERROR.policies.size.type = SizeBasedTriggeringPolicy\nappender.ERROR.policies.size.size = 10MB\n\nrootLogger.appenderRefs = DEFAULT, ERROR\nrootLogger.appenderRef.DEFAULT.ref = fileLogger1\nrootLogger.appenderRef.ERROR.ref = fileLogger2\n</code></pre>\n<p>Is the second snippet correct? How should I implement the following lines in log4j2?</p>\n<pre><code>log4j.threshold=INFO \nlog4j.appender.ERROR.threshold=ERROR\nlog4j.appender.DEFAULT.MaxBackupIndex=10\nlog4j.appender.ERROR.maxBackupIndex=10\nlog4j.logger.org.apache = INFO\nlog4j.logger.org.opensaml = INFO\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","pojo"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685440273,"post_id":76363429,"comment_id":134656607,"body_markdown":"Your `StudentService` is not autowired, so the default value becomes `null` and that is causing the issue.","body":"Your <code>StudentService</code> is not autowired, so the default value becomes <code>null</code> and that is causing the issue."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685440563,"post_id":76363429,"comment_id":134656665,"body_markdown":"But IDE shows that the &quot;Field injection is not recommended&quot; while placing the @Autowired over the `StudentService stdService`","body":"But IDE shows that the &quot;Field injection is not recommended&quot; while placing the @Autowired over the <code>StudentService stdService</code>"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685440823,"post_id":76363429,"comment_id":134656722,"body_markdown":"In the logger message it clearly says that `because &quot;this.stdService&quot; is null`. You can debug and see in that line whether `stdService` is null or not.","body":"In the logger message it clearly says that <code>because &quot;this.stdService&quot; is null</code>. You can debug and see in that line whether <code>stdService</code> is null or not."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685440903,"post_id":76363429,"comment_id":134656745,"body_markdown":"Also refer the answer by @Nandish Chauhan","body":"Also refer the answer by @Nandish Chauhan"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685441589,"post_id":76363429,"comment_id":134656891,"body_markdown":"Yeah tried with that. still didn&#39;t work. And also updated that in my question","body":"Yeah tried with that. still didn&#39;t work. And also updated that in my question"}],"answers":[{"comments":[{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685440905,"post_id":76363656,"comment_id":134656746,"body_markdown":"Sorry this didn&#39;t work. Server stopped with error.","body":"Sorry this didn&#39;t work. Server stopped with error."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685440925,"post_id":76363656,"comment_id":134656751,"body_markdown":"`The dependencies of some of the beans in the application context form a cycle:\n\n┌──-&gt;──┐\n|  studentController defined in file [E:\\IntellijProjects\\UniversityMonolithicApp\\target\\classes\\com\\sarathUniversity\\controller\\StudentController.class]\n└──&lt;-──┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.`","body":"<code>The dependencies of some of the beans in the application context form a cycle:  ┌──-&gt;──┐ |  studentController defined in file [E:\\IntellijProjects\\UniversityMonolithicApp\\target\\classes\\&zwnj;&#8203;com\\sarathUniversity&zwnj;&#8203;\\controller\\StudentC&zwnj;&#8203;ontroller.class] └──&lt;-──┘   Action:  Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.</code>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1685441833,"post_id":76363656,"comment_id":134656948,"body_markdown":"@Sarath14Kumar it did work, but now you get another error, and the error message explains what&#39;s wrong. You have a cyclic dependency, which you need to fix. Does `StudentService` also have the controller as a dependency? It shouldn&#39;t have.","body":"@Sarath14Kumar it did work, but now you get another error, and the error message explains what&#39;s wrong. You have a cyclic dependency, which you need to fix. Does <code>StudentService</code> also have the controller as a dependency? It shouldn&#39;t have."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685442661,"post_id":76363656,"comment_id":134657132,"body_markdown":"Yes, this worked for me. Now  facing same problem in StudentService class. `java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.repository.AdressRepository.save(Object)&quot; because &quot;this.adressRepository&quot;` Should I do the same here?","body":"Yes, this worked for me. Now  facing same problem in StudentService class. <code>java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.repository.AdressRepository.save(Objec&zwnj;&#8203;t)&quot; because &quot;this.adressRepository&quot;</code> Should I do the same here?"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685442697,"post_id":76363656,"comment_id":134657141,"body_markdown":"`addrs = adressRepository.save(addrs);`   in this line","body":"<code>addrs = adressRepository.save(addrs);</code>   in this line"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685442923,"post_id":76363656,"comment_id":134657183,"body_markdown":"Why should I do this way when @AutoWired is available. May I know","body":"Why should I do this way when @AutoWired is available. May I know"},{"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1685445406,"post_id":76363656,"comment_id":134657716,"body_markdown":"See https://stackoverflow.com/q/40620000/2039546","body":"See <a href=\"https://stackoverflow.com/q/40620000/2039546\">stackoverflow.com/q/40620000/2039546</a>"}],"tags":[],"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685442041,"creation_date":1685440632,"answer_id":76363656,"question_id":76363429,"body_markdown":"You are not using [Dependency Injection (DI)](https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html). There are several ways to do this injection in Spring architecture. \r\n\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/student&quot;)\r\npublic class StudentController extends CreateStudentRequest\r\n{\r\n    private final StudentService stdService;\r\n\r\n    // a constructor so that the Spring container can inject a StudentService.\r\n    public StudentController(StudentService stdService) {\r\n        this.stdService = stdService;\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nAdditionally, \r\n* You don&#39;t need to `extends CreateStudentRequest` in your [StudentController](https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java) class.\r\n* You need to add `@Service` annotation to your [StudentService](https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/service/StudentService.java) class.\r\n\r\nI forked your code and here is the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fdzzy.png","title":"NullPointerException Repository in Spring controller class","body":"<p>You are not using <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html\" rel=\"nofollow noreferrer\">Dependency Injection (DI)</a>. There are several ways to do this injection in Spring architecture.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/student&quot;)\npublic class StudentController extends CreateStudentRequest\n{\n    private final StudentService stdService;\n\n    // a constructor so that the Spring container can inject a StudentService.\n    public StudentController(StudentService stdService) {\n        this.stdService = stdService;\n    }\n\n    // ...\n}\n</code></pre>\n<p>Additionally,</p>\n<ul>\n<li>You don't need to <code>extends CreateStudentRequest</code> in your <a href=\"https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java\" rel=\"nofollow noreferrer\">StudentController</a> class.</li>\n<li>You need to add <code>@Service</code> annotation to your <a href=\"https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/service/StudentService.java\" rel=\"nofollow noreferrer\">StudentService</a> class.</li>\n</ul>\n<p>I forked your code and here is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/fdzzy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdzzy.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685441531,"post_id":76363673,"comment_id":134656877,"body_markdown":"Tried with your opinion, but didn&#39;t work. Updated the question now with your.","body":"Tried with your opinion, but didn&#39;t work. Updated the question now with your."},{"owner":{"account_id":28368661,"reputation":86,"user_id":21697614,"display_name":"Nandish Chauhan "},"score":0,"creation_date":1685442471,"post_id":76363673,"comment_id":134657089,"body_markdown":"you are extending CreateStudentRequest from StudentService and also extending StudentController from CreateStudentRequest and then Auto wiring StudentService. it does not work like that spring boot I don&#39;t know why you are extending CreateStudentRequest from StudentService, also you need to Annotate your repository with @Repository and auto-wire them in service.","body":"you are extending CreateStudentRequest from StudentService and also extending StudentController from CreateStudentRequest and then Auto wiring StudentService. it does not work like that spring boot I don&#39;t know why you are extending CreateStudentRequest from StudentService, also you need to Annotate your repository with @Repository and auto-wire them in service."}],"tags":[],"owner":{"account_id":28368661,"reputation":86,"user_id":21697614,"display_name":"Nandish Chauhan "},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685440776,"creation_date":1685440758,"answer_id":76363673,"question_id":76363429,"body_markdown":"\r\nThere may be two issues here\r\n1) you need to annotate StudentService with @Service annotation\r\n2) you need to annotate stdService object with @Autowired annotation.\r\nFirst try this and then only we can debug further","title":"NullPointerException Repository in Spring controller class","body":"<p>There may be two issues here</p>\n<ol>\n<li>you need to annotate StudentService with @Service annotation</li>\n<li>you need to annotate stdService object with @Autowired annotation.\nFirst try this and then only we can debug further</li>\n</ol>\n"}],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685440869,"accepted_answer_id":76363656,"answer_count":2,"score":0,"last_activity_date":1685442041,"creation_date":1685438921,"question_id":76363429,"body_markdown":"I&#39;m getting NullPointerException in the bellow code at controller itself. Before going to service class. I couldn&#39;t find where I go wrong. As I&#39;m new to spring.\r\n\r\n\r\n\r\n`java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null`\r\n\r\n\r\n    2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-05-30T13:13:08.198+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2023-05-30T13:22:44.633+05:30  WARN 11192 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m44s455ms305&#181;s600ns).\r\n    2023-05-30T13:22:55.734+05:30 ERROR 11192 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null] with root cause\r\n    \r\n    java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null\r\n    \tat com.sarathUniversity.controller.StudentController.createStudent(StudentController.java:17) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\r\nIn the bellow picture you can see the debug values. In that the\r\n\r\n    StudentRepository = null\r\n    AdressRepository = null\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPassing the body content in post method and also I can see those in debug console.\r\n\r\n`http://localhost:8080/api/student/create`\r\n\r\n    {\r\n      &quot;firstName&quot;:&quot;sarathdaa&quot;,\r\n      &quot;lastName&quot;: &quot;Kumarda&quot;,\r\n      &quot;email&quot;: &quot;silver@sarath.com&quot;,\r\n      &quot;street&quot;: &quot;Pall,Tvk,256&quot;,\r\n      &quot;city&quot;: &quot;chennai&quot;\r\n    }\r\n\r\n**UPDATE**\r\nTried @Autowired over StudentService\r\n@Service over StudentService class\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nShared the source link bellow.\r\n\r\nhttps://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java#L17\r\n\r\n\r\nPlease help me to rectify this. Thanks in advance. If more detail needed, please comment bellow.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qmxbi.png\r\n  [2]: https://i.stack.imgur.com/BQ2VG.png\r\n  [3]: https://i.stack.imgur.com/PKbD5.png\r\n  [4]: https://i.stack.imgur.com/du7i1.png","title":"NullPointerException Repository in Spring controller class","body":"<p>I'm getting NullPointerException in the bellow code at controller itself. Before going to service class. I couldn't find where I go wrong. As I'm new to spring.</p>\n<p><code>java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null</code></p>\n<pre><code>2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-05-30T13:13:08.198+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-05-30T13:22:44.633+05:30  WARN 11192 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m44s455ms305µs600ns).\n2023-05-30T13:22:55.734+05:30 ERROR 11192 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null\n    at com.sarathUniversity.controller.StudentController.createStudent(StudentController.java:17) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\n</code></pre>\n<p>In the bellow picture you can see the debug values. In that the</p>\n<pre><code>StudentRepository = null\nAdressRepository = null\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qmxbi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qmxbi.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BQ2VG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQ2VG.png\" alt=\"enter image description here\" /></a></p>\n<p>Passing the body content in post method and also I can see those in debug console.</p>\n<p><code>http://localhost:8080/api/student/create</code></p>\n<pre><code>{\n  &quot;firstName&quot;:&quot;sarathdaa&quot;,\n  &quot;lastName&quot;: &quot;Kumarda&quot;,\n  &quot;email&quot;: &quot;silver@sarath.com&quot;,\n  &quot;street&quot;: &quot;Pall,Tvk,256&quot;,\n  &quot;city&quot;: &quot;chennai&quot;\n}\n</code></pre>\n<p><strong>UPDATE</strong>\nTried @Autowired over StudentService\n@Service over StudentService class\n<a href=\"https://i.stack.imgur.com/PKbD5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKbD5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/du7i1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/du7i1.png\" alt=\"enter image description here\" /></a></p>\n<p>Shared the source link bellow.</p>\n<p><a href=\"https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java#L17\" rel=\"nofollow noreferrer\">https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java#L17</a></p>\n<p>Please help me to rectify this. Thanks in advance. If more detail needed, please comment bellow.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":13702764,"reputation":113,"user_id":9887329,"display_name":"Chhaganlaal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685442034,"creation_date":1685441696,"question_id":76363784,"body_markdown":"I understand this question has been asked A LOT. But my case is a bit different.\\\r\nI am getting the error `Found shared references to a collection: ClassB.classA` intermittently and whenever I get this, a simple service restart fixes the issue most of the times.\r\n\r\nNo setter calls are ever made to ClassB.classA from the service methods and the only time I believe a setter is called is by Hibernate itself while retrieving the entities from the database.\r\n\r\nThe entities are defined as -\r\n\r\nClassA\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;tableA&quot;)\r\n@IdClass(ClassAId.class)\r\npublic class ClassA {\r\n\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false)\r\n  private String id;\r\n\r\n  @Column(name = &quot;refId&quot;)\r\n  private int refId;\r\n\r\n  @Column(name = &quot;someprop&quot;)\r\n  private String someProp;\r\n}\r\n```\r\n\r\nClass B\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;tableB&quot;)\r\n@IdClass(ClassBId.class)\r\npublic class ClassB {\r\n\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n  private int id;\r\n\r\n  @OneToMany(fetch = FetchType.Eager, targetEntity = TaxHours.class) \r\n  @JoinColumn(name = &quot;refId&quot;, referencedColumn = &quot;id&quot;, insertable = false, updatable = false)\r\n  @Where(clause = &quot;someprop NOT IN (...)&quot;)\r\n  @Fetch(FetchMode.SELECT)\r\n  @BatchSize(size = 100)\r\n  @NotFound(action = NotFoundAction.IGNORE)\r\n  private List&lt;ClassA&gt; classAList;\r\n}\r\n```\r\nDAO implementation\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic interface ClassBRepository extends JpaRepository&lt;ClassB, ClassBId&gt; {\r\n  @Query(&quot;SELECT b &quot;\r\n      + &quot;FROM ClassB b &quot;\r\n      + &quot;WHERE b.id in ?1&quot;)\r\n  List&lt;ClassB&gt; findAllById(List&lt;Integer&gt; classBIdList&gt;\r\n}\r\n```\r\nService implementation\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic void updateClassB(List&lt;Integer&gt; idList) {\r\n  List&lt;ClassB&gt; classBList = classBRepository.findAllById(idList);\r\n\r\n  /**\r\n  Make some updates to the properties of the above list items,\r\n  without ever touching classA list in the entities.\r\n  **/\r\n\r\n  classBRepository.saveAll(classBList);\r\n}\r\n```\r\n\r\nOne thing I have noticed is that I get this error only when the classAList property of ClassB comes out to be empty.\r\n\r\nspring-boot version: 2.5.12\\\r\nspring-data-jpa version: 2.5.10\\\r\nhibernate-envers version: 5.6.7.Final\\\r\nhibernate-jpamodelgen version: 5.6.7.Final\\\r\nhibernate-jpamodelgen version (annotationProcessor): 5.6.7.Final","title":"Intermittently getting HibernateException: Found shared references to a collection","body":"<p>I understand this question has been asked A LOT. But my case is a bit different.<br />\nI am getting the error <code>Found shared references to a collection: ClassB.classA</code> intermittently and whenever I get this, a simple service restart fixes the issue most of the times.</p>\n<p>No setter calls are ever made to ClassB.classA from the service methods and the only time I believe a setter is called is by Hibernate itself while retrieving the entities from the database.</p>\n<p>The entities are defined as -</p>\n<p>ClassA</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Table(name = &quot;tableA&quot;)\n@IdClass(ClassAId.class)\npublic class ClassA {\n\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  private String id;\n\n  @Column(name = &quot;refId&quot;)\n  private int refId;\n\n  @Column(name = &quot;someprop&quot;)\n  private String someProp;\n}\n</code></pre>\n<p>Class B</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Table(name = &quot;tableB&quot;)\n@IdClass(ClassBId.class)\npublic class ClassB {\n\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n  private int id;\n\n  @OneToMany(fetch = FetchType.Eager, targetEntity = TaxHours.class) \n  @JoinColumn(name = &quot;refId&quot;, referencedColumn = &quot;id&quot;, insertable = false, updatable = false)\n  @Where(clause = &quot;someprop NOT IN (...)&quot;)\n  @Fetch(FetchMode.SELECT)\n  @BatchSize(size = 100)\n  @NotFound(action = NotFoundAction.IGNORE)\n  private List&lt;ClassA&gt; classAList;\n}\n</code></pre>\n<p>DAO implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ClassBRepository extends JpaRepository&lt;ClassB, ClassBId&gt; {\n  @Query(&quot;SELECT b &quot;\n      + &quot;FROM ClassB b &quot;\n      + &quot;WHERE b.id in ?1&quot;)\n  List&lt;ClassB&gt; findAllById(List&lt;Integer&gt; classBIdList&gt;\n}\n</code></pre>\n<p>Service implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void updateClassB(List&lt;Integer&gt; idList) {\n  List&lt;ClassB&gt; classBList = classBRepository.findAllById(idList);\n\n  /**\n  Make some updates to the properties of the above list items,\n  without ever touching classA list in the entities.\n  **/\n\n  classBRepository.saveAll(classBList);\n}\n</code></pre>\n<p>One thing I have noticed is that I get this error only when the classAList property of ClassB comes out to be empty.</p>\n<p>spring-boot version: 2.5.12<br />\nspring-data-jpa version: 2.5.10<br />\nhibernate-envers version: 5.6.7.Final<br />\nhibernate-jpamodelgen version: 5.6.7.Final<br />\nhibernate-jpamodelgen version (annotationProcessor): 5.6.7.Final</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":7293087,"reputation":556,"user_id":5687130,"accept_rate":67,"display_name":"Iwavenice"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1457551360,"creation_date":1457551360,"answer_id":35900748,"question_id":35900555,"body_markdown":"Log4j2 supports .properties files but they have changed property syntax. You can check their [manual here][1] it covers all you need to create new configuration.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.0/manual/configuration.html#Properties","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>Log4j2 supports .properties files but they have changed property syntax. You can check their <a href=\"https://logging.apache.org/log4j/2.0/manual/configuration.html#Properties\" rel=\"nofollow\">manual here</a> it covers all you need to create new configuration.</p>\n"},{"comments":[{"owner":{"account_id":5648677,"reputation":1257,"user_id":4469988,"accept_rate":100,"display_name":"Raju Guduri"},"score":2,"creation_date":1457552416,"post_id":35900831,"comment_id":59462545,"body_markdown":"again this is log4j not log4j2. I need log4j2 configuration in properties file.","body":"again this is log4j not log4j2. I need log4j2 configuration in properties file."}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1457551601,"creation_date":1457551601,"answer_id":35900831,"question_id":35900555,"body_markdown":"You can use this wonderful frontend web to convert you properties to a XML\nhttp://log4j-props2xml.appspot.com/\n\n# Resulting:\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\n        &lt;appender name=&quot;R&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\n            &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\n            &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;.&#39;yyyy-MM-dd&quot;/&gt;\n            &lt;param name=&quot;File&quot; value=&quot;/trace.log&quot;/&gt;\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n                &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{HH:mm:ss} %c{1} [%p] %m%n&quot;/&gt;\n            &lt;/layout&gt;\n        &lt;/appender&gt;\n        &lt;root&gt;\n            &lt;level value=&quot;INFO&quot;/&gt;\n            &lt;appender-ref ref=&quot;R&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/log4j:configuration&gt;\n\n---------\n","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>You can use this wonderful frontend web to convert you properties to a XML\n<a href=\"http://log4j-props2xml.appspot.com/\" rel=\"nofollow noreferrer\">http://log4j-props2xml.appspot.com/</a></p>\n<h1>Resulting:</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\n    &lt;appender name=&quot;R&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\n        &lt;param name=&quot;DatePattern&quot; value=&quot;'.'yyyy-MM-dd&quot;/&gt;\n        &lt;param name=&quot;File&quot; value=&quot;/trace.log&quot;/&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{HH:mm:ss} %c{1} [%p] %m%n&quot;/&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;root&gt;\n        &lt;level value=&quot;INFO&quot;/&gt;\n        &lt;appender-ref ref=&quot;R&quot;/&gt;\n    &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n<hr />\n"},{"tags":[],"owner":{"account_id":5648677,"reputation":1257,"user_id":4469988,"accept_rate":100,"display_name":"Raju Guduri"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1612185774,"creation_date":1474895637,"answer_id":39703897,"question_id":35900555,"body_markdown":"Here is what I constructed after going through the documentation and worked.\r\n\r\n    rootLogger.level = INFO\r\n    property.filename = trace.log\r\n    appenders = R, console\r\n\r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %d %5p [%t] (%F:%L) - %m%n\r\n\r\n    appender.R.type = RollingFile\r\n    appender.R.name = File\r\n    appender.R.fileName = ${filename}\r\n    appender.R.filePattern = ${filename}.%d{yyyy-MM-dd}\r\n    appender.R.layout.type = PatternLayout\r\n    appender.R.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %c{1} [%p] %m%n\r\n    appender.R.policies.type = Policies\r\n    appender.R.policies.time.type = TimeBasedTriggeringPolicy\r\n    appender.R.policies.time.interval = 1\r\n\r\n    rootLogger.appenderRefs = R, console\r\n\r\n    rootLogger.appenderRef.console.ref = STDOUT\r\n    rootLogger.appenderRef.R.ref = File\r\n","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>Here is what I constructed after going through the documentation and worked.</p>\n<pre><code>rootLogger.level = INFO\nproperty.filename = trace.log\nappenders = R, console\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d %5p [%t] (%F:%L) - %m%n\n\nappender.R.type = RollingFile\nappender.R.name = File\nappender.R.fileName = ${filename}\nappender.R.filePattern = ${filename}.%d{yyyy-MM-dd}\nappender.R.layout.type = PatternLayout\nappender.R.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %c{1} [%p] %m%n\nappender.R.policies.type = Policies\nappender.R.policies.time.type = TimeBasedTriggeringPolicy\nappender.R.policies.time.interval = 1\n\nrootLogger.appenderRefs = R, console\n\nrootLogger.appenderRef.console.ref = STDOUT\nrootLogger.appenderRef.R.ref = File\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323554,"reputation":1357,"user_id":643634,"accept_rate":58,"display_name":"Navin Israni"},"comment_count":0,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1498498143,"creation_date":1498498143,"answer_id":44765288,"question_id":35900555,"body_markdown":"You can use this to convert from Log4J.properties (v1.2) to log4j2.xml as below:\r\n\r\n1) Convert from v1.2 properties to v1.2XML using this converter: https://log4j-props2xml.appspot.com/\r\n\r\n2) Convert from v1.2 XML to v2.0 XML (i.e. Log4j2.xml) using the procedure provided on this link: https://logging.apache.org/log4j/2.x/manual/migration.html","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>You can use this to convert from Log4J.properties (v1.2) to log4j2.xml as below:</p>\n\n<p>1) Convert from v1.2 properties to v1.2XML using this converter: <a href=\"https://log4j-props2xml.appspot.com/\" rel=\"noreferrer\">https://log4j-props2xml.appspot.com/</a></p>\n\n<p>2) Convert from v1.2 XML to v2.0 XML (i.e. Log4j2.xml) using the procedure provided on this link: <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n"},{"tags":[],"owner":{"account_id":14994612,"reputation":156,"user_id":10824437,"display_name":"Artem Krosheninnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578558197,"creation_date":1578558197,"answer_id":59659770,"question_id":35900555,"body_markdown":"I know it&#39;s an old issue but for the sake of history:\r\n\r\nSince Log4j2 2.13.0 there is an ***experimental*** feature for Log4j 1 configuration files:\r\nhttp://logging.apache.org/log4j/2.x/manual/compatibility.html\r\n\r\nRelated JIRA issue:\r\nhttps://issues.apache.org/jira/browse/LOG4J2-63","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>I know it's an old issue but for the sake of history:</p>\n\n<p>Since Log4j2 2.13.0 there is an <strong><em>experimental</em></strong> feature for Log4j 1 configuration files:\n<a href=\"http://logging.apache.org/log4j/2.x/manual/compatibility.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/compatibility.html</a></p>\n\n<p>Related JIRA issue:\n<a href=\"https://issues.apache.org/jira/browse/LOG4J2-63\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-63</a></p>\n"}],"owner":{"account_id":5648677,"reputation":1257,"user_id":4469988,"accept_rate":100,"display_name":"Raju Guduri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66215,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":39703897,"answer_count":5,"score":28,"last_activity_date":1685441784,"creation_date":1457550746,"question_id":35900555,"body_markdown":"I have a Java application which is using **log4j** configured as below.\r\n\r\nlog4j.properties:\r\n\r\n    \r\n    log4j.rootLogger=INFO, R\r\n    log4j.appender.R = org.apache.log4j.DailyRollingFileAppender\r\n    log4j.appender.R.File = /trace.log\r\n    log4j.appender.R.Append = true\r\n    log4j.appender.R.DatePattern = &#39;.&#39;yyyy-MM-dd\r\n    log4j.appender.R.layout = org.apache.log4j.PatternLayout\r\n    log4j.appender.R.layout.ConversionPattern = %d{HH:mm:ss} %c{1} [%p] %m%n\r\n\r\nI would like to migrate to log4j2 with the same configuration as above. Haven&#39;t found anything related to log4j2 properties configuration file as this support recently included.\r\n\r\nHow would be my **log4j2.properties** file with the same configuration above ?\r\n","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>I have a Java application which is using <strong>log4j</strong> configured as below.</p>\n<p>log4j.properties:</p>\n<pre><code>log4j.rootLogger=INFO, R\nlog4j.appender.R = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.R.File = /trace.log\nlog4j.appender.R.Append = true\nlog4j.appender.R.DatePattern = '.'yyyy-MM-dd\nlog4j.appender.R.layout = org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern = %d{HH:mm:ss} %c{1} [%p] %m%n\n</code></pre>\n<p>I would like to migrate to log4j2 with the same configuration as above. Haven't found anything related to log4j2 properties configuration file as this support recently included.</p>\n<p>How would be my <strong>log4j2.properties</strong> file with the same configuration above ?</p>\n"},{"tags":["java","incompatibletypeerror"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685377527,"post_id":76358751,"comment_id":134648537,"body_markdown":"`monthNumber` is an `int` type which cannot accept `String` type. You can declare a new `String` variable and assign the return of the `determineNameofMonth` method to it.","body":"<code>monthNumber</code> is an <code>int</code> type which cannot accept <code>String</code> type. You can declare a new <code>String</code> variable and assign the return of the <code>determineNameofMonth</code> method to it."}],"answers":[{"comments":[{"owner":{"account_id":28703750,"reputation":13,"user_id":21980468,"display_name":"MasterSteve"},"score":0,"creation_date":1685376518,"post_id":76358780,"comment_id":134648395,"body_markdown":"Hi Thanks for that quick answer. But now it says two things: 1. &quot;Variable &#39;monthNumber&#39; is already defined in the scope:15                                                                                 2. &quot;Variable &#39;monthNumber&#39; might not have been initialzed:15&quot;","body":"Hi Thanks for that quick answer. But now it says two things: 1. &quot;Variable &#39;monthNumber&#39; is already defined in the scope:15                                                                                 2. &quot;Variable &#39;monthNumber&#39; might not have been initialzed:15&quot;"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1685381101,"post_id":76358780,"comment_id":134649076,"body_markdown":"If you typed what I said ... `String monthName` ... you can&#39;t get the errors you say you got.","body":"If you typed what I said ... <code>String monthName</code> ... you can&#39;t get the errors you say you got."}],"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685376253,"creation_date":1685376253,"answer_id":76358780,"question_id":76358751,"body_markdown":"     monthNumber = determineNameofMonth(monthNumber);\r\n\r\nPer its declaration and intent, determineNameofMonth returns a String. Here you attempt to assign to an integer; the error message is telling you that an integer variable requires an integer value.\r\n\r\nUse something like:\r\n\r\n     String monthName = determineNameofMonth(monthNumber);\r\n\r\n(I assume you&#39;ll then want to write code to print out monthName, otherwise you&#39;re doing nothing with the result of the computation).\r\n","title":"How to fix &#39;Incompatible types&#39; error when converting String to int in Java?","body":"<pre><code> monthNumber = determineNameofMonth(monthNumber);\n</code></pre>\n<p>Per its declaration and intent, determineNameofMonth returns a String. Here you attempt to assign to an integer; the error message is telling you that an integer variable requires an integer value.</p>\n<p>Use something like:</p>\n<pre><code> String monthName = determineNameofMonth(monthNumber);\n</code></pre>\n<p>(I assume you'll then want to write code to print out monthName, otherwise you're doing nothing with the result of the computation).</p>\n"},{"comments":[{"owner":{"account_id":28703750,"reputation":13,"user_id":21980468,"display_name":"MasterSteve"},"score":0,"creation_date":1685377654,"post_id":76358795,"comment_id":134648556,"body_markdown":"Hi, thx for the fast help but maybe i should have added some more information. The Task is to work with a switch method  as private static in the main class. So i cant do it like you kindly provided me the code. it now gives me the error: &quot;Variable &#39;monthNumber&#39; is already defined in the scope&quot; and &quot;Variable &#39;monthNumber&#39; might not have been initialized&quot;","body":"Hi, thx for the fast help but maybe i should have added some more information. The Task is to work with a switch method  as private static in the main class. So i cant do it like you kindly provided me the code. it now gives me the error: &quot;Variable &#39;monthNumber&#39; is already defined in the scope&quot; and &quot;Variable &#39;monthNumber&#39; might not have been initialized&quot;"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685394437,"post_id":76358795,"comment_id":134650929,"body_markdown":"Stop trying to call a variable that holds the __name__ of a thing &#39;monthNumber&#39;. Variable names shouldn&#39;t lie. My second snippet, `String monthName = ...;`, that&#39;s what you need to be doing.","body":"Stop trying to call a variable that holds the <b>name</b> of a thing &#39;monthNumber&#39;. Variable names shouldn&#39;t lie. My second snippet, <code>String monthName = ...;</code>, that&#39;s what you need to be doing."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685376384,"creation_date":1685376384,"answer_id":76358795,"question_id":76358751,"body_markdown":"&gt; ```\r\n&gt; int monthNumber = scanner.nextInt();\r\n&gt; monthNumber = determineNameofMonth(monthNumber);\r\n&gt; ```\r\n\r\n`monthNumber` is a variable. It has been declared to be of type `int` - and that is for the lifetime of that variable (you can&#39;t &#39;re-type&#39; a variable in java). That means `monthNumber` is guaranteed to never hold anything that isn&#39;t an `int` value, and the compiler will refuse to compile code unless it can be 100% certain that rule holds.\r\n\r\n`determineNameofMonth(monthNumber)` is of type `String`, because the method `determineNameofMonth` has been declared as such. `String` is not an int, so, you can&#39;t do this.\r\n\r\nPresumably you want:\r\n\r\n```\r\nString monthName = determineNameofMonth(monthNumber);\r\n```\r\n\r\ni.e. make a new variable. The name `monthNumber` shouldn&#39;t hold a _name_ - then the variable is misnamed.\r\n\r\nNote that you don&#39;t need to do this stuff, java already has `Month`:\r\n\r\n```\r\nimport java.time.Month;\r\n\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Type Number for name of month&quot;);\r\n    int monthNumber = scanner.nextInt();\r\n    Month m = Month.of(monthNumber);\r\n    System.out.println(&quot;You chose: &quot; + m);\r\n}\r\n```\r\n","title":"How to fix &#39;Incompatible types&#39; error when converting String to int in Java?","body":"<blockquote>\n<pre><code>int monthNumber = scanner.nextInt();\nmonthNumber = determineNameofMonth(monthNumber);\n</code></pre>\n</blockquote>\n<p><code>monthNumber</code> is a variable. It has been declared to be of type <code>int</code> - and that is for the lifetime of that variable (you can't 're-type' a variable in java). That means <code>monthNumber</code> is guaranteed to never hold anything that isn't an <code>int</code> value, and the compiler will refuse to compile code unless it can be 100% certain that rule holds.</p>\n<p><code>determineNameofMonth(monthNumber)</code> is of type <code>String</code>, because the method <code>determineNameofMonth</code> has been declared as such. <code>String</code> is not an int, so, you can't do this.</p>\n<p>Presumably you want:</p>\n<pre><code>String monthName = determineNameofMonth(monthNumber);\n</code></pre>\n<p>i.e. make a new variable. The name <code>monthNumber</code> shouldn't hold a <em>name</em> - then the variable is misnamed.</p>\n<p>Note that you don't need to do this stuff, java already has <code>Month</code>:</p>\n<pre><code>import java.time.Month;\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Type Number for name of month&quot;);\n    int monthNumber = scanner.nextInt();\n    Month m = Month.of(monthNumber);\n    System.out.println(&quot;You chose: &quot; + m);\n}\n</code></pre>\n"}],"owner":{"account_id":28703750,"reputation":13,"user_id":21980468,"display_name":"MasterSteve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1685474333,"answer_count":2,"score":-2,"last_activity_date":1685441781,"creation_date":1685375948,"question_id":76358751,"body_markdown":"I&#39;m teaching myself java and I came across this error. I&#39;m trying to enter a number of a month and I have to use a switch case to return the &quot;answer&quot;. I get the follow error:\r\n\r\n```java\r\npackage javauebung5;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Type Number for name of month&quot;);\r\n        int monthNumber = scanner.nextInt();\r\n\r\n        monthNumber = determineNameofMonth(monthNumber);\r\n    }\r\n\r\n    private static String determineNameofMonth(int monthNumber) {\r\n        switch (monthNumber) {\r\n            case 1: return &quot;January&quot;;\r\n\r\n            case 2: return &quot;February&quot;;\r\n\r\n            case 3: return &quot;March&quot;;\r\n\r\n            case 4: return &quot;April&quot;;\r\n\r\n            case 5: return &quot;May&quot;;\r\n\r\n            case 6: return &quot;June&quot;;\r\n\r\n            case 7: return &quot;July&quot;;\r\n\r\n            case 8: return &quot;August&quot;;\r\n\r\n            case 9: return &quot;September&quot;;\r\n\r\n            case 10: return &quot;October&quot;;\r\n\r\n            case 11: return &quot;November&quot;;\r\n\r\n            case 12: return &quot;December&quot;;\r\n\r\n        }\r\n        return &quot;Invalid Month&quot;;\r\n    }\r\n}\r\n```\r\nThis is the error:\r\n&gt; Incompatible types. Found: &#39;java.lang.String&#39;, required: &#39;int&#39;\r\n","title":"How to fix &#39;Incompatible types&#39; error when converting String to int in Java?","body":"<p>I'm teaching myself java and I came across this error. I'm trying to enter a number of a month and I have to use a switch case to return the &quot;answer&quot;. I get the follow error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package javauebung5;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Type Number for name of month&quot;);\n        int monthNumber = scanner.nextInt();\n\n        monthNumber = determineNameofMonth(monthNumber);\n    }\n\n    private static String determineNameofMonth(int monthNumber) {\n        switch (monthNumber) {\n            case 1: return &quot;January&quot;;\n\n            case 2: return &quot;February&quot;;\n\n            case 3: return &quot;March&quot;;\n\n            case 4: return &quot;April&quot;;\n\n            case 5: return &quot;May&quot;;\n\n            case 6: return &quot;June&quot;;\n\n            case 7: return &quot;July&quot;;\n\n            case 8: return &quot;August&quot;;\n\n            case 9: return &quot;September&quot;;\n\n            case 10: return &quot;October&quot;;\n\n            case 11: return &quot;November&quot;;\n\n            case 12: return &quot;December&quot;;\n\n        }\n        return &quot;Invalid Month&quot;;\n    }\n}\n</code></pre>\n<p>This is the error:</p>\n<blockquote>\n<p>Incompatible types. Found: 'java.lang.String', required: 'int'</p>\n</blockquote>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2056111,"reputation":386,"user_id":1833824,"display_name":"Markus Wilke"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1353256242,"creation_date":1353256242,"answer_id":13442060,"question_id":13438871,"body_markdown":"I had the same problem. After adding also **log4j-core-2.0-beta3.jar** to the classpath it worked.","title":"Log4j2 - configuring","body":"<p>I had the same problem. After adding also <strong>log4j-core-2.0-beta3.jar</strong> to the classpath it worked.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1428583086,"creation_date":1408435153,"answer_id":25378336,"question_id":13438871,"body_markdown":"In **Maven** you normally have this logging configuration:\r\n\r\n\t&lt;properties&gt;\t\r\n\t\t&lt;slf4j-version&gt;1.7.7&lt;/slf4j-version&gt;\r\n\t\t&lt;slf4j-log4j2-version&gt;2.0.1&lt;/slf4j-log4j2-version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${slf4j-version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${slf4j-log4j2-version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nTo add the log core lib you have to:\r\n\r\n1. Add the &lt;log4j2-version&gt;2.0.1&lt;/log4j2-version&gt; to the properties section\r\n2. Add the log core dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j2-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Log4j2 - configuring","body":"<p>In <strong>Maven</strong> you normally have this logging configuration:</p>\n\n<pre><code>&lt;properties&gt;    \n    &lt;slf4j-version&gt;1.7.7&lt;/slf4j-version&gt;\n    &lt;slf4j-log4j2-version&gt;2.0.1&lt;/slf4j-log4j2-version&gt;\n&lt;/properties&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${slf4j-version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;version&gt;${slf4j-log4j2-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>To add the log core lib you have to:</p>\n\n<ol>\n<li>Add the 2.0.1 to the properties section</li>\n<li><p>Add the log core dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;${log4j2-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479600922,"creation_date":1409630096,"answer_id":25615586,"question_id":13438871,"body_markdown":"![New icon](http://i.stack.imgur.com/OqmBc.gif) Updated to the version 2.7\r\n\r\nAdd the next jars to your project:\r\n\r\n- [`log4j-api-2.7.jar`][1]\r\n- [`log4j-core-2.7.jar`][2]\r\n\r\nIf you are using Maven, add the dependency:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-api/2.7/log4j-api-2.7.jar\r\n  [2]: http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-core/2.7/log4j-core-2.7.jar","title":"Log4j2 - configuring","body":"<p><img src=\"https://i.stack.imgur.com/OqmBc.gif\" alt=\"New icon\"> Updated to the version 2.7</p>\n\n<p>Add the next jars to your project:</p>\n\n<ul>\n<li><a href=\"http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-api/2.7/log4j-api-2.7.jar\" rel=\"noreferrer\"><code>log4j-api-2.7.jar</code></a></li>\n<li><a href=\"http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-core/2.7/log4j-core-2.7.jar\" rel=\"noreferrer\"><code>log4j-core-2.7.jar</code></a></li>\n</ul>\n\n<p>If you are using Maven, add the dependency:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11675282,"reputation":188,"user_id":8549049,"display_name":"Wei Kleeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504795936,"creation_date":1504795936,"answer_id":46099427,"question_id":13438871,"body_markdown":"I use log4j2.8.2 and I let it auto config successfully by putting log4j2.xml in the web classes folder (WEB-INF/classes/log4j2.xml)","title":"Log4j2 - configuring","body":"<p>I use log4j2.8.2 and I let it auto config successfully by putting log4j2.xml in the web classes folder (WEB-INF/classes/log4j2.xml)</p>\n"},{"tags":[],"owner":{"account_id":10228822,"reputation":67,"user_id":7550371,"display_name":"Shajitha Begum K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643087943,"creation_date":1643087943,"answer_id":70843760,"question_id":13438871,"body_markdown":"If it&#39;s maven project, you have to add the below dependency,\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.17.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.17.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd the log4j2.xml or log4j2.properties file should be under src/main/resources folder. In that case you don&#39;t need to explicitly add folder or jars in classpath. It should do the trick.","title":"Log4j2 - configuring","body":"<p>If it's maven project, you have to add the below dependency,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And the log4j2.xml or log4j2.properties file should be under src/main/resources folder. In that case you don't need to explicitly add folder or jars in classpath. It should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685441754,"creation_date":1685441754,"answer_id":76363791,"question_id":13438871,"body_markdown":"Not Related to this question, but if your are migrating from log4j to log4j2, i suggest on reading my below stackoverflow answer.\r\nhttps://stackoverflow.com/a/76363764/2606228","title":"Log4j2 - configuring","body":"<p>Not Related to this question, but if your are migrating from log4j to log4j2, i suggest on reading my below stackoverflow answer.\n<a href=\"https://stackoverflow.com/a/76363764/2606228\">https://stackoverflow.com/a/76363764/2606228</a></p>\n"}],"owner":{"account_id":87000,"reputation":9338,"user_id":241552,"accept_rate":70,"display_name":"Ibolit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49158,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":13442060,"answer_count":6,"score":31,"last_activity_date":1685441754,"creation_date":1353230123,"question_id":13438871,"body_markdown":"I am trying to adopt Log4j2 in my new project, but I get my logs in &lt;code&gt;catalina.out&lt;/code&gt;, and the first one is always: &lt;code&gt;ERROR StatusLogger Unable to locate a logging implementation, using SimpleLogger&lt;/code&gt;. It seems that I have done everything according to Log4j2 docs, but still. \r\n\r\nHere is what I have actually done: \r\n&lt;ol&gt;\r\n&lt;li&gt;added &lt;code&gt;log4j-api-2.0-beta3.jar&lt;/code&gt; to my project&lt;/li&gt;\r\n&lt;li&gt;created a &lt;code&gt;log4j2.xml&lt;/code&gt; file and put it in a location that is on the classpath (currently, in &lt;code&gt;/usr/local/tomcat/home/lib&lt;/code&gt;. In fact, I took a sample file from Log4J2 web-page.&lt;/li&gt;\r\n&lt;li&gt;restarted tomcat.&lt;/li&gt;\r\n&lt;/ol&gt;\r\n\r\nI am using Tomcat 7, MacOS X 10.8, Java 7. \r\n\r\nWhat am I missing?\r\n\r\nJust in case, here is the log4j2.xml I am using:\r\n\r\n&lt;code&gt;&lt;pre&gt;\r\n&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&amp;lt;configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n  &amp;lt;appenders&gt;\r\n    &amp;lt;File name=&quot;MyFile&quot; fileName=&quot;logs/app.log&quot;&gt;\r\n      &amp;lt;PatternLayout&gt;\r\n        &amp;lt;pattern&gt;%d %p %C{1.} [%t] %m%n&amp;lt;/pattern&gt;\r\n      &amp;lt;/PatternLayout&gt;\r\n    &amp;lt;/File&gt;\r\n  &amp;lt;/appenders&gt;\r\n  &amp;lt;loggers&gt;\r\n    &amp;lt;root level=&quot;trace&quot;&gt;\r\n      &amp;lt;appender-ref ref=&quot;MyFile&quot;/&gt;\r\n    &amp;lt;/root&gt;\r\n  &amp;lt;/loggers&gt;\r\n&amp;lt;/configuration&gt;\r\n&lt;/pre&gt;&lt;/code&gt;","title":"Log4j2 - configuring","body":"<p>I am trying to adopt Log4j2 in my new project, but I get my logs in <code>catalina.out</code>, and the first one is always: <code>ERROR StatusLogger Unable to locate a logging implementation, using SimpleLogger</code>. It seems that I have done everything according to Log4j2 docs, but still. </p>\n\n<p>Here is what I have actually done: </p>\n\n<ol>\n<li>added <code>log4j-api-2.0-beta3.jar</code> to my project</li>\n<li>created a <code>log4j2.xml</code> file and put it in a location that is on the classpath (currently, in <code>/usr/local/tomcat/home/lib</code>. In fact, I took a sample file from Log4J2 web-page.</li>\n<li>restarted tomcat.</li>\n</ol>\n\n<p>I am using Tomcat 7, MacOS X 10.8, Java 7. </p>\n\n<p>What am I missing?</p>\n\n<p>Just in case, here is the log4j2.xml I am using:</p>\n\n<p><code><pre>\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;configuration status=\"warn\" name=\"MyApp\" packages=\"\">\n  &lt;appenders>\n    &lt;File name=\"MyFile\" fileName=\"logs/app.log\">\n      &lt;PatternLayout>\n        &lt;pattern>%d %p %C{1.} [%t] %m%n&lt;/pattern>\n      &lt;/PatternLayout>\n    &lt;/File>\n  &lt;/appenders>\n  &lt;loggers>\n    &lt;root level=\"trace\">\n      &lt;appender-ref ref=\"MyFile\"/>\n    &lt;/root>\n  &lt;/loggers>\n&lt;/configuration>\n</pre></code></p>\n"},{"tags":["java","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"score":0,"creation_date":1685441379,"post_id":31023516,"comment_id":134656850,"body_markdown":"you might need to use log4j2 with slf4j for using LoggerFactory.","body":"you might need to use log4j2 with slf4j for using LoggerFactory."}],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1685445396,"post_id":76363764,"comment_id":134657710,"body_markdown":"The introduction is ironically true: many companies decided to migrate from Log4j 1.x to Log4j 2.x, although Log4Shell did **only** affect Log4j 2.x. You can run some [OpenRewrite Logging recipes](https://github.com/openrewrite/rewrite-logging-frameworks) to automatically convert Log4j 1.x to Log4j 2.x.","body":"The introduction is ironically true: many companies decided to migrate from Log4j 1.x to Log4j 2.x, although Log4Shell did <b>only</b> affect Log4j 2.x. You can run some <a href=\"https://github.com/openrewrite/rewrite-logging-frameworks\" rel=\"nofollow noreferrer\">OpenRewrite Logging recipes</a> to automatically convert Log4j 1.x to Log4j 2.x."}],"tags":[],"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685441564,"creation_date":1685441564,"answer_id":76363764,"question_id":31023516,"body_markdown":"Not Exactly related to the Question, But the below are my learning in log4j2 migration. hope it helps someone.\r\n\r\nSince the log4j vulnerability which was discovered in late 2021, \r\nmany organizations have upgraded to log4j2 to overcome it. and many developers needed to understand what exactly is log4j and what is the vulnerability.\r\nI recommend you to read about that, as it was a major vulnerability in software industry.\r\nI also migrated 2 applications to log4j2 and faced many issues in the migration.\r\nhence writing this here. i will write a detailed article on this later but for the time being, if anyone else is migrating to log4j2 from log4j i prefer \r\nreading my below learnings.\r\n\r\n1) This is a major change in the application, so be careful while doing it. it involves a change in almost all the files present.\r\n2) If you are making a change to a legacy application, you might need to change many other supported jars, hence understand that it&#39;s gonna take time.\r\n3) If there is a log4j.properties file, convert it to log4j.xml ,it might feel hard to convert but trust me you wont find much docs on properties file.\r\n4) A REPLACE ALL method wont always work, double check your work.\r\n5) There will be transitive dependencies, try to understand that and exclude them in pom.\r\n6) If you are changing versions of spring or any other framework, understand that there were many changes done in the new versions, refer docs.\r\n\r\ndocumentation for migrating from Log4j to Log4j2:\r\nhttps://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2ConfigurationFormat\r\n\r\n\r\nSome sites that helped me:\r\nhttps://stackify.com/log4j2-java/\r\nhttps://www.digitalocean.com/community/tutorials/log4j2-example-tutorial-configuration-levels-appenders\r\nhttps://howtodoinjava.com/log4j2/log4j2-consoleappender-example/\r\nhttps://access.redhat.com/solutions/4347841\r\n","title":"log4j migration to log4j2","body":"<p>Not Exactly related to the Question, But the below are my learning in log4j2 migration. hope it helps someone.</p>\n<p>Since the log4j vulnerability which was discovered in late 2021,\nmany organizations have upgraded to log4j2 to overcome it. and many developers needed to understand what exactly is log4j and what is the vulnerability.\nI recommend you to read about that, as it was a major vulnerability in software industry.\nI also migrated 2 applications to log4j2 and faced many issues in the migration.\nhence writing this here. i will write a detailed article on this later but for the time being, if anyone else is migrating to log4j2 from log4j i prefer\nreading my below learnings.</p>\n<ol>\n<li>This is a major change in the application, so be careful while doing it. it involves a change in almost all the files present.</li>\n<li>If you are making a change to a legacy application, you might need to change many other supported jars, hence understand that it's gonna take time.</li>\n<li>If there is a log4j.properties file, convert it to log4j.xml ,it might feel hard to convert but trust me you wont find much docs on properties file.</li>\n<li>A REPLACE ALL method wont always work, double check your work.</li>\n<li>There will be transitive dependencies, try to understand that and exclude them in pom.</li>\n<li>If you are changing versions of spring or any other framework, understand that there were many changes done in the new versions, refer docs.</li>\n</ol>\n<p>documentation for migrating from Log4j to Log4j2:\n<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2ConfigurationFormat\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2ConfigurationFormat</a></p>\n<p>Some sites that helped me:\n<a href=\"https://stackify.com/log4j2-java/\" rel=\"nofollow noreferrer\">https://stackify.com/log4j2-java/</a>\n<a href=\"https://www.digitalocean.com/community/tutorials/log4j2-example-tutorial-configuration-levels-appenders\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/log4j2-example-tutorial-configuration-levels-appenders</a>\n<a href=\"https://howtodoinjava.com/log4j2/log4j2-consoleappender-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/log4j2/log4j2-consoleappender-example/</a>\n<a href=\"https://access.redhat.com/solutions/4347841\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/4347841</a></p>\n"}],"owner":{"account_id":425577,"reputation":61,"user_id":3793437,"display_name":"Arvind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3361,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1685441564,"creation_date":1435139980,"question_id":31023516,"body_markdown":"Log4j migration guide \r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/migration.html\r\n\r\nstates that\r\n\r\nCalls to org.apache.log4j.Logger.getLogger that accept a LoggerFactory must remove the org.apache.log4j.spi.LoggerFactory and use one of Log4j 2&#39;s other extension mechanisms.\r\n\r\nWhat are the extension mechanisms available in log4j2 and how best to migrate a method like below in log4j2\r\n\r\n    private static TraceLoggerFactory stTraceFactory = new TraceLoggerFactory();\r\n    \r\n    public static Logger getTraceLogger(final String name) {\r\n    \treturn getLogger(name, stTraceFactory);\r\n    }\r\n    \r\n    \r\n    class TraceLoggerFactory implements LoggerFactory {\r\n    \t@Override\r\n    \tpublic Logger makeNewLoggerInstance(final String name) {\r\n    \t\treturn new TraceLogger(name);\r\n    \t}\r\n    }\r\n\r\n","title":"log4j migration to log4j2","body":"<p>Log4j migration guide </p>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n\n<p>states that</p>\n\n<p>Calls to org.apache.log4j.Logger.getLogger that accept a LoggerFactory must remove the org.apache.log4j.spi.LoggerFactory and use one of Log4j 2's other extension mechanisms.</p>\n\n<p>What are the extension mechanisms available in log4j2 and how best to migrate a method like below in log4j2</p>\n\n<pre><code>private static TraceLoggerFactory stTraceFactory = new TraceLoggerFactory();\n\npublic static Logger getTraceLogger(final String name) {\n    return getLogger(name, stTraceFactory);\n}\n\n\nclass TraceLoggerFactory implements LoggerFactory {\n    @Override\n    public Logger makeNewLoggerInstance(final String name) {\n        return new TraceLogger(name);\n    }\n}\n</code></pre>\n"},{"tags":["java","game-development"],"answers":[{"tags":[],"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685441435,"creation_date":1685441435,"answer_id":76363747,"question_id":76363430,"body_markdown":"    public void update(){\r\n        Apple.checkCollision();\r\n        Snake.checkSnakeCollision();\r\n        Snake.update();\r\n    }\r\n\r\n\r\nThis is the problem. When you are checking collision of apple and snake, you are adding new point same as head in snake body. after that you are checking for same point in body as head. It will match because you have added that head point in &quot;checkCollision&quot; method.\r\n\r\nYou need to call &quot;checkSnakeCollision&quot; after &quot;Snake.update&quot; once head is propagate to new position then you need to check for collision.","title":"Java Snake Game snakeCollision method issue","body":"<pre><code>public void update(){\n    Apple.checkCollision();\n    Snake.checkSnakeCollision();\n    Snake.update();\n}\n</code></pre>\n<p>This is the problem. When you are checking collision of apple and snake, you are adding new point same as head in snake body. after that you are checking for same point in body as head. It will match because you have added that head point in &quot;checkCollision&quot; method.</p>\n<p>You need to call &quot;checkSnakeCollision&quot; after &quot;Snake.update&quot; once head is propagate to new position then you need to check for collision.</p>\n"}],"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76363747,"answer_count":1,"score":1,"last_activity_date":1685441435,"creation_date":1685438925,"question_id":76363430,"body_markdown":"I am creating a simple snake game to help me learn some more java. I&#39;m running into an error however when trying to create a method that properly tracks whether the snake collides with itself or not. I created a simple print statement to check if the method is able to properly detect when my snake runs into itself, which it does. However, it seems to activate whenever the snake runs into an apple. Here is my code: \r\n\r\n```\r\nimport java.awt.*;\r\nimport java.util.Random;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class GamePanel extends JPanel implements Runnable {\r\n    final static int SCREEN_HEIGHT = 780;\r\n    final static int SCREEN_WIDTH = 1435; \r\n    final int FPS = 10;\r\n    final static int UNIT_SIZE = 30;\r\n    Random random = new Random();\r\n\r\n    Thread GameThread;\r\n    KeyHandler keyH = new KeyHandler();\r\n\r\n    snake Snake = new snake(keyH);\r\n    apple Apple = new apple(Snake);\r\n\r\n    GamePanel() {\r\n        // panel set up\r\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        this.setBackground(Color.black);\r\n        this.setFocusable(true);\r\n        this.setDoubleBuffered(true);\r\n        this.addKeyListener(keyH);\r\n    }\r\n\r\n    //starts the thread!\r\n    public void startGameThread() { \r\n        GameThread = new Thread(this);\r\n        GameThread.start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        /* this is the game loop. drawinterval = one second (in the form of nanoseconds)\r\n         * divided by the FPS so that we get the amount (0.16 in seconds) the game should update per sec.\r\n         * We get the current time, subtract it by the last system time, divide that by this drawinterval\r\n         * which will be a very small decimal that is added to delta. Once delta is one or over, we can\r\n         * actually update the game.\r\n         */\r\n        double drawInterval = 1000000000/FPS;\r\n        double delta = 0; \r\n        long lastTime = System.nanoTime();\r\n        long currentTime; \r\n        long timer = 0;\r\n        int drawTime = 0;\r\n\r\n        while (GameThread != null) {\r\n            currentTime = System.nanoTime();\r\n            delta += (currentTime - lastTime) / drawInterval;\r\n            timer += currentTime - lastTime;\r\n            lastTime = currentTime;\r\n\r\n            if (delta &gt;= 1) {\r\n                update();\r\n                repaint();\r\n                delta--;\r\n                drawTime++;\r\n            }\r\n\r\n            if (timer &gt;= 1000000000) {\r\n                //System.out.println(&quot;FPS: &quot; + drawTime);\r\n                drawTime = 0;\r\n                timer = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void update(){\r\n        Apple.checkCollision();\r\n        Snake.checkSnakeCollision();\r\n        Snake.update();\r\n    }\r\n\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(Color.WHITE);\r\n\r\n        // grid draw\r\n        // for (int i = 0; i &lt; (SCREEN_HEIGHT/UNIT_SIZE); i++) {\r\n            //g2.drawLine(0, i*UNIT_SIZE,SCREEN_WIDTH,i*UNIT_SIZE);\r\n        //}\r\n        //for (int i = 0; i &lt; SCREEN_WIDTH/UNIT_SIZE; i++) {\r\n            //g2.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\r\n        //}\r\n\r\n        Snake.draw(g2);\r\n        Apple.draw(g2);\r\n        \r\n\r\n        g2.dispose();\r\n    }\r\n}\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport java.util.ArrayList;\r\n\r\npublic class snake {\r\n    KeyHandler kh;\r\n    int length = 0;\r\n    int xHead = 30;\r\n    int yHead = 30;\r\n    ArrayList&lt;Integer[]&gt; bodyParts = new ArrayList&lt;Integer[]&gt;();\r\n    apple myApple = new apple(this);\r\n\r\n    public snake(KeyHandler kh) {\r\n        this.kh = kh;\r\n    } \r\n\r\n    public void increaseLength() {\r\n        Integer[] newBodyPart = {xHead, yHead};\r\n        bodyParts.add(newBodyPart);\r\n        this.length++;\r\n    }\r\n\r\n    public void checkSnakeCollision() {\r\n        for (int i = 1; i &lt; bodyParts.size(); i++) {\r\n            Integer[] cords = bodyParts.get(i);\r\n            int xBody = cords[0];\r\n            int yBody = cords[1];\r\n            if (xHead == xBody &amp;&amp; yHead == yBody) {\r\n                System.out.println(&quot;OOF&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void update(){\r\n        if (kh.direction == (&quot;up&quot;)) {\r\n            yHead -= 30;\r\n        } else if (kh.direction == (&quot;down&quot;)) {\r\n            yHead += 30;\r\n        } else if (kh.direction == (&quot;left&quot;)) {\r\n            xHead -= 30;\r\n        } else if (kh.direction == (&quot;right&quot;)) {\r\n            xHead += 30;\r\n        }\r\n\r\n        for (int i = bodyParts.size() - 1; i &gt; 0; i--) {\r\n            Integer[] currentBodyPart = bodyParts.get(i);\r\n            Integer[] previousBodyPart = bodyParts.get(i - 1);\r\n            currentBodyPart[0] = previousBodyPart[0];\r\n            currentBodyPart[1] = previousBodyPart[1];\r\n        }\r\n        \r\n        // Update the first body part to the head position\r\n        if (bodyParts.size() &gt; 0) {\r\n            Integer[] firstBodyPart = bodyParts.get(0);\r\n            if (kh.direction == &quot;up&quot;) {\r\n                firstBodyPart[0] = xHead;\r\n                firstBodyPart[1] = yHead + GamePanel.UNIT_SIZE;\r\n            } else if (kh.direction == &quot;down&quot;) {\r\n                firstBodyPart[0] = xHead;\r\n                firstBodyPart[1] = yHead - GamePanel.UNIT_SIZE;\r\n            } else if (kh.direction == &quot;left&quot;) {\r\n                firstBodyPart[0] = xHead + GamePanel.UNIT_SIZE; \r\n                firstBodyPart[1] = yHead;\r\n            } else if (kh.direction == &quot;right&quot;) {\r\n                firstBodyPart[0] = xHead - GamePanel.UNIT_SIZE;\r\n                firstBodyPart[1] = yHead;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void draw(Graphics2D g2) {\r\n        //draw snake\r\n        g2.setColor(Color.GREEN);\r\n        g2.fillRect(xHead, yHead, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \r\n        for (Integer[] cords : bodyParts) {\r\n            int x = cords[0];\r\n            int y = cords[1];\r\n            g2.fillRect(x, y, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE);\r\n        }\r\n    }\r\n}\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport java.util.Random;\r\n\r\npublic class apple {\r\n    Random random = new Random();\r\n    snake duck;\r\n\r\n    int appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\r\n    int appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\r\n\r\n    public apple(snake duck) {\r\n        this.duck = duck;\r\n    }\r\n\r\n    public void checkCollision() {\r\n        if (duck.xHead == appleX &amp;&amp; duck.yHead == appleY) {\r\n            duck.increaseLength();\r\n            update();\r\n        }\r\n    }\r\n\r\n    public int getAppleX() {\r\n        return appleX;\r\n    }\r\n\r\n    public int getAppleY() {\r\n        return appleY;\r\n    }\r\n\r\n    public void update() {\r\n        appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\r\n        appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\r\n    }\r\n\r\n    public void draw(Graphics2D g2) {\r\n        //draw apple\r\n        g2.setColor(Color.RED);\r\n        g2.fillRect(appleX, appleY, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \r\n    }\r\n\r\n}\r\n\r\nimport java.awt.RenderingHints.Key;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class KeyHandler implements KeyListener {\r\n\r\n    public boolean upPressed = false;\r\n    public boolean downPressed = false;\r\n    public boolean rightPressed = false;\r\n    public boolean leftPressed = false;\r\n    public String direction;\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        int i = e.getKeyCode();\r\n        if (i == KeyEvent.VK_D) {\r\n            rightPressed = true;\r\n            direction = &quot;right&quot;;\r\n        }\r\n        if (i == KeyEvent.VK_A) {\r\n            leftPressed = true;\r\n            direction = &quot;left&quot;;\r\n        }\r\n        if (i == KeyEvent.VK_S) {\r\n            downPressed = true;\r\n            direction = &quot;down&quot;;\r\n        }\r\n        if (i == KeyEvent.VK_W) {\r\n            upPressed = true;\r\n            direction = &quot;up&quot;;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        int i = e.getKeyCode();\r\n        if (i == KeyEvent.VK_D) {\r\n            rightPressed = false;\r\n        }\r\n        if (i == KeyEvent.VK_A){\r\n            leftPressed = false;\r\n        }\r\n        if (i == KeyEvent.VK_S) {\r\n            downPressed = false;\r\n        }\r\n        if (i == KeyEvent.VK_W) {\r\n            upPressed = false;\r\n        } \r\n    }\r\n\r\n}\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class main {\r\n    public static void main(String[] args) throws Exception {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(false);\r\n        frame.setTitle(&quot;Snake&quot;);\r\n\r\n        GamePanel panel = new GamePanel();\r\n        frame.add(panel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n\r\n        panel.startGameThread();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried increasing the i value for the for loop in the checkSnakeCollision() method to 1 and have tried to make sure the method activates if the snake head is not colliding with an apple, neither worked. ","title":"Java Snake Game snakeCollision method issue","body":"<p>I am creating a simple snake game to help me learn some more java. I'm running into an error however when trying to create a method that properly tracks whether the snake collides with itself or not. I created a simple print statement to check if the method is able to properly detect when my snake runs into itself, which it does. However, it seems to activate whenever the snake runs into an apple. Here is my code:</p>\n<pre><code>import java.awt.*;\nimport java.util.Random;\n\nimport javax.swing.*;\n\npublic class GamePanel extends JPanel implements Runnable {\n    final static int SCREEN_HEIGHT = 780;\n    final static int SCREEN_WIDTH = 1435; \n    final int FPS = 10;\n    final static int UNIT_SIZE = 30;\n    Random random = new Random();\n\n    Thread GameThread;\n    KeyHandler keyH = new KeyHandler();\n\n    snake Snake = new snake(keyH);\n    apple Apple = new apple(Snake);\n\n    GamePanel() {\n        // panel set up\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n        this.setBackground(Color.black);\n        this.setFocusable(true);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(keyH);\n    }\n\n    //starts the thread!\n    public void startGameThread() { \n        GameThread = new Thread(this);\n        GameThread.start();\n    }\n\n    @Override\n    public void run() {\n        /* this is the game loop. drawinterval = one second (in the form of nanoseconds)\n         * divided by the FPS so that we get the amount (0.16 in seconds) the game should update per sec.\n         * We get the current time, subtract it by the last system time, divide that by this drawinterval\n         * which will be a very small decimal that is added to delta. Once delta is one or over, we can\n         * actually update the game.\n         */\n        double drawInterval = 1000000000/FPS;\n        double delta = 0; \n        long lastTime = System.nanoTime();\n        long currentTime; \n        long timer = 0;\n        int drawTime = 0;\n\n        while (GameThread != null) {\n            currentTime = System.nanoTime();\n            delta += (currentTime - lastTime) / drawInterval;\n            timer += currentTime - lastTime;\n            lastTime = currentTime;\n\n            if (delta &gt;= 1) {\n                update();\n                repaint();\n                delta--;\n                drawTime++;\n            }\n\n            if (timer &gt;= 1000000000) {\n                //System.out.println(&quot;FPS: &quot; + drawTime);\n                drawTime = 0;\n                timer = 0;\n            }\n        }\n    }\n\n    public void update(){\n        Apple.checkCollision();\n        Snake.checkSnakeCollision();\n        Snake.update();\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(Color.WHITE);\n\n        // grid draw\n        // for (int i = 0; i &lt; (SCREEN_HEIGHT/UNIT_SIZE); i++) {\n            //g2.drawLine(0, i*UNIT_SIZE,SCREEN_WIDTH,i*UNIT_SIZE);\n        //}\n        //for (int i = 0; i &lt; SCREEN_WIDTH/UNIT_SIZE; i++) {\n            //g2.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\n        //}\n\n        Snake.draw(g2);\n        Apple.draw(g2);\n        \n\n        g2.dispose();\n    }\n}\n\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.util.ArrayList;\n\npublic class snake {\n    KeyHandler kh;\n    int length = 0;\n    int xHead = 30;\n    int yHead = 30;\n    ArrayList&lt;Integer[]&gt; bodyParts = new ArrayList&lt;Integer[]&gt;();\n    apple myApple = new apple(this);\n\n    public snake(KeyHandler kh) {\n        this.kh = kh;\n    } \n\n    public void increaseLength() {\n        Integer[] newBodyPart = {xHead, yHead};\n        bodyParts.add(newBodyPart);\n        this.length++;\n    }\n\n    public void checkSnakeCollision() {\n        for (int i = 1; i &lt; bodyParts.size(); i++) {\n            Integer[] cords = bodyParts.get(i);\n            int xBody = cords[0];\n            int yBody = cords[1];\n            if (xHead == xBody &amp;&amp; yHead == yBody) {\n                System.out.println(&quot;OOF&quot;);\n            }\n        }\n    }\n\n    public void update(){\n        if (kh.direction == (&quot;up&quot;)) {\n            yHead -= 30;\n        } else if (kh.direction == (&quot;down&quot;)) {\n            yHead += 30;\n        } else if (kh.direction == (&quot;left&quot;)) {\n            xHead -= 30;\n        } else if (kh.direction == (&quot;right&quot;)) {\n            xHead += 30;\n        }\n\n        for (int i = bodyParts.size() - 1; i &gt; 0; i--) {\n            Integer[] currentBodyPart = bodyParts.get(i);\n            Integer[] previousBodyPart = bodyParts.get(i - 1);\n            currentBodyPart[0] = previousBodyPart[0];\n            currentBodyPart[1] = previousBodyPart[1];\n        }\n        \n        // Update the first body part to the head position\n        if (bodyParts.size() &gt; 0) {\n            Integer[] firstBodyPart = bodyParts.get(0);\n            if (kh.direction == &quot;up&quot;) {\n                firstBodyPart[0] = xHead;\n                firstBodyPart[1] = yHead + GamePanel.UNIT_SIZE;\n            } else if (kh.direction == &quot;down&quot;) {\n                firstBodyPart[0] = xHead;\n                firstBodyPart[1] = yHead - GamePanel.UNIT_SIZE;\n            } else if (kh.direction == &quot;left&quot;) {\n                firstBodyPart[0] = xHead + GamePanel.UNIT_SIZE; \n                firstBodyPart[1] = yHead;\n            } else if (kh.direction == &quot;right&quot;) {\n                firstBodyPart[0] = xHead - GamePanel.UNIT_SIZE;\n                firstBodyPart[1] = yHead;\n            }\n        }\n    }\n\n    public void draw(Graphics2D g2) {\n        //draw snake\n        g2.setColor(Color.GREEN);\n        g2.fillRect(xHead, yHead, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \n        for (Integer[] cords : bodyParts) {\n            int x = cords[0];\n            int y = cords[1];\n            g2.fillRect(x, y, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE);\n        }\n    }\n}\n\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.util.Random;\n\npublic class apple {\n    Random random = new Random();\n    snake duck;\n\n    int appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\n    int appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\n\n    public apple(snake duck) {\n        this.duck = duck;\n    }\n\n    public void checkCollision() {\n        if (duck.xHead == appleX &amp;&amp; duck.yHead == appleY) {\n            duck.increaseLength();\n            update();\n        }\n    }\n\n    public int getAppleX() {\n        return appleX;\n    }\n\n    public int getAppleY() {\n        return appleY;\n    }\n\n    public void update() {\n        appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\n        appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\n    }\n\n    public void draw(Graphics2D g2) {\n        //draw apple\n        g2.setColor(Color.RED);\n        g2.fillRect(appleX, appleY, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \n    }\n\n}\n\nimport java.awt.RenderingHints.Key;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KeyHandler implements KeyListener {\n\n    public boolean upPressed = false;\n    public boolean downPressed = false;\n    public boolean rightPressed = false;\n    public boolean leftPressed = false;\n    public String direction;\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        int i = e.getKeyCode();\n        if (i == KeyEvent.VK_D) {\n            rightPressed = true;\n            direction = &quot;right&quot;;\n        }\n        if (i == KeyEvent.VK_A) {\n            leftPressed = true;\n            direction = &quot;left&quot;;\n        }\n        if (i == KeyEvent.VK_S) {\n            downPressed = true;\n            direction = &quot;down&quot;;\n        }\n        if (i == KeyEvent.VK_W) {\n            upPressed = true;\n            direction = &quot;up&quot;;\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        int i = e.getKeyCode();\n        if (i == KeyEvent.VK_D) {\n            rightPressed = false;\n        }\n        if (i == KeyEvent.VK_A){\n            leftPressed = false;\n        }\n        if (i == KeyEvent.VK_S) {\n            downPressed = false;\n        }\n        if (i == KeyEvent.VK_W) {\n            upPressed = false;\n        } \n    }\n\n}\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class main {\n    public static void main(String[] args) throws Exception {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setTitle(&quot;Snake&quot;);\n\n        GamePanel panel = new GamePanel();\n        frame.add(panel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        panel.startGameThread();\n    }\n}\n\n</code></pre>\n<p>I tried increasing the i value for the for loop in the checkSnakeCollision() method to 1 and have tried to make sure the method activates if the snake head is not colliding with an apple, neither worked.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1685433192,"post_id":76362626,"comment_id":134655067,"body_markdown":"I don&#39;t really understand the question. Are you asking on how to schedule tasks in java without Spring (`ScheduledExecutorService`) or how to [make a thread interruptable](https://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do)?","body":"I don&#39;t really understand the question. Are you asking on how to schedule tasks in java without Spring (<code>ScheduledExecutorService</code>) or how to <a href=\"https://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do\">make a thread interruptable</a>?"},{"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"score":0,"creation_date":1685433734,"post_id":76362626,"comment_id":134655202,"body_markdown":"@daniu I mean I use annotation to start a cron job but I can&#39;t stop it during runtime. So I came up with an idea to use some library in addition to initializing that job with annotation. But I can&#39;t find a specific method to run the cron job and stop it at runtime (may be in catch block, or an api to stop it)","body":"@daniu I mean I use annotation to start a cron job but I can&#39;t stop it during runtime. So I came up with an idea to use some library in addition to initializing that job with annotation. But I can&#39;t find a specific method to run the cron job and stop it at runtime (may be in catch block, or an api to stop it)"},{"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"score":1,"creation_date":1685438711,"post_id":76362626,"comment_id":134656257,"body_markdown":"You can see a similar question [here](https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation).","body":"You can see a similar question <a href=\"https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"score":0,"creation_date":1685438366,"post_id":76362682,"comment_id":134656191,"body_markdown":"`ThreadPoolTaskScheduler` does not implement from `ScheduledFuture&lt;?&gt;`. How you can declare like that?","body":"<code>ThreadPoolTaskScheduler</code> does not implement from <code>ScheduledFuture&lt;?&gt;</code>. How you can declare like that?"},{"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"score":0,"creation_date":1685511082,"post_id":76362682,"comment_id":134668419,"body_markdown":"@Th&#224;nhĐặng The return type of &quot;schedule&quot; is ScheduledFuture&lt;?&gt;. The signature is &quot;public ScheduledFuture&lt;?&gt; schedule(Runnable task, Trigger trigger)&quot;","body":"@Th&#224;nhĐặng The return type of &quot;schedule&quot; is ScheduledFuture&lt;?&gt;. The signature is &quot;public ScheduledFuture&lt;?&gt; schedule(Runnable task, Trigger trigger)&quot;"}],"tags":[],"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685433177,"creation_date":1685433177,"answer_id":76362682,"question_id":76362626,"body_markdown":"You can use the &quot;ThreadPoolTaskScheduler&quot;.\r\n\r\n    ScheduledFuture&lt;?&gt; schedule = taskScheduler.schedule(\r\n      createRunnable(),\r\n      new PeriodicTrigger(5, TimeUnit.SECONDS)\r\n    );\r\n    schedule.cancel(true);\r\n\r\nSee: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/scheduling.html","title":"Create cron job and stop it without @Scheduled Spring Boot","body":"<p>You can use the &quot;ThreadPoolTaskScheduler&quot;.</p>\n<pre><code>ScheduledFuture&lt;?&gt; schedule = taskScheduler.schedule(\n  createRunnable(),\n  new PeriodicTrigger(5, TimeUnit.SECONDS)\n);\nschedule.cancel(true);\n</code></pre>\n<p>See: <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/scheduling.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/scheduling.html</a></p>\n"}],"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76362682,"answer_count":1,"score":1,"last_activity_date":1685441352,"creation_date":1685432812,"question_id":76362626,"body_markdown":"I am using `@Scheduled` annotation to initialize a task scheduled in my Spring Boot project.\r\n\r\n```\r\n@Override\r\n@Scheduled(cron = &quot;#{scanningTime}&quot;)\r\npublic void execution() {\r\n    invitePlanScanner();\r\n}\r\n```\r\n\r\nBut I&#39;m have difficulty to stopping it at runtime. My idea is to initialize a cron job in addition to using annotations that able to dynamically use the methods of the library. But after a period of research, I don&#39;t see that java provides a specific way to initialize a job with cron schedule along with a stop method.\r\n\r\n  \r\nAny one have an idea for this problem?","title":"Create cron job and stop it without @Scheduled Spring Boot","body":"<p>I am using <code>@Scheduled</code> annotation to initialize a task scheduled in my Spring Boot project.</p>\n<pre><code>@Override\n@Scheduled(cron = &quot;#{scanningTime}&quot;)\npublic void execution() {\n    invitePlanScanner();\n}\n</code></pre>\n<p>But I'm have difficulty to stopping it at runtime. My idea is to initialize a cron job in addition to using annotations that able to dynamically use the methods of the library. But after a period of research, I don't see that java provides a specific way to initialize a job with cron schedule along with a stop method.</p>\n<p>Any one have an idea for this problem?</p>\n"},{"tags":["java","wildfly","pojo","infinispan"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644945732,"post_id":71130603,"comment_id":125737807,"body_markdown":"Does this answer your question? [Infinispan deserialization white list : Class &#39;\\[I&#39;](https://stackoverflow.com/questions/60437650/infinispan-deserialization-white-list-class-i)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60437650/infinispan-deserialization-white-list-class-i\">Infinispan deserialization white list : Class &#39;&#91;I&#39;</a>"},{"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"score":0,"creation_date":1644951900,"post_id":71130603,"comment_id":125740112,"body_markdown":"Does not work for me, but thanks anyway. ConfigurationBuilder builder = new ConfigurationBuilder();\n    \tbuilder.addServer()\n    \t         .host(&quot;server&quot;)\n    \t         .port(11222)\n    \t       .security().authentication()\n    \t         .username(&quot;admin&quot;)\n    \t         .password(&quot;password&quot;)\n    \t         .marshaller(new JavaSerializationMarshaller()).addJavaSerialAllowList(&quot;.*&quot;);\n    \tremoteCacheManager = new RemoteCacheManager(builder.build());\n        cache = remoteCacheManager.getCache(&quot;teste15Fev22&quot;);","body":"Does not work for me, but thanks anyway. ConfigurationBuilder builder = new ConfigurationBuilder();     \tbuilder.addServer()     \t         .host(&quot;server&quot;)     \t         .port(11222)     \t       .security().authentication()     \t         .username(&quot;admin&quot;)     \t         .password(&quot;password&quot;)     \t         .marshaller(new JavaSerializationMarshaller()).addJavaSerialAllowList(&quot;.*&quot;);     \tremoteCacheManager = new RemoteCacheManager(builder.build());         cache = remoteCacheManager.getCache(&quot;teste15Fev22&quot;);"},{"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"score":0,"creation_date":1645002878,"post_id":71130603,"comment_id":125752147,"body_markdown":"can you share the exception full stack trace?","body":"can you share the exception full stack trace?"},{"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"score":0,"creation_date":1645008143,"post_id":71130603,"comment_id":125754271,"body_markdown":"I share it above. Thanks!","body":"I share it above. Thanks!"},{"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"score":0,"creation_date":1645034555,"post_id":71130603,"comment_id":125765560,"body_markdown":"I update my ticket to became more readable. Thanks guys.","body":"I update my ticket to became more readable. Thanks guys."}],"answers":[{"tags":[],"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645112292,"creation_date":1645112292,"answer_id":71161059,"question_id":71130603,"body_markdown":"The answer is in the cache configuration. In earlier versions of Infinispan we need to define/create a cache. In older versions I use default cache and have no problem.\r\n\r\nMy working cache configuration:\r\n\r\n    {\r\n      &quot;distributed-cache&quot;: {\r\n        &quot;mode&quot;: &quot;SYNC&quot;,\r\n        &quot;statistics&quot;: true,\r\n        &quot;encoding&quot;: {\r\n          &quot;key&quot;: {\r\n            &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\r\n          },\r\n          &quot;value&quot;: {\r\n            &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nPermissions problem I had in past (**blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.**) accessing classes manifested itself when I had the following configuration media-type &quot;**application/x-java-object**&quot;. This configuration does not work!\r\n\r\nThanks for your help!","title":"Infinispan 13.0.6 - Error putting custom java classes (POJO) in cache via WildFly 26.0.1.Final","body":"<p>The answer is in the cache configuration. In earlier versions of Infinispan we need to define/create a cache. In older versions I use default cache and have no problem.</p>\n<p>My working cache configuration:</p>\n<pre><code>{\n  &quot;distributed-cache&quot;: {\n    &quot;mode&quot;: &quot;SYNC&quot;,\n    &quot;statistics&quot;: true,\n    &quot;encoding&quot;: {\n      &quot;key&quot;: {\n        &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\n      },\n      &quot;value&quot;: {\n        &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Permissions problem I had in past (<strong>blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.</strong>) accessing classes manifested itself when I had the following configuration media-type &quot;<strong>application/x-java-object</strong>&quot;. This configuration does not work!</p>\n<p>Thanks for your help!</p>\n"}],"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685441212,"creation_date":1644945170,"question_id":71130603,"body_markdown":"I&#39;m using WildFly26.0.1.Final to connect to Infinispan 13.0.6 and when I try to put an POJO object in a Infinispan cache I got this error:\r\n\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:\r\n    Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: \r\n    ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. \r\n    Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\r\n\r\nMy configuration is:\r\n\r\n    ConfigurationBuilder builder =  new ConfigurationBuilder(); \r\n    \tbuilder.addServer().host(&quot;server&quot;)\r\n    \t\t\t.port(11222)\r\n    \t\t\t.security()\r\n    \t\t\t.authentication()\r\n    \t\t\t.username(&quot;admin&quot;)\r\n    \t\t\t.password(&quot;password&quot;)\r\n    \t\t\t.addJavaSerialWhiteList(&quot;pt.pe.sipe.*&quot;) //you can set the class name or use regex\r\n    \t\t\t.marshaller(JavaSerializationMarshaller.class);\r\n    \t\r\n    \tRemoteCacheManager rim = new RemoteCacheManager(builder.build());\r\n    \t\r\n    \tcache = rim.getCache(&quot;teste15Fev22&quot;);\r\n    \t\r\n    \tSampleDTO fd = new SampleDTO();\r\n    \tfd.setDescTipo(&quot;Franqueira&quot;);\r\n    \tSystem.out.println(&quot;A adicionar &#224; cache A&quot;);\r\n    \tcache.put(&quot;A&quot;, fd);\r\n    \tSystem.out.println(&quot;Em cache: &quot;+cache.get(&quot;A&quot;).getClass());\r\n\r\n\r\n**The full stack trace is:**\r\n\r\n    2022-02-16 17:41:51,825 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 215) MSC000001: Failed to start service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:170)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:141)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:127)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:141)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)\r\n\t... 8 more\r\n    Caused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInNoTx(CMTTxInterceptor.java:239)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.supports(CMTTxInterceptor.java:446)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:70)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.weld@26.0.1.Final//org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.processInvocation(StartupCountDownInterceptor.java:25)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:168)\r\n\t... 13 more\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.checkForErrorsInResponseStatus(Codec20.java:323)\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.readHeader(Codec20.java:168)\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HeaderDecoder.decode(HeaderDecoder.java:139)\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HintedReplayingDecoder.callDecode(HintedReplayingDecoder.java:94)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-codec-4.1.72.Final.jar//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-handler-4.1.72.Final.jar//io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\r\n    2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\r\n\r\n\r\nThanks, Manuel\r\n","title":"Infinispan 13.0.6 - Error putting custom java classes (POJO) in cache via WildFly 26.0.1.Final","body":"<p>I'm using WildFly26.0.1.Final to connect to Infinispan 13.0.6 and when I try to put an POJO object in a Infinispan cache I got this error:</p>\n<pre><code>Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:\nRequest for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: \nISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. \nAdjust the configuration serialization allow list regular expression to include this class.&quot;}}\n</code></pre>\n<p>My configuration is:</p>\n<pre><code>ConfigurationBuilder builder =  new ConfigurationBuilder(); \n    builder.addServer().host(&quot;server&quot;)\n            .port(11222)\n            .security()\n            .authentication()\n            .username(&quot;admin&quot;)\n            .password(&quot;password&quot;)\n            .addJavaSerialWhiteList(&quot;pt.pe.sipe.*&quot;) //you can set the class name or use regex\n            .marshaller(JavaSerializationMarshaller.class);\n    \n    RemoteCacheManager rim = new RemoteCacheManager(builder.build());\n    \n    cache = rim.getCache(&quot;teste15Fev22&quot;);\n    \n    SampleDTO fd = new SampleDTO();\n    fd.setDescTipo(&quot;Franqueira&quot;);\n    System.out.println(&quot;A adicionar à cache A&quot;);\n    cache.put(&quot;A&quot;, fd);\n    System.out.println(&quot;Em cache: &quot;+cache.get(&quot;A&quot;).getClass());\n</code></pre>\n<p><strong>The full stack trace is:</strong></p>\n<pre><code>2022-02-16 17:41:51,825 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 215) MSC000001: Failed to start service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat java.base/java.lang.Thread.run(Thread.java:833)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:170)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:141)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:127)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:141)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)\n... 8 more\nCaused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInNoTx(CMTTxInterceptor.java:239)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.supports(CMTTxInterceptor.java:446)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:70)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.weld@26.0.1.Final//org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.processInvocation(StartupCountDownInterceptor.java:25)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:168)\n... 13 more\nCaused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.checkForErrorsInResponseStatus(Codec20.java:323)\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.readHeader(Codec20.java:168)\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HeaderDecoder.decode(HeaderDecoder.java:139)\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HintedReplayingDecoder.callDecode(HintedReplayingDecoder.java:94)\nat deployment.emporium-ear.ear.io.netty-netty-codec-4.1.72.Final.jar//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat deployment.emporium-ear.ear.io.netty-netty-handler-4.1.72.Final.jar//io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\nat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\nat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\n\n2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nCaused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\n2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nCaused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\n</code></pre>\n<p>Thanks, Manuel</p>\n"},{"tags":["java","webapi","vuforia","vuforia-cloud-recognition"],"owner":{"account_id":15937376,"reputation":63,"user_id":11500163,"display_name":"oskar2771"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685440983,"creation_date":1685440983,"question_id":76363696,"body_markdown":"Triyng to integrate Vuforia Web API in Java...\r\n\r\nThese are the requirements to submit a recognition query from the official website https://library.vuforia.com/web-api/vuforia-query-web-api\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd this is the explanation of building the signature key for Authorization header https://library.vuforia.com/web-api/vuforia-web-api-authentication\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThey also provide a [sample][4] in Java where you can find whole process of setting request with Authorization Header \r\n\r\nFollowing the instructions of sample i wrote the following code\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URISyntaxException;\r\n    import java.security.SignatureException;\r\n    import java.util.Date;\r\n\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n\r\n    import org.apache.commons.codec.digest.DigestUtils;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.client.methods.HttpUriRequest;\r\n    import org.apache.http.entity.ContentType;\r\n    import org.apache.http.entity.mime.MultipartEntityBuilder;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.impl.cookie.DateUtils;\r\n    import org.apache.http.message.BasicHeader;\r\n    import org.apache.http.util.EntityUtils;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Service;\r\n\r\n\r\n    @Service\r\n    @Repository\r\n    public class VuforiaServices {\r\n\t\r\n\tprivate static final String BASE_URL = &quot;https://cloudreco.vuforia.com&quot;;\r\n\t\r\n    private static final String ACCESS_KEY = &quot;AGDPKY9CBAEVCKQENRZPX&quot;; // Replace with your Vuforia access key\r\n    private static final String SECRET_KEY = &quot;eLIsEsiqloSazCWpn9csRHnqso784wZSi&quot;; // Replace with your Vuforia secret key\r\n    private static final String DATABASE_ID = &quot;condivino&quot;; // Replace with your Vuforia database ID\r\n    \r\n\tpublic String tmsSignature(HttpUriRequest request, String secretKey) {\r\n\t\tString method = request.getMethod();\r\n\t\tString contentType = &quot;&quot;;\r\n\t\tString hexDigest = &quot;d41d8cd98f00b204e9800998ecf8427e&quot;; // Hex digest of an empty string\r\n\r\n\t\tif (method.equalsIgnoreCase(&quot;GET&quot;) || method.equalsIgnoreCase(&quot;DELETE&quot;)) {\r\n\t\t\t// Do nothing because the strings are already set correctly\r\n\t\t} else if (method.equalsIgnoreCase(&quot;POST&quot;) || method.equalsIgnoreCase(&quot;PUT&quot;)) {\r\n\t\t\tcontentType = &quot;application/json&quot;;\r\n\t\t\t// If this is a POST or PUT the request should have a request body\r\n\t\t\thexDigest = contentMD5((HttpEntityEnclosingRequestBase) request);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;ERROR: Invalid content type passed to Sig Builder&quot;);\r\n\t\t}\r\n\r\n\t\t// Date in the header and date used to calculate the hash must be the same\r\n\t\tString dateValue = request.getFirstHeader(&quot;Date&quot;).getValue();\r\n\t\tString requestPath = request.getURI().getPath();\r\n\t\tString toDigest = new String(method + &quot;\\n&quot; + hexDigest + &quot;\\n&quot; + contentType + &quot;\\n&quot; + dateValue + &quot;\\n&quot; + requestPath);\r\n\t\tString shaHashed = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(toDigest);\r\n\t\t\tshaHashed = calculateRFC2104HMAC(secretKey, toDigest);\r\n\t\t} catch (SignatureException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn new String(shaHashed);\r\n\t}\r\n\r\n\tprivate String contentMD5(HttpEntityEnclosingRequestBase httpMethod) {\r\n\t\tByteArrayOutputStream requestOutputStream = new ByteArrayOutputStream();\r\n\t\ttry {\r\n\t\t\thttpMethod.getEntity().writeTo(requestOutputStream);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;ERROR: IOException caught when writing Content MD5 hash&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn DigestUtils.md5Hex(requestOutputStream.toByteArray()).toLowerCase();\r\n\t}\r\n\r\n\tpublic static String calculateRFC2104HMAC(String key, String data) throws java.security.SignatureException {\r\n\t\tString result = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\t// get an hmac_sha1 key from the raw key bytes\r\n\t\t\tSecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), &quot;HmacSHA1&quot;);\r\n\r\n\t\t\t// get an hmac_sha1 Mac instance and initialize with the signing key\r\n\t\t\tMac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\r\n\t\t\tmac.init(signingKey);\r\n\r\n\t\t\t// compute the hmac on input data bytes\r\n\t\t\tbyte[] rawHmac = mac.doFinal(data.getBytes());\r\n\r\n\t\t\t// base64-encode the hmac\r\n\t\t\tresult = new String(org.apache.commons.codec.binary.Base64.encodeBase64(rawHmac, false));\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic void queryTargetRecognitionV2(String targetFilePath) throws URISyntaxException, ClientProtocolException, IOException {\r\n    \t String endpoint = &quot;/v1/query&quot;;\r\n         String url = BASE_URL + endpoint;\r\n         \r\n         HttpClient client = new DefaultHttpClient();\r\n         HttpPost postRequest = new HttpPost(url);\r\n\r\n\t\tsetBody(postRequest, targetFilePath);\r\n\t\tsetHeaders(postRequest);\r\n\t\t\r\n\t\tHttpResponse response = client.execute(postRequest);\r\n\t\tSystem.out.println(EntityUtils.toString(response.getEntity()));\r\n\t}\r\n\t\r\n\tprivate void setHeaders(HttpUriRequest request) {\r\n\t\trequest.setHeader(new BasicHeader(&quot;Date&quot;, DateUtils.formatDate(new Date()).replaceFirst(&quot;[+]00:00$&quot;, &quot;&quot;)));\r\n\t\trequest.setHeader(&quot;Authorization&quot;, &quot;VWS &quot; + ACCESS_KEY + &quot;:&quot; + tmsSignature(request, SECRET_KEY));\r\n\t}\r\n\t\r\n\tprivate void setBody(HttpPost postRequest, String imagePath) {\r\n\t\tFile imageFile = new File(imagePath);\r\n\t\t\r\n\t\t// Create the multipart request entity\r\n        MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\r\n        entityBuilder.addTextBody(&quot;database_id&quot;, DATABASE_ID);\r\n        entityBuilder.addBinaryBody(&quot;image&quot;, imageFile, ContentType.IMAGE_PNG, imageFile.getName());\r\n        postRequest.setEntity(entityBuilder.build());\r\n\t}\r\n    }\r\n\r\nAs result this is output from header\r\n\r\n    Method: POST\r\n    Content-MD5: 8b8fcc7b800a277a832ce87833038725\r\n    Content-Type: multipart/form-data\r\n    Date: Tue, 30 May 2023 09:19:41 GMT\r\n    Request-Path: /v1/query\r\n\r\nBut somehow the API respond to me with an 401 ( AuthenticationFailure ) error that should be generated when the signature key is malformatted.\r\n\r\n    {&quot;transaction_id&quot;:&quot;34e9ab80bd9f47989141c5844322255d&quot;,&quot;result_code&quot;:&quot;AuthenticationFailure&quot;}\r\n\r\n\r\nMaybe someone already integrated Vuforia Recognition Web API in Java and know to give me an answer to resolve this problem, the point is that the documentation on their website is not quite clear, or the sample that they provided is outdated? Of course I tried different approaches and tried to get some answers from their forum that now is readonly, but only thing i got is that I&#39;m not the only getting troubles with signature key.\r\n\r\n  [1]: https://i.stack.imgur.com/fIcVD.png\r\n  [2]: https://i.stack.imgur.com/uLad5.png\r\n  [3]: https://i.stack.imgur.com/6cEHL.png\r\n  [4]: https://developer.vuforia.com/downloads/samples","title":"AuthenticationFailure Vuforia Cloud Recognition using Java Spring","body":"<p>Triyng to integrate Vuforia Web API in Java...</p>\n<p>These are the requirements to submit a recognition query from the official website <a href=\"https://library.vuforia.com/web-api/vuforia-query-web-api\" rel=\"nofollow noreferrer\">https://library.vuforia.com/web-api/vuforia-query-web-api</a></p>\n<p><a href=\"https://i.stack.imgur.com/fIcVD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIcVD.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the explanation of building the signature key for Authorization header <a href=\"https://library.vuforia.com/web-api/vuforia-web-api-authentication\" rel=\"nofollow noreferrer\">https://library.vuforia.com/web-api/vuforia-web-api-authentication</a></p>\n<p><a href=\"https://i.stack.imgur.com/uLad5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uLad5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6cEHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6cEHL.png\" alt=\"enter image description here\" /></a></p>\n<p>They also provide a <a href=\"https://developer.vuforia.com/downloads/samples\" rel=\"nofollow noreferrer\">sample</a> in Java where you can find whole process of setting request with Authorization Header</p>\n<p>Following the instructions of sample i wrote the following code</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.security.SignatureException;\nimport java.util.Date;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.codec.digest.DigestUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.methods.HttpUriRequest;\nimport org.apache.http.entity.ContentType;\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.impl.cookie.DateUtils;\nimport org.apache.http.message.BasicHeader;\nimport org.apache.http.util.EntityUtils;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\n\n@Service\n@Repository\npublic class VuforiaServices {\n\nprivate static final String BASE_URL = &quot;https://cloudreco.vuforia.com&quot;;\n\nprivate static final String ACCESS_KEY = &quot;AGDPKY9CBAEVCKQENRZPX&quot;; // Replace with your Vuforia access key\nprivate static final String SECRET_KEY = &quot;eLIsEsiqloSazCWpn9csRHnqso784wZSi&quot;; // Replace with your Vuforia secret key\nprivate static final String DATABASE_ID = &quot;condivino&quot;; // Replace with your Vuforia database ID\n\npublic String tmsSignature(HttpUriRequest request, String secretKey) {\n    String method = request.getMethod();\n    String contentType = &quot;&quot;;\n    String hexDigest = &quot;d41d8cd98f00b204e9800998ecf8427e&quot;; // Hex digest of an empty string\n\n    if (method.equalsIgnoreCase(&quot;GET&quot;) || method.equalsIgnoreCase(&quot;DELETE&quot;)) {\n        // Do nothing because the strings are already set correctly\n    } else if (method.equalsIgnoreCase(&quot;POST&quot;) || method.equalsIgnoreCase(&quot;PUT&quot;)) {\n        contentType = &quot;application/json&quot;;\n        // If this is a POST or PUT the request should have a request body\n        hexDigest = contentMD5((HttpEntityEnclosingRequestBase) request);\n    } else {\n        System.out.println(&quot;ERROR: Invalid content type passed to Sig Builder&quot;);\n    }\n\n    // Date in the header and date used to calculate the hash must be the same\n    String dateValue = request.getFirstHeader(&quot;Date&quot;).getValue();\n    String requestPath = request.getURI().getPath();\n    String toDigest = new String(method + &quot;\\n&quot; + hexDigest + &quot;\\n&quot; + contentType + &quot;\\n&quot; + dateValue + &quot;\\n&quot; + requestPath);\n    String shaHashed = &quot;&quot;;\n    try {\n        System.out.println(toDigest);\n        shaHashed = calculateRFC2104HMAC(secretKey, toDigest);\n    } catch (SignatureException e) {\n        e.printStackTrace();\n    }\n    return new String(shaHashed);\n}\n\nprivate String contentMD5(HttpEntityEnclosingRequestBase httpMethod) {\n    ByteArrayOutputStream requestOutputStream = new ByteArrayOutputStream();\n    try {\n        httpMethod.getEntity().writeTo(requestOutputStream);\n    } catch (IOException e) {\n        System.out.println(&quot;ERROR: IOException caught when writing Content MD5 hash&quot;);\n        e.printStackTrace();\n    }\n    return DigestUtils.md5Hex(requestOutputStream.toByteArray()).toLowerCase();\n}\n\npublic static String calculateRFC2104HMAC(String key, String data) throws java.security.SignatureException {\n    String result = &quot;&quot;;\n    try {\n        // get an hmac_sha1 key from the raw key bytes\n        SecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), &quot;HmacSHA1&quot;);\n\n        // get an hmac_sha1 Mac instance and initialize with the signing key\n        Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\n        mac.init(signingKey);\n\n        // compute the hmac on input data bytes\n        byte[] rawHmac = mac.doFinal(data.getBytes());\n\n        // base64-encode the hmac\n        result = new String(org.apache.commons.codec.binary.Base64.encodeBase64(rawHmac, false));\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n\npublic void queryTargetRecognitionV2(String targetFilePath) throws URISyntaxException, ClientProtocolException, IOException {\n     String endpoint = &quot;/v1/query&quot;;\n     String url = BASE_URL + endpoint;\n     \n     HttpClient client = new DefaultHttpClient();\n     HttpPost postRequest = new HttpPost(url);\n\n    setBody(postRequest, targetFilePath);\n    setHeaders(postRequest);\n    \n    HttpResponse response = client.execute(postRequest);\n    System.out.println(EntityUtils.toString(response.getEntity()));\n}\n\nprivate void setHeaders(HttpUriRequest request) {\n    request.setHeader(new BasicHeader(&quot;Date&quot;, DateUtils.formatDate(new Date()).replaceFirst(&quot;[+]00:00$&quot;, &quot;&quot;)));\n    request.setHeader(&quot;Authorization&quot;, &quot;VWS &quot; + ACCESS_KEY + &quot;:&quot; + tmsSignature(request, SECRET_KEY));\n}\n\nprivate void setBody(HttpPost postRequest, String imagePath) {\n    File imageFile = new File(imagePath);\n    \n    // Create the multipart request entity\n    MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\n    entityBuilder.addTextBody(&quot;database_id&quot;, DATABASE_ID);\n    entityBuilder.addBinaryBody(&quot;image&quot;, imageFile, ContentType.IMAGE_PNG, imageFile.getName());\n    postRequest.setEntity(entityBuilder.build());\n}\n}\n</code></pre>\n<p>As result this is output from header</p>\n<pre><code>Method: POST\nContent-MD5: 8b8fcc7b800a277a832ce87833038725\nContent-Type: multipart/form-data\nDate: Tue, 30 May 2023 09:19:41 GMT\nRequest-Path: /v1/query\n</code></pre>\n<p>But somehow the API respond to me with an 401 ( AuthenticationFailure ) error that should be generated when the signature key is malformatted.</p>\n<pre><code>{&quot;transaction_id&quot;:&quot;34e9ab80bd9f47989141c5844322255d&quot;,&quot;result_code&quot;:&quot;AuthenticationFailure&quot;}\n</code></pre>\n<p>Maybe someone already integrated Vuforia Recognition Web API in Java and know to give me an answer to resolve this problem, the point is that the documentation on their website is not quite clear, or the sample that they provided is outdated? Of course I tried different approaches and tried to get some answers from their forum that now is readonly, but only thing i got is that I'm not the only getting troubles with signature key.</p>\n"},{"tags":["java","spring","spring-data-jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":5430343,"reputation":131,"user_id":4321414,"display_name":"Julien Antony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685440922,"creation_date":1685440922,"answer_id":76363692,"question_id":76362369,"body_markdown":"I assume the name of the procedure in the database is `Car.GetUsersByCity`. If that&#39;s the case, then replace your annotation with\r\n```java\r\n@Procedure(procedureName = &quot;Car.GetUsersByCity&quot;)\r\n```\r\n\r\nFrom the [javadoc](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/query/Procedure.html), &quot;name&quot; is dedicated to the name of the procedure in the EntityManager","title":"Mapping stored procedure result set to entity/POJO using Spring JPA with SQL Server - SQLGrammarException","body":"<p>I assume the name of the procedure in the database is <code>Car.GetUsersByCity</code>. If that's the case, then replace your annotation with</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Procedure(procedureName = &quot;Car.GetUsersByCity&quot;)\n</code></pre>\n<p>From the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/query/Procedure.html\" rel=\"nofollow noreferrer\">javadoc</a>, &quot;name&quot; is dedicated to the name of the procedure in the EntityManager</p>\n"}],"owner":{"account_id":1597267,"reputation":399,"user_id":1479046,"accept_rate":81,"display_name":"Vawani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685440922,"creation_date":1685430610,"question_id":76362369,"body_markdown":"I am using Spring JPA to execute a stored procedure in my application. The stored procedure takes two parameters and returns a result set. I have a repository interface called CarRepository that extends JpaRepository&lt;Car, Integer&gt;. In the repository, I have a custom method getAllCars annotated with @Procedure to invoke the stored procedure.\r\n\r\nHere is the updated code snippet for the repository:\r\n\r\n    @Repository\r\n    public interface CarRepository extends JpaRepository&lt;Car, Integer&gt; {\r\n        @Procedure(name = &quot;Car.GetUsersByCity&quot;)\r\n        Object[] getAllCars(@Param(&quot;cityName&quot;) String city, @Param(&quot;countryName&quot;) String country);\r\n    }\r\nThe Car entity class is already defined.\r\n\r\nWhen I invoke the getAllCars method, I encounter the following exception:\r\n\r\n \r\n\r\n    SOL Error: 102, SQLState: S0001\r\n    2023-05-30 12:17:52.817 ERROR 1508 _.- [nio-8080-exec-1] o.h.engine. jdbc. spi.SqlExceptionHelper\r\n    :Incorrect syntax near .\r\n    2023-05-30 12:17:52.860 ERROR 1508--- (nio-8080-exec-1] o.a.c.c.c.[.(.(/].(dispatcherServlet]\r\n    : Servlet.service () for\r\n    servlet [dispatcherServlet] in context with path [J threw exception [Request processing failed: nested exception 13 org.springframework.dao. InvalidDataAccessResourceUsageException: could not extract ResultSet: SQL (n/a]: nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near\r\n    at com.microsoft.sqlserver. jdbc. SQLServerException.makeFromDatabaseError (SQLServerException. java:216)\r\n\r\n   \r\n\r\n\r\n\r\nI have verified that the stored procedure GetUsersByCity is correctly defined in my SQL Server database with the appropriate parameter names and data types. However, I am unable to identify the cause of the syntax error.\r\n\r\nI would appreciate any insights or suggestions on how to resolve this issue and successfully map the result set from the stored procedure to the desired entity or POJO class using Spring JPA and SQL Server.\r\n\r\nThank you for your assistance!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Mapping stored procedure result set to entity/POJO using Spring JPA with SQL Server - SQLGrammarException","body":"<p>I am using Spring JPA to execute a stored procedure in my application. The stored procedure takes two parameters and returns a result set. I have a repository interface called CarRepository that extends JpaRepository&lt;Car, Integer&gt;. In the repository, I have a custom method getAllCars annotated with @Procedure to invoke the stored procedure.</p>\n<p>Here is the updated code snippet for the repository:</p>\n<pre><code>@Repository\npublic interface CarRepository extends JpaRepository&lt;Car, Integer&gt; {\n    @Procedure(name = &quot;Car.GetUsersByCity&quot;)\n    Object[] getAllCars(@Param(&quot;cityName&quot;) String city, @Param(&quot;countryName&quot;) String country);\n}\n</code></pre>\n<p>The Car entity class is already defined.</p>\n<p>When I invoke the getAllCars method, I encounter the following exception:</p>\n<pre><code>SOL Error: 102, SQLState: S0001\n2023-05-30 12:17:52.817 ERROR 1508 _.- [nio-8080-exec-1] o.h.engine. jdbc. spi.SqlExceptionHelper\n:Incorrect syntax near .\n2023-05-30 12:17:52.860 ERROR 1508--- (nio-8080-exec-1] o.a.c.c.c.[.(.(/].(dispatcherServlet]\n: Servlet.service () for\nservlet [dispatcherServlet] in context with path [J threw exception [Request processing failed: nested exception 13 org.springframework.dao. InvalidDataAccessResourceUsageException: could not extract ResultSet: SQL (n/a]: nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\ncom.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near\nat com.microsoft.sqlserver. jdbc. SQLServerException.makeFromDatabaseError (SQLServerException. java:216)\n</code></pre>\n<p>I have verified that the stored procedure GetUsersByCity is correctly defined in my SQL Server database with the appropriate parameter names and data types. However, I am unable to identify the cause of the syntax error.</p>\n<p>I would appreciate any insights or suggestions on how to resolve this issue and successfully map the result set from the stored procedure to the desired entity or POJO class using Spring JPA and SQL Server.</p>\n<p>Thank you for your assistance!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11369964,"reputation":158,"user_id":8335779,"accept_rate":38,"display_name":"Atik Faysal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685440762,"creation_date":1685440762,"answer_id":76363676,"question_id":76363391,"body_markdown":"I think you made a mistake. You add scroll listener to NestedScrollView, it should be add with RecyclerView.\r\n\r\nTry this \r\n\r\n    recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n                if (isLastItemDisplaying(recyclerView)) {\r\n                    //Calling the method getdata again\r\n                    page++;\r\n                    loadingPB.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n\r\nYou can check this [answare][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45908930/android-recyclerview-adding-pagination","title":"Page number is not working in onScroll view in android nested scroller view","body":"<p>I think you made a mistake. You add scroll listener to NestedScrollView, it should be add with RecyclerView.</p>\n<p>Try this</p>\n<pre><code>recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n            if (isLastItemDisplaying(recyclerView)) {\n                //Calling the method getdata again\n                page++;\n                loadingPB.setVisibility(View.VISIBLE);\n            }\n        }\n    });\n</code></pre>\n<p>You can check this <a href=\"https://stackoverflow.com/questions/45908930/android-recyclerview-adding-pagination\">answare</a></p>\n"}],"owner":{"account_id":24685170,"reputation":55,"user_id":18578453,"display_name":"Milindi Senevirathne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685440762,"creation_date":1685438721,"question_id":76363391,"body_markdown":"I am trying to add pagination to my code. As the first step, I am trying to fetch only 3 records for page = 1. When scrolling the page, I am trying to increase the page number using onScroll() method. But when I am scrolling page count is not increased. Why? \r\n\r\nThis is the code how I call onScroll method inside the onCreate method of my activity.\r\n```\r\nrecyclerView = findViewById(R.id.taskList);\r\n        loadingPB = findViewById(R.id.idPBLoading);\r\n        nestedSV = findViewById(R.id.idNestedSV);\r\n        page = 1;\r\n\r\n\r\n        nestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                // on scroll change we are checking when users scroll as bottom.\r\n                if (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\r\n                    // in this method we are incrementing page number,\r\n                    // making progress bar visible and calling get data method.\r\n                    page++;\r\n                    loadingPB.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nThis is how I fetch data from database.\r\n```\r\ndailyTaskViewModel.getAllTaskTemplatesByStatus(status).observe(this, new Observer&lt;List&lt;TaskTemplateWithTasks&gt;&gt;() {\r\n                @Override\r\n                public void onChanged(List&lt;TaskTemplateWithTasks&gt; templateWithTasks) {\r\n                    taskCount = templateWithTasks.size();\r\n                    if(templateWithTasks.size() == 0){\r\n                        messageText.setVisibility(View.VISIBLE);\r\n                    }\r\n                    else{\r\n                        messageText.setVisibility(View.GONE);\r\n                    }\r\n                    if (page == 1 &amp;&amp; templateWithTasks.size() &gt; 3) {\r\n                        List&lt;TaskTemplateWithTasks&gt; limitedList = templateWithTasks.subList(0, 3); // Get the first 3 elements\r\n                        dailyTaskListAdapter.setTaskTemplates(new ArrayList&lt;&gt;(limitedList));\r\n                    } else {\r\n                        dailyTaskListAdapter.setTaskTemplates(templateWithTasks);\r\n                    }\r\n                    dailyTaskListAdapter.notifyDataSetChanged();\r\n                    EditText search = findViewById(R.id.search);\r\n                    search.setText(&quot;&quot;);\r\n                    startAdapterFilter(searchText);\r\n\r\n                }\r\n            });\r\n```\r\n\r\nThis is activity.xml code.\r\n```\r\n&lt;androidx.core.widget.NestedScrollView\r\n            android:id=&quot;@+id/idNestedSV&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\r\n                android:background=&quot;@drawable/outline&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:padding=&quot;@dimen/content_padding&quot;&gt;\r\n\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;&gt;\r\n\r\n\r\n                    &lt;androidx.recyclerview.widget.RecyclerView\r\n                        android:id=&quot;@+id/taskList&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_marginRight=&quot;5dp&quot;\r\n                        app:layoutManager=&quot;LinearLayoutManager&quot;\r\n                        tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;\r\n                        tools:listitem=&quot;@layout/task_item&quot; /&gt;\r\n\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/message_text&quot;\r\n                        android:layout_marginTop=&quot;30dp&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:gravity=&quot;center&quot;\r\n                        android:textSize=&quot;20sp&quot;\r\n                        android:visibility=&quot;gone&quot;\r\n                        android:text=&quot;@string/can_t_find_records&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n                    &lt;ProgressBar\r\n                        android:id=&quot;@+id/idPBLoading&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n``` ","title":"Page number is not working in onScroll view in android nested scroller view","body":"<p>I am trying to add pagination to my code. As the first step, I am trying to fetch only 3 records for page = 1. When scrolling the page, I am trying to increase the page number using onScroll() method. But when I am scrolling page count is not increased. Why?</p>\n<p>This is the code how I call onScroll method inside the onCreate method of my activity.</p>\n<pre><code>recyclerView = findViewById(R.id.taskList);\n        loadingPB = findViewById(R.id.idPBLoading);\n        nestedSV = findViewById(R.id.idNestedSV);\n        page = 1;\n\n\n        nestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\n            @Override\n            public void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n                // on scroll change we are checking when users scroll as bottom.\n                if (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\n                    // in this method we are incrementing page number,\n                    // making progress bar visible and calling get data method.\n                    page++;\n                    loadingPB.setVisibility(View.VISIBLE);\n                }\n            }\n        });\n</code></pre>\n<p>This is how I fetch data from database.</p>\n<pre><code>dailyTaskViewModel.getAllTaskTemplatesByStatus(status).observe(this, new Observer&lt;List&lt;TaskTemplateWithTasks&gt;&gt;() {\n                @Override\n                public void onChanged(List&lt;TaskTemplateWithTasks&gt; templateWithTasks) {\n                    taskCount = templateWithTasks.size();\n                    if(templateWithTasks.size() == 0){\n                        messageText.setVisibility(View.VISIBLE);\n                    }\n                    else{\n                        messageText.setVisibility(View.GONE);\n                    }\n                    if (page == 1 &amp;&amp; templateWithTasks.size() &gt; 3) {\n                        List&lt;TaskTemplateWithTasks&gt; limitedList = templateWithTasks.subList(0, 3); // Get the first 3 elements\n                        dailyTaskListAdapter.setTaskTemplates(new ArrayList&lt;&gt;(limitedList));\n                    } else {\n                        dailyTaskListAdapter.setTaskTemplates(templateWithTasks);\n                    }\n                    dailyTaskListAdapter.notifyDataSetChanged();\n                    EditText search = findViewById(R.id.search);\n                    search.setText(&quot;&quot;);\n                    startAdapterFilter(searchText);\n\n                }\n            });\n</code></pre>\n<p>This is activity.xml code.</p>\n<pre><code>&lt;androidx.core.widget.NestedScrollView\n            android:id=&quot;@+id/idNestedSV&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\n                android:background=&quot;@drawable/outline&quot;\n                android:orientation=&quot;vertical&quot;\n                android:padding=&quot;@dimen/content_padding&quot;&gt;\n\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;&gt;\n\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:id=&quot;@+id/taskList&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;match_parent&quot;\n                        android:layout_marginLeft=&quot;5dp&quot;\n                        android:layout_marginRight=&quot;5dp&quot;\n                        app:layoutManager=&quot;LinearLayoutManager&quot;\n                        tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;\n                        tools:listitem=&quot;@layout/task_item&quot; /&gt;\n\n\n                    &lt;TextView\n                        android:id=&quot;@+id/message_text&quot;\n                        android:layout_marginTop=&quot;30dp&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;20sp&quot;\n                        android:visibility=&quot;gone&quot;\n                        android:text=&quot;@string/can_t_find_records&quot;\n                        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n                    &lt;ProgressBar\n                        android:id=&quot;@+id/idPBLoading&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/RelativeLayout&gt;\n\n\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9822,"page":403,"page_size":100}
