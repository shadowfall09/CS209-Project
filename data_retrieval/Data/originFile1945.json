{"items":[{"tags":["java","classpath","javac","jcstress"],"answers":[{"tags":[],"owner":{"account_id":978760,"reputation":1422,"user_id":999043,"accept_rate":83,"display_name":"Ralf H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556002273,"creation_date":1556002273,"answer_id":55805757,"question_id":54542348,"body_markdown":"You did not say which version of Java you used. But the same thing happens for me with a Windows JDK-8 build from Oracle. JDK-12 seems to be fine, though. Also, you could try one of these: https://builds.shipilev.net/.","title":"Error during run jcstress: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM","body":"<p>You did not say which version of Java you used. But the same thing happens for me with a Windows JDK-8 build from Oracle. JDK-12 seems to be fine, though. Also, you could try one of these: <a href=\"https://builds.shipilev.net/\" rel=\"nofollow noreferrer\">https://builds.shipilev.net/</a>.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634192640,"creation_date":1634192640,"answer_id":69565947,"question_id":54542348,"body_markdown":"When you try the newest version like JDK 16/17, it should work fine.","title":"Error during run jcstress: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM","body":"<p>When you try the newest version like JDK 16/17, it should work fine.</p>\n"}],"owner":{"account_id":6470184,"reputation":49,"user_id":5010603,"display_name":"Andrii Khrupalyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634192640,"creation_date":1549397713,"question_id":54542348,"body_markdown":"I&#39;m trying to run jcstress 0.5, but I&#39;m getting an error:\r\n\r\n```\r\nError: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nFull log:\r\n\r\n```\r\nProbing what VM modes are available:\r\n (failures are non-fatal, but may miss some interesting cases)\r\n\r\n----- [OK] [-Xint]\r\n----- [OK] [-XX:TieredStopAtLevel=1]\r\n----- [OK] []\r\n----- [N/A] [-XX:+UnlockDiagnosticVMOptions, -XX:+StressLCM, -XX:+StressGCM]\r\nError: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n\r\n----- [OK] [-XX:-TieredCompilation]\r\n----- [N/A] [-XX:-TieredCompilation, -XX:+UnlockDiagnosticVMOptions, -XX:+StressLCM, -XX:+StressGCM]\r\nError: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n\r\n\r\nInitializing and probing the target VM: \r\n (all failures are non-fatal, but may affect testing accuracy)\r\n\r\n----- [OK] Unlocking diagnostic VM options\r\nBurning up to figure out the exact CPU count....... done!\r\n\r\n----- [OK] Trimming down the default VM heap size to 1/8-th of max RAM\r\n----- [OK] Trimming down the number of compiler threads\r\n----- [OK] Trimming down the number of parallel GC threads\r\n----- [OK] Trimming down the number of concurrent GC threads\r\n----- [OK] Trimming down the number of G1 concurrent refinement GC threads\r\n----- [OK] Testing @Contended works on all results and infra objects\r\n----- [OK] Unlocking Whitebox API for online de-optimization\r\n----- [OK] Testing allocation profiling\r\n----- [FAILED] Trying Thread.onSpinWait\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: java.lang.Thread.onSpinWait()V\r\n\tat org.openjdk.jcstress.vm.ThreadSpinWaitTestMain.main(ThreadSpinWaitTestMain.java:30)\r\n\r\n\r\n  Hardware threads in use/available: 8/8, no yielding.\r\n  Test preset mode: &quot;default&quot;\r\n  Writing the test results to &quot;jcstress-results-2019-02-05-22-08-52.bin.gz&quot;\r\n  Parsing results to &quot;results/&quot;\r\n  Running each test matching &quot;.*&quot; for 1 forks, 5 iterations, 1000 ms each\r\n  Each JVM would execute at most 5 tests in the row.\r\n  Solo stride size will be autobalanced within [10, 10000] elements, but taking no more than 100 Mb.\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat java.io.Reader.&lt;init&gt;(Reader.java:78)\r\n\tat java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\r\n\tat org.openjdk.jcstress.infra.runners.TestList.getTests(TestList.java:53)\r\n\tat org.openjdk.jcstress.infra.runners.TestList.tests(TestList.java:105)\r\n\tat org.openjdk.jcstress.JCStress.getTests(JCStress.java:139)\r\n\tat org.openjdk.jcstress.JCStress.run(JCStress.java:67)\r\n\tat org.openjdk.jcstress.Main.main(Main.java:60)\r\n\r\n```\r\n\r\nCommand which I use to run tests:\r\n```\r\njava -cp jars/jcstress-core-0.5.jar:jars/jopt-simple-4.6.jar org.openjdk.jcstress.Main\r\n```\r\n\r\n","title":"Error during run jcstress: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM","body":"<p>I'm trying to run jcstress 0.5, but I'm getting an error:</p>\n\n<pre><code>Error: VM option 'StressLCM' is develop and is available only in debug version of VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>Full log:</p>\n\n<pre><code>Probing what VM modes are available:\n (failures are non-fatal, but may miss some interesting cases)\n\n----- [OK] [-Xint]\n----- [OK] [-XX:TieredStopAtLevel=1]\n----- [OK] []\n----- [N/A] [-XX:+UnlockDiagnosticVMOptions, -XX:+StressLCM, -XX:+StressGCM]\nError: VM option 'StressLCM' is develop and is available only in debug version of VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n\n----- [OK] [-XX:-TieredCompilation]\n----- [N/A] [-XX:-TieredCompilation, -XX:+UnlockDiagnosticVMOptions, -XX:+StressLCM, -XX:+StressGCM]\nError: VM option 'StressLCM' is develop and is available only in debug version of VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n\n\nInitializing and probing the target VM: \n (all failures are non-fatal, but may affect testing accuracy)\n\n----- [OK] Unlocking diagnostic VM options\nBurning up to figure out the exact CPU count....... done!\n\n----- [OK] Trimming down the default VM heap size to 1/8-th of max RAM\n----- [OK] Trimming down the number of compiler threads\n----- [OK] Trimming down the number of parallel GC threads\n----- [OK] Trimming down the number of concurrent GC threads\n----- [OK] Trimming down the number of G1 concurrent refinement GC threads\n----- [OK] Testing @Contended works on all results and infra objects\n----- [OK] Unlocking Whitebox API for online de-optimization\n----- [OK] Testing allocation profiling\n----- [FAILED] Trying Thread.onSpinWait\nException in thread \"main\" java.lang.NoSuchMethodError: java.lang.Thread.onSpinWait()V\n    at org.openjdk.jcstress.vm.ThreadSpinWaitTestMain.main(ThreadSpinWaitTestMain.java:30)\n\n\n  Hardware threads in use/available: 8/8, no yielding.\n  Test preset mode: \"default\"\n  Writing the test results to \"jcstress-results-2019-02-05-22-08-52.bin.gz\"\n  Parsing results to \"results/\"\n  Running each test matching \".*\" for 1 forks, 5 iterations, 1000 ms each\n  Each JVM would execute at most 5 tests in the row.\n  Solo stride size will be autobalanced within [10, 10000] elements, but taking no more than 100 Mb.\n\nException in thread \"main\" java.lang.NullPointerException\n    at java.io.Reader.&lt;init&gt;(Reader.java:78)\n    at java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\n    at org.openjdk.jcstress.infra.runners.TestList.getTests(TestList.java:53)\n    at org.openjdk.jcstress.infra.runners.TestList.tests(TestList.java:105)\n    at org.openjdk.jcstress.JCStress.getTests(JCStress.java:139)\n    at org.openjdk.jcstress.JCStress.run(JCStress.java:67)\n    at org.openjdk.jcstress.Main.main(Main.java:60)\n\n</code></pre>\n\n<p>Command which I use to run tests:</p>\n\n<pre><code>java -cp jars/jcstress-core-0.5.jar:jars/jopt-simple-4.6.jar org.openjdk.jcstress.Main\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":4,"creation_date":1634019874,"post_id":69535836,"comment_id":122907074,"body_markdown":"Have you considered `for(i in 0 until table.size-8)`?","body":"Have you considered <code>for(i in 0 until table.size-8)</code>?"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1634019899,"post_id":69535836,"comment_id":122907080,"body_markdown":"Does this answer your question? [Why was the indexed for loop removed in Kotlin?](https://stackoverflow.com/questions/45144495/why-was-the-indexed-for-loop-removed-in-kotlin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45144495/why-was-the-indexed-for-loop-removed-in-kotlin\">Why was the indexed for loop removed in Kotlin?</a>"}],"answers":[{"tags":[],"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634026799,"creation_date":1634026799,"answer_id":69537193,"question_id":69535836,"body_markdown":"You can just move the `-8` into the upper limit, and since you include (`&lt;=`) the upper limit you shouldn&#39;t be using until, but the regular range expansion with two dots.\r\n\r\nSo it becomes:\r\n\r\n    for (i in 0..table.size-8){\r\n        for (j in 0..table[i].size-8){}\r\n    }\r\n\r\n(I imagine you would also want to replace the magical number eight with a variable with a meaningful name)","title":"Convert Java loop to Kotlin","body":"<p>You can just move the <code>-8</code> into the upper limit, and since you include (<code>&lt;=</code>) the upper limit you shouldn't be using until, but the regular range expansion with two dots.</p>\n<p>So it becomes:</p>\n<pre><code>for (i in 0..table.size-8){\n    for (j in 0..table[i].size-8){}\n}\n</code></pre>\n<p>(I imagine you would also want to replace the magical number eight with a variable with a meaningful name)</p>\n"}],"owner":{"account_id":18732360,"reputation":3,"user_id":13657461,"display_name":"ilovepizza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634051873,"accepted_answer_id":69537193,"answer_count":1,"score":0,"last_activity_date":1634192399,"creation_date":1634019097,"question_id":69535836,"body_markdown":"\r\nI&#39;m studying implementation with Kotlin. When I implement Kotlin version by below situation, I can&#39;t imagine cool way.\r\n\r\n```java\r\nfor(i = 0 ; i + 8 &lt;= table.size; i++){\r\n for(j = 0 ; j + 8 &lt;= table[0].size; j++{\r\n  whatever\r\n }\r\n}\r\n```\r\nAbove code is Java version\r\n\r\n```kotlin\r\nfor(i in 0 until table.size){\r\n if(i+8 &gt; table.size)break\r\n  for(j in until table[0].size){\r\n    if(j+8 &gt; table[0].size)break\r\n      whatever\r\n   }\r\n}\r\n```\r\nAbove is Kotlin version which I think.\r\n\r\nIs this fine way? ","title":"Convert Java loop to Kotlin","body":"<p>I'm studying implementation with Kotlin. When I implement Kotlin version by below situation, I can't imagine cool way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(i = 0 ; i + 8 &lt;= table.size; i++){\n for(j = 0 ; j + 8 &lt;= table[0].size; j++{\n  whatever\n }\n}\n</code></pre>\n<p>Above code is Java version</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>for(i in 0 until table.size){\n if(i+8 &gt; table.size)break\n  for(j in until table[0].size){\n    if(j+8 &gt; table[0].size)break\n      whatever\n   }\n}\n</code></pre>\n<p>Above is Kotlin version which I think.</p>\n<p>Is this fine way?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3205406,"reputation":99,"user_id":2706534,"display_name":"user2706534"},"score":1,"creation_date":1634162508,"post_id":69562106,"comment_id":122955080,"body_markdown":"It&#39;s hard to say anything; looks like some kind of typo. Blind guess - check if all annotations are in place: `@Component` at class that implements CompactDisc, `@Configuration` and `@ComponentScan` at CDPlayerConfig. Plus - all classes are in &quot;soundsystem&quot; package (`&lt;context:component-scan base-package=&quot;soundsystem&quot; /&gt;`)","body":"It&#39;s hard to say anything; looks like some kind of typo. Blind guess - check if all annotations are in place: <code>@Component</code> at class that implements CompactDisc, <code>@Configuration</code> and <code>@ComponentScan</code> at CDPlayerConfig. Plus - all classes are in &quot;soundsystem&quot; package (<code>&lt;context:component-scan base-package=&quot;soundsystem&quot; &#47;&gt;</code>)"}],"answers":[{"tags":[],"owner":{"account_id":16185685,"reputation":1,"user_id":17138684,"display_name":"chrislo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634192361,"creation_date":1634192361,"answer_id":69565899,"question_id":69562106,"body_markdown":"Be sure to import org.junit.Test instead of org.junit.jupiter.api.Test","title":"Spring Beans not wiring?","body":"<p>Be sure to import org.junit.Test instead of org.junit.jupiter.api.Test</p>\n"}],"owner":{"account_id":21216317,"reputation":15,"user_id":15603874,"display_name":"ChunkyLover53"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634192361,"creation_date":1634157935,"question_id":69562106,"body_markdown":"I&#39;m going through the book &quot;Spring in Action&quot; eth Edition and trying to follow along.\r\n\r\nI&#39;ve tried copying the CDPlayer example code from chapter 2:\r\nhttps://livebook.manning.com/book/spring-in-action-fourth-edition/chapter-2/1\r\n\r\nas far as the test class:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes=CDPlayerConfig.class)\r\n    public class CDPlayerTest\r\n    {\r\n       @Autowired\r\n       private CompactDisc cd;\r\n    \r\n       @Test\r\n       public void cdShouldNotBeNull() {\r\n          cd.play();\r\n       }\r\n    }\r\n\r\nBut the test fails:\r\n\r\n    org.junit.runners.model.InvalidTestClassError: Invalid test class &#39;com.example.soundsystem.CDPlayerTest&#39;:\r\n\r\n  \r\n\r\n    1. No runnable methods\r\n\r\n\tat org.junit.runners.ParentRunner.validate(ParentRunner.java:525)\r\n\tat org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:92)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:74)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:137)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n\tat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder$DefensiveAnnotatedBuilder.buildRunner(DefensiveAllDefaultPossibilitiesBuilder.java:114)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\r\n\tat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder.runnerForClass(DefensiveAllDefaultPossibilitiesBuilder.java:57)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.vintage.engine.discovery.ClassSelectorResolver.resolveTestClass(ClassSelectorResolver.java:66)\r\n\tat org.junit.vintage.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:47)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:134)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\r\n\tat org.junit.vintage.engine.discovery.VintageDiscoverer.discover(VintageDiscoverer.java:44)\r\n\tat org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:63)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n\r\n\r\n\r\n\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.example.soundsystem.CompactDisc.play()&quot; because &quot;this.cd&quot; is null\r\n\r\n\tat com.example.soundsystem.CDPlayerTest.cdShouldNotBeNull(CDPlayerTest.java:19)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n\r\n\r\nStruggling to get this working. It doesn&#39;t help that the book doesn&#39;t actually cover how to set up Spring (as far as I can see). When creating the project I just used https://start.spring.io/ and didn&#39;t add any dependencies, as I assume I won&#39;t need any for this other than spring boot itself\r\n\r\n","title":"Spring Beans not wiring?","body":"<p>I'm going through the book &quot;Spring in Action&quot; eth Edition and trying to follow along.</p>\n<p>I've tried copying the CDPlayer example code from chapter 2:\n<a href=\"https://livebook.manning.com/book/spring-in-action-fourth-edition/chapter-2/1\" rel=\"nofollow noreferrer\">https://livebook.manning.com/book/spring-in-action-fourth-edition/chapter-2/1</a></p>\n<p>as far as the test class:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes=CDPlayerConfig.class)\npublic class CDPlayerTest\n{\n   @Autowired\n   private CompactDisc cd;\n\n   @Test\n   public void cdShouldNotBeNull() {\n      cd.play();\n   }\n}\n</code></pre>\n<p>But the test fails:</p>\n<pre><code>org.junit.runners.model.InvalidTestClassError: Invalid test class 'com.example.soundsystem.CDPlayerTest':\n\n\n\n1. No runnable methods\n\nat org.junit.runners.ParentRunner.validate(ParentRunner.java:525)\nat org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:92)\nat org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:74)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:137)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\nat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder$DefensiveAnnotatedBuilder.buildRunner(DefensiveAllDefaultPossibilitiesBuilder.java:114)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\nat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder.runnerForClass(DefensiveAllDefaultPossibilitiesBuilder.java:57)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\nat org.junit.vintage.engine.discovery.ClassSelectorResolver.resolveTestClass(ClassSelectorResolver.java:66)\nat org.junit.vintage.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:47)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:134)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\nat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\nat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\nat org.junit.vintage.engine.discovery.VintageDiscoverer.discover(VintageDiscoverer.java:44)\nat org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:63)\nat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\nat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\nat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n\n\n\n\n\njava.lang.NullPointerException: Cannot invoke &quot;com.example.soundsystem.CompactDisc.play()&quot; because &quot;this.cd&quot; is null\n\nat com.example.soundsystem.CDPlayerTest.cdShouldNotBeNull(CDPlayerTest.java:19)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n</code></pre>\n<p>Struggling to get this working. It doesn't help that the book doesn't actually cover how to set up Spring (as far as I can see). When creating the project I just used <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> and didn't add any dependencies, as I assume I won't need any for this other than spring boot itself</p>\n"},{"tags":["java","eclipse","jsp","tomcat"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1634133438,"post_id":69556824,"comment_id":122944722,"body_markdown":"Does `&lt;%@ page import=&quot;java.util.Date&quot; %&gt;` instead of `&lt;%@ page import java.util.Date()%&gt;` work?","body":"Does <code>&lt;%@ page import=&quot;java.util.Date&quot; %&gt;</code> instead of <code>&lt;%@ page import java.util.Date()%&gt;</code> work?"},{"owner":{"account_id":22929497,"reputation":35,"user_id":17064053,"display_name":"melololo"},"score":0,"creation_date":1634134031,"post_id":69556824,"comment_id":122944974,"body_markdown":"no it doesn&#39;t work","body":"no it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":22946308,"reputation":69,"user_id":17078245,"display_name":"kody-technolab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634192346,"creation_date":1634192346,"answer_id":69565896,"question_id":69556824,"body_markdown":"Try below code, \r\n\r\n    &lt;%@ page import=&quot;java.util.Date&quot;%&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;Message of the Day Application&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body bgcolor=&quot;green&quot;&gt;\r\n        &lt;h1 align=&quot;center&quot;&gt;Welcome to MOTD Application&lt;/h1&gt;\r\n        &lt;h1 align=&quot;center&quot;&gt;Version 2.0&lt;/h1&gt;\r\n        &lt;h1&gt;Message of the Day: Cloud Computing is Cooler!&lt;/h1&gt;\r\n        &lt;h2&gt;The date and time now is &lt;%= new Date() %&gt;&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAlso one more thing here as we have imported java.util.Date class then no need to use fully qualified name while using it. We can use it directly with the class name like this &lt;%= new Date() %&gt;","title":"Create JSP file in Eclipse using Apache Tomcat","body":"<p>Try below code,</p>\n<pre><code>&lt;%@ page import=&quot;java.util.Date&quot;%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Message of the Day Application&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body bgcolor=&quot;green&quot;&gt;\n    &lt;h1 align=&quot;center&quot;&gt;Welcome to MOTD Application&lt;/h1&gt;\n    &lt;h1 align=&quot;center&quot;&gt;Version 2.0&lt;/h1&gt;\n    &lt;h1&gt;Message of the Day: Cloud Computing is Cooler!&lt;/h1&gt;\n    &lt;h2&gt;The date and time now is &lt;%= new Date() %&gt;&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Also one more thing here as we have imported java.util.Date class then no need to use fully qualified name while using it. We can use it directly with the class name like this &lt;%= new Date() %&gt;</p>\n"}],"owner":{"account_id":22929497,"reputation":35,"user_id":17064053,"display_name":"melololo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634192346,"creation_date":1634133152,"question_id":69556824,"body_markdown":"This is my first time using Eclipse and Tomcat.\r\nI want to add an `index,jsp` file containing the following HTTML/JSP content.\r\n\r\n\r\n    &lt;%@ page import java.util.Date()%&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    \t&lt;head&gt;\r\n    \t&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    \t&lt;title&gt;Message of the Day Application&lt;/title&gt;\r\n    \t&lt;/head&gt;\r\n    \t&lt;body bgcolor=&quot;green&quot;&gt;\r\n    \t&lt;h1 align=&quot;center&quot;&gt;Welcome to MOTD Application&lt;/h1&gt;\r\n    \t&lt;h1 align=&quot;center&quot;&gt;Version 2.0&lt;/h1&gt;\r\n    \t&lt;h1&gt;Message of the Day: Cloud Computing is Cooler!&lt;/h1&gt;\r\n    \t&lt;h2&gt;The date and time now is &lt;%= new java.util.Date() %&gt;&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nError:\r\n\r\n    java.util.Date cannot be resolved to a type\r\nError raised for the `java.util.Date()` in the line prior to `&lt;/body&gt;`","title":"Create JSP file in Eclipse using Apache Tomcat","body":"<p>This is my first time using Eclipse and Tomcat.\nI want to add an <code>index,jsp</code> file containing the following HTTML/JSP content.</p>\n<pre><code>&lt;%@ page import java.util.Date()%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Message of the Day Application&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body bgcolor=&quot;green&quot;&gt;\n    &lt;h1 align=&quot;center&quot;&gt;Welcome to MOTD Application&lt;/h1&gt;\n    &lt;h1 align=&quot;center&quot;&gt;Version 2.0&lt;/h1&gt;\n    &lt;h1&gt;Message of the Day: Cloud Computing is Cooler!&lt;/h1&gt;\n    &lt;h2&gt;The date and time now is &lt;%= new java.util.Date() %&gt;&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>java.util.Date cannot be resolved to a type\n</code></pre>\n<p>Error raised for the <code>java.util.Date()</code> in the line prior to <code>&lt;/body&gt;</code></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633089015,"post_id":69402451,"comment_id":122673487,"body_markdown":"If it shouldn&#39;t be fetched why do you map it?","body":"If it shouldn&#39;t be fetched why do you map it?"},{"owner":{"account_id":21664877,"reputation":1,"user_id":15983445,"display_name":"developer"},"score":0,"creation_date":1633092745,"post_id":69402451,"comment_id":122675071,"body_markdown":"@SimonMartinelli, I mapped it to save the data of a candidate in all the associated tables in one go. i.e. repo.save(candidate).","body":"@SimonMartinelli, I mapped it to save the data of a candidate in all the associated tables in one go. i.e. repo.save(candidate)."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633092814,"post_id":69402451,"comment_id":122675097,"body_markdown":"Your requirement does not match how JPA works.","body":"Your requirement does not match how JPA works."},{"owner":{"account_id":21664877,"reputation":1,"user_id":15983445,"display_name":"developer"},"score":0,"creation_date":1633093041,"post_id":69402451,"comment_id":122675200,"body_markdown":"ok..you mean if we are saving the data via mapping, then it will bring back the data as well everything...is it? No JPA query can help me out","body":"ok..you mean if we are saving the data via mapping, then it will bring back the data as well everything...is it? No JPA query can help me out"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633093437,"post_id":69402451,"comment_id":122675347,"body_markdown":"That&#39;s the way it works. You have set the fetch type to lazy but then the candidate will contain a proxy that will trigger the load if you access the property","body":"That&#39;s the way it works. You have set the fetch type to lazy but then the candidate will contain a proxy that will trigger the load if you access the property"},{"owner":{"account_id":21664877,"reputation":1,"user_id":15983445,"display_name":"developer"},"score":0,"creation_date":1633093706,"post_id":69402451,"comment_id":122675461,"body_markdown":"just an update, I am now exploring criteria and projections for the same. Also, if someone knows if we have field level annotation in spring boot to skip the particular column (like we have @JsonIgnore in jackson) which would tell hibernate not to fetch that column data.","body":"just an update, I am now exploring criteria and projections for the same. Also, if someone knows if we have field level annotation in spring boot to skip the particular column (like we have @JsonIgnore in jackson) which would tell hibernate not to fetch that column data."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633093854,"post_id":69402451,"comment_id":122675534,"body_markdown":"There is no annotation for that. Because that way you&#39;d get an incomplete entity and if you for whatever reason try to save the candidate my be deleted (depending on the cascading)","body":"There is no annotation for that. Because that way you&#39;d get an incomplete entity and if you for whatever reason try to save the candidate my be deleted (depending on the cascading)"},{"owner":{"account_id":21664877,"reputation":1,"user_id":15983445,"display_name":"developer"},"score":0,"creation_date":1633094359,"post_id":69402451,"comment_id":122675740,"body_markdown":"Thank you @SimonMartinelli...I appreciate your quick help...will look for a different approach then :)","body":"Thank you @SimonMartinelli...I appreciate your quick help...will look for a different approach then :)"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634192223,"creation_date":1634192223,"answer_id":69565879,"question_id":69402451,"body_markdown":"What you need here is a DTO and I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Candidate.class)\r\n    public interface CandidateDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        AddressDto getAddress();\r\n        Set&lt;SkillsDto&gt; getSkills();\r\n\r\n        @EntityView(Address.class)\r\n        interface AddressDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n        @EntityView(Skills.class)\r\n        interface SkillsDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`CandidateDto a = entityViewManager.find(entityManager, CandidateDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;CandidateDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"JPA Hibernate SQL Query to NOT fetch data from one of the associated tables","body":"<p>What you need here is a DTO and I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Candidate.class)\npublic interface CandidateDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    AddressDto getAddress();\n    Set&lt;SkillsDto&gt; getSkills();\n\n    @EntityView(Address.class)\n    interface AddressDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n    @EntityView(Skills.class)\n    interface SkillsDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>CandidateDto a = entityViewManager.find(entityManager, CandidateDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;CandidateDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":21664877,"reputation":1,"user_id":15983445,"display_name":"developer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634192223,"creation_date":1633075277,"question_id":69402451,"body_markdown":"I am trying to make use of JPA query to fetch the data from DB using below query:\r\n\r\n    from Candidate c where c.id = :id\r\nwhere, id = candidate_id(primary key of main table).\r\n\r\nThis query fetch the data from all of its associated tables as well, whereas my requirement is to fetch the data only from 2 of its associated tables. Because 3rd table contains heavy JSON data which degrades the response time of above query.\r\n\r\nI tried using **JOIN**, **Fetch JOIN** of parent with its 2 associated tables but it didn&#39;t work. I was also looking into how we can skip just one column data(column of 3rd table with heavy JSON) while fetching the Candidate data but with no luck.\r\n\r\nIs it possible to achieve it using JPA query or I need to try something else? I am good to save candidate and all its associated tables data in one go using `repo.save(candidate)` but don&#39;t want to fetch one of the related tables data.\r\n\r\nThis is how I have made the association in spring-boot:\r\n\r\nCANDIDATE ENTITY:\r\n\r\n    @OneToOne(cascade = CascadeType.ALL,                              \r\n            fetch = FetchType.LAZY,                                   \r\n            mappedBy = &quot;candidate&quot;)                                    \r\n    @JsonManagedReference                                             \r\n    private Address address;                            \r\n                                                                      \r\n    @OneToMany(cascade = CascadeType.ALL,                             \r\n            fetch = FetchType.LAZY,                                   \r\n            mappedBy = &quot;candidate&quot;)                                    \r\n    @JsonManagedReference                                             \r\n    private Set&lt;Skills&gt; skills= new HashSet&lt;&gt;();                    \r\n                                                                      \r\n    @OneToMany(cascade = CascadeType.ALL,                             \r\n            fetch = FetchType.LAZY,                                   \r\n            mappedBy = &quot;candidate&quot;)                                    \r\n    @JsonManagedReference                                             \r\n    private Set&lt;Prefrence&gt; prefrences = new HashSet&lt;&gt;();\r\n\r\n\r\nADDRESS ENTITY:\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;candidate_id&quot;)\r\n        @JsonBackReference\r\n        private Candidate candidate;\r\n\r\nSKILLS ENTITY:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;candidate_id&quot;)\r\n        @JsonBackReference\r\n        private Candidate candidate;\r\n    //rest of the fields\r\n\r\nPREFERENCE ENTITY:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;candidate_id&quot;)\r\n        @JsonBackReference\r\n        private Candidate candidate;\r\n    //rest of the fields\r\n\r\nI don&#39;t want to fetch Preference entity data when using `candidateRepo.findById(id)` It should be always null in fetched Candidate\r\nAttached the diagram\r\n[diagram][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1irF3.png","title":"JPA Hibernate SQL Query to NOT fetch data from one of the associated tables","body":"<p>I am trying to make use of JPA query to fetch the data from DB using below query:</p>\n<pre><code>from Candidate c where c.id = :id\n</code></pre>\n<p>where, id = candidate_id(primary key of main table).</p>\n<p>This query fetch the data from all of its associated tables as well, whereas my requirement is to fetch the data only from 2 of its associated tables. Because 3rd table contains heavy JSON data which degrades the response time of above query.</p>\n<p>I tried using <strong>JOIN</strong>, <strong>Fetch JOIN</strong> of parent with its 2 associated tables but it didn't work. I was also looking into how we can skip just one column data(column of 3rd table with heavy JSON) while fetching the Candidate data but with no luck.</p>\n<p>Is it possible to achieve it using JPA query or I need to try something else? I am good to save candidate and all its associated tables data in one go using <code>repo.save(candidate)</code> but don't want to fetch one of the related tables data.</p>\n<p>This is how I have made the association in spring-boot:</p>\n<p>CANDIDATE ENTITY:</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL,                              \n        fetch = FetchType.LAZY,                                   \n        mappedBy = &quot;candidate&quot;)                                    \n@JsonManagedReference                                             \nprivate Address address;                            \n                                                                  \n@OneToMany(cascade = CascadeType.ALL,                             \n        fetch = FetchType.LAZY,                                   \n        mappedBy = &quot;candidate&quot;)                                    \n@JsonManagedReference                                             \nprivate Set&lt;Skills&gt; skills= new HashSet&lt;&gt;();                    \n                                                                  \n@OneToMany(cascade = CascadeType.ALL,                             \n        fetch = FetchType.LAZY,                                   \n        mappedBy = &quot;candidate&quot;)                                    \n@JsonManagedReference                                             \nprivate Set&lt;Prefrence&gt; prefrences = new HashSet&lt;&gt;();\n</code></pre>\n<p>ADDRESS ENTITY:</p>\n<pre><code>@OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;candidate_id&quot;)\n    @JsonBackReference\n    private Candidate candidate;\n</code></pre>\n<p>SKILLS ENTITY:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;candidate_id&quot;)\n    @JsonBackReference\n    private Candidate candidate;\n//rest of the fields\n</code></pre>\n<p>PREFERENCE ENTITY:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;candidate_id&quot;)\n    @JsonBackReference\n    private Candidate candidate;\n//rest of the fields\n</code></pre>\n<p>I don't want to fetch Preference entity data when using <code>candidateRepo.findById(id)</code> It should be always null in fetched Candidate\nAttached the diagram\n<a href=\"https://i.stack.imgur.com/1irF3.png\" rel=\"nofollow noreferrer\">diagram</a></p>\n"},{"tags":["java","json","rest","content-type","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":2488823,"reputation":1044,"user_id":2166750,"accept_rate":56,"display_name":"Bert Verhees"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422698397,"creation_date":1422698397,"answer_id":28250358,"question_id":28245362,"body_markdown":"I found the answer myself. I need to put a mediatype to the @Post-annotation in the Rest resource layer, like this\r\n\r\n    @Post(&quot;json&quot;)\r\n\r\n","title":"Swagger 415 Unsupported media type: application/json instead of text/plain in POST request","body":"<p>I found the answer myself. I need to put a mediatype to the @Post-annotation in the Rest resource layer, like this</p>\n\n<pre><code>@Post(\"json\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15176699,"reputation":106,"user_id":10951219,"display_name":"Polyana Pimenta"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1548175810,"creation_date":1548174361,"answer_id":54312503,"question_id":28245362,"body_markdown":"If this helps anyone in the future,\r\n\r\nIn my case the error:\r\n\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2019-01-22T18:23:48.989+0000&quot;,\r\n  &quot;status&quot;: 415,\r\n  &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n  &quot;message&quot;: &quot;Content type &#39;&#39; not supported&quot;,\r\n  &quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;&#39; not supported\r\n\r\n  [...]\r\n}\r\n```\r\n\r\nI was putting in the @RequestMapping:\r\n\r\n```\r\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\r\n\r\n@RequestMapping(value = &quot;/products&quot;, \r\n                consumes= APPLICATION_JSON_VALUE, \r\n                produces = APPLICATION_JSON_VALUE)\r\npublic class ProductResource {\r\n\r\n [...]\r\n\r\n}\r\n```\r\n\r\nBut I realized that what was generating this error was the &#39;consumes&#39;, removing it from @RequestMapping everything worked on the Swagger interface ui.\r\n\r\nright:\r\n\r\n```\r\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\r\n\r\n@RequestMapping(value = &quot;/products&quot;, \r\n                produces = APPLICATION_JSON_VALUE)\r\npublic class ProductResource {\r\n\r\n [...]\r\n\r\n}\r\n```","title":"Swagger 415 Unsupported media type: application/json instead of text/plain in POST request","body":"<p>If this helps anyone in the future,</p>\n\n<p>In my case the error:</p>\n\n<pre><code>{\n  \"timestamp\": \"2019-01-22T18:23:48.989+0000\",\n  \"status\": 415,\n  \"error\": \"Unsupported Media Type\",\n  \"message\": \"Content type '' not supported\",\n  \"trace\": \"org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported\n\n  [...]\n}\n</code></pre>\n\n<p>I was putting in the @RequestMapping:</p>\n\n<pre><code>import static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\n\n@RequestMapping(value = \"/products\", \n                consumes= APPLICATION_JSON_VALUE, \n                produces = APPLICATION_JSON_VALUE)\npublic class ProductResource {\n\n [...]\n\n}\n</code></pre>\n\n<p>But I realized that what was generating this error was the 'consumes', removing it from @RequestMapping everything worked on the Swagger interface ui.</p>\n\n<p>right:</p>\n\n<pre><code>import static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\n\n@RequestMapping(value = \"/products\", \n                produces = APPLICATION_JSON_VALUE)\npublic class ProductResource {\n\n [...]\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10908630,"reputation":11,"user_id":8018693,"display_name":"Mitali Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610557070,"creation_date":1610557070,"answer_id":65706399,"question_id":28245362,"body_markdown":"Was facing the same issue on Swagger Ui, removing &quot;Consumes&quot; from @RequestMapping worked for me as well.","title":"Swagger 415 Unsupported media type: application/json instead of text/plain in POST request","body":"<p>Was facing the same issue on Swagger Ui, removing &quot;Consumes&quot; from @RequestMapping worked for me as well.</p>\n"},{"tags":[],"owner":{"account_id":16141794,"reputation":104,"user_id":11652703,"display_name":"Michaeluuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614518108,"creation_date":1614518108,"answer_id":66409468,"question_id":28245362,"body_markdown":"This worked for me \r\n\r\n    headers: &lt;String, String&gt;{\r\n            &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n          },\r\n\r\nInitially, it was like this:\r\n \r\n\r\n        headers: &lt;String, String&gt;{\r\n                &#39;Content-Type&#39;: &#39;application/json; charset=UTF-8&#39;,\r\n          },\r\n\r\nand the later one returned this json from the GO swagger backend,\r\n\r\n&gt; {code: 415, message: unsupported media type &quot;text/plain&quot;, only\r\n&gt; [application/json] are allowed}\r\n\r\n","title":"Swagger 415 Unsupported media type: application/json instead of text/plain in POST request","body":"<p>This worked for me</p>\n<pre><code>headers: &lt;String, String&gt;{\n        'Content-Type': 'application/json',\n      },\n</code></pre>\n<p>Initially, it was like this:</p>\n<pre><code>    headers: &lt;String, String&gt;{\n            'Content-Type': 'application/json; charset=UTF-8',\n      },\n</code></pre>\n<p>and the later one returned this json from the GO swagger backend,</p>\n<blockquote>\n<p>{code: 415, message: unsupported media type &quot;text/plain&quot;, only\n[application/json] are allowed}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5561110,"reputation":11,"user_id":4410309,"display_name":"Tom Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634191730,"creation_date":1634191730,"answer_id":69565808,"question_id":28245362,"body_markdown":"For me, my problem was the combined use of a `@RequestBody`, i.e. originally, my API endpoint looked like:\r\n\r\n&gt; public ResponseEntity&lt;?&gt; editDetails(@RequestBody @Valid\r\n&gt; EditDetailsRequestDto requestDto, @RequestPart @ApiParam(value=&quot;File&quot;)\r\n&gt; MultipartFile businessLicense) { ...\r\n\r\nBut when I changed `@RequestBody` to a bunch of `@RequestParam`s it fixed the 415 error.","title":"Swagger 415 Unsupported media type: application/json instead of text/plain in POST request","body":"<p>For me, my problem was the combined use of a <code>@RequestBody</code>, i.e. originally, my API endpoint looked like:</p>\n<blockquote>\n<p>public ResponseEntity&lt;?&gt; editDetails(@RequestBody @Valid\nEditDetailsRequestDto requestDto, @RequestPart @ApiParam(value=&quot;File&quot;)\nMultipartFile businessLicense) { ...</p>\n</blockquote>\n<p>But when I changed <code>@RequestBody</code> to a bunch of <code>@RequestParam</code>s it fixed the 415 error.</p>\n"}],"owner":{"account_id":2488823,"reputation":1044,"user_id":2166750,"accept_rate":56,"display_name":"Bert Verhees"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24908,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54312503,"answer_count":5,"score":4,"last_activity_date":1634191730,"creation_date":1422655261,"question_id":28245362,"body_markdown":"I have two REST-GUI&#39;s to test my REST-application.\r\nOne is created with swagger, and the other is Advanced REST Client which runs in Chrome.\r\n\r\nI do a post to a service, the Swagger fails with error 415, and the Advanced Rest Client succeeds.\r\n\r\nThe difference between the two is the Content-Type in the request header. The OK-version has Content-Type: text/plain\r\nThe Error version has: Content-Type: application/json\r\n\r\nFor the rest, both are quite the same. I cut off the payload, but they are also exact the same in both cases.\r\n\r\nI don&#39;t know how to change Content-Type in Swagger, if it is possible and if it is needed.\r\n\r\nBelow is information which you could need to help me in this issue. If you need more info, please need.\r\n\r\nThanks very much for any help.\r\n\r\nBest regards.\r\n\r\nThe information look like:\r\n\r\n---------------------\r\n**OK: Advanced REST Client**\r\n\r\n    Remote Address:127.0.0.1:8080\r\n    Request URL:http://localhost:8080/oak-kernel-2.0/oak/archetype\r\n    Request Method:POST\r\n    Status Code:200 OK\r\n\r\n    POST /oak-kernel-2.0/oak/archetype HTTP/1.1\r\n    Host: localhost:8080\r\n    Connection: keep-alive\r\n    Content-Length: 10642\r\n    Origin: chrome-extension://hgmloofddffdnphfgcellkdfbfbjeloo\r\n    User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 ....\r\n    Content-Type: text/plain\r\n    Accept: */*\r\n    Accept-Encoding: gzip, deflate\r\n    Accept-Language: en-US,en;q=0.8,nl;q=0.6\r\n    Cookie: _ga=GA1.1.1597438054.1422608427\r\n\r\nPayload (fragment):\r\n    \r\n    {&quot;archetype&quot;: &quot;archetype (adl_version\\u003d1.4)\\n\\top........\r\n\r\nResponse:\r\n\r\n    Accept-Ranges:bytes\r\n    Content-Length:87\r\n    Content-Type:application/json;charset=UTF-8\r\n    Date:Fri, 30 Jan 2015 20:59:49 GMT\r\n    Server:Restlet-Framework/2.2.3\r\n    Vary:Accept-Charset, Accept-Encoding, Accept-Language, Accept\r\n\r\n---------------------\r\n**ERROR: Swagger**\r\n\r\n    Remote Address:127.0.0.1:8080\r\n    Request URL:http://localhost:8080/oak-kernel-2.0/oak/archetype\r\n    Request Method:POST\r\n    Status Code:415 Unsupported Media Type\r\n\r\n    POST /oak-kernel-2.0/oak/archetype HTTP/1.1\r\n    Host: localhost:8080\r\n    Connection: keep-alive\r\n    Content-Length: 10642\r\n    Accept: application/json\r\n    Origin: http://localhost:8080\r\n    User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 ....\r\n    Content-Type: application/json\r\n    Referer: http://localhost:8080/swagger/\r\n    Accept-Encoding: gzip, deflate\r\n    Accept-Language: en-US,en;q=0.8,nl;q=0.6\r\n    Cookie: _ga=GA1.1.1597438054.1422608427\r\n\r\nPayload (fragment):\r\n    \r\n    {&quot;archetype&quot;: &quot;archetype (adl_version\\u003d1.4)\\n\\top........\r\n\r\nResponse\r\n    \r\n    Accept-Ranges:bytes\r\n    Content-Length:554\r\n    Content-Type:text/html;charset=UTF-8\r\n    Date:Fri, 30 Jan 2015 21:28:12 GMT\r\n    Server:Restlet-Framework/2.2.3","title":"Swagger 415 Unsupported media type: application/json instead of text/plain in POST request","body":"<p>I have two REST-GUI's to test my REST-application.\nOne is created with swagger, and the other is Advanced REST Client which runs in Chrome.</p>\n\n<p>I do a post to a service, the Swagger fails with error 415, and the Advanced Rest Client succeeds.</p>\n\n<p>The difference between the two is the Content-Type in the request header. The OK-version has Content-Type: text/plain\nThe Error version has: Content-Type: application/json</p>\n\n<p>For the rest, both are quite the same. I cut off the payload, but they are also exact the same in both cases.</p>\n\n<p>I don't know how to change Content-Type in Swagger, if it is possible and if it is needed.</p>\n\n<p>Below is information which you could need to help me in this issue. If you need more info, please need.</p>\n\n<p>Thanks very much for any help.</p>\n\n<p>Best regards.</p>\n\n<p>The information look like:</p>\n\n<hr>\n\n<p><strong>OK: Advanced REST Client</strong></p>\n\n<pre><code>Remote Address:127.0.0.1:8080\nRequest URL:http://localhost:8080/oak-kernel-2.0/oak/archetype\nRequest Method:POST\nStatus Code:200 OK\n\nPOST /oak-kernel-2.0/oak/archetype HTTP/1.1\nHost: localhost:8080\nConnection: keep-alive\nContent-Length: 10642\nOrigin: chrome-extension://hgmloofddffdnphfgcellkdfbfbjeloo\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 ....\nContent-Type: text/plain\nAccept: */*\nAccept-Encoding: gzip, deflate\nAccept-Language: en-US,en;q=0.8,nl;q=0.6\nCookie: _ga=GA1.1.1597438054.1422608427\n</code></pre>\n\n<p>Payload (fragment):</p>\n\n<pre><code>{\"archetype\": \"archetype (adl_version\\u003d1.4)\\n\\top........\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>Accept-Ranges:bytes\nContent-Length:87\nContent-Type:application/json;charset=UTF-8\nDate:Fri, 30 Jan 2015 20:59:49 GMT\nServer:Restlet-Framework/2.2.3\nVary:Accept-Charset, Accept-Encoding, Accept-Language, Accept\n</code></pre>\n\n<hr>\n\n<p><strong>ERROR: Swagger</strong></p>\n\n<pre><code>Remote Address:127.0.0.1:8080\nRequest URL:http://localhost:8080/oak-kernel-2.0/oak/archetype\nRequest Method:POST\nStatus Code:415 Unsupported Media Type\n\nPOST /oak-kernel-2.0/oak/archetype HTTP/1.1\nHost: localhost:8080\nConnection: keep-alive\nContent-Length: 10642\nAccept: application/json\nOrigin: http://localhost:8080\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 ....\nContent-Type: application/json\nReferer: http://localhost:8080/swagger/\nAccept-Encoding: gzip, deflate\nAccept-Language: en-US,en;q=0.8,nl;q=0.6\nCookie: _ga=GA1.1.1597438054.1422608427\n</code></pre>\n\n<p>Payload (fragment):</p>\n\n<pre><code>{\"archetype\": \"archetype (adl_version\\u003d1.4)\\n\\top........\n</code></pre>\n\n<p>Response</p>\n\n<pre><code>Accept-Ranges:bytes\nContent-Length:554\nContent-Type:text/html;charset=UTF-8\nDate:Fri, 30 Jan 2015 21:28:12 GMT\nServer:Restlet-Framework/2.2.3\n</code></pre>\n"},{"tags":["java","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":0,"creation_date":1632866744,"post_id":69368967,"comment_id":122608972,"body_markdown":"what&#39;s the exception?","body":"what&#39;s the exception?"},{"owner":{"account_id":174940,"reputation":6518,"user_id":404604,"accept_rate":47,"display_name":"Psycho Punch"},"score":0,"creation_date":1632866896,"post_id":69368967,"comment_id":122609001,"body_markdown":"@AlbertoSinigaglia the root cause of the exception is with the `ObjectMapper` complaining that there isn&#39;t a JSON creator/constructor that takes a string. I&#39;m going to upload a demo project to Github in a moment to demonstrate.","body":"@AlbertoSinigaglia the root cause of the exception is with the <code>ObjectMapper</code> complaining that there isn&#39;t a JSON creator/constructor that takes a string. I&#39;m going to upload a demo project to Github in a moment to demonstrate."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634191524,"creation_date":1634191524,"answer_id":69565774,"question_id":69368967,"body_markdown":"Hibernate does not know about the &quot;JSON&quot; SQL data type and how it needs to be handled. Just use text like you do now, that&#39;s totally fine. AFAIU the JSON data type in H2 is just like a domain type with validation i.e. you could replace it with `TEXT CHECK is_json(..)`, so there is not much value in using that particular data type. You could tell hibernate to use `@ColumnTransformer` to append this `FORMAT JSON`, but then you&#39;d have issues with PostgreSQL again. Overall, this cross database testing with proprietary features that Hibernate does not abstract over is simply a mess. I would suggest you simply drop H2 and use PostgreSQL with fsync=off for testing which is quite fast already.","title":"How do I Insert JSON-formatted string to a H2 database using Hibernate?","body":"<p>Hibernate does not know about the &quot;JSON&quot; SQL data type and how it needs to be handled. Just use text like you do now, that's totally fine. AFAIU the JSON data type in H2 is just like a domain type with validation i.e. you could replace it with <code>TEXT CHECK is_json(..)</code>, so there is not much value in using that particular data type. You could tell hibernate to use <code>@ColumnTransformer</code> to append this <code>FORMAT JSON</code>, but then you'd have issues with PostgreSQL again. Overall, this cross database testing with proprietary features that Hibernate does not abstract over is simply a mess. I would suggest you simply drop H2 and use PostgreSQL with fsync=off for testing which is quite fast already.</p>\n"}],"owner":{"account_id":174940,"reputation":6518,"user_id":404604,"accept_rate":47,"display_name":"Psycho Punch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1634191524,"creation_date":1632866631,"question_id":69368967,"body_markdown":"I have a PostgresSQL production database, but I&#39;m trying to run some of my automated tests against H2 in-memory. I&#39;m trying to persist JSON formatted data to a table but while I&#39;m able to write the data with no complaints, I get conversion exceptions when I read them back. I have no problem doing this in the production Postgres database.\r\n\r\nThe object I&#39;m persisting is structured similar to the following:\r\n\r\n    @Entity\r\n    public class Record {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Column(columnDefinition = &quot;jsonb&quot;)\r\n        @Convert(converter = PersonalInfoConverter.class)\r\n        private PersonalInfo personalInfo;\r\n    \r\n        public Record() {}\r\n    \r\n        public Record(PersonalInfo personalInfo) {\r\n            this.personalInfo = personalInfo;\r\n        }\r\n    \r\n    }\r\n\r\nThe `PersonalInfoConverter` just uses a Jackson `ObjectMapper` to de/serialise the object from/to a `String` (pretty standard stuff with `writeValueAsString`, and `readValue`). To get jsonb to work with H2, I used [this trick][0], which basically sets jsonb as an alias for H2&#39;s JSON.\r\n\r\nI kept running into conversion errors when reading records from the database, until I stumbled upon [this question][1], which linked to a [further discussion on Github][2] about inserting JSON formatted strings into H2 tables. It sounds like to be able to get this to work properly, I need to specifically annotate the string inserted into the H2 database. I assumed that, if this were the case, then Hibernate should have handled this properly itself, but it didn&#39;t seem like it works out of the box. How do I configure my code to get this to work?\r\n\r\nIn the meantime, I&#39;m working around this issue by using jsonb as an alias to H2&#39;s text type instead:\r\n\r\n    CREATE TYPE &quot;JSONB&quot; as text;\r\n\r\n\r\nI&#39;ve created [a project to demonstrate the issue][3].\r\n\r\n\r\n[0]: https://stackoverflow.com/a/63813698/404604\r\n[1]: https://stackoverflow.com/q/59677309/404604\r\n[2]: https://github.com/h2database/h2database/issues/2389\r\n[3]: https://github.com/psychopunch/h2-json-jpa-demo","title":"How do I Insert JSON-formatted string to a H2 database using Hibernate?","body":"<p>I have a PostgresSQL production database, but I'm trying to run some of my automated tests against H2 in-memory. I'm trying to persist JSON formatted data to a table but while I'm able to write the data with no complaints, I get conversion exceptions when I read them back. I have no problem doing this in the production Postgres database.</p>\n<p>The object I'm persisting is structured similar to the following:</p>\n<pre><code>@Entity\npublic class Record {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    @Convert(converter = PersonalInfoConverter.class)\n    private PersonalInfo personalInfo;\n\n    public Record() {}\n\n    public Record(PersonalInfo personalInfo) {\n        this.personalInfo = personalInfo;\n    }\n\n}\n</code></pre>\n<p>The <code>PersonalInfoConverter</code> just uses a Jackson <code>ObjectMapper</code> to de/serialise the object from/to a <code>String</code> (pretty standard stuff with <code>writeValueAsString</code>, and <code>readValue</code>). To get jsonb to work with H2, I used <a href=\"https://stackoverflow.com/a/63813698/404604\">this trick</a>, which basically sets jsonb as an alias for H2's JSON.</p>\n<p>I kept running into conversion errors when reading records from the database, until I stumbled upon <a href=\"https://stackoverflow.com/q/59677309/404604\">this question</a>, which linked to a <a href=\"https://github.com/h2database/h2database/issues/2389\" rel=\"nofollow noreferrer\">further discussion on Github</a> about inserting JSON formatted strings into H2 tables. It sounds like to be able to get this to work properly, I need to specifically annotate the string inserted into the H2 database. I assumed that, if this were the case, then Hibernate should have handled this properly itself, but it didn't seem like it works out of the box. How do I configure my code to get this to work?</p>\n<p>In the meantime, I'm working around this issue by using jsonb as an alias to H2's text type instead:</p>\n<pre><code>CREATE TYPE &quot;JSONB&quot; as text;\n</code></pre>\n<p>I've created <a href=\"https://github.com/psychopunch/h2-json-jpa-demo\" rel=\"nofollow noreferrer\">a project to demonstrate the issue</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3297248,"reputation":666,"user_id":2774232,"accept_rate":95,"display_name":"corneliu"},"score":0,"creation_date":1634138075,"post_id":69557857,"comment_id":122946767,"body_markdown":"There are several issues with your code. First your method `flipForHeads` should return an `int` . Second, why do you create another instance of your `GVCoin` in your method `flipForHeads` ? It makes no sense. You already have the instance of that object passed as parameter.","body":"There are several issues with your code. First your method <code>flipForHeads</code> should return an <code>int</code> . Second, why do you create another instance of your <code>GVCoin</code> in your method <code>flipForHeads</code> ? It makes no sense. You already have the instance of that object passed as parameter."}],"answers":[{"tags":[],"owner":{"account_id":23005250,"reputation":7,"user_id":17128640,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634191439,"creation_date":1634148587,"answer_id":69560360,"question_id":69557857,"body_markdown":"I managed to figure out the code. On the method call I simply formatted the code as follows: \r\n\r\n    int flips = 0;\r\n\r\n    while (coin.numHeads() &lt; goal) {\r\n        coin.flip();\r\n        flips++ ;\r\n    }\r\n    return flips;\r\n","title":"unable to come up with a solution to use methods calls","body":"<p>I managed to figure out the code. On the method call I simply formatted the code as follows:</p>\n<pre><code>int flips = 0;\n\nwhile (coin.numHeads() &lt; goal) {\n    coin.flip();\n    flips++ ;\n}\nreturn flips;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634152410,"creation_date":1634152410,"answer_id":69561121,"question_id":69557857,"body_markdown":"I suggest you not to use seed when you create `Random`. If you do, the outcome will be always the same.\r\n\r\nHere some working code. I removed some code you wrote which I thought not actually needed. Cheers!\r\n\r\n```\r\nclass GVCoin {\r\n    private Random r;\r\n\r\n    public GVCoin() {\r\n        r = new Random();\r\n    }\r\n\r\n    public GVCoin(int seed) {\r\n        this();\r\n        r = new Random(seed);\r\n    }\r\n\r\n    public boolean flip() {\r\n        return r.nextBoolean();\r\n    }\r\n}\r\n\r\npublic class TossingCoins {\r\n    public int flipForHeads(GVCoin coin, int goal) {\r\n        int count = 0;\r\n        int numberOfHeads = 0;\r\n        while (numberOfHeads &lt; goal) {\r\n            count++;\r\n            boolean isHead = coin.flip();\r\n            if (isHead) {\r\n                numberOfHeads++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TossingCoins game = new TossingCoins();\r\n        GVCoin coin = new GVCoin();\r\n        int numberOfHeads = 5;\r\n        int totalFlips;\r\n\r\n        totalFlips = game.flipForHeads(coin, numberOfHeads);\r\n        System.out.println(&quot;Total number of flips for &quot;+ numberOfHeads +  &quot; heads: &quot; + totalFlips);\r\n    }\r\n}\r\n```","title":"unable to come up with a solution to use methods calls","body":"<p>I suggest you not to use seed when you create <code>Random</code>. If you do, the outcome will be always the same.</p>\n<p>Here some working code. I removed some code you wrote which I thought not actually needed. Cheers!</p>\n<pre><code>class GVCoin {\n    private Random r;\n\n    public GVCoin() {\n        r = new Random();\n    }\n\n    public GVCoin(int seed) {\n        this();\n        r = new Random(seed);\n    }\n\n    public boolean flip() {\n        return r.nextBoolean();\n    }\n}\n\npublic class TossingCoins {\n    public int flipForHeads(GVCoin coin, int goal) {\n        int count = 0;\n        int numberOfHeads = 0;\n        while (numberOfHeads &lt; goal) {\n            count++;\n            boolean isHead = coin.flip();\n            if (isHead) {\n                numberOfHeads++;\n            }\n        }\n        return count;\n    }\n\n    public static void main(String[] args) {\n        TossingCoins game = new TossingCoins();\n        GVCoin coin = new GVCoin();\n        int numberOfHeads = 5;\n        int totalFlips;\n\n        totalFlips = game.flipForHeads(coin, numberOfHeads);\n        System.out.println(&quot;Total number of flips for &quot;+ numberOfHeads +  &quot; heads: &quot; + totalFlips);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23005250,"reputation":7,"user_id":17128640,"display_name":"Jay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634191439,"creation_date":1634137273,"question_id":69557857,"body_markdown":"I am working on a lab that requires me to return the number it flips it requires to get heads. I used a for loop, and a while loop but it appears that returning the method values along with the loops is not making the code runnable. I would appreciate the assistance. There are two pieces of codes, each different classes calling upon another class. \r\n\r\n    import java.util.*;\r\n    \r\n    public class GVCoin {\r\n        \r\n       // true for heads, false for tails\r\n       private boolean isHeads;\r\n       private int flips, heads;\r\n       private Random r;\r\n    \r\n       public GVCoin() {\r\n         r = new Random();\r\n         heads = 0;\r\n         flips = 0;\r\n         isHeads = true;     \r\n       }\r\n    \r\n       public void flip() {\r\n         isHeads = r.nextBoolean();  // Flip the coin by randomly choosing true / false\r\n         flips++;  // Increment flip count\r\n         if(isHeads){\r\n             heads++; // Increment heads count if current flip results in heads\r\n         }\r\n       }\r\n        \r\n       public boolean isHeads() {\r\n         return isHeads; // Return true if coin is currently heads\r\n       }    \r\n    \r\n       public String toString() {\r\n         String str;\r\n         str = &quot;Flips: &quot; + flips + &quot; Heads: &quot; + heads + &quot; isHeads: &quot; + isHeads;\r\n         return str;  // Return String representation of important values\r\n       }    \r\n       \r\n       public int numFlips() {\r\n         return flips;   // Return number of total flips\r\n       }\r\n        \r\n       public int numHeads() {\r\n         return heads;   // Return number of total heads   \r\n       }\r\n        \r\n    \r\n       public int numTails() {\r\n         return flips - heads; // Return number of total tails   \r\n       }\r\n    \r\n       public void setToHeads(boolean h) {\r\n         isHeads = h; \r\n       }\r\n    \r\n       public GVCoin(int seed) {  // Create the coin with a random seed\r\n         this();\r\n         r = new Random(seed);\r\n       }    \r\n    }\r\n\r\n\r\n    public class TossingCoins {\r\n       \r\n       public int flipForHeads(GVCoin coin, int goal) {\r\n          \r\n          int i = 0;\r\n          \r\n          do { \r\n             coin.flip();\r\n             i++;\r\n             \r\n          } while (i &lt; goal);\r\n          \r\n          \r\n        return i;\r\n            \r\n       }\r\n       \r\n       public static void main(String[] args) {\r\n          TossingCoins game = new TossingCoins();\r\n          GVCoin coin = new GVCoin(15); // Create a GVCoin object with seed value 15\r\n          int numHeads = 100;   // Desire 100 heads\r\n          int totalFlips;\r\n          \r\n          totalFlips = game.flipForHeads(coin, numHeads);\r\n          System.out.println(&quot;Total number of flips for 100 heads: &quot; + totalFlips);\r\n       }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"unable to come up with a solution to use methods calls","body":"<p>I am working on a lab that requires me to return the number it flips it requires to get heads. I used a for loop, and a while loop but it appears that returning the method values along with the loops is not making the code runnable. I would appreciate the assistance. There are two pieces of codes, each different classes calling upon another class.</p>\n<pre><code>import java.util.*;\n\npublic class GVCoin {\n    \n   // true for heads, false for tails\n   private boolean isHeads;\n   private int flips, heads;\n   private Random r;\n\n   public GVCoin() {\n     r = new Random();\n     heads = 0;\n     flips = 0;\n     isHeads = true;     \n   }\n\n   public void flip() {\n     isHeads = r.nextBoolean();  // Flip the coin by randomly choosing true / false\n     flips++;  // Increment flip count\n     if(isHeads){\n         heads++; // Increment heads count if current flip results in heads\n     }\n   }\n    \n   public boolean isHeads() {\n     return isHeads; // Return true if coin is currently heads\n   }    \n\n   public String toString() {\n     String str;\n     str = &quot;Flips: &quot; + flips + &quot; Heads: &quot; + heads + &quot; isHeads: &quot; + isHeads;\n     return str;  // Return String representation of important values\n   }    \n   \n   public int numFlips() {\n     return flips;   // Return number of total flips\n   }\n    \n   public int numHeads() {\n     return heads;   // Return number of total heads   \n   }\n    \n\n   public int numTails() {\n     return flips - heads; // Return number of total tails   \n   }\n\n   public void setToHeads(boolean h) {\n     isHeads = h; \n   }\n\n   public GVCoin(int seed) {  // Create the coin with a random seed\n     this();\n     r = new Random(seed);\n   }    \n}\n\n\npublic class TossingCoins {\n   \n   public int flipForHeads(GVCoin coin, int goal) {\n      \n      int i = 0;\n      \n      do { \n         coin.flip();\n         i++;\n         \n      } while (i &lt; goal);\n      \n      \n    return i;\n        \n   }\n   \n   public static void main(String[] args) {\n      TossingCoins game = new TossingCoins();\n      GVCoin coin = new GVCoin(15); // Create a GVCoin object with seed value 15\n      int numHeads = 100;   // Desire 100 heads\n      int totalFlips;\n      \n      totalFlips = game.flipForHeads(coin, numHeads);\n      System.out.println(&quot;Total number of flips for 100 heads: &quot; + totalFlips);\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":0,"creation_date":1632928974,"post_id":69379057,"comment_id":122627292,"body_markdown":"You need to fix your id generation strategy - marking as duplicate.","body":"You need to fix your id generation strategy - marking as duplicate."},{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":0,"creation_date":1632928981,"post_id":69379057,"comment_id":122627296,"body_markdown":"Does this answer your question? [JPA primary key auto generate](https://stackoverflow.com/questions/1817625/jpa-primary-key-auto-generate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1817625/jpa-primary-key-auto-generate\">JPA primary key auto generate</a>"},{"owner":{"account_id":2674027,"reputation":407,"user_id":2310811,"display_name":"Philipp"},"score":0,"creation_date":1632929824,"post_id":69379057,"comment_id":122627721,"body_markdown":"Maybe i dont get what you mean, but i dont generate my ids. In my case, it is necessary that i set a custom id (`playerId`)","body":"Maybe i dont get what you mean, but i dont generate my ids. In my case, it is necessary that i set a custom id (<code>playerId</code>)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632998497,"post_id":69379057,"comment_id":122647165,"body_markdown":"Likely a better approach would be to **retry** the unit of work.","body":"Likely a better approach would be to <b>retry</b> the unit of work."},{"owner":{"account_id":2674027,"reputation":407,"user_id":2310811,"display_name":"Philipp"},"score":0,"creation_date":1632998678,"post_id":69379057,"comment_id":122647233,"body_markdown":"@MarkRotteveel You mean i could catch the DataIntegrityViolationException and just try again and then it would update the existing record? This would be possible, but the scenario happens quite often. So i would catch this exception a lot of times and it wouldnt be an &#39;Execption&#39; anymore, but part of my business logic. That doesnt seem right to me and also probably bad for performance.","body":"@MarkRotteveel You mean i could catch the DataIntegrityViolationException and just try again and then it would update the existing record? This would be possible, but the scenario happens quite often. So i would catch this exception a lot of times and it wouldnt be an &#39;Execption&#39; anymore, but part of my business logic. That doesnt seem right to me and also probably bad for performance."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632998972,"post_id":69379057,"comment_id":122647354,"body_markdown":"Then you should look into why two different threads are working on the same player at the same time. That sounds like a serious flaw to me. Or you need to switch to using something like SQL `MERGE`.","body":"Then you should look into why two different threads are working on the same player at the same time. That sounds like a serious flaw to me. Or you need to switch to using something like SQL <code>MERGE</code>."},{"owner":{"account_id":2674027,"reputation":407,"user_id":2310811,"display_name":"Philipp"},"score":0,"creation_date":1633000345,"post_id":69379057,"comment_id":122647851,"body_markdown":"The two different threads are each triggered by the connection to a different websocket. In some cases the frontend app connects to these websockets at the same time. But i will look into `MERGE` and maybe use a native query with that. Tank you!","body":"The two different threads are each triggered by the connection to a different websocket. In some cases the frontend app connects to these websockets at the same time. But i will look into <code>MERGE</code> and maybe use a native query with that. Tank you!"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634190820,"creation_date":1634190820,"answer_id":69565695,"question_id":69379057,"body_markdown":"You could use `@SQLInsert` for this purpose to change the SQL that is used for the insert operation. Depending on your database, it might be possible to switch to some database native conflict/merge handling. See https://stackoverflow.com/questions/64754720/hibernate-transactions-and-concurrency-using-attachdirty-saveorupdate/64764412#64764412","title":"Insert/update entitiy from two different threads at the same time","body":"<p>You could use <code>@SQLInsert</code> for this purpose to change the SQL that is used for the insert operation. Depending on your database, it might be possible to switch to some database native conflict/merge handling. See <a href=\"https://stackoverflow.com/questions/64754720/hibernate-transactions-and-concurrency-using-attachdirty-saveorupdate/64764412#64764412\">Hibernate Transactions and Concurrency Using attachDirty (saveOrUpdate)</a></p>\n"}],"owner":{"account_id":2674027,"reputation":407,"user_id":2310811,"display_name":"Philipp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1502,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634190820,"creation_date":1632928276,"question_id":69379057,"body_markdown":"I have the following method that adds a player to the database or updates it, should it already exist:\r\n\r\n\r\n```lang-java\r\n@Transactional(isolation = Isolation.SERIALIZABLE)\r\npublic Player addOrUpdatePlayer(String playerId, String playerName) {\r\n    Optional&lt;Player&gt; playerOptional = playerRepository.findById(playerId);\r\n    if (playerOptional.isPresent()) {\r\n        Player player = playerOptional.get();\r\n        player.setName(playerName);\r\n        return playerRepository.save(player);\r\n    } else {\r\n        Player newPlayer = Player.builder()\r\n            .id(playerId)\r\n            .name(playerName)\r\n            .build();\r\n        return playerRepository.save(newPlayer);\r\n    }\r\n}\r\n```\r\n\r\nThis method is sometimes called by two different threads and therefore executed two times at almost the same time. Sometimes I get the following exception:\r\n\r\n&gt; org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index\r\n&gt; or primary key violation: &quot;PUBLIC.PRIMARY_KEY_B42 ON PUBLIC.PLAYER(ID)\r\n&gt; VALUES 3&quot;;\r\n\r\nThis makes sense to me because both methods check in the beginning if the player is in the database and it is not in both cases. Then both try to insert and the slower one runs into the constraint.\r\n\r\nI want to lock the player table during the execution of this method, so if it is called multiple times, they have to wait for each other.\r\n\r\nMy player repository looks like this:\r\n\r\n``` lang-java\r\npublic interface PlayerRepository extends JpaRepository&lt;Player, String&gt; {\r\n\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    Optional&lt;Player&gt; findById(String var1);\r\n\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    &lt;S extends Player&gt; S save(S var1);\r\n}\r\n```\r\nI also tried to increase isolation level on the transaction:\r\n\r\n    @Transactional(isolation = Isolation.SERIALIZABLE)\r\n\r\nHowever, I still get this exception, so apparently the inserts are still running concurrently. What am I doing wrong? Or is there a different way to achieve what i am trying here?\r\n\r\nAfter some more research, I think I understand why neither `@Lock` nor `@Transactional(isolation = Isolation.SERIALIZABLE)` are doing anything. They basically work by locking records in a database table for the duration of the transaction, but since there are no records to lock in my case, its not doing anything.\r\n\r\nSo, I guess I would have to lock the whole table for that transaction. Is that even possible with Spring JPA?\r\nAnd since that doesn&#39;t seem smart performance wise, is there an other way to tackle this problem?\r\n\r\n","title":"Insert/update entitiy from two different threads at the same time","body":"<p>I have the following method that adds a player to the database or updates it, should it already exist:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(isolation = Isolation.SERIALIZABLE)\npublic Player addOrUpdatePlayer(String playerId, String playerName) {\n    Optional&lt;Player&gt; playerOptional = playerRepository.findById(playerId);\n    if (playerOptional.isPresent()) {\n        Player player = playerOptional.get();\n        player.setName(playerName);\n        return playerRepository.save(player);\n    } else {\n        Player newPlayer = Player.builder()\n            .id(playerId)\n            .name(playerName)\n            .build();\n        return playerRepository.save(newPlayer);\n    }\n}\n</code></pre>\n<p>This method is sometimes called by two different threads and therefore executed two times at almost the same time. Sometimes I get the following exception:</p>\n<blockquote>\n<p>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index\nor primary key violation: &quot;PUBLIC.PRIMARY_KEY_B42 ON PUBLIC.PLAYER(ID)\nVALUES 3&quot;;</p>\n</blockquote>\n<p>This makes sense to me because both methods check in the beginning if the player is in the database and it is not in both cases. Then both try to insert and the slower one runs into the constraint.</p>\n<p>I want to lock the player table during the execution of this method, so if it is called multiple times, they have to wait for each other.</p>\n<p>My player repository looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PlayerRepository extends JpaRepository&lt;Player, String&gt; {\n\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    Optional&lt;Player&gt; findById(String var1);\n\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    &lt;S extends Player&gt; S save(S var1);\n}\n</code></pre>\n<p>I also tried to increase isolation level on the transaction:</p>\n<pre><code>@Transactional(isolation = Isolation.SERIALIZABLE)\n</code></pre>\n<p>However, I still get this exception, so apparently the inserts are still running concurrently. What am I doing wrong? Or is there a different way to achieve what i am trying here?</p>\n<p>After some more research, I think I understand why neither <code>@Lock</code> nor <code>@Transactional(isolation = Isolation.SERIALIZABLE)</code> are doing anything. They basically work by locking records in a database table for the duration of the transaction, but since there are no records to lock in my case, its not doing anything.</p>\n<p>So, I guess I would have to lock the whole table for that transaction. Is that even possible with Spring JPA?\nAnd since that doesn't seem smart performance wise, is there an other way to tackle this problem?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"smail Y."},"score":0,"creation_date":1632931672,"post_id":69379797,"comment_id":122628614,"body_markdown":"Can you share your `SomeView` entity? I think you have a structural problem here, I think your problem is not cache related.","body":"Can you share your <code>SomeView</code> entity? I think you have a structural problem here, I think your problem is not cache related."},{"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"score":0,"creation_date":1632932144,"post_id":69379797,"comment_id":122628839,"body_markdown":"Hibernate logging has to be also enabled in hibernate configuration.\n\nAdd lines\n\nhibernate.show_sql=true\nhibernate.format_sql=true. And see the queries getting printed on the logger / console.","body":"Hibernate logging has to be also enabled in hibernate configuration.  Add lines  hibernate.show_sql=true hibernate.format_sql=true. And see the queries getting printed on the logger / console."},{"owner":{"account_id":4718218,"reputation":113,"user_id":3816852,"display_name":"UnnameDSoS"},"score":0,"creation_date":1632941655,"post_id":69379797,"comment_id":122632524,"body_markdown":"I did enable the logger and yes the correct sql query is being run! \n@smail Y it is a simple view mapped to an entity","body":"I did enable the logger and yes the correct sql query is being run!  @smail Y it is a simple view mapped to an entity"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632932249,"creation_date":1632932249,"answer_id":69380077,"question_id":69379797,"body_markdown":"This is main feature of Hibernate. \r\n\r\nIf you look something up and change new found entity, changes will be saved to database without any additional code.\r\n\r\nIf you don&#39;t want that you need to use thing called &quot;stateless session&quot;. But please warn everyone around about it, because otherwise you end up with many surprised people. This &quot;stateless session&quot; isn&#39;t very popular thing and no one will expect you use it.","title":"Mandatory Flush for a repository","body":"<p>This is main feature of Hibernate.</p>\n<p>If you look something up and change new found entity, changes will be saved to database without any additional code.</p>\n<p>If you don't want that you need to use thing called &quot;stateless session&quot;. But please warn everyone around about it, because otherwise you end up with many surprised people. This &quot;stateless session&quot; isn't very popular thing and no one will expect you use it.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634190623,"creation_date":1634190623,"answer_id":69565667,"question_id":69379797,"body_markdown":"If you don&#39;t want this caching to happen, you can immediately detach the entity after reading it i.e.:\r\n\r\n    SomeView someView1 = repo.findByIdAndLanguageId(id,lid1);\r\n    entityManager.detach(someView1);","title":"Mandatory Flush for a repository","body":"<p>If you don't want this caching to happen, you can immediately detach the entity after reading it i.e.:</p>\n<pre><code>SomeView someView1 = repo.findByIdAndLanguageId(id,lid1);\nentityManager.detach(someView1);\n</code></pre>\n"}],"owner":{"account_id":4718218,"reputation":113,"user_id":3816852,"display_name":"UnnameDSoS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634190623,"creation_date":1632931173,"question_id":69379797,"body_markdown":"Situation: JPA, SpringBoot, Hibernate\r\n```\r\npublic interface ViewRepository\r\n\t\textends JpaRepository&lt;SomeView, Long&gt;, JpaSpecificationExecutor&lt;SomeView&gt; {\r\n\r\n\tOptional&lt;SomeView&gt; findByIdAndLanguageId(Long id,Long lid);\r\n}\r\n```\r\n```\r\n//service\r\nSomeView getSomeView(){\r\nSomeView someView1 = repo.findByIdAndLanguageId(id,lid1);\r\n....\r\n//now get in it in different lang id\r\nSomeView someView2 = repo.findByIdAndLanguageId(id,lid2);\r\n\r\n//the problem here is that the value for someView2is the same as someView1 since hibernate cash this.\r\n}\r\n```\r\n\r\nIs there an annotation / way to prevent this caching for any call to this repository only?(not application wide turning of the caching) at service level or repository level ....\r\n ","title":"Mandatory Flush for a repository","body":"<p>Situation: JPA, SpringBoot, Hibernate</p>\n<pre><code>public interface ViewRepository\n        extends JpaRepository&lt;SomeView, Long&gt;, JpaSpecificationExecutor&lt;SomeView&gt; {\n\n    Optional&lt;SomeView&gt; findByIdAndLanguageId(Long id,Long lid);\n}\n</code></pre>\n<pre><code>//service\nSomeView getSomeView(){\nSomeView someView1 = repo.findByIdAndLanguageId(id,lid1);\n....\n//now get in it in different lang id\nSomeView someView2 = repo.findByIdAndLanguageId(id,lid2);\n\n//the problem here is that the value for someView2is the same as someView1 since hibernate cash this.\n}\n</code></pre>\n<p>Is there an annotation / way to prevent this caching for any call to this repository only?(not application wide turning of the caching) at service level or repository level ....</p>\n"},{"tags":["java","sql-server","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1632756996,"post_id":69349324,"comment_id":122573313,"body_markdown":"Run a SQL trace (Extended Events or Profiler) to capture the actual query sent to SQL Server.","body":"Run a SQL trace (Extended Events or Profiler) to capture the actual query sent to SQL Server."},{"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"score":0,"creation_date":1632765752,"post_id":69349324,"comment_id":122576668,"body_markdown":"Thanks. Seems like the query sent to the SQL server is indeed different. I have added the query received from profiler and added my findings. Why is the query malformed?","body":"Thanks. Seems like the query sent to the SQL server is indeed different. I have added the query received from profiler and added my findings. Why is the query malformed?"},{"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"score":0,"creation_date":1632766347,"post_id":69349324,"comment_id":122576867,"body_markdown":"Is the column name &#39;from&#39; a keyword in any way? I couldn&#39;t find a reference for the same. Also the same detachedcriteria was working fine on hibernate 3 and spring 3, but is facing the above issue on hibernate 4 and spring 4.1.6.","body":"Is the column name &#39;from&#39; a keyword in any way? I couldn&#39;t find a reference for the same. Also the same detachedcriteria was working fine on hibernate 3 and spring 3, but is facing the above issue on hibernate 4 and spring 4.1.6."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1632766430,"post_id":69349324,"comment_id":122576893,"body_markdown":"This is the problem column in the query, which as 2 `AS` clauses:` `ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr__gfrom as msgfrom9_0_`.","body":"This is the problem column in the query, which as 2 <code>AS</code> clauses:` <code>ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr__gfrom as msgfrom9_0_</code>."},{"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"score":0,"creation_date":1632767092,"post_id":69349324,"comment_id":122577138,"body_markdown":"Yes, hibernate is creating the query. The generated query should have been shomething like `ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr_, this_.msgfrom as msgfrom9_0_`. How can this be rectified?","body":"Yes, hibernate is creating the query. The generated query should have been shomething like <code>ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr_, this_.msgfrom as msgfrom9_0_</code>. How can this be rectified?"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1632771686,"post_id":69349324,"comment_id":122578759,"body_markdown":"Looks like a hibernate bug. Are you using the latest? Maybe someone can suggest a work-around.","body":"Looks like a hibernate bug. Are you using the latest? Maybe someone can suggest a work-around."},{"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"score":0,"creation_date":1632771938,"post_id":69349324,"comment_id":122578840,"body_markdown":"I was thinking the same. I am using Hibernate 4.0 now. But I wont be able to update to hibernate 4.3 as it will break jtds driver and more. I just hope there is a version below 4.3 that can work in my case. Thanks for the help. I wouldn&#39;t have ever though that the trace query would be different from the one generated by hibernate criteria.","body":"I was thinking the same. I am using Hibernate 4.0 now. But I wont be able to update to hibernate 4.3 as it will break jtds driver and more. I just hope there is a version below 4.3 that can work in my case. Thanks for the help. I wouldn&#39;t have ever though that the trace query would be different from the one generated by hibernate criteria."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634190219,"creation_date":1634190219,"answer_id":69565617,"question_id":69349324,"body_markdown":"Looks like a bug, but you can debug `org.hibernate.dialect.pagination.SQLServer2005LimitHandler#processSql` to see what goes wrong and even apply a custom workaround as you can replace the `LimitHandler` in a custom `Dialect`.","title":"org.hibernate.exception.GenericJDBCException: Incorrect syntax near the keyword &#39;as&#39;","body":"<p>Looks like a bug, but you can debug <code>org.hibernate.dialect.pagination.SQLServer2005LimitHandler#processSql</code> to see what goes wrong and even apply a custom workaround as you can replace the <code>LimitHandler</code> in a custom <code>Dialect</code>.</p>\n"}],"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634190219,"creation_date":1632756711,"question_id":69349324,"body_markdown":"Below is the exception thrown when a detached criteria is executed :\r\n\r\n    org.springframework.orm.hibernate4.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [n/a]; SQL state [S1000]; error code [156]; Incorrect syntax near the keyword &#39;as&#39;.; nested exception is org.hibernate.exception.GenericJDBCException: Incorrect syntax near the keyword &#39;as&#39;.\r\n    2021-09-28 20:42:03,882 [mailTimerFactory-1] TRACE org.springframework.transaction.interceptor.TransactionInterceptor  - Completing transaction for [com.test.service.impl.MailManagerImpl.processMails]\r\n\r\n\r\nI have debugged with hibernate sourcecode and got the sql query being generated as I couldn&#39;t get to print the sql for the criteria even after turning showsql to true. Below is the query generated :\r\n\r\n    [org.hibernate.loader.criteria.CriteriaLoader(select this_.cid as cid9_0_, this_.msgfrom as msgfrom9_0_, this_.msgto as msgto9_0_, this_.msgcc as msgcc9_0_, this_.msubject as msubject9_0_, this_.body as body9_0_, this_.createDate as createDate9_0_, this_.mailDate as mailDate9_0_, this_.expiryDate as expiryDate9_0_, this_.mailsent as mailsent9_0_, this_.remarks as remarks9_0_, this_.html as html9_0_ from mail_queue this_ where this_.mailsent=? and (this_.mailDate is null or this_.mailDate&lt;=?) and (this_.expiryDate is null or this_.expiryDate&gt;=?))]\r\n\r\nI have copied the select query and was able to successfully execute it in SQL Server which makes me wonder what was causing the issue. If the column names contain any SQL keyword then it wouldn&#39;t be executed, right? There are no spaces in the column names as well. Any help would be appreciated.\r\n\r\n\r\nEdit : Below is the sql trace :\r\n\r\n\r\n    declare @p1 int\r\n    set @p1=NULL\r\n    exec sp_prepare @p1 output,N&#39;@P0 bit,@P1 datetime,@P2 datetime,@P3 int,@P4 int&#39;,N&#39;WITH query AS (select this_.cid as cid9_0_, this_.ms, ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr__gfrom as msgfrom9_0_, this_.msgto as msgto9_0_, this_.msgcc as msgcc9_0_, this_.msubject as msubject9_0_, this_.body as body9_0_, this_.createdate as createdate9_0_, this_.maildate as maildate9_0_, this_.expirydate as expirydate9_0_, this_.mailsent as mailsent9_0_, this_.remarks as remarks9_0_, this_.html as html9_0_ from [mail_queue] this_ where this_.mailsent= @P0  and (this_.maildate is null or this_.maildate&lt;= @P1 ) and (this_.expirydate is null or this_.expirydate&gt;= @P2 )) SELECT * FROM query WHERE __hibernate_row_nr__ &gt;=  @P3  AND __hibernate_row_nr__ &lt;  @P4 &#39;,1\r\n    select @p1\r\n\r\n\r\nThe query is malformed at `ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr__gfrom as msgfrom9_0_`. How can I solve this? It turns out that removing the firstresult and maxresults parameters fixes this :\r\n\r\n&gt; original\r\n\r\n    getHibernateTemplate().findByCriteria(criteria, 0, 250)\r\n\r\n&gt; after removing\r\n\r\n    getHibernateTemplate().findByCriteria(criteria)\r\n\r\nI believe the `ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr_` part is added because of the adding firstresult and maxresults parameters and hibernate is using the rownumber to filter the number of records. I cannot remove the limit parameters as it would fetch all the records in the table. I have used the parameters in many other detached criteria but strangely it is malformed in this case. How can I resolve this? \r\n\r\n","title":"org.hibernate.exception.GenericJDBCException: Incorrect syntax near the keyword &#39;as&#39;","body":"<p>Below is the exception thrown when a detached criteria is executed :</p>\n<pre><code>org.springframework.orm.hibernate4.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [n/a]; SQL state [S1000]; error code [156]; Incorrect syntax near the keyword 'as'.; nested exception is org.hibernate.exception.GenericJDBCException: Incorrect syntax near the keyword 'as'.\n2021-09-28 20:42:03,882 [mailTimerFactory-1] TRACE org.springframework.transaction.interceptor.TransactionInterceptor  - Completing transaction for [com.test.service.impl.MailManagerImpl.processMails]\n</code></pre>\n<p>I have debugged with hibernate sourcecode and got the sql query being generated as I couldn't get to print the sql for the criteria even after turning showsql to true. Below is the query generated :</p>\n<pre><code>[org.hibernate.loader.criteria.CriteriaLoader(select this_.cid as cid9_0_, this_.msgfrom as msgfrom9_0_, this_.msgto as msgto9_0_, this_.msgcc as msgcc9_0_, this_.msubject as msubject9_0_, this_.body as body9_0_, this_.createDate as createDate9_0_, this_.mailDate as mailDate9_0_, this_.expiryDate as expiryDate9_0_, this_.mailsent as mailsent9_0_, this_.remarks as remarks9_0_, this_.html as html9_0_ from mail_queue this_ where this_.mailsent=? and (this_.mailDate is null or this_.mailDate&lt;=?) and (this_.expiryDate is null or this_.expiryDate&gt;=?))]\n</code></pre>\n<p>I have copied the select query and was able to successfully execute it in SQL Server which makes me wonder what was causing the issue. If the column names contain any SQL keyword then it wouldn't be executed, right? There are no spaces in the column names as well. Any help would be appreciated.</p>\n<p>Edit : Below is the sql trace :</p>\n<pre><code>declare @p1 int\nset @p1=NULL\nexec sp_prepare @p1 output,N'@P0 bit,@P1 datetime,@P2 datetime,@P3 int,@P4 int',N'WITH query AS (select this_.cid as cid9_0_, this_.ms, ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr__gfrom as msgfrom9_0_, this_.msgto as msgto9_0_, this_.msgcc as msgcc9_0_, this_.msubject as msubject9_0_, this_.body as body9_0_, this_.createdate as createdate9_0_, this_.maildate as maildate9_0_, this_.expirydate as expirydate9_0_, this_.mailsent as mailsent9_0_, this_.remarks as remarks9_0_, this_.html as html9_0_ from [mail_queue] this_ where this_.mailsent= @P0  and (this_.maildate is null or this_.maildate&lt;= @P1 ) and (this_.expirydate is null or this_.expirydate&gt;= @P2 )) SELECT * FROM query WHERE __hibernate_row_nr__ &gt;=  @P3  AND __hibernate_row_nr__ &lt;  @P4 ',1\nselect @p1\n</code></pre>\n<p>The query is malformed at <code>ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr__gfrom as msgfrom9_0_</code>. How can I solve this? It turns out that removing the firstresult and maxresults parameters fixes this :</p>\n<blockquote>\n<p>original</p>\n</blockquote>\n<pre><code>getHibernateTemplate().findByCriteria(criteria, 0, 250)\n</code></pre>\n<blockquote>\n<p>after removing</p>\n</blockquote>\n<pre><code>getHibernateTemplate().findByCriteria(criteria)\n</code></pre>\n<p>I believe the <code>ROW_NUMBER() OVER (ORDER BY CURRENT_TIMESTAMP) as __hibernate_row_nr_</code> part is added because of the adding firstresult and maxresults parameters and hibernate is using the rownumber to filter the number of records. I cannot remove the limit parameters as it would fetch all the records in the table. I have used the parameters in many other detached criteria but strangely it is malformed in this case. How can I resolve this?</p>\n"},{"tags":["java","exception","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634190208,"creation_date":1634190208,"answer_id":69565615,"question_id":69561631,"body_markdown":"`ExceptionOccurred` gives you a local reference to the exception object. So it&#39;s not going to be affected by `ExceptionClear` unless `ExceptionClear` also clears the local reference table, which would be weird (neither ART nor Dalvik does that FWIW).\r\n\r\nI think you can safely assume that `exc` is still valid after `ExceptionClear`. And if it isn&#39;t, you&#39;d notice it because you&#39;d get some kind of JNI error for using a stale local reference.\r\n\r\n","title":"Is the exception object returned by ExceptionOccurred() still valid after ExceptionClear()?","body":"<p><code>ExceptionOccurred</code> gives you a local reference to the exception object. So it's not going to be affected by <code>ExceptionClear</code> unless <code>ExceptionClear</code> also clears the local reference table, which would be weird (neither ART nor Dalvik does that FWIW).</p>\n<p>I think you can safely assume that <code>exc</code> is still valid after <code>ExceptionClear</code>. And if it isn't, you'd notice it because you'd get some kind of JNI error for using a stale local reference.</p>\n"}],"owner":{"account_id":135551,"reputation":10091,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69565615,"answer_count":1,"score":0,"last_activity_date":1634190208,"creation_date":1634155128,"question_id":69561631,"body_markdown":"In my C++ code, I want to test for a Java exception, get information about it, and handle it locally:\r\n\r\n    jobject exc = env-&gt;ExceptionOccurred();\r\n    if (exc) {\r\n        env-&gt;ExceptionClear();\r\n        jclass javaLang = env-&gt;FindClass(&quot;java/lang/Object&quot;);\r\n        jmethodID j_toString = env-&gt;GetMethodID(javaLang, &quot;toString&quot;, &quot;()Ljava/lang/String;&quot;);\r\n\r\n        auto s = (jstring)(env-&gt;CallObjectMethod(exc, j_toString));\r\n        ...\r\n    }\r\n\r\nI call `ExceptionClear()` right near the top because the call to `FindClass()` will cause a &quot;JNI FindClass called with pending exception&quot; error if I don&#39;t. But if I do this, will the exception object still be valid?","title":"Is the exception object returned by ExceptionOccurred() still valid after ExceptionClear()?","body":"<p>In my C++ code, I want to test for a Java exception, get information about it, and handle it locally:</p>\n<pre><code>jobject exc = env-&gt;ExceptionOccurred();\nif (exc) {\n    env-&gt;ExceptionClear();\n    jclass javaLang = env-&gt;FindClass(&quot;java/lang/Object&quot;);\n    jmethodID j_toString = env-&gt;GetMethodID(javaLang, &quot;toString&quot;, &quot;()Ljava/lang/String;&quot;);\n\n    auto s = (jstring)(env-&gt;CallObjectMethod(exc, j_toString));\n    ...\n}\n</code></pre>\n<p>I call <code>ExceptionClear()</code> right near the top because the call to <code>FindClass()</code> will cause a &quot;JNI FindClass called with pending exception&quot; error if I don't. But if I do this, will the exception object still be valid?</p>\n"},{"tags":["java","android","listview"],"comments":[{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1634183557,"post_id":69564269,"comment_id":122958583,"body_markdown":"I repopulate your code and it works fine in the emulator (Pixel 4 XL API Level 29). try to run your app on a real device.","body":"I repopulate your code and it works fine in the emulator (Pixel 4 XL API Level 29). try to run your app on a real device."},{"owner":{"account_id":23026672,"reputation":1,"user_id":17146789,"display_name":"Saint Blue"},"score":0,"creation_date":1634203386,"post_id":69564269,"comment_id":122964198,"body_markdown":"i tried using the emulator that you said but still not showing and i don&#39;t have any android devices that&#39;s why i can&#39;t run on a real device. Anyway thanks a lot!","body":"i tried using the emulator that you said but still not showing and i don&#39;t have any android devices that&#39;s why i can&#39;t run on a real device. Anyway thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":21192804,"reputation":1215,"user_id":15584964,"display_name":"RaBaKa 78"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634183750,"creation_date":1634183750,"answer_id":69564896,"question_id":69564269,"body_markdown":"Heyy try replacing your `RelativeLayout` with `LinearLayout`, or remove `weightSum` because `weightSum` cannot be used with `RelativeLayout` ","title":"Why does listview is not showing on my emulator?","body":"<p>Heyy try replacing your <code>RelativeLayout</code> with <code>LinearLayout</code>, or remove <code>weightSum</code> because <code>weightSum</code> cannot be used with <code>RelativeLayout</code></p>\n"},{"tags":[],"owner":{"account_id":15893944,"reputation":51,"user_id":11468186,"display_name":"absolute_vijju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634189990,"creation_date":1634189668,"answer_id":69565536,"question_id":69564269,"body_markdown":"Replace with this code.\r\n-----------------------\r\n**Note: Whenever you give textSize, give it in sp not in Pixel.**\r\n\r\n\r\nactivty_stress.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#83BCD4&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:text=&quot;Find your relaxation&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@+id/listview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;70dp&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nstress.java\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            ListView listView = findViewById(R.id.listview);\r\n    \r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(&quot;Therapy1&quot;);\r\n            list.add(&quot;Therapy2&quot;);\r\n            list.add(&quot;Therapy3&quot;);\r\n            list.add(&quot;Therapy4&quot;);\r\n            list.add(&quot;Therapy5&quot;);\r\n    \r\n            ArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, list);\r\n            listView.setAdapter(arrayAdapter);\r\n    \r\n            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    if (position == 0) {\r\n                        //clicked therapy1\r\n    //                    startActivity(new Intent(stress.this,Therapy1.class));\r\n                    } else if (position == 1) {\r\n                        //clicked therapy2\r\n                    } else {\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n        }\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y9OVs.png","title":"Why does listview is not showing on my emulator?","body":"<h2>Replace with this code.</h2>\n<p><strong>Note: Whenever you give textSize, give it in sp not in Pixel.</strong></p>\n<p>activty_stress.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#83BCD4&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;Find your relaxation&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;30sp&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;70dp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>stress.java</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ListView listView = findViewById(R.id.listview);\n\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;Therapy1&quot;);\n        list.add(&quot;Therapy2&quot;);\n        list.add(&quot;Therapy3&quot;);\n        list.add(&quot;Therapy4&quot;);\n        list.add(&quot;Therapy5&quot;);\n\n        ArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, list);\n        listView.setAdapter(arrayAdapter);\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                if (position == 0) {\n                    //clicked therapy1\n//                    startActivity(new Intent(stress.this,Therapy1.class));\n                } else if (position == 1) {\n                    //clicked therapy2\n                } else {\n\n                }\n            }\n        });\n\n    }\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/y9OVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y9OVs.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23026672,"reputation":1,"user_id":17146789,"display_name":"Saint Blue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634189990,"creation_date":1634177077,"question_id":69564269,"body_markdown":"I&#39;m making simple listview of therapies and the list is not showing on the emulator. I&#39;ve upgraded and downgraded my api from 22 to 30 and change relative layout to linear layout but still the list is not showing.\r\n\r\n*activty_stress.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:weightSum=&quot;9&quot;\r\n    android:background=&quot;#83BCD4&quot;\r\n    tools:context=&quot;.stress&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Find your relaxation&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;18pt&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;70dp&quot;/&gt;\r\n\r\n     &lt;/RelativeLayout&gt;\r\n\r\n*stress.java*\r\n\r\n       @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_stress);\r\n\r\n        ListView listView = findViewById(R.id.listview);\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;Therapy1&quot;);\r\n        list.add(&quot;Therapy2&quot;);\r\n        list.add(&quot;Therapy3&quot;);\r\n        list.add(&quot;Therapy4&quot;);\r\n        list.add(&quot;Therapy5&quot;);\r\n\r\n        ArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1,list);\r\n        listView.setAdapter(arrayAdapter);\r\n        \r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                if (position==0){\r\n                    //clicked therapy1\r\n                    startActivity(new Intent(stress.this,Therapy1.class));\r\n                } else if (position==1){\r\n                    //clicked therapy2\r\n                }else{\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n    ","title":"Why does listview is not showing on my emulator?","body":"<p>I'm making simple listview of therapies and the list is not showing on the emulator. I've upgraded and downgraded my api from 22 to 30 and change relative layout to linear layout but still the list is not showing.</p>\n<p><em>activty_stress.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:weightSum=&quot;9&quot;\nandroid:background=&quot;#83BCD4&quot;\ntools:context=&quot;.stress&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView4&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:text=&quot;Find your relaxation&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:textSize=&quot;18pt&quot; /&gt;\n\n&lt;ListView\n    android:id=&quot;@+id/listview&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;70dp&quot;/&gt;\n\n &lt;/RelativeLayout&gt;\n</code></pre>\n<p><em>stress.java</em></p>\n<pre><code>   @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_stress);\n\n    ListView listView = findViewById(R.id.listview);\n\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(&quot;Therapy1&quot;);\n    list.add(&quot;Therapy2&quot;);\n    list.add(&quot;Therapy3&quot;);\n    list.add(&quot;Therapy4&quot;);\n    list.add(&quot;Therapy5&quot;);\n\n    ArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1,list);\n    listView.setAdapter(arrayAdapter);\n    \n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            if (position==0){\n                //clicked therapy1\n                startActivity(new Intent(stress.this,Therapy1.class));\n            } else if (position==1){\n                //clicked therapy2\n            }else{\n\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit5","rest"],"comments":[{"owner":{"account_id":1465191,"reputation":1315,"user_id":1378268,"accept_rate":65,"display_name":"Kode Charlie"},"score":0,"creation_date":1634182960,"post_id":69564693,"comment_id":122958518,"body_markdown":"Do you have a `maven` project?  If so, it would help to paste your `pom.xml` file here.  Also, be careful with the `SpringRunner` plus Junit5.  Probably you can pull it off, but you need to have the right set up in your project.  For JUnit5, I use the test harness from &quot;junit-jupiter&quot;, and specifically, `@SpringJUnitWebConfig` along with `MockMvc`.","body":"Do you have a <code>maven</code> project?  If so, it would help to paste your <code>pom.xml</code> file here.  Also, be careful with the <code>SpringRunner</code> plus Junit5.  Probably you can pull it off, but you need to have the right set up in your project.  For JUnit5, I use the test harness from &quot;junit-jupiter&quot;, and specifically, <code>@SpringJUnitWebConfig</code> along with <code>MockMvc</code>."},{"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"score":0,"creation_date":1634184055,"post_id":69564693,"comment_id":122958655,"body_markdown":"@KodeCharlie yep, i use maven. Is there a way to make the expect the same as the actual or vice versa? i dont know convert it.","body":"@KodeCharlie yep, i use maven. Is there a way to make the expect the same as the actual or vice versa? i dont know convert it."},{"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"score":0,"creation_date":1634184748,"post_id":69564693,"comment_id":122958750,"body_markdown":"i try replace SpringRunner with SpringJunitWebConfig, but error\nis still the same","body":"i try replace SpringRunner with SpringJunitWebConfig, but error is still the same"},{"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"score":0,"creation_date":1634185503,"post_id":69564693,"comment_id":122958857,"body_markdown":"I just did this, it&#39;s ok, but I don&#39;t know if it&#39;s the right test standard\n`    \n@Test\n    void getAll() throws Exception {\n        RequestBuilder request = get(&quot;/&quot;);\n        MvcResult result = mvc.perform(request).andReturn();\n        assertEquals(200, result.getResponse().getStatus());\n\n        Object lExamples = mExampleRepository.findAll();\n        assertEquals(new Gson().toJson(lExamples), result.getResponse().getContentAsString());\n    }\n`","body":"I just did this, it&#39;s ok, but I don&#39;t know if it&#39;s the right test standard `     @Test     void getAll() throws Exception {         RequestBuilder request = get(&quot;/&quot;);         MvcResult result = mvc.perform(request).andReturn();         assertEquals(200, result.getResponse().getStatus());          Object lExamples = mExampleRepository.findAll();         assertEquals(new Gson().toJson(lExamples), result.getResponse().getContentAsString());     } `"}],"answers":[{"tags":[],"owner":{"account_id":23027726,"reputation":84,"user_id":17147685,"display_name":"The blank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634189855,"creation_date":1634189855,"answer_id":69565559,"question_id":69564693,"body_markdown":"Json doesn&#39;t store objects inside content. In this case, you store MExample in database but spring boot help you to convert object to json in http response.\r\nYou have 3 methods to solve this problem:\r\n1. Convert lExamples to Json, use toString() method to make comparison\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Object lExamples = mExampleRepository.findAll();\r\n    JSONObject json = new JSONObject(lExamples);\r\n    assertEquals(json.toString(), result.getResponse().getContentAsString());\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2. Install your data without using Object\r\n\r\n2. Convert Http response to List&lt;lExamples&gt; object\r\n","title":"Junit 5 with rest api (get all)","body":"<p>Json doesn't store objects inside content. In this case, you store MExample in database but spring boot help you to convert object to json in http response.\nYou have 3 methods to solve this problem:</p>\n<ol>\n<li>Convert lExamples to Json, use toString() method to make comparison</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Object lExamples = mExampleRepository.findAll();\nJSONObject json = new JSONObject(lExamples);\nassertEquals(json.toString(), result.getResponse().getContentAsString());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li><p>Install your data without using Object</p>\n</li>\n<li><p>Convert Http response to List object</p>\n</li>\n</ol>\n"}],"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69565559,"answer_count":1,"score":-1,"last_activity_date":1634189855,"creation_date":1634181618,"question_id":69564693,"body_markdown":"I&#39;m learning junit 5 for rest api.\r\n\r\nUnit test for get method (get all instance) and this my code.\r\n\r\nmy data \r\n\r\n```\r\n[{&quot;id&quot;:1,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\r\n{&quot;id&quot;:2,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\r\n{&quot;id&quot;:3,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\r\n{&quot;id&quot;:4,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\r\n{&quot;id&quot;:5,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\r\n{&quot;id&quot;:6,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6}]\r\n```\r\n\r\nExampleController\r\n```\r\n@RestController\r\npublic class ExampleController {\r\n\r\n    @Autowired\r\n    MExampleRepository mExampleRepository;\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello(@RequestParam(name = &quot;name&quot;, defaultValue = &quot;World&quot;)  String name) {\r\n        return String.format(&quot;Hello, %s&quot;, name);\r\n    }\r\n\r\n    /**\r\n     * get all\r\n     * @return\r\n     */\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;MExample&gt; getAll() {\r\n        return mExampleRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\nExampleControllerTest\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\nclass ExampleControllerIntTest {\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @Autowired\r\n    private MExampleRepository mExampleRepository;\r\n\r\n    @Test\r\n    void testHelloWithName() throws Exception {\r\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\r\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\r\n    }\r\n\r\n    //junit test\r\n\r\n    //get all example\r\n\r\n    @Test\r\n    void getAll() throws Exception {\r\n        RequestBuilder request = get(&quot;/&quot;);\r\n        MvcResult result = mvc.perform(request).andReturn();\r\n        assertEquals(200, result.getResponse().getStatus());\r\n\r\n        Object lExamples = mExampleRepository.findAll();\r\n        assertEquals(lExamples, result.getResponse().getContentAsString());\r\n    }\r\n}\r\n```\r\n\r\nand then result when run test\r\n\r\n```\r\nExpected :[MExample(id=1, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=2, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=3, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=4, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=5, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=6, example2=2, example3=3, example4=4, example5=5, example6=6)]\r\nActual   :[{&quot;id&quot;:1,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:2,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:3,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:4,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:5,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:6,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6}]\r\n\r\n```\r\n\r\nI want it pass for this test but i dont known what to do.\r\n\r\nSorry if the question is not clear, my english is a bit bad\r\n\r\nAnyone help me, thank you.\r\n","title":"Junit 5 with rest api (get all)","body":"<p>I'm learning junit 5 for rest api.</p>\n<p>Unit test for get method (get all instance) and this my code.</p>\n<p>my data</p>\n<pre><code>[{&quot;id&quot;:1,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\n{&quot;id&quot;:2,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\n{&quot;id&quot;:3,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\n{&quot;id&quot;:4,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\n{&quot;id&quot;:5,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},\n{&quot;id&quot;:6,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6}]\n</code></pre>\n<p>ExampleController</p>\n<pre><code>@RestController\npublic class ExampleController {\n\n    @Autowired\n    MExampleRepository mExampleRepository;\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(@RequestParam(name = &quot;name&quot;, defaultValue = &quot;World&quot;)  String name) {\n        return String.format(&quot;Hello, %s&quot;, name);\n    }\n\n    /**\n     * get all\n     * @return\n     */\n    @GetMapping(&quot;/&quot;)\n    public List&lt;MExample&gt; getAll() {\n        return mExampleRepository.findAll();\n    }\n}\n</code></pre>\n<p>ExampleControllerTest</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\nclass ExampleControllerIntTest {\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    private MExampleRepository mExampleRepository;\n\n    @Test\n    void testHelloWithName() throws Exception {\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\n    }\n\n    //junit test\n\n    //get all example\n\n    @Test\n    void getAll() throws Exception {\n        RequestBuilder request = get(&quot;/&quot;);\n        MvcResult result = mvc.perform(request).andReturn();\n        assertEquals(200, result.getResponse().getStatus());\n\n        Object lExamples = mExampleRepository.findAll();\n        assertEquals(lExamples, result.getResponse().getContentAsString());\n    }\n}\n</code></pre>\n<p>and then result when run test</p>\n<pre><code>Expected :[MExample(id=1, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=2, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=3, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=4, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=5, example2=2, example3=3, example4=4, example5=5, example6=6), MExample(id=6, example2=2, example3=3, example4=4, example5=5, example6=6)]\nActual   :[{&quot;id&quot;:1,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:2,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:3,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:4,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:5,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6},{&quot;id&quot;:6,&quot;example2&quot;:2,&quot;example3&quot;:3,&quot;example4&quot;:4,&quot;example5&quot;:5,&quot;example6&quot;:6}]\n\n</code></pre>\n<p>I want it pass for this test but i dont known what to do.</p>\n<p>Sorry if the question is not clear, my english is a bit bad</p>\n<p>Anyone help me, thank you.</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","ui-automation"],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634189163,"creation_date":1634187827,"answer_id":69565323,"question_id":69565186,"body_markdown":"You should not declare like this,\r\n\r\n    private final WebElement notificationTitle = driver.findElement(By.xpath(&quot;//a[@class=&#39;pmd-list-title&#39;]&quot;));\r\n\r\n\r\nwhenever the class is initializing, driver will start find this element, then resulted as **NoSuchElementException**\r\n\r\n\r\nDeclare the by and call it whereever you need,\r\n\r\n    private final By notificationTitleTxt = By.xpath(&quot;//a[@class=&#39;pmd-list-title&#39;]&quot;);\r\n\r\n\r\ncall this like on your method,\r\n\r\n    driver.findElement(notificationTitleTxt).getText();\r\n\r\n\r\n","title":"Selenium No such element exception despite not using or calling the WebElement","body":"<p>You should not declare like this,</p>\n<pre><code>private final WebElement notificationTitle = driver.findElement(By.xpath(&quot;//a[@class='pmd-list-title']&quot;));\n</code></pre>\n<p>whenever the class is initializing, driver will start find this element, then resulted as <strong>NoSuchElementException</strong></p>\n<p>Declare the by and call it whereever you need,</p>\n<pre><code>private final By notificationTitleTxt = By.xpath(&quot;//a[@class='pmd-list-title']&quot;);\n</code></pre>\n<p>call this like on your method,</p>\n<pre><code>driver.findElement(notificationTitleTxt).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634189454,"creation_date":1634189099,"answer_id":69565479,"question_id":69565186,"body_markdown":"What I would do here is \r\n\r\n1. Use try-catch \r\n\r\n2. Use findElements\r\n\r\nSample code for `findElements` \r\n\r\n\r\n    private final List&lt;WebElement&gt; notificationTitle = driver.findElements(By.xpath(&quot;//a[@class=&#39;pmd-list-title&#39;]&quot;));\r\n\r\nand in your **instance initialize** block \r\n\r\n\r\n    public String getNotificationTitle()\r\n    {\r\n        String title = notificationTitle.get(0).getText();\r\n        return title;\r\n    }\r\n\r\n\r\nor why not simply try and catch block  ?\r\n\r\n\r\n    try {\r\n         private final WebElement notificationTitle = \r\n           driver.findElement(By.xpath(&quot;//a[@class=&#39;pmd-list-title&#39;]&quot;));\r\n       }\r\n       catch(ExceptionInInitializerError ex){\r\n           ex.printStackTrace();\r\n       }\r\n         \r\n\r\n   ","title":"Selenium No such element exception despite not using or calling the WebElement","body":"<p>What I would do here is</p>\n<ol>\n<li><p>Use try-catch</p>\n</li>\n<li><p>Use findElements</p>\n</li>\n</ol>\n<p>Sample code for <code>findElements</code></p>\n<pre><code>private final List&lt;WebElement&gt; notificationTitle = driver.findElements(By.xpath(&quot;//a[@class='pmd-list-title']&quot;));\n</code></pre>\n<p>and in your <strong>instance initialize</strong> block</p>\n<pre><code>public String getNotificationTitle()\n{\n    String title = notificationTitle.get(0).getText();\n    return title;\n}\n</code></pre>\n<p>or why not simply try and catch block  ?</p>\n<pre><code>try {\n     private final WebElement notificationTitle = \n       driver.findElement(By.xpath(&quot;//a[@class='pmd-list-title']&quot;));\n   }\n   catch(ExceptionInInitializerError ex){\n       ex.printStackTrace();\n   }\n     \n</code></pre>\n"}],"owner":{"account_id":22636254,"reputation":327,"user_id":16813026,"display_name":"enthusiasticCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1637620065,"accepted_answer_id":69565323,"answer_count":2,"score":-1,"last_activity_date":1634189454,"creation_date":1634186595,"question_id":69565186,"body_markdown":"Now I am executing a test case but am getting a NoSuchElementException despite not using that element in my test case. Here is my implementation.\r\n\r\n**This is my page layer**\r\n```\r\n\r\n    public class NotificationsPage extends BasePage {\r\n    \r\n    \tprivate final WebElement datePicker = \r\n    \t\t\tdriver.findElement(By.xpath(&quot;(//input[@aria-label=&#39;Password2&#39;])[1]&quot;));\r\n    \tpublic String textBoxData = &quot;&quot;;\r\n    \tpublic String date1 = &quot;&quot;;\r\n    \tpublic String date2 = &quot;&quot;;\r\n    \tprivate final WebElement notificationTitle = driver.findElement(By.xpath(&quot;//a[@class=&#39;pmd-list-title&#39;]&quot;));\r\n    \t\r\n    \t{\r\n    \t\ttextBoxData = datePicker.getAttribute(&quot;value&quot;);\r\n    \t\tString[] parts = textBoxData.split(&quot;-&quot;);\r\n    \t\tdate1 = parts[0].trim();\r\n    \t\tdate2 = parts[1].trim();\r\n    \t}\r\n    \t\r\n    \tpublic String getNotificationTitle()\r\n    \t{\r\n    \t\tString title = notificationTitle.getText();\r\n    \t\treturn title;\r\n    \t}\r\n    }\r\n\r\n```\r\n\r\n**This is my test case I&#39;m executing**\r\n```\r\n\r\n    @Test\r\n    \tpublic void testDateSettings(Map&lt;String, String&gt; map) throws Exception\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tnew LoginPage().clickLoginButton().setUserName(map.get(&quot;username&quot;)).setPassword(map.get(&quot;password&quot;)).clickSubmit()\r\n    \t\t\t.clickHighlights();\r\n    \t\t}\r\n    \t\tcatch(ExceptionInInitializerError ex)\r\n    \t\t{\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\tNotificationsPage notificationsPage = new NotificationsPage();\r\n    \t\tString systemDate = DateTimeUtils.getSystemDate();\r\n    \t\tSystem.out.println(&quot;System date:: &quot;+systemDate);\r\n    \t\tSystem.out.println(&quot;Date1:: &quot;+notificationsPage.date1);\r\n    \t\tSystem.out.println(&quot;Date2:: &quot;+notificationsPage.date2);\r\n    \t\tAssertions.assertThat(systemDate).isBetween(notificationsPage.date1, notificationsPage.date2);\r\n    \t}\r\n\r\n```\r\n\r\nNow as you can see I am nowhere using the element **notificationTitle** in this particular test case but it is still giving me NoSuchElementException for that WebElement. Here is the stack trace\r\n\r\n```\r\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//a[@class=&#39;pmd-list-title&#39;]&quot;}\r\n  (Session info: chrome=94.0.4606.81)\r\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;DESKTOP-R3JT7MO&#39;, ip: &#39;192.168.0.103&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 94.0.4606.81, chrome: {chromedriverVersion: 94.0.4606.61 (418b78f5838ed..., userDataDir: C:\\Users\\CHINMA~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:65399}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: b059694161fd932a928a64dc2c56d31d\r\n*** Element info: {Using=xpath, value=//a[@class=&#39;pmd-list-title&#39;]}\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\r\n\tat org.openqa.selenium.By$ByXPath.findElement(By.java:353)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n\tat com.digicorp.pageobjects.NotificationsPage.&lt;init&gt;(NotificationsPage.java:15)\r\n\tat com.digicorp.pageobjects.HomePage.clickHighlights(HomePage.java:77)\r\n\tat com.digicorp.testcases.TC_HighlightsSection.testDateSettings(TC_HighlightsSection.java:37)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n```\r\n\r\nCan someone shed some light on where I am making a mistake.","title":"Selenium No such element exception despite not using or calling the WebElement","body":"<p>Now I am executing a test case but am getting a NoSuchElementException despite not using that element in my test case. Here is my implementation.</p>\n<p><strong>This is my page layer</strong></p>\n<pre><code>\n    public class NotificationsPage extends BasePage {\n    \n        private final WebElement datePicker = \n                driver.findElement(By.xpath(&quot;(//input[@aria-label='Password2'])[1]&quot;));\n        public String textBoxData = &quot;&quot;;\n        public String date1 = &quot;&quot;;\n        public String date2 = &quot;&quot;;\n        private final WebElement notificationTitle = driver.findElement(By.xpath(&quot;//a[@class='pmd-list-title']&quot;));\n        \n        {\n            textBoxData = datePicker.getAttribute(&quot;value&quot;);\n            String[] parts = textBoxData.split(&quot;-&quot;);\n            date1 = parts[0].trim();\n            date2 = parts[1].trim();\n        }\n        \n        public String getNotificationTitle()\n        {\n            String title = notificationTitle.getText();\n            return title;\n        }\n    }\n\n</code></pre>\n<p><strong>This is my test case I'm executing</strong></p>\n<pre><code>\n    @Test\n        public void testDateSettings(Map&lt;String, String&gt; map) throws Exception\n        {\n            try\n            {\n                new LoginPage().clickLoginButton().setUserName(map.get(&quot;username&quot;)).setPassword(map.get(&quot;password&quot;)).clickSubmit()\n                .clickHighlights();\n            }\n            catch(ExceptionInInitializerError ex)\n            {\n                ex.printStackTrace();\n            }\n            \n            NotificationsPage notificationsPage = new NotificationsPage();\n            String systemDate = DateTimeUtils.getSystemDate();\n            System.out.println(&quot;System date:: &quot;+systemDate);\n            System.out.println(&quot;Date1:: &quot;+notificationsPage.date1);\n            System.out.println(&quot;Date2:: &quot;+notificationsPage.date2);\n            Assertions.assertThat(systemDate).isBetween(notificationsPage.date1, notificationsPage.date2);\n        }\n\n</code></pre>\n<p>Now as you can see I am nowhere using the element <strong>notificationTitle</strong> in this particular test case but it is still giving me NoSuchElementException for that WebElement. Here is the stack trace</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//a[@class='pmd-list-title']&quot;}\n  (Session info: chrome=94.0.4606.81)\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-R3JT7MO', ip: '192.168.0.103', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 94.0.4606.81, chrome: {chromedriverVersion: 94.0.4606.61 (418b78f5838ed..., userDataDir: C:\\Users\\CHINMA~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:65399}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: b059694161fd932a928a64dc2c56d31d\n*** Element info: {Using=xpath, value=//a[@class='pmd-list-title']}\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\n    at org.openqa.selenium.By$ByXPath.findElement(By.java:353)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at com.digicorp.pageobjects.NotificationsPage.&lt;init&gt;(NotificationsPage.java:15)\n    at com.digicorp.pageobjects.HomePage.clickHighlights(HomePage.java:77)\n    at com.digicorp.testcases.TC_HighlightsSection.testDateSettings(TC_HighlightsSection.java:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\n</code></pre>\n<p>Can someone shed some light on where I am making a mistake.</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":6873078,"reputation":9765,"user_id":5282585,"accept_rate":78,"display_name":"nhoxbypass"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1508571108,"creation_date":1508423526,"answer_id":46832405,"question_id":46832288,"body_markdown":"Open your Android Studio **`Project Explorer`**, expand **`External Libraries`** sections. Right click and **`Show in Files/Explorer`**","title":"Where does gradle save dependencies&#39; jars?","body":"<p>Open your Android Studio <strong><code>Project Explorer</code></strong>, expand <strong><code>External Libraries</code></strong> sections. Right click and <strong><code>Show in Files/Explorer</code></strong></p>\n"},{"tags":[],"owner":{"account_id":7661956,"reputation":800,"user_id":5806975,"display_name":"FabioStein"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1508423621,"creation_date":1508423621,"answer_id":46832435,"question_id":46832288,"body_markdown":"Generally, you can find in:&lt;br&gt;\r\n\r\n    %USERPROFILE%/.gradle/caches/modules-2/files-2.1","title":"Where does gradle save dependencies&#39; jars?","body":"<p>Generally, you can find in:<br></p>\n\n<pre><code>%USERPROFILE%/.gradle/caches/modules-2/files-2.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1566861232,"creation_date":1527487150,"answer_id":50559977,"question_id":46832288,"body_markdown":"***BY DEFAULT***\r\n\r\nLinux:\r\n\r\n    ~/.gradle/caches/modules-2/files-2.1\r\nWindows: \r\n\r\n    %USERPROFILE%/.gradle/caches/modules-2/files-2.1\r\n\r\nMac:\r\n\r\n    ~/.gradle/caches/modules-2/files-2.1\r\n\r\nAndroid:\r\n\r\n    no idea... can anyone edit?\r\n\r\n***SETTING TO SOMETHING ELSE***\r\n\r\nBut you can override these default settings by setting `GRADLE_USER_HOME`.  The latter environment variable, if set, is **NOT** the same as `GRADLE_HOME`, which is the path to the directory containing the `bin/` directory for the Gradle version your system is using at the command prompt (NB instead of invoking Gradle directly at the command line most people seem to use the [Gradle wrapper][1] however: `$ ./gradlew build`).\r\n\r\n***RUNNING GRADLE IN AN IDE***\r\n\r\nIDEs may be using a different version and be storing dependency jars somewhere else.  I only know Eclipse.  Having installed Buildship (&quot;Eclipse Plug-ins for Gradle&quot;) the place to go is Window --&gt; Preferences --&gt; Gradle.  There is a box here for you to specify &quot;Gradle User Home&quot;.  Mine is currently empty.  I presume it is using the system `GRADLE_USER_HOME` (which I have indeed set)... but I haven&#39;t bothered checking: although it is possible to run Gradle tasks from within Eclipse to me it is more handy to run Gradle commands in a separate Terminal (*nix)/Command Prompt window (&#39;Doze). \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/gradle_wrapper.html","title":"Where does gradle save dependencies&#39; jars?","body":"<p><strong><em>BY DEFAULT</em></strong></p>\n\n<p>Linux:</p>\n\n<pre><code>~/.gradle/caches/modules-2/files-2.1\n</code></pre>\n\n<p>Windows: </p>\n\n<pre><code>%USERPROFILE%/.gradle/caches/modules-2/files-2.1\n</code></pre>\n\n<p>Mac:</p>\n\n<pre><code>~/.gradle/caches/modules-2/files-2.1\n</code></pre>\n\n<p>Android:</p>\n\n<pre><code>no idea... can anyone edit?\n</code></pre>\n\n<p><strong><em>SETTING TO SOMETHING ELSE</em></strong></p>\n\n<p>But you can override these default settings by setting <code>GRADLE_USER_HOME</code>.  The latter environment variable, if set, is <strong>NOT</strong> the same as <code>GRADLE_HOME</code>, which is the path to the directory containing the <code>bin/</code> directory for the Gradle version your system is using at the command prompt (NB instead of invoking Gradle directly at the command line most people seem to use the <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"noreferrer\">Gradle wrapper</a> however: <code>$ ./gradlew build</code>).</p>\n\n<p><strong><em>RUNNING GRADLE IN AN IDE</em></strong></p>\n\n<p>IDEs may be using a different version and be storing dependency jars somewhere else.  I only know Eclipse.  Having installed Buildship (\"Eclipse Plug-ins for Gradle\") the place to go is Window --> Preferences --> Gradle.  There is a box here for you to specify \"Gradle User Home\".  Mine is currently empty.  I presume it is using the system <code>GRADLE_USER_HOME</code> (which I have indeed set)... but I haven't bothered checking: although it is possible to run Gradle tasks from within Eclipse to me it is more handy to run Gradle commands in a separate Terminal (*nix)/Command Prompt window ('Doze). </p>\n"},{"tags":[],"owner":{"account_id":5201756,"reputation":1971,"user_id":4160889,"accept_rate":74,"display_name":"ForeverLearner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634189305,"creation_date":1634112941,"answer_id":69551968,"question_id":46832288,"body_markdown":"The format for the jar is `~/.gradle/caches/modules-2/files-2.1/&lt;com.org.pkg&gt;/&lt;uuid&gt;/`\r\n\r\nIf you are using Intellij IDEA, then browse the jar on the Project window \r\n[![enter image description here][1]][1]\r\n\r\n\r\nRight-click on the jar and open in terminal.\r\n\r\nRun the `pwd` command in terminal to find the location.\r\n\r\nVideo guide - [How to find dependent jar on local when using gradle][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vKAcu.png\r\n  [2]: https://youtu.be/6qLOdL849Y0","title":"Where does gradle save dependencies&#39; jars?","body":"<p>The format for the jar is <code>~/.gradle/caches/modules-2/files-2.1/&lt;com.org.pkg&gt;/&lt;uuid&gt;/</code></p>\n<p>If you are using Intellij IDEA, then browse the jar on the Project window\n<a href=\"https://i.stack.imgur.com/vKAcu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKAcu.png\" alt=\"enter image description here\" /></a></p>\n<p>Right-click on the jar and open in terminal.</p>\n<p>Run the <code>pwd</code> command in terminal to find the location.</p>\n<p>Video guide - <a href=\"https://youtu.be/6qLOdL849Y0\" rel=\"nofollow noreferrer\">How to find dependent jar on local when using gradle</a></p>\n"}],"owner":{"account_id":6236664,"reputation":5308,"user_id":4851751,"accept_rate":100,"display_name":"Doron Yakovlev Golani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36375,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":50559977,"answer_count":4,"score":52,"last_activity_date":1634189305,"creation_date":1508423181,"question_id":46832288,"body_markdown":"I want to look at the jars/aars that are compiled when I add dependencies.\r\n\r\nFor example if I add this dependency in Gradle, where does it put the jar?\r\n\r\n    dependencies {\r\n        compile &#39;com.google.android.gms:play-services-analytics:11.0.4&#39;\r\n    }\r\n\r\n","title":"Where does gradle save dependencies&#39; jars?","body":"<p>I want to look at the jars/aars that are compiled when I add dependencies.</p>\n\n<p>For example if I add this dependency in Gradle, where does it put the jar?</p>\n\n<pre><code>dependencies {\n    compile 'com.google.android.gms:play-services-analytics:11.0.4'\n}\n</code></pre>\n"},{"tags":["java","datetime","jodatime","java-time"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1634145046,"post_id":69558345,"comment_id":122949494,"body_markdown":"A year is not 365.0000 days.","body":"A year is not 365.0000 days."},{"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1634145926,"post_id":69558345,"comment_id":122949792,"body_markdown":"@VGR, you&#39;re right. Updated. Also added `java.time` behavior.","body":"@VGR, you&#39;re right. Updated. Also added <code>java.time</code> behavior."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634189152,"creation_date":1634148024,"answer_id":69560250,"question_id":69558345,"body_markdown":"## Not a bug: Julian vs. proleptic Gregorian calendar\r\n\r\nThis is no bug. It has been designed this way consciously. There are two different calendar systems in play here:\r\n\r\n 1. The outdated `java.util.Date` class uses the Julian Calendar for dates before 1582. Its an attempt to reflect the calendar system that was actually in use in the greater parts of Europe back then.\r\n 2. Both Joda-Time and java.time use the ISO 8601 calendar system by default (other calendar systems are supported if you specify them explicitly). ISO 8601 in turn uses the proleptic Gregorian calendar. The proleptic Gregorian calendar is created by extrapolating the rules of the Gregorian calendar back into the times before the Gregorian calendar was invented and introduced. So it gives dates that do not agree with dates actually used back then, but in turn, are more well-defined.\r\n\r\nThe two calendars are several days apart for most dates, up to a couple of weeks as we get close to the Julian-Gregorian cross over in 1582 or later, depending on the jurisdiction.\r\n\r\n## Joda-Time supports the Gregorian/Julian calendar\r\n\r\nThe combined Gregorian/Juian calendar system that `Date` used is supported by Joda-TIme too through the `GJChronology` class.\r\n\r\n\t\tDateTime dt = new DateTime(-62_135_640_000_000L,\r\n\t\t\t\tGJChronology.getInstanceUTC());\r\n\t\tSystem.out.println(&quot;DateTime with GJChronology: &quot; + dt);\r\n\r\nOutput:\r\n\r\n&gt; DateTime with GJChronology: 0001-01-02T12:00:00.000Z\r\n\r\nThe year, the month, and the day-of-month all agree with what you got from `Date`.\r\n\r\n## Links\r\n\r\n - [ISO8601 Java calendar system](https://www.joda.org/joda-time/cal_iso.html) on the Joda-Time website.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\r\n - [Proleptic Gregorian calendar](https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar) on Wikipedia\r\n - Similar question: [Java: How to get the timestamp of &#39;1000-01-01 00:00:00&#39; in UTC?](https://stackoverflow.com/questions/57992234/java-how-to-get-the-timestamp-of-1000-01-01-000000-in-utc) The difference is that that question is about `ZonedDateTime` from java.time, not about Joda-Time.","title":"Is this a bug in joda time? Handling very old (year 0000) instant / negative epoch","body":"<h2>Not a bug: Julian vs. proleptic Gregorian calendar</h2>\n<p>This is no bug. It has been designed this way consciously. There are two different calendar systems in play here:</p>\n<ol>\n<li>The outdated <code>java.util.Date</code> class uses the Julian Calendar for dates before 1582. Its an attempt to reflect the calendar system that was actually in use in the greater parts of Europe back then.</li>\n<li>Both Joda-Time and java.time use the ISO 8601 calendar system by default (other calendar systems are supported if you specify them explicitly). ISO 8601 in turn uses the proleptic Gregorian calendar. The proleptic Gregorian calendar is created by extrapolating the rules of the Gregorian calendar back into the times before the Gregorian calendar was invented and introduced. So it gives dates that do not agree with dates actually used back then, but in turn, are more well-defined.</li>\n</ol>\n<p>The two calendars are several days apart for most dates, up to a couple of weeks as we get close to the Julian-Gregorian cross over in 1582 or later, depending on the jurisdiction.</p>\n<h2>Joda-Time supports the Gregorian/Julian calendar</h2>\n<p>The combined Gregorian/Juian calendar system that <code>Date</code> used is supported by Joda-TIme too through the <code>GJChronology</code> class.</p>\n<pre><code>    DateTime dt = new DateTime(-62_135_640_000_000L,\n            GJChronology.getInstanceUTC());\n    System.out.println(&quot;DateTime with GJChronology: &quot; + dt);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>DateTime with GJChronology: 0001-01-02T12:00:00.000Z</p>\n</blockquote>\n<p>The year, the month, and the day-of-month all agree with what you got from <code>Date</code>.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://www.joda.org/joda-time/cal_iso.html\" rel=\"nofollow noreferrer\">ISO8601 Java calendar system</a> on the Joda-Time website.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar\" rel=\"nofollow noreferrer\">Proleptic Gregorian calendar</a> on Wikipedia</li>\n<li>Similar question: <a href=\"https://stackoverflow.com/questions/57992234/java-how-to-get-the-timestamp-of-1000-01-01-000000-in-utc\">Java: How to get the timestamp of '1000-01-01 00:00:00' in UTC?</a> The difference is that that question is about <code>ZonedDateTime</code> from java.time, not about Joda-Time.</li>\n</ul>\n"}],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69560250,"answer_count":1,"score":2,"last_activity_date":1634189152,"creation_date":1634139276,"question_id":69558345,"body_markdown":"It seems like `DateTime` does not initialize itself with correct date when we construct it from a `java.util.Date` with year `0001`.\r\n\r\n```java\r\nimport java.time.LocalDateTime;\r\nimport java.util.TimeZone;\r\npublic class TestMain {\r\n    public static void main(String[] args) {\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        java.util.Date d = new java.util.Date(-62135640000000L);\r\n        java.time.Instant i = java.time.Instant.ofEpochMilli(-62135640000000L);\r\n        System.out.println(&quot;d = new java.util.Date(-62135640000000L)                      : &quot; + new java.util.Date(-62135640000000L));\r\n        System.out.println(&quot;new org.joda.time.DateTime(d)                                 : &quot; + new org.joda.time.DateTime(d));\r\n        System.out.println(&quot;new org.joda.time.DateTime(-62135640000000L)                  : &quot; + new org.joda.time.DateTime(-62135640000000L));\r\n        System.out.println(&quot;java.time.LocalDateTime.ofInstant(i, java.time.ZoneOffset.UTC): &quot; + LocalDateTime.ofInstant(i, java.time.ZoneOffset.UTC));\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n```\r\nd = new java.util.Date(-62135640000000L)                      : Sun Jan 02 12:00:00 UTC 1\r\nnew org.joda.time.DateTime(d)                                 : 0000-12-31T12:00:00.000Z\r\nnew org.joda.time.DateTime(-62135640000000L)                  : 0000-12-31T12:00:00.000Z\r\njava.time.LocalDateTime.ofInstant(i, java.time.ZoneOffset.UTC): 0000-12-31T12:00\r\n```\r\n\r\nApart from the timezone related differences, if you note:\r\n* the date is `02` in `Date` object and `31` in `DateTime` (or `00` if you change to `UTC`)\r\n* the year is `0001` in `Date` object and `0000` in `DateTime`\r\n\r\nAm I doing something wrong, or is this a bug?\r\n\r\nDid some more calculation\r\n```\r\n62135640000000 / 1000 / 3600 / 24 / 365.25 = 1968.9596167008898015058179329227\r\n0.9596167008898015058179329227 * 365.25 = 350.5\r\n365.25 - 350.5 = 14.75\r\n```\r\n\r\nSo `-62135640000000` = negative 1969 years and 350.5 days. Or about 14.75 days after start of year 0000.\r\n","title":"Is this a bug in joda time? Handling very old (year 0000) instant / negative epoch","body":"<p>It seems like <code>DateTime</code> does not initialize itself with correct date when we construct it from a <code>java.util.Date</code> with year <code>0001</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.util.TimeZone;\npublic class TestMain {\n    public static void main(String[] args) {\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\n        java.util.Date d = new java.util.Date(-62135640000000L);\n        java.time.Instant i = java.time.Instant.ofEpochMilli(-62135640000000L);\n        System.out.println(&quot;d = new java.util.Date(-62135640000000L)                      : &quot; + new java.util.Date(-62135640000000L));\n        System.out.println(&quot;new org.joda.time.DateTime(d)                                 : &quot; + new org.joda.time.DateTime(d));\n        System.out.println(&quot;new org.joda.time.DateTime(-62135640000000L)                  : &quot; + new org.joda.time.DateTime(-62135640000000L));\n        System.out.println(&quot;java.time.LocalDateTime.ofInstant(i, java.time.ZoneOffset.UTC): &quot; + LocalDateTime.ofInstant(i, java.time.ZoneOffset.UTC));\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>d = new java.util.Date(-62135640000000L)                      : Sun Jan 02 12:00:00 UTC 1\nnew org.joda.time.DateTime(d)                                 : 0000-12-31T12:00:00.000Z\nnew org.joda.time.DateTime(-62135640000000L)                  : 0000-12-31T12:00:00.000Z\njava.time.LocalDateTime.ofInstant(i, java.time.ZoneOffset.UTC): 0000-12-31T12:00\n</code></pre>\n<p>Apart from the timezone related differences, if you note:</p>\n<ul>\n<li>the date is <code>02</code> in <code>Date</code> object and <code>31</code> in <code>DateTime</code> (or <code>00</code> if you change to <code>UTC</code>)</li>\n<li>the year is <code>0001</code> in <code>Date</code> object and <code>0000</code> in <code>DateTime</code></li>\n</ul>\n<p>Am I doing something wrong, or is this a bug?</p>\n<p>Did some more calculation</p>\n<pre><code>62135640000000 / 1000 / 3600 / 24 / 365.25 = 1968.9596167008898015058179329227\n0.9596167008898015058179329227 * 365.25 = 350.5\n365.25 - 350.5 = 14.75\n</code></pre>\n<p>So <code>-62135640000000</code> = negative 1969 years and 350.5 days. Or about 14.75 days after start of year 0000.</p>\n"},{"tags":["java","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1632897308,"post_id":69368404,"comment_id":122613217,"body_markdown":"Your class `ContainerEntity` has two fields with the same name `customAttributes` that is not possible.","body":"Your class <code>ContainerEntity</code> has two fields with the same name <code>customAttributes</code> that is not possible."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634188459,"creation_date":1634188459,"answer_id":69565399,"question_id":69368404,"body_markdown":"I think you simply cannot use `@OneToMany(mappedBy)` in this particular case due to a limitation in older Hibernate versions in combination with using the subtype. You should switch to \r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;containerEntity&quot;)\r\n    private Set&lt;BaseAttributeEntity&gt; attributes = new HashSet&lt;&gt;();\r\n\r\n    private Set&lt;SpecialAttributeEntity&gt; specialAttributes;\r\n    private Set&lt;AnotherSpecialAttributeEntity&gt; anotherSpecialAttributes;\r\n\r\n    // Put respective instances into separate collections on load\r\n    @PostLoad\r\n    void postLoad() {\r\n        this.specialAttributes = attributes.stream().filter(a instanceof SpecialAttributeEntity).collect(toSet());\r\n        this.anotherSpecialAttributes = attributes.stream().filter(a instanceof AnotherSpecialAttributeEntity).collect(toSet());\r\n    }\r\n\r\n    // Controlled write access\r\n    public void addAttribute(BaseAttributeEntity a) {\r\n        if (a instanceof SpecialAttributeEntity) {\r\n            specialAttributes.add(a);\r\n        } else {\r\n            anotherSpecialAttributes.add(a);\r\n        }\r\n        attributes.add(a);\r\n    }\r\n    public void removeAttribute(BaseAttributeEntity a) {\r\n        if (a instanceof SpecialAttributeEntity) {\r\n            specialAttributes.remove(a);\r\n        } else {\r\n            anotherSpecialAttributes.remove(a);\r\n        }\r\n        attributes.remove(a);\r\n    }\r\n\r\n    // Provide read-only access\r\n    public Set&lt;SpecialAttributeEntity&gt; getSpecialAttributes() {\r\n        return Collections.unmodifiableSet(specialAttributes);\r\n    }\r\n    public Set&lt;AnotherSpecialAttributeEntity&gt; getAnotherSpecialAttributes() {\r\n        return Collections.unmodifiableSet(anotherSpecialAttributes);\r\n    }","title":"Hibernate is using wrong table for join when inheritence strategy is InheritanceType.JOINED","body":"<p>I think you simply cannot use <code>@OneToMany(mappedBy)</code> in this particular case due to a limitation in older Hibernate versions in combination with using the subtype. You should switch to</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;containerEntity&quot;)\nprivate Set&lt;BaseAttributeEntity&gt; attributes = new HashSet&lt;&gt;();\n\nprivate Set&lt;SpecialAttributeEntity&gt; specialAttributes;\nprivate Set&lt;AnotherSpecialAttributeEntity&gt; anotherSpecialAttributes;\n\n// Put respective instances into separate collections on load\n@PostLoad\nvoid postLoad() {\n    this.specialAttributes = attributes.stream().filter(a instanceof SpecialAttributeEntity).collect(toSet());\n    this.anotherSpecialAttributes = attributes.stream().filter(a instanceof AnotherSpecialAttributeEntity).collect(toSet());\n}\n\n// Controlled write access\npublic void addAttribute(BaseAttributeEntity a) {\n    if (a instanceof SpecialAttributeEntity) {\n        specialAttributes.add(a);\n    } else {\n        anotherSpecialAttributes.add(a);\n    }\n    attributes.add(a);\n}\npublic void removeAttribute(BaseAttributeEntity a) {\n    if (a instanceof SpecialAttributeEntity) {\n        specialAttributes.remove(a);\n    } else {\n        anotherSpecialAttributes.remove(a);\n    }\n    attributes.remove(a);\n}\n\n// Provide read-only access\npublic Set&lt;SpecialAttributeEntity&gt; getSpecialAttributes() {\n    return Collections.unmodifiableSet(specialAttributes);\n}\npublic Set&lt;AnotherSpecialAttributeEntity&gt; getAnotherSpecialAttributes() {\n    return Collections.unmodifiableSet(anotherSpecialAttributes);\n}\n</code></pre>\n"}],"owner":{"account_id":7378127,"reputation":186,"user_id":5615926,"display_name":"Y. Sobelman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634188459,"creation_date":1632862728,"question_id":69368404,"body_markdown":"I have a base JPA Entity defined like so (I&#39;m using *Hibernate 5.4.25.final* implementation):\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Attributes&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class BaseAttributeEntity {\r\n\r\n    @Id\r\n\tprivate UUID id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;containerId&quot;)\r\n    private ContainerEntity containerEntity;\r\n}\r\n```\r\nAnd 2 inheriting entities, both similar to the below:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SpecialAttributes&quot;)\r\npublic class SpecialAttributeEntity extends BaseAttributeEntity {\r\n   // ... some more properties\r\n}\r\n\r\n```\r\n\r\nThe table structure is similar to what&#39;s described in the [hibernate documentation][1], with id column defined on all 3 tables.\r\n\r\nI also have another entity containing collections of the 2 entities, something like that:\r\n```\r\n@Entity\r\n@Table(name = &quot;Container&quot;)\r\npublic class ContainerEntity {\r\n\r\n    @Id\r\n\tprivate UUID id;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;containerEntity&quot;)\r\n    private Set&lt;SpecialAttributeEntity&gt; specialAttributes = new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;containerEntity&quot;)\r\n    private Set&lt;AnotherSpecialAttributeEntity&gt; anotherSpecialAttributes = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nWhen I try to run some searching logic and fetch `ContainerEntity`s I get the below error from the underlying sql:\r\n```\r\norg.postgresql.util.PSQLException: ERROR: column specialattr0_.containerId does not exist\r\n  Hint: Perhaps you meant to reference the column &quot;specialattr0_1_.containerId&quot;.\r\n```\r\n\r\nThe underlying sql Hibernate uses for fetching (I left only the `from` statement because that&#39;s where the problem lies):\r\n```\r\nfrom \r\n  &quot;Service&quot;.&quot;SpecialAttributes&quot; specialattr0_ \r\n  inner join &quot;Service&quot;.&quot;Attributes&quot; specialattr0_1_ on specialattr0_.&quot;id&quot; = specialattr0_1_.&quot;id&quot; \r\n  left outer join &quot;Service&quot;.&quot;Containers&quot; containeren1_ on customattr0_1_.&quot;containerId&quot; = containeren1_.&quot;id&quot;\r\n```\r\n\r\nBasically the problem is that both of the &quot;attributes&quot; entities are joined using the `containerId` column, which is defined in the base class DB table, but Hibernate tries to make the `join` but using the column from the children classes DB tables (where it obviously does not exist...).\r\n\r\nI tried, but still haven&#39;t found a solution for this. How can I direct Hibernate to use the right table? Preferably using the standard specification?\r\n\r\nThank you!\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-joined-table","title":"Hibernate is using wrong table for join when inheritence strategy is InheritanceType.JOINED","body":"<p>I have a base JPA Entity defined like so (I'm using <em>Hibernate 5.4.25.final</em> implementation):</p>\n<pre><code>@Entity\n@Table(name = &quot;Attributes&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class BaseAttributeEntity {\n\n    @Id\n    private UUID id;\n\n    @Column\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;containerId&quot;)\n    private ContainerEntity containerEntity;\n}\n</code></pre>\n<p>And 2 inheriting entities, both similar to the below:</p>\n<pre><code>@Entity\n@Table(name = &quot;SpecialAttributes&quot;)\npublic class SpecialAttributeEntity extends BaseAttributeEntity {\n   // ... some more properties\n}\n\n</code></pre>\n<p>The table structure is similar to what's described in the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-joined-table\" rel=\"nofollow noreferrer\">hibernate documentation</a>, with id column defined on all 3 tables.</p>\n<p>I also have another entity containing collections of the 2 entities, something like that:</p>\n<pre><code>@Entity\n@Table(name = &quot;Container&quot;)\npublic class ContainerEntity {\n\n    @Id\n    private UUID id;\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;containerEntity&quot;)\n    private Set&lt;SpecialAttributeEntity&gt; specialAttributes = new HashSet&lt;&gt;();\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;containerEntity&quot;)\n    private Set&lt;AnotherSpecialAttributeEntity&gt; anotherSpecialAttributes = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>When I try to run some searching logic and fetch <code>ContainerEntity</code>s I get the below error from the underlying sql:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column specialattr0_.containerId does not exist\n  Hint: Perhaps you meant to reference the column &quot;specialattr0_1_.containerId&quot;.\n</code></pre>\n<p>The underlying sql Hibernate uses for fetching (I left only the <code>from</code> statement because that's where the problem lies):</p>\n<pre><code>from \n  &quot;Service&quot;.&quot;SpecialAttributes&quot; specialattr0_ \n  inner join &quot;Service&quot;.&quot;Attributes&quot; specialattr0_1_ on specialattr0_.&quot;id&quot; = specialattr0_1_.&quot;id&quot; \n  left outer join &quot;Service&quot;.&quot;Containers&quot; containeren1_ on customattr0_1_.&quot;containerId&quot; = containeren1_.&quot;id&quot;\n</code></pre>\n<p>Basically the problem is that both of the &quot;attributes&quot; entities are joined using the <code>containerId</code> column, which is defined in the base class DB table, but Hibernate tries to make the <code>join</code> but using the column from the children classes DB tables (where it obviously does not exist...).</p>\n<p>I tried, but still haven't found a solution for this. How can I direct Hibernate to use the right table? Preferably using the standard specification?</p>\n<p>Thank you!</p>\n"},{"tags":["java","glassfish","classnotfoundexception","asadmin"],"answers":[{"tags":[],"owner":{"account_id":14514701,"reputation":714,"user_id":10484162,"display_name":"Ashish Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634188198,"creation_date":1634188198,"answer_id":69565363,"question_id":69542070,"body_markdown":"The problem arised from a missing jar file that is **common-util.jar**  [More about common util jar files][1]\r\nThe missing file comes under the above mentioned jar file\r\n\r\n    jar -tvf common-util.jar\r\n    --o/p set of files inside the jar as below\r\n\r\n    com.sun.enterprise.universal.i18n.LocalStringsImpl.class\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/c/Downloadcommonutil301jar.htm","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/enterprise/universal/i18n/LocalStringsImpl","body":"<p>The problem arised from a missing jar file that is <strong>common-util.jar</strong>  <a href=\"http://www.java2s.com/Code/Jar/c/Downloadcommonutil301jar.htm\" rel=\"nofollow noreferrer\">More about common util jar files</a>\nThe missing file comes under the above mentioned jar file</p>\n<pre><code>jar -tvf common-util.jar\n--o/p set of files inside the jar as below\n\ncom.sun.enterprise.universal.i18n.LocalStringsImpl.class\n</code></pre>\n"}],"owner":{"account_id":14514701,"reputation":714,"user_id":10484162,"display_name":"Ashish Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69565363,"answer_count":1,"score":0,"last_activity_date":1634188198,"creation_date":1634047783,"question_id":69542070,"body_markdown":"When I undeployed the war file(glassfish) using asadmin and when I try restarting the glassfish it throws error, what can be the possible problem may be jar file or something is missing.\r\n\r\n    /opt/glassfishv3/glassfish/bin/asadmin undeploy war-name\r\n    /opt/glassfishv3/glassfish/bin/asadmin deploy war-name.war\r\n    ./etc/init.d/glassfish restart\r\n\r\n\r\n----------\r\n\r\n\r\n    Starting Glassfish ...\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/enterprise/universal/i18n/LocalStringsImpl\r\n            at com.sun.enterprise.admin.cli.AsadminMain.&lt;clinit&gt;(AsadminMain.java:94)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.enterprise.universal.i18n.LocalStringsImpl\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/enterprise/universal/i18n/LocalStringsImpl","body":"<p>When I undeployed the war file(glassfish) using asadmin and when I try restarting the glassfish it throws error, what can be the possible problem may be jar file or something is missing.</p>\n<pre><code>/opt/glassfishv3/glassfish/bin/asadmin undeploy war-name\n/opt/glassfishv3/glassfish/bin/asadmin deploy war-name.war\n./etc/init.d/glassfish restart\n</code></pre>\n<hr />\n<pre><code>Starting Glassfish ...\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/enterprise/universal/i18n/LocalStringsImpl\n        at com.sun.enterprise.admin.cli.AsadminMain.&lt;clinit&gt;(AsadminMain.java:94)\nCaused by: java.lang.ClassNotFoundException: com.sun.enterprise.universal.i18n.LocalStringsImpl\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","error-handling","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":22941670,"reputation":21,"user_id":17074317,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633604093,"creation_date":1633604093,"answer_id":69479877,"question_id":69475757,"body_markdown":"In place of doing an if you can catch an HttpClientErrorException, so with that you can avoid boiler plate\r\n\r\n    @Test\r\n    void shouldPrintErrorForRestTemplate() {\r\n        try {\r\n\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            restTemplate.getForEntity(&quot;http://hellosmilep.free.beeceptor.com/error/notfound&quot;, String.class);\r\n\r\n        } catch(HttpClientErrorException e) {\r\n            log.error(e.getResponseBodyAsString(),e);\r\n        }catch (Exception e) {\r\n            log.error(&quot;Error calling REST API&quot;, e);\r\n        }\r\n    }","title":"How to print complete error message when logging an exception generated by RestTemplate?","body":"<p>In place of doing an if you can catch an HttpClientErrorException, so with that you can avoid boiler plate</p>\n<pre><code>@Test\nvoid shouldPrintErrorForRestTemplate() {\n    try {\n\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.getForEntity(&quot;http://hellosmilep.free.beeceptor.com/error/notfound&quot;, String.class);\n\n    } catch(HttpClientErrorException e) {\n        log.error(e.getResponseBodyAsString(),e);\n    }catch (Exception e) {\n        log.error(&quot;Error calling REST API&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1634106840,"creation_date":1633962018,"answer_id":69527775,"question_id":69475757,"body_markdown":"[By default](https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/RestTemplate.java#L138), `RestTemplate` uses [`DefaultErrorHandler`](https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/DefaultResponseErrorHandler.java#L53) for processing errors.\r\n\r\nIn the implementation of this class, the different `handleError` methods - see for instance [this](https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/DefaultResponseErrorHandler.java#L165-L192) - rely on the [`getErrorMessage` method](https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/DefaultResponseErrorHandler.java#L128-L163):\r\n\r\n```java\r\n/**\r\n  * Return error message with details from the response body, possibly truncated:\r\n  * &lt;pre&gt;\r\n  * 404 Not Found: [{&#39;id&#39;: 123, &#39;message&#39;: &#39;my very long... (500 bytes)]\r\n  * &lt;/pre&gt;\r\n  */\r\nprivate String getErrorMessage(\r\n    int rawStatusCode, String statusText, @Nullable byte[] responseBody, @Nullable Charset charset) {\r\n\r\n\r\n  String preface = rawStatusCode + &quot; &quot; + statusText + &quot;: &quot;;\r\n  if (ObjectUtils.isEmpty(responseBody)) {\r\n    return preface + &quot;[no body]&quot;;\r\n  }\r\n\r\n\r\n  if (charset == null) {\r\n    charset = StandardCharsets.UTF_8;\r\n  }\r\n  int maxChars = 200;\r\n\r\n\r\n  if (responseBody.length &lt; maxChars * 2) {\r\n    return preface + &quot;[&quot; + new String(responseBody, charset) + &quot;]&quot;;\r\n  }\r\n\r\n\r\n  try {\r\n    Reader reader = new InputStreamReader(new ByteArrayInputStream(responseBody), charset);\r\n    CharBuffer buffer = CharBuffer.allocate(maxChars);\r\n    reader.read(buffer);\r\n    reader.close();\r\n    buffer.flip();\r\n    return preface + &quot;[&quot; + buffer.toString() + &quot;... (&quot; + responseBody.length + &quot; bytes)]&quot;;\r\n  }\r\n  catch (IOException ex) {\r\n    // should never happen\r\n    throw new IllegalStateException(ex);\r\n  }\r\n}\r\n```\r\n\r\nAs you can see, this is method the one that actually truncates the message.\r\n\r\nIn order to provide the full message, you can your own provided [`ResponseErrorHandler`](https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/ResponseErrorHandler.java#L32) implementation.\r\n\r\nFor instance, reusing the code implement in `DefaultErrorHandler`:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.client.ClientHttpResponse;\r\nimport org.springframework.lang.Nullable;\r\nimport org.springframework.util.ObjectUtils;\r\nimport org.springframework.web.client.DefaultResponseErrorHandler;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.HttpServerErrorException;\r\nimport org.springframework.web.client.UnknownHttpStatusCodeException;\r\n\r\npublic class CustomRestTemplateResponseErrorHandler extends DefaultResponseErrorHandler {\r\n  \r\n  // This overloaded method version is only available since Spring 5.0\r\n  // For previous versions of the library you can override\r\n  // handleError(ClientHttpResponse response) instead\r\n  @Override\r\n  protected void handleError(ClientHttpResponse response, HttpStatus statusCode) throws IOException {\r\n    String statusText = response.getStatusText();\r\n    HttpHeaders headers = response.getHeaders();\r\n    byte[] body = getResponseBody(response);\r\n    Charset charset = getCharset(response);\r\n    String message = getErrorMessage(statusCode.value(), statusText, body, charset);\r\n\r\n    switch (statusCode.series()) {\r\n      case CLIENT_ERROR:\r\n        throw HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n      case SERVER_ERROR:\r\n        throw HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n      default:\r\n        throw new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return error message with details from the response body:\r\n   * &lt;pre&gt;\r\n   * 404 Not Found: [{&#39;id&#39;: 123, &#39;message&#39;: &#39;actual mesage&#39;]\r\n   * &lt;/pre&gt;\r\n   *\r\n   * In contrast to &lt;code&gt;DefaultResponseErrorHandler&lt;/code&gt;, the message will not be truncated.\r\n   */\r\n  private String getErrorMessage(\r\n      int rawStatusCode, String statusText, @Nullable byte[] responseBody, @Nullable Charset charset) {\r\n\r\n    String preface = rawStatusCode + &quot; &quot; + statusText + &quot;: &quot;;\r\n    if (ObjectUtils.isEmpty(responseBody)) {\r\n      return preface + &quot;[no body]&quot;;\r\n    }\r\n\r\n    if (charset == null) {\r\n      charset = StandardCharsets.UTF_8;\r\n    }\r\n\r\n    // return the message without truncation\r\n    return preface + &quot;[&quot; + new String(responseBody, charset) + &quot;]&quot;;\r\n  }\r\n}\r\n```\r\n\r\nThen, configure `RestTemplate` to use this custom `ResponseErrorHandler`:\r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Slf4j\r\npublic class RestTemplateTest {\r\n\r\n    @Test\r\n    void shouldPrintErrorForRestTemplate() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseErrorHandler errorHandler = new CustomRestTemplateResponseErrorHandler();\r\n        restTemplate.setErrorHandler(errorHandler);\r\n\r\n        try {\r\n            restTemplate.getForEntity(&quot;http://hellosmilep.free.beeceptor.com/error/notfound&quot;, String.class);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error calling REST API&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPlease, see [this related SO question](https://stackoverflow.com/questions/38093388/spring-resttemplate-exception-handling) or [this article](https://www.baeldung.com/spring-rest-template-error-handling) for further examples.","title":"How to print complete error message when logging an exception generated by RestTemplate?","body":"<p><a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/RestTemplate.java#L138\" rel=\"noreferrer\">By default</a>, <code>RestTemplate</code> uses <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/DefaultResponseErrorHandler.java#L53\" rel=\"noreferrer\"><code>DefaultErrorHandler</code></a> for processing errors.</p>\n<p>In the implementation of this class, the different <code>handleError</code> methods - see for instance <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/DefaultResponseErrorHandler.java#L165-L192\" rel=\"noreferrer\">this</a> - rely on the <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/DefaultResponseErrorHandler.java#L128-L163\" rel=\"noreferrer\"><code>getErrorMessage</code> method</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n  * Return error message with details from the response body, possibly truncated:\n  * &lt;pre&gt;\n  * 404 Not Found: [{'id': 123, 'message': 'my very long... (500 bytes)]\n  * &lt;/pre&gt;\n  */\nprivate String getErrorMessage(\n    int rawStatusCode, String statusText, @Nullable byte[] responseBody, @Nullable Charset charset) {\n\n\n  String preface = rawStatusCode + &quot; &quot; + statusText + &quot;: &quot;;\n  if (ObjectUtils.isEmpty(responseBody)) {\n    return preface + &quot;[no body]&quot;;\n  }\n\n\n  if (charset == null) {\n    charset = StandardCharsets.UTF_8;\n  }\n  int maxChars = 200;\n\n\n  if (responseBody.length &lt; maxChars * 2) {\n    return preface + &quot;[&quot; + new String(responseBody, charset) + &quot;]&quot;;\n  }\n\n\n  try {\n    Reader reader = new InputStreamReader(new ByteArrayInputStream(responseBody), charset);\n    CharBuffer buffer = CharBuffer.allocate(maxChars);\n    reader.read(buffer);\n    reader.close();\n    buffer.flip();\n    return preface + &quot;[&quot; + buffer.toString() + &quot;... (&quot; + responseBody.length + &quot; bytes)]&quot;;\n  }\n  catch (IOException ex) {\n    // should never happen\n    throw new IllegalStateException(ex);\n  }\n}\n</code></pre>\n<p>As you can see, this is method the one that actually truncates the message.</p>\n<p>In order to provide the full message, you can your own provided <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-web/src/main/java/org/springframework/web/client/ResponseErrorHandler.java#L32\" rel=\"noreferrer\"><code>ResponseErrorHandler</code></a> implementation.</p>\n<p>For instance, reusing the code implement in <code>DefaultErrorHandler</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.client.ClientHttpResponse;\nimport org.springframework.lang.Nullable;\nimport org.springframework.util.ObjectUtils;\nimport org.springframework.web.client.DefaultResponseErrorHandler;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.HttpServerErrorException;\nimport org.springframework.web.client.UnknownHttpStatusCodeException;\n\npublic class CustomRestTemplateResponseErrorHandler extends DefaultResponseErrorHandler {\n  \n  // This overloaded method version is only available since Spring 5.0\n  // For previous versions of the library you can override\n  // handleError(ClientHttpResponse response) instead\n  @Override\n  protected void handleError(ClientHttpResponse response, HttpStatus statusCode) throws IOException {\n    String statusText = response.getStatusText();\n    HttpHeaders headers = response.getHeaders();\n    byte[] body = getResponseBody(response);\n    Charset charset = getCharset(response);\n    String message = getErrorMessage(statusCode.value(), statusText, body, charset);\n\n    switch (statusCode.series()) {\n      case CLIENT_ERROR:\n        throw HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\n      case SERVER_ERROR:\n        throw HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\n      default:\n        throw new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\n    }\n  }\n\n  /**\n   * Return error message with details from the response body:\n   * &lt;pre&gt;\n   * 404 Not Found: [{'id': 123, 'message': 'actual mesage']\n   * &lt;/pre&gt;\n   *\n   * In contrast to &lt;code&gt;DefaultResponseErrorHandler&lt;/code&gt;, the message will not be truncated.\n   */\n  private String getErrorMessage(\n      int rawStatusCode, String statusText, @Nullable byte[] responseBody, @Nullable Charset charset) {\n\n    String preface = rawStatusCode + &quot; &quot; + statusText + &quot;: &quot;;\n    if (ObjectUtils.isEmpty(responseBody)) {\n      return preface + &quot;[no body]&quot;;\n    }\n\n    if (charset == null) {\n      charset = StandardCharsets.UTF_8;\n    }\n\n    // return the message without truncation\n    return preface + &quot;[&quot; + new String(responseBody, charset) + &quot;]&quot;;\n  }\n}\n</code></pre>\n<p>Then, configure <code>RestTemplate</code> to use this custom <code>ResponseErrorHandler</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.RestTemplate;\n\n@Slf4j\npublic class RestTemplateTest {\n\n    @Test\n    void shouldPrintErrorForRestTemplate() {\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseErrorHandler errorHandler = new CustomRestTemplateResponseErrorHandler();\n        restTemplate.setErrorHandler(errorHandler);\n\n        try {\n            restTemplate.getForEntity(&quot;http://hellosmilep.free.beeceptor.com/error/notfound&quot;, String.class);\n        } catch (Exception e) {\n            log.error(&quot;Error calling REST API&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Please, see <a href=\"https://stackoverflow.com/questions/38093388/spring-resttemplate-exception-handling\">this related SO question</a> or <a href=\"https://www.baeldung.com/spring-rest-template-error-handling\" rel=\"noreferrer\">this article</a> for further examples.</p>\n"}],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69527775,"answer_count":2,"score":5,"last_activity_date":1634188076,"creation_date":1633583431,"question_id":69475757,"body_markdown":"We have a Spring-Boot (2.3.10.RELEASE) based application which calls many REST APIs using `RestTemplate`.\r\n\r\nIn case, any REST API returns any 4xx or 5xx HTTP error code along with message body, complete message body is not getting logged.\r\n\r\nHere is a minimum reproducible example:\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Slf4j\r\npublic class RestTemplateTest {\r\n\r\n    @Test\r\n    void shouldPrintErrorForRestTemplate() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        try {\r\n            restTemplate.getForEntity(&quot;http://hellosmilep.free.beeceptor.com/error/notfound&quot;, String.class);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error calling REST API&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\n10:28:11.347 [main] ERROR com.smilep.java.webapp.RestTemplateTest - Error calling REST API\r\norg.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [{\r\n  &quot;glossary&quot;: {\r\n    &quot;title&quot;: &quot;example glossary&quot;,\r\n    &quot;GlossDiv&quot;: {\r\n      &quot;title&quot;: &quot;S&quot;,\r\n      &quot;GlossList&quot;: {\r\n        &quot;GlossEntry&quot;: {\r\n          &quot;ID&quot;: &quot;SGML&quot;,\r\n          &quot;SortAs&quot;: &quot;SGML&quot;,\r\n          &quot;Glo... (593 bytes)]\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:184)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:780)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:738)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:672)\r\n\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:340)\r\n\tat com.smilep.java.webapp.RestTemplateTest.shouldPrintErrorForRestTemplate(RestTemplateTest.java:15)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nYou can notice response message is truncated with `&quot;Glo... (593 bytes)]` in above stack trace. How to log the complete error response body?\r\n\r\nI know I can do something like below to print the error response body but it will be too much of boilerplate code to be added in many classes (and also in other applications).\r\n```java\r\nif(e instanceof HttpClientErrorException) {\r\n    log.error(&quot;response body : &quot; + ((HttpClientErrorException) e).getResponseBodyAsString());\r\n}\r\n```\r\n\r\n1. Is there any way by which logging `Exception` object would log complete error response message body instead of truncating with `... (593 bytes)]`?\r\n\r\n2. Is there some default size limit in java after which it truncates any message in error log? If yes, how to change it?\r\n\r\n**Update :**\r\n\r\nAfter jccampanero&#39;s answer, I had raised [this](https://github.com/spring-projects/spring-framework/issues/27552) issue with Spring team to make this logging message size limit configurable. They have removed the limit altogether. This change should be available in some future version of Spring.","title":"How to print complete error message when logging an exception generated by RestTemplate?","body":"<p>We have a Spring-Boot (2.3.10.RELEASE) based application which calls many REST APIs using <code>RestTemplate</code>.</p>\n<p>In case, any REST API returns any 4xx or 5xx HTTP error code along with message body, complete message body is not getting logged.</p>\n<p>Here is a minimum reproducible example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.RestTemplate;\n\n@Slf4j\npublic class RestTemplateTest {\n\n    @Test\n    void shouldPrintErrorForRestTemplate() {\n        RestTemplate restTemplate = new RestTemplate();\n        try {\n            restTemplate.getForEntity(&quot;http://hellosmilep.free.beeceptor.com/error/notfound&quot;, String.class);\n        } catch (Exception e) {\n            log.error(&quot;Error calling REST API&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>10:28:11.347 [main] ERROR com.smilep.java.webapp.RestTemplateTest - Error calling REST API\norg.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [{\n  &quot;glossary&quot;: {\n    &quot;title&quot;: &quot;example glossary&quot;,\n    &quot;GlossDiv&quot;: {\n      &quot;title&quot;: &quot;S&quot;,\n      &quot;GlossList&quot;: {\n        &quot;GlossEntry&quot;: {\n          &quot;ID&quot;: &quot;SGML&quot;,\n          &quot;SortAs&quot;: &quot;SGML&quot;,\n          &quot;Glo... (593 bytes)]\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:184)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:780)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:738)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:672)\n    at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:340)\n    at com.smilep.java.webapp.RestTemplateTest.shouldPrintErrorForRestTemplate(RestTemplateTest.java:15)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>You can notice response message is truncated with <code>&quot;Glo... (593 bytes)]</code> in above stack trace. How to log the complete error response body?</p>\n<p>I know I can do something like below to print the error response body but it will be too much of boilerplate code to be added in many classes (and also in other applications).</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(e instanceof HttpClientErrorException) {\n    log.error(&quot;response body : &quot; + ((HttpClientErrorException) e).getResponseBodyAsString());\n}\n</code></pre>\n<ol>\n<li><p>Is there any way by which logging <code>Exception</code> object would log complete error response message body instead of truncating with <code>... (593 bytes)]</code>?</p>\n</li>\n<li><p>Is there some default size limit in java after which it truncates any message in error log? If yes, how to change it?</p>\n</li>\n</ol>\n<p><strong>Update :</strong></p>\n<p>After jccampanero's answer, I had raised <a href=\"https://github.com/spring-projects/spring-framework/issues/27552\" rel=\"nofollow noreferrer\">this</a> issue with Spring team to make this logging message size limit configurable. They have removed the limit altogether. This change should be available in some future version of Spring.</p>\n"},{"tags":["java","recursion","methods"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634186984,"creation_date":1634186984,"answer_id":69565215,"question_id":69565203,"body_markdown":"You need to make two changes.\r\n\r\n 1. Decide what to return in the case where `x == y`, and add the appropriate `return` statement to the first branch.\r\n\r\n 2. Change `else if (x &lt; y) {` to `else {`.  You know that you&#39;ve exhausted all the possibilities, but the compiler doesn&#39;t.  This is a sure-fire way of telling the compiler that there&#39;s nowhere else to end up.\r\n\r\nUnless you do these two things, the compiler believes there&#39;s a possibility that it could run out of lines to execute in the method, without encountering a `return` statement.  That&#39;s not valid for a method that you&#39;ve declared as returning an `int`.","title":"How can I fix the error &quot;This method must return a result of type int&quot; without breaking the current code?","body":"<p>You need to make two changes.</p>\n<ol>\n<li><p>Decide what to return in the case where <code>x == y</code>, and add the appropriate <code>return</code> statement to the first branch.</p>\n</li>\n<li><p>Change <code>else if (x &lt; y) {</code> to <code>else {</code>.  You know that you've exhausted all the possibilities, but the compiler doesn't.  This is a sure-fire way of telling the compiler that there's nowhere else to end up.</p>\n</li>\n</ol>\n<p>Unless you do these two things, the compiler believes there's a possibility that it could run out of lines to execute in the method, without encountering a <code>return</code> statement.  That's not valid for a method that you've declared as returning an <code>int</code>.</p>\n"}],"owner":{"account_id":14727412,"reputation":51,"user_id":10635858,"display_name":"StockAZ89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69565215,"answer_count":1,"score":1,"last_activity_date":1634187994,"creation_date":1634186789,"question_id":69565203,"body_markdown":"As far as I know, I understand this error. I know that within my program there is a situation where no conditions are met and the computer doesn&#39;t know what to do. That being said, I&#39;m not sure how to fix it properly without breaking the current code. I&#39;ve added a return 0 at the end of all the if statements, which gets rid of the error, but in some cases the 0 prints out which of course I don&#39;t want it to. I also tried putting it within an else statement at the very end as-well, but I still get the same error.\r\n\r\nAssignment instructions are as follows: &quot;If the two parameters are within 1 of each other, return the smaller number; Otherwise, subtract one from the larger parameter and add one to the smaller parameter and balance the result.&quot;\r\n\r\nHere is what I have: \r\n```\r\n    public static int balance (int x, int y) {\r\n    \tif(x == y) {\r\n    \t\tSystem.out.println(&quot;The values X and Y (&quot; + x +  &quot; and &quot; + y + &quot;) are already balanced; They are equal to each other!&quot;);\r\n    \t}\r\n    \t\r\n    \telse if(Math.abs(x-y) == 1) { //Checks to see if numbers are within 1 of each other (Math.abs because negative numbers don&#39;t matter in this case)\r\n    \t\tif(x &gt; y) {\r\n    \t\t\treturn y;\r\n    \t\t}\r\n    \t\telse return x;\r\n    \t}\r\n    \telse if(x &gt; y) {\r\n    \t\tx = x - 1; //X is larger so we subtract\r\n    \t\ty = y + 1; //Y is smaller so we add\r\n    \t\treturn balance(x,y); //Recursion happens\r\n    \t}\r\n    \telse if(x &lt; y) {\r\n    \t\ty = y - 1; //Y is larger so we subtract\r\n    \t\tx = x + 1; //X is smaller so we add\r\n    \t\treturn balance(x,y); //Recursion happens\r\n    \t}\r\n    }\r\n```\r\nThe calculations and everything on that side seem to work exactly like the instructions are asking. I just can&#39;t seem to get rid of the *&quot;This method must return a result of type int&quot;* error without having random values that are unneeded showing up in the console.","title":"How can I fix the error &quot;This method must return a result of type int&quot; without breaking the current code?","body":"<p>As far as I know, I understand this error. I know that within my program there is a situation where no conditions are met and the computer doesn't know what to do. That being said, I'm not sure how to fix it properly without breaking the current code. I've added a return 0 at the end of all the if statements, which gets rid of the error, but in some cases the 0 prints out which of course I don't want it to. I also tried putting it within an else statement at the very end as-well, but I still get the same error.</p>\n<p>Assignment instructions are as follows: &quot;If the two parameters are within 1 of each other, return the smaller number; Otherwise, subtract one from the larger parameter and add one to the smaller parameter and balance the result.&quot;</p>\n<p>Here is what I have:</p>\n<pre><code>    public static int balance (int x, int y) {\n        if(x == y) {\n            System.out.println(&quot;The values X and Y (&quot; + x +  &quot; and &quot; + y + &quot;) are already balanced; They are equal to each other!&quot;);\n        }\n        \n        else if(Math.abs(x-y) == 1) { //Checks to see if numbers are within 1 of each other (Math.abs because negative numbers don't matter in this case)\n            if(x &gt; y) {\n                return y;\n            }\n            else return x;\n        }\n        else if(x &gt; y) {\n            x = x - 1; //X is larger so we subtract\n            y = y + 1; //Y is smaller so we add\n            return balance(x,y); //Recursion happens\n        }\n        else if(x &lt; y) {\n            y = y - 1; //Y is larger so we subtract\n            x = x + 1; //X is smaller so we add\n            return balance(x,y); //Recursion happens\n        }\n    }\n</code></pre>\n<p>The calculations and everything on that side seem to work exactly like the instructions are asking. I just can't seem to get rid of the <em>&quot;This method must return a result of type int&quot;</em> error without having random values that are unneeded showing up in the console.</p>\n"},{"tags":["java","android","xml","android-studio","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":13475094,"reputation":1945,"user_id":9722336,"display_name":"gtxtreme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634187731,"creation_date":1634187731,"answer_id":69565313,"question_id":69565212,"body_markdown":"You cannot use an `Intent` to start/create a `Fragment` much like you would for an `Activity`. A `Fragment` actually lives inside an `Activity` i.e. its lifecycle is bound to an `Activity`. To start a `Fragment` you have to use the `FragmentManager` that is available with the `Activity` instance\r\n\r\nThis error is coming up because Android thinks that your `InformationFragment` is an `Activity` rather than a `Fragment` and hence it is asking you if you have declared it in your `AndroidManifest.xml` file because as the rule says, you need to have each `Activity` in your app declared inside the `AndroidManifest.xml` file\r\n\r\nSo, now you can use something like [this](https://guides.codepath.com/android/creating-and-using-fragments), inside your **showInfoActivity**. Technically there are many solutions available as to what you could essentially do and that&#39;s why I linked you to all possible solutions rather than just writing them here","title":"Error: have you declared this activity in your AndroidManifest.xml? when trying to intent a class","body":"<p>You cannot use an <code>Intent</code> to start/create a <code>Fragment</code> much like you would for an <code>Activity</code>. A <code>Fragment</code> actually lives inside an <code>Activity</code> i.e. its lifecycle is bound to an <code>Activity</code>. To start a <code>Fragment</code> you have to use the <code>FragmentManager</code> that is available with the <code>Activity</code> instance</p>\n<p>This error is coming up because Android thinks that your <code>InformationFragment</code> is an <code>Activity</code> rather than a <code>Fragment</code> and hence it is asking you if you have declared it in your <code>AndroidManifest.xml</code> file because as the rule says, you need to have each <code>Activity</code> in your app declared inside the <code>AndroidManifest.xml</code> file</p>\n<p>So, now you can use something like <a href=\"https://guides.codepath.com/android/creating-and-using-fragments\" rel=\"nofollow noreferrer\">this</a>, inside your <strong>showInfoActivity</strong>. Technically there are many solutions available as to what you could essentially do and that's why I linked you to all possible solutions rather than just writing them here</p>\n"},{"tags":[],"owner":{"account_id":11667426,"reputation":643,"user_id":8543717,"display_name":"Rezaul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634187942,"creation_date":1634187942,"answer_id":69565340,"question_id":69565212,"body_markdown":"You can not use ```Intent``` for navigate to ```Fragment``` from a ```Activity```.\r\nFor this reason you are getting this error. As, Intent receive 2 parameter ```Intent(FromActivity, ToActivity.class) ```. you are using fragment in 2nd parameter. We know that, when we create a activity then it it declared with ```AndroidManifest.xml``` file. Here, in your manifest file there are not any activity called ```InformationFragment```.\r\n\r\nYou can learn Android Navigation Component to easily communicate with Activity and fragments.\r\n\r\n","title":"Error: have you declared this activity in your AndroidManifest.xml? when trying to intent a class","body":"<p>You can not use <code>Intent</code> for navigate to <code>Fragment</code> from a <code>Activity</code>.\nFor this reason you are getting this error. As, Intent receive 2 parameter <code>Intent(FromActivity, ToActivity.class) </code>. you are using fragment in 2nd parameter. We know that, when we create a activity then it it declared with <code>AndroidManifest.xml</code> file. Here, in your manifest file there are not any activity called <code>InformationFragment</code>.</p>\n<p>You can learn Android Navigation Component to easily communicate with Activity and fragments.</p>\n"}],"owner":{"account_id":17974261,"reputation":3,"user_id":13062253,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69565313,"answer_count":2,"score":0,"last_activity_date":1634187942,"creation_date":1634186895,"question_id":69565212,"body_markdown":"Here&#39;s my code for clicking the button from my class **showInforActivity**:\r\n```\r\nbtnRegister.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(showInfoActivity.this, InformationFragment.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n```\r\nWhenever I click the button I got error ```Unable to find explicit activity class {com.example.drawerapplication/com.example.drawerapplication.ui.information.InformationFragment}; have you declared this activity in your AndroidManifest.xml?``` and it loads the previous class and layout instead of loading this \r\n **InformationFragment** class:\r\n```\r\npackage com.example.drawerapplication.ui.information;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.drawerapplication.databinding.FragmentInformationBinding;\r\n\r\npublic class InformationFragment extends Fragment {\r\n\r\n    private FragmentInformationBinding binding;\r\n\r\n    private EditText name, address, age, contact;\r\n    private Button btnAdd, btnViewData;\r\n    DatabaseHelper mDatabaseHelper;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentInformationBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        name = binding.name;\r\n        address = binding.address;\r\n        age = binding.age;\r\n        contact = binding.contact;\r\n\r\n        btnAdd = binding.add;\r\n        btnViewData = binding.viewdata;\r\n\r\n        mDatabaseHelper = new DatabaseHelper(getActivity());\r\n\r\n        btnAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (name.length() != 0 &amp;&amp; address.length() != 0\r\n                &amp;&amp; age.length() != 0 &amp;&amp; contact.length() != 0){\r\n\r\n                    mDatabaseHelper.addData(name.getText().toString(), address.getText().toString(),\r\n                            age.getText().toString().trim(), Long.valueOf(contact.getText().toString().trim()));\r\n                    toastMessages(&quot;Data Successfully Inserted!&quot;);\r\n\r\n                }else {\r\n                    toastMessages(&quot;Please complete all the requirements needed&quot;);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        btnViewData.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getContext(), ListDataActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    private void toastMessages(String message){\r\n        Toast.makeText(getContext(),message,Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n}\r\n```\r\nThe layout of this **InformationFragment** is **fragment_information**:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.ui.information.InformationFragment&quot;\r\n    android:layout_marginStart=&quot;10dp&quot;\r\n    android:layout_marginEnd=&quot;10dp&quot;&gt;\r\n...\r\n```\r\nHeres my **AndroidManifest file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.drawerapplication&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.DrawerApplication&quot;&gt;\r\n        &lt;activity android:name=&quot;.ui.information.ListDataActivity&quot;/&gt;\r\n        &lt;activity android:name=&quot;.ui.information.showInfoActivity&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.DrawerApplication.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt; \r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI tried adding ```InformationFragment``` there however, it says ```Class referenced in the manifest, com.example.drawerapplication.InformationFragment, was not found in the project or the libraries```\r\n\r\n\r\nPlease let me know what I&#39;m missing or if you need more information. Thanks!","title":"Error: have you declared this activity in your AndroidManifest.xml? when trying to intent a class","body":"<p>Here's my code for clicking the button from my class <strong>showInforActivity</strong>:</p>\n<pre><code>btnRegister.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Intent intent = new Intent(showInfoActivity.this, InformationFragment.class);\n                    startActivity(intent);\n                }\n            });\n</code></pre>\n<p>Whenever I click the button I got error <code>Unable to find explicit activity class {com.example.drawerapplication/com.example.drawerapplication.ui.information.InformationFragment}; have you declared this activity in your AndroidManifest.xml?</code> and it loads the previous class and layout instead of loading this\n<strong>InformationFragment</strong> class:</p>\n<pre><code>package com.example.drawerapplication.ui.information;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport com.example.drawerapplication.databinding.FragmentInformationBinding;\n\npublic class InformationFragment extends Fragment {\n\n    private FragmentInformationBinding binding;\n\n    private EditText name, address, age, contact;\n    private Button btnAdd, btnViewData;\n    DatabaseHelper mDatabaseHelper;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        binding = FragmentInformationBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        name = binding.name;\n        address = binding.address;\n        age = binding.age;\n        contact = binding.contact;\n\n        btnAdd = binding.add;\n        btnViewData = binding.viewdata;\n\n        mDatabaseHelper = new DatabaseHelper(getActivity());\n\n        btnAdd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (name.length() != 0 &amp;&amp; address.length() != 0\n                &amp;&amp; age.length() != 0 &amp;&amp; contact.length() != 0){\n\n                    mDatabaseHelper.addData(name.getText().toString(), address.getText().toString(),\n                            age.getText().toString().trim(), Long.valueOf(contact.getText().toString().trim()));\n                    toastMessages(&quot;Data Successfully Inserted!&quot;);\n\n                }else {\n                    toastMessages(&quot;Please complete all the requirements needed&quot;);\n                }\n\n            }\n        });\n\n        btnViewData.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(getContext(), ListDataActivity.class);\n                startActivity(intent);\n            }\n        });\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    private void toastMessages(String message){\n        Toast.makeText(getContext(),message,Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n<p>The layout of this <strong>InformationFragment</strong> is <strong>fragment_information</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.ui.information.InformationFragment&quot;\n    android:layout_marginStart=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;10dp&quot;&gt;\n...\n</code></pre>\n<p>Heres my **AndroidManifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.drawerapplication&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.DrawerApplication&quot;&gt;\n        &lt;activity android:name=&quot;.ui.information.ListDataActivity&quot;/&gt;\n        &lt;activity android:name=&quot;.ui.information.showInfoActivity&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.DrawerApplication.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt; \n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I tried adding <code>InformationFragment</code> there however, it says <code>Class referenced in the manifest, com.example.drawerapplication.InformationFragment, was not found in the project or the libraries</code></p>\n<p>Please let me know what I'm missing or if you need more information. Thanks!</p>\n"},{"tags":["java","security","jboss","keytool","der"],"comments":[{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1517093336,"post_id":48473031,"comment_id":83955678,"body_markdown":"[java.io.IOException: Invalid keystore format using Tomcat server](https://stackoverflow.com/q/10071081/608639), [Tomcat 7 and invalid keystore format](https://stackoverflow.com/q/33196674/608639) and friends","body":"<a href=\"https://stackoverflow.com/q/10071081/608639\">java.io.IOException: Invalid keystore format using Tomcat server</a>, <a href=\"https://stackoverflow.com/q/33196674/608639\">Tomcat 7 and invalid keystore format</a> and friends"}],"answers":[{"tags":[],"owner":{"account_id":3474679,"reputation":371,"user_id":3117977,"display_name":"Jawad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581626111,"creation_date":1581626111,"answer_id":60216055,"question_id":48473031,"body_markdown":"One possibility to consider is the mismatch of keystore types.\r\n\r\nYou may check the keystore type of your existing keystore as follows:\r\n\r\n     keytool -list -keystore &lt;path/to/keystore&gt;\r\n\r\nThis should display the Keystore type value in the output like \r\n\r\n&gt; Keystore type: PKCS12\r\n\r\n\r\nThis may be different to the default keystore type (**JKS** in your case) that it is expecting \r\n\r\nIf so, use the appropriate keystoreType attribute in your tomcat server configuration to match your key store \r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\r\n               maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n               clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;\r\n               keystoreType=&quot;PKCS12&quot;\r\n               keystoreFile=&quot;path/to/keystore&quot; keystorePass=&quot;changeit&quot; /&gt;\r\n\r\n","title":"Invalid keystore format: java.io.IOException: Invalid keystore format","body":"<p>One possibility to consider is the mismatch of keystore types.</p>\n\n<p>You may check the keystore type of your existing keystore as follows:</p>\n\n<pre><code> keytool -list -keystore &lt;path/to/keystore&gt;\n</code></pre>\n\n<p>This should display the Keystore type value in the output like </p>\n\n<blockquote>\n  <p>Keystore type: PKCS12</p>\n</blockquote>\n\n<p>This may be different to the default keystore type (<strong>JKS</strong> in your case) that it is expecting </p>\n\n<p>If so, use the appropriate keystoreType attribute in your tomcat server configuration to match your key store </p>\n\n<pre><code>&lt;Connector port=\"8443\" protocol=\"HTTP/1.1\" SSLEnabled=\"true\"\n           maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n           clientAuth=\"false\" sslProtocol=\"TLS\"\n           keystoreType=\"PKCS12\"\n           keystoreFile=\"path/to/keystore\" keystorePass=\"changeit\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4728988,"reputation":442,"user_id":3825134,"display_name":"lord5et"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634187887,"creation_date":1634115144,"answer_id":69552473,"question_id":48473031,"body_markdown":"Run keytool with store type param:  \r\n\r\n    &quot;%JAVA_HOME%\\bin\\keytool&quot; -genkey -alias tomcat -keyalg RSA -storetype JKS\r\n\r\n","title":"Invalid keystore format: java.io.IOException: Invalid keystore format","body":"<p>Run keytool with store type param:</p>\n<pre><code>&quot;%JAVA_HOME%\\bin\\keytool&quot; -genkey -alias tomcat -keyalg RSA -storetype JKS\n</code></pre>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4796,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634187887,"creation_date":1517032246,"question_id":48473031,"body_markdown":"I have generated the certificate from the below command\r\n\r\n    Openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj &quot;/CN=nginxsvc/O=nginxsvc&quot;\r\n\r\nand then in client machine import like this \r\n\r\n    keytool -import -file C:\\Code_Base\\Certificates\\NGINX_150\\tls.crt -storepass changeit -keystore &quot;C:\\Program Files\\Java\\jdk1.8.0_152\\jre\\lib\\security\\cacerts&quot; -alias nginxsvc\r\n\r\nand in Standalone.xml file of Jboss server added \r\n \r\n\r\n    &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; enable-lookups=&quot;false&quot; secure=&quot;true&quot;&gt;\r\n    \t\t\t    &lt;ssl name=&quot;ssl&quot; password=&quot;changeit&quot; certificate-key-file=&quot;C:\\Code_Base\\Certificates\\NGINX_150\\tls.key&quot;/&gt;\r\n    &lt;/connector&gt; \r\n\r\nBut when server starting i am getting\r\n\r\n&gt; 11:12:17,279 ERROR [org.apache.tomcat.util] (MSC service thread 1-3)\r\n&gt; JBWEB003003: Failed to load keystore type JKS with path\r\n&gt; C:\\Code_Base\\Certificates\\NGINX_150\\tls.key due to Invalid keystore\r\n&gt; format: java.io.IOException: Invalid keystore format \tat\r\n&gt; sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:658)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\r\n&gt; [rt.jar:1.8.0_152] \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.getStore(JSSESocketFactory.java:350)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeystore(JSSESocketFactory.java:265)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:480)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(JSSESocketFactory.java:417)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.createSocket(JSSESocketFactory.java:180)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.JIoEndpoint.init(JIoEndpoint.java:973)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.coyote.http11.Http11Protocol.init(Http11Protocol.java:174)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.catalina.connector.Connector.init(Connector.java:986)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:318)\r\n&gt; [jboss-as-web-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21] \tat\r\n&gt; org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980)\r\n&gt; [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1] \tat\r\n&gt; org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913)\r\n&gt; [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; [rt.jar:1.8.0_152] \tat java.lang.Thread.run(Thread.java:748)\r\n&gt; [rt.jar:1.8.0_152]\r\n&gt; \r\n&gt; 11:12:17,283 ERROR [org.apache.coyote.http11.Http11Protocol] (MSC\r\n&gt; service thread 1-3) JBWEB003043: Error initializing endpoint:\r\n&gt; java.io.IOException: Invalid keystore format \tat\r\n&gt; sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:658)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\r\n&gt; [rt.jar:1.8.0_152] \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.getStore(JSSESocketFactory.java:350)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeystore(JSSESocketFactory.java:265)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:480)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(JSSESocketFactory.java:417)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.jsse.JSSESocketFactory.createSocket(JSSESocketFactory.java:180)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.tomcat.util.net.JIoEndpoint.init(JIoEndpoint.java:973)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.coyote.http11.Http11Protocol.init(Http11Protocol.java:174)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.apache.catalina.connector.Connector.init(Connector.java:986)\r\n&gt; [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1] \tat\r\n&gt; org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:318)\r\n&gt; [jboss-as-web-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21] \tat\r\n&gt; org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980)\r\n&gt; [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1] \tat\r\n&gt; org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913)\r\n&gt; [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; [rt.jar:1.8.0_152] \tat java.lang.Thread.run(Thread.java:748)\r\n&gt; [rt.jar:1.8.0_152]\r\n&gt; \r\n&gt; 11:12:17,289 INFO  [org.apache.coyote.http11.Http11Protocol] (MSC\r\n&gt; service thread 1-2) JBWEB003001: Coyote HTTP/1.1 initializing on :\r\n&gt; http-/0.0.0.0:8080 11:12:17,297 INFO \r\n&gt; [org.apache.coyote.http11.Http11Protocol] (MSC service thread 1-2)\r\n&gt; JBWEB003000: Coyote HTTP/1.1 starting on: http-/0.0.0.0:8080\r\n&gt; 11:12:17,311 ERROR [org.jboss.msc.service.fail] (MSC service thread\r\n&gt; 1-3) MSC000001: Failed to start service jboss.web.connector.https:\r\n&gt; org.jboss.msc.service.StartException in service\r\n&gt; jboss.web.connector.https: JBAS018007: Error starting web connector\r\n&gt; \tat\r\n&gt; org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:393)\r\n&gt; \tat\r\n&gt; org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980)\r\n&gt; [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1] \tat\r\n&gt; org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913)\r\n&gt; [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; [rt.jar:1.8.0_152] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; [rt.jar:1.8.0_152] \tat java.lang.Thread.run(Thread.java:748)\r\n&gt; [rt.jar:1.8.0_152] Caused by: LifecycleException:  JBWEB000023:\r\n&gt; Protocol handler initialization failed \tat\r\n&gt; org.apache.catalina.connector.Connector.init(Connector.java:989) \tat\r\n&gt; org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:318)\r\n&gt; \t... 5 more\r\n\r\n","title":"Invalid keystore format: java.io.IOException: Invalid keystore format","body":"<p>I have generated the certificate from the below command</p>\n\n<pre><code>Openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN=nginxsvc/O=nginxsvc\"\n</code></pre>\n\n<p>and then in client machine import like this </p>\n\n<pre><code>keytool -import -file C:\\Code_Base\\Certificates\\NGINX_150\\tls.crt -storepass changeit -keystore \"C:\\Program Files\\Java\\jdk1.8.0_152\\jre\\lib\\security\\cacerts\" -alias nginxsvc\n</code></pre>\n\n<p>and in Standalone.xml file of Jboss server added </p>\n\n<pre><code>&lt;connector name=\"https\" protocol=\"HTTP/1.1\" scheme=\"https\" socket-binding=\"https\" enable-lookups=\"false\" secure=\"true\"&gt;\n                &lt;ssl name=\"ssl\" password=\"changeit\" certificate-key-file=\"C:\\Code_Base\\Certificates\\NGINX_150\\tls.key\"/&gt;\n&lt;/connector&gt; \n</code></pre>\n\n<p>But when server starting i am getting</p>\n\n<blockquote>\n  <p>11:12:17,279 ERROR [org.apache.tomcat.util] (MSC service thread 1-3)\n  JBWEB003003: Failed to load keystore type JKS with path\n  C:\\Code_Base\\Certificates\\NGINX_150\\tls.key due to Invalid keystore\n  format: java.io.IOException: Invalid keystore format  at\n  sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:658)\n  [rt.jar:1.8.0_152]    at\n  sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\n  [rt.jar:1.8.0_152]    at\n  sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\n  [rt.jar:1.8.0_152]    at\n  sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\n  [rt.jar:1.8.0_152]    at java.security.KeyStore.load(KeyStore.java:1445)\n  [rt.jar:1.8.0_152]    at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.getStore(JSSESocketFactory.java:350)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeystore(JSSESocketFactory.java:265)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:480)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(JSSESocketFactory.java:417)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.createSocket(JSSESocketFactory.java:180)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.JIoEndpoint.init(JIoEndpoint.java:973)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.coyote.http11.Http11Protocol.init(Http11Protocol.java:174)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.catalina.connector.Connector.init(Connector.java:986)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:318)\n  [jboss-as-web-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]    at\n  org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980)\n  [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]     at\n  org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913)\n  [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  [rt.jar:1.8.0_152]    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  [rt.jar:1.8.0_152]    at java.lang.Thread.run(Thread.java:748)\n  [rt.jar:1.8.0_152]</p>\n  \n  <p>11:12:17,283 ERROR [org.apache.coyote.http11.Http11Protocol] (MSC\n  service thread 1-3) JBWEB003043: Error initializing endpoint:\n  java.io.IOException: Invalid keystore format  at\n  sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:658)\n  [rt.jar:1.8.0_152]    at\n  sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\n  [rt.jar:1.8.0_152]    at\n  sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\n  [rt.jar:1.8.0_152]    at\n  sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\n  [rt.jar:1.8.0_152]    at java.security.KeyStore.load(KeyStore.java:1445)\n  [rt.jar:1.8.0_152]    at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.getStore(JSSESocketFactory.java:350)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeystore(JSSESocketFactory.java:265)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:480)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(JSSESocketFactory.java:417)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.jsse.JSSESocketFactory.createSocket(JSSESocketFactory.java:180)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.tomcat.util.net.JIoEndpoint.init(JIoEndpoint.java:973)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.coyote.http11.Http11Protocol.init(Http11Protocol.java:174)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.apache.catalina.connector.Connector.init(Connector.java:986)\n  [jbossweb-7.5.7.Final-redhat-1.jar:7.5.7.Final-redhat-1]  at\n  org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:318)\n  [jboss-as-web-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]    at\n  org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980)\n  [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]     at\n  org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913)\n  [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  [rt.jar:1.8.0_152]    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  [rt.jar:1.8.0_152]    at java.lang.Thread.run(Thread.java:748)\n  [rt.jar:1.8.0_152]</p>\n  \n  <p>11:12:17,289 INFO  [org.apache.coyote.http11.Http11Protocol] (MSC\n  service thread 1-2) JBWEB003001: Coyote HTTP/1.1 initializing on :\n  http-/0.0.0.0:8080 11:12:17,297 INFO \n  [org.apache.coyote.http11.Http11Protocol] (MSC service thread 1-2)\n  JBWEB003000: Coyote HTTP/1.1 starting on: http-/0.0.0.0:8080\n  11:12:17,311 ERROR [org.jboss.msc.service.fail] (MSC service thread\n  1-3) MSC000001: Failed to start service jboss.web.connector.https:\n  org.jboss.msc.service.StartException in service\n  jboss.web.connector.https: JBAS018007: Error starting web connector\n    at\n  org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:393)\n    at\n  org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980)\n  [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]     at\n  org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913)\n  [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  [rt.jar:1.8.0_152]    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  [rt.jar:1.8.0_152]    at java.lang.Thread.run(Thread.java:748)\n  [rt.jar:1.8.0_152] Caused by: LifecycleException:  JBWEB000023:\n  Protocol handler initialization failed    at\n  org.apache.catalina.connector.Connector.init(Connector.java:989)  at\n  org.jboss.as.web.WebConnectorService.start(WebConnectorService.java:318)\n    ... 5 more</p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634187566,"creation_date":1634187566,"answer_id":69565289,"question_id":69354866,"body_markdown":"Hibernate doesn&#39;t do a join because there is a cycle in your entity graph and before Hibernate 6.0, the cycle is stopped as early as possible. In 6.0 we changed that to stop at the later i.e. you would get the left outer join.\r\n\r\nI don&#39;t know what you mean by &quot;associating these two entities&quot; or &quot;the result is only if the id exists&quot;, but if `LoanEc` is the only attribute in `LoanOrder`, or part of the id, then the entity won&#39;t be materialized if no `LoanEc` exists for a `LoanOrder`.","title":"Why Table association is not adding left outer join in hibernate","body":"<p>Hibernate doesn't do a join because there is a cycle in your entity graph and before Hibernate 6.0, the cycle is stopped as early as possible. In 6.0 we changed that to stop at the later i.e. you would get the left outer join.</p>\n<p>I don't know what you mean by &quot;associating these two entities&quot; or &quot;the result is only if the id exists&quot;, but if <code>LoanEc</code> is the only attribute in <code>LoanOrder</code>, or part of the id, then the entity won't be materialized if no <code>LoanEc</code> exists for a <code>LoanOrder</code>.</p>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69565289,"answer_count":1,"score":0,"last_activity_date":1634187566,"creation_date":1632793414,"question_id":69354866,"body_markdown":"i have a table and it associated to another table as one to one . In my service class i am calling findById(id). \r\n\r\n    @Entity\r\n    @Table(name = &quot;CRL_EC&quot;)\r\n    public class LoanOrder {\r\n        @OneToOne(fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;loan_id&quot; , referencedColumnName = &quot;fLoanId&quot; ,insertable = false ,updatable = false)\r\n        LoanEc loanEc;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;LOAN_EC&quot;)\r\n    public class LoanEc {\r\n        @Id\r\n        Long fLoanId;\r\n  \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;fLoanId&quot;,referencedColumnName = &quot;loan_id&quot; )\r\n        LoanOrder loanOrder;\r\n    }\r\n\r\n\r\n    public interface ECRepository extends Repository&lt;LoanOrder,Long&gt;{\r\n        void save(LoanOrder loanOrder);\r\n    }\r\n\r\nWhen I am calling `findById(id)` through my ECRepository hibernate calling it as separate queries.\r\nIn console I see the queries as \r\n\r\n    select * from  LoanOrder where loan_id = ?\r\n    select * from LoanEc  where fLoanId = ?\r\n\r\nand the result is only if the id existss in second table(LoanEc). My expectation is \r\n\r\n    select * from LoanOrder  left outer join LoanEc  on loan_id = ? \r\n\r\nWhy its not associating these two entities ?\r\n","title":"Why Table association is not adding left outer join in hibernate","body":"<p>i have a table and it associated to another table as one to one . In my service class i am calling findById(id).</p>\n<pre><code>@Entity\n@Table(name = &quot;CRL_EC&quot;)\npublic class LoanOrder {\n    @OneToOne(fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;loan_id&quot; , referencedColumnName = &quot;fLoanId&quot; ,insertable = false ,updatable = false)\n    LoanEc loanEc;\n}\n\n@Entity\n@Table(name = &quot;LOAN_EC&quot;)\npublic class LoanEc {\n    @Id\n    Long fLoanId;\n\n    @OneToOne\n    @JoinColumn(name = &quot;fLoanId&quot;,referencedColumnName = &quot;loan_id&quot; )\n    LoanOrder loanOrder;\n}\n\n\npublic interface ECRepository extends Repository&lt;LoanOrder,Long&gt;{\n    void save(LoanOrder loanOrder);\n}\n</code></pre>\n<p>When I am calling <code>findById(id)</code> through my ECRepository hibernate calling it as separate queries.\nIn console I see the queries as</p>\n<pre><code>select * from  LoanOrder where loan_id = ?\nselect * from LoanEc  where fLoanId = ?\n</code></pre>\n<p>and the result is only if the id existss in second table(LoanEc). My expectation is</p>\n<pre><code>select * from LoanOrder  left outer join LoanEc  on loan_id = ? \n</code></pre>\n<p>Why its not associating these two entities ?</p>\n"},{"tags":["java","cpu-architecture","dynamic-loading",".so"],"answers":[{"tags":[],"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1447336104,"creation_date":1447336104,"answer_id":33672940,"question_id":33672523,"body_markdown":"No.\r\n\r\nYou can not load a 32-bit library into the address space of a 64-bit process.","title":"Loading a 32bit .so library in a 64bit JVM","body":"<p>No.</p>\n\n<p>You can not load a 32-bit library into the address space of a 64-bit process.</p>\n"},{"tags":[],"owner":{"account_id":6365469,"reputation":113,"user_id":4939578,"display_name":"Gonzo Gonzales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447337995,"creation_date":1447337615,"answer_id":33673469,"question_id":33672523,"body_markdown":"with this code you can check if you are on a 64bit pc and load the lybrary:\r\n\r\n    boolean is64bit = System.getProperty(&quot;sun.arch.data.model&quot;).contains(&quot;64&quot;);\r\n    if(is64bit){\r\n       try {\r\n           System.load(&quot;64Bit ibrary&quot;);\r\n       } catch (UnsatisfiedLinkError e) {\r\n           System.err.println(&quot;Native code library failed to load.\\n&quot; + e);\r\n       }\r\n    else{\r\n       try {\r\n            System.load(&quot;32Bit ibrary&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n          System.err.println(&quot;Native code library failed to load.\\n&quot; + e);\r\n        }\r\n    }","title":"Loading a 32bit .so library in a 64bit JVM","body":"<p>with this code you can check if you are on a 64bit pc and load the lybrary:</p>\n\n<pre><code>boolean is64bit = System.getProperty(\"sun.arch.data.model\").contains(\"64\");\nif(is64bit){\n   try {\n       System.load(\"64Bit ibrary\");\n   } catch (UnsatisfiedLinkError e) {\n       System.err.println(\"Native code library failed to load.\\n\" + e);\n   }\nelse{\n   try {\n        System.load(\"32Bit ibrary\");\n    } catch (UnsatisfiedLinkError e) {\n      System.err.println(\"Native code library failed to load.\\n\" + e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":97864,"reputation":633,"user_id":265245,"accept_rate":58,"display_name":"Eduardo Z."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1986,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33672940,"answer_count":2,"score":2,"last_activity_date":1634187392,"creation_date":1447334846,"question_id":33672523,"body_markdown":"We are developing a Java application to be run on Linux environments (Ubuntu for now) which communicates with a piece of hardware. Said hardware uses a .so library made available by the manufacturer for x86 architectures only.\r\n\r\nThe thing is, we would very much like to run this on a 64bit JVM. Loading the library in a x86 JVM works fine but we cannot load on the 64bit version. So, besides switching to a x86 JVM, are there any other ways to make this lib available to my 64 bit Java application? Is it possible, for instance, for me to write another os wrapper library in x64 that, in turn calls the x86 version so the JVM can load my 64 bit wrapper?","title":"Loading a 32bit .so library in a 64bit JVM","body":"<p>We are developing a Java application to be run on Linux environments (Ubuntu for now) which communicates with a piece of hardware. Said hardware uses a .so library made available by the manufacturer for x86 architectures only.</p>\n\n<p>The thing is, we would very much like to run this on a 64bit JVM. Loading the library in a x86 JVM works fine but we cannot load on the 64bit version. So, besides switching to a x86 JVM, are there any other ways to make this lib available to my 64 bit Java application? Is it possible, for instance, for me to write another os wrapper library in x64 that, in turn calls the x86 version so the JVM can load my 64 bit wrapper?</p>\n"},{"tags":["java","arrays","timeoutexception"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1558507611,"creation_date":1558506825,"answer_id":56250641,"question_id":56249944,"body_markdown":"First of all, in case you don&#39;t realize it, `Terminated due to timeout` is not a compilation error, it means that your implementation is too slow. The challenge is not to implement any correct solution to the problem. The solution must also be efficient. Since your solution is inefficient, it fails for large inputs due to being too slow.\r\n\r\nSince the number of queries seems to be 2 orders of magnitude smaller than the length of the array (100K vs. 10M in the 3 test cases you posted), it would be more efficient to work just with the queries instead of actually updating the array.\r\n\r\nI&#39;m not going to give you an implementation, but I&#39;ll suggest an algorithm that should be more efficient than your current implementation.\r\n\r\nI suggest you process the queries as follows:\r\n\r\n1. Add the first query to a list of processed queries, which will contain queries with disjoint sub-array ranges. This list will be sorted by the first array index (you will keep it sorted by adding new elements in the proper position).\r\n\r\n2. For each query not processed yet, find all the processed queries that overlap it (you can do it using binary search to improve performence).\r\n \r\n* Split the current query in a way that the resulting queries will each be either fully contained in an existing processed query or not contained in each existing processed query.\r\n\r\n* For each of the queries created in the split:\r\n        - if their range is equal to the range of an existing processed query, add the value of the query to the processed query.\r\n        - If their range is not contained in any existing processed query, add that query as a new processed query.\r\n        - If their range is partially contained in an existing processed query, split the processed query. \r\n\r\nI&#39;m not sure if my explanation is clear enough. I&#39;ll show an example with the \r\n\r\n    1 5 3\r\n    4 8 7\r\n    6 9 1\r\n\r\ninput:\r\n\r\nAdd 1 5 3 to the list of processed queries.\r\n\r\nProcess 4 8 7: There is one processed query the overlaps it - 1 5 3.\r\n\r\nSplit 4 8 7 into two sub-queries : 4 5 7 and 6 8 7.\r\n\r\n4 5 7 is contained in 1 5 3, so split 1 5 3 into 1 3 3 and 4 5 3+7\r\n\r\n6 8 7 is not contained in any processed queries, so add it as is.\r\n\r\nNow the processed queries are:\r\n\r\n    1 3 3\r\n    4 5 10\r\n    6 8 7\r\n\r\nProcess 6 9 1: There is one processed query that overlaps it: 6 8 7.\r\n\r\nSplit 6 9 1 into two sub queries : 6 8 1 and 9 9 1.\r\n\r\n6 8 1 has the same range a 6 8 7, which will become 6 8 7+1\r\n\r\n9 9 1 is not contained in any processed queries, so add it as is.\r\n\r\nNow the processed queries are:\r\n\r\n    1 3 3\r\n    4 5 10\r\n    6 8 8\r\n    9 9 1\r\n\r\nAs you process the queries you keep track of the max processed query value, so after you process all the queries you know that the max value is 10.\r\n","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<p>First of all, in case you don't realize it, <code>Terminated due to timeout</code> is not a compilation error, it means that your implementation is too slow. The challenge is not to implement any correct solution to the problem. The solution must also be efficient. Since your solution is inefficient, it fails for large inputs due to being too slow.</p>\n\n<p>Since the number of queries seems to be 2 orders of magnitude smaller than the length of the array (100K vs. 10M in the 3 test cases you posted), it would be more efficient to work just with the queries instead of actually updating the array.</p>\n\n<p>I'm not going to give you an implementation, but I'll suggest an algorithm that should be more efficient than your current implementation.</p>\n\n<p>I suggest you process the queries as follows:</p>\n\n<ol>\n<li><p>Add the first query to a list of processed queries, which will contain queries with disjoint sub-array ranges. This list will be sorted by the first array index (you will keep it sorted by adding new elements in the proper position).</p></li>\n<li><p>For each query not processed yet, find all the processed queries that overlap it (you can do it using binary search to improve performence).</p>\n\n<ul>\n<li><p>Split the current query in a way that the resulting queries will each be either fully contained in an existing processed query or not contained in each existing processed query.</p></li>\n<li><p>For each of the queries created in the split:</p>\n\n<ul>\n<li>if their range is equal to the range of an existing processed query, add the value of the query to the processed query.</li>\n<li>If their range is not contained in any existing processed query, add that query as a new processed query.</li>\n<li>If their range is partially contained in an existing processed query, split the processed query. </li>\n</ul></li>\n</ul></li>\n</ol>\n\n<p>I'm not sure if my explanation is clear enough. I'll show an example with the </p>\n\n<pre><code>1 5 3\n4 8 7\n6 9 1\n</code></pre>\n\n<p>input:</p>\n\n<p>Add 1 5 3 to the list of processed queries.</p>\n\n<p>Process 4 8 7: There is one processed query the overlaps it - 1 5 3.</p>\n\n<p>Split 4 8 7 into two sub-queries : 4 5 7 and 6 8 7.</p>\n\n<p>4 5 7 is contained in 1 5 3, so split 1 5 3 into 1 3 3 and 4 5 3+7</p>\n\n<p>6 8 7 is not contained in any processed queries, so add it as is.</p>\n\n<p>Now the processed queries are:</p>\n\n<pre><code>1 3 3\n4 5 10\n6 8 7\n</code></pre>\n\n<p>Process 6 9 1: There is one processed query that overlaps it: 6 8 7.</p>\n\n<p>Split 6 9 1 into two sub queries : 6 8 1 and 9 9 1.</p>\n\n<p>6 8 1 has the same range a 6 8 7, which will become 6 8 7+1</p>\n\n<p>9 9 1 is not contained in any processed queries, so add it as is.</p>\n\n<p>Now the processed queries are:</p>\n\n<pre><code>1 3 3\n4 5 10\n6 8 8\n9 9 1\n</code></pre>\n\n<p>As you process the queries you keep track of the max processed query value, so after you process all the queries you know that the max value is 10.</p>\n"},{"tags":[],"owner":{"account_id":1752540,"reputation":406,"user_id":1601309,"accept_rate":0,"display_name":"Kanahaiya"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1558965805,"creation_date":1558965805,"answer_id":56327605,"question_id":56249944,"body_markdown":"Brute-force solution is not going to work here due to the given time constraint.\r\nThat is the reason you will get the time out error.\r\n\r\nSo you need to optimize your code which can be done with the help of prefix sum array.\r\n \r\ninstead of adding k to all the elements within a range from a to b in an array, accumulate the difference array\r\n\r\nWhenever we add anything at any index into an array and apply prefix sum algorithm the same element will be added to every element till the end of the array.\r\n\r\nex- n=5, m=1, a=2 b=5 k=5  \r\n\r\n \r\n\r\n        i     0.....1.....2.....3.....4.....5.....6   //take array of size N+2 to avoid index out of bound\r\n      A[i]    0     0     0     0     0     0     0\r\n\r\nAdd k=5 to at a=2\r\n\r\nA[a]=A[a]+k  // start index from where k element should be added\r\n\r\n\r\n   \r\n\r\n         i    0.....1.....2.....3.....4.....5.....6 \r\n       A[i]   0     0     5     0     0     0     0\r\n\r\nnow apply prefix sum algorithm\r\n\r\n  \r\n\r\n         i    0.....1.....2.....3.....4.....5.....6 \r\n      A[i]    0     0     5     5     5     5     5\r\n      \r\nso you can see K=5 add to all the element till the end after applying prefix sum but we don&#39;t have to add k till the end. so to negate this effect we have to add -K also after b+1 index so that only from [a,b] range only will have K element addition effect.\r\n\r\nA[b+1]=A[b]-k  // to remove the effect of previously added k element after bth index.\r\nthat&#39;s why adding -k in the initial array along with +k.\r\n\r\n  \r\n\r\n        i    0.....1.....2.....3.....4.....5.....6 \r\n      A[i]   0     0     5     0     0     0    -5\r\n          \r\n\r\nNow apply prefix sum Array\r\n\r\n  \r\n\r\n        i    0.....1.....2.....3.....4.....5.....6 \r\n      A[i]   0     0     5     5     5     5     0\r\n      \r\n\r\nYou can see now K=5 got added from a=2 to b=5 which was expected.\r\nHere we are only updating two indices for every query so complexity will be O(1).\r\n      \r\nNow apply the same algorithm in the input\r\n\r\n             # 0.....1.....2.....3.....4.....5.....6    //taken array of size N+2 to avoid index out of bound\r\n    5 3      # 0     0     0     0     0     0     0\r\n    1 2 100  # 0    100    0   -100    0     0     0       \r\n    2 5 100  # 0    100   100  -100    0     0   -100\r\n    3 4 100  # 0    100   100    0     0  -100   -100\r\n\r\nTo calculate the max prefix sum, accumulate the difference array to &#119873; while taking the maximum accumulated prefix. \r\n\r\nAfter performing all the operation now apply prefix sum Array\r\n\r\n  \r\n\r\n        i      0.....1.....2.....3.....4.....5.....6 \r\n      A[i]     0     100   200  200   200   100    0\r\n\r\nNow you can traverse this array to find max which is 200.\r\ntraversing the array will take O(N) time and updating the two indices for each query will take O(1)* number of queries(m)\r\n\r\noverall complexity=O(N)+O(M) \r\n                  = O(N+M)\r\n\r\nit means = (10^7+10^5) which is less than 10^8 (per second)\r\n\r\n**Note:** If searching for **[video tutorial][1]** , you must check it out **[here][1]** for detailed explanation.\r\n\r\n\r\n  [1]: https://youtu.be/hDhf04AJIRs","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<p>Brute-force solution is not going to work here due to the given time constraint.\nThat is the reason you will get the time out error.</p>\n\n<p>So you need to optimize your code which can be done with the help of prefix sum array.</p>\n\n<p>instead of adding k to all the elements within a range from a to b in an array, accumulate the difference array</p>\n\n<p>Whenever we add anything at any index into an array and apply prefix sum algorithm the same element will be added to every element till the end of the array.</p>\n\n<p>ex- n=5, m=1, a=2 b=5 k=5  </p>\n\n<pre><code>    i     0.....1.....2.....3.....4.....5.....6   //take array of size N+2 to avoid index out of bound\n  A[i]    0     0     0     0     0     0     0\n</code></pre>\n\n<p>Add k=5 to at a=2</p>\n\n<p>A[a]=A[a]+k  // start index from where k element should be added</p>\n\n<pre><code>     i    0.....1.....2.....3.....4.....5.....6 \n   A[i]   0     0     5     0     0     0     0\n</code></pre>\n\n<p>now apply prefix sum algorithm</p>\n\n<pre><code>     i    0.....1.....2.....3.....4.....5.....6 \n  A[i]    0     0     5     5     5     5     5\n</code></pre>\n\n<p>so you can see K=5 add to all the element till the end after applying prefix sum but we don't have to add k till the end. so to negate this effect we have to add -K also after b+1 index so that only from [a,b] range only will have K element addition effect.</p>\n\n<p>A[b+1]=A[b]-k  // to remove the effect of previously added k element after bth index.\nthat's why adding -k in the initial array along with +k.</p>\n\n<pre><code>    i    0.....1.....2.....3.....4.....5.....6 \n  A[i]   0     0     5     0     0     0    -5\n</code></pre>\n\n<p>Now apply prefix sum Array</p>\n\n<pre><code>    i    0.....1.....2.....3.....4.....5.....6 \n  A[i]   0     0     5     5     5     5     0\n</code></pre>\n\n<p>You can see now K=5 got added from a=2 to b=5 which was expected.\nHere we are only updating two indices for every query so complexity will be O(1).</p>\n\n<p>Now apply the same algorithm in the input</p>\n\n<pre><code>         # 0.....1.....2.....3.....4.....5.....6    //taken array of size N+2 to avoid index out of bound\n5 3      # 0     0     0     0     0     0     0\n1 2 100  # 0    100    0   -100    0     0     0       \n2 5 100  # 0    100   100  -100    0     0   -100\n3 4 100  # 0    100   100    0     0  -100   -100\n</code></pre>\n\n<p>To calculate the max prefix sum, accumulate the difference array to  while taking the maximum accumulated prefix. </p>\n\n<p>After performing all the operation now apply prefix sum Array</p>\n\n<pre><code>    i      0.....1.....2.....3.....4.....5.....6 \n  A[i]     0     100   200  200   200   100    0\n</code></pre>\n\n<p>Now you can traverse this array to find max which is 200.\ntraversing the array will take O(N) time and updating the two indices for each query will take O(1)* number of queries(m)</p>\n\n<p>overall complexity=O(N)+O(M) \n                  = O(N+M)</p>\n\n<p>it means = (10^7+10^5) which is less than 10^8 (per second)</p>\n\n<p><strong>Note:</strong> If searching for <strong><a href=\"https://youtu.be/hDhf04AJIRs\" rel=\"noreferrer\">video tutorial</a></strong> , you must check it out <strong><a href=\"https://youtu.be/hDhf04AJIRs\" rel=\"noreferrer\">here</a></strong> for detailed explanation.</p>\n"},{"tags":[],"owner":{"account_id":7500544,"reputation":322,"user_id":5699122,"accept_rate":100,"display_name":"Subhi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564116435,"creation_date":1564116435,"answer_id":57213337,"question_id":56249944,"body_markdown":"    import java.io.*;\r\n    import java.util.InputMismatchException;\r\n    import java.util.Random;\r\n    \r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n    \r\n            InputStream inputStream = System.in;\r\n            InputReader in = new InputReader(inputStream);\r\n    \r\n            int n = in.readInt();\r\n            int m = in.readInt();\r\n    \r\n            long[] list = new long[n+3];\r\n    \r\n            while(m-- &gt; 0) {\r\n                int a = in.readInt();\r\n                int b = in.readInt();\r\n                long k = in.readLong();\r\n    \r\n                list[a] += k;\r\n                list[b+1] -= k;\r\n            }\r\n    \r\n            long max = 0;\r\n            long c = 0;\r\n            for (int i = 1; i &lt;= n; i++) {\r\n                c += list[i];\r\n                max = Math.max(max, c);\r\n            }\r\n            System.out.println(max);\r\n        }\r\n    }\r\n    \r\n    class InputReader {\r\n    \r\n        private InputStream stream;\r\n        private byte[] buf = new byte[1024];\r\n        private int curChar;\r\n        private int numChars;\r\n        private SpaceCharFilter filter;\r\n    \r\n        public InputReader(InputStream stream) {\r\n            this.stream = stream;\r\n        }\r\n    \r\n        public int read() {\r\n            if (numChars == -1)\r\n                throw new InputMismatchException();\r\n            if (curChar &gt;= numChars) {\r\n                curChar = 0;\r\n                try {\r\n                    numChars = stream.read(buf);\r\n                } catch (IOException e) {\r\n                    throw new InputMismatchException();\r\n                }\r\n                if (numChars &lt;= 0)\r\n                    return -1;\r\n            }\r\n            return buf[curChar++];\r\n        }\r\n    \r\n        public int peek() {\r\n            if (numChars == -1)\r\n                return -1;\r\n            if (curChar &gt;= numChars) {\r\n                curChar = 0;\r\n                try {\r\n                    numChars = stream.read(buf);\r\n                } catch (IOException e) {\r\n                    return -1;\r\n                }\r\n                if (numChars &lt;= 0)\r\n                    return -1;\r\n            }\r\n            return buf[curChar];\r\n        }\r\n    \r\n        public int readInt() {\r\n            int c = read();\r\n            while (isSpaceChar(c))\r\n                c = read();\r\n            int sgn = 1;\r\n            if (c == &#39;-&#39;) {\r\n                sgn = -1;\r\n                c = read();\r\n            }\r\n            int res = 0;\r\n            do {\r\n                if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;)\r\n                    throw new InputMismatchException();\r\n                res *= 10;\r\n                res += c - &#39;0&#39;;\r\n                c = read();\r\n            } while (!isSpaceChar(c));\r\n            return res * sgn;\r\n        }\r\n    \r\n        public long readLong() {\r\n            int c = read();\r\n            while (isSpaceChar(c))\r\n                c = read();\r\n            int sgn = 1;\r\n            if (c == &#39;-&#39;) {\r\n                sgn = -1;\r\n                c = read();\r\n            }\r\n            long res = 0;\r\n            do {\r\n                if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;)\r\n                    throw new InputMismatchException();\r\n                res *= 10;\r\n                res += c - &#39;0&#39;;\r\n                c = read();\r\n            } while (!isSpaceChar(c));\r\n            return res * sgn;\r\n        }\r\n    \r\n        public boolean isSpaceChar(int c) {\r\n            if (filter != null)\r\n                return filter.isSpaceChar(c);\r\n            return isWhitespace(c);\r\n        }\r\n    \r\n        public static boolean isWhitespace(int c) {\r\n            return c == &#39; &#39; || c == &#39;\\n&#39; || c == &#39;\\r&#39; || c == &#39;\\t&#39; || c == -1;\r\n        }\r\n    \r\n        public boolean isExhausted() {\r\n            int value;\r\n            while (isSpaceChar(value = peek()) &amp;&amp; value != -1)\r\n                read();\r\n            return value == -1;\r\n        }\r\n    \r\n        public interface SpaceCharFilter {\r\n            public boolean isSpaceChar(int ch);\r\n        }\r\n    }","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<pre><code>import java.io.*;\nimport java.util.InputMismatchException;\nimport java.util.Random;\n\npublic class Solution {\n    public static void main(String[] args) {\n\n        InputStream inputStream = System.in;\n        InputReader in = new InputReader(inputStream);\n\n        int n = in.readInt();\n        int m = in.readInt();\n\n        long[] list = new long[n+3];\n\n        while(m-- &gt; 0) {\n            int a = in.readInt();\n            int b = in.readInt();\n            long k = in.readLong();\n\n            list[a] += k;\n            list[b+1] -= k;\n        }\n\n        long max = 0;\n        long c = 0;\n        for (int i = 1; i &lt;= n; i++) {\n            c += list[i];\n            max = Math.max(max, c);\n        }\n        System.out.println(max);\n    }\n}\n\nclass InputReader {\n\n    private InputStream stream;\n    private byte[] buf = new byte[1024];\n    private int curChar;\n    private int numChars;\n    private SpaceCharFilter filter;\n\n    public InputReader(InputStream stream) {\n        this.stream = stream;\n    }\n\n    public int read() {\n        if (numChars == -1)\n            throw new InputMismatchException();\n        if (curChar &gt;= numChars) {\n            curChar = 0;\n            try {\n                numChars = stream.read(buf);\n            } catch (IOException e) {\n                throw new InputMismatchException();\n            }\n            if (numChars &lt;= 0)\n                return -1;\n        }\n        return buf[curChar++];\n    }\n\n    public int peek() {\n        if (numChars == -1)\n            return -1;\n        if (curChar &gt;= numChars) {\n            curChar = 0;\n            try {\n                numChars = stream.read(buf);\n            } catch (IOException e) {\n                return -1;\n            }\n            if (numChars &lt;= 0)\n                return -1;\n        }\n        return buf[curChar];\n    }\n\n    public int readInt() {\n        int c = read();\n        while (isSpaceChar(c))\n            c = read();\n        int sgn = 1;\n        if (c == '-') {\n            sgn = -1;\n            c = read();\n        }\n        int res = 0;\n        do {\n            if (c &lt; '0' || c &gt; '9')\n                throw new InputMismatchException();\n            res *= 10;\n            res += c - '0';\n            c = read();\n        } while (!isSpaceChar(c));\n        return res * sgn;\n    }\n\n    public long readLong() {\n        int c = read();\n        while (isSpaceChar(c))\n            c = read();\n        int sgn = 1;\n        if (c == '-') {\n            sgn = -1;\n            c = read();\n        }\n        long res = 0;\n        do {\n            if (c &lt; '0' || c &gt; '9')\n                throw new InputMismatchException();\n            res *= 10;\n            res += c - '0';\n            c = read();\n        } while (!isSpaceChar(c));\n        return res * sgn;\n    }\n\n    public boolean isSpaceChar(int c) {\n        if (filter != null)\n            return filter.isSpaceChar(c);\n        return isWhitespace(c);\n    }\n\n    public static boolean isWhitespace(int c) {\n        return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n    }\n\n    public boolean isExhausted() {\n        int value;\n        while (isSpaceChar(value = peek()) &amp;&amp; value != -1)\n            read();\n        return value == -1;\n    }\n\n    public interface SpaceCharFilter {\n        public boolean isSpaceChar(int ch);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8162401,"reputation":1,"user_id":6145994,"display_name":"Muhammad Amjad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592574639,"creation_date":1592566019,"answer_id":62469264,"question_id":56249944,"body_markdown":"**solution in java for Array Manipulation hackerank  ...\r\ncode does not pass all the cases because of timeout need suggestions to improve**\r\n\r\n```  // Complete the arrayManipulation function below.\r\n    static long arrayManipulation(int n, int[][] queries) {\r\n      ArrayList&lt;Long&gt; list = new ArrayList&lt;Long&gt;(n);\r\n      for(int i=0; i&lt;n; i++){\r\n        list.add(i,0l);\r\n      }\r\n      for(int i=0; i&lt;queries.length; i++){\r\n        int s = queries[i][0];\r\n        int e = queries[i][1];\r\n        long k = queries[i][2];\r\n        int size = 0;\r\n        for(int j = s - 1; j&lt;e; j++){\r\n\r\n        list.set(j, list.get(j) + k);\r\n\r\n        }\r\n      }\r\n      long max  =Collections.max(list);\r\n      return max;\r\n\r\n    }","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<p><strong>solution in java for Array Manipulation hackerank  ...\ncode does not pass all the cases because of timeout need suggestions to improve</strong></p>\n\n<pre><code>    static long arrayManipulation(int n, int[][] queries) {\n      ArrayList&lt;Long&gt; list = new ArrayList&lt;Long&gt;(n);\n      for(int i=0; i&lt;n; i++){\n        list.add(i,0l);\n      }\n      for(int i=0; i&lt;queries.length; i++){\n        int s = queries[i][0];\n        int e = queries[i][1];\n        long k = queries[i][2];\n        int size = 0;\n        for(int j = s - 1; j&lt;e; j++){\n\n        list.set(j, list.get(j) + k);\n\n        }\n      }\n      long max  =Collections.max(list);\n      return max;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1533884,"reputation":121,"user_id":1430413,"display_name":"Bharat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593148697,"creation_date":1593148697,"answer_id":62588449,"question_id":56249944,"body_markdown":"Implemented the solution in Java for this problem and its working efficiently. Please try if you needed.\r\n\r\n      public long arrayManipulation(int n, int[][] queries) \r\n      {\r\n        if(n==0 || queries==null || queries.length==0){\r\n            return -1;\r\n        }\r\n        long[] computation = new long[n];\r\n\r\n        for (int i = 0; i &lt; queries.length; i++) {\r\n        int a = queries[i][0] - 1;\r\n        int b = queries[i][1] - 1;\r\n        int k = queries[i][2];\r\n\r\n        computation[a] += k;\r\n        if (b + 1 &lt; n ) {\r\n            computation[b + 1] -= k;\r\n        }\r\n        }\r\n\r\n        long max = 0; long sum = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n        sum += computation[i];\r\n        max = Math.max(max, sum);\r\n        }\r\n\r\n        return max;\r\n    }","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<p>Implemented the solution in Java for this problem and its working efficiently. Please try if you needed.</p>\n<pre><code>  public long arrayManipulation(int n, int[][] queries) \n  {\n    if(n==0 || queries==null || queries.length==0){\n        return -1;\n    }\n    long[] computation = new long[n];\n\n    for (int i = 0; i &lt; queries.length; i++) {\n    int a = queries[i][0] - 1;\n    int b = queries[i][1] - 1;\n    int k = queries[i][2];\n\n    computation[a] += k;\n    if (b + 1 &lt; n ) {\n        computation[b + 1] -= k;\n    }\n    }\n\n    long max = 0; long sum = 0;\n    for (int i = 0; i &lt; n; i++) {\n    sum += computation[i];\n    max = Math.max(max, sum);\n    }\n\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10735717,"reputation":109,"user_id":7900410,"display_name":"ASisic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596420341,"creation_date":1594567769,"answer_id":62863003,"question_id":56249944,"body_markdown":"    static long arrayManipulation(int n, int[][] queries)\r\n    {\r\n        // To Avoid &quot;Index was outside the bounds of the array.&quot; exception\r\n        long[] numbers = new long[n + 1];\r\n\r\n        for(int i = 0; i &lt; queries.length; i++)\r\n        {\r\n            int a = queries[i][0] - 1;\r\n            int b = queries[i][1];\r\n            int k = queries[i][2];\r\n\r\n            numbers[a] += k;\r\n            numbers[b] -= k;\r\n        }\r\n\r\n        // Calculate sum(s)\r\n        int max=0;\r\n        for(int i = 1; i &lt; numbers.length; i++)\r\n        {\r\n            numbers[i] += numbers[i - 1];\r\n            if(numbers[i]&gt;max)\r\n            {\r\n                 max=numbers[i];\r\n            }\r\n        }\r\n\r\n        return max;\r\n    }\r\n\r\n  ","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<pre><code>static long arrayManipulation(int n, int[][] queries)\n{\n    // To Avoid &quot;Index was outside the bounds of the array.&quot; exception\n    long[] numbers = new long[n + 1];\n\n    for(int i = 0; i &lt; queries.length; i++)\n    {\n        int a = queries[i][0] - 1;\n        int b = queries[i][1];\n        int k = queries[i][2];\n\n        numbers[a] += k;\n        numbers[b] -= k;\n    }\n\n    // Calculate sum(s)\n    int max=0;\n    for(int i = 1; i &lt; numbers.length; i++)\n    {\n        numbers[i] += numbers[i - 1];\n        if(numbers[i]&gt;max)\n        {\n             max=numbers[i];\n        }\n    }\n\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9519020,"reputation":41,"user_id":7074479,"display_name":"Javed Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634187243,"creation_date":1634187243,"answer_id":69565252,"question_id":56249944,"body_markdown":"    package arrayProblems;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import static java.util.Arrays.*;\r\n    \r\n    \r\n    public class ArrayManipuations {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint n=10;\r\n    \t\tint[] arr = new int[n];\r\n    \t\tList&lt;List&lt;Integer&gt;&gt; nl = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n    \t\t  \r\n    \t\t  nl=asList(asList(1,5,3),asList(4,8,7),asList(6,9,1));\r\n    \t\t  \r\n    \t\t  for(int i=0;i&lt;nl.size();i++) {\r\n    \t\t\t  \r\n    \t\t\t  for(int j=nl.get(i).get(0);j&lt;=nl.get(i).get(1);j++) {\r\n    \t\t\t\t  arr[j-1]=arr[j-1]+nl.get(i).get(2);\r\n    \t\t\t  } \r\n    \t\t  }\r\n    \t\t  \r\n    \t\t  int max = Integer.MIN_VALUE;\r\n    \t\t  \r\n    \t\t  for(int k=0;k&lt;n;k++) {\r\n    \t\t\t  if(max&lt;arr[k]) {\r\n    \t\t\t\t  max = arr[k];\r\n    \t\t\t\t  arr[k]=max;\r\n    \t\t\t  }\r\n    \t\t  }\r\n    \t\t  \r\n    \t\t  System.out.print(max);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<pre><code>package arrayProblems;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport static java.util.Arrays.*;\n\n\npublic class ArrayManipuations {\n\n    public static void main(String[] args) {\n\n        int n=10;\n        int[] arr = new int[n];\n        List&lt;List&lt;Integer&gt;&gt; nl = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n          \n          nl=asList(asList(1,5,3),asList(4,8,7),asList(6,9,1));\n          \n          for(int i=0;i&lt;nl.size();i++) {\n              \n              for(int j=nl.get(i).get(0);j&lt;=nl.get(i).get(1);j++) {\n                  arr[j-1]=arr[j-1]+nl.get(i).get(2);\n              } \n          }\n          \n          int max = Integer.MIN_VALUE;\n          \n          for(int k=0;k&lt;n;k++) {\n              if(max&lt;arr[k]) {\n                  max = arr[k];\n                  arr[k]=max;\n              }\n          }\n          \n          System.out.print(max);\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15250,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56250641,"answer_count":7,"score":5,"last_activity_date":1634187243,"creation_date":1558503357,"question_id":56249944,"body_markdown":"I am doing this Array Manipulation problem from hackerrank and it tells me compile error is ***Terminated due to timeout***.\n&lt;br/&gt;\n\nFor small arrays my method work perfectly. **This error only happens for bigger array values.** \n\nHere is the question link. [Question Here][1]\n\n&gt; Starting with a 1-indexed array of zeros and a list of operations, for each operation add a value to each of the array element between two given indices, inclusive. Once all operations have been performed, return the maximum value in your array.\n&gt;\n&gt; For example, the length of your array of zeros . Your list of queries is as follows:\n&gt;\n&gt;     a b k\n&gt;     1 5 3\n&gt;     4 8 7\n&gt;     6 9 1\n&gt;\n&gt; Add the values of  between the indices  and  inclusive:\n&gt;\n&gt;     index -&gt; 1 2 3  4  5 6 7 8 9 10\n&gt;             [0,0,0, 0, 0,0,0,0,0, 0]\n&gt;             [3,3,3, 3, 3,0,0,0,0, 0]\n&gt;             [3,3,3,10,10,7,7,7,0, 0]\n&gt;             [3,3,3,10,10,8,8,8,1, 0]\n&gt;\n&gt;    The largest value is  after all operations are performed.\n\n\nGiven below is my method.\n\n\n     static long arrayManipulation(int n, int[][] queries) {\n        long max = 0L;\n        long[] arr = new long[n];\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = 0L;\n        }\n        for (int i = 0; i &lt; queries.length; i++) {\n            int[] q = queries[i];\n            int start = q[0] - 1;\n            int end = q[1] - 1;\n            int val = q[2];\n            long tempMax = updateVal(start, end, val, arr);\n            if (tempMax &gt; max) {\n               max = tempMax;\n            }\n        }\n        return max;\n     }\n\n\n\n    static long updateVal(int start, int end, int val, long[] arr) {\n       long max = 0L;\n       for (int i = start; i &lt;= end; i++) {\n           arr[i] = arr[i] + val;\n           if (arr[i] &gt; max) {\n               max = arr[i];\n           }\n       }\n       return max;\n    }\n Given below are few test classes that doesn&#39;t work with my code.\n&lt;br/&gt;\n[Test1][2] [Test2][3] [Test3][4]\n\n\nPlease help me to figure this out. I searched for lots of answers based on java. &lt;br/&gt;\nBut I couldn&#39;t understand them.\n&lt;br/&gt;\nThis is my last resort. Please help.\n\n**Updated after Kanahaiya&#39;s answer**\n\n\n\n        static long arrayManipulation(int n, int[][] queries) {\n            long max = 0L;\n            int a, b, k;\n            int[] arr = new int[n + 2];\n            for (int i = 0; i &lt; queries.length; i++) {\n                a = queries[i][0];\n                b = queries[i][1];\n                k = queries[i][2];\n\n                for (int j = 0; j &lt; arr.length; j++) {\n                    if (j &gt;= a) {\n                        arr[j] = arr[j] + k;\n                    }\n                    if (j &gt; b) {\n                        arr[j] = arr[j] - k;\n                    }\n                }\n            }\n            Arrays.sort(arr);\n            max = arr[arr.length - 1];\n            return max;\n        }\n\n\n  [1]: https://www.hackerrank.com/challenges/crush/problem?h_l=interview&amp;playlist_slugs%5B%5D=interview-preparation-kit&amp;playlist_slugs%5B%5D=arrays\n  [2]: https://hr-testcases-us-east-1.s3.amazonaws.com/1636/input11.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1558509431&amp;Signature=1jnxnicNhCTVzAeM62sspjyZtsw%3D&amp;response-content-type=text%2Fplain\n  [3]: https://hr-testcases-us-east-1.s3.amazonaws.com/1636/input13.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1558509421&amp;Signature=rsYFImY%2F3%2FJ3UEYGQX0eHxNcLBQ%3D&amp;response-content-type=text%2Fplain\n  [4]: https://hr-testcases-us-east-1.s3.amazonaws.com/1636/input12.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1558509422&amp;Signature=uK4UfXBLV%2B0TT6hGmyKmkMYypfs%3D&amp;response-content-type=text%2Fplain","title":"Array Manipulation : HackerRank Questions : JAVA","body":"<p>I am doing this Array Manipulation problem from hackerrank and it tells me compile error is <em><strong>Terminated due to timeout</strong></em>.\n<br/></p>\n<p>For small arrays my method work perfectly. <strong>This error only happens for bigger array values.</strong></p>\n<p>Here is the question link. <a href=\"https://www.hackerrank.com/challenges/crush/problem?h_l=interview&amp;playlist_slugs%5B%5D=interview-preparation-kit&amp;playlist_slugs%5B%5D=arrays\" rel=\"nofollow noreferrer\">Question Here</a></p>\n<blockquote>\n<p>Starting with a 1-indexed array of zeros and a list of operations, for each operation add a value to each of the array element between two given indices, inclusive. Once all operations have been performed, return the maximum value in your array.</p>\n<p>For example, the length of your array of zeros . Your list of queries is as follows:</p>\n<pre><code>a b k\n1 5 3\n4 8 7\n6 9 1\n</code></pre>\n<p>Add the values of  between the indices  and  inclusive:</p>\n<pre><code>index -&gt; 1 2 3  4  5 6 7 8 9 10\n        [0,0,0, 0, 0,0,0,0,0, 0]\n        [3,3,3, 3, 3,0,0,0,0, 0]\n        [3,3,3,10,10,7,7,7,0, 0]\n        [3,3,3,10,10,8,8,8,1, 0]\n</code></pre>\n<p>The largest value is  after all operations are performed.</p>\n</blockquote>\n<p>Given below is my method.</p>\n<pre><code> static long arrayManipulation(int n, int[][] queries) {\n    long max = 0L;\n    long[] arr = new long[n];\n    for (int i = 0; i &lt; n; i++) {\n        arr[i] = 0L;\n    }\n    for (int i = 0; i &lt; queries.length; i++) {\n        int[] q = queries[i];\n        int start = q[0] - 1;\n        int end = q[1] - 1;\n        int val = q[2];\n        long tempMax = updateVal(start, end, val, arr);\n        if (tempMax &gt; max) {\n           max = tempMax;\n        }\n    }\n    return max;\n }\n\n\n\nstatic long updateVal(int start, int end, int val, long[] arr) {\n   long max = 0L;\n   for (int i = start; i &lt;= end; i++) {\n       arr[i] = arr[i] + val;\n       if (arr[i] &gt; max) {\n           max = arr[i];\n       }\n   }\n   return max;\n}\n</code></pre>\n<p>Given below are few test classes that doesn't work with my code.\n<br/>\n<a href=\"https://hr-testcases-us-east-1.s3.amazonaws.com/1636/input11.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1558509431&amp;Signature=1jnxnicNhCTVzAeM62sspjyZtsw%3D&amp;response-content-type=text%2Fplain\" rel=\"nofollow noreferrer\">Test1</a> <a href=\"https://hr-testcases-us-east-1.s3.amazonaws.com/1636/input13.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1558509421&amp;Signature=rsYFImY%2F3%2FJ3UEYGQX0eHxNcLBQ%3D&amp;response-content-type=text%2Fplain\" rel=\"nofollow noreferrer\">Test2</a> <a href=\"https://hr-testcases-us-east-1.s3.amazonaws.com/1636/input12.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1558509422&amp;Signature=uK4UfXBLV%2B0TT6hGmyKmkMYypfs%3D&amp;response-content-type=text%2Fplain\" rel=\"nofollow noreferrer\">Test3</a></p>\n<p>Please help me to figure this out. I searched for lots of answers based on java. <br/>\nBut I couldn't understand them.\n<br/>\nThis is my last resort. Please help.</p>\n<p><strong>Updated after Kanahaiya's answer</strong></p>\n<pre><code>    static long arrayManipulation(int n, int[][] queries) {\n        long max = 0L;\n        int a, b, k;\n        int[] arr = new int[n + 2];\n        for (int i = 0; i &lt; queries.length; i++) {\n            a = queries[i][0];\n            b = queries[i][1];\n            k = queries[i][2];\n\n            for (int j = 0; j &lt; arr.length; j++) {\n                if (j &gt;= a) {\n                    arr[j] = arr[j] + k;\n                }\n                if (j &gt; b) {\n                    arr[j] = arr[j] - k;\n                }\n            }\n        }\n        Arrays.sort(arr);\n        max = arr[arr.length - 1];\n        return max;\n    }\n</code></pre>\n"},{"tags":["java","spring","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634157727,"creation_date":1634157727,"answer_id":69562073,"question_id":69561557,"body_markdown":"You need to get the value of the cell and user equals.\r\nhttps://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html\r\n \r\n\r\n    if (pedidoExcel.equals(teste.getStringCellValue()))\r\n                 return 1;","title":"Validation string with apache POI","body":"<p>You need to get the value of the cell and user equals.\n<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html</a></p>\n<pre><code>if (pedidoExcel.equals(teste.getStringCellValue()))\n             return 1;\n</code></pre>\n"}],"owner":{"account_id":20117620,"reputation":29,"user_id":14752674,"display_name":"johny campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69562073,"answer_count":1,"score":-1,"last_activity_date":1634186860,"creation_date":1634154692,"question_id":69561557,"body_markdown":"i need to do a validation, i need to know if the cell c3 there is the String &quot;Numero&quot;\r\n\r\nbut i get one error:\r\n\r\n    &gt; private int validaLinha(Row row) { String pedidoExcel = Numero;\r\n    &gt; \r\n    &gt;     Cell teste = row.getCell(new CellReference(&quot;C3&quot;).getCol());\r\n    &gt; \r\n    &gt;     try{\r\n    &gt;         if (teste == null || teste.getCellType() == Cell.CELL_TYPE_BLANK)\r\n    &gt;             return 0;\r\n    &gt; \r\n    &gt;         if (teste == pedidoExcel)\r\n    &gt;             return 1;\r\n    &gt; \r\n    &gt;     }catch (Exception e){\r\n    &gt;         return -1;\r\n    &gt;     }\r\n    }\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/svtW9.png","title":"Validation string with apache POI","body":"<p>i need to do a validation, i need to know if the cell c3 there is the String &quot;Numero&quot;</p>\n<p>but i get one error:</p>\n<pre><code>&gt; private int validaLinha(Row row) { String pedidoExcel = Numero;\n&gt; \n&gt;     Cell teste = row.getCell(new CellReference(&quot;C3&quot;).getCol());\n&gt; \n&gt;     try{\n&gt;         if (teste == null || teste.getCellType() == Cell.CELL_TYPE_BLANK)\n&gt;             return 0;\n&gt; \n&gt;         if (teste == pedidoExcel)\n&gt;             return 1;\n&gt; \n&gt;     }catch (Exception e){\n&gt;         return -1;\n&gt;     }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/svtW9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","datetime","iso8601"],"comments":[{"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"score":0,"creation_date":1634187289,"post_id":69565179,"comment_id":122959132,"body_markdown":"Try `2021-07-27T09:58:51.000+00:00`, which I think is the valid ISO format.","body":"Try <code>2021-07-27T09:58:51.000+00:00</code>, which I think is the valid ISO format."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634188514,"post_id":69565179,"comment_id":122959337,"body_markdown":"Does this answer your question? [Why can&#39;t OffsetDateTime parse &#39;2016-08-24T18:38:05.507+0000&#39; in Java 8](https://stackoverflow.com/questions/39133828/why-cant-offsetdatetime-parse-2016-08-24t183805-5070000-in-java-8). Does [this](https://stackoverflow.com/questions/18823627/java-string-to-datetime), [this](https://stackoverflow.com/questions/43360852/cannot-parse-string-in-iso-8601-format-lacking-colon-in-offset-to-java-8-date), [this](https://stackoverflow.com/questions/48230408/parse-and-retrieve-timezone-offset-from-date-time)?","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39133828/why-cant-offsetdatetime-parse-2016-08-24t183805-5070000-in-java-8\">Why can&#39;t OffsetDateTime parse &#39;2016-08-24T18:38:05.507+0000&#39; in Java 8</a>. Does <a href=\"https://stackoverflow.com/questions/18823627/java-string-to-datetime\">this</a>, <a href=\"https://stackoverflow.com/questions/43360852/cannot-parse-string-in-iso-8601-format-lacking-colon-in-offset-to-java-8-date\">this</a>, <a href=\"https://stackoverflow.com/questions/48230408/parse-and-retrieve-timezone-offset-from-date-time\">this</a>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634188749,"post_id":69565179,"comment_id":122959386,"body_markdown":"Im unsure which original you find best. Theres also [this](https://stackoverflow.com/questions/48412345/convert-date-into-aest-using-java), [this](https://stackoverflow.com/questions/48666263/java-date-parsing-why-do-i-get-an-error), [this](https://stackoverflow.com/questions/53291240/java-to-mysql-i-need-convert-from-string-parametre-to-timestamp), [this](https://stackoverflow.com/questions/61269697/convert-a-string-to-zoneddatetime), [this](https://stackoverflow.com/questions/65844748/how-to-parse-zoneddatetime-with-milliseconds) and more.","body":"Im unsure which original you find best. Theres also <a href=\"https://stackoverflow.com/questions/48412345/convert-date-into-aest-using-java\">this</a>, <a href=\"https://stackoverflow.com/questions/48666263/java-date-parsing-why-do-i-get-an-error\">this</a>, <a href=\"https://stackoverflow.com/questions/53291240/java-to-mysql-i-need-convert-from-string-parametre-to-timestamp\">this</a>, <a href=\"https://stackoverflow.com/questions/61269697/convert-a-string-to-zoneddatetime\">this</a>, <a href=\"https://stackoverflow.com/questions/65844748/how-to-parse-zoneddatetime-with-milliseconds\">this</a> and more."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634188824,"post_id":69565179,"comment_id":122959405,"body_markdown":"@JoachimIsaksson The string in the question is valid according to [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) too. The colon in the offset is optional.","body":"@JoachimIsaksson The string in the question is valid according to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> too. The colon in the offset is optional."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634191145,"post_id":69565179,"comment_id":122959881,"body_markdown":"I unconditionally recommend parsing into an`OffsetDateTime` using the two-arg `OffsetDateTime.parse(CharSequence, DateTimeFormatter)` and a custom formatter like `new DateTimeFormatterBuilder().append(DateTimeFormatter.ISO_LOCAL_DATE_TIME).appendOffset(&quot;+HHmmss&quot;, &quot;+0000&quot;).toFormatter(Locale.ROOT)`.","body":"I unconditionally recommend parsing into an<code>OffsetDateTime</code> using the two-arg <code>OffsetDateTime.parse(CharSequence, DateTimeFormatter)</code> and a custom formatter like <code>new DateTimeFormatterBuilder().append(DateTimeFormatter.ISO_LOCA&zwnj;&#8203;L_DATE_TIME).appendO&zwnj;&#8203;ffset(&quot;+HHmmss&quot;, &quot;+0000&quot;).toFormatter(Locale.ROOT)</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634191688,"post_id":69565179,"comment_id":122960011,"body_markdown":"[See the recommended way run live on IdeOne.com](https://ideone.com/KXbFCx).","body":"<a href=\"https://ideone.com/KXbFCx\" rel=\"nofollow noreferrer\">See the recommended way run live on IdeOne.com</a>."},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":1,"creation_date":1634203113,"post_id":69565179,"comment_id":122964080,"body_markdown":"@BobKuhar, very much the same problem what I am trying to solve","body":"@BobKuhar, very much the same problem what I am trying to solve"}],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634203384,"answer_count":0,"score":1,"last_activity_date":1634186496,"creation_date":1634186496,"question_id":69565179,"body_markdown":"Is `2021-07-27T09:58:51.000+0000` a right ISO 8601 format? Could not locate an online validator which claims to say if this is compliant or not.\r\n\r\nHad issues while parsing this date below are the ways tried and the result is below:\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.DateTimeException;\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    import java.time.temporal.TemporalAccessor;\r\n    import java.util.Date;\r\n    \r\n    public class DateParser {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;2021-07-27T09:58:51.000+0000&quot;;\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Success 001: &quot; + OffsetDateTime.parse(s));\r\n    \t\t} catch (DateTimeParseException e) {\r\n    \t\t\tSystem.err.println(&quot;Fail: OffsetDateTime.parse: &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tDateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\n    \t\t\tSystem.out.println(&quot;Success 002: &quot; + df1.parse(s));\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\tSystem.err.println(&quot;Fail: SimpleDateFormat(\\&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ: &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tDateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    \t\t\tSystem.out.println(&quot;Success 003: &quot; + df1.parse(s));\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\tSystem.err.println(&quot;Fail: SimpleDateFormat(\\&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX\\&quot;): &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tTemporalAccessor ta = DateTimeFormatter.ISO_INSTANT.parse(s);\r\n    \t\t\tInstant i = Instant.from(ta);\r\n    \t\t\tSystem.out.println(&quot;Success 004: &quot; + Date.from(i));\r\n    \t\t} catch (DateTimeException e) {\r\n    \t\t\tSystem.err.println(&quot;Fail: TemporalAccessor: &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Success 005: &quot; + javax.xml.bind.DatatypeConverter.parseDateTime(s));\r\n    \t\t} catch (IllegalArgumentException e) {\r\n    \t\t\tSystem.err.println(&quot;Fail: javax.xml.bind.DatatypeConverter: &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Success 006: &quot; + org.apache.commons.lang3.time.DateUtils.parseDate(s,\r\n    \t\t\t\t\t&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;));\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\tSystem.err.println(&quot;Fail: org.apache.commons.lang3.time.DateUtils: &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Success 007: &quot; + new org.joda.time.DateTime(s).toDate());\r\n    \t\t} catch (IllegalArgumentException e) {\r\n    \t\t\tSystem.err.println(&quot;Fail: org.joda.time.DateTime: &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nResult\r\n\r\n    Fail: OffsetDateTime.parse: Text &#39;2021-07-27T09:58:51.000+0000&#39; could not be parsed at index 23\r\n    Success 002: Tue Jul 27 15:28:51 IST 2021\r\n    Fail: SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;): Unparseable date: &quot;2021-07-27T09:58:51.000+0000&quot;\r\n    Fail: TemporalAccessor: Text &#39;2021-07-27T09:58:51.000+0000&#39; could not be parsed at index 23\r\n    Fail: javax.xml.bind.DatatypeConverter: 2021-07-27T09:58:51.000+0000\r\n    Success 006: Tue Jul 27 15:28:51 IST 2021\r\n    Success 007: Tue Jul 27 15:28:51 IST 2021\r\n\r\nFrom the above result, could you suggest a recommended way of parsing the above kind of date and any other ISO date string?","title":"Parsing of ISO 8601 Date String in Java","body":"<p>Is <code>2021-07-27T09:58:51.000+0000</code> a right ISO 8601 format? Could not locate an online validator which claims to say if this is compliant or not.</p>\n<p>Had issues while parsing this date below are the ways tried and the result is below:</p>\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.DateTimeException;\nimport java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\nimport java.time.temporal.TemporalAccessor;\nimport java.util.Date;\n\npublic class DateParser {\n    public static void main(String[] args) {\n        String s = &quot;2021-07-27T09:58:51.000+0000&quot;;\n        try {\n            System.out.println(&quot;Success 001: &quot; + OffsetDateTime.parse(s));\n        } catch (DateTimeParseException e) {\n            System.err.println(&quot;Fail: OffsetDateTime.parse: &quot; + e.getMessage());\n        }\n\n        try {\n            DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;);\n            System.out.println(&quot;Success 002: &quot; + df1.parse(s));\n        } catch (ParseException e) {\n            System.err.println(&quot;Fail: SimpleDateFormat(\\&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ: &quot; + e.getMessage());\n        }\n\n        try {\n            DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n            System.out.println(&quot;Success 003: &quot; + df1.parse(s));\n        } catch (ParseException e) {\n            System.err.println(&quot;Fail: SimpleDateFormat(\\&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX\\&quot;): &quot; + e.getMessage());\n        }\n\n        try {\n            TemporalAccessor ta = DateTimeFormatter.ISO_INSTANT.parse(s);\n            Instant i = Instant.from(ta);\n            System.out.println(&quot;Success 004: &quot; + Date.from(i));\n        } catch (DateTimeException e) {\n            System.err.println(&quot;Fail: TemporalAccessor: &quot; + e.getMessage());\n        }\n\n        try {\n            System.out.println(&quot;Success 005: &quot; + javax.xml.bind.DatatypeConverter.parseDateTime(s));\n        } catch (IllegalArgumentException e) {\n            System.err.println(&quot;Fail: javax.xml.bind.DatatypeConverter: &quot; + e.getMessage());\n        }\n\n        try {\n            System.out.println(&quot;Success 006: &quot; + org.apache.commons.lang3.time.DateUtils.parseDate(s,\n                    &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;));\n        } catch (ParseException e) {\n            System.err.println(&quot;Fail: org.apache.commons.lang3.time.DateUtils: &quot; + e.getMessage());\n        }\n\n        try {\n            System.out.println(&quot;Success 007: &quot; + new org.joda.time.DateTime(s).toDate());\n        } catch (IllegalArgumentException e) {\n            System.err.println(&quot;Fail: org.joda.time.DateTime: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Result</p>\n<pre><code>Fail: OffsetDateTime.parse: Text '2021-07-27T09:58:51.000+0000' could not be parsed at index 23\nSuccess 002: Tue Jul 27 15:28:51 IST 2021\nFail: SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;): Unparseable date: &quot;2021-07-27T09:58:51.000+0000&quot;\nFail: TemporalAccessor: Text '2021-07-27T09:58:51.000+0000' could not be parsed at index 23\nFail: javax.xml.bind.DatatypeConverter: 2021-07-27T09:58:51.000+0000\nSuccess 006: Tue Jul 27 15:28:51 IST 2021\nSuccess 007: Tue Jul 27 15:28:51 IST 2021\n</code></pre>\n<p>From the above result, could you suggest a recommended way of parsing the above kind of date and any other ISO date string?</p>\n"},{"tags":["python","java","scala","apache-spark","cmd"],"comments":[{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1634226814,"post_id":69565171,"comment_id":122974208,"body_markdown":"I think you need to first of all specify what exactly you mean when you say &quot;as administrator&quot;. Usually this means running as yourself, but with an administrative token, not running as the user named administrator. Unless you can provide all of the information we need to be able to reproduce your specific problem, we cannot assist you to fix it. Please use the [edit] facility to make the required improvements to your question, so that we are better furnished to assist you.","body":"I think you need to first of all specify what exactly you mean when you say &quot;as administrator&quot;. Usually this means running as yourself, but with an administrative token, not running as the user named administrator. Unless you can provide all of the information we need to be able to reproduce your specific problem, we cannot assist you to fix it. Please use the <a href=\"https://stackoverflow.com/posts/69565171/edit\">edit</a> facility to make the required improvements to your question, so that we are better furnished to assist you."},{"owner":{"account_id":22778461,"reputation":31,"user_id":16934736,"display_name":"Abhay"},"score":0,"creation_date":1634549364,"post_id":69565171,"comment_id":123045490,"body_markdown":"right clicking cmd and running as adminstrator","body":"right clicking cmd and running as adminstrator"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1634553544,"post_id":69565171,"comment_id":123047106,"body_markdown":"As I said then, when you do that, you do not become a different user. If something is not working for you without the privilege token, then it means that you do not have the required permissions to do it. `Access is denied` seems a fairly clear indication of that.","body":"As I said then, when you do that, you do not become a different user. If something is not working for you without the privilege token, then it means that you do not have the required permissions to do it. <code>Access is denied</code> seems a fairly clear indication of that."}],"owner":{"account_id":22778461,"reputation":31,"user_id":16934736,"display_name":"Abhay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634186422,"creation_date":1634186422,"question_id":69565171,"body_markdown":"I tried the following basic scala command (for apache spark) on cmd normally and got an error: -\r\n\r\n    val no = Array(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n    no.collect()\r\n\r\nERRROR:-\r\n\r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\Users\\abhay.saini\\.scala_history (Access is denied)\r\n    \r\n    ERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\\Users\\abhay.saini\\AppData\\Local\\Temp\\spark-c774e989-eccc-4f2a-92f7-018f2cafa507\\repl-8e3a8237-a9fc-4101-99fc-153e4f584f1a\r\n    java.io.IOException: Failed to delete: C:\\Users\\abhay.saini\\AppData\\Local\\Temp\\spark-c774e989-eccc-4f2a-92f7-018f2cafa507\\repl-8e3a8237-a9fc-4101-99fc-153e4f584f1a\\$line15\\$read.class\r\n\r\nand it immediately comes out of the spark environment.\r\n\r\nHowever, while running the same thing on cmd (as administrator) it gives the correct output.\r\n\r\nWhat&#39;s the deal here ? Is it because of the environment variables ? (my user variables (python/spark/java home) are different from system variables) because &quot;running as admin&quot; means using system variables as opposed to user variables?","title":"What&#39;s the difference between opening spark-shell on cmd versus on &quot;opening cmd as adminstrator&quot;?","body":"<p>I tried the following basic scala command (for apache spark) on cmd normally and got an error: -</p>\n<pre><code>val no = Array(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\nno.collect()\n</code></pre>\n<p>ERRROR:-</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\Users\\abhay.saini\\.scala_history (Access is denied)\n\nERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\\Users\\abhay.saini\\AppData\\Local\\Temp\\spark-c774e989-eccc-4f2a-92f7-018f2cafa507\\repl-8e3a8237-a9fc-4101-99fc-153e4f584f1a\njava.io.IOException: Failed to delete: C:\\Users\\abhay.saini\\AppData\\Local\\Temp\\spark-c774e989-eccc-4f2a-92f7-018f2cafa507\\repl-8e3a8237-a9fc-4101-99fc-153e4f584f1a\\$line15\\$read.class\n</code></pre>\n<p>and it immediately comes out of the spark environment.</p>\n<p>However, while running the same thing on cmd (as administrator) it gives the correct output.</p>\n<p>What's the deal here ? Is it because of the environment variables ? (my user variables (python/spark/java home) are different from system variables) because &quot;running as admin&quot; means using system variables as opposed to user variables?</p>\n"},{"tags":["java","android","ionic-framework","capacitor"],"answers":[{"tags":[],"owner":{"account_id":2774298,"reputation":1156,"user_id":2904959,"accept_rate":88,"display_name":"1antares1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632407807,"creation_date":1632407807,"answer_id":69302096,"question_id":69289482,"body_markdown":"Try these steps to see:\r\n\r\n 1. Delete the Buildconfig.java\r\n 2. Refactor -&gt; Rename, error class.\r\n 3. Build -&gt; Rebuild Project!\r\n --\r\n\r\nAnd if not, share what you have in the file: build.gradle in the **defaultConfig** section and AndroidManifest from the **manifest** section.","title":"Custom Capacitor Plugin - add Android dependencies","body":"<p>Try these steps to see:</p>\n<ol>\n<li>Delete the Buildconfig.java</li>\n<li>Refactor -&gt; Rename, error class.</li>\n<li>Build -&gt; Rebuild Project!\n--</li>\n</ol>\n<p>And if not, share what you have in the file: build.gradle in the <strong>defaultConfig</strong> section and AndroidManifest from the <strong>manifest</strong> section.</p>\n"},{"tags":[],"owner":{"account_id":2348943,"reputation":5378,"user_id":2058333,"accept_rate":46,"display_name":"El Dude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634185688,"creation_date":1634185688,"answer_id":69565084,"question_id":69289482,"body_markdown":"I had to add \r\n```\r\nimplementation &quot;com.google.android.play:core:1.10.2&quot;\r\n```\r\n\r\nto my `build.grade` file.","title":"Custom Capacitor Plugin - add Android dependencies","body":"<p>I had to add</p>\n<pre><code>implementation &quot;com.google.android.play:core:1.10.2&quot;\n</code></pre>\n<p>to my <code>build.grade</code> file.</p>\n"}],"owner":{"account_id":2348943,"reputation":5378,"user_id":2058333,"accept_rate":46,"display_name":"El Dude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634185688,"creation_date":1632335060,"question_id":69289482,"body_markdown":"How can I add an Android build dependency to my custom capacitor plugin for app rate based on \r\n\r\nhttps://developer.android.com/guide/playcore/in-app-review/kotlin-java#java\r\n\r\nIt fails the build with not finding `com.google.android.play.core` so I wonder how can I add it as a dependency to the component build?\r\nBelow is the error\r\n\r\n\r\n```\r\n/AppRate.java:9: error: package com.google.android.play.core.review does not exist\r\nimport com.google.android.play.core.review.ReviewInfo;\r\n                                          ^\r\n/AppRate.java:10: error: package com.google.android.play.core.review does not exist\r\nimport com.google.android.play.core.review.ReviewManager;\r\n                                          ^\r\n/AppRate.java:11: error: package com.google.android.play.core.review does not exist\r\nimport com.google.android.play.core.review.ReviewManagerFactory;\r\n                                          ^\r\n/AppRate.java:12: error: package com.google.android.play.core.tasks does not exist\r\nimport com.google.android.play.core.tasks.Task;\r\n                                         ^\r\n/AppRate.java:17: error: class AppRate clashes with package of same name\r\npublic class AppRate extends Plugin {\r\n\r\n       ^\r\n/AppRate/BuildConfig.java:4: error: package me.url.AppRate clashes with class of same name\r\npackage me.url.AppRate;\r\n^\r\n/AppRate.java:21: error: cannot find symbol\r\n        Activity activity = this.cordova.getActivity();\r\n```\r\n\r\nI am also not sure about the clash error, but that is a separate topic I guess.\r\n\r\nNote - I tried integrating the ionic native plugins but had weird build issues. iOS now works with my custom plugin, fixing Android now.\r\n\r\n","title":"Custom Capacitor Plugin - add Android dependencies","body":"<p>How can I add an Android build dependency to my custom capacitor plugin for app rate based on</p>\n<p><a href=\"https://developer.android.com/guide/playcore/in-app-review/kotlin-java#java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/playcore/in-app-review/kotlin-java#java</a></p>\n<p>It fails the build with not finding <code>com.google.android.play.core</code> so I wonder how can I add it as a dependency to the component build?\nBelow is the error</p>\n<pre><code>/AppRate.java:9: error: package com.google.android.play.core.review does not exist\nimport com.google.android.play.core.review.ReviewInfo;\n                                          ^\n/AppRate.java:10: error: package com.google.android.play.core.review does not exist\nimport com.google.android.play.core.review.ReviewManager;\n                                          ^\n/AppRate.java:11: error: package com.google.android.play.core.review does not exist\nimport com.google.android.play.core.review.ReviewManagerFactory;\n                                          ^\n/AppRate.java:12: error: package com.google.android.play.core.tasks does not exist\nimport com.google.android.play.core.tasks.Task;\n                                         ^\n/AppRate.java:17: error: class AppRate clashes with package of same name\npublic class AppRate extends Plugin {\n\n       ^\n/AppRate/BuildConfig.java:4: error: package me.url.AppRate clashes with class of same name\npackage me.url.AppRate;\n^\n/AppRate.java:21: error: cannot find symbol\n        Activity activity = this.cordova.getActivity();\n</code></pre>\n<p>I am also not sure about the clash error, but that is a separate topic I guess.</p>\n<p>Note - I tried integrating the ionic native plugins but had weird build issues. iOS now works with my custom plugin, fixing Android now.</p>\n"},{"tags":["java","import","package"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634183972,"post_id":69564813,"comment_id":122958641,"body_markdown":"You are talking about an `enum` declared inside a `class`, correct?","body":"You are talking about an <code>enum</code> declared inside a <code>class</code>, correct?"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1634183994,"post_id":69564813,"comment_id":122958648,"body_markdown":"The real answer here is &quot;use an IDE that manages all this for you&quot;.","body":"The real answer here is &quot;use an IDE that manages all this for you&quot;."},{"owner":{"account_id":22924121,"reputation":3,"user_id":17059492,"display_name":"Steve"},"score":0,"creation_date":1634184187,"post_id":69564813,"comment_id":122958671,"body_markdown":"@StephenC Yes, the enum is inside the class that I already imported by the package but I have to declare it separately to fix the issue.","body":"@StephenC Yes, the enum is inside the class that I already imported by the package but I have to declare it separately to fix the issue."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634190386,"post_id":69564813,"comment_id":122959730,"body_markdown":"You can either import the nested enum (e.g. `import some.pkg.Class1.MyEnum;`), or you can refer to it qualified by the type name of the enclosing class.  But yes, `import some.pkg.*` on-demand imports the top level classes of `some.pkg` ... and nothing else.  Note that this is consistent with `import some.pkg.*;` not importing &quot;sub-packages&quot;.","body":"You can either import the nested enum (e.g. <code>import some.pkg.Class1.MyEnum;</code>), or you can refer to it qualified by the type name of the enclosing class.  But yes, <code>import some.pkg.*</code> on-demand imports the top level classes of <code>some.pkg</code> ... and nothing else.  Note that this is consistent with <code>import some.pkg.*;</code> not importing &quot;sub-packages&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634190698,"post_id":69564813,"comment_id":122959788,"body_markdown":"There is no fix for this.  It is working ... as designed.","body":"There is no fix for this.  It is working ... as designed."},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1634223988,"post_id":69564813,"comment_id":122972860,"body_markdown":"Please read over &quot;[How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)&quot;, especially the sections on code and on image use.","body":"Please read over &quot;<a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>&quot;, especially the sections on code and on image use."}],"answers":[{"tags":[],"owner":{"account_id":21921847,"reputation":84,"user_id":16204988,"display_name":"gauravmandall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634185470,"creation_date":1634185470,"answer_id":69565055,"question_id":69564813,"body_markdown":"**Is this Android Studio if yes then :**\r\n\r\nUse alt + enter to import classes in Android Studio\r\nor use IDE Features just go to File&gt;Setting&gt;Editor&gt;General&gt;Auto Import\r\n\r\nand configure as per your needs [see this][1]\r\n\r\n*If not go through your IDE settings*\r\n\r\n  [1]: https://i.stack.imgur.com/bx4ra.png","title":"Is there a way I can import all the classes without importing specific classes in this case?","body":"<p><strong>Is this Android Studio if yes then :</strong></p>\n<p>Use alt + enter to import classes in Android Studio\nor use IDE Features just go to File&gt;Setting&gt;Editor&gt;General&gt;Auto Import</p>\n<p>and configure as per your needs <a href=\"https://i.stack.imgur.com/bx4ra.png\" rel=\"nofollow noreferrer\">see this</a></p>\n<p><em>If not go through your IDE settings</em></p>\n"}],"owner":{"account_id":22924121,"reputation":3,"user_id":17059492,"display_name":"Steve"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634223813,"accepted_answer_id":69565055,"answer_count":1,"score":0,"last_activity_date":1634185470,"creation_date":1634182816,"question_id":69564813,"body_markdown":"In this case, I had to import a enum inside one of the files I have already imported by using *. I&#39;m forced to import it since it cannot resolve to a variable. Any suggestion to fix this? [Packages imported for now][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yhLgQ.png","title":"Is there a way I can import all the classes without importing specific classes in this case?","body":"<p>In this case, I had to import a enum inside one of the files I have already imported by using *. I'm forced to import it since it cannot resolve to a variable. Any suggestion to fix this? <a href=\"https://i.stack.imgur.com/yhLgQ.png\" rel=\"nofollow noreferrer\">Packages imported for now</a></p>\n"},{"tags":["java","amazon-web-services","amazon-sagemaker"],"owner":{"account_id":20938198,"reputation":161,"user_id":15382918,"display_name":"Matthew Metros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634184814,"creation_date":1634184814,"question_id":69564996,"body_markdown":"I am importing the tabula library and when I call this library&#39;s methods, I receive the following error in SageMaker.\r\n\r\n    JavaNotFoundError: `java` command is not found from this Python process.Please ensure Java is installed and PATH is set for `java`\r\n\r\nHow can I install Java to SageMaker?\r\n\r\nBelow is my code:\r\n\r\n    import tabula\r\n    pdf_path = &quot;https://github.com/chezou/tabula-py/raw/master/tests/resources/data.pdf&quot;\r\n    dfs = tabula.read_pdf(pdf_path, stream=True)\r\n   \r\n\r\nOnce I enter in this code, I receive the error message that SageMaker does not have Java.\r\n\r\n\r\n\r\n","title":"Ensure Java is installed and PATH is set for `java` in Amazon SageMaker Jupyter Notebook","body":"<p>I am importing the tabula library and when I call this library's methods, I receive the following error in SageMaker.</p>\n<pre><code>JavaNotFoundError: `java` command is not found from this Python process.Please ensure Java is installed and PATH is set for `java`\n</code></pre>\n<p>How can I install Java to SageMaker?</p>\n<p>Below is my code:</p>\n<pre><code>import tabula\npdf_path = &quot;https://github.com/chezou/tabula-py/raw/master/tests/resources/data.pdf&quot;\ndfs = tabula.read_pdf(pdf_path, stream=True)\n</code></pre>\n<p>Once I enter in this code, I receive the error message that SageMaker does not have Java.</p>\n"},{"tags":["java","android","oracle","flutter","dart"],"comments":[{"owner":{"account_id":5881877,"reputation":356,"user_id":9235734,"display_name":"Nilesh PS"},"score":0,"creation_date":1602860389,"post_id":64391576,"comment_id":113862555,"body_markdown":"Checkout https://stackoverflow.com/questions/16541627/javax-net-ssl-sslexception-received-fatal-alert-protocol-version","body":"Checkout <a href=\"https://stackoverflow.com/questions/16541627/javax-net-ssl-sslexception-received-fatal-alert-protocol-version\" title=\"javax net ssl sslexception received fatal alert protocol version\">stackoverflow.com/questions/16541627/&hellip;</a>"},{"owner":{"account_id":19694325,"reputation":127,"user_id":14418509,"display_name":"Static_Subhang"},"score":0,"creation_date":1602860566,"post_id":64391576,"comment_id":113862641,"body_markdown":"I have seen that , but it did not help me. Also i am a completly new to this.","body":"I have seen that , but it did not help me. Also i am a completly new to this."}],"answers":[{"tags":[],"owner":{"account_id":19694325,"reputation":127,"user_id":14418509,"display_name":"Static_Subhang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634183880,"creation_date":1602862795,"answer_id":64392283,"question_id":64391576,"body_markdown":"This issue is resoleved.\r\n\r\nfirstly I updated my jdk from version 7 to 8 \r\nyou can also download that form here https://www.techspot.com/downloads/5198-java-jre.html\r\n\r\nthen afterwards change the JAVA_HOME path in your system environment variables .\r\n\r\nAfterwards i would suggest a cold shut-down and starting again this time Android studio will throw error saying license not accepted. \r\n\r\nOpen command prompt and run `flutter doctor`. \r\n\r\nIt will show you the exact issue and just accept all the licenses. \r\n\r\nAfter that you are good to go. ","title":"Android Studio throwing &quot;Exception in thread &quot;main&quot; javax.net.ssl.SSLException: Received fatal alert: protocol_version&quot;","body":"<p>This issue is resoleved.</p>\n<p>firstly I updated my jdk from version 7 to 8\nyou can also download that form here <a href=\"https://www.techspot.com/downloads/5198-java-jre.html\" rel=\"nofollow noreferrer\">https://www.techspot.com/downloads/5198-java-jre.html</a></p>\n<p>then afterwards change the JAVA_HOME path in your system environment variables .</p>\n<p>Afterwards i would suggest a cold shut-down and starting again this time Android studio will throw error saying license not accepted.</p>\n<p>Open command prompt and run <code>flutter doctor</code>.</p>\n<p>It will show you the exact issue and just accept all the licenses.</p>\n<p>After that you are good to go.</p>\n"}],"owner":{"account_id":19694325,"reputation":127,"user_id":14418509,"display_name":"Static_Subhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64392283,"answer_count":1,"score":3,"last_activity_date":1634183880,"creation_date":1602860170,"question_id":64391576,"body_markdown":"   I had formatted my system this morning only , after setting up all the path variables and completing all the setting still getting this error . \r\n\r\nDid not had this issue when i last formated , need help. \r\n\r\n\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLException: Received fatal alert: protocol_version\r\n\tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n\tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.recvAlert(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(Unknown Source)\r\n\tat org.gradle.wrapper.Download.downloadInternal(Download.java:58)\r\n\tat org.gradle.wrapper.Download.download(Download.java:44)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:61)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:48)\r\n\tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n\tat org.gradle.wrapper.Install.createDist(Install.java:48)\r\n\tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n\tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nException: Gradle task assembleDebug failed with exit code 1","title":"Android Studio throwing &quot;Exception in thread &quot;main&quot; javax.net.ssl.SSLException: Received fatal alert: protocol_version&quot;","body":"<p>I had formatted my system this morning only , after setting up all the path variables and completing all the setting still getting this error .</p>\n<p>Did not had this issue when i last formated , need help.</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLException: Received fatal alert: protocol_version\nat sun.security.ssl.Alerts.getSSLException(Unknown Source)\nat sun.security.ssl.Alerts.getSSLException(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.recvAlert(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(Unknown Source)\nat org.gradle.wrapper.Download.downloadInternal(Download.java:58)\nat org.gradle.wrapper.Download.download(Download.java:44)\nat org.gradle.wrapper.Install$1.call(Install.java:61)\nat org.gradle.wrapper.Install$1.call(Install.java:48)\nat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\nat org.gradle.wrapper.Install.createDist(Install.java:48)\nat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\nat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\n</code></pre>\n<p>Exception: Gradle task assembleDebug failed with exit code 1</p>\n"},{"tags":["java","int","set"],"comments":[{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":3,"creation_date":1320638343,"post_id":8032579,"comment_id":9833903,"body_markdown":"try using addAll instead of add","body":"try using addAll instead of add"}],"answers":[{"tags":[],"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1320638501,"creation_date":1320638501,"answer_id":8032598,"question_id":8032579,"body_markdown":"You don&#39;t want a Set. As you have discovered, they do not have duplicate elements, by definition. You are looking for a **Multiset** (in fact, a SortedMultiset by the looks of it), also known as a **Bag**. Java doesn&#39;t have one out of the box, but there are open source implementations available, for example, [Google&#39;s][1].\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html\r\n\r\nEDIT: Also, you want to do `setOne.addAll(setTwo)`, not one element at a time, as commented above, but that is the secondary problem.","title":"Adding elements from two Sets","body":"<p>You don't want a Set. As you have discovered, they do not have duplicate elements, by definition. You are looking for a <strong>Multiset</strong> (in fact, a SortedMultiset by the looks of it), also known as a <strong>Bag</strong>. Java doesn't have one out of the box, but there are open source implementations available, for example, <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html\" rel=\"nofollow\">Google's</a>.</p>\n\n<p>EDIT: Also, you want to do <code>setOne.addAll(setTwo)</code>, not one element at a time, as commented above, but that is the secondary problem.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1634183445,"creation_date":1320638641,"answer_id":8032613,"question_id":8032579,"body_markdown":"Use [`Set.addAll()`][1]\r\n\r\n    Set&lt;Integer&gt; one = new HashSet&lt;Integer&gt;();\r\n    Set&lt;Integer&gt; two = new HashSet&lt;Integer&gt;();\r\n    Set&lt;Integer&gt; newSet = new HashSet&lt;Integer&gt;(one);\r\n    newSet.addAll(two);\r\n\r\nAlso, you should type your constructors (as above).\r\n\r\nTo make this into a method, try this:\r\n\r\n    public static Set&lt;Integer&gt; addTwoSets(Set&lt;Integer&gt; one, Set&lt;Integer&gt; two) {\r\n        Set&lt;Integer&gt; newSet = new HashSet&lt;Integer&gt;(one);\r\n        newSet.addAll(two);\r\n        return newSet;\r\n    }\r\n\r\nLet&#39;s go nuts... here&#39;s a method that will take any number of collections of any type that extends the desired type, and merges them into one set:\r\n\r\n    public static &lt;T&gt; Set&lt;T&gt; merge(Collection&lt;? extends T&gt;... collections) {\r\n        Set&lt;T&gt; newSet = new HashSet&lt;T&gt;();\r\n        for (Collection&lt;? extends T&gt; collection : collections)\r\n            newSet.addAll(collection);\r\n        return newSet;\r\n    }\r\n\r\nOr Java 8+:\r\n\r\n    public static &lt;T&gt; Set&lt;T&gt; merge(Collection&lt;? extends T&gt;... collections) {\r\n        return Arrays.stream(collections).flatMap(Collection::stream).collect(toSet());\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Set.html#addAll%28java.util.Collection%29","title":"Adding elements from two Sets","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Set.html#addAll%28java.util.Collection%29\" rel=\"noreferrer\"><code>Set.addAll()</code></a></p>\n<pre><code>Set&lt;Integer&gt; one = new HashSet&lt;Integer&gt;();\nSet&lt;Integer&gt; two = new HashSet&lt;Integer&gt;();\nSet&lt;Integer&gt; newSet = new HashSet&lt;Integer&gt;(one);\nnewSet.addAll(two);\n</code></pre>\n<p>Also, you should type your constructors (as above).</p>\n<p>To make this into a method, try this:</p>\n<pre><code>public static Set&lt;Integer&gt; addTwoSets(Set&lt;Integer&gt; one, Set&lt;Integer&gt; two) {\n    Set&lt;Integer&gt; newSet = new HashSet&lt;Integer&gt;(one);\n    newSet.addAll(two);\n    return newSet;\n}\n</code></pre>\n<p>Let's go nuts... here's a method that will take any number of collections of any type that extends the desired type, and merges them into one set:</p>\n<pre><code>public static &lt;T&gt; Set&lt;T&gt; merge(Collection&lt;? extends T&gt;... collections) {\n    Set&lt;T&gt; newSet = new HashSet&lt;T&gt;();\n    for (Collection&lt;? extends T&gt; collection : collections)\n        newSet.addAll(collection);\n    return newSet;\n}\n</code></pre>\n<p>Or Java 8+:</p>\n<pre><code>public static &lt;T&gt; Set&lt;T&gt; merge(Collection&lt;? extends T&gt;... collections) {\n    return Arrays.stream(collections).flatMap(Collection::stream).collect(toSet());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1017785,"reputation":453,"user_id":1028942,"display_name":"Norman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320638661,"creation_date":1320638661,"answer_id":8032614,"question_id":8032579,"body_markdown":"Or alternately use a sorted ArrayList:\r\n\r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(one);\r\n    list.addAll(two);\r\n    Collections.sort(list);\r\n\r\n","title":"Adding elements from two Sets","body":"<p>Or alternately use a sorted ArrayList:</p>\n\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(one);\nlist.addAll(two);\nCollections.sort(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484267520,"creation_date":1484267520,"answer_id":41625550,"question_id":8032579,"body_markdown":"As Bohemian [mentioned][1], the best answer is using Set.addAll(). Just keep in mind that, if you don&#39;t mind overwriting one of your sets, it&#39;s more efficient (at least from the point of view of the developer&#39;s time :P) to add one set directly to another set:\r\n\r\n    one.addAll(two);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8032613/5136131","title":"Adding elements from two Sets","body":"<p>As Bohemian <a href=\"https://stackoverflow.com/a/8032613/5136131\">mentioned</a>, the best answer is using Set.addAll(). Just keep in mind that, if you don't mind overwriting one of your sets, it's more efficient (at least from the point of view of the developer's time :P) to add one set directly to another set:</p>\n\n<pre><code>one.addAll(two);\n</code></pre>\n"}],"owner":{"account_id":947936,"reputation":377,"user_id":974776,"accept_rate":92,"display_name":"Macosx Iam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41047,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":8032613,"answer_count":4,"score":17,"last_activity_date":1634183445,"creation_date":1320638290,"question_id":8032579,"body_markdown":"How can I add elements from two sets?\r\n\r\n    If there&#39;s a set one (1, 3, 6, 8)\r\n    And a set two (2, 4, 6, 8)\r\n \r\nHow do I the elements from those two together?\r\n\r\n    Output should be (1, 2, 3, 4, 6, 8)\r\n \r\nHere&#39;s what I tried:\r\n  \r\n    Set&lt;Integer&gt; one = new HashSet();\r\n    one.add(1);\r\n    one.add(3);\r\n    // and so on\r\n    Set&lt;Integer&gt; two = new HashSet();\r\n    two.add(2);\r\n    two.add(4);\r\n    // and so on\r\n    Set&lt;Integer&gt; newSet = new HashSet();\r\n    newSet.add(one);\r\n    newSet.add(two);\r\n  \r\n    return newSet;\r\n\r\nAnd this doesn&#39;t work, as the add method works only for a single integer, not a collection of integer. Is there a method where I can add two sets together?\r\n\r\nI also have to return the set. How do I do that?","title":"Adding elements from two Sets","body":"<p>How can I add elements from two sets?</p>\n\n<pre><code>If there's a set one (1, 3, 6, 8)\nAnd a set two (2, 4, 6, 8)\n</code></pre>\n\n<p>How do I the elements from those two together?</p>\n\n<pre><code>Output should be (1, 2, 3, 4, 6, 8)\n</code></pre>\n\n<p>Here's what I tried:</p>\n\n<pre><code>Set&lt;Integer&gt; one = new HashSet();\none.add(1);\none.add(3);\n// and so on\nSet&lt;Integer&gt; two = new HashSet();\ntwo.add(2);\ntwo.add(4);\n// and so on\nSet&lt;Integer&gt; newSet = new HashSet();\nnewSet.add(one);\nnewSet.add(two);\n\nreturn newSet;\n</code></pre>\n\n<p>And this doesn't work, as the add method works only for a single integer, not a collection of integer. Is there a method where I can add two sets together?</p>\n\n<p>I also have to return the set. How do I do that?</p>\n"},{"tags":["java","android","kotlin","mvvm","viewmodel"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634180375,"creation_date":1634179062,"answer_id":69564461,"question_id":69564364,"body_markdown":"Your `OnClickListener` needs to be set outside of the `observer`.\r\nAt least from what I can tell you don&#39;t need to `observe` `userName` as the `queryBtn` is used to activate a `response`, and **NOT** the fact that `userName` was changed.\r\n\r\nBut you do want to `observe` the `response` as it is changed in the `ViewModel`, and needs to be displayed in `textResponse`.\r\n\r\nThe code below is **NOT** checked for correctness I just copied what you had and removed the unnecessary bits.\r\n\r\n\r\n\r\n    \r\n\r\n        findViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener {\r\n              myViewModel.userName.value = findViewById&lt;EditText&gt;(R.id.nameText).getText().toString()\r\n              myViewModel.refreshData()\r\n        }\r\n        myViewModel.response.observe(this) {\r\n              findViewById&lt;TextView&gt;(R.id.textResponse).text = it\r\n        }","title":"How to use setOnClickLisenter in Android viewModels?","body":"<p>Your <code>OnClickListener</code> needs to be set outside of the <code>observer</code>.\nAt least from what I can tell you don't need to <code>observe</code> <code>userName</code> as the <code>queryBtn</code> is used to activate a <code>response</code>, and <strong>NOT</strong> the fact that <code>userName</code> was changed.</p>\n<p>But you do want to <code>observe</code> the <code>response</code> as it is changed in the <code>ViewModel</code>, and needs to be displayed in <code>textResponse</code>.</p>\n<p>The code below is <strong>NOT</strong> checked for correctness I just copied what you had and removed the unnecessary bits.</p>\n<pre><code>    findViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener {\n          myViewModel.userName.value = findViewById&lt;EditText&gt;(R.id.nameText).getText().toString()\n          myViewModel.refreshData()\n    }\n    myViewModel.response.observe(this) {\n          findViewById&lt;TextView&gt;(R.id.textResponse).text = it\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634183347,"creation_date":1634183347,"answer_id":69564868,"question_id":69564364,"body_markdown":"\r\nMove this outside observer block\r\n```\r\nfindViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener { \r\n              myViewModel.userName.value = findViewById&lt;EditText&gt;(R.id.nameText).getText().toString()\r\n}\r\n```\r\nInside observer block, when user String is updated, call refresh data\r\n```\r\nmyViewModel.userName.observe(this) {\r\n      myViewModel.refreshData()\r\n  }\r\n```\r\nRemove `onClickListener` from `response` observer block.","title":"How to use setOnClickLisenter in Android viewModels?","body":"<p>Move this outside observer block</p>\n<pre><code>findViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener { \n              myViewModel.userName.value = findViewById&lt;EditText&gt;(R.id.nameText).getText().toString()\n}\n</code></pre>\n<p>Inside observer block, when user String is updated, call refresh data</p>\n<pre><code>myViewModel.userName.observe(this) {\n      myViewModel.refreshData()\n  }\n</code></pre>\n<p>Remove <code>onClickListener</code> from <code>response</code> observer block.</p>\n"}],"owner":{"account_id":22979566,"reputation":1,"user_id":17106711,"display_name":"yeong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634183347,"creation_date":1634178092,"question_id":69564364,"body_markdown":"**RestActivity**\r\n\r\n```\r\npackage com.example.internet_ex\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.Button\r\nimport android.widget.TextView\r\nimport androidx.lifecycle.*\r\nimport kotlinx.coroutines.launch\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.moshi.MoshiConverterFactory\r\nimport retrofit2.http.GET\r\nimport retrofit2.http.Path\r\nimport java.lang.StringBuilder\r\n\r\ndata class Owner(val login: String)\r\ndata class Repo(val name: String, val owner: Owner, val url: String)\r\ndata class Contributor(val login: String, val contributions: Int)\r\n\r\ninterface RestApi {\r\n    @GET(&quot;users/{user}/repos&quot;)\r\n    suspend fun listRepos(@Path(&quot;user&quot;) user: String): List&lt;Repo&gt;\r\n\r\n    @GET(&quot;/repos/{owner}/{repo}/contributors&quot;)\r\n    suspend fun contributors(\r\n        @Path(&quot;owner&quot;) owner: String,\r\n        @Path(&quot;repo&quot;) repo: String\r\n    ): List&lt;Contributor&gt;\r\n}\r\n\r\nclass MyViewModel : ViewModel() {\r\n    private val baseURL = &quot;https://api.github.com/&quot;\r\n    private lateinit var api: RestApi\r\n    val userName = MutableLiveData&lt;String&gt;()\r\n\r\n    val response = MutableLiveData&lt;String&gt;()\r\n\r\n\r\n    init {\r\n        retrofitInit()\r\n        refreshData()\r\n    }\r\n\r\n    fun refreshData() {\r\n        viewModelScope.launch {\r\n            try {\r\n                val repos = api.listRepos(userName.toString())\r\n                response.value = StringBuilder().apply {\r\n                    repos.forEach {\r\n                        append(it.name)\r\n                        append(&quot; - &quot;)\r\n                        append(it.owner.login)\r\n                        append(&quot;\\n&quot;)\r\n                    }\r\n                }.toString()\r\n            } catch (e: Exception) {\r\n                response.value = &quot;Failed to connect to the server&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun retrofitInit() {\r\n        val retrofit = Retrofit.Builder()\r\n            .baseUrl(baseURL)\r\n            .addConverterFactory(MoshiConverterFactory.create())\r\n\r\n            .build()\r\n\r\n        api = retrofit.create(RestApi::class.java)\r\n    }\r\n}\r\n\r\n\r\nclass RestActivity : AppCompatActivity() {\r\n    private lateinit var myViewModel: MyViewModel\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_rest)\r\n\r\n        myViewModel = ViewModelProvider(this).get(MyViewModel::class.java)\r\n//        problem\r\n        myViewModel.userName.observe(this) {\r\n            findViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener {\r\n                myViewModel.userName.value = findViewById&lt;Button&gt;(R.id.nameText).toString()\r\n                myViewModel.refreshData()\r\n            }\r\n        }\r\n        myViewModel.response.observe(this) {\r\n            findViewById&lt;TextView&gt;(R.id.textResponse).text = it\r\n            findViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener {\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n**activity_rest**\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.RestActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textResponse&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/queryBtn&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/queryBtn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Query&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/nameText&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/nameText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n**activity_rest.xml**\r\n~~~\r\nI made a place where I commented that it was a problem because I wanted to change the ``userName`` in the ``ViewModel`` when I pressed ``queryBtn``, but it didn&#39;t work. I want to change the ``LiveData (userName)`` in the ViewModel using the ``setOnClickLisenter`` command, but I can&#39;t figure it out. And I would appreciate it if you could let me know what to study additionally.","title":"How to use setOnClickLisenter in Android viewModels?","body":"<p><strong>RestActivity</strong></p>\n<pre><code>package com.example.internet_ex\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.TextView\nimport androidx.lifecycle.*\nimport kotlinx.coroutines.launch\nimport retrofit2.Retrofit\nimport retrofit2.converter.moshi.MoshiConverterFactory\nimport retrofit2.http.GET\nimport retrofit2.http.Path\nimport java.lang.StringBuilder\n\ndata class Owner(val login: String)\ndata class Repo(val name: String, val owner: Owner, val url: String)\ndata class Contributor(val login: String, val contributions: Int)\n\ninterface RestApi {\n    @GET(&quot;users/{user}/repos&quot;)\n    suspend fun listRepos(@Path(&quot;user&quot;) user: String): List&lt;Repo&gt;\n\n    @GET(&quot;/repos/{owner}/{repo}/contributors&quot;)\n    suspend fun contributors(\n        @Path(&quot;owner&quot;) owner: String,\n        @Path(&quot;repo&quot;) repo: String\n    ): List&lt;Contributor&gt;\n}\n\nclass MyViewModel : ViewModel() {\n    private val baseURL = &quot;https://api.github.com/&quot;\n    private lateinit var api: RestApi\n    val userName = MutableLiveData&lt;String&gt;()\n\n    val response = MutableLiveData&lt;String&gt;()\n\n\n    init {\n        retrofitInit()\n        refreshData()\n    }\n\n    fun refreshData() {\n        viewModelScope.launch {\n            try {\n                val repos = api.listRepos(userName.toString())\n                response.value = StringBuilder().apply {\n                    repos.forEach {\n                        append(it.name)\n                        append(&quot; - &quot;)\n                        append(it.owner.login)\n                        append(&quot;\\n&quot;)\n                    }\n                }.toString()\n            } catch (e: Exception) {\n                response.value = &quot;Failed to connect to the server&quot;\n            }\n        }\n    }\n\n    private fun retrofitInit() {\n        val retrofit = Retrofit.Builder()\n            .baseUrl(baseURL)\n            .addConverterFactory(MoshiConverterFactory.create())\n\n            .build()\n\n        api = retrofit.create(RestApi::class.java)\n    }\n}\n\n\nclass RestActivity : AppCompatActivity() {\n    private lateinit var myViewModel: MyViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_rest)\n\n        myViewModel = ViewModelProvider(this).get(MyViewModel::class.java)\n//        problem\n        myViewModel.userName.observe(this) {\n            findViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener {\n                myViewModel.userName.value = findViewById&lt;Button&gt;(R.id.nameText).toString()\n                myViewModel.refreshData()\n            }\n        }\n        myViewModel.response.observe(this) {\n            findViewById&lt;TextView&gt;(R.id.textResponse).text = it\n            findViewById&lt;Button&gt;(R.id.queryBtn).setOnClickListener {\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>activity_rest</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.RestActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textResponse&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/queryBtn&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/queryBtn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Query&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/nameText&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/nameText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n**activity_rest.xml**\n</code></pre>\n<p>I made a place where I commented that it was a problem because I wanted to change the <code>userName</code> in the <code>ViewModel</code> when I pressed <code>queryBtn</code>, but it didn't work. I want to change the <code>LiveData (userName)</code> in the ViewModel using the <code>setOnClickLisenter</code> command, but I can't figure it out. And I would appreciate it if you could let me know what to study additionally.</p>\n"},{"tags":["java","web-services","ejb","weblogic12c","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":923053,"reputation":3941,"user_id":954358,"accept_rate":47,"display_name":"Ahsan Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634183295,"creation_date":1634183295,"answer_id":69564858,"question_id":69550540,"body_markdown":"I am able to resolve the issue by placing the `webservices.xml` with below contents into `META-INF` folder (next to weblogic-webservices.xml).\r\n\r\n    &lt;webservices xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/javaee_web_services_1_4.xsd&quot;\r\n    \tversion=&quot;1.4&quot;&gt;\r\n    \t&lt;display-name&gt;MyService&lt;/display-name&gt;\r\n    \t&lt;webservice-description&gt;\r\n    \t\t&lt;webservice-description-name&gt;MyService&lt;/webservice-description-name&gt;\r\n    \t\t&lt;port-component&gt;\r\n    \t\t\t&lt;port-component-name&gt;MyServicePort&lt;/port-component-name&gt;\r\n    \t\t\t&lt;wsdl-port xmlns:tns=&quot;http://schemas.mycompany.com/webservices/MyService&quot;&gt;tns:MyServicePort&lt;/wsdl-port&gt;\r\n    \t\t\t&lt;service-endpoint-interface&gt;mypackage.MyServiceBean&lt;/service-endpoint-interface&gt;\r\n    \t\t\t&lt;service-impl-bean&gt;\r\n    \t\t\t\t&lt;ejb-link&gt;MyServiceEJB&lt;/ejb-link&gt;\r\n    \t\t\t&lt;/service-impl-bean&gt;\r\n    \t\t&lt;/port-component&gt;\r\n    \t&lt;/webservice-description&gt;\r\n    &lt;/webservices&gt;\r\n\r\nHope it may help someone facing the same challenge. \r\n","title":"Weblogic 14c - webservice-description-name is not unique within weblogic-webservices","body":"<p>I am able to resolve the issue by placing the <code>webservices.xml</code> with below contents into <code>META-INF</code> folder (next to weblogic-webservices.xml).</p>\n<pre><code>&lt;webservices xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/javaee_web_services_1_4.xsd&quot;\n    version=&quot;1.4&quot;&gt;\n    &lt;display-name&gt;MyService&lt;/display-name&gt;\n    &lt;webservice-description&gt;\n        &lt;webservice-description-name&gt;MyService&lt;/webservice-description-name&gt;\n        &lt;port-component&gt;\n            &lt;port-component-name&gt;MyServicePort&lt;/port-component-name&gt;\n            &lt;wsdl-port xmlns:tns=&quot;http://schemas.mycompany.com/webservices/MyService&quot;&gt;tns:MyServicePort&lt;/wsdl-port&gt;\n            &lt;service-endpoint-interface&gt;mypackage.MyServiceBean&lt;/service-endpoint-interface&gt;\n            &lt;service-impl-bean&gt;\n                &lt;ejb-link&gt;MyServiceEJB&lt;/ejb-link&gt;\n            &lt;/service-impl-bean&gt;\n        &lt;/port-component&gt;\n    &lt;/webservice-description&gt;\n&lt;/webservices&gt;\n</code></pre>\n<p>Hope it may help someone facing the same challenge.</p>\n"}],"owner":{"account_id":923053,"reputation":3941,"user_id":954358,"accept_rate":47,"display_name":"Ahsan Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69564858,"answer_count":1,"score":0,"last_activity_date":1634183295,"creation_date":1634105513,"question_id":69550540,"body_markdown":"I am exposing my stateless ejb as web service using the annotations as follows:\r\n\r\n```\r\n@WebService(\r\n\tname = &quot;MyServicePort&quot;,\r\n\tportName = &quot;MyServicePort&quot;,\r\n\tserviceName = &quot;MyService&quot;,\r\n)\r\n@SOAPBinding(\r\n\tstyle = SOAPBinding.Style.RPC\r\n)\r\n@Stateless(mappedName=&quot;MyServiceEJB&quot;, name = &quot;MyServiceEJB&quot;)\r\npublic class MyServiceBean {\r\n```\r\n\r\nTo define the context root in weblogic, I&#39;ve defined the web service in weblogic-webservices.xml deployment descriptor as follows:\r\n\r\n```\r\n&lt;weblogic-webservices\r\n\txmlns=&quot;http://xmlns.oracle.com/weblogic/weblogic-webservices&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-webservices http://xmlns.oracle.com/weblogic/weblogic-webservices/1.1/weblogic-webservices.xsd&quot;&gt;\r\n\t&lt;webservice-description&gt;\r\n\t\t&lt;webservice-description-name&gt;MyService&lt;/webservice-description-name&gt;\r\n\t\t&lt;port-component&gt;\r\n\t\t\t&lt;port-component-name&gt;MyServicePort&lt;/port-component-name&gt;\r\n\t\t\t&lt;service-endpoint-address&gt;\r\n\t\t\t\t&lt;webservice-contextpath&gt;/mycontext&lt;/webservice-contextpath&gt;\r\n\t\t\t\t&lt;webservice-serviceuri&gt;/myservice&lt;/webservice-serviceuri&gt;\r\n\t\t\t&lt;/service-endpoint-address&gt;\r\n\t\t&lt;/port-component&gt;\r\n\t&lt;/webservice-description&gt;\r\n&lt;/weblogic-webservices&gt;\r\n```\r\n\r\nHowever, weblogic is throwing the below error while deploying:\r\n\r\n    [ERROR] weblogic.wsee.ws.WsException: Error encountered while deploying WebService module &#39;myservice-ejb.jar&#39;.\r\n    In weblogic-webservices.xml, webservice-description-name MyService is not unique within weblogic-webservices\r\n\r\nAny clue what I am doing wrong here? This is the only bean/service in my web application and there is no other application deployed in weblogic (local instance). ","title":"Weblogic 14c - webservice-description-name is not unique within weblogic-webservices","body":"<p>I am exposing my stateless ejb as web service using the annotations as follows:</p>\n<pre><code>@WebService(\n    name = &quot;MyServicePort&quot;,\n    portName = &quot;MyServicePort&quot;,\n    serviceName = &quot;MyService&quot;,\n)\n@SOAPBinding(\n    style = SOAPBinding.Style.RPC\n)\n@Stateless(mappedName=&quot;MyServiceEJB&quot;, name = &quot;MyServiceEJB&quot;)\npublic class MyServiceBean {\n</code></pre>\n<p>To define the context root in weblogic, I've defined the web service in weblogic-webservices.xml deployment descriptor as follows:</p>\n<pre><code>&lt;weblogic-webservices\n    xmlns=&quot;http://xmlns.oracle.com/weblogic/weblogic-webservices&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-webservices http://xmlns.oracle.com/weblogic/weblogic-webservices/1.1/weblogic-webservices.xsd&quot;&gt;\n    &lt;webservice-description&gt;\n        &lt;webservice-description-name&gt;MyService&lt;/webservice-description-name&gt;\n        &lt;port-component&gt;\n            &lt;port-component-name&gt;MyServicePort&lt;/port-component-name&gt;\n            &lt;service-endpoint-address&gt;\n                &lt;webservice-contextpath&gt;/mycontext&lt;/webservice-contextpath&gt;\n                &lt;webservice-serviceuri&gt;/myservice&lt;/webservice-serviceuri&gt;\n            &lt;/service-endpoint-address&gt;\n        &lt;/port-component&gt;\n    &lt;/webservice-description&gt;\n&lt;/weblogic-webservices&gt;\n</code></pre>\n<p>However, weblogic is throwing the below error while deploying:</p>\n<pre><code>[ERROR] weblogic.wsee.ws.WsException: Error encountered while deploying WebService module 'myservice-ejb.jar'.\nIn weblogic-webservices.xml, webservice-description-name MyService is not unique within weblogic-webservices\n</code></pre>\n<p>Any clue what I am doing wrong here? This is the only bean/service in my web application and there is no other application deployed in weblogic (local instance).</p>\n"},{"tags":["java","spring","exception","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":12210699,"reputation":694,"user_id":8912565,"display_name":"Ravik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634182677,"creation_date":1634182677,"answer_id":69564801,"question_id":69563782,"body_markdown":"In an ideal scenario exception should be thrown immediately when it is known in your case as you mentioned service method will throw `UnknownUserException` that the right thing to do.  Your Controller Advice should be able to handle that exception. `ContollerAdvice` will handle any matching exception that is thrown during execution of the request irrespective of the origin of exception. \n\nRefer to [this][1] link for other options on handling exception\n\n\n  [1]: https://www.baeldung.com/exception-handling-for-rest-with-spring","title":"Java Spring ExceptionHandler Controller syntax and good practices","body":"<p>In an ideal scenario exception should be thrown immediately when it is known in your case as you mentioned service method will throw <code>UnknownUserException</code> that the right thing to do.  Your Controller Advice should be able to handle that exception. <code>ContollerAdvice</code> will handle any matching exception that is thrown during execution of the request irrespective of the origin of exception.</p>\n<p>Refer to <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">this</a> link for other options on handling exception</p>\n"}],"owner":{"account_id":22732523,"reputation":59,"user_id":16895178,"display_name":"FloranePlo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69564801,"answer_count":1,"score":0,"last_activity_date":1634182677,"creation_date":1634171432,"question_id":69563782,"body_markdown":"I would like to handle my exceptions correctly in Spring, so I have a question about exceptionHandler syntax : Is it ok to throw specific exceptions in the controller, if they are caught by the exception handler ? \r\n \r\nMore specifically : \r\n\r\nHere is the Exception :\r\n\r\n```\r\npublic class UnknownUserException extends Exception {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic UnknownUserException(String message) {\r\n\t\tsuper(message);\r\n\t}\r\n}\r\n```\r\n\r\nHere is the ExceptionHandler with the specific method for UnknownUserException :\r\n\r\n```\r\n@ControllerAdvice\r\n@ResponseBody\r\npublic class ControllerExceptionHandler {\r\n\r\n\t@ExceptionHandler(UnknownUserException.class)\r\n\t@ResponseStatus(value = HttpStatus.NOT_FOUND)\r\n\tpublic ErrorMessage unknownUserExceptionMessage(UnknownUserException ex, WebRequest request) {\r\n\t   ErrorMessage message = new ErrorMessage(&quot;The user doesn&#39;t exist: &quot; +ex.getLocalizedMessage(), ex);\r\n\t   return message;\r\n\t  }\r\n}\r\n\r\n```\r\nHere is one example of a mapping that may raise that exception :\r\n```\r\n@GetMapping({&quot;/user/{id}&quot;})\r\n\tpublic ResponseEntity&lt;UserProfileDto&gt; getById(@PathVariable Long id) throws UnknownUserException {\r\n\t\t\tUserProfileDto user = userService.findById(id);\r\n\t\t\treturn ResponseEntity.ok(user);\r\n\t}\r\n```\r\nThe userService.findById(id) may throw the UnknownUserException.\r\n\r\nFrom what I understood, the controllerAdvice &quot;overrides&quot; the controller in case of that specific exception thrown by a service, but then, what should I do with my controller ? should I throw the exception again (like above) or catch the specific exception and return a ResponseEntity(HttpStatus.NOT_FOUND) ? ","title":"Java Spring ExceptionHandler Controller syntax and good practices","body":"<p>I would like to handle my exceptions correctly in Spring, so I have a question about exceptionHandler syntax : Is it ok to throw specific exceptions in the controller, if they are caught by the exception handler ?</p>\n<p>More specifically :</p>\n<p>Here is the Exception :</p>\n<pre><code>public class UnknownUserException extends Exception {\n\n    private static final long serialVersionUID = 1L;\n\n    public UnknownUserException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>Here is the ExceptionHandler with the specific method for UnknownUserException :</p>\n<pre><code>@ControllerAdvice\n@ResponseBody\npublic class ControllerExceptionHandler {\n\n    @ExceptionHandler(UnknownUserException.class)\n    @ResponseStatus(value = HttpStatus.NOT_FOUND)\n    public ErrorMessage unknownUserExceptionMessage(UnknownUserException ex, WebRequest request) {\n       ErrorMessage message = new ErrorMessage(&quot;The user doesn't exist: &quot; +ex.getLocalizedMessage(), ex);\n       return message;\n      }\n}\n\n</code></pre>\n<p>Here is one example of a mapping that may raise that exception :</p>\n<pre><code>@GetMapping({&quot;/user/{id}&quot;})\n    public ResponseEntity&lt;UserProfileDto&gt; getById(@PathVariable Long id) throws UnknownUserException {\n            UserProfileDto user = userService.findById(id);\n            return ResponseEntity.ok(user);\n    }\n</code></pre>\n<p>The userService.findById(id) may throw the UnknownUserException.</p>\n<p>From what I understood, the controllerAdvice &quot;overrides&quot; the controller in case of that specific exception thrown by a service, but then, what should I do with my controller ? should I throw the exception again (like above) or catch the specific exception and return a ResponseEntity(HttpStatus.NOT_FOUND) ?</p>\n"},{"tags":["java","spring","tomcat","keystore","keytool"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1445813600,"post_id":33335979,"comment_id":54468735,"body_markdown":"You&#39;re not declaring `keyStoreType=PKCS12` in `server.xml`, it seems (the default is `JKS`).","body":"You&#39;re not declaring <code>keyStoreType=PKCS12</code> in <code>server.xml</code>, it seems (the default is <code>JKS</code>)."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1445814820,"post_id":33335979,"comment_id":54469005,"body_markdown":"I added keyStoreType=&quot;PKCS12&quot; into server.xml but i got the same errors.","body":"I added keyStoreType=&quot;PKCS12&quot; into server.xml but i got the same errors."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1445817153,"post_id":33335979,"comment_id":54469585,"body_markdown":"Are you sure that the path in `keystoreFile` can be accessed?","body":"Are you sure that the path in <code>keystoreFile</code> can be accessed?"},{"owner":{"account_id":1518645,"reputation":381,"user_id":1418999,"display_name":"krevelen"},"score":0,"creation_date":1521015405,"post_id":33335979,"comment_id":85547936,"body_markdown":"As commented [here](https://stackoverflow.com/a/26071504) there could be a &#39;filtering&#39; problem when the keystore is treated as text rather than binary. Set resource&#39;s `&lt;filtering&gt;false&lt;/filtering&gt;` in your `maven-resources-plugin` (see e.g. [here](https://stackoverflow.com/a/19502504)), or use `&lt;files&gt;` rather than `&lt;configfiles&gt;` in your `maven-cargo-plugin` (see https://codehaus-cargo.github.io/cargo/Configuration+files+option.html)","body":"As commented <a href=\"https://stackoverflow.com/a/26071504\">here</a> there could be a &#39;filtering&#39; problem when the keystore is treated as text rather than binary. Set resource&#39;s <code>&lt;filtering&gt;false&lt;&#47;filtering&gt;</code> in your <code>maven-resources-plugin</code> (see e.g. <a href=\"https://stackoverflow.com/a/19502504\">here</a>), or use <code>&lt;files&gt;</code> rather than <code>&lt;configfiles&gt;</code> in your <code>maven-cargo-plugin</code> (see <a href=\"https://codehaus-cargo.github.io/cargo/Configuration+files+option.html\" rel=\"nofollow noreferrer\">codehaus-cargo.github.io/cargo/Configuration+files+option.ht&zwnj;&#8203;ml</a>)"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634181870,"creation_date":1445853242,"answer_id":33342783,"question_id":33335979,"body_markdown":"You need to specify `keyStoreType`, as the format is PKCS12, not JKS.","title":"Tomcat 8: Invalid keystore format","body":"<p>You need to specify <code>keyStoreType</code>, as the format is PKCS12, not JKS.</p>\n"},{"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455411321,"creation_date":1445856709,"answer_id":33343902,"question_id":33335979,"body_markdown":"To elaborate on EJP&#39;s answer and detail to Mick Mnemonic that this is not entirely correct.\r\n\r\nOP did not set that in the server.xml rather the application.properties\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n            maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n            keystoreFile=&quot;/PATHTO/src/main/resources/keystore.p12&quot;\r\n            keystorePass=&quot;STOREPASS&quot; clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;\r\n            keystoreType=&quot;PKCS12&quot; /&gt;\r\n\r\nYou will note that on the last line of the &quot;Connector&quot; element I have added keystoreType=&quot;PKCS12&quot; to allow the connector to correctly load the file.\r\n\r\nYour stack trace is a dead give away on this one.\r\n","title":"Tomcat 8: Invalid keystore format","body":"<p>To elaborate on EJP's answer and detail to Mick Mnemonic that this is not entirely correct.</p>\n\n<p>OP did not set that in the server.xml rather the application.properties</p>\n\n<pre><code>&lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n        maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\n        keystoreFile=\"/PATHTO/src/main/resources/keystore.p12\"\n        keystorePass=\"STOREPASS\" clientAuth=\"false\" sslProtocol=\"TLS\"\n        keystoreType=\"PKCS12\" /&gt;\n</code></pre>\n\n<p>You will note that on the last line of the \"Connector\" element I have added keystoreType=\"PKCS12\" to allow the connector to correctly load the file.</p>\n\n<p>Your stack trace is a dead give away on this one.</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634181870,"creation_date":1445813277,"question_id":33335979,"body_markdown":"I try to configure SSL into my new project. I do it for the first time and i got some problems. \r\n\r\nSome items to the projects: \r\n\r\n\r\nA part of my server.xml:\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n    \t\t\tmaxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n    \t\t\tkeystoreFile=&quot;/PATHTO/src/main/resources/keystore.p12&quot;\r\n    \t\t\tkeystorePass=&quot;STOREPASS&quot; clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\r\n\r\n\r\nA part of my application.properties:\r\n\r\n    spring.profiles.active=https\r\n    server.port=8443\r\n    server.ssl.key-store=classpath:keystore.p12\r\n    server.ssl.key-store-password=STOREPASS\r\n    server.ssl.keyStoreType=PKCS12\r\n    server.ssl.keyAlias=tomcat\r\n\r\n\r\nThe command that i use to generate the keystore:\r\n\r\n    keytool -genkey -alias tomcat -storetype PKCS12 -keyalg RSA -keysize 2048 -keystore keystore.p12 -validity 3650\r\n\r\nAnd the keystore.p12 is in the same folder like the application.properties.\r\n\r\n\r\nThe error of the console:\r\n\r\n\r\n    java.io.IOException: Invalid keystore format\r\n    \tat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:650)\r\n    \tat sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:55)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n    \tat org.apache.tomcat.util.net.jsse.JSSESocketFactory.getStore(JSSESocketFactory.java:437)\r\n    \tat org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeystore(JSSESocketFactory.java:336)\r\n    \tat org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:594)\r\n    \tat org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:534)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:363)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:732)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:457)\r\n    \tat org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:120)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:960)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:567)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:851)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:576)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:599)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:310)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:484)\r\n\r\nHas someone any ideas?\r\n\r\nThanks.\r\nCheers.","title":"Tomcat 8: Invalid keystore format","body":"<p>I try to configure SSL into my new project. I do it for the first time and i got some problems. </p>\n\n<p>Some items to the projects: </p>\n\n<p>A part of my server.xml:</p>\n\n<pre><code>&lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n            maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\n            keystoreFile=\"/PATHTO/src/main/resources/keystore.p12\"\n            keystorePass=\"STOREPASS\" clientAuth=\"false\" sslProtocol=\"TLS\" /&gt;\n</code></pre>\n\n<p>A part of my application.properties:</p>\n\n<pre><code>spring.profiles.active=https\nserver.port=8443\nserver.ssl.key-store=classpath:keystore.p12\nserver.ssl.key-store-password=STOREPASS\nserver.ssl.keyStoreType=PKCS12\nserver.ssl.keyAlias=tomcat\n</code></pre>\n\n<p>The command that i use to generate the keystore:</p>\n\n<pre><code>keytool -genkey -alias tomcat -storetype PKCS12 -keyalg RSA -keysize 2048 -keystore keystore.p12 -validity 3650\n</code></pre>\n\n<p>And the keystore.p12 is in the same folder like the application.properties.</p>\n\n<p>The error of the console:</p>\n\n<pre><code>java.io.IOException: Invalid keystore format\n    at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:650)\n    at sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:55)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getStore(JSSESocketFactory.java:437)\n    at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeystore(JSSESocketFactory.java:336)\n    at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:594)\n    at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKeyManagers(JSSESocketFactory.java:534)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:363)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:732)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:457)\n    at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:120)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:960)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:567)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:851)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:576)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:599)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:310)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:484)\n</code></pre>\n\n<p>Has someone any ideas?</p>\n\n<p>Thanks.\nCheers.</p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634181713,"creation_date":1634181713,"answer_id":69564704,"question_id":69543942,"body_markdown":"&gt; When is the Default SSL Context created? Does this happen only while calling setDefault(SSLContext context)? \r\n\r\nNo. If you use `setDefault` (which IME is pretty rare) you need to distinguish two &#39;levels&#39; of default:\r\n\r\n* the object returned by `.getDefault` -- this could be called the &#39;current default&#39;. It _can_ be set by `.setDefault` in which case you control the object set and its creation, or it _can_ be created automatically, see next.\r\n\r\n* the object created automatically and internally when `.getDefault` is called WITHOUT previously setting a value. This could be called the &#39;created default&#39;, or maybe the &#39;default default&#39; (!) Once created this object is set as the default, so a _second_ call to `.getDefault` goes back under the first bullet.\r\n\r\nMost programs don&#39;t use `.setDefault` so if they use `.getDefault` at all (which they might not) then the first call goes to the second bullet and subsequent calls to the first. \r\n\r\nNote `.getDefault` is called implicitly by many libraries, platforms, and middleware, so you can&#39;t assume that just because you don&#39;t write such a call it doesn&#39;t happen (and maybe invoke the second bullet).\r\n\r\n&gt; What about the case where we pass -Djavax.net.ssl.keyStore=mykeystore.jks? Is the default ssl context created based on this keystore? \r\n\r\nIn the second bullet -- when you _don&#39;t_ set a default and the default is automatically created, yes. More exactly, that &#39;created default&#39; uses sysprops javax.net.ssl.keyStore* and ...trustStore* if set; if not it defaults the truststore to the file JRE/lib/security/cacerts (or jssecacerts if it exists, which is rare) and the keystore to none/empty. \r\n\r\nIf you set the default explicitly, you control what goes in it; you _may_ use those sysprops if you choose to.\r\n\r\n&gt; Does Tomcat set the default ssl context based on what is configured in keystoreFile=&quot;/keystore/tomcatkeystore.jks?\r\n\r\nNo. It sets _a_ context (there may be more than one) used to handle incoming HTTPS connections, but that is (or those are) not the _default_ context.\r\n\r\n&gt; When we try to consume any https endpoint is the Default Context the one that is used?\r\n\r\nMaybe. There are thousands of ways to &#39;consume ... https&#39; and they can all be different. Some of them may always use the default context; many will sometimes use the default and sometimes not; some might never use the default. Without a much more specific question it is impossible to say.\r\n\r\n&gt; When dealing with secure connections that require different set of keystores/configuration can we create new SSL Contexts without affecting what is already configured for the default ssl Context?\r\n\r\nAbsolutely, and that is exactly what you should do. Note that some connection methods use the `SSLContext` directly, while some (mostly to be more compatible with non-SSL/TLS connections) use an `[SSL]SocketFactory` or `[SSL]ServerSocketFactory` created from and linked to the `SSLContext`. These accomplish the same result, but your code is slightly different.\r\n","title":"What is a default SSL Context and how many SSL Contexts can be configured?","body":"<blockquote>\n<p>When is the Default SSL Context created? Does this happen only while calling setDefault(SSLContext context)?</p>\n</blockquote>\n<p>No. If you use <code>setDefault</code> (which IME is pretty rare) you need to distinguish two 'levels' of default:</p>\n<ul>\n<li><p>the object returned by <code>.getDefault</code> -- this could be called the 'current default'. It <em>can</em> be set by <code>.setDefault</code> in which case you control the object set and its creation, or it <em>can</em> be created automatically, see next.</p>\n</li>\n<li><p>the object created automatically and internally when <code>.getDefault</code> is called WITHOUT previously setting a value. This could be called the 'created default', or maybe the 'default default' (!) Once created this object is set as the default, so a <em>second</em> call to <code>.getDefault</code> goes back under the first bullet.</p>\n</li>\n</ul>\n<p>Most programs don't use <code>.setDefault</code> so if they use <code>.getDefault</code> at all (which they might not) then the first call goes to the second bullet and subsequent calls to the first.</p>\n<p>Note <code>.getDefault</code> is called implicitly by many libraries, platforms, and middleware, so you can't assume that just because you don't write such a call it doesn't happen (and maybe invoke the second bullet).</p>\n<blockquote>\n<p>What about the case where we pass -Djavax.net.ssl.keyStore=mykeystore.jks? Is the default ssl context created based on this keystore?</p>\n</blockquote>\n<p>In the second bullet -- when you <em>don't</em> set a default and the default is automatically created, yes. More exactly, that 'created default' uses sysprops javax.net.ssl.keyStore* and ...trustStore* if set; if not it defaults the truststore to the file JRE/lib/security/cacerts (or jssecacerts if it exists, which is rare) and the keystore to none/empty.</p>\n<p>If you set the default explicitly, you control what goes in it; you <em>may</em> use those sysprops if you choose to.</p>\n<blockquote>\n<p>Does Tomcat set the default ssl context based on what is configured in keystoreFile=&quot;/keystore/tomcatkeystore.jks?</p>\n</blockquote>\n<p>No. It sets <em>a</em> context (there may be more than one) used to handle incoming HTTPS connections, but that is (or those are) not the <em>default</em> context.</p>\n<blockquote>\n<p>When we try to consume any https endpoint is the Default Context the one that is used?</p>\n</blockquote>\n<p>Maybe. There are thousands of ways to 'consume ... https' and they can all be different. Some of them may always use the default context; many will sometimes use the default and sometimes not; some might never use the default. Without a much more specific question it is impossible to say.</p>\n<blockquote>\n<p>When dealing with secure connections that require different set of keystores/configuration can we create new SSL Contexts without affecting what is already configured for the default ssl Context?</p>\n</blockquote>\n<p>Absolutely, and that is exactly what you should do. Note that some connection methods use the <code>SSLContext</code> directly, while some (mostly to be more compatible with non-SSL/TLS connections) use an <code>[SSL]SocketFactory</code> or <code>[SSL]ServerSocketFactory</code> created from and linked to the <code>SSLContext</code>. These accomplish the same result, but your code is slightly different.</p>\n"}],"owner":{"account_id":939116,"reputation":1009,"user_id":967522,"accept_rate":80,"display_name":"Diego Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69564704,"answer_count":1,"score":2,"last_activity_date":1634181713,"creation_date":1634055833,"question_id":69543942,"body_markdown":"In java we have javax.net.ssl.SSLContext.getDefault() which is described as: Returns the default SSL context. \r\n\r\nThis makes me think on the following questions:\r\n\r\n1) When is the Default SSL Context created? Does this happen only while calling setDefault(SSLContext context)? What about the case where we pass -Djavax.net.ssl.keyStore=mykeystore.jks? Is the default ssl context created based on this keystore? Also what happens in the case of a server environment like Tomcat? Does Tomcat set the default ssl context based on what is configured in keystoreFile=&quot;/keystore/tomcatkeystore.jks?\r\n\r\n2) When we try to consume any https endpoint is the Default Context the one that is used? \r\n\r\n3) When dealing with secure connections that require different set of keystores/configuration can we create new SSL Contexts without affecting what is already configured for the default ssl Context? \r\n\r\nThanks for your help.","title":"What is a default SSL Context and how many SSL Contexts can be configured?","body":"<p>In java we have javax.net.ssl.SSLContext.getDefault() which is described as: Returns the default SSL context.</p>\n<p>This makes me think on the following questions:</p>\n<ol>\n<li><p>When is the Default SSL Context created? Does this happen only while calling setDefault(SSLContext context)? What about the case where we pass -Djavax.net.ssl.keyStore=mykeystore.jks? Is the default ssl context created based on this keystore? Also what happens in the case of a server environment like Tomcat? Does Tomcat set the default ssl context based on what is configured in keystoreFile=&quot;/keystore/tomcatkeystore.jks?</p>\n</li>\n<li><p>When we try to consume any https endpoint is the Default Context the one that is used?</p>\n</li>\n<li><p>When dealing with secure connections that require different set of keystores/configuration can we create new SSL Contexts without affecting what is already configured for the default ssl Context?</p>\n</li>\n</ol>\n<p>Thanks for your help.</p>\n"},{"tags":["java","jax-rs","jersey-client","httpsession"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":1,"creation_date":1634182224,"post_id":69564637,"comment_id":122958431,"body_markdown":"How do you test it? Sessions are (in most cases) stored in cookies. You test framework (browser?) must support cookies. Check if JSESESSION cookie is not getting lost.","body":"How do you test it? Sessions are (in most cases) stored in cookies. You test framework (browser?) must support cookies. Check if JSESESSION cookie is not getting lost."},{"owner":{"account_id":14467002,"reputation":21,"user_id":16645095,"display_name":"jahir noe"},"score":0,"creation_date":1634185196,"post_id":69564637,"comment_id":122958804,"body_markdown":"I&#39;m testint it with a web form from my browser. The coockie JSESESSION exist but don&#39;t have the same key value that the method session.getID() return. I&#39;ll test with Postman","body":"I&#39;m testint it with a web form from my browser. The coockie JSESESSION exist but don&#39;t have the same key value that the method session.getID() return. I&#39;ll test with Postman"},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1634185829,"post_id":69564637,"comment_id":122958904,"body_markdown":"That is strange. Both browser and postman should retain cookies. What is you application server? Is it possible session cookies are disabled on the server level? Check the session timeout (in web.xml). It is possible set to very small value.","body":"That is strange. Both browser and postman should retain cookies. What is you application server? Is it possible session cookies are disabled on the server level? Check the session timeout (in web.xml). It is possible set to very small value."},{"owner":{"account_id":14467002,"reputation":21,"user_id":16645095,"display_name":"jahir noe"},"score":0,"creation_date":1634186765,"post_id":69564637,"comment_id":122959054,"body_markdown":"Look like the problem can be in the Cors Filter that I&#39;ve configured due to with Postman save session info without problem. I&#39;m reading this post [link](https://stackoverflow.com/questions/6711004/java-httpsession-is-valid?rq=1) and I will try to save the session info from the Filter","body":"Look like the problem can be in the Cors Filter that I&#39;ve configured due to with Postman save session info without problem. I&#39;m reading this post <a href=\"https://stackoverflow.com/questions/6711004/java-httpsession-is-valid?rq=1\">link</a> and I will try to save the session info from the Filter"}],"owner":{"account_id":14467002,"reputation":21,"user_id":16645095,"display_name":"jahir noe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634180926,"creation_date":1634180926,"question_id":69564637,"body_markdown":"I&#39;m doing a loggin test app that recive username and password in JSON format and compare the value with the DB. But for some reason the session it&#39;s not saved. \r\nThis is the method that I use for validate the user info and save the session:\r\n\r\n    @POST\r\n    @Path(&quot;/login&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public Response userLogin(Usuario us , @Context HttpServletRequest rq){\r\n        HttpSession session ;\r\n        //Search for the user with the username provided\r\n        Usuario user = usuarioService.getUsuario(us);\r\n        //Verify that user != to null\r\n\r\n        if(user != null){\r\n            //verify that password be the same that provided by the client\r\n            if(user.getPassword().equals(us.getPassword())){\r\n                //Set new Attribute in the session with the user info\r\n                session = rq.getSession(true);\r\n                session.setAttribute(&quot;username&quot; , user.getUsername());\r\n                return Response.ok().entity(&quot;User:&quot; +user.getUsername() +  &quot;has started session with success &quot; + &quot;Session ID : &quot; +session.getId()).build();\r\n            }\r\n            else{\r\n                return Response.ok().entity(&quot;Wrong password, please verify and try again&quot; ).build();\r\n            }\r\n        }else{\r\n            return Response.ok().entity(&quot;User : &quot;+ us.getUsername()+ &quot; name not found&quot;).build();\r\n        }\r\n    }\r\n\r\nThe problems come when  I try to call the session attribute &#39;username&#39; where the user name has been saved.\r\nWhen I try to use a method that retrive the current session id, I found that it&#39;s not the same session id that when the username attribute has been added.\r\nThe method that I use to verify the session info next:\r\n\r\n    @GET\r\n    @Path(&quot;/checkSession&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response userLoginCheck(@Context HttpServletRequest rq){\r\n        //Call the current session information\r\n        HttpSession session = rq.getSession(false);\r\n        String msg;\r\n        //Verify if the session is new and return not session available\r\n        if( session == null){\r\n            msg = &quot; Session not available&quot; + session.getId();\r\n            return Response.ok().entity(msg).build();\r\n        }else if(session.getAttribute(&quot;username&quot;) == null){\r\n            msg = &quot;Has been not possible call the required session SESSION ID : &quot; + session.getId();\r\n            return Response.ok().entity(msg).build();\r\n        }\r\n        else{ //If session != null  &amp; attribute &#39;username&#39; exist, then call &#39;username&#39; attribute from the session\r\n            return Response.ok().entity(session.getAttribute(&quot;user&quot;)).build();\r\n        }\r\n    }\r\n\r\nThanks in advance for any help or idea to solve it.\r\n\r\n   ","title":"I can&#39;t save session attributes with HttpSession","body":"<p>I'm doing a loggin test app that recive username and password in JSON format and compare the value with the DB. But for some reason the session it's not saved.\nThis is the method that I use for validate the user info and save the session:</p>\n<pre><code>@POST\n@Path(&quot;/login&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.TEXT_PLAIN)\npublic Response userLogin(Usuario us , @Context HttpServletRequest rq){\n    HttpSession session ;\n    //Search for the user with the username provided\n    Usuario user = usuarioService.getUsuario(us);\n    //Verify that user != to null\n\n    if(user != null){\n        //verify that password be the same that provided by the client\n        if(user.getPassword().equals(us.getPassword())){\n            //Set new Attribute in the session with the user info\n            session = rq.getSession(true);\n            session.setAttribute(&quot;username&quot; , user.getUsername());\n            return Response.ok().entity(&quot;User:&quot; +user.getUsername() +  &quot;has started session with success &quot; + &quot;Session ID : &quot; +session.getId()).build();\n        }\n        else{\n            return Response.ok().entity(&quot;Wrong password, please verify and try again&quot; ).build();\n        }\n    }else{\n        return Response.ok().entity(&quot;User : &quot;+ us.getUsername()+ &quot; name not found&quot;).build();\n    }\n}\n</code></pre>\n<p>The problems come when  I try to call the session attribute 'username' where the user name has been saved.\nWhen I try to use a method that retrive the current session id, I found that it's not the same session id that when the username attribute has been added.\nThe method that I use to verify the session info next:</p>\n<pre><code>@GET\n@Path(&quot;/checkSession&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response userLoginCheck(@Context HttpServletRequest rq){\n    //Call the current session information\n    HttpSession session = rq.getSession(false);\n    String msg;\n    //Verify if the session is new and return not session available\n    if( session == null){\n        msg = &quot; Session not available&quot; + session.getId();\n        return Response.ok().entity(msg).build();\n    }else if(session.getAttribute(&quot;username&quot;) == null){\n        msg = &quot;Has been not possible call the required session SESSION ID : &quot; + session.getId();\n        return Response.ok().entity(msg).build();\n    }\n    else{ //If session != null  &amp; attribute 'username' exist, then call 'username' attribute from the session\n        return Response.ok().entity(session.getAttribute(&quot;user&quot;)).build();\n    }\n}\n</code></pre>\n<p>Thanks in advance for any help or idea to solve it.</p>\n"},{"tags":["java","audio"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634180112,"creation_date":1634180112,"answer_id":69564565,"question_id":69564082,"body_markdown":"First, combine your exceptions:\r\n\r\n    try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(&quot;Spieler x.wav&quot;)) ){\r\n        Clip clip = AudioSystem.getClip();\r\n        clip.open(inStream);\r\n        clip.start();\r\n    } catch (LineUnavailableException | UnsupportedAudioFileException | IOException e) {\r\n        System.out.println(&quot;Spieler x.wav &quot; + e);\r\n        e.printStackTrace();\r\n    }\r\n\r\nSecond, move the code which is identical in both methods into a separate `private` method:\r\n\r\n    private static void play(String resourcePath) {\r\n        try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(resourcePath)) ){\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(inStream);\r\n            clip.start();\r\n        } catch (LineUnavailableException | UnsupportedAudioFileException | IOException e) {\r\n            System.out.println(resourcePath + &quot;: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static int playerSound(char[][] gameBoard) {\r\n        play(&quot;Spieler x.wav&quot;);\r\n        return 0;\r\n    }\r\n\r\n    public static int computerSound(char[][] gameBoard) {\r\n        play(&quot;Bot.wav&quot;);\r\n        return 0;\r\n    }\r\n\r\nThird, since you always return the same value (zero), there is no point in having a return value at all:\r\n\r\n    public static void playerSound(char[][] gameBoard) {\r\n        play(&quot;Spieler x.wav&quot;);\r\n    }\r\n\r\n    public static void computerSound(char[][] gameBoard) {\r\n        play(&quot;Bot.wav&quot;);\r\n    }\r\n\r\nYou never make use of `gameBoard`, so that argument can be removed from the methods:\r\n\r\n    public static void playerSound() {\r\n        play(&quot;Spieler x.wav&quot;);\r\n    }\r\n\r\n    public static void computerSound() {\r\n        play(&quot;Bot.wav&quot;);\r\n    }\r\n\r\nAs a side note, you probably should not autoclose the AudioInputStream before the Clip has finished playing, since the Clip may still be reading from it:\r\n\r\n    private static void play(String resourcePath) {\r\n        try {\r\n            AudioInputStream inStream = AudioSystem.getAudioInputStream(\r\n                Sound.class.getResourceAsStream(resourcePath));\r\n\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.addLineListener(e -&gt; {\r\n                if (e.getType().equals(LineEvent.Type.STOP)) {\r\n                    clip.close();\r\n                    try {\r\n                        inStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            clip.open(inStream);\r\n            clip.start();\r\n        } catch (LineUnavailableException | UnsupportedAudioFileException | IOException e) {\r\n            System.out.println(resourcePath + &quot;: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n","title":"How to minimalize multiple Audio Codes","body":"<p>First, combine your exceptions:</p>\n<pre><code>try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(&quot;Spieler x.wav&quot;)) ){\n    Clip clip = AudioSystem.getClip();\n    clip.open(inStream);\n    clip.start();\n} catch (LineUnavailableException | UnsupportedAudioFileException | IOException e) {\n    System.out.println(&quot;Spieler x.wav &quot; + e);\n    e.printStackTrace();\n}\n</code></pre>\n<p>Second, move the code which is identical in both methods into a separate <code>private</code> method:</p>\n<pre><code>private static void play(String resourcePath) {\n    try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(resourcePath)) ){\n        Clip clip = AudioSystem.getClip();\n        clip.open(inStream);\n        clip.start();\n    } catch (LineUnavailableException | UnsupportedAudioFileException | IOException e) {\n        System.out.println(resourcePath + &quot;: &quot; + e);\n        e.printStackTrace();\n    }\n}\n\npublic static int playerSound(char[][] gameBoard) {\n    play(&quot;Spieler x.wav&quot;);\n    return 0;\n}\n\npublic static int computerSound(char[][] gameBoard) {\n    play(&quot;Bot.wav&quot;);\n    return 0;\n}\n</code></pre>\n<p>Third, since you always return the same value (zero), there is no point in having a return value at all:</p>\n<pre><code>public static void playerSound(char[][] gameBoard) {\n    play(&quot;Spieler x.wav&quot;);\n}\n\npublic static void computerSound(char[][] gameBoard) {\n    play(&quot;Bot.wav&quot;);\n}\n</code></pre>\n<p>You never make use of <code>gameBoard</code>, so that argument can be removed from the methods:</p>\n<pre><code>public static void playerSound() {\n    play(&quot;Spieler x.wav&quot;);\n}\n\npublic static void computerSound() {\n    play(&quot;Bot.wav&quot;);\n}\n</code></pre>\n<p>As a side note, you probably should not autoclose the AudioInputStream before the Clip has finished playing, since the Clip may still be reading from it:</p>\n<pre><code>private static void play(String resourcePath) {\n    try {\n        AudioInputStream inStream = AudioSystem.getAudioInputStream(\n            Sound.class.getResourceAsStream(resourcePath));\n\n        Clip clip = AudioSystem.getClip();\n        clip.addLineListener(e -&gt; {\n            if (e.getType().equals(LineEvent.Type.STOP)) {\n                clip.close();\n                try {\n                    inStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        clip.open(inStream);\n        clip.start();\n    } catch (LineUnavailableException | UnsupportedAudioFileException | IOException e) {\n        System.out.println(resourcePath + &quot;: &quot; + e);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22501433,"reputation":17,"user_id":16697684,"display_name":"Don_Angel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69564565,"answer_count":1,"score":0,"last_activity_date":1634180112,"creation_date":1634175127,"question_id":69564082,"body_markdown":"I am trying to minimalize my code for more than one audio. This looks just awful. How can I minimalize those many codes into one good legible code.\r\n\r\n``` \r\npublic class Sound {\r\n    public static int playerSound (char[][] gameBoard) {\r\n        try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(&quot;Spieler x.wav&quot;)) ){\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(inStream);\r\n            clip.start();\r\n        } catch (LineUnavailableException lue) {\r\n            System.out.println(&quot;Spieler x.wav&quot; + lue.getMessage());\r\n            lue.printStackTrace();\r\n        } catch (UnsupportedAudioFileException uafe) {\r\n            System.out.println(&quot;Spieler x.wav&quot; + uafe.getMessage());\r\n            uafe.printStackTrace();\r\n        } catch (IOException ioe) {\r\n            System.out.println(&quot;Spieler x.wav&quot; + ioe.getMessage());\r\n            ioe.printStackTrace();\r\n        }\r\n        return 0;\r\n    }\r\n    public static int computerSound (char[][] gameBoard) {\r\n        try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(&quot;Bot.wav&quot;)) ){\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(inStream);\r\n            clip.start();\r\n        } catch (LineUnavailableException lue) {\r\n            System.out.println(&quot;Bot.wav&quot; + lue.getMessage());\r\n            lue.printStackTrace();\r\n        } catch (UnsupportedAudioFileException uafe) {\r\n            System.out.println(&quot;Bot.wav&quot; + uafe.getMessage());\r\n            uafe.printStackTrace();\r\n        } catch (IOException ioe) {\r\n            System.out.println(&quot;Bot.wav&quot; + ioe.getMessage());\r\n            ioe.printStackTrace();\r\n        }\r\n        return 0;\r\n    } \r\n```","title":"How to minimalize multiple Audio Codes","body":"<p>I am trying to minimalize my code for more than one audio. This looks just awful. How can I minimalize those many codes into one good legible code.</p>\n<pre><code>public class Sound {\n    public static int playerSound (char[][] gameBoard) {\n        try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(&quot;Spieler x.wav&quot;)) ){\n            Clip clip = AudioSystem.getClip();\n            clip.open(inStream);\n            clip.start();\n        } catch (LineUnavailableException lue) {\n            System.out.println(&quot;Spieler x.wav&quot; + lue.getMessage());\n            lue.printStackTrace();\n        } catch (UnsupportedAudioFileException uafe) {\n            System.out.println(&quot;Spieler x.wav&quot; + uafe.getMessage());\n            uafe.printStackTrace();\n        } catch (IOException ioe) {\n            System.out.println(&quot;Spieler x.wav&quot; + ioe.getMessage());\n            ioe.printStackTrace();\n        }\n        return 0;\n    }\n    public static int computerSound (char[][] gameBoard) {\n        try (AudioInputStream inStream = AudioSystem.getAudioInputStream(Sound.class.getResourceAsStream(&quot;Bot.wav&quot;)) ){\n            Clip clip = AudioSystem.getClip();\n            clip.open(inStream);\n            clip.start();\n        } catch (LineUnavailableException lue) {\n            System.out.println(&quot;Bot.wav&quot; + lue.getMessage());\n            lue.printStackTrace();\n        } catch (UnsupportedAudioFileException uafe) {\n            System.out.println(&quot;Bot.wav&quot; + uafe.getMessage());\n            uafe.printStackTrace();\n        } catch (IOException ioe) {\n            System.out.println(&quot;Bot.wav&quot; + ioe.getMessage());\n            ioe.printStackTrace();\n        }\n        return 0;\n    } \n</code></pre>\n"},{"tags":["java","hibernate","orm","jpa","jdbc"],"answers":[{"tags":[],"owner":{"account_id":13252,"reputation":7128,"user_id":26496,"accept_rate":79,"display_name":"Kees de Kooter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281966950,"creation_date":1281966950,"answer_id":3493806,"question_id":3493495,"body_markdown":"Hibernate uses a ConnectionProvider internally to obtain connections. From the hibernate javadoc:\r\n\r\n&gt; The ConnectionProvider interface is not intended to be exposed to the application. Instead it is used internally by Hibernate to obtain connections.\r\n\r\nThe more elegant way of solving this would be to create a database connection pool yourself and hand connections to hibernate and your legacy tool from there.\r\n","title":"Getting Database connection in pure JPA setup","body":"<p>Hibernate uses a ConnectionProvider internally to obtain connections. From the hibernate javadoc:</p>\n\n<blockquote>\n  <p>The ConnectionProvider interface is not intended to be exposed to the application. Instead it is used internally by Hibernate to obtain connections.</p>\n</blockquote>\n\n<p>The more elegant way of solving this would be to create a database connection pool yourself and hand connections to hibernate and your legacy tool from there.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":5,"up_vote_count":60,"is_accepted":true,"score":55,"last_activity_date":1281991842,"creation_date":1281991842,"answer_id":3497206,"question_id":3493495,"body_markdown":"Where you want to get that connection is unclear. One possibility would be to get it from the underlying Hibernate `Session` used by the `EntityManager`. With JPA 1.0, you&#39;ll have to do something like this:\r\n\r\n    Session session = (Session)em.getDelegate();\r\n    Connection conn = session.connection();\r\n\r\nNote that the [`getDelegate()`][1] is not portable, the result of this method is implementation specific: the above code works in JBoss, for GlassFish you&#39;d have to adapt it - have a look at [Be careful while using EntityManager.getDelegate()][2].\r\n\r\nIn JPA 2.0, things are a bit better and you can do the following:\r\n\r\n    Connection conn = em.unwrap(Session.class).connection();\r\n\r\nIf you are running inside a container, you could also perform a lookup on the configured `DataSource`.\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\r\n  [2]: http://weblogs.java.net/blog/2009/05/25/be-careful-while-using-entitymanagergetdelegate","title":"Getting Database connection in pure JPA setup","body":"<p>Where you want to get that connection is unclear. One possibility would be to get it from the underlying Hibernate <code>Session</code> used by the <code>EntityManager</code>. With JPA 1.0, you'll have to do something like this:</p>\n\n<pre><code>Session session = (Session)em.getDelegate();\nConnection conn = session.connection();\n</code></pre>\n\n<p>Note that the <a href=\"http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\" rel=\"noreferrer\"><code>getDelegate()</code></a> is not portable, the result of this method is implementation specific: the above code works in JBoss, for GlassFish you'd have to adapt it - have a look at <a href=\"http://weblogs.java.net/blog/2009/05/25/be-careful-while-using-entitymanagergetdelegate\" rel=\"noreferrer\">Be careful while using EntityManager.getDelegate()</a>.</p>\n\n<p>In JPA 2.0, things are a bit better and you can do the following:</p>\n\n<pre><code>Connection conn = em.unwrap(Session.class).connection();\n</code></pre>\n\n<p>If you are running inside a container, you could also perform a lookup on the configured <code>DataSource</code>.</p>\n"},{"tags":[],"owner":{"account_id":753642,"reputation":11,"user_id":757584,"display_name":"Aneesh Vijendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305643401,"creation_date":1305643401,"answer_id":6032567,"question_id":3493495,"body_markdown":"I ran into this problem today and this was the trick I did, which worked for me:\r\n\r\n       EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;DAOMANAGER&quot;);\r\n       EntityManagerem = emf.createEntityManager();\r\n    \r\n       org.hibernate.Session session = ((EntityManagerImpl) em).getSession();\r\n       java.sql.Connection connectionObj = session.connection();\r\n\r\n\r\nThough not the best way but does the job.\r\n\r\n","title":"Getting Database connection in pure JPA setup","body":"<p>I ran into this problem today and this was the trick I did, which worked for me:</p>\n\n<pre><code>   EntityManagerFactory emf = Persistence.createEntityManagerFactory(\"DAOMANAGER\");\n   EntityManagerem = emf.createEntityManager();\n\n   org.hibernate.Session session = ((EntityManagerImpl) em).getSession();\n   java.sql.Connection connectionObj = session.connection();\n</code></pre>\n\n<p>Though not the best way but does the job.</p>\n"},{"tags":[],"owner":{"account_id":948725,"reputation":679,"user_id":975374,"display_name":"Dominik"},"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1460545070,"creation_date":1317559359,"answer_id":7626387,"question_id":3493495,"body_markdown":"As per the `hibernate` docs [here][1], \r\n&gt;  Connection\tconnection() \r\n\r\n&gt;  **Deprecated**. (scheduled for removal in 4.x). Replacement depends on need; for doing direct JDBC stuff use\r\n&gt; doWork(org.hibernate.jdbc.Work) ...\r\n\r\nUse Hibernate Work API instead:\r\n\r\n    Session session = entityManager.unwrap(Session.class);\r\n    session.doWork(new Work() {\r\n\r\n        @Override\r\n        public void execute(Connection connection) throws SQLException {\r\n            // do whatever you need to do with the connection\r\n        }\r\n    });\r\n\t\t\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/Session.html#connection()","title":"Getting Database connection in pure JPA setup","body":"<p>As per the <code>hibernate</code> docs <a href=\"https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/Session.html#connection()\">here</a>, </p>\n\n<blockquote>\n  <p>Connection   connection() </p>\n  \n  <p><strong>Deprecated</strong>. (scheduled for removal in 4.x). Replacement depends on need; for doing direct JDBC stuff use\n  doWork(org.hibernate.jdbc.Work) ...</p>\n</blockquote>\n\n<p>Use Hibernate Work API instead:</p>\n\n<pre><code>Session session = entityManager.unwrap(Session.class);\nsession.doWork(new Work() {\n\n    @Override\n    public void execute(Connection connection) throws SQLException {\n        // do whatever you need to do with the connection\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":176763,"reputation":1709,"user_id":407658,"accept_rate":33,"display_name":"Luistar15"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1389002077,"creation_date":1320045115,"answer_id":7950821,"question_id":3493495,"body_markdown":"Since [the code suggested by @Pascal][1] is deprecated as mentioned by @Jacob, I found [this another way][2] that works for me.\r\n\r\n    import org.hibernate.classic.Session;\r\n    import org.hibernate.connection.ConnectionProvider;\r\n    import org.hibernate.engine.SessionFactoryImplementor;\r\n    \r\n    Session session = (Session) em.getDelegate();\r\n    SessionFactoryImplementor sfi = (SessionFactoryImplementor) session.getSessionFactory();\r\n    ConnectionProvider cp = sfi.getConnectionProvider();\r\n    Connection connection = cp.getConnection();\r\n\r\n\r\n  [1]: #answer-3497206\r\n  [2]: http://www.java-forums.org/advanced-java/19017-preparedstatement-hibernate-session.html#post87599","title":"Getting Database connection in pure JPA setup","body":"<p>Since the code suggested by @Pascal is deprecated as mentioned by @Jacob, I found <a href=\"http://www.java-forums.org/advanced-java/19017-preparedstatement-hibernate-session.html#post87599\">this another way</a> that works for me.</p>\n\n<pre><code>import org.hibernate.classic.Session;\nimport org.hibernate.connection.ConnectionProvider;\nimport org.hibernate.engine.SessionFactoryImplementor;\n\nSession session = (Session) em.getDelegate();\nSessionFactoryImplementor sfi = (SessionFactoryImplementor) session.getSessionFactory();\nConnectionProvider cp = sfi.getConnectionProvider();\nConnection connection = cp.getConnection();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284510,"reputation":331,"user_id":1237879,"display_name":"Alberto Vazquez"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1330455331,"creation_date":1330433177,"answer_id":9482169,"question_id":3493495,"body_markdown":"If you are using JAVA EE 5.0, the best way to do this is to use the @Resource annotation to inject the datasource in an attribute of a class (for instance an EJB) to hold the datasource resource (for instance an Oracle datasource) for the legacy reporting tool, this way:\r\n\r\n    @Resource(mappedName=&quot;jdbc:/OracleDefaultDS&quot;) DataSource datasource;\r\n\r\nLater you can obtain the connection, and pass it to the legacy reporting tool in this way:\r\n\r\n    Connection conn = dataSource.getConnection();\r\n\r\n","title":"Getting Database connection in pure JPA setup","body":"<p>If you are using JAVA EE 5.0, the best way to do this is to use the @Resource annotation to inject the datasource in an attribute of a class (for instance an EJB) to hold the datasource resource (for instance an Oracle datasource) for the legacy reporting tool, this way:</p>\n\n<pre><code>@Resource(mappedName=\"jdbc:/OracleDefaultDS\") DataSource datasource;\n</code></pre>\n\n<p>Later you can obtain the connection, and pass it to the legacy reporting tool in this way:</p>\n\n<pre><code>Connection conn = dataSource.getConnection();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3157808,"reputation":301,"user_id":2669770,"display_name":"armando"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1376107944,"creation_date":1376107944,"answer_id":18158559,"question_id":3493495,"body_markdown":"if you use EclipseLink:\r\nYou should be in a JPA transaction to access the Connection\r\n\r\n    entityManager.getTransaction().begin();\r\n    java.sql.Connection connection = entityManager.unwrap(java.sql.Connection.class);\r\n    ...\r\n    entityManager.getTransaction().commit();","title":"Getting Database connection in pure JPA setup","body":"<p>if you use EclipseLink:\nYou should be in a JPA transaction to access the Connection</p>\n\n<pre><code>entityManager.getTransaction().begin();\njava.sql.Connection connection = entityManager.unwrap(java.sql.Connection.class);\n...\nentityManager.getTransaction().commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7351473,"reputation":21,"user_id":5597477,"display_name":"uvperez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453925169,"creation_date":1453923447,"answer_id":35046519,"question_id":3493495,"body_markdown":"Here is a code snippet that works with Hibernate 4 based on Dominik&#39;s answer\r\n\r\n    Connection getConnection() {\r\n    \tSession session = entityManager.unwrap(Session.class);\r\n    \tMyWork myWork = new MyWork();\r\n    \tsession.doWork(myWork);\r\n    \treturn myWork.getConnection();\r\n    }\r\n    \r\n    private static class MyWork implements Work {\r\n\r\n    \tConnection conn;\r\n    \t\r\n\t\t@Override\r\n\t\tpublic void execute(Connection arg0) throws SQLException {\r\n\t\t\tthis.conn = arg0;\r\n\t\t}\r\n\t\t\r\n\t\tConnection getConnection() {\r\n\t\t\treturn conn;\r\n\t\t}\r\n    \t\r\n    }","title":"Getting Database connection in pure JPA setup","body":"<p>Here is a code snippet that works with Hibernate 4 based on Dominik's answer</p>\n\n<pre><code>Connection getConnection() {\n    Session session = entityManager.unwrap(Session.class);\n    MyWork myWork = new MyWork();\n    session.doWork(myWork);\n    return myWork.getConnection();\n}\n\nprivate static class MyWork implements Work {\n\n    Connection conn;\n\n    @Override\n    public void execute(Connection arg0) throws SQLException {\n        this.conn = arg0;\n    }\n\n    Connection getConnection() {\n        return conn;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1974951,"reputation":1337,"user_id":1772941,"display_name":"aborskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456261357,"creation_date":1456261357,"answer_id":35588106,"question_id":3493495,"body_markdown":"Below is the code that worked for me.  We use jpa 1.0, Apache openjpa implementation.\r\n\r\n    import java.sql.Connection;\r\n    import org.apache.openjpa.persistence.OpenJPAEntityManager;\r\n    import org.apache.openjpa.persistence.OpenJPAPersistence;\r\n\r\n    public final class MsSqlDaoFactory {\r\n \r\n\r\n           public static final Connection getConnection(final EntityManager entityManager) {\r\n                  OpenJPAEntityManager openJPAEntityManager = OpenJPAPersistence.cast(entityManager);\r\n                  Connection connection = (Connection) openJPAEntityManager.getConnection();\r\n                  return connection;\r\n    \r\n            }\r\n\r\n    }","title":"Getting Database connection in pure JPA setup","body":"<p>Below is the code that worked for me.  We use jpa 1.0, Apache openjpa implementation.</p>\n\n<pre><code>import java.sql.Connection;\nimport org.apache.openjpa.persistence.OpenJPAEntityManager;\nimport org.apache.openjpa.persistence.OpenJPAPersistence;\n\npublic final class MsSqlDaoFactory {\n\n\n       public static final Connection getConnection(final EntityManager entityManager) {\n              OpenJPAEntityManager openJPAEntityManager = OpenJPAPersistence.cast(entityManager);\n              Connection connection = (Connection) openJPAEntityManager.getConnection();\n              return connection;\n\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1581239754,"creation_date":1495872193,"answer_id":44214469,"question_id":3493495,"body_markdown":"The word *pure* doesn&#39;t match to the word *hibernate*.\r\n\r\n## EclipseLink\r\n\r\n* [Getting a JDBC Connection from an EntityManager](http://wiki.eclipse.org/EclipseLink/Examples/JPA/EMAPI#Getting_a_JDBC_Connection_from_an_EntityManager)\r\n\r\nIt&#39;s somewhat straightforward as described in above link.\r\n\r\n* Note that the `EntityManager` must be joined to a `Transaction` or the `unwrap` method will return `null`. (Not a good move at all.)\r\n* I&#39;m not sure the responsibility of closing the connection.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // --------------------------------------------------------- EclipseLink\r\n    try {\r\n        final Connection connection = manager.unwrap(Connection.class);\r\n        if (connection != null) { // manage is not in any transaction\r\n            return function.apply(connection);\r\n        }\r\n    } catch (final PersistenceException pe) {\r\n        logger.log(FINE, pe, () -&gt; &quot;failed to unwrap as a connection&quot;);\r\n    }\r\n\r\n## Hibernate\r\n\r\nIt should be, basically, done with following codes.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // using vendor specific APIs\r\n    final Session session = (Session) manager.unwrap(Session.class);\r\n    //return session.doReturningWork&lt;R&gt;(function::apply);\r\n    return session.doReturningWork(new ReturningWork&lt;R&gt;() {\r\n        @Override public R execute(final Connection connection) {\r\n            return function.apply(connection);\r\n        }\r\n    });\r\n\r\nWell, we (at least I) might don&#39;t want any vendor-specific dependencies. [Proxy](http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html) comes in rescue.\r\n\r\n    try {\r\n        // See? You shouldn&#39;t fire me, ass hole!!!\r\n        final Class&lt;?&gt; sessionClass\r\n                = Class.forName(&quot;org.hibernate.Session&quot;);\r\n        final Object session = manager.unwrap(sessionClass);\r\n        final Class&lt;?&gt; returningWorkClass\r\n                = Class.forName(&quot;org.hibernate.jdbc.ReturningWork&quot;);\r\n        final Method executeMethod\r\n                = returningWorkClass.getMethod(&quot;execute&quot;, Connection.class);\r\n        final Object workProxy = Proxy.newProxyInstance(\r\n                lookup().lookupClass().getClassLoader(),\r\n                new Class[]{returningWorkClass},\r\n                (proxy, method, args) -&gt; {\r\n                    if (method.equals(executeMethod)) {\r\n                        final Connection connection = (Connection) args[0];\r\n                        return function.apply(connection);\r\n                    }\r\n                    return null;\r\n                });\r\n        final Method doReturningWorkMethod = sessionClass.getMethod(\r\n                &quot;doReturningWork&quot;, returningWorkClass);\r\n        return (R) doReturningWorkMethod.invoke(session, workProxy);\r\n    } catch (final ReflectiveOperationException roe) {\r\n        logger.log(Level.FINE, roe, () -&gt; &quot;failed to work with hibernate&quot;);\r\n    }\r\n\r\n## OpenJPA\r\n\r\n* [Runtime Access to DataSource](https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_dbsetup_sqlconn.html)\r\n* [OPENJPA-1803 Unwrap EntityManager to Connection](https://issues.apache.org/jira/browse/OPENJPA-1803)\r\n\r\nI&#39;m not sure OpenJPA already serves a way using `unwrap(Connection.class)` but can be done with the way described in one of above links.\r\n\r\nIt&#39;s not clear the responsibility of closing the connection. The document (one of above links) seems saying clearly but I&#39;m not good at English.\r\n\r\n    try {\r\n        final Class&lt;?&gt; k = Class.forName(\r\n                &quot;org.apache.openjpa.persistence.OpenJPAEntityManager&quot;);\r\n        if (k.isInstance(manager)) {\r\n            final Method m = k.getMethod(&quot;getConnection&quot;);\r\n            try {\r\n                try (Connection c = (Connection) m.invoke(manager)) {\r\n                    return function.apply(c);\r\n                }\r\n            } catch (final SQLException sqle) {\r\n                logger.log(FINE, sqle, () -&gt; &quot;failed to work with openjpa&quot;);\r\n            }\r\n        }\r\n    } catch (final ReflectiveOperationException roe) {\r\n        logger.log(Level.FINE, roe, () -&gt; &quot;failed to work with openjpa&quot;);\r\n    }","title":"Getting Database connection in pure JPA setup","body":"<p>The word <em>pure</em> doesn't match to the word <em>hibernate</em>.</p>\n\n<h2>EclipseLink</h2>\n\n<ul>\n<li><a href=\"http://wiki.eclipse.org/EclipseLink/Examples/JPA/EMAPI#Getting_a_JDBC_Connection_from_an_EntityManager\" rel=\"nofollow noreferrer\">Getting a JDBC Connection from an EntityManager</a></li>\n</ul>\n\n<p>It's somewhat straightforward as described in above link.</p>\n\n<ul>\n<li>Note that the <code>EntityManager</code> must be joined to a <code>Transaction</code> or the <code>unwrap</code> method will return <code>null</code>. (Not a good move at all.)</li>\n<li>I'm not sure the responsibility of closing the connection.</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>// --------------------------------------------------------- EclipseLink\ntry {\n    final Connection connection = manager.unwrap(Connection.class);\n    if (connection != null) { // manage is not in any transaction\n        return function.apply(connection);\n    }\n} catch (final PersistenceException pe) {\n    logger.log(FINE, pe, () -&gt; \"failed to unwrap as a connection\");\n}\n</code></pre>\n\n<h2>Hibernate</h2>\n\n<p>It should be, basically, done with following codes.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// using vendor specific APIs\nfinal Session session = (Session) manager.unwrap(Session.class);\n//return session.doReturningWork&lt;R&gt;(function::apply);\nreturn session.doReturningWork(new ReturningWork&lt;R&gt;() {\n    @Override public R execute(final Connection connection) {\n        return function.apply(connection);\n    }\n});\n</code></pre>\n\n<p>Well, we (at least I) might don't want any vendor-specific dependencies. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\">Proxy</a> comes in rescue.</p>\n\n<pre><code>try {\n    // See? You shouldn't fire me, ass hole!!!\n    final Class&lt;?&gt; sessionClass\n            = Class.forName(\"org.hibernate.Session\");\n    final Object session = manager.unwrap(sessionClass);\n    final Class&lt;?&gt; returningWorkClass\n            = Class.forName(\"org.hibernate.jdbc.ReturningWork\");\n    final Method executeMethod\n            = returningWorkClass.getMethod(\"execute\", Connection.class);\n    final Object workProxy = Proxy.newProxyInstance(\n            lookup().lookupClass().getClassLoader(),\n            new Class[]{returningWorkClass},\n            (proxy, method, args) -&gt; {\n                if (method.equals(executeMethod)) {\n                    final Connection connection = (Connection) args[0];\n                    return function.apply(connection);\n                }\n                return null;\n            });\n    final Method doReturningWorkMethod = sessionClass.getMethod(\n            \"doReturningWork\", returningWorkClass);\n    return (R) doReturningWorkMethod.invoke(session, workProxy);\n} catch (final ReflectiveOperationException roe) {\n    logger.log(Level.FINE, roe, () -&gt; \"failed to work with hibernate\");\n}\n</code></pre>\n\n<h2>OpenJPA</h2>\n\n<ul>\n<li><a href=\"https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_dbsetup_sqlconn.html\" rel=\"nofollow noreferrer\">Runtime Access to DataSource</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/OPENJPA-1803\" rel=\"nofollow noreferrer\">OPENJPA-1803 Unwrap EntityManager to Connection</a></li>\n</ul>\n\n<p>I'm not sure OpenJPA already serves a way using <code>unwrap(Connection.class)</code> but can be done with the way described in one of above links.</p>\n\n<p>It's not clear the responsibility of closing the connection. The document (one of above links) seems saying clearly but I'm not good at English.</p>\n\n<pre><code>try {\n    final Class&lt;?&gt; k = Class.forName(\n            \"org.apache.openjpa.persistence.OpenJPAEntityManager\");\n    if (k.isInstance(manager)) {\n        final Method m = k.getMethod(\"getConnection\");\n        try {\n            try (Connection c = (Connection) m.invoke(manager)) {\n                return function.apply(c);\n            }\n        } catch (final SQLException sqle) {\n            logger.log(FINE, sqle, () -&gt; \"failed to work with openjpa\");\n        }\n    }\n} catch (final ReflectiveOperationException roe) {\n    logger.log(Level.FINE, roe, () -&gt; \"failed to work with openjpa\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501697824,"creation_date":1501697824,"answer_id":45468230,"question_id":3493495,"body_markdown":"I&#39;m using a old version of Hibernate (3.3.0) with a newest version of OpenEJB (4.6.0). My solution was:\r\n\r\n    EntityManagerImpl entityManager = (EntityManagerImpl)em.getDelegate();\r\n    Session session = entityManager.getSession();\r\n    Connection connection = session.connection();\r\n    Statement statement = null;\r\n    try {\r\n        statement = connection.createStatement();\r\n        statement.execute(sql);\r\n        connection.commit();\r\n    } catch (SQLException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\nI had an error after that: \r\n\r\n    Commit can not be set while enrolled in a transaction\r\n\r\nBecause this code above was inside a EJB Controller (you can&#39;t `commit` inside a transaction). I annotated the method with `@TransactionAttribute(value = TransactionAttributeType.NOT_SUPPORTED)` and the problem was gone. ","title":"Getting Database connection in pure JPA setup","body":"<p>I'm using a old version of Hibernate (3.3.0) with a newest version of OpenEJB (4.6.0). My solution was:</p>\n\n<pre><code>EntityManagerImpl entityManager = (EntityManagerImpl)em.getDelegate();\nSession session = entityManager.getSession();\nConnection connection = session.connection();\nStatement statement = null;\ntry {\n    statement = connection.createStatement();\n    statement.execute(sql);\n    connection.commit();\n} catch (SQLException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n\n<p>I had an error after that: </p>\n\n<pre><code>Commit can not be set while enrolled in a transaction\n</code></pre>\n\n<p>Because this code above was inside a EJB Controller (you can't <code>commit</code> inside a transaction). I annotated the method with <code>@TransactionAttribute(value = TransactionAttributeType.NOT_SUPPORTED)</code> and the problem was gone. </p>\n"},{"tags":[],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1569095340,"creation_date":1517401679,"answer_id":48542204,"question_id":3493495,"body_markdown":"**Hibernate 4 / 5**: \r\n\r\n    Session session = entityManager.unwrap(Session.class);\r\n    session.doWork(connection -&gt; doSomeStuffWith(connection));\r\n\r\n","title":"Getting Database connection in pure JPA setup","body":"<p><strong>Hibernate 4 / 5</strong>: </p>\n\n<pre><code>Session session = entityManager.unwrap(Session.class);\nsession.doWork(connection -&gt; doSomeStuffWith(connection));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11875387,"reputation":145,"user_id":8690573,"display_name":"Dagon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634179691,"creation_date":1634179691,"answer_id":69564517,"question_id":3493495,"body_markdown":"I am a little bit new to Spring Boot, I have needing the **Connection** object to send it to Jasperreport also, after trying the different answers in this post, this was only useful for me and, I hope it helps someone who is stuck at this point.     \r\n    \r\n\r\n    @Repository\r\n    public class GenericRepository {\r\n\r\n    private final EntityManager entityManager;\r\n\r\n    @Autowired\r\n    public GenericRepository(EntityManager entityManager, DataSource dataSource) {\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    public Connection getConnection() throws SQLException {\r\n        Map&lt;String, Object&gt; properties = entityManager.getEntityManagerFactory().getProperties();\r\n        HikariDataSource dataSource = (HikariDataSource) properties.get(&quot;javax.persistence.nonJtaDataSource&quot;);\r\n        return dataSource.getConnection();\r\n    }\r\n    }","title":"Getting Database connection in pure JPA setup","body":"<p>I am a little bit new to Spring Boot, I have needing the <strong>Connection</strong> object to send it to Jasperreport also, after trying the different answers in this post, this was only useful for me and, I hope it helps someone who is stuck at this point.</p>\n<pre><code>@Repository\npublic class GenericRepository {\n\nprivate final EntityManager entityManager;\n\n@Autowired\npublic GenericRepository(EntityManager entityManager, DataSource dataSource) {\n    this.entityManager = entityManager;\n}\n\npublic Connection getConnection() throws SQLException {\n    Map&lt;String, Object&gt; properties = entityManager.getEntityManagerFactory().getProperties();\n    HikariDataSource dataSource = (HikariDataSource) properties.get(&quot;javax.persistence.nonJtaDataSource&quot;);\n    return dataSource.getConnection();\n}\n}\n</code></pre>\n"}],"owner":{"account_id":30778,"reputation":19742,"user_id":84118,"accept_rate":79,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156491,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":3497206,"answer_count":13,"score":70,"last_activity_date":1634179691,"creation_date":1281964827,"question_id":3493495,"body_markdown":"We have a JPA application (using hibernate) and we need to pass a call to a legacy reporting tool that needs a JDBC database connection as a parameter. Is there a simple way to get access to the JDBC connection hibernate has setup?","title":"Getting Database connection in pure JPA setup","body":"<p>We have a JPA application (using hibernate) and we need to pass a call to a legacy reporting tool that needs a JDBC database connection as a parameter. Is there a simple way to get access to the JDBC connection hibernate has setup?</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18988654,"reputation":91,"user_id":13858393,"display_name":"Chandimal Adikari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634179117,"creation_date":1634179117,"answer_id":69564468,"question_id":69564048,"body_markdown":"First You have to do is remove `Long id` attribute from PurchasingSpecialist Entity. And add `@Id` to email column. Then It will look like this. Then the JPA will create the email column as the primary key for the entity.\r\n\r\n    @Id\r\n    @Column(length = 200)\r\n    private String email;\r\n    private String firstName;\r\n    private String lastName;  \r\n    @OneToMany(\r\n            cascade = CascadeType.ALL\r\n    )\r\n    @JoinColumn(name = &quot;email&quot;,referencedColumnName = &quot;email&quot;)\r\n    private List&lt;Bill&gt; bills;\r\n\r\nThe next step is adding the `email` primary key to the Bill Entity.\r\nWhen Using `@JoinColumn(name = &quot;email&quot;,referencedColumnName = &quot;email&quot;)` It will create a &quot;email&quot; column in Bill Entity. Therefore, `private String email;` in bill entity should be removed. Your Bill entity will look like this.\r\n\r\n\r\n    @Id\r\n    private Long id;\r\n    private static final Integer LIMIT=200;\r\n    private String firstName;\r\n    private String lastName;\r\n    private Integer amount;\r\n    private String productName;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;email&quot;)\r\n    private PurchasingSpecialist owner;\r\n\r\n\r\nThe ER will look like this. I think this is the result you expected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QdrBe.png","title":"Springboot Jpa using email as a foreignKey","body":"<p>First You have to do is remove <code>Long id</code> attribute from PurchasingSpecialist Entity. And add <code>@Id</code> to email column. Then It will look like this. Then the JPA will create the email column as the primary key for the entity.</p>\n<pre><code>@Id\n@Column(length = 200)\nprivate String email;\nprivate String firstName;\nprivate String lastName;  \n@OneToMany(\n        cascade = CascadeType.ALL\n)\n@JoinColumn(name = &quot;email&quot;,referencedColumnName = &quot;email&quot;)\nprivate List&lt;Bill&gt; bills;\n</code></pre>\n<p>The next step is adding the <code>email</code> primary key to the Bill Entity.\nWhen Using <code>@JoinColumn(name = &quot;email&quot;,referencedColumnName = &quot;email&quot;)</code> It will create a &quot;email&quot; column in Bill Entity. Therefore, <code>private String email;</code> in bill entity should be removed. Your Bill entity will look like this.</p>\n<pre><code>@Id\nprivate Long id;\nprivate static final Integer LIMIT=200;\nprivate String firstName;\nprivate String lastName;\nprivate Integer amount;\nprivate String productName;\n@ManyToOne\n@JoinColumn(name = &quot;email&quot;)\nprivate PurchasingSpecialist owner;\n</code></pre>\n<p>The ER will look like this. I think this is the result you expected.</p>\n<p><a href=\"https://i.stack.imgur.com/QdrBe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QdrBe.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17065544,"reputation":13,"user_id":14186812,"display_name":"hknyildz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69564468,"answer_count":1,"score":-1,"last_activity_date":1634179117,"creation_date":1634174676,"question_id":69564048,"body_markdown":"I had two tables. One of the s owner and other one is Bill. In the both table  had email column. So  want to use email as a ForeignKey. but owner d s became foreign key automaticly. how can  do that?\r\n\r\nThis one is bill side\r\n\r\n     @Id\r\n    private Long id;\r\n    private static final Integer LIMIT=200;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private Integer amount;\r\n    private String productName;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;email&quot;)\r\n    private PurchasingSpecialist owner;\r\n\r\nAnd this one is owner side\r\n\r\n    @Id\r\n    private Long Id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n\r\n    @OneToMany(\r\n            cascade = CascadeType.ALL\r\n    )\r\n    @JoinColumn(name = &quot;email&quot;,referencedColumnName = &quot;email&quot;)\r\n    private List&lt;Bill&gt; bills;\r\n\r\nbut still owner_id column creating automaticly\r\n\r\n","title":"Springboot Jpa using email as a foreignKey","body":"<p>I had two tables. One of the s owner and other one is Bill. In the both table  had email column. So  want to use email as a ForeignKey. but owner d s became foreign key automaticly. how can  do that?</p>\n<p>This one is bill side</p>\n<pre><code> @Id\nprivate Long id;\nprivate static final Integer LIMIT=200;\nprivate String firstName;\nprivate String lastName;\nprivate String email;\nprivate Integer amount;\nprivate String productName;\n@ManyToOne\n@JoinColumn(name = &quot;email&quot;)\nprivate PurchasingSpecialist owner;\n</code></pre>\n<p>And this one is owner side</p>\n<pre><code>@Id\nprivate Long Id;\nprivate String firstName;\nprivate String lastName;\nprivate String email;\n\n@OneToMany(\n        cascade = CascadeType.ALL\n)\n@JoinColumn(name = &quot;email&quot;,referencedColumnName = &quot;email&quot;)\nprivate List&lt;Bill&gt; bills;\n</code></pre>\n<p>but still owner_id column creating automaticly</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":13120333,"reputation":4131,"user_id":13546426,"display_name":"Shubham Panchal"},"score":0,"creation_date":1634188142,"post_id":69564413,"comment_id":122959269,"body_markdown":"Did you try the solution included in [this](https://stackoverflow.com/a/17541055/13546426) answer?","body":"Did you try the solution included in <a href=\"https://stackoverflow.com/a/17541055/13546426\">this</a> answer?"},{"owner":{"account_id":1064279,"reputation":2186,"user_id":1065226,"accept_rate":71,"display_name":"Liker"},"score":0,"creation_date":1634270369,"post_id":69564413,"comment_id":122985092,"body_markdown":"@ShubhamPanchal thank you for that. However that webpage refers to defining location for the known class. I need to define what class is currently program in and then defina path to it. I can do in Kotlin val path = File(this::class.java.getResource(classJava.name).path) following the reference from that webpage, however it gives null...","body":"@ShubhamPanchal thank you for that. However that webpage refers to defining location for the known class. I need to define what class is currently program in and then defina path to it. I can do in Kotlin val path = File(this::class.java.getResource(classJava.name).path) following the reference from that webpage, however it gives null..."}],"owner":{"account_id":1064279,"reputation":2186,"user_id":1065226,"accept_rate":71,"display_name":"Liker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634178540,"creation_date":1634178540,"question_id":69564413,"body_markdown":"I need to get 2 things logged from the current line of code:\r\n- the current class which is currently executed\r\n- the full path to the file of this class\r\n\r\nIn Kotlin, I can get class by\r\n\r\n    this::class\r\n\r\nor \r\n\r\n    this::class.java\r\n\r\nThen, I should be able to get path to the file of the class via\r\n\r\n    class.getProtectionDomain().getCodeSource().getLocation().getPath()\r\n\r\nAs is advised e. g. [here][1].\r\nThe problem is getProtectionDomain returns null for Android Activity:\r\n\r\n        java.lang.IllegalStateException: Could not execute method for android:onClick\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:414)\r\n            at android.view.View.performClick(View.java:7288)\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n            at android.view.View.performClickInternal(View.java:7258)\r\n            at android.view.View.access$4000(View.java:808)\r\n            at android.view.View$PerformClick.run(View.java:28019)\r\n            at android.os.Handler.handleCallback(Handler.java:883)\r\n            at android.os.Handler.dispatchMessage(Handler.java:100)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7615)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:409)\r\n            at android.view.View.performClick(View.java:7288)&#160;\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n            at android.view.View.performClickInternal(View.java:7258)&#160;\r\n            at android.view.View.access$4000(View.java:808)&#160;\r\n            at android.view.View$PerformClick.run(View.java:28019)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n            at android.os.Looper.loop(Looper.java:214)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7615)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)&#160;\r\n         Caused by: java.lang.NullPointerException: this::class.java.protectionDomain must not be null\r\n\r\nMeanwhile the class is of course not null because I can successfully see its name\r\n\r\n    log(this::class.java.name)\r\n\r\nSo how can i get class file path without getProtectionDomain?\r\n\r\n  [1]: https://stackoverflow.com/questions/11747833/getting-filesystem-path-of-class-being-executed\r\n","title":"How to get path to current class file in Kotlin in Android app without getProtectionDomain","body":"<p>I need to get 2 things logged from the current line of code:</p>\n<ul>\n<li>the current class which is currently executed</li>\n<li>the full path to the file of this class</li>\n</ul>\n<p>In Kotlin, I can get class by</p>\n<pre><code>this::class\n</code></pre>\n<p>or</p>\n<pre><code>this::class.java\n</code></pre>\n<p>Then, I should be able to get path to the file of the class via</p>\n<pre><code>class.getProtectionDomain().getCodeSource().getLocation().getPath()\n</code></pre>\n<p>As is advised e. g. <a href=\"https://stackoverflow.com/questions/11747833/getting-filesystem-path-of-class-being-executed\">here</a>.\nThe problem is getProtectionDomain returns null for Android Activity:</p>\n<pre><code>    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:414)\n        at android.view.View.performClick(View.java:7288)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:7258)\n        at android.view.View.access$4000(View.java:808)\n        at android.view.View$PerformClick.run(View.java:28019)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7615)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:409)\n        at android.view.View.performClick(View.java:7288)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:7258)\n        at android.view.View.access$4000(View.java:808)\n        at android.view.View$PerformClick.run(View.java:28019)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7615)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\n     Caused by: java.lang.NullPointerException: this::class.java.protectionDomain must not be null\n</code></pre>\n<p>Meanwhile the class is of course not null because I can successfully see its name</p>\n<pre><code>log(this::class.java.name)\n</code></pre>\n<p>So how can i get class file path without getProtectionDomain?</p>\n"},{"tags":["java","eclipse","heap-memory"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1360327280,"post_id":14772691,"comment_id":20680180,"body_markdown":"You should try upping the heap size, just in case it actually ***is*** the problem. Set -Xmx2048m, restart Eclipse, then clean all projects. Close Eclipse and relaunch.","body":"You should try upping the heap size, just in case it actually <b><i>is</i></b> the problem. Set -Xmx2048m, restart Eclipse, then clean all projects. Close Eclipse and relaunch."}],"answers":[{"tags":[],"owner":{"account_id":1653309,"reputation":611,"user_id":1523459,"display_name":"johngirvin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392283776,"creation_date":1360327247,"answer_id":14772822,"question_id":14772691,"body_markdown":"Assuming this is a heap space problem, try this FAQ:\r\n[Eclipse-Wiki: FAQ How do I increase the heap size available to Eclipse?][1]\r\n\r\n  [1]: http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F","title":"An internal error occurred during: &quot;Updating indexes&quot;.Java heap space during eclipse start up?","body":"<p>Assuming this is a heap space problem, try this FAQ:\n<a href=\"http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F\" rel=\"nofollow\">Eclipse-Wiki: FAQ How do I increase the heap size available to Eclipse?</a></p>\n"},{"tags":[],"owner":{"account_id":2343842,"reputation":548,"user_id":2054593,"display_name":"Horizon"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1360336099,"creation_date":1360336099,"answer_id":14775489,"question_id":14772691,"body_markdown":"If you have m2e or other Maven plugin installed, you should check if the option at &#39;**Window -&gt; Preferences -&gt; Maven -&gt; Download repository updates index on startup**&#39; is enabled.  Disable it and see if it resolves out of memory issue.\r\n","title":"An internal error occurred during: &quot;Updating indexes&quot;.Java heap space during eclipse start up?","body":"<p>If you have m2e or other Maven plugin installed, you should check if the option at '<strong>Window -> Preferences -> Maven -> Download repository updates index on startup</strong>' is enabled.  Disable it and see if it resolves out of memory issue.</p>\n"},{"tags":[],"owner":{"account_id":3136653,"reputation":432,"user_id":2653036,"accept_rate":60,"display_name":"Anahit Serobyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381320998,"creation_date":1381303381,"answer_id":19265616,"question_id":14772691,"body_markdown":"If you are using eclipse or myeclipse, you can increase memory by making changes in .ini file (myeclipse.ini)\r\n\r\n-Xmx2048m\r\n\r\n-XX:MaxPermSize=1024m\r\n\r\n-XX:ReservedCodeCacheSize=512m\r\n\r\n-Dosgi.nls.warnings=ignore\r\n\r\nIt will solve problem connected with heap space.","title":"An internal error occurred during: &quot;Updating indexes&quot;.Java heap space during eclipse start up?","body":"<p>If you are using eclipse or myeclipse, you can increase memory by making changes in .ini file (myeclipse.ini)</p>\n\n<p>-Xmx2048m</p>\n\n<p>-XX:MaxPermSize=1024m</p>\n\n<p>-XX:ReservedCodeCacheSize=512m</p>\n\n<p>-Dosgi.nls.warnings=ignore</p>\n\n<p>It will solve problem connected with heap space.</p>\n"},{"tags":[],"owner":{"account_id":1478202,"reputation":1236,"user_id":1388104,"accept_rate":50,"display_name":"Aaron Swan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542832855,"creation_date":1542832855,"answer_id":53420162,"question_id":14772691,"body_markdown":"This may not be directly related to the question, but this fixed the java heap issues I had:\r\n\r\nLaunch eclipse using `eclipse -vmargs -Xmx2048m`.\r\n\r\nFrom the readme included with the eclipse install:\r\n\r\n&gt; By default, Eclipse will allocate up to 512 megabytes of Java heap\r\n&gt; memory. This should be ample for all typical development tasks.\r\n&gt; However, depending on the JRE that you are running, the number of\r\n&gt; additional plug-ins you are using, and the number of files you will be\r\n&gt; working with, you could conceivably have to increase this amount.\r\n&gt; Eclipse allows you to pass arguments directly to the Java VM using the\r\n&gt; -vmargs command line argument, which must follow all other Eclipse specific arguments. Thus, to increase the available heap memory, you\r\n&gt; would typically use:\r\n&gt; \r\n&gt;     eclipse -vmargs -Xmx&lt;memory size&gt;\r\n&gt; \r\n&gt; with the &lt;memory size&gt; value set to greater than &quot;512M&quot; (512 megabytes\r\n&gt; -- the default).","title":"An internal error occurred during: &quot;Updating indexes&quot;.Java heap space during eclipse start up?","body":"<p>This may not be directly related to the question, but this fixed the java heap issues I had:</p>\n\n<p>Launch eclipse using <code>eclipse -vmargs -Xmx2048m</code>.</p>\n\n<p>From the readme included with the eclipse install:</p>\n\n<blockquote>\n  <p>By default, Eclipse will allocate up to 512 megabytes of Java heap\n  memory. This should be ample for all typical development tasks.\n  However, depending on the JRE that you are running, the number of\n  additional plug-ins you are using, and the number of files you will be\n  working with, you could conceivably have to increase this amount.\n  Eclipse allows you to pass arguments directly to the Java VM using the\n  -vmargs command line argument, which must follow all other Eclipse specific arguments. Thus, to increase the available heap memory, you\n  would typically use:</p>\n\n<pre><code>eclipse -vmargs -Xmx&lt;memory size&gt;\n</code></pre>\n  \n  <p>with the  value set to greater than \"512M\" (512 megabytes\n  -- the default).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12160582,"reputation":36,"user_id":8878249,"display_name":"Jean-Michel Bernard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634177966,"creation_date":1634177966,"answer_id":69564349,"question_id":14772691,"body_markdown":"Old question, but I got this issue and adding more memory did not solve, so I rebuilt the java index by applying [this comment][1] from eclipse bug tracker: \r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=512373#c5\r\n\r\nI Quote:\r\n\r\n&gt; Click in &quot;Quick Access&quot;, Type &quot;Rebuild Java Index&quot; (Actually just start typing it, use the auto completion), Hit enter.\r\n","title":"An internal error occurred during: &quot;Updating indexes&quot;.Java heap space during eclipse start up?","body":"<p>Old question, but I got this issue and adding more memory did not solve, so I rebuilt the java index by applying <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=512373#c5\" rel=\"nofollow noreferrer\">this comment</a> from eclipse bug tracker:</p>\n<p>I Quote:</p>\n<blockquote>\n<p>Click in &quot;Quick Access&quot;, Type &quot;Rebuild Java Index&quot; (Actually just start typing it, use the auto completion), Hit enter.</p>\n</blockquote>\n"}],"owner":{"account_id":2042921,"reputation":10170,"user_id":3222249,"accept_rate":73,"display_name":"emilly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24593,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":14775489,"answer_count":5,"score":19,"last_activity_date":1634177966,"creation_date":1360326802,"question_id":14772691,"body_markdown":"I am getting below error  while starting eclipse\r\n\r\n\tAn internal error occurred during: &quot;Updating indexes&quot;.Java heap space?\r\n\r\nIt was running fine half an hour before.I restarted the eclipse and getting this error now? i have 8 gb ram,window 7 64 bit OS.\r\ni have tried restarting my system but nothing helped?\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.1.1.R36x_v20101122_1400.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.2.R36x_v20101222\r\n    -showsplash\r\n    org.eclipse.platform\r\n    -showLocation\r\n    --launcher.XXMaxPermSize\r\n    256m\r\n    --launcher.defaultAction\r\n    openFile\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.XXMaxPermSize\r\n    256M\r\n    -vm\r\n    C:/Program Files (x86)/Java/jdk1.6.0_25/bin/javaw.exe\r\n    -vmargs\r\n    -Dfile.encoding=UTF-8\r\n    -Dosgi.requiredJavaVersion=1.5\r\n    -Xms512m\r\n    -Xmx1024m\r\n\r\n**Not sure what i is the issue?**","title":"An internal error occurred during: &quot;Updating indexes&quot;.Java heap space during eclipse start up?","body":"<p>I am getting below error  while starting eclipse</p>\n\n<pre><code>An internal error occurred during: \"Updating indexes\".Java heap space?\n</code></pre>\n\n<p>It was running fine half an hour before.I restarted the eclipse and getting this error now? i have 8 gb ram,window 7 64 bit OS.\ni have tried restarting my system but nothing helped?</p>\n\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.1.1.R36x_v20101122_1400.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.2.R36x_v20101222\n-showsplash\norg.eclipse.platform\n-showLocation\n--launcher.XXMaxPermSize\n256m\n--launcher.defaultAction\nopenFile\n-product\norg.eclipse.epp.package.jee.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n256M\n-vm\nC:/Program Files (x86)/Java/jdk1.6.0_25/bin/javaw.exe\n-vmargs\n-Dfile.encoding=UTF-8\n-Dosgi.requiredJavaVersion=1.5\n-Xms512m\n-Xmx1024m\n</code></pre>\n\n<p><strong>Not sure what i is the issue?</strong></p>\n"},{"tags":["java","xml","object"],"answers":[{"tags":[],"owner":{"account_id":16036243,"reputation":154,"user_id":11573887,"display_name":"Henry Xiloj Herrera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634177497,"creation_date":1634177497,"answer_id":69564312,"question_id":69564051,"body_markdown":"I share solution:\r\n\r\nIf you use need dependency\r\n\r\n```\r\n&lt;!-- Jaxb --&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;  \r\n```\r\n\r\nFirst class.\r\n```\r\n\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlAttribute;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport javax.xml.bind.annotation.XmlSchemaType;\r\nimport javax.xml.bind.annotation.XmlType;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;bname&quot; })\r\n@XmlRootElement(name = &quot;aname&quot;)\r\npublic class Aname {\r\n\r\n\t@XmlElement(required = true)\r\n\tprotected Aname.Bname bname;\r\n\r\n\t/**\r\n\t * Gets the value of the bname property.\r\n\t * \r\n\t * @return possible object is {@link Aname.Bname }\r\n\t * \r\n\t */\r\n\tpublic Aname.Bname getBname() {\r\n\t\treturn bname;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the value of the bname property.\r\n\t * \r\n\t * @param value allowed object is {@link Aname.Bname }\r\n\t * \r\n\t */\r\n\tpublic void setBname(Aname.Bname value) {\r\n\t\tthis.bname = value;\r\n\t}\r\n\r\n\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t@XmlType(name = &quot;&quot;, propOrder = { &quot;c&quot; })\r\n\tpublic static class Bname {\r\n\r\n\t\t@XmlElement(required = true)\r\n\t\tprotected Aname.Bname.C c;\r\n\r\n\t\t/**\r\n\t\t * Gets the value of the c property.\r\n\t\t * \r\n\t\t * @return possible object is {@link Aname.Bname.C }\r\n\t\t * \r\n\t\t */\r\n\t\tpublic Aname.Bname.C getC() {\r\n\t\t\treturn c;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Sets the value of the c property.\r\n\t\t * \r\n\t\t * @param value allowed object is {@link Aname.Bname.C }\r\n\t\t * \r\n\t\t */\r\n\t\tpublic void setC(Aname.Bname.C value) {\r\n\t\t\tthis.c = value;\r\n\t\t}\r\n\r\n\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t@XmlType(name = &quot;&quot;, propOrder = { &quot;cname&quot;, &quot;acc&quot; })\r\n\t\tpublic static class C {\r\n\r\n\t\t\t@XmlElement(required = true)\r\n\t\t\tprotected Aname.Bname.C.Cname cname;\r\n\t\t\t@XmlElement(required = true)\r\n\t\t\tprotected Aname.Bname.C.Acc acc;\r\n\t\t\t@XmlAttribute(name = &quot;id&quot;, required = true)\r\n\t\t\t@XmlSchemaType(name = &quot;unsignedByte&quot;)\r\n\t\t\tprotected short id;\r\n\r\n\t\t\t/**\r\n\t\t\t * Gets the value of the cname property.\r\n\t\t\t * \r\n\t\t\t * @return possible object is {@link Aname.Bname.C.Cname }\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tpublic Aname.Bname.C.Cname getCname() {\r\n\t\t\t\treturn cname;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Sets the value of the cname property.\r\n\t\t\t * \r\n\t\t\t * @param value allowed object is {@link Aname.Bname.C.Cname }\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tpublic void setCname(Aname.Bname.C.Cname value) {\r\n\t\t\t\tthis.cname = value;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Gets the value of the acc property.\r\n\t\t\t * \r\n\t\t\t * @return possible object is {@link Aname.Bname.C.Acc }\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tpublic Aname.Bname.C.Acc getAcc() {\r\n\t\t\t\treturn acc;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Sets the value of the acc property.\r\n\t\t\t * \r\n\t\t\t * @param value allowed object is {@link Aname.Bname.C.Acc }\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tpublic void setAcc(Aname.Bname.C.Acc value) {\r\n\t\t\t\tthis.acc = value;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Gets the value of the id property.\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tpublic short getId() {\r\n\t\t\t\treturn id;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Sets the value of the id property.\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tpublic void setId(short value) {\r\n\t\t\t\tthis.id = value;\r\n\t\t\t}\r\n\r\n\t\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t\t@XmlType(name = &quot;&quot;, propOrder = { &quot;accinfo&quot; })\r\n\t\t\tpublic static class Acc {\r\n\r\n\t\t\t\t@XmlElement(required = true)\r\n\t\t\t\tprotected Aname.Bname.C.Acc.Accinfo accinfo;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Gets the value of the accinfo property.\r\n\t\t\t\t * \r\n\t\t\t\t * @return possible object is {@link Aname.Bname.C.Acc.Accinfo }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic Aname.Bname.C.Acc.Accinfo getAccinfo() {\r\n\t\t\t\t\treturn accinfo;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the value of the accinfo property.\r\n\t\t\t\t * \r\n\t\t\t\t * @param value allowed object is {@link Aname.Bname.C.Acc.Accinfo }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic void setAccinfo(Aname.Bname.C.Acc.Accinfo value) {\r\n\t\t\t\t\tthis.accinfo = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t\t\t@XmlType(name = &quot;&quot;)\r\n\t\t\t\tpublic static class Accinfo {\r\n\r\n\t\t\t\t\t@XmlAttribute(name = &quot;name&quot;, required = true)\r\n\t\t\t\t\tprotected String name;\r\n\t\t\t\t\t@XmlAttribute(name = &quot;addr&quot;, required = true)\r\n\t\t\t\t\tprotected String addr;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Gets the value of the name property.\r\n\t\t\t\t\t * \r\n\t\t\t\t\t * @return possible object is {@link String }\r\n\t\t\t\t\t * \r\n\t\t\t\t\t */\r\n\t\t\t\t\tpublic String getName() {\r\n\t\t\t\t\t\treturn name;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Sets the value of the name property.\r\n\t\t\t\t\t * \r\n\t\t\t\t\t * @param value allowed object is {@link String }\r\n\t\t\t\t\t * \r\n\t\t\t\t\t */\r\n\t\t\t\t\tpublic void setName(String value) {\r\n\t\t\t\t\t\tthis.name = value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Gets the value of the addr property.\r\n\t\t\t\t\t * \r\n\t\t\t\t\t * @return possible object is {@link String }\r\n\t\t\t\t\t * \r\n\t\t\t\t\t */\r\n\t\t\t\t\tpublic String getAddr() {\r\n\t\t\t\t\t\treturn addr;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Sets the value of the addr property.\r\n\t\t\t\t\t * \r\n\t\t\t\t\t * @param value allowed object is {@link String }\r\n\t\t\t\t\t * \r\n\t\t\t\t\t */\r\n\t\t\t\t\tpublic void setAddr(String value) {\r\n\t\t\t\t\t\tthis.addr = value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t\t@XmlType(name = &quot;&quot;)\r\n\t\t\tpublic static class Cname {\r\n\r\n\t\t\t\t@XmlAttribute(name = &quot;call&quot;, required = true)\r\n\t\t\t\tprotected String call;\r\n\t\t\t\t@XmlAttribute(name = &quot;text&quot;, required = true)\r\n\t\t\t\tprotected String text;\r\n\t\t\t\t@XmlAttribute(name = &quot;email&quot;, required = true)\r\n\t\t\t\tprotected String email;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Gets the value of the call property.\r\n\t\t\t\t * \r\n\t\t\t\t * @return possible object is {@link String }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic String getCall() {\r\n\t\t\t\t\treturn call;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the value of the call property.\r\n\t\t\t\t * \r\n\t\t\t\t * @param value allowed object is {@link String }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic void setCall(String value) {\r\n\t\t\t\t\tthis.call = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Gets the value of the text property.\r\n\t\t\t\t * \r\n\t\t\t\t * @return possible object is {@link String }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic String getText() {\r\n\t\t\t\t\treturn text;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the value of the text property.\r\n\t\t\t\t * \r\n\t\t\t\t * @param value allowed object is {@link String }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic void setText(String value) {\r\n\t\t\t\t\tthis.text = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Gets the value of the email property.\r\n\t\t\t\t * \r\n\t\t\t\t * @return possible object is {@link String }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic String getEmail() {\r\n\t\t\t\t\treturn email;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sets the value of the email property.\r\n\t\t\t\t * \r\n\t\t\t\t * @param value allowed object is {@link String }\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tpublic void setEmail(String value) {\r\n\t\t\t\t\tthis.email = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nSecond class.\r\n\r\n```\r\nimport javax.xml.bind.annotation.XmlRegistry;\r\n\r\n@XmlRegistry\r\npublic class ObjectFactory {\r\n\r\n\t/**\r\n\t * Create a new ObjectFactory that can be used to create new instances of schema\r\n\t * derived classes for package: generated\r\n\t * \r\n\t */\r\n\tpublic ObjectFactory() {\r\n\t}\r\n\r\n\t/**\r\n\t * Create an instance of {@link Aname }\r\n\t * \r\n\t */\r\n\tpublic Aname createAname() {\r\n\t\treturn new Aname();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an instance of {@link Aname.Bname }\r\n\t * \r\n\t */\r\n\tpublic Aname.Bname createAnameBname() {\r\n\t\treturn new Aname.Bname();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an instance of {@link Aname.Bname.C }\r\n\t * \r\n\t */\r\n\tpublic Aname.Bname.C createAnameBnameC() {\r\n\t\treturn new Aname.Bname.C();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an instance of {@link Aname.Bname.C.Acc }\r\n\t * \r\n\t */\r\n\tpublic Aname.Bname.C.Acc createAnameBnameCAcc() {\r\n\t\treturn new Aname.Bname.C.Acc();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an instance of {@link Aname.Bname.C.Cname }\r\n\t * \r\n\t */\r\n\tpublic Aname.Bname.C.Cname createAnameBnameCCname() {\r\n\t\treturn new Aname.Bname.C.Cname();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an instance of {@link Aname.Bname.C.Acc.Accinfo }\r\n\t * \r\n\t */\r\n\tpublic Aname.Bname.C.Acc.Accinfo createAnameBnameCAccAccinfo() {\r\n\t\treturn new Aname.Bname.C.Acc.Accinfo();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd Main class.\r\n\r\n```\r\n\r\n\r\nimport java.io.StringReader;\r\nimport java.text.ParseException;\r\n\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Unmarshaller;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class Test {\r\n\r\n\tstatic ObjectMapper mapper = new ObjectMapper();\r\n\r\n\tpublic static void main(String... strings) throws ParseException {\r\n\r\n\t\tString xml = &quot;&lt;aname&gt; &lt;bname&gt; &lt;c id=\\&quot;2\\&quot;&gt; &lt;cname call=\\&quot;yes\\&quot; text=\\&quot;no\\&quot; email=\\&quot;yes\\&quot;/&gt; &lt;acc&gt; &lt;accinfo name=\\&quot;ax\\&quot; addr=\\&quot;USA\\&quot;/&gt; &lt;/acc&gt; &lt;/c&gt; &lt;/bname&gt; &lt;/aname&gt;&quot;;\r\n\t\t\r\n\t\tAname clazz = convertXMLToObject(Aname.class, xml);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSystem.out.println(mapper.writeValueAsString(clazz));\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T convertXMLToObject(Class&lt;T&gt; clazz, String xml) \r\n    {\r\n        try {\r\n\r\n            JAXBContext context = JAXBContext.newInstance(clazz);\r\n            Unmarshaller um = context.createUnmarshaller();\r\n            return (T) um.unmarshal(new StringReader(xml));\r\n        } \r\n        catch (JAXBException je){\r\n            throw new RuntimeException(String.format(&quot;Exception while Unmarshaller: %s&quot;, je.getMessage()));\r\n        }\r\n    }\r\n\t\r\n}\r\n\r\n```\r\n\r\nresult this.\r\n```\r\n{&quot;bname&quot;:{&quot;c&quot;:{&quot;cname&quot;:{&quot;call&quot;:&quot;yes&quot;,&quot;text&quot;:&quot;no&quot;,&quot;email&quot;:&quot;yes&quot;},&quot;acc&quot;:{&quot;accinfo&quot;:{&quot;name&quot;:&quot;ax&quot;,&quot;addr&quot;:&quot;USA&quot;}},&quot;id&quot;:2}}}\r\n```\r\n","title":"XML to Object mapping","body":"<p>I share solution:</p>\n<p>If you use need dependency</p>\n<pre><code>&lt;!-- Jaxb --&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n   &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n&lt;/dependency&gt;  \n</code></pre>\n<p>First class.</p>\n<pre><code>\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;bname&quot; })\n@XmlRootElement(name = &quot;aname&quot;)\npublic class Aname {\n\n    @XmlElement(required = true)\n    protected Aname.Bname bname;\n\n    /**\n     * Gets the value of the bname property.\n     * \n     * @return possible object is {@link Aname.Bname }\n     * \n     */\n    public Aname.Bname getBname() {\n        return bname;\n    }\n\n    /**\n     * Sets the value of the bname property.\n     * \n     * @param value allowed object is {@link Aname.Bname }\n     * \n     */\n    public void setBname(Aname.Bname value) {\n        this.bname = value;\n    }\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;, propOrder = { &quot;c&quot; })\n    public static class Bname {\n\n        @XmlElement(required = true)\n        protected Aname.Bname.C c;\n\n        /**\n         * Gets the value of the c property.\n         * \n         * @return possible object is {@link Aname.Bname.C }\n         * \n         */\n        public Aname.Bname.C getC() {\n            return c;\n        }\n\n        /**\n         * Sets the value of the c property.\n         * \n         * @param value allowed object is {@link Aname.Bname.C }\n         * \n         */\n        public void setC(Aname.Bname.C value) {\n            this.c = value;\n        }\n\n        @XmlAccessorType(XmlAccessType.FIELD)\n        @XmlType(name = &quot;&quot;, propOrder = { &quot;cname&quot;, &quot;acc&quot; })\n        public static class C {\n\n            @XmlElement(required = true)\n            protected Aname.Bname.C.Cname cname;\n            @XmlElement(required = true)\n            protected Aname.Bname.C.Acc acc;\n            @XmlAttribute(name = &quot;id&quot;, required = true)\n            @XmlSchemaType(name = &quot;unsignedByte&quot;)\n            protected short id;\n\n            /**\n             * Gets the value of the cname property.\n             * \n             * @return possible object is {@link Aname.Bname.C.Cname }\n             * \n             */\n            public Aname.Bname.C.Cname getCname() {\n                return cname;\n            }\n\n            /**\n             * Sets the value of the cname property.\n             * \n             * @param value allowed object is {@link Aname.Bname.C.Cname }\n             * \n             */\n            public void setCname(Aname.Bname.C.Cname value) {\n                this.cname = value;\n            }\n\n            /**\n             * Gets the value of the acc property.\n             * \n             * @return possible object is {@link Aname.Bname.C.Acc }\n             * \n             */\n            public Aname.Bname.C.Acc getAcc() {\n                return acc;\n            }\n\n            /**\n             * Sets the value of the acc property.\n             * \n             * @param value allowed object is {@link Aname.Bname.C.Acc }\n             * \n             */\n            public void setAcc(Aname.Bname.C.Acc value) {\n                this.acc = value;\n            }\n\n            /**\n             * Gets the value of the id property.\n             * \n             */\n            public short getId() {\n                return id;\n            }\n\n            /**\n             * Sets the value of the id property.\n             * \n             */\n            public void setId(short value) {\n                this.id = value;\n            }\n\n            @XmlAccessorType(XmlAccessType.FIELD)\n            @XmlType(name = &quot;&quot;, propOrder = { &quot;accinfo&quot; })\n            public static class Acc {\n\n                @XmlElement(required = true)\n                protected Aname.Bname.C.Acc.Accinfo accinfo;\n\n                /**\n                 * Gets the value of the accinfo property.\n                 * \n                 * @return possible object is {@link Aname.Bname.C.Acc.Accinfo }\n                 * \n                 */\n                public Aname.Bname.C.Acc.Accinfo getAccinfo() {\n                    return accinfo;\n                }\n\n                /**\n                 * Sets the value of the accinfo property.\n                 * \n                 * @param value allowed object is {@link Aname.Bname.C.Acc.Accinfo }\n                 * \n                 */\n                public void setAccinfo(Aname.Bname.C.Acc.Accinfo value) {\n                    this.accinfo = value;\n                }\n\n                @XmlAccessorType(XmlAccessType.FIELD)\n                @XmlType(name = &quot;&quot;)\n                public static class Accinfo {\n\n                    @XmlAttribute(name = &quot;name&quot;, required = true)\n                    protected String name;\n                    @XmlAttribute(name = &quot;addr&quot;, required = true)\n                    protected String addr;\n\n                    /**\n                     * Gets the value of the name property.\n                     * \n                     * @return possible object is {@link String }\n                     * \n                     */\n                    public String getName() {\n                        return name;\n                    }\n\n                    /**\n                     * Sets the value of the name property.\n                     * \n                     * @param value allowed object is {@link String }\n                     * \n                     */\n                    public void setName(String value) {\n                        this.name = value;\n                    }\n\n                    /**\n                     * Gets the value of the addr property.\n                     * \n                     * @return possible object is {@link String }\n                     * \n                     */\n                    public String getAddr() {\n                        return addr;\n                    }\n\n                    /**\n                     * Sets the value of the addr property.\n                     * \n                     * @param value allowed object is {@link String }\n                     * \n                     */\n                    public void setAddr(String value) {\n                        this.addr = value;\n                    }\n\n                }\n\n            }\n\n            @XmlAccessorType(XmlAccessType.FIELD)\n            @XmlType(name = &quot;&quot;)\n            public static class Cname {\n\n                @XmlAttribute(name = &quot;call&quot;, required = true)\n                protected String call;\n                @XmlAttribute(name = &quot;text&quot;, required = true)\n                protected String text;\n                @XmlAttribute(name = &quot;email&quot;, required = true)\n                protected String email;\n\n                /**\n                 * Gets the value of the call property.\n                 * \n                 * @return possible object is {@link String }\n                 * \n                 */\n                public String getCall() {\n                    return call;\n                }\n\n                /**\n                 * Sets the value of the call property.\n                 * \n                 * @param value allowed object is {@link String }\n                 * \n                 */\n                public void setCall(String value) {\n                    this.call = value;\n                }\n\n                /**\n                 * Gets the value of the text property.\n                 * \n                 * @return possible object is {@link String }\n                 * \n                 */\n                public String getText() {\n                    return text;\n                }\n\n                /**\n                 * Sets the value of the text property.\n                 * \n                 * @param value allowed object is {@link String }\n                 * \n                 */\n                public void setText(String value) {\n                    this.text = value;\n                }\n\n                /**\n                 * Gets the value of the email property.\n                 * \n                 * @return possible object is {@link String }\n                 * \n                 */\n                public String getEmail() {\n                    return email;\n                }\n\n                /**\n                 * Sets the value of the email property.\n                 * \n                 * @param value allowed object is {@link String }\n                 * \n                 */\n                public void setEmail(String value) {\n                    this.email = value;\n                }\n\n            }\n\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>Second class.</p>\n<pre><code>import javax.xml.bind.annotation.XmlRegistry;\n\n@XmlRegistry\npublic class ObjectFactory {\n\n    /**\n     * Create a new ObjectFactory that can be used to create new instances of schema\n     * derived classes for package: generated\n     * \n     */\n    public ObjectFactory() {\n    }\n\n    /**\n     * Create an instance of {@link Aname }\n     * \n     */\n    public Aname createAname() {\n        return new Aname();\n    }\n\n    /**\n     * Create an instance of {@link Aname.Bname }\n     * \n     */\n    public Aname.Bname createAnameBname() {\n        return new Aname.Bname();\n    }\n\n    /**\n     * Create an instance of {@link Aname.Bname.C }\n     * \n     */\n    public Aname.Bname.C createAnameBnameC() {\n        return new Aname.Bname.C();\n    }\n\n    /**\n     * Create an instance of {@link Aname.Bname.C.Acc }\n     * \n     */\n    public Aname.Bname.C.Acc createAnameBnameCAcc() {\n        return new Aname.Bname.C.Acc();\n    }\n\n    /**\n     * Create an instance of {@link Aname.Bname.C.Cname }\n     * \n     */\n    public Aname.Bname.C.Cname createAnameBnameCCname() {\n        return new Aname.Bname.C.Cname();\n    }\n\n    /**\n     * Create an instance of {@link Aname.Bname.C.Acc.Accinfo }\n     * \n     */\n    public Aname.Bname.C.Acc.Accinfo createAnameBnameCAccAccinfo() {\n        return new Aname.Bname.C.Acc.Accinfo();\n    }\n\n}\n\n</code></pre>\n<p>And Main class.</p>\n<pre><code>\n\nimport java.io.StringReader;\nimport java.text.ParseException;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Unmarshaller;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Test {\n\n    static ObjectMapper mapper = new ObjectMapper();\n\n    public static void main(String... strings) throws ParseException {\n\n        String xml = &quot;&lt;aname&gt; &lt;bname&gt; &lt;c id=\\&quot;2\\&quot;&gt; &lt;cname call=\\&quot;yes\\&quot; text=\\&quot;no\\&quot; email=\\&quot;yes\\&quot;/&gt; &lt;acc&gt; &lt;accinfo name=\\&quot;ax\\&quot; addr=\\&quot;USA\\&quot;/&gt; &lt;/acc&gt; &lt;/c&gt; &lt;/bname&gt; &lt;/aname&gt;&quot;;\n        \n        Aname clazz = convertXMLToObject(Aname.class, xml);\n        \n        try {\n            System.out.println(mapper.writeValueAsString(clazz));\n        } catch (JsonProcessingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; T convertXMLToObject(Class&lt;T&gt; clazz, String xml) \n    {\n        try {\n\n            JAXBContext context = JAXBContext.newInstance(clazz);\n            Unmarshaller um = context.createUnmarshaller();\n            return (T) um.unmarshal(new StringReader(xml));\n        } \n        catch (JAXBException je){\n            throw new RuntimeException(String.format(&quot;Exception while Unmarshaller: %s&quot;, je.getMessage()));\n        }\n    }\n    \n}\n\n</code></pre>\n<p>result this.</p>\n<pre><code>{&quot;bname&quot;:{&quot;c&quot;:{&quot;cname&quot;:{&quot;call&quot;:&quot;yes&quot;,&quot;text&quot;:&quot;no&quot;,&quot;email&quot;:&quot;yes&quot;},&quot;acc&quot;:{&quot;accinfo&quot;:{&quot;name&quot;:&quot;ax&quot;,&quot;addr&quot;:&quot;USA&quot;}},&quot;id&quot;:2}}}\n</code></pre>\n"}],"owner":{"account_id":10477056,"reputation":21,"user_id":7723264,"display_name":"user7723264"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69564312,"answer_count":1,"score":-1,"last_activity_date":1634177497,"creation_date":1634174710,"question_id":69564051,"body_markdown":"Having hard time to map..\r\nCalling rest and rest return response in XML format..\r\nHelp with class mapping in Java Object (method)\r\n\r\n    &lt;aname&gt;\r\n       &lt;bname&gt;\r\n         &lt;c id=&quot;2&quot;&gt;\r\n         &lt;cname call=&quot;yes&quot; text=&quot;no&quot; email=&quot;yes&quot;/&gt;\r\n         &lt;acc&gt;\r\n            &lt;accinfo name=&quot;ax&quot; addr=&quot;USA&quot;/&gt;\r\n         &lt;/acc&gt;\r\n        &lt;/c&gt;\r\n       &lt;/bname&gt;\r\n    &lt;/aname&gt;\r\n\r\nhow can i convert above xml in Java class?\r\nThank You!","title":"XML to Object mapping","body":"<p>Having hard time to map..\nCalling rest and rest return response in XML format..\nHelp with class mapping in Java Object (method)</p>\n<pre><code>&lt;aname&gt;\n   &lt;bname&gt;\n     &lt;c id=&quot;2&quot;&gt;\n     &lt;cname call=&quot;yes&quot; text=&quot;no&quot; email=&quot;yes&quot;/&gt;\n     &lt;acc&gt;\n        &lt;accinfo name=&quot;ax&quot; addr=&quot;USA&quot;/&gt;\n     &lt;/acc&gt;\n    &lt;/c&gt;\n   &lt;/bname&gt;\n&lt;/aname&gt;\n</code></pre>\n<p>how can i convert above xml in Java class?\nThank You!</p>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1333429143,"creation_date":1333429143,"answer_id":9987357,"question_id":9987019,"body_markdown":"Answering to these questions gives you the answer?\r\n\r\n* Do your asynchronous tasks create other tasks submitted to `CompletionService`?\r\n* Is `service` the only object that is supposed to handle the tasks created in your application?\r\n\r\nBased on [reference documentation][1], `CompletionService` acts upon a consumer/producer approach and takes advantage of an internal `Executor`. So, as long as, you produce the tasks in one place and consume them in another place, `CompletionService.take()` will denote if there are any more results to give out.\r\n\r\nI believe [this question][2] also helps you.\r\n\r\n[1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CompletionService.html\r\n[2]: https://stackoverflow.com/questions/4912228/when-should-i-use-a-completionservice-over-an-executorservice","title":"How to know when a CompletionService is finished delivering results?","body":"<p>Answering to these questions gives you the answer?</p>\n\n<ul>\n<li>Do your asynchronous tasks create other tasks submitted to <code>CompletionService</code>?</li>\n<li>Is <code>service</code> the only object that is supposed to handle the tasks created in your application?</li>\n</ul>\n\n<p>Based on <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CompletionService.html\" rel=\"nofollow noreferrer\">reference documentation</a>, <code>CompletionService</code> acts upon a consumer/producer approach and takes advantage of an internal <code>Executor</code>. So, as long as, you produce the tasks in one place and consume them in another place, <code>CompletionService.take()</code> will denote if there are any more results to give out.</p>\n\n<p>I believe <a href=\"https://stackoverflow.com/questions/4912228/when-should-i-use-a-completionservice-over-an-executorservice\">this question</a> also helps you.</p>\n"},{"tags":[],"owner":{"account_id":37756,"reputation":1808,"user_id":108034,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1402577969,"creation_date":1402577969,"answer_id":24185059,"question_id":9987019,"body_markdown":"See http://www.javaspecialists.eu/archive/Issue214.html for a decent suggestion on how to extend the ExecutorCompletionService to do what you&#39;re looking for.  I&#39;ve pasted the relevant code below for your convenience.  The author also suggests making the service implement Iterable, which I think would be a good idea.\r\n\r\nFWIW, I agree with you that this really should be part of the standard implementation, but alas, it&#39;s not.\r\n\r\n    import java.util.concurrent.*;\r\n    import java.util.concurrent.atomic.*;\r\n    \r\n    public class CountingCompletionService&lt;V&gt; extends ExecutorCompletionService&lt;V&gt; {\r\n      private final AtomicLong submittedTasks = new AtomicLong();\r\n      private final AtomicLong completedTasks = new AtomicLong();\r\n    \r\n      public CountingCompletionService(Executor executor) {\r\n        super(executor);\r\n      }\r\n    \r\n      public CountingCompletionService(\r\n          Executor executor, BlockingQueue&lt;Future&lt;V&gt;&gt; queue) {\r\n        super(executor, queue);\r\n      }\r\n    \r\n      public Future&lt;V&gt; submit(Callable&lt;V&gt; task) {\r\n        Future&lt;V&gt; future = super.submit(task);\r\n        submittedTasks.incrementAndGet();\r\n        return future;\r\n      }\r\n    \r\n      public Future&lt;V&gt; submit(Runnable task, V result) {\r\n        Future&lt;V&gt; future = super.submit(task, result);\r\n        submittedTasks.incrementAndGet();\r\n        return future;\r\n      }\r\n    \r\n      public Future&lt;V&gt; take() throws InterruptedException {\r\n        Future&lt;V&gt; future = super.take();\r\n        completedTasks.incrementAndGet();\r\n        return future;\r\n      }\r\n    \r\n      public Future&lt;V&gt; poll() {\r\n        Future&lt;V&gt; future = super.poll();\r\n        if (future != null) completedTasks.incrementAndGet();\r\n        return future;\r\n      }\r\n    \r\n      public Future&lt;V&gt; poll(long timeout, TimeUnit unit)\r\n          throws InterruptedException {\r\n        Future&lt;V&gt; future = super.poll(timeout, unit);\r\n        if (future != null) completedTasks.incrementAndGet();\r\n        return future;\r\n      }\r\n    \r\n      public long getNumberOfCompletedTasks() {\r\n        return completedTasks.get();\r\n      }\r\n    \r\n      public long getNumberOfSubmittedTasks() {\r\n        return submittedTasks.get();\r\n      }\r\n    \r\n      public boolean hasUncompletedTasks() {\r\n        return completedTasks.get() &lt; submittedTasks.get();\r\n      }\r\n    }\r\n\r\n","title":"How to know when a CompletionService is finished delivering results?","body":"<p>See <a href=\"http://www.javaspecialists.eu/archive/Issue214.html\" rel=\"noreferrer\">http://www.javaspecialists.eu/archive/Issue214.html</a> for a decent suggestion on how to extend the ExecutorCompletionService to do what you're looking for.  I've pasted the relevant code below for your convenience.  The author also suggests making the service implement Iterable, which I think would be a good idea.</p>\n\n<p>FWIW, I agree with you that this really should be part of the standard implementation, but alas, it's not.</p>\n\n<pre><code>import java.util.concurrent.*;\nimport java.util.concurrent.atomic.*;\n\npublic class CountingCompletionService&lt;V&gt; extends ExecutorCompletionService&lt;V&gt; {\n  private final AtomicLong submittedTasks = new AtomicLong();\n  private final AtomicLong completedTasks = new AtomicLong();\n\n  public CountingCompletionService(Executor executor) {\n    super(executor);\n  }\n\n  public CountingCompletionService(\n      Executor executor, BlockingQueue&lt;Future&lt;V&gt;&gt; queue) {\n    super(executor, queue);\n  }\n\n  public Future&lt;V&gt; submit(Callable&lt;V&gt; task) {\n    Future&lt;V&gt; future = super.submit(task);\n    submittedTasks.incrementAndGet();\n    return future;\n  }\n\n  public Future&lt;V&gt; submit(Runnable task, V result) {\n    Future&lt;V&gt; future = super.submit(task, result);\n    submittedTasks.incrementAndGet();\n    return future;\n  }\n\n  public Future&lt;V&gt; take() throws InterruptedException {\n    Future&lt;V&gt; future = super.take();\n    completedTasks.incrementAndGet();\n    return future;\n  }\n\n  public Future&lt;V&gt; poll() {\n    Future&lt;V&gt; future = super.poll();\n    if (future != null) completedTasks.incrementAndGet();\n    return future;\n  }\n\n  public Future&lt;V&gt; poll(long timeout, TimeUnit unit)\n      throws InterruptedException {\n    Future&lt;V&gt; future = super.poll(timeout, unit);\n    if (future != null) completedTasks.incrementAndGet();\n    return future;\n  }\n\n  public long getNumberOfCompletedTasks() {\n    return completedTasks.get();\n  }\n\n  public long getNumberOfSubmittedTasks() {\n    return submittedTasks.get();\n  }\n\n  public boolean hasUncompletedTasks() {\n    return completedTasks.get() &lt; submittedTasks.get();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634174294,"creation_date":1524245210,"answer_id":49946879,"question_id":9987019,"body_markdown":"The code below is inspired by @Mark&#39;s answer, but I find it more convenient to use:\r\n\r\n    package com.example;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.CompletionService;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorCompletionService;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class CompletionIterator&lt;T&gt; implements Iterator&lt;T&gt;, AutoCloseable {\r\n    \r\n    \tprivate AtomicInteger count = new AtomicInteger(0);\r\n    \t\r\n    \tprivate CompletionService&lt;T&gt; completer;\r\n    \t\r\n    \tprivate ExecutorService executor = Executors.newWorkStealingPool(100);\r\n    \t\r\n    \tpublic CompletionIterator() {\r\n    \t\tthis.completer = new ExecutorCompletionService&lt;&gt;(executor);\r\n    \t}\r\n    \r\n    \tpublic void submit(Callable&lt;T&gt; task) {\r\n    \t    completer.submit(task);\r\n    \t    count.incrementAndGet();\r\n    \t  }\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn count.decrementAndGet() &gt;= 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T next() {\r\n    \t\ttry {\r\n    \t\t\treturn completer.take().get();\r\n    \t\t} catch (InterruptedException | ExecutionException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void close() {\r\n    \t\ttry {\r\n    \t\t\texecutor.shutdown();\r\n    \t\t\texecutor.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\r\n    \t\t\texecutor = null;\r\n    \t\t\tcompleter = null;\r\n    \t\t\tcount = null;\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis is how it can be used :\r\n\r\n    try(CompletionIterator service = new CompletionIterator()) {\r\n      service.submit(task1);\r\n      service.submit(task2);\r\n      // all tasks must be submitted before iterating, to avoid race condition\r\n      for (Future&lt;Integer&gt; future : service) {\r\n        System.out.printf(&quot;Job %d is done%n&quot;, future.get());\r\n      }\r\n    }\r\n  ","title":"How to know when a CompletionService is finished delivering results?","body":"<p>The code below is inspired by @Mark's answer, but I find it more convenient to use:</p>\n<pre><code>package com.example;\n\nimport java.util.Iterator;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.CompletionService;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorCompletionService;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class CompletionIterator&lt;T&gt; implements Iterator&lt;T&gt;, AutoCloseable {\n\n    private AtomicInteger count = new AtomicInteger(0);\n    \n    private CompletionService&lt;T&gt; completer;\n    \n    private ExecutorService executor = Executors.newWorkStealingPool(100);\n    \n    public CompletionIterator() {\n        this.completer = new ExecutorCompletionService&lt;&gt;(executor);\n    }\n\n    public void submit(Callable&lt;T&gt; task) {\n        completer.submit(task);\n        count.incrementAndGet();\n      }\n\n    @Override\n    public boolean hasNext() {\n        return count.decrementAndGet() &gt;= 0;\n    }\n\n    @Override\n    public T next() {\n        try {\n            return completer.take().get();\n        } catch (InterruptedException | ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public void close() {\n        try {\n            executor.shutdown();\n            executor.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\n            executor = null;\n            completer = null;\n            count = null;\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    \n}\n</code></pre>\n<p>This is how it can be used :</p>\n<pre><code>try(CompletionIterator service = new CompletionIterator()) {\n  service.submit(task1);\n  service.submit(task2);\n  // all tasks must be submitted before iterating, to avoid race condition\n  for (Future&lt;Integer&gt; future : service) {\n    System.out.printf(&quot;Job %d is done%n&quot;, future.get());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233706,"reputation":880,"user_id":499377,"accept_rate":86,"display_name":"fedd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576399516,"creation_date":1576399516,"answer_id":59342400,"question_id":9987019,"body_markdown":"My take based on Alex R&#39; variant. Implying this will only be called in one thread, so no atomics just plain int counter\r\n\r\n    public class CompletionIterator&lt;T&gt; implements Iterable&lt;T&gt; {\r\n\r\n        private int _count = 0;\r\n        private final CompletionService&lt;T&gt; _completer;\r\n\r\n        public CompletionIterator(ExecutorService executor) {\r\n            this._completer = new ExecutorCompletionService&lt;&gt;(executor);\r\n        }\r\n\r\n        public void submit(Callable&lt;T&gt; task) {\r\n            _completer.submit(task);\r\n            _count++;\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return new Iterator&lt;T&gt;() {\r\n\r\n                @Override\r\n                public boolean hasNext() {\r\n                    return _count &gt; 0;\r\n                }\r\n\r\n                @Override\r\n                public T next() {\r\n                    try {\r\n                        T ret = _completer.take().get();\r\n                        _count--;\r\n                        return ret;\r\n                    } catch (InterruptedException | ExecutionException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n\r\n            };\r\n        }\r\n\r\n    }\r\n","title":"How to know when a CompletionService is finished delivering results?","body":"<p>My take based on Alex R' variant. Implying this will only be called in one thread, so no atomics just plain int counter</p>\n\n<pre><code>public class CompletionIterator&lt;T&gt; implements Iterable&lt;T&gt; {\n\n    private int _count = 0;\n    private final CompletionService&lt;T&gt; _completer;\n\n    public CompletionIterator(ExecutorService executor) {\n        this._completer = new ExecutorCompletionService&lt;&gt;(executor);\n    }\n\n    public void submit(Callable&lt;T&gt; task) {\n        _completer.submit(task);\n        _count++;\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return new Iterator&lt;T&gt;() {\n\n            @Override\n            public boolean hasNext() {\n                return _count &gt; 0;\n            }\n\n            @Override\n            public T next() {\n                try {\n                    T ret = _completer.take().get();\n                    _count--;\n                    return ret;\n                } catch (InterruptedException | ExecutionException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n        };\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":204545,"reputation":435,"user_id":452823,"accept_rate":82,"display_name":"Ed Beaty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10413,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9987357,"answer_count":4,"score":7,"last_activity_date":1634174294,"creation_date":1333426472,"question_id":9987019,"body_markdown":"I want to use a CompletionService to process the results from a series of threads *as they are completed*.  I have the service in a loop to take the Future objects it provides as they become available, but I don&#39;t know the best way to determine when all the threads have completed (and thus to exit the loop):\r\n\r\n\t\r\n\timport java.util.concurrent.Callable;\r\n\timport java.util.concurrent.CompletionService;\r\n\timport java.util.concurrent.ExecutorCompletionService;\r\n\timport java.util.concurrent.Executors;\r\n\timport java.util.concurrent.Future;\r\n\timport java.util.concurrent.ThreadPoolExecutor;\r\n\t\r\n\tpublic class Bar {\r\n\t\t\r\n\t\tfinal static int MAX_THREADS = 4;\r\n\t\tfinal static int TOTAL_THREADS = 20;\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws Exception{\r\n\t\r\n\t\t\tfinal ThreadPoolExecutor threadPool = (ThreadPoolExecutor) Executors.newFixedThreadPool(MAX_THREADS);\r\n\t\t\tfinal CompletionService&lt;Integer&gt; service = new ExecutorCompletionService&lt;Integer&gt;(threadPool);\r\n\t\t\t\r\n\t\t\tfor (int i=0; i&lt;TOTAL_THREADS; i++){\r\n\t\t\t\tservice.submit(new MyCallable(i));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tint finished = 0;\r\n\t\t\tFuture&lt;Integer&gt; future = null;\r\n\t\t\tdo{\r\n\t\t\t\tfuture = service.take();\r\n\t\t\t\tint result = future.get();\r\n\t\t\t\tSystem.out.println(&quot;  took: &quot; + result);\r\n\t\t\t\tfinished++;\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}while(finished &lt; TOTAL_THREADS);\r\n\t\r\n\t\t\tSystem.out.println(&quot;Shutting down&quot;);\r\n\t\t\tthreadPool.shutdown();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tpublic static class MyCallable implements Callable&lt;Integer&gt;{\r\n\t\r\n\t\t\tfinal int id;\r\n\t\t\t\r\n\t\t\tpublic MyCallable(int id){\r\n\t\t\t\tthis.id = id;\r\n\t\t\t\tSystem.out.println(&quot;Submitting: &quot; + id);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic Integer call() throws Exception {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\tSystem.out.println(&quot;finished: &quot; + id);\r\n\t\t\t\treturn id;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI&#39;ve tried checking the state of the ThreadPoolExecutor, but I know the getCompletedTaskCount and getTaskCount methods are only approximations and shouldn&#39;t be relied upon.  Is there a better way to ensure that I&#39;ve retrieved all the Futures from the CompletionService than counting them myself?\r\n\r\n----------------\r\n\r\nEdit:  Both the link that Nobeh provided, and [this link](https://stackoverflow.com/a/3269572/452823) suggest that counting the number of tasks submitted, then calling take() that many times, is the way to go.  I&#39;m just surprised there isn&#39;t a way to ask the CompletionService or its Executor what&#39;s left to be returned.","title":"How to know when a CompletionService is finished delivering results?","body":"<p>I want to use a CompletionService to process the results from a series of threads <em>as they are completed</em>.  I have the service in a loop to take the Future objects it provides as they become available, but I don't know the best way to determine when all the threads have completed (and thus to exit the loop):</p>\n\n<pre><code>import java.util.concurrent.Callable;\nimport java.util.concurrent.CompletionService;\nimport java.util.concurrent.ExecutorCompletionService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.ThreadPoolExecutor;\n\npublic class Bar {\n\n    final static int MAX_THREADS = 4;\n    final static int TOTAL_THREADS = 20;\n\n    public static void main(String[] args) throws Exception{\n\n        final ThreadPoolExecutor threadPool = (ThreadPoolExecutor) Executors.newFixedThreadPool(MAX_THREADS);\n        final CompletionService&lt;Integer&gt; service = new ExecutorCompletionService&lt;Integer&gt;(threadPool);\n\n        for (int i=0; i&lt;TOTAL_THREADS; i++){\n            service.submit(new MyCallable(i));\n        }\n\n        int finished = 0;\n        Future&lt;Integer&gt; future = null;\n        do{\n            future = service.take();\n            int result = future.get();\n            System.out.println(\"  took: \" + result);\n            finished++;             \n\n        }while(finished &lt; TOTAL_THREADS);\n\n        System.out.println(\"Shutting down\");\n        threadPool.shutdown();\n    }\n\n\n    public static class MyCallable implements Callable&lt;Integer&gt;{\n\n        final int id;\n\n        public MyCallable(int id){\n            this.id = id;\n            System.out.println(\"Submitting: \" + id);\n        }\n\n        @Override\n        public Integer call() throws Exception {\n            Thread.sleep(1000);\n            System.out.println(\"finished: \" + id);\n            return id;\n        }\n    }\n}\n</code></pre>\n\n<p>I've tried checking the state of the ThreadPoolExecutor, but I know the getCompletedTaskCount and getTaskCount methods are only approximations and shouldn't be relied upon.  Is there a better way to ensure that I've retrieved all the Futures from the CompletionService than counting them myself?</p>\n\n<hr>\n\n<p>Edit:  Both the link that Nobeh provided, and <a href=\"https://stackoverflow.com/a/3269572/452823\">this link</a> suggest that counting the number of tasks submitted, then calling take() that many times, is the way to go.  I'm just surprised there isn't a way to ask the CompletionService or its Executor what's left to be returned.</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1634024906,"post_id":69536566,"comment_id":122908831,"body_markdown":"*Which* particular web page would you like to use for your Rich Link Preview?","body":"<i>Which</i> particular web page would you like to use for your Rich Link Preview?"},{"owner":{"account_id":23009733,"reputation":9,"user_id":17132418,"display_name":"Gu Nguyen"},"score":0,"creation_date":1634025496,"post_id":69536566,"comment_id":122909069,"body_markdown":"I want it to work with Amazons link like https://www.amazon.com/Accessories-Nintendo-Starter-Carrying-Protector-Controller/dp/B0792QJ28Y/ref=mp_s_a_1_2_sspa?dchild=1&amp;keywords=nintendo+switch&amp;qid=1633995339&amp;sr=8-2-spons&amp;psc=1&amp;spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEyR1BVQ0w4M0U4V0kwJmVuY3J5cHRlZElkPUEwNTQzOTQySDdERTEyUDEwUjVJJmVuY3J5cHRlZEFkSWQ9QTA1Njk5ODEyTE4yVDk2STY1RUNGJndpZGdldE5hbWU9c3BfcGhvbmVfc2VhcmNoX2F0ZiZhY3Rpb249Y2xpY2tSZWRpcmVjdCZkb05vdExvZ0NsaWNrPXRydWU=. or https://www.amazon.com/AMD-Ryzen-5800X-16-Thread-Processor/dp/B0815XFSGK?ref_=Oct_DLandingS_D_ea36ff45_60&amp;smid=ATVPDKIKX0DER","body":"I want it to work with Amazons link like <a href=\"https://rads.stackoverflow.com/amzn/click/com/B0792QJ28Y\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/&hellip;</a>. or <a href=\"https://rads.stackoverflow.com/amzn/click/com/B0815XFSGK\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/AMD-Ryzen-5800X-16-Thread-Processor/dp/&hellip;</a>"},{"owner":{"account_id":23009733,"reputation":9,"user_id":17132418,"display_name":"Gu Nguyen"},"score":0,"creation_date":1634025558,"post_id":69536566,"comment_id":122909100,"body_markdown":"My goal is to have people be able to link an Amazon item and a preview with the name of the item/img of the item would appear.","body":"My goal is to have people be able to link an Amazon item and a preview with the name of the item/img of the item would appear."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1634026132,"post_id":69536566,"comment_id":122909309,"body_markdown":"Amazon uses neither Open Graph protocol nor Schema.org so you can&#39;t construct rich links using any of the two standards. You *could* parse the actual product page and look for the image.","body":"Amazon uses neither Open Graph protocol nor Schema.org so you can&#39;t construct rich links using any of the two standards. You <i>could</i> parse the actual product page and look for the image."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1634027716,"post_id":69536566,"comment_id":122909907,"body_markdown":"*&quot;but these don&#39;t seem to work for all amazon links.&quot;* - which link is problematic?","body":"<i>&quot;but these don&#39;t seem to work for all amazon links.&quot;</i> - which link is problematic?"},{"owner":{"account_id":23009733,"reputation":9,"user_id":17132418,"display_name":"Gu Nguyen"},"score":0,"creation_date":1634028460,"post_id":69536566,"comment_id":122910207,"body_markdown":"The method that you suggested generally works but there are some instances that don&#39;t.\n\nBook links for instance don&#39;t work. Examples would be like https://www.amazon.com/dp/1974725928/ref=as_li_tf_tl?ie=utf8&amp;camp=1789&amp;creative=9325&amp;creativeasin=1974725928&amp;linkcode=as2&amp;tag=vizmedia-20&amp;gclid=eaiaiqobchmi45qa-igi8wivfihich0cswu5eaeyasaaeglu7fd_bwe or https://www.amazon.com/dp/1947215450/ref=redir_mobile_desktop?_encoding=UTF8&amp;psc=1&amp;ref_=sspa_mw_detail_1. \nI&#39;m unsure if it is possible to possibly grab all or if there is a more complicated solution that I would need to implement.","body":"The method that you suggested generally works but there are some instances that don&#39;t.  Book links for instance don&#39;t work. Examples would be like <a href=\"https://rads.stackoverflow.com/amzn/click/com/1974725928\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/dp/1974725928/&hellip;</a> or <a href=\"https://rads.stackoverflow.com/amzn/click/com/1947215450\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/dp/1947215450/&hellip;</a>.  I&#39;m unsure if it is possible to possibly grab all or if there is a more complicated solution that I would need to implement."}],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634174092,"creation_date":1634027588,"answer_id":69537368,"question_id":69536566,"body_markdown":"I first tried to copy/paste the selector my browser suggested once I navigated to the image. Based on your examples, the suggestion was either `#landingImage` or `#imgBlkfront`.\r\n\r\nThose selectors are obviously too specific and do not reflect the general Amazon product page layout.\r\n\r\nAfter more research, I&#39;ve found the following structure:\r\n\r\n``` html\r\n&lt;!-- ... --&gt;\r\n&lt;div id=&quot;main-image-container&quot;&gt;\r\n  &lt;!-- ... --&gt;\r\n    &lt;img src=&quot;the url you are looking for&quot;&gt;\r\n&lt;!-- ... --&gt;\r\n```\r\n\r\nThe appropriate selector for your image would then look like so:\r\n\r\n``` none\r\ndiv#main-image-container img\r\n```\r\n\r\nBut in some cases (for example: https://www.amazon.com/dp/1947215450), this results in two images per query, where the first image is not the actual product image but instead, a &quot;Look inside&quot; tag.\r\n\r\nYou can edit your selector to account for that:\r\n\r\n``` none\r\ndiv#main-image-container img:not(#sitbLogoImg)\r\n```\r\n\r\nor simply, select the last image of the result.\r\n\r\nFinal result:\r\n```\r\n// your amazon product page link\r\n// String url = ...\r\n\r\nDocument doc = Jsoup.connect(url).get();\r\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\r\n```\r\n\r\n---\r\n\r\n**EDIT**\r\n\r\nWhat seems to be the issue? Every link you&#39;ve posted so far works for me. Specifically, this code:\r\n```\r\nDocument doc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/B0792QJ28Y&quot;).get();\r\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\r\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/B0815XFSGK&quot;).get();\r\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\r\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/1974725928&quot;).get();\r\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\r\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/1947215450&quot;).get();\r\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\r\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/B07RRRV5CT&quot;).get();\r\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\r\n```\r\n\r\noutputs:\r\n\r\n``` none\r\nhttps://images-na.ssl-images-amazon.com/images/I/81OjP3A5B-L.__AC_SX300_SY300_QL70_ML2_.jpg\r\nhttps://images-na.ssl-images-amazon.com/images/I/61DYLoyNRWL.__AC_SY300_SX300_QL70_ML2_.jpg\r\nhttps://images-na.ssl-images-amazon.com/images/I/51YyZr8Sf+S._SY344_BO1,204,203,200_.jpg\r\nhttps://images-na.ssl-images-amazon.com/images/I/51OudKdwxDL._SX218_BO1,204,203,200_QL40_ML2_.jpg\r\nhttps://images-na.ssl-images-amazon.com/images/I/81IqKdsFOvL.__AC_SX300_SY300_QL70_ML2_.jpg\r\n```","title":"How to get img url for Amazon links via Jsoup","body":"<p>I first tried to copy/paste the selector my browser suggested once I navigated to the image. Based on your examples, the suggestion was either <code>#landingImage</code> or <code>#imgBlkfront</code>.</p>\n<p>Those selectors are obviously too specific and do not reflect the general Amazon product page layout.</p>\n<p>After more research, I've found the following structure:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- ... --&gt;\n&lt;div id=&quot;main-image-container&quot;&gt;\n  &lt;!-- ... --&gt;\n    &lt;img src=&quot;the url you are looking for&quot;&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p>The appropriate selector for your image would then look like so:</p>\n<pre class=\"lang-none prettyprint-override\"><code>div#main-image-container img\n</code></pre>\n<p>But in some cases (for example: <a href=\"https://rads.stackoverflow.com/amzn/click/com/1947215450\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">https://www.amazon.com/dp/1947215450</a>), this results in two images per query, where the first image is not the actual product image but instead, a &quot;Look inside&quot; tag.</p>\n<p>You can edit your selector to account for that:</p>\n<pre class=\"lang-none prettyprint-override\"><code>div#main-image-container img:not(#sitbLogoImg)\n</code></pre>\n<p>or simply, select the last image of the result.</p>\n<p>Final result:</p>\n<pre><code>// your amazon product page link\n// String url = ...\n\nDocument doc = Jsoup.connect(url).get();\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\n</code></pre>\n<hr />\n<p><strong>EDIT</strong></p>\n<p>What seems to be the issue? Every link you've posted so far works for me. Specifically, this code:</p>\n<pre><code>Document doc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/B0792QJ28Y&quot;).get();\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/B0815XFSGK&quot;).get();\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/1974725928&quot;).get();\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/1947215450&quot;).get();\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\ndoc = Jsoup.connect(&quot;https://rads.stackoverflow.com/amzn/click/com/B07RRRV5CT&quot;).get();\nSystem.out.println(doc.select(&quot;div#main-image-container img&quot;).last().attr(&quot;src&quot;));\n</code></pre>\n<p>outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://images-na.ssl-images-amazon.com/images/I/81OjP3A5B-L.__AC_SX300_SY300_QL70_ML2_.jpg\nhttps://images-na.ssl-images-amazon.com/images/I/61DYLoyNRWL.__AC_SY300_SX300_QL70_ML2_.jpg\nhttps://images-na.ssl-images-amazon.com/images/I/51YyZr8Sf+S._SY344_BO1,204,203,200_.jpg\nhttps://images-na.ssl-images-amazon.com/images/I/51OudKdwxDL._SX218_BO1,204,203,200_QL40_ML2_.jpg\nhttps://images-na.ssl-images-amazon.com/images/I/81IqKdsFOvL.__AC_SX300_SY300_QL70_ML2_.jpg\n</code></pre>\n"}],"owner":{"account_id":23009733,"reputation":9,"user_id":17132418,"display_name":"Gu Nguyen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634174092,"creation_date":1634023423,"question_id":69536566,"body_markdown":"I am trying to use Jsoup for Rich Link Previews.\r\n\r\nFor most sites, I am simply using the tag meta to grab the title/image but this does not work for Amazon images. \r\n\r\nWhat is the best way to use Jsoup to pull these images? I have tried\r\n```\r\ndocument.select(img#landingImage)\r\n```\r\nand\r\n```\r\ndocument.getElementById(&quot;landingImage&quot;)\r\n```\r\nwith\r\n```\r\nimg.attr(&quot;data-old-hires&quot;)\r\n```\r\nor\r\n```\r\nimg.attr(&quot;src&quot;)\r\n```\r\nbut these don&#39;t seem to work for all amazon links.\r\n\r\nWhat would be the best way to get any amazon link to have a proper preview working?","title":"How to get img url for Amazon links via Jsoup","body":"<p>I am trying to use Jsoup for Rich Link Previews.</p>\n<p>For most sites, I am simply using the tag meta to grab the title/image but this does not work for Amazon images.</p>\n<p>What is the best way to use Jsoup to pull these images? I have tried</p>\n<pre><code>document.select(img#landingImage)\n</code></pre>\n<p>and</p>\n<pre><code>document.getElementById(&quot;landingImage&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>img.attr(&quot;data-old-hires&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>img.attr(&quot;src&quot;)\n</code></pre>\n<p>but these don't seem to work for all amazon links.</p>\n<p>What would be the best way to get any amazon link to have a proper preview working?</p>\n"},{"tags":["java","arraylist","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":6,"creation_date":1634173735,"post_id":69563971,"comment_id":122957187,"body_markdown":"`List&lt;Dish&gt; myDishes = Dish.getDishes();` is returning a brand new List.  Suggest you keep the List as a field.","body":"<code>List&lt;Dish&gt; myDishes = Dish.getDishes();</code> is returning a brand new List.  Suggest you keep the List as a field."},{"owner":{"account_id":18502489,"reputation":1,"user_id":13479500,"display_name":"Shiv"},"score":0,"creation_date":1634174267,"post_id":69563971,"comment_id":122957268,"body_markdown":"I&#39;ve replaced it with ` System.out.println(Dish.getDishes()); ` but nothing changes still.","body":"I&#39;ve replaced it with ` System.out.println(Dish.getDishes()); ` but nothing changes still."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":4,"creation_date":1634174340,"post_id":69563971,"comment_id":122957280,"body_markdown":"Maybe I did not explain clearly enough for you.  The method `getDishes` **is returning a brand new List. Suggest you keep the List as a field.**","body":"Maybe I did not explain clearly enough for you.  The method <code>getDishes</code> <b>is returning a brand new List. Suggest you keep the List as a field.</b>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1634186769,"post_id":69563971,"comment_id":122959055,"body_markdown":"Inside the `getDishes()` method, you have `List&lt;Dish&gt; myMenu = new ArrayList&lt;&gt;();`. Think about what that does and why that would mean changes to the list are not persisted between calls to `getDishes()`.","body":"Inside the <code>getDishes()</code> method, you have <code>List&lt;Dish&gt; myMenu = new ArrayList&lt;&gt;();</code>. Think about what that does and why that would mean changes to the list are not persisted between calls to <code>getDishes()</code>."}],"owner":{"account_id":18502489,"reputation":1,"user_id":13479500,"display_name":"Shiv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634173601,"creation_date":1634173601,"question_id":69563971,"body_markdown":"I currently working on a food menu that has a GUI.\r\n\r\nFor this purpose, my ArrayList is created as follows in my Dish class:\r\n    \r\n```\r\npublic static List&lt;Dish&gt; getDishes() {\r\n        List&lt;Dish&gt; myMenu = new ArrayList&lt;Dish&gt;();\r\n        myMenu.add(new Dish(&quot;Fried Rice&quot;, &quot;Rice, Sesame Oil&quot;, 10, true, true));\r\n        myMenu.add(new Dish(&quot;Sushi Roll&quot;, &quot;Rice, Seaweed, Salmon&quot;, 5, false, false));\r\n        myMenu.add(new Dish(&quot;Pancake&quot;, &quot; Egg, Flour, Vanilla Essence&quot;, 8, true, false));\r\n        myMenu.add(new Dish(&quot;Omelette&quot;, &quot; Egg, Tomato, Mushroom, Onion&quot;, 8, false, true));\r\n        return myMenu;\r\n    } \r\n```\r\nNow, I&#39;m working on creating an &#39;add&#39; button that allows the user to input various dish properties. After the user completes the form and hits the &#39;add&#39; button, a new Dish object is supposed to be added to the ArrayList. This is located in my DishController class which is linked to fxml. \r\n\r\n```\r\n    @FXML \r\n    public void userClickedCreate(ActionEvent event){\r\n        //reading and assinging inputs to var from gui\r\n        String inputDishName = txtCreateDishName.getText();\r\n        String inputDishIngredients = txtCreateDishIngredients.getText();\r\n\r\n        //adding new dish object using inputs to arraylist\r\n        Dish.getDishes().add(new Dish(inputDishName, inputDishIngredients, 0, false, false));\r\n        \r\n        //testing if arraylist has been updated succesfully\r\n        List&lt;Dish&gt; myDishes = Dish.getDishes();\r\n        System.out.println(myDishes); \r\n    }\r\n```\r\nThough I don&#39;t receive any errors when proceeding to run the code, when I hit the &#39;add&#39; button, the printed array list doesn&#39;t reflect the new dish. I was hoping to find a way to resolve this. \r\n\r\nThe output of my program looks like this (the first print statement is before hitting the &#39;add&#39; button while the second is after hitting the button):\r\n\r\n```\r\n[Fried Rice, Sushi Roll, Pancake, Omelette]\r\n[Fried Rice, Sushi Roll, Pancake, Omelette]\r\n```\r\n\r\n\r\n","title":"Why is my ArrayList not reflecting updates after adding a new object to it?","body":"<p>I currently working on a food menu that has a GUI.</p>\n<p>For this purpose, my ArrayList is created as follows in my Dish class:</p>\n<pre><code>public static List&lt;Dish&gt; getDishes() {\n        List&lt;Dish&gt; myMenu = new ArrayList&lt;Dish&gt;();\n        myMenu.add(new Dish(&quot;Fried Rice&quot;, &quot;Rice, Sesame Oil&quot;, 10, true, true));\n        myMenu.add(new Dish(&quot;Sushi Roll&quot;, &quot;Rice, Seaweed, Salmon&quot;, 5, false, false));\n        myMenu.add(new Dish(&quot;Pancake&quot;, &quot; Egg, Flour, Vanilla Essence&quot;, 8, true, false));\n        myMenu.add(new Dish(&quot;Omelette&quot;, &quot; Egg, Tomato, Mushroom, Onion&quot;, 8, false, true));\n        return myMenu;\n    } \n</code></pre>\n<p>Now, I'm working on creating an 'add' button that allows the user to input various dish properties. After the user completes the form and hits the 'add' button, a new Dish object is supposed to be added to the ArrayList. This is located in my DishController class which is linked to fxml.</p>\n<pre><code>    @FXML \n    public void userClickedCreate(ActionEvent event){\n        //reading and assinging inputs to var from gui\n        String inputDishName = txtCreateDishName.getText();\n        String inputDishIngredients = txtCreateDishIngredients.getText();\n\n        //adding new dish object using inputs to arraylist\n        Dish.getDishes().add(new Dish(inputDishName, inputDishIngredients, 0, false, false));\n        \n        //testing if arraylist has been updated succesfully\n        List&lt;Dish&gt; myDishes = Dish.getDishes();\n        System.out.println(myDishes); \n    }\n</code></pre>\n<p>Though I don't receive any errors when proceeding to run the code, when I hit the 'add' button, the printed array list doesn't reflect the new dish. I was hoping to find a way to resolve this.</p>\n<p>The output of my program looks like this (the first print statement is before hitting the 'add' button while the second is after hitting the button):</p>\n<pre><code>[Fried Rice, Sushi Roll, Pancake, Omelette]\n[Fried Rice, Sushi Roll, Pancake, Omelette]\n</code></pre>\n"},{"tags":["java","spring-mvc","tomcat","spring-boot","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":426601,"reputation":961,"user_id":807890,"display_name":"Anton Tupy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517314942,"creation_date":1517314942,"answer_id":48521381,"question_id":48519986,"body_markdown":"It looks like some jar file in your bandle is corruped. Check that all your jar files included in your application (for instance your dependencies) can be opened with some zip archiver application.","title":"SpringBoot app Error","body":"<p>It looks like some jar file in your bandle is corruped. Check that all your jar files included in your application (for instance your dependencies) can be opened with some zip archiver application.</p>\n"}],"owner":{"account_id":12177875,"reputation":667,"user_id":8890372,"accept_rate":80,"display_name":"Ramon De Les Olives"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48521381,"answer_count":1,"score":-1,"last_activity_date":1634173529,"creation_date":1517310696,"question_id":48519986,"body_markdown":"I have a SpringBoot app. I am checking the logs, and I see this error and I have no idea where it comes from \r\n\r\n    2018-01-30 11:08  [http-nio-1234-exec-1] ERROR o.a.coyote.http11.Http11Processor - Error processing request\r\n    java.lang.IllegalStateException: java.util.zip.ZipException: error in opening zip file\r\n    \tat org.apache.catalina.webresources.JarWarResourceSet.getArchiveEntries(JarWarResourceSet.java:133)\r\n    \tat org.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:256)\r\n    \tat org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:281)\r\n    \tat org.apache.catalina.webresources.CachedResource.validateResource(CachedResource.java:97)\r\n    \tat org.apache.catalina.webresources.Cache.getResource(Cache.java:69)\r\n    \tat org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:216)\r\n    \tat org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:206)\r\n    \tat org.apache.catalina.mapper.Mapper.internalMapWrapper(Mapper.java:1027)\r\n    \tat org.apache.catalina.mapper.Mapper.internalMap(Mapper.java:842)\r\n    \tat org.apache.catalina.mapper.Mapper.map(Mapper.java:698)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:679)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n","title":"SpringBoot app Error","body":"<p>I have a SpringBoot app. I am checking the logs, and I see this error and I have no idea where it comes from </p>\n\n<pre><code>2018-01-30 11:08  [http-nio-1234-exec-1] ERROR o.a.coyote.http11.Http11Processor - Error processing request\njava.lang.IllegalStateException: java.util.zip.ZipException: error in opening zip file\n    at org.apache.catalina.webresources.JarWarResourceSet.getArchiveEntries(JarWarResourceSet.java:133)\n    at org.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:256)\n    at org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:281)\n    at org.apache.catalina.webresources.CachedResource.validateResource(CachedResource.java:97)\n    at org.apache.catalina.webresources.Cache.getResource(Cache.java:69)\n    at org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:216)\n    at org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:206)\n    at org.apache.catalina.mapper.Mapper.internalMapWrapper(Mapper.java:1027)\n    at org.apache.catalina.mapper.Mapper.internalMap(Mapper.java:842)\n    at org.apache.catalina.mapper.Mapper.map(Mapper.java:698)\n    at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:679)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","eclipse","junit4"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1634171396,"post_id":69563664,"comment_id":122956813,"body_markdown":"simple answer: *Don&#39;t log* exception stacktrace (also not in libs (this is the hard part..);)!","body":"simple answer: <i>Don&#39;t log</i> exception stacktrace (also not in libs (this is the hard part..);)!"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1634172489,"creation_date":1634172489,"answer_id":69563885,"question_id":69563664,"body_markdown":"Yes. Don&#39;t log them. It&#39;s not JUnit printing that stuff. It&#39;s you, in your own (non-test) code. JUnit can&#39;t magically dive in there, figure out that you wrote code that explicitly tells the VM to print the trace for no good reason, and somehow suppress that.\r\n\r\nIt&#39;s not your fault, it&#39;s.. a ton of tutorials and even here on SO, answers, as well as crazy IDE defaults that led you down this path.\r\n\r\nSo, fix it! It&#39;s not too difficult; fire up your IDE&#39;s global search tool and go hunt for `e.printStackTrace()`. __Eliminate them all__. It&#39;s hunting season.\r\n\r\nSo, how would you do this? A few steps:\r\n\r\n1. First things first: Enter your IDE settings and fix the template when using the quick-fix of &#39;add try/catch&#39;. The catch block should be `throw new RuntimeException(&quot;uncaught&quot;, e);`, not `e.printStackTrace()`.\r\n\r\n2. Any time a method&#39;s nature inherently implies that it throws a certain checked exception, make it do so. A method named `openFile` that does _not_ `throws IOException` is just badly written. Make it throws that, then eliminate the `try/catch(Exception e) {e.printStackTrace();}` which we shall henceforth name &#39;the dodo pattern&#39;. That should get rid of about half of them.\r\n\r\n3. Next up are places where the checked exceptions you &#39;fixed&#39; with the dodo pattern are not inherently part of a method&#39;s nature. For example, let&#39;s say you wrote a game save system and your current implementation works by writing it out to a DB, and you dodo-patterned the `SQLException`. Save games do not inherently imply DB interactions, so writing `public void saveGame() throws SQLException` isn&#39;t necessarily good design. The solution in pretty much all such caes is to rewrap the exception into something else. For example, make a `SaveException` class. Ensure it has the constructor that takes a message _and_ a cause. Then:\r\n\r\n```\r\n} catch (SQLException e) {\r\n  throw new SaveException(&quot;Cannot save game&quot;, e);\r\n}\r\n```\r\n\r\nKeep the message short, sweet, don&#39;t add superfluous info (If your message involves &quot;Something went wrong&quot; - you&#39;re doing it wrong. It&#39;s an exception that ended up uncaught. That something is wrong is implied, no need to say it). and definitely don&#39;t add exclamation marks.\r\n\r\nSometimes you don&#39;t need to make an exception and can rewrap into something more useful.\r\n\r\n3. That leaves checked exceptions that you nevertheless doubt can actually ever really occur. Rewrap those too, into `RuntimeException` or some other simplistic thing, or use lombok&#39;s `@SneakyThrows` for these.\r\n\r\nThat should let you get rid of each and every one of those pesky `.printStackTrace()` calls. Once you&#39;ve done that, your problem will go away.\r\n","title":"Junit Eclipse - No stack trace on success when exception is expected","body":"<p>Yes. Don't log them. It's not JUnit printing that stuff. It's you, in your own (non-test) code. JUnit can't magically dive in there, figure out that you wrote code that explicitly tells the VM to print the trace for no good reason, and somehow suppress that.</p>\n<p>It's not your fault, it's.. a ton of tutorials and even here on SO, answers, as well as crazy IDE defaults that led you down this path.</p>\n<p>So, fix it! It's not too difficult; fire up your IDE's global search tool and go hunt for <code>e.printStackTrace()</code>. <strong>Eliminate them all</strong>. It's hunting season.</p>\n<p>So, how would you do this? A few steps:</p>\n<ol>\n<li><p>First things first: Enter your IDE settings and fix the template when using the quick-fix of 'add try/catch'. The catch block should be <code>throw new RuntimeException(&quot;uncaught&quot;, e);</code>, not <code>e.printStackTrace()</code>.</p>\n</li>\n<li><p>Any time a method's nature inherently implies that it throws a certain checked exception, make it do so. A method named <code>openFile</code> that does <em>not</em> <code>throws IOException</code> is just badly written. Make it throws that, then eliminate the <code>try/catch(Exception e) {e.printStackTrace();}</code> which we shall henceforth name 'the dodo pattern'. That should get rid of about half of them.</p>\n</li>\n<li><p>Next up are places where the checked exceptions you 'fixed' with the dodo pattern are not inherently part of a method's nature. For example, let's say you wrote a game save system and your current implementation works by writing it out to a DB, and you dodo-patterned the <code>SQLException</code>. Save games do not inherently imply DB interactions, so writing <code>public void saveGame() throws SQLException</code> isn't necessarily good design. The solution in pretty much all such caes is to rewrap the exception into something else. For example, make a <code>SaveException</code> class. Ensure it has the constructor that takes a message <em>and</em> a cause. Then:</p>\n</li>\n</ol>\n<pre><code>} catch (SQLException e) {\n  throw new SaveException(&quot;Cannot save game&quot;, e);\n}\n</code></pre>\n<p>Keep the message short, sweet, don't add superfluous info (If your message involves &quot;Something went wrong&quot; - you're doing it wrong. It's an exception that ended up uncaught. That something is wrong is implied, no need to say it). and definitely don't add exclamation marks.</p>\n<p>Sometimes you don't need to make an exception and can rewrap into something more useful.</p>\n<ol start=\"3\">\n<li>That leaves checked exceptions that you nevertheless doubt can actually ever really occur. Rewrap those too, into <code>RuntimeException</code> or some other simplistic thing, or use lombok's <code>@SneakyThrows</code> for these.</li>\n</ol>\n<p>That should let you get rid of each and every one of those pesky <code>.printStackTrace()</code> calls. Once you've done that, your problem will go away.</p>\n"}],"owner":{"account_id":2320195,"reputation":3379,"user_id":2036161,"accept_rate":52,"display_name":"ventsyv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69563885,"answer_count":1,"score":0,"last_activity_date":1634172489,"creation_date":1634169994,"question_id":69563664,"body_markdown":"I have junit tests that are using @Test(expected=&lt;exception type&gt;) syntax.\r\nWhen I run those tests the exceptions are generated and the tests pass, but the exceptions&#39; stack trace is still logged in the console.\r\n\r\nThis is confusing because there is no indication of which test generated what message.\r\nI have a lot of test and I don&#39;t know if those stack traces are just the expected exceptions or there is some problem in the test.\r\n\r\nIs there a way to prevent tests that expect exceptions to be thrown from logging if the test succeeds?","title":"Junit Eclipse - No stack trace on success when exception is expected","body":"<p>I have junit tests that are using @Test(expected=) syntax.\nWhen I run those tests the exceptions are generated and the tests pass, but the exceptions' stack trace is still logged in the console.</p>\n<p>This is confusing because there is no indication of which test generated what message.\nI have a lot of test and I don't know if those stack traces are just the expected exceptions or there is some problem in the test.</p>\n<p>Is there a way to prevent tests that expect exceptions to be thrown from logging if the test succeeds?</p>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1632394439,"post_id":69298221,"comment_id":122482783,"body_markdown":"What if you have dates like A=2022-01-01, B=2022-03-01, C=2022-05-01? A and B are within 90 days, and B and C are within 90 days, but A and C are outside of the threshold. Do you group A and B together or B and C together, and why?","body":"What if you have dates like A=2022-01-01, B=2022-03-01, C=2022-05-01? A and B are within 90 days, and B and C are within 90 days, but A and C are outside of the threshold. Do you group A and B together or B and C together, and why?"},{"owner":{"account_id":16704835,"reputation":117,"user_id":12073583,"display_name":"Ed-Genesis"},"score":0,"creation_date":1632394742,"post_id":69298221,"comment_id":122482910,"body_markdown":"Good point, in that case I collapse the first two because in fact collapsing those there is no longer the problem with the third. objects are events, I need that they are not close in time and if close to take only those with higher priority. for this I just have to take the first pair. I realize it&#39;s a bit complicated, thanks for the interest anyway.","body":"Good point, in that case I collapse the first two because in fact collapsing those there is no longer the problem with the third. objects are events, I need that they are not close in time and if close to take only those with higher priority. for this I just have to take the first pair. I realize it&#39;s a bit complicated, thanks for the interest anyway."},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"score":0,"creation_date":1632400802,"post_id":69298221,"comment_id":122485476,"body_markdown":"Every now and then somebody asks similar question as [sql] question, for example this https://stackoverflow.com/q/69296097 today. If you take data from relational db you can consider it. Anyway you need to process sequence using logic where you remember beginning of 90-day window and detect window boundary encountering date beyond 90 day after start of last window.","body":"Every now and then somebody asks similar question as [sql] question, for example this <a href=\"https://stackoverflow.com/q/69296097\">stackoverflow.com/q/69296097</a> today. If you take data from relational db you can consider it. Anyway you need to process sequence using logic where you remember beginning of 90-day window and detect window boundary encountering date beyond 90 day after start of last window."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633613196,"creation_date":1632403743,"answer_id":69301001,"question_id":69298221,"body_markdown":"If I understand it correctly it is a two-step sorting problem you have there. First, you need to sort your list by date to be able to group your list of items in a 90-day interval and then re-sort the groups according to your priority requirements.\r\n\r\nI would first sort the list by date and remember the date of the first object in an atomic reference. This reference can then be used to form the groups by looking at each iteration to see if the date of the current object is less than 90 days, if so it belongs to the current group otherwise the reference is updated and a new group is formed with the new date as the key. Then you sort the elements of each group and take the first element from each group. To see how to sort groups resulting from the `groupingBy` collector, see this post [sorting-lists-after-groupingby][1]. \r\n\r\nExample code, which I have supplemented with additional list elements:\r\n\r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.TreeSet;\r\n    import java.util.concurrent.atomic.AtomicReference;\r\n    import java.util.stream.Collector;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import static java.time.temporal.ChronoUnit.DAYS;\r\n    \r\n    public class Example {\r\n        public static void main(String args[]) {\r\n    \r\n            List&lt;ObjectA&gt; list = List.of(\r\n                    new ObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\r\n                    new ObjectA(2, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\r\n    \r\n                    new ObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1),\r\n                    new ObjectA(4, LocalDate.parse(&quot;2022-10-22&quot;), 2, 1),\r\n    \r\n                    new ObjectA(10, LocalDate.parse(&quot;2025-09-22&quot;), 2, 1),\r\n                    new ObjectA(20, LocalDate.parse(&quot;2025-09-22&quot;), 2, 1),\r\n                    new ObjectA(30, LocalDate.parse(&quot;2025-09-23&quot;), 2, 1),\r\n    \r\n                    new ObjectA(40, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\r\n                    new ObjectA(13, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\r\n                    new ObjectA(23, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\r\n                    new ObjectA(33, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\r\n                    new ObjectA(4, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1)\r\n            );\r\n    \r\n    \r\n    \r\n            // for a better overview single comparators which are used as own variables\r\n            Comparator&lt;ObjectA&gt; byPrioA = Comparator.comparing(ObjectA::getPriorityA, Comparator.reverseOrder());\r\n            Comparator&lt;ObjectA&gt; byPrioB = Comparator.comparing(ObjectA::getPriorityB, Comparator.reverseOrder());\r\n            Comparator&lt;ObjectA&gt; byDate  = Comparator.comparing(ObjectA::getDate);\r\n            Comparator&lt;ObjectA&gt; byId    = Comparator.comparing(ObjectA::getId);\r\n    \r\n            //first who has the largest &quot;priorityA&quot; attribute, if they are equal then\r\n            //check &quot;priorityB&quot;, if this is also the same\r\n            //check the lesser date and if that is also the same then\r\n            //the one with the lesser id.\r\n            Comparator&lt;ObjectA&gt; combined = byPrioA.thenComparing(byPrioB).thenComparing(byDate).thenComparing(byId);\r\n    \r\n            //sort list by date\r\n            List&lt;ObjectA&gt; sortedByDate = list.stream().sorted(byDate).collect(Collectors.toList());\r\n    \r\n            //store first date for first group key\r\n            AtomicReference&lt;LocalDate&gt; ar = new AtomicReference&lt;&gt;(sortedByDate.get(0).getDate());\r\n    \r\n            sortedByDate.stream().collect(Collectors.groupingBy(\r\n                    d -&gt; DAYS.between(ar.get(), d.getDate()) &lt; 90 ? ar.get() : ar.accumulateAndGet(d.getDate(), (u,v) -&gt;v),\r\n                    LinkedHashMap::new,\r\n                    Collectors.collectingAndThen(toSortedList(combined), l -&gt; l.get(0))))\r\n                    .values()\r\n                    .forEach(System.out::println);\r\n        }\r\n    \r\n        //https://stackoverflow.com/questions/35872236/sorting-lists-after-groupingby\r\n        static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\r\n            return Collectors.collectingAndThen(\r\n                    Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(c)), ArrayList::new);\r\n        }\r\n    \r\n        @Getter\r\n        @Setter\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @ToString\r\n        public static class ObjectA {\r\n            int id;\r\n            LocalDate date;\r\n            int priorityA;\r\n            int priorityB;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35872236/sorting-lists-after-groupingby","title":"Group all dates that are no more than 90 days apart","body":"<p>If I understand it correctly it is a two-step sorting problem you have there. First, you need to sort your list by date to be able to group your list of items in a 90-day interval and then re-sort the groups according to your priority requirements.</p>\n<p>I would first sort the list by date and remember the date of the first object in an atomic reference. This reference can then be used to form the groups by looking at each iteration to see if the date of the current object is less than 90 days, if so it belongs to the current group otherwise the reference is updated and a new group is formed with the new date as the key. Then you sort the elements of each group and take the first element from each group. To see how to sort groups resulting from the <code>groupingBy</code> collector, see this post <a href=\"https://stackoverflow.com/questions/35872236/sorting-lists-after-groupingby\">sorting-lists-after-groupingby</a>.</p>\n<p>Example code, which I have supplemented with additional list elements:</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.TreeSet;\nimport java.util.concurrent.atomic.AtomicReference;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport static java.time.temporal.ChronoUnit.DAYS;\n\npublic class Example {\n    public static void main(String args[]) {\n\n        List&lt;ObjectA&gt; list = List.of(\n                new ObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\n                new ObjectA(2, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\n\n                new ObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1),\n                new ObjectA(4, LocalDate.parse(&quot;2022-10-22&quot;), 2, 1),\n\n                new ObjectA(10, LocalDate.parse(&quot;2025-09-22&quot;), 2, 1),\n                new ObjectA(20, LocalDate.parse(&quot;2025-09-22&quot;), 2, 1),\n                new ObjectA(30, LocalDate.parse(&quot;2025-09-23&quot;), 2, 1),\n\n                new ObjectA(40, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\n                new ObjectA(13, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\n                new ObjectA(23, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\n                new ObjectA(33, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1),\n                new ObjectA(4, LocalDate.parse(&quot;2029-09-22&quot;), 2, 1)\n        );\n\n\n\n        // for a better overview single comparators which are used as own variables\n        Comparator&lt;ObjectA&gt; byPrioA = Comparator.comparing(ObjectA::getPriorityA, Comparator.reverseOrder());\n        Comparator&lt;ObjectA&gt; byPrioB = Comparator.comparing(ObjectA::getPriorityB, Comparator.reverseOrder());\n        Comparator&lt;ObjectA&gt; byDate  = Comparator.comparing(ObjectA::getDate);\n        Comparator&lt;ObjectA&gt; byId    = Comparator.comparing(ObjectA::getId);\n\n        //first who has the largest &quot;priorityA&quot; attribute, if they are equal then\n        //check &quot;priorityB&quot;, if this is also the same\n        //check the lesser date and if that is also the same then\n        //the one with the lesser id.\n        Comparator&lt;ObjectA&gt; combined = byPrioA.thenComparing(byPrioB).thenComparing(byDate).thenComparing(byId);\n\n        //sort list by date\n        List&lt;ObjectA&gt; sortedByDate = list.stream().sorted(byDate).collect(Collectors.toList());\n\n        //store first date for first group key\n        AtomicReference&lt;LocalDate&gt; ar = new AtomicReference&lt;&gt;(sortedByDate.get(0).getDate());\n\n        sortedByDate.stream().collect(Collectors.groupingBy(\n                d -&gt; DAYS.between(ar.get(), d.getDate()) &lt; 90 ? ar.get() : ar.accumulateAndGet(d.getDate(), (u,v) -&gt;v),\n                LinkedHashMap::new,\n                Collectors.collectingAndThen(toSortedList(combined), l -&gt; l.get(0))))\n                .values()\n                .forEach(System.out::println);\n    }\n\n    //https://stackoverflow.com/questions/35872236/sorting-lists-after-groupingby\n    static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\n        return Collectors.collectingAndThen(\n                Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(c)), ArrayList::new);\n    }\n\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString\n    public static class ObjectA {\n        int id;\n        LocalDate date;\n        int priorityA;\n        int priorityB;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633614787,"creation_date":1633614787,"answer_id":69482434,"question_id":69298221,"body_markdown":"Does it work to just pick an arbitrary date within the 90 days and group by that? That seems a simple solution:\r\n\r\n```\r\n    List&lt;ObjectA&gt; collapsed = list.stream()\r\n            .collect(Collectors.collectingAndThen(\r\n            Collectors.groupingBy(\r\n                    x -&gt; LocalDate.ofEpochDay(x.getDate().toEpochDay() % 90),\r\n                    Collectors.maxBy(Comparator\r\n                            .comparing(ObjectA::getPriorityA)\r\n                            .thenComparing(ObjectA::getPriorityB)\r\n                            .thenComparing(ObjectA::getDate)\r\n                            .thenComparing(ObjectA::getId))),\r\n            map -&gt; map.values().stream()\r\n                    .filter(Optional::isPresent)\r\n                    .map(Optional::get)\r\n                    .collect(Collectors.toList())));\r\n```","title":"Group all dates that are no more than 90 days apart","body":"<p>Does it work to just pick an arbitrary date within the 90 days and group by that? That seems a simple solution:</p>\n<pre><code>    List&lt;ObjectA&gt; collapsed = list.stream()\n            .collect(Collectors.collectingAndThen(\n            Collectors.groupingBy(\n                    x -&gt; LocalDate.ofEpochDay(x.getDate().toEpochDay() % 90),\n                    Collectors.maxBy(Comparator\n                            .comparing(ObjectA::getPriorityA)\n                            .thenComparing(ObjectA::getPriorityB)\n                            .thenComparing(ObjectA::getDate)\n                            .thenComparing(ObjectA::getId))),\n            map -&gt; map.values().stream()\n                    .filter(Optional::isPresent)\n                    .map(Optional::get)\n                    .collect(Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634172302,"creation_date":1634172302,"answer_id":69563867,"question_id":69298221,"body_markdown":"Try [StreamEx.collapse][1]:\r\n\r\n    final Comparator&lt;ObjectA&gt; cmp = Comparator.comparing(ObjectA::getPriorityA)\r\n    .thenComparing(ObjectA::getPriorityB)\r\n    .reversed()\r\n    .thenComparing(ObjectA::getDate)\r\n    .thenComparing(ObjectA::getId);\r\n\r\n    List&lt;ObjectA&gt; collapsed = StreamEx.of(list)\r\n        .collapse((a, b) -&gt; ChronoUnit.DAYS.between(a.getDate(), b.getDate()) &lt;= 90,\r\n            (a, b) -&gt; cmp.compare(a, b) &lt;= 0 ? a : b)\r\n        .toList();\r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex","title":"Group all dates that are no more than 90 days apart","body":"<p>Try <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx.collapse</a>:</p>\n<pre><code>final Comparator&lt;ObjectA&gt; cmp = Comparator.comparing(ObjectA::getPriorityA)\n.thenComparing(ObjectA::getPriorityB)\n.reversed()\n.thenComparing(ObjectA::getDate)\n.thenComparing(ObjectA::getId);\n\nList&lt;ObjectA&gt; collapsed = StreamEx.of(list)\n    .collapse((a, b) -&gt; ChronoUnit.DAYS.between(a.getDate(), b.getDate()) &lt;= 90,\n        (a, b) -&gt; cmp.compare(a, b) &lt;= 0 ? a : b)\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":16704835,"reputation":117,"user_id":12073583,"display_name":"Ed-Genesis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69301001,"answer_count":3,"score":1,"last_activity_date":1634172302,"creation_date":1632392663,"question_id":69298221,"body_markdown":"I have a situation like this:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ObjectA {\r\n         int id;\r\n         LocalDate date;\r\n         int priorityA;\r\n         int priorityB;\r\n    }\r\n\r\n\tList&lt;ObjectA&gt; list = List.of(\r\n\t\t\tnew ObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\r\n\t\t\tnew ObjectA(2, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\r\n\t\t\tnew ObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1),\r\n\t\t\tnew ObjectA(4, LocalDate.parse(&quot;2022-10-22&quot;), 2, 1)\r\n\t);\r\n\r\n**I have to collapse these objects that are no more than 90 days apart.** \r\n\r\nTo choose which of the two wins, check:\r\n  - first who has the largest &quot;priorityA&quot; attribute, if they are equal then \r\n  - check &quot;priorityB&quot;, if this is also the same \r\n  - check the lesser date and if that is also the same then \r\n  - the one with the lesser id.\r\n\r\nMy implementation is as follows:\r\n\r\n\t\tList&lt;ObjectA&gt; collapsed = list.stream()\r\n\t\t\t\t.collect(Collectors.collectingAndThen(\r\n\t\t\t\tCollectors.groupingBy(\r\n\t\t\t\t\t\tObjectA::getDate,\r\n\t\t\t\t\t\tCollectors.maxBy(Comparator\r\n\t\t\t\t\t\t\t\t.comparing(ObjectA::getPriorityA)\r\n\t\t\t\t\t\t\t\t.thenComparing(ObjectA::getPriorityB)\r\n\t\t\t\t\t\t\t\t.thenComparing(ObjectA::getDate)\r\n\t\t\t\t\t\t\t\t.thenComparing(ObjectA::getId))),\r\n\t\t\t\tmap -&gt; map.values().stream()\r\n\t\t\t\t\t\t.filter(Optional::isPresent)\r\n\t\t\t\t\t\t.map(Optional::get)\r\n\t\t\t\t\t\t.collect(Collectors.toList())));\r\n\r\nBut with this implementation I have two problems:\r\n 1. I only group objects that have the same date, instead I have to be able to group those that are in the same range of dates, those whose **dates are no more than 90 days apart**.\r\n2. I can&#39;t **combine the maxBy** I need for the priorities (priorityA, priorityB) **and the minBy** of data and id.\r\n\r\nWith proper implementation I should have something like\r\nExample:\r\n\r\n    ObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1)\r\n    ObjectA(2, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1)\r\n    ObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1)\r\n    ObjectA(4, LocalDate.parse(&quot;2022-10-22&quot;), 2, 1)\r\n       that became\r\n    ObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1)\r\n    ObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1)\r\n\r\n**Because they have the same priorities and dates in the first pair, so i take the one with smallest id - and in the second pair they have the same priorities but different dates so i take the one with smallest date.**\r\n\r\nCould someone with a good heart help me? I have already asked other similar questions here on the forum, but I did not explain myself well enough and the answers however correct were not satisfactory. \r\n\r\nEDIT: \r\n&quot;What if you have dates like A=2022-01-01, B=2022-03-01, C=2022-05-01? A and B are within 90 days, and B and C are within 90 days, but A and C are outside of the threshold. Do you group A and B together or B and C together, and why?&quot;\r\n - In this case it will be enough for me to take the first pair, collapsing that the second loses its meaning. The ultimate goal is simply that there are no objects with dates closer than 90 days.\r\n\r\nAnother example:\r\n\r\n - A = 1 priority (01/01/2022)\r\n - B = 9 priority (01/03/2022)\r\n - C = 8 priority (01/05/2022)\r\n\r\nA-B take B, B-C take B. So with that 3 I will take only B.\r\n\r\nMaybe the solution with stream, collect and Collectors is not the best for this case?\r\n\r\nEDIT: That&#39;s another way to solve it, how can I improve it?\r\n\r\n\r\n    // added a boolean in ObjectA -&gt; &quot;dropped&quot; default false\r\n\r\n    for(int i = 0; i &lt; list.size(); i++) {\r\n    \t\t\tfor (int j = 1; j &lt; list.size(); j++) {\r\n    \t\t\t\tif(list.get(i) == list.get(j) &amp;&amp; (list.get(i).dropped || list.get(j).dropped))\r\n    \t\t\t\t\tcontinue;\r\n    \r\n    \t\t\t\tlong diff = ChronoUnit.DAYS.between(list.get(i).getDate(), list.get(j).getDate());\r\n    \t\t\t\tif(diff &lt;= daysWindow &amp;&amp; diff &gt;= 0 &amp;&amp; list.get(i) != list.get(j)) {\r\n    \t\t\t\t\tif (list.get(i).getPriorityA() != list.get(j).getPriorityA()) {\r\n    \t\t\t\t\t\tif (list.get(i).getPriorityA() &gt; list.get(j).getPriorityA()) {\r\n    \t\t\t\t\t\t\tlist.get(j).setDropped(true);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tlist.get(i).setDropped(true);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else if (list.get(i).getPriorityB() != list.get(j).getPriorityB()) {\r\n    \t\t\t\t\t\tif (list.get(i).getPriorityB() &gt; list.get(j).getPriorityB()) {\r\n    \t\t\t\t\t\t\tlist.get(j).setDropped(true);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tlist.get(i).setDropped(true);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else if (list.get(i).getDate().compareTo(list.get(j).getDate()) != 0){\r\n    \t\t\t\t\t\tif (list.get(i).getDate().compareTo(list.get(j).getDate()) &gt; 0) {\r\n    \t\t\t\t\t\t\tlist.get(i).setDropped(true);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tlist.get(j).setDropped(true);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tif (list.get(i).getId()&gt;list.get(j).getId()) {\r\n    \t\t\t\t\t\t\tlist.get(i).setDropped(true);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tlist.get(j).setDropped(true);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n     // then i filter for take all objectA with dropped false. \r\n    \r\n\r\nThank you all for the help you can give.","title":"Group all dates that are no more than 90 days apart","body":"<p>I have a situation like this:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ObjectA {\n     int id;\n     LocalDate date;\n     int priorityA;\n     int priorityB;\n}\n\nList&lt;ObjectA&gt; list = List.of(\n        new ObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\n        new ObjectA(2, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1),\n        new ObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1),\n        new ObjectA(4, LocalDate.parse(&quot;2022-10-22&quot;), 2, 1)\n);\n</code></pre>\n<p><strong>I have to collapse these objects that are no more than 90 days apart.</strong></p>\n<p>To choose which of the two wins, check:</p>\n<ul>\n<li>first who has the largest &quot;priorityA&quot; attribute, if they are equal then</li>\n<li>check &quot;priorityB&quot;, if this is also the same</li>\n<li>check the lesser date and if that is also the same then</li>\n<li>the one with the lesser id.</li>\n</ul>\n<p>My implementation is as follows:</p>\n<pre><code>    List&lt;ObjectA&gt; collapsed = list.stream()\n            .collect(Collectors.collectingAndThen(\n            Collectors.groupingBy(\n                    ObjectA::getDate,\n                    Collectors.maxBy(Comparator\n                            .comparing(ObjectA::getPriorityA)\n                            .thenComparing(ObjectA::getPriorityB)\n                            .thenComparing(ObjectA::getDate)\n                            .thenComparing(ObjectA::getId))),\n            map -&gt; map.values().stream()\n                    .filter(Optional::isPresent)\n                    .map(Optional::get)\n                    .collect(Collectors.toList())));\n</code></pre>\n<p>But with this implementation I have two problems:</p>\n<ol>\n<li>I only group objects that have the same date, instead I have to be able to group those that are in the same range of dates, those whose <strong>dates are no more than 90 days apart</strong>.</li>\n<li>I can't <strong>combine the maxBy</strong> I need for the priorities (priorityA, priorityB) <strong>and the minBy</strong> of data and id.</li>\n</ol>\n<p>With proper implementation I should have something like\nExample:</p>\n<pre><code>ObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1)\nObjectA(2, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1)\nObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1)\nObjectA(4, LocalDate.parse(&quot;2022-10-22&quot;), 2, 1)\n   that became\nObjectA(1, LocalDate.parse(&quot;2021-09-22&quot;), 2, 1)\nObjectA(3, LocalDate.parse(&quot;2022-09-22&quot;), 2, 1)\n</code></pre>\n<p><strong>Because they have the same priorities and dates in the first pair, so i take the one with smallest id - and in the second pair they have the same priorities but different dates so i take the one with smallest date.</strong></p>\n<p>Could someone with a good heart help me? I have already asked other similar questions here on the forum, but I did not explain myself well enough and the answers however correct were not satisfactory.</p>\n<p>EDIT:\n&quot;What if you have dates like A=2022-01-01, B=2022-03-01, C=2022-05-01? A and B are within 90 days, and B and C are within 90 days, but A and C are outside of the threshold. Do you group A and B together or B and C together, and why?&quot;</p>\n<ul>\n<li>In this case it will be enough for me to take the first pair, collapsing that the second loses its meaning. The ultimate goal is simply that there are no objects with dates closer than 90 days.</li>\n</ul>\n<p>Another example:</p>\n<ul>\n<li>A = 1 priority (01/01/2022)</li>\n<li>B = 9 priority (01/03/2022)</li>\n<li>C = 8 priority (01/05/2022)</li>\n</ul>\n<p>A-B take B, B-C take B. So with that 3 I will take only B.</p>\n<p>Maybe the solution with stream, collect and Collectors is not the best for this case?</p>\n<p>EDIT: That's another way to solve it, how can I improve it?</p>\n<pre><code>// added a boolean in ObjectA -&gt; &quot;dropped&quot; default false\n\nfor(int i = 0; i &lt; list.size(); i++) {\n            for (int j = 1; j &lt; list.size(); j++) {\n                if(list.get(i) == list.get(j) &amp;&amp; (list.get(i).dropped || list.get(j).dropped))\n                    continue;\n\n                long diff = ChronoUnit.DAYS.between(list.get(i).getDate(), list.get(j).getDate());\n                if(diff &lt;= daysWindow &amp;&amp; diff &gt;= 0 &amp;&amp; list.get(i) != list.get(j)) {\n                    if (list.get(i).getPriorityA() != list.get(j).getPriorityA()) {\n                        if (list.get(i).getPriorityA() &gt; list.get(j).getPriorityA()) {\n                            list.get(j).setDropped(true);\n                        } else {\n                            list.get(i).setDropped(true);\n                        }\n                    } else if (list.get(i).getPriorityB() != list.get(j).getPriorityB()) {\n                        if (list.get(i).getPriorityB() &gt; list.get(j).getPriorityB()) {\n                            list.get(j).setDropped(true);\n                        } else {\n                            list.get(i).setDropped(true);\n                        }\n                    } else if (list.get(i).getDate().compareTo(list.get(j).getDate()) != 0){\n                        if (list.get(i).getDate().compareTo(list.get(j).getDate()) &gt; 0) {\n                            list.get(i).setDropped(true);\n                        } else {\n                            list.get(j).setDropped(true);\n                        }\n                    } else {\n                        if (list.get(i).getId()&gt;list.get(j).getId()) {\n                            list.get(i).setDropped(true);\n                        } else {\n                            list.get(j).setDropped(true);\n                        }\n                    }\n                }\n            }\n        }\n\n // then i filter for take all objectA with dropped false. \n</code></pre>\n<p>Thank you all for the help you can give.</p>\n"},{"tags":["java","spring","spring-boot","jcs"],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559370290,"creation_date":1559370290,"answer_id":56404374,"question_id":56404286,"body_markdown":"As far as caching with spring boot is concerned, spring supports the following cache providers, as it has been mentioned in the following link.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-caching.html\r\n\r\nTo quote, It says\r\n\r\n&gt; If you have not defined a bean of type CacheManager or a CacheResolver\r\n&gt; named cacheResolver (see CachingConfigurer), Spring Boot tries to\r\n&gt; detect the following providers (in the indicated order):\r\n\r\n - Generic\r\n - JCache (JSR-107) (EhCache 3, Hazelcast, Infinispan, and others)\r\n - EhCache 2.x\r\n - Hazelcast\r\n - Infinispan\r\n - Couchbase\r\n - Redis\r\n - Caffeine\r\n - Simple\r\n\r\nI will suggest to use Ehcache, you can check more details on Ehcache with Spring framework in the below link.\r\nhttps://www.baeldung.com/spring-cache-tutorial\r\n\r\nIf you are only interested about JCS, then refer below the link to have an understanding.\r\n\r\nhttps://codyburleson.com/quick-and-simple-caching-with-apache-commons-jcs/\r\n\r\nIn case pf Spring boot, I will suggest to create class and wrap JCS inside that class so that you can wire in any class so that you can abstract away the JCS implementation details. I provide below outline.\r\n\r\n@Autowired CacheUpdater cacheUpdate;\r\n\r\nin the method, you can write like this,\r\n\r\npublic void someMethod(... params) {\r\n    cacheUpdater.update(key,value)\r\n}\r\n\r\nIt is not necessary that, you have to have a method called update(), you can create any method and it should internally call JCS to put the key and value in cache.","title":"How to use JCS with Spring boot(Rest api)","body":"<p>As far as caching with spring boot is concerned, spring supports the following cache providers, as it has been mentioned in the following link.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-caching.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-caching.html</a></p>\n\n<p>To quote, It says</p>\n\n<blockquote>\n  <p>If you have not defined a bean of type CacheManager or a CacheResolver\n  named cacheResolver (see CachingConfigurer), Spring Boot tries to\n  detect the following providers (in the indicated order):</p>\n</blockquote>\n\n<ul>\n<li>Generic</li>\n<li>JCache (JSR-107) (EhCache 3, Hazelcast, Infinispan, and others)</li>\n<li>EhCache 2.x</li>\n<li>Hazelcast</li>\n<li>Infinispan</li>\n<li>Couchbase</li>\n<li>Redis</li>\n<li>Caffeine</li>\n<li>Simple</li>\n</ul>\n\n<p>I will suggest to use Ehcache, you can check more details on Ehcache with Spring framework in the below link.\n<a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cache-tutorial</a></p>\n\n<p>If you are only interested about JCS, then refer below the link to have an understanding.</p>\n\n<p><a href=\"https://codyburleson.com/quick-and-simple-caching-with-apache-commons-jcs/\" rel=\"nofollow noreferrer\">https://codyburleson.com/quick-and-simple-caching-with-apache-commons-jcs/</a></p>\n\n<p>In case pf Spring boot, I will suggest to create class and wrap JCS inside that class so that you can wire in any class so that you can abstract away the JCS implementation details. I provide below outline.</p>\n\n<p>@Autowired CacheUpdater cacheUpdate;</p>\n\n<p>in the method, you can write like this,</p>\n\n<p>public void someMethod(... params) {\n    cacheUpdater.update(key,value)\n}</p>\n\n<p>It is not necessary that, you have to have a method called update(), you can create any method and it should internally call JCS to put the key and value in cache.</p>\n"},{"tags":[],"owner":{"account_id":6601931,"reputation":1,"user_id":17146384,"display_name":"Vikram Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634172126,"creation_date":1634172126,"answer_id":69563848,"question_id":56404286,"body_markdown":"With spring boot you can specify the following property to plugin JCS as a cache implementation compliant with JSR 107.\r\n \r\n    spring.cache.jcache.config=classpath:cache.ccf\r\n\r\ncache.ccf is the configuration file for JCS which can be placed anywhere in the classpath.\r\n\r\nRef: [spring JSR-107][1] \r\nRef: [JCS overview][2]\r\n\r\n\r\nThe `spring.cache.jcache.provider` property is not required to be specified, as long as you are just using one caching provider.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/boot-features-caching.html#boot-features-caching-provider-jcache\r\n  [2]: https://commons.apache.org/proper/commons-jcs/getting_started/intro.html","title":"How to use JCS with Spring boot(Rest api)","body":"<p>With spring boot you can specify the following property to plugin JCS as a cache implementation compliant with JSR 107.</p>\n<pre><code>spring.cache.jcache.config=classpath:cache.ccf\n</code></pre>\n<p>cache.ccf is the configuration file for JCS which can be placed anywhere in the classpath.</p>\n<p>Ref: <a href=\"https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/boot-features-caching.html#boot-features-caching-provider-jcache\" rel=\"nofollow noreferrer\">spring JSR-107</a>\nRef: <a href=\"https://commons.apache.org/proper/commons-jcs/getting_started/intro.html\" rel=\"nofollow noreferrer\">JCS overview</a></p>\n<p>The <code>spring.cache.jcache.provider</code> property is not required to be specified, as long as you are just using one caching provider.</p>\n"}],"owner":{"account_id":7391121,"reputation":449,"user_id":5624464,"accept_rate":57,"display_name":"Vishal Kawade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1379,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1634172126,"creation_date":1559369343,"question_id":56404286,"body_markdown":"I am new to Spring boot caching, as per my requirement i want to use JCS with spring boot(rest api). I have searched over the google but, haven&#39;t got much information about it. \r\n\r\n  There is info available with java class. Does any one knows how to use it or any related tutorial or information.\r\n\r\nThis might be the opinion based question. But it is much needed.\r\n\r\n      public static void main(String[] args) {\r\n    //   Initialize the JCS object and get an instance of the default cache region\r\n    try {\r\n        JCS cache = JCS.getInstance(&quot;default&quot;);\r\n\r\n    String key = &quot;key0&quot;;\r\n    String value = &quot;value0&quot;;\r\n\r\n    cache.put(key, value);\r\n    cache.put(&quot;vasu&quot;,&quot;dev&quot;);\r\n\r\n\r\n    } catch (CacheException e) {\r\n        e.printStackTrace();\r\n    }\r\n}","title":"How to use JCS with Spring boot(Rest api)","body":"<p>I am new to Spring boot caching, as per my requirement i want to use JCS with spring boot(rest api). I have searched over the google but, haven't got much information about it. </p>\n\n<p>There is info available with java class. Does any one knows how to use it or any related tutorial or information.</p>\n\n<p>This might be the opinion based question. But it is much needed.</p>\n\n<pre><code>  public static void main(String[] args) {\n//   Initialize the JCS object and get an instance of the default cache region\ntry {\n    JCS cache = JCS.getInstance(\"default\");\n\nString key = \"key0\";\nString value = \"value0\";\n\ncache.put(key, value);\ncache.put(\"vasu\",\"dev\");\n\n\n} catch (CacheException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634083608,"post_id":69548203,"comment_id":122929484,"body_markdown":"How are you calling the endpoint? Do you get any exception in your logs?","body":"How are you calling the endpoint? Do you get any exception in your logs?"},{"owner":{"account_id":11568557,"reputation":1458,"user_id":8475994,"display_name":"athom"},"score":1,"creation_date":1634083776,"post_id":69548203,"comment_id":122929509,"body_markdown":"Did you add an `Accept` header in your HTTP request?\n`Accept: */*`","body":"Did you add an <code>Accept</code> header in your HTTP request? <code>Accept: *&#47;*</code>"},{"owner":{"account_id":4465341,"reputation":75,"user_id":3633142,"display_name":"Curious Coder"},"score":0,"creation_date":1634084611,"post_id":69548203,"comment_id":122929642,"body_markdown":"@Jo&#227;oDias For Now I&#39;m trying to invoke using Postman with debug mode enabled on my IDE. I can see the control moving without any concerns all the way till the Controller Method exit. The Response Object as well is loaded appropriately.\nNo Exceptions reported in the logs","body":"@Jo&#227;oDias For Now I&#39;m trying to invoke using Postman with debug mode enabled on my IDE. I can see the control moving without any concerns all the way till the Controller Method exit. The Response Object as well is loaded appropriately. No Exceptions reported in the logs"},{"owner":{"account_id":4465341,"reputation":75,"user_id":3633142,"display_name":"Curious Coder"},"score":0,"creation_date":1634084714,"post_id":69548203,"comment_id":122929655,"body_markdown":"@athom Yes I did try that on Postman. BTW Postman adds it automatically. I did try adding it explicitly and also tried specifying Application/json, nothing worked","body":"@athom Yes I did try that on Postman. BTW Postman adds it automatically. I did try adding it explicitly and also tried specifying Application/json, nothing worked"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634085504,"post_id":69548203,"comment_id":122929815,"body_markdown":"What if you try something simpler. Something like `ResponseEntity&lt;String&gt;` instead of `ResponseEntity&lt;AnalysisDetailResponse&gt;`. This is not what you need but at least we could learn if the issue could be with the serialization of `AnalysisDetailResponse`.","body":"What if you try something simpler. Something like <code>ResponseEntity&lt;String&gt;</code> instead of <code>ResponseEntity&lt;AnalysisDetailResponse&gt;</code>. This is not what you need but at least we could learn if the issue could be with the serialization of <code>AnalysisDetailResponse</code>."},{"owner":{"account_id":4465341,"reputation":75,"user_id":3633142,"display_name":"Curious Coder"},"score":0,"creation_date":1634086576,"post_id":69548203,"comment_id":122930024,"body_markdown":"@Jo&#227;oDias That was a good suggestion. I replaced it with String and hardcoded a sample String value. It is coming through.","body":"@Jo&#227;oDias That was a good suggestion. I replaced it with String and hardcoded a sample String value. It is coming through."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634087651,"post_id":69548203,"comment_id":122930213,"body_markdown":"No try with `ResponseEntity&lt;AnalysisDetailResponse&gt;` again but this time add `@JsonIgnore` to `private AnalysisStatus state;` and `private List&lt;PostDetail&gt; posts;`. Let us know if it still works. If it does, remove one of the `@JsonIgnore` and try to find the &quot;guilty&quot; one. Let us know which one it is.","body":"No try with <code>ResponseEntity&lt;AnalysisDetailResponse&gt;</code> again but this time add <code>@JsonIgnore</code> to <code>private AnalysisStatus state;</code> and <code>private List&lt;PostDetail&gt; posts;</code>. Let us know if it still works. If it does, remove one of the <code>@JsonIgnore</code> and try to find the &quot;guilty&quot; one. Let us know which one it is."},{"owner":{"account_id":4465341,"reputation":75,"user_id":3633142,"display_name":"Curious Coder"},"score":0,"creation_date":1634091798,"post_id":69548203,"comment_id":122930862,"body_markdown":"@Jo&#227;oDias Extremely weird observation. I just replaced the String with my Response DTO based on your suggestion and placed a debugger breakpoint on the very first line of the controller method.\nIn the Variables section of the Debugger window, I see this error message:\n`((HttpMediaTypeNotAcceptableException)ex).detailMessage=Cannot find local variable &#39;ex&#39;`\n\nThis is 100% not a loose thread from my end, I&#39;ve triple, quadruple checked it! Perhaps this is a hint towards the actual root cause","body":"@Jo&#227;oDias Extremely weird observation. I just replaced the String with my Response DTO based on your suggestion and placed a debugger breakpoint on the very first line of the controller method. In the Variables section of the Debugger window, I see this error message: <code>((HttpMediaTypeNotAcceptableException)ex).detailMessage=Cann&zwnj;&#8203;ot find local variable &#39;ex&#39;</code>  This is 100% not a loose thread from my end, I&#39;ve triple, quadruple checked it! Perhaps this is a hint towards the actual root cause"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634120134,"post_id":69548203,"comment_id":122938755,"body_markdown":"Are you getting your `AnalysisDetailResponse` from the service or did you instantiate it on your own? So that we can learn if the issue is in the Controller or in the Service.","body":"Are you getting your <code>AnalysisDetailResponse</code> from the service or did you instantiate it on your own? So that we can learn if the issue is in the Controller or in the Service."},{"owner":{"account_id":4465341,"reputation":75,"user_id":3633142,"display_name":"Curious Coder"},"score":0,"creation_date":1634137153,"post_id":69548203,"comment_id":122946362,"body_markdown":"@Jo&#227;oDias I&#39;m constructing the Response object in the service layer and returning it back to the Controller. BTW what do you think about the `((HttpMediaTypeNotAcceptableException)ex).detailMessage=Cannot find local variable &#39;ex&#39;` exception in the comment above?","body":"@Jo&#227;oDias I&#39;m constructing the Response object in the service layer and returning it back to the Controller. BTW what do you think about the <code>((HttpMediaTypeNotAcceptableException)ex).detailMessage=Cann&zwnj;&#8203;ot find local variable &#39;ex&#39;</code> exception in the comment above?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634170817,"post_id":69548203,"comment_id":122956709,"body_markdown":"I can&#39;t really tell anything from that exception. In that case, try to build the `AnalysisDetailResponse` directly in the Controller instead of calling the real method from the Service. So that we understand where the issue is.","body":"I can&#39;t really tell anything from that exception. In that case, try to build the <code>AnalysisDetailResponse</code> directly in the Controller instead of calling the real method from the Service. So that we understand where the issue is."}],"answers":[{"tags":[],"owner":{"account_id":4465341,"reputation":75,"user_id":3633142,"display_name":"Curious Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634170874,"creation_date":1634170874,"answer_id":69563725,"question_id":69548203,"body_markdown":"Was able to get this working eventually by updating the Response object class&#39;s definition.\r\nLombok was been used and I had applied the [`@Data`][1] annotation to the Response class as well as the static inner class. The motive was to club multiple Lombok annotations into one\r\nReplacing the `@Data` annotation with a more verbose set including `@NoArgsConstructor, @AllArgsConstructor, @Getter, @Setter` resolved the issue. \r\n\r\nSo, one or more of these Lombok annotations was the real culprit in this scenario:\r\n`@ToString, @EqualsAndHashCode, @RequiredArgsConstructor`\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Data","title":"In a SpringBoot project with MVC REST API is returning 406 response","body":"<p>Was able to get this working eventually by updating the Response object class's definition.\nLombok was been used and I had applied the <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\"><code>@Data</code></a> annotation to the Response class as well as the static inner class. The motive was to club multiple Lombok annotations into one\nReplacing the <code>@Data</code> annotation with a more verbose set including <code>@NoArgsConstructor, @AllArgsConstructor, @Getter, @Setter</code> resolved the issue.</p>\n<p>So, one or more of these Lombok annotations was the real culprit in this scenario:\n<code>@ToString, @EqualsAndHashCode, @RequiredArgsConstructor</code></p>\n"}],"owner":{"account_id":4465341,"reputation":75,"user_id":3633142,"display_name":"Curious Coder"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634170874,"creation_date":1634083226,"question_id":69548203,"body_markdown":"I am working on a SpringBoot project, that uses the regular MVC mechanism to expose the REST APIs.\r\n\r\nIn one particular GET API, I am getting 406 HTTP Response.\r\n\r\nHere is how my Controller method looks:\r\n\r\n        @GetMapping(path = &quot;/analysis/detail/{analysisId}&quot;)\r\n        public ResponseEntity&lt;AnalysisDetailResponse&gt; getAnalysisDetails(\r\n                @PathVariable @NotNull Long analysisId) throws BusinessException {\r\n            AnalysisDetailResponse analysisDetailResponse = analysisService.getAnalysisDetailsByAnalysisId(analysisId);\r\n    //        return ResponseEntity.ok(analysisService.getAnalysisDetailsByAnalysisId(analysisId));\r\n            return ResponseEntity.ok(analysisDetailResponse);\r\n        }\r\n\r\nThe AnalysisDetailResponse is created using Lombok (which is working flawlessly in case of other APIs)\r\n\r\n    @Builder\r\n    @ToString\r\n    public class AnalysisDetailResponse {\r\n    \r\n        @NotNull\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        private AnalysisStatus state;\r\n    \r\n        private String failedSummary;\r\n    \r\n        @NotNull\r\n        @NotEmpty\r\n        @Valid\r\n        private List&lt;PostDetail&gt; posts;\r\n    \r\n        @Builder\r\n        @ToString\r\n        private static class PostDetail {\r\n    \r\n            @NotNull\r\n            private Long id;\r\n    \r\n            @NotNull\r\n            private float score;\r\n    \r\n            @NotNull\r\n            private String body;\r\n    \r\n            private List&lt;String&gt; childBodyList;\r\n        }\r\n    }\r\n\r\nI&#39;ve verified the contents of the entire Response object and it seems to be perfect. However, the response is always 406.\r\n\r\nI need the response in JSON format, hence, explicit mentioning of the response type isn&#39;t really necessary IMO.\r\n\r\nNevertheless, I tried adding the below content to the @GetMapping annotation, but found no luck:\r\n\r\n    produces = MediaType.APPLICATION_JSON_VALUE\r\n\r\nA majority of relevant posts are suggesting to add the `jackson-mapper-asl` and `jackson-core-asl` libraries. I tried it, but that didn&#39;t make any difference\r\n\r\nPlease note, it&#39;s just this particular API that&#39;s causing issues. There are other APIs defined in the same Controller that are working fine.\r\n\r\nKindly suggest.... \r\n\r\n**Update:**\r\nI am trying to hit the API using Postman and I did try adding the **Accept** Header parameter explicitly. No luck with it","title":"In a SpringBoot project with MVC REST API is returning 406 response","body":"<p>I am working on a SpringBoot project, that uses the regular MVC mechanism to expose the REST APIs.</p>\n<p>In one particular GET API, I am getting 406 HTTP Response.</p>\n<p>Here is how my Controller method looks:</p>\n<pre><code>    @GetMapping(path = &quot;/analysis/detail/{analysisId}&quot;)\n    public ResponseEntity&lt;AnalysisDetailResponse&gt; getAnalysisDetails(\n            @PathVariable @NotNull Long analysisId) throws BusinessException {\n        AnalysisDetailResponse analysisDetailResponse = analysisService.getAnalysisDetailsByAnalysisId(analysisId);\n//        return ResponseEntity.ok(analysisService.getAnalysisDetailsByAnalysisId(analysisId));\n        return ResponseEntity.ok(analysisDetailResponse);\n    }\n</code></pre>\n<p>The AnalysisDetailResponse is created using Lombok (which is working flawlessly in case of other APIs)</p>\n<pre><code>@Builder\n@ToString\npublic class AnalysisDetailResponse {\n\n    @NotNull\n    private Long id;\n\n    @NotNull\n    private AnalysisStatus state;\n\n    private String failedSummary;\n\n    @NotNull\n    @NotEmpty\n    @Valid\n    private List&lt;PostDetail&gt; posts;\n\n    @Builder\n    @ToString\n    private static class PostDetail {\n\n        @NotNull\n        private Long id;\n\n        @NotNull\n        private float score;\n\n        @NotNull\n        private String body;\n\n        private List&lt;String&gt; childBodyList;\n    }\n}\n</code></pre>\n<p>I've verified the contents of the entire Response object and it seems to be perfect. However, the response is always 406.</p>\n<p>I need the response in JSON format, hence, explicit mentioning of the response type isn't really necessary IMO.</p>\n<p>Nevertheless, I tried adding the below content to the @GetMapping annotation, but found no luck:</p>\n<pre><code>produces = MediaType.APPLICATION_JSON_VALUE\n</code></pre>\n<p>A majority of relevant posts are suggesting to add the <code>jackson-mapper-asl</code> and <code>jackson-core-asl</code> libraries. I tried it, but that didn't make any difference</p>\n<p>Please note, it's just this particular API that's causing issues. There are other APIs defined in the same Controller that are working fine.</p>\n<p>Kindly suggest....</p>\n<p><strong>Update:</strong>\nI am trying to hit the API using Postman and I did try adding the <strong>Accept</strong> Header parameter explicitly. No luck with it</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","spring-integration-sftp"],"comments":[{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":2,"creation_date":1608233151,"post_id":65347026,"comment_id":115528023,"body_markdown":"Might this be the same issue as in https://stackoverflow.com/questions/9790323/spring-integration-gateway-with-no-arguments?","body":"Might this be the same issue as in <a href=\"https://stackoverflow.com/questions/9790323/spring-integration-gateway-with-no-arguments\" title=\"spring integration gateway with no arguments\">stackoverflow.com/questions/9790323/&hellip;</a>?"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1608233683,"creation_date":1608233683,"answer_id":65347206,"question_id":65347026,"body_markdown":"Yes, the story mentioned in the https://stackoverflow.com/questions/9790323/spring-integration-gateway-with-no-arguments is definitely related to your problem.\r\n\r\nYou are missing the fact that `List&lt;File&gt; listFiles()` contract comes without arguments, so it is not clear for the framework what to use for sending to that `sftpChannel`. Therefore it try to call `receive`. But since your `sftpChannel` is not `PollableChannel`, you got that error. Anyway that is a different story and not what you want to get as a reply from sending a message to the `sftpChannel` as you try to do with that gateway contract.\r\n\r\nYou just need to be more explicit and say what to use as a payload for that no-arg gateway contract. \r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#gateway-calling-no-argument-methods. The `@Payload` is an answer for you. Or you can specify a `payloadExpression` on that `@Gateway` annotation or a `defaultPayloadExpression` on the `@MessagingGateway`.","title":"How to call SFTP Outbound Gateway operations in Configuration from Component in Spring","body":"<p>Yes, the story mentioned in the <a href=\"https://stackoverflow.com/questions/9790323/spring-integration-gateway-with-no-arguments\">Spring Integration Gateway with no arguments</a> is definitely related to your problem.</p>\n<p>You are missing the fact that <code>List&lt;File&gt; listFiles()</code> contract comes without arguments, so it is not clear for the framework what to use for sending to that <code>sftpChannel</code>. Therefore it try to call <code>receive</code>. But since your <code>sftpChannel</code> is not <code>PollableChannel</code>, you got that error. Anyway that is a different story and not what you want to get as a reply from sending a message to the <code>sftpChannel</code> as you try to do with that gateway contract.</p>\n<p>You just need to be more explicit and say what to use as a payload for that no-arg gateway contract.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#gateway-calling-no-argument-methods\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#gateway-calling-no-argument-methods</a>. The <code>@Payload</code> is an answer for you. Or you can specify a <code>payloadExpression</code> on that <code>@Gateway</code> annotation or a <code>defaultPayloadExpression</code> on the <code>@MessagingGateway</code>.</p>\n"},{"tags":[],"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634169464,"creation_date":1634169464,"answer_id":69563608,"question_id":65347026,"body_markdown":"Maybe it is too late, but you also could change your no-arg gateway contract to a one-arg contract having nothing to annotate additionally.\r\n\r\n    @MessagingGateway\r\n    public interface MyGateway {\r\n         @Gateway(requestChannel = &quot;sftpChannel&quot;)\r\n         List&lt;File&gt; listFiles(String remoteDir);\r\n\r\n    }\r\n    \r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;sftpChannel&quot;)\r\n    public MessageHandler handler() {\r\n        return new SftpOutboundGateway(ftpSessionFactory(), Command.LS, &quot;payload&quot;);\r\n    }\r\n\r\nIn your @Component class then you will have:\r\n\r\n    @Autowired\r\n    MyGateway gateway;\r\n\r\n    public void list(){\r\n        List&lt;File&gt; files = gateway.listFiles(&quot;&#39;my_remote_dir/&#39;&quot;);\r\n    }\r\n","title":"How to call SFTP Outbound Gateway operations in Configuration from Component in Spring","body":"<p>Maybe it is too late, but you also could change your no-arg gateway contract to a one-arg contract having nothing to annotate additionally.</p>\n<pre><code>@MessagingGateway\npublic interface MyGateway {\n     @Gateway(requestChannel = &quot;sftpChannel&quot;)\n     List&lt;File&gt; listFiles(String remoteDir);\n\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;sftpChannel&quot;)\npublic MessageHandler handler() {\n    return new SftpOutboundGateway(ftpSessionFactory(), Command.LS, &quot;payload&quot;);\n}\n</code></pre>\n<p>In your @Component class then you will have:</p>\n<pre><code>@Autowired\nMyGateway gateway;\n\npublic void list(){\n    List&lt;File&gt; files = gateway.listFiles(&quot;'my_remote_dir/'&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":13853701,"reputation":37,"user_id":10001008,"display_name":"Jordendarc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65347206,"answer_count":2,"score":1,"last_activity_date":1634169464,"creation_date":1608232711,"question_id":65347026,"body_markdown":"I have looked here [here](https://docs.spring.io/spring-integration/reference/html/sftp.html#configuring-with-java-configuration-3) and am unable to get listFiles to work:\r\n\r\n```\r\n    @Bean\r\n    public SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\r\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n        factory.setHost(&quot;localhost&quot;);\r\n        factory.setPort(port);\r\n        factory.setUser(&quot;foo&quot;);\r\n        factory.setPassword(&quot;foo&quot;);\r\n        factory.setAllowUnknownKeys(true);\r\n        factory.setTestSession(true);\r\n        return new CachingSessionFactory&lt;LsEntry&gt;(factory);\r\n    }\r\n\r\n    @MessagingGateway\r\n    public interface MyGateway {\r\n         @Gateway(requestChannel = &quot;sftpChannel&quot;)\r\n         List&lt;File&gt; listFiles();\r\n\r\n    }\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;sftpChannel&quot;)\r\n    public MessageHandler handler() {\r\n        return new SftpOutboundGateway(ftpSessionFactory(), &quot;ls&quot;, &quot;&#39;my_remote_dir/&#39;&quot;);\r\n    }\r\n\r\n```\r\nwhere in my @Component class I have this:\r\n```\r\n    @Autowired\r\n    MyGateway gateway;\r\n\r\n    public void list(){\r\n        List&lt;File&gt; files = gateway.listFiles();\r\n    }\r\n\r\n```\r\nwhen I run this, I get an error `receive is not supported, because no pollable reply channel has been configured` \r\n\r\nI assume this is an issue with my knowledge/understanding of integration channels. Perhaps I am missing a bean, but my main goal here is to do replace my current use of the inboundchannel adapter to request files ad hoc instead of continuously polling the fileserver","title":"How to call SFTP Outbound Gateway operations in Configuration from Component in Spring","body":"<p>I have looked here <a href=\"https://docs.spring.io/spring-integration/reference/html/sftp.html#configuring-with-java-configuration-3\" rel=\"nofollow noreferrer\">here</a> and am unable to get listFiles to work:</p>\n<pre><code>    @Bean\n    public SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n        factory.setHost(&quot;localhost&quot;);\n        factory.setPort(port);\n        factory.setUser(&quot;foo&quot;);\n        factory.setPassword(&quot;foo&quot;);\n        factory.setAllowUnknownKeys(true);\n        factory.setTestSession(true);\n        return new CachingSessionFactory&lt;LsEntry&gt;(factory);\n    }\n\n    @MessagingGateway\n    public interface MyGateway {\n         @Gateway(requestChannel = &quot;sftpChannel&quot;)\n         List&lt;File&gt; listFiles();\n\n    }\n    @Bean\n    @ServiceActivator(inputChannel = &quot;sftpChannel&quot;)\n    public MessageHandler handler() {\n        return new SftpOutboundGateway(ftpSessionFactory(), &quot;ls&quot;, &quot;'my_remote_dir/'&quot;);\n    }\n\n</code></pre>\n<p>where in my @Component class I have this:</p>\n<pre><code>    @Autowired\n    MyGateway gateway;\n\n    public void list(){\n        List&lt;File&gt; files = gateway.listFiles();\n    }\n\n</code></pre>\n<p>when I run this, I get an error <code>receive is not supported, because no pollable reply channel has been configured</code></p>\n<p>I assume this is an issue with my knowledge/understanding of integration channels. Perhaps I am missing a bean, but my main goal here is to do replace my current use of the inboundchannel adapter to request files ad hoc instead of continuously polling the fileserver</p>\n"},{"tags":["java","spring","spring-mvc","pdf"],"answers":[{"tags":[],"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1392788958,"creation_date":1392787721,"answer_id":21871854,"question_id":21870802,"body_markdown":"\r\nTry \r\n\r\n    httpServletResponse.setHeader(&quot;Content-Disposition&quot;, &quot;inline&quot;);\r\n\r\nBut using the responseEntity as follows.\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;content-disposition&quot;, &quot;attachment; filename=&quot; + fileName)\r\n    ResponseEntity&lt;byte[]&gt; response = new ResponseEntity&lt;byte[]&gt;(\r\n                pdfContents, headers, HttpStatus.OK);\r\n\r\nIt should work \r\n\r\nNot sure about this, but it seems you are using bad the setContentDispositionFormData, try&gt;\r\n\r\n    headers.setContentDispositionFormData(&quot;attachment&quot;, fileName);\r\n\r\nLet me know if that works \r\n\r\n**UPDATE**\r\n\r\n&gt; This behavior depends on the browser and the file you are trying to\r\n&gt; serve. With inline, the browser will try to open the file within the\r\n&gt; browser.\r\n\r\n    headers.setContentDispositionFormData(&quot;inline&quot;, fileName);\r\n\r\nOr\r\n\r\n    headers.add(&quot;content-disposition&quot;, &quot;inline;filename=&quot; + fileName)\r\n\r\nRead this to know difference [between inline and attachment][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1395151/content-dispositionwhat-are-the-differences-between-inline-and-attachment","title":"Open ResponseEntity PDF in new browser tab","body":"<p>Try </p>\n\n<pre><code>httpServletResponse.setHeader(\"Content-Disposition\", \"inline\");\n</code></pre>\n\n<p>But using the responseEntity as follows.</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.add(\"content-disposition\", \"attachment; filename=\" + fileName)\nResponseEntity&lt;byte[]&gt; response = new ResponseEntity&lt;byte[]&gt;(\n            pdfContents, headers, HttpStatus.OK);\n</code></pre>\n\n<p>It should work </p>\n\n<p>Not sure about this, but it seems you are using bad the setContentDispositionFormData, try></p>\n\n<pre><code>headers.setContentDispositionFormData(\"attachment\", fileName);\n</code></pre>\n\n<p>Let me know if that works </p>\n\n<p><strong>UPDATE</strong></p>\n\n<blockquote>\n  <p>This behavior depends on the browser and the file you are trying to\n  serve. With inline, the browser will try to open the file within the\n  browser.</p>\n</blockquote>\n\n<pre><code>headers.setContentDispositionFormData(\"inline\", fileName);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>headers.add(\"content-disposition\", \"inline;filename=\" + fileName)\n</code></pre>\n\n<p>Read this to know difference <a href=\"https://stackoverflow.com/questions/1395151/content-dispositionwhat-are-the-differences-between-inline-and-attachment\">between inline and attachment</a></p>\n"},{"tags":[],"owner":{"account_id":4748142,"reputation":2053,"user_id":3838898,"display_name":"mykey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517960909,"creation_date":1517960909,"answer_id":48653782,"question_id":21870802,"body_markdown":"    /* Here is a simple code that worked just fine to open pdf(byte stream) file \r\n    * in browser , Assuming you have a a method yourService.getPdfContent() that \r\n    * returns the bite stream for the pdf file\r\n    */\r\n\r\n    @GET\r\n    @Path(&quot;/download/&quot;)\r\n    @Produces(&quot;application/pdf&quot;)\r\n    public byte[] getDownload() {\r\n       byte[] pdfContents = yourService.getPdfContent();\r\n       return pdfContents;\r\n    }\r\n   \r\n\r\n\r\n","title":"Open ResponseEntity PDF in new browser tab","body":"<pre><code>/* Here is a simple code that worked just fine to open pdf(byte stream) file \n* in browser , Assuming you have a a method yourService.getPdfContent() that \n* returns the bite stream for the pdf file\n*/\n\n@GET\n@Path(\"/download/\")\n@Produces(\"application/pdf\")\npublic byte[] getDownload() {\n   byte[] pdfContents = yourService.getPdfContent();\n   return pdfContents;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4263958,"reputation":753,"user_id":3487530,"display_name":"Danilo Teodoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552457444,"creation_date":1552457444,"answer_id":55135475,"question_id":21870802,"body_markdown":"What happened is that since you &quot;manually&quot; provided headers to the response, Spring did not added the other headers (e.g. produces=&quot;application/pdf&quot;). Here&#39;s the minimum code to display the pdf inline in the browser using Spring:\r\n\r\n    @GetMapping(value = &quot;/form/pdf&quot;, produces = &quot;application/pdf&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; showPdf() {\r\n        // getPdfBytes() simply returns: byte[]\r\n        return ResponseEntity.ok(getPdfBytes());\r\n    }","title":"Open ResponseEntity PDF in new browser tab","body":"<p>What happened is that since you \"manually\" provided headers to the response, Spring did not added the other headers (e.g. produces=\"application/pdf\"). Here's the minimum code to display the pdf inline in the browser using Spring:</p>\n\n<pre><code>@GetMapping(value = \"/form/pdf\", produces = \"application/pdf\")\npublic ResponseEntity&lt;byte[]&gt; showPdf() {\n    // getPdfBytes() simply returns: byte[]\n    return ResponseEntity.ok(getPdfBytes());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23026128,"reputation":61,"user_id":17146349,"display_name":"natan barron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634168316,"creation_date":1634167288,"answer_id":69563408,"question_id":21870802,"body_markdown":"SpringBoot 2 \r\n\r\nUse this code to display the pdf in the browser.\r\n(PDF in directory resources -&gt; CLASSPATH)\r\nUsing ResponseEntity&lt;?&gt;\r\n\r\n    \t@GetMapping(value = &quot;/showPDF&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; exportarPDF( ){\t\t\r\n\t\t\r\n\t\tInputStreamResource file = new InputStreamResource(service.exportPDF());\r\n\t\t\r\n\t\treturn ResponseEntity.ok()\r\n\t\t\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;attachment; filename=ayuda.pdf&quot;)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_PDF)\r\n\t\t\t\t.body(file);    \t\t\r\n\t}\r\n\r\n   \t\r\n    \r\n    \r\n    @Service\r\n    public class AyudaServiceImpl implements AyudaService {\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(LoadPDF.class);\r\n    \t\r\n    \tLoadPDF  pdf = new LoadPDF();\r\n    \t\r\n    \tpublic InputStream exportPDF() {\t\r\n    \t\tLOGGER.info(&quot;Inicia metodo de negocio :: getPDF&quot;);\t\t\t\t\t\r\n    \t\treturn pdf.getPDF();\r\n    \t}\r\n    }\r\n    \r\n---CLASE\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.util.ResourceUtils;\r\n    \r\n    \r\n    public class LoadPDF {\r\n    \t\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(LoadPDF.class);\r\n    \tpublic  InputStream getPDF(){        \r\n                   \r\n            try {\r\n                File file = ResourceUtils.getFile(&quot;classpath:ayuda.pdf&quot;);\r\n                LOGGER.debug(&quot;Ruta del archivo pdf: [&quot; + file + &quot;]&quot;);\r\n                InputStream in = new FileInputStream(file);\r\n                LOGGER.info(&quot;Encontro el archivo PDF&quot;);\r\n                return in;\r\n            } catch (IOException e) {\r\n                LOGGER.error(&quot;No encontro el archivo PDF&quot;,e.getMessage());\r\n                throw new AyudaException(&quot;No encontro el archivo PDF&quot;, e ); \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Open ResponseEntity PDF in new browser tab","body":"<p>SpringBoot 2</p>\n<p>Use this code to display the pdf in the browser.\n(PDF in directory resources -&gt; CLASSPATH)\nUsing ResponseEntity&lt;?&gt;</p>\n<pre><code>    @GetMapping(value = &quot;/showPDF&quot;)\npublic ResponseEntity&lt;?&gt; exportarPDF( ){        \n    \n    InputStreamResource file = new InputStreamResource(service.exportPDF());\n    \n    return ResponseEntity.ok()\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;attachment; filename=ayuda.pdf&quot;)\n            .contentType(MediaType.APPLICATION_PDF)\n            .body(file);            \n}\n\n\n\n\n@Service\npublic class AyudaServiceImpl implements AyudaService {\n    private static final Logger LOGGER = LoggerFactory.getLogger(LoadPDF.class);\n    \n    LoadPDF  pdf = new LoadPDF();\n    \n    public InputStream exportPDF() {    \n        LOGGER.info(&quot;Inicia metodo de negocio :: getPDF&quot;);                  \n        return pdf.getPDF();\n    }\n}\n</code></pre>\n<p>---CLASE</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.util.ResourceUtils;\n\n\npublic class LoadPDF {\n    \n    private static final Logger LOGGER = LoggerFactory.getLogger(LoadPDF.class);\n    public  InputStream getPDF(){        \n               \n        try {\n            File file = ResourceUtils.getFile(&quot;classpath:ayuda.pdf&quot;);\n            LOGGER.debug(&quot;Ruta del archivo pdf: [&quot; + file + &quot;]&quot;);\n            InputStream in = new FileInputStream(file);\n            LOGGER.info(&quot;Encontro el archivo PDF&quot;);\n            return in;\n        } catch (IOException e) {\n            LOGGER.error(&quot;No encontro el archivo PDF&quot;,e.getMessage());\n            throw new AyudaException(&quot;No encontro el archivo PDF&quot;, e ); \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user1685185"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46104,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":21871854,"answer_count":4,"score":17,"last_activity_date":1634168316,"creation_date":1392782709,"question_id":21870802,"body_markdown":"I came across a helpful PDF generation code to show the file to the client in a Spring MVC application ([&quot;_Return generated PDF using Spring MVC_&quot;](https://stackoverflow.com/a/16656382/3287503)):\r\n\r\n\t@RequestMapping(value = &quot;/form/pdf&quot;, produces = &quot;application/pdf&quot;)\r\n\tpublic ResponseEntity&lt;byte[]&gt; showPdf(DomainModel domain, ModelMap model) {\r\n\t\tcreatePdf(domain, model);\r\n\r\n\t\tPath path = Paths.get(PATH_FILE);\r\n\t\tbyte[] pdfContents = null;\r\n\t\ttry {\r\n\t\t\tpdfContents = Files.readAllBytes(path);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n\t\tString filename = NAME_PDF;\r\n\t\theaders.setContentDispositionFormData(filename, filename);\r\n\t\theaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n\t\tResponseEntity&lt;byte[]&gt; response = new ResponseEntity&lt;byte[]&gt;(\r\n\t\t\t\tpdfContents, headers, HttpStatus.OK);\r\n\t\treturn response;\r\n\t}\r\n\r\nI added a declaration that the method returns a PDF file ([&quot;_Spring 3.0 Java REST return PDF document_&quot;](https://stackoverflow.com/a/11804233/3287503)): `produces = &quot;application/pdf&quot;`.\r\n\r\nMy problem is that when the code above is executed, it immediately asks the client to save the PDF file. I want the PDF file to be viewed first in the browser so that the client can decide whether to save it or not.\r\n\r\nI found [&quot;_How to get PDF content (served from a Spring MVC controller method) to appear in a new window_&quot;](https://stackoverflow.com/a/9401602/3287503) that suggests to add `target=&quot;_blank&quot;` in the Spring form tag. I tested it and as expected, it showed a new tab but the save prompt appeared again.\r\n\r\nAnother is [&quot;_I can&#39;t open a .pdf in my browser by Java_&quot;](https://stackoverflow.com/a/5040830/3287503)&#39;s method to add `httpServletResponse.setHeader(&quot;Content-Disposition&quot;,  &quot;inline&quot;);` but I don&#39;t use `HttpServletRequest` to serve my PDF file.\r\n\r\nHow can I open the PDF file in a new tab given my code/situation?\r\n\r\n","title":"Open ResponseEntity PDF in new browser tab","body":"<p>I came across a helpful PDF generation code to show the file to the client in a Spring MVC application (<a href=\"https://stackoverflow.com/a/16656382/3287503\">\"<em>Return generated PDF using Spring MVC</em>\"</a>):</p>\n\n<pre><code>@RequestMapping(value = \"/form/pdf\", produces = \"application/pdf\")\npublic ResponseEntity&lt;byte[]&gt; showPdf(DomainModel domain, ModelMap model) {\n    createPdf(domain, model);\n\n    Path path = Paths.get(PATH_FILE);\n    byte[] pdfContents = null;\n    try {\n        pdfContents = Files.readAllBytes(path);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.parseMediaType(\"application/pdf\"));\n    String filename = NAME_PDF;\n    headers.setContentDispositionFormData(filename, filename);\n    headers.setCacheControl(\"must-revalidate, post-check=0, pre-check=0\");\n    ResponseEntity&lt;byte[]&gt; response = new ResponseEntity&lt;byte[]&gt;(\n            pdfContents, headers, HttpStatus.OK);\n    return response;\n}\n</code></pre>\n\n<p>I added a declaration that the method returns a PDF file (<a href=\"https://stackoverflow.com/a/11804233/3287503\">\"<em>Spring 3.0 Java REST return PDF document</em>\"</a>): <code>produces = \"application/pdf\"</code>.</p>\n\n<p>My problem is that when the code above is executed, it immediately asks the client to save the PDF file. I want the PDF file to be viewed first in the browser so that the client can decide whether to save it or not.</p>\n\n<p>I found <a href=\"https://stackoverflow.com/a/9401602/3287503\">\"<em>How to get PDF content (served from a Spring MVC controller method) to appear in a new window</em>\"</a> that suggests to add <code>target=\"_blank\"</code> in the Spring form tag. I tested it and as expected, it showed a new tab but the save prompt appeared again.</p>\n\n<p>Another is <a href=\"https://stackoverflow.com/a/5040830/3287503\">\"<em>I can't open a .pdf in my browser by Java</em>\"</a>'s method to add <code>httpServletResponse.setHeader(\"Content-Disposition\",  \"inline\");</code> but I don't use <code>HttpServletRequest</code> to serve my PDF file.</p>\n\n<p>How can I open the PDF file in a new tab given my code/situation?</p>\n"},{"tags":["java","arrays","csv","input","talend"],"answers":[{"tags":[],"owner":{"account_id":22937557,"reputation":199,"user_id":17070803,"display_name":"pySam1459"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634081556,"creation_date":1634081556,"answer_id":69548055,"question_id":69547982,"body_markdown":"My advice would be:\r\n1) Create 2 HashSet&lt;String&gt;, &#39;unique&#39; and &#39;duplicate&#39;.\r\n2) for each line, split it with a &#39;.&#39; being the delimiter and index the first element (being the name on that row)\r\n3) if duplicate.contains(name) == true, then continue to next name\r\n4) if unique.contains(name) == true, then unique.remove(name), duplicate.add(name),\r\nelse unique.add(name)\r\n5) at the end, the unqiue hashset contains all the unique names.","title":"Read the values from a csv file and identify the unique names","body":"<p>My advice would be:</p>\n<ol>\n<li>Create 2 HashSet, 'unique' and 'duplicate'.</li>\n<li>for each line, split it with a '.' being the delimiter and index the first element (being the name on that row)</li>\n<li>if duplicate.contains(name) == true, then continue to next name</li>\n<li>if unique.contains(name) == true, then unique.remove(name), duplicate.add(name),\nelse unique.add(name)</li>\n<li>at the end, the unqiue hashset contains all the unique names.</li>\n</ol>\n"}],"owner":{"account_id":21612039,"reputation":11,"user_id":15938420,"display_name":"sarah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634167850,"creation_date":1634080812,"question_id":69547982,"body_markdown":"I am using talend function and component to read and extract the values from a csv file and find the unique values under a specific column A.\r\n\r\ncsv file contains:\r\n[![csv][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Th7lO.png\r\n\r\n\r\nIn this case ,i want to read the NAME column which serves as the header and identify only the unique names(Tom,Jason,Roy,Bianca) from that name category and store it in a array and i can use them to check if the incoming   name from the new file exists or matches the name extracted from the csv file above.\r\n\r\nJob Design:\r\n\r\n - tfilelist-&gt;tjava\r\n\r\n**tJava**:\r\n\r\n  \r\n      int n = 600;  \r\n      int i=0;\r\n      String line=&quot;&quot;;\r\n      int linenumber=0;\r\n      int index=0;\r\n           \r\n     try(BufferedReader br = new BufferedReader(new FileReader((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEPATH&quot;))))\r\n     { \r\n     while ((line = br.readLine()) != null &amp;&amp; linenumber&lt; n )  \r\n     {\r\n      \tString[] tokens = line.split(&quot;,&quot;);\r\n        System.out.println(&quot;Columns=&gt;&quot; + tokens[0]);\r\n      }\r\n     }\r\n\r\ncontext.name will be the global variable that contains all the unique names\r\nIs there any other better efficient way of handling the csv file and extracting only unique names from the column A and store it in a list/array where we can validate against it?\r\n\r\nAppreciate your inputs.Thanks\r\n\r\nI guess the best option would be to use br.readLine() and store the values by using split function(&quot;,&quot;) and store it in a hashset.\r\nThen hashset.contains to validate if that incoming names in the new file matches with the stored hashset value or not and correspondingly decide the flow of data.\r\n\r\nI just now need to find the UNIQUE entries under column A and i dont want the header to be displayed in my output.\r\n\r\nOUTPUT:\r\nColumns NAME\r\nColumns Tom\r\nColumns Jason\r\nColumns Tom\r\nColumns Roy\r\nColumns Bianca\r\n\r\n","title":"Read the values from a csv file and identify the unique names","body":"<p>I am using talend function and component to read and extract the values from a csv file and find the unique values under a specific column A.</p>\n<p>csv file contains:\n<a href=\"https://i.stack.imgur.com/Th7lO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Th7lO.png\" alt=\"csv\" /></a></p>\n<p>In this case ,i want to read the NAME column which serves as the header and identify only the unique names(Tom,Jason,Roy,Bianca) from that name category and store it in a array and i can use them to check if the incoming   name from the new file exists or matches the name extracted from the csv file above.</p>\n<p>Job Design:</p>\n<ul>\n<li>tfilelist-&gt;tjava</li>\n</ul>\n<p><strong>tJava</strong>:</p>\n<pre><code>  int n = 600;  \n  int i=0;\n  String line=&quot;&quot;;\n  int linenumber=0;\n  int index=0;\n       \n try(BufferedReader br = new BufferedReader(new FileReader((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEPATH&quot;))))\n { \n while ((line = br.readLine()) != null &amp;&amp; linenumber&lt; n )  \n {\n    String[] tokens = line.split(&quot;,&quot;);\n    System.out.println(&quot;Columns=&gt;&quot; + tokens[0]);\n  }\n }\n</code></pre>\n<p>context.name will be the global variable that contains all the unique names\nIs there any other better efficient way of handling the csv file and extracting only unique names from the column A and store it in a list/array where we can validate against it?</p>\n<p>Appreciate your inputs.Thanks</p>\n<p>I guess the best option would be to use br.readLine() and store the values by using split function(&quot;,&quot;) and store it in a hashset.\nThen hashset.contains to validate if that incoming names in the new file matches with the stored hashset value or not and correspondingly decide the flow of data.</p>\n<p>I just now need to find the UNIQUE entries under column A and i dont want the header to be displayed in my output.</p>\n<p>OUTPUT:\nColumns NAME\nColumns Tom\nColumns Jason\nColumns Tom\nColumns Roy\nColumns Bianca</p>\n"},{"tags":["java","groovy","httpbuilder"],"answers":[{"tags":[],"owner":{"account_id":145527,"reputation":1493,"user_id":355388,"accept_rate":65,"display_name":" "},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1275601815,"creation_date":1275601815,"answer_id":2970036,"question_id":2969032,"body_markdown":"Ok here it is.\r\n\r\nFigured out from:\r\nhttp://groovy.codehaus.org/Testing+Web+Applications\r\n\r\n    def html=http.get(uri:&#39;http://www.google.com&#39;,contentType:groovyx.net.http.ContentType.TEXT) { resp,reader -&gt;\r\n      def s=reader.text\r\n      new File(&quot;temp.html&quot;)&lt;&lt;s\r\n      new XmlSlurper(new org.cyberneko.html.parsers.SAXParser()).parseText(s)          \r\n    }\r\n\r\nThank you!\r\nMisha","title":"HTTP Builder/Groovy - get source text _and_ XmlSlurper output?","body":"<p>Ok here it is.</p>\n\n<p>Figured out from:\n<a href=\"http://groovy.codehaus.org/Testing+Web+Applications\" rel=\"nofollow noreferrer\">http://groovy.codehaus.org/Testing+Web+Applications</a></p>\n\n<pre><code>def html=http.get(uri:'http://www.google.com',contentType:groovyx.net.http.ContentType.TEXT) { resp,reader -&gt;\n  def s=reader.text\n  new File(\"temp.html\")&lt;&lt;s\n  new XmlSlurper(new org.cyberneko.html.parsers.SAXParser()).parseText(s)          \n}\n</code></pre>\n\n<p>Thank you!\nMisha</p>\n"},{"tags":[],"owner":{"account_id":290298,"reputation":1023,"user_id":3218877,"display_name":"Kevin Guto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634166036,"creation_date":1634166036,"answer_id":69563272,"question_id":2969032,"body_markdown":"Rather than having to dump to file first and read from it, you could achieve the same with the following implementation using *reader.readLines()*:\r\n\r\n    def html=http.get(uri:&#39;http://www.google.com&#39;,contentType:groovyx.net.http.ContentType.TEXT) { resp,reader -&gt;\r\n    \r\n      String response = (reader.readLines().join() as String)\r\n    \r\n      new XmlSlurper(new org.cyberneko.html.parsers.SAXParser()).parseText( response)          \r\n    }","title":"HTTP Builder/Groovy - get source text _and_ XmlSlurper output?","body":"<p>Rather than having to dump to file first and read from it, you could achieve the same with the following implementation using <em>reader.readLines()</em>:</p>\n<pre><code>def html=http.get(uri:'http://www.google.com',contentType:groovyx.net.http.ContentType.TEXT) { resp,reader -&gt;\n\n  String response = (reader.readLines().join() as String)\n\n  new XmlSlurper(new org.cyberneko.html.parsers.SAXParser()).parseText( response)          \n}\n</code></pre>\n"}],"owner":{"account_id":145527,"reputation":1493,"user_id":355388,"accept_rate":65,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2970036,"answer_count":2,"score":0,"last_activity_date":1634166036,"creation_date":1275592615,"question_id":2969032,"body_markdown":"I am reading here:\r\nhttp://groovy.codehaus.org/modules/http-builder/doc/get.html\r\n\r\nI seem to be able to get\r\n\r\ni) XMLSlurper output as parsed by NekoHTML using:\r\n\r\n    def http = new HTTPBuilder(&#39;http://www.google.com&#39;) \r\n    def html = http.get( path : &#39;/search&#39;, query : [q:&#39;Groovy&#39;] )\r\n\r\nii) Raw text using:\r\n\r\n    http.get( path : &#39;/search&#39;,\r\n              contentType : TEXT,\r\n              query : [q:&#39;Groovy&#39;] ) { resp, reader -&gt;          \r\n      println &quot;response status: ${resp.statusLine}&quot;\r\n      println &#39;Headers: -----------&#39;\r\n      resp.headers.each { h -&gt;\r\n      println &quot; ${h.name} : ${h.value}&quot;\r\n      }\r\n      println &#39;Response data: -----&#39;\r\n      System.out &lt;&lt; reader\r\n      println &#39;\\n--------------------&#39;\r\n    }\r\n\r\nI am having some trouble and would like to get _BOTH_ (i) and (ii) to debug my XmlSlurper code on the actual html I am getting.\r\n\r\nAny suggestions how I might go about doing this?\r\n\r\nI can easily instantiate an XmlSlurper object with the relevant string using the parseString(string) method or the parse(reader) method, but I cannot seem to get the Neko processing step correct.\r\n\r\nAny hints?\r\n\r\nThank you!\r\nMisha\r\n\r\n","title":"HTTP Builder/Groovy - get source text _and_ XmlSlurper output?","body":"<p>I am reading here:\n<a href=\"http://groovy.codehaus.org/modules/http-builder/doc/get.html\" rel=\"nofollow noreferrer\">http://groovy.codehaus.org/modules/http-builder/doc/get.html</a></p>\n\n<p>I seem to be able to get</p>\n\n<p>i) XMLSlurper output as parsed by NekoHTML using:</p>\n\n<pre><code>def http = new HTTPBuilder('http://www.google.com') \ndef html = http.get( path : '/search', query : [q:'Groovy'] )\n</code></pre>\n\n<p>ii) Raw text using:</p>\n\n<pre><code>http.get( path : '/search',\n          contentType : TEXT,\n          query : [q:'Groovy'] ) { resp, reader -&gt;          \n  println \"response status: ${resp.statusLine}\"\n  println 'Headers: -----------'\n  resp.headers.each { h -&gt;\n  println \" ${h.name} : ${h.value}\"\n  }\n  println 'Response data: -----'\n  System.out &lt;&lt; reader\n  println '\\n--------------------'\n}\n</code></pre>\n\n<p>I am having some trouble and would like to get <em>BOTH</em> (i) and (ii) to debug my XmlSlurper code on the actual html I am getting.</p>\n\n<p>Any suggestions how I might go about doing this?</p>\n\n<p>I can easily instantiate an XmlSlurper object with the relevant string using the parseString(string) method or the parse(reader) method, but I cannot seem to get the Neko processing step correct.</p>\n\n<p>Any hints?</p>\n\n<p>Thank you!\nMisha</p>\n"},{"tags":["java","spring","jsp","intellij-idea","absolute-path"],"comments":[{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1634168065,"post_id":69563253,"comment_id":122956253,"body_markdown":"You are mixing club soda with single malt. Thats a no-no. Absolute path in your jsp are are for static resources. While for  @PostMapping() etc you are mapping dynamic variables. I dont see an issue here what you are doing.","body":"You are mixing club soda with single malt. Thats a no-no. Absolute path in your jsp are are for static resources. While for  @PostMapping() etc you are mapping dynamic variables. I dont see an issue here what you are doing."},{"owner":{"account_id":21792429,"reputation":11,"user_id":16092446,"display_name":"ConeaSang"},"score":0,"creation_date":1634221678,"post_id":69563253,"comment_id":122971792,"body_markdown":"Sorry, I am new and a little bit confused here. In the form, If I do this, action=&quot;upload-submitted&quot; , the IntelliJ won&#39;t give me the warning (but sometimes, my website can&#39;t find the page). But If I do this, action=&quot;/file/upload-submitted&quot; , the IntelliJ gives me the warning (but my website always find the page).","body":"Sorry, I am new and a little bit confused here. In the form, If I do this, action=&quot;upload-submitted&quot; , the IntelliJ won&#39;t give me the warning (but sometimes, my website can&#39;t find the page). But If I do this, action=&quot;/file/upload-submitted&quot; , the IntelliJ gives me the warning (but my website always find the page)."},{"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"score":0,"creation_date":1634296776,"post_id":69563253,"comment_id":122992388,"body_markdown":"What is your question now? Is it like in the headline if absolute or relative urls are recommended? Or is it why your &quot;website can&#39;t find the page&quot;? For a reader and possible author of answers it would be helpful if you have concrete questions that are easy to identify. Thank you.","body":"What is your question now? Is it like in the headline if absolute or relative urls are recommended? Or is it why your &quot;website can&#39;t find the page&quot;? For a reader and possible author of answers it would be helpful if you have concrete questions that are easy to identify. Thank you."}],"owner":{"account_id":21792429,"reputation":11,"user_id":16092446,"display_name":"ConeaSang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634165896,"creation_date":1634165896,"question_id":69563253,"body_markdown":"I got warnings from IntelliJ that &quot;Absolute paths not recommended in JSPs&quot;\r\n\r\nI understand that, for internal files locations, like &quot;styles.css or script.js&quot;, we should use relative path, something like this - \r\n\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;${pageContext.request.contextPath}/resources/css/styles.css&quot;&gt; \r\n\r\n\r\nBut how about the @RequestMapping(), @GetMapping, @PostMapping, ... , and etc\r\n\r\nFor example, I have a form here:\r\n\r\n\r\n    &lt;form method=&quot;post&quot; action=&quot;/file/upload-submitted&quot; enctype=&quot;multipart/form-data&quot;&gt; \r\n    ...\r\n    &lt;/form&gt;\r\n\r\n\r\nand I also have:\r\n\r\n    @PostMapping(value = &quot;/file/upload-submitted&quot;)\r\n\r\nIntelliJ also give me warning &quot;Absolute paths not recommended in JSPs&quot; at &quot;/file/upload&quot;\r\nIs it the correct warning?\r\n\r\n***The reason that I put the absolute path there because there are multiple paths to get to the form.\r\n\r\n    @GetMapping(value = {&quot;/file&quot;, &quot;/file/upload&quot;})\r\n\r\n\r\n","title":"&quot;Absolute paths not recommended in JSPs&quot; ? - Is this also apply to the @RequestMapping()?","body":"<p>I got warnings from IntelliJ that &quot;Absolute paths not recommended in JSPs&quot;</p>\n<p>I understand that, for internal files locations, like &quot;styles.css or script.js&quot;, we should use relative path, something like this -</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;${pageContext.request.contextPath}/resources/css/styles.css&quot;&gt; \n</code></pre>\n<p>But how about the @RequestMapping(), @GetMapping, @PostMapping, ... , and etc</p>\n<p>For example, I have a form here:</p>\n<pre><code>&lt;form method=&quot;post&quot; action=&quot;/file/upload-submitted&quot; enctype=&quot;multipart/form-data&quot;&gt; \n...\n&lt;/form&gt;\n</code></pre>\n<p>and I also have:</p>\n<pre><code>@PostMapping(value = &quot;/file/upload-submitted&quot;)\n</code></pre>\n<p>IntelliJ also give me warning &quot;Absolute paths not recommended in JSPs&quot; at &quot;/file/upload&quot;\nIs it the correct warning?</p>\n<p>***The reason that I put the absolute path there because there are multiple paths to get to the form.</p>\n<pre><code>@GetMapping(value = {&quot;/file&quot;, &quot;/file/upload&quot;})\n</code></pre>\n"},{"tags":["java","hibernate","maven","javafx"],"comments":[{"owner":{"account_id":19023866,"reputation":21,"user_id":15171573,"display_name":"Ignacio Cassi"},"score":0,"creation_date":1634140321,"post_id":69547952,"comment_id":122947672,"body_markdown":"All this information was really useful, although I still don&#39;t figure out how to check what module I have to add depending on the functionality I want to use. In this case, jakarta.persistence module added JPA annotations. I cant find any mentions on that on the Hibernate ORM guides. Anyway, your help was really useful, thanks @jewelsea .","body":"All this information was really useful, although I still don&#39;t figure out how to check what module I have to add depending on the functionality I want to use. In this case, jakarta.persistence module added JPA annotations. I cant find any mentions on that on the Hibernate ORM guides. Anyway, your help was really useful, thanks @jewelsea ."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1634165310,"post_id":69547952,"comment_id":122955756,"body_markdown":"Replaced comments with an answer.","body":"Replaced comments with an answer."}],"answers":[{"tags":[],"owner":{"account_id":17283426,"reputation":1,"user_id":12516483,"display_name":"Sabeeh Arif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634108514,"creation_date":1634108514,"answer_id":69551028,"question_id":69547952,"body_markdown":"Try adding Spring data JPA maven dependency, as @Entity annotation requires javax.persistence package.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"JavaFX Desktop App with Hibernate - @Entity and other annotations are not recognized","body":"<p>Try adding Spring data JPA maven dependency, as @Entity annotation requires javax.persistence package.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19023866,"reputation":21,"user_id":15171573,"display_name":"Ignacio Cassi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634139995,"creation_date":1634139995,"answer_id":69558507,"question_id":69547952,"body_markdown":"For anyone having the same problem as me in the future, I recommend reading [Understanding Java 9 Modules - What they are and how to use them][1] as suggested by @jewelsea.\r\n\r\nWhat actually solved it for me, was adding the &quot;requires jakarta.persistence&quot; to Module-info.java, which provides JPA annotations.\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"JavaFX Desktop App with Hibernate - @Entity and other annotations are not recognized","body":"<p>For anyone having the same problem as me in the future, I recommend reading <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules - What they are and how to use them</a> as suggested by @jewelsea.</p>\n<p>What actually solved it for me, was adding the &quot;requires jakarta.persistence&quot; to Module-info.java, which provides JPA annotations.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634165286,"creation_date":1634165286,"answer_id":69563194,"question_id":69547952,"body_markdown":"This answer is to get some of the additional info out of comments and into an answer and add some more contextual information.  It is supplemental to the [self-answer](https://stackoverflow.com/a/69558507/1155209), which already notes:\r\n\r\n&gt; What actually solved it for me, was adding the &quot;requires jakarta.persistence&quot; to Module-info.java, which provides JPA annotations.\r\n\r\n**Why requiring `jakarta.persistence` allows `@Entity` access**\r\n\r\nThe [`@Entity`][1] annotation is for JPA, not hibernate (though hibernate can make use of it). Hibernate 6 depends on jakarta 3 to provide the `@Entity` definition, which it gets from the [`jakarta.persistence` package][2] in the [`jakarta.persistence` module][3].\r\n\r\nAdding `requires jakarta.persistence` clause to your `module-info.java` file allows access to the types exported by that module (which includes the `@Entity` type).\r\n\r\nNote, if you make use of other JPA features like criteria, they can be in different packages, within the same module.  So, even if you use annotations from the [`jakarta.persistence.criteria`][4] package, just requiring the `jakarta.persistence` module is sufficient because that module also includes the criteria package.\r\n\r\n**What about the rest of Hibernate**\r\n\r\nI can find little specific info on the web about what may be needed to be placed in module-info.java for using Hibernate 6.  The [current Hibernate 6 documentation][5] did not mention it as far as I could tell (which I believe is a shortcoming in the documentation).\r\n\r\nNote, that Hibernate is often used with other technologies, specifically [Spring Data JPA][6].  If you are considering using Spring technologies in your application now or in the future (which I would advise over using a straight hibernate integration).  Spring will only really be well integrated with the JPMS module system when [Spring 6 and SpringBoot 3][7] are released.  So, although you may be able to get current Spring applications to work with JPMS, I would recommend instead deploying your application in a non-modular fashion (see the information below) and running some of the non-modular libraries such as any Spring libraries (and perhaps also the hibernate-core) off of the classpath.\r\n\r\n**Understanding JPMS Modules**\r\n\r\nTo help understand modules: see [Understanding Java 9 Modules - What they are and how to use them][8], which is a basic introduction to the Java Platform Module System (JPMS), from there you can do some independent research and study for more information if needed.\r\n\r\n**Non-modular JavaFX applications**\r\n\r\nAlso note, that, you may be able to avoid these issues, but making your application non-modular (i.e. don&#39;t provide a `module-info.java` file in your application).  **The core JDK classes and JavaFX itself should be run off the module path**, but your application and other dependent libraries it used can either:\r\n\r\n 1. Your application can be modular and run off the module path\r\n\r\n   * by including a `module-info.java` file in your application.  \r\n\r\n 2. Or, your application can be non-modular.\r\n\r\n   * by not including a `module-info.java` file.  \r\n\r\nFor a non-modular application, your application classes and dependent libraries can be run off of the classpath rather than the module path.  \r\n\r\nFor more information on this, see the [openjfx.io getting started guide](https://openjfx.io/openjfx-docs/#introduction), where it discusses modular and non-modular applications for common IDE setups and the creation of deployable run-time images.\r\n\r\nThe drawback of deploying a non-modular application is that you lose some of the benefits that modularity provides (such as stricter access controls).  But for some applications, this is an appropriate deployment target.\r\n\r\n**Miscellaneous potential issues with your Maven setup**\r\n\r\nI think the dependency type of `pom` is wrong. Probably there shouldn&#39;t be any type.  I think the `pom` type is only for importing a bill of materials in the [dependencyManagement section of the maven project file][9].  A discussion of the usage of the `pom` type is in [the Baeldung spring maven bom tutorial][10].  I could be wrong, there may be other uses for the `pom` type, but the info provided is my current understanding.\r\n\r\nYou are using beta hibernate software, which is probably OK and might actually work better with JPMS modules, but be aware of that. \r\n\r\n`hibernate-core` can still be found in the `org.hibernate`, but has moved for version 6 to `org.hibernate.orm`, so future releases might not be found under the old group.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entity\r\n  [2]: https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/package-summary.html\r\n  [3]: https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/module-summary.html\r\n  [4]: https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/criteria/package-summary.html\r\n  [5]: https://hibernate.org/orm/documentation/6.0/\r\n  [6]: https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\r\n  [7]: https://www.infoq.com/news/2021/09/spring-6-spring-boot-3-overhaul/\r\n  [8]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [9]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management\r\n  [10]: https://www.baeldung.com/spring-maven-bom","title":"JavaFX Desktop App with Hibernate - @Entity and other annotations are not recognized","body":"<p>This answer is to get some of the additional info out of comments and into an answer and add some more contextual information.  It is supplemental to the <a href=\"https://stackoverflow.com/a/69558507/1155209\">self-answer</a>, which already notes:</p>\n<blockquote>\n<p>What actually solved it for me, was adding the &quot;requires jakarta.persistence&quot; to Module-info.java, which provides JPA annotations.</p>\n</blockquote>\n<p><strong>Why requiring <code>jakarta.persistence</code> allows <code>@Entity</code> access</strong></p>\n<p>The <a href=\"https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entity\" rel=\"nofollow noreferrer\"><code>@Entity</code></a> annotation is for JPA, not hibernate (though hibernate can make use of it). Hibernate 6 depends on jakarta 3 to provide the <code>@Entity</code> definition, which it gets from the <a href=\"https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/package-summary.html\" rel=\"nofollow noreferrer\"><code>jakarta.persistence</code> package</a> in the <a href=\"https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/module-summary.html\" rel=\"nofollow noreferrer\"><code>jakarta.persistence</code> module</a>.</p>\n<p>Adding <code>requires jakarta.persistence</code> clause to your <code>module-info.java</code> file allows access to the types exported by that module (which includes the <code>@Entity</code> type).</p>\n<p>Note, if you make use of other JPA features like criteria, they can be in different packages, within the same module.  So, even if you use annotations from the <a href=\"https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/criteria/package-summary.html\" rel=\"nofollow noreferrer\"><code>jakarta.persistence.criteria</code></a> package, just requiring the <code>jakarta.persistence</code> module is sufficient because that module also includes the criteria package.</p>\n<p><strong>What about the rest of Hibernate</strong></p>\n<p>I can find little specific info on the web about what may be needed to be placed in module-info.java for using Hibernate 6.  The <a href=\"https://hibernate.org/orm/documentation/6.0/\" rel=\"nofollow noreferrer\">current Hibernate 6 documentation</a> did not mention it as far as I could tell (which I believe is a shortcoming in the documentation).</p>\n<p>Note, that Hibernate is often used with other technologies, specifically <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">Spring Data JPA</a>.  If you are considering using Spring technologies in your application now or in the future (which I would advise over using a straight hibernate integration).  Spring will only really be well integrated with the JPMS module system when <a href=\"https://www.infoq.com/news/2021/09/spring-6-spring-boot-3-overhaul/\" rel=\"nofollow noreferrer\">Spring 6 and SpringBoot 3</a> are released.  So, although you may be able to get current Spring applications to work with JPMS, I would recommend instead deploying your application in a non-modular fashion (see the information below) and running some of the non-modular libraries such as any Spring libraries (and perhaps also the hibernate-core) off of the classpath.</p>\n<p><strong>Understanding JPMS Modules</strong></p>\n<p>To help understand modules: see <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules - What they are and how to use them</a>, which is a basic introduction to the Java Platform Module System (JPMS), from there you can do some independent research and study for more information if needed.</p>\n<p><strong>Non-modular JavaFX applications</strong></p>\n<p>Also note, that, you may be able to avoid these issues, but making your application non-modular (i.e. don't provide a <code>module-info.java</code> file in your application).  <strong>The core JDK classes and JavaFX itself should be run off the module path</strong>, but your application and other dependent libraries it used can either:</p>\n<ol>\n<li>Your application can be modular and run off the module path</li>\n</ol>\n<ul>\n<li>by including a <code>module-info.java</code> file in your application.</li>\n</ul>\n<ol start=\"2\">\n<li>Or, your application can be non-modular.</li>\n</ol>\n<ul>\n<li>by not including a <code>module-info.java</code> file.</li>\n</ul>\n<p>For a non-modular application, your application classes and dependent libraries can be run off of the classpath rather than the module path.</p>\n<p>For more information on this, see the <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">openjfx.io getting started guide</a>, where it discusses modular and non-modular applications for common IDE setups and the creation of deployable run-time images.</p>\n<p>The drawback of deploying a non-modular application is that you lose some of the benefits that modularity provides (such as stricter access controls).  But for some applications, this is an appropriate deployment target.</p>\n<p><strong>Miscellaneous potential issues with your Maven setup</strong></p>\n<p>I think the dependency type of <code>pom</code> is wrong. Probably there shouldn't be any type.  I think the <code>pom</code> type is only for importing a bill of materials in the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management\" rel=\"nofollow noreferrer\">dependencyManagement section of the maven project file</a>.  A discussion of the usage of the <code>pom</code> type is in <a href=\"https://www.baeldung.com/spring-maven-bom\" rel=\"nofollow noreferrer\">the Baeldung spring maven bom tutorial</a>.  I could be wrong, there may be other uses for the <code>pom</code> type, but the info provided is my current understanding.</p>\n<p>You are using beta hibernate software, which is probably OK and might actually work better with JPMS modules, but be aware of that.</p>\n<p><code>hibernate-core</code> can still be found in the <code>org.hibernate</code>, but has moved for version 6 to <code>org.hibernate.orm</code>, so future releases might not be found under the old group.</p>\n"}],"owner":{"account_id":19023866,"reputation":21,"user_id":15171573,"display_name":"Ignacio Cassi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634165351,"creation_date":1634080517,"question_id":69547952,"body_markdown":"So, I&#39;ve decided to make a project with Hibernate and JavaFX.\r\nI have designed the UI and tested it in a project I&#39;ve created with Maven, using the archetype called &quot;javafx-archetype-fxml&quot; which works just fine.\r\nNow I&#39;m trying to add Hibernate to this project to manage the persistence layer.\r\nI added the dependency in Maven, &quot;hibernate-core&quot; v.6.0.0 and proceeded to map the model classes with &quot;@Entity&quot; type annotations, but they aren&#39;t recognized by VSCode. Maybe I need to add a module to module-info.java?\r\n\r\n@Entity Annotation not recognized.\r\n\r\n[![screenshot][1]][1]\r\n\r\nThis is my pom.xml file: \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0.Beta1&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.ignaciocassi.App&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThis is my module-info.java file:\r\n\r\n    module com.ignaciocassi {\r\n        requires javafx.controls;\r\n        requires transitive javafx.graphics;\r\n        requires javafx.fxml;\r\n        requires java.sql;\r\n        opens controllers to javafx.fxml;\r\n        exports com.ignaciocassi;\r\n     }\r\n\r\nI&#39;m new to Maven and modular projects, and I want to learn. Any suggestions or help would be much appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/05ziZ.png","title":"JavaFX Desktop App with Hibernate - @Entity and other annotations are not recognized","body":"<p>So, I've decided to make a project with Hibernate and JavaFX.\nI have designed the UI and tested it in a project I've created with Maven, using the archetype called &quot;javafx-archetype-fxml&quot; which works just fine.\nNow I'm trying to add Hibernate to this project to manage the persistence layer.\nI added the dependency in Maven, &quot;hibernate-core&quot; v.6.0.0 and proceeded to map the model classes with &quot;@Entity&quot; type annotations, but they aren't recognized by VSCode. Maybe I need to add a module to module-info.java?</p>\n<p>@Entity Annotation not recognized.</p>\n<p><a href=\"https://i.stack.imgur.com/05ziZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/05ziZ.png\" alt=\"screenshot\" /></a></p>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0.Beta1&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.26&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.ignaciocassi.App&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This is my module-info.java file:</p>\n<pre><code>module com.ignaciocassi {\n    requires javafx.controls;\n    requires transitive javafx.graphics;\n    requires javafx.fxml;\n    requires java.sql;\n    opens controllers to javafx.fxml;\n    exports com.ignaciocassi;\n }\n</code></pre>\n<p>I'm new to Maven and modular projects, and I want to learn. Any suggestions or help would be much appreciated.</p>\n"},{"tags":["java","selenium","automation"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1634018280,"post_id":69527341,"comment_id":122906609,"body_markdown":"Please always describe current and desired behaviour and include stacktrace and page source code or url.","body":"Please always describe current and desired behaviour and include stacktrace and page source code or url."},{"owner":{"account_id":23003518,"reputation":57,"user_id":17127162,"display_name":"iori"},"score":0,"creation_date":1634109465,"post_id":69527341,"comment_id":122934547,"body_markdown":"Starting ChromeDriver 94.0.4606.61 (418b78f5838ed0b1c69bb4e51ea0252171854915-refs/branch-heads/4606@{#1204}) on port 45380\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nOct 13, 2021 11:50:46 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n\n the code is not working when I comment out the above code then it&#39;s work. when I want to complete the flow and comment out the code then it stops.","body":"Starting ChromeDriver 94.0.4606.61 (418b78f5838ed0b1c69bb4e51ea0252171854915-refs/branch-heads/&zwnj;&#8203;4606@{#1204}) on port 45380 Only local connections are allowed. Please see <a href=\"https://chromedriver.chromium.org/security-considerations\" rel=\"nofollow noreferrer\">chromedriver.chromium.org/security-considerations</a> for suggestions on keeping ChromeDriver safe. ChromeDriver was started successfully. Oct 13, 2021 11:50:46 AM org.openqa.selenium.remote.ProtocolHandshake createSession INFO: Detected dialect: W3C   the code is not working when I comment out the above code then it&#39;s work. when I want to complete the flow and comment out the code then it stops."},{"owner":{"account_id":21791742,"reputation":212,"user_id":16091860,"display_name":"croakPedlar"},"score":0,"creation_date":1634756136,"post_id":69527341,"comment_id":123113849,"body_markdown":"If an answer helped you, please select it.","body":"If an answer helped you, please select it."}],"answers":[{"tags":[],"owner":{"account_id":21791742,"reputation":212,"user_id":16091860,"display_name":"croakPedlar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634165221,"creation_date":1634151818,"answer_id":69560986,"question_id":69527341,"body_markdown":"You&#39;ve got a java error when you declare `suggestions` twice.\r\n\r\nYou can&#39;t declare `List &lt;WebElement&gt; suggestions = driver.findElement();` twice. You can do your first declaration but for your second one, the billing one, you need to remove `List &lt;WebElement&gt;` and just do `suggestions = driver.findElement(//your xpath)` for the second declaration\r\n\r\nThe two different `suggestions` declarations should look exactly like this:\r\n\r\n    List &lt;WebElement&gt; suggestions = driver.findElements(By.className(&quot;pac-item&quot;));\r\nand \r\n\r\n    suggestions = driver.findElements(By.className(&quot;pac-item-query&quot;))","title":"My code is not working in selenium, help required","body":"<p>You've got a java error when you declare <code>suggestions</code> twice.</p>\n<p>You can't declare <code>List &lt;WebElement&gt; suggestions = driver.findElement();</code> twice. You can do your first declaration but for your second one, the billing one, you need to remove <code>List &lt;WebElement&gt;</code> and just do <code>suggestions = driver.findElement(//your xpath)</code> for the second declaration</p>\n<p>The two different <code>suggestions</code> declarations should look exactly like this:</p>\n<pre><code>List &lt;WebElement&gt; suggestions = driver.findElements(By.className(&quot;pac-item&quot;));\n</code></pre>\n<p>and</p>\n<pre><code>suggestions = driver.findElements(By.className(&quot;pac-item-query&quot;))\n</code></pre>\n"}],"owner":{"account_id":23003518,"reputation":57,"user_id":17127162,"display_name":"iori"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634165221,"creation_date":1633960324,"question_id":69527341,"body_markdown":"There are 2 fields Address and Billing Address both fields throw suggestions.\r\n\r\nmy code is fine if I comment on the Address code the billing address code is working.\r\nIf I comment on the billing address code the address code is working.\r\nbut unable to run it when I comment out everything you know anything about this? The code is below.\r\n```\r\n //adding address and select from the suggestion bar here I&#39;m selecting with ID\r\n          driver.findElement(By.id(&quot;entityAddress_0&quot;)).sendKeys(&quot;Khalifa city sector 13&quot;);\r\n          driver.manage().timeouts().implicitlyWait(2000, TimeUnit.MILLISECONDS);\r\n         List &lt;WebElement&gt; suggestion = driver.findElements(By.className(&quot;pac-item&quot;)); //here I print all the value which are coming \r\n         \r\n       //here I&#39;m using for each loop and print the value so we can see all the value which appeared in suggestions\r\n         for (WebElement suggest : suggestion) {\r\n        \t  if(suggest.getText().equalsIgnoreCase(&quot;Sector 13Khalifa City - Abu Dhabi - United Arab Emirates&quot;)) {\r\n        \t\t  suggest.click();\r\n      \t\t  break;\r\n       \t  }\r\n        \t  \r\n        \t  Thread.sleep(1000);\r\n        \t  \r\n        \t  //now adding the billing address\r\n        \t driver.findElement(By.id(&quot;entityAddress_01&quot;)).sendKeys(&quot;Khalifa city sector 13&quot;);\r\n        \t driver.manage().timeouts().implicitlyWait(2000, TimeUnit.MILLISECONDS);\r\n        \tList &lt;WebElement&gt; suggestions =driver.findElements(By.className(&quot;pac-item-query&quot;));\r\n        \tfor (WebElement suggests : suggestions) {\r\n        \t\t//System.out.println(suggests.getText());\r\n        \t\tif(suggests.getText().equalsIgnoreCase(&quot;Khalifa city&quot;));\r\n        \t\tsuggests.click();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t}}}\r\n```","title":"My code is not working in selenium, help required","body":"<p>There are 2 fields Address and Billing Address both fields throw suggestions.</p>\n<p>my code is fine if I comment on the Address code the billing address code is working.\nIf I comment on the billing address code the address code is working.\nbut unable to run it when I comment out everything you know anything about this? The code is below.</p>\n<pre><code> //adding address and select from the suggestion bar here I'm selecting with ID\n          driver.findElement(By.id(&quot;entityAddress_0&quot;)).sendKeys(&quot;Khalifa city sector 13&quot;);\n          driver.manage().timeouts().implicitlyWait(2000, TimeUnit.MILLISECONDS);\n         List &lt;WebElement&gt; suggestion = driver.findElements(By.className(&quot;pac-item&quot;)); //here I print all the value which are coming \n         \n       //here I'm using for each loop and print the value so we can see all the value which appeared in suggestions\n         for (WebElement suggest : suggestion) {\n              if(suggest.getText().equalsIgnoreCase(&quot;Sector 13Khalifa City - Abu Dhabi - United Arab Emirates&quot;)) {\n                  suggest.click();\n              break;\n          }\n              \n              Thread.sleep(1000);\n              \n              //now adding the billing address\n             driver.findElement(By.id(&quot;entityAddress_01&quot;)).sendKeys(&quot;Khalifa city sector 13&quot;);\n             driver.manage().timeouts().implicitlyWait(2000, TimeUnit.MILLISECONDS);\n            List &lt;WebElement&gt; suggestions =driver.findElements(By.className(&quot;pac-item-query&quot;));\n            for (WebElement suggests : suggestions) {\n                //System.out.println(suggests.getText());\n                if(suggests.getText().equalsIgnoreCase(&quot;Khalifa city&quot;));\n                suggests.click();\n                \n            }\n    }}}\n</code></pre>\n"},{"tags":["java","exception","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634164342,"creation_date":1589459876,"answer_id":61797561,"question_id":61797328,"body_markdown":"The problem is caused by your use of operator overloading.\r\n\r\nSonarQube sees the body of the two catch statements as identical. And, naively, they do appear to be. The *text* is identical. The problem is that the *context* of the surrounding catch block determines which signature will be chosen, and how that text is interpreted. When you combine the catch blocks, the generic `Exception` overload is selected instead of one of the more specific versions. This changes your behaviour in an undesirable way.\r\n\r\nIt appears SonarQube is not sophisticated enough to make the distinction.\r\n\r\nI see 2 solutions:\r\n\r\n 1. Label the SonarQube error as a false positive. This would be perfectly valid, since SonarQube is wrong in this case. However, future readers of your code may make the same mistake as SonarQube and may attempt to conflate the blocks. You could add a test case to make sure such a change would not go unnoticed.\r\n 2. Change the method names so that you are no longer relying on operator overloading, so that SonarQube can tell that the catch blocks are different.\r\n\r\nFor example:\r\n\r\n&lt;span&gt;\r\n\r\n    public static void logBusinessException(Logger logger, BusinessFault bf) {\r\n         logger.log(Level.SEVERE, &quot; BUSINESS FAULT THROWN {0}&quot;, bf.getMessage());\r\n    }\r\n\r\n    public static void logSystemException(Logger logger, SystemException se) {\r\n        logger.log(Level.SEVERE, &quot; SYSTEM FAULT THROWN {0}&quot;, se.getMessage());\r\n    }\r\n\r\n    public static void logException(Logger logger, Exception e) {\r\n        logger.log(Level.SEVERE, &quot; GENERAL EXCEPTION {0}&quot;, e.getMessage());\r\n    }","title":"Sonarqube - Catches should be combined","body":"<p>The problem is caused by your use of operator overloading.</p>\n<p>SonarQube sees the body of the two catch statements as identical. And, naively, they do appear to be. The <em>text</em> is identical. The problem is that the <em>context</em> of the surrounding catch block determines which signature will be chosen, and how that text is interpreted. When you combine the catch blocks, the generic <code>Exception</code> overload is selected instead of one of the more specific versions. This changes your behaviour in an undesirable way.</p>\n<p>It appears SonarQube is not sophisticated enough to make the distinction.</p>\n<p>I see 2 solutions:</p>\n<ol>\n<li>Label the SonarQube error as a false positive. This would be perfectly valid, since SonarQube is wrong in this case. However, future readers of your code may make the same mistake as SonarQube and may attempt to conflate the blocks. You could add a test case to make sure such a change would not go unnoticed.</li>\n<li>Change the method names so that you are no longer relying on operator overloading, so that SonarQube can tell that the catch blocks are different.</li>\n</ol>\n<p>For example:</p>\n\n<pre><code>public static void logBusinessException(Logger logger, BusinessFault bf) {\n     logger.log(Level.SEVERE, &quot; BUSINESS FAULT THROWN {0}&quot;, bf.getMessage());\n}\n\npublic static void logSystemException(Logger logger, SystemException se) {\n    logger.log(Level.SEVERE, &quot; SYSTEM FAULT THROWN {0}&quot;, se.getMessage());\n}\n\npublic static void logException(Logger logger, Exception e) {\n    logger.log(Level.SEVERE, &quot; GENERAL EXCEPTION {0}&quot;, e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":1776733,"reputation":1388,"user_id":1620389,"accept_rate":75,"display_name":"BustedSanta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61797561,"answer_count":1,"score":1,"last_activity_date":1634164342,"creation_date":1589459228,"question_id":61797328,"body_markdown":"Let me start by stating that I have read [this post](https://stackoverflow.com/questions/49065496/sonarqube-avoiding-catch-generic-exception) which does not address my particular issue.\r\n\r\nAccording to [SonarQube rule (java:S2147)](https://rules.sonarsource.com/java/RSPEC-2147) - Catches should be combined.\r\n\r\nI tested my code **without** my exceptions combined and **with** my exceptions combined but I am get a behaviour that I did not expect. \r\n\r\nHere&#39;s my test code: \r\n\r\n - BusinessFault \r\n - SystemException \r\n - ExceptionUtility \r\n - ExceptionTester (incl. main method)\r\n\r\n```\r\npublic class BusinessFault extends Exception {\r\n\tpublic BusinessFault(String message) {\r\n\t\tsuper(message);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class SystemException extends Exception {\r\n\tpublic SystemException(String message) {\r\n\t\tsuper(message);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ExceptionUtility {\r\n\tprivate ExceptionUtility() {\r\n\t\t// private no args constructor\r\n\t}\r\n\r\n\tpublic static void logException(Logger logger, BusinessFault bf) {\r\n\t\t logger.log(Level.SEVERE, &quot; BUSINESS FAULT THROWN {0}&quot;, bf.getMessage());\r\n\t}\r\n\r\n\tpublic static void logException(Logger logger, SystemException se) {\r\n\t\tlogger.log(Level.SEVERE, &quot; SYSTEM FAULT THROWN {0}&quot;, se.getMessage());\r\n\t}\r\n\r\n\tpublic static void logException(Logger logger, Exception e) {\r\n\t\tlogger.log(Level.SEVERE, &quot; GENERAL EXCEPTION {0}&quot;, e.getMessage());\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class ExceptionTester {\r\n\r\n\tprivate static final Logger logger = Logger.getLogger(ExceptionTester.class.getName());\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tExceptionTester et = new ExceptionTester();\r\n\r\n\t\ttry {\r\n\t\t\tet.throwMyCustomException(&quot;SE&quot;);\r\n//\t\t\tet.throwMyCustomException(&quot;BF&quot;);\r\n\t\t} catch (BusinessFault e) {\r\n\t\t\tlogger.log(Level.SEVERE, &quot; ##### (ExceptionTester) exception caught - msg: {0} &quot;, e.getMessage());\r\n\t\t\tExceptionUtility.logException(logger, e);\r\n\t\t} catch (SystemException e) {\r\n\t\t\tlogger.log(Level.SEVERE, &quot; ##### (ExceptionTester) exception caught - msg: {0} &quot;, e.getMessage());\r\n\t\t\tExceptionUtility.logException(logger, e);\r\n\t\t} catch (Exception e) {\r\n\t\t\tExceptionUtility.logException(logger, e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void throwMyCustomException(String exceptionType) throws SystemException, BusinessFault {\r\n\r\n\t\tSystem.out.println(&quot; ::::::::::: throwMyCustomException() : &quot; + exceptionType);\r\n\r\n\t\tif (exceptionType.equals(&quot;SE&quot;)) {\r\n\t\t\tthrow new SystemException(&quot;  &gt; **** SYSTEM EXCEPTION thrown... **** &quot;);\r\n\t\t} else if (exceptionType.equals(&quot;BF&quot;)) {\r\n\t\t\tthrow new BusinessFault(&quot;  &gt; **** BUSINESS FAULT thrown... **** &quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhen I throw my SystemException **without** BusinessFault and SystemException combined in the same catch statement, I get the behaviour that I expect which is the following method being called.\r\n\r\n```\r\n// in ExceptionUtility\r\n\r\npublic static void logException(Logger logger, SystemException se) {\r\n\tlogger.log(Level.SEVERE, &quot; SYSTEM FAULT THROWN {0}&quot;, se.getMessage());\r\n}\r\n```\r\n\r\nConsole output:\r\n\r\n```\r\n ::::::::::: throwMyCustomException() : SE\r\nMay 12, 2020 19:03:56 AM com.exceptions.ExceptionTester main\r\nSEVERE:  ##### (ExceptionTester) exception caught - msg:   &gt; **** SYSTEM EXCEPTION thrown... ****  \r\nMay 12, 2020 19:03:56 AM com.exceptions.ExceptionUtility logException\r\nSEVERE:  SYSTEM FAULT THROWN   &gt; **** SYSTEM EXCEPTION thrown... **** \r\n```\r\n\r\nBut when I combine the BusinessFault and SystemException in the same catch statement as shown below and throw the SystemException, I get a different behaviour.\r\n\r\n\r\n```\r\n// in ExceptionTester\r\n\r\ntry {\r\n\tet.throwMyCustomException(&quot;SE&quot;);\r\n\t//et.throwMyCustomException(&quot;BF&quot;);\r\n} catch (BusinessFault | SystemException e) {  // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COMBINED EXCEPTIONS\r\n\tlogger.log(Level.SEVERE, &quot; ##### (ExceptionTester) exception caught - msg: {0} &quot;, e.getMessage());\r\n\tExceptionUtility.logException(logger, e);\r\n} catch (Exception e) {\r\n\tExceptionUtility.logException(logger, e);\r\n}\r\n\r\n```\r\nA different method in my ExceptionUtility is called instead. \r\n\r\n```\r\n// in ExceptionUtility\r\n\r\npublic static void logException(Logger logger, Exception e) {\r\n\tlogger.log(Level.SEVERE, &quot; GENERAL EXCEPTION {0}&quot;, e.getMessage());\r\n}\r\n\r\n```\r\nConsole output: \r\n\r\n```\r\n ::::::::::: throwMyCustomException() : SE\r\nMay 12, 2020 19:10:30 AM com.exceptions.ExceptionTester main\r\nSEVERE:  ##### (ExceptionTester) exception caught - msg:   &gt; **** SYSTEM EXCEPTION thrown... ****  \r\nMay 12, 2020 19:10:30 AM com.exceptions.ExceptionUtility logException\r\nSEVERE:  GENERAL EXCEPTION   &gt; **** SYSTEM EXCEPTION thrown... **** \r\n```\r\n\r\nI can see that it&#39;s still the SystemException message being passed. But that&#39;s not really the method that I need to be called. For simplicity reasons, my logExceptions only log info. But my need is to handle  SystemException and BusinessFault differently from a generic Exception. \r\n\r\nCan anybody please shed some slight on why this behaviour occurs? More specifically, why the logException method for handling SystemException in ExceptionUtility class is not called in both cases? \r\n","title":"Sonarqube - Catches should be combined","body":"<p>Let me start by stating that I have read <a href=\"https://stackoverflow.com/questions/49065496/sonarqube-avoiding-catch-generic-exception\">this post</a> which does not address my particular issue.</p>\n\n<p>According to <a href=\"https://rules.sonarsource.com/java/RSPEC-2147\" rel=\"nofollow noreferrer\">SonarQube rule (java:S2147)</a> - Catches should be combined.</p>\n\n<p>I tested my code <strong>without</strong> my exceptions combined and <strong>with</strong> my exceptions combined but I am get a behaviour that I did not expect. </p>\n\n<p>Here's my test code: </p>\n\n<ul>\n<li>BusinessFault </li>\n<li>SystemException </li>\n<li>ExceptionUtility </li>\n<li>ExceptionTester (incl. main method)</li>\n</ul>\n\n<pre><code>public class BusinessFault extends Exception {\n    public BusinessFault(String message) {\n        super(message);\n    }\n}\n</code></pre>\n\n<pre><code>public class SystemException extends Exception {\n    public SystemException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n\n<pre><code>public class ExceptionUtility {\n    private ExceptionUtility() {\n        // private no args constructor\n    }\n\n    public static void logException(Logger logger, BusinessFault bf) {\n         logger.log(Level.SEVERE, \" BUSINESS FAULT THROWN {0}\", bf.getMessage());\n    }\n\n    public static void logException(Logger logger, SystemException se) {\n        logger.log(Level.SEVERE, \" SYSTEM FAULT THROWN {0}\", se.getMessage());\n    }\n\n    public static void logException(Logger logger, Exception e) {\n        logger.log(Level.SEVERE, \" GENERAL EXCEPTION {0}\", e.getMessage());\n    }\n}\n</code></pre>\n\n<pre><code>public class ExceptionTester {\n\n    private static final Logger logger = Logger.getLogger(ExceptionTester.class.getName());\n\n    public static void main(String[] args) {\n\n        ExceptionTester et = new ExceptionTester();\n\n        try {\n            et.throwMyCustomException(\"SE\");\n//          et.throwMyCustomException(\"BF\");\n        } catch (BusinessFault e) {\n            logger.log(Level.SEVERE, \" ##### (ExceptionTester) exception caught - msg: {0} \", e.getMessage());\n            ExceptionUtility.logException(logger, e);\n        } catch (SystemException e) {\n            logger.log(Level.SEVERE, \" ##### (ExceptionTester) exception caught - msg: {0} \", e.getMessage());\n            ExceptionUtility.logException(logger, e);\n        } catch (Exception e) {\n            ExceptionUtility.logException(logger, e);\n        }\n    }\n\n    public void throwMyCustomException(String exceptionType) throws SystemException, BusinessFault {\n\n        System.out.println(\" ::::::::::: throwMyCustomException() : \" + exceptionType);\n\n        if (exceptionType.equals(\"SE\")) {\n            throw new SystemException(\"  &gt; **** SYSTEM EXCEPTION thrown... **** \");\n        } else if (exceptionType.equals(\"BF\")) {\n            throw new BusinessFault(\"  &gt; **** BUSINESS FAULT thrown... **** \");\n        }\n    }\n}\n</code></pre>\n\n<p>When I throw my SystemException <strong>without</strong> BusinessFault and SystemException combined in the same catch statement, I get the behaviour that I expect which is the following method being called.</p>\n\n<pre><code>// in ExceptionUtility\n\npublic static void logException(Logger logger, SystemException se) {\n    logger.log(Level.SEVERE, \" SYSTEM FAULT THROWN {0}\", se.getMessage());\n}\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code> ::::::::::: throwMyCustomException() : SE\nMay 12, 2020 19:03:56 AM com.exceptions.ExceptionTester main\nSEVERE:  ##### (ExceptionTester) exception caught - msg:   &gt; **** SYSTEM EXCEPTION thrown... ****  \nMay 12, 2020 19:03:56 AM com.exceptions.ExceptionUtility logException\nSEVERE:  SYSTEM FAULT THROWN   &gt; **** SYSTEM EXCEPTION thrown... **** \n</code></pre>\n\n<p>But when I combine the BusinessFault and SystemException in the same catch statement as shown below and throw the SystemException, I get a different behaviour.</p>\n\n<pre><code>// in ExceptionTester\n\ntry {\n    et.throwMyCustomException(\"SE\");\n    //et.throwMyCustomException(\"BF\");\n} catch (BusinessFault | SystemException e) {  // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COMBINED EXCEPTIONS\n    logger.log(Level.SEVERE, \" ##### (ExceptionTester) exception caught - msg: {0} \", e.getMessage());\n    ExceptionUtility.logException(logger, e);\n} catch (Exception e) {\n    ExceptionUtility.logException(logger, e);\n}\n\n</code></pre>\n\n<p>A different method in my ExceptionUtility is called instead. </p>\n\n<pre><code>// in ExceptionUtility\n\npublic static void logException(Logger logger, Exception e) {\n    logger.log(Level.SEVERE, \" GENERAL EXCEPTION {0}\", e.getMessage());\n}\n\n</code></pre>\n\n<p>Console output: </p>\n\n<pre><code> ::::::::::: throwMyCustomException() : SE\nMay 12, 2020 19:10:30 AM com.exceptions.ExceptionTester main\nSEVERE:  ##### (ExceptionTester) exception caught - msg:   &gt; **** SYSTEM EXCEPTION thrown... ****  \nMay 12, 2020 19:10:30 AM com.exceptions.ExceptionUtility logException\nSEVERE:  GENERAL EXCEPTION   &gt; **** SYSTEM EXCEPTION thrown... **** \n</code></pre>\n\n<p>I can see that it's still the SystemException message being passed. But that's not really the method that I need to be called. For simplicity reasons, my logExceptions only log info. But my need is to handle  SystemException and BusinessFault differently from a generic Exception. </p>\n\n<p>Can anybody please shed some slight on why this behaviour occurs? More specifically, why the logException method for handling SystemException in ExceptionUtility class is not called in both cases? </p>\n"},{"tags":["java","android","android-fragments","android-activity","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":15371378,"reputation":868,"user_id":11089307,"display_name":"Amirhosein Rostami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634163764,"creation_date":1634163764,"answer_id":69563008,"question_id":69559397,"body_markdown":"you need to call `adapter.notifyDataSetChanged()` after adding item to list.\r\nso in fragment you need to execute something like this to add an item to `RecyclerView` :\r\n\r\n     Pazienti.addItem(aNewItem);\r\n     adapter.notifyDataSetChanged();","title":"Update RecyclerView in a Fragment","body":"<p>you need to call <code>adapter.notifyDataSetChanged()</code> after adding item to list.\nso in fragment you need to execute something like this to add an item to <code>RecyclerView</code> :</p>\n<pre><code> Pazienti.addItem(aNewItem);\n adapter.notifyDataSetChanged();\n</code></pre>\n"}],"owner":{"account_id":23004746,"reputation":21,"user_id":17128213,"display_name":"Pasquale Serra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634163764,"creation_date":1634143989,"question_id":69559397,"body_markdown":"I have created a fragment where I have implemented a recyclerView. I populate the recyclerView using a cursor that fetches data from a database. The cursor does this in the MainActivity. The problem is that when I add or delete an item, the recyclerView list doesn&#39;t update.\r\n\r\n\r\n\r\nMain Activity\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Sessione sessione = new Sessione(this);\r\n        String mailUtente = sessione.getSessione();\r\n        dbHelper = new DBHelper(this);\r\n        Cursor cursor = dbHelper.datiPaziente(mailUtente);\r\n        Pazienti lista = new Pazienti();\r\n        while (cursor.moveToNext()) {\r\n            lista.addItem(new Pazienti.PazientiItem(cursor.getString(1), cursor.getString(2), cursor.getString(3), cursor.getString(4), cursor.getString(5)));\r\n        }\r\n\r\n\r\n        //Associo alla variabile il corrispettivo menu\r\n        bottomNavigation = findViewById(R.id.bottomNavigationView);\r\n        //Seleziono l&#39;item di default\r\n        bottomNavigation.setSelectedItemId(R.id.navHome);\r\n\r\n        bottomNavigation.setOnNavigationItemSelectedListener (new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                //Inizializzo i fragment\r\n                Fragment fragment = null;\r\n                //Imposto le condizioni del menu\r\n                switch (item.getItemId()) {\r\n                    case R.id.navHome:\r\n                        //Scelta menu HOME\r\n                        fragment = new FragmentListaPazienti();\r\n                        break;\r\n                    case R.id.navSearch:\r\n                        //Scelta menu AGGIUNGI PAZIENTE (da modificare)\r\n                        fragment = new FragmentAggiungiPaziente();\r\n                        break;\r\n                    case R.id.navInfo:\r\n                        //Scelta menu INFO\r\n                        fragment = new FragmentInfo();\r\n                        break;\r\n                    case R.id.navLogout:\r\n                        //Scelta menu LOGOUT\r\n                        fragment = new FragmentLogout();\r\n                        break;\r\n                }\r\n                // Carico i fragment\r\n                loadFragment(fragment);\r\n                return true;\r\n            }\r\n        });\r\n        setDefaultFragment();\r\n\r\n        //Implemento il FAB\r\n        floatingActionButton = findViewById(R.id.fab);\r\n        floatingActionButton.setOnClickListener(new View.OnClickListener() {\r\n            Fragment fragment = null;\r\n            @Override\r\n            public void onClick(View view) {\r\n                    fragment = new FragmentAggiungiPaziente();\r\n                    loadFragment(fragment);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.frameLayoutMain,fragment).addToBackStack(null).commit();\r\n    }\r\n\r\n    private void setDefaultFragment() {\r\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n        transaction.replace(R.id.frameLayoutMain, new FragmentListaPazienti());\r\n        transaction.commit();\r\n\r\n    }\r\n\r\n    @Override\r\n    //Questo metodo mi dice cosa fare quando clicco sul singolo item\r\n    public void onListFragmentInteraction(Pazienti.PazientiItem item) {\r\n        fdet = FragmentSingoloPaziente.newInstance(item.nome, item.cognome, item.data, item.mail, item.telefono);\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.frameLayoutMain, fdet).addToBackStack(null).commit();\r\n    }}\r\n\r\nFragment Lista Pazienti\r\n\r\n\r\n    \r\n\r\n    //Codice professore\r\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;; //numero di colonne\r\n    private int mColumnCount = 1; //n&#176; colonne inizializzato a 1\r\n    private OnListFragmentInteractionListener mListener; //interfaccia per comunicare con il fragment\r\n    AdapterPazienti adapter;\r\n    DBHelper dbHelper;\r\n\r\n    public FragmentListaPazienti() {\r\n    }\r\n\r\n    // TODO: Customize parameter initialization\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public static FragmentListaPazienti newInstance(int columnCount) {\r\n        FragmentListaPazienti fragment = new FragmentListaPazienti();\r\n        Bundle args = new Bundle(); //salva in un bundle il parametro (nel nostro caso &#232; un intero)\r\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (getArguments() != null) {\r\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\r\n            //verifica che ci sono argomenti passati tramite il metodo setArguments. Se getArguments\r\n            //non &#232; nullo, allora prendo questi argomenti e setto la variabile mColumnCount\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_lista_pazienti, container, false);\r\n\r\n        // Set the adapter\r\n        if (view instanceof RecyclerView) {\r\n            \r\n            Context context = view.getContext(); \r\n            RecyclerView recyclerView = (RecyclerView) view;\r\n            if (mColumnCount &lt;= 1) {\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n            } else {\r\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\r\n            }\r\n            //recyclerView.setAdapter(new AdapterPazienti(Pazienti.ITEMS, mListener));\r\n            //Invece di scrivere la riga qui sopra, avrei potuto farlo cos&#236;:\r\n            adapter = new AdapterPazienti(Pazienti.ITEMS, mListener);\r\n            recyclerView.setAdapter(adapter);\r\n        }\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        if (context instanceof OnListFragmentInteractionListener) {\r\n            mListener = (OnListFragmentInteractionListener) context;\r\n        } else {\r\n            throw new RuntimeException(context.toString()\r\n                    + &quot; must implement OnListFragmentInteractionListener&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDetach() {\r\n        super.onDetach();\r\n        mListener = null;\r\n    }\r\n \r\n    public interface OnListFragmentInteractionListener {\r\n        // TODO: Update argument type and name\r\n        void onListFragmentInteraction(Pazienti.PazientiItem item); //questo metodo dovr&#224; essere implementato dalla MainActivity\r\n        // che dovr&#224; dire cosa fare in caso di pressione di un item della lista. DummyItem &#232; l&#39;oggetto che ha il\r\n        // contenuto di un singolo item della lista\r\n    }\r\n\r\nPazienti\r\n\r\n\r\n    public static final List&lt;PazientiItem&gt; ITEMS = new ArrayList&lt;PazientiItem&gt;();\r\n\r\n\r\n    public static void addItem(PazientiItem item) {\r\n        //aggiungo un item alla lista\r\n        ITEMS.add(item);\r\n    }\r\n\r\n    public static class PazientiItem {\r\n        //Qui descrivo il contenuto del dato\r\n        public final String nome;\r\n        public final String cognome;\r\n        public final String data;\r\n        public final String mail;\r\n        public final String telefono;\r\n\r\n\r\n        public PazientiItem(String nome, String cognome, String data, String mail, String telefono) {\r\n            this.nome = nome;\r\n            this.cognome = cognome;\r\n            this.data = data;\r\n            this.mail = mail;\r\n            this.telefono = telefono;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return cognome;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Update RecyclerView in a Fragment","body":"<p>I have created a fragment where I have implemented a recyclerView. I populate the recyclerView using a cursor that fetches data from a database. The cursor does this in the MainActivity. The problem is that when I add or delete an item, the recyclerView list doesn't update.</p>\n<p>Main Activity</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Sessione sessione = new Sessione(this);\n    String mailUtente = sessione.getSessione();\n    dbHelper = new DBHelper(this);\n    Cursor cursor = dbHelper.datiPaziente(mailUtente);\n    Pazienti lista = new Pazienti();\n    while (cursor.moveToNext()) {\n        lista.addItem(new Pazienti.PazientiItem(cursor.getString(1), cursor.getString(2), cursor.getString(3), cursor.getString(4), cursor.getString(5)));\n    }\n\n\n    //Associo alla variabile il corrispettivo menu\n    bottomNavigation = findViewById(R.id.bottomNavigationView);\n    //Seleziono l'item di default\n    bottomNavigation.setSelectedItemId(R.id.navHome);\n\n    bottomNavigation.setOnNavigationItemSelectedListener (new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            //Inizializzo i fragment\n            Fragment fragment = null;\n            //Imposto le condizioni del menu\n            switch (item.getItemId()) {\n                case R.id.navHome:\n                    //Scelta menu HOME\n                    fragment = new FragmentListaPazienti();\n                    break;\n                case R.id.navSearch:\n                    //Scelta menu AGGIUNGI PAZIENTE (da modificare)\n                    fragment = new FragmentAggiungiPaziente();\n                    break;\n                case R.id.navInfo:\n                    //Scelta menu INFO\n                    fragment = new FragmentInfo();\n                    break;\n                case R.id.navLogout:\n                    //Scelta menu LOGOUT\n                    fragment = new FragmentLogout();\n                    break;\n            }\n            // Carico i fragment\n            loadFragment(fragment);\n            return true;\n        }\n    });\n    setDefaultFragment();\n\n    //Implemento il FAB\n    floatingActionButton = findViewById(R.id.fab);\n    floatingActionButton.setOnClickListener(new View.OnClickListener() {\n        Fragment fragment = null;\n        @Override\n        public void onClick(View view) {\n                fragment = new FragmentAggiungiPaziente();\n                loadFragment(fragment);\n        }\n    });\n}\n\n\nprivate void loadFragment(Fragment fragment) {\n    getSupportFragmentManager().beginTransaction().replace(R.id.frameLayoutMain,fragment).addToBackStack(null).commit();\n}\n\nprivate void setDefaultFragment() {\n    FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n    transaction.replace(R.id.frameLayoutMain, new FragmentListaPazienti());\n    transaction.commit();\n\n}\n\n@Override\n//Questo metodo mi dice cosa fare quando clicco sul singolo item\npublic void onListFragmentInteraction(Pazienti.PazientiItem item) {\n    fdet = FragmentSingoloPaziente.newInstance(item.nome, item.cognome, item.data, item.mail, item.telefono);\n    getSupportFragmentManager().beginTransaction().replace(R.id.frameLayoutMain, fdet).addToBackStack(null).commit();\n}}\n</code></pre>\n<p>Fragment Lista Pazienti</p>\n<pre><code>//Codice professore\nprivate static final String ARG_COLUMN_COUNT = &quot;column-count&quot;; //numero di colonne\nprivate int mColumnCount = 1; //n colonne inizializzato a 1\nprivate OnListFragmentInteractionListener mListener; //interfaccia per comunicare con il fragment\nAdapterPazienti adapter;\nDBHelper dbHelper;\n\npublic FragmentListaPazienti() {\n}\n\n// TODO: Customize parameter initialization\n@SuppressWarnings(&quot;unused&quot;)\npublic static FragmentListaPazienti newInstance(int columnCount) {\n    FragmentListaPazienti fragment = new FragmentListaPazienti();\n    Bundle args = new Bundle(); //salva in un bundle il parametro (nel nostro caso  un intero)\n    args.putInt(ARG_COLUMN_COUNT, columnCount);\n    fragment.setArguments(args);\n    return fragment;\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    if (getArguments() != null) {\n        mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\n        //verifica che ci sono argomenti passati tramite il metodo setArguments. Se getArguments\n        //non  nullo, allora prendo questi argomenti e setto la variabile mColumnCount\n    }\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_lista_pazienti, container, false);\n\n    // Set the adapter\n    if (view instanceof RecyclerView) {\n        \n        Context context = view.getContext(); \n        RecyclerView recyclerView = (RecyclerView) view;\n        if (mColumnCount &lt;= 1) {\n            recyclerView.setLayoutManager(new LinearLayoutManager(context));\n        } else {\n            recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\n        }\n        //recyclerView.setAdapter(new AdapterPazienti(Pazienti.ITEMS, mListener));\n        //Invece di scrivere la riga qui sopra, avrei potuto farlo cos:\n        adapter = new AdapterPazienti(Pazienti.ITEMS, mListener);\n        recyclerView.setAdapter(adapter);\n    }\n    return view;\n}\n\n\n@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n    if (context instanceof OnListFragmentInteractionListener) {\n        mListener = (OnListFragmentInteractionListener) context;\n    } else {\n        throw new RuntimeException(context.toString()\n                + &quot; must implement OnListFragmentInteractionListener&quot;);\n    }\n}\n\n\n@Override\npublic void onDetach() {\n    super.onDetach();\n    mListener = null;\n}\n\npublic interface OnListFragmentInteractionListener {\n    // TODO: Update argument type and name\n    void onListFragmentInteraction(Pazienti.PazientiItem item); //questo metodo dovr essere implementato dalla MainActivity\n    // che dovr dire cosa fare in caso di pressione di un item della lista. DummyItem  l'oggetto che ha il\n    // contenuto di un singolo item della lista\n}\n</code></pre>\n<p>Pazienti</p>\n<pre><code>public static final List&lt;PazientiItem&gt; ITEMS = new ArrayList&lt;PazientiItem&gt;();\n\n\npublic static void addItem(PazientiItem item) {\n    //aggiungo un item alla lista\n    ITEMS.add(item);\n}\n\npublic static class PazientiItem {\n    //Qui descrivo il contenuto del dato\n    public final String nome;\n    public final String cognome;\n    public final String data;\n    public final String mail;\n    public final String telefono;\n\n\n    public PazientiItem(String nome, String cognome, String data, String mail, String telefono) {\n        this.nome = nome;\n        this.cognome = cognome;\n        this.data = data;\n        this.mail = mail;\n        this.telefono = telefono;\n    }\n\n    @Override\n    public String toString() {\n        return cognome;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","sensors"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1634216941,"post_id":69562742,"comment_id":122969550,"body_markdown":"Please review my answer and mark it appropriately. If you need further help, elaborate on your question so that I and others may help.","body":"Please review my answer and mark it appropriately. If you need further help, elaborate on your question so that I and others may help."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634162811,"creation_date":1634162811,"answer_id":69562886,"question_id":69562742,"body_markdown":"&gt; Position sensors are useful for determining a device&#39;s physical position in the world&#39;s frame of reference. For example, you can use the geomagnetic field sensor in combination with the accelerometer to determine a device&#39;s position relative to the magnetic north pole. You can also use these sensors to determine a device&#39;s orientation in your application&#39;s frame of reference. Position sensors are not typically used to monitor device movement or motion, such as shake, tilt, or thrust (for more information, see Motion sensors).\r\n&gt; \r\n&gt; ....Pitch (degrees of rotation about the x axis). This is the angle between a plane parallel to the device&#39;s screen and a plane parallel to the ground. If you hold the device parallel to the ground with the bottom edge closest to you and tilt the top edge of the device toward the ground, the pitch angle becomes positive. Tilting in the opposite direction moving the top edge of the device away from the groundcauses the pitch angle to become negative. The range of values is -180 degrees to 180 degrees.\r\n\r\nhttps://developer.android.com/guide/topics/sensors/sensors_position","title":"Android: Accurate way to retrieve the phone&#39;s angle?","body":"<blockquote>\n<p>Position sensors are useful for determining a device's physical position in the world's frame of reference. For example, you can use the geomagnetic field sensor in combination with the accelerometer to determine a device's position relative to the magnetic north pole. You can also use these sensors to determine a device's orientation in your application's frame of reference. Position sensors are not typically used to monitor device movement or motion, such as shake, tilt, or thrust (for more information, see Motion sensors).</p>\n<p>....Pitch (degrees of rotation about the x axis). This is the angle between a plane parallel to the device's screen and a plane parallel to the ground. If you hold the device parallel to the ground with the bottom edge closest to you and tilt the top edge of the device toward the ground, the pitch angle becomes positive. Tilting in the opposite direction moving the top edge of the device away from the groundcauses the pitch angle to become negative. The range of values is -180 degrees to 180 degrees.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/sensors/sensors_position\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/sensors/sensors_position</a></p>\n"}],"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69562886,"answer_count":1,"score":1,"last_activity_date":1634162811,"creation_date":1634161856,"question_id":69562742,"body_markdown":"Is there a way to retrieve an Android phone&#39;s angle? If I place my phone flat on a table, the angle should be 0 degrees, if I place my phone upright against a wall, the angle should be 90 degrees. I am wondering if I can leverage any sensors built-in to the phone&#39;s hardware to accomplish this.","title":"Android: Accurate way to retrieve the phone&#39;s angle?","body":"<p>Is there a way to retrieve an Android phone's angle? If I place my phone flat on a table, the angle should be 0 degrees, if I place my phone upright against a wall, the angle should be 90 degrees. I am wondering if I can leverage any sensors built-in to the phone's hardware to accomplish this.</p>\n"},{"tags":["java","arrays","spring","file","spring-boot"],"comments":[{"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"score":1,"creation_date":1545258839,"post_id":53860021,"comment_id":94568143,"body_markdown":"Usually we create these files in temp of our web container and a crontab that schedule to delete them after 1 day ...","body":"Usually we create these files in temp of our web container and a crontab that schedule to delete them after 1 day ..."},{"owner":{"account_id":7929172,"reputation":1787,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":1,"creation_date":1545259019,"post_id":53860021,"comment_id":94568214,"body_markdown":"oh ok. that makes sense. But why delete after 1 day? What if we delete it immediately after returning it?","body":"oh ok. that makes sense. But why delete after 1 day? What if we delete it immediately after returning it?"},{"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"score":2,"creation_date":1545259172,"post_id":53860021,"comment_id":94568265,"body_markdown":"that&#39;s because maybe a user download a file multipe times in a day and also you should wait till download finished and then you can delete the file, so you don&#39;t know how much does it takes client download the file( internet bandwith ... )","body":"that&#39;s because maybe a user download a file multipe times in a day and also you should wait till download finished and then you can delete the file, so you don&#39;t know how much does it takes client download the file( internet bandwith ... )"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545258498,"creation_date":1545258498,"answer_id":53860040,"question_id":53860021,"body_markdown":"What is wrong with this?\r\n\r\n    public byte[] download(String param) throws IOException {\r\n        return whateverByteArrayContenHere;\r\n    }","title":"How to return byte array as an in memory file in java spring boot?","body":"<p>What is wrong with this?</p>\n\n<pre><code>public byte[] download(String param) throws IOException {\n    return whateverByteArrayContenHere;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545260501,"creation_date":1545260501,"answer_id":53860355,"question_id":53860021,"body_markdown":"As a normal way I think it&#39;s better that you create a temp file in your web container and send it as a file to client. And also you can clean your temp files base on your policy with a schedule crontab. For more information please visit [save temp file](https://stackoverflow.com/questions/31255366/how-to-save-generated-file-temporarily-in-servlet-based-web-application) and [clean temp](https://prazjain.wordpress.com/2012/07/22/linux-cron-job-to-delete-tomcat-temporary-files/)","title":"How to return byte array as an in memory file in java spring boot?","body":"<p>As a normal way I think it's better that you create a temp file in your web container and send it as a file to client. And also you can clean your temp files base on your policy with a schedule crontab. For more information please visit <a href=\"https://stackoverflow.com/questions/31255366/how-to-save-generated-file-temporarily-in-servlet-based-web-application\">save temp file</a> and <a href=\"https://prazjain.wordpress.com/2012/07/22/linux-cron-job-to-delete-tomcat-temporary-files/\" rel=\"nofollow noreferrer\">clean temp</a></p>\n"},{"tags":[],"owner":{"account_id":8597522,"reputation":151,"user_id":6440117,"display_name":"sango"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1613213182,"creation_date":1613212124,"answer_id":66184072,"question_id":53860021,"body_markdown":"Personally i do it with ResponseEntity something like this\r\n\r\n```java\r\n\r\n@GetMapping(path = &quot;/downloadFile&quot;)\r\npublic ResponseEntity&lt;?&gt; downloadFile (){\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;Content-type&quot;, MediaType.IMAGE_JPEG_VALUE);\r\n    headers.set(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;whaterver.jpg\\&quot;&quot;)); // to view in browser change attachment to inline \r\n\r\n    return ResponseEntity.status(HttpStatus.OK).headers(headers).body(byteArrayFile);\r\n}\r\n```","title":"How to return byte array as an in memory file in java spring boot?","body":"<p>Personally i do it with ResponseEntity something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@GetMapping(path = &quot;/downloadFile&quot;)\npublic ResponseEntity&lt;?&gt; downloadFile (){\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(&quot;Content-type&quot;, MediaType.IMAGE_JPEG_VALUE);\n    headers.set(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;whaterver.jpg\\&quot;&quot;)); // to view in browser change attachment to inline \n\n    return ResponseEntity.status(HttpStatus.OK).headers(headers).body(byteArrayFile);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1634162774,"creation_date":1613214341,"answer_id":66184374,"question_id":53860021,"body_markdown":"Just take the `byte[]` array, wrap it into a [`ByteArrayResource`][1]\r\n(which is an implementation of the [`Resource`][2] interface),\r\nbuild a `ResponseEntity&lt;Resource&gt;` from that, and return it.\r\n\r\n    @GetMapping(&quot;/download&quot;)\r\n    public ResponseEntity&lt;Resource&gt; download(String param) throws IOException {\r\n        // Assume I already have this byte array from db or something\r\n        byte[] array = getItFromDB();\r\n\r\n        ByteArrayResource resource = new ByteArrayResource(array);\r\n\t    return ResponseEntity.ok()\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .contentLength(resource.contentLength())\r\n                .header(HttpHeaders.CONTENT_DISPOSITION,\r\n                        ContentDisposition.attachment()\r\n                            .filename(&quot;whatever&quot;)\r\n                            .build().toString())\r\n                .body(resource);\r\n    }\r\n\r\n\r\nThere is no need to create a temporary file,\r\nand no need to change the return type.\r\n\r\nThe media-type in the `Content-Type` header and the file-name\r\nin the `Content-Disposition` header are important hints for the\r\nweb-browser (or whatever client) receiving your download.\r\nYou should probably use better values than those in the code above.\r\nFor example: for PNG-image content you would use\r\n`MediaType.IMAGE_PNG` and `&quot;whatever.png&quot;`. Then the web-browser\r\nwill probably open the system&#39;s favorite image viewer.\r\n\r\n [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html\r\n [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html\r\n ","title":"How to return byte array as an in memory file in java spring boot?","body":"<p>Just take the <code>byte[]</code> array, wrap it into a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html\" rel=\"noreferrer\"><code>ByteArrayResource</code></a>\n(which is an implementation of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html\" rel=\"noreferrer\"><code>Resource</code></a> interface),\nbuild a <code>ResponseEntity&lt;Resource&gt;</code> from that, and return it.</p>\n<pre><code>@GetMapping(&quot;/download&quot;)\npublic ResponseEntity&lt;Resource&gt; download(String param) throws IOException {\n    // Assume I already have this byte array from db or something\n    byte[] array = getItFromDB();\n\n    ByteArrayResource resource = new ByteArrayResource(array);\n    return ResponseEntity.ok()\n            .contentType(MediaType.APPLICATION_OCTET_STREAM)\n            .contentLength(resource.contentLength())\n            .header(HttpHeaders.CONTENT_DISPOSITION,\n                    ContentDisposition.attachment()\n                        .filename(&quot;whatever&quot;)\n                        .build().toString())\n            .body(resource);\n}\n</code></pre>\n<p>There is no need to create a temporary file,\nand no need to change the return type.</p>\n<p>The media-type in the <code>Content-Type</code> header and the file-name\nin the <code>Content-Disposition</code> header are important hints for the\nweb-browser (or whatever client) receiving your download.\nYou should probably use better values than those in the code above.\nFor example: for PNG-image content you would use\n<code>MediaType.IMAGE_PNG</code> and <code>&quot;whatever.png&quot;</code>. Then the web-browser\nwill probably open the system's favorite image viewer.</p>\n"}],"owner":{"account_id":7929172,"reputation":1787,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26584,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53860355,"answer_count":4,"score":6,"last_activity_date":1634162774,"creation_date":1545258395,"question_id":53860021,"body_markdown":"I have a byte array as data. Now how do I write a controller method to return this byte array as file using Spring Boot? If I create a file out of this byte array data, then I should also take care of deleting it right? \r\n\r\nIs there a way to send this byte array as file without having to physically create a file in my project, maybe send all bytes through the network or something?\r\n\r\nHowever if that&#39;s not possible, is file creation, responding in rest api and then deleting it is the only way to solve this? My controller method would look like this in spring boot\r\n\r\n    @GetMapping(&quot;/download&quot;)\r\n    public ResponseEntity&lt;Resource&gt; download(String param) throws IOException {\r\n        // Assume I already have this byte array from db or something\r\n        Byte[] a = getItFromDB();\r\n        \r\n        // return it as a file without explicitly creating another file in my machine\r\n        // I am ok with changing return type of this method from ResponseEntity to anything else if you have a solution\r\n    }","title":"How to return byte array as an in memory file in java spring boot?","body":"<p>I have a byte array as data. Now how do I write a controller method to return this byte array as file using Spring Boot? If I create a file out of this byte array data, then I should also take care of deleting it right? </p>\n\n<p>Is there a way to send this byte array as file without having to physically create a file in my project, maybe send all bytes through the network or something?</p>\n\n<p>However if that's not possible, is file creation, responding in rest api and then deleting it is the only way to solve this? My controller method would look like this in spring boot</p>\n\n<pre><code>@GetMapping(\"/download\")\npublic ResponseEntity&lt;Resource&gt; download(String param) throws IOException {\n    // Assume I already have this byte array from db or something\n    Byte[] a = getItFromDB();\n\n    // return it as a file without explicitly creating another file in my machine\n    // I am ok with changing return type of this method from ResponseEntity to anything else if you have a solution\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","liquibase"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1634023580,"post_id":69528821,"comment_id":122908313,"body_markdown":"I&#39;m not sure if it still works, but colleague of mine was hacking this with something like: `classpath:data-access-jpa.jar!db/changelog/db/changelog-master.yaml` so you have also there the name of jar.","body":"I&#39;m not sure if it still works, but colleague of mine was hacking this with something like: <code>classpath:data-access-jpa.jar!db&#47;changelog&#47;db&#47;changelog-mast&zwnj;&#8203;er.yaml</code> so you have also there the name of jar."}],"answers":[{"tags":[],"owner":{"account_id":1543832,"reputation":86,"user_id":1437847,"display_name":"Oleksandr Chalyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634162263,"creation_date":1634162263,"answer_id":69562803,"question_id":69528821,"body_markdown":"Use property name as \r\n\r\n&gt; spring.liquibase.changeLog\r\n\r\nnot \r\n\r\n&gt; liquibase.changeLog","title":"Liquibase change-log in Spring Boot","body":"<p>Use property name as</p>\n<blockquote>\n<p>spring.liquibase.changeLog</p>\n</blockquote>\n<p>not</p>\n<blockquote>\n<p>liquibase.changeLog</p>\n</blockquote>\n"}],"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634162263,"creation_date":1633966311,"question_id":69528821,"body_markdown":"I&#39;m trying to figure out how the project works.\r\nIt uses Liquibase:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe problem is that the .yaml file is not in the classpath folder so it&#39;s not accessible.\r\nError:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to let Spring Boot know where is the change-log?\r\n\r\n  [1]: https://i.stack.imgur.com/t4lNp.png\r\n  [2]: https://i.stack.imgur.com/bybtV.png","title":"Liquibase change-log in Spring Boot","body":"<p>I'm trying to figure out how the project works.\nIt uses Liquibase:</p>\n<p><a href=\"https://i.stack.imgur.com/t4lNp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t4lNp.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is that the .yaml file is not in the classpath folder so it's not accessible.\nError:</p>\n<p><a href=\"https://i.stack.imgur.com/bybtV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bybtV.png\" alt=\"enter image description here\" /></a></p>\n<p>How to let Spring Boot know where is the change-log?</p>\n"},{"tags":["java","eclipse","class","import"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634161966,"creation_date":1634160948,"answer_id":69562593,"question_id":69562527,"body_markdown":"You need to select the `classes` (`C:\\Users\\badams\\java\\classes`) directory instead of the `oracle` directory when using `Add External Class Folder...`.\r\n\r\nYou should provide the root of the directory that represent your java package structure.\r\n\r\nAs an alternative, you can create a jar archive with the contents of the `C:\\Users\\badams\\java\\classes` directory and add that archive as a jar dependency as well.\r\n\r\nYou can use for this purpose the builtin SDK `jar` utility. Please, change you current directory to `C:\\Users\\badams\\java\\classes` and run from a command prompt or PowerShell terminal something like:\r\n\r\n```sh\r\njar cvf oracle-fnd.jar *\r\n```\r\n\r\nThen add the generated archive to your project as usual.","title":"How to Import an External .class File in an Eclipse Java Project","body":"<p>You need to select the <code>classes</code> (<code>C:\\Users\\badams\\java\\classes</code>) directory instead of the <code>oracle</code> directory when using <code>Add External Class Folder...</code>.</p>\n<p>You should provide the root of the directory that represent your java package structure.</p>\n<p>As an alternative, you can create a jar archive with the contents of the <code>C:\\Users\\badams\\java\\classes</code> directory and add that archive as a jar dependency as well.</p>\n<p>You can use for this purpose the builtin SDK <code>jar</code> utility. Please, change you current directory to <code>C:\\Users\\badams\\java\\classes</code> and run from a command prompt or PowerShell terminal something like:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>jar cvf oracle-fnd.jar *\n</code></pre>\n<p>Then add the generated archive to your project as usual.</p>\n"}],"owner":{"account_id":2567856,"reputation":1376,"user_id":2227422,"accept_rate":71,"display_name":"Acroyear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69562593,"answer_count":1,"score":0,"last_activity_date":1634161966,"creation_date":1634160516,"question_id":69562527,"body_markdown":"I am trying to include a .class file through an import in a .java class I am creating. I need the .java class to look the same as what I need to deploy on the application server. I have created a directory structure to put the Context.class file in.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI updated the build path by using &quot;Add External Class Folder...&quot; and selected the &quot;oracle&quot; directory containing apps&gt;fnd&gt;common.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHowever, Eclipse still can&#39;t find the Context.class file referenced in the import.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rL9BP.png\r\n  [2]: https://i.stack.imgur.com/XEEtd.png\r\n  [3]: https://i.stack.imgur.com/Du10N.png\r\n\r\nWhat am I doing wrong?","title":"How to Import an External .class File in an Eclipse Java Project","body":"<p>I am trying to include a .class file through an import in a .java class I am creating. I need the .java class to look the same as what I need to deploy on the application server. I have created a directory structure to put the Context.class file in.</p>\n<p><a href=\"https://i.stack.imgur.com/rL9BP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rL9BP.png\" alt=\"enter image description here\" /></a></p>\n<p>I updated the build path by using &quot;Add External Class Folder...&quot; and selected the &quot;oracle&quot; directory containing apps&gt;fnd&gt;common.</p>\n<p><a href=\"https://i.stack.imgur.com/XEEtd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XEEtd.png\" alt=\"enter image description here\" /></a></p>\n<p>However, Eclipse still can't find the Context.class file referenced in the import.</p>\n<p><a href=\"https://i.stack.imgur.com/Du10N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Du10N.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","cassandra","scylla"],"answers":[{"tags":[],"owner":{"account_id":15426657,"reputation":256,"user_id":11129146,"display_name":"Lubos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634161909,"creation_date":1591777323,"answer_id":62298994,"question_id":62267829,"body_markdown":"Frankly, I think this is a bug(request for enhancement) and it should be filed in Springs Jira.\r\nIt seems the repository simply doesn&#39;t support this out of box(nor did I find any config option how to flip it, but I might have missed it).\r\n\r\nActually, my theory was correct:\r\nhttps://jira.spring.io/projects/DATACASS/issues/DATACASS-578?filter=allopenissues\r\nso just add yourself and try to ask them for resolution.\r\n","title":"Can prepared statements be enabled out of the box?","body":"<p>Frankly, I think this is a bug(request for enhancement) and it should be filed in Springs Jira.\nIt seems the repository simply doesn't support this out of box(nor did I find any config option how to flip it, but I might have missed it).</p>\n<p>Actually, my theory was correct:\n<a href=\"https://jira.spring.io/projects/DATACASS/issues/DATACASS-578?filter=allopenissues\" rel=\"nofollow noreferrer\">https://jira.spring.io/projects/DATACASS/issues/DATACASS-578?filter=allopenissues</a>\nso just add yourself and try to ask them for resolution.</p>\n"}],"owner":{"account_id":10079384,"reputation":2640,"user_id":7450286,"accept_rate":97,"display_name":"Freid001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62298994,"answer_count":1,"score":3,"last_activity_date":1634161909,"creation_date":1591637118,"question_id":62267829,"body_markdown":"I would like to make use of prepared statements when executing `CQL` in my application. This functionality looks to be provided by the `ReactiveCqlTemplate` class, which I have passed into the `ReactiveCassandraTemplate` in my Cassandra configuration here: \r\n```java\r\n@Configuration\r\n@EnableReactiveCassandraRepositories(\r\n        basePackages = &quot;com.my.app&quot;,\r\n        includeFilters = {\r\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = {ScyllaPersonRepository.class})\r\n        })\r\npublic class CassandraConfiguration extends AbstractReactiveCassandraConfiguration {\r\n\r\n    @Value(&quot;${cassandra.host}&quot;)\r\n    private String cassandraHost;\r\n\r\n    @Value(&quot;${cassandra.connections}&quot;)\r\n    private Integer cassandraConnections;\r\n    \r\n    @Override\r\n    public CassandraClusterFactoryBean cluster() {\r\n        PoolingOptions poolingOptions = new PoolingOptions()\r\n                .setCoreConnectionsPerHost(HostDistance.LOCAL,  cassandraConnections)\r\n                .setMaxConnectionsPerHost(HostDistance.LOCAL, cassandraConnections*2);\r\n\r\n        CassandraClusterFactoryBean bean = super.cluster();\r\n        bean.setJmxReportingEnabled(false);\r\n        bean.setPoolingOptions(poolingOptions);\r\n        bean.setLoadBalancingPolicy(new TokenAwarePolicy(new RoundRobinPolicy()));\r\n\r\n        return bean;\r\n    }\r\n\r\n    @Override\r\n    public ReactiveCassandraTemplate reactiveCassandraTemplate() {\r\n        return new ReactiveCassandraTemplate(reactiveCqlTemplate(), cassandraConverter());\r\n    }\r\n\r\n    @Bean\r\n    public CassandraEntityInformation getCassandraEntityInformation(CassandraOperations cassandraTemplate) {\r\n        CassandraPersistentEntity&lt;Person&gt; entity =\r\n                (CassandraPersistentEntity&lt;Person&gt;)\r\n                        cassandraTemplate\r\n                                .getConverter()\r\n                                .getMappingContext()\r\n                                .getRequiredPersistentEntity(Person.class);\r\n        return new MappingCassandraEntityInformation&lt;&gt;(entity, cassandraTemplate.getConverter());\r\n    }\r\n\r\n    @Override\r\n    public SchemaAction getSchemaAction() {\r\n        return SchemaAction.CREATE_IF_NOT_EXISTS;\r\n    }\r\n\r\n    public String getContactPoints() {\r\n        return cassandraHost;\r\n    }\r\n\r\n    public String getKeyspaceName() {\r\n        return &quot;mykeyspace&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThis is the `ScyllaPersonRepository` referenced in my Cassandra configuration filters.  \r\n```java\r\npublic interface ScyllaPersonRepository extends ReactiveCassandraRepository&lt;Person, PersonKey&gt; {\r\n    @Query(&quot;select id, name from persons where id = ?0&quot;)\r\n    Flux&lt;Object&gt; findPersonById(@Param(&quot;id&quot;) String id);\r\n}\r\n```\r\n\r\nAfter executing a few queries, the CQL Non-Prepared statements metric in my [Scylla Monitoring Dashboard][1] showed that I&#39;m not using prepared statements at all.\r\n\r\nI was able to use prepared statements after followed the documentation [here][2] which walked me through creating the `CQL` myself.\r\n```java\r\npublic class ScyllaPersonRepository extends SimpleReactiveCassandraRepository&lt;Person, PersonKey&gt; {\r\n    private final Session session;\r\n    private final CassandraEntityInformation&lt;Person, PersonKey&gt; entityInformation;\r\n    private final ReactiveCassandraTemplate cassandraTemplate;\r\n    private final PreparedStatementCache cache = PreparedStatementCache.create();\r\n\r\n    public ScyllaPersonRepository(\r\n            Session session,\r\n            CassandraEntityInformation&lt;Person, PersonKey&gt; entityInformation,\r\n            ReactiveCassandraTemplate cassandraTemplate\r\n    ) {\r\n        super(entityInformation, cassandraTemplate);\r\n        this.session = session;\r\n        this.entityInformation = entityInformation;\r\n        this.cassandraTemplate = cassandraTemplate;\r\n    }\r\n\r\n    public Flux&lt;ScyllaUser&gt; findSegmentsById(String id) {\r\n        return cassandraTemplate\r\n                .getReactiveCqlOperations()\r\n                .query(\r\n                        findPersonByIdQuery(id),\r\n                        (row, rowNum) -&gt; convert(row)\r\n                );\r\n    }\r\n\r\n    private BoundStatement findPersonByIdQuery(String id) {\r\n        return CachedPreparedStatementCreator.of(\r\n                cache,\r\n                QueryBuilder.select()\r\n                        .column(&quot;id&quot;)\r\n                        .column(&quot;name&quot;)\r\n                        .from(&quot;persons&quot;)\r\n                        .where(QueryBuilder.eq(&quot;id&quot;, QueryBuilder.bindMarker(&quot;id&quot;))))\r\n                .createPreparedStatement(session)\r\n                .bind()\r\n                .setString(&quot;id&quot;, id);\r\n    }\r\n\r\n    private Person convert(Row row) {\r\n        return new Person(\r\n                row.getString(&quot;id&quot;),\r\n                row.getString(&quot;name&quot;));\r\n    }\r\n}\r\n```\r\n\r\nBut, I would really like the ORM to handle that all for me. Is it possible to configure this behaviour out of the box, so that I don&#39;t need to manually write the `CQL` myself but instead just enable it as an option in my Cassandra Configuration and get the ORM to orchestrate it all behind the scenes? \r\n\r\n\r\n  [1]: https://docs.scylladb.com/operating-scylla/monitoring/\r\n  [2]: https://lankydan.dev/2018/10/23/cached-prepared-statements-with-spring-data-cassandra","title":"Can prepared statements be enabled out of the box?","body":"<p>I would like to make use of prepared statements when executing <code>CQL</code> in my application. This functionality looks to be provided by the <code>ReactiveCqlTemplate</code> class, which I have passed into the <code>ReactiveCassandraTemplate</code> in my Cassandra configuration here: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableReactiveCassandraRepositories(\n        basePackages = \"com.my.app\",\n        includeFilters = {\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = {ScyllaPersonRepository.class})\n        })\npublic class CassandraConfiguration extends AbstractReactiveCassandraConfiguration {\n\n    @Value(\"${cassandra.host}\")\n    private String cassandraHost;\n\n    @Value(\"${cassandra.connections}\")\n    private Integer cassandraConnections;\n\n    @Override\n    public CassandraClusterFactoryBean cluster() {\n        PoolingOptions poolingOptions = new PoolingOptions()\n                .setCoreConnectionsPerHost(HostDistance.LOCAL,  cassandraConnections)\n                .setMaxConnectionsPerHost(HostDistance.LOCAL, cassandraConnections*2);\n\n        CassandraClusterFactoryBean bean = super.cluster();\n        bean.setJmxReportingEnabled(false);\n        bean.setPoolingOptions(poolingOptions);\n        bean.setLoadBalancingPolicy(new TokenAwarePolicy(new RoundRobinPolicy()));\n\n        return bean;\n    }\n\n    @Override\n    public ReactiveCassandraTemplate reactiveCassandraTemplate() {\n        return new ReactiveCassandraTemplate(reactiveCqlTemplate(), cassandraConverter());\n    }\n\n    @Bean\n    public CassandraEntityInformation getCassandraEntityInformation(CassandraOperations cassandraTemplate) {\n        CassandraPersistentEntity&lt;Person&gt; entity =\n                (CassandraPersistentEntity&lt;Person&gt;)\n                        cassandraTemplate\n                                .getConverter()\n                                .getMappingContext()\n                                .getRequiredPersistentEntity(Person.class);\n        return new MappingCassandraEntityInformation&lt;&gt;(entity, cassandraTemplate.getConverter());\n    }\n\n    @Override\n    public SchemaAction getSchemaAction() {\n        return SchemaAction.CREATE_IF_NOT_EXISTS;\n    }\n\n    public String getContactPoints() {\n        return cassandraHost;\n    }\n\n    public String getKeyspaceName() {\n        return \"mykeyspace\";\n    }\n}\n</code></pre>\n\n<p>This is the <code>ScyllaPersonRepository</code> referenced in my Cassandra configuration filters.  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface ScyllaPersonRepository extends ReactiveCassandraRepository&lt;Person, PersonKey&gt; {\n    @Query(\"select id, name from persons where id = ?0\")\n    Flux&lt;Object&gt; findPersonById(@Param(\"id\") String id);\n}\n</code></pre>\n\n<p>After executing a few queries, the CQL Non-Prepared statements metric in my <a href=\"https://docs.scylladb.com/operating-scylla/monitoring/\" rel=\"nofollow noreferrer\">Scylla Monitoring Dashboard</a> showed that I'm not using prepared statements at all.</p>\n\n<p>I was able to use prepared statements after followed the documentation <a href=\"https://lankydan.dev/2018/10/23/cached-prepared-statements-with-spring-data-cassandra\" rel=\"nofollow noreferrer\">here</a> which walked me through creating the <code>CQL</code> myself.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ScyllaPersonRepository extends SimpleReactiveCassandraRepository&lt;Person, PersonKey&gt; {\n    private final Session session;\n    private final CassandraEntityInformation&lt;Person, PersonKey&gt; entityInformation;\n    private final ReactiveCassandraTemplate cassandraTemplate;\n    private final PreparedStatementCache cache = PreparedStatementCache.create();\n\n    public ScyllaPersonRepository(\n            Session session,\n            CassandraEntityInformation&lt;Person, PersonKey&gt; entityInformation,\n            ReactiveCassandraTemplate cassandraTemplate\n    ) {\n        super(entityInformation, cassandraTemplate);\n        this.session = session;\n        this.entityInformation = entityInformation;\n        this.cassandraTemplate = cassandraTemplate;\n    }\n\n    public Flux&lt;ScyllaUser&gt; findSegmentsById(String id) {\n        return cassandraTemplate\n                .getReactiveCqlOperations()\n                .query(\n                        findPersonByIdQuery(id),\n                        (row, rowNum) -&gt; convert(row)\n                );\n    }\n\n    private BoundStatement findPersonByIdQuery(String id) {\n        return CachedPreparedStatementCreator.of(\n                cache,\n                QueryBuilder.select()\n                        .column(\"id\")\n                        .column(\"name\")\n                        .from(\"persons\")\n                        .where(QueryBuilder.eq(\"id\", QueryBuilder.bindMarker(\"id\"))))\n                .createPreparedStatement(session)\n                .bind()\n                .setString(\"id\", id);\n    }\n\n    private Person convert(Row row) {\n        return new Person(\n                row.getString(\"id\"),\n                row.getString(\"name\"));\n    }\n}\n</code></pre>\n\n<p>But, I would really like the ORM to handle that all for me. Is it possible to configure this behaviour out of the box, so that I don't need to manually write the <code>CQL</code> myself but instead just enable it as an option in my Cassandra Configuration and get the ORM to orchestrate it all behind the scenes? </p>\n"},{"tags":["java","hadoop","localhost"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634161866,"creation_date":1634161866,"answer_id":69562746,"question_id":69561918,"body_markdown":"[You need two requests](https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-hdfs/WebHDFS.html#Create_and_Write_to_a_File) - one to the namenode port, which creates the file on the namenode, then that **returns** a datanode address where you send the second address to write the content stream. \r\n\r\nHowever, you are using Java, so just use `hadoop-client` dependency with the `FileSystem.create` method, do not use `HttpURLConnection`","title":"I am not able to write (put) to Hadoop MiniCluster i created","body":"<p><a href=\"https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-hdfs/WebHDFS.html#Create_and_Write_to_a_File\" rel=\"nofollow noreferrer\">You need two requests</a> - one to the namenode port, which creates the file on the namenode, then that <strong>returns</strong> a datanode address where you send the second address to write the content stream.</p>\n<p>However, you are using Java, so just use <code>hadoop-client</code> dependency with the <code>FileSystem.create</code> method, do not use <code>HttpURLConnection</code></p>\n"}],"owner":{"account_id":23025221,"reputation":9,"user_id":17145593,"display_name":"Yesh Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634161866,"creation_date":1634156922,"question_id":69561918,"body_markdown":"\r\n        null: [HTTP/1.1 405 HTTP method \r\n        PUT is not supported by this \r\n        URL]\r\n        Server: \r\n        [Jetty(6.1.26.cloudera.4)]\r\n        Pragma: [no-cache]\r\n        Content-Length: [0]\r\n        X-FRAME-OPTIONS: [SAMEORIGIN]\r\n        Date: [Wed, 13 Oct 2021  \r\n         17:05:16 GMT]\r\n\r\n\r\n\r\n&#39;&#39;&#39;\r\nprivate static void putTest() throws IOException {\r\n    System.out.println(&quot;putTest : Entry&quot;);\r\n\r\n    URL url = new URL(&quot;http://localhost:50070/webapps/v1/longdata.txt&amp;op=CREATE&quot;);\r\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            con.setRequestMethod(&quot;PUT&quot;);\r\n            con.setDoOutput(true);\r\n            con.getOutputStream().write(&quot;Hey Guys&quot;.getBytes(StandardCharsets.UTF_8));\r\n    Map&lt;String, List&lt;String&gt;&gt; headers = con.getHeaderFields();\r\n    for (String header : headers.keySet())\r\n            {\r\n                \r\n    System.out.println(header + &quot;: &quot; + headers.get(header));\r\n            }\r\n    System.out.println(&quot;putTest : Exit&quot;);\r\n\r\n\r\n}\r\n\r\n&#39;&#39;&#39;","title":"I am not able to write (put) to Hadoop MiniCluster i created","body":"<pre><code>    null: [HTTP/1.1 405 HTTP method \n    PUT is not supported by this \n    URL]\n    Server: \n    [Jetty(6.1.26.cloudera.4)]\n    Pragma: [no-cache]\n    Content-Length: [0]\n    X-FRAME-OPTIONS: [SAMEORIGIN]\n    Date: [Wed, 13 Oct 2021  \n     17:05:16 GMT]\n</code></pre>\n<p>'''\nprivate static void putTest() throws IOException {\nSystem.out.println(&quot;putTest : Entry&quot;);</p>\n<pre><code>URL url = new URL(&quot;http://localhost:50070/webapps/v1/longdata.txt&amp;op=CREATE&quot;);\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;PUT&quot;);\n        con.setDoOutput(true);\n        con.getOutputStream().write(&quot;Hey Guys&quot;.getBytes(StandardCharsets.UTF_8));\nMap&lt;String, List&lt;String&gt;&gt; headers = con.getHeaderFields();\nfor (String header : headers.keySet())\n        {\n            \nSystem.out.println(header + &quot;: &quot; + headers.get(header));\n        }\nSystem.out.println(&quot;putTest : Exit&quot;);\n</code></pre>\n<p>}</p>\n<p>'''</p>\n"},{"tags":["java","http","authorization","oauth","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1274259753,"creation_date":1274259753,"answer_id":2864100,"question_id":2864062,"body_markdown":"Have you tried using `URLConnection.addRequestProperty()`?\r\nThis is how I use to add HTTP Request Headers.\r\n\r\n","title":"getRequestProperty(&quot;Authorization&quot;) always returns null","body":"<p>Have you tried using <code>URLConnection.addRequestProperty()</code>?\nThis is how I use to add HTTP Request Headers.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274260949,"creation_date":1274260949,"answer_id":2864229,"question_id":2864062,"body_markdown":"I am not happy about the extra dependencies, but following the [suggestion to switch to Commons Http][1] solved the immediate problem for me.\r\n\r\nI&#39;d still like to know what the problem was with my original code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2851953/httpurlconnection-vs-apache-commons-http","title":"getRequestProperty(&quot;Authorization&quot;) always returns null","body":"<p>I am not happy about the extra dependencies, but following the <a href=\"https://stackoverflow.com/questions/2851953/httpurlconnection-vs-apache-commons-http\">suggestion to switch to Commons Http</a> solved the immediate problem for me.</p>\n\n<p>I'd still like to know what the problem was with my original code.</p>\n"},{"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1274272845,"creation_date":1274272845,"answer_id":2865535,"question_id":2864062,"body_markdown":"Apparently, it&#39;s a security &quot;feature&quot;. The URLConnection is actually an instance of [sun.net.www.protocol.http.HttpURLConnection][1]. It defines `getRequestProperty` as:\r\n\r\n        public String getRequestProperty (String key) {\r\n            // don&#39;t return headers containing security sensitive information\r\n            if (key != null) {\r\n                for (int i=0; i &lt; EXCLUDE_HEADERS.length; i++) {\r\n                    if (key.equalsIgnoreCase(EXCLUDE_HEADERS[i])) {\r\n                        return null;\r\n                    }\r\n                }\r\n            }\r\n            return requests.findValue(key);\r\n        }\r\n\r\nThe `EXCLUDE_HEADERS` array is defined as:\r\n\r\n       // the following http request headers should NOT have their values\r\n       // returned for security reasons.\r\n       private static final String[] EXCLUDE_HEADERS = {\r\n               &quot;Proxy-Authorization&quot;,\r\n               &quot;Authorization&quot;\r\n       };\r\n\r\n\r\n  [1]: http://www.docjar.com/html/api/sun/net/www/protocol/http/HttpURLConnection.java.html","title":"getRequestProperty(&quot;Authorization&quot;) always returns null","body":"<p>Apparently, it's a security \"feature\". The URLConnection is actually an instance of <a href=\"http://www.docjar.com/html/api/sun/net/www/protocol/http/HttpURLConnection.java.html\" rel=\"noreferrer\">sun.net.www.protocol.http.HttpURLConnection</a>. It defines <code>getRequestProperty</code> as:</p>\n\n<pre><code>    public String getRequestProperty (String key) {\n        // don't return headers containing security sensitive information\n        if (key != null) {\n            for (int i=0; i &lt; EXCLUDE_HEADERS.length; i++) {\n                if (key.equalsIgnoreCase(EXCLUDE_HEADERS[i])) {\n                    return null;\n                }\n            }\n        }\n        return requests.findValue(key);\n    }\n</code></pre>\n\n<p>The <code>EXCLUDE_HEADERS</code> array is defined as:</p>\n\n<pre><code>   // the following http request headers should NOT have their values\n   // returned for security reasons.\n   private static final String[] EXCLUDE_HEADERS = {\n           \"Proxy-Authorization\",\n           \"Authorization\"\n   };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634161838,"creation_date":1634161838,"answer_id":69562738,"question_id":2864062,"body_markdown":"As [Devon&#39;s answer](https://stackoverflow.com/questions/2864062/getrequestpropertyauthorization-always-returns-null#answer-2865535) correctly states: it&#39;s not a bug, it&#39;s a &quot;security&quot; feature &#128521;\r\n\r\nBut you don&#39;t have to switch to a different library: it is always possible to access the underlying `MessageHeader`-collection via reflection and extract the &quot;Authorization&quot;-header value.\r\n\r\nAfter some headscratch i&#39;ve managed to come up with a working [snippet here](https://stackoverflow.com/questions/69559791/access-private-messageheader-field-requests-from-httpurlconnection-via-reflect/69562580#69562580).","title":"getRequestProperty(&quot;Authorization&quot;) always returns null","body":"<p>As <a href=\"https://stackoverflow.com/questions/2864062/getrequestpropertyauthorization-always-returns-null#answer-2865535\">Devon's answer</a> correctly states: it's not a bug, it's a &quot;security&quot; feature </p>\n<p>But you don't have to switch to a different library: it is always possible to access the underlying <code>MessageHeader</code>-collection via reflection and extract the &quot;Authorization&quot;-header value.</p>\n<p>After some headscratch i've managed to come up with a working <a href=\"https://stackoverflow.com/questions/69559791/access-private-messageheader-field-requests-from-httpurlconnection-via-reflect/69562580#69562580\">snippet here</a>.</p>\n"}],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8898,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":2865535,"answer_count":4,"score":19,"last_activity_date":1634161838,"creation_date":1274259388,"question_id":2864062,"body_markdown":"I am trying to read the authorization header for an HTTP request (because I need to add something to it), but I always get null for the header value. Other headers work fine.\r\n\r\n    public void testAuth() throws MalformedURLException, IOException{\r\n    \tURLConnection request = new URL(&quot;http://google.com&quot;).openConnection();\r\n    \trequest.setRequestProperty(&quot;Authorization&quot;, &quot;MyHeader&quot;);\r\n    \trequest.setRequestProperty(&quot;Stackoverflow&quot;, &quot;anotherHeader&quot;);\r\n        // works fine\r\n    \tassertEquals(&quot;anotherHeader&quot;, request.getRequestProperty(&quot;Stackoverflow&quot;));\r\n        // Auth header returns null\r\n    \tassertEquals(&quot;MyHeader&quot;, request.getRequestProperty(&quot;Authorization&quot;));\r\n    }\r\n\r\nAm I doing something wrong? Is this a &quot;security&quot; feature? Is there a way to make this work with URLConnection, or do I need to use another HTTP client library?\r\n","title":"getRequestProperty(&quot;Authorization&quot;) always returns null","body":"<p>I am trying to read the authorization header for an HTTP request (because I need to add something to it), but I always get null for the header value. Other headers work fine.</p>\n\n<pre><code>public void testAuth() throws MalformedURLException, IOException{\n    URLConnection request = new URL(\"http://google.com\").openConnection();\n    request.setRequestProperty(\"Authorization\", \"MyHeader\");\n    request.setRequestProperty(\"Stackoverflow\", \"anotherHeader\");\n    // works fine\n    assertEquals(\"anotherHeader\", request.getRequestProperty(\"Stackoverflow\"));\n    // Auth header returns null\n    assertEquals(\"MyHeader\", request.getRequestProperty(\"Authorization\"));\n}\n</code></pre>\n\n<p>Am I doing something wrong? Is this a \"security\" feature? Is there a way to make this work with URLConnection, or do I need to use another HTTP client library?</p>\n"},{"tags":["java","apache-spark","configuration"],"comments":[{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1633793064,"post_id":69508054,"comment_id":122857479,"body_markdown":"Because the setting is actually `spark.**sql**.files.maxPartitionBytes`?","body":"Because the setting is actually <code>spark.**sql**.files.maxPartitionBytes</code>?"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1633874524,"post_id":69508054,"comment_id":122871485,"body_markdown":"Can you add your code before?","body":"Can you add your code before?"},{"owner":{"account_id":2301263,"reputation":441,"user_id":2021516,"display_name":"Paulo Moreira"},"score":0,"creation_date":1633989520,"post_id":69508054,"comment_id":122902031,"body_markdown":"Yes, code added","body":"Yes, code added"}],"answers":[{"tags":[],"owner":{"account_id":2990262,"reputation":6816,"user_id":2628137,"accept_rate":93,"display_name":"Yosi Dahari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633794586,"creation_date":1633794586,"answer_id":69508319,"question_id":69508054,"body_markdown":"The configuration property you are looking for is:\r\n```\r\nspark.sql.files.maxPartitionBytes\r\n```\r\nAnd not:\r\n```\r\nspark.files.maxPartitionBytes\r\n```\r\n\r\nSee more details in [spark sql performance tuning](https://spark.apache.org/docs/latest/sql-performance-tuning.html)\r\n","title":"Why apache spark throw an exception when a try to get an spark configuration","body":"<p>The configuration property you are looking for is:</p>\n<pre><code>spark.sql.files.maxPartitionBytes\n</code></pre>\n<p>And not:</p>\n<pre><code>spark.files.maxPartitionBytes\n</code></pre>\n<p>See more details in <a href=\"https://spark.apache.org/docs/latest/sql-performance-tuning.html\" rel=\"nofollow noreferrer\">spark sql performance tuning</a></p>\n"},{"tags":[],"owner":{"account_id":2301263,"reputation":441,"user_id":2021516,"display_name":"Paulo Moreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634161822,"creation_date":1634161822,"answer_id":69562735,"question_id":69508054,"body_markdown":"**Viewing Spark Properties**\r\n\r\n&quot;The application web UI at http://&lt;driver&gt;:4040 lists Spark properties in the Environment tab. This is a useful place to check to make sure that your properties have been set correctly. **Note that only values explicitly specified through spark-defaults.conf, SparkConf, or the command line will appear**. *For all other configuration properties, you can assume the default value is used*.&quot;\r\n\r\nhttps://spark.apache.org/docs/3.1.1/configuration.html#spark-properties","title":"Why apache spark throw an exception when a try to get an spark configuration","body":"<p><strong>Viewing Spark Properties</strong></p>\n<p>&quot;The application web UI at http://:4040 lists Spark properties in the Environment tab. This is a useful place to check to make sure that your properties have been set correctly. <strong>Note that only values explicitly specified through spark-defaults.conf, SparkConf, or the command line will appear</strong>. <em>For all other configuration properties, you can assume the default value is used</em>.&quot;</p>\n<p><a href=\"https://spark.apache.org/docs/3.1.1/configuration.html#spark-properties\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/3.1.1/configuration.html#spark-properties</a></p>\n"}],"owner":{"account_id":2301263,"reputation":441,"user_id":2021516,"display_name":"Paulo Moreira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1634161822,"creation_date":1633792644,"question_id":69508054,"body_markdown":"When I try to do this:\r\n\r\n```\r\nSparkConf conf = new SparkConf().setAppName(&quot;SparkUnitTest&quot;).setMaster(&quot;local[*]&quot;);\r\nSparkSession sparkSession = SparkSession\r\n                .builder()\r\n                .config(conf)\r\n                .getOrCreate();\r\n\r\nJavaSparkContext sparkContext = JavaSparkContext.fromSparkContext(sparkSession.sparkContext());\r\nsparkContext.getConf().get(&quot;spark.files.maxPartitionBytes&quot;)\r\n```\r\n\r\nI am receiving this error:\r\n\r\n```\r\njava.util.NoSuchElementException: spark.files.maxPartitionBytes\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8qNh7.jpg\r\n  [2]: https://i.stack.imgur.com/81HYw.jpg\r\n  [3]: https://i.stack.imgur.com/8ptQv.png","title":"Why apache spark throw an exception when a try to get an spark configuration","body":"<p>When I try to do this:</p>\n<pre><code>SparkConf conf = new SparkConf().setAppName(&quot;SparkUnitTest&quot;).setMaster(&quot;local[*]&quot;);\nSparkSession sparkSession = SparkSession\n                .builder()\n                .config(conf)\n                .getOrCreate();\n\nJavaSparkContext sparkContext = JavaSparkContext.fromSparkContext(sparkSession.sparkContext());\nsparkContext.getConf().get(&quot;spark.files.maxPartitionBytes&quot;)\n</code></pre>\n<p>I am receiving this error:</p>\n<pre><code>java.util.NoSuchElementException: spark.files.maxPartitionBytes\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8qNh7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8qNh7.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/81HYw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81HYw.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8ptQv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ptQv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","authentication","servlets","request"],"answers":[{"tags":[],"owner":{"account_id":9226077,"reputation":537,"user_id":6853836,"accept_rate":100,"display_name":"MADforFUNandHappy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1476684649,"creation_date":1474975358,"answer_id":39723357,"question_id":39663395,"body_markdown":"I was searching through https://fossies.org/dox/apache-tomcat-6.0.45-src/catalina_2connector_2Request_8java_source.html#l01947 and found a section where restricted headers will be used if Globals.IS_SECURITY_ENABLED is set.\r\n\r\nSince I&#39;m working on a reverse Proxy and only Need to pass requests/Responses through I did simply set &quot;System.setSecurityManager(null);&quot; and for my case it might be a valid solution but if you want to use authentication there is no reason to use this Workaround.\r\n\r\n\r\nMy bad, it does work with https now.","title":"how to get &quot;Authentication&quot; header from doGet request if I don&#39;t want to switch to other libraries?","body":"<p>I was searching through <a href=\"https://fossies.org/dox/apache-tomcat-6.0.45-src/catalina_2connector_2Request_8java_source.html#l01947\" rel=\"nofollow\">https://fossies.org/dox/apache-tomcat-6.0.45-src/catalina_2connector_2Request_8java_source.html#l01947</a> and found a section where restricted headers will be used if Globals.IS_SECURITY_ENABLED is set.</p>\n\n<p>Since I'm working on a reverse Proxy and only Need to pass requests/Responses through I did simply set \"System.setSecurityManager(null);\" and for my case it might be a valid solution but if you want to use authentication there is no reason to use this Workaround.</p>\n\n<p>My bad, it does work with https now.</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634161734,"creation_date":1634161734,"answer_id":69562718,"question_id":39663395,"body_markdown":"The accepted solution did not work for me  may have something to do with different runtime environments.\r\n\r\nHowever, i&#39;ve managed to come up with a [working snippet](https://stackoverflow.com/questions/69559791/access-private-messageheader-field-requests-from-httpurlconnection-via-reflect/69562580#69562580) to access the underlying `MessageHeader`-collection via reflection and extract the &quot;Authorization&quot;-header value.","title":"how to get &quot;Authentication&quot; header from doGet request if I don&#39;t want to switch to other libraries?","body":"<p>The accepted solution did not work for me  may have something to do with different runtime environments.</p>\n<p>However, i've managed to come up with a <a href=\"https://stackoverflow.com/questions/69559791/access-private-messageheader-field-requests-from-httpurlconnection-via-reflect/69562580#69562580\">working snippet</a> to access the underlying <code>MessageHeader</code>-collection via reflection and extract the &quot;Authorization&quot;-header value.</p>\n"}],"owner":{"account_id":9226077,"reputation":537,"user_id":6853836,"accept_rate":100,"display_name":"MADforFUNandHappy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39723357,"answer_count":2,"score":2,"last_activity_date":1634161734,"creation_date":1474641225,"question_id":39663395,"body_markdown":"I just realized that my base64 encoded Header &quot;Authentication&quot; can&#39;t be read \r\nwith request.getHeader(&quot;Authentication&quot;).\r\n\r\nI found this post about that it&#39;s a security Feature in URLConnection\r\n\r\nhttps://stackoverflow.com/questions/2864062/getrequestpropertyauthorization-always-returns-null\r\n, i don&#39;t know why but it seems to be true for request.getHeader as well.\r\n\r\nHow can i still get this Header if l don&#39;t want to Switch to other libraries?\r\n\r\n","title":"how to get &quot;Authentication&quot; header from doGet request if I don&#39;t want to switch to other libraries?","body":"<p>I just realized that my base64 encoded Header \"Authentication\" can't be read \nwith request.getHeader(\"Authentication\").</p>\n\n<p>I found this post about that it's a security Feature in URLConnection</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2864062/getrequestpropertyauthorization-always-returns-null\">getRequestProperty(&quot;Authorization&quot;) always returns null</a>\n, i don't know why but it seems to be true for request.getHeader as well.</p>\n\n<p>How can i still get this Header if l don't want to Switch to other libraries?</p>\n"},{"tags":["java","maven","discord","bots"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1634162077,"post_id":69562042,"comment_id":122954966,"body_markdown":"The pom.xml sets the scope for JDA to `system`, this means you also have to use the jar at the same location in your system. It looks like the author of that project does not provide a portable solution. Open an issue on the github repo.","body":"The pom.xml sets the scope for JDA to <code>system</code>, this means you also have to use the jar at the same location in your system. It looks like the author of that project does not provide a portable solution. Open an issue on the github repo."}],"owner":{"account_id":23025283,"reputation":11,"user_id":17145648,"display_name":"LuisEduLeiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634161490,"creation_date":1634157575,"question_id":69562042,"body_markdown":"I need a little/big help to run [this application](https://github.com/Ectrian/discord-epgp-bot):\r\n\r\nI follow the entire guide provided by creator without success\r\n\r\n    Error: Could not find or load main class discord-epgp-bot-master.src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher\r\n    Caused by: java.lang.ClassNotFoundException: discord-epgp-bot-master.src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher\r\n\r\nSo, im using MAVEN to make the environment and also compiling the proyect:\r\n\r\n    MacBook-Pro-de-Luis:discord-epgp-bot-master baneside$ mvn compile\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] --------------------&lt; com.epgpbot:epgp-discord-bot &gt;--------------------\r\n    [INFO] Building epgp-discord-bot 0.0.1\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ epgp-discord-bot ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 9 resources\r\n    [INFO] Copying 5 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ epgp-discord-bot ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.581 s\r\n    [INFO] Finished at: 2021-10-13T17:30:08-03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    MacBook-Pro-de-Luis:discord-epgp-bot-master baneside$\r\n\r\nBut, I don&#39;t know how to run it :(\r\n\r\nWhen I used this command:\r\n\r\n    mvn exec:java src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher config.json\r\n\r\nthe following error show up:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] --------------------&lt; com.epgpbot:epgp-discord-bot &gt;--------------------\r\n    [INFO] Building epgp-discord-bot 0.0.1\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.739 s\r\n    [INFO] Finished at: 2021-10-13T17:32:03-03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Unknown lifecycle phase &quot;src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\r\n\r\nAlso, when I try to run the &quot;clean install&quot; .jar file this happens:\r\n\r\n    java -jar /Users/baneside/discord-epgp-bot-master/target/epgp-discord-bot-0.0.1.jar\r\n\r\n    Usage: epgpbot config.json\r\n\r\n\r\nAny ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J0zfN.png\r\n\r\n    MacBook-Pro-de-Luis:target baneside$ java -jar epgp-discord-bot-0.0.1.jar config.json\r\n    [Config] Loading... (config.json)\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/FieldNamingPolicy\r\n        at com.epgpbot.transport.discord.DiscordBotLauncher.main(DiscordBotLauncher.java:28)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.gson.FieldNamingPolicy\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n        ... 1 more\r\n    MacBook-Pro-de-Luis:target baneside$ ","title":"running a java discord bot","body":"<p>I need a little/big help to run <a href=\"https://github.com/Ectrian/discord-epgp-bot\" rel=\"nofollow noreferrer\">this application</a>:</p>\n<p>I follow the entire guide provided by creator without success</p>\n<pre><code>Error: Could not find or load main class discord-epgp-bot-master.src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher\nCaused by: java.lang.ClassNotFoundException: discord-epgp-bot-master.src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher\n</code></pre>\n<p>So, im using MAVEN to make the environment and also compiling the proyect:</p>\n<pre><code>MacBook-Pro-de-Luis:discord-epgp-bot-master baneside$ mvn compile\n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------------&lt; com.epgpbot:epgp-discord-bot &gt;--------------------\n[INFO] Building epgp-discord-bot 0.0.1\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ epgp-discord-bot ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 9 resources\n[INFO] Copying 5 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ epgp-discord-bot ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.581 s\n[INFO] Finished at: 2021-10-13T17:30:08-03:00\n[INFO] ------------------------------------------------------------------------\nMacBook-Pro-de-Luis:discord-epgp-bot-master baneside$\n</code></pre>\n<p>But, I don't know how to run it :(</p>\n<p>When I used this command:</p>\n<pre><code>mvn exec:java src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher config.json\n</code></pre>\n<p>the following error show up:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------------&lt; com.epgpbot:epgp-discord-bot &gt;--------------------\n[INFO] Building epgp-discord-bot 0.0.1\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.739 s\n[INFO] Finished at: 2021-10-13T17:32:03-03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Unknown lifecycle phase &quot;src.main.java.com.epgpbot.transport.discord.DiscordBotLauncher&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\n</code></pre>\n<p>Also, when I try to run the &quot;clean install&quot; .jar file this happens:</p>\n<pre><code>java -jar /Users/baneside/discord-epgp-bot-master/target/epgp-discord-bot-0.0.1.jar\n\nUsage: epgpbot config.json\n</code></pre>\n<p>Any ideas?</p>\n<pre><code>MacBook-Pro-de-Luis:target baneside$ java -jar epgp-discord-bot-0.0.1.jar config.json\n[Config] Loading... (config.json)\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/FieldNamingPolicy\n    at com.epgpbot.transport.discord.DiscordBotLauncher.main(DiscordBotLauncher.java:28)\nCaused by: java.lang.ClassNotFoundException: com.google.gson.FieldNamingPolicy\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    ... 1 more\nMacBook-Pro-de-Luis:target baneside$ \n</code></pre>\n"},{"tags":["java","regex","matching","mvel"],"owner":{"account_id":23003866,"reputation":11,"user_id":17127464,"display_name":"Vaski Nath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634161437,"creation_date":1633962973,"question_id":69528019,"body_markdown":"I am trying to evaluate a pattern or regular based expression in Java using the MVEL library. However, the &quot;matches&quot; function is not working fine and is giving compilation error.\r\n\r\nI have tried to create a an expression like below in MVEL but regular expression is not working fine.\r\n\r\nWorks Fine - \r\n\r\n    System.out.println(MVEL.eval(&quot;&#39;5.00&#39; == &#39;5.00&#39;&quot;));\r\n    Answer : true\r\n\r\nDoes not work fine - \r\n\r\n    System.out.println(MVEL.eval(&quot;&#39;5.00&#39; matches &#39;^-?\\\\d+(\\\\.\\\\d{2})?$&#39;&quot;));\r\n    Error Message : \r\n    Exception in thread &quot;main&quot; [Error: unexpected token or unknown identifier:matches]\r\n    [Near : {... &#39;5.00&#39; matches &#39;^-?\\d+(\\.\\d{2})?$&#39; ....}]\r\n                        ^\r\n    [Line: 1, Column: 8]\r\n    \tat org.mvel2.MVELInterpretedRuntime.parseAndExecuteInterpreted(MVELInterpretedRuntime.java:138)\r\n    \tat org.mvel2.MVELInterpretedRuntime.parse(MVELInterpretedRuntime.java:47)\r\n    \tat org.mvel2.MVEL.eval(MVEL.java:92)\r\n    \tat com.oracle.oci.ops.integrate.config.parser.MVELParser.main(MVELParser.java:24)\r\n\r\nCan some one please help me out in resolving the issue?\r\n","title":"Pattern Matching not working for MVEL.eval","body":"<p>I am trying to evaluate a pattern or regular based expression in Java using the MVEL library. However, the &quot;matches&quot; function is not working fine and is giving compilation error.</p>\n<p>I have tried to create a an expression like below in MVEL but regular expression is not working fine.</p>\n<p>Works Fine -</p>\n<pre><code>System.out.println(MVEL.eval(&quot;'5.00' == '5.00'&quot;));\nAnswer : true\n</code></pre>\n<p>Does not work fine -</p>\n<pre><code>System.out.println(MVEL.eval(&quot;'5.00' matches '^-?\\\\d+(\\\\.\\\\d{2})?$'&quot;));\nError Message : \nException in thread &quot;main&quot; [Error: unexpected token or unknown identifier:matches]\n[Near : {... '5.00' matches '^-?\\d+(\\.\\d{2})?$' ....}]\n                    ^\n[Line: 1, Column: 8]\n    at org.mvel2.MVELInterpretedRuntime.parseAndExecuteInterpreted(MVELInterpretedRuntime.java:138)\n    at org.mvel2.MVELInterpretedRuntime.parse(MVELInterpretedRuntime.java:47)\n    at org.mvel2.MVEL.eval(MVEL.java:92)\n    at com.oracle.oci.ops.integrate.config.parser.MVELParser.main(MVELParser.java:24)\n</code></pre>\n<p>Can some one please help me out in resolving the issue?</p>\n"},{"tags":["java","android","osmdroid"],"answers":[{"tags":[],"owner":{"account_id":7320336,"reputation":61,"user_id":5576564,"display_name":"Andrej S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634160932,"creation_date":1634160932,"answer_id":69562590,"question_id":69478098,"body_markdown":"I don&#39;t think omsdroid can do this out of the box. However you can solve this:\r\n\r\nroadOverlay.getPoints() will give you ArrayList&lt;GeoPoint&gt; containing the &quot;turning&quot; points. You can then apply some math to calculate what you need. I would do it like this:\r\n 1. Calculate distance in feet between two turning points. https://stackoverflow.com/questions/365826/calculate-distance-between-2-gps-coordinates\r\n 2. Divide the distance by 10 feet (as mentioned in your post) and subtract 1. You will get the number of points between the 2 turning points.\r\n 3. Apply some more math to get lat and lng of each of the points on the road. You can inspire here. https://stackoverflow.com/questions/21249739/how-to-calculate-the-points-between-two-given-points-and-given-distance or https://stackoverflow.com/questions/33907276/calculate-point-between-two-coordinates-based-on-a-percentage\r\n4. You can now use the elevation API for the points. Do not forget to get the elevation of the turning points, too. \r\n5. Get the next 2 turning points and repeat. :-)","title":"Getting individual coordinates from OSMDroid routing, to use in finding elevations on trip","body":"<p>I don't think omsdroid can do this out of the box. However you can solve this:</p>\n<p>roadOverlay.getPoints() will give you ArrayList containing the &quot;turning&quot; points. You can then apply some math to calculate what you need. I would do it like this:</p>\n<ol>\n<li>Calculate distance in feet between two turning points. <a href=\"https://stackoverflow.com/questions/365826/calculate-distance-between-2-gps-coordinates\">Calculate distance between 2 GPS coordinates</a></li>\n<li>Divide the distance by 10 feet (as mentioned in your post) and subtract 1. You will get the number of points between the 2 turning points.</li>\n<li>Apply some more math to get lat and lng of each of the points on the road. You can inspire here. <a href=\"https://stackoverflow.com/questions/21249739/how-to-calculate-the-points-between-two-given-points-and-given-distance\">How to calculate the points between two given points and given distance?</a> or <a href=\"https://stackoverflow.com/questions/33907276/calculate-point-between-two-coordinates-based-on-a-percentage\">Calculate point between two coordinates based on a percentage</a></li>\n<li>You can now use the elevation API for the points. Do not forget to get the elevation of the turning points, too.</li>\n<li>Get the next 2 turning points and repeat. :-)</li>\n</ol>\n"}],"owner":{"account_id":22906794,"reputation":75,"user_id":17044739,"display_name":"Bobabooy114"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69562590,"answer_count":1,"score":0,"last_activity_date":1634160932,"creation_date":1633596339,"question_id":69478098,"body_markdown":"I am trying to create a hill finder application\r\n\r\nLike [this][1]\r\n\r\nThe user enters a starting location, and an end location. With the end goal of displaying a chart with the elevations of the road in the trip\r\n\r\nCurrently, I have managed to get it to create a route between point A and point B. I needed to use routing, since in my use case, the user has to stay on the road and can&#39;t just draw a straight line\r\n\r\ncode so far:\r\n```\r\nRoadManager roadManager = new OSRMRoadManager(requireContext(), &quot;MY_USER_AGENT&quot;);\r\nArrayList&lt;GeoPoint&gt; waypoints = new ArrayList&lt;&gt;();\r\nwaypoints.add(startPoint);\r\nGeoPoint endPoint = new GeoPoint(48.069842, -1.712637);\r\nwaypoints.add(endPoint);\r\nRoad road = roadManager.getRoad(waypoints);\r\nPolyline roadOverlay = RoadManager.buildRoadOverlay(road);\r\nmap.getOverlays().add(roadOverlay);\r\nmap.invalidate();\r\nDrawable nodeIcon = getResources().getDrawable(R.drawable.ic_baseline_location_on_24);\r\nfor (int i=0; i&lt;road.mNodes.size(); i++){\r\n    RoadNode node = road.mNodes.get(i);\r\n    Marker nodeMarker = new Marker(map);\r\n    nodeMarker.setPosition(node.mLocation);\r\n    nodeMarker.setIcon(nodeIcon);\r\n    nodeMarker.setTitle(&quot;Step &quot;+i);\r\n    map.getOverlays().add(nodeMarker);\r\n}\r\n```\r\n\r\nTook this from the guide on the osmdroid bonus pack github page\r\n\r\nI already have a system in place to load elevations from coordinates elsewhere in the app. I just need to get the coordinates from the route. At least every 10 feet or so, **not just the intersections**\r\n\r\nI&#39;m hoping this is possible with osmdroid, especially since this has been done with google&#39;s apis. However, that code was not open, and I don&#39;t want to be charged per usage\r\n\r\nMy best guess was something with projection(), but I barely know how to use it\r\n\r\nNOTE: I won&#39;t be using this for long distances, probably at most a mile is what the user would need\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cs0FH.jpg","title":"Getting individual coordinates from OSMDroid routing, to use in finding elevations on trip","body":"<p>I am trying to create a hill finder application</p>\n<p>Like <a href=\"https://i.stack.imgur.com/Cs0FH.jpg\" rel=\"nofollow noreferrer\">this</a></p>\n<p>The user enters a starting location, and an end location. With the end goal of displaying a chart with the elevations of the road in the trip</p>\n<p>Currently, I have managed to get it to create a route between point A and point B. I needed to use routing, since in my use case, the user has to stay on the road and can't just draw a straight line</p>\n<p>code so far:</p>\n<pre><code>RoadManager roadManager = new OSRMRoadManager(requireContext(), &quot;MY_USER_AGENT&quot;);\nArrayList&lt;GeoPoint&gt; waypoints = new ArrayList&lt;&gt;();\nwaypoints.add(startPoint);\nGeoPoint endPoint = new GeoPoint(48.069842, -1.712637);\nwaypoints.add(endPoint);\nRoad road = roadManager.getRoad(waypoints);\nPolyline roadOverlay = RoadManager.buildRoadOverlay(road);\nmap.getOverlays().add(roadOverlay);\nmap.invalidate();\nDrawable nodeIcon = getResources().getDrawable(R.drawable.ic_baseline_location_on_24);\nfor (int i=0; i&lt;road.mNodes.size(); i++){\n    RoadNode node = road.mNodes.get(i);\n    Marker nodeMarker = new Marker(map);\n    nodeMarker.setPosition(node.mLocation);\n    nodeMarker.setIcon(nodeIcon);\n    nodeMarker.setTitle(&quot;Step &quot;+i);\n    map.getOverlays().add(nodeMarker);\n}\n</code></pre>\n<p>Took this from the guide on the osmdroid bonus pack github page</p>\n<p>I already have a system in place to load elevations from coordinates elsewhere in the app. I just need to get the coordinates from the route. At least every 10 feet or so, <strong>not just the intersections</strong></p>\n<p>I'm hoping this is possible with osmdroid, especially since this has been done with google's apis. However, that code was not open, and I don't want to be charged per usage</p>\n<p>My best guess was something with projection(), but I barely know how to use it</p>\n<p>NOTE: I won't be using this for long distances, probably at most a mile is what the user would need</p>\n"},{"tags":["java","android","object","arraylist","backendless"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1504193028,"post_id":45984997,"comment_id":78929861,"body_markdown":"If you really need an array: `((List&lt;?&gt;) response).toArray()`. But it&#39;s a `List`, and you wrap the array into a `List`. So `List&lt;Object&gt; user = (List&lt;Object&gt;) result;` would work.","body":"If you really need an array: <code>((List&lt;?&gt;) response).toArray()</code>. But it&#39;s a <code>List</code>, and you wrap the array into a <code>List</code>. So <code>List&lt;Object&gt; user = (List&lt;Object&gt;) result;</code> would work."}],"answers":[{"tags":[],"owner":{"account_id":8202240,"reputation":31,"user_id":6173209,"display_name":"Shailendra Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504193255,"creation_date":1504193255,"answer_id":45985136,"question_id":45984997,"body_markdown":"response is of type java.uti.ArrayList wrapped under Object type. You can not cast  \r\n Arraylist to Array of Object.","title":"java.util.arraylist cannot be cast to java.lang.object[]","body":"<p>response is of type java.uti.ArrayList wrapped under Object type. You can not cast<br>\n Arraylist to Array of Object.</p>\n"},{"tags":[],"owner":{"account_id":11064606,"reputation":1240,"user_id":8124788,"display_name":"MartinByers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1504193532,"creation_date":1504193532,"answer_id":45985211,"question_id":45984997,"body_markdown":"what you are doing looks a bit long winded:\r\n\r\n    ***   Object [] result = (Object []) response;   ***\r\n    List&lt;Object&gt; user = Arrays.asList(result);\r\n\r\n        for (int i = 0; i&lt; user.size(); i++){\r\n\r\n           if (user.get(i) != null){\r\n               list.add(((Learner) user.get(i)).getFirstName().toString() + &quot;: &quot; + ((Learner) user.get(i)).getLastName().toString());\r\n           }\r\n        }\r\n\r\ncould be condenced to :\r\n\r\n    List&lt;?&gt; users = (List&lt;?&gt;)response;\r\n    for (Object user : users) {\r\n        if (user != null){\r\n            // Some stuff\r\n        }\r\n    }\r\n\r\nNext you will get an issue with:\r\n\r\n           list.add(((Learner) user.get(i)).getFirstName().toString() + &quot;: &quot; + ((Learner) user.get(i)).getLastName().toString());\r\n\r\nbecause `user.get(i)).getFirstName().toString() + &quot;: &quot;` is a String which you are then casting to Type `Learner`. You will need to rethink this.","title":"java.util.arraylist cannot be cast to java.lang.object[]","body":"<p>what you are doing looks a bit long winded:</p>\n\n<pre><code>***   Object [] result = (Object []) response;   ***\nList&lt;Object&gt; user = Arrays.asList(result);\n\n    for (int i = 0; i&lt; user.size(); i++){\n\n       if (user.get(i) != null){\n           list.add(((Learner) user.get(i)).getFirstName().toString() + \": \" + ((Learner) user.get(i)).getLastName().toString());\n       }\n    }\n</code></pre>\n\n<p>could be condenced to :</p>\n\n<pre><code>List&lt;?&gt; users = (List&lt;?&gt;)response;\nfor (Object user : users) {\n    if (user != null){\n        // Some stuff\n    }\n}\n</code></pre>\n\n<p>Next you will get an issue with:</p>\n\n<pre><code>       list.add(((Learner) user.get(i)).getFirstName().toString() + \": \" + ((Learner) user.get(i)).getLastName().toString());\n</code></pre>\n\n<p>because <code>user.get(i)).getFirstName().toString() + \": \"</code> is a String which you are then casting to Type <code>Learner</code>. You will need to rethink this.</p>\n"},{"tags":[],"owner":{"account_id":8020757,"reputation":89,"user_id":6049494,"display_name":"TankRaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562048197,"creation_date":1504194016,"answer_id":45985381,"question_id":45984997,"body_markdown":"you can define your result as\r\n\r\n    Object[] arr = new Object[]{...};\r\n","title":"java.util.arraylist cannot be cast to java.lang.object[]","body":"<p>you can define your result as</p>\n\n<pre><code>Object[] arr = new Object[]{...};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17783121,"reputation":418,"user_id":12913865,"display_name":"imon Vyhnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634160592,"creation_date":1634160592,"answer_id":69562539,"question_id":45984997,"body_markdown":"To convert `List&lt;Object&gt;` to array of objects use `.toArray()` method:\r\n\r\n`Object[] result = response.toArray();` \r\n\r\nThat&#39;s the solution to the original exception.","title":"java.util.arraylist cannot be cast to java.lang.object[]","body":"<p>To convert <code>List&lt;Object&gt;</code> to array of objects use <code>.toArray()</code> method:</p>\n<p><code>Object[] result = response.toArray();</code></p>\n<p>That's the solution to the original exception.</p>\n"}],"owner":{"account_id":4942768,"reputation":63,"user_id":3979046,"display_name":"Franco Landman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9854,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":45985211,"answer_count":4,"score":0,"last_activity_date":1634160592,"creation_date":1504192884,"question_id":45984997,"body_markdown":"So in my code below, line marked with *** gives me the exception\r\n\r\n&gt; java.util.arraylist cannot be cast to java.lang.object[]\r\n\r\nI am trying to retrieve a list of users from backendless. I have created a list view that works when normally adding to list. but not when trying to get the response(Object)\r\n\r\n    public class UserRolesActivity extends AppCompatActivity {\r\n    \r\n        ListView userListView;\r\n        TextView changeRoleTv;\r\n        List&lt;String&gt; list;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_user_roles);\r\n    \r\n            userListView = (ListView) findViewById(R.id.usersListView);\r\n            list = new ArrayList&lt;&gt;();\r\n            changeRoleTv = (TextView) findViewById(R.id.chooseUserChangeTv);\r\n    \r\n            Backendless.Data.mapTableToClass(&quot;Users&quot;, Users.class);\r\n    \r\n            list.add(&quot;Name1&quot;);\r\n            list.add(&quot;Name2&quot;);\r\n    \r\n            RetrieveUsers retrieveUsers = RetrieveUsers.getInstance();\r\n    \r\n            retrieveUsers.getUsersAsync(new AsyncCallback&lt;Object&gt;() {\r\n                @Override\r\n                public void handleResponse(Object response) {\r\n    \r\n                    try{\r\n                     ***   Object [] result = (Object []) response;   ***\r\n                        List&lt;Object&gt; user = Arrays.asList(result);\r\n    \r\n                        for (int i = 0; i&lt; user.size(); i++){\r\n    \r\n                            if (user.get(i) != null){\r\n                                list.add(((Learner) user.get(i)).getFirstName().toString() + &quot;: &quot; + ((Learner) user.get(i)).getLastName().toString());\r\n                            }\r\n                        }\r\n    \r\n                    }catch (Exception e){\r\n                        ShowToast(e.getMessage().toString());\r\n                    }\r\n    \r\n                    userListView.setAdapter(new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1, list));\r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void handleFault(BackendlessFault fault) {\r\n                    ShowToast(fault.getMessage());\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private  void ShowToast(String message)\r\n        {\r\n            Toast.makeText(this, message, LENGTH_LONG).show();\r\n        }\r\n    \r\n    }","title":"java.util.arraylist cannot be cast to java.lang.object[]","body":"<p>So in my code below, line marked with *** gives me the exception</p>\n\n<blockquote>\n  <p>java.util.arraylist cannot be cast to java.lang.object[]</p>\n</blockquote>\n\n<p>I am trying to retrieve a list of users from backendless. I have created a list view that works when normally adding to list. but not when trying to get the response(Object)</p>\n\n<pre><code>public class UserRolesActivity extends AppCompatActivity {\n\n    ListView userListView;\n    TextView changeRoleTv;\n    List&lt;String&gt; list;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_user_roles);\n\n        userListView = (ListView) findViewById(R.id.usersListView);\n        list = new ArrayList&lt;&gt;();\n        changeRoleTv = (TextView) findViewById(R.id.chooseUserChangeTv);\n\n        Backendless.Data.mapTableToClass(\"Users\", Users.class);\n\n        list.add(\"Name1\");\n        list.add(\"Name2\");\n\n        RetrieveUsers retrieveUsers = RetrieveUsers.getInstance();\n\n        retrieveUsers.getUsersAsync(new AsyncCallback&lt;Object&gt;() {\n            @Override\n            public void handleResponse(Object response) {\n\n                try{\n                 ***   Object [] result = (Object []) response;   ***\n                    List&lt;Object&gt; user = Arrays.asList(result);\n\n                    for (int i = 0; i&lt; user.size(); i++){\n\n                        if (user.get(i) != null){\n                            list.add(((Learner) user.get(i)).getFirstName().toString() + \": \" + ((Learner) user.get(i)).getLastName().toString());\n                        }\n                    }\n\n                }catch (Exception e){\n                    ShowToast(e.getMessage().toString());\n                }\n\n                userListView.setAdapter(new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1, list));\n\n\n            }\n\n            @Override\n            public void handleFault(BackendlessFault fault) {\n                ShowToast(fault.getMessage());\n            }\n        });\n\n    }\n\n    private  void ShowToast(String message)\n    {\n        Toast.makeText(this, message, LENGTH_LONG).show();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","guava","apache-commons","apache-commons-lang3"],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1611450618,"creation_date":1594250081,"answer_id":62805030,"question_id":62804809,"body_markdown":"This is the [source code][1] for **`getSplitTime()`** (*it calls this other function internally*):\r\n\r\n    public long getSplitNanoTime() {\r\n      if (this.splitState != SplitState.SPLIT) {\r\n         throw new IllegalStateException(&quot;Stopwatch must be split to get the split time. &quot;);\r\n      }\r\n       return this.stopTime - this.startTime;\r\n    }\r\n\r\nSo it will return `stopTime-startTime`.  Beware of **`stopTime`**. *It&#39;s the liar that&#39;s confusing you.*\r\n\r\n\r\nThis is the code for **`stop()`**:\r\n\r\n    public void stop() {\r\n      if (this.runningState != State.RUNNING &amp;&amp; this.runningState != State.SUSPENDED) {\r\n        throw new IllegalStateException(&quot;Stopwatch is not running. &quot;);\r\n      }\r\n      if (this.runningState == State.RUNNING) \r\n      {\r\n        //is this the same stopTime getSplitTime uses? yep, it is\r\n         this.stopTime = System.nanoTime(); \r\n      }\r\n      this.runningState = State.STOPPED;\r\n    }\r\n\r\n**What&#39;s happenning then?**\r\n\r\n Calling `stop()` updates the `stopTime` variable and makes the stopwatch &quot;forget&quot; the last time it was splitted. \r\n\r\nBoth `split()` and `stop()` modify the same variable, `stopTime`, which is overrided when you call `stop()` at the end of your process. \r\n\r\nAlthough sharing the same variable may look wierd, it really makes sense, as an `splittedTime` of an **`StopWatch`** should never be bigger than the total elapsed time. So it&#39;s a game regarding the order of the functions executed in the **`StopWatch`**. \r\n\r\nThis is the code for **`split()`**, in order to see that both methods do use `stopTime`:\r\n\r\n    public void split() {\r\n       if (this.runningState != State.RUNNING) {\r\n          throw new IllegalStateException(&quot;Stopwatch is not running. &quot;);\r\n        }\r\n        this.stopTime = System.nanoTime(); // you again little f..\r\n        this.splitState = SplitState.SPLIT;\r\n    }\r\n\r\nThat&#39;s why this *little adorable Apache liar* shows you 15 seconds on the splittedTime: because `stop()` updated the `stopTime` variable `getSplitTime()` will use to return its value. (*the first code snippet*) \r\n\r\nNote the simplicity of the `split()` function (***this also barely answers OP&#39;s question***). It is responsible of:\r\n\r\n 1. *Checking wether the **`StopWatch`** is running.*\r\n 2. Marking a new `stopTime`.\r\n 3. Setting the `splitState` to **`SPLIT`**.\r\n\r\n\r\n------\r\n\r\n                                          TLDR lol\r\n\r\n**Calling `getSplitTime()` before stopping the `StopWatch`  should show you the desired value**:\r\n\r\n 1. **`stopTime`** won&#39;t be updated by `stop()` yet.\r\n 2.  The returning value will now match the time elapsed between the last `split()` and the **`startTime`**.\r\n\r\n\r\nSome examples: (*yes, editing at saturday night cause I need a social life*)\r\n\r\n    StopWatch stopwatch = StopWatch.createStarted();\r\n    do something for 5 seconds\r\n    stopwatch.split(); //stopTime is updated [by split()]\r\n    System.out.println(stopwatch.getSplitTime()); // will show 5 seconds\r\n    do something for 10 seconds\r\n    System.out.println(stopwatch.getSplitTime()); // will also show 5 seconds\r\n    stopwatch.stop(); //stopTime is updated again [by stop()]\r\n    System.out.println(stopwatch.getTime()); // 15s\r\n    System.out.println(stopwatch.getSplitTime()); // 15s\r\n\r\nAnother one:\r\n\r\n    StopWatch stopwatch = StopWatch.createStarted();\r\n    do something for 5 seconds\r\n    stopwatch.split(); \r\n    System.out.println(stopwatch.getSplitTime()); // 5s\r\n    do something for 10 seconds\r\n    stopwatch.split(); \r\n    System.out.println(stopwatch.getSplitTime()); // 15s\r\n    do something for 1 second\r\n    stopwatch.stop();\r\n    System.out.println(stopwatch.getTime()); // 16s\r\n\r\nAnd a last one. Mocked the time with `sleeps`, just for the fun, you know. *I was so bored I really imported the apache jar in order to test this locally*:\r\n\r\n    StopWatch stopwatch = StopWatch.createStarted();\r\n    Thread.sleep(5000);\r\n    stopwatch.split(); \r\n    System.out.println(stopwatch.getSplitTime()); // 5s\r\n    Thread.sleep(10000);\r\n    stopwatch.split(); \r\n    System.out.println(stopwatch.getSplitTime()); // 15s\r\n\r\n    stopwatch.reset();  // allows the stopWatch to be started again\r\n    stopwatch.start();  // updates startTime\r\n\r\n   \tThread.sleep(2000);\r\n    stopwatch.split(); \r\n    System.out.println(stopwatch.getSplitTime()); // 2s\r\n    Thread.sleep(1000);\r\n    stopwatch.stop();\r\n    System.out.println(stopwatch.getTime());      // 3s\r\n    System.out.println(stopwatch.getSplitTime()); // 3s\r\n    //it was so fun putting the sleeps\r\n\r\n-------\r\n\r\nNote that calling `getSplitTime()` on an stopped **`Watch`** won&#39;t throw any exception, because the method will only check wheter the `splitState` is **`SPLIT`**.\r\n\r\n ***The confusion may be caused by these two facts:***\r\n\r\n 1. The code allows you to `stop()` regardless of the `SplitState`, making your last `split()` futile without you being aware. Futile, I love that word. Had to include it in my answer somehow. *Futileeee*\r\n 2. It also allows you to check the `splittedTime` on an stopped watch (if it is still on `SPLIT` state), when it really just will return the total elapsed time between the last `start()` and the stopping time. *(little liar)*\r\n\r\nIn this scenario, *where the stopwatch is stopped and splitted at the same time*, `getTime()` and `getSplitTime()` will always show the same value when called after `stop()`.\r\n\r\n-------\r\n\r\n*[Personal and subjective opinion]*\r\n\r\nLet&#39;s say you have a `Counters` class with different variables to check elapsed times. You also want to output the total elapsed time for each operation, every 60 seconds . In this example, `counters` is an instance of a **`Counters`** class that owns two `long` variables: `fileTime` and `sendTime`, that will accumulate the elapsed time within each operation during an specific interval (*60s*). *This is just an example that assumes each iteration takes less than 1000 ms (so it will always show 60 seconds on the elapsed time):*\r\n\r\n    long statsTimer = System.currentTimeMillis();\r\n    while (mustWork)\r\n    {\r\n        long elapsedStatsTimer = System.currentTimeMillis()-statsTimer; //hits 60185 \r\n       \r\n        if (elapsedStatsTimer  &gt; 60000)\r\n        {\r\n           //counters.showTimes()\r\n           System.out.println(&quot;Showing elapsed times for the last &quot;+\r\n                                (elapsedStatsTimer/1000)+ &quot; secs&quot;); //(60185/1000) - 60 secs\r\n           System.out.println(&quot;Files time: &quot;+counters.fileTime+&quot; ms&quot;); //23695 ms\r\n           System.out.println(&quot;Send time : &quot;+counters.sendTime+&quot; ms&quot;); //36280 ms          \r\n           long workTime = counters.sendTime+counters.fileTime;\r\n           System.out.println(&quot;Work time : &quot;+workTime+&quot; ms&quot;); //59975 ms\r\n           System.out.println(&quot;Others    : &quot;+(elapsedStatsTimer-workTime)+&quot; ms&quot;); //210 ms\r\n           //counters.reset()\r\n           counters.fileTime=0;\r\n           counters.sendTime=0;\r\n           statsTimer= System.currentTimeMillis();\r\n         }\r\n         \r\n         long timer = System.currentTimeMillis();\r\n         //do something with a file\r\n         counters.fileTime+=System.currentTimeMillis-timer;\r\n         timer = System.currentTimeMillis();\r\n         //send a message\r\n         counters.sendTime+=System.currentTimeMillis()-timer;\r\n    }\r\n\r\nThat `Counters` class could implement the `reset()` and `showTimes()` functions, in order to clean up the code above. It could also manage the `elapsedStatsTimer` variable. This is just an example to simplify its behaviour.\r\n\r\nFor this use case, in which **you need to measure different operations persistently**, I think this way is *easier* to use and seems to have a similar performance, as the **`StopWatch`** internally makes the exact same thing. But hey, it&#39;s just my way to do it : ).\r\n\r\nI will accept downvotes for this opinion in an honorable and futile way.\r\n\r\nI would love to finish with a minute of silence in honour of `unsplit()`, which may be one of the most irrelevant methods ever existed.\r\n\r\n*[/Personal and subjective opinion]*\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/time/StopWatch.html\r\n\r\n------\r\n\r\n*Just noticed `TLDR` section is actually bigger than the previous section :_ )* \r\n","title":"What is the point of Apache Lang3 StopWatch.split()?","body":"<p>This is the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/time/StopWatch.html\" rel=\"noreferrer\">source code</a> for <strong><code>getSplitTime()</code></strong> (<em>it calls this other function internally</em>):</p>\n<pre><code>public long getSplitNanoTime() {\n  if (this.splitState != SplitState.SPLIT) {\n     throw new IllegalStateException(&quot;Stopwatch must be split to get the split time. &quot;);\n  }\n   return this.stopTime - this.startTime;\n}\n</code></pre>\n<p>So it will return <code>stopTime-startTime</code>.  Beware of <strong><code>stopTime</code></strong>. <em>It's the liar that's confusing you.</em></p>\n<p>This is the code for <strong><code>stop()</code></strong>:</p>\n<pre><code>public void stop() {\n  if (this.runningState != State.RUNNING &amp;&amp; this.runningState != State.SUSPENDED) {\n    throw new IllegalStateException(&quot;Stopwatch is not running. &quot;);\n  }\n  if (this.runningState == State.RUNNING) \n  {\n    //is this the same stopTime getSplitTime uses? yep, it is\n     this.stopTime = System.nanoTime(); \n  }\n  this.runningState = State.STOPPED;\n}\n</code></pre>\n<p><strong>What's happenning then?</strong></p>\n<p>Calling <code>stop()</code> updates the <code>stopTime</code> variable and makes the stopwatch &quot;forget&quot; the last time it was splitted.</p>\n<p>Both <code>split()</code> and <code>stop()</code> modify the same variable, <code>stopTime</code>, which is overrided when you call <code>stop()</code> at the end of your process.</p>\n<p>Although sharing the same variable may look wierd, it really makes sense, as an <code>splittedTime</code> of an <strong><code>StopWatch</code></strong> should never be bigger than the total elapsed time. So it's a game regarding the order of the functions executed in the <strong><code>StopWatch</code></strong>.</p>\n<p>This is the code for <strong><code>split()</code></strong>, in order to see that both methods do use <code>stopTime</code>:</p>\n<pre><code>public void split() {\n   if (this.runningState != State.RUNNING) {\n      throw new IllegalStateException(&quot;Stopwatch is not running. &quot;);\n    }\n    this.stopTime = System.nanoTime(); // you again little f..\n    this.splitState = SplitState.SPLIT;\n}\n</code></pre>\n<p>That's why this <em>little adorable Apache liar</em> shows you 15 seconds on the splittedTime: because <code>stop()</code> updated the <code>stopTime</code> variable <code>getSplitTime()</code> will use to return its value. (<em>the first code snippet</em>)</p>\n<p>Note the simplicity of the <code>split()</code> function (<em><strong>this also barely answers OP's question</strong></em>). It is responsible of:</p>\n<ol>\n<li><em>Checking wether the <strong><code>StopWatch</code></strong> is running.</em></li>\n<li>Marking a new <code>stopTime</code>.</li>\n<li>Setting the <code>splitState</code> to <strong><code>SPLIT</code></strong>.</li>\n</ol>\n<hr />\n<pre><code>                                      TLDR lol\n</code></pre>\n<p><strong>Calling <code>getSplitTime()</code> before stopping the <code>StopWatch</code>  should show you the desired value</strong>:</p>\n<ol>\n<li><strong><code>stopTime</code></strong> won't be updated by <code>stop()</code> yet.</li>\n<li>The returning value will now match the time elapsed between the last <code>split()</code> and the <strong><code>startTime</code></strong>.</li>\n</ol>\n<p>Some examples: (<em>yes, editing at saturday night cause I need a social life</em>)</p>\n<pre><code>StopWatch stopwatch = StopWatch.createStarted();\ndo something for 5 seconds\nstopwatch.split(); //stopTime is updated [by split()]\nSystem.out.println(stopwatch.getSplitTime()); // will show 5 seconds\ndo something for 10 seconds\nSystem.out.println(stopwatch.getSplitTime()); // will also show 5 seconds\nstopwatch.stop(); //stopTime is updated again [by stop()]\nSystem.out.println(stopwatch.getTime()); // 15s\nSystem.out.println(stopwatch.getSplitTime()); // 15s\n</code></pre>\n<p>Another one:</p>\n<pre><code>StopWatch stopwatch = StopWatch.createStarted();\ndo something for 5 seconds\nstopwatch.split(); \nSystem.out.println(stopwatch.getSplitTime()); // 5s\ndo something for 10 seconds\nstopwatch.split(); \nSystem.out.println(stopwatch.getSplitTime()); // 15s\ndo something for 1 second\nstopwatch.stop();\nSystem.out.println(stopwatch.getTime()); // 16s\n</code></pre>\n<p>And a last one. Mocked the time with <code>sleeps</code>, just for the fun, you know. <em>I was so bored I really imported the apache jar in order to test this locally</em>:</p>\n<pre><code>StopWatch stopwatch = StopWatch.createStarted();\nThread.sleep(5000);\nstopwatch.split(); \nSystem.out.println(stopwatch.getSplitTime()); // 5s\nThread.sleep(10000);\nstopwatch.split(); \nSystem.out.println(stopwatch.getSplitTime()); // 15s\n\nstopwatch.reset();  // allows the stopWatch to be started again\nstopwatch.start();  // updates startTime\n\nThread.sleep(2000);\nstopwatch.split(); \nSystem.out.println(stopwatch.getSplitTime()); // 2s\nThread.sleep(1000);\nstopwatch.stop();\nSystem.out.println(stopwatch.getTime());      // 3s\nSystem.out.println(stopwatch.getSplitTime()); // 3s\n//it was so fun putting the sleeps\n</code></pre>\n<hr />\n<p>Note that calling <code>getSplitTime()</code> on an stopped <strong><code>Watch</code></strong> won't throw any exception, because the method will only check wheter the <code>splitState</code> is <strong><code>SPLIT</code></strong>.</p>\n<p><em><strong>The confusion may be caused by these two facts:</strong></em></p>\n<ol>\n<li>The code allows you to <code>stop()</code> regardless of the <code>SplitState</code>, making your last <code>split()</code> futile without you being aware. Futile, I love that word. Had to include it in my answer somehow. <em>Futileeee</em></li>\n<li>It also allows you to check the <code>splittedTime</code> on an stopped watch (if it is still on <code>SPLIT</code> state), when it really just will return the total elapsed time between the last <code>start()</code> and the stopping time. <em>(little liar)</em></li>\n</ol>\n<p>In this scenario, <em>where the stopwatch is stopped and splitted at the same time</em>, <code>getTime()</code> and <code>getSplitTime()</code> will always show the same value when called after <code>stop()</code>.</p>\n<hr />\n<p><em>[Personal and subjective opinion]</em></p>\n<p>Let's say you have a <code>Counters</code> class with different variables to check elapsed times. You also want to output the total elapsed time for each operation, every 60 seconds . In this example, <code>counters</code> is an instance of a <strong><code>Counters</code></strong> class that owns two <code>long</code> variables: <code>fileTime</code> and <code>sendTime</code>, that will accumulate the elapsed time within each operation during an specific interval (<em>60s</em>). <em>This is just an example that assumes each iteration takes less than 1000 ms (so it will always show 60 seconds on the elapsed time):</em></p>\n<pre><code>long statsTimer = System.currentTimeMillis();\nwhile (mustWork)\n{\n    long elapsedStatsTimer = System.currentTimeMillis()-statsTimer; //hits 60185 \n   \n    if (elapsedStatsTimer  &gt; 60000)\n    {\n       //counters.showTimes()\n       System.out.println(&quot;Showing elapsed times for the last &quot;+\n                            (elapsedStatsTimer/1000)+ &quot; secs&quot;); //(60185/1000) - 60 secs\n       System.out.println(&quot;Files time: &quot;+counters.fileTime+&quot; ms&quot;); //23695 ms\n       System.out.println(&quot;Send time : &quot;+counters.sendTime+&quot; ms&quot;); //36280 ms          \n       long workTime = counters.sendTime+counters.fileTime;\n       System.out.println(&quot;Work time : &quot;+workTime+&quot; ms&quot;); //59975 ms\n       System.out.println(&quot;Others    : &quot;+(elapsedStatsTimer-workTime)+&quot; ms&quot;); //210 ms\n       //counters.reset()\n       counters.fileTime=0;\n       counters.sendTime=0;\n       statsTimer= System.currentTimeMillis();\n     }\n     \n     long timer = System.currentTimeMillis();\n     //do something with a file\n     counters.fileTime+=System.currentTimeMillis-timer;\n     timer = System.currentTimeMillis();\n     //send a message\n     counters.sendTime+=System.currentTimeMillis()-timer;\n}\n</code></pre>\n<p>That <code>Counters</code> class could implement the <code>reset()</code> and <code>showTimes()</code> functions, in order to clean up the code above. It could also manage the <code>elapsedStatsTimer</code> variable. This is just an example to simplify its behaviour.</p>\n<p>For this use case, in which <strong>you need to measure different operations persistently</strong>, I think this way is <em>easier</em> to use and seems to have a similar performance, as the <strong><code>StopWatch</code></strong> internally makes the exact same thing. But hey, it's just my way to do it : ).</p>\n<p>I will accept downvotes for this opinion in an honorable and futile way.</p>\n<p>I would love to finish with a minute of silence in honour of <code>unsplit()</code>, which may be one of the most irrelevant methods ever existed.</p>\n<p><em>[/Personal and subjective opinion]</em></p>\n<hr />\n<p><em>Just noticed <code>TLDR</code> section is actually bigger than the previous section :_ )</em></p>\n"}],"owner":{"account_id":3059600,"reputation":2961,"user_id":2592585,"accept_rate":67,"display_name":"ryanlutgen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4225,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":62805030,"answer_count":1,"score":11,"last_activity_date":1634160425,"creation_date":1594248629,"question_id":62804809,"body_markdown":"I am currently evaluating implementations between Apache StopWatch and Guava&#39;s Stopwatch and the split functionality in the former intrigued me, but I am struggling to understand what exactly it does, and what value it has.\r\n\r\nAccording to the documentation for StopWatch: https://commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/time/StopWatch.html\r\n\r\n&gt; split() the watch to get the time whilst the watch continues in the background. unsplit() will remove the effect of the split. At this point, these three options are available again.\r\n\r\nAnd I found some examples, such as [this][1], which offer very little, since it appears split is just cumulative.  The page says the method is for &quot;splitting the time&quot;, which I figured as much based on the method, but the page makes no mention to what that actually means.  It would even appear that this example is utterly wrong, because the docs suggest that you should `unsplit` before you `split` again.\r\n\r\nI initially thought it was for the following usecase:\r\n```\r\nStopWatch stopwatch = StopWatch.createStarted();\r\ndo something for 5 seconds\r\nstopwatch.split();\r\ndo something for 10 seconds\r\nstopwatch.stop();\r\nSystem.out.println(stopwatch.getTime());\r\nSystem.out.println(stopwatch.getSplitTime());\r\n```\r\n\r\nI thought that stopwatch total time would read as 15 seconds, and stopwatch split time would read as either 10 or 5 seconds, but it appears that both methods output 15 seconds.\r\n\r\nNext, I thought maybe the split value is a delta you can take, and then remove from the total timer, something like:\r\n```\r\nStopWatch stopwatch = StopWatch.createStarted();\r\ndo something for 5 seconds\r\nstopwatch.split();\r\ndo something for 10 seconds\r\nstopwatch.unsplit();\r\nstopwatch.stop();\r\nSystem.out.println(stopwatch.getTime());\r\n// System.out.println(stopwatch.getSplitTime()); errors because of unsplit\r\n```\r\n\r\nMy thought here was that the split time would be 10 seconds, and when unsplit from the main timer, the main timer would read as 5 seconds... but this seems no different from a `suspend()` call...  I also tried this, and the timings remain the same nonetheless for me.\r\n\r\nAm I missing something here, or is my interpretation of what this is supposed to do all wrong?\r\n\r\n  [1]: https://kodejava.org/calculate-timings-using-commons-lang-stopwatch/","title":"What is the point of Apache Lang3 StopWatch.split()?","body":"<p>I am currently evaluating implementations between Apache StopWatch and Guava's Stopwatch and the split functionality in the former intrigued me, but I am struggling to understand what exactly it does, and what value it has.</p>\n<p>According to the documentation for StopWatch: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/time/StopWatch.html\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/time/StopWatch.html</a></p>\n<blockquote>\n<p>split() the watch to get the time whilst the watch continues in the background. unsplit() will remove the effect of the split. At this point, these three options are available again.</p>\n</blockquote>\n<p>And I found some examples, such as <a href=\"https://kodejava.org/calculate-timings-using-commons-lang-stopwatch/\" rel=\"noreferrer\">this</a>, which offer very little, since it appears split is just cumulative.  The page says the method is for &quot;splitting the time&quot;, which I figured as much based on the method, but the page makes no mention to what that actually means.  It would even appear that this example is utterly wrong, because the docs suggest that you should <code>unsplit</code> before you <code>split</code> again.</p>\n<p>I initially thought it was for the following usecase:</p>\n<pre><code>StopWatch stopwatch = StopWatch.createStarted();\ndo something for 5 seconds\nstopwatch.split();\ndo something for 10 seconds\nstopwatch.stop();\nSystem.out.println(stopwatch.getTime());\nSystem.out.println(stopwatch.getSplitTime());\n</code></pre>\n<p>I thought that stopwatch total time would read as 15 seconds, and stopwatch split time would read as either 10 or 5 seconds, but it appears that both methods output 15 seconds.</p>\n<p>Next, I thought maybe the split value is a delta you can take, and then remove from the total timer, something like:</p>\n<pre><code>StopWatch stopwatch = StopWatch.createStarted();\ndo something for 5 seconds\nstopwatch.split();\ndo something for 10 seconds\nstopwatch.unsplit();\nstopwatch.stop();\nSystem.out.println(stopwatch.getTime());\n// System.out.println(stopwatch.getSplitTime()); errors because of unsplit\n</code></pre>\n<p>My thought here was that the split time would be 10 seconds, and when unsplit from the main timer, the main timer would read as 5 seconds... but this seems no different from a <code>suspend()</code> call...  I also tried this, and the timings remain the same nonetheless for me.</p>\n<p>Am I missing something here, or is my interpretation of what this is supposed to do all wrong?</p>\n"},{"tags":["java","spring-mvc","partial-views","tiles","apache-tiles"],"answers":[{"tags":[],"owner":{"account_id":5676513,"reputation":1243,"user_id":4489470,"accept_rate":79,"display_name":"Bibek Shakya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475970384,"creation_date":1475970384,"answer_id":39938540,"question_id":39770165,"body_markdown":"in your `tiles.xml` file \r\n\r\n    &lt;definition name=&quot;templatename&quot;\r\n                template=&quot;/WEB-INF/pages/layout.jsp&quot;&gt;\r\n        &lt;put-attribute name=&quot;header&quot; value=&quot;/WEB-INF/pages/includes/header.jsp&quot; /&gt;\r\n         &lt;put-attribute name=&quot;sidebar&quot; value=&quot;WEB-INF/pages/includes/sidebar.jsp&quot; /&gt;\r\n        &lt;put-attribute name=&quot;body&quot; value=&quot;&quot; /&gt;\r\n        &lt;put-attribute name=&quot;rightsidebar&quot; value=&quot;/WEB-INF/pages/includes/rightsidebar.jsp&quot; /&gt;\r\n        &lt;put-attribute name=&quot;footer&quot; value=&quot;/WEB-INF/pages/includes/footer.jsp&quot; /&gt;\r\n    &lt;/definition&gt;\r\n\r\ncreate page for header, footer, sidebar under right directory mentioned in `tiles.xml` and also create template name by `layout.jsp` with the tag\r\n\r\n    &lt;tiles:insertAttribute name=&quot;header&quot; /&gt;\r\n    &lt;tiles:insertAttribute name=&quot;sidebar&quot; /&gt;\r\n    &lt;tiles:insertAttribute name=&quot;rightsidebar&quot; /&gt;\r\n    &lt;tiles:insertAttribute name=&quot;body&quot; /&gt;\r\n    &lt;tiles:insertAttribute name=&quot;footer&quot; /&gt;\r\n\r\nthen you can invoke the page through spring-mvc controller url-pattern.\r\n\r\nadd this to tiles.xml\r\n\r\n    &lt;definition name=&quot;/dosomething&quot; extends=&quot;templatename&quot;&gt;\r\n        &lt;put-attribute name=&quot;title&quot; value=&quot;dosomething&quot; /&gt;\r\n        &lt;put-attribute name=&quot;body&quot; value=&quot;/WEB-INF/pages/login/dosomething.jsp&quot; /&gt;\r\n    &lt;/definition&gt;\r\n\r\nfor partial body load create a page `dosomething.jsp`\r\n\r\n","title":"How to load partial page using apache tiles with spring mvc","body":"<p>in your <code>tiles.xml</code> file </p>\n\n<pre><code>&lt;definition name=\"templatename\"\n            template=\"/WEB-INF/pages/layout.jsp\"&gt;\n    &lt;put-attribute name=\"header\" value=\"/WEB-INF/pages/includes/header.jsp\" /&gt;\n     &lt;put-attribute name=\"sidebar\" value=\"WEB-INF/pages/includes/sidebar.jsp\" /&gt;\n    &lt;put-attribute name=\"body\" value=\"\" /&gt;\n    &lt;put-attribute name=\"rightsidebar\" value=\"/WEB-INF/pages/includes/rightsidebar.jsp\" /&gt;\n    &lt;put-attribute name=\"footer\" value=\"/WEB-INF/pages/includes/footer.jsp\" /&gt;\n&lt;/definition&gt;\n</code></pre>\n\n<p>create page for header, footer, sidebar under right directory mentioned in <code>tiles.xml</code> and also create template name by <code>layout.jsp</code> with the tag</p>\n\n<pre><code>&lt;tiles:insertAttribute name=\"header\" /&gt;\n&lt;tiles:insertAttribute name=\"sidebar\" /&gt;\n&lt;tiles:insertAttribute name=\"rightsidebar\" /&gt;\n&lt;tiles:insertAttribute name=\"body\" /&gt;\n&lt;tiles:insertAttribute name=\"footer\" /&gt;\n</code></pre>\n\n<p>then you can invoke the page through spring-mvc controller url-pattern.</p>\n\n<p>add this to tiles.xml</p>\n\n<pre><code>&lt;definition name=\"/dosomething\" extends=\"templatename\"&gt;\n    &lt;put-attribute name=\"title\" value=\"dosomething\" /&gt;\n    &lt;put-attribute name=\"body\" value=\"/WEB-INF/pages/login/dosomething.jsp\" /&gt;\n&lt;/definition&gt;\n</code></pre>\n\n<p>for partial body load create a page <code>dosomething.jsp</code></p>\n"},{"tags":[],"owner":{"account_id":12632314,"reputation":511,"user_id":9183199,"display_name":"ThivankaW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634160417,"creation_date":1539449395,"answer_id":52795172,"question_id":39770165,"body_markdown":"The Only way of Achieving Partial rendering in your case is using Jquery&#39;s Load method.\r\n\r\nin your sidebar.jsp in the anchor tags write an onclick=&quot;test()&quot;,\r\n\r\n    function test() {\r\n    \r\n    $(&quot;#Maincontent&quot;).load(&quot;${pageContext.request.contextPath}/yourcontrollerMapping&quot;);\r\n    \r\n    }\r\n\r\nyou can have a div(Maincontent) to specify the area you want to load your content in your layout.jsp (Since Apache Tiles will refresh all elements including the sidebar).\r\n\r\n\r\n\r\n ","title":"How to load partial page using apache tiles with spring mvc","body":"<p>The Only way of Achieving Partial rendering in your case is using Jquery's Load method.</p>\n<p>in your sidebar.jsp in the anchor tags write an onclick=&quot;test()&quot;,</p>\n<pre><code>function test() {\n\n$(&quot;#Maincontent&quot;).load(&quot;${pageContext.request.contextPath}/yourcontrollerMapping&quot;);\n\n}\n</code></pre>\n<p>you can have a div(Maincontent) to specify the area you want to load your content in your layout.jsp (Since Apache Tiles will refresh all elements including the sidebar).</p>\n"}],"owner":{"account_id":2627115,"reputation":1007,"user_id":2273909,"accept_rate":84,"display_name":"Arpan Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634160417,"creation_date":1475151598,"question_id":39770165,"body_markdown":"I am using apache tiles for spring mvc.\r\n\r\nThe layout looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/694yq.png\r\n\r\nThe tiles.xml file is :\r\n\r\n    &lt;!-- Default Layout --&gt;\r\n    &lt;definition name=&quot;default_layout&quot; template=&quot;/jsp/layout/default_layout.jsp&quot;&gt;\r\n    \t&lt;put-attribute name=&quot;header&quot; value=&quot;/jsp/header_footer/top_bar.jsp&quot; /&gt;\r\n    \t&lt;put-attribute name=&quot;menu&quot; value=&quot;/jsp/left_menu/menu.jsp&quot; /&gt;\r\n    \t&lt;put-attribute name=&quot;body1&quot; value=&quot;&quot; /&gt;\r\n    \t&lt;put-attribute name=&quot;right_pane&quot; value=&quot;/jsp/right_pane/right_pane.jsp&quot; /&gt;\r\n    \t&lt;put-attribute name=&quot;footer&quot; value=&quot;/jsp/header_footer/footer.jsp&quot; /&gt;\r\n    &lt;/definition&gt;\r\n    \r\n    &lt;definition name=&quot;home&quot; extends=&quot;default_layout&quot;&gt;\r\n    \t&lt;put-attribute name=&quot;body1&quot; value=&quot;/jsp/home/home.jsp&quot; /&gt;\r\n    &lt;/definition&gt;\r\n\r\nNow it is working fine, except for the scenario, when I clicked on menu then the whole page get reloaded. And I lost the section of menu where I clicked.\r\n\r\n**The menu is implemented as**\r\n\r\n    &lt;ul&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     ........\r\n     ........\r\n     &lt;li&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n   \r\n\r\nSo, is there any way to load the tiles partially, or any work around that I can use to fix this? ","title":"How to load partial page using apache tiles with spring mvc","body":"<p>I am using apache tiles for spring mvc.</p>\n\n<p>The layout looks like:\n<a href=\"https://i.stack.imgur.com/694yq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/694yq.png\" alt=\"enter image description here\"></a></p>\n\n<p>The tiles.xml file is :</p>\n\n<pre><code>&lt;!-- Default Layout --&gt;\n&lt;definition name=\"default_layout\" template=\"/jsp/layout/default_layout.jsp\"&gt;\n    &lt;put-attribute name=\"header\" value=\"/jsp/header_footer/top_bar.jsp\" /&gt;\n    &lt;put-attribute name=\"menu\" value=\"/jsp/left_menu/menu.jsp\" /&gt;\n    &lt;put-attribute name=\"body1\" value=\"\" /&gt;\n    &lt;put-attribute name=\"right_pane\" value=\"/jsp/right_pane/right_pane.jsp\" /&gt;\n    &lt;put-attribute name=\"footer\" value=\"/jsp/header_footer/footer.jsp\" /&gt;\n&lt;/definition&gt;\n\n&lt;definition name=\"home\" extends=\"default_layout\"&gt;\n    &lt;put-attribute name=\"body1\" value=\"/jsp/home/home.jsp\" /&gt;\n&lt;/definition&gt;\n</code></pre>\n\n<p>Now it is working fine, except for the scenario, when I clicked on menu then the whole page get reloaded. And I lost the section of menu where I clicked.</p>\n\n<p><strong>The menu is implemented as</strong></p>\n\n<pre><code>&lt;ul&gt;\n &lt;li&gt;&lt;/li&gt;\n ........\n ........\n &lt;li&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>So, is there any way to load the tiles partially, or any work around that I can use to fix this? </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":146274,"reputation":3851,"user_id":356629,"accept_rate":100,"display_name":"kenny_k"},"score":4,"creation_date":1600670275,"post_id":63987134,"comment_id":113148869,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1600670950,"post_id":63987134,"comment_id":113149083,"body_markdown":"You did not ask yet why file.listFiles() returned null unexpectedly.","body":"You did not ask yet why file.listFiles() returned null unexpectedly."},{"owner":{"account_id":19434984,"reputation":383,"user_id":14214642,"display_name":"Rishabh"},"score":0,"creation_date":1600671134,"post_id":63987134,"comment_id":113149144,"body_markdown":"@blackapps Please tell me why file.listFiles() returned null unexpectedly","body":"@blackapps Please tell me why file.listFiles() returned null unexpectedly"},{"owner":{"account_id":19434984,"reputation":383,"user_id":14214642,"display_name":"Rishabh"},"score":0,"creation_date":1600671164,"post_id":63987134,"comment_id":113149154,"body_markdown":"@kenny_k I tried but couldn&#39;t solve the error","body":"@kenny_k I tried but couldn&#39;t solve the error"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1600671259,"post_id":63987134,"comment_id":113149185,"body_markdown":"I think your device is running Android 10?","body":"I think your device is running Android 10?"},{"owner":{"account_id":19434984,"reputation":383,"user_id":14214642,"display_name":"Rishabh"},"score":0,"creation_date":1600671358,"post_id":63987134,"comment_id":113149223,"body_markdown":"@blackapps Yes it is android 10","body":"@blackapps Yes it is android 10"}],"answers":[{"tags":[],"owner":{"account_id":12895797,"reputation":1257,"user_id":9326166,"display_name":"Abdur Rehman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600669961,"creation_date":1600669961,"answer_id":63987232,"question_id":63987134,"body_markdown":"update this method!\r\n\r\n    private void displayAudioSongsName() {\r\n        final ArrayList&lt;File&gt; audioSongs = readOnlyAudioSongs(Environment.getExternalStorageDirectory());\r\n        if (audioSongs != null) {\r\n            itemsAll = new String[audioSongs.size()];\r\n\r\n            for (int songCounter = 0; songCounter &lt; audioSongs.size(); songCounter++) {\r\n                itemsAll[songCounter] = audioSongs.get(songCounter).getName();\r\n            }\r\n\r\n            ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_1, itemsAll);\r\n            mSongsList.setAdapter(arrayAdapter);\r\n        } else Toast.makeText(this, &quot;audio songs list is null!&quot;, Toast.LENGTH_SHORT).show();\r\n    }","title":"My android studio app is running successfully on emulator but not on my real android smartphone","body":"<p>update this method!</p>\n<pre><code>private void displayAudioSongsName() {\n    final ArrayList&lt;File&gt; audioSongs = readOnlyAudioSongs(Environment.getExternalStorageDirectory());\n    if (audioSongs != null) {\n        itemsAll = new String[audioSongs.size()];\n\n        for (int songCounter = 0; songCounter &lt; audioSongs.size(); songCounter++) {\n            itemsAll[songCounter] = audioSongs.get(songCounter).getName();\n        }\n\n        ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_1, itemsAll);\n        mSongsList.setAdapter(arrayAdapter);\n    } else Toast.makeText(this, &quot;audio songs list is null!&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11570311,"reputation":36,"user_id":8477285,"display_name":"somsaktk33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600670273,"creation_date":1600670273,"answer_id":63987281,"question_id":63987134,"body_markdown":"File[] allFiles seem to have null, try to check null !!!\r\n\r\n&gt; File[] allFiles = file.listFiles();\r\n\r\n  for (File individualFile : allFiles)","title":"My android studio app is running successfully on emulator but not on my real android smartphone","body":"<p>File[] allFiles seem to have null, try to check null !!!</p>\n<blockquote>\n<p>File[] allFiles = file.listFiles();</p>\n</blockquote>\n<p>for (File individualFile : allFiles)</p>\n"}],"owner":{"account_id":19434984,"reputation":383,"user_id":14214642,"display_name":"Rishabh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1634222512,"answer_count":2,"score":-1,"last_activity_date":1634160018,"creation_date":1600669387,"question_id":63987134,"body_markdown":"Logcat error is\r\n\r\n    2020-09-21 11:48:30.710 4698-4698/rishabh.example.aimusicplayer E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: rishabh.example.aimusicplayer, PID: 4698\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{rishabh.example.aimusicplayer/rishabh.example.aimusicplayer.MainActivity}: java.lang.NullPointerException: Attempt to get length of null array\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3307)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)\r\n            at android.os.Handler.dispatchMessage(Handler.java:107)\r\n            at android.os.Looper.loop(Looper.java:224)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7550)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\r\n         Caused by: java.lang.NullPointerException: Attempt to get length of null array\r\n            at rishabh.example.aimusicplayer.MainActivity.readOnlyAudioSongs(MainActivity.java:66)\r\n            at rishabh.example.aimusicplayer.MainActivity.displayAudioSongsName(MainActivity.java:86)\r\n            at rishabh.example.aimusicplayer.MainActivity.access$000(MainActivity.java:21)\r\n            at rishabh.example.aimusicplayer.MainActivity$1.onPermissionGranted(MainActivity.java:43)\r\n            at com.karumi.dexter.MultiplePermissionsListenerToPermissionListenerAdapter.onPermissionsChecked(Unknown Source:35)\r\n            at com.karumi.dexter.DexterInstance$1.run(Unknown Source:43)\r\n            at com.karumi.dexter.MainThread.execute(Unknown Source:6)\r\n            at com.karumi.dexter.DexterInstance.checkMultiplePermissions(Unknown Source:71)\r\n            at com.karumi.dexter.DexterInstance.checkPermissions(Unknown Source:0)\r\n            at com.karumi.dexter.Dexter.check(Unknown Source:10)\r\n            at rishabh.example.aimusicplayer.MainActivity.appExternalStoragePermission(MainActivity.java:57)\r\n            at rishabh.example.aimusicplayer.MainActivity.onCreate(MainActivity.java:33)\r\n            at android.app.Activity.performCreate(Activity.java:7893)\r\n            at android.app.Activity.performCreate(Activity.java:7880)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3282)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446)&#160;\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n            at android.os.Looper.loop(Looper.java:224)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7550)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)&#160;\r\n    2020-09-21 11:48:30.723 4698-4698/rishabh.example.aimusicplayer I/Process: Sending signal. PID: 4698 SIG: 9\r\n\r\nMy Main activity code is\r\n\r\n    package rishabh.example.aimusicplayer;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.Manifest;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    \r\n    import com.karumi.dexter.Dexter;\r\n    import com.karumi.dexter.PermissionToken;\r\n    import com.karumi.dexter.listener.PermissionDeniedResponse;\r\n    import com.karumi.dexter.listener.PermissionGrantedResponse;\r\n    import com.karumi.dexter.listener.PermissionRequest;\r\n    import com.karumi.dexter.listener.single.PermissionListener;\r\n    \r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity\r\n    {\r\n        private String[] itemsAll;\r\n        private ListView mSongsList;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mSongsList = findViewById(R.id.songsList);\r\n    \r\n            appExternalStoragePermission();\r\n        }\r\n    \r\n        public void appExternalStoragePermission() {\r\n            Dexter.withContext(this)\r\n                    .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                    .withListener(new PermissionListener() {\r\n                        @Override\r\n                        public void onPermissionGranted(PermissionGrantedResponse response)\r\n                        {\r\n                            displayAudioSongsName();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionDenied(PermissionDeniedResponse response)\r\n                        {\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionRationaleShouldBeShown(PermissionRequest permission, PermissionToken token)\r\n                        {\r\n                            token.continuePermissionRequest();\r\n                        }\r\n                    }).check();\r\n        }\r\n    \r\n        public ArrayList&lt;File&gt; readOnlyAudioSongs(File file)\r\n        {\r\n            ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\r\n    \r\n            File[] allFiles = file.listFiles();\r\n    \r\n            for (File individualFile : allFiles)\r\n            {\r\n                if (individualFile.isDirectory() &amp;&amp; !individualFile.isHidden())\r\n                {\r\n                    arrayList.addAll(readOnlyAudioSongs(individualFile));\r\n                }\r\n                else\r\n                {\r\n                    if (individualFile.getName().endsWith(&quot;.mp3&quot;) || individualFile.getName().endsWith(&quot;.aac&quot;) || individualFile.getName().endsWith(&quot;.wav&quot;) || individualFile.getName().endsWith(&quot;.wma&quot;))\r\n                    {\r\n                        arrayList.add(individualFile);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return arrayList;\r\n        }\r\n    \r\n        private void displayAudioSongsName()\r\n        {\r\n            final ArrayList&lt;File&gt; audioSongs = readOnlyAudioSongs(Environment.getExternalStorageDirectory());\r\n            itemsAll = new String[audioSongs.size()];\r\n    \r\n            for (int songCounter=0; songCounter&lt;audioSongs.size(); songCounter++)\r\n            {\r\n                itemsAll[songCounter] = audioSongs.get(songCounter).getName();\r\n            }\r\n    \r\n            ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_1, itemsAll);\r\n            mSongsList.setAdapter(arrayAdapter);\r\n        }\r\n    }\r\n\r\nMy Build Gradle is\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;30.0.2&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;rishabh.example.aimusicplayer&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.1&#39;\r\n        implementation &#39;com.karumi:dexter:6.2.1&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    \r\n    }\r\n\r\nMy manifest code is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;rishabh.example.aimusicplayer&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.SmartPlayerActivity&quot;&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n","title":"My android studio app is running successfully on emulator but not on my real android smartphone","body":"<p>Logcat error is</p>\n<pre><code>2020-09-21 11:48:30.710 4698-4698/rishabh.example.aimusicplayer E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: rishabh.example.aimusicplayer, PID: 4698\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{rishabh.example.aimusicplayer/rishabh.example.aimusicplayer.MainActivity}: java.lang.NullPointerException: Attempt to get length of null array\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3307)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:224)\n        at android.app.ActivityThread.main(ActivityThread.java:7550)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\n     Caused by: java.lang.NullPointerException: Attempt to get length of null array\n        at rishabh.example.aimusicplayer.MainActivity.readOnlyAudioSongs(MainActivity.java:66)\n        at rishabh.example.aimusicplayer.MainActivity.displayAudioSongsName(MainActivity.java:86)\n        at rishabh.example.aimusicplayer.MainActivity.access$000(MainActivity.java:21)\n        at rishabh.example.aimusicplayer.MainActivity$1.onPermissionGranted(MainActivity.java:43)\n        at com.karumi.dexter.MultiplePermissionsListenerToPermissionListenerAdapter.onPermissionsChecked(Unknown Source:35)\n        at com.karumi.dexter.DexterInstance$1.run(Unknown Source:43)\n        at com.karumi.dexter.MainThread.execute(Unknown Source:6)\n        at com.karumi.dexter.DexterInstance.checkMultiplePermissions(Unknown Source:71)\n        at com.karumi.dexter.DexterInstance.checkPermissions(Unknown Source:0)\n        at com.karumi.dexter.Dexter.check(Unknown Source:10)\n        at rishabh.example.aimusicplayer.MainActivity.appExternalStoragePermission(MainActivity.java:57)\n        at rishabh.example.aimusicplayer.MainActivity.onCreate(MainActivity.java:33)\n        at android.app.Activity.performCreate(Activity.java:7893)\n        at android.app.Activity.performCreate(Activity.java:7880)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3282)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:224)\n        at android.app.ActivityThread.main(ActivityThread.java:7550)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\n2020-09-21 11:48:30.723 4698-4698/rishabh.example.aimusicplayer I/Process: Sending signal. PID: 4698 SIG: 9\n</code></pre>\n<p>My Main activity code is</p>\n<pre><code>package rishabh.example.aimusicplayer;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport com.karumi.dexter.Dexter;\nimport com.karumi.dexter.PermissionToken;\nimport com.karumi.dexter.listener.PermissionDeniedResponse;\nimport com.karumi.dexter.listener.PermissionGrantedResponse;\nimport com.karumi.dexter.listener.PermissionRequest;\nimport com.karumi.dexter.listener.single.PermissionListener;\n\nimport java.io.File;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity\n{\n    private String[] itemsAll;\n    private ListView mSongsList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mSongsList = findViewById(R.id.songsList);\n\n        appExternalStoragePermission();\n    }\n\n    public void appExternalStoragePermission() {\n        Dexter.withContext(this)\n                .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                .withListener(new PermissionListener() {\n                    @Override\n                    public void onPermissionGranted(PermissionGrantedResponse response)\n                    {\n                        displayAudioSongsName();\n                    }\n\n                    @Override\n                    public void onPermissionDenied(PermissionDeniedResponse response)\n                    {\n\n                    }\n\n                    @Override\n                    public void onPermissionRationaleShouldBeShown(PermissionRequest permission, PermissionToken token)\n                    {\n                        token.continuePermissionRequest();\n                    }\n                }).check();\n    }\n\n    public ArrayList&lt;File&gt; readOnlyAudioSongs(File file)\n    {\n        ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\n\n        File[] allFiles = file.listFiles();\n\n        for (File individualFile : allFiles)\n        {\n            if (individualFile.isDirectory() &amp;&amp; !individualFile.isHidden())\n            {\n                arrayList.addAll(readOnlyAudioSongs(individualFile));\n            }\n            else\n            {\n                if (individualFile.getName().endsWith(&quot;.mp3&quot;) || individualFile.getName().endsWith(&quot;.aac&quot;) || individualFile.getName().endsWith(&quot;.wav&quot;) || individualFile.getName().endsWith(&quot;.wma&quot;))\n                {\n                    arrayList.add(individualFile);\n                }\n            }\n        }\n\n        return arrayList;\n    }\n\n    private void displayAudioSongsName()\n    {\n        final ArrayList&lt;File&gt; audioSongs = readOnlyAudioSongs(Environment.getExternalStorageDirectory());\n        itemsAll = new String[audioSongs.size()];\n\n        for (int songCounter=0; songCounter&lt;audioSongs.size(); songCounter++)\n        {\n            itemsAll[songCounter] = audioSongs.get(songCounter).getName();\n        }\n\n        ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_1, itemsAll);\n        mSongsList.setAdapter(arrayAdapter);\n    }\n}\n</code></pre>\n<p>My Build Gradle is</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.2&quot;\n\n    defaultConfig {\n        applicationId &quot;rishabh.example.aimusicplayer&quot;\n        minSdkVersion 19\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.1'\n    implementation 'com.karumi:dexter:6.2.1'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n\n}\n</code></pre>\n<p>My manifest code is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;rishabh.example.aimusicplayer&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.SmartPlayerActivity&quot;&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634159612,"creation_date":1634158923,"answer_id":69562286,"question_id":69560313,"body_markdown":"You don&#39;t need to create a `ConverterFactory converterFactory = mock(ConverterFactory.class)` a second time in your test method, since you have already created such mock as a class field.\r\n\r\nBesides, you did not inject the mock created in the test method into the class under test, whereas the mock, created as a field, was injected using `@InjectMocks` annotation.\r\n\r\nSo just remove `ConverterFactory converterFactory = mock(ConverterFactory.class)` from test method:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ConverterServiceImplTest {\r\n    \r\n    \r\n        @InjectMocks\r\n        ConverterServiceImpl converterService;\r\n    \r\n        @Mock\r\n        ConverterFactory converterFactory;\r\n    \r\n        // other stuff\r\n    \r\n    \r\n        @Test\r\n        public void toDeepLink_only_content_id() {\r\n            when(converterFactory.getConverter(any())).thenReturn(productConverter);\r\n    \r\n            // other stuff\r\n    \r\n            converterService.toDeepLink(webLinkRequest);\r\n        }\r\n    }\r\n\r\n  \r\n\r\n","title":"How to mock factory method in service test with mockito","body":"<p>You don't need to create a <code>ConverterFactory converterFactory = mock(ConverterFactory.class)</code> a second time in your test method, since you have already created such mock as a class field.</p>\n<p>Besides, you did not inject the mock created in the test method into the class under test, whereas the mock, created as a field, was injected using <code>@InjectMocks</code> annotation.</p>\n<p>So just remove <code>ConverterFactory converterFactory = mock(ConverterFactory.class)</code> from test method:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ConverterServiceImplTest {\n\n\n    @InjectMocks\n    ConverterServiceImpl converterService;\n\n    @Mock\n    ConverterFactory converterFactory;\n\n    // other stuff\n\n\n    @Test\n    public void toDeepLink_only_content_id() {\n        when(converterFactory.getConverter(any())).thenReturn(productConverter);\n\n        // other stuff\n\n        converterService.toDeepLink(webLinkRequest);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69562286,"answer_count":1,"score":0,"last_activity_date":1634159612,"creation_date":1634148347,"question_id":69560313,"body_markdown":"Hi I am trying to test service layer. I have already wrote tests for `ConverterFactory`. I think I need the mock dependency classes which `ConverterServiceImpl` using but Still I got `NullPointerException`\r\n\r\nThis is my service class\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ConverterServiceImpl implements ConverterService {\r\n    \r\n        ConverterFactory factory = new ConverterFactory();\r\n        private final WebLinkRepository webLinkRepository;\r\n        private final DeepLinkRepository deepLinkRepository;\r\n    \r\n        @Override\r\n        public DeepLinkResponse toDeepLink(WebLinkRequest webLinkRequest) {\r\n    \r\n            WebLink webLink;\r\n            String url = webLinkRequest.getUrl();\r\n            Converter converter = factory.getConverter(url);\r\n    \r\n    \r\n            webLink = new WebLink();\r\n            webLink.setUrl(url);\r\n            String convertedUrl = converter.toDeepLink(url);\r\n            webLink.setConvertedUrl(convertedUrl);\r\n            webLinkRepository.save(webLink);\r\n    \r\n            return new DeepLinkResponse(convertedUrl);\r\n        }\r\n    }\r\n\r\n\r\nAnd this is the test\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ConverterServiceImplTest {\r\n    \r\n    \r\n        @InjectMocks\r\n        ConverterServiceImpl converterService;\r\n    \r\n        @Mock\r\n        WebLinkRepository webLinkRepository;\r\n    \r\n        @Mock\r\n        DeepLinkRepository deepLinkRepository;\r\n    \r\n        @Mock\r\n        ConverterFactory converterFactory;\r\n    \r\n        @Mock\r\n        ProductConverter productConverter;\r\n    \r\n        @Mock\r\n        WebLinkRequest webLinkRequest;\r\n    \r\n        @BeforeAll\r\n        void init(){\r\n            webLinkRequest.setUrl(WEBLINK_ONLY_PRODUCT);\r\n        }\r\n    \r\n        @Test\r\n        public void toDeepLink_only_content_id() {\r\n            ConverterFactory converterFactory = mock(ConverterFactory.class);\r\n            when(converterFactory.getConverter(any())).thenReturn(productConverter);\r\n    \r\n            DeepLinkResponse deepLinkResponse = converterService.toDeepLink(webLinkRequest);\r\n            assertEquals(deepLinkResponse.getUrl(),&quot;ty://?Page=Product&amp;ContentId=1925865&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThis code throws error says. What am i doing wrong here?:\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.example.converter.service.factory.ConverterFactory.getConverter(ConverterFactory.java:13)","title":"How to mock factory method in service test with mockito","body":"<p>Hi I am trying to test service layer. I have already wrote tests for <code>ConverterFactory</code>. I think I need the mock dependency classes which <code>ConverterServiceImpl</code> using but Still I got <code>NullPointerException</code></p>\n<p>This is my service class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ConverterServiceImpl implements ConverterService {\n\n    ConverterFactory factory = new ConverterFactory();\n    private final WebLinkRepository webLinkRepository;\n    private final DeepLinkRepository deepLinkRepository;\n\n    @Override\n    public DeepLinkResponse toDeepLink(WebLinkRequest webLinkRequest) {\n\n        WebLink webLink;\n        String url = webLinkRequest.getUrl();\n        Converter converter = factory.getConverter(url);\n\n\n        webLink = new WebLink();\n        webLink.setUrl(url);\n        String convertedUrl = converter.toDeepLink(url);\n        webLink.setConvertedUrl(convertedUrl);\n        webLinkRepository.save(webLink);\n\n        return new DeepLinkResponse(convertedUrl);\n    }\n}\n</code></pre>\n<p>And this is the test</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ConverterServiceImplTest {\n\n\n    @InjectMocks\n    ConverterServiceImpl converterService;\n\n    @Mock\n    WebLinkRepository webLinkRepository;\n\n    @Mock\n    DeepLinkRepository deepLinkRepository;\n\n    @Mock\n    ConverterFactory converterFactory;\n\n    @Mock\n    ProductConverter productConverter;\n\n    @Mock\n    WebLinkRequest webLinkRequest;\n\n    @BeforeAll\n    void init(){\n        webLinkRequest.setUrl(WEBLINK_ONLY_PRODUCT);\n    }\n\n    @Test\n    public void toDeepLink_only_content_id() {\n        ConverterFactory converterFactory = mock(ConverterFactory.class);\n        when(converterFactory.getConverter(any())).thenReturn(productConverter);\n\n        DeepLinkResponse deepLinkResponse = converterService.toDeepLink(webLinkRequest);\n        assertEquals(deepLinkResponse.getUrl(),&quot;ty://?Page=Product&amp;ContentId=1925865&quot;);\n\n    }\n}\n</code></pre>\n<p>This code throws error says. What am i doing wrong here?:</p>\n<pre><code>java.lang.NullPointerException\n    at com.example.converter.service.factory.ConverterFactory.getConverter(ConverterFactory.java:13)\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":21791742,"reputation":212,"user_id":16091860,"display_name":"croakPedlar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634159519,"creation_date":1634159519,"answer_id":69562386,"question_id":69231772,"body_markdown":"Firstly, for better questions in the future please express what kind of error or in what way it&#39;s &quot;not working&quot;.\r\n\r\nI also don&#39;t have the code for what `CommonUseUtil` is so I&#39;m not sure what type `.getDemandId2()` is returning. It looks like you need a `String` so make sure it&#39;s doing that! You can make it easy by setting it to a `String` var.\r\n\r\nLastly, it looks like `newurls` is an ArrayList. So if you `.add` to it then `newurls.get(0)` will be the first url, the one that works. And `newurls.get(1)` will be the second url. So if you&#39;re trying to call that new second url you should be calling `newurls.get(1)`.\r\n\r\nI know this is a late answer to your question but I hope it helps. ","title":"I have got two ids where after appending the first id to the url and clicking on accept button i need to append the 2nd id to the Url and not able to","body":"<p>Firstly, for better questions in the future please express what kind of error or in what way it's &quot;not working&quot;.</p>\n<p>I also don't have the code for what <code>CommonUseUtil</code> is so I'm not sure what type <code>.getDemandId2()</code> is returning. It looks like you need a <code>String</code> so make sure it's doing that! You can make it easy by setting it to a <code>String</code> var.</p>\n<p>Lastly, it looks like <code>newurls</code> is an ArrayList. So if you <code>.add</code> to it then <code>newurls.get(0)</code> will be the first url, the one that works. And <code>newurls.get(1)</code> will be the second url. So if you're trying to call that new second url you should be calling <code>newurls.get(1)</code>.</p>\n<p>I know this is a late answer to your question but I hope it helps.</p>\n"}],"owner":{"account_id":22507534,"reputation":49,"user_id":16702908,"display_name":"jay m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634159519,"creation_date":1631941847,"question_id":69231772,"body_markdown":"I have got two ids where after appending the first id to the url and clicking on accept button i need to append the 2nd id to the Url and not able to Append the 2nd id to the URL.\r\n\r\nBelow is the My Code: Any Leads:\r\n\r\nString confirmationURL = &quot;https://test-website/#/email?type=proposal&quot;;\r\n\t\t\t\tList&lt;String&gt; newurls = new ArrayList&lt;String&gt;();\r\n\r\n\t\t\t\t\r\n\t\t\t\t//get the link and append the lastdemandid\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\tnewurls.add(confirmationURL + &quot;&amp;id=&quot; + getDemandId1()); **This is the firstid and works fine**\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdriver.get(newurls.get(0));\r\n\r\n\t\t\t\t\r\n\t\t\t\tString AcceptbtElem = buttonXpath_replace.replace(&quot;XXXX&quot;,&quot;Accept&quot;);\r\n\t\t\t\tclickOnButton(driver, AcceptbtElem);\r\n\t\t\t\t\r\n\t\t\t\tinputEntry(driver, ManualOverrideRemarksinputXpath_Replace.replace(&quot;XXXX&quot;, &quot;Comments&quot;), formEntryMap.get(&quot;Comments&quot;));\r\n\t\t\t\t\r\n\t\t\t\tString SubmitbtnElem = buttonXpath_replace.replace(&quot;XXXX&quot;, &quot;Submit&quot;);\r\n\t\t\t\tclickOnButton(driver, SubmitbtnElem);\r\n\t\t\t\t\r\n               System.out.println(&quot;Get the DemadId2:&quot;+ CommonUseUtil.getDemandId2());\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tnewurls.add(confirmationURL + &quot;&amp;id=&quot; + CommonUseUtil.getDemandId2()); = This is the place where the issue is - It appends only the first Id to the URL and is not appending the second Id ....Second id value appears as i Printed to check that....\r\n\r\n\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdriver.get(newurls.get(0));\r\n\r\nAny inputs on this\r\n\t\t\t\t","title":"I have got two ids where after appending the first id to the url and clicking on accept button i need to append the 2nd id to the Url and not able to","body":"<p>I have got two ids where after appending the first id to the url and clicking on accept button i need to append the 2nd id to the Url and not able to Append the 2nd id to the URL.</p>\n<p>Below is the My Code: Any Leads:</p>\n<p>String confirmationURL = &quot;https://test-website/#/email?type=proposal&quot;;\nList newurls = new ArrayList();</p>\n<pre><code>            //get the link and append the lastdemandid\n    \n            \n            newurls.add(confirmationURL + &quot;&amp;id=&quot; + getDemandId1()); **This is the firstid and works fine**\n            \n            \n            driver.get(newurls.get(0));\n\n            \n            String AcceptbtElem = buttonXpath_replace.replace(&quot;XXXX&quot;,&quot;Accept&quot;);\n            clickOnButton(driver, AcceptbtElem);\n            \n            inputEntry(driver, ManualOverrideRemarksinputXpath_Replace.replace(&quot;XXXX&quot;, &quot;Comments&quot;), formEntryMap.get(&quot;Comments&quot;));\n            \n            String SubmitbtnElem = buttonXpath_replace.replace(&quot;XXXX&quot;, &quot;Submit&quot;);\n            clickOnButton(driver, SubmitbtnElem);\n            \n           System.out.println(&quot;Get the DemadId2:&quot;+ CommonUseUtil.getDemandId2());\n            \n            \n            newurls.add(confirmationURL + &quot;&amp;id=&quot; + CommonUseUtil.getDemandId2()); = This is the place where the issue is - It appends only the first Id to the URL and is not appending the second Id ....Second id value appears as i Printed to check that....\n\n\n            \n            \n            driver.get(newurls.get(0));\n</code></pre>\n<p>Any inputs on this</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":3,"creation_date":1630051978,"post_id":68949887,"comment_id":121855124,"body_markdown":"Well, you do realize you can pass different styles to `DateTimeFormatter.ofLocalizedDateTime()`, and that you can also create one with a custom pattern with [`ofPattern`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofPattern(java.lang.String,java.util.Locale))?","body":"Well, you do realize you can pass different styles to <code>DateTimeFormatter.ofLocalizedDateTime()</code>, and that you can also create one with a custom pattern with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofPattern(java.lang.String,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>ofPattern</code></a>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1630138403,"post_id":68949887,"comment_id":121877965,"body_markdown":"Comparing the answers, if we want it the same as what `Date.toString()` produces (without having understood why you think you want that), (1) no comma after `EEE` (2) two `dd` for two-digit day of month (3) one pattern letter `y` for year of era in just as many digits as the year takes.","body":"Comparing the answers, if we want it the same as what <code>Date.toString()</code> produces (without having understood why you think you want that), (1) no comma after <code>EEE</code> (2) two <code>dd</code> for two-digit day of month (3) one pattern letter <code>y</code> for year of era in just as many digits as the year takes."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634159386,"creation_date":1630051979,"answer_id":68950095,"question_id":68949887,"body_markdown":"You need to define a pattern for this specific output:\r\n\r\n```Java\r\npublic static void main(String[] args) throws Exception {\r\n    // take the current moment in time in the desired zone\r\n\tZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n    // then print a formatted String\r\n\tSystem.out.println(now.format(\r\n\t\t\tDateTimeFormatter.ofPattern(&quot;EEE, MMM dd HH:mm:ss z uuuu&quot;,\r\n\t\t\t\t\t\t\t\t\t\tLocale.ENGLISH)\r\n\t\t)\r\n\t);\r\n}\r\n```\r\n\r\nDefining the zone explicitly is probably not necessary on your system since it has the desired zone (mine one is different, so I had to do it).\r\n\r\nHowever, the output of this was (some moments ago):\r\n\r\n```lang-none\r\nFri, Aug 27 13:38:22 IST 2021\r\n```","title":"Java DateTime output formatter equivalent to Calender.getInstance method","body":"<p>You need to define a pattern for this specific output:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    // take the current moment in time in the desired zone\n    ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;));\n    // then print a formatted String\n    System.out.println(now.format(\n            DateTimeFormatter.ofPattern(&quot;EEE, MMM dd HH:mm:ss z uuuu&quot;,\n                                        Locale.ENGLISH)\n        )\n    );\n}\n</code></pre>\n<p>Defining the zone explicitly is probably not necessary on your system since it has the desired zone (mine one is different, so I had to do it).</p>\n<p>However, the output of this was (some moments ago):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Fri, Aug 27 13:38:22 IST 2021\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18159399,"reputation":628,"user_id":13210997,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630052086,"creation_date":1630052086,"answer_id":68950117,"question_id":68949887,"body_markdown":"This formatter should do the work\r\n\r\n    DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;E MMM d HH:mm:ss z y&quot;);\r\n\r\nJust use this formatter instead the one you made.\r\n[Here][1] you can find a comprehensible list of what you can do with Java time and date formats.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Java DateTime output formatter equivalent to Calender.getInstance method","body":"<p>This formatter should do the work</p>\n<pre><code>DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;E MMM d HH:mm:ss z y&quot;);\n</code></pre>\n<p>Just use this formatter instead the one you made.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">Here</a> you can find a comprehensible list of what you can do with Java time and date formats.</p>\n"},{"tags":[],"owner":{"account_id":7556077,"reputation":402,"user_id":5735629,"display_name":"ZIHAO LIU"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630052295,"creation_date":1630052295,"answer_id":68950161,"question_id":68949887,"body_markdown":"```\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, Locale.US);\r\n\r\nSystem.out.println(&quot;LocalDateTime :: &quot; + ldt.atZone(ZoneId.systemDefault()).format(dtf));\r\nSystem.out.println(&quot;ZonedDateTime :: &quot; + dtf.format(zdt));\r\n```","title":"Java DateTime output formatter equivalent to Calender.getInstance method","body":"<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, Locale.US);\n\nSystem.out.println(&quot;LocalDateTime :: &quot; + ldt.atZone(ZoneId.systemDefault()).format(dtf));\nSystem.out.println(&quot;ZonedDateTime :: &quot; + dtf.format(zdt));\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68950095,"answer_count":3,"score":0,"last_activity_date":1634159386,"creation_date":1630051066,"question_id":68949887,"body_markdown":"I am trying to replace old java Date with new DateTime. I am running the below code to check various formats:\r\n\r\n    public class MyMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tDate date     = new Date();\r\n    \t    Date calender = Calendar.getInstance().getTime();\r\n    \t    LocalDate ld  = LocalDate.now();\r\n    \t    LocalTime lt  = LocalTime.now();\r\n    \t    LocalDateTime ldt = LocalDateTime.now();\r\n    \t    ZonedDateTime zdt = ZonedDateTime.now();\r\n    \r\n    \t    DateTimeFormatter dtf = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.FULL);\r\n    \t    \r\n    \t    System.out.println(&quot;Date          :: &quot; +date);\r\n    \t    System.out.println(&quot;Calender      :: &quot; +calender);\r\n    \t    System.out.println(&quot;LocalDate     :: &quot; +ld);\r\n    \t    System.out.println(&quot;LocalTime     :: &quot; +lt);\r\n    \t    System.out.println(&quot;LocalDateTime :: &quot; +ldt);\t    \r\n    \t    System.out.println(&quot;ZonedDateTime :: &quot; +dtf.format(zdt));\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThis is the output I got :\r\n\r\n    Date          :: Fri Aug 27 13:21:29 IST 2021\r\n    Calender      :: Fri Aug 27 13:21:29 IST 2021\r\n    LocalDate     :: 2021-08-27\r\n    LocalTime     :: 13:21:29.449\r\n    LocalDateTime :: 2021-08-27T13:21:29.449\r\n    ZonedDateTime :: Friday, 27 August, 2021 1:21:29 PM IST\r\n\r\nI want to format the output for `LocalDateTime/ZonedDateTime` in such a way that it is equivalent to the `Calender` output. But I am unable to achieve that. Can someone help.\r\n\r\nThis is what I wish to get the output as : `Fri Aug 27 13:21:29 IST 2021`","title":"Java DateTime output formatter equivalent to Calender.getInstance method","body":"<p>I am trying to replace old java Date with new DateTime. I am running the below code to check various formats:</p>\n<pre><code>public class MyMain {\n\n    public static void main(String[] args) {\n        Date date     = new Date();\n        Date calender = Calendar.getInstance().getTime();\n        LocalDate ld  = LocalDate.now();\n        LocalTime lt  = LocalTime.now();\n        LocalDateTime ldt = LocalDateTime.now();\n        ZonedDateTime zdt = ZonedDateTime.now();\n\n        DateTimeFormatter dtf = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.FULL);\n        \n        System.out.println(&quot;Date          :: &quot; +date);\n        System.out.println(&quot;Calender      :: &quot; +calender);\n        System.out.println(&quot;LocalDate     :: &quot; +ld);\n        System.out.println(&quot;LocalTime     :: &quot; +lt);\n        System.out.println(&quot;LocalDateTime :: &quot; +ldt);       \n        System.out.println(&quot;ZonedDateTime :: &quot; +dtf.format(zdt));\n        \n    }\n}\n</code></pre>\n<p>This is the output I got :</p>\n<pre><code>Date          :: Fri Aug 27 13:21:29 IST 2021\nCalender      :: Fri Aug 27 13:21:29 IST 2021\nLocalDate     :: 2021-08-27\nLocalTime     :: 13:21:29.449\nLocalDateTime :: 2021-08-27T13:21:29.449\nZonedDateTime :: Friday, 27 August, 2021 1:21:29 PM IST\n</code></pre>\n<p>I want to format the output for <code>LocalDateTime/ZonedDateTime</code> in such a way that it is equivalent to the <code>Calender</code> output. But I am unable to achieve that. Can someone help.</p>\n<p>This is what I wish to get the output as : <code>Fri Aug 27 13:21:29 IST 2021</code></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4959604,"reputation":8469,"user_id":3991211,"display_name":"Garr Godfrey"},"score":1,"creation_date":1634153751,"post_id":69561326,"comment_id":122952424,"body_markdown":"ok. should be fun. You could either convert to strings or do it mathematically.","body":"ok. should be fun. You could either convert to strings or do it mathematically."},{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":0,"creation_date":1634153888,"post_id":69561326,"comment_id":122952483,"body_markdown":"which language are you using?","body":"which language are you using?"},{"owner":{"account_id":23024927,"reputation":3,"user_id":17145337,"display_name":"Bilbro"},"score":0,"creation_date":1634153962,"post_id":69561326,"comment_id":122952497,"body_markdown":"I am using java","body":"I am using java"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1634155894,"post_id":69561326,"comment_id":122953097,"body_markdown":"`list.sort(Comparator.comparing(d -&gt; d % 1));`","body":"<code>list.sort(Comparator.comparing(d -&gt; d % 1));</code>"},{"owner":{"account_id":4905966,"reputation":1880,"user_id":3952702,"accept_rate":71,"display_name":"SME_Dev"},"score":0,"creation_date":1634156753,"post_id":69561326,"comment_id":122953411,"body_markdown":"The approach you are describing reminds me of [bucketsort](https://en.wikipedia.org/wiki/Bucket_sort).","body":"The approach you are describing reminds me of <a href=\"https://en.wikipedia.org/wiki/Bucket_sort\" rel=\"nofollow noreferrer\">bucketsort</a>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1634160726,"post_id":69561326,"comment_id":122954625,"body_markdown":"What about doubles that don&#39;t end exactly in multiples of `.25`?  What rounding  would you want to use?","body":"What about doubles that don&#39;t end exactly in multiples of <code>.25</code>?  What rounding  would you want to use?"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634158047,"creation_date":1634158047,"answer_id":69562125,"question_id":69561326,"body_markdown":"You use the term &#39;sort&#39; but I think you are really talking about grouping the values into collections based on their first 2 decimal values. If that&#39;s correct then you can use:\r\n\r\n    values.stream().collect(Collectors.groupingBy(v -&gt; (int)(v % 1 * 100));\r\n\r\nThis will generate a map from each fraction (expressed as a /100 int) to a list of values that have that fraction. If you particularly need arrays you can use `.toArray()`.","title":"How to sort numbers in an array into different arrays based off of their last two digits","body":"<p>You use the term 'sort' but I think you are really talking about grouping the values into collections based on their first 2 decimal values. If that's correct then you can use:</p>\n<pre><code>values.stream().collect(Collectors.groupingBy(v -&gt; (int)(v % 1 * 100));\n</code></pre>\n<p>This will generate a map from each fraction (expressed as a /100 int) to a list of values that have that fraction. If you particularly need arrays you can use <code>.toArray()</code>.</p>\n"},{"tags":[],"owner":{"account_id":17783121,"reputation":418,"user_id":12913865,"display_name":"imon Vyhnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634159228,"creation_date":1634159228,"answer_id":69562338,"question_id":69561326,"body_markdown":"My solution is a little grouping algorithm:\r\n\r\n    public static List&lt;List&lt;Float&gt;&gt; getSortedArrays(float[] array){\r\n        List&lt;List&lt;Float&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        HashMap&lt;Float, Integer&gt; createdArrays= new HashMap&lt;&gt;();\r\n        for (float f : array) {\r\n            float ending = f-((int)f);\r\n            if(createdArrays.containsKey(ending)){\r\n                result.get(createdArrays.get(ending)).add(f);\r\n            }else{\r\n                createdArrays.put(ending, result.size());\r\n                List&lt;Float&gt; newList = new ArrayList&lt;&gt;();\r\n                newList.add(f);\r\n                result.add(newList);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nI am basically looping through the float array and with this trick `float ending = f-((int)f);` I am separating just the numbers after the decimal. Than I am checking if there is already created array for that ending, if yes I add currently processed float, if not I create it and also add that float there. HashMap is there to keep track of already created Arrays. \r\n\r\nAgain use .toArray() if you need array...","title":"How to sort numbers in an array into different arrays based off of their last two digits","body":"<p>My solution is a little grouping algorithm:</p>\n<pre><code>public static List&lt;List&lt;Float&gt;&gt; getSortedArrays(float[] array){\n    List&lt;List&lt;Float&gt;&gt; result = new ArrayList&lt;&gt;();\n    HashMap&lt;Float, Integer&gt; createdArrays= new HashMap&lt;&gt;();\n    for (float f : array) {\n        float ending = f-((int)f);\n        if(createdArrays.containsKey(ending)){\n            result.get(createdArrays.get(ending)).add(f);\n        }else{\n            createdArrays.put(ending, result.size());\n            List&lt;Float&gt; newList = new ArrayList&lt;&gt;();\n            newList.add(f);\n            result.add(newList);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>I am basically looping through the float array and with this trick <code>float ending = f-((int)f);</code> I am separating just the numbers after the decimal. Than I am checking if there is already created array for that ending, if yes I add currently processed float, if not I create it and also add that float there. HashMap is there to keep track of already created Arrays.</p>\n<p>Again use .toArray() if you need array...</p>\n"}],"owner":{"account_id":23024927,"reputation":3,"user_id":17145337,"display_name":"Bilbro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69562338,"answer_count":2,"score":0,"last_activity_date":1634159228,"creation_date":1634153527,"question_id":69561326,"body_markdown":" Trying to write a program that takes a set of doubles and then sorts these values into different arrays based on their tenths and hundredths places after the decimal. So for an array [1.25, 2.25, 3.5, 10.5, 7.75, 4.75] sort the .25&#39;s .5&#39;s .75&#39;s into separate arrays so that calculations may be done.","title":"How to sort numbers in an array into different arrays based off of their last two digits","body":"<p>Trying to write a program that takes a set of doubles and then sorts these values into different arrays based on their tenths and hundredths places after the decimal. So for an array [1.25, 2.25, 3.5, 10.5, 7.75, 4.75] sort the .25's .5's .75's into separate arrays so that calculations may be done.</p>\n"},{"tags":["java","collections","java-stream","shuffle"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1634034738,"post_id":69538837,"comment_id":122912419,"body_markdown":"Is your code causing a compile error stating that `index` must be final or effectively final?","body":"Is your code causing a compile error stating that <code>index</code> must be final or effectively final?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1634036774,"post_id":69538837,"comment_id":122913267,"body_markdown":"Err. There is NO point in using a map that does map consecutive numbers to something. You see, you can use a LIST (or array), because that exactly does that: map a int to some object.","body":"Err. There is NO point in using a map that does map consecutive numbers to something. You see, you can use a LIST (or array), because that exactly does that: map a int to some object."}],"answers":[{"tags":[],"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634036327,"creation_date":1634036327,"answer_id":69539357,"question_id":69538837,"body_markdown":"The `index++` comes with compilation error, fix it with an incremental object.\r\n\r\n    AtomicInteger index = new AtomicInteger();\r\n    Object v = Stream.concat(_question.getIncorrectAnswers().stream(), Stream.of(_question.getCorrectAnswer())).collect(Collectors.collectingAndThen(Collectors.toList(), collected -&gt;\r\n    {\r\n        Collections.shuffle(collected);\r\n        return collected.stream();\r\n    })).collect(Collectors.toMap(i -&gt; index.incrementAndGet(), Object::toString));\r\n\r\n","title":"Join element into a list and map the list to hashmap","body":"<p>The <code>index++</code> comes with compilation error, fix it with an incremental object.</p>\n<pre><code>AtomicInteger index = new AtomicInteger();\nObject v = Stream.concat(_question.getIncorrectAnswers().stream(), Stream.of(_question.getCorrectAnswer())).collect(Collectors.collectingAndThen(Collectors.toList(), collected -&gt;\n{\n    Collections.shuffle(collected);\n    return collected.stream();\n})).collect(Collectors.toMap(i -&gt; index.incrementAndGet(), Object::toString));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634158494,"creation_date":1634037475,"answer_id":69539601,"question_id":69538837,"body_markdown":"Here is one approach using `java.util.Random`: \r\n\r\nAssuming you have these two methods returning a list and a string:\r\n\r\n    static List&lt;String&gt; getIncorrectAnswers(){\r\n        return List.of(&quot;bar&quot;, &quot;baz&quot;, &quot;doo&quot;);\r\n    }\r\n\r\n    static String getCorrectAnswer() {\r\n        return &quot;foo&quot;;\r\n    }\r\n\r\n\r\ngenerate random ints between 0 and `getIncorrectAnswers().size() + 1`, map each random int `i` to a string (if `i == getIncorrectAnswers().size()` then to correct answer else to incorrect answer at index `i`) finally collect to map using  \r\n\r\n    collect(Supplier&lt;R&gt; supplier, \r\n            BiConsumer&lt;R, ? super T&gt; accumulator, \r\n            BiConsumer&lt;R, R&gt; combiner)\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) {\r\n    \tRandom random = new Random();\r\n    \tMap&lt;Integer, String&gt; result = \r\n    \t\t\trandom.ints(0, getIncorrectAnswers().size() + 1)\r\n    \t\t\t.distinct()\r\n    \t\t\t.limit(getIncorrectAnswers().size() + 1)\r\n    \t\t\t.mapToObj(i -&gt; i == getIncorrectAnswers().size() ? getCorrectAnswer() : getIncorrectAnswers().get(i))\r\n    \t\t\t.collect(HashMap::new, (m, s) -&gt; m.put(m.size() + 1, s), (m1, m2) -&gt; {\r\n    \t\t\t\tint offset = m1.size();\r\n    \t\t\t\tm2.forEach((i, s) -&gt; m1.put(i + offset, s));\r\n    \t\t\t});\r\n    \r\n    \tresult.entrySet().forEach(System.out::println);\r\n    }","title":"Join element into a list and map the list to hashmap","body":"<p>Here is one approach using <code>java.util.Random</code>:</p>\n<p>Assuming you have these two methods returning a list and a string:</p>\n<pre><code>static List&lt;String&gt; getIncorrectAnswers(){\n    return List.of(&quot;bar&quot;, &quot;baz&quot;, &quot;doo&quot;);\n}\n\nstatic String getCorrectAnswer() {\n    return &quot;foo&quot;;\n}\n</code></pre>\n<p>generate random ints between 0 and <code>getIncorrectAnswers().size() + 1</code>, map each random int <code>i</code> to a string (if <code>i == getIncorrectAnswers().size()</code> then to correct answer else to incorrect answer at index <code>i</code>) finally collect to map using</p>\n<pre><code>collect(Supplier&lt;R&gt; supplier, \n        BiConsumer&lt;R, ? super T&gt; accumulator, \n        BiConsumer&lt;R, R&gt; combiner)\n</code></pre>\n<p>Example:</p>\n<pre><code>public static void main(String[] args) {\n    Random random = new Random();\n    Map&lt;Integer, String&gt; result = \n            random.ints(0, getIncorrectAnswers().size() + 1)\n            .distinct()\n            .limit(getIncorrectAnswers().size() + 1)\n            .mapToObj(i -&gt; i == getIncorrectAnswers().size() ? getCorrectAnswer() : getIncorrectAnswers().get(i))\n            .collect(HashMap::new, (m, s) -&gt; m.put(m.size() + 1, s), (m1, m2) -&gt; {\n                int offset = m1.size();\n                m2.forEach((i, s) -&gt; m1.put(i + offset, s));\n            });\n\n    result.entrySet().forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634043589,"creation_date":1634043589,"answer_id":69541014,"question_id":69538837,"body_markdown":"It may be possible to use `Stream::sorted` with a custom &quot;comparator&quot; to randomize the order instead of `Collections.shuffle`.\r\n\r\nAlso, when calculating the key, an `AtomicInteger k` or `int[] k` should be used to increment the key.\r\n\r\nIn the following code sample the entries of the concatenated string are randomly sorted:\r\n```java\r\npublic static Map&lt;Integer, String&gt; buildOptions(Question question) {\r\n    AtomicInteger k = new AtomicInteger(1);\r\n    return Stream.concat(Stream.of(question.getCorrectAnswer()),\r\n                         question.getIncorrectAnswers().stream())\r\n                 .sorted((s1, s2) -&gt; ThreadLocalRandom.current().nextInt(7) - 3)\r\n                 .collect(Collectors.toMap(x -&gt; k.getAndIncrement(), x -&gt; x));\r\n}\r\n```\r\n\r\nOr a sequence of indexes may be generated and sorted randomly (boxing is needed because `IntStream` does not have `sorted` with a custom comparator):\r\n```java\r\npublic static Map&lt;Integer, String&gt; buildOptionsIndex(Question question) {\r\n    int[] k = {1};\r\n    int n = question.getIncorrectAnswers().size();\r\n    return IntStream.rangeClosed(0, n)\r\n            .boxed()\r\n            .sorted((i1, i2) -&gt; ThreadLocalRandom.current().nextInt(2 * n + 1) - n)\r\n            .map(i -&gt; i == n ? question.getCorrectAnswer() : question.getIncorrectAnswers().get(i))\r\n            .collect(Collectors.toMap(s -&gt; k[0]++, Function.identity()));\r\n}\r\n```\r\nThese methods provide similar results:\r\n```\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    System.out.println(buildOptions(new Question(&quot;good&quot;,\r\n                                                  Arrays.asList(&quot;invalid&quot;, &quot;poor&quot;, &quot;misfit&quot;, &quot;imprecise&quot;))));\r\n    System.out.println(buildOptionsIndex(new Question(&quot;correct&quot;,\r\n                                                  Arrays.asList(&quot;bad&quot;, &quot;incorrect&quot;, &quot;wrong&quot;, &quot;inaccurate&quot;))));\r\n    System.out.println(&quot;----&quot;);\r\n}\r\n```\r\nOutput\r\n```\r\n{1=invalid, 2=misfit, 3=good, 4=poor, 5=imprecise}\r\n{1=inaccurate, 2=wrong, 3=incorrect, 4=bad, 5=correct}\r\n----\r\n{1=good, 2=misfit, 3=invalid, 4=poor, 5=imprecise}\r\n{1=bad, 2=incorrect, 3=wrong, 4=correct, 5=inaccurate}\r\n----\r\n{1=poor, 2=misfit, 3=invalid, 4=good, 5=imprecise}\r\n{1=bad, 2=incorrect, 3=correct, 4=wrong, 5=inaccurate}\r\n----\r\n```","title":"Join element into a list and map the list to hashmap","body":"<p>It may be possible to use <code>Stream::sorted</code> with a custom &quot;comparator&quot; to randomize the order instead of <code>Collections.shuffle</code>.</p>\n<p>Also, when calculating the key, an <code>AtomicInteger k</code> or <code>int[] k</code> should be used to increment the key.</p>\n<p>In the following code sample the entries of the concatenated string are randomly sorted:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;Integer, String&gt; buildOptions(Question question) {\n    AtomicInteger k = new AtomicInteger(1);\n    return Stream.concat(Stream.of(question.getCorrectAnswer()),\n                         question.getIncorrectAnswers().stream())\n                 .sorted((s1, s2) -&gt; ThreadLocalRandom.current().nextInt(7) - 3)\n                 .collect(Collectors.toMap(x -&gt; k.getAndIncrement(), x -&gt; x));\n}\n</code></pre>\n<p>Or a sequence of indexes may be generated and sorted randomly (boxing is needed because <code>IntStream</code> does not have <code>sorted</code> with a custom comparator):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;Integer, String&gt; buildOptionsIndex(Question question) {\n    int[] k = {1};\n    int n = question.getIncorrectAnswers().size();\n    return IntStream.rangeClosed(0, n)\n            .boxed()\n            .sorted((i1, i2) -&gt; ThreadLocalRandom.current().nextInt(2 * n + 1) - n)\n            .map(i -&gt; i == n ? question.getCorrectAnswer() : question.getIncorrectAnswers().get(i))\n            .collect(Collectors.toMap(s -&gt; k[0]++, Function.identity()));\n}\n</code></pre>\n<p>These methods provide similar results:</p>\n<pre><code>for (int i = 0; i &lt; 3; i++) {\n    System.out.println(buildOptions(new Question(&quot;good&quot;,\n                                                  Arrays.asList(&quot;invalid&quot;, &quot;poor&quot;, &quot;misfit&quot;, &quot;imprecise&quot;))));\n    System.out.println(buildOptionsIndex(new Question(&quot;correct&quot;,\n                                                  Arrays.asList(&quot;bad&quot;, &quot;incorrect&quot;, &quot;wrong&quot;, &quot;inaccurate&quot;))));\n    System.out.println(&quot;----&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre><code>{1=invalid, 2=misfit, 3=good, 4=poor, 5=imprecise}\n{1=inaccurate, 2=wrong, 3=incorrect, 4=bad, 5=correct}\n----\n{1=good, 2=misfit, 3=invalid, 4=poor, 5=imprecise}\n{1=bad, 2=incorrect, 3=wrong, 4=correct, 5=inaccurate}\n----\n{1=poor, 2=misfit, 3=invalid, 4=good, 5=imprecise}\n{1=bad, 2=incorrect, 3=correct, 4=wrong, 5=inaccurate}\n----\n</code></pre>\n"}],"owner":{"account_id":22198660,"reputation":133,"user_id":16439691,"display_name":"Girls are beautiful"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1634158494,"creation_date":1634034041,"question_id":69538837,"body_markdown":"I have made the following code:\r\n```java\r\nStream\r\n    .concat(\r\n        _question.getIncorrectAnswers().stream(), \r\n        Stream.of(_question.getCorrectAnswer())\r\n    )\r\n    .collect(Collectors.collectingAndThen(\r\n        Collectors.toList(), \r\n        collected -&gt; {\r\n            Collections.shuffle(collected);\r\n    \t    return collected.stream();\r\n        }\r\n    ))\r\n    .collect(Collectors.toMap(index++, Object::toString));\r\n```\r\nWhat I am trying to achieve is to join `_question.getCorrectAnswer()` which is a `String` object into `_question.getIncorrectAnswers() `which is a `List` of Strings. \r\n\r\nI then want to shuffle the list I made and then map the list into this:\r\n```java\r\nprivate final Map&lt;Integer, String&gt; _options = new HashMap&lt;&gt;();\r\n```\r\nwhich is a map that contains a counter (starting from 1) and the String the list contains.\r\n\r\nI want do this using Java Streams into 1 line (for education purpose mostly). \r\n\r\nI know how to make it using 3-4 lines but I am seeking for a more complex way so I can understand and learn new methods.\r\n\r\nAny help or guidance is appreciated.","title":"Join element into a list and map the list to hashmap","body":"<p>I have made the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream\n    .concat(\n        _question.getIncorrectAnswers().stream(), \n        Stream.of(_question.getCorrectAnswer())\n    )\n    .collect(Collectors.collectingAndThen(\n        Collectors.toList(), \n        collected -&gt; {\n            Collections.shuffle(collected);\n            return collected.stream();\n        }\n    ))\n    .collect(Collectors.toMap(index++, Object::toString));\n</code></pre>\n<p>What I am trying to achieve is to join <code>_question.getCorrectAnswer()</code> which is a <code>String</code> object into <code>_question.getIncorrectAnswers() </code>which is a <code>List</code> of Strings.</p>\n<p>I then want to shuffle the list I made and then map the list into this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;Integer, String&gt; _options = new HashMap&lt;&gt;();\n</code></pre>\n<p>which is a map that contains a counter (starting from 1) and the String the list contains.</p>\n<p>I want do this using Java Streams into 1 line (for education purpose mostly).</p>\n<p>I know how to make it using 3-4 lines but I am seeking for a more complex way so I can understand and learn new methods.</p>\n<p>Any help or guidance is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3581540,"reputation":987,"user_id":2989643,"display_name":"Shayan Ahmad"},"score":0,"creation_date":1634157720,"post_id":69561998,"comment_id":122953700,"body_markdown":"Hi Progman, thank you so much for your input.","body":"Hi Progman, thank you so much for your input."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1634157782,"post_id":69561998,"comment_id":122953719,"body_markdown":"As a side note, `&quot;NO_ERROR&quot;` is a terrible return value. Consider return an Optional instead, which you can flatMap instead of using a filter on a magic string value","body":"As a side note, <code>&quot;NO_ERROR&quot;</code> is a terrible return value. Consider return an Optional instead, which you can flatMap instead of using a filter on a magic string value"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1634157864,"post_id":69561998,"comment_id":122953743,"body_markdown":"@Progman But the `Beany` class *does* use the `BeanyValidator` class, in the `main` method.","body":"@Progman But the <code>Beany</code> class <i>does</i> use the <code>BeanyValidator</code> class, in the <code>main</code> method."},{"owner":{"account_id":3581540,"reputation":987,"user_id":2989643,"display_name":"Shayan Ahmad"},"score":0,"creation_date":1634157866,"post_id":69561998,"comment_id":122953744,"body_markdown":"Hi @njzk2, it&#39;s actually some sort of enum in our code base. I just recreated the example to mimic correspondence.","body":"Hi @njzk2, it&#39;s actually some sort of enum in our code base. I just recreated the example to mimic correspondence."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1634158042,"post_id":69561998,"comment_id":122953800,"body_markdown":"In the production code, the main method does not exist, but something else does which references BeanyValidator, correct? Or no?","body":"In the production code, the main method does not exist, but something else does which references BeanyValidator, correct? Or no?"},{"owner":{"account_id":3581540,"reputation":987,"user_id":2989643,"display_name":"Shayan Ahmad"},"score":0,"creation_date":1634158094,"post_id":69561998,"comment_id":122953820,"body_markdown":"@Progman, I must re-highlight to you that the `main()` method does not exist. But there does exist a function called `validateXyz()` corresponding to the `main` method.","body":"@Progman, I must re-highlight to you that the <code>main()</code> method does not exist. But there does exist a function called <code>validateXyz()</code> corresponding to the <code>main</code> method."},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":1,"creation_date":1634158379,"post_id":69561998,"comment_id":122953905,"body_markdown":"@ShayanAhmad if the function (regardless if it called `main()` or `validateXyz()`) is located in the `Beany` class and contains a `BeanyValidator` declaration then you have a cyclic dependency, see my answer below.","body":"@ShayanAhmad if the function (regardless if it called <code>main()</code> or <code>validateXyz()</code>) is located in the <code>Beany</code> class and contains a <code>BeanyValidator</code> declaration then you have a cyclic dependency, see my answer below."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1634158719,"post_id":69561998,"comment_id":122954033,"body_markdown":"@ShayanAhmad Do you have such a method like `main()` (or `validateXyz()`) with **that** code, which references the `List&lt;BeanyValidator&gt;` type, inside your `Beany` class?","body":"@ShayanAhmad Do you have such a method like <code>main()</code> (or <code>validateXyz()</code>) with <b>that</b> code, which references the <code>List&lt;BeanyValidator&gt;</code> type, inside your <code>Beany</code> class?"},{"owner":{"account_id":3581540,"reputation":987,"user_id":2989643,"display_name":"Shayan Ahmad"},"score":0,"creation_date":1634158895,"post_id":69561998,"comment_id":122954082,"body_markdown":"Yes there does exist something like that. And I am thinking to remove the 2nd parameter of `collectErrorsFrom` and put the necessary validations required inside the `collectErrorsFrom` method within `BeanyValidator` thereby removing `BeanyValidators` inside `Beany` and the call to that function would then just look like `collectErrorsFrom(beany)` while also renaming it to `validateAndCollectErrorsFrom(Beany beany)`. Would it then remove the cyclic dependency?","body":"Yes there does exist something like that. And I am thinking to remove the 2nd parameter of <code>collectErrorsFrom</code> and put the necessary validations required inside the <code>collectErrorsFrom</code> method within <code>BeanyValidator</code> thereby removing <code>BeanyValidators</code> inside <code>Beany</code> and the call to that function would then just look like <code>collectErrorsFrom(beany)</code> while also renaming it to <code>validateAndCollectErrorsFrom(Beany beany)</code>. Would it then remove the cyclic dependency?"}],"answers":[{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634158087,"creation_date":1634157696,"answer_id":69562067,"question_id":69561998,"body_markdown":"Yes, there is a cyclic dependency:\r\n- Class `Beany` has a `List&lt;BeanyValidator&gt;`\r\n- Interface `BeanyValidator` extends `Function&lt;Beany, String&gt;`\r\n\r\nThis can be verified by putting the classes in different packages and then look at the import statements required for the code to compile. You will find that one class imports the other and vice versa. \r\n\r\nOne suggestion to break the circular dependency is to refactor the `main()` method from the `Beany` class to a separate class, e.g.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;BeanyValidator&gt; validatorList = List.of(isConfigDataNull(),\r\n                                                     isValueOfXEmpty());\r\n        Beany beany = new Beany();\r\n        beany.setX(&quot;&quot;);\r\n        System.out.println(collectErrorsFrom(beany, validatorList));\r\n    }\r\n}\r\n```","title":"Does the following Java code really contain cyclic dependency?","body":"<p>Yes, there is a cyclic dependency:</p>\n<ul>\n<li>Class <code>Beany</code> has a <code>List&lt;BeanyValidator&gt;</code></li>\n<li>Interface <code>BeanyValidator</code> extends <code>Function&lt;Beany, String&gt;</code></li>\n</ul>\n<p>This can be verified by putting the classes in different packages and then look at the import statements required for the code to compile. You will find that one class imports the other and vice versa.</p>\n<p>One suggestion to break the circular dependency is to refactor the <code>main()</code> method from the <code>Beany</code> class to a separate class, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;BeanyValidator&gt; validatorList = List.of(isConfigDataNull(),\n                                                     isValueOfXEmpty());\n        Beany beany = new Beany();\n        beany.setX(&quot;&quot;);\n        System.out.println(collectErrorsFrom(beany, validatorList));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3581540,"reputation":987,"user_id":2989643,"display_name":"Shayan Ahmad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69562067,"answer_count":1,"score":2,"last_activity_date":1634158087,"creation_date":1634157344,"question_id":69561998,"body_markdown":"&#39;\r\n\r\nAt a recent discussion within our team I had written the following code which was later flagged as having the cyclic dependency although to my knowledge and experience it is not. I need some fresh eyes to take a look at it so that I can learn more. \r\n\r\n**disclaimer**: The production code was converted into the corresponding dummy code to avoid copyright issues. Main method (ofcourse) did not exist in the prod code.\r\n\r\n*Beany.java*\r\n\r\n    public class Beany {\r\n\r\n        private String x;\r\n\r\n        public static void main(String[] args) {\r\n            // main exists for testing purposes here. Depicts the functionality of validation function.\r\n            List&lt;BeanyValidator&gt; validatorList = List.of(isConfigDataNull(),\r\n                                                         isValueOfXEmpty());\r\n            Beany beany = new Beany();\r\n            beany.setX(&quot;&quot;);\r\n            System.out.println(collectErrorsFrom(beany, validatorList));\r\n        }\r\n\r\n        public void setX(String x) { // setters in our code does not exist. This is merely for demo purposes here.\r\n            this.x = x;\r\n        }\r\n\r\n        public String getX() {\r\n            return x;\r\n        }\r\n    }\r\n\r\n*BeanyValidator.java*:\r\n\r\n    public interface BeanyValidator extends Function&lt;Beany, String&gt; {\r\n\r\n        static BeanyValidator isConfigDataNull() {\r\n            return beany -&gt; Objects.isNull(beany)\r\n                                   ? &quot;Object is null!&quot;\r\n                                   : &quot;NO_ERROR&quot;;\r\n        }\r\n\r\n        static BeanyValidator isValueOfXEmpty() {\r\n            return beany -&gt; beany.getX().isEmpty()\r\n                                   ? &quot;Value is empty!&quot;\r\n                                   : &quot;NO_ERROR&quot;;\r\n        }\r\n\r\n        static List&lt;String&gt; collectErrorsFrom(Beany beany, List&lt;BeanyValidator&gt; validators) {\r\n            return validators.stream()\r\n                             .map(validator -&gt; validator.apply(beany))\r\n                             .filter(err -&gt; !&quot;NO_ERROR&quot;.equals(err))\r\n                             .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nWhat was pointed out as **circular dependency** was the fact `Beany` was being used as `Function&lt;T,U&gt;` -- making beany dependency of BeanyValidator -- and using validators inside the main method (which in prod is some sort of validation function) makes the validator a dependency of Beany and thereby causing **circular dependency.** I do not agree with my respectful peer but I always come into a discussion thinking I could be wrong.\r\n\r\nBy the way, I applied combinator pattern using Java8 Functions. \r\nCould someone please some shed some light on this?\r\n\r\nThanks in advance!\r\n\r\nKind regards.","title":"Does the following Java code really contain cyclic dependency?","body":"<p>'</p>\n<p>At a recent discussion within our team I had written the following code which was later flagged as having the cyclic dependency although to my knowledge and experience it is not. I need some fresh eyes to take a look at it so that I can learn more.</p>\n<p><strong>disclaimer</strong>: The production code was converted into the corresponding dummy code to avoid copyright issues. Main method (ofcourse) did not exist in the prod code.</p>\n<p><em>Beany.java</em></p>\n<pre><code>public class Beany {\n\n    private String x;\n\n    public static void main(String[] args) {\n        // main exists for testing purposes here. Depicts the functionality of validation function.\n        List&lt;BeanyValidator&gt; validatorList = List.of(isConfigDataNull(),\n                                                     isValueOfXEmpty());\n        Beany beany = new Beany();\n        beany.setX(&quot;&quot;);\n        System.out.println(collectErrorsFrom(beany, validatorList));\n    }\n\n    public void setX(String x) { // setters in our code does not exist. This is merely for demo purposes here.\n        this.x = x;\n    }\n\n    public String getX() {\n        return x;\n    }\n}\n</code></pre>\n<p><em>BeanyValidator.java</em>:</p>\n<pre><code>public interface BeanyValidator extends Function&lt;Beany, String&gt; {\n\n    static BeanyValidator isConfigDataNull() {\n        return beany -&gt; Objects.isNull(beany)\n                               ? &quot;Object is null!&quot;\n                               : &quot;NO_ERROR&quot;;\n    }\n\n    static BeanyValidator isValueOfXEmpty() {\n        return beany -&gt; beany.getX().isEmpty()\n                               ? &quot;Value is empty!&quot;\n                               : &quot;NO_ERROR&quot;;\n    }\n\n    static List&lt;String&gt; collectErrorsFrom(Beany beany, List&lt;BeanyValidator&gt; validators) {\n        return validators.stream()\n                         .map(validator -&gt; validator.apply(beany))\n                         .filter(err -&gt; !&quot;NO_ERROR&quot;.equals(err))\n                         .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>What was pointed out as <strong>circular dependency</strong> was the fact <code>Beany</code> was being used as <code>Function&lt;T,U&gt;</code> -- making beany dependency of BeanyValidator -- and using validators inside the main method (which in prod is some sort of validation function) makes the validator a dependency of Beany and thereby causing <strong>circular dependency.</strong> I do not agree with my respectful peer but I always come into a discussion thinking I could be wrong.</p>\n<p>By the way, I applied combinator pattern using Java8 Functions.\nCould someone please some shed some light on this?</p>\n<p>Thanks in advance!</p>\n<p>Kind regards.</p>\n"},{"tags":["java","linux"],"answers":[{"tags":[],"owner":{"account_id":7082809,"reputation":35,"user_id":5420588,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570546598,"creation_date":1570546598,"answer_id":58288982,"question_id":58118965,"body_markdown":"JSSC uses logic in its [SerialNativeInterface](https://github.com/scream3r/java-simple-serial-connector/blob/2.8.0/src/java/jssc/SerialNativeInterface.java#L120) class to determine which shared library to use. For OS&#39;s with ARM architecture, it checks the java.library.path to see if it contains gnueabihf or armhf in the paths. If not, it will use the soft float shared library instead.\r\n\r\nMy current java.library.path doesn&#39;t contain either, so I added the existing `/lib/gnueabihf` directory to the path using the following command:\r\n\r\n```\r\n$ sudo java -D.java.library.path=&quot;.:/lib/gnueabihf&quot; -jar HelloSerial-1.0.0.jar\r\n```\r\n\r\nThere are other ways to load a path that are listed in [this article](https://www.chilkatsoft.com/java-loadLibrary-Linux.asp) or you can search online for that info. You can use `$ java -XshowSettings:properties` to confirm that it is included in the java.library.path.","title":"How to fix a java.lang.UnsatisfiedLinkError for JSSC? (Needs hard float?)","body":"<p>JSSC uses logic in its <a href=\"https://github.com/scream3r/java-simple-serial-connector/blob/2.8.0/src/java/jssc/SerialNativeInterface.java#L120\" rel=\"nofollow noreferrer\">SerialNativeInterface</a> class to determine which shared library to use. For OS's with ARM architecture, it checks the java.library.path to see if it contains gnueabihf or armhf in the paths. If not, it will use the soft float shared library instead.</p>\n\n<p>My current java.library.path doesn't contain either, so I added the existing <code>/lib/gnueabihf</code> directory to the path using the following command:</p>\n\n<pre><code>$ sudo java -D.java.library.path=\".:/lib/gnueabihf\" -jar HelloSerial-1.0.0.jar\n</code></pre>\n\n<p>There are other ways to load a path that are listed in <a href=\"https://www.chilkatsoft.com/java-loadLibrary-Linux.asp\" rel=\"nofollow noreferrer\">this article</a> or you can search online for that info. You can use <code>$ java -XshowSettings:properties</code> to confirm that it is included in the java.library.path.</p>\n"},{"tags":[],"owner":{"account_id":22849047,"reputation":13,"user_id":16994947,"display_name":"Puccet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634157827,"creation_date":1634157827,"answer_id":69562091,"question_id":58118965,"body_markdown":"I had exactly the same problem and solved by installing binutils, after that the issue is gone, hope it helps.","title":"How to fix a java.lang.UnsatisfiedLinkError for JSSC? (Needs hard float?)","body":"<p>I had exactly the same problem and solved by installing binutils, after that the issue is gone, hope it helps.</p>\n"}],"owner":{"account_id":7082809,"reputation":35,"user_id":5420588,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58288982,"answer_count":2,"score":1,"last_activity_date":1634157827,"creation_date":1569507853,"question_id":58118965,"body_markdown":"I have a Java application in a JAR that needs to communicate via serial using JSSC (On Ubuntu in a SOPine board). It is throwing the following java.lang.UnsatisfiedLinkError exception:\r\n\r\n```\r\nException in thread &quot;CommThread&quot; java.lang.UnsatisfiedLinkError: /root/.jssc/linux/libjSSC-2.7_armsf.so: /root/.jssc/linux/libjSSC-2.7_armsf.so: cannot open shared object file: No such file or directory\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2430)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2487)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2684)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2617)\r\n\tat java.base/java.lang.Runtime.load0(Runtime.java:767)\r\n\tat java.base/java.lang.System.load(System.java:1831)\r\n\tat jssc.SerialNativeInterface.&lt;clinit&gt;(SerialNativeInterface.java:172)\r\n\tat jssc.SerialPort.&lt;init&gt;(SerialPort.java:118)\r\n\tat com.company.comm.transport.serial.CommSerial.initialize(CommSerial.java:51)\r\n\tat com.company.product.adapters.comm.Communicator.connect(Communicator.java:73)\r\n\tat com.company.product.services.comm.CommThread.run(CommThread.java:18)\r\n```\r\n\r\n**TL;DR: Skip to the answer if you don&#39;t want to read several day&#39;s worth of troubleshooting.**\r\n\r\n----------\r\n\r\nI exported my JAR file in Eclipse with the jssc.jar added to the project&#39;s Java Build Path&#39;s Libraries in the Classpath and its included in the exported entries.\r\n\r\nI did confirm that the file libjSSC-2.7_armsf.so is there:\r\n\r\n```\r\nsudo ls la /root/.jssc/linux/\r\ndrwxr-xr-x 2 root root  4096 Sep 23 14:41 .\r\ndrwxr-xr-x 3 root root  4096 Sep 20 15:39 ..\r\n-rw-r--r-- 1 root root 10539 Sep 20 15:39 libjSSC-2.7_armsf.so\r\n```\r\n\r\nThe closest answer to my issue that I can find is the Stack Overflow question [unsatisfied link error runnable jar referencing jssc library](https://stackoverflow.com/questions/22085552/unsatisfied-link-error-runnable-jar-referencing-jssc-library). I confirmed that the SOPine board I&#39;m using has a [VFPv4 Floating Point Unit](https://wiki.pine64.org/index.php/PINE_A64-LTS/SOPine_Main_Page#CPU_Architecture), contains the directory /lib/arm-linux-gnueablhf/, and I have the JDK bellsoft-java11:armhf (From dpkg -l) installed, so I am not clear on why it is using libjSSC-2.7_arm**sf**.so instead of libjSSC-2.7_arm**hf**.so, which is in the same jssc.jar.\r\n\r\nI tried adding libjSSC-2.7_arm**hf**.so to the /root/.jssc/linux/ directory, installing libjssc-java to linux, and modifying LD_LIBRARY_PATH and -Djava.library.path to point to another directory, but it throwing the same exception that it cannot locate libjSSC-2.7_arm**sf**.so.\r\n\r\nI&#39;m using the following command to run the JAR file with the pine user:\r\n\r\n```\r\nsudo java -jar product-0.1.0.jar &amp;&gt; output-0.1.0_1.txt\r\n```\r\n\r\n\r\n**Edit 10/2/2019:**\r\nI tried to change the JSSC shared library it&#39;s using by deleting the libjSSC-2.7_armsf.so, installing jssc locally using `sudo apt install libjssc-java`, and using LD_LIBRARY_PATH and -Djava.library.path to focus my program at running the new library, but it is still asking for libjSSC-2.7_armsf.so. I&#39;m going to configure the Eclipse project to not package the JSSC JAR file with my project&#39;s exported JAR file and try running it again.\r\n\r\n**Edit 10/7/2019:**\r\nLast week, I decided to create a simple HelloSerial.java program to reduce potential dependencies. The code is below:\r\n```java\r\nimport jssc.SerialPortList;\r\n\r\npublic class HelloSerial {\r\n    \r\n    static {\r\n        System.out.println(&quot;HelloSerial: loading JSSC&quot;);\r\n        try {\r\n            System.load(&quot;/root/.jssc/linux/libjSSC-2.7_armhf.so&quot;);\r\n            System.out.println(&quot;HelloSerial: loading JSSC&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n            System.err.println(&quot;Native core library failed to load.\\n&quot; + e);\r\n            System.exit(1);;\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;HelloSerial: start&quot;);\r\n\r\n        String[] portNames = SerialPortList.getPortNames();\r\n        System.out.println(&quot;HelloSerial: listing &quot; + portNames.length + &quot; port names&quot;);\r\n        for(int i = 0; i &lt; portNames.length; i++){\r\n            System.out.println(portNames[i]);\r\n        }\r\n        \r\n        System.out.println(&quot;HelloSerial: end&quot;);\r\n    }\r\n}\r\n```\r\nHere is the output from compiling and running it within the Linux system:\r\n```\r\n$ sudo javac -classpath .:jssc.jar HelloSerial.java\r\n$ sudo java -cp jssc.jar:. HelloSerial\r\nHelloSerial: loading JSSC\r\nHelloSerial: loading JSSC\r\nHelloSerial: start\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /root/.jssc/linux/libjSSC-2.7_armsf.so: /root/.jssc/linux/libjSSC-2.7_armsf.so: cannot open shared object file: No such file or directory\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2430)\r\n\tat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2487)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2684)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2617)\r\n\tat java.base/java.lang.Runtime.load0(Runtime.java:767)\r\n\tat java.base/java.lang.System.load(System.java:1831)\r\n\tat jssc.SerialNativeInterface.&lt;clinit&gt;(SerialNativeInterface.java:172)\r\n\tat jssc.SerialPortList.&lt;clinit&gt;(SerialPortList.java:43)\r\n\tat HelloSerial.main(HelloSerial.java:20)\r\n```\r\nEven though I&#39;m explicitly using System.load to load the hard float version of the shared library, it is still defaulting to try using the soft float. What could be forcing it to use the soft float version? All of the libraries, including the JDK, are using either armhf, arm64, or all in `dpkg -l`.\r\n\r\n**Edit 10/8/2019:**\r\nI found that JSSC uses logic in its [SerialNativeInterface](https://github.com/scream3r/java-simple-serial-connector/blob/2.8.0/src/java/jssc/SerialNativeInterface.java#L120) class to determine which shared library to use (This is just showing the relevant lines of code):\r\n```java\r\n79  static {\r\n80      String libFolderPath;\r\n81      String libName;\r\n82\r\n83      String osName = System.getProperty(&quot;os.name&quot;);\r\n84      String architecture = System.getProperty(&quot;os.arch&quot;);\r\n85      String userHome = System.getProperty(&quot;user.home&quot;);\r\n86      String fileSeparator = System.getProperty(&quot;file.separator&quot;);\r\n87      String tmpFolder = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n...\r\n118     else if(architecture.equals(&quot;arm&quot;)) {//since 2.1.0\r\n119         String floatStr = &quot;sf&quot;;\r\n120 &gt;&gt;&gt;&gt;    if(javaLibPath.toLowerCase().contains(&quot;gnueabihf&quot;) || javaLibPath.toLowerCase().contains(&quot;armhf&quot;)){\r\n121             floatStr = &quot;hf&quot;;\r\n122         }\r\n123         else {\r\n...\r\n139         }\r\n140         architecture = &quot;arm&quot; + floatStr;\r\n141     }\r\n142\r\n143     libFolderPath = libRootFolder + fileSeparator + &quot;.jssc&quot; + fileSeparator + osName;\r\n144     libName = &quot;jSSC-&quot; + libVersion + &quot;_&quot; + architecture;\r\n145     libName = System.mapLibraryName(libName);\r\n```\r\nThe important part is on line 120, where the ARM&#39;s library is choosen be soft float or hard float based on whether the java.library.path includes a gnueabihf or armhf path. Including the following line of code shows those paths:\r\n```\r\nSystem.out.println(&quot;HelloSerial: java.library.path &quot; + System.getProperty(&quot;java.library.path&quot;));\r\n```\r\nThis outputted:\r\n```\r\nHelloSerial: java.library.path /usr/java/packages/lib:/lib:/usr/lib\r\n```\r\nIt looks like gnueabihf or armhf paths like `/lib/gnueabihf` aren&#39;t being used, so I need to add one as a placeholder.\r\n\r\nUsing `sudo java -D.java.library.path=&quot;.:/lib/gnueabihf&quot; -jar HelloSerial-1.0.0.jar` works.\r\n\r\nI&#39;ll see if I can permanently add `/lib/gnueabihf` to java.library.path in the future.","title":"How to fix a java.lang.UnsatisfiedLinkError for JSSC? (Needs hard float?)","body":"<p>I have a Java application in a JAR that needs to communicate via serial using JSSC (On Ubuntu in a SOPine board). It is throwing the following java.lang.UnsatisfiedLinkError exception:</p>\n\n<pre><code>Exception in thread \"CommThread\" java.lang.UnsatisfiedLinkError: /root/.jssc/linux/libjSSC-2.7_armsf.so: /root/.jssc/linux/libjSSC-2.7_armsf.so: cannot open shared object file: No such file or directory\n    at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n    at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2430)\n    at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2487)\n    at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2684)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2617)\n    at java.base/java.lang.Runtime.load0(Runtime.java:767)\n    at java.base/java.lang.System.load(System.java:1831)\n    at jssc.SerialNativeInterface.&lt;clinit&gt;(SerialNativeInterface.java:172)\n    at jssc.SerialPort.&lt;init&gt;(SerialPort.java:118)\n    at com.company.comm.transport.serial.CommSerial.initialize(CommSerial.java:51)\n    at com.company.product.adapters.comm.Communicator.connect(Communicator.java:73)\n    at com.company.product.services.comm.CommThread.run(CommThread.java:18)\n</code></pre>\n\n<p><strong>TL;DR: Skip to the answer if you don't want to read several day's worth of troubleshooting.</strong></p>\n\n<hr>\n\n<p>I exported my JAR file in Eclipse with the jssc.jar added to the project's Java Build Path's Libraries in the Classpath and its included in the exported entries.</p>\n\n<p>I did confirm that the file libjSSC-2.7_armsf.so is there:</p>\n\n<pre><code>sudo ls la /root/.jssc/linux/\ndrwxr-xr-x 2 root root  4096 Sep 23 14:41 .\ndrwxr-xr-x 3 root root  4096 Sep 20 15:39 ..\n-rw-r--r-- 1 root root 10539 Sep 20 15:39 libjSSC-2.7_armsf.so\n</code></pre>\n\n<p>The closest answer to my issue that I can find is the Stack Overflow question <a href=\"https://stackoverflow.com/questions/22085552/unsatisfied-link-error-runnable-jar-referencing-jssc-library\">unsatisfied link error runnable jar referencing jssc library</a>. I confirmed that the SOPine board I'm using has a <a href=\"https://wiki.pine64.org/index.php/PINE_A64-LTS/SOPine_Main_Page#CPU_Architecture\" rel=\"nofollow noreferrer\">VFPv4 Floating Point Unit</a>, contains the directory /lib/arm-linux-gnueablhf/, and I have the JDK bellsoft-java11:armhf (From dpkg -l) installed, so I am not clear on why it is using libjSSC-2.7_arm<strong>sf</strong>.so instead of libjSSC-2.7_arm<strong>hf</strong>.so, which is in the same jssc.jar.</p>\n\n<p>I tried adding libjSSC-2.7_arm<strong>hf</strong>.so to the /root/.jssc/linux/ directory, installing libjssc-java to linux, and modifying LD_LIBRARY_PATH and -Djava.library.path to point to another directory, but it throwing the same exception that it cannot locate libjSSC-2.7_arm<strong>sf</strong>.so.</p>\n\n<p>I'm using the following command to run the JAR file with the pine user:</p>\n\n<pre><code>sudo java -jar product-0.1.0.jar &amp;&gt; output-0.1.0_1.txt\n</code></pre>\n\n<p><strong>Edit 10/2/2019:</strong>\nI tried to change the JSSC shared library it's using by deleting the libjSSC-2.7_armsf.so, installing jssc locally using <code>sudo apt install libjssc-java</code>, and using LD_LIBRARY_PATH and -Djava.library.path to focus my program at running the new library, but it is still asking for libjSSC-2.7_armsf.so. I'm going to configure the Eclipse project to not package the JSSC JAR file with my project's exported JAR file and try running it again.</p>\n\n<p><strong>Edit 10/7/2019:</strong>\nLast week, I decided to create a simple HelloSerial.java program to reduce potential dependencies. The code is below:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import jssc.SerialPortList;\n\npublic class HelloSerial {\n\n    static {\n        System.out.println(\"HelloSerial: loading JSSC\");\n        try {\n            System.load(\"/root/.jssc/linux/libjSSC-2.7_armhf.so\");\n            System.out.println(\"HelloSerial: loading JSSC\");\n        } catch (UnsatisfiedLinkError e) {\n            System.err.println(\"Native core library failed to load.\\n\" + e);\n            System.exit(1);;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"HelloSerial: start\");\n\n        String[] portNames = SerialPortList.getPortNames();\n        System.out.println(\"HelloSerial: listing \" + portNames.length + \" port names\");\n        for(int i = 0; i &lt; portNames.length; i++){\n            System.out.println(portNames[i]);\n        }\n\n        System.out.println(\"HelloSerial: end\");\n    }\n}\n</code></pre>\n\n<p>Here is the output from compiling and running it within the Linux system:</p>\n\n<pre><code>$ sudo javac -classpath .:jssc.jar HelloSerial.java\n$ sudo java -cp jssc.jar:. HelloSerial\nHelloSerial: loading JSSC\nHelloSerial: loading JSSC\nHelloSerial: start\nException in thread \"main\" java.lang.UnsatisfiedLinkError: /root/.jssc/linux/libjSSC-2.7_armsf.so: /root/.jssc/linux/libjSSC-2.7_armsf.so: cannot open shared object file: No such file or directory\n    at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n    at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2430)\n    at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2487)\n    at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2684)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2617)\n    at java.base/java.lang.Runtime.load0(Runtime.java:767)\n    at java.base/java.lang.System.load(System.java:1831)\n    at jssc.SerialNativeInterface.&lt;clinit&gt;(SerialNativeInterface.java:172)\n    at jssc.SerialPortList.&lt;clinit&gt;(SerialPortList.java:43)\n    at HelloSerial.main(HelloSerial.java:20)\n</code></pre>\n\n<p>Even though I'm explicitly using System.load to load the hard float version of the shared library, it is still defaulting to try using the soft float. What could be forcing it to use the soft float version? All of the libraries, including the JDK, are using either armhf, arm64, or all in <code>dpkg -l</code>.</p>\n\n<p><strong>Edit 10/8/2019:</strong>\nI found that JSSC uses logic in its <a href=\"https://github.com/scream3r/java-simple-serial-connector/blob/2.8.0/src/java/jssc/SerialNativeInterface.java#L120\" rel=\"nofollow noreferrer\">SerialNativeInterface</a> class to determine which shared library to use (This is just showing the relevant lines of code):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>79  static {\n80      String libFolderPath;\n81      String libName;\n82\n83      String osName = System.getProperty(\"os.name\");\n84      String architecture = System.getProperty(\"os.arch\");\n85      String userHome = System.getProperty(\"user.home\");\n86      String fileSeparator = System.getProperty(\"file.separator\");\n87      String tmpFolder = System.getProperty(\"java.io.tmpdir\");\n...\n118     else if(architecture.equals(\"arm\")) {//since 2.1.0\n119         String floatStr = \"sf\";\n120 &gt;&gt;&gt;&gt;    if(javaLibPath.toLowerCase().contains(\"gnueabihf\") || javaLibPath.toLowerCase().contains(\"armhf\")){\n121             floatStr = \"hf\";\n122         }\n123         else {\n...\n139         }\n140         architecture = \"arm\" + floatStr;\n141     }\n142\n143     libFolderPath = libRootFolder + fileSeparator + \".jssc\" + fileSeparator + osName;\n144     libName = \"jSSC-\" + libVersion + \"_\" + architecture;\n145     libName = System.mapLibraryName(libName);\n</code></pre>\n\n<p>The important part is on line 120, where the ARM's library is choosen be soft float or hard float based on whether the java.library.path includes a gnueabihf or armhf path. Including the following line of code shows those paths:</p>\n\n<pre><code>System.out.println(\"HelloSerial: java.library.path \" + System.getProperty(\"java.library.path\"));\n</code></pre>\n\n<p>This outputted:</p>\n\n<pre><code>HelloSerial: java.library.path /usr/java/packages/lib:/lib:/usr/lib\n</code></pre>\n\n<p>It looks like gnueabihf or armhf paths like <code>/lib/gnueabihf</code> aren't being used, so I need to add one as a placeholder.</p>\n\n<p>Using <code>sudo java -D.java.library.path=\".:/lib/gnueabihf\" -jar HelloSerial-1.0.0.jar</code> works.</p>\n\n<p>I'll see if I can permanently add <code>/lib/gnueabihf</code> to java.library.path in the future.</p>\n"},{"tags":["java","switch-statement","overloading","user-input"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634163518,"post_id":69562030,"comment_id":122955335,"body_markdown":"What is stopping you from writing `System.out.println(mt1.movieTime(setActorTime));`?  Aside from that, `runDate` is not used actually as an argument -- likely it has been provided just for overriding. Also, `switch` statements are incorrect - they are written using syntax below Java 12+, therefore, `break` should be used in each `case`; currently the latest/default value is assigned to `runDate`","body":"What is stopping you from writing <code>System.out.println(mt1.movieTime(setActorTime));</code>?  Aside from that, <code>runDate</code> is not used actually as an argument -- likely it has been provided just for overriding. Also, <code>switch</code> statements are incorrect - they are written using syntax below Java 12+, therefore, <code>break</code> should be used in each <code>case</code>; currently the latest/default value is assigned to <code>runDate</code>"},{"owner":{"account_id":22888859,"reputation":13,"user_id":17029311,"display_name":"Dragamaroon"},"score":0,"creation_date":1634165698,"post_id":69562030,"comment_id":122955826,"body_markdown":"Thanks for the info! Pretty new to this. I was unsure if I needed break statements or not so I added them. Trying to print this : System.out.println(mt1.movieTime(getActorName()));\n\ngives an error stating the method is undeclared. Not sure how I should set up my overriden methods","body":"Thanks for the info! Pretty new to this. I was unsure if I needed break statements or not so I added them. Trying to print this : System.out.println(mt1.movieTime(getActorName()));  gives an error stating the method is undeclared. Not sure how I should set up my overriden methods"}],"owner":{"account_id":22888859,"reputation":13,"user_id":17029311,"display_name":"Dragamaroon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634157510,"creation_date":1634157510,"question_id":69562030,"body_markdown":"Here&#39;s what&#39;s required:\r\n\r\nTwo non-static overloaded methods which will return the movie run dates, one based upon the movies main actor and one based upon the start time , use a 24 hour clock as an int.  Use the switch statement to hardcode 4 different options\r\n\r\nI just don&#39;t know how to take the user input and apply it to the overloaded methods in order to return the right data. Here&#39;s what I have so far\r\n\r\n    public class MovieTicket\r\n    {\r\n       private String actorName;\r\n       private int startTime;\r\n    \r\n\r\n    public void setActorName(String actorName)\r\n    {\r\n        this.actorName = actorName;\r\n    }\r\n    \r\n    public void setStartTime(int startTime)\r\n    {\r\n        this.startTime = startTime;\r\n    }\r\n\r\n    public String getActorName()\r\n    {\r\n        return actorName;\r\n    }\r\n    \r\n    public int getStartTime()\r\n    {\r\n        return startTime;\r\n    }\r\n\r\n    public String movieTime(String runDate)\r\n    {\r\n        switch (getActorName())\r\n        {\r\n            case &quot;Jack Black&quot;:\r\n                runDate = &quot;0800&quot;;\r\n            case &quot;Jon Bon&quot;:\r\n                runDate = &quot;1100&quot;;\r\n            case &quot;Jan Ban&quot;:\r\n                runDate = &quot;1300&quot;;\r\n            case &quot;Jim Bim&quot;:\r\n                runDate = &quot;1600&quot;;\r\n            default:\r\n                runDate = &quot;Please enter one of the following actors: Jack Black, Jon Bon, Jan Ban, or Jim Bim&quot;;\r\n        }\r\n        return runDate;\r\n    }\r\n    \r\n    public int movieTime(int runDate)\r\n    {\r\n        switch (getStartTime())\r\n        {\r\n            case 600:\r\n                runDate= 1000;\r\n            case 900:\r\n                runDate = 1200;\r\n            case 1400:\r\n                runDate = 1700;\r\n            case 1800:\r\n                runDate = 2000;\r\n        }\r\n        return runDate;\r\n    }\r\n\r\nI&#39;m trying to access this in a separate class:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class MovieTicketTestHarness\r\n    {\r\n      public static void main (String[] args)\r\n      {\r\n        MovieTicket mt1 = new MovieTicket();\r\n        Scanner userInput = new Scanner (System.in);\r\n        \r\n        System.out.println(&quot;Please Enter a Main Actor: &quot;);\r\n        String setActorName = userInput.nextLine();\r\n        mt1.setActorName(setActorName);\r\n        \r\n        System.out.println //calling method movieTime here (somehow)\r\n    }\r\n}\r\n\r\n","title":"Taking user-input into switch statements inside overloaded method","body":"<p>Here's what's required:</p>\n<p>Two non-static overloaded methods which will return the movie run dates, one based upon the movies main actor and one based upon the start time , use a 24 hour clock as an int.  Use the switch statement to hardcode 4 different options</p>\n<p>I just don't know how to take the user input and apply it to the overloaded methods in order to return the right data. Here's what I have so far</p>\n<pre><code>public class MovieTicket\n{\n   private String actorName;\n   private int startTime;\n\n\npublic void setActorName(String actorName)\n{\n    this.actorName = actorName;\n}\n\npublic void setStartTime(int startTime)\n{\n    this.startTime = startTime;\n}\n\npublic String getActorName()\n{\n    return actorName;\n}\n\npublic int getStartTime()\n{\n    return startTime;\n}\n\npublic String movieTime(String runDate)\n{\n    switch (getActorName())\n    {\n        case &quot;Jack Black&quot;:\n            runDate = &quot;0800&quot;;\n        case &quot;Jon Bon&quot;:\n            runDate = &quot;1100&quot;;\n        case &quot;Jan Ban&quot;:\n            runDate = &quot;1300&quot;;\n        case &quot;Jim Bim&quot;:\n            runDate = &quot;1600&quot;;\n        default:\n            runDate = &quot;Please enter one of the following actors: Jack Black, Jon Bon, Jan Ban, or Jim Bim&quot;;\n    }\n    return runDate;\n}\n\npublic int movieTime(int runDate)\n{\n    switch (getStartTime())\n    {\n        case 600:\n            runDate= 1000;\n        case 900:\n            runDate = 1200;\n        case 1400:\n            runDate = 1700;\n        case 1800:\n            runDate = 2000;\n    }\n    return runDate;\n}\n</code></pre>\n<p>I'm trying to access this in a separate class:</p>\n<pre><code>import java.util.Scanner;\n\npublic class MovieTicketTestHarness\n{\n  public static void main (String[] args)\n  {\n    MovieTicket mt1 = new MovieTicket();\n    Scanner userInput = new Scanner (System.in);\n    \n    System.out.println(&quot;Please Enter a Main Actor: &quot;);\n    String setActorName = userInput.nextLine();\n    mt1.setActorName(setActorName);\n    \n    System.out.println //calling method movieTime here (somehow)\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15568347,"reputation":219,"user_id":11231474,"display_name":"Djebarri Amazigh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634137513,"creation_date":1634137513,"answer_id":69557908,"question_id":69553299,"body_markdown":"First of all you are misusing `@Query` annotation your variable interpolation is wrong cf &quot;`?2` you should use it like this \r\n\r\n    @Query(&quot;select from User u where u.id = :id&quot;)\r\n    findUserById(@Param(&quot;id&quot;) String id)\r\n\r\nSecond: the return type of your methods are wrong, you are selecting multiple rows so your retrun type should be a collection\r\n\r\nthird: Spring provides you with a feature called Spring named queries. It allows spring guessing the associated sql from the method&#39;s name\r\n\r\nand finally you can try something like this\r\n   \r\n\r\n     Collection&lt;ProductType&gt; findByProdTypeAndSizeRulesSizes(String prodType, String sizes);\r\n\r\nhibernate orm will handle fetches for you the associated data in the related objects (@OneToOne relations)\r\n\r\n","title":"Fetch Results from All tables in SpringBoot JPA Repository","body":"<p>First of all you are misusing <code>@Query</code> annotation your variable interpolation is wrong cf &quot;<code>?2</code> you should use it like this</p>\n<pre><code>@Query(&quot;select from User u where u.id = :id&quot;)\nfindUserById(@Param(&quot;id&quot;) String id)\n</code></pre>\n<p>Second: the return type of your methods are wrong, you are selecting multiple rows so your retrun type should be a collection</p>\n<p>third: Spring provides you with a feature called Spring named queries. It allows spring guessing the associated sql from the method's name</p>\n<p>and finally you can try something like this</p>\n<pre><code> Collection&lt;ProductType&gt; findByProdTypeAndSizeRulesSizes(String prodType, String sizes);\n</code></pre>\n<p>hibernate orm will handle fetches for you the associated data in the related objects (@OneToOne relations)</p>\n"}],"owner":{"account_id":19248005,"reputation":1,"user_id":14066651,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634157400,"creation_date":1634118703,"question_id":69553299,"body_markdown":"I am trying to fetch data from all below tables using `JOIN` query for particular `productType` and `Sizes` (column in two diff tables).   \r\nI am unable to get the desired result so some guidance would be very helpful.   \r\n\r\nPlease find the details below what I have tried till now. \r\n  \r\nPK: Primary Key, FK: Foreign Key.   \r\nFollowing is the table structure with tables(mentioned) below has `OneToOne` mapping to another table.\r\n  \r\n    **MC_Product_Type**:\r\n      prod_type_id (PK), \r\n      prod_type,\r\n      description\r\n    |\r\n    |OnetoOne\r\n    | \r\n    **MC_Set_Rules**:\r\n      set_id (PK),\r\n      prod_type_id (FK),\r\n      set_name,\r\n      set_type,\r\n      condition\r\n    |\r\n    |OneToOne\r\n    |\r\n    **MC_Size_Rules**:\r\n      prod_rule_id (PK),\r\n      prod_type,\r\n      Sizes,\r\n      set_id (FK),\r\n      min_qty,\r\n      dimension\r\n    |\r\n    |OneToOne\r\n    | \r\n    **MC_Product_Rules**: \r\n       prod_rule_id (FK),\r\n       prod_type, \r\n       allowed_type, \r\n       availability, \r\n       prod_label, \r\n       locations\r\n\r\nEntity Classes:  \r\n  \r\n    @Table(name = &quot;MC_Product_Type&quot;)\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    @ApiModel\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class ProductType {\r\n        @Id\r\n        private int prodTypeId;\r\n        private String prodType;\r\n        private String description;\r\n    \r\n         @OneToOne\r\n         @JoinColumn(name=&quot;prodTypeId&quot;, referencedColumnName=&quot;prodTypeId&quot;, insertable=false, updatable=false)\r\n         private SetRules setRules;\r\n    }\r\n    \r\n    \r\n    @Table(name = &quot;MC_Set_Rules&quot;)\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    public class SetRules {\r\n        \r\n    \r\n        @Id\r\n        private int setId;\r\n        private int prodTypeId;\r\n        private String setName;\r\n        private String setType;\r\n        private String condition;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name=&quot;setId&quot;, referencedColumnName=&quot;setId&quot;, insertable=false, updatable=false)\r\n        private SizeRulesEntity sizeRules;\r\n    }\r\n    \r\n    \r\n    @Table(name = &quot;MC_Size_Rules&quot;)\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    \r\n    public class SizeRulesEntity {\r\n        @Id\r\n        private int prodRuleId;\r\n        private String prodType;\r\n        private String sizes;\r\n        private int setId;\r\n        private int minQty;\r\n        private String dimension;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name=&quot;prodRuleId&quot;, referencedColumnName=&quot;prodRuleId&quot;, insertable=false, updatable=false)\r\n        private ProductRules productRules;\r\n    }\r\n    \r\n    \r\n    @Table(name = &quot;MC_Product_Rules&quot;)\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    public class ProductRules {\r\n        @Id\r\n        private  int prodRuleId;\r\n        private String prodType;\r\n        private String allowedType;\r\n        private String availability;\r\n        private String prodLabel;\r\n        private String locations;\r\n    \r\n    }. \r\n  \r\nRepository:  \r\n\r\n    Value for prod_type = &quot;ELLACUST&quot;\r\n    Value for Sizes = &quot;XS&quot;,&quot;S&quot;,&quot;M&quot;,&quot;L&quot;,&quot;XL&quot;\r\n\r\nI used these below queries(one by one) , based on prod_type and Size I need to get data from all the tables.  \r\n    \r\nNote: Sizes is not part of table `MC_Product_Type`.  Data team has informed if they include sizes in this table it will be a redundant data. so sizes is part of `MC_Size_Rules` table.\r\n   \r\nI am trying to pass prod_type and sizes dynamically in first two query but getting results only for size &#39;XS&#39; which is value for 1st row in table `MC_Size_Rules` even though if I pass other sizes values.   \r\n  \r\nIn third query, I am getting exception saying sizes is not part of `ProductType`.  \r\n  \r\nI need help on what should I change in entity classes, mappings or in query to get data from all the tables when `prod_type` and correct sizes is passed.  \r\n  \r\n\r\n    public interface ProductRulesRepository extends JpaRepository &lt;ProductType, String&gt; {\r\n        @Query(&quot;SELECT pt FROM ProductType pt JOIN pt.setRules s ON pt.prodTypeId = s.prodTypeId JOIN s.sizeRules sr ON s.setId = sr.setId JOIN sr.productRules pr ON sr.prodRuleId = pr.prodRuleId  where pt.prodType = :prodType AND pt.setRules.sizeRules.sizes = :sizes&quot;)\r\n        ProductType findAllByProdTypeAndSizes(String prodType, String sizes);\r\n    \r\n        @Query(&quot;SELECT pt FROM ProductType pt JOIN pt.setRules s ON pt.prodTypeId = s.prodTypeId JOIN s.sizeRules sr ON s.setId = sr.setId JOIN sr.productRules pr ON sr.prodRuleId = pr.prodRuleId  where pt.prodType = ?1 AND pt.setRules.sizeRules.sizes = ?2&quot;))\r\n    \r\n        @Query(&quot;SELECT pt FROM ProductType pt JOIN pt.setRules s ON pt.prodTypeId = s.prodTypeId JOIN s.sizeRules sr ON s.setId = sr.setId JOIN sr.productRules pr ON sr.prodRuleId = pr.prodRuleId&quot;)\r\n        ProductType findAllByProdTypeAndSizes(String prodType, String sizes);\r\n\r\n&gt; exception : sizes is not defined in ProductType","title":"Fetch Results from All tables in SpringBoot JPA Repository","body":"<p>I am trying to fetch data from all below tables using <code>JOIN</code> query for particular <code>productType</code> and <code>Sizes</code> (column in two diff tables).<br />\nI am unable to get the desired result so some guidance would be very helpful.</p>\n<p>Please find the details below what I have tried till now.</p>\n<p>PK: Primary Key, FK: Foreign Key.<br />\nFollowing is the table structure with tables(mentioned) below has <code>OneToOne</code> mapping to another table.</p>\n<pre><code>**MC_Product_Type**:\n  prod_type_id (PK), \n  prod_type,\n  description\n|\n|OnetoOne\n| \n**MC_Set_Rules**:\n  set_id (PK),\n  prod_type_id (FK),\n  set_name,\n  set_type,\n  condition\n|\n|OneToOne\n|\n**MC_Size_Rules**:\n  prod_rule_id (PK),\n  prod_type,\n  Sizes,\n  set_id (FK),\n  min_qty,\n  dimension\n|\n|OneToOne\n| \n**MC_Product_Rules**: \n   prod_rule_id (FK),\n   prod_type, \n   allowed_type, \n   availability, \n   prod_label, \n   locations\n</code></pre>\n<p>Entity Classes:</p>\n<pre><code>@Table(name = &quot;MC_Product_Type&quot;)\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Getter\n@Setter\n@ApiModel\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ProductType {\n    @Id\n    private int prodTypeId;\n    private String prodType;\n    private String description;\n\n     @OneToOne\n     @JoinColumn(name=&quot;prodTypeId&quot;, referencedColumnName=&quot;prodTypeId&quot;, insertable=false, updatable=false)\n     private SetRules setRules;\n}\n\n\n@Table(name = &quot;MC_Set_Rules&quot;)\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Getter\n@Setter\npublic class SetRules {\n    \n\n    @Id\n    private int setId;\n    private int prodTypeId;\n    private String setName;\n    private String setType;\n    private String condition;\n\n    @OneToOne\n    @JoinColumn(name=&quot;setId&quot;, referencedColumnName=&quot;setId&quot;, insertable=false, updatable=false)\n    private SizeRulesEntity sizeRules;\n}\n\n\n@Table(name = &quot;MC_Size_Rules&quot;)\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Getter\n@Setter\n\npublic class SizeRulesEntity {\n    @Id\n    private int prodRuleId;\n    private String prodType;\n    private String sizes;\n    private int setId;\n    private int minQty;\n    private String dimension;\n\n    @OneToOne\n    @JoinColumn(name=&quot;prodRuleId&quot;, referencedColumnName=&quot;prodRuleId&quot;, insertable=false, updatable=false)\n    private ProductRules productRules;\n}\n\n\n@Table(name = &quot;MC_Product_Rules&quot;)\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Getter\n@Setter\npublic class ProductRules {\n    @Id\n    private  int prodRuleId;\n    private String prodType;\n    private String allowedType;\n    private String availability;\n    private String prodLabel;\n    private String locations;\n\n}. \n</code></pre>\n<p>Repository:</p>\n<pre><code>Value for prod_type = &quot;ELLACUST&quot;\nValue for Sizes = &quot;XS&quot;,&quot;S&quot;,&quot;M&quot;,&quot;L&quot;,&quot;XL&quot;\n</code></pre>\n<p>I used these below queries(one by one) , based on prod_type and Size I need to get data from all the tables.</p>\n<p>Note: Sizes is not part of table <code>MC_Product_Type</code>.  Data team has informed if they include sizes in this table it will be a redundant data. so sizes is part of <code>MC_Size_Rules</code> table.</p>\n<p>I am trying to pass prod_type and sizes dynamically in first two query but getting results only for size 'XS' which is value for 1st row in table <code>MC_Size_Rules</code> even though if I pass other sizes values.</p>\n<p>In third query, I am getting exception saying sizes is not part of <code>ProductType</code>.</p>\n<p>I need help on what should I change in entity classes, mappings or in query to get data from all the tables when <code>prod_type</code> and correct sizes is passed.</p>\n<pre><code>public interface ProductRulesRepository extends JpaRepository &lt;ProductType, String&gt; {\n    @Query(&quot;SELECT pt FROM ProductType pt JOIN pt.setRules s ON pt.prodTypeId = s.prodTypeId JOIN s.sizeRules sr ON s.setId = sr.setId JOIN sr.productRules pr ON sr.prodRuleId = pr.prodRuleId  where pt.prodType = :prodType AND pt.setRules.sizeRules.sizes = :sizes&quot;)\n    ProductType findAllByProdTypeAndSizes(String prodType, String sizes);\n\n    @Query(&quot;SELECT pt FROM ProductType pt JOIN pt.setRules s ON pt.prodTypeId = s.prodTypeId JOIN s.sizeRules sr ON s.setId = sr.setId JOIN sr.productRules pr ON sr.prodRuleId = pr.prodRuleId  where pt.prodType = ?1 AND pt.setRules.sizeRules.sizes = ?2&quot;))\n\n    @Query(&quot;SELECT pt FROM ProductType pt JOIN pt.setRules s ON pt.prodTypeId = s.prodTypeId JOIN s.sizeRules sr ON s.setId = sr.setId JOIN sr.productRules pr ON sr.prodRuleId = pr.prodRuleId&quot;)\n    ProductType findAllByProdTypeAndSizes(String prodType, String sizes);\n</code></pre>\n<blockquote>\n<p>exception : sizes is not defined in ProductType</p>\n</blockquote>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634156234,"creation_date":1634156234,"answer_id":69561824,"question_id":69561241,"body_markdown":"If you want to put the artifacts in a repository other than local, you are not thinking of *installing* but _deploying_ them. Installing with maven by definition puts the artifacts in local repository - so unless you intend to overwrite the location of `.m2/repository` and **all** its contents, just run \r\n\r\n    mvn deploy","title":"Publish maven project to a local directory","body":"<p>If you want to put the artifacts in a repository other than local, you are not thinking of <em>installing</em> but <em>deploying</em> them. Installing with maven by definition puts the artifacts in local repository - so unless you intend to overwrite the location of <code>.m2/repository</code> and <strong>all</strong> its contents, just run</p>\n<pre><code>mvn deploy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634157393,"creation_date":1634156540,"answer_id":69561867,"question_id":69561241,"body_markdown":"You can change the location of your local Maven repository, i.e. where artifacts are installed, by editing the Maven settings file `~/.m2/settings.xml`. Specifically, you are interested in changing the `&lt;localRepository&gt;` to directory of your choice. One thing to look out for is that path you specify must be an absolute path according to the [Configuring your Local Repository][1] section of the user guide. Please also note that this will affect _all_ artifacts (both your private and 3rd party ones) as Maven only supports a single local repository. \r\n\r\nExample:\r\n\r\n```xml\r\n&lt;settings&gt;\r\n  &lt;!-- settings --&gt;\r\n\r\n  &lt;localRepository&gt;/path/to/local/repo/&lt;/localRepository&gt;\r\n\r\n  &lt;!-- more settings --&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-configuring-maven.html#configuring-your-local-repository","title":"Publish maven project to a local directory","body":"<p>You can change the location of your local Maven repository, i.e. where artifacts are installed, by editing the Maven settings file <code>~/.m2/settings.xml</code>. Specifically, you are interested in changing the <code>&lt;localRepository&gt;</code> to directory of your choice. One thing to look out for is that path you specify must be an absolute path according to the <a href=\"https://maven.apache.org/guides/mini/guide-configuring-maven.html#configuring-your-local-repository\" rel=\"nofollow noreferrer\">Configuring your Local Repository</a> section of the user guide. Please also note that this will affect <em>all</em> artifacts (both your private and 3rd party ones) as Maven only supports a single local repository.</p>\n<p>Example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;settings&gt;\n  &lt;!-- settings --&gt;\n\n  &lt;localRepository&gt;/path/to/local/repo/&lt;/localRepository&gt;\n\n  &lt;!-- more settings --&gt;\n&lt;/settings&gt;\n</code></pre>\n"}],"owner":{"account_id":23024713,"reputation":33,"user_id":17145160,"display_name":"gzuhng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69561824,"answer_count":2,"score":2,"last_activity_date":1634157393,"creation_date":1634153076,"question_id":69561241,"body_markdown":"I want to publish my maven project to a local directory but **not** in ```$HOME/.m2/repository```. I have created the following directory structure:\r\n\r\n    $HOME/myrepo\r\n    |- third_party\r\n    +- private\r\n\r\nThe directory ```$HOME/myrepo/third_party``` holds, as the name suggests, external artifacts from 3rd parties. I want to publish my own projects into ```$HOME/myrepo/private```. Therefore, I use the following adjusted ```$HOME/.m2/settings.xml``` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;maven-private&lt;/id&gt;\r\n          &lt;username&gt;&lt;/username&gt;\r\n          &lt;password&gt;&lt;/password&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    \r\n      &lt;mirrors&gt;\r\n        &lt;mirror&gt;\r\n          &lt;id&gt;maven-local&lt;/id&gt;\r\n          &lt;url&gt;file:///home/user/myrepo/third_party&lt;/url&gt;\r\n    \t  &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n        &lt;/mirror&gt;\r\n      &lt;/mirrors&gt;\r\n    &lt;/settings&gt;\r\n\r\nThe file ```pom.xml``` for my test project looks like this:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n      &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;app&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;maven-private&lt;/id&gt;\r\n          &lt;name&gt;Internal Release Repository&lt;/name&gt;\r\n          &lt;url&gt;file:///home/user/myrepo/private&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/distributionManagement&gt;\r\n    &lt;/project&gt;\r\n\r\nWhen I run\r\n\r\n    mvn install\r\n\r\nThe project compiles successfully and all required files are fetched from ```$HOME/myrepo/third_party```, however, after compilation the project is always installed to ```$HOME/.m2/repository```.\r\n\r\n\r\nHow do I have to configure maven in order to publish my projects into the ```$HOME/myrepo/private``` directory?","title":"Publish maven project to a local directory","body":"<p>I want to publish my maven project to a local directory but <strong>not</strong> in <code>$HOME/.m2/repository</code>. I have created the following directory structure:</p>\n<pre><code>$HOME/myrepo\n|- third_party\n+- private\n</code></pre>\n<p>The directory <code>$HOME/myrepo/third_party</code> holds, as the name suggests, external artifacts from 3rd parties. I want to publish my own projects into <code>$HOME/myrepo/private</code>. Therefore, I use the following adjusted <code>$HOME/.m2/settings.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;maven-private&lt;/id&gt;\n      &lt;username&gt;&lt;/username&gt;\n      &lt;password&gt;&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;maven-local&lt;/id&gt;\n      &lt;url&gt;file:///home/user/myrepo/third_party&lt;/url&gt;\n      &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>The file <code>pom.xml</code> for my test project looks like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n  &lt;artifactId&gt;app&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;app&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;maven-private&lt;/id&gt;\n      &lt;name&gt;Internal Release Repository&lt;/name&gt;\n      &lt;url&gt;file:///home/user/myrepo/private&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I run</p>\n<pre><code>mvn install\n</code></pre>\n<p>The project compiles successfully and all required files are fetched from <code>$HOME/myrepo/third_party</code>, however, after compilation the project is always installed to <code>$HOME/.m2/repository</code>.</p>\n<p>How do I have to configure maven in order to publish my projects into the <code>$HOME/myrepo/private</code> directory?</p>\n"},{"tags":["java","maven","java-platform-module-system"],"answers":[{"tags":[],"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634156980,"creation_date":1634155061,"answer_id":69561618,"question_id":69561279,"body_markdown":"If you run \r\n```mvn help:effective-pom``` you will notice that the project uses the maven compiler version that may be a bit dated. Try explicitly using a newer version and see how it changes things:\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt; &lt;!-- current version --&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n","title":"Why does Maven not find org.json JPMS automatic module?","body":"<p>If you run\n<code>mvn help:effective-pom</code> you will notice that the project uses the maven compiler version that may be a bit dated. Try explicitly using a newer version and see how it changes things:</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt; &lt;!-- current version --&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":93179,"reputation":3761,"user_id":255061,"accept_rate":62,"display_name":"Jesse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69561618,"answer_count":1,"score":2,"last_activity_date":1634156980,"creation_date":1634153314,"question_id":69561279,"body_markdown":"I have a small test project, containing 2 files:\r\n\r\n`pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20210307&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand `src/main/java/module-info.java`:\r\n\r\n```\r\nmodule org.example.test {\r\n    requires org.json;\r\n}\r\n```\r\n\r\nWhen I compile with Temurin 17:\r\n\r\n```\r\nopenjdk version &quot;17&quot; 2021-09-14\r\nOpenJDK Runtime Environment Temurin-17+35 (build 17+35)\r\nOpenJDK 64-Bit Server VM Temurin-17+35 (build 17+35, mixed mode, sharing)\r\n```\r\n\r\nAnd Maven 3.6.3 packaged with IntelliJ IDEA, I get this error:\r\n\r\n```\r\nsrc/main/java/module-info.java:[2,17] module not found: org.json\r\n```\r\n\r\nThe `json-20210307.jar` file contains this line in `META-INF/MANIFEST.MF`:\r\n\r\n```\r\nAutomatic-Module-Name: org.json\r\n```\r\n\r\nWhat further do I need to do to use JPMS in Maven?","title":"Why does Maven not find org.json JPMS automatic module?","body":"<p>I have a small test project, containing 2 files:</p>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and <code>src/main/java/module-info.java</code>:</p>\n<pre><code>module org.example.test {\n    requires org.json;\n}\n</code></pre>\n<p>When I compile with Temurin 17:</p>\n<pre><code>openjdk version &quot;17&quot; 2021-09-14\nOpenJDK Runtime Environment Temurin-17+35 (build 17+35)\nOpenJDK 64-Bit Server VM Temurin-17+35 (build 17+35, mixed mode, sharing)\n</code></pre>\n<p>And Maven 3.6.3 packaged with IntelliJ IDEA, I get this error:</p>\n<pre><code>src/main/java/module-info.java:[2,17] module not found: org.json\n</code></pre>\n<p>The <code>json-20210307.jar</code> file contains this line in <code>META-INF/MANIFEST.MF</code>:</p>\n<pre><code>Automatic-Module-Name: org.json\n</code></pre>\n<p>What further do I need to do to use JPMS in Maven?</p>\n"},{"tags":["java","loops","hashmap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1634155738,"post_id":69561645,"comment_id":122953049,"body_markdown":"`==` is for reference equality. Use `equals()` to compare separate but equivalent objects.","body":"<code>==</code> is for reference equality. Use <code>equals()</code> to compare separate but equivalent objects."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1634155951,"post_id":69561645,"comment_id":122953110,"body_markdown":"You need to use `.equals`, not `==`, or -- even better -- you should just do the map lookup, just using `map.get(point)`.","body":"You need to use <code>.equals</code>, not <code>==</code>, or -- even better -- you should just do the map lookup, just using <code>map.get(point)</code>."}],"answers":[{"tags":[],"owner":{"account_id":17783121,"reputation":418,"user_id":12913865,"display_name":"imon Vyhnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634156878,"creation_date":1634156878,"answer_id":69561910,"question_id":69561645,"body_markdown":"As mentioned in comments, when you want to compare two different objects of the same type in java, you have to use .equals() instead of ==. So whole code is:\r\n\r\n    for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\r\n    Point point = entry.getKey();\r\n    if(point.equals(outsidePoint)){\r\n       //insert code here\r\n    }\r\n\r\nYou can also assign `entry.getKey()` to point directly, there is no need for `new Point()`.","title":"Iterating through a HashMap to find a key object that matches an outside object in Java","body":"<p>As mentioned in comments, when you want to compare two different objects of the same type in java, you have to use .equals() instead of ==. So whole code is:</p>\n<pre><code>for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\nPoint point = entry.getKey();\nif(point.equals(outsidePoint)){\n   //insert code here\n}\n</code></pre>\n<p>You can also assign <code>entry.getKey()</code> to point directly, there is no need for <code>new Point()</code>.</p>\n"}],"owner":{"account_id":23024973,"reputation":3,"user_id":17145379,"display_name":"Jamo Kisor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634157483,"accepted_answer_id":69561910,"answer_count":1,"score":0,"last_activity_date":1634156878,"creation_date":1634155232,"question_id":69561645,"body_markdown":"I am quite new to coding in general and this may be a simple answer. I certainly hope that it is.\r\nI am trying to iterate through a HashMap and compare the Key to an outside object of the same type. When I run the method, it is not showing me that the objects match even though their values are the same. The Point class is made up from 2 integers, an x and a y.\r\nHere is my code:\r\n\r\n    for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\r\n        Point point = new Point(0,0);\r\n        point = entry.getKey();\r\n        if(point == outsidePoint){\r\n           //insert code here\r\n        }\r\nI know that at some time during the iteration that the *point* object is equal to the *outsidePoint* object, but it will not run the code inside the if statement.\r\n\r\nAny help would be incredibly beneficial.","title":"Iterating through a HashMap to find a key object that matches an outside object in Java","body":"<p>I am quite new to coding in general and this may be a simple answer. I certainly hope that it is.\nI am trying to iterate through a HashMap and compare the Key to an outside object of the same type. When I run the method, it is not showing me that the objects match even though their values are the same. The Point class is made up from 2 integers, an x and a y.\nHere is my code:</p>\n<pre><code>for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\n    Point point = new Point(0,0);\n    point = entry.getKey();\n    if(point == outsidePoint){\n       //insert code here\n    }\n</code></pre>\n<p>I know that at some time during the iteration that the <em>point</em> object is equal to the <em>outsidePoint</em> object, but it will not run the code inside the if statement.</p>\n<p>Any help would be incredibly beneficial.</p>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1633972576,"post_id":69530080,"comment_id":122896851,"body_markdown":"Read further! The next rule talks about &quot;Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; **where at least one of the Ri (1  i  n) is a wildcard type argument**&quot;","body":"Read further! The next rule talks about &quot;Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; <b>where at least one of the Ri (1  i  n) is a wildcard type argument</b>&quot;"},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1633973372,"post_id":69530080,"comment_id":122897095,"body_markdown":"Ah, thanks for that; missed that part! So my reading was right as far as it went, but as you quite rightly point out the supertypes of a parameterized type containing at least one wildcard are those that result from applying capture conversion to the original type arguments.","body":"Ah, thanks for that; missed that part! So my reading was right as far as it went, but as you quite rightly point out the supertypes of a parameterized type containing at least one wildcard are those that result from applying capture conversion to the original type arguments."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633973476,"creation_date":1633973476,"answer_id":69530309,"question_id":69530080,"body_markdown":"The part you quoted indeed doesn&#39;t say anything about parameterised types with at least one wildcard type argument. What their direct super types are is specified just after the part you quoted:\r\n\r\n&gt; Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; where at least one of the Ri (1  i  n) is a wildcard type argument, are the direct supertypes of the parameterized type C&lt;X1,...,Xn&gt; which is the result of applying capture conversion to C&lt;R1,...,Rn&gt; ([&#167;5.1.10][1]).\r\n\r\nBasically, to find the direct super types of a type with at least one wildcard type argument, you first apply capture conversion, and then you will get a parameterised type that only &quot;types&quot; as the type parameters, as capture conversion converts the wildcards to type variables. After that, you can use the rule that you quoted to find its super types.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10","title":"In the Java Language Specification version 11, section 4.10.2, is it true that a parameterized type containing a wildcard has no direct supertypes?","body":"<p>The part you quoted indeed doesn't say anything about parameterised types with at least one wildcard type argument. What their direct super types are is specified just after the part you quoted:</p>\n<blockquote>\n<p>Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; where at least one of the Ri (1  i  n) is a wildcard type argument, are the direct supertypes of the parameterized type C&lt;X1,...,Xn&gt; which is the result of applying capture conversion to C&lt;R1,...,Rn&gt; (<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">5.1.10</a>).</p>\n</blockquote>\n<p>Basically, to find the direct super types of a type with at least one wildcard type argument, you first apply capture conversion, and then you will get a parameterised type that only &quot;types&quot; as the type parameters, as capture conversion converts the wildcards to type variables. After that, you can use the rule that you quoted to find its super types.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634156794,"creation_date":1633974693,"answer_id":69530505,"question_id":69530080,"body_markdown":"Wildcards are types in JAVA, they are &quot;existential types&quot;. From your same linked page:\r\n\r\n&gt; The relationship of wildcards to established type theory is an\r\n&gt; interesting one, which we briefly allude to here. Wildcards are a\r\n&gt; restricted form of existential types. Given a generic type declaration\r\n&gt; G&lt;T extends B&gt;, G&lt;?&gt; is roughly analogous to Some X &lt;: B. G&lt;X&gt;.\r\n&gt; \r\n\r\nAlso:\r\n&gt; Raw types are closely related to wildcards. Both are based on\r\n&gt; existential types. Raw types can be thought of as wildcards whose type\r\n&gt; rules are deliberately unsound, to accommodate interaction with legacy\r\n&gt; code. Historically, raw types preceded wildcards; they were first\r\n&gt; introduced in GJ, and described in the paper Making the future safe\r\n&gt; for the past: Adding Genericity to the Java Programming Language by\r\n&gt; Gilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler, in\r\n&gt; Proceedings of the ACM Conference on Object-Oriented Programming,\r\n&gt; Systems, Languages and Applications (OOPSLA 98), October 1998.\r\n\r\nAn existential type hides a type within its implementation from the caller. For X to be existential in T, X&#39;s identity cannot be known from any calling object.  All that is known is the set of operations provided at definition. \r\n\r\nFrom [Raw Types in Java][1]:\r\nA raw type is a name for a generic interface or class without its type argument:\r\n\r\n    List list = new ArrayList(); // raw type\r\n\r\nInstead of:\r\n\r\n    List&lt;Integer&gt; listIntgrs = new ArrayList&lt;&gt;(); // parameterized type\r\n\r\nSo it&#39;s not a type in the classic sense of types in JAVA: primitives or reference types, but it is a special form of type that the compiler has rules for and knows how to handle.  Does that mean it really isn&#39;t a type?  I would argue no, it is a psuedo-type or unknown type for lack of better words as it can be declared and used without knowing what it&#39;s type is.  \r\n\r\nTherefore it won&#39;t have a supertype in and of itself. \r\n\r\n&gt; but a parameterized type C&lt;T,,T&gt;, where at least one T is a\r\n&gt; wildcard has no direct supertypes\r\n\r\nHowever, as @Sweeper pointed out, if you have parameterised types with at least one wildcard type argument, then you can find the super type using capture conversion.\r\n\r\nI found this definition for capture conversion here on SO: [What is a capture conversion in Java and can anyone give me examples?][2]\r\n\r\n&gt; Capture conversion is what allows the compiler to manufacture a\r\n&gt; placeholder type name for the captured wildcard, so that type\r\n&gt; inference can infer it to be that type.\r\n\r\n\r\n  [1]: https://www.baeldung.com/raw-types-java\r\n  [2]: https://stackoverflow.com/questions/4431702/what-is-a-capture-conversion-in-java-and-can-anyone-give-me-examples","title":"In the Java Language Specification version 11, section 4.10.2, is it true that a parameterized type containing a wildcard has no direct supertypes?","body":"<p>Wildcards are types in JAVA, they are &quot;existential types&quot;. From your same linked page:</p>\n<blockquote>\n<p>The relationship of wildcards to established type theory is an\ninteresting one, which we briefly allude to here. Wildcards are a\nrestricted form of existential types. Given a generic type declaration\nG, G&lt;?&gt; is roughly analogous to Some X &lt;: B. G.</p>\n</blockquote>\n<p>Also:</p>\n<blockquote>\n<p>Raw types are closely related to wildcards. Both are based on\nexistential types. Raw types can be thought of as wildcards whose type\nrules are deliberately unsound, to accommodate interaction with legacy\ncode. Historically, raw types preceded wildcards; they were first\nintroduced in GJ, and described in the paper Making the future safe\nfor the past: Adding Genericity to the Java Programming Language by\nGilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler, in\nProceedings of the ACM Conference on Object-Oriented Programming,\nSystems, Languages and Applications (OOPSLA 98), October 1998.</p>\n</blockquote>\n<p>An existential type hides a type within its implementation from the caller. For X to be existential in T, X's identity cannot be known from any calling object.  All that is known is the set of operations provided at definition.</p>\n<p>From <a href=\"https://www.baeldung.com/raw-types-java\" rel=\"nofollow noreferrer\">Raw Types in Java</a>:\nA raw type is a name for a generic interface or class without its type argument:</p>\n<pre><code>List list = new ArrayList(); // raw type\n</code></pre>\n<p>Instead of:</p>\n<pre><code>List&lt;Integer&gt; listIntgrs = new ArrayList&lt;&gt;(); // parameterized type\n</code></pre>\n<p>So it's not a type in the classic sense of types in JAVA: primitives or reference types, but it is a special form of type that the compiler has rules for and knows how to handle.  Does that mean it really isn't a type?  I would argue no, it is a psuedo-type or unknown type for lack of better words as it can be declared and used without knowing what it's type is.</p>\n<p>Therefore it won't have a supertype in and of itself.</p>\n<blockquote>\n<p>but a parameterized type C&lt;T,,T&gt;, where at least one T is a\nwildcard has no direct supertypes</p>\n</blockquote>\n<p>However, as @Sweeper pointed out, if you have parameterised types with at least one wildcard type argument, then you can find the super type using capture conversion.</p>\n<p>I found this definition for capture conversion here on SO: <a href=\"https://stackoverflow.com/questions/4431702/what-is-a-capture-conversion-in-java-and-can-anyone-give-me-examples\">What is a capture conversion in Java and can anyone give me examples?</a></p>\n<blockquote>\n<p>Capture conversion is what allows the compiler to manufacture a\nplaceholder type name for the captured wildcard, so that type\ninference can infer it to be that type.</p>\n</blockquote>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69530309,"answer_count":2,"score":1,"last_activity_date":1634156794,"creation_date":1633972294,"question_id":69530080,"body_markdown":"In [the Java Language Specification, version 11, section 4.10.2](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.10.2), it reads, in part, while discussing direct supertypes of parameterized types:\r\n&gt; Given a generic type declaration C&lt;F,,F&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;T,,T&gt;, **where T (1  i  n) is a type**, are all of the following:\r\n\r\n(Then it lists a bunch of rules that apply to such parameterized types.  These rules are mostly irrelevant for this question.  They are relevant only in that they define direct supertypes for some cases of parameterized types.)\r\n\r\nWhat &quot;is a type&quot; means can be found [at the top of section 4.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-Type):\r\n&gt; There are two kinds of types in the Java programming language: primitive types (&#167;4.2) and reference types (&#167;4.3).\r\n\r\nA reference type (we&#39;re not talking about primitives here, that&#39;s for sure) [is simply a `ClassOrInterfaceType`, a `TypeVariable` or an `ArrayType`](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-ReferenceType).\r\n\r\nTherefore a wildcard is not a kind of type.\r\n\r\n(It [is, in fact, a kind of `TypeArgument`](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-TypeArgument).  You might think hazily and na&#239;vely as I once did that a wildcard is a wonky kind of `TypeVariable`, and hence a type, but [you would be incorrect](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-TypeVariable).)\r\n\r\nSo putting all this together, my reading of the relevant part of section 4.10.2 is:\r\n * &quot;the parameterized type C&lt;T,,T&gt;, where T (1  i  n) is a type&quot; has direct supertypes of various kinds\r\n * but **a parameterized type C&lt;T,,T&gt;, where at least one T is a wildcard has _no_ direct supertypes**\r\n   * because the rules that are listed in this section do not apply wholly or partially to parameterized types containing at least one wildcard\r\n     * because a wildcard is not a type, so the &quot;where T (1  i  n) is a type&quot; condition is never met.\r\n\r\nIs this a correct reading?  In other words, is my deductive reasoning correct?\r\n\r\n(It is perhaps worth noting in passing that there are types that can &quot;contain&quot; a parameterized type containing wildcards (as [defined in section 4.5.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1)).)","title":"In the Java Language Specification version 11, section 4.10.2, is it true that a parameterized type containing a wildcard has no direct supertypes?","body":"<p>In <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.10.2\" rel=\"nofollow noreferrer\">the Java Language Specification, version 11, section 4.10.2</a>, it reads, in part, while discussing direct supertypes of parameterized types:</p>\n<blockquote>\n<p>Given a generic type declaration C&lt;F,,F&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;T,,T&gt;, <strong>where T (1  i  n) is a type</strong>, are all of the following:</p>\n</blockquote>\n<p>(Then it lists a bunch of rules that apply to such parameterized types.  These rules are mostly irrelevant for this question.  They are relevant only in that they define direct supertypes for some cases of parameterized types.)</p>\n<p>What &quot;is a type&quot; means can be found <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-Type\" rel=\"nofollow noreferrer\">at the top of section 4.1</a>:</p>\n<blockquote>\n<p>There are two kinds of types in the Java programming language: primitive types (4.2) and reference types (4.3).</p>\n</blockquote>\n<p>A reference type (we're not talking about primitives here, that's for sure) <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-ReferenceType\" rel=\"nofollow noreferrer\">is simply a <code>ClassOrInterfaceType</code>, a <code>TypeVariable</code> or an <code>ArrayType</code></a>.</p>\n<p>Therefore a wildcard is not a kind of type.</p>\n<p>(It <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-TypeArgument\" rel=\"nofollow noreferrer\">is, in fact, a kind of <code>TypeArgument</code></a>.  You might think hazily and navely as I once did that a wildcard is a wonky kind of <code>TypeVariable</code>, and hence a type, but <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-TypeVariable\" rel=\"nofollow noreferrer\">you would be incorrect</a>.)</p>\n<p>So putting all this together, my reading of the relevant part of section 4.10.2 is:</p>\n<ul>\n<li>&quot;the parameterized type C&lt;T,,T&gt;, where T (1  i  n) is a type&quot; has direct supertypes of various kinds</li>\n<li>but <strong>a parameterized type C&lt;T,,T&gt;, where at least one T is a wildcard has <em>no</em> direct supertypes</strong>\n<ul>\n<li>because the rules that are listed in this section do not apply wholly or partially to parameterized types containing at least one wildcard\n<ul>\n<li>because a wildcard is not a type, so the &quot;where T (1  i  n) is a type&quot; condition is never met.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Is this a correct reading?  In other words, is my deductive reasoning correct?</p>\n<p>(It is perhaps worth noting in passing that there are types that can &quot;contain&quot; a parameterized type containing wildcards (as <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1\" rel=\"nofollow noreferrer\">defined in section 4.5.1</a>).)</p>\n"},{"tags":["java","intellij-idea","compiler-errors","kotlin","java-9"],"comments":[{"owner":{"account_id":9583217,"reputation":9600,"user_id":7117003,"display_name":"petezurich"},"score":2,"creation_date":1524256814,"post_id":49949385,"comment_id":86915371,"body_markdown":"Welcome to SO. Please have a look here to learn how to improve your questions (formatting, proofreading, providing code etc.): https://stackoverflow.com/help/how-to-ask","body":"Welcome to SO. Please have a look here to learn how to improve your questions (formatting, proofreading, providing code etc.): <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":35450,"reputation":5149,"user_id":100398,"accept_rate":75,"display_name":"dewald"},"score":3,"creation_date":1524279903,"post_id":49949385,"comment_id":86920380,"body_markdown":"Seeing the same thing. Using IntelliJ 2018.1.1, JDK 9.0.4+11, and Kotlin 1.2.40. If I make a change and just hit build I see the error above. If I clean and rebuild from scratch it works but this is a tedious workaround.","body":"Seeing the same thing. Using IntelliJ 2018.1.1, JDK 9.0.4+11, and Kotlin 1.2.40. If I make a change and just hit build I see the error above. If I clean and rebuild from scratch it works but this is a tedious workaround."},{"owner":{"account_id":6915840,"reputation":188,"user_id":5310155,"display_name":"cycki"},"score":10,"creation_date":1524298179,"post_id":49949385,"comment_id":86923950,"body_markdown":"I had the same problem. In my case manualy deteting _out_ folder helped. Hope this help You too.","body":"I had the same problem. In my case manualy deteting <i>out</i> folder helped. Hope this help You too."},{"owner":{"account_id":1628396,"reputation":3888,"user_id":1503413,"accept_rate":79,"display_name":"random"},"score":2,"creation_date":1524302356,"post_id":49949385,"comment_id":86924905,"body_markdown":"Same problem after update. Deleting _out_  helps, but issue returns back after some time","body":"Same problem after update. Deleting <i>out</i>  helps, but issue returns back after some time"},{"owner":{"account_id":13394258,"reputation":527,"user_id":9665725,"display_name":"Samplasion"},"score":0,"creation_date":1524303167,"post_id":49949385,"comment_id":86925094,"body_markdown":"@random But at least you know what the problem is","body":"@random But at least you know what the problem is"},{"owner":{"account_id":10693297,"reputation":404,"user_id":7871412,"display_name":"DCjanus"},"score":9,"creation_date":1524312333,"post_id":49949385,"comment_id":86927498,"body_markdown":"I had the same problem. It seem that caused by kotlin plugin 1.2.40. rollback plugin to 1.2.31. the problem disappeared","body":"I had the same problem. It seem that caused by kotlin plugin 1.2.40. rollback plugin to 1.2.31. the problem disappeared"},{"owner":{"account_id":2852962,"reputation":4899,"user_id":2449744,"accept_rate":93,"display_name":"Eldar Agalarov"},"score":0,"creation_date":1524512880,"post_id":49949385,"comment_id":86994163,"body_markdown":"Somebody, please report this bug in JetBrains Bug Tracker","body":"Somebody, please report this bug in JetBrains Bug Tracker"},{"owner":{"account_id":2817676,"reputation":1264,"user_id":2422285,"accept_rate":50,"display_name":"Tuno"},"score":7,"creation_date":1524549239,"post_id":49949385,"comment_id":87004848,"body_markdown":"Please vote https://youtrack.jetbrains.com/issue/KT-23901","body":"Please vote <a href=\"https://youtrack.jetbrains.com/issue/KT-23901\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-23901</a>"}],"answers":[{"tags":[],"owner":{"account_id":2900809,"reputation":4870,"user_id":2487565,"accept_rate":100,"display_name":"Tolbxela"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524513300,"creation_date":1524512909,"answer_id":49988907,"question_id":49949385,"body_markdown":"I had the same problem with Kotlin 1.2.40 and Java JDK 10. After every change in the code, I had to rebuild the whole project to get rid of the compilation error. Deleting of the out folder did help only until the next change. I was looking for the way to downgrade the Kotlin plugin to the previous version, but have found a better solution. \r\n\r\nMy IDEA project didn&#39;t have Gradle and I was able to solve the problem by adding Gradle to the project.\r\n\r\nJust close the Project, put the following file &quot;build.gradle&quot; to the root folder and re-import the Project in the IntelliJ IDEA.\r\n\r\nMy file build.gradle looks so:\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.2.40&#39;\r\n    \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;kotlin&#39;\r\n    \r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\r\n    }\r\n\r\nIt works well now with the Plugin Version 1.2.40. A downgrade to a previous version is not necessary.","title":"Error compiling in IntelliJ IDEA: &quot;No MessageCollector&quot;","body":"<p>I had the same problem with Kotlin 1.2.40 and Java JDK 10. After every change in the code, I had to rebuild the whole project to get rid of the compilation error. Deleting of the out folder did help only until the next change. I was looking for the way to downgrade the Kotlin plugin to the previous version, but have found a better solution. </p>\n\n<p>My IDEA project didn't have Gradle and I was able to solve the problem by adding Gradle to the project.</p>\n\n<p>Just close the Project, put the following file \"build.gradle\" to the root folder and re-import the Project in the IntelliJ IDEA.</p>\n\n<p>My file build.gradle looks so:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.40'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nsourceSets {\n    main.java.srcDirs += 'src'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n}\n</code></pre>\n\n<p>It works well now with the Plugin Version 1.2.40. A downgrade to a previous version is not necessary.</p>\n"},{"tags":[],"owner":{"account_id":2153563,"reputation":264,"user_id":1909269,"display_name":"Alex Kritchevsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1538591380,"creation_date":1525467125,"answer_id":50182887,"question_id":49949385,"body_markdown":"Promoting the answer in the comments to an answer, because it&#39;s the actual answer:\r\n\r\nThis appears to be a bug in the IntelliJ Kotlin plugin v1.2.40 and how it interacts with Java 10. See [here](https://youtrack.jetbrains.com/issue/KT-23901). The solution is to upgrade to v1.2.41.\r\n\r\n(Don&#39;t switch your project to building with Gradle like the other answer suggests just because the plugin is broken. That&#39;s weird.)","title":"Error compiling in IntelliJ IDEA: &quot;No MessageCollector&quot;","body":"<p>Promoting the answer in the comments to an answer, because it's the actual answer:</p>\n\n<p>This appears to be a bug in the IntelliJ Kotlin plugin v1.2.40 and how it interacts with Java 10. See <a href=\"https://youtrack.jetbrains.com/issue/KT-23901\" rel=\"nofollow noreferrer\">here</a>. The solution is to upgrade to v1.2.41.</p>\n\n<p>(Don't switch your project to building with Gradle like the other answer suggests just because the plugin is broken. That's weird.)</p>\n"}],"owner":{"account_id":13394258,"reputation":527,"user_id":9665725,"display_name":"Samplasion"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":50182887,"answer_count":2,"score":31,"last_activity_date":1634156704,"creation_date":1524256689,"question_id":49949385,"body_markdown":"*Edit: Solved. See @acdsee&#39;s comment to see how*.\r\n\r\nSince I updated IntelliJ IDEA from 2017.3.5 to 2018.1, every project I start throws this error:\r\n\r\n    &gt; Error:Module &#39;JBA&#39; production: java.lang.Exception: LOGGING: Loading\r\n    &gt; modules: [java.se, javafx.base, javafx.controls, javafx.fxml,\r\n    &gt; javafx.graphics, javafx.media, javafx.swing, javafx.web,\r\n    &gt; jdk.accessibility, jdk.attach, jdk.compiler, jdk.dynalink,\r\n    &gt; jdk.httpserver, jdk.incubator.httpclient, jdk.jartool, jdk.javadoc,\r\n    &gt; jdk.jconsole, jdk.jdi, jdk.jfr, jdk.jshell, jdk.jsobject,\r\n    &gt; jdk.management, jdk.management.cmm, jdk.management.jfr,\r\n    &gt; jdk.management.resource, jdk.net, jdk.packager, jdk.packager.services,\r\n    &gt; jdk.scripting.nashorn, jdk.sctp, jdk.security.auth, jdk.security.jgss,\r\n    &gt; jdk.unsupported, jdk.xml.dom, oracle.desktop, oracle.net, java.base,\r\n    &gt; java.compiler, java.datatransfer, java.desktop, java.xml,\r\n    &gt; java.instrument, java.logging, java.management, java.management.rmi,\r\n    &gt; java.rmi, java.naming, java.prefs, java.scripting, java.security.jgss,\r\n    &gt; java.security.sasl, java.sql, java.sql.rowset, java.xml.crypto,\r\n    &gt; jdk.internal.jvmstat, jdk.management.agent, jdk.jdwp.agent,\r\n    &gt; jdk.internal.ed, jdk.internal.le, jdk.internal.opt, jdk.jlink] (no\r\n    &gt; MessageCollector configured)","title":"Error compiling in IntelliJ IDEA: &quot;No MessageCollector&quot;","body":"<p><em>Edit: Solved. See @acdsee's comment to see how</em>.</p>\n<p>Since I updated IntelliJ IDEA from 2017.3.5 to 2018.1, every project I start throws this error:</p>\n<pre><code>&gt; Error:Module 'JBA' production: java.lang.Exception: LOGGING: Loading\n&gt; modules: [java.se, javafx.base, javafx.controls, javafx.fxml,\n&gt; javafx.graphics, javafx.media, javafx.swing, javafx.web,\n&gt; jdk.accessibility, jdk.attach, jdk.compiler, jdk.dynalink,\n&gt; jdk.httpserver, jdk.incubator.httpclient, jdk.jartool, jdk.javadoc,\n&gt; jdk.jconsole, jdk.jdi, jdk.jfr, jdk.jshell, jdk.jsobject,\n&gt; jdk.management, jdk.management.cmm, jdk.management.jfr,\n&gt; jdk.management.resource, jdk.net, jdk.packager, jdk.packager.services,\n&gt; jdk.scripting.nashorn, jdk.sctp, jdk.security.auth, jdk.security.jgss,\n&gt; jdk.unsupported, jdk.xml.dom, oracle.desktop, oracle.net, java.base,\n&gt; java.compiler, java.datatransfer, java.desktop, java.xml,\n&gt; java.instrument, java.logging, java.management, java.management.rmi,\n&gt; java.rmi, java.naming, java.prefs, java.scripting, java.security.jgss,\n&gt; java.security.sasl, java.sql, java.sql.rowset, java.xml.crypto,\n&gt; jdk.internal.jvmstat, jdk.management.agent, jdk.jdwp.agent,\n&gt; jdk.internal.ed, jdk.internal.le, jdk.internal.opt, jdk.jlink] (no\n&gt; MessageCollector configured)\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":20032867,"reputation":25,"user_id":14685244,"display_name":"Mykhailo Pavliuk"},"score":0,"creation_date":1634102631,"post_id":69526531,"comment_id":122932680,"body_markdown":"@jewelsea will check this approach, thank you. You write your answer and I will be able to mark it)","body":"@jewelsea will check this approach, thank you. You write your answer and I will be able to mark it)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1634156606,"post_id":69526531,"comment_id":122953362,"body_markdown":"Replaced comment with an answer.","body":"Replaced comment with an answer."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634156591,"creation_date":1634156591,"answer_id":69561877,"question_id":69526531,"body_markdown":"Presumably, you actually want to have a very different layout with different nodes and controls displayed in the different views, otherwise, you could just use the standard JavaFX sizing hints in [layout panes][1] to achieve what you want.  So this is the assumption that this answer makes.\r\n\r\nI don&#39;t know anything about &quot;javafx weaver&quot;, but perhaps make the `DashboardMainController` abstract, then define three subclasses for the different views and put your @FXMLView annotation on them. \r\n\r\nYou have to be careful in doing that as you will now have three controller instances, each linking to different nodes.  However, this is probably exactly what you want.  \r\n\r\nIn JavaFX, the controllers are tied pretty strongly with the views as the FXMLLoader will instantiate the node hierarchy for the view and insert it into the controller.  So each controller instance and its associated nodes will map to a different view of the same underlying model data.\r\n\r\nTo keep everything in synch you will need to separate the model from [views][2]/[view-models][3].  For an overview of how to do this, which is relatively advanced (e.g. not novice level), see:\r\n\r\n * https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\r\n  [2]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [3]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel","title":"How can I change view for controller dynamically using javafx weaver","body":"<p>Presumably, you actually want to have a very different layout with different nodes and controls displayed in the different views, otherwise, you could just use the standard JavaFX sizing hints in <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\" rel=\"nofollow noreferrer\">layout panes</a> to achieve what you want.  So this is the assumption that this answer makes.</p>\n<p>I don't know anything about &quot;javafx weaver&quot;, but perhaps make the <code>DashboardMainController</code> abstract, then define three subclasses for the different views and put your @FXMLView annotation on them.</p>\n<p>You have to be careful in doing that as you will now have three controller instances, each linking to different nodes.  However, this is probably exactly what you want.</p>\n<p>In JavaFX, the controllers are tied pretty strongly with the views as the FXMLLoader will instantiate the node hierarchy for the view and insert it into the controller.  So each controller instance and its associated nodes will map to a different view of the same underlying model data.</p>\n<p>To keep everything in synch you will need to separate the model from <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">views</a>/<a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel\" rel=\"nofollow noreferrer\">view-models</a>.  For an overview of how to do this, which is relatively advanced (e.g. not novice level), see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">Applying MVC With JavaFx</a></li>\n</ul>\n"}],"owner":{"account_id":20032867,"reputation":25,"user_id":14685244,"display_name":"Mykhailo Pavliuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69561877,"answer_count":1,"score":1,"last_activity_date":1634156591,"creation_date":1633956729,"question_id":69526531,"body_markdown":"I have following project structure:\r\n![Structure of the project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrfmq.png\r\n\r\n*DashboarMainController*:\r\n\r\n    @Component\r\n    @FxmlView(&quot;/view/normal/dashboard-main.fxml&quot;)\r\n    public class DashboardMainController implements Initializable {\r\n\r\n        ...some logic\r\n    }\r\n\r\n`@FxmlView` can be attached only once and accepts only one `String`\r\n\r\nProgram should have three possible screen resolution (small, normal, large) to change dynamically in the program. So I&#39;d like to use different predefined views for the same controller to manage.\r\n","title":"How can I change view for controller dynamically using javafx weaver","body":"<p>I have following project structure:\n<img src=\"https://i.stack.imgur.com/xrfmq.png\" alt=\"Structure of the project\" /></p>\n<p><em>DashboarMainController</em>:</p>\n<pre><code>@Component\n@FxmlView(&quot;/view/normal/dashboard-main.fxml&quot;)\npublic class DashboardMainController implements Initializable {\n\n    ...some logic\n}\n</code></pre>\n<p><code>@FxmlView</code> can be attached only once and accepts only one <code>String</code></p>\n<p>Program should have three possible screen resolution (small, normal, large) to change dynamically in the program. So I'd like to use different predefined views for the same controller to manage.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1387473510,"post_id":20687763,"comment_id":30981403,"body_markdown":"Are there any sections of `-- whatever --` that should stay? If not then maybe try `-- *[^-]+ *--`.","body":"Are there any sections of <code>-- whatever --</code> that should stay? If not then maybe try <code>-- *[^-]+ *--</code>."},{"owner":{"account_id":482979,"reputation":13177,"user_id":897756,"accept_rate":91,"display_name":"genxgeek"},"score":0,"creation_date":1387475030,"post_id":20687763,"comment_id":30982319,"body_markdown":"the issue is that I can&#39;t always rely on the dashes.  that is just one pattern.  some patterns don&#39;t contain dashes but I have to match in other languages (I made some edits above to describe).","body":"the issue is that I can&#39;t always rely on the dashes.  that is just one pattern.  some patterns don&#39;t contain dashes but I have to match in other languages (I made some edits above to describe)."}],"answers":[{"tags":[],"owner":{"account_id":3709514,"reputation":952,"user_id":3087209,"display_name":"JosefN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1387473720,"creation_date":1387473720,"answer_id":20687895,"question_id":20687763,"body_markdown":"you can use OR in regex \r\n\r\n    Pattern PATTERN = Pattern.compile(&quot;^(.*?)-+ *(?:Delete Here|Elimina qui) *-+&quot;, Pattern.DOTALL)\r\n\r\nbut be carefull if you have many (hunderds ) OR strings it could be problem from performance point of view. For such number is better to make simple pattern to retrieve string between &quot;--&quot;s and use a set to check if it is what you are looking for ","title":"Using regex to parse different locale/langage?","body":"<p>you can use OR in regex </p>\n\n<pre><code>Pattern PATTERN = Pattern.compile(\"^(.*?)-+ *(?:Delete Here|Elimina qui) *-+\", Pattern.DOTALL)\n</code></pre>\n\n<p>but be carefull if you have many (hunderds ) OR strings it could be problem from performance point of view. For such number is better to make simple pattern to retrieve string between \"--\"s and use a set to check if it is what you are looking for </p>\n"},{"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387474963,"creation_date":1387474567,"answer_id":20688179,"question_id":20687763,"body_markdown":"If you do not have other sections of your data that have consectutive dashes one way would be use a negated character class to match between those dashes.\r\n\r\nAnother possible option would be to use `\\p{L}` which matches any kind of letter from any language.\r\n\r\n    -- *\\p{L}+ \\p{L}+ *--\r\n\r\nSee [`Live demo`][1]\r\n\r\n\r\n  [1]: http://regex101.com/r/iO5mY5","title":"Using regex to parse different locale/langage?","body":"<p>If you do not have other sections of your data that have consectutive dashes one way would be use a negated character class to match between those dashes.</p>\n\n<p>Another possible option would be to use <code>\\p{L}</code> which matches any kind of letter from any language.</p>\n\n<pre><code>-- *\\p{L}+ \\p{L}+ *--\n</code></pre>\n\n<p>See <a href=\"http://regex101.com/r/iO5mY5\" rel=\"nofollow\"><code>Live demo</code></a></p>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634156278,"creation_date":1634156278,"answer_id":69561831,"question_id":20687763,"body_markdown":"I do not know, whether its work for you, but I captured Bengali numbers `, , , `,  this way : \r\n\r\n    String bengaliString = &quot;               &quot;; \r\n\r\n  \r\n\r\n    final Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;, Pattern.UNICODE_CHARACTER_CLASS);\r\n            final Matcher matcher = pattern.matcher(bengaliString);\r\n\r\nHope, this helps someone. ","title":"Using regex to parse different locale/langage?","body":"<p>I do not know, whether its work for you, but I captured Bengali numbers <code>, , , </code>,  this way :</p>\n<pre><code>String bengaliString = &quot;               &quot;; \n\n\n\nfinal Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;, Pattern.UNICODE_CHARACTER_CLASS);\n        final Matcher matcher = pattern.matcher(bengaliString);\n</code></pre>\n<p>Hope, this helps someone.</p>\n"}],"owner":{"account_id":482979,"reputation":13177,"user_id":897756,"accept_rate":91,"display_name":"genxgeek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20687895,"answer_count":3,"score":0,"last_activity_date":1634156278,"creation_date":1387473298,"question_id":20687763,"body_markdown":"I have some text that comes back in different languages.  Right now, the text comes back from a client in the form of (en-us aka english for US):\r\n\r\n    Stuff here to keep.\r\n    \r\n    -- Delete Here --\r\n    all of this below\r\n    gets\r\n    deleted\r\n\r\nI&#39;m using a regex to match &quot;Delete Here&quot; and snip everything at that line and below it leaving on the &quot;Stuff here to keep.&quot;\r\n\r\nThe &quot;Delete Here:&quot; is the text that can come back in any language.\r\n\r\nSo for Italian the key words to match for are &quot;Elimina qui&quot;:\r\n\r\n    Stuff here to keep (in italian)\r\n    \r\n    -- Elimina qui --\r\n    all of this bellow\r\n    gets\r\n    deleted\r\n\r\nMy regex usses something like this to match the &quot;Delete Here&quot; but how can I get this to work with other languages?  \r\n\r\nDo I ineed a look up dictionary for each word combo &quot;Delete&quot;, &quot;Here&quot;, (there are more to match one) etc,.???  How can I make this solution work for all languages?\r\n\r\n&gt; **NOTE:** this is a very, very simple example.  the &quot;-- Delete Here --&quot; is just one pattern I have to match.  Other patterns could be just &quot;Delete Here&quot;.  And there are other patterns like &quot;Delete All Below&quot;\r\n&gt; (again for literary context there are other text patterns that I have\r\n&gt; to match in multiple languages).\r\n\r\n    Pattern PATTERN = Pattern.compile(&quot;^(.*?)-+ *Delete Here *-+&quot;, Pattern.DOTALL);\r\n    Matcher m = PATTERN.matcher(text);\r\n        if (m.find()) {\r\n          // Perform Magic!\r\n    }","title":"Using regex to parse different locale/langage?","body":"<p>I have some text that comes back in different languages.  Right now, the text comes back from a client in the form of (en-us aka english for US):</p>\n\n<pre><code>Stuff here to keep.\n\n-- Delete Here --\nall of this below\ngets\ndeleted\n</code></pre>\n\n<p>I'm using a regex to match \"Delete Here\" and snip everything at that line and below it leaving on the \"Stuff here to keep.\"</p>\n\n<p>The \"Delete Here:\" is the text that can come back in any language.</p>\n\n<p>So for Italian the key words to match for are \"Elimina qui\":</p>\n\n<pre><code>Stuff here to keep (in italian)\n\n-- Elimina qui --\nall of this bellow\ngets\ndeleted\n</code></pre>\n\n<p>My regex usses something like this to match the \"Delete Here\" but how can I get this to work with other languages?  </p>\n\n<p>Do I ineed a look up dictionary for each word combo \"Delete\", \"Here\", (there are more to match one) etc,.???  How can I make this solution work for all languages?</p>\n\n<blockquote>\n  <p><strong>NOTE:</strong> this is a very, very simple example.  the \"-- Delete Here --\" is just one pattern I have to match.  Other patterns could be just \"Delete Here\".  And there are other patterns like \"Delete All Below\"\n  (again for literary context there are other text patterns that I have\n  to match in multiple languages).</p>\n</blockquote>\n\n<pre><code>Pattern PATTERN = Pattern.compile(\"^(.*?)-+ *Delete Here *-+\", Pattern.DOTALL);\nMatcher m = PATTERN.matcher(text);\n    if (m.find()) {\n      // Perform Magic!\n}\n</code></pre>\n"},{"tags":["java","html","jsoup","freemarker"],"answers":[{"tags":[],"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456590407,"creation_date":1456590407,"answer_id":35672237,"question_id":35671149,"body_markdown":"No, unfortunately the Whitelist feature only works for the clean() method, not the parser. So you can&#39;t add your tags easily.\r\n\r\nEven if you use the xmlParser it will not work, since you have a tag name starting with `#`.\r\n\r\nThe only solution I see is to transform the template prior parsing. e.g. with regular expressions.\r\n","title":"JSoup parse trashing Freemarker tags","body":"<p>No, unfortunately the Whitelist feature only works for the clean() method, not the parser. So you can't add your tags easily.</p>\n\n<p>Even if you use the xmlParser it will not work, since you have a tag name starting with <code>#</code>.</p>\n\n<p>The only solution I see is to transform the template prior parsing. e.g. with regular expressions.</p>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634156197,"creation_date":1456593022,"answer_id":35672759,"question_id":35671149,"body_markdown":"There&#39;s a workaround that might work for you: FreeMarker has an alternative syntax where you use `[` and `]` instead of `&lt;` and `&gt;`, like in `[#list things as thing]`. It can be enabled in the FreeMarker configuration with the `tagSyntax` setting. (Or, if you start a template with `[#ftl]`, it will switch to the alternative syntax forcefully.)","title":"JSoup parse trashing Freemarker tags","body":"<p>There's a workaround that might work for you: FreeMarker has an alternative syntax where you use <code>[</code> and <code>]</code> instead of <code>&lt;</code> and <code>&gt;</code>, like in <code>[#list things as thing]</code>. It can be enabled in the FreeMarker configuration with the <code>tagSyntax</code> setting. (Or, if you start a template with <code>[#ftl]</code>, it will switch to the alternative syntax forcefully.)</p>\n"}],"owner":{"account_id":24830,"reputation":10800,"user_id":63379,"accept_rate":92,"display_name":"Steve Claridge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634156197,"creation_date":1456584481,"question_id":35671149,"body_markdown":"I am using JSoup to update some server-side HTML templates that have some Freemarker tags in them. JSoup doesn&#39;t recognise the Freemarker tags as valid HTML (fair enough) and converts them to `&amp;gt;` and `&amp;lt;` For example:\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n    &lt;#list things as thing&gt; \r\n    &lt;/#list&gt;\r\n    &lt;/div&gt;\r\n\r\ngets converted to:\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n    &amp;lt;#list things as thing&amp;gt;\r\n    &amp;lt;/#list&amp;gt;\r\n    &lt;/div&gt;\r\n\r\nwhen I call `Document doc = Jsoup.parse( theHtml );`\r\n\r\nI know JSoup has a Whitelist and presumably I can add `&lt;#list&gt;` and other Freemarker tags to that but I don&#39;t see a way to pass the updated Whitelist to the `parse()` method?\r\n\r\n\r\n","title":"JSoup parse trashing Freemarker tags","body":"<p>I am using JSoup to update some server-side HTML templates that have some Freemarker tags in them. JSoup doesn't recognise the Freemarker tags as valid HTML (fair enough) and converts them to <code>&amp;gt;</code> and <code>&amp;lt;</code> For example:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n&lt;#list things as thing&gt; \n&lt;/#list&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>gets converted to:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n&amp;lt;#list things as thing&amp;gt;\n&amp;lt;/#list&amp;gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>when I call <code>Document doc = Jsoup.parse( theHtml );</code></p>\n\n<p>I know JSoup has a Whitelist and presumably I can add <code>&lt;#list&gt;</code> and other Freemarker tags to that but I don't see a way to pass the updated Whitelist to the <code>parse()</code> method?</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":11598828,"reputation":101,"user_id":8496685,"display_name":"Patrick Davis"},"score":0,"creation_date":1634077954,"post_id":69533522,"comment_id":122928465,"body_markdown":"I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to `setEnabled(true)` or `setEnabled(false)` as needed without issue.","body":"I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to <code>setEnabled(true)</code> or <code>setEnabled(false)</code> as needed without issue."}],"answers":[{"tags":[],"owner":{"account_id":18997931,"reputation":73,"user_id":13865861,"display_name":"siya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633996624,"creation_date":1633996624,"answer_id":69533627,"question_id":69533522,"body_markdown":"I&#39;m surprised this is still an issue. It&#39;s been asked before way back in the past: https://stackoverflow.com/questions/6555455/how-to-set-editable-true-false-edittext-in-android-programmatically\r\n\r\nMaybe try this and see what comes of it?","title":"Android EditText setEnabled(false) isn&#39;t working","body":"<p>I'm surprised this is still an issue. It's been asked before way back in the past: <a href=\"https://stackoverflow.com/questions/6555455/how-to-set-editable-true-false-edittext-in-android-programmatically\">How to set editable true/false EditText in Android programmatically?</a></p>\n<p>Maybe try this and see what comes of it?</p>\n"},{"tags":[],"owner":{"account_id":11598828,"reputation":101,"user_id":8496685,"display_name":"Patrick Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634156130,"creation_date":1634156130,"answer_id":69561804,"question_id":69533522,"body_markdown":"I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to setEnabled(true) or setEnabled(false) as needed without issue.","title":"Android EditText setEnabled(false) isn&#39;t working","body":"<p>I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to setEnabled(true) or setEnabled(false) as needed without issue.</p>\n"}],"owner":{"account_id":11598828,"reputation":101,"user_id":8496685,"display_name":"Patrick Davis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69561804,"answer_count":2,"score":0,"last_activity_date":1634156130,"creation_date":1633995275,"question_id":69533522,"body_markdown":"I have a couple of dynamically created EditText fields.\r\nI am trying to disable the fields if the value in another field doesn&#39;t match certain criteria.\r\nThe issue is that if other criteria is met, the field is disabled properly by setting `setEnabled(false);`.\r\n\r\nEssentially in a part number field, we check if the part number requires a serial number or a lot number.\r\nIf the part requires a serial number, the serial number field displays an error, the lot number field is disabled, and the quantity field is set to &quot;1&quot; and disabled\r\nIf a lot number is required, the lot number field shows an error and the serial number field is disabled. This works as intended.\r\n```\r\npublic void onTextChanged(@NotNull EditText target, @NotNull Editable s) {\r\n                                int serialIndex = 4;\r\n                                int lotIndex = 5;\r\n                                int quantityIndex = 6;\r\n                                EditText serial = findViewById(serialIndex);\r\n                                EditText lot = findViewById(lotIndex);\r\n                                EditText quantity = findViewById(quantityIndex);\r\n                               \r\n                                String txt = partNum.getText().toString().toUpperCase();\r\n                                partNumber = txt;\r\n                                Global.isSerialized = DatabaseManager.isSerialized(txt);\r\n                                Global.isLot = DatabaseManager.isLot(txt);\r\n                                \r\n                                //this is not working. The fields do not get disabled.\r\n                                if (!Global.isSerialized &amp;&amp; !Global.isLot) {\r\n                                    lot.setEnabled(false);\r\n                                    serial.setEnabled(false);\r\n                                    findViewById(id).setNextFocusDownId(quantityIndex);\r\n                                }\r\n                                \r\n                                if (txt.equals(&quot;&quot;)) {\r\n                                    serial.setError(null);\r\n                                    lot.setError(null);\r\n                                    if (!quantity.isEnabled()) {\r\n                                        quantity.setEnabled(true);\r\n                                        quantity.setText(&quot;&quot;);\r\n                                    }\r\n                                }\r\n                                //This is working. The lot number field gets disabled.\r\n                                if (Global.isSerialized) {\r\n                                    lot.setEnabled(false);\r\n                                    snRequired = true;\r\n                                    serial.setError(&quot;Serial Number Required&quot;);\r\n                                    quantity.setText(&quot;1&quot;);\r\n                                    quantity.setEnabled(false);\r\n                                    findViewById(id).setNextFocusDownId(serialIndex);\r\n                                } else {\r\n                                    snRequired = false;\r\n                                    serial.setError(null);\r\n                                    quantity.setText(&quot;&quot;);\r\n                                    quantity.setEnabled(true);\r\n\r\n                                }\r\n                                //this is also working. The serial number field gets disabled.\r\n                                if (Global.isLot) {\r\n                                    lot.setEnabled(true);\r\n                                    lnRequired = true;\r\n                                    lot.setError(&quot;Lot Number Required&quot;);\r\n                                    serial.setEnabled(false);\r\n                                    quantity.setText(&quot;&quot;);\r\n                                    quantity.setEnabled(true);\r\n                                    findViewById(id).setNextFocusDownId(lotIndex);\r\n                                } else {\r\n                                    lot.setError(null);\r\n                                    lnRequired = false;\r\n                                }\r\n```\r\nAny ideas?","title":"Android EditText setEnabled(false) isn&#39;t working","body":"<p>I have a couple of dynamically created EditText fields.\nI am trying to disable the fields if the value in another field doesn't match certain criteria.\nThe issue is that if other criteria is met, the field is disabled properly by setting <code>setEnabled(false);</code>.</p>\n<p>Essentially in a part number field, we check if the part number requires a serial number or a lot number.\nIf the part requires a serial number, the serial number field displays an error, the lot number field is disabled, and the quantity field is set to &quot;1&quot; and disabled\nIf a lot number is required, the lot number field shows an error and the serial number field is disabled. This works as intended.</p>\n<pre><code>public void onTextChanged(@NotNull EditText target, @NotNull Editable s) {\n                                int serialIndex = 4;\n                                int lotIndex = 5;\n                                int quantityIndex = 6;\n                                EditText serial = findViewById(serialIndex);\n                                EditText lot = findViewById(lotIndex);\n                                EditText quantity = findViewById(quantityIndex);\n                               \n                                String txt = partNum.getText().toString().toUpperCase();\n                                partNumber = txt;\n                                Global.isSerialized = DatabaseManager.isSerialized(txt);\n                                Global.isLot = DatabaseManager.isLot(txt);\n                                \n                                //this is not working. The fields do not get disabled.\n                                if (!Global.isSerialized &amp;&amp; !Global.isLot) {\n                                    lot.setEnabled(false);\n                                    serial.setEnabled(false);\n                                    findViewById(id).setNextFocusDownId(quantityIndex);\n                                }\n                                \n                                if (txt.equals(&quot;&quot;)) {\n                                    serial.setError(null);\n                                    lot.setError(null);\n                                    if (!quantity.isEnabled()) {\n                                        quantity.setEnabled(true);\n                                        quantity.setText(&quot;&quot;);\n                                    }\n                                }\n                                //This is working. The lot number field gets disabled.\n                                if (Global.isSerialized) {\n                                    lot.setEnabled(false);\n                                    snRequired = true;\n                                    serial.setError(&quot;Serial Number Required&quot;);\n                                    quantity.setText(&quot;1&quot;);\n                                    quantity.setEnabled(false);\n                                    findViewById(id).setNextFocusDownId(serialIndex);\n                                } else {\n                                    snRequired = false;\n                                    serial.setError(null);\n                                    quantity.setText(&quot;&quot;);\n                                    quantity.setEnabled(true);\n\n                                }\n                                //this is also working. The serial number field gets disabled.\n                                if (Global.isLot) {\n                                    lot.setEnabled(true);\n                                    lnRequired = true;\n                                    lot.setError(&quot;Lot Number Required&quot;);\n                                    serial.setEnabled(false);\n                                    quantity.setText(&quot;&quot;);\n                                    quantity.setEnabled(true);\n                                    findViewById(id).setNextFocusDownId(lotIndex);\n                                } else {\n                                    lot.setError(null);\n                                    lnRequired = false;\n                                }\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","hadoop","amazon-web-services","amazon-ec2","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":3188866,"reputation":1012,"user_id":2693725,"accept_rate":18,"display_name":"zxz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387794312,"creation_date":1387794312,"answer_id":20741516,"question_id":20731093,"body_markdown":"So, you mean ,you didn`t add any hadoop jar to your project, and you ignored the compilation error, and hoped this can run in the server side which installed a hadoop-client?\r\n\r\nIf it is true, that is impossiable.\r\n\r\nYou must add the hadoop-client.XX.jar to your project ,any version is OK.","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>So, you mean ,you didn`t add any hadoop jar to your project, and you ignored the compilation error, and hoped this can run in the server side which installed a hadoop-client?</p>\n\n<p>If it is true, that is impossiable.</p>\n\n<p>You must add the hadoop-client.XX.jar to your project ,any version is OK.</p>\n"},{"tags":[],"owner":{"account_id":2458362,"reputation":27415,"user_id":2142994,"accept_rate":60,"display_name":"Ani Menon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469179075,"creation_date":1469179075,"answer_id":38522714,"question_id":20731093,"body_markdown":"Add all hadoop jars to the project in eclipse and if your code has no errors then you may export it as a jar and run the jar in hadoop.\r\n\r\nTo add jars goto &quot;Build Path&quot;, choose &quot;Configure Build Path&quot; and &quot;Add external jars&quot;. (Choose all hadoop jars and add them)","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>Add all hadoop jars to the project in eclipse and if your code has no errors then you may export it as a jar and run the jar in hadoop.</p>\n\n<p>To add jars goto \"Build Path\", choose \"Configure Build Path\" and \"Add external jars\". (Choose all hadoop jars and add them)</p>\n"},{"tags":[],"owner":{"account_id":22060236,"reputation":1,"user_id":16323055,"display_name":"Abc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634156076,"creation_date":1634156076,"answer_id":69561796,"question_id":20731093,"body_markdown":"To people encountering this error:\r\n\r\n\r\nYou can right-click on the project you created. \r\n\r\nBuild path-&gt;Configure build path &gt; Add external jar files inside the libraries tab. \r\n\r\nHadoop Jar is located inside file system&gt;usr&gt;lib\r\nyou can,\r\n \r\nBrowse thru :  file syster&gt;usr&gt;lib&gt;hadoop&gt; add all the jar files starting from **hadoop-annotations.jar** till the last jar **[parquet-tools.jar]**\r\n\r\nThen again add new external jars and this time add all jars present in the client folder ; \r\n\r\npath(file syster&gt;usr&gt;lib&gt;hadoop&gt;client)\r\n","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>To people encountering this error:</p>\n<p>You can right-click on the project you created.</p>\n<p>Build path-&gt;Configure build path &gt; Add external jar files inside the libraries tab.</p>\n<p>Hadoop Jar is located inside file system&gt;usr&gt;lib\nyou can,</p>\n<p>Browse thru :  file syster&gt;usr&gt;lib&gt;hadoop&gt; add all the jar files starting from <strong>hadoop-annotations.jar</strong> till the last jar <strong>[parquet-tools.jar]</strong></p>\n<p>Then again add new external jars and this time add all jars present in the client folder ;</p>\n<p>path(file syster&gt;usr&gt;lib&gt;hadoop&gt;client)</p>\n"}],"owner":{"account_id":3259921,"reputation":612,"user_id":2745672,"accept_rate":46,"display_name":"Dongle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634156076,"creation_date":1387727041,"question_id":20731093,"body_markdown":"Please have a look at the following code\r\n\r\n**Map.java**\r\n\r\n    public class Map extends Mapper&lt;longwritable, intwritable=&quot;&quot; text,=&quot;&quot;&gt; {\r\n     private final static IntWritable one = new IntWritable(1);\r\n     private Text word = new Text();\r\n     \r\n     @Override\r\n     public void map(LongWritable key, Text value, Context context)\r\n       throws IOException, InterruptedException {\r\n      String line = value.toString();\r\n      StringTokenizer tokenizer = new StringTokenizer(line);\r\n      while (tokenizer.hasMoreTokens()) {\r\n       word.set(tokenizer.nextToken());\r\n       context.write(word, one);\r\n      }\r\n     }\r\n    }\r\n    &lt;/longwritable,&gt;\r\n\r\n**Reduce.java**\r\n\r\n    public class Reduce extends Reducer&lt;text, intwritable,=&quot;&quot; intwritable=&quot;&quot; text,=&quot;&quot;&gt; {\r\n     @Override\r\n     protected void reduce(\r\n       Text key,\r\n       java.lang.Iterable&lt;intwritable&gt; values,\r\n       org.apache.hadoop.mapreduce.Reducer&lt;text, intwritable,=&quot;&quot; intwritable=&quot;&quot; text,=&quot;&quot;&gt;.Context context)\r\n       throws IOException, InterruptedException {\r\n      int sum = 0;\r\n      for (IntWritable value : values) {\r\n       sum += value.get();\r\n      }\r\n      context.write(key, new IntWritable(sum));\r\n     }\r\n    }\r\n    &lt;/text,&gt;&lt;/intwritable&gt;&lt;/text,&gt;\r\n\r\n**WordCount.java**\r\n\r\n\r\n    public class WordCount {\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t  Configuration conf = new Configuration();\r\n    \t\t \r\n    \t\t  Job job = new Job(conf, &quot;wordcount&quot;);\r\n    \t\t  job.setJarByClass(WordCount.class);\r\n    \t\t \r\n    \t\t  job.setOutputKeyClass(Text.class);\r\n    \t\t  job.setOutputValueClass(IntWritable.class);\r\n    \t\t \r\n    \t\t  job.setMapperClass(Map.class);\r\n    \t\t  job.setReducerClass(Reduce.class);\r\n    \t\t \r\n    \t\t  job.setInputFormatClass(TextInputFormat.class);\r\n    \t\t  job.setOutputFormatClass(TextOutputFormat.class);\r\n    \t\t \r\n    \t\t  FileInputFormat.addInputPath(job, new Path(args[0]));\r\n    \t\t  FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n    \t\t \r\n    \t\t  job.waitForCompletion(true);\r\n    \t\t}\r\n    \r\n    }\r\n\r\n\r\nThis entire code is extracted from [this][1] `Map Reduce` tutorial (http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job)\r\n\r\n. As soon as I copied these classes into Eclipse, it showed lot of errors like Cannot be `Resolved By Type`. It is reasonable because the classes this code is using as instances are no where to find in default JDK, and the tutorial has not given any instructions to download any Library. I ignored it thinking it has something to do with `Elastic Map Reduce` in server side.\r\n\r\nAs soon as I uploaded this to Amazon Elastic Map Reduce, created a job flow and run the program, it gave me following errors.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n    \tConfiguration cannot be resolved to a type\r\n    \tConfiguration cannot be resolved to a type\r\n    \tJob cannot be resolved to a type\r\n    \tJob cannot be resolved to a type\r\n    \tText cannot be resolved to a type\r\n    \tIntWritable cannot be resolved to a type\r\n    \tTextInputFormat cannot be resolved to a type\r\n    \tTextOutputFormat cannot be resolved to a type\r\n    \tFileInputFormat cannot be resolved\r\n    \tPath cannot be resolved to a type\r\n    \tFileOutputFormat cannot be resolved\r\n    \tPath cannot be resolved to a type\r\n    \r\n    \tat WordCount.main(WordCount.java:5)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.apache.hadoop.util.RunJar.main(RunJar.java:187)\r\n\r\n\r\nHow can I make this code work? Do I have to download any library for that? How can I make this code run and see the results? This is my very first Experience in Amazon and Elastic Map reduce, and yes, first experience with Big Data as well.\r\n\r\nPlease help.\r\n\r\n  [1]: http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>Please have a look at the following code</p>\n\n<p><strong>Map.java</strong></p>\n\n<pre><code>public class Map extends Mapper&lt;longwritable, intwritable=\"\" text,=\"\"&gt; {\n private final static IntWritable one = new IntWritable(1);\n private Text word = new Text();\n\n @Override\n public void map(LongWritable key, Text value, Context context)\n   throws IOException, InterruptedException {\n  String line = value.toString();\n  StringTokenizer tokenizer = new StringTokenizer(line);\n  while (tokenizer.hasMoreTokens()) {\n   word.set(tokenizer.nextToken());\n   context.write(word, one);\n  }\n }\n}\n&lt;/longwritable,&gt;\n</code></pre>\n\n<p><strong>Reduce.java</strong></p>\n\n<pre><code>public class Reduce extends Reducer&lt;text, intwritable,=\"\" intwritable=\"\" text,=\"\"&gt; {\n @Override\n protected void reduce(\n   Text key,\n   java.lang.Iterable&lt;intwritable&gt; values,\n   org.apache.hadoop.mapreduce.Reducer&lt;text, intwritable,=\"\" intwritable=\"\" text,=\"\"&gt;.Context context)\n   throws IOException, InterruptedException {\n  int sum = 0;\n  for (IntWritable value : values) {\n   sum += value.get();\n  }\n  context.write(key, new IntWritable(sum));\n }\n}\n&lt;/text,&gt;&lt;/intwritable&gt;&lt;/text,&gt;\n</code></pre>\n\n<p><strong>WordCount.java</strong></p>\n\n<pre><code>public class WordCount {\n\n    public static void main(String[] args) throws Exception {\n          Configuration conf = new Configuration();\n\n          Job job = new Job(conf, \"wordcount\");\n          job.setJarByClass(WordCount.class);\n\n          job.setOutputKeyClass(Text.class);\n          job.setOutputValueClass(IntWritable.class);\n\n          job.setMapperClass(Map.class);\n          job.setReducerClass(Reduce.class);\n\n          job.setInputFormatClass(TextInputFormat.class);\n          job.setOutputFormatClass(TextOutputFormat.class);\n\n          FileInputFormat.addInputPath(job, new Path(args[0]));\n          FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n          job.waitForCompletion(true);\n        }\n\n}\n</code></pre>\n\n<p>This entire code is extracted from <a href=\"http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job\" rel=\"nofollow\">this</a> <code>Map Reduce</code> tutorial (<a href=\"http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job\" rel=\"nofollow\">http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job</a>)</p>\n\n<p>. As soon as I copied these classes into Eclipse, it showed lot of errors like Cannot be <code>Resolved By Type</code>. It is reasonable because the classes this code is using as instances are no where to find in default JDK, and the tutorial has not given any instructions to download any Library. I ignored it thinking it has something to do with <code>Elastic Map Reduce</code> in server side.</p>\n\n<p>As soon as I uploaded this to Amazon Elastic Map Reduce, created a job flow and run the program, it gave me following errors.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation problems: \n    Configuration cannot be resolved to a type\n    Configuration cannot be resolved to a type\n    Job cannot be resolved to a type\n    Job cannot be resolved to a type\n    Text cannot be resolved to a type\n    IntWritable cannot be resolved to a type\n    TextInputFormat cannot be resolved to a type\n    TextOutputFormat cannot be resolved to a type\n    FileInputFormat cannot be resolved\n    Path cannot be resolved to a type\n    FileOutputFormat cannot be resolved\n    Path cannot be resolved to a type\n\n    at WordCount.main(WordCount.java:5)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:187)\n</code></pre>\n\n<p>How can I make this code work? Do I have to download any library for that? How can I make this code run and see the results? This is my very first Experience in Amazon and Elastic Map reduce, and yes, first experience with Big Data as well.</p>\n\n<p>Please help.</p>\n"},{"tags":["java","android","illegalstateexception","androidx","android-workmanager"],"comments":[{"owner":{"account_id":14495715,"reputation":1940,"user_id":10470378,"display_name":"ronginat"},"score":0,"creation_date":1556317050,"post_id":55875198,"comment_id":98410881,"body_markdown":"Your question is missing a lot of details. Do you actually want to initialize the worker more than once? How does the first initialization even work, did you follow the documentation for initializing it properly? Where did you initialize the worker, which class and exactly where in this class&#39;s lifecycle?","body":"Your question is missing a lot of details. Do you actually want to initialize the worker more than once? How does the first initialization even work, did you follow the documentation for initializing it properly? Where did you initialize the worker, which class and exactly where in this class&#39;s lifecycle?"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1556317997,"post_id":55875198,"comment_id":98411085,"body_markdown":"@ronginat compared to other questions, it is quite detailed. and you questions are probably all answered by the question already. of course I do not want to initialize it twice and there are no workers required to produce the crash.","body":"@ronginat compared to other questions, it is quite detailed. and you questions are probably all answered by the question already. of course I do not want to initialize it twice and there are no workers required to produce the crash."},{"owner":{"account_id":14495715,"reputation":1940,"user_id":10470378,"display_name":"ronginat"},"score":0,"creation_date":1556318303,"post_id":55875198,"comment_id":98411165,"body_markdown":"So far you answered to my first question so i know you don&#39;t want to do something impossible (you can&#39;t initialize the worker more than once). If your code is running multiple times and trying to initialize the worker, then it&#39;s probably not the right place for it. That&#39;s why i asked where you initialize the worker and how the first time is working without any change in your manifest (i&#39;m guessing you didn&#39;t change the manifest as written in your answer when writing this question).","body":"So far you answered to my first question so i know you don&#39;t want to do something impossible (you can&#39;t initialize the worker more than once). If your code is running multiple times and trying to initialize the worker, then it&#39;s probably not the right place for it. That&#39;s why i asked where you initialize the worker and how the first time is working without any change in your manifest (i&#39;m guessing you didn&#39;t change the manifest as written in your answer when writing this question)."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1556318788,"post_id":55875198,"comment_id":98411275,"body_markdown":"@ronginat to be precise, it happens when scheduling one job and then later scheduling another; also when trying to cancel jobs. the tricky thing about it is, that `.getInstance()` is a `static` method and not an instance method. that answer is just an approach I&#39;ve found, based upon the suggestion in the error message; still need to test that (the blog post is only a similar situation).","body":"@ronginat to be precise, it happens when scheduling one job and then later scheduling another; also when trying to cancel jobs. the tricky thing about it is, that <code>.getInstance()</code> is a <code>static</code> method and not an instance method. that answer is just an approach I&#39;ve found, based upon the suggestion in the error message; still need to test that (the blog post is only a similar situation)."},{"owner":{"account_id":14495715,"reputation":1940,"user_id":10470378,"display_name":"ronginat"},"score":0,"creation_date":1556319176,"post_id":55875198,"comment_id":98411340,"body_markdown":"Then the safest way will be initializing it only once at `Application#onCreate` as suggested in the [official guide](https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#custom-config) (just below the code block). After that, use the static `getInstance` freely anywhere in your code because the `WorkManager` had already been initialized.","body":"Then the safest way will be initializing it only once at <code>Application#onCreate</code> as suggested in the <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#custom-config\" rel=\"nofollow noreferrer\">official guide</a> (just below the code block). After that, use the static <code>getInstance</code> freely anywhere in your code because the <code>WorkManager</code> had already been initialized."}],"answers":[{"tags":[],"owner":{"account_id":15499022,"reputation":1825,"user_id":11181035,"display_name":"Beyazid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556316531,"creation_date":1556315789,"answer_id":55875359,"question_id":55875198,"body_markdown":"You can control when you called workManager\r\n\r\n    if(this.workManager == null){\r\n       Configuration config = new Configuration.Builder().build();\r\n       WorkManager.initialize(getApplicationContext(), config);\r\n       this.workManager = WorkManager.getInstance();\r\n    }\r\n","title":"IllegalStateException: WorkManager is already initialized","body":"<p>You can control when you called workManager</p>\n\n<pre><code>if(this.workManager == null){\n   Configuration config = new Configuration.Builder().build();\n   WorkManager.initialize(getApplicationContext(), config);\n   this.workManager = WorkManager.getInstance();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1579128092,"creation_date":1556317307,"answer_id":55875560,"question_id":55875198,"body_markdown":"This is how to substitute provider `androidx.work.impl.WorkManagerInitializer`:\r\n\r\n    &lt;application&gt;\r\n        ...\r\n\r\n        &lt;!-- disable default provider --&gt;\r\n        &lt;provider\r\n            android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n            android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:enabled=&quot;false&quot;/&gt;\r\n\r\n        &lt;!-- register custom provider --&gt;\r\n        &lt;provider\r\n            android:name=&quot;.CustomWorkManagerInitializer&quot;\r\n            android:authorities=&quot;${applicationId}.WorkManagerInit&quot;/&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\nSource: [Custom Work Manager initialization][1] (in Kotlin).\r\n\r\n ---\r\n\r\nUnless registering another provider, this gives a:\r\n\r\n    java.lang.IllegalStateException: WorkManager is not initialized properly. The most\r\n    likely cause is that you disabled WorkManagerInitializer in your manifest but forgot\r\n    to call WorkManager#initialize in your Application#onCreate or a ContentProvider.\r\n\r\nAnd the `ContentProvider` registered in the `src/debug/Manifest.xml`:\r\n\r\n    public class WorkManagerInit extends ContentProvider {\r\n    \r\n        @Override\r\n        public boolean onCreate() {\r\n            if(getContext() != null) {\r\n                Configuration config = new Configuration.Builder().build();\r\n                WorkManager.initialize(getContext().getApplicationContext(), config);\r\n            }\r\n            return true;\r\n        }\r\n        ...\r\n    }\r\n\r\n  [1]: https://medium.com/@programmerr47/custom-work-manager-initialization-efdd2afa6459","title":"IllegalStateException: WorkManager is already initialized","body":"<p>This is how to substitute provider <code>androidx.work.impl.WorkManagerInitializer</code>:</p>\n\n<pre><code>&lt;application&gt;\n    ...\n\n    &lt;!-- disable default provider --&gt;\n    &lt;provider\n        android:name=\"androidx.work.impl.WorkManagerInitializer\"\n        android:authorities=\"${applicationId}.workmanager-init\"\n        android:exported=\"false\"\n        android:enabled=\"false\"/&gt;\n\n    &lt;!-- register custom provider --&gt;\n    &lt;provider\n        android:name=\".CustomWorkManagerInitializer\"\n        android:authorities=\"${applicationId}.WorkManagerInit\"/&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>Source: <a href=\"https://medium.com/@programmerr47/custom-work-manager-initialization-efdd2afa6459\" rel=\"noreferrer\">Custom Work Manager initialization</a> (in Kotlin).</p>\n\n<hr>\n\n<p>Unless registering another provider, this gives a:</p>\n\n<pre><code>java.lang.IllegalStateException: WorkManager is not initialized properly. The most\nlikely cause is that you disabled WorkManagerInitializer in your manifest but forgot\nto call WorkManager#initialize in your Application#onCreate or a ContentProvider.\n</code></pre>\n\n<p>And the <code>ContentProvider</code> registered in the <code>src/debug/Manifest.xml</code>:</p>\n\n<pre><code>public class WorkManagerInit extends ContentProvider {\n\n    @Override\n    public boolean onCreate() {\n        if(getContext() != null) {\n            Configuration config = new Configuration.Builder().build();\n            WorkManager.initialize(getContext().getApplicationContext(), config);\n        }\n        return true;\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5030019,"reputation":362,"user_id":4040544,"display_name":"Gerardo Suarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556320242,"creation_date":1556320242,"answer_id":55875886,"question_id":55875198,"body_markdown":"If you want to initialize the WorkerManager you must put this in the onCreate of your custom Application class, so this only be called once. After that you can only get the instance when you need it without worries. It is not recommended to initialize the Worker Manager. Why do you need that?","title":"IllegalStateException: WorkManager is already initialized","body":"<p>If you want to initialize the WorkerManager you must put this in the onCreate of your custom Application class, so this only be called once. After that you can only get the instance when you need it without worries. It is not recommended to initialize the Worker Manager. Why do you need that?</p>\n"},{"tags":[],"owner":{"account_id":40946,"reputation":6136,"user_id":118862,"display_name":"pfmaggi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556457130,"creation_date":1556440823,"answer_id":55888497,"question_id":55875198,"body_markdown":"WorkManager is a singleton, it needs to be configured before being used and you cannot change it&#39;s configuration without restarting the application.\r\n\r\nA second call to initialize throws an exception to indicate that it cannot use that configuration if WorkManager has already been initialized. This was a design decision taken during the initial alpha releases to avoid to fail silently ([workmanager-1.0.0-alpha11][2]).\r\n\r\n[WorkManager v2.1][3] adds an on-demand way to initialize the library, so you can move the actual initialization out from the hot-start sequence of your app. However you still have the constraints that WorkManager can only be configured once.\r\n\r\nWith the new on-demand configuration, you&#39;ve to add a `Configuration.Provider` interface to your application like here:\r\n\r\n    class MyApplication : Application(), Configuration.Provider {\r\n\r\n       override fun getWorkManagerConfiguration(): Configuration =\r\n           // provide custom configuration\r\n           Configuration.Builder()\r\n                   .setMinimumLoggingLevel(android.util.Log.INFO)\r\n                   .setWorkerFactory(MyWorkerFactory())\r\n                   .build()\r\n    }\r\n\r\nThen, when you need to use WorkManager, instead of using `WorkManager#getInstance()` (that is now deprecated), you should use the new:\r\n\r\n    WorkManager#getInstance(context)\r\n\r\nIn this case, the getInstance method, check if WorkManager it&#39;s already initialized or not. If it&#39;s not yet initialized, it retrieves the configuration using the `getWorkManagerConfiguration()` method and then it initializes WorkManager. In this way, you don&#39;t call anymore `WorkManager#initialize()` completely avoiding the problem.\r\n\r\nThe [official documentation][4] has been updated with these additional details.\r\n\r\nIf you think that WorkManager should allows to update it&#39;s configuration after it has been initialized, you should add a feature request to the [library&#39;s issue tracker][1].\r\n\r\n  [1]: https://issuetracker.google.com/issues/new?component=409906&amp;template=1094197\r\n  [2]: https://developer.android.com/jetpack/androidx/releases/archive/arch#workmanager_5\r\n  [3]: https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha01\r\n  [4]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand","title":"IllegalStateException: WorkManager is already initialized","body":"<p>WorkManager is a singleton, it needs to be configured before being used and you cannot change it's configuration without restarting the application.</p>\n\n<p>A second call to initialize throws an exception to indicate that it cannot use that configuration if WorkManager has already been initialized. This was a design decision taken during the initial alpha releases to avoid to fail silently (<a href=\"https://developer.android.com/jetpack/androidx/releases/archive/arch#workmanager_5\" rel=\"noreferrer\">workmanager-1.0.0-alpha11</a>).</p>\n\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha01\" rel=\"noreferrer\">WorkManager v2.1</a> adds an on-demand way to initialize the library, so you can move the actual initialization out from the hot-start sequence of your app. However you still have the constraints that WorkManager can only be configured once.</p>\n\n<p>With the new on-demand configuration, you've to add a <code>Configuration.Provider</code> interface to your application like here:</p>\n\n<pre><code>class MyApplication : Application(), Configuration.Provider {\n\n   override fun getWorkManagerConfiguration(): Configuration =\n       // provide custom configuration\n       Configuration.Builder()\n               .setMinimumLoggingLevel(android.util.Log.INFO)\n               .setWorkerFactory(MyWorkerFactory())\n               .build()\n}\n</code></pre>\n\n<p>Then, when you need to use WorkManager, instead of using <code>WorkManager#getInstance()</code> (that is now deprecated), you should use the new:</p>\n\n<pre><code>WorkManager#getInstance(context)\n</code></pre>\n\n<p>In this case, the getInstance method, check if WorkManager it's already initialized or not. If it's not yet initialized, it retrieves the configuration using the <code>getWorkManagerConfiguration()</code> method and then it initializes WorkManager. In this way, you don't call anymore <code>WorkManager#initialize()</code> completely avoiding the problem.</p>\n\n<p>The <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand\" rel=\"noreferrer\">official documentation</a> has been updated with these additional details.</p>\n\n<p>If you think that WorkManager should allows to update it's configuration after it has been initialized, you should add a feature request to the <a href=\"https://issuetracker.google.com/issues/new?component=409906&amp;template=1094197\" rel=\"noreferrer\">library's issue tracker</a>.</p>\n"},{"tags":[],"owner":{"account_id":8562722,"reputation":1841,"user_id":6416263,"display_name":"Andriy D."},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1630577461,"creation_date":1630577461,"answer_id":69028255,"question_id":55875198,"body_markdown":"Since [WorkManager][1] 2.6, [App Startup][2] is used internally within WorkManager. To provide a custom initializer you need to remove the androidx.startup node.\r\n\r\nIf you don&#39;t use App Startup in your app, you can remove it completely.\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n        android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n        tools:node=&quot;remove&quot;&gt;\r\n    &lt;/provider&gt;\r\n\r\nOtherwise, remove only the WorkManagerInitializer node.\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n        android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n        android:exported=&quot;false&quot;\r\n        tools:node=&quot;merge&quot;&gt;\r\n\r\n        &lt;!-- If you are using androidx.startup to initialize other components --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;androidx.work.WorkManagerInitializer&quot;\r\n            android:value=&quot;androidx.startup&quot;\r\n            tools:node=&quot;remove&quot; /&gt;\r\n    &lt;/provider&gt;\r\n\r\nWhile using a version of WorkManager older than 2.6, remove workmanager-init instead:\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n        android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n        tools:node=&quot;remove&quot; /&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand\r\n  [2]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/topic/libraries/app-startup","title":"IllegalStateException: WorkManager is already initialized","body":"<p>Since <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand\" rel=\"noreferrer\">WorkManager</a> 2.6, <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/topic/libraries/app-startup\" rel=\"noreferrer\">App Startup</a> is used internally within WorkManager. To provide a custom initializer you need to remove the androidx.startup node.</p>\n<p>If you don't use App Startup in your app, you can remove it completely.</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.startup.InitializationProvider&quot;\n    android:authorities=&quot;${applicationId}.androidx-startup&quot;\n    tools:node=&quot;remove&quot;&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>Otherwise, remove only the WorkManagerInitializer node.</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.startup.InitializationProvider&quot;\n    android:authorities=&quot;${applicationId}.androidx-startup&quot;\n    android:exported=&quot;false&quot;\n    tools:node=&quot;merge&quot;&gt;\n\n    &lt;!-- If you are using androidx.startup to initialize other components --&gt;\n    &lt;meta-data\n        android:name=&quot;androidx.work.WorkManagerInitializer&quot;\n        android:value=&quot;androidx.startup&quot;\n        tools:node=&quot;remove&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>While using a version of WorkManager older than 2.6, remove workmanager-init instead:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\n    android:authorities=&quot;${applicationId}.workmanager-init&quot;\n    tools:node=&quot;remove&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10370798,"reputation":1085,"user_id":7648546,"display_name":"Foroogh Varmazyar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634155613,"creation_date":1634155613,"answer_id":69561721,"question_id":55875198,"body_markdown":"for solving this problem **disable default provider** from manifest\r\n\r\n    &lt;!-- disable default provider --&gt;\r\n               &lt;provider\r\n                android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n                android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n                tools:node=&quot;remove&quot; /&gt;\r\n\r\nand **replace the following code**\r\n\r\n     &lt;provider\r\n            android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n            android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n            tools:node=&quot;remove&quot; /&gt;","title":"IllegalStateException: WorkManager is already initialized","body":"<p>for solving this problem <strong>disable default provider</strong> from manifest</p>\n<pre><code>&lt;!-- disable default provider --&gt;\n           &lt;provider\n            android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\n            android:authorities=&quot;${applicationId}.workmanager-init&quot;\n            tools:node=&quot;remove&quot; /&gt;\n</code></pre>\n<p>and <strong>replace the following code</strong></p>\n<pre><code> &lt;provider\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\n        android:authorities=&quot;${applicationId}.workmanager-init&quot;\n        tools:node=&quot;remove&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24352,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":55875560,"answer_count":6,"score":31,"last_activity_date":1634155613,"creation_date":1556314594,"question_id":55875198,"body_markdown":"Having these dependencies:\r\n\r\n    dependencies {\r\n        implementation &quot;androidx.work:work-runtime:2.0.1&quot;\r\n        androidTestImplementation &quot;androidx.work:work-testing:2.0.1&quot;\r\n    }\r\n\r\nWhen running this code for the second time:\r\n\r\n    Configuration config = new Configuration.Builder().build();\r\n    WorkManager.initialize(getApplicationContext(), config);\r\n\r\n    this.workManager = WorkManager.getInstance();\r\n\r\nI get this error message:\r\n\r\n    java.lang.IllegalStateException: WorkManager is already initialized.\r\n    Did you try to initialize it manually without disabling WorkManagerInitializer?\r\n    See WorkManager#initialize(Context, Configuration) or the class level Javadoc for more information.\r\n\r\nand it also throws a segmentation fault on the native side:\r\n\r\n    A/libc: Fatal signal 11 (SIGSEGV), code 1 (SEGV_MAPERR),\r\n    fault addr 0x878 in tid 10892 (ova.workmanager),\r\n    pid 10892 (ova.workmanager)\r\n\r\nThis would be the [documentation][1] for `WorkManager#initialize(Context, Configuration)`.\r\n\r\n ---\r\n\r\nThe intent is to prevent the crash during manual initialization (in order to change the log level). How to disable the `WorkManagerInitializer`? If possible, I do not want to use the `static` keyword.\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/work/WorkManager#initialize","title":"IllegalStateException: WorkManager is already initialized","body":"<p>Having these dependencies:</p>\n\n<pre><code>dependencies {\n    implementation \"androidx.work:work-runtime:2.0.1\"\n    androidTestImplementation \"androidx.work:work-testing:2.0.1\"\n}\n</code></pre>\n\n<p>When running this code for the second time:</p>\n\n<pre><code>Configuration config = new Configuration.Builder().build();\nWorkManager.initialize(getApplicationContext(), config);\n\nthis.workManager = WorkManager.getInstance();\n</code></pre>\n\n<p>I get this error message:</p>\n\n<pre><code>java.lang.IllegalStateException: WorkManager is already initialized.\nDid you try to initialize it manually without disabling WorkManagerInitializer?\nSee WorkManager#initialize(Context, Configuration) or the class level Javadoc for more information.\n</code></pre>\n\n<p>and it also throws a segmentation fault on the native side:</p>\n\n<pre><code>A/libc: Fatal signal 11 (SIGSEGV), code 1 (SEGV_MAPERR),\nfault addr 0x878 in tid 10892 (ova.workmanager),\npid 10892 (ova.workmanager)\n</code></pre>\n\n<p>This would be the <a href=\"https://developer.android.com/reference/kotlin/androidx/work/WorkManager#initialize\" rel=\"noreferrer\">documentation</a> for <code>WorkManager#initialize(Context, Configuration)</code>.</p>\n\n<hr>\n\n<p>The intent is to prevent the crash during manual initialization (in order to change the log level). How to disable the <code>WorkManagerInitializer</code>? If possible, I do not want to use the <code>static</code> keyword.</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"score":0,"creation_date":1314794424,"post_id":7256955,"comment_id":8731443,"body_markdown":"The SSL certificate usually comes with a specific domain *name* to which it applies, and if that name doesn&#39;t match the requesting name, your client warns you that the connection is not correctly authenticated. You could check if your client lets you specify an explicit certificate override for the connection.","body":"The SSL certificate usually comes with a specific domain <i>name</i> to which it applies, and if that name doesn&#39;t match the requesting name, your client warns you that the connection is not correctly authenticated. You could check if your client lets you specify an explicit certificate override for the connection."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":4,"creation_date":1314794433,"post_id":7256955,"comment_id":8731444,"body_markdown":"The hostname in the URL must match the hostname in the certificate. You should try get it working with the hosts file. If not, you can override the certificate validation routine to also accept google.com for 74.125.236.52 (don&#39;t make it too lenient!).","body":"The hostname in the URL must match the hostname in the certificate. You should try get it working with the hosts file. If not, you can override the certificate validation routine to also accept google.com for 74.125.236.52 (don&#39;t make it too lenient!)."},{"owner":{"account_id":371821,"reputation":2107,"user_id":720564,"accept_rate":77,"display_name":"WinOrWin"},"score":0,"creation_date":1314796057,"post_id":7256955,"comment_id":8731877,"body_markdown":"@Thilo : How to override the validation routine ?","body":"@Thilo : How to override the validation routine ?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1314796723,"post_id":7256955,"comment_id":8732059,"body_markdown":"Re: validation routine: http://download.oracle.com/javase/1.4.2/docs/api/javax/net/ssl/X509TrustManager.html","body":"Re: validation routine: <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/javax/net/ssl/X509TrustManager.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.4.2/docs/api/javax/net/ssl/&hellip;</a>"},{"owner":{"account_id":37969,"reputation":2730,"user_id":108758,"accept_rate":100,"display_name":"albogdano"},"score":0,"creation_date":1426681597,"post_id":7256955,"comment_id":46470423,"body_markdown":"It gets worse with Apache HttpClient 4.4! It uses PublicSuffix.org to verify hostnames and rejects most requests to popular domains like `*.googleapis.com`.","body":"It gets worse with Apache HttpClient 4.4! It uses PublicSuffix.org to verify hostnames and rejects most requests to popular domains like <code>*.googleapis.com</code>."}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1407371407,"creation_date":1314794715,"answer_id":7257060,"question_id":7256955,"body_markdown":"The certificate verification process will always verify the DNS name of the certificate presented by the server, with the hostname of the server in the URL used by the client.\r\n\r\nThe following code\r\n\r\n    HttpPost post = new HttpPost(&quot;https://74.125.236.52/accounts/ClientLogin&quot;);\r\n\r\nwill result in the certificate verification process verifying whether the common name of the certificate issued by the server, i.e. `www.google.com` matches the hostname i.e. `74.125.236.52`. Obviously, this is bound to result in failure (you could have verified this by browsing to the URL `https://74.125.236.52/accounts/ClientLogin` with a browser, and seen the resulting error yourself).\r\n\r\nSupposedly, for the sake of security, you are hesitant to write your own `TrustManager` (and you musn&#39;t unless you understand how to write a secure one), you ought to look at establishing DNS records in your datacenter to ensure that all lookups to `www.google.com` will resolve to `74.125.236.52`; this ought to be done either in your local DNS servers or in the `hosts` file of your OS; you might need to add entries to other domains as well. Needless to say, you will need to ensure that this is consistent with the records returned by your ISP.","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>The certificate verification process will always verify the DNS name of the certificate presented by the server, with the hostname of the server in the URL used by the client.</p>\n\n<p>The following code</p>\n\n<pre><code>HttpPost post = new HttpPost(\"https://74.125.236.52/accounts/ClientLogin\");\n</code></pre>\n\n<p>will result in the certificate verification process verifying whether the common name of the certificate issued by the server, i.e. <code>www.google.com</code> matches the hostname i.e. <code>74.125.236.52</code>. Obviously, this is bound to result in failure (you could have verified this by browsing to the URL <code>https://74.125.236.52/accounts/ClientLogin</code> with a browser, and seen the resulting error yourself).</p>\n\n<p>Supposedly, for the sake of security, you are hesitant to write your own <code>TrustManager</code> (and you musn't unless you understand how to write a secure one), you ought to look at establishing DNS records in your datacenter to ensure that all lookups to <code>www.google.com</code> will resolve to <code>74.125.236.52</code>; this ought to be done either in your local DNS servers or in the <code>hosts</code> file of your OS; you might need to add entries to other domains as well. Needless to say, you will need to ensure that this is consistent with the records returned by your ISP.</p>\n"},{"tags":[],"owner":{"account_id":371821,"reputation":2107,"user_id":720564,"accept_rate":77,"display_name":"WinOrWin"},"down_vote_count":13,"up_vote_count":18,"is_accepted":true,"score":5,"last_activity_date":1407371506,"creation_date":1314858626,"answer_id":7266768,"question_id":7256955,"body_markdown":"Thanks Vineet Reynolds. The link you provided held a lot of user comments - one of which I tried in desperation and it helped. I added this method :\r\n\r\n    // Do not do this in production!!!\r\n    HttpsURLConnection.setDefaultHostnameVerifier( new HostnameVerifier(){\r\n        public boolean verify(String string,SSLSession ssls) {\r\n            return true;\r\n        }\r\n    });\r\n\r\nThis seems fine for me now, though I know this solution is temporary. I am working with the network people to identify why my hosts file is being ignored.\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>Thanks Vineet Reynolds. The link you provided held a lot of user comments - one of which I tried in desperation and it helped. I added this method :</p>\n\n<pre><code>// Do not do this in production!!!\nHttpsURLConnection.setDefaultHostnameVerifier( new HostnameVerifier(){\n    public boolean verify(String string,SSLSession ssls) {\n        return true;\n    }\n});\n</code></pre>\n\n<p>This seems fine for me now, though I know this solution is temporary. I am working with the network people to identify why my hosts file is being ignored.</p>\n"},{"tags":[],"owner":{"account_id":143462,"reputation":31666,"user_id":419863,"accept_rate":92,"display_name":"H6_"},"down_vote_count":6,"up_vote_count":34,"is_accepted":false,"score":28,"last_activity_date":1407371907,"creation_date":1322687471,"answer_id":8332983,"question_id":7256955,"body_markdown":"You can also try to set a HostnameVerifier as described [here][1]. This worked for me to avoid this error. \r\n\r\n    // Do not do this in production!!!\r\n    HostnameVerifier hostnameVerifier = org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\r\n\r\n    DefaultHttpClient client = new DefaultHttpClient();\r\n\r\n    SchemeRegistry registry = new SchemeRegistry();\r\n    SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\r\n    socketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\r\n    registry.register(new Scheme(&quot;https&quot;, socketFactory, 443));\r\n    SingleClientConnManager mgr = new SingleClientConnManager(client.getParams(), registry);\r\n    DefaultHttpClient httpClient = new DefaultHttpClient(mgr, client.getParams());\r\n\r\n    // Set verifier     \r\n    HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n\r\n    // Example send http request\r\n    final String url = &quot;https://encrypted.google.com/&quot;;  \r\n    HttpPost httpPost = new HttpPost(url);\r\n    HttpResponse response = httpClient.execute(httpPost);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2012497/accepting-a-certificate-for-https-on-android/3904473#3904473","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>You can also try to set a HostnameVerifier as described <a href=\"https://stackoverflow.com/questions/2012497/accepting-a-certificate-for-https-on-android/3904473#3904473\">here</a>. This worked for me to avoid this error. </p>\n\n<pre><code>// Do not do this in production!!!\nHostnameVerifier hostnameVerifier = org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\n\nDefaultHttpClient client = new DefaultHttpClient();\n\nSchemeRegistry registry = new SchemeRegistry();\nSSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\nsocketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\nregistry.register(new Scheme(\"https\", socketFactory, 443));\nSingleClientConnManager mgr = new SingleClientConnManager(client.getParams(), registry);\nDefaultHttpClient httpClient = new DefaultHttpClient(mgr, client.getParams());\n\n// Set verifier     \nHttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n\n// Example send http request\nfinal String url = \"https://encrypted.google.com/\";  \nHttpPost httpPost = new HttpPost(url);\nHttpResponse response = httpClient.execute(httpPost);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3841147,"reputation":797,"user_id":3184171,"display_name":"oraclesoon"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1404288586,"creation_date":1400644365,"answer_id":23773661,"question_id":7256955,"body_markdown":"The concern is we should not use ALLOW_ALL_HOSTNAME_VERIFIER.\r\n\r\nHow about I implement my own hostname verifier?\r\n\r\n    class MyHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier\r\n    {\r\n        @Override\r\n        public boolean verify(String host, SSLSession session) {\r\n            String sslHost = session.getPeerHost();\r\n            System.out.println(&quot;Host=&quot; + host);\r\n            System.out.println(&quot;SSL Host=&quot; + sslHost);    \r\n            if (host.equals(sslHost)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void verify(String host, SSLSocket ssl) throws IOException {\r\n            String sslHost = ssl.getInetAddress().getHostName();\r\n            System.out.println(&quot;Host=&quot; + host);\r\n            System.out.println(&quot;SSL Host=&quot; + sslHost);    \r\n            if (host.equals(sslHost)) {\r\n                return;\r\n            } else {\r\n                throw new IOException(&quot;hostname in certificate didn&#39;t match: &quot; + host + &quot; != &quot; + sslHost);\r\n            }\r\n        }\r\n        \r\n        @Override\r\n        public void verify(String host, X509Certificate cert) throws SSLException {\r\n            throw new SSLException(&quot;Hostname verification 1 not implemented&quot;);\r\n        }\r\n        \r\n        @Override\r\n        public void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\r\n            throw new SSLException(&quot;Hostname verification 2 not implemented&quot;);\r\n        }\r\n    }\r\n\r\nLet&#39;s test against https://www.rideforrainbows.org/ which is hosted on a shared server.\r\n\r\n    public static void main (String[] args) throws Exception {\r\n        //org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\r\n        //sf.setHostnameVerifier(new MyHostnameVerifier());\r\n        //org.apache.http.conn.scheme.Scheme sch = new Scheme(&quot;https&quot;, 443, sf);\r\n            \r\n        org.apache.http.client.HttpClient client = new DefaultHttpClient();\r\n        //client.getConnectionManager().getSchemeRegistry().register(sch);\r\n        org.apache.http.client.methods.HttpPost post = new HttpPost(&quot;https://www.rideforrainbows.org/&quot;);\r\n        org.apache.http.HttpResponse response = client.execute(post);\r\n        java.io.InputStream is = response.getEntity().getContent();\r\n        java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\r\n        String line;\r\n        while ((line = rd.readLine()) != null) { \r\n            System.out.println(line);\r\n        }\r\n    }\r\n\r\nSSLException:\r\n&gt; Exception in thread &quot;main&quot; javax.net.ssl.SSLException: hostname in certificate didn&#39;t match: www.rideforrainbows.org != stac.rt.sg OR stac.rt.sg OR www.stac.rt.sg&lt;br&gt;\r\n  at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:231)&lt;br&gt;\r\n...\r\n\r\nDo with MyHostnameVerifier:\r\n\r\n    public static void main (String[] args) throws Exception {\r\n        org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\r\n        sf.setHostnameVerifier(new MyHostnameVerifier());\r\n        org.apache.http.conn.scheme.Scheme sch = new Scheme(&quot;https&quot;, 443, sf);\r\n            \r\n        org.apache.http.client.HttpClient client = new DefaultHttpClient();\r\n        client.getConnectionManager().getSchemeRegistry().register(sch);\r\n        org.apache.http.client.methods.HttpPost post = new HttpPost(&quot;https://www.rideforrainbows.org/&quot;);\r\n        org.apache.http.HttpResponse response = client.execute(post);\r\n        java.io.InputStream is = response.getEntity().getContent();\r\n        java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\r\n        String line;\r\n        while ((line = rd.readLine()) != null) { \r\n            System.out.println(line);\r\n        }\r\n    }\r\n\r\nShows:\r\n&gt; Host=www.rideforrainbows.org&lt;br&gt;\r\nSSL Host=www.rideforrainbows.org\r\n\r\nAt least I have the logic to compare (Host == SSL Host) and return true.\r\n\r\nThe above source code is working for httpclient-4.2.3.jar and httpclient-4.3.3.jar.\r\n\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>The concern is we should not use ALLOW_ALL_HOSTNAME_VERIFIER.</p>\n\n<p>How about I implement my own hostname verifier?</p>\n\n<pre><code>class MyHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier\n{\n    @Override\n    public boolean verify(String host, SSLSession session) {\n        String sslHost = session.getPeerHost();\n        System.out.println(\"Host=\" + host);\n        System.out.println(\"SSL Host=\" + sslHost);    \n        if (host.equals(sslHost)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    @Override\n    public void verify(String host, SSLSocket ssl) throws IOException {\n        String sslHost = ssl.getInetAddress().getHostName();\n        System.out.println(\"Host=\" + host);\n        System.out.println(\"SSL Host=\" + sslHost);    \n        if (host.equals(sslHost)) {\n            return;\n        } else {\n            throw new IOException(\"hostname in certificate didn't match: \" + host + \" != \" + sslHost);\n        }\n    }\n\n    @Override\n    public void verify(String host, X509Certificate cert) throws SSLException {\n        throw new SSLException(\"Hostname verification 1 not implemented\");\n    }\n\n    @Override\n    public void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\n        throw new SSLException(\"Hostname verification 2 not implemented\");\n    }\n}\n</code></pre>\n\n<p>Let's test against <a href=\"https://www.rideforrainbows.org/\" rel=\"nofollow\">https://www.rideforrainbows.org/</a> which is hosted on a shared server.</p>\n\n<pre><code>public static void main (String[] args) throws Exception {\n    //org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\n    //sf.setHostnameVerifier(new MyHostnameVerifier());\n    //org.apache.http.conn.scheme.Scheme sch = new Scheme(\"https\", 443, sf);\n\n    org.apache.http.client.HttpClient client = new DefaultHttpClient();\n    //client.getConnectionManager().getSchemeRegistry().register(sch);\n    org.apache.http.client.methods.HttpPost post = new HttpPost(\"https://www.rideforrainbows.org/\");\n    org.apache.http.HttpResponse response = client.execute(post);\n    java.io.InputStream is = response.getEntity().getContent();\n    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\n    String line;\n    while ((line = rd.readLine()) != null) { \n        System.out.println(line);\n    }\n}\n</code></pre>\n\n<p>SSLException:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" javax.net.ssl.SSLException: hostname in certificate didn't match: www.rideforrainbows.org != stac.rt.sg OR stac.rt.sg OR www.stac.rt.sg<br>\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:231)<br>\n  ...</p>\n</blockquote>\n\n<p>Do with MyHostnameVerifier:</p>\n\n<pre><code>public static void main (String[] args) throws Exception {\n    org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\n    sf.setHostnameVerifier(new MyHostnameVerifier());\n    org.apache.http.conn.scheme.Scheme sch = new Scheme(\"https\", 443, sf);\n\n    org.apache.http.client.HttpClient client = new DefaultHttpClient();\n    client.getConnectionManager().getSchemeRegistry().register(sch);\n    org.apache.http.client.methods.HttpPost post = new HttpPost(\"https://www.rideforrainbows.org/\");\n    org.apache.http.HttpResponse response = client.execute(post);\n    java.io.InputStream is = response.getEntity().getContent();\n    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\n    String line;\n    while ((line = rd.readLine()) != null) { \n        System.out.println(line);\n    }\n}\n</code></pre>\n\n<p>Shows:</p>\n\n<blockquote>\n  <p>Host=www.rideforrainbows.org<br>\n  SSL Host=www.rideforrainbows.org</p>\n</blockquote>\n\n<p>At least I have the logic to compare (Host == SSL Host) and return true.</p>\n\n<p>The above source code is working for httpclient-4.2.3.jar and httpclient-4.3.3.jar.</p>\n"},{"tags":[],"owner":{"account_id":3841147,"reputation":797,"user_id":3184171,"display_name":"oraclesoon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404288873,"creation_date":1404288873,"answer_id":24526126,"question_id":7256955,"body_markdown":"In httpclient-4.3.3.jar, there is another HttpClient to use:\r\n\r\n\r\n\tpublic static void main (String[] args) throws Exception {\r\n\t    // org.apache.http.client.HttpClient client = new DefaultHttpClient();\r\n\t    org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\r\n\t    System.out.println(&quot;HttpClient = &quot; + client.getClass().toString());\r\n\t    org.apache.http.client.methods.HttpPost post = new HttpPost(&quot;https://www.rideforrainbows.org/&quot;);\r\n\t    org.apache.http.HttpResponse response = client.execute(post);\r\n\t    java.io.InputStream is = response.getEntity().getContent();\r\n\t    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\r\n\t    String line;\r\n\t    while ((line = rd.readLine()) != null) { \r\n\t        System.out.println(line);\r\n\t    }\r\n\t}\r\n\r\n\r\nThis **HttpClientBuilder.create().build()** will return **org.apache.http.impl.client.InternalHttpClient**. It can handle the this **hostname in certificate didn&#39;t match** issue.","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>In httpclient-4.3.3.jar, there is another HttpClient to use:</p>\n\n<pre><code>public static void main (String[] args) throws Exception {\n    // org.apache.http.client.HttpClient client = new DefaultHttpClient();\n    org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\n    System.out.println(\"HttpClient = \" + client.getClass().toString());\n    org.apache.http.client.methods.HttpPost post = new HttpPost(\"https://www.rideforrainbows.org/\");\n    org.apache.http.HttpResponse response = client.execute(post);\n    java.io.InputStream is = response.getEntity().getContent();\n    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\n    String line;\n    while ((line = rd.readLine()) != null) { \n        System.out.println(line);\n    }\n}\n</code></pre>\n\n<p>This <strong>HttpClientBuilder.create().build()</strong> will return <strong>org.apache.http.impl.client.InternalHttpClient</strong>. It can handle the this <strong>hostname in certificate didn't match</strong> issue.</p>\n"},{"tags":[],"owner":{"account_id":5110403,"reputation":459,"user_id":4097186,"display_name":"Rishitesh Mishra"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1415972767,"creation_date":1415972767,"answer_id":26931424,"question_id":7256955,"body_markdown":"A cleaner approach ( only for test environment) in httpcliet4.3.3 is as follows.\r\n\r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext,SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n\r\n    CloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>A cleaner approach ( only for test environment) in httpcliet4.3.3 is as follows.</p>\n\n<pre><code>SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext,SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n\nCloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2771211,"reputation":211,"user_id":2385781,"display_name":"granko87"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1433495353,"creation_date":1433495353,"answer_id":30662610,"question_id":7256955,"body_markdown":"I had similar problem. I was using Android&#39;s DefaultHttpClient. I have read that HttpsURLConnection can handle this kind of exception. So I created custom HostnameVerifier which uses the verifier from HttpsURLConnection. I also wrapped the implementation to custom HttpClient.\r\n\r\n    public class CustomHttpClient extends DefaultHttpClient {\r\n\r\n    public CustomHttpClient() {\r\n        super();\r\n        SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\r\n        socketFactory.setHostnameVerifier(new CustomHostnameVerifier());\r\n        Scheme scheme = (new Scheme(&quot;https&quot;, socketFactory, 443));\r\n        getConnectionManager().getSchemeRegistry().register(scheme);\r\n    }\r\n\r\nHere is the CustomHostnameVerifier class:\r\n\r\n    public class CustomHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier {\r\n\r\n    @Override\r\n    public boolean verify(String host, SSLSession session) {\r\n        HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\r\n        return hv.verify(host, session);\r\n    }\r\n\r\n    @Override\r\n    public void verify(String host, SSLSocket ssl) throws IOException {\r\n    }\r\n\r\n    @Override\r\n    public void verify(String host, X509Certificate cert) throws SSLException {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\r\n        \r\n    }\r\n}\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>I had similar problem. I was using Android's DefaultHttpClient. I have read that HttpsURLConnection can handle this kind of exception. So I created custom HostnameVerifier which uses the verifier from HttpsURLConnection. I also wrapped the implementation to custom HttpClient.</p>\n\n<pre><code>public class CustomHttpClient extends DefaultHttpClient {\n\npublic CustomHttpClient() {\n    super();\n    SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\n    socketFactory.setHostnameVerifier(new CustomHostnameVerifier());\n    Scheme scheme = (new Scheme(\"https\", socketFactory, 443));\n    getConnectionManager().getSchemeRegistry().register(scheme);\n}\n</code></pre>\n\n<p>Here is the CustomHostnameVerifier class:</p>\n\n<pre><code>public class CustomHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier {\n\n@Override\npublic boolean verify(String host, SSLSession session) {\n    HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\n    return hv.verify(host, session);\n}\n\n@Override\npublic void verify(String host, SSLSocket ssl) throws IOException {\n}\n\n@Override\npublic void verify(String host, X509Certificate cert) throws SSLException {\n\n}\n\n@Override\npublic void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4267077,"reputation":1,"user_id":8359740,"display_name":"ishan shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593703819,"creation_date":1593703819,"answer_id":62699904,"question_id":7256955,"body_markdown":"Updating the java version from 1.8.0_40 to 1.8.0_181 resolved the issue.","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>Updating the java version from 1.8.0_40 to 1.8.0_181 resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":10862190,"reputation":1,"user_id":7986737,"display_name":"Alexander Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634155592,"creation_date":1634155263,"answer_id":69561652,"question_id":7256955,"body_markdown":"\t\t\t\tSSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\r\n\t\t\t\t\t\tSSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(),\r\n\t\t\t\t\t\tSSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n\r\n\t\t\t\tCloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslConnectionSocketFactory).build();\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<pre><code>            SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\n                    SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(),\n                    SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n\n            CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslConnectionSocketFactory).build();\n</code></pre>\n"}],"owner":{"account_id":371821,"reputation":2107,"user_id":720564,"accept_rate":77,"display_name":"WinOrWin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171536,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":7266768,"answer_count":9,"score":41,"last_activity_date":1634155592,"creation_date":1314794041,"question_id":7256955,"body_markdown":"I have been using the following code to connect to one of google&#39;s service. This code worked fine on my local machine :\r\n\r\n    HttpClient client=new DefaultHttpClient();\r\n    HttpPost post = new HttpPost(&quot;https://www.google.com/accounts/ClientLogin&quot;);\r\n    post.setEntity(new UrlEncodedFormEntity(myData));\r\n    HttpResponse response = client.execute(post);\r\n\r\nI put this code in a production environment, which had blocked Google.com. On request, they allowed communication with Google server by allowing me to accessing an IP : 74.125.236.52 - which is one of Google&#39;s IPs. I edited my hosts file to add this entry too.\r\n\r\nStill I could not access the URL, which I wonder why. So I replaced the above code with :\r\n\r\n    HttpPost post = new HttpPost(&quot;https://74.125.236.52/accounts/ClientLogin&quot;);\r\n\r\nNow I get an error like this :\r\n\r\n&gt; javax.net.ssl.SSLException: hostname in certificate didn&#39;t match:\r\n&gt; &amp;lt;74.125.236.52&amp;gt; != &amp;lt;www.google.com&amp;gt;\r\n\r\nI guess this is because Google has multiple IPs. I cant ask the network admin to allow me access to all those IPs - I may not even get this entire list. \r\n\r\nWhat should I do now ? Is there a workaround at Java level ? Or is it totally in hands of the network guy ?","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>I have been using the following code to connect to one of google's service. This code worked fine on my local machine :</p>\n\n<pre><code>HttpClient client=new DefaultHttpClient();\nHttpPost post = new HttpPost(\"https://www.google.com/accounts/ClientLogin\");\npost.setEntity(new UrlEncodedFormEntity(myData));\nHttpResponse response = client.execute(post);\n</code></pre>\n\n<p>I put this code in a production environment, which had blocked Google.com. On request, they allowed communication with Google server by allowing me to accessing an IP : 74.125.236.52 - which is one of Google's IPs. I edited my hosts file to add this entry too.</p>\n\n<p>Still I could not access the URL, which I wonder why. So I replaced the above code with :</p>\n\n<pre><code>HttpPost post = new HttpPost(\"https://74.125.236.52/accounts/ClientLogin\");\n</code></pre>\n\n<p>Now I get an error like this :</p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLException: hostname in certificate didn't match:\n  &lt;74.125.236.52&gt; != &lt;www.google.com&gt;</p>\n</blockquote>\n\n<p>I guess this is because Google has multiple IPs. I cant ask the network admin to allow me access to all those IPs - I may not even get this entire list. </p>\n\n<p>What should I do now ? Is there a workaround at Java level ? Or is it totally in hands of the network guy ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8047,"page":1945,"page_size":100}
