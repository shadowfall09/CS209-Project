{"items":[{"tags":["java","spring-boot","caching","ehcache","jta"],"comments":[{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1659426101,"post_id":73176873,"comment_id":129285632,"body_markdown":"Adding the solutions you have tried so far would really help.","body":"Adding the solutions you have tried so far would really help."},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1659476107,"post_id":73176873,"comment_id":129303101,"body_markdown":"Please, try to develop a minimal example about it(repo), because I don&#39;t see why your code shouldn&#39;t be working.","body":"Please, try to develop a minimal example about it(repo), because I don&#39;t see why your code shouldn&#39;t be working."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1659515487,"post_id":73176873,"comment_id":129310650,"body_markdown":"What version of spring, related dependencies and java are you using?","body":"What version of spring, related dependencies and java are you using?"},{"owner":{"account_id":6078702,"reputation":1668,"user_id":4745154,"accept_rate":36,"display_name":"Kumaresh Babu N S"},"score":0,"creation_date":1659527446,"post_id":73176873,"comment_id":129315139,"body_markdown":"I assume that if the cache method in Class B doesn&#39;t return result in Class A, it will throw an exception in Class A&#39;s method. It would be great, if you share the kind of exception and message of it?","body":"I assume that if the cache method in Class B doesn&#39;t return result in Class A, it will throw an exception in Class A&#39;s method. It would be great, if you share the kind of exception and message of it?"},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1659530202,"post_id":73176873,"comment_id":129316202,"body_markdown":"@KumareshBabuNS for testing purpose. I have added a throw new RuntimeException in class A method whenever the result from Class B is not null. As shown in example above.","body":"@KumareshBabuNS for testing purpose. I have added a throw new RuntimeException in class A method whenever the result from Class B is not null. As shown in example above."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1659530263,"post_id":73176873,"comment_id":129316231,"body_markdown":"@pringi spring boot 2.5.6 and java 11. Using ehcache 2.10.6","body":"@pringi spring boot 2.5.6 and java 11. Using ehcache 2.10.6"},{"owner":{"account_id":6078702,"reputation":1668,"user_id":4745154,"accept_rate":36,"display_name":"Kumaresh Babu N S"},"score":0,"creation_date":1659530716,"post_id":73176873,"comment_id":129316421,"body_markdown":"@MukulGoel What should be the expected response in this scenario?","body":"@MukulGoel What should be the expected response in this scenario?"},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1659530985,"post_id":73176873,"comment_id":129316542,"body_markdown":"@KumareshBabuNS In which scenario? when I am throwing the new runtime exception in class A? \nthe expected response should be that nothing is cached and when I make the same call from swagger again, class A calls class B and Class B tries to reach out to the external API again to fetch the response. thereby proving that when an exception was thrown within the transaction. Nothing was cached","body":"@KumareshBabuNS In which scenario? when I am throwing the new runtime exception in class A?  the expected response should be that nothing is cached and when I make the same call from swagger again, class A calls class B and Class B tries to reach out to the external API again to fetch the response. thereby proving that when an exception was thrown within the transaction. Nothing was cached"},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1659531071,"post_id":73176873,"comment_id":129316571,"body_markdown":"The actual use case is that. When I receive the response from Class B to Class A. In the class A method. I will validate the response and if validation fails, throw a spring validation exception. \nIn this scenario, I do not want to cache this bad data.","body":"The actual use case is that. When I receive the response from Class B to Class A. In the class A method. I will validate the response and if validation fails, throw a spring validation exception.  In this scenario, I do not want to cache this bad data."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659801026,"creation_date":1659550779,"answer_id":73226055,"question_id":73176873,"body_markdown":"There should be other ways, but the following could be a valid solution.\r\n\r\nThe first step will be to define a custom exception in order to be able to handle it later as appropriate. This exception will receive, among others, the name of the cache and the key you want to evict. For example:\r\n\r\n```java\r\npublic class CauseOfEvictionException extends RuntimeException {\r\n\r\n  public CauseOfEvictionException(String message, String cacheName, String cacheKey) {\r\n    super(message);\r\n    \r\n    this.cacheName = cacheName;\r\n    this.cacheKey = cacheKey;\r\n  }\r\n\r\n  // getters and setters omitted for brevity\r\n}\r\n```\r\n\r\nThis exception will be raised by your `B` class, in your example:\r\n\r\n```java\r\n@Service\r\nClass A{\r\n\r\n  @Autowired\r\n  B b;\r\n\r\n  @Transactional\r\n  public List&lt;Data&gt; getAllBusinessData(){\r\n \r\n    List&lt;Data&gt; dataList = b.getDataFromSystem(&quot;key&quot;);\r\n\r\n    // Sorry, because in a certain sense you need to be aware of the cache\r\n    // name here. Probably it could be improved\r\n    throw new CauseOfEvictionException(&quot;test&quot;, &quot;cacheName&quot;, &quot;key&quot;);\r\n\r\n  }\r\n}\r\n```\r\n\r\nNow, we need a way to handle this kind of exception.\r\n\r\nIndependently of that way, the idea is that the code responsible for handling the exception will access the configured `CacheManager` and trigger the cache eviction.\r\n\r\nBecause you are using Spring Boot, an easy way to deal with it is by extending `ResponseEntityExceptionHandler` to provide an appropriate `@ExceptionHandler`. Please, consider read for more information [the answer I provided in this related SO question](https://stackoverflow.com/questions/68641304/how-can-i-access-the-http-response-content-of-a-spring-boot-default-error-respon/68674232#68674232) or [this great article](https://www.toptal.com/java/spring-boot-rest-api-error-handling).\r\n\r\nIn summary, please, consider for example:\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n  \r\n  @Autowired\r\n  private CacheManager cacheManager;\r\n\r\n  @ExceptionHandler(CauseOfEvictionException.class)\r\n  public ResponseEntity&lt;Object&gt; handleCauseOfEvictionException(\r\n    CauseOfEvictionException e) {\r\n    this.cacheManager.getCache(e.getCacheName()).evict(e.getCacheKey());\r\n\r\n    // handle the exception and provide the necessary response as you wish\r\n    return ...;\r\n  }\r\n}\r\n``` \r\n\r\nIt is important to realize that when dealing with keys composed by several arguments [by default](https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key) (please, consider read [this](https://www.logicbig.com/tutorials/spring-framework/spring-integration/cache-key-generation.html) as well) the actual cache key will be wrapped as an instance of the `SimpleKey` class that contains all this parameters.\r\n\r\nPlease, be aware that this default behavior can be [customized](https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key) to a certain extend with SpEL or providing your own cache [`KeyGenerator`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/KeyGenerator.html). For reference, [here](https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-context/src/main/java/org/springframework/cache/interceptor/SimpleKeyGenerator.java) is the current implementation of the default one provided by the framework, `SimpleKeyGenerator`.\r\n\r\nThinking about the problem, a possible solution could be the use of some kind of AOP as well. The idea will be the following.\r\n\r\nFirst, define some kind of helper annotation. This annotation will be of help in determining which methods should be advised. For example: \r\n\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface EvictCacheOnError {\r\n}\r\n```\r\n\r\nThe next step will be defining the aspect that will handle the actual cache eviction process. Assuming you only need to advice Spring managed beans, for simplicity we can use [Spring AOP](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop) for that. You can use either an `@Around` or an `@AfterThrowing` aspect. Consider the following example:\r\n\r\n```java\r\n@Aspect\r\n@Component\r\npublic class EvictCacheOnErrorAspect {\r\n\r\n  @Autowired\r\n  private CacheManager cacheManager;\r\n\r\n  @Around(&quot;@annotation(your.pkg.EvictCacheOnError)&quot;)\r\n  public void evictCacheOnError(ProceedingJoinPoint pjp) {\r\n    try {\r\n      Object retVal = pjp.proceed();\r\n      return retVal;\r\n    } catch (CauseOfEvictionException e) {\r\n      this.cacheManager.getCache(\r\n          e.getCacheName()).evict(e.getCacheKey()\r\n      );\r\n\r\n      // rethrow \r\n      throw e;\r\n    }    \r\n  }\r\n}\r\n``` \r\n\r\nThe final step would be annotate the methods in which the behavior should be applied:\r\n\r\n```java\r\n@Service\r\nClass A{\r\n\r\n  @Autowired\r\n  B b;\r\n\r\n  @Transactional\r\n  @EvictCacheOnError\r\n  public List&lt;Data&gt; getAllBusinessData(){\r\n\r\n    List&lt;Data&gt; dataList = b.getDataFromSystem(&quot;key&quot;);\r\n\r\n    throw new CauseOfEvictionException(&quot;test&quot;, &quot;cacheName&quot;, &quot;key&quot;);\r\n  }\r\n}\r\n```\r\n\r\nYou may even try generalizing the idea, by providing in the `EvictCacheOnError` annotation all the necessary information you need to perform the cache eviction:\r\n\r\n\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface EvictCacheOnError {\r\n    String cacheName();\r\n    int[] cacheKeyArgsIndexes();\r\n}\r\n```\r\n\r\nWith the following aspect:\r\n\r\n```java\r\n@Aspect\r\n@Component\r\npublic class EvictCacheOnErrorAspect {\r\n\r\n  @Autowired\r\n  private CacheManager cacheManager;\r\n\r\n  @Autowired\r\n  private KeyGenerator keyGenerator;\r\n\r\n  @Around(&quot;@annotation(your.pkg.EvictCacheOnError)&quot;)\r\n  // You can inject the annotation right here if you want to\r\n  public void evictCacheOnError(ProceedingJoinPoint pjp) {\r\n    try {\r\n      Object retVal = pjp.proceed();\r\n      return retVal;\r\n    } catch (Throwable t) {\r\n      // Assuming only is applied on methods\r\n      MethodSignature signature = (MethodSignature) pjp.getSignature();\r\n      Method method = signature.getMethod();\r\n      // Obtain a reference to the EvictCacheOnError annotation\r\n      EvictCacheOnError evictCacheOnError = method.getAnnotation(EvictCacheOnError.class);\r\n      // Compute cache key: some safety checks are imperative here,\r\n      // please, excuse the simplicity of the implementation\r\n      int[] cacheKeyArgsIndexes = evictCacheOnError.cacheKeyArgsIndexes();\r\n      Object[] args = pjp.getArgs();\r\n      List&lt;Object&gt; cacheKeyArgsList = new ArrayList&lt;&gt;(cacheKeyArgsIndexes.length);\r\n      for (int i=0; i &lt; cacheKeyArgsIndexes.length; i++) {\r\n        cacheKeyArgsList.add(args[cacheKeyArgsIndexes[i]]);\r\n      }\r\n      \r\n      Object[] cacheKeyArgs = new Object[cacheKeyArgsList.size()];\r\n      cacheKeyArgsList.toArray(cacheKeyArgs);\r\n\r\n      Object target = pjp.getTarget();\r\n\r\n      Object cacheKey = this.keyGenerator.generate(target, method, cacheKeyArgs);\r\n\r\n      // Perform actual eviction\r\n      String cacheName = evictCacheOnError.cacheName();\r\n      this.cacheManager.getCache(cacheName).evict(cacheKey);\r\n\r\n      // rethrow: be careful here if using in it with transactions\r\n      // Spring will per default only rollback unchecked exceptions\r\n      throw new RuntimeException(t);\r\n    }    \r\n  }\r\n}\r\n``` \r\n\r\nThis last solution depends on the actual method arguments, which may not be appropriate if the cache key is based on intermediate results obtained within your method body.","title":"Spring boot @Cacheable not working as expected with @Transactional","body":"<p>There should be other ways, but the following could be a valid solution.</p>\n<p>The first step will be to define a custom exception in order to be able to handle it later as appropriate. This exception will receive, among others, the name of the cache and the key you want to evict. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CauseOfEvictionException extends RuntimeException {\n\n  public CauseOfEvictionException(String message, String cacheName, String cacheKey) {\n    super(message);\n    \n    this.cacheName = cacheName;\n    this.cacheKey = cacheKey;\n  }\n\n  // getters and setters omitted for brevity\n}\n</code></pre>\n<p>This exception will be raised by your <code>B</code> class, in your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nClass A{\n\n  @Autowired\n  B b;\n\n  @Transactional\n  public List&lt;Data&gt; getAllBusinessData(){\n \n    List&lt;Data&gt; dataList = b.getDataFromSystem(&quot;key&quot;);\n\n    // Sorry, because in a certain sense you need to be aware of the cache\n    // name here. Probably it could be improved\n    throw new CauseOfEvictionException(&quot;test&quot;, &quot;cacheName&quot;, &quot;key&quot;);\n\n  }\n}\n</code></pre>\n<p>Now, we need a way to handle this kind of exception.</p>\n<p>Independently of that way, the idea is that the code responsible for handling the exception will access the configured <code>CacheManager</code> and trigger the cache eviction.</p>\n<p>Because you are using Spring Boot, an easy way to deal with it is by extending <code>ResponseEntityExceptionHandler</code> to provide an appropriate <code>@ExceptionHandler</code>. Please, consider read for more information <a href=\"https://stackoverflow.com/questions/68641304/how-can-i-access-the-http-response-content-of-a-spring-boot-default-error-respon/68674232#68674232\">the answer I provided in this related SO question</a> or <a href=\"https://www.toptal.com/java/spring-boot-rest-api-error-handling\" rel=\"nofollow noreferrer\">this great article</a>.</p>\n<p>In summary, please, consider for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n  \n  @Autowired\n  private CacheManager cacheManager;\n\n  @ExceptionHandler(CauseOfEvictionException.class)\n  public ResponseEntity&lt;Object&gt; handleCauseOfEvictionException(\n    CauseOfEvictionException e) {\n    this.cacheManager.getCache(e.getCacheName()).evict(e.getCacheKey());\n\n    // handle the exception and provide the necessary response as you wish\n    return ...;\n  }\n}\n</code></pre>\n<p>It is important to realize that when dealing with keys composed by several arguments <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key\" rel=\"nofollow noreferrer\">by default</a> (please, consider read <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-integration/cache-key-generation.html\" rel=\"nofollow noreferrer\">this</a> as well) the actual cache key will be wrapped as an instance of the <code>SimpleKey</code> class that contains all this parameters.</p>\n<p>Please, be aware that this default behavior can be <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key\" rel=\"nofollow noreferrer\">customized</a> to a certain extend with SpEL or providing your own cache <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/KeyGenerator.html\" rel=\"nofollow noreferrer\"><code>KeyGenerator</code></a>. For reference, <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-context/src/main/java/org/springframework/cache/interceptor/SimpleKeyGenerator.java\" rel=\"nofollow noreferrer\">here</a> is the current implementation of the default one provided by the framework, <code>SimpleKeyGenerator</code>.</p>\n<p>Thinking about the problem, a possible solution could be the use of some kind of AOP as well. The idea will be the following.</p>\n<p>First, define some kind of helper annotation. This annotation will be of help in determining which methods should be advised. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface EvictCacheOnError {\n}\n</code></pre>\n<p>The next step will be defining the aspect that will handle the actual cache eviction process. Assuming you only need to advice Spring managed beans, for simplicity we can use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop\" rel=\"nofollow noreferrer\">Spring AOP</a> for that. You can use either an <code>@Around</code> or an <code>@AfterThrowing</code> aspect. Consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class EvictCacheOnErrorAspect {\n\n  @Autowired\n  private CacheManager cacheManager;\n\n  @Around(&quot;@annotation(your.pkg.EvictCacheOnError)&quot;)\n  public void evictCacheOnError(ProceedingJoinPoint pjp) {\n    try {\n      Object retVal = pjp.proceed();\n      return retVal;\n    } catch (CauseOfEvictionException e) {\n      this.cacheManager.getCache(\n          e.getCacheName()).evict(e.getCacheKey()\n      );\n\n      // rethrow \n      throw e;\n    }    \n  }\n}\n</code></pre>\n<p>The final step would be annotate the methods in which the behavior should be applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nClass A{\n\n  @Autowired\n  B b;\n\n  @Transactional\n  @EvictCacheOnError\n  public List&lt;Data&gt; getAllBusinessData(){\n\n    List&lt;Data&gt; dataList = b.getDataFromSystem(&quot;key&quot;);\n\n    throw new CauseOfEvictionException(&quot;test&quot;, &quot;cacheName&quot;, &quot;key&quot;);\n  }\n}\n</code></pre>\n<p>You may even try generalizing the idea, by providing in the <code>EvictCacheOnError</code> annotation all the necessary information you need to perform the cache eviction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface EvictCacheOnError {\n    String cacheName();\n    int[] cacheKeyArgsIndexes();\n}\n</code></pre>\n<p>With the following aspect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class EvictCacheOnErrorAspect {\n\n  @Autowired\n  private CacheManager cacheManager;\n\n  @Autowired\n  private KeyGenerator keyGenerator;\n\n  @Around(&quot;@annotation(your.pkg.EvictCacheOnError)&quot;)\n  // You can inject the annotation right here if you want to\n  public void evictCacheOnError(ProceedingJoinPoint pjp) {\n    try {\n      Object retVal = pjp.proceed();\n      return retVal;\n    } catch (Throwable t) {\n      // Assuming only is applied on methods\n      MethodSignature signature = (MethodSignature) pjp.getSignature();\n      Method method = signature.getMethod();\n      // Obtain a reference to the EvictCacheOnError annotation\n      EvictCacheOnError evictCacheOnError = method.getAnnotation(EvictCacheOnError.class);\n      // Compute cache key: some safety checks are imperative here,\n      // please, excuse the simplicity of the implementation\n      int[] cacheKeyArgsIndexes = evictCacheOnError.cacheKeyArgsIndexes();\n      Object[] args = pjp.getArgs();\n      List&lt;Object&gt; cacheKeyArgsList = new ArrayList&lt;&gt;(cacheKeyArgsIndexes.length);\n      for (int i=0; i &lt; cacheKeyArgsIndexes.length; i++) {\n        cacheKeyArgsList.add(args[cacheKeyArgsIndexes[i]]);\n      }\n      \n      Object[] cacheKeyArgs = new Object[cacheKeyArgsList.size()];\n      cacheKeyArgsList.toArray(cacheKeyArgs);\n\n      Object target = pjp.getTarget();\n\n      Object cacheKey = this.keyGenerator.generate(target, method, cacheKeyArgs);\n\n      // Perform actual eviction\n      String cacheName = evictCacheOnError.cacheName();\n      this.cacheManager.getCache(cacheName).evict(cacheKey);\n\n      // rethrow: be careful here if using in it with transactions\n      // Spring will per default only rollback unchecked exceptions\n      throw new RuntimeException(t);\n    }    \n  }\n}\n</code></pre>\n<p>This last solution depends on the actual method arguments, which may not be appropriate if the cache key is based on intermediate results obtained within your method body.</p>\n"}],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2170,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1660057517,"creation_date":1659194876,"question_id":73176873,"body_markdown":"\r\nI am not able to share the actual code because of corporate policies but below is an example of method structures.\r\n\r\n\r\nSo in the example I want to the cache on the method in Class B to be cleared when the exception is thrown in class A. \r\n\r\nNB: I can not move the cache to Class A so that is not a feasible solution. \r\n\r\nI have tried reading all answers and posts online to get this working but not able to figure it out. \r\n\r\nPlease help with suggestions. A\r\n\r\n\r\nI have set the following properties in `application.properties`\r\n\r\n    spring.cache.enabled=true\r\n    spring.cache.jcache.config=classpath:cache/ehcache.xml\r\n\r\n\r\n----------\r\n\r\n\r\n    @EnableCaching\r\n    @EnableTransactionManagement\r\n        Main Class{\r\n\r\n    \r\n    @Autowired\r\n    CacheManager cacheManager\r\n    \r\n    @PostConstruct\r\n    void postConstruct(){\r\n    (JCacheCacheManager)cachemanager).setTransactionAware(true);\r\n    \r\n    }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    @Service\r\n    Class A{\r\n    \r\n    @Autowired\r\n    B b;\r\n    \r\n    @Transactional\r\n    public List&lt;Data&gt; getAllBusinessData(){\r\n    \r\n    List&lt;Data&gt; dataList = b.getDataFromSystem(&quot;key&quot;);\r\n    \r\n    //TestCode to test cache clears if exception thrown here\r\n    throw new RuntimeException(&quot;test&quot;);\r\n    \r\n    }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    @Service\r\n    Class B{\r\n    \r\n    @Cacheable(&quot;cacheName&quot;)\r\n    public List&lt;Data&gt; getDataFromSystem(String key){\r\n    \r\n    client call code here\r\n    \r\n    return dataList;\r\n    \r\n    }\r\n    \r\n    }\r\n\r\n","title":"Spring boot @Cacheable not working as expected with @Transactional","body":"<p>I am not able to share the actual code because of corporate policies but below is an example of method structures.</p>\n<p>So in the example I want to the cache on the method in Class B to be cleared when the exception is thrown in class A.</p>\n<p>NB: I can not move the cache to Class A so that is not a feasible solution.</p>\n<p>I have tried reading all answers and posts online to get this working but not able to figure it out.</p>\n<p>Please help with suggestions. A</p>\n<p>I have set the following properties in <code>application.properties</code></p>\n<pre><code>spring.cache.enabled=true\nspring.cache.jcache.config=classpath:cache/ehcache.xml\n</code></pre>\n<hr />\n<pre><code>@EnableCaching\n@EnableTransactionManagement\n    Main Class{\n\n\n@Autowired\nCacheManager cacheManager\n\n@PostConstruct\nvoid postConstruct(){\n(JCacheCacheManager)cachemanager).setTransactionAware(true);\n\n}\n}\n</code></pre>\n<hr />\n<pre><code>@Service\nClass A{\n\n@Autowired\nB b;\n\n@Transactional\npublic List&lt;Data&gt; getAllBusinessData(){\n\nList&lt;Data&gt; dataList = b.getDataFromSystem(&quot;key&quot;);\n\n//TestCode to test cache clears if exception thrown here\nthrow new RuntimeException(&quot;test&quot;);\n\n}\n}\n</code></pre>\n<hr />\n<pre><code>@Service\nClass B{\n\n@Cacheable(&quot;cacheName&quot;)\npublic List&lt;Data&gt; getDataFromSystem(String key){\n\nclient call code here\n\nreturn dataList;\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","encryption","private-key"],"answers":[{"tags":[],"owner":{"account_id":3158551,"reputation":201,"user_id":2670342,"display_name":"lockner"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376135474,"creation_date":1376135084,"answer_id":18161536,"question_id":17657981,"body_markdown":"The following code does the work for me. (Using the bcpkix and bcprov libs from Bouncy Castle).\r\n\r\n    private PrivateKey readPrivateKey(String privateKeyPath, String keyPassword) throws IOException {\r\n        \r\n        FileReader fileReader = new FileReader(privateKeyPath);\r\n        PEMParser keyReader = new PEMParser(fileReader);\r\n        \r\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n        PEMDecryptorProvider decryptionProv = new JcePEMDecryptorProviderBuilder().build(keyPassword.toCharArray());\r\n                \r\n        Object keyPair = keyReader.readObject();\r\n        PrivateKeyInfo keyInfo;\r\n        \r\n        if (keyPair instanceof PEMEncryptedKeyPair) {\r\n            PEMKeyPair decryptedKeyPair = ((PEMEncryptedKeyPair) keyPair).decryptKeyPair(decryptionProv);\r\n            keyInfo = decryptedKeyPair.getPrivateKeyInfo();\r\n        } else {\r\n            keyInfo = ((PEMKeyPair) keyPair).getPrivateKeyInfo();\r\n        }\r\n        \r\n        keyReader.close();\r\n        return converter.getPrivateKey(keyInfo);","title":"Read a Private Encrypted Key in Java","body":"<p>The following code does the work for me. (Using the bcpkix and bcprov libs from Bouncy Castle).</p>\n\n<pre><code>private PrivateKey readPrivateKey(String privateKeyPath, String keyPassword) throws IOException {\n\n    FileReader fileReader = new FileReader(privateKeyPath);\n    PEMParser keyReader = new PEMParser(fileReader);\n\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n    PEMDecryptorProvider decryptionProv = new JcePEMDecryptorProviderBuilder().build(keyPassword.toCharArray());\n\n    Object keyPair = keyReader.readObject();\n    PrivateKeyInfo keyInfo;\n\n    if (keyPair instanceof PEMEncryptedKeyPair) {\n        PEMKeyPair decryptedKeyPair = ((PEMEncryptedKeyPair) keyPair).decryptKeyPair(decryptionProv);\n        keyInfo = decryptedKeyPair.getPrivateKeyInfo();\n    } else {\n        keyInfo = ((PEMKeyPair) keyPair).getPrivateKeyInfo();\n    }\n\n    keyReader.close();\n    return converter.getPrivateKey(keyInfo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93619,"reputation":43,"user_id":1705048,"display_name":"NDAclan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660057447,"creation_date":1660057447,"answer_id":73294064,"question_id":17657981,"body_markdown":"My key was generated with the command below.\r\n\r\n`openssl req -new -newkey rsa:2048 -keyout key.pem -pubkey -out pubreq.p10 -subj &quot;/CN=MyKey&quot;`\r\n\r\nApparently the output was a `PKCS8EncryptedPrivateKeyInfo` and after reading stuff here and there, this is what I came up with:\r\n\r\n```java\r\ntry {\r\n    File file = ResourceUtils.getFile(&quot;classpath:&quot; + decryptionKeystore);\r\n\r\n    try (FileReader fileReader = new FileReader(file);\r\n        PEMParser keyReader = new PEMParser(fileReader)) {\r\n        Object keyPair = keyReader.readObject();\r\n        PrivateKeyInfo keyInfo;\r\n\r\n        if (keyPair instanceof PEMEncryptedKeyPair) {\r\n            PEMDecryptorProvider decryptionProv = new JcePEMDecryptorProviderBuilder().build(passphrase);\r\n            PEMKeyPair decryptedKeyPair = ((PEMEncryptedKeyPair) keyPair).decryptKeyPair(decryptionProv);\r\n            keyInfo = decryptedKeyPair.getPrivateKeyInfo();\r\n        } else if (keyPair instanceof PKCS8EncryptedPrivateKeyInfo) {\r\n            InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(passphrase);\r\n            keyInfo = ((PKCS8EncryptedPrivateKeyInfo) keyPair).decryptPrivateKeyInfo(decryptorProvider);\r\n        } else {\r\n            keyInfo = ((PEMKeyPair) keyPair).getPrivateKeyInfo();\r\n        }\r\n\r\n        return new JcaPEMKeyConverter().getPrivateKey(keyInfo);\r\n    } catch (Exception e) {\r\n        LOGGER.error(&quot;Exception while getting private key&quot;, e);\r\n    }\r\n} catch (FileNotFoundException e) {\r\n    LOGGER.debug(&quot;Decryption keystore file not found&quot;);\r\n}\r\n```","title":"Read a Private Encrypted Key in Java","body":"<p>My key was generated with the command below.</p>\n<p><code>openssl req -new -newkey rsa:2048 -keyout key.pem -pubkey -out pubreq.p10 -subj &quot;/CN=MyKey&quot;</code></p>\n<p>Apparently the output was a <code>PKCS8EncryptedPrivateKeyInfo</code> and after reading stuff here and there, this is what I came up with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    File file = ResourceUtils.getFile(&quot;classpath:&quot; + decryptionKeystore);\n\n    try (FileReader fileReader = new FileReader(file);\n        PEMParser keyReader = new PEMParser(fileReader)) {\n        Object keyPair = keyReader.readObject();\n        PrivateKeyInfo keyInfo;\n\n        if (keyPair instanceof PEMEncryptedKeyPair) {\n            PEMDecryptorProvider decryptionProv = new JcePEMDecryptorProviderBuilder().build(passphrase);\n            PEMKeyPair decryptedKeyPair = ((PEMEncryptedKeyPair) keyPair).decryptKeyPair(decryptionProv);\n            keyInfo = decryptedKeyPair.getPrivateKeyInfo();\n        } else if (keyPair instanceof PKCS8EncryptedPrivateKeyInfo) {\n            InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(passphrase);\n            keyInfo = ((PKCS8EncryptedPrivateKeyInfo) keyPair).decryptPrivateKeyInfo(decryptorProvider);\n        } else {\n            keyInfo = ((PEMKeyPair) keyPair).getPrivateKeyInfo();\n        }\n\n        return new JcaPEMKeyConverter().getPrivateKey(keyInfo);\n    } catch (Exception e) {\n        LOGGER.error(&quot;Exception while getting private key&quot;, e);\n    }\n} catch (FileNotFoundException e) {\n    LOGGER.debug(&quot;Decryption keystore file not found&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":469962,"reputation":93,"user_id":876887,"display_name":"Manuel Gustavo Guillen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7006,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1660057447,"creation_date":1373902176,"question_id":17657981,"body_markdown":"I have the following piece of code:\r\n\r\n        PEMParser pemParser;\r\n    \tFile telexuskeys = new File(locationKey);\r\n\t    if(telexuskeys.exists())\r\n\t    \tpemParser = new PEMParser(new FileReader(telexuskeys));\r\n\t    else{\r\n\t    \tusage(ops);\r\n\t    \tthrow new FileNotFoundException(&quot;The key file (company&#39;s certificate) doesn&#39;t exist!&quot;);\r\n\t    }\r\n\r\n\t    System.out.println(&quot;Loading company&#39;s certificate&quot;);\r\n\t    \r\n\t    Object object = pemParser.readObject();\r\n\t    Object object2 = pemParser.readObject();\r\n\t    \r\n\t    PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().build(passwordPem.toCharArray());\r\n\t    JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;); \r\n\t    \r\n\t    byte[] keyBytes = PrivateKeyInfo.getInstance(object2).getEncoded();\r\n\t    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;, &quot;BC&quot;);        \r\n\t    PrivateKey pk = kf.generatePrivate(spec);\r\n\r\n\r\nMy pem file just have the certificate and the private key. I used to be able to read the file and obtain the private key but now the file is protected (encrypted) with a password. What is the instruction that I&#39;m still missing. I know I need to use the PEMDecryptorProvider and the JcaPEMKeyConverter  objects in order to obtain it but I haven&#39;t found the correct combination.","title":"Read a Private Encrypted Key in Java","body":"<p>I have the following piece of code:</p>\n\n<pre><code>    PEMParser pemParser;\n    File telexuskeys = new File(locationKey);\n    if(telexuskeys.exists())\n        pemParser = new PEMParser(new FileReader(telexuskeys));\n    else{\n        usage(ops);\n        throw new FileNotFoundException(\"The key file (company's certificate) doesn't exist!\");\n    }\n\n    System.out.println(\"Loading company's certificate\");\n\n    Object object = pemParser.readObject();\n    Object object2 = pemParser.readObject();\n\n    PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().build(passwordPem.toCharArray());\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(\"BC\"); \n\n    byte[] keyBytes = PrivateKeyInfo.getInstance(object2).getEncoded();\n    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\", \"BC\");        \n    PrivateKey pk = kf.generatePrivate(spec);\n</code></pre>\n\n<p>My pem file just have the certificate and the private key. I used to be able to read the file and obtain the private key but now the file is protected (encrypted) with a password. What is the instruction that I'm still missing. I know I need to use the PEMDecryptorProvider and the JcaPEMKeyConverter  objects in order to obtain it but I haven't found the correct combination.</p>\n"},{"tags":["java","jpa","criteria"],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659408275,"creation_date":1659407629,"answer_id":73201392,"question_id":73168775,"body_markdown":"I haven&#39;t used this, I found the relevant documentation, I think it seems to be available like the following, just to provide a reference, I hope it can help you.\r\n\r\n[literal(T)][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    Integer a = 1;\r\n    Long b = 2L;\r\n    String c = &quot;3&quot;;\r\n    Expression&lt;Integer&gt; integerParameter = criteriaBuilder.literal(a);\r\n    Expression&lt;Long&gt; longParameter = criteriaBuilder.literal(b);\r\n    Expression&lt;String&gt; stringParameter = criteriaBuilder.literal(c);\r\n\r\nAnd i found that method [minusDays(long)][3] return a `LocalDateTime`, so i think we should take that like :\r\n\r\n    LocalDateTime ldt = LocalDateTime.now().minusDays( (long) root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class));\r\n    Expression&lt;LocalDateTime&gt; longParameter = criteriaBuilder.literal(ldt);\r\n\r\nAs for how to convert LocalDateTime into the data you need, I am currently unclear, because it is not clear what your specific needs are.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.2/javadocs/org/hibernate/ejb/criteria/CriteriaBuilderImpl.html#literal(T)\r\n  [2]: https://i.stack.imgur.com/VmpF2.png\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#minusDays-long","title":"How do I cast JPA criteria Expression&lt;Long&gt; to long java type","body":"<p>I haven't used this, I found the relevant documentation, I think it seems to be available like the following, just to provide a reference, I hope it can help you.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/4.2/javadocs/org/hibernate/ejb/criteria/CriteriaBuilderImpl.html#literal(T)\" rel=\"nofollow noreferrer\">literal(T)</a></p>\n<p><a href=\"https://i.stack.imgur.com/VmpF2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VmpF2.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Integer a = 1;\nLong b = 2L;\nString c = &quot;3&quot;;\nExpression&lt;Integer&gt; integerParameter = criteriaBuilder.literal(a);\nExpression&lt;Long&gt; longParameter = criteriaBuilder.literal(b);\nExpression&lt;String&gt; stringParameter = criteriaBuilder.literal(c);\n</code></pre>\n<p>And i found that method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#minusDays-long\" rel=\"nofollow noreferrer\">minusDays(long)</a> return a <code>LocalDateTime</code>, so i think we should take that like :</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.now().minusDays( (long) root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class));\nExpression&lt;LocalDateTime&gt; longParameter = criteriaBuilder.literal(ldt);\n</code></pre>\n<p>As for how to convert LocalDateTime into the data you need, I am currently unclear, because it is not clear what your specific needs are.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660057191,"creation_date":1659481295,"answer_id":73214630,"question_id":73168775,"body_markdown":"In your first error, you are mixing `LocalDateTime.now().minusDays` with the `Expression` `root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)`, and it is not possible.\r\n\r\nThe error is not detected at compile time because you are actually casting the `Expression` `root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)` to `long`:\r\n\r\n```java\r\n(long) root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)\r\n```\r\n\r\nSo everything is fine for the compiler, but at runtime an error will be raised because an `Expression` is not a `long` value. \r\n\r\nIn your second error you are trying using:\r\n\r\n```java\r\nroot.get(&quot;person&quot;).get(&quot;birthDay&quot;).toString()\r\n```\r\n\r\nAs a result of the evaluation of this code you will get a `String` representation of the JPA criteria path you are defining, `org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d` in your use case.\r\n\r\nThen, if you compute `Long.parseValue` of `org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d` if will raise an error because `org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d` doesn&#39;t represent a valid number.\r\n\r\nUnder the hood, the problem is that you are trying to apply the operation `LocalDateTime.now().minusDays` to an `Expression`, but it is not possible, you need to perform the computation in some other suitable way.\r\n\r\nIt is unclear by your question what you are actually trying to achieve, but the JPA criteria API provides a rich set of builtin expressions you can use as `Predicate`s to deal with dates, such as, assuming `root.get(&quot;person&quot;).get(&quot;birthDay&quot;)` represent a `Date` _like_ object:\r\n\r\n```java\r\ncb.greaterThanOrEqualTo(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\r\n//...\r\ncb.greaterThan(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\r\n//...\r\ncb.lessThanOrEqualTo(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\r\n//...\r\ncb.lessThan(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\r\n```\r\n\r\nYou can create your own function using `cb.function` as well and use that function in your predicates. Consider for that purpose defining a helper method somewhere in your code, for example:\r\n\r\n```java\r\npublic static Expression&lt;Long&gt; daysBetween(\r\n  CriteriaBuilder cb, Expression&lt;LocalDate&gt; startDate, Expression&lt;LocalDate&gt; endDate) {\r\n  return cb.function(&quot;DAYS_BETWEEN&quot;, long.class, startDate, endDate);\r\n}\r\n```\r\n\r\nWhere `DAYS_BETWEEN` is the name, you can choose the one you consider most appropriate, of a database level predefined or user defined function. In Oracle for example it exists _per se_, but it should be straight forward to implement in other database systems:\r\n\r\n```sql\r\ncreate or replace function days_between...\r\n```\r\n\r\nThen, use this helper method in your code. For example, _give me the persons that turns years in the following `numberOfDaysToTurnYears` days_:\r\n\r\n```java\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n \r\nCriteriaQuery&lt;Person&gt; query = cb.createQuery(Person.class);\r\n\r\nRoot&lt;Person&gt; root = query.from(Person.class);\r\n\r\nParameterExpression&lt;Integer&gt; numberOfDaysToTurnYears = cb.parameter(Integer.class);\r\n\r\nquery.where(\r\n  cb.lessThan(\r\n    // Here you can use LocalDate.now(), because it is actually a pure literal value\r\n    daysBetween(cb, root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now())),\r\n    numberOfDaysToTurnYears\r\n  )\r\n);\r\n\r\nList&lt;Person&gt; people = entityManager.createQuery(query)\r\n    .setParameter(numberOfDaysToTurnYears, 10)\r\n    .getResultList();\r\n```","title":"How do I cast JPA criteria Expression&lt;Long&gt; to long java type","body":"<p>In your first error, you are mixing <code>LocalDateTime.now().minusDays</code> with the <code>Expression</code> <code>root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)</code>, and it is not possible.</p>\n<p>The error is not detected at compile time because you are actually casting the <code>Expression</code> <code>root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)</code> to <code>long</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(long) root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)\n</code></pre>\n<p>So everything is fine for the compiler, but at runtime an error will be raised because an <code>Expression</code> is not a <code>long</code> value.</p>\n<p>In your second error you are trying using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>root.get(&quot;person&quot;).get(&quot;birthDay&quot;).toString()\n</code></pre>\n<p>As a result of the evaluation of this code you will get a <code>String</code> representation of the JPA criteria path you are defining, <code>org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d</code> in your use case.</p>\n<p>Then, if you compute <code>Long.parseValue</code> of <code>org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d</code> if will raise an error because <code>org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d</code> doesn't represent a valid number.</p>\n<p>Under the hood, the problem is that you are trying to apply the operation <code>LocalDateTime.now().minusDays</code> to an <code>Expression</code>, but it is not possible, you need to perform the computation in some other suitable way.</p>\n<p>It is unclear by your question what you are actually trying to achieve, but the JPA criteria API provides a rich set of builtin expressions you can use as <code>Predicate</code>s to deal with dates, such as, assuming <code>root.get(&quot;person&quot;).get(&quot;birthDay&quot;)</code> represent a <code>Date</code> <em>like</em> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>cb.greaterThanOrEqualTo(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\n//...\ncb.greaterThan(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\n//...\ncb.lessThanOrEqualTo(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\n//...\ncb.lessThan(root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now()));\n</code></pre>\n<p>You can create your own function using <code>cb.function</code> as well and use that function in your predicates. Consider for that purpose defining a helper method somewhere in your code, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Expression&lt;Long&gt; daysBetween(\n  CriteriaBuilder cb, Expression&lt;LocalDate&gt; startDate, Expression&lt;LocalDate&gt; endDate) {\n  return cb.function(&quot;DAYS_BETWEEN&quot;, long.class, startDate, endDate);\n}\n</code></pre>\n<p>Where <code>DAYS_BETWEEN</code> is the name, you can choose the one you consider most appropriate, of a database level predefined or user defined function. In Oracle for example it exists <em>per se</em>, but it should be straight forward to implement in other database systems:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace function days_between...\n</code></pre>\n<p>Then, use this helper method in your code. For example, <em>give me the persons that turns years in the following <code>numberOfDaysToTurnYears</code> days</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n \nCriteriaQuery&lt;Person&gt; query = cb.createQuery(Person.class);\n\nRoot&lt;Person&gt; root = query.from(Person.class);\n\nParameterExpression&lt;Integer&gt; numberOfDaysToTurnYears = cb.parameter(Integer.class);\n\nquery.where(\n  cb.lessThan(\n    // Here you can use LocalDate.now(), because it is actually a pure literal value\n    daysBetween(cb, root.get(&quot;person&quot;).get(&quot;birthDay&quot;), cb.literal(LocalDate.now())),\n    numberOfDaysToTurnYears\n  )\n);\n\nList&lt;Person&gt; people = entityManager.createQuery(query)\n    .setParameter(numberOfDaysToTurnYears, 10)\n    .getResultList();\n</code></pre>\n"}],"owner":{"account_id":11885668,"reputation":729,"user_id":8698137,"display_name":"Shadyar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73214630,"answer_count":2,"score":1,"last_activity_date":1660057191,"creation_date":1659114289,"question_id":73168775,"body_markdown":"This code  \r\n```\r\n    criteriaBuilder.literal(LocalDateTime.now().minusDays( (long) root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)))  \r\n```\r\nhas not compile error but at run time gets this error:  \r\nCannot cast from Expression&lt;Integer&gt; to int   \r\n  \r\nI tried using String:  \r\n```\r\n    criteriaBuilder.literal(LocalDateTime.now().minusDays( Long.parseValue( root.get(&quot;person&quot;).get(&quot;birthDay&quot;).toString())))  \r\n```\r\nThis also gets error:  \r\nERROR: For input string: &quot;org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d&quot;; nested exception is java.lang.NumberFormatException: For input string: &quot;org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d&quot;\r\n","title":"How do I cast JPA criteria Expression&lt;Long&gt; to long java type","body":"<p>This code</p>\n<pre><code>    criteriaBuilder.literal(LocalDateTime.now().minusDays( (long) root.get(&quot;person&quot;).get(&quot;birthDay&quot;).as(Long.class)))  \n</code></pre>\n<p>has not compile error but at run time gets this error:<br />\nCannot cast from Expression to int</p>\n<p>I tried using String:</p>\n<pre><code>    criteriaBuilder.literal(LocalDateTime.now().minusDays( Long.parseValue( root.get(&quot;person&quot;).get(&quot;birthDay&quot;).toString())))  \n</code></pre>\n<p>This also gets error:<br />\nERROR: For input string: &quot;org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d&quot;; nested exception is java.lang.NumberFormatException: For input string: &quot;org.hibernate.query.criteria.internal.path.SingularAttributePath@2ed2d35d&quot;</p>\n"},{"tags":["java","azure","azure-functions","azure-storage"],"comments":[{"owner":{"account_id":9341111,"reputation":190,"user_id":6933873,"display_name":"sakulachi8"},"score":0,"creation_date":1657727031,"post_id":72968825,"comment_id":128880692,"body_markdown":"Do you have permission to delete the blob? I think you can use a SAS token for the specific container.","body":"Do you have permission to delete the blob? I think you can use a SAS token for the specific container."},{"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"score":0,"creation_date":1657727423,"post_id":72968825,"comment_id":128880831,"body_markdown":"@sakulachi8 let me try and see if it works. I am able to delete blobs from the cloud explorer in VS (I don&#39;t know if that is related).","body":"@sakulachi8 let me try and see if it works. I am able to delete blobs from the cloud explorer in VS (I don&#39;t know if that is related)."},{"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"score":0,"creation_date":1657812323,"post_id":72968825,"comment_id":128904248,"body_markdown":"@sakulachi8 where in the code should I put the SAS token? I have checked online and the only references I could find is people wanting to generate tokens.","body":"@sakulachi8 where in the code should I put the SAS token? I have checked online and the only references I could find is people wanting to generate tokens."},{"owner":{"account_id":9341111,"reputation":190,"user_id":6933873,"display_name":"sakulachi8"},"score":0,"creation_date":1657867030,"post_id":72968825,"comment_id":128916157,"body_markdown":"you can add it in the connection string,","body":"you can add it in the connection string,"},{"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"score":0,"creation_date":1657896921,"post_id":72968825,"comment_id":128926230,"body_markdown":"@sakulachi8 I tried and it keeps giving me this error, &quot;Microsoft.Azure.WebJobs.Extensions.Storage: Storage account connection string for &#39;STORAGE&#39; is invalid.&quot; I tried both the SAS token and URL. However, I am generating the token from the container level, since I am not able to generate one at the storage account level.","body":"@sakulachi8 I tried and it keeps giving me this error, &quot;Microsoft.Azure.WebJobs.Extensions.Storage: Storage account connection string for &#39;STORAGE&#39; is invalid.&quot; I tried both the SAS token and URL. However, I am generating the token from the container level, since I am not able to generate one at the storage account level."},{"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"score":0,"creation_date":1659365193,"post_id":72968825,"comment_id":129271311,"body_markdown":"It was a permissions issue after all. I was able to manipulate file in blob storage when the Function app was deployed. The hanging was only when testing locally due to a permissions issue (I assume).","body":"It was a permissions issue after all. I was able to manipulate file in blob storage when the Function app was deployed. The hanging was only when testing locally due to a permissions issue (I assume)."}],"answers":[{"tags":[],"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660057181,"creation_date":1660057181,"answer_id":73293999,"question_id":72968825,"body_markdown":"It was a permissions issue when testing locally. When deployed to Azure the blob deletion happened as it should. ","title":"Not able to delete blob from Azure storage Account - Azure Function (Java)","body":"<p>It was a permissions issue when testing locally. When deployed to Azure the blob deletion happened as it should.</p>\n"}],"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660057181,"creation_date":1657726000,"question_id":72968825,"body_markdown":"When I try to delete a blob from an Azure storage account from my Azure Function (Java) the program just hangs on ```blob.deleteIfExists();``` \r\n\r\nWhen I perform the same operations on a local storage emulator it runs just fine and deletes the blob from the container. \r\n\r\nHere is the code that I am using to delete the blob. \r\n\r\n```\r\n        // Retrieve storage account from connection-string.\r\n        CloudStorageAccount storageAccount = CloudStorageAccount.parse(System.getenv(&quot;STORAGE&quot;));\r\n        \r\n        // Create the blob client.\r\n        CloudBlobClient blobClient = storageAccount.createCloudBlobClient();\r\n          \r\n        // Retrieve reference to a previously created container.\r\n        CloudBlobContainer container = blobClient.getContainerReference(&quot;container-name&quot;);\r\n            \r\n        // Retrieve reference to a blob named fileName.\r\n        CloudBlockBlob blob = container.getBlockBlobReference(fileName); \r\n        context.getLogger().info(blob.getName());\r\n\r\n        // Delete the blob.\r\n        blob.deleteIfExists();\r\n```\r\n\r\nThe line where I have ``` context.getLogger().info(blob.getName());``` works fine and returns the correct blob but ```blob.deleteIfExists();``` is just causing the program to hang.","title":"Not able to delete blob from Azure storage Account - Azure Function (Java)","body":"<p>When I try to delete a blob from an Azure storage account from my Azure Function (Java) the program just hangs on <code>blob.deleteIfExists();</code></p>\n<p>When I perform the same operations on a local storage emulator it runs just fine and deletes the blob from the container.</p>\n<p>Here is the code that I am using to delete the blob.</p>\n<pre><code>        // Retrieve storage account from connection-string.\n        CloudStorageAccount storageAccount = CloudStorageAccount.parse(System.getenv(&quot;STORAGE&quot;));\n        \n        // Create the blob client.\n        CloudBlobClient blobClient = storageAccount.createCloudBlobClient();\n          \n        // Retrieve reference to a previously created container.\n        CloudBlobContainer container = blobClient.getContainerReference(&quot;container-name&quot;);\n            \n        // Retrieve reference to a blob named fileName.\n        CloudBlockBlob blob = container.getBlockBlobReference(fileName); \n        context.getLogger().info(blob.getName());\n\n        // Delete the blob.\n        blob.deleteIfExists();\n</code></pre>\n<p>The line where I have <code> context.getLogger().info(blob.getName());</code> works fine and returns the correct blob but <code>blob.deleteIfExists();</code> is just causing the program to hang.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1660055397,"post_id":73293399,"comment_id":129439203,"body_markdown":"Are you required to use arrays?  Using Lists would solve the problem, no reflection needed.","body":"Are you required to use arrays?  Using Lists would solve the problem, no reflection needed."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1660055644,"post_id":73293399,"comment_id":129439304,"body_markdown":"Is there a question here? Stack Overflow is a question &amp; answer platform, not a community code review service. https://codereview.stackexchange.com/ would be a better place if you don&#39;t have a specific question.","body":"Is there a question here? Stack Overflow is a question &amp; answer platform, not a community code review service. <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> would be a better place if you don&#39;t have a specific question."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":2,"creation_date":1660056000,"post_id":73293399,"comment_id":129439447,"body_markdown":"I’m voting to close this question because it&#39;s a request for code review","body":"I’m voting to close this question because it&#39;s a request for code review"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660057116,"creation_date":1660057116,"answer_id":73293983,"question_id":73293399,"body_markdown":"Both `Class.getComponentType` and `Array.newInstance` are a bit primitive. You can merely do:\r\n\r\n    Object[][] t = (Object[][]) Array.newInstance(elements.getClass().getComponentType(),\r\n                                 nRow, nCol); // Object is actually type T.\r\n\r\nBut that actually is even formally wrong. It should be T. So your version is not worse.\r\n\r\nLook at this:\r\n\r\n    int[][] t = (int[][]) Array.newInstance(int.class, nRow, nCol);\r\n\r\nNot feasible with generics.\r\n\r\nFor a run-time cast:\r\n\r\n    Class&lt;?&gt; ctype = elements.getClass().getComponentType();\r\n    ctype.cast(object);\r\n\r\nAn improvement would seem:\r\n\r\n    // Array:\r\n    static &lt;C&gt; C[] newInstance​(Class&lt;C&gt; componentType, int length);\r\n\r\nUnfortunately you also can have `int.class` besides `Integer.class` for `int[].class` and `Integer.class`.\r\n\r\n**The language means of the typing system in java do not form a complete &quot;algebra&quot; with which to describe all this.**\r\n\r\nHowever in a couple of year we will see `List&lt;int&gt;`.\r\n\r\nMeanwhile either look for a more complete language or try `ArrayList&lt;T&gt;` instead of `T[]` with an explicit `Class&lt;T&gt; componentType` to represent the missing getComponentType().","title":"Java: Help (and review) with reflection with Generic class","body":"<p>Both <code>Class.getComponentType</code> and <code>Array.newInstance</code> are a bit primitive. You can merely do:</p>\n<pre><code>Object[][] t = (Object[][]) Array.newInstance(elements.getClass().getComponentType(),\n                             nRow, nCol); // Object is actually type T.\n</code></pre>\n<p>But that actually is even formally wrong. It should be T. So your version is not worse.</p>\n<p>Look at this:</p>\n<pre><code>int[][] t = (int[][]) Array.newInstance(int.class, nRow, nCol);\n</code></pre>\n<p>Not feasible with generics.</p>\n<p>For a run-time cast:</p>\n<pre><code>Class&lt;?&gt; ctype = elements.getClass().getComponentType();\nctype.cast(object);\n</code></pre>\n<p>An improvement would seem:</p>\n<pre><code>// Array:\nstatic &lt;C&gt; C[] newInstance​(Class&lt;C&gt; componentType, int length);\n</code></pre>\n<p>Unfortunately you also can have <code>int.class</code> besides <code>Integer.class</code> for <code>int[].class</code> and <code>Integer.class</code>.</p>\n<p><strong>The language means of the typing system in java do not form a complete &quot;algebra&quot; with which to describe all this.</strong></p>\n<p>However in a couple of year we will see <code>List&lt;int&gt;</code>.</p>\n<p>Meanwhile either look for a more complete language or try <code>ArrayList&lt;T&gt;</code> instead of <code>T[]</code> with an explicit <code>Class&lt;T&gt; componentType</code> to represent the missing getComponentType().</p>\n"}],"owner":{"account_id":6389949,"reputation":54,"user_id":4956468,"display_name":"Mrigank Vallabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73293983,"answer_count":1,"score":0,"last_activity_date":1660057116,"creation_date":1660054668,"question_id":73293399,"body_markdown":"I am creating a Matrix class (just for experiment) with generic type\r\n\r\n```java\r\nimport java.lang.reflect.Array;\r\nimport java.util.Arrays;\r\n\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class Matrix&lt;T extends Number&gt; {\r\n  private int nRow;\r\n  private int nCol;\r\n  private T[] elements;\r\n  private T[][] elementsGrid;\r\n\r\n  public Matrix(int nRow, T[] elements) {\r\n    this(nRow, nRow, elements);\r\n  }\r\n\r\n  public Matrix(int nRow, int nCol, T[] elements) {\r\n    if (elements.length != nRow * nCol) {\r\n      throw new IllegalArgumentException(\r\n          &quot;Incorrect size: Expected(&quot; + nRow * nCol + &quot;), but provided(&quot; + elements.length + &quot;)&quot;);\r\n    }\r\n    this.nRow = nRow;\r\n    this.nCol = nCol;\r\n    this.elements = elements;\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    T[][] t = (T[][]) Array.newInstance(elements.getClass().getComponentType(), new int[] { nRow, nCol });\r\n\r\n    elementsGrid = t;\r\n    for (int i = 0; i &lt; nRow; i++) {\r\n      for (int j = 0; j &lt; nCol; j++) {\r\n        elementsGrid[i][j] = elements[i * nCol + j];\r\n      }\r\n    }\r\n    System.out.println(Arrays.deepToString(elementsGrid));\r\n\r\n  }\r\n```\r\n\r\nBasically i am just taking a single dim array and copying it to double dim array. The code works fine, but I had to struggle a lot with this, and I am not sure if this is indeed the correct way to handle this. For e.g. if I remove the @SuppressWarnings(&quot;unchecked&quot;), it gives me the warning, of unchecked cast. Is it fine to ignore this warning, since I have already declared my generic to only allow subclasses of `Number`.","title":"Java: Help (and review) with reflection with Generic class","body":"<p>I am creating a Matrix class (just for experiment) with generic type</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Array;\nimport java.util.Arrays;\n\n@SuppressWarnings(&quot;unused&quot;)\npublic class Matrix&lt;T extends Number&gt; {\n  private int nRow;\n  private int nCol;\n  private T[] elements;\n  private T[][] elementsGrid;\n\n  public Matrix(int nRow, T[] elements) {\n    this(nRow, nRow, elements);\n  }\n\n  public Matrix(int nRow, int nCol, T[] elements) {\n    if (elements.length != nRow * nCol) {\n      throw new IllegalArgumentException(\n          &quot;Incorrect size: Expected(&quot; + nRow * nCol + &quot;), but provided(&quot; + elements.length + &quot;)&quot;);\n    }\n    this.nRow = nRow;\n    this.nCol = nCol;\n    this.elements = elements;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    T[][] t = (T[][]) Array.newInstance(elements.getClass().getComponentType(), new int[] { nRow, nCol });\n\n    elementsGrid = t;\n    for (int i = 0; i &lt; nRow; i++) {\n      for (int j = 0; j &lt; nCol; j++) {\n        elementsGrid[i][j] = elements[i * nCol + j];\n      }\n    }\n    System.out.println(Arrays.deepToString(elementsGrid));\n\n  }\n</code></pre>\n<p>Basically i am just taking a single dim array and copying it to double dim array. The code works fine, but I had to struggle a lot with this, and I am not sure if this is indeed the correct way to handle this. For e.g. if I remove the @SuppressWarnings(&quot;unchecked&quot;), it gives me the warning, of unchecked cast. Is it fine to ignore this warning, since I have already declared my generic to only allow subclasses of <code>Number</code>.</p>\n"},{"tags":["java","android","mvvm","android-livedata"],"answers":[{"tags":[],"owner":{"account_id":11954296,"reputation":41,"user_id":13722324,"display_name":"A.Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660056770,"creation_date":1659768108,"answer_id":73257711,"question_id":73247378,"body_markdown":"I found a solution to my problem in another question (so my question will be counted as repeated).\r\n\r\nThe solution (to my problem) can be found [here][1]. What I needed was a `MediatorLiveData` to combine my two live data into one live data and observe it.\r\n\r\nCredit goes to [@EpicPandaForce][2]\r\n\r\n```java\r\n    public class CombinedLiveData2&lt;A, B&gt; extends MediatorLiveData&lt;Pair&lt;A, B&gt;&gt; {\r\n    private A a;\r\n    private B b;\r\n\r\n    public CombinedLiveData2(LiveData&lt;A&gt; ld1, LiveData&lt;B&gt; ld2) {\r\n        setValue(Pair.create(a, b));\r\n\r\n        addSource(ld1, (a) -&gt; { \r\n             if(a != null) {\r\n                this.a = a;\r\n             } \r\n             setValue(Pair.create(a, b)); \r\n        });\r\n\r\n        addSource(ld2, (b) -&gt; { \r\n            if(b != null) {\r\n                this.b = b;\r\n            } \r\n            setValue(Pair.create(a, b));\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/57079710/13722324\r\n  [2]: https://stackoverflow.com/users/2413303/epicpandaforce","title":"Observing Multiple LiveData and MVVM Structure Android Java","body":"<p>I found a solution to my problem in another question (so my question will be counted as repeated).</p>\n<p>The solution (to my problem) can be found <a href=\"https://stackoverflow.com/a/57079710/13722324\">here</a>. What I needed was a <code>MediatorLiveData</code> to combine my two live data into one live data and observe it.</p>\n<p>Credit goes to <a href=\"https://stackoverflow.com/users/2413303/epicpandaforce\">@EpicPandaForce</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class CombinedLiveData2&lt;A, B&gt; extends MediatorLiveData&lt;Pair&lt;A, B&gt;&gt; {\n    private A a;\n    private B b;\n\n    public CombinedLiveData2(LiveData&lt;A&gt; ld1, LiveData&lt;B&gt; ld2) {\n        setValue(Pair.create(a, b));\n\n        addSource(ld1, (a) -&gt; { \n             if(a != null) {\n                this.a = a;\n             } \n             setValue(Pair.create(a, b)); \n        });\n\n        addSource(ld2, (b) -&gt; { \n            if(b != null) {\n                this.b = b;\n            } \n            setValue(Pair.create(a, b));\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11954296,"reputation":41,"user_id":13722324,"display_name":"A.Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73257711,"answer_count":1,"score":1,"last_activity_date":1660056770,"creation_date":1659690892,"question_id":73247378,"body_markdown":"I will try to make this question general as much as I can.\r\n\r\nIn short, I&#39;m using FireStore Firebase and what I am trying to do is that I have Two Repositories (TransactionsRepository and VaultAccountRepository) and each one has some queries to add (Transaction or VaultAccount objects), edit, delete, etc... \r\n\r\nI made a third Repository (OperationRepository) in which I want to (for example) get all transactions and get the default account to do an operation on them (like adding all the transactions amount with the account initial value and so on) and get that operation as alive data to observe it in the view.\r\n\r\nThe idea here is that I don&#39;t know how to observe the transactions and the default account to update the operation returned and consequently update the UI\r\n\r\nI have read about ```Transformation.map``` and ```Transformation.switchMap```, but I could not understand them at all and most examples are in Kotlin and I&#39;m not even sure that it&#39;s what I&#39;m looking for to do this! and not sure if this structure is done right as I&#39;m new to MVVM.\r\n\r\nI will include some of the code to show what I have tried to do just in case my explanation above wasn&#39;t clear enough.\r\n\r\n```\r\npublic class VaultRepository {\r\n...\r\nprivate final MutableLiveData&lt;VaultAccount&gt; defaultVaultLiveData;\r\n\r\n...\r\n\r\npublic MutableLiveData&lt;VaultAccount&gt; getDefaultVault() {\r\n        fireStore.collection(&quot;users&quot;).document(firebaseUser.getUid()).collection(&quot;vaults&quot;)\r\n                .whereEqualTo(&quot;defaultAccount&quot;, true)\r\n                .addSnapshotListener((value, error) -&gt; {\r\n                    VaultAccount vaultAccount = new VaultAccount();\r\n                    if (value != null) {\r\n                        for (QueryDocumentSnapshot doc : value) {\r\n                            if (doc != null) {\r\n                                vaultAccount = doc.toObject(VaultAccount.class);\r\n                            }\r\n                        }\r\n                        defaultVaultLiveData.postValue(vaultAccount);\r\n                    }\r\n                });\r\n        return defaultVaultLiveData;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class TransactionRepository {\r\n\r\n...\r\n\r\nprivate final MutableLiveData&lt;List&lt;Transaction&gt;&gt; allTransactionsLiveData;\r\n\r\n...\r\n\r\npublic MutableLiveData&lt;List&lt;Transaction&gt;&gt; getAllTransactions() {\r\n        fireStore.collection(&quot;users&quot;).document(firebaseUser.getUid())\r\n                .collection(&quot;transactions&quot;)\r\n                .orderBy(&quot;transactionDate&quot;)\r\n                .addSnapshotListener((value, error) -&gt; {\r\n                    List&lt;Transaction&gt; transactionList = new ArrayList&lt;&gt;();\r\n                    if (value != null) {\r\n                        for (QueryDocumentSnapshot doc : value) {\r\n                            if (doc != null) {\r\n                                Transaction transaction = doc.toObject(Transaction.class);\r\n                                transactionList.add(transaction);\r\n                            }\r\n                        }\r\n                        allTransactionsLiveData.postValue(transactionList);\r\n                    }\r\n                });\r\n        return allTransactionsLiveData;\r\n    }\r\n\r\n\r\n}\r\n```  \r\n    \r\n\r\n\r\n\r\n*old OperationRepository*\r\n```\r\npublic class OperationRepository {\r\n\r\n    private final Application mApplication;\r\n    private TransactionRepository transactionRepository;\r\n    private VaultRepository vaultRepository;\r\n    private MutableLiveData&lt;String&gt; stringMutableLiveData;\r\n\r\n    public OperationRepository(Application mApplication) {\r\n        this.mApplication = mApplication;\r\n        transactionRepository = new TransactionRepository(mApplication);\r\n        vaultRepository = new VaultRepository(mApplication);\r\n        stringMutableLiveData = new MutableLiveData&lt;&gt;();\r\n    }\r\n\r\n    public MutableLiveData&lt;String&gt; getFinalAmount() {\r\n        \r\n        //TODO get all the transactions and get there amount and observe it\r\n        // get the account initial amount and observe it\r\n        //add all the values and present it in a String LiveData to be shown in the view\r\n\r\n\r\n        double result = 0;\r\n\r\n        String finalResult = String.valueOf(result);\r\n        stringMutableLiveData.postValue(finalResult);\r\n        return stringMutableLiveData;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n---------------------------------------\r\n**UPDATE:** \r\nI changed my OperationRepository to OperationVeiwModel and tried to use ```Transformation.switchMap```.\r\n\r\n```\r\npublic class OperationViewModel extends AndroidViewModel {\r\n\r\n    private final TransactionRepository transactionRepository;\r\n    private final VaultRepository vaultRepository;\r\n\r\n    private MutableLiveData&lt;List&lt;Transaction&gt;&gt; transactionListLiveData;\r\n    private MutableLiveData&lt;VaultAccount&gt; vaultAccountLiveData;\r\n    private LiveData&lt;Double&gt; transactionTotal;\r\n    private LiveData&lt;Double&gt; accountAmount;\r\n    LiveData&lt;String&gt; totalAmount;\r\n\r\n    public OperationViewModel(@NonNull Application application) {\r\n        super(application);\r\n        transactionRepository = new TransactionRepository(application);\r\n        vaultRepository = new VaultRepository(application);\r\n\r\n        transactionListLiveData = new MutableLiveData&lt;&gt;();\r\n        vaultAccountLiveData = new MutableLiveData&lt;&gt;();\r\n    }\r\n\r\n    double result = 0;\r\n\r\n    public LiveData&lt;String&gt; getFinalAmount() {\r\n        transactionListLiveData = transactionRepository.getAllTransactions();\r\n        vaultAccountLiveData = vaultRepository.getDefaultVault();\r\n        transformations();\r\n\r\n        final MutableLiveData&lt;Double&gt; resultLive = new MutableLiveData&lt;&gt;();\r\n\r\n        try {\r\n            result = transactionTotal.getValue() + accountAmount.getValue();\r\n        } catch (NullPointerException e) {\r\n            Toast.makeText(getApplication(), e.getMessage(), Toast.LENGTH_LONG).show();\r\n            e.printStackTrace();\r\n        }\r\n        resultLive.postValue(result);\r\n\r\n        totalAmount = Transformations.switchMap(resultLive, data -&gt; {\r\n           final MutableLiveData&lt;String&gt; result = new MutableLiveData&lt;&gt;();\r\n           String total = String.valueOf(data);\r\n           result.postValue(total);\r\n           return result;\r\n        });\r\n\r\n        return totalAmount;\r\n    }\r\n\r\n\r\n    private void transformations() {\r\n\r\n        transactionTotal = Transformations.switchMap(transactionListLiveData, transactionsList -&gt; {\r\n            final MutableLiveData&lt;Double&gt; result = new MutableLiveData&lt;&gt;();\r\n            double amount = 0;\r\n            for (int i = 0; i &lt; transactionsList.size(); i++) {\r\n                double itemAmount = Double.parseDouble(transactionsList.get(i).getTransactionAmount());\r\n                amount += itemAmount;\r\n            }\r\n            result.postValue(amount);\r\n            return result;\r\n        });\r\n\r\n        accountAmount = Transformations.switchMap(vaultAccountLiveData, vault -&gt; {\r\n            final MutableLiveData&lt;Double&gt; result = new MutableLiveData&lt;&gt;();\r\n            result.postValue(Double.valueOf(vault.getInitAmount()));\r\n            return result;\r\n        });\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe code did not work as I intended which shows that I have no idea what I&#39;m doing.\r\n\r\nNevertheless, I tried to test this code and found out the following:  \r\n1- the two repositories was returning null when I first call getFinalAmount and observe it in the view but if I cause change to the observed LiveData&lt;String&gt; they return the live data I want to get.\r\n\r\n2- the switchMap inside transformations method was not working at all.\r\n","title":"Observing Multiple LiveData and MVVM Structure Android Java","body":"<p>I will try to make this question general as much as I can.</p>\n<p>In short, I'm using FireStore Firebase and what I am trying to do is that I have Two Repositories (TransactionsRepository and VaultAccountRepository) and each one has some queries to add (Transaction or VaultAccount objects), edit, delete, etc...</p>\n<p>I made a third Repository (OperationRepository) in which I want to (for example) get all transactions and get the default account to do an operation on them (like adding all the transactions amount with the account initial value and so on) and get that operation as alive data to observe it in the view.</p>\n<p>The idea here is that I don't know how to observe the transactions and the default account to update the operation returned and consequently update the UI</p>\n<p>I have read about <code>Transformation.map</code> and <code>Transformation.switchMap</code>, but I could not understand them at all and most examples are in Kotlin and I'm not even sure that it's what I'm looking for to do this! and not sure if this structure is done right as I'm new to MVVM.</p>\n<p>I will include some of the code to show what I have tried to do just in case my explanation above wasn't clear enough.</p>\n<pre><code>public class VaultRepository {\n...\nprivate final MutableLiveData&lt;VaultAccount&gt; defaultVaultLiveData;\n\n...\n\npublic MutableLiveData&lt;VaultAccount&gt; getDefaultVault() {\n        fireStore.collection(&quot;users&quot;).document(firebaseUser.getUid()).collection(&quot;vaults&quot;)\n                .whereEqualTo(&quot;defaultAccount&quot;, true)\n                .addSnapshotListener((value, error) -&gt; {\n                    VaultAccount vaultAccount = new VaultAccount();\n                    if (value != null) {\n                        for (QueryDocumentSnapshot doc : value) {\n                            if (doc != null) {\n                                vaultAccount = doc.toObject(VaultAccount.class);\n                            }\n                        }\n                        defaultVaultLiveData.postValue(vaultAccount);\n                    }\n                });\n        return defaultVaultLiveData;\n    }\n\n\n}\n</code></pre>\n<pre><code>public class TransactionRepository {\n\n...\n\nprivate final MutableLiveData&lt;List&lt;Transaction&gt;&gt; allTransactionsLiveData;\n\n...\n\npublic MutableLiveData&lt;List&lt;Transaction&gt;&gt; getAllTransactions() {\n        fireStore.collection(&quot;users&quot;).document(firebaseUser.getUid())\n                .collection(&quot;transactions&quot;)\n                .orderBy(&quot;transactionDate&quot;)\n                .addSnapshotListener((value, error) -&gt; {\n                    List&lt;Transaction&gt; transactionList = new ArrayList&lt;&gt;();\n                    if (value != null) {\n                        for (QueryDocumentSnapshot doc : value) {\n                            if (doc != null) {\n                                Transaction transaction = doc.toObject(Transaction.class);\n                                transactionList.add(transaction);\n                            }\n                        }\n                        allTransactionsLiveData.postValue(transactionList);\n                    }\n                });\n        return allTransactionsLiveData;\n    }\n\n\n}\n</code></pre>\n<p><em>old OperationRepository</em></p>\n<pre><code>public class OperationRepository {\n\n    private final Application mApplication;\n    private TransactionRepository transactionRepository;\n    private VaultRepository vaultRepository;\n    private MutableLiveData&lt;String&gt; stringMutableLiveData;\n\n    public OperationRepository(Application mApplication) {\n        this.mApplication = mApplication;\n        transactionRepository = new TransactionRepository(mApplication);\n        vaultRepository = new VaultRepository(mApplication);\n        stringMutableLiveData = new MutableLiveData&lt;&gt;();\n    }\n\n    public MutableLiveData&lt;String&gt; getFinalAmount() {\n        \n        //TODO get all the transactions and get there amount and observe it\n        // get the account initial amount and observe it\n        //add all the values and present it in a String LiveData to be shown in the view\n\n\n        double result = 0;\n\n        String finalResult = String.valueOf(result);\n        stringMutableLiveData.postValue(finalResult);\n        return stringMutableLiveData;\n    }\n\n\n}\n</code></pre>\n<hr />\n<p><strong>UPDATE:</strong>\nI changed my OperationRepository to OperationVeiwModel and tried to use <code>Transformation.switchMap</code>.</p>\n<pre><code>public class OperationViewModel extends AndroidViewModel {\n\n    private final TransactionRepository transactionRepository;\n    private final VaultRepository vaultRepository;\n\n    private MutableLiveData&lt;List&lt;Transaction&gt;&gt; transactionListLiveData;\n    private MutableLiveData&lt;VaultAccount&gt; vaultAccountLiveData;\n    private LiveData&lt;Double&gt; transactionTotal;\n    private LiveData&lt;Double&gt; accountAmount;\n    LiveData&lt;String&gt; totalAmount;\n\n    public OperationViewModel(@NonNull Application application) {\n        super(application);\n        transactionRepository = new TransactionRepository(application);\n        vaultRepository = new VaultRepository(application);\n\n        transactionListLiveData = new MutableLiveData&lt;&gt;();\n        vaultAccountLiveData = new MutableLiveData&lt;&gt;();\n    }\n\n    double result = 0;\n\n    public LiveData&lt;String&gt; getFinalAmount() {\n        transactionListLiveData = transactionRepository.getAllTransactions();\n        vaultAccountLiveData = vaultRepository.getDefaultVault();\n        transformations();\n\n        final MutableLiveData&lt;Double&gt; resultLive = new MutableLiveData&lt;&gt;();\n\n        try {\n            result = transactionTotal.getValue() + accountAmount.getValue();\n        } catch (NullPointerException e) {\n            Toast.makeText(getApplication(), e.getMessage(), Toast.LENGTH_LONG).show();\n            e.printStackTrace();\n        }\n        resultLive.postValue(result);\n\n        totalAmount = Transformations.switchMap(resultLive, data -&gt; {\n           final MutableLiveData&lt;String&gt; result = new MutableLiveData&lt;&gt;();\n           String total = String.valueOf(data);\n           result.postValue(total);\n           return result;\n        });\n\n        return totalAmount;\n    }\n\n\n    private void transformations() {\n\n        transactionTotal = Transformations.switchMap(transactionListLiveData, transactionsList -&gt; {\n            final MutableLiveData&lt;Double&gt; result = new MutableLiveData&lt;&gt;();\n            double amount = 0;\n            for (int i = 0; i &lt; transactionsList.size(); i++) {\n                double itemAmount = Double.parseDouble(transactionsList.get(i).getTransactionAmount());\n                amount += itemAmount;\n            }\n            result.postValue(amount);\n            return result;\n        });\n\n        accountAmount = Transformations.switchMap(vaultAccountLiveData, vault -&gt; {\n            final MutableLiveData&lt;Double&gt; result = new MutableLiveData&lt;&gt;();\n            result.postValue(Double.valueOf(vault.getInitAmount()));\n            return result;\n        });\n\n    }\n\n}\n</code></pre>\n<p>The code did not work as I intended which shows that I have no idea what I'm doing.</p>\n<p>Nevertheless, I tried to test this code and found out the following:<br />\n1- the two repositories was returning null when I first call getFinalAmount and observe it in the view but if I cause change to the observed LiveData they return the live data I want to get.</p>\n<p>2- the switchMap inside transformations method was not working at all.</p>\n"},{"tags":["java","spring-boot","dom","sftp"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659968474,"creation_date":1659954888,"answer_id":73276509,"question_id":73276263,"body_markdown":"Use [JSch SSH/SFTP library](http://www.jcraft.com/jsch/). \r\n\r\n1. Afaik, it&#39;s the most widely used SFTP library for Java\r\n2. It supports uploading data from streams.\r\n\r\n    I assume that its [`ChannelSftp.put` overload that returns `OutputStream`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-) can be [hooked to your `StreamResult`](https://docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream/StreamResult.html#StreamResult(java.io.OutputStream)) (instead of the `File`).\r\n\r\n    ```\r\n    StreamResult streamResult =\r\n        new StreamResult(channelSftp.put(&quot;/sftp/path/file.zml&quot;));\r\n    ```","title":"Saving DOMSource object created into a folder in SFTP Server in Java","body":"<p>Use <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">JSch SSH/SFTP library</a>.</p>\n<ol>\n<li><p>Afaik, it's the most widely used SFTP library for Java</p>\n</li>\n<li><p>It supports uploading data from streams.</p>\n<p>I assume that its <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ChannelSftp.put</code> overload that returns <code>OutputStream</code></a> can be <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream/StreamResult.html#StreamResult(java.io.OutputStream)\" rel=\"nofollow noreferrer\">hooked to your <code>StreamResult</code></a> (instead of the <code>File</code>).</p>\n<pre><code>StreamResult streamResult =\n    new StreamResult(channelSftp.put(&quot;/sftp/path/file.zml&quot;));\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":16127437,"reputation":181,"user_id":11641908,"display_name":"gunel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73276509,"answer_count":1,"score":1,"last_activity_date":1660056389,"creation_date":1659953697,"question_id":73276263,"body_markdown":"I need to save the newly created `DOMSource` object as new XML file into a folder inside the SFTP server (not transferring a file from local computer into SFTP). \r\n\r\nHere is the code\r\n\r\n```\r\npublic void save(String xmlFilePath, Document document) {\r\n\r\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n    Transformer transformer;\r\n    try {\r\n        transformer = transformerFactory.newTransformer();\r\n        DOMSource domSource = new DOMSource(document);\r\n        StreamResult streamResult = new StreamResult(new File(xmlFilePath));\r\n        transformer.transform(domSource,streamResult);\r\n\r\n    } catch (TransformerException | NullPointerException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n","title":"Saving DOMSource object created into a folder in SFTP Server in Java","body":"<p>I need to save the newly created <code>DOMSource</code> object as new XML file into a folder inside the SFTP server (not transferring a file from local computer into SFTP).</p>\n<p>Here is the code</p>\n<pre><code>public void save(String xmlFilePath, Document document) {\n\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n    Transformer transformer;\n    try {\n        transformer = transformerFactory.newTransformer();\n        DOMSource domSource = new DOMSource(document);\n        StreamResult streamResult = new StreamResult(new File(xmlFilePath));\n        transformer.transform(domSource,streamResult);\n\n    } catch (TransformerException | NullPointerException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","dependency-injection","jersey","jersey-2.0"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1460368538,"creation_date":1460368538,"answer_id":36545361,"question_id":36544008,"body_markdown":"You can use the main IoC container, and just explicitly inject the test class. Jersey uses HK2 as its DI framework, and its IoC container is the `ServiceLocator`, which has a method `inject(anyObject)` that can inject any objects with dependencies that are in its registry.\r\n\r\nFor example you could do something like\r\n\r\n    public class InjectionTest {\r\n        \r\n        @Inject\r\n        private TestController controller;\r\n        \r\n        @Before\r\n        public void setUp() {\r\n            final Binder b = new AbstractBinder() {\r\n                @Override\r\n                public void configure() {\r\n                    bindAsContract(TestController.class);\r\n                }\r\n            };\r\n            final ServiceLocator locator = ServiceLocatorUtilities.bind(new TestBinder(), b);\r\n            locator.inject(this);\r\n        }\r\n        \r\n        @Test\r\n        public void doTest() {\r\n            assertNotNull(controller);\r\n            String response = controller.get();\r\n            assertEquals(&quot;Hello Tests&quot;, response);\r\n        }\r\n    }\r\n\r\nThe `ServiceLocatorUtilities` class is a helper class that allows us to easily create the `ServiceLocator`, and then we just call `inject(this)` to inject the `InjectionTest`.\r\n\r\nIf it seems repetitive to do this for all your controller tests, you may want to create an abstract base test class. Maybe something like\r\n\r\n    public abstract class AbstractControllerTest {\r\n        \r\n        protected ServiceLocator locator;\r\n        private final Class&lt;?&gt; controllerClass;\r\n        \r\n        protected AbstractControllerTest(Class&lt;?&gt; controllerClass) {\r\n            this.controllerClass = controllerClass;\r\n        }\r\n        \r\n        @Before\r\n        public void setUp() {\r\n            final AbstractBinder binder = new AbstractBinder() {\r\n                @Override\r\n                public void configure() {\r\n                    bindAsContract(controllerClass);\r\n                }\r\n            };\r\n            locator = ServiceLocatorUtilities.bind(new TestBinder(), binder);\r\n            locator.inject(this);\r\n        }\r\n        \r\n        @After\r\n        public void tearDown() {\r\n            if (locator != null) {\r\n                locator.shutdown();\r\n            }\r\n        }\r\n    }\r\n\r\nThen in your concrete class\r\n\r\n    public class TestControllerTest extends AbstractControllerTest {\r\n        \r\n        public TestControllerTest() {\r\n            super(TestController.class);\r\n        }\r\n        \r\n        @Inject\r\n        private TestController controller;\r\n        \r\n        @Test\r\n        public void doTest() {\r\n            assertNotNull(controller);\r\n            assertEquals(&quot;Hello Tests&quot;, controller.get());\r\n        }\r\n    }\r\n\r\nIf you spent some more time, I&#39;m sure you could come up with a better abstract test class design. It was the first thing that came to mind for me.\r\n\r\nNote: For anything request scoped, you mayb need to just mock it. When running the _unit_ tests, there is no request context, so the test will fail.\r\n\r\n**See Also:**\r\n\r\n* [Using Jersey&#39;s Dependency Injection in a Standalone application][1]\r\n* [HK2 documentation][2]\r\n\r\n[1]: https://stackoverflow.com/q/30789297/2587435\r\n[2]: https://hk2.java.net/2.4.0-b07/index.html\r\n\r\n","title":"Jersey 2 inject dependencies into unit test","body":"<p>You can use the main IoC container, and just explicitly inject the test class. Jersey uses HK2 as its DI framework, and its IoC container is the <code>ServiceLocator</code>, which has a method <code>inject(anyObject)</code> that can inject any objects with dependencies that are in its registry.</p>\n\n<p>For example you could do something like</p>\n\n<pre><code>public class InjectionTest {\n\n    @Inject\n    private TestController controller;\n\n    @Before\n    public void setUp() {\n        final Binder b = new AbstractBinder() {\n            @Override\n            public void configure() {\n                bindAsContract(TestController.class);\n            }\n        };\n        final ServiceLocator locator = ServiceLocatorUtilities.bind(new TestBinder(), b);\n        locator.inject(this);\n    }\n\n    @Test\n    public void doTest() {\n        assertNotNull(controller);\n        String response = controller.get();\n        assertEquals(\"Hello Tests\", response);\n    }\n}\n</code></pre>\n\n<p>The <code>ServiceLocatorUtilities</code> class is a helper class that allows us to easily create the <code>ServiceLocator</code>, and then we just call <code>inject(this)</code> to inject the <code>InjectionTest</code>.</p>\n\n<p>If it seems repetitive to do this for all your controller tests, you may want to create an abstract base test class. Maybe something like</p>\n\n<pre><code>public abstract class AbstractControllerTest {\n\n    protected ServiceLocator locator;\n    private final Class&lt;?&gt; controllerClass;\n\n    protected AbstractControllerTest(Class&lt;?&gt; controllerClass) {\n        this.controllerClass = controllerClass;\n    }\n\n    @Before\n    public void setUp() {\n        final AbstractBinder binder = new AbstractBinder() {\n            @Override\n            public void configure() {\n                bindAsContract(controllerClass);\n            }\n        };\n        locator = ServiceLocatorUtilities.bind(new TestBinder(), binder);\n        locator.inject(this);\n    }\n\n    @After\n    public void tearDown() {\n        if (locator != null) {\n            locator.shutdown();\n        }\n    }\n}\n</code></pre>\n\n<p>Then in your concrete class</p>\n\n<pre><code>public class TestControllerTest extends AbstractControllerTest {\n\n    public TestControllerTest() {\n        super(TestController.class);\n    }\n\n    @Inject\n    private TestController controller;\n\n    @Test\n    public void doTest() {\n        assertNotNull(controller);\n        assertEquals(\"Hello Tests\", controller.get());\n    }\n}\n</code></pre>\n\n<p>If you spent some more time, I'm sure you could come up with a better abstract test class design. It was the first thing that came to mind for me.</p>\n\n<p>Note: For anything request scoped, you mayb need to just mock it. When running the <em>unit</em> tests, there is no request context, so the test will fail.</p>\n\n<p><strong>See Also:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/30789297/2587435\">Using Jersey's Dependency Injection in a Standalone application</a></li>\n<li><a href=\"https://hk2.java.net/2.4.0-b07/index.html\" rel=\"nofollow noreferrer\">HK2 documentation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1017284,"reputation":5696,"user_id":5641301,"display_name":"Johnny Cage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660055915,"creation_date":1660055915,"answer_id":73293696,"question_id":36544008,"body_markdown":"```\r\nimport org.glassfish.hk2.api.ServiceLocator;\r\nimport org.glassfish.hk2.utilities.ServiceLocatorUtilities;\r\nimport org.glassfish.hk2.utilities.binding.AbstractBinder;\r\n\r\n@BeforeClass\r\n    public static void doTest() {\r\n        ServiceLocator serviceLocator = ServiceLocatorUtilities.bind(new AbstractBinder() {\r\n            @Override\r\n            protected void configure() {\r\n                bindAsContract(YourClass1.class);\r\n                bindAsContract(YourClass2.class);\r\n                bindAsContract(YourClass3.class);\r\n            }\r\n        });\r\n\r\n        YourClass1 yourClass1 = serviceLocator.getService(YourClass1.class);\r\n        ...\r\n```","title":"Jersey 2 inject dependencies into unit test","body":"<pre><code>import org.glassfish.hk2.api.ServiceLocator;\nimport org.glassfish.hk2.utilities.ServiceLocatorUtilities;\nimport org.glassfish.hk2.utilities.binding.AbstractBinder;\n\n@BeforeClass\n    public static void doTest() {\n        ServiceLocator serviceLocator = ServiceLocatorUtilities.bind(new AbstractBinder() {\n            @Override\n            protected void configure() {\n                bindAsContract(YourClass1.class);\n                bindAsContract(YourClass2.class);\n                bindAsContract(YourClass3.class);\n            }\n        });\n\n        YourClass1 yourClass1 = serviceLocator.getService(YourClass1.class);\n        ...\n</code></pre>\n"}],"owner":{"account_id":2418941,"reputation":1301,"user_id":2112409,"accept_rate":40,"display_name":"andreybavt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4078,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36545361,"answer_count":2,"score":4,"last_activity_date":1660055915,"creation_date":1460364833,"question_id":36544008,"body_markdown":"I have a controller like this \r\n\r\n    @Path(&quot;/&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public class AccountController implements CRUDController&lt;Long, Account&gt; {\r\n    \r\n        private AccountDao accountDao;\r\n        private AccountService accountService;\r\n    \r\n        @Inject\r\n        public AccountController(AccountDao accountDao, AccountService accountService) {\r\n            this.accountDao = accountDao;\r\n            this.accountService = accountService;\r\n        }\r\n    ...\r\n\r\nI&#39;m injecting AccountDao and AccountService using \r\n\r\n    ResourceConfig config = new ResourceConfig()\r\n                   .packages(&quot;controller&quot;, &quot;exception&quot;)\r\n                   .register(new MyDIBinder());\r\n\r\nWhere MyDIBinder is contains all the bindings (e.g \r\n\r\n    AccountDaoImpl accountDaoImpl = new AccountDaoImpl();\r\n    bind(accountDaoImpl).to(AccountDao.class);\r\n\r\n)\r\n\r\nNow I want to write a unit test for this controller, is it possible to inject the whole AccountController instance with all of it&#39;s transitive dependencies into the test?\r\n\r\nSomething like \r\n\r\n        @Inject\r\n        AccountController accountController;","title":"Jersey 2 inject dependencies into unit test","body":"<p>I have a controller like this </p>\n\n<pre><code>@Path(\"/\")\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class AccountController implements CRUDController&lt;Long, Account&gt; {\n\n    private AccountDao accountDao;\n    private AccountService accountService;\n\n    @Inject\n    public AccountController(AccountDao accountDao, AccountService accountService) {\n        this.accountDao = accountDao;\n        this.accountService = accountService;\n    }\n...\n</code></pre>\n\n<p>I'm injecting AccountDao and AccountService using </p>\n\n<pre><code>ResourceConfig config = new ResourceConfig()\n               .packages(\"controller\", \"exception\")\n               .register(new MyDIBinder());\n</code></pre>\n\n<p>Where MyDIBinder is contains all the bindings (e.g </p>\n\n<pre><code>AccountDaoImpl accountDaoImpl = new AccountDaoImpl();\nbind(accountDaoImpl).to(AccountDao.class);\n</code></pre>\n\n<p>)</p>\n\n<p>Now I want to write a unit test for this controller, is it possible to inject the whole AccountController instance with all of it's transitive dependencies into the test?</p>\n\n<p>Something like </p>\n\n<pre><code>    @Inject\n    AccountController accountController;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","transactions"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1660050804,"post_id":73292291,"comment_id":129437168,"body_markdown":"Have you enabled transactions properly?","body":"Have you enabled transactions properly?"},{"owner":{"account_id":25915558,"reputation":1,"user_id":19639004,"display_name":"Himanshu Ranjan"},"score":0,"creation_date":1660050939,"post_id":73292291,"comment_id":129437255,"body_markdown":"Its automatically enabled right","body":"Its automatically enabled right"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1660051568,"post_id":73292291,"comment_id":129437538,"body_markdown":"Not necessarily and since you haven&#39;t shared that code there is way for us to know what&#39;s happening","body":"Not necessarily and since you haven&#39;t shared that code there is way for us to know what&#39;s happening"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1660051967,"post_id":73292291,"comment_id":129437734,"body_markdown":"You are catching Exception. What is WalletException? It&#39;s a Runtime or a checked Exception?","body":"You are catching Exception. What is WalletException? It&#39;s a Runtime or a checked Exception?"},{"owner":{"account_id":25915558,"reputation":1,"user_id":19639004,"display_name":"Himanshu Ranjan"},"score":0,"creation_date":1660053046,"post_id":73292291,"comment_id":129438207,"body_markdown":"Its a RuntimeException","body":"Its a RuntimeException"},{"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"score":1,"creation_date":1660055572,"post_id":73292291,"comment_id":129439274,"body_markdown":"Do you perhaps have the wrong @Transactional? you need the one from `org.springframework.transaction.annotation` not `javax.transaction`. Also unless you require otherwise the @Transactional is generally added to classes not methods i feel","body":"Do you perhaps have the wrong @Transactional? you need the one from <code>org.springframework.transaction.annotation</code> not <code>javax.transaction</code>. Also unless you require otherwise the @Transactional is generally added to classes not methods i feel"},{"owner":{"account_id":6912869,"reputation":954,"user_id":5308115,"accept_rate":29,"display_name":"yashodha_h"},"score":0,"creation_date":1685514919,"post_id":73292291,"comment_id":134668927,"body_markdown":"you are throwing a runtime exception and inside the catch block, you are rethrowing it again. if the WalletException is not a runtime exception you have to mention it in the @Transactional annotation explicitly.","body":"you are throwing a runtime exception and inside the catch block, you are rethrowing it again. if the WalletException is not a runtime exception you have to mention it in the @Transactional annotation explicitly."}],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660055822,"creation_date":1660055367,"answer_id":73293551,"question_id":73292291,"body_markdown":"Transactional is scoped, if you anotate a method (or class) as `@Transactional` all the methods this class calls wil also be transactional. and if within this transaction an exception occurs things wil be rolled back. \r\n\r\nIf however like in you example a non-transactional method calls a transactional one and after that call throws an exception the previous transactioned function wil not be rolled back as it&#39;s outside of the transactions scope.","title":"Transactional not rolling back JPA save in spring boot","body":"<p>Transactional is scoped, if you anotate a method (or class) as <code>@Transactional</code> all the methods this class calls wil also be transactional. and if within this transaction an exception occurs things wil be rolled back.</p>\n<p>If however like in you example a non-transactional method calls a transactional one and after that call throws an exception the previous transactioned function wil not be rolled back as it's outside of the transactions scope.</p>\n"}],"owner":{"account_id":25915558,"reputation":1,"user_id":19639004,"display_name":"Himanshu Ranjan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660055822,"creation_date":1660050104,"question_id":73292291,"body_markdown":"I am working on a spring boot app where I am using transactional and its not rolling back its changes when I throw a exception:\r\n\r\n**My method:**\r\n\r\n    private BtoBWalletTransactionResponseModel doWalletOperation(BtoBWalletTransactionTypes transactionType, BtoBWalletTransactionRequestModel transactionRequest) {\r\n                // DB Operation\r\n                BtoBWalletTransaction savedTransaction = commonTransactionalService.finishWalletTransaction(userWallet, btoBWalletTransaction);\r\n                log.info(&quot;wallet {} txn of amount {} for user {}&quot;,transactionType.name(),txnAmount,userId);\r\n                // throwing a exception to rollback\r\n                throw new RuntimeException(&quot;Time to Rollback&quot;);\r\n                \r\n            } catch(Exception e){\r\n                log.error(e.getMessage());\r\n                log.error(&quot;error while doing wallet operations for user {}&quot;,userId);\r\n                throw new WalletException(e.getMessage());\r\n            }\r\n    \r\n        }\r\n\r\n**My common TransactionalService Interface:**\r\n\r\n    public interface CommonTransactionalService {\r\n    \r\n        BtoBWalletTransaction finishWalletTransaction(BtoBUserWallet userWallet,BtoBWalletTransaction btoBWalletTransaction);\r\n    \r\n    }\r\n\r\n**My Interface Impl:**\r\n\r\n    import javax.transaction.Transactional;\r\n    \r\n    @Service\r\n    public class CommonTransactionalServiceImpl implements CommonTransactionalService {\r\n    \r\n        @Autowired\r\n        private BtoBWalletTransactionRepo btoBWalletTransactionRepo;\r\n    \r\n        @Transactional\r\n        @Override\r\n        public BtoBWalletTransaction finishWalletTransaction(BtoBUserWallet userWallet, BtoBWalletTransaction walletTransaction) {\r\n            BtoBWalletTransaction savedTransaction = btoBWalletTransactionRepo.save(walletTransaction);\r\n            btoBUserWalletRepo.save(userWallet);\r\n            return savedTransaction;\r\n        }\r\n    \r\n    }\r\n\r\nNow even when I am sending a `RuntimeException` the DB record is not getting rolled back.\r\nCan someone help? stuck since hours here.","title":"Transactional not rolling back JPA save in spring boot","body":"<p>I am working on a spring boot app where I am using transactional and its not rolling back its changes when I throw a exception:</p>\n<p><strong>My method:</strong></p>\n<pre><code>private BtoBWalletTransactionResponseModel doWalletOperation(BtoBWalletTransactionTypes transactionType, BtoBWalletTransactionRequestModel transactionRequest) {\n            // DB Operation\n            BtoBWalletTransaction savedTransaction = commonTransactionalService.finishWalletTransaction(userWallet, btoBWalletTransaction);\n            log.info(&quot;wallet {} txn of amount {} for user {}&quot;,transactionType.name(),txnAmount,userId);\n            // throwing a exception to rollback\n            throw new RuntimeException(&quot;Time to Rollback&quot;);\n            \n        } catch(Exception e){\n            log.error(e.getMessage());\n            log.error(&quot;error while doing wallet operations for user {}&quot;,userId);\n            throw new WalletException(e.getMessage());\n        }\n\n    }\n</code></pre>\n<p><strong>My common TransactionalService Interface:</strong></p>\n<pre><code>public interface CommonTransactionalService {\n\n    BtoBWalletTransaction finishWalletTransaction(BtoBUserWallet userWallet,BtoBWalletTransaction btoBWalletTransaction);\n\n}\n</code></pre>\n<p><strong>My Interface Impl:</strong></p>\n<pre><code>import javax.transaction.Transactional;\n\n@Service\npublic class CommonTransactionalServiceImpl implements CommonTransactionalService {\n\n    @Autowired\n    private BtoBWalletTransactionRepo btoBWalletTransactionRepo;\n\n    @Transactional\n    @Override\n    public BtoBWalletTransaction finishWalletTransaction(BtoBUserWallet userWallet, BtoBWalletTransaction walletTransaction) {\n        BtoBWalletTransaction savedTransaction = btoBWalletTransactionRepo.save(walletTransaction);\n        btoBUserWalletRepo.save(userWallet);\n        return savedTransaction;\n    }\n\n}\n</code></pre>\n<p>Now even when I am sending a <code>RuntimeException</code> the DB record is not getting rolled back.\nCan someone help? stuck since hours here.</p>\n"},{"tags":["java","spring","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659865488,"creation_date":1659865488,"answer_id":73266434,"question_id":73251060,"body_markdown":"If your data model is going to evolve, you have three options.\r\n\r\nUse [VersionedPortable](https://docs.hazelcast.com/hazelcast/5.1/serialization/implementing-portable-serialization#versioning-for-portable-serialization), which allows for different versions of the object concurrently.\r\n\r\nUse [CompactSerialization](https://docs.hazelcast.com/hazelcast/5.1/serialization/compact-serialization#schema-evolution) which is a beta feature in 5.1, does essentially the same as the above but using less memory.\r\n\r\nUse [JSON](https://docs.hazelcast.com/hazelcast/5.1/serialization/serializing-json#hide-nav) which has no strong typing.\r\n","title":"Versioning objects in hazelcast","body":"<p>If your data model is going to evolve, you have three options.</p>\n<p>Use <a href=\"https://docs.hazelcast.com/hazelcast/5.1/serialization/implementing-portable-serialization#versioning-for-portable-serialization\" rel=\"nofollow noreferrer\">VersionedPortable</a>, which allows for different versions of the object concurrently.</p>\n<p>Use <a href=\"https://docs.hazelcast.com/hazelcast/5.1/serialization/compact-serialization#schema-evolution\" rel=\"nofollow noreferrer\">CompactSerialization</a> which is a beta feature in 5.1, does essentially the same as the above but using less memory.</p>\n<p>Use <a href=\"https://docs.hazelcast.com/hazelcast/5.1/serialization/serializing-json#hide-nav\" rel=\"nofollow noreferrer\">JSON</a> which has no strong typing.</p>\n"}],"owner":{"account_id":25986740,"reputation":1,"user_id":19699609,"display_name":"cme2me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660055777,"creation_date":1659708442,"question_id":73251060,"body_markdown":"Apologies in advance, this is my first time asking questions here.\r\n\r\nHere is hazelcastInstance bean.\r\n\r\nThe main problem is - a class is already in local cache and has conflicting byte code representation\r\n    \r\n\r\n        @Bean\r\n        @SpringSessionHazelcastInstance\r\n        public HazelcastInstance hazelcastSessionInstance() {\r\n    \r\n        if (&quot;embedded&quot;.equalsIgnoreCase(hazelcastType)) {\r\n            return new HazelcastEmbeddedSessionBuilder(hazelcastSessionSettings).build();\r\n        } else {\r\n            return new HazelcastClientSessionBuilder(hazelcastSessionSettings)\r\n                    .addClass(MyTestDto.class)\r\n                    .addClass(SomeClass.class)\r\n                    .addClass(AnotherClass.class)\r\n                    .addClass(GameWeb.class)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nI change type from embedded to another in application.yaml: \r\n\r\n[here is settings screenshot][1]\r\n  \r\n\r\nI run the application everything works correctly, but if i add or remove any object in MyTestDto class and restart the application hazelcast starts throwing exceptions \r\nsaying that the bytecode of this class in the cache is different from the current one. In this case, either restarting the computer or renaming the class can help, this will clear the class cache. Here is the class from which all the trouble:\r\n\r\n        @Getter\r\n        @NoArgsConstructor\r\n        public class MyTestDto extends Details implements DataSerializable {\r\n        private PrePrincipal prePrincipal;\r\n        //test obj\r\n        private String testStr = &quot;asdtest&quot;;\r\n    \r\n    \r\n        public MyTestDto(UUID testUId, UUID testId, String testString, Collection&lt;String&gt; testCollection, PrePrincipal prePrincipal) {\r\n            super(testUId, testId, testString, testCollection);\r\n            this.prePrincipal = prePrincipal;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return MoreObjects.toStringHelper(this)\r\n                    .add(&quot;testUId&quot;, getTestUId())\r\n                    .add(&quot;testId&quot;, geTestId())\r\n                    .add(&quot;testString&quot;, getTestString())\r\n                    .add(&quot;prePrincipal&quot;, prePrincipal)\r\n                    .toString();\r\n        }\r\n    \r\n        @Override\r\n        public void writeData(ObjectDataOutput out) throws IOException {\r\n            out.writeString(testStr);\r\n            out.writeObject(prePrincipal);\r\n        }\r\n    \r\n        @Override\r\n        public void readData(ObjectDataInput in) throws IOException {\r\n            testStr = in.readString();\r\n            prePrincipal = in.readObject();\r\n        }\r\n    }\r\n\r\nStackTrace\r\n\r\n    05.08.22 18:22:46.705 [restartedMain] S: R: U: O: C: A: ERROR o.s.b.w.e.tomcat.TomcatStarter - \r\n    Error starting Tomcat context. Exception: \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean \r\n    with name &#39;sessionUser&#39; defined in class path resource \r\n    [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: \r\n    Unsatisfied dependency expressed through method &#39;sessionUser&#39; \r\n\r\n    parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hazelcastSessionInstance&#39; defined in class path resource [org/example/game/Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method &#39;hazelcastSessionInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\r\n    05.08.22 18:22:46.728 [restartedMain] S: R: U: O: C: A: INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]\r\n    05.08.22 18:22:46.738 [restartedMain] S: R: U: O: C: A: WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    05.08.22 18:22:46.751 [restartedMain] S: R: U: O: C: A: INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    05.08.22 18:22:46.774 [restartedMain] S: R: U: O: C: A: ERROR o.s.boot.SpringApplication - Application run failed\r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\r\n    \tat org.example.game.GameApplication.main(GameApplication.java:17)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\r\n    \t... 13 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sessionRepositoryFilterRegistration&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method &#39;sessionRepositoryFilterRegistration&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hazelcastSessionInstance&#39; defined in class path resource [org/example/game/Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method &#39;hazelcastSessionInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212)\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203)\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97)\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\r\n    \t... 18 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hazelcastSessionInstance&#39; defined in class path resource [org/example/game/Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method &#39;hazelcastSessionInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \t... 58 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hazelcastSessionInstance&#39; defined in class path resource [ru/revgames/game/auchan/match3/config/security/HttpSessionConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method &#39;hazelcastSessionInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfAvailable(DefaultListableBeanFactory.java:2030)\r\n    \tat org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration.setHazelcastInstance(HazelcastHttpSessionConfiguration.java:122)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:724)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \t... 77 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method &#39;hazelcastSessionInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \t... 99 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\r\n    \tat com.hazelcast.internal.usercodedeployment.impl.ClassLocator.defineClassFromClient(ClassLocator.java:123)\r\n    \tat com.hazelcast.internal.usercodedeployment.impl.ClassLocator.defineClassesFromClient(ClassLocator.java:107)\r\n    \tat com.hazelcast.internal.usercodedeployment.UserCodeDeploymentService.defineClasses(UserCodeDeploymentService.java:74)\r\n    \tat com.hazelcast.internal.usercodedeployment.impl.operation.DeployClassesOperation.run(DeployClassesOperation.java:49)\r\n    \tat com.hazelcast.spi.impl.operationservice.Operation.call(Operation.java:189)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:272)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:248)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:213)\r\n    \tat com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.run(OperationExecutorImpl.java:411)\r\n    \tat com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.runOrExecute(OperationExecutorImpl.java:438)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvokeLocal(Invocation.java:600)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvoke(Invocation.java:579)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:540)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:240)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:59)\r\n    \tat com.hazelcast.client.impl.protocol.task.AbstractMultiTargetMessageTask.processInternal(AbstractMultiTargetMessageTask.java:70)\r\n    \tat com.hazelcast.client.impl.protocol.task.AbstractAsyncMessageTask.processMessage(AbstractAsyncMessageTask.java:71)\r\n    \tat com.hazelcast.client.impl.protocol.task.AbstractMessageTask.initializeAndProcessMessage(AbstractMessageTask.java:153)\r\n    \tat com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:116)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.lang.Thread.run(Thread.java:829)\r\n    \tat com.hazelcast.internal.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:76)\r\n    \tat com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102)\r\n    \tat ------ submitted from ------.()\r\n    \tat com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:279)\r\n    \tat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112)\r\n    \tat com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95)\r\n    \tat com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40)\r\n    \tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:617)\r\n    \tat com.hazelcast.client.impl.spi.impl.ClientUserCodeDeploymentService.deploy(ClientUserCodeDeploymentService.java:170)\r\n    \tat com.hazelcast.client.impl.clientside.HazelcastClientInstanceImpl.sendStateToCluster(HazelcastClientInstanceImpl.java:865)\r\n    \tat com.hazelcast.client.impl.clientside.HazelcastClientInstanceImpl.start(HazelcastClientInstanceImpl.java:413)\r\n    \tat com.hazelcast.client.HazelcastClient.constructHazelcastClient(HazelcastClient.java:460)\r\n    \tat com.hazelcast.client.HazelcastClient.newHazelcastClientInternal(HazelcastClient.java:416)\r\n    \tat com.hazelcast.client.HazelcastClient.newHazelcastClient(HazelcastClient.java:136)\r\n    \tat org.example.game.SessionBuilder.build(HazelcastClientSessionBuilder.java:52)\r\n    \tat org.example.game.Config.hazelcastSessionInstance(HttpSessionConfig.java:65)\r\n    \tat org.example.game.Config$$EnhancerBySpringCGLIB$$e3760279.CGLIB$hazelcastSessionInstance$2(&lt;generated&gt;)\r\n    \tat org.example.game.Config$$EnhancerBySpringCGLIB$$e3760279$$FastClassBySpringCGLIB$$4644b10b.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \tat org.example.game.Config$$EnhancerBySpringCGLIB$$e3760279.hazelcastSessionInstance(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 100 common frames omitted\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/19NAx.png","title":"Versioning objects in hazelcast","body":"<p>Apologies in advance, this is my first time asking questions here.</p>\n<p>Here is hazelcastInstance bean.</p>\n<p>The main problem is - a class is already in local cache and has conflicting byte code representation</p>\n<pre><code>    @Bean\n    @SpringSessionHazelcastInstance\n    public HazelcastInstance hazelcastSessionInstance() {\n\n    if (&quot;embedded&quot;.equalsIgnoreCase(hazelcastType)) {\n        return new HazelcastEmbeddedSessionBuilder(hazelcastSessionSettings).build();\n    } else {\n        return new HazelcastClientSessionBuilder(hazelcastSessionSettings)\n                .addClass(MyTestDto.class)\n                .addClass(SomeClass.class)\n                .addClass(AnotherClass.class)\n                .addClass(GameWeb.class)\n                .build();\n    }\n}\n</code></pre>\n<p>I change type from embedded to another in application.yaml:</p>\n<p><a href=\"https://i.stack.imgur.com/19NAx.png\" rel=\"nofollow noreferrer\">here is settings screenshot</a></p>\n<p>I run the application everything works correctly, but if i add or remove any object in MyTestDto class and restart the application hazelcast starts throwing exceptions\nsaying that the bytecode of this class in the cache is different from the current one. In this case, either restarting the computer or renaming the class can help, this will clear the class cache. Here is the class from which all the trouble:</p>\n<pre><code>    @Getter\n    @NoArgsConstructor\n    public class MyTestDto extends Details implements DataSerializable {\n    private PrePrincipal prePrincipal;\n    //test obj\n    private String testStr = &quot;asdtest&quot;;\n\n\n    public MyTestDto(UUID testUId, UUID testId, String testString, Collection&lt;String&gt; testCollection, PrePrincipal prePrincipal) {\n        super(testUId, testId, testString, testCollection);\n        this.prePrincipal = prePrincipal;\n    }\n\n    @Override\n    public String toString() {\n        return MoreObjects.toStringHelper(this)\n                .add(&quot;testUId&quot;, getTestUId())\n                .add(&quot;testId&quot;, geTestId())\n                .add(&quot;testString&quot;, getTestString())\n                .add(&quot;prePrincipal&quot;, prePrincipal)\n                .toString();\n    }\n\n    @Override\n    public void writeData(ObjectDataOutput out) throws IOException {\n        out.writeString(testStr);\n        out.writeObject(prePrincipal);\n    }\n\n    @Override\n    public void readData(ObjectDataInput in) throws IOException {\n        testStr = in.readString();\n        prePrincipal = in.readObject();\n    }\n}\n</code></pre>\n<p>StackTrace</p>\n<pre><code>05.08.22 18:22:46.705 [restartedMain] S: R: U: O: C: A: ERROR o.s.b.w.e.tomcat.TomcatStarter - \nError starting Tomcat context. Exception: \norg.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean \nwith name 'sessionUser' defined in class path resource \n[org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: \nUnsatisfied dependency expressed through method 'sessionUser' \n\nparameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hazelcastSessionInstance' defined in class path resource [org/example/game/Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method 'hazelcastSessionInstance' threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\n05.08.22 18:22:46.728 [restartedMain] S: R: U: O: C: A: INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]\n05.08.22 18:22:46.738 [restartedMain] S: R: U: O: C: A: WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n05.08.22 18:22:46.751 [restartedMain] S: R: U: O: C: A: INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n05.08.22 18:22:46.774 [restartedMain] S: R: U: O: C: A: ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\n    at org.example.game.GameApplication.main(GameApplication.java:17)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\n    ... 13 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sessionRepositoryFilterRegistration' defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method 'sessionRepositoryFilterRegistration' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hazelcastSessionInstance' defined in class path resource [org/example/game/Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method 'hazelcastSessionInstance' threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212)\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203)\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97)\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)\n    at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hazelcastSessionInstance' defined in class path resource [org/example/game/Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method 'hazelcastSessionInstance' threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 58 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hazelcastSessionInstance' defined in class path resource [ru/revgames/game/auchan/match3/config/security/HttpSessionConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method 'hazelcastSessionInstance' threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfAvailable(DefaultListableBeanFactory.java:2030)\n    at org.springframework.session.hazelcast.config.annotation.web.http.HazelcastHttpSessionConfiguration.setHazelcastInstance(HazelcastHttpSessionConfiguration.java:122)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:724)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    ... 77 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method 'hazelcastSessionInstance' threw exception; nested exception is java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 99 common frames omitted\nCaused by: java.lang.IllegalStateException: Class org.example.game.MyTestDto is already in local cache and has conflicting byte code representation\n    at com.hazelcast.internal.usercodedeployment.impl.ClassLocator.defineClassFromClient(ClassLocator.java:123)\n    at com.hazelcast.internal.usercodedeployment.impl.ClassLocator.defineClassesFromClient(ClassLocator.java:107)\n    at com.hazelcast.internal.usercodedeployment.UserCodeDeploymentService.defineClasses(UserCodeDeploymentService.java:74)\n    at com.hazelcast.internal.usercodedeployment.impl.operation.DeployClassesOperation.run(DeployClassesOperation.java:49)\n    at com.hazelcast.spi.impl.operationservice.Operation.call(Operation.java:189)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:272)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:248)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:213)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.run(OperationExecutorImpl.java:411)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.runOrExecute(OperationExecutorImpl.java:438)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvokeLocal(Invocation.java:600)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvoke(Invocation.java:579)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:540)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:240)\n    at com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:59)\n    at com.hazelcast.client.impl.protocol.task.AbstractMultiTargetMessageTask.processInternal(AbstractMultiTargetMessageTask.java:70)\n    at com.hazelcast.client.impl.protocol.task.AbstractAsyncMessageTask.processMessage(AbstractAsyncMessageTask.java:71)\n    at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.initializeAndProcessMessage(AbstractMessageTask.java:153)\n    at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:116)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.lang.Thread.run(Thread.java:829)\n    at com.hazelcast.internal.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:76)\n    at com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102)\n    at ------ submitted from ------.()\n    at com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:279)\n    at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112)\n    at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95)\n    at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40)\n    at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:617)\n    at com.hazelcast.client.impl.spi.impl.ClientUserCodeDeploymentService.deploy(ClientUserCodeDeploymentService.java:170)\n    at com.hazelcast.client.impl.clientside.HazelcastClientInstanceImpl.sendStateToCluster(HazelcastClientInstanceImpl.java:865)\n    at com.hazelcast.client.impl.clientside.HazelcastClientInstanceImpl.start(HazelcastClientInstanceImpl.java:413)\n    at com.hazelcast.client.HazelcastClient.constructHazelcastClient(HazelcastClient.java:460)\n    at com.hazelcast.client.HazelcastClient.newHazelcastClientInternal(HazelcastClient.java:416)\n    at com.hazelcast.client.HazelcastClient.newHazelcastClient(HazelcastClient.java:136)\n    at org.example.game.SessionBuilder.build(HazelcastClientSessionBuilder.java:52)\n    at org.example.game.Config.hazelcastSessionInstance(HttpSessionConfig.java:65)\n    at org.example.game.Config$$EnhancerBySpringCGLIB$$e3760279.CGLIB$hazelcastSessionInstance$2(&lt;generated&gt;)\n    at org.example.game.Config$$EnhancerBySpringCGLIB$$e3760279$$FastClassBySpringCGLIB$$4644b10b.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at org.example.game.Config$$EnhancerBySpringCGLIB$$e3760279.hazelcastSessionInstance(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 100 common frames omitted\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"score":0,"creation_date":1660034901,"post_id":73287946,"comment_id":129431373,"body_markdown":"Please post your code.","body":"Please post your code."},{"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"score":0,"creation_date":1660064629,"post_id":73287946,"comment_id":129442867,"body_markdown":"Have you logged intenturi and validated it whether its coming correctly?","body":"Have you logged intenturi and validated it whether its coming correctly?"},{"owner":{"account_id":10240716,"reputation":1,"user_id":7558213,"display_name":"Vikram Sai Simha"},"score":0,"creation_date":1660112291,"post_id":73287946,"comment_id":129452555,"body_markdown":"Where can I log it? @GowthamKK","body":"Where can I log it? @GowthamKK"},{"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"score":0,"creation_date":1660112609,"post_id":73287946,"comment_id":129452626,"body_markdown":"Before checking loading webview, add Log.d(&quot;SomeTag&quot;,intentUri.toString());","body":"Before checking loading webview, add Log.d(&quot;SomeTag&quot;,intentUri.toString());"},{"owner":{"account_id":10240716,"reputation":1,"user_id":7558213,"display_name":"Vikram Sai Simha"},"score":0,"creation_date":1660832478,"post_id":73287946,"comment_id":129630718,"body_markdown":"I did give the Log.d but it is not showing any data @GowthamKK","body":"I did give the Log.d but it is not showing any data @GowthamKK"},{"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"score":0,"creation_date":1660836029,"post_id":73287946,"comment_id":129632344,"body_markdown":"Is the webview activity launching correctly?","body":"Is the webview activity launching correctly?"},{"owner":{"account_id":10240716,"reputation":1,"user_id":7558213,"display_name":"Vikram Sai Simha"},"score":0,"creation_date":1660874138,"post_id":73287946,"comment_id":129642261,"body_markdown":"Initially it is launching very fine and when first intent url is clciked it is launching the correct page. Then if I am trying to click another url it is opening the app which is in the background but is not redirecting to the new url page, it is shoding the old page only. @GowthamKK","body":"Initially it is launching very fine and when first intent url is clciked it is launching the correct page. Then if I am trying to click another url it is opening the app which is in the background but is not redirecting to the new url page, it is shoding the old page only. @GowthamKK"}],"owner":{"account_id":10240716,"reputation":1,"user_id":7558213,"display_name":"Vikram Sai Simha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660054607,"creation_date":1660029924,"question_id":73287946,"body_markdown":"I am using webview and calling my website to show it in the android app. And I used intent-filters to open the external URLs to redirect and open them in the app instead of web-browser. Everything works fine but the problem is when I click on a URL it opens my app but when I click on another URL it opens the same app but doesn&#39;t redirect to the new URL it is showing the old URL page.\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;activity\r\n                android:name=&quot;.SplashScreen&quot;\r\n                android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;intent-filter&gt;\r\n                        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                        &lt;data\r\n                            android:scheme=&quot;https&quot;\r\n                            android:host=&quot;my_website.com&quot;\r\n                            android:path=&quot;/app.html&quot; /&gt;\r\n                    &lt;/intent-filter&gt;\r\n\r\nMainActivity.java\r\n\r\n    WebView webView = (WebView) findViewById(R.id.webView);\r\n            webView.setWebViewClient(new WebViewClient());\r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setDomStorageEnabled(true);\r\n            webSettings.setLoadsImagesAutomatically(true);\r\n            webSettings.setSupportMultipleWindows(true);\r\n            webView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= 19) {\r\n                webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\r\n            } else {\r\n                webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\r\n            }\r\n    \r\n            webView.loadUrl(&quot;my_website&quot;);\r\n    \r\n    \r\n            Uri intentUri = getIntent().getData(); //get link\r\n            if (intentUri != null) {\r\n                webView.loadUrl(intentUri.toString()); //open it in webView\r\n            }\r\n\r\n","title":"My Android App is not loading the new url page in webview using intent-filters","body":"<p>I am using webview and calling my website to show it in the android app. And I used intent-filters to open the external URLs to redirect and open them in the app instead of web-browser. Everything works fine but the problem is when I click on a URL it opens my app but when I click on another URL it opens the same app but doesn't redirect to the new URL it is showing the old URL page.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;activity\n            android:name=&quot;.SplashScreen&quot;\n            android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                    &lt;data\n                        android:scheme=&quot;https&quot;\n                        android:host=&quot;my_website.com&quot;\n                        android:path=&quot;/app.html&quot; /&gt;\n                &lt;/intent-filter&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>WebView webView = (WebView) findViewById(R.id.webView);\n        webView.setWebViewClient(new WebViewClient());\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setDomStorageEnabled(true);\n        webSettings.setLoadsImagesAutomatically(true);\n        webSettings.setSupportMultipleWindows(true);\n        webView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\n\n        if (Build.VERSION.SDK_INT &gt;= 19) {\n            webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\n        } else {\n            webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\n        }\n\n        webView.loadUrl(&quot;my_website&quot;);\n\n\n        Uri intentUri = getIntent().getData(); //get link\n        if (intentUri != null) {\n            webView.loadUrl(intentUri.toString()); //open it in webView\n        }\n</code></pre>\n"},{"tags":["java","android","video-streaming","mpeg2-ts","miracast"],"answers":[{"tags":[],"owner":{"account_id":43726,"reputation":9735,"user_id":127938,"accept_rate":89,"display_name":"Paul Gregoire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660054276,"creation_date":1660054276,"answer_id":73293298,"question_id":72987771,"body_markdown":"I&#39;m not sure if this will be useful for your situation, but you might be able to discern how to package mpeg-ts with some source I abandoned a long time ago here: https://github.com/Red5/red5-hls-plugin \r\n\r\nIt&#39;s mostly Java, hope it helps.","title":"Streaming H.264 video in MPEG2-TS over RTP","body":"<p>I'm not sure if this will be useful for your situation, but you might be able to discern how to package mpeg-ts with some source I abandoned a long time ago here: <a href=\"https://github.com/Red5/red5-hls-plugin\" rel=\"nofollow noreferrer\">https://github.com/Red5/red5-hls-plugin</a></p>\n<p>It's mostly Java, hope it helps.</p>\n"}],"owner":{"account_id":16837491,"reputation":1,"user_id":12173735,"display_name":"Aaronjamt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660054276,"creation_date":1657843106,"question_id":72987771,"body_markdown":"I am trying to build an Android application that is able to stream the screen over the network using an H.264 video feed in an MPEG2-TS container, sent over RTP (in case it matters, this is supposed to stream to a Miracast display). I have the screen recording and H.264 encoding working but can&#39;t figure out the MPEG2-TS container for the life of me. The RTP header is very simple and I resorted to manually crafting it with `ByteBuffer`s and I am now trying to do something similar with MPEG2-TS but it is a very complicated format. I have found many libraries to parse incoming MPEG2-TS but nothing to generate it (the closest being [codice/mpegts-streamer](https://github.com/codice/mpegts-streamer) forked from [taktik/mpegts-streamer](https://github.com/taktik/mpegts-streamer) but that requires an MPEG2-TS stream to be fed in, defeating the whole purpose). Are there any other libraries I can use for this or do I just have to reinvent the wheel myself?","title":"Streaming H.264 video in MPEG2-TS over RTP","body":"<p>I am trying to build an Android application that is able to stream the screen over the network using an H.264 video feed in an MPEG2-TS container, sent over RTP (in case it matters, this is supposed to stream to a Miracast display). I have the screen recording and H.264 encoding working but can't figure out the MPEG2-TS container for the life of me. The RTP header is very simple and I resorted to manually crafting it with <code>ByteBuffer</code>s and I am now trying to do something similar with MPEG2-TS but it is a very complicated format. I have found many libraries to parse incoming MPEG2-TS but nothing to generate it (the closest being <a href=\"https://github.com/codice/mpegts-streamer\" rel=\"nofollow noreferrer\">codice/mpegts-streamer</a> forked from <a href=\"https://github.com/taktik/mpegts-streamer\" rel=\"nofollow noreferrer\">taktik/mpegts-streamer</a> but that requires an MPEG2-TS stream to be fed in, defeating the whole purpose). Are there any other libraries I can use for this or do I just have to reinvent the wheel myself?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1660052673,"post_id":73292240,"comment_id":129438047,"body_markdown":"From the sounds of it, you want to add a new object and have it be the new head of the list? Is that what you mean by push?","body":"From the sounds of it, you want to add a new object and have it be the new head of the list? Is that what you mean by push?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660050685,"creation_date":1660050685,"answer_id":73292421,"question_id":73292240,"body_markdown":"You&#39;re almost there. When the list is empty, that part works fine. But when the list is not empty, think through what needs to happen, which is __4 things__:\r\n\r\n* The &#39;head&#39;s previous node needs to become the new node.\r\n* The new node&#39;s &#39;next&#39; needs to point at head.\r\n* The new node&#39;s &#39;previous&#39; needs to point at what _used to be_ `head.prev`.\r\n* What _used to be_ `head.prev`&#39;s `next` pointer needs to point at the new node.\r\n\r\nYou&#39;ll need some temp variables to take care of all of that.\r\n","title":"Adding node in circular list in Java with only head","body":"<p>You're almost there. When the list is empty, that part works fine. But when the list is not empty, think through what needs to happen, which is <strong>4 things</strong>:</p>\n<ul>\n<li>The 'head's previous node needs to become the new node.</li>\n<li>The new node's 'next' needs to point at head.</li>\n<li>The new node's 'previous' needs to point at what <em>used to be</em> <code>head.prev</code>.</li>\n<li>What <em>used to be</em> <code>head.prev</code>'s <code>next</code> pointer needs to point at the new node.</li>\n</ul>\n<p>You'll need some temp variables to take care of all of that.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660053146,"creation_date":1660053146,"answer_id":73293031,"question_id":73292240,"body_markdown":"Lets take some nodes.\r\n\r\n    &lt; H - &lt; A - &lt; B -\r\n\r\nThis describes the connections of the nodes. A.next == H and A.prev == B.\r\n\r\nH and B are special cases, where H is the head and B is the tail. Since the list is circular. Then H.next == B and B.prev == H.\r\n\r\nWhen we push a node.\r\n\r\n    &lt; N - &lt; H - &lt; A - &lt; B -\r\n\r\nThen we can see all of the assignments that need to change.\r\n\r\n    H = head;\r\n    B = H.next; // get the tail since you only have the head.\r\n    H.next = N;\r\n    N.prev = H;\r\n    N.next = B;\r\n    B.prev = N;\r\n    head = N;\r\n","title":"Adding node in circular list in Java with only head","body":"<p>Lets take some nodes.</p>\n<pre><code>&lt; H - &lt; A - &lt; B -\n</code></pre>\n<p>This describes the connections of the nodes. A.next == H and A.prev == B.</p>\n<p>H and B are special cases, where H is the head and B is the tail. Since the list is circular. Then H.next == B and B.prev == H.</p>\n<p>When we push a node.</p>\n<pre><code>&lt; N - &lt; H - &lt; A - &lt; B -\n</code></pre>\n<p>Then we can see all of the assignments that need to change.</p>\n<pre><code>H = head;\nB = H.next; // get the tail since you only have the head.\nH.next = N;\nN.prev = H;\nN.next = B;\nB.prev = N;\nhead = N;\n</code></pre>\n"}],"owner":{"account_id":26018968,"reputation":1,"user_id":19726922,"display_name":"Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660053377,"creation_date":1660049857,"question_id":73292240,"body_markdown":"I&#39;m trying to add a node in a circular list in Java. The problem is that my list has only a head (without a tail). Here is my code:\r\n\r\n```\r\nimport java.io.PrintStream;\r\nimport java.util.EmptyStackException;\r\n\r\npublic class CircularList {\r\n\tprivate Node head = null;\r\n\r\n\tprivate class Node {\r\n\t\tpublic Node(String payload, Node prev, Node next) {\r\n\t\t\tsuper();\r\n\t\t\tthis.payload = payload;\r\n\t\t\tthis.prev = prev;\r\n\t\t\tthis.next = next;\r\n\t\t}\r\n\r\n\t\tprivate Node prev;\r\n\t\tprivate Node next;\r\n\t\tString payload = &quot;&quot;;\r\n\t}\r\n    public void push(String payload) {\r\n\t\tNode n = new Node(payload, null, null);\r\n\t\tif (isEmpty()) {\r\n\t\t\thead = n;\r\n\t\t\tn.next = n;\r\n\t\t} else {\r\n\t\t\tn.prev = head;\r\n\t\t\tn.next = head;\r\n\t\t}\r\n\t}\r\n```","title":"Adding node in circular list in Java with only head","body":"<p>I'm trying to add a node in a circular list in Java. The problem is that my list has only a head (without a tail). Here is my code:</p>\n<pre><code>import java.io.PrintStream;\nimport java.util.EmptyStackException;\n\npublic class CircularList {\n    private Node head = null;\n\n    private class Node {\n        public Node(String payload, Node prev, Node next) {\n            super();\n            this.payload = payload;\n            this.prev = prev;\n            this.next = next;\n        }\n\n        private Node prev;\n        private Node next;\n        String payload = &quot;&quot;;\n    }\n    public void push(String payload) {\n        Node n = new Node(payload, null, null);\n        if (isEmpty()) {\n            head = n;\n            n.next = n;\n        } else {\n            n.prev = head;\n            n.next = head;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8425000,"reputation":1382,"user_id":6322589,"accept_rate":57,"display_name":"lucasvw"},"score":0,"creation_date":1580222923,"post_id":59951280,"comment_id":106022223,"body_markdown":"Well for one, Java 11 isn&#39;t even the latest release of Java","body":"Well for one, Java 11 isn&#39;t even the latest release of Java"},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":1,"creation_date":1580222935,"post_id":59951280,"comment_id":106022235,"body_markdown":"Oracles new java licensing is probably the main reason why not to mention the lawsuit oracle has out on Google.","body":"Oracles new java licensing is probably the main reason why not to mention the lawsuit oracle has out on Google."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1580222948,"post_id":59951280,"comment_id":106022248,"body_markdown":"fyi, the latest version of Java SE is 13","body":"fyi, the latest version of Java SE is 13"},{"owner":{"display_name":"user12021836"},"score":0,"creation_date":1580222986,"post_id":59951280,"comment_id":106022268,"body_markdown":"This seems a good question, why down vote","body":"This seems a good question, why down vote"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1580223659,"post_id":59951280,"comment_id":106022641,"body_markdown":"Android releases almost never directly map to a given Java release. The most obvious reason is because Android does not use Java at all. It uses Dalvik, which brings with it its own Runtime (not a JVM), its own Bytecode format (Dalvik bytecode, not Java bytecode) and its own runtime library (borrowing a good chunk from Java SE and adding a lot of its own under `android.*`). Yes, a lot of it is written in the *Java language* and the runtime/bytecode are *similar* to Java bytecode, but different enough that directly picking up an OpenJDK to use in Android is far from practical.","body":"Android releases almost never directly map to a given Java release. The most obvious reason is because Android does not use Java at all. It uses Dalvik, which brings with it its own Runtime (not a JVM), its own Bytecode format (Dalvik bytecode, not Java bytecode) and its own runtime library (borrowing a good chunk from Java SE and adding a lot of its own under <code>android.*</code>). Yes, a lot of it is written in the <i>Java language</i> and the runtime/bytecode are <i>similar</i> to Java bytecode, but different enough that directly picking up an OpenJDK to use in Android is far from practical."},{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1580223660,"post_id":59951280,"comment_id":106022643,"body_markdown":"Why closing? I mean why closing for opinion base? You could for lack of clarity or need more details because there is no code showing the problem, but this has an specific answer, Java 9 deletes code that it is used by Android, that is not an opinion that is a fact","body":"Why closing? I mean why closing for opinion base? You could for lack of clarity or need more details because there is no code showing the problem, but this has an specific answer, Java 9 deletes code that it is used by Android, that is not an opinion that is a fact"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1580223744,"post_id":59951280,"comment_id":106022688,"body_markdown":"@cutiko: very few people can give a fact-based answer to this question and those who can are almost certainly contractually obliged not to do so. Having worked on Android myself I can tell you that I can&#39;t chat about half of the things I&#39;d like to talk about on this topic.","body":"@cutiko: very few people can give a fact-based answer to this question and those who can are almost certainly contractually obliged not to do so. Having worked on Android myself I can tell you that I can&#39;t chat about half of the things I&#39;d like to talk about on this topic."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1580223923,"post_id":59951280,"comment_id":106022778,"body_markdown":"As an interesting sidenote: just a few days ago there was a commit which brings parts of `java.util` up to OpenJDK 9: [commit in question](https://android.googlesource.com/platform/libcore/+/72d94d47ac32bd55de714e40696f4cb253295f1b).","body":"As an interesting sidenote: just a few days ago there was a commit which brings parts of <code>java.util</code> up to OpenJDK 9: <a href=\"https://android.googlesource.com/platform/libcore/+/72d94d47ac32bd55de714e40696f4cb253295f1b\" rel=\"nofollow noreferrer\">commit in question</a>."},{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1580233417,"post_id":59951280,"comment_id":106027779,"body_markdown":"@JoachimSauer the question `Why is android still using Java 8?` can be answered, because in 9 there are missing methods, but the other questions can not as you explained. The *extra* questions seem like a common formatting problem to me.","body":"@JoachimSauer the question <code>Why is android still using Java 8?</code> can be answered, because in 9 there are missing methods, but the other questions can not as you explained. The <i>extra</i> questions seem like a common formatting problem to me."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1580237457,"post_id":59951280,"comment_id":106029525,"body_markdown":"@cutiko: that&#39;s not a good reason,  because they can easily patch that in when they move to OpenJDK 9 ...","body":"@cutiko: that&#39;s not a good reason,  because they can easily patch that in when they move to OpenJDK 9 ..."}],"answers":[{"tags":[],"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1660052929,"creation_date":1580223548,"answer_id":59951512,"question_id":59951280,"body_markdown":"Java 9 removed some methods used in the Android API\r\n\r\nYou can see the full list here\r\n\r\nhttps://www.oracle.com/technetwork/java/javase/9-removed-features-3745614.html\r\n\r\nTo verify this, you can install Java 9 on your environment, use it and then run the tests using the command line; the test will fail indicating there is a problem with missing methods.\r\n\r\nI can&#39;t remember which methods in specific, and please notice; that removed is not deprecated, it is deleted from the code.\r\n\r\nMy best **deduction** is:\r\n\r\n - Kotlin is now a thing\r\n - Oracle is suing Google\r\n\r\nRefactoring the Android API to match the new Java versions gets low priority in that scenario","title":"Why is android still using Java 8?","body":"<p>Java 9 removed some methods used in the Android API</p>\n<p>You can see the full list here</p>\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/9-removed-features-3745614.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/9-removed-features-3745614.html</a></p>\n<p>To verify this, you can install Java 9 on your environment, use it and then run the tests using the command line; the test will fail indicating there is a problem with missing methods.</p>\n<p>I can't remember which methods in specific, and please notice; that removed is not deprecated, it is deleted from the code.</p>\n<p>My best <strong>deduction</strong> is:</p>\n<ul>\n<li>Kotlin is now a thing</li>\n<li>Oracle is suing Google</li>\n</ul>\n<p>Refactoring the Android API to match the new Java versions gets low priority in that scenario</p>\n"}],"owner":{"account_id":27050,"reputation":26330,"user_id":70942,"accept_rate":93,"display_name":"ant2009"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1042,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"closed_date":1580223193,"accepted_answer_id":59951512,"answer_count":1,"score":2,"last_activity_date":1660052929,"creation_date":1580222784,"question_id":59951280,"body_markdown":"Just wondering why Android is very behind the latest versions of Java which the latest release is Java 11.\r\n\r\nI understand we have Kotlin now which comes with some great features. But just wondering will Google ever update to the latest version if not, why?\r\n\r\nMany thanks in advance ","title":"Why is android still using Java 8?","body":"<p>Just wondering why Android is very behind the latest versions of Java which the latest release is Java 11.</p>\n\n<p>I understand we have Kotlin now which comes with some great features. But just wondering will Google ever update to the latest version if not, why?</p>\n\n<p>Many thanks in advance </p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1660166956,"post_id":73292963,"comment_id":129471999,"body_markdown":"What do you mean by &quot;costs of running&quot; and &quot;overhead&quot;? What exactly do you find suspicious and what would you expect instead?","body":"What do you mean by &quot;costs of running&quot; and &quot;overhead&quot;? What exactly do you find suspicious and what would you expect instead?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1660208301,"post_id":73292963,"comment_id":129480227,"body_markdown":"By &quot;costs of running&quot; here I mean costs of executing the methods i. e. bringing a thread to sleep and waking it up. In case we call `parkNanos1ms()` it takes us about 100 us on Linux and 500 us on Mac, but when we call `parkNanos100us()` it takes us only 50 us. So the &quot;overhead&quot; is that additional time elapsed apart of delay itself and it varies depending on the delay. This is a confusing point to me.","body":"By &quot;costs of running&quot; here I mean costs of executing the methods i. e. bringing a thread to sleep and waking it up. In case we call <code>parkNanos1ms()</code> it takes us about 100 us on Linux and 500 us on Mac, but when we call <code>parkNanos100us()</code> it takes us only 50 us. So the &quot;overhead&quot; is that additional time elapsed apart of delay itself and it varies depending on the delay. This is a confusing point to me."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1660259121,"post_id":73292963,"comment_id":129496936,"body_markdown":"I wouldn&#39;t call it &quot;costs&quot;. More like scheduling inaccuracy, which depends on the particular scheduling policy. IMO, there is nothing surprising in observing accuracy somewhat proportional to the delay. At least, for the non-realtime policies. Btw, did you try different Linux [schedulers](https://man7.org/linux/man-pages/man7/sched.7.html)?","body":"I wouldn&#39;t call it &quot;costs&quot;. More like scheduling inaccuracy, which depends on the particular scheduling policy. IMO, there is nothing surprising in observing accuracy somewhat proportional to the delay. At least, for the non-realtime policies. Btw, did you try different Linux <a href=\"https://man7.org/linux/man-pages/man7/sched.7.html\" rel=\"nofollow noreferrer\">schedulers</a>?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1660284217,"post_id":73292963,"comment_id":129500538,"body_markdown":"No, I didn&#39;t. I&#39;m not that deep in Linux internals )","body":"No, I didn&#39;t. I&#39;m not that deep in Linux internals )"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660052854,"creation_date":1660052854,"question_id":73292963,"body_markdown":"While running the following benchmark on Java 11 (Linux and MacOS):\r\n```java\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\npublic class ThreadSleepVsParkNanosBenchmark {\r\n\r\n  @Benchmark\r\n  public void sleep1ms() throws Exception {\r\n    Thread.sleep(1);\r\n  }\r\n\r\n  @Benchmark\r\n  public void parkNanos1ms() {\r\n    LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(1));\r\n  }\r\n\r\n  @Benchmark\r\n  public void parkNanos500us() {\r\n    LockSupport.parkNanos(TimeUnit.MICROSECONDS.toNanos(500));\r\n  }\r\n\r\n  @Benchmark\r\n  public void parkNanos100us() {\r\n    LockSupport.parkNanos(TimeUnit.MICROSECONDS.toNanos(100));\r\n  }\r\n}\r\n```\r\nI&#39;ve found out that the costs of running `Thread.sleep(1)` and `LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(1))` i.e. the overhead of suspending and revoking the thread are pretty much the same on both platforms. But the overhead of `LockSupport.parkNanos(TimeUnit.MICROSECONDS.toNanos(100))` is significantly lower:\r\n\r\n```\r\nLinux\r\nBenchmark                                                 Mode  Cnt        Score      Error  Units\r\nThreadSleepVsParkNanosBenchmark.parkNanos100us            avgt  100      159.775 &#177;    0.248  us/op\r\nThreadSleepVsParkNanosBenchmark.parkNanos500us            avgt  100      612.971 &#177;    0.578  us/op\r\nThreadSleepVsParkNanosBenchmark.parkNanos1ms              avgt  100     1103.372 &#177;    4.685  us/op\r\nThreadSleepVsParkNanosBenchmark.sleep1ms                  avgt  100     1119.566 &#177;    0.940  us/op\r\n\r\nMacOS\r\nThreadSleepVsParkNanosBenchmark.parkNanos100us            avgt  100      156,696 &#177;     6,977  us/op\r\nThreadSleepVsParkNanosBenchmark.parkNanos500us            avgt  100      752,520 &#177;    23,203  us/op\r\nThreadSleepVsParkNanosBenchmark.parkNanos1ms              avgt  100     1508,832 &#177;     7,580  us/op\r\nThreadSleepVsParkNanosBenchmark.sleep1ms                  avgt  100     1430,396 &#177;    32,876  us/op\r\n```\r\nWhat is the explanation? As far as it comes from the JavaDoc both `Thread.sleep()` and `LockSupport.parkNanos()` put the thread into `Thread.State.TIMED_WAITING`, so the mechanism under the hood must be the same along with the costs.","title":"Infrasctructural costs of Thread.sleep() vs LockSupport.parkNanos()","body":"<p>While running the following benchmark on Java 11 (Linux and MacOS):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\npublic class ThreadSleepVsParkNanosBenchmark {\n\n  @Benchmark\n  public void sleep1ms() throws Exception {\n    Thread.sleep(1);\n  }\n\n  @Benchmark\n  public void parkNanos1ms() {\n    LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(1));\n  }\n\n  @Benchmark\n  public void parkNanos500us() {\n    LockSupport.parkNanos(TimeUnit.MICROSECONDS.toNanos(500));\n  }\n\n  @Benchmark\n  public void parkNanos100us() {\n    LockSupport.parkNanos(TimeUnit.MICROSECONDS.toNanos(100));\n  }\n}\n</code></pre>\n<p>I've found out that the costs of running <code>Thread.sleep(1)</code> and <code>LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(1))</code> i.e. the overhead of suspending and revoking the thread are pretty much the same on both platforms. But the overhead of <code>LockSupport.parkNanos(TimeUnit.MICROSECONDS.toNanos(100))</code> is significantly lower:</p>\n<pre><code>Linux\nBenchmark                                                 Mode  Cnt        Score      Error  Units\nThreadSleepVsParkNanosBenchmark.parkNanos100us            avgt  100      159.775 ±    0.248  us/op\nThreadSleepVsParkNanosBenchmark.parkNanos500us            avgt  100      612.971 ±    0.578  us/op\nThreadSleepVsParkNanosBenchmark.parkNanos1ms              avgt  100     1103.372 ±    4.685  us/op\nThreadSleepVsParkNanosBenchmark.sleep1ms                  avgt  100     1119.566 ±    0.940  us/op\n\nMacOS\nThreadSleepVsParkNanosBenchmark.parkNanos100us            avgt  100      156,696 ±     6,977  us/op\nThreadSleepVsParkNanosBenchmark.parkNanos500us            avgt  100      752,520 ±    23,203  us/op\nThreadSleepVsParkNanosBenchmark.parkNanos1ms              avgt  100     1508,832 ±     7,580  us/op\nThreadSleepVsParkNanosBenchmark.sleep1ms                  avgt  100     1430,396 ±    32,876  us/op\n</code></pre>\n<p>What is the explanation? As far as it comes from the JavaDoc both <code>Thread.sleep()</code> and <code>LockSupport.parkNanos()</code> put the thread into <code>Thread.State.TIMED_WAITING</code>, so the mechanism under the hood must be the same along with the costs.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":1,"creation_date":1660035916,"post_id":73289135,"comment_id":129431705,"body_markdown":"code looks fine, share how you call this function and when. You probably do not call it at the correct point. Best add screenshots. Also note that you do not account for the case where the value is 5 exactly!","body":"code looks fine, share how you call this function and when. You probably do not call it at the correct point. Best add screenshots. Also note that you do not account for the case where the value is 5 exactly!"},{"owner":{"account_id":25964906,"reputation":17,"user_id":19680968,"display_name":"T.Lenehan"},"score":0,"creation_date":1660036267,"post_id":73289135,"comment_id":129431825,"body_markdown":"Ah, there&#39;s the problem, how do I call a function?","body":"Ah, there&#39;s the problem, how do I call a function?"},{"owner":{"account_id":25964906,"reputation":17,"user_id":19680968,"display_name":"T.Lenehan"},"score":0,"creation_date":1660037155,"post_id":73289135,"comment_id":129432137,"body_markdown":"Thanks for the help, I figured it out","body":"Thanks for the help, I figured it out"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1660039693,"post_id":73289135,"comment_id":129433058,"body_markdown":"Please share how so others can benefit from it in the future :)","body":"Please share how so others can benefit from it in the future :)"},{"owner":{"account_id":25964906,"reputation":17,"user_id":19680968,"display_name":"T.Lenehan"},"score":0,"creation_date":1660043973,"post_id":73289135,"comment_id":129434494,"body_markdown":"ill create a simpler example and post soon","body":"ill create a simpler example and post soon"}],"answers":[{"tags":[],"owner":{"account_id":23946271,"reputation":69,"user_id":17938577,"display_name":"DAHUANGGO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660038042,"creation_date":1660038042,"answer_id":73289670,"question_id":73289135,"body_markdown":"First of all I have to point out that your code must first consider whether there is a **5**, which is missing from your code.\r\nThe second point, I hope you can show your calling process, if the counter does not increment or decrement, do you need to consider whether your method is **the same call**? Or maybe your code **has some threading issues** causing some count errors? Here is my test, I think it should be fine:\r\n\r\n**Method**\r\n\r\n    class Method{\r\n    public boolean countInt(double robot4count){\r\n        if (robot4count&gt;=0&amp;&amp;robot4count&lt;=5){\r\n            return true;\r\n        }else {\r\n            return false;\r\n        }\r\n    }\r\n    }\r\n\r\n**TestCount**\r\n\r\n    @Slf4j\r\n    public class TestCount {\r\n    public static void main(String[] args) {\r\n        AtomicInteger countInt=new AtomicInteger(0);\r\n        Method method = new Method();\r\n        for (int i = 0; i &lt;10 ; i++) {\r\n            new Thread(()-&gt;{\r\n                int now = countInt.incrementAndGet();\r\n                if (method.countInt(now)) {\r\n                    log.debug(&quot;true:{}&quot;,now);\r\n                }else {\r\n                    log.debug(&quot;false:{}&quot;,now);\r\n                }\r\n            },&quot;&quot;+i).start();\r\n        }\r\n\r\n\r\n    }\r\n    }\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;br/&gt;\r\n    &lt;div align=center&gt;&lt;img src=&quot;https://i.stack.imgur.com/QnI0a.png&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHope my test can help you!\r\n\r\n[![the test result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QnI0a.png","title":"Anylogic- Function not changing boolean variable","body":"<p>First of all I have to point out that your code must first consider whether there is a <strong>5</strong>, which is missing from your code.\nThe second point, I hope you can show your calling process, if the counter does not increment or decrement, do you need to consider whether your method is <strong>the same call</strong>? Or maybe your code <strong>has some threading issues</strong> causing some count errors? Here is my test, I think it should be fine:</p>\n<p><strong>Method</strong></p>\n<pre><code>class Method{\npublic boolean countInt(double robot4count){\n    if (robot4count&gt;=0&amp;&amp;robot4count&lt;=5){\n        return true;\n    }else {\n        return false;\n    }\n}\n}\n</code></pre>\n<p><strong>TestCount</strong></p>\n<pre><code>@Slf4j\npublic class TestCount {\npublic static void main(String[] args) {\n    AtomicInteger countInt=new AtomicInteger(0);\n    Method method = new Method();\n    for (int i = 0; i &lt;10 ; i++) {\n        new Thread(()-&gt;{\n            int now = countInt.incrementAndGet();\n            if (method.countInt(now)) {\n                log.debug(&quot;true:{}&quot;,now);\n            }else {\n                log.debug(&quot;false:{}&quot;,now);\n            }\n        },&quot;&quot;+i).start();\n    }\n\n\n}\n}\n</code></pre>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;br/&gt;\n&lt;div align=center&gt;&lt;img src=\"https://i.stack.imgur.com/QnI0a.png\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Hope my test can help you!</p>\n<p><a href=\"https://i.stack.imgur.com/QnI0a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QnI0a.png\" alt=\"the test result\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25964906,"reputation":17,"user_id":19680968,"display_name":"T.Lenehan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660052791,"creation_date":1660052791,"answer_id":73292948,"question_id":73289135,"body_markdown":"For the function to be able to detect if *conveyor1* has 5 agents on it I added \r\n\r\n    robot4count++\r\n\r\nto the &#39;On enter&#39; Action of *convey1*, and \r\n\r\n    robot4count-- \r\n\r\nto the &#39;On exit&#39; Action of *queue1*. \r\n\r\nThe function\r\n\r\n    if(robot4count&lt;5){\r\n    robot4free=true;\r\n    }\r\n    else if(robot4count==5){\r\n    robot4free=false;\r\n    }\r\n    else if(robot4count&gt;5){\r\n    robot4free=false;\r\n    };\r\n\r\n then detects if the variable *robot4count* is five or over, if so it changes the boolean variable *robot4free* to false. \r\n\r\n*selectOutput* has the condition robot4free and this means that it allows items through only when there are less than five agents on *conveyor1*\r\n\r\n*function4* is called On enter to *delay* (which is set to 0.1 seconds) through \r\n\r\n    function4()\r\n\r\n[![The top conveyor only allows 5 agents at a time.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Qr3c.png\r\n\r\nI hope this helps anyone who had the same questions as me. \r\n","title":"Anylogic- Function not changing boolean variable","body":"<p>For the function to be able to detect if <em>conveyor1</em> has 5 agents on it I added</p>\n<pre><code>robot4count++\n</code></pre>\n<p>to the 'On enter' Action of <em>convey1</em>, and</p>\n<pre><code>robot4count-- \n</code></pre>\n<p>to the 'On exit' Action of <em>queue1</em>.</p>\n<p>The function</p>\n<pre><code>if(robot4count&lt;5){\nrobot4free=true;\n}\nelse if(robot4count==5){\nrobot4free=false;\n}\nelse if(robot4count&gt;5){\nrobot4free=false;\n};\n</code></pre>\n<p>then detects if the variable <em>robot4count</em> is five or over, if so it changes the boolean variable <em>robot4free</em> to false.</p>\n<p><em>selectOutput</em> has the condition robot4free and this means that it allows items through only when there are less than five agents on <em>conveyor1</em></p>\n<p><em>function4</em> is called On enter to <em>delay</em> (which is set to 0.1 seconds) through</p>\n<pre><code>function4()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1Qr3c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Qr3c.png\" alt=\"The top conveyor only allows 5 agents at a time.\" /></a></p>\n<p>I hope this helps anyone who had the same questions as me.</p>\n"}],"owner":{"account_id":25964906,"reputation":17,"user_id":19680968,"display_name":"T.Lenehan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660052791,"creation_date":1660035625,"question_id":73289135,"body_markdown":"In Anylogic I have a variable that increases and decreases when agents pass through certain blocks.\r\n \r\nThe first variable &#39;robot4count&#39; is a double, when the double reaches a value above 5 I want another variable &#39;robot4free&#39; to change to false, and return to true when below 5. I would also like the variable to constantly update\r\n\r\nThe function I have written so far :\r\n\r\n        if(robot4count&lt;5){\r\n        robot4free=true;\r\n        }\r\n        else if(robot4count&gt;5){\r\n        robot4free=false;\r\n        };\r\n\r\nUnfortunately the variable robot4free does not change. The functions access is public, set to &#39;Just action (returns nothing), and I do not have any arguments set. The double &#39;robot4count&#39; changes but the boolean &#39;robot4free&#39; doesn&#39;t.\r\n\r\nIs there a problem with my code, or have the properties been set incorrectly? Any help would be great, thanks. (NOTE: I am new to Anylogic and have little experience in java)","title":"Anylogic- Function not changing boolean variable","body":"<p>In Anylogic I have a variable that increases and decreases when agents pass through certain blocks.</p>\n<p>The first variable 'robot4count' is a double, when the double reaches a value above 5 I want another variable 'robot4free' to change to false, and return to true when below 5. I would also like the variable to constantly update</p>\n<p>The function I have written so far :</p>\n<pre><code>    if(robot4count&lt;5){\n    robot4free=true;\n    }\n    else if(robot4count&gt;5){\n    robot4free=false;\n    };\n</code></pre>\n<p>Unfortunately the variable robot4free does not change. The functions access is public, set to 'Just action (returns nothing), and I do not have any arguments set. The double 'robot4count' changes but the boolean 'robot4free' doesn't.</p>\n<p>Is there a problem with my code, or have the properties been set incorrectly? Any help would be great, thanks. (NOTE: I am new to Anylogic and have little experience in java)</p>\n"},{"tags":["java","spring-boot","oop","entity-relationship"],"answers":[{"tags":[],"owner":{"account_id":20867359,"reputation":101,"user_id":15328090,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660052583,"creation_date":1660051308,"answer_id":73292597,"question_id":73292284,"body_markdown":"Answering your first question, yes. Here&#39;s an [article][1] on @ManyToMany in Jpa. There you can find different ways to describe a many-to-many relationship to between your entities. In short, here&#39;s the approximate code:\r\n\r\nIn **Product**\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n    // the name of the intermediate table for many-to-many\r\n    name = &quot;product_to_tag&quot;,\r\n    // the foreign key column in the intermediate table, that references \r\n    // current entity(product)\r\n    joinColumns = @JoinColumn(name = &quot;product_id&quot;),\r\n    // the foreign key column in the intermediate table, that references the \r\n    // other entity(tag)\r\n    inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\r\n    private List&lt;Tag&gt; tags;\r\n\r\nIn **Tag**\r\n\r\n    @ManyToMany(mappedBy = &quot;tags&quot;)\r\n    private List&lt;Product&gt; products;\r\n\r\nAnswering your second question, there&#39;s a similar [thread][2] which will help you. Here&#39;s the answer in short as well:\r\n\r\n    public interface TagRepository extends JpaRepository&lt;Tag, Long&gt; {\r\n        @Query(&quot;select t from Tag t \r\n                join fetch t.products p \r\n                where p.id = :productId&quot;)\r\n        List&lt;Tag&gt; getTags(@Param(&quot;productId&quot;) Long productId);\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-many-to-many\r\n  [2]: https://stackoverflow.com/questions/50452929/spring-data-jpa-many-to-many-query","title":"Relationship between Product and Tag and its custom query","body":"<p>Answering your first question, yes. Here's an <a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">article</a> on @ManyToMany in Jpa. There you can find different ways to describe a many-to-many relationship to between your entities. In short, here's the approximate code:</p>\n<p>In <strong>Product</strong></p>\n<pre><code>@ManyToMany\n@JoinTable(\n// the name of the intermediate table for many-to-many\nname = &quot;product_to_tag&quot;,\n// the foreign key column in the intermediate table, that references \n// current entity(product)\njoinColumns = @JoinColumn(name = &quot;product_id&quot;),\n// the foreign key column in the intermediate table, that references the \n// other entity(tag)\ninverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\nprivate List&lt;Tag&gt; tags;\n</code></pre>\n<p>In <strong>Tag</strong></p>\n<pre><code>@ManyToMany(mappedBy = &quot;tags&quot;)\nprivate List&lt;Product&gt; products;\n</code></pre>\n<p>Answering your second question, there's a similar <a href=\"https://stackoverflow.com/questions/50452929/spring-data-jpa-many-to-many-query\">thread</a> which will help you. Here's the answer in short as well:</p>\n<pre><code>public interface TagRepository extends JpaRepository&lt;Tag, Long&gt; {\n    @Query(&quot;select t from Tag t \n            join fetch t.products p \n            where p.id = :productId&quot;)\n    List&lt;Tag&gt; getTags(@Param(&quot;productId&quot;) Long productId);\n}\n</code></pre>\n"}],"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660052583,"creation_date":1660050081,"question_id":73292284,"body_markdown":"I am trying to create a relationship between **Product** and **Tag**. Each Product can have **multiple** Tags and each Tag can be **assigned to multiple** Products. For example, a red t-shirt can have a &quot;T-shirt&quot; tag and a &quot;Red color&quot; tag, but likewise a white t-shirt can also have a &quot;T-shirt&quot; tag.\r\n\r\n**Two questions:**\r\n\r\n**First question:** Is it correct to use ManyToMany for this relationship?\r\n\r\n**Second question:** How can I create a custom query if I want to get all the Tags of a particular product?\r\nFor example:\r\n*GET /product/{productID}/tags* -&gt; returns all tags of a product by its ID.\r\n\r\n\r\n    public class Product {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \tprivate String productName;\r\n    \t@ManyToMany\r\n    \tprivate List&lt;Tag&gt; tag;\r\n    }\r\n    \r\n    public class Tag{\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \tprivate String tagName;\r\n    \t@ManyToMany\r\n    \tprivate List&lt;Product&gt; product;\r\n    }\r\n    \r\n    public interface ProductRepository extends JpaRepository&lt;Product, Long&gt;{\r\n    \t//There should be the custom query that returns all Tags that are assigned to specific product (by product ID)\r\n    }","title":"Relationship between Product and Tag and its custom query","body":"<p>I am trying to create a relationship between <strong>Product</strong> and <strong>Tag</strong>. Each Product can have <strong>multiple</strong> Tags and each Tag can be <strong>assigned to multiple</strong> Products. For example, a red t-shirt can have a &quot;T-shirt&quot; tag and a &quot;Red color&quot; tag, but likewise a white t-shirt can also have a &quot;T-shirt&quot; tag.</p>\n<p><strong>Two questions:</strong></p>\n<p><strong>First question:</strong> Is it correct to use ManyToMany for this relationship?</p>\n<p><strong>Second question:</strong> How can I create a custom query if I want to get all the Tags of a particular product?\nFor example:\n<em>GET /product/{productID}/tags</em> -&gt; returns all tags of a product by its ID.</p>\n<pre><code>public class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String productName;\n    @ManyToMany\n    private List&lt;Tag&gt; tag;\n}\n\npublic class Tag{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String tagName;\n    @ManyToMany\n    private List&lt;Product&gt; product;\n}\n\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt;{\n    //There should be the custom query that returns all Tags that are assigned to specific product (by product ID)\n}\n</code></pre>\n"},{"tags":["java","jax-rs","quarkus","resteasy","server-sent-events"],"comments":[{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1658859610,"post_id":73112872,"comment_id":129155384,"body_markdown":"I found a [ServerSentEvent](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/ServerSentEvent.html) implementation for Spring, but I&#39;d like to go with Quarkus and not Spring.","body":"I found a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/ServerSentEvent.html\" rel=\"nofollow noreferrer\">ServerSentEvent</a> implementation for Spring, but I&#39;d like to go with Quarkus and not Spring."}],"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660052462,"creation_date":1658768486,"question_id":73112872,"body_markdown":"I would like to send comments from a [quarkus][1] server to a [server-sent event][2] client as a keepalive.  \r\nThe specification of [SSE][2] (Server Side Event) defines an event to consist of any combination of `comment` or `field`.  \r\nI don&#39;t see any way to just send a comment. There&#39;s a [`OutboundSseEventImpl`][4] available, in the current version of the `resteasy-reactive` dependency, but if I send one with only the `comment` property given, I get a `data`-field with a big JSON containing the given `comment` as a key.\r\n\r\nWhat I want to send out is something like this:\r\n\r\n - Avery 30 seconds (or perhaps 60 seconds) I sent our a `keepalive` comment.\r\n - When ever there&#39;s new data available, it&#39;s sent directly.\r\n\r\nIt could look like this:\r\n\r\n    data: {&quot;some&quot;: &quot;data&quot;}\r\n\r\n    data: {&quot;other&quot;: &quot;data&quot;}\r\n\r\n    :keepalive\r\n\r\n    :keepalive\r\n\r\nIs there a way to sent out comments?\r\n\r\nIt looks to me, like this is not (yet?) implemented. Perhaps this is also not a [Quarkus][1] question, but a [RESTEasy][5]- or a [JAX-RS][6]-one, as those libraries are used by [Quarkus][1].\r\n\r\n  [1]: https://quarkus.io/\r\n  [2]: https://quarkus.io/guides/resteasy-reactive#server-sent-event-sse-support\r\n  [3]: https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events\r\n  [4]: https://github.com/quarkusio/quarkus/blob/2.11.0.Final/independent-projects/resteasy-reactive/server/runtime/src/main/java/org/jboss/resteasy/reactive/server/jaxrs/OutboundSseEventImpl.java\r\n  [5]: https://resteasy.dev/\r\n  [6]: https://www.jcp.org/en/jsr/detail?id=311","title":"Server Sent Event Comment with Quarkus/RestEasy/javax-ws","body":"<p>I would like to send comments from a <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">quarkus</a> server to a <a href=\"https://quarkus.io/guides/resteasy-reactive#server-sent-event-sse-support\" rel=\"nofollow noreferrer\">server-sent event</a> client as a keepalive.<br />\nThe specification of <a href=\"https://quarkus.io/guides/resteasy-reactive#server-sent-event-sse-support\" rel=\"nofollow noreferrer\">SSE</a> (Server Side Event) defines an event to consist of any combination of <code>comment</code> or <code>field</code>.<br />\nI don't see any way to just send a comment. There's a <a href=\"https://github.com/quarkusio/quarkus/blob/2.11.0.Final/independent-projects/resteasy-reactive/server/runtime/src/main/java/org/jboss/resteasy/reactive/server/jaxrs/OutboundSseEventImpl.java\" rel=\"nofollow noreferrer\"><code>OutboundSseEventImpl</code></a> available, in the current version of the <code>resteasy-reactive</code> dependency, but if I send one with only the <code>comment</code> property given, I get a <code>data</code>-field with a big JSON containing the given <code>comment</code> as a key.</p>\n<p>What I want to send out is something like this:</p>\n<ul>\n<li>Avery 30 seconds (or perhaps 60 seconds) I sent our a <code>keepalive</code> comment.</li>\n<li>When ever there's new data available, it's sent directly.</li>\n</ul>\n<p>It could look like this:</p>\n<pre><code>data: {&quot;some&quot;: &quot;data&quot;}\n\ndata: {&quot;other&quot;: &quot;data&quot;}\n\n:keepalive\n\n:keepalive\n</code></pre>\n<p>Is there a way to sent out comments?</p>\n<p>It looks to me, like this is not (yet?) implemented. Perhaps this is also not a <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a> question, but a <a href=\"https://resteasy.dev/\" rel=\"nofollow noreferrer\">RESTEasy</a>- or a <a href=\"https://www.jcp.org/en/jsr/detail?id=311\" rel=\"nofollow noreferrer\">JAX-RS</a>-one, as those libraries are used by <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a>.</p>\n"},{"tags":["java","spring","maven","spring-boot","weblogic12c"],"comments":[{"owner":{"account_id":1763573,"reputation":6131,"user_id":1610005,"display_name":"kj007"},"score":0,"creation_date":1538627309,"post_id":52638795,"comment_id":92210603,"body_markdown":"Try to exclude tomcat from web dependency and as you are deploying on webkogic so I think also need to remove tomcat dependency","body":"Try to exclude tomcat from web dependency and as you are deploying on webkogic so I think also need to remove tomcat dependency"},{"owner":{"account_id":14378703,"reputation":171,"user_id":10386528,"display_name":"kuti"},"score":0,"creation_date":1538627455,"post_id":52638795,"comment_id":92210643,"body_markdown":"I’ve given scope as “provided” which tells not to include tomcat related jars. I don’t think so that is the issue","body":"I’ve given scope as “provided” which tells not to include tomcat related jars. I don’t think so that is the issue"},{"owner":{"account_id":1763573,"reputation":6131,"user_id":1610005,"display_name":"kj007"},"score":0,"creation_date":1538627561,"post_id":52638795,"comment_id":92210671,"body_markdown":"Tomcat has to excluded I believe in web dependency otherwise it will be conflict with tomcat provided scope","body":"Tomcat has to excluded I believe in web dependency otherwise it will be conflict with tomcat provided scope"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1538632126,"post_id":52638795,"comment_id":92211991,"body_markdown":"Remove the `dispatcher-servlet.xml`. Ditch your `ServletInitializer` and simply let the `DemoSpringBootApplication` extend `SpringBootServletInitializer`. You also might want to check your Weblogic logs for more information/errors.","body":"Remove the <code>dispatcher-servlet.xml</code>. Ditch your <code>ServletInitializer</code> and simply let the <code>DemoSpringBootApplication</code> extend <code>SpringBootServletInitializer</code>. You also might want to check your Weblogic logs for more information/errors."},{"owner":{"account_id":11329927,"reputation":1855,"user_id":8307755,"display_name":"Yogi"},"score":0,"creation_date":1538641650,"post_id":52638795,"comment_id":92216734,"body_markdown":"You also need to mention Start class in property, like &lt;start-class&gt;com.springboot.DemoSpringBootApplication&lt;/start-class&gt; and mentioned packaging as &#39;war&#39; in pom.xml","body":"You also need to mention Start class in property, like &lt;start-class&gt;com.springboot.DemoSpringBootApplication&lt;/start&zwnj;&#8203;-class&gt; and mentioned packaging as &#39;war&#39; in pom.xml"},{"owner":{"account_id":14378703,"reputation":171,"user_id":10386528,"display_name":"kuti"},"score":0,"creation_date":1538660596,"post_id":52638795,"comment_id":92228308,"body_markdown":"Thanks Guys. Please give me some time to implement the changes and will get back to you.","body":"Thanks Guys. Please give me some time to implement the changes and will get back to you."},{"owner":{"account_id":14378703,"reputation":171,"user_id":10386528,"display_name":"kuti"},"score":0,"creation_date":1538664918,"post_id":52638795,"comment_id":92231338,"body_markdown":"Still getting the same issue &gt;&gt; Have implemented the the following changes &gt;&gt;  `1. removed the &quot;dispatcher-servlet.xml&quot; 2. Removed the &quot;ServletInitializer.java&quot; and modified the &quot;DemoSpringBootApplication.java&quot; 3. Added the &quot;&lt;start-class&gt;com.springboot.DemoSpringBootApplication&lt;/start-class&gt; property in the pom.xml 4. removed the &quot;tomcat&quot; related depedency&quot; `","body":"Still getting the same issue &gt;&gt; Have implemented the the following changes &gt;&gt;  <code>1. removed the &quot;dispatcher-servlet.xml&quot; 2. Removed the &quot;ServletInitializer.java&quot; and modified the &quot;DemoSpringBootApplication.java&quot; 3. Added the &quot;&lt;start-class&gt;com.springboot.DemoSpringBootApplication&lt;&#47;star&zwnj;&#8203;t-class&gt; property in the pom.xml 4. removed the &quot;tomcat&quot; related depedency&quot; </code>"}],"answers":[{"tags":[],"owner":{"account_id":14378703,"reputation":171,"user_id":10386528,"display_name":"kuti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538710952,"creation_date":1538710952,"answer_id":52658052,"question_id":52638795,"body_markdown":"The issue is resolved. After adding the below property in the pom.xml :\r\n\r\n     &lt;properties&gt;\r\n      ...\r\n      &lt;log4j2.version&gt;2.8.2&lt;/log4j2.version&gt;\r\n      ...\r\n   &lt;/properties&gt;\r\n\r\nNow able to deploy to weblogic 12c.\r\n\r\n","title":"War file generated out of Spring Boot is not getting deployed to Weblogic 12c","body":"<p>The issue is resolved. After adding the below property in the pom.xml :</p>\n\n<pre><code> &lt;properties&gt;\n  ...\n  &lt;log4j2.version&gt;2.8.2&lt;/log4j2.version&gt;\n  ...\n</code></pre>\n\n<p></p>\n\n<p>Now able to deploy to weblogic 12c.</p>\n"},{"tags":[],"owner":{"account_id":25699652,"reputation":1,"user_id":19459874,"display_name":"Shinjan Khastagir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660052308,"creation_date":1660052182,"answer_id":73292803,"question_id":52638795,"body_markdown":"It&#39;s late but to those who need it,\r\nThis issue might happen due to different version of java check your java_home before you compile your code, in my case i have changed it to 11-&gt;1.8(because in my project we are using 1.8) and it works fine for me,before changing anything you can use war decompiler(jd) and check your manifest file&#39;s build jdk(if you use manifest file then you must, incase you don&#39;t need manifest file you can delete it so that you don&#39;t need to change any java_home, i hope it will work too). I think weblogic 12c complains if jdk is 1.8+ btw i am not sure about it. best way to solve trial and error.","title":"War file generated out of Spring Boot is not getting deployed to Weblogic 12c","body":"<p>It's late but to those who need it,\nThis issue might happen due to different version of java check your java_home before you compile your code, in my case i have changed it to 11-&gt;1.8(because in my project we are using 1.8) and it works fine for me,before changing anything you can use war decompiler(jd) and check your manifest file's build jdk(if you use manifest file then you must, incase you don't need manifest file you can delete it so that you don't need to change any java_home, i hope it will work too). I think weblogic 12c complains if jdk is 1.8+ btw i am not sure about it. best way to solve trial and error.</p>\n"}],"owner":{"account_id":14378703,"reputation":171,"user_id":10386528,"display_name":"kuti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3070,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660052308,"creation_date":1538625542,"question_id":52638795,"body_markdown":"I&#39;m using Spring Boot(2.0.5.RELEASE) to build a war file to deploy into weblogic 12c. I&#39;m following the below tutorial to do that :\r\n\r\nhttps://o7planning.org/en/11901/deploying-spring-boot-application-on-oracle-weblogic-server\r\n\r\nBut not able deploy in weblogic (through weblogic console), and getting below errors:\r\n\r\n    Message icon - Error Unable to access the selected application.\r\n    Message icon - Error java.io.IOException\r\n    Message icon - Error weblogic.utils.compiler.ToolFailureException\r\n\r\nAnd also observed the below error in the admin server log :\r\n\r\n    ####&lt;Oct 3, 2018 11:33:46 PM EDT&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;wloki&gt; &lt;AdminServer&gt; &lt;[ACTIVE] ExecuteThread: &#39;5&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;weblogic&gt; &lt;&gt; &lt;&gt; &lt;1538624026936&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;\r\n\r\nCould anyone help me here as where I&#39;m going wrong?\r\n\r\nMy pom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t    &lt;groupId&gt;com.springBoot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;DemoSpringBoot&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    \t&lt;name&gt;DemoSpringBoot&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    \t&lt;parent&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n\t\t    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t    &lt;/parent&gt;\r\n\r\n\t    &lt;properties&gt;\r\n\t\t    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t    &lt;/properties&gt;\r\n\r\n\t    &lt;dependencies&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\r\n\t    &lt;build&gt;\r\n\t\t    &lt;plugins&gt;\r\n\t\t\t    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n------------\r\nweblogic.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;wls:weblogic-web-app\r\n\txmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n\t\thttp://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd\r\n\t\thttp://xmlns.oracle.com/weblogic/weblogic-web-app\r\n\t\thttp://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web- \r\n     app.xsd&quot;&gt;\r\n\t&lt;wls:context-root&gt;/myweb&lt;/wls:context-root&gt;\r\n\t&lt;wls:container-descriptor&gt;\r\n\t\t&lt;wls:prefer-application-packages&gt;\r\n\t\t\t&lt;wls:package-name&gt;org.slf4j&lt;/wls:package-name&gt;\r\n\t\t\t &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\r\n\t\t&lt;/wls:prefer-application-packages&gt;\r\n\t&lt;/wls:container-descriptor&gt;\r\n    &lt;/wls:weblogic-web-app&gt;\r\n\r\n------------\r\ndispatcherServlet-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n     \r\n      &lt;/beans&gt;\r\n\r\n\r\n---------------\r\nServletInitializer.java\r\n\r\n    package com.springboot;\r\n\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    import org.springframework.web.WebApplicationInitializer;\r\n\r\n    public class ServletInitializer extends SpringBootServletInitializer \r\n                                 implements WebApplicationInitializer {\r\n\r\n\t    @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(DemoSpringBootApplication.class);\r\n        }\r\n\r\n    }\r\n\r\n-----------------\r\n\r\nDemoSpringBootApplication.java\r\n\r\n    package com.springboot;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class DemoSpringBootApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(DemoSpringBootApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\n-----------------\r\n\r\nPlease let me know if I&#39;m doing anything wrong as I&#39;m not able to progress on this.\r\n\r\nThanks.","title":"War file generated out of Spring Boot is not getting deployed to Weblogic 12c","body":"<p>I'm using Spring Boot(2.0.5.RELEASE) to build a war file to deploy into weblogic 12c. I'm following the below tutorial to do that :</p>\n\n<p><a href=\"https://o7planning.org/en/11901/deploying-spring-boot-application-on-oracle-weblogic-server\" rel=\"nofollow noreferrer\">https://o7planning.org/en/11901/deploying-spring-boot-application-on-oracle-weblogic-server</a></p>\n\n<p>But not able deploy in weblogic (through weblogic console), and getting below errors:</p>\n\n<pre><code>Message icon - Error Unable to access the selected application.\nMessage icon - Error java.io.IOException\nMessage icon - Error weblogic.utils.compiler.ToolFailureException\n</code></pre>\n\n<p>And also observed the below error in the admin server log :</p>\n\n<pre><code>####&lt;Oct 3, 2018 11:33:46 PM EDT&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;wloki&gt; &lt;AdminServer&gt; &lt;[ACTIVE] ExecuteThread: '5' for queue: 'weblogic.kernel.Default (self-tuning)'&gt; &lt;weblogic&gt; &lt;&gt; &lt;&gt; &lt;1538624026936&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;\n</code></pre>\n\n<p>Could anyone help me here as where I'm going wrong?</p>\n\n<p>My pom.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.springBoot&lt;/groupId&gt;\n    &lt;artifactId&gt;DemoSpringBoot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;DemoSpringBoot&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p>weblogic.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;wls:weblogic-web-app\nxmlns:wls=\"http://xmlns.oracle.com/weblogic/weblogic-web-app\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n    http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd\n    http://xmlns.oracle.com/weblogic/weblogic-web-app\n    http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web- \n app.xsd\"&gt;\n&lt;wls:context-root&gt;/myweb&lt;/wls:context-root&gt;\n&lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n        &lt;wls:package-name&gt;org.slf4j&lt;/wls:package-name&gt;\n         &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n&lt;/wls:container-descriptor&gt;\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n\n<hr>\n\n<p>dispatcherServlet-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n   &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n   http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n  &lt;/beans&gt;\n</code></pre>\n\n<hr>\n\n<p>ServletInitializer.java</p>\n\n<pre><code>package com.springboot;\n\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.web.WebApplicationInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer \n                             implements WebApplicationInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(DemoSpringBootApplication.class);\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>DemoSpringBootApplication.java</p>\n\n<pre><code>package com.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoSpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoSpringBootApplication.class, args);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Please let me know if I'm doing anything wrong as I'm not able to progress on this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","null","java-stream","option-type"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1660049953,"post_id":73292224,"comment_id":129436792,"body_markdown":"I&#39;m not up on `Optional` idioms so won&#39;t post an *answer*, but if you&#39;re looking for a single statement rather than an `if`/`else`, you don&#39;t need `Optional` for that: `userData.setFees(userData.getSubscription() == null ? Enum.ZERO : Enum.HUNDRED);` Easier to debug, though, with the `if`/`else` or at least two statements: `Enum fees = userData.getSubscription() == null ? Enum.ZERO : Enum.HUNDRED; userData.setFees(fees);`","body":"I&#39;m not up on <code>Optional</code> idioms so won&#39;t post an <i>answer</i>, but if you&#39;re looking for a single statement rather than an <code>if</code>/<code>else</code>, you don&#39;t need <code>Optional</code> for that: <code>userData.setFees(userData.getSubscription() == null ? Enum.ZERO : Enum.HUNDRED);</code> Easier to debug, though, with the <code>if</code>/<code>else</code> or at least two statements: <code>Enum fees = userData.getSubscription() == null ? Enum.ZERO : Enum.HUNDRED; userData.setFees(fees);</code>"}],"answers":[{"tags":[],"owner":{"account_id":3082985,"reputation":54173,"user_id":2610810,"display_name":"Caleth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660050440,"creation_date":1660050440,"answer_id":73292374,"question_id":73292224,"body_markdown":"You could do something like\r\n\r\n    Optional::ofNullable(userData.getSubscription()).map(any -&gt; Enum.HUNDRED).orElse(Enum.ZERO);\r\n\r\nHowever I don&#39;t see much benefit to that over @T.J. Crowder&#39;s suggestion from the comments\r\n\r\n    userData.getSubscription() == null ? Enum.ZERO : Enum.HUNDRED","title":"Use Optional instead of null check","body":"<p>You could do something like</p>\n<pre><code>Optional::ofNullable(userData.getSubscription()).map(any -&gt; Enum.HUNDRED).orElse(Enum.ZERO);\n</code></pre>\n<p>However I don't see much benefit to that over @T.J. Crowder's suggestion from the comments</p>\n<pre><code>userData.getSubscription() == null ? Enum.ZERO : Enum.HUNDRED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26018942,"reputation":16,"user_id":19726901,"display_name":"Dominik Pawłowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660051242,"creation_date":1660051242,"answer_id":73292579,"question_id":73292224,"body_markdown":"Maybe you want:\r\n`userData.setFees(Objects.isNull(userData.getSubscription()) ? Enum.ZERO : Enum.HUNDRED)`","title":"Use Optional instead of null check","body":"<p>Maybe you want:\n<code>userData.setFees(Objects.isNull(userData.getSubscription()) ? Enum.ZERO : Enum.HUNDRED)</code></p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660052284,"creation_date":1660052284,"answer_id":73292833,"question_id":73292224,"body_markdown":"The main use of `Optional` is to prevent you from forgetting to check for `null`. Thus, it would only be useful if the `Optional` type was returned from `getSubscription()`. Then you could do:\r\n\r\n    userData.setFees(userData.getSubscription().map(x -&gt; Enum.HUNDRED).orElse(Enum.ZERO));\r\n\r\nBut if you can&#39;t or don&#39;t want to change `getSubscription()` to return `Optional`, then there is no point in using `Optional` here. Just do this:\r\n\r\n    userData.setFees(userData.getSubscription() == NULL ? Enum.ZERO : Enum.HUNDRED);\r\n\r\nBy the way, if `Enum.ZERO` and `Enum.HUNDRED` are just names representing 0 and 100, then that&#39;s not a good idea. The words &quot;ZERO&quot; and &quot;HUNDRED&quot; are just as much a &quot;magic number&quot; as the numbers 0 and 100 themselves. You should name your enums something descriptive like &quot;FREE_OF_CHARGE&quot; and &quot;FULL_PRICE&quot;.","title":"Use Optional instead of null check","body":"<p>The main use of <code>Optional</code> is to prevent you from forgetting to check for <code>null</code>. Thus, it would only be useful if the <code>Optional</code> type was returned from <code>getSubscription()</code>. Then you could do:</p>\n<pre><code>userData.setFees(userData.getSubscription().map(x -&gt; Enum.HUNDRED).orElse(Enum.ZERO));\n</code></pre>\n<p>But if you can't or don't want to change <code>getSubscription()</code> to return <code>Optional</code>, then there is no point in using <code>Optional</code> here. Just do this:</p>\n<pre><code>userData.setFees(userData.getSubscription() == NULL ? Enum.ZERO : Enum.HUNDRED);\n</code></pre>\n<p>By the way, if <code>Enum.ZERO</code> and <code>Enum.HUNDRED</code> are just names representing 0 and 100, then that's not a good idea. The words &quot;ZERO&quot; and &quot;HUNDRED&quot; are just as much a &quot;magic number&quot; as the numbers 0 and 100 themselves. You should name your enums something descriptive like &quot;FREE_OF_CHARGE&quot; and &quot;FULL_PRICE&quot;.</p>\n"}],"owner":{"account_id":17274668,"reputation":3,"user_id":12509544,"display_name":"Vashist Raghav Sayani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73292579,"answer_count":3,"score":0,"last_activity_date":1660052284,"creation_date":1660049780,"question_id":73292224,"body_markdown":"I have to check if an attribute of an object is null or not. Depending on the above check I have to update another attribute in the same object. Is it possible to use Optional class and its methods to replace null checks?\r\n\r\n````\r\nif(userData.getSubscription()==null){\r\n    userData.setFees(Enum.ZERO);\r\n} else {\r\n    userData.setFees(Enum.HUNDRED);\r\n}\r\n````\r\nLet me know if this can be replaced with a single line using Java 8 Optional class or other features.","title":"Use Optional instead of null check","body":"<p>I have to check if an attribute of an object is null or not. Depending on the above check I have to update another attribute in the same object. Is it possible to use Optional class and its methods to replace null checks?</p>\n<pre><code>if(userData.getSubscription()==null){\n    userData.setFees(Enum.ZERO);\n} else {\n    userData.setFees(Enum.HUNDRED);\n}\n</code></pre>\n<p>Let me know if this can be replaced with a single line using Java 8 Optional class or other features.</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11619749,"reputation":171,"user_id":8511385,"display_name":"Deepesh Dagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660052003,"creation_date":1660052003,"answer_id":73292762,"question_id":73291694,"body_markdown":"Where LineLength goes in check style file depends on the Checkstyle version. Checkstyle 8.24 and higher: directly under Checker; Checkstyle &lt; 8.24: under TreeWalker.\r\n\r\nAs per build.gradle file, the checkstyle version used is 7.1.1 \r\n\r\n    checkstyle {\r\n            configFile rootProject.file(&#39;checkstyle.xml&#39;)\r\n            toolVersion &#39;7.1.1&#39;\r\n        }","title":"gradle build with checkstyle &quot;Unable to create a Checker&quot; error","body":"<p>Where LineLength goes in check style file depends on the Checkstyle version. Checkstyle 8.24 and higher: directly under Checker; Checkstyle &lt; 8.24: under TreeWalker.</p>\n<p>As per build.gradle file, the checkstyle version used is 7.1.1</p>\n<pre><code>checkstyle {\n        configFile rootProject.file('checkstyle.xml')\n        toolVersion '7.1.1'\n    }\n</code></pre>\n"}],"owner":{"account_id":10560713,"reputation":97,"user_id":7780575,"display_name":"Azmat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73292762,"answer_count":1,"score":1,"last_activity_date":1660052003,"creation_date":1660047540,"question_id":73291694,"body_markdown":"I&#39;m working with a `gradle` Java project where another user has enabled the `checkstyle` plugin. Unfortunately, this addition breaks our ability to build from the CLI (a&#39;la `gradle build`). For some reason, however, we are still able to build internally in IntelliJ (2021.2 Community Ed).\r\n\r\nI&#39;m building with `gradle` version 4.10.2. Below is a snippet from my `build.gradle` where we enable `checkstyle`.\r\n\r\n```\r\nsubprojects { project -&gt;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;groovy&#39;\r\n    apply plugin: &#39;checkstyle&#39;\r\n\r\n...\r\n\r\n    checkstyle {\r\n        configFile rootProject.file(&#39;checkstyle.xml&#39;)\r\n        toolVersion &#39;7.1.1&#39;\r\n    }\r\n...\r\n```\r\n\r\nI&#39;ve checked the compatibility guide [here](https://checkstyle-addons.thomasjensen.com/checkstyle-compatibility-matrix.html?hl=L[g];L8.12;L6.19;L5.9;L5.7-L5.5). According to this, I should be able to use this version.\r\n\r\nUnfortunately though, my build fails when I try to `gradle build` with the following error:\r\n```\r\n&gt; Task :cache:checkstyleMain FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:cache:checkstyleMain&#39;.\r\n&gt; Unable to create a Checker: configLocation {&lt;REDACTED&gt;}, classpath {&lt;REDACTED&gt;}.\r\n```\r\n\r\nWithin my `checkstyle.xml`, I have the following structure:\r\n```\r\n&lt;module name=&quot;Checker&quot;&gt;\r\n\r\n    &lt;module name=&quot;FileTabCharacter&quot;&gt;\r\n        &lt;property name=&quot;eachLine&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/module&gt;\r\n    &lt;module name=&quot;LineLength&quot;&gt;\r\n        &lt;property name=&quot;max&quot; value=&quot;150&quot;/&gt;\r\n        &lt;property name=&quot;ignorePattern&quot; value=&quot;^package.*|^import.*|a href|href|http://|https://|ftp://&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\n    &lt;module name=&quot;TreeWalker&quot;&gt;\r\n...\r\n```\r\n\r\nThe strange thing is that when I move the `LineLength` block under `TreeWalker` as the parent, the error goes away and `checkstyle` appears to work fine from both CLI and IDE.  I got the idea from [this post](https://stackoverflow.com/a/60549449/7780575), however this change in `checkstyle` behavior should have been introduced into 8.24 and should not be required for the version I&#39;m trying to use.\r\n\r\nAny ideas why `checkstyle` would be behaving this way?\r\n","title":"gradle build with checkstyle &quot;Unable to create a Checker&quot; error","body":"<p>I'm working with a <code>gradle</code> Java project where another user has enabled the <code>checkstyle</code> plugin. Unfortunately, this addition breaks our ability to build from the CLI (a'la <code>gradle build</code>). For some reason, however, we are still able to build internally in IntelliJ (2021.2 Community Ed).</p>\n<p>I'm building with <code>gradle</code> version 4.10.2. Below is a snippet from my <code>build.gradle</code> where we enable <code>checkstyle</code>.</p>\n<pre><code>subprojects { project -&gt;\n    apply plugin: 'java'\n    apply plugin: 'groovy'\n    apply plugin: 'checkstyle'\n\n...\n\n    checkstyle {\n        configFile rootProject.file('checkstyle.xml')\n        toolVersion '7.1.1'\n    }\n...\n</code></pre>\n<p>I've checked the compatibility guide <a href=\"https://checkstyle-addons.thomasjensen.com/checkstyle-compatibility-matrix.html?hl=L%5Bg%5D;L8.12;L6.19;L5.9;L5.7-L5.5\" rel=\"nofollow noreferrer\">here</a>. According to this, I should be able to use this version.</p>\n<p>Unfortunately though, my build fails when I try to <code>gradle build</code> with the following error:</p>\n<pre><code>&gt; Task :cache:checkstyleMain FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':cache:checkstyleMain'.\n&gt; Unable to create a Checker: configLocation {&lt;REDACTED&gt;}, classpath {&lt;REDACTED&gt;}.\n</code></pre>\n<p>Within my <code>checkstyle.xml</code>, I have the following structure:</p>\n<pre><code>&lt;module name=&quot;Checker&quot;&gt;\n\n    &lt;module name=&quot;FileTabCharacter&quot;&gt;\n        &lt;property name=&quot;eachLine&quot; value=&quot;true&quot;/&gt;\n    &lt;/module&gt;\n    &lt;module name=&quot;LineLength&quot;&gt;\n        &lt;property name=&quot;max&quot; value=&quot;150&quot;/&gt;\n        &lt;property name=&quot;ignorePattern&quot; value=&quot;^package.*|^import.*|a href|href|http://|https://|ftp://&quot;/&gt;\n    &lt;/module&gt;\n\n    &lt;module name=&quot;TreeWalker&quot;&gt;\n...\n</code></pre>\n<p>The strange thing is that when I move the <code>LineLength</code> block under <code>TreeWalker</code> as the parent, the error goes away and <code>checkstyle</code> appears to work fine from both CLI and IDE.  I got the idea from <a href=\"https://stackoverflow.com/a/60549449/7780575\">this post</a>, however this change in <code>checkstyle</code> behavior should have been introduced into 8.24 and should not be required for the version I'm trying to use.</p>\n<p>Any ideas why <code>checkstyle</code> would be behaving this way?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":410120,"reputation":953,"user_id":2278151,"accept_rate":100,"display_name":"NorthGuard"},"score":0,"creation_date":1308603728,"post_id":6417435,"comment_id":7527851,"body_markdown":"Can you be sure it&#39;s the last thing in the string? If so just use the end of line anchor $ `/(num ([0-9]+)$/`, however that translates into java.","body":"Can you be sure it&#39;s the last thing in the string? If so just use the end of line anchor $ <code>&#47;(num ([0-9]+)$&#47;</code>, however that translates into java."},{"owner":{"account_id":140518,"reputation":1243,"user_id":346899,"accept_rate":82,"display_name":"s106mo"},"score":0,"creation_date":1308603960,"post_id":6417435,"comment_id":7527913,"body_markdown":"You could write a recursive method, but I doubt that it makes sense.","body":"You could write a recursive method, but I doubt that it makes sense."}],"answers":[{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308606735,"creation_date":1308603784,"answer_id":6417487,"question_id":6417435,"body_markdown":"Java does not provide such a mechanism.  The only thing I can suggest would be a binary search for the last index.\r\n\r\nIt would be something like this:\r\n\r\n    N = haystack.length();\r\n    if ( matcher.find(N/2) ) {\r\n        recursively try right side\r\n    else\r\n        recursively try left side\r\n\r\nEdit\r\n---\r\n\r\nAnd here&#39;s code that does it since I found it to be an interesting problem:\r\n\r\n    import org.junit.Test;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    public class RecursiveFind {\r\n        @Test\r\n        public void testFindLastIndexOf() {\r\n            assertEquals(0, findLastIndexOf(&quot;abcdddddd&quot;, &quot;abc&quot;));\r\n            assertEquals(1, findLastIndexOf(&quot;dabcdddddd&quot;, &quot;abc&quot;));\r\n            assertEquals(4, findLastIndexOf(&quot;aaaaabc&quot;, &quot;abc&quot;));\r\n            assertEquals(4, findLastIndexOf(&quot;aaaaabc&quot;, &quot;a+b&quot;));\r\n            assertEquals(6, findLastIndexOf(&quot;aabcaaabc&quot;, &quot;a+b&quot;));\r\n            assertEquals(2, findLastIndexOf(&quot;abcde&quot;, &quot;c&quot;));\r\n            assertEquals(2, findLastIndexOf(&quot;abcdef&quot;, &quot;c&quot;));\r\n            assertEquals(2, findLastIndexOf(&quot;abcd&quot;, &quot;c&quot;));\r\n        }\r\n    \r\n        public static int findLastIndexOf(String haystack, String needle) {\r\n            return findLastIndexOf(0, haystack.length(), Pattern.compile(needle).matcher(haystack));\r\n        }\r\n    \r\n        private static int findLastIndexOf(int start, int end, Matcher m) {\r\n            if ( start &gt; end ) {\r\n                return -1;\r\n            }\r\n    \r\n            int pivot = ((end-start) / 2) + start;\r\n            if ( m.find(pivot) ) {\r\n                //recurse on right side\r\n                return findLastIndexOfRecurse(end, m);\r\n            } else if (m.find(start)) {\r\n                //recurse on left side\r\n                return findLastIndexOfRecurse(pivot, m);\r\n            } else {\r\n                //not found at all between start and end\r\n                return -1;\r\n            }\r\n        }\r\n    \r\n        private static int findLastIndexOfRecurse(int end, Matcher m) {\r\n            int foundIndex = m.start();\r\n            int recurseIndex = findLastIndexOf(foundIndex + 1, end, m);\r\n            if ( recurseIndex == -1 ) {\r\n                return foundIndex;\r\n            } else {\r\n                return recurseIndex;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nI haven&#39;t found a breaking test case yet.\r\n","title":"Find the last match with Java regex matcher","body":"<p>Java does not provide such a mechanism.  The only thing I can suggest would be a binary search for the last index.</p>\n\n<p>It would be something like this:</p>\n\n<pre><code>N = haystack.length();\nif ( matcher.find(N/2) ) {\n    recursively try right side\nelse\n    recursively try left side\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>And here's code that does it since I found it to be an interesting problem:</p>\n\n<pre><code>import org.junit.Test;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport static org.junit.Assert.assertEquals;\n\npublic class RecursiveFind {\n    @Test\n    public void testFindLastIndexOf() {\n        assertEquals(0, findLastIndexOf(\"abcdddddd\", \"abc\"));\n        assertEquals(1, findLastIndexOf(\"dabcdddddd\", \"abc\"));\n        assertEquals(4, findLastIndexOf(\"aaaaabc\", \"abc\"));\n        assertEquals(4, findLastIndexOf(\"aaaaabc\", \"a+b\"));\n        assertEquals(6, findLastIndexOf(\"aabcaaabc\", \"a+b\"));\n        assertEquals(2, findLastIndexOf(\"abcde\", \"c\"));\n        assertEquals(2, findLastIndexOf(\"abcdef\", \"c\"));\n        assertEquals(2, findLastIndexOf(\"abcd\", \"c\"));\n    }\n\n    public static int findLastIndexOf(String haystack, String needle) {\n        return findLastIndexOf(0, haystack.length(), Pattern.compile(needle).matcher(haystack));\n    }\n\n    private static int findLastIndexOf(int start, int end, Matcher m) {\n        if ( start &gt; end ) {\n            return -1;\n        }\n\n        int pivot = ((end-start) / 2) + start;\n        if ( m.find(pivot) ) {\n            //recurse on right side\n            return findLastIndexOfRecurse(end, m);\n        } else if (m.find(start)) {\n            //recurse on left side\n            return findLastIndexOfRecurse(pivot, m);\n        } else {\n            //not found at all between start and end\n            return -1;\n        }\n    }\n\n    private static int findLastIndexOfRecurse(int end, Matcher m) {\n        int foundIndex = m.start();\n        int recurseIndex = findLastIndexOf(foundIndex + 1, end, m);\n        if ( recurseIndex == -1 ) {\n            return foundIndex;\n        } else {\n            return recurseIndex;\n        }\n    }\n\n}\n</code></pre>\n\n<p>I haven't found a breaking test case yet.</p>\n"},{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1518347495,"creation_date":1308604275,"answer_id":6417576,"question_id":6417435,"body_markdown":"You could prepend `.*` to your regex, which will [greedily](https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions) consume all characters up to the last match:\r\n\r\n    import java.util.regex.*;\r\n     \r\n    class Test {\r\n      public static void main (String[] args) {\r\n        String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n        Pattern p = Pattern.compile(&quot;.*num ([0-9]+)&quot;);\r\n        Matcher m = p.matcher(in);\r\n        if(m.find()) {\r\n          System.out.println(m.group(1));\r\n        }\r\n      }\r\n    }\r\n\r\nPrints:\r\n\r\n    2134\r\n\r\nYou could also reverse the string as well as change your regex to match the reverse instead:\r\n\r\n    import java.util.regex.*;\r\n     \r\n    class Test {\r\n      public static void main (String[] args) {\r\n        String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n        Pattern p = Pattern.compile(&quot;([0-9]+) mun&quot;);\r\n        Matcher m = p.matcher(new StringBuilder(in).reverse());\r\n        if(m.find()) {\r\n          System.out.println(new StringBuilder(m.group(1)).reverse());\r\n        }\r\n      }\r\n    }\r\n\r\nBut neither solution is better than just looping through all matches using `while (m.find())`, IMO.\r\n","title":"Find the last match with Java regex matcher","body":"<p>You could prepend <code>.*</code> to your regex, which will <a href=\"https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions\">greedily</a> consume all characters up to the last match:</p>\n\n<pre><code>import java.util.regex.*;\n\nclass Test {\n  public static void main (String[] args) {\n    String in = \"num 123 num 1 num 698 num 19238 num 2134\";\n    Pattern p = Pattern.compile(\".*num ([0-9]+)\");\n    Matcher m = p.matcher(in);\n    if(m.find()) {\n      System.out.println(m.group(1));\n    }\n  }\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>2134\n</code></pre>\n\n<p>You could also reverse the string as well as change your regex to match the reverse instead:</p>\n\n<pre><code>import java.util.regex.*;\n\nclass Test {\n  public static void main (String[] args) {\n    String in = \"num 123 num 1 num 698 num 19238 num 2134\";\n    Pattern p = Pattern.compile(\"([0-9]+) mun\");\n    Matcher m = p.matcher(new StringBuilder(in).reverse());\n    if(m.find()) {\n      System.out.println(new StringBuilder(m.group(1)).reverse());\n    }\n  }\n}\n</code></pre>\n\n<p>But neither solution is better than just looping through all matches using <code>while (m.find())</code>, IMO.</p>\n"},{"tags":[],"owner":{"account_id":267053,"reputation":29694,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1308606024,"creation_date":1308606024,"answer_id":6417899,"question_id":6417435,"body_markdown":"Why not keep it simple?\r\n\r\n    in.replaceAll(&quot;.*[^\\\\d](\\\\d+).*&quot;, &quot;$1&quot;)","title":"Find the last match with Java regex matcher","body":"<p>Why not keep it simple?</p>\n\n<pre><code>in.replaceAll(\".*[^\\\\d](\\\\d+).*\", \"$1\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142862,"reputation":5733,"user_id":350836,"accept_rate":71,"display_name":"krico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308606626,"creation_date":1308606626,"answer_id":6417990,"question_id":6417435,"body_markdown":"Java patterns are greedy by default, the following should do it.\r\n\r\n        String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n        Pattern p = Pattern.compile( &quot;.*num ([0-9]+).*$&quot; );\r\n        Matcher m = p.matcher( in );\r\n\r\n        if ( m.matches() )\r\n        {\r\n            System.out.println( m.group( 1 ));\r\n        }","title":"Find the last match with Java regex matcher","body":"<p>Java patterns are greedy by default, the following should do it.</p>\n\n<pre><code>    String in = \"num 123 num 1 num 698 num 19238 num 2134\";\n    Pattern p = Pattern.compile( \".*num ([0-9]+).*$\" );\n    Matcher m = p.matcher( in );\n\n    if ( m.matches() )\n    {\n        System.out.println( m.group( 1 ));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267986,"reputation":10096,"user_id":556493,"display_name":"yingted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339949564,"creation_date":1339949564,"answer_id":11072826,"question_id":6417435,"body_markdown":"Regular expressions are greedy:\r\n\r\n    Matcher m=Pattern.compile(&quot;.*num &#39;([0-9]+) &quot;,Pattern.DOTALL).matcher(&quot;num 123 num 1 num 698 num 19238 num 2134&quot;);\r\n\r\nwill give you a `Matcher` for the last match, and you can apply it to most regexes by prepending &quot;.*&quot;. Of course, if you can&#39;t use `DOTALL`, you might want to use `(?:\\d|\\D)` or something similar as your wildcard.","title":"Find the last match with Java regex matcher","body":"<p>Regular expressions are greedy:</p>\n\n<pre><code>Matcher m=Pattern.compile(\".*num '([0-9]+) \",Pattern.DOTALL).matcher(\"num 123 num 1 num 698 num 19238 num 2134\");\n</code></pre>\n\n<p>will give you a <code>Matcher</code> for the last match, and you can apply it to most regexes by prepending \".*\". Of course, if you can't use <code>DOTALL</code>, you might want to use <code>(?:\\d|\\D)</code> or something similar as your wildcard.</p>\n"},{"tags":[],"owner":{"account_id":472217,"reputation":603,"user_id":880557,"display_name":"Bradley M Handy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351112615,"creation_date":1351112615,"answer_id":13057700,"question_id":6417435,"body_markdown":"This seems like a more equally plausible approach.\r\n\r\n        public class LastMatchTest {\r\n            public static void main(String[] args) throws Exception {\r\n                String target = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n                Pattern regex = Pattern.compile(&quot;(?:.*?num.*?(\\\\d+))+&quot;);\r\n                Matcher regexMatcher = regex.matcher(target);\r\n        \r\n                if (regexMatcher.find()) {\r\n                    System.out.println(regexMatcher.group(1));\r\n                }\r\n            }\r\n        }\r\n\r\nThe `.*?` is a reluctant match so it won&#39;t gobble up everything.  The `?:` forces a non-capturing group so the inner group is group 1.  Matching multiples in a greedy fashion causes it to match across the entire string until all matches are exhausted leaving group 1 with the value of your last match.","title":"Find the last match with Java regex matcher","body":"<p>This seems like a more equally plausible approach.</p>\n\n<pre><code>    public class LastMatchTest {\n        public static void main(String[] args) throws Exception {\n            String target = \"num 123 num 1 num 698 num 19238 num 2134\";\n            Pattern regex = Pattern.compile(\"(?:.*?num.*?(\\\\d+))+\");\n            Matcher regexMatcher = regex.matcher(target);\n\n            if (regexMatcher.find()) {\n                System.out.println(regexMatcher.group(1));\n            }\n        }\n    }\n</code></pre>\n\n<p>The <code>.*?</code> is a reluctant match so it won't gobble up everything.  The <code>?:</code> forces a non-capturing group so the inner group is group 1.  Matching multiples in a greedy fashion causes it to match across the entire string until all matches are exhausted leaving group 1 with the value of your last match.</p>\n"},{"tags":[],"owner":{"account_id":2146641,"reputation":154,"user_id":1904126,"display_name":"Norman Se&#223;ler"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357304191,"creation_date":1357304191,"answer_id":14157615,"question_id":6417435,"body_markdown":"    String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;  \r\n    Pattern p = Pattern.compile(&quot;num &#39;([0-9]+) &quot;);  \r\n    Matcher m = p.matcher(in);  \r\n    String result = &quot;&quot;;\r\n\r\n    while (m.find())\r\n    {\r\n         result = m.group(1);\r\n    }","title":"Find the last match with Java regex matcher","body":"<pre><code>String in = \"num 123 num 1 num 698 num 19238 num 2134\";  \nPattern p = Pattern.compile(\"num '([0-9]+) \");  \nMatcher m = p.matcher(in);  \nString result = \"\";\n\nwhile (m.find())\n{\n     result = m.group(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":351770,"reputation":576,"user_id":688450,"display_name":"araut"},"down_vote_count":6,"up_vote_count":21,"is_accepted":false,"score":15,"last_activity_date":1366844881,"creation_date":1366844881,"answer_id":16203747,"question_id":6417435,"body_markdown":"To get the last match even this works and not sure why this was not mentioned earlier:\r\n\r\n    String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n    Pattern p = Pattern.compile(&quot;num &#39;([0-9]+) &quot;);\r\n    Matcher m = p.matcher(in);\r\n    if (m.find()) {\r\n      in= m.group(m.groupCount());\r\n    }","title":"Find the last match with Java regex matcher","body":"<p>To get the last match even this works and not sure why this was not mentioned earlier:</p>\n\n<pre><code>String in = \"num 123 num 1 num 698 num 19238 num 2134\";\nPattern p = Pattern.compile(\"num '([0-9]+) \");\nMatcher m = p.matcher(in);\nif (m.find()) {\n  in= m.group(m.groupCount());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374326,"reputation":946,"user_id":1308634,"accept_rate":100,"display_name":"dhalsim2"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1404324735,"creation_date":1404324735,"answer_id":24538190,"question_id":6417435,"body_markdown":"Use negative lookahead:\r\n\r\n    String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n    Pattern p = Pattern.compile(&quot;num (\\\\d+)(?!.*num \\\\d+)&quot;);\r\n    Matcher m = p.matcher(in);\r\n\r\n    if (m.find()) {\r\n        in= m.group(1);\r\n    }\r\n\r\nThe regular expression reads as &quot;num followed by one space and at least one digit without any (num followed by one space and at least one digit) at any point after it&quot;.\r\n\r\nYou can get even fancier by combining it with positive lookbehind:\r\n\r\n    String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n    Pattern p = Pattern.compile(&quot;(?&lt;=num )\\\\d+(?!.*num \\\\d+)&quot;);\r\n    Matcher m = p.matcher(in);\r\n\r\n    if (m.find()) {\r\n        in = m.group();\r\n    }\r\n\r\nThat one reads as &quot;at least one digit preceded by (num and one space) and not followed by (num followed by one space and at least one digit) at any point after it&quot;.\r\nThat way you don&#39;t have to mess with grouping and worry about the potential `IndexOutOfBoundsException` thrown from `Matcher.group(int)`.","title":"Find the last match with Java regex matcher","body":"<p>Use negative lookahead:</p>\n\n<pre><code>String in = \"num 123 num 1 num 698 num 19238 num 2134\";\nPattern p = Pattern.compile(\"num (\\\\d+)(?!.*num \\\\d+)\");\nMatcher m = p.matcher(in);\n\nif (m.find()) {\n    in= m.group(1);\n}\n</code></pre>\n\n<p>The regular expression reads as \"num followed by one space and at least one digit without any (num followed by one space and at least one digit) at any point after it\".</p>\n\n<p>You can get even fancier by combining it with positive lookbehind:</p>\n\n<pre><code>String in = \"num 123 num 1 num 698 num 19238 num 2134\";\nPattern p = Pattern.compile(\"(?&lt;=num )\\\\d+(?!.*num \\\\d+)\");\nMatcher m = p.matcher(in);\n\nif (m.find()) {\n    in = m.group();\n}\n</code></pre>\n\n<p>That one reads as \"at least one digit preceded by (num and one space) and not followed by (num followed by one space and at least one digit) at any point after it\".\nThat way you don't have to mess with grouping and worry about the potential <code>IndexOutOfBoundsException</code> thrown from <code>Matcher.group(int)</code>.</p>\n"},{"tags":[],"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409276238,"creation_date":1409276238,"answer_id":25560466,"question_id":6417435,"body_markdown":"Compared to the currently accepted answer, this one does not blindly discard elements of the list using the`&quot;.*&quot;` prefix.  Instead, it uses `&quot;(element delimiter)*(element)&quot;` to pick out the last element using `.group(2)`. See the function `magic_last` in code below.\r\n\r\nTo demonstrate the benefit of this approach I have also included a function to pick out the n-th element which is robust enough to accept a list that has fewer than n elements. See the function `magic` in code below.\r\n\r\nFiltering out the &quot;num &quot; text and only getting the number is left as an exercise for the reader (just add an extra group around the digits pattern: `([0-9]+)` and pick out group 4 instead of group 2).\r\n\r\n    package com.example;\r\n    \r\n    import static java.lang.System.out;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Foo {\r\n    \r\n      public static void main (String [] args) {\r\n        String element = &quot;num [0-9]+&quot;;\r\n        String delimiter = &quot;, &quot;;\r\n        String input;\r\n        input = &quot;here is a num bro: num 001; hope you like it&quot;;\r\n        magic_last(input, element, delimiter);\r\n        magic(1, input, element, delimiter);\r\n        magic(2, input, element, delimiter);\r\n        magic(3, input, element, delimiter);\r\n        input = &quot;here are some nums bro: num 001, num 002, num 003, num 004, num 005, num 006; hope you like them&quot;;\r\n        magic_last(input, element, delimiter);\r\n        magic(1, input, element, delimiter);\r\n        magic(2, input, element, delimiter);\r\n        magic(3, input, element, delimiter);\r\n        magic(4, input, element, delimiter);\r\n        magic(5, input, element, delimiter);\r\n        magic(6, input, element, delimiter);\r\n        magic(7, input, element, delimiter);\r\n        magic(8, input, element, delimiter);\r\n      }\r\n      \r\n      public static void magic_last (String input, String element, String delimiter) {\r\n        String regexp = &quot;(&quot; + element + delimiter + &quot;)*(&quot; + element + &quot;)&quot;;\r\n        Pattern pattern = Pattern.compile(regexp);\r\n        Matcher matcher = pattern.matcher(input);\r\n        if (matcher.find()) {\r\n            out.println(matcher.group(2));\r\n        }\r\n      }\r\n    \r\n      public static void magic (int n, String input, String element, String delimiter) {\r\n        String regexp = &quot;(&quot; + element + delimiter + &quot;){0,&quot; + (n - 1) + &quot;}(&quot; + element + &quot;)(&quot; + delimiter + element + &quot;)*&quot;;\r\n        Pattern pattern = Pattern.compile(regexp);\r\n        Matcher matcher = pattern.matcher(input);\r\n        if (matcher.find()) {\r\n            out.println(matcher.group(2));\r\n        }\r\n      }\r\n      \r\n    }\r\n\r\nOutput:\r\n\r\n    num 001\r\n    num 001\r\n    num 001\r\n    num 001\r\n    num 006\r\n    num 001\r\n    num 002\r\n    num 003\r\n    num 004\r\n    num 005\r\n    num 006\r\n    num 006\r\n    num 006\r\n\r\n","title":"Find the last match with Java regex matcher","body":"<p>Compared to the currently accepted answer, this one does not blindly discard elements of the list using the<code>\".*\"</code> prefix.  Instead, it uses <code>\"(element delimiter)*(element)\"</code> to pick out the last element using <code>.group(2)</code>. See the function <code>magic_last</code> in code below.</p>\n\n<p>To demonstrate the benefit of this approach I have also included a function to pick out the n-th element which is robust enough to accept a list that has fewer than n elements. See the function <code>magic</code> in code below.</p>\n\n<p>Filtering out the \"num \" text and only getting the number is left as an exercise for the reader (just add an extra group around the digits pattern: <code>([0-9]+)</code> and pick out group 4 instead of group 2).</p>\n\n<pre><code>package com.example;\n\nimport static java.lang.System.out;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Foo {\n\n  public static void main (String [] args) {\n    String element = \"num [0-9]+\";\n    String delimiter = \", \";\n    String input;\n    input = \"here is a num bro: num 001; hope you like it\";\n    magic_last(input, element, delimiter);\n    magic(1, input, element, delimiter);\n    magic(2, input, element, delimiter);\n    magic(3, input, element, delimiter);\n    input = \"here are some nums bro: num 001, num 002, num 003, num 004, num 005, num 006; hope you like them\";\n    magic_last(input, element, delimiter);\n    magic(1, input, element, delimiter);\n    magic(2, input, element, delimiter);\n    magic(3, input, element, delimiter);\n    magic(4, input, element, delimiter);\n    magic(5, input, element, delimiter);\n    magic(6, input, element, delimiter);\n    magic(7, input, element, delimiter);\n    magic(8, input, element, delimiter);\n  }\n\n  public static void magic_last (String input, String element, String delimiter) {\n    String regexp = \"(\" + element + delimiter + \")*(\" + element + \")\";\n    Pattern pattern = Pattern.compile(regexp);\n    Matcher matcher = pattern.matcher(input);\n    if (matcher.find()) {\n        out.println(matcher.group(2));\n    }\n  }\n\n  public static void magic (int n, String input, String element, String delimiter) {\n    String regexp = \"(\" + element + delimiter + \"){0,\" + (n - 1) + \"}(\" + element + \")(\" + delimiter + element + \")*\";\n    Pattern pattern = Pattern.compile(regexp);\n    Matcher matcher = pattern.matcher(input);\n    if (matcher.find()) {\n        out.println(matcher.group(2));\n    }\n  }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>num 001\nnum 001\nnum 001\nnum 001\nnum 006\nnum 001\nnum 002\nnum 003\nnum 004\nnum 005\nnum 006\nnum 006\nnum 006\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17275382,"reputation":1,"user_id":12510123,"display_name":"Vladislav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582187428,"creation_date":1582187428,"answer_id":60315709,"question_id":6417435,"body_markdown":"just use \\Z - end of string mach\r\n\r\n    String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n    Pattern p = Pattern.compile(&quot;num ([0-9]+)\\\\Z&quot;);\r\n    Matcher m = p.matcher(in);\r\n    \r\n    if (m.find()) {\r\n         in = m.group(1);\r\n    }","title":"Find the last match with Java regex matcher","body":"<p>just use \\Z - end of string mach</p>\n\n<pre><code>String in = \"num 123 num 1 num 698 num 19238 num 2134\";\nPattern p = Pattern.compile(\"num ([0-9]+)\\\\Z\");\nMatcher m = p.matcher(in);\n\nif (m.find()) {\n     in = m.group(1);\n}\n</code></pre>\n"}],"owner":{"account_id":398667,"reputation":703,"user_id":763472,"accept_rate":92,"display_name":"kireol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56868,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":6417576,"answer_count":11,"score":28,"last_activity_date":1660051942,"creation_date":1308603542,"question_id":6417435,"body_markdown":"I&#39;m trying to get the last result of a match without having to cycle through .find()\r\n\r\nHere&#39;s my code:\r\n\r\n    String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\r\n    Pattern p = Pattern.compile(&quot;num ([0-9]+)&quot;);\r\n    Matcher m = p.matcher(in);\r\n\r\n    if (m.find()) {\r\n         in = m.group(1);\r\n    }\r\n\r\nThat will give me the first result.  How do I find the LAST match without cycling through a potentially huge list?","title":"Find the last match with Java regex matcher","body":"<p>I'm trying to get the last result of a match without having to cycle through .find()</p>\n<p>Here's my code:</p>\n<pre><code>String in = &quot;num 123 num 1 num 698 num 19238 num 2134&quot;;\nPattern p = Pattern.compile(&quot;num ([0-9]+)&quot;);\nMatcher m = p.matcher(in);\n\nif (m.find()) {\n     in = m.group(1);\n}\n</code></pre>\n<p>That will give me the first result.  How do I find the LAST match without cycling through a potentially huge list?</p>\n"},{"tags":["java","shell","unix","autosys","jil"],"comments":[{"owner":{"account_id":12556772,"reputation":828,"user_id":9136155,"display_name":"Piyush"},"score":0,"creation_date":1609955052,"post_id":65115378,"comment_id":115984423,"body_markdown":"hey, you need to schedule the box to run","body":"hey, you need to schedule the box to run"},{"owner":{"account_id":12556772,"reputation":828,"user_id":9136155,"display_name":"Piyush"},"score":0,"creation_date":1609955096,"post_id":65115378,"comment_id":115984448,"body_markdown":"have you found out the way or still yet to ?","body":"have you found out the way or still yet to ?"}],"answers":[{"tags":[],"owner":{"account_id":12556772,"reputation":828,"user_id":9136155,"display_name":"Piyush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610110347,"creation_date":1610110347,"answer_id":65629320,"question_id":65115378,"body_markdown":"Once solution could be to schedule the box, the jobs under the box would be activated.\r\nI would suggest to get familiarized with the behaviour of box and jobs\r\n\r\n    update_job: mygroup-feed-myjob\r\n    date_conditions: y\r\n    days_of_week: all\r\n    start_mins: 10, 20, 30, 40, 50, 00\r\n\r\nThis way the box would be running throughout the day with max of 10 mins of inactivity post successful completion.","title":"Autosys file watcher job, Trigger on file arrival , file comes monthly","body":"<p>Once solution could be to schedule the box, the jobs under the box would be activated.\nI would suggest to get familiarized with the behaviour of box and jobs</p>\n<pre><code>update_job: mygroup-feed-myjob\ndate_conditions: y\ndays_of_week: all\nstart_mins: 10, 20, 30, 40, 50, 00\n</code></pre>\n<p>This way the box would be running throughout the day with max of 10 mins of inactivity post successful completion.</p>\n"}],"owner":{"account_id":1012776,"reputation":1138,"user_id":1024970,"accept_rate":25,"display_name":"Rahul Chowdhury"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1837,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660051401,"creation_date":1606939508,"question_id":65115378,"body_markdown":"I am a .net C# developer and having limited knowledge in autosys script.\r\n\r\nWe have a monthly file feed(csv).. Comes once in a month .. sometimes twice in a month. My requirement is to run a job which will monitor this file and move to a different directory.\r\n\r\nSomething I have tried.\r\n\r\n    /* ----------------- mygroup-feed-myjob ----------------- */ \r\n    \r\n    insert_job: mygroup-feed-myjob   job_type: b \r\n    owner: myowner\r\n    permission: gx,wx\r\n    alarm_if_fail: 1\r\n    group: mygroup\r\n    application: mygroup-feed\r\n    \r\n    \r\n     /* ----------------- mygroup-feed-myjob-f ----------------- */ \r\n    \r\n     insert_job: mygroup-feed-myjob-f   job_type: f \r\n     box_name: mygroup-feed-myjob\r\n     machine: mymachine\r\n     owner: myowner\r\n     permission: gx,wx\r\n     description: &quot;File watcher for myjob feed&quot;\r\n     watch_file: $$(mygroup-nas)\\DropZone\\myfile.csv\r\n     watch_interval: 60\r\n     alarm_if_fail: 1\r\n     group: mygroup\r\n     application: mygroup-feed\r\n    \r\n    \r\n     /* ----------------- mygroup-feed-myjob-m ----------------- */ \r\n    \r\n     insert_job: mygroup-feed-myjob-m   job_type: c \r\n     box_name: mygroup-feed-myjob\r\n     command: $$(mygroup-app)\\bin\\Mover.exe /c myjob /f $$(mygroup-nas)\\DropZone\\myfile.csv\r\n     machine: mymachine\r\n     owner: myowner\r\n     permission: gx,wx\r\n     condition: s(mygroup-feed-myjob-f)\r\n     description: &quot;Move myjob feed file job into feed directory&quot;\r\n     std_out_file: &gt;&gt;$$(mygroup-nas)\\Log\\Autosys\\$$(gen-sysdate-yyyy)$$(gen-sysdate-mm)$$(gen-sysdate-dd)\\mygroup-feed-myjob.log\r\n     std_err_file: &gt;&gt;$$(mygroup-nas)\\Log\\Autosys\\$$(gen-sysdate-yyyy)$$(gen-sysdate-mm)$$(gen-sysdate-dd)\\mygroup-feed-myjob.log\r\n     alarm_if_fail: 1\r\n     group: mygroup\r\n     application: mygroup-feed\r\n\r\n\r\nProblem with this one, It&#39;s working fine when I force start the job .. but not triggering on file arrival. . \r\n\r\nSo practically when it&#39;s in SU (Success) status , it&#39;s not triggering any job run even I drop the file in that location..I want to trigger the job every time there is a file ..Can someone please help... Probably it&#39;s a small trick but I am still learning. ","title":"Autosys file watcher job, Trigger on file arrival , file comes monthly","body":"<p>I am a .net C# developer and having limited knowledge in autosys script.</p>\n<p>We have a monthly file feed(csv).. Comes once in a month .. sometimes twice in a month. My requirement is to run a job which will monitor this file and move to a different directory.</p>\n<p>Something I have tried.</p>\n<pre><code>/* ----------------- mygroup-feed-myjob ----------------- */ \n\ninsert_job: mygroup-feed-myjob   job_type: b \nowner: myowner\npermission: gx,wx\nalarm_if_fail: 1\ngroup: mygroup\napplication: mygroup-feed\n\n\n /* ----------------- mygroup-feed-myjob-f ----------------- */ \n\n insert_job: mygroup-feed-myjob-f   job_type: f \n box_name: mygroup-feed-myjob\n machine: mymachine\n owner: myowner\n permission: gx,wx\n description: &quot;File watcher for myjob feed&quot;\n watch_file: $$(mygroup-nas)\\DropZone\\myfile.csv\n watch_interval: 60\n alarm_if_fail: 1\n group: mygroup\n application: mygroup-feed\n\n\n /* ----------------- mygroup-feed-myjob-m ----------------- */ \n\n insert_job: mygroup-feed-myjob-m   job_type: c \n box_name: mygroup-feed-myjob\n command: $$(mygroup-app)\\bin\\Mover.exe /c myjob /f $$(mygroup-nas)\\DropZone\\myfile.csv\n machine: mymachine\n owner: myowner\n permission: gx,wx\n condition: s(mygroup-feed-myjob-f)\n description: &quot;Move myjob feed file job into feed directory&quot;\n std_out_file: &gt;&gt;$$(mygroup-nas)\\Log\\Autosys\\$$(gen-sysdate-yyyy)$$(gen-sysdate-mm)$$(gen-sysdate-dd)\\mygroup-feed-myjob.log\n std_err_file: &gt;&gt;$$(mygroup-nas)\\Log\\Autosys\\$$(gen-sysdate-yyyy)$$(gen-sysdate-mm)$$(gen-sysdate-dd)\\mygroup-feed-myjob.log\n alarm_if_fail: 1\n group: mygroup\n application: mygroup-feed\n</code></pre>\n<p>Problem with this one, It's working fine when I force start the job .. but not triggering on file arrival. .</p>\n<p>So practically when it's in SU (Success) status , it's not triggering any job run even I drop the file in that location..I want to trigger the job every time there is a file ..Can someone please help... Probably it's a small trick but I am still learning.</p>\n"},{"tags":["java","android","navigation"],"comments":[{"owner":{"account_id":14056231,"reputation":641,"user_id":10153483,"display_name":"Black4Guy"},"score":0,"creation_date":1660045706,"post_id":73290964,"comment_id":129435079,"body_markdown":"Follow this answer: https://stackoverflow.com/a/42499780/10153483","body":"Follow this answer: <a href=\"https://stackoverflow.com/a/42499780/10153483\">stackoverflow.com/a/42499780/10153483</a>"}],"answers":[{"tags":[],"owner":{"account_id":6746145,"reputation":4817,"user_id":5197712,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660051114,"creation_date":1660051114,"answer_id":73292538,"question_id":73290964,"body_markdown":"Implement this in your Activity\r\n\r\n&gt; Step 1\r\n\r\n    public class MainActivity extends AppCompatActivity implements \r\n                  NavigationView.OnNavigationItemSelectedListener\r\n\r\n&gt; Step 2  setNavigationItemSelectedListener in onCreate\r\n\r\n    NavigationView mNavigationView = (NavigationView) findViewById(R.id.account_navigation_view);\r\n    \r\n    if (mNavigationView != null) {\r\n            mNavigationView.setNavigationItemSelectedListener(this);\r\n    }\r\n\r\n&gt; Step 3 override the below method\r\n\r\n     public boolean onNavigationItemSelected(MenuItem item) {\r\n        // Handle navigation view item clicks here.\r\n        int id = item.getItemId();\r\n    \r\n        if (id == R.id.nav_account) {\r\n           // DO your stuff \r\n        }\r\n    }\r\n\r\n","title":"How to go another activity by clicking Navigation item?","body":"<p>Implement this in your Activity</p>\n<blockquote>\n<p>Step 1</p>\n</blockquote>\n<pre><code>public class MainActivity extends AppCompatActivity implements \n              NavigationView.OnNavigationItemSelectedListener\n</code></pre>\n<blockquote>\n<p>Step 2  setNavigationItemSelectedListener in onCreate</p>\n</blockquote>\n<pre><code>NavigationView mNavigationView = (NavigationView) findViewById(R.id.account_navigation_view);\n\nif (mNavigationView != null) {\n        mNavigationView.setNavigationItemSelectedListener(this);\n}\n</code></pre>\n<blockquote>\n<p>Step 3 override the below method</p>\n</blockquote>\n<pre><code> public boolean onNavigationItemSelected(MenuItem item) {\n    // Handle navigation view item clicks here.\n    int id = item.getItemId();\n\n    if (id == R.id.nav_account) {\n       // DO your stuff \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26018024,"reputation":95,"user_id":19726095,"display_name":"Md Abu Rayhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73292538,"answer_count":1,"score":1,"last_activity_date":1660051114,"creation_date":1660044009,"question_id":73290964,"body_markdown":"**Here I added my code. I have been created Navigation bar successfully. But Now I am not able to set onClickListener on my Navigation Item. How can I use a Intent on my Navigation Item using navigation item id . please help me someone. I need to know in details**\r\n\r\n**activity_main.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/my_drawer_layout&quot;\r\n        &gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                &gt;\r\n                &lt;include\r\n                    layout=&quot;@layout/main_dashboard&quot;\r\n                    /&gt;\r\n                &lt;include layout=&quot;@layout/lead&quot;\r\n                    /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:menu=&quot;@menu/navigation_menu&quot; /&gt;\r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n    \r\n    **navigation_menu.xml**\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:ignore=&quot;HardcodedText&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/nav_account&quot;\r\n            android:title=&quot;My Account&quot;\r\n            android:icon=&quot;@drawable/user&quot;\r\n            /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_home&quot;\r\n            android:title=&quot;Home&quot;\r\n            android:icon=&quot;@drawable/home&quot;\r\n            /&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/nav_notification&quot;\r\n            android:title=&quot;Notification&quot;\r\n            android:icon=&quot;@drawable/notification&quot;\r\n            /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_offer&quot;\r\n            android:title=&quot;Offers&quot;\r\n            android:icon=&quot;@drawable/offer&quot;\r\n            /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_ticket&quot;\r\n            android:title=&quot;Tickets&quot;\r\n            android:icon=&quot;@drawable/ticket&quot;\r\n            /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_tutorial&quot;\r\n            android:title=&quot;Tutorial&quot;\r\n            android:icon=&quot;@drawable/tutorial&quot;\r\n            /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_privacy&quot;\r\n            android:title=&quot;Privacy &amp;amp; Policy&quot;\r\n            android:icon=&quot;@drawable/privacy&quot;\r\n            /&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/nav_logout&quot;\r\n            android:title=&quot;Logout&quot;\r\n            android:icon=&quot;@drawable/log_out&quot;\r\n            /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\n**MainActivity.java**\r\n\r\n         @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    \r\n            // drawer layout instance to toggle the menu icon to open\r\n            // drawer and back button to close drawer\r\n            drawerLayout = findViewById(R.id.my_drawer_layout);\r\n            actionBarDrawerToggle = new ActionBarDrawerToggle(this, drawerLayout, R.string.nav_open, R.string.nav_close);\r\n    \r\n            // pass the Open and Close toggle for the drawer layout listener\r\n            // to toggle the button\r\n            drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n            actionBarDrawerToggle.syncState();\r\n    \r\n            // to make the Navigation drawer icon always appear on the action bar\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    \r\n        }\r\n   \r\n\r\n      @Override\r\n     public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n    \r\n         if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\r\n             return true;\r\n         }\r\n         return super.onOptionsItemSelected(item);\r\n     }\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hkmg9.png","title":"How to go another activity by clicking Navigation item?","body":"<p><strong>Here I added my code. I have been created Navigation bar successfully. But Now I am not able to set onClickListener on my Navigation Item. How can I use a Intent on my Navigation Item using navigation item id . please help me someone. I need to know in details</strong></p>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;\n    android:id=&quot;@+id/my_drawer_layout&quot;\n    &gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            &gt;\n            &lt;include\n                layout=&quot;@layout/main_dashboard&quot;\n                /&gt;\n            &lt;include layout=&quot;@layout/lead&quot;\n                /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n**navigation_menu.xml**\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:ignore=&quot;HardcodedText&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/nav_account&quot;\n        android:title=&quot;My Account&quot;\n        android:icon=&quot;@drawable/user&quot;\n        /&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_home&quot;\n        android:title=&quot;Home&quot;\n        android:icon=&quot;@drawable/home&quot;\n        /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/nav_notification&quot;\n        android:title=&quot;Notification&quot;\n        android:icon=&quot;@drawable/notification&quot;\n        /&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_offer&quot;\n        android:title=&quot;Offers&quot;\n        android:icon=&quot;@drawable/offer&quot;\n        /&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_ticket&quot;\n        android:title=&quot;Tickets&quot;\n        android:icon=&quot;@drawable/ticket&quot;\n        /&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_tutorial&quot;\n        android:title=&quot;Tutorial&quot;\n        android:icon=&quot;@drawable/tutorial&quot;\n        /&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_privacy&quot;\n        android:title=&quot;Privacy &amp;amp; Policy&quot;\n        android:icon=&quot;@drawable/privacy&quot;\n        /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/nav_logout&quot;\n        android:title=&quot;Logout&quot;\n        android:icon=&quot;@drawable/log_out&quot;\n        /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>     @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n        // drawer layout instance to toggle the menu icon to open\n        // drawer and back button to close drawer\n        drawerLayout = findViewById(R.id.my_drawer_layout);\n        actionBarDrawerToggle = new ActionBarDrawerToggle(this, drawerLayout, R.string.nav_open, R.string.nav_close);\n\n        // pass the Open and Close toggle for the drawer layout listener\n        // to toggle the button\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n\n        // to make the Navigation drawer icon always appear on the action bar\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    }\n\n\n  @Override\n public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n     if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\n         return true;\n     }\n     return super.onOptionsItemSelected(item);\n }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hkmg9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","html","swing"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1242501272,"post_id":872871,"comment_id":21780454,"body_markdown":"As with most things with Swing, the best course of action is to look at the source.","body":"As with most things with Swing, the best course of action is to look at the source."}],"answers":[{"tags":[],"owner":{"account_id":13185,"reputation":34155,"user_id":26334,"accept_rate":54,"display_name":"Draemon"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1242495666,"creation_date":1242495666,"answer_id":872880,"question_id":872871,"body_markdown":"I don&#39;t know exactly what tags are supported, but I would suggest that you restrict yourself to bold/italics (or even better strong/em assuming it supports them) and img tags. Anything else is likely to cause headaches, and probably means you&#39;re stuffing too much into that component.","title":"Which HTML tags are supported in Swing components?","body":"<p>I don't know exactly what tags are supported, but I would suggest that you restrict yourself to bold/italics (or even better strong/em assuming it supports them) and img tags. Anything else is likely to cause headaches, and probably means you're stuffing too much into that component.</p>\n"},{"tags":[],"owner":{"account_id":2539,"reputation":48109,"user_id":3542,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1242496290,"creation_date":1242496290,"answer_id":872899,"question_id":872871,"body_markdown":"I believe it&#39;s a narrow subset of HTML 3.x, although off the top of my head, I don&#39;t remember where I read that.","title":"Which HTML tags are supported in Swing components?","body":"<p>I believe it's a narrow subset of HTML 3.x, although off the top of my head, I don't remember where I read that.</p>\n"},{"tags":[],"owner":{"account_id":57055,"reputation":5529,"user_id":170918,"display_name":"Mr. Napik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1363252593,"creation_date":1363252593,"answer_id":15405231,"question_id":872871,"body_markdown":"Swing supports HTML 3.2 (Wilbur) as Software Monkey said. You can find official documentation to this obsolescent (1996) version of HTML at: http://www.w3.org/TR/REC-html32.html\r\n\r\nJava 7 documentation on the topic: http://docs.oracle.com/javase/7/docs/api/javax/swing/text/html/package-summary.html\r\n\r\nThough it is worth of noting that it does not explicitly mention this information is valid for other Swing components.","title":"Which HTML tags are supported in Swing components?","body":"<p>Swing supports HTML 3.2 (Wilbur) as Software Monkey said. You can find official documentation to this obsolescent (1996) version of HTML at: <a href=\"http://www.w3.org/TR/REC-html32.html\" rel=\"noreferrer\">http://www.w3.org/TR/REC-html32.html</a></p>\n\n<p>Java 7 documentation on the topic: <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/html/package-summary.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/javax/swing/text/html/package-summary.html</a></p>\n\n<p>Though it is worth of noting that it does not explicitly mention this information is valid for other Swing components.</p>\n"},{"tags":[],"owner":{"account_id":2924378,"reputation":935,"user_id":2506021,"accept_rate":80,"display_name":"Rangi Keen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608132043,"creation_date":1608132043,"answer_id":65326136,"question_id":872871,"body_markdown":"As @Mr.Napik notes in his answer, Swing HTML support was based on HTML 3.2, but it does support a few additional tags (notably `&lt;span&gt;`). The specific supported tags are documented in the [`HTML.Tag` documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/html/HTML.Tag.html).\r\n\r\nCSS support is also detailed in the [`CSS` documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/html/CSS.html).","title":"Which HTML tags are supported in Swing components?","body":"<p>As @Mr.Napik notes in his answer, Swing HTML support was based on HTML 3.2, but it does support a few additional tags (notably <code>&lt;span&gt;</code>). The specific supported tags are documented in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/html/HTML.Tag.html\" rel=\"nofollow noreferrer\"><code>HTML.Tag</code> documentation</a>.</p>\n<p>CSS support is also detailed in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/html/CSS.html\" rel=\"nofollow noreferrer\"><code>CSS</code> documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660050830,"creation_date":1660050830,"answer_id":73292460,"question_id":872871,"body_markdown":"In fact Javax Swing HTML parser is a DTD driven parser.\r\nThe default DTD is called html32.dtd, meaning it supports most of HTML 32 recommendations.\r\n\r\nIf you want to support more Tags, you have to extend or rewrite this DTD.\r\nFor example, below, MathML support was added to Swing HTML :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nA bug report was submitted to make this easier :\r\n[Add Reference or Informations About DTDBuilder in Documentation][2]\r\n\r\nBeware :\r\n- This is the first step to support your tag. Next, you had to design its rendering and register it in the View factory.\r\n- Swing Text HTML is not for read HTML documents from the World Wide Web.\r\n- Web Browsers don&#39;t use DTD approach.\r\n- DTD approach makes sens if you want to have a strict control of your document structure in a project with the ability to export to World Wide Web but without the need to read real World HTML Documents. The DTD may stuck with malformed documents.\r\n- Think of Swing HTML as a Wordpad where underlying document structure is HTML.\r\n\r\n  [1]: https://i.stack.imgur.com/I9pQE.gif\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8289722","title":"Which HTML tags are supported in Swing components?","body":"<p>In fact Javax Swing HTML parser is a DTD driven parser.\nThe default DTD is called html32.dtd, meaning it supports most of HTML 32 recommendations.</p>\n<p>If you want to support more Tags, you have to extend or rewrite this DTD.\nFor example, below, MathML support was added to Swing HTML :</p>\n<p><a href=\"https://i.stack.imgur.com/I9pQE.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I9pQE.gif\" alt=\"enter image description here\" /></a></p>\n<p>A bug report was submitted to make this easier :\n<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8289722\" rel=\"nofollow noreferrer\">Add Reference or Informations About DTDBuilder in Documentation</a></p>\n<p>Beware :</p>\n<ul>\n<li>This is the first step to support your tag. Next, you had to design its rendering and register it in the View factory.</li>\n<li>Swing Text HTML is not for read HTML documents from the World Wide Web.</li>\n<li>Web Browsers don't use DTD approach.</li>\n<li>DTD approach makes sens if you want to have a strict control of your document structure in a project with the ability to export to World Wide Web but without the need to read real World HTML Documents. The DTD may stuck with malformed documents.</li>\n<li>Think of Swing HTML as a Wordpad where underlying document structure is HTML.</li>\n</ul>\n"}],"owner":{"account_id":11983,"reputation":71675,"user_id":23368,"accept_rate":92,"display_name":"Daniel Rikowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6015,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":15405231,"answer_count":5,"score":17,"last_activity_date":1660050830,"creation_date":1242495485,"question_id":872871,"body_markdown":"Many Swing components support embedded HTML, but I cannot find any official documentation on that subject. (Everything on Sun&#39;s pages about HTML seems to be targeted at JEditorPane)\r\n\r\nSo: Which HTML tags are supported in Swing components? \r\n\r\n**EDIT:** Although I said that I&#39;m missing &quot;official documentation&quot;, I&#39;d also like any &quot;unofficial&quot; documentation.\r\n\r\n","title":"Which HTML tags are supported in Swing components?","body":"<p>Many Swing components support embedded HTML, but I cannot find any official documentation on that subject. (Everything on Sun's pages about HTML seems to be targeted at JEditorPane)</p>\n\n<p>So: Which HTML tags are supported in Swing components? </p>\n\n<p><strong>EDIT:</strong> Although I said that I'm missing \"official documentation\", I'd also like any \"unofficial\" documentation.</p>\n"},{"tags":["java","multithreading","volatile"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1371545614,"post_id":17164454,"comment_id":24849722,"body_markdown":"Uhm, is this the first edition? Double checked locking has been discouraged for some years now","body":"Uhm, is this the first edition? Double checked locking has been discouraged for some years now"},{"owner":{"account_id":2197855,"reputation":889,"user_id":1943085,"accept_rate":100,"display_name":"Lenymm"},"score":0,"creation_date":1371545709,"post_id":17164454,"comment_id":24849781,"body_markdown":"And the reason is: http://stackoverflow.com/questions/4926681/why-is-double-checked-locking-broken-in-java?rq=1","body":"And the reason is: <a href=\"http://stackoverflow.com/questions/4926681/why-is-double-checked-locking-broken-in-java?rq=1\" title=\"why is double checked locking broken in java\">stackoverflow.com/questions/4926681/&hellip;</a>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":5,"creation_date":1371545767,"post_id":17164454,"comment_id":24849814,"body_markdown":"@fge: Not really. Since Java 5, it&#39;s actually an OK pattern: http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html","body":"@fge: Not really. Since Java 5, it&#39;s actually an OK pattern: <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1371545978,"post_id":17164454,"comment_id":24849935,"body_markdown":"@LukasEder it is largely discouraged because Java 6+ renders it basically obsolete","body":"@LukasEder it is largely discouraged because Java 6+ renders it basically obsolete"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1371546119,"post_id":17164454,"comment_id":24850025,"body_markdown":"I&#39;m still undecided about these things. Why did [`java.io.File.toPath()`](http://hg.openjdk.java.net/lambda/lambda/jdk/file/tip/src/share/classes/java/io/File.java) use double-checked locking, introduced in Java 1.7?","body":"I&#39;m still undecided about these things. Why did <a href=\"http://hg.openjdk.java.net/lambda/lambda/jdk/file/tip/src/share/classes/java/io/File.java\" rel=\"nofollow noreferrer\"><code>java.io.File.toPath()</code></a> use double-checked locking, introduced in Java 1.7?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371546637,"post_id":17164454,"comment_id":24850304,"body_markdown":"@LukasEder urgh! I guess it is because they didn&#39;t really have a choice here given the many constructors of `File`... They didn&#39;t want to make the effort to make `toPath` `final` and initializing it in all of them, I guess","body":"@LukasEder urgh! I guess it is because they didn&#39;t really have a choice here given the many constructors of <code>File</code>... They didn&#39;t want to make the effort to make <code>toPath</code> <code>final</code> and initializing it in all of them, I guess"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1371547336,"post_id":17164454,"comment_id":24850662,"body_markdown":"@fge: I think lazy initialisation is important there, as the call to `FileSystems.getDefault().getPath(path);` is too expensive to be made for every `File` in the Java world... So how to lazy-initialise and do without double-checked locking or synchronisation?","body":"@fge: I think lazy initialisation is important there, as the call to <code>FileSystems.getDefault().getPath(path);</code> is too expensive to be made for every <code>File</code> in the Java world... So how to lazy-initialise and do without double-checked locking or synchronisation?"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":1,"creation_date":1371548328,"post_id":17164454,"comment_id":24851184,"body_markdown":"@Lenymm the link you provided didn&#39;t talk about Local Variable Result.","body":"@Lenymm the link you provided didn&#39;t talk about Local Variable Result."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1371550789,"creation_date":1371549160,"answer_id":17165786,"question_id":17164454,"body_markdown":"Once `field` has been initialised, the code is either:\r\n\r\n    if (field == null) {...}\r\n    return field;\r\n\r\nor:\r\n\r\n    result = field;\r\n    if (result == null) {...}\r\n    return result;\r\n\r\nIn the first case you read the volatile variable twice whereas in the second you only read it once. Although volatile reads are very fast, they can be a little slower than reading from a local variable (I don&#39;t know if it is 25%).\r\n\r\nNotes:\r\n\r\n- volatile reads are as cheap as normal reads on recent processors (at least x86)/JVMs, i.e. there is no difference.\r\n- however the compiler can better optimise a code without volatile so you could get efficiency from better compiled code.\r\n- 25% of a few nanoseconds is still not much anyway.\r\n- it is a standard idiom that you can find in many classes of the java.util.concurrent package - see for example [this method in ThreadPoolExecutor](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/concurrent/ThreadPoolExecutor.java#ThreadPoolExecutor.interruptWorkers%28%29) (there are many of them)","title":"Why Double checked locking is 25% faster in Joshua Bloch Effective Java Example","body":"<p>Once <code>field</code> has been initialised, the code is either:</p>\n\n<pre><code>if (field == null) {...}\nreturn field;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>result = field;\nif (result == null) {...}\nreturn result;\n</code></pre>\n\n<p>In the first case you read the volatile variable twice whereas in the second you only read it once. Although volatile reads are very fast, they can be a little slower than reading from a local variable (I don't know if it is 25%).</p>\n\n<p>Notes:</p>\n\n<ul>\n<li>volatile reads are as cheap as normal reads on recent processors (at least x86)/JVMs, i.e. there is no difference.</li>\n<li>however the compiler can better optimise a code without volatile so you could get efficiency from better compiled code.</li>\n<li>25% of a few nanoseconds is still not much anyway.</li>\n<li>it is a standard idiom that you can find in many classes of the java.util.concurrent package - see for example <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/concurrent/ThreadPoolExecutor.java#ThreadPoolExecutor.interruptWorkers%28%29\">this method in ThreadPoolExecutor</a> (there are many of them)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371608993,"creation_date":1371608993,"answer_id":17181978,"question_id":17164454,"body_markdown":"Without using a local variable, in most invocations we have effectively\r\n\r\n    if(field!=null) // true\r\n        return field;\r\n\r\nso there are two volatile reads, which is slower than one volatile read.\r\n\r\nActually JVM can merge the two volatile reads into one volatile read and still conform to JMM. But we expect JVM to perform a good faith volatile read every time it&#39;s told to, not to be a smartass and try to optimize away any volatile read. Consider this code\r\n\r\n    volatile boolean ready;\r\n\r\n    do{}while(!ready); // busy wait\r\n\r\nwe expect JVM to really load the variable repeatedly.","title":"Why Double checked locking is 25% faster in Joshua Bloch Effective Java Example","body":"<p>Without using a local variable, in most invocations we have effectively</p>\n\n<pre><code>if(field!=null) // true\n    return field;\n</code></pre>\n\n<p>so there are two volatile reads, which is slower than one volatile read.</p>\n\n<p>Actually JVM can merge the two volatile reads into one volatile read and still conform to JMM. But we expect JVM to perform a good faith volatile read every time it's told to, not to be a smartass and try to optimize away any volatile read. Consider this code</p>\n\n<pre><code>volatile boolean ready;\n\ndo{}while(!ready); // busy wait\n</code></pre>\n\n<p>we expect JVM to really load the variable repeatedly.</p>\n"}],"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":17165786,"answer_count":2,"score":10,"last_activity_date":1660050466,"creation_date":1371545309,"question_id":17164454,"body_markdown":"Below is a snippet from Effective Java 2nd Edition. The author claims that the following piece of code is 25% faster than a code in which you do not use the `result` variable.\r\nAccording to the book &quot;What this variable does is to ensure that field is read only once in the common case where it’s already initialized.&quot; .\r\nI am  not able to understand why this code would be faster after the value is initialized compared to if we do not use the local variable result. In either case you will have only one volatile read after initialization whether you use the local variable result or not.\r\n\r\n    // Double-check idiom for lazy initialization of instance fields \r\n    private volatile FieldType field;\r\n\r\n    FieldType getField() {\r\n        FieldType result = field;\r\n        if (result == null) {  // First check (no locking)\r\n            synchronized(this) {\r\n                result = field;\r\n                if (result == null)  // Second check (with locking)\r\n                    field = result = computeFieldValue();\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Why Double checked locking is 25% faster in Joshua Bloch Effective Java Example","body":"<p>Below is a snippet from Effective Java 2nd Edition. The author claims that the following piece of code is 25% faster than a code in which you do not use the <code>result</code> variable.\nAccording to the book &quot;What this variable does is to ensure that field is read only once in the common case where it’s already initialized.&quot; .\nI am  not able to understand why this code would be faster after the value is initialized compared to if we do not use the local variable result. In either case you will have only one volatile read after initialization whether you use the local variable result or not.</p>\n<pre><code>// Double-check idiom for lazy initialization of instance fields \nprivate volatile FieldType field;\n\nFieldType getField() {\n    FieldType result = field;\n    if (result == null) {  // First check (no locking)\n        synchronized(this) {\n            result = field;\n            if (result == null)  // Second check (with locking)\n                field = result = computeFieldValue();\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","android","material-design","maven-central"],"answers":[{"tags":[],"owner":{"account_id":24717121,"reputation":11,"user_id":18606704,"display_name":"Anmol Mahay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654809208,"creation_date":1648462057,"answer_id":71645699,"question_id":70005237,"body_markdown":"I recommend to use `.start();` at last.  \r\nLike `.cancleable(true)).start();`.","title":"Change TapTargetView into a TapTargetSequence","body":"<p>I recommend to use <code>.start();</code> at last.<br />\nLike <code>.cancleable(true)).start();</code>.</p>\n"},{"tags":[],"owner":{"account_id":22083723,"reputation":124,"user_id":16342910,"display_name":"Prasanna Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660050388,"creation_date":1660050388,"answer_id":73292359,"question_id":70005237,"body_markdown":"You forgot to add &quot;start()&quot; method at the end and also TapTargetSequence.Listener.\r\nTry the below code, it should work.\r\n\r\n        TapTargetSequence(this)\r\n        .targets(\r\n            TapTarget.forView(buttonSettings, getString(R.string.onboarding_settings_title),\r\n                getString(R.string.onboarding_settings_description))\r\n                .outerCircleColor(R.color.blue)\r\n                .targetCircleColor(R.color.white)\r\n                .titleTextSize(22)\r\n                .titleTextColor(R.color.white)\r\n                .descriptionTextSize(14)\r\n                .cancelable(true),\r\n            TapTarget.forView(buttonMedia, getString(R.string.onboarding_media_title),\r\n                getString(R.string.onboarding_media_description))\r\n                .outerCircleColor(R.color.blue)\r\n                .targetCircleColor(R.color.white)\r\n                .titleTextSize(22)\r\n                .titleTextColor(R.color.white)\r\n                .descriptionTextSize(14)\r\n                .cancelable(true)).start()\r\n    object : TapTargetSequence.Listener {\r\n                override fun onSequenceFinish() {\r\n                    Toast.makeText(this, &quot;Sequence Finished!&quot;, Toast.LENGTH_SHORT).show()\r\n                }\r\n    \r\n                override fun onSequenceStep(lastTarget: TapTarget?, targetClicked: Boolean) {\r\n                    Toast.makeText(this, &quot;Great&quot;, Toast.LENGTH_SHORT).show()\r\n                }\r\n    \r\n                override fun onSequenceCanceled(lastTarget: TapTarget?) {\r\n                }\r\n            }","title":"Change TapTargetView into a TapTargetSequence","body":"<p>You forgot to add &quot;start()&quot; method at the end and also TapTargetSequence.Listener.\nTry the below code, it should work.</p>\n<pre><code>    TapTargetSequence(this)\n    .targets(\n        TapTarget.forView(buttonSettings, getString(R.string.onboarding_settings_title),\n            getString(R.string.onboarding_settings_description))\n            .outerCircleColor(R.color.blue)\n            .targetCircleColor(R.color.white)\n            .titleTextSize(22)\n            .titleTextColor(R.color.white)\n            .descriptionTextSize(14)\n            .cancelable(true),\n        TapTarget.forView(buttonMedia, getString(R.string.onboarding_media_title),\n            getString(R.string.onboarding_media_description))\n            .outerCircleColor(R.color.blue)\n            .targetCircleColor(R.color.white)\n            .titleTextSize(22)\n            .titleTextColor(R.color.white)\n            .descriptionTextSize(14)\n            .cancelable(true)).start()\nobject : TapTargetSequence.Listener {\n            override fun onSequenceFinish() {\n                Toast.makeText(this, &quot;Sequence Finished!&quot;, Toast.LENGTH_SHORT).show()\n            }\n\n            override fun onSequenceStep(lastTarget: TapTarget?, targetClicked: Boolean) {\n                Toast.makeText(this, &quot;Great&quot;, Toast.LENGTH_SHORT).show()\n            }\n\n            override fun onSequenceCanceled(lastTarget: TapTarget?) {\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":18549138,"reputation":35,"user_id":13515739,"display_name":"Brenton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73292359,"answer_count":2,"score":0,"last_activity_date":1660050388,"creation_date":1637155553,"question_id":70005237,"body_markdown":"In this code example I have a single TapTargetView working:\r\n\r\n    if (controllerVisible &amp;&amp; playerView.isControllerFullyVisible()) {\r\n        if (setPrefs.firstRun) {\r\n            TapTargetView.showFor(PlayerActivity.this,\r\n                TapTarget.forView(buttonSettings, getString(R.string.onboarding_settings_title),\r\n                        getString(R.string.onboarding_settings_description))\r\n                        .outerCircleColor(R.color.blue)\r\n                        .targetCircleColor(R.color.white)\r\n                        .titleTextSize(22)\r\n                        .titleTextColor(R.color.white)\r\n                        .descriptionTextSize(14)\r\n                        .cancelable(true),\r\n                new TapTargetView.Listener() {\r\n                    @Override\r\n                    public void onTargetClick(TapTargetView view) {\r\n                        super.onTargetClick(view);\r\n                        buttonOpen.performClick();\r\n                    }\r\n                });\r\n            setPrefs.markFirstRun();\r\n        }\r\n    }\r\n\r\nBut I cannot work out how to create a TapTargetSequence using the following example:\r\n\r\n    TapTargetSequence(this)\r\n        .targets(\r\n            TapTarget.forView(buttonSettings, getString(R.string.onboarding_settings_title),\r\n    \t\t\tgetString(R.string.onboarding_settings_description))\r\n                .outerCircleColor(R.color.blue)\r\n                .targetCircleColor(R.color.white)\r\n                .titleTextSize(22)\r\n                .titleTextColor(R.color.white)\r\n                .descriptionTextSize(14)\r\n                .cancelable(true),\r\n            TapTarget.forView(buttonMedia, getString(R.string.onboarding_media_title),\r\n    \t\t\tgetString(R.string.onboarding_media_description))\r\n                .outerCircleColor(R.color.blue)\r\n                .targetCircleColor(R.color.white)\r\n                .titleTextSize(22)\r\n                .titleTextColor(R.color.white)\r\n                .descriptionTextSize(14)\r\n                .cancelable(true))\r\n\r\nI&#39;m having a great deal of trouble with this could someone please help me to figure this out.\r\n\r\nThank you","title":"Change TapTargetView into a TapTargetSequence","body":"<p>In this code example I have a single TapTargetView working:</p>\n<pre><code>if (controllerVisible &amp;&amp; playerView.isControllerFullyVisible()) {\n    if (setPrefs.firstRun) {\n        TapTargetView.showFor(PlayerActivity.this,\n            TapTarget.forView(buttonSettings, getString(R.string.onboarding_settings_title),\n                    getString(R.string.onboarding_settings_description))\n                    .outerCircleColor(R.color.blue)\n                    .targetCircleColor(R.color.white)\n                    .titleTextSize(22)\n                    .titleTextColor(R.color.white)\n                    .descriptionTextSize(14)\n                    .cancelable(true),\n            new TapTargetView.Listener() {\n                @Override\n                public void onTargetClick(TapTargetView view) {\n                    super.onTargetClick(view);\n                    buttonOpen.performClick();\n                }\n            });\n        setPrefs.markFirstRun();\n    }\n}\n</code></pre>\n<p>But I cannot work out how to create a TapTargetSequence using the following example:</p>\n<pre><code>TapTargetSequence(this)\n    .targets(\n        TapTarget.forView(buttonSettings, getString(R.string.onboarding_settings_title),\n            getString(R.string.onboarding_settings_description))\n            .outerCircleColor(R.color.blue)\n            .targetCircleColor(R.color.white)\n            .titleTextSize(22)\n            .titleTextColor(R.color.white)\n            .descriptionTextSize(14)\n            .cancelable(true),\n        TapTarget.forView(buttonMedia, getString(R.string.onboarding_media_title),\n            getString(R.string.onboarding_media_description))\n            .outerCircleColor(R.color.blue)\n            .targetCircleColor(R.color.white)\n            .titleTextSize(22)\n            .titleTextColor(R.color.white)\n            .descriptionTextSize(14)\n            .cancelable(true))\n</code></pre>\n<p>I'm having a great deal of trouble with this could someone please help me to figure this out.</p>\n<p>Thank you</p>\n"},{"tags":["java","logging","rust"],"answers":[{"tags":[],"owner":{"account_id":35227,"reputation":39176,"user_id":99692,"accept_rate":50,"display_name":"Kevin Reid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654282903,"creation_date":1654282903,"answer_id":72494099,"question_id":72493318,"body_markdown":"The `log` library provides only a mechanism for passing log messages to a global hook. Something must call [`log::set_logger()`](https://docs.rs/log/latest/log/fn.set_logger.html) with a function that does something with the messages. There are [a variety of libraries you can use for this purpose](https://docs.rs/log/latest/log/#available-logging-implementations); if you want to hook up your `log` logging to `slf4j` you will need to find or write code that does that combination specifically. (I don&#39;t know much of anything about JNI+Rust so I can&#39;t say whether one exists already.)","title":"Java/Rust logging bridge","body":"<p>The <code>log</code> library provides only a mechanism for passing log messages to a global hook. Something must call <a href=\"https://docs.rs/log/latest/log/fn.set_logger.html\" rel=\"nofollow noreferrer\"><code>log::set_logger()</code></a> with a function that does something with the messages. There are <a href=\"https://docs.rs/log/latest/log/#available-logging-implementations\" rel=\"nofollow noreferrer\">a variety of libraries you can use for this purpose</a>; if you want to hook up your <code>log</code> logging to <code>slf4j</code> you will need to find or write code that does that combination specifically. (I don't know much of anything about JNI+Rust so I can't say whether one exists already.)</p>\n"},{"tags":[],"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660050179,"creation_date":1660050179,"answer_id":73292307,"question_id":72493318,"body_markdown":"1. Create your own logger (don&#39;t use env_logger or others):\r\n\r\n```rust\r\nuse std::sync::Arc;\r\nuse log::{LevelFilter, Level};\r\npub type LogCallbackType = Arc&lt;dyn Fn(Level, String) + Send + Sync&gt;;\r\npub struct SimpleLogger {\r\n  callback: LogCallbackType,\r\n  level: LevelFilter,\r\n}\r\n```\r\n\r\n2. Provide a function to bind a callback to your logger\r\n```rust\r\nimpl SimpleLogger {\r\n  pub fn init(level: LevelFilter, callback: LogCallbackType) {\r\n    let message = std::format!(&quot;Initialize logging to {}&quot;, &amp;level);\r\n    callback(Level::Debug, message);\r\n\r\n    log::set_boxed_logger(Box::new(SimpleLogger { callback, level }))\r\n      .map(|()| log::set_max_level(level));\r\n  }\r\n```\r\n3. Externalize your function to other languages\r\n```rust\r\nuse std::os::raw::c_char;\r\npub type NativeString = *const c_char;\r\npub type ExternLogCallbackType = Option&lt;extern &quot;C&quot; fn(u32, NativeString)&gt;;\r\n\r\n#[no_mangle]\r\npub extern fn init_logging(level: u32, callback: ExternLogCallbackType) {\r\n  if !callback.is_none() {\r\n    let callback = callback.unwrap();\r\n    let level_filter = SimpleLogger::u32_to_level_filter(level);\r\n    SimpleLogger::init(level_filter, Arc::new(move |level, msg| {\r\n      callback(level as u32, msg.as_ptr());\r\n    }))\r\n  }\r\n}\r\n```\r\n\r\n4. Prepare the JNA stuff\r\n\r\n```java\r\npublic static class LogCallback implements Callback {\r\n  public static final Logger LOGGER = LoggerFactory.getLogger(&quot;myrustliblog&quot;);\r\n\r\n  public void callback(int level, String message) {\r\n    switch (level) {\r\n      case 0:\r\n        break;\r\n      case 1:\r\n        LOGGER.error(message);\r\n        break;\r\n      case 2:\r\n        LOGGER.warn(message);\r\n        break;\r\n      case 3:\r\n        LOGGER.info(message);\r\n        break;\r\n      case 4:\r\n        LOGGER.debug(message);\r\n        break;\r\n      case 5:\r\n        LOGGER.trace(message);\r\n        break;\r\n      default:\r\n        LOGGER.trace(message);\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\npublic interface MyNativeInterface extends Library {\r\n   //...other stuff ...\r\n\r\n   String init_logging(int level, LogCallback callback);\r\n   //...\r\n}\r\n```\r\n\r\n5. Finally Initialize logging from Java:\r\n\r\n```java\r\nstatic final LogCallback LOG_CALLBACK = new LogCallback();\r\n\r\npublic static void initLogging(org.slf4j.event.Level level) {\r\n    int iLevel = 0;\r\n    switch (level) {\r\n      case ERROR:\r\n        iLevel = 1;\r\n        break;\r\n      case WARN:\r\n        iLevel = 2;\r\n        break;\r\n      case INFO:\r\n        iLevel = 3;\r\n        break;\r\n      case DEBUG:\r\n        iLevel = 4;\r\n        break;\r\n      case TRACE:\r\n        iLevel = 5;\r\n        break;\r\n    }\r\n    _myInterfaceJnaInstance.init_logging(iLevel, LOG_CALLBACK);\r\n  }\r\n\r\n```\r\n\r\nNotes:\r\n1. I omitted result handling in Rust. You should be able to do it\r\n2. This is from my running code, it works. But you might need to do a few tweaks for memory leaks (i.e. deallocate the strings after being logged).","title":"Java/Rust logging bridge","body":"<ol>\n<li>Create your own logger (don't use env_logger or others):</li>\n</ol>\n<pre class=\"lang-rust prettyprint-override\"><code>use std::sync::Arc;\nuse log::{LevelFilter, Level};\npub type LogCallbackType = Arc&lt;dyn Fn(Level, String) + Send + Sync&gt;;\npub struct SimpleLogger {\n  callback: LogCallbackType,\n  level: LevelFilter,\n}\n</code></pre>\n<ol start=\"2\">\n<li>Provide a function to bind a callback to your logger</li>\n</ol>\n<pre class=\"lang-rust prettyprint-override\"><code>impl SimpleLogger {\n  pub fn init(level: LevelFilter, callback: LogCallbackType) {\n    let message = std::format!(&quot;Initialize logging to {}&quot;, &amp;level);\n    callback(Level::Debug, message);\n\n    log::set_boxed_logger(Box::new(SimpleLogger { callback, level }))\n      .map(|()| log::set_max_level(level));\n  }\n</code></pre>\n<ol start=\"3\">\n<li>Externalize your function to other languages</li>\n</ol>\n<pre class=\"lang-rust prettyprint-override\"><code>use std::os::raw::c_char;\npub type NativeString = *const c_char;\npub type ExternLogCallbackType = Option&lt;extern &quot;C&quot; fn(u32, NativeString)&gt;;\n\n#[no_mangle]\npub extern fn init_logging(level: u32, callback: ExternLogCallbackType) {\n  if !callback.is_none() {\n    let callback = callback.unwrap();\n    let level_filter = SimpleLogger::u32_to_level_filter(level);\n    SimpleLogger::init(level_filter, Arc::new(move |level, msg| {\n      callback(level as u32, msg.as_ptr());\n    }))\n  }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Prepare the JNA stuff</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static class LogCallback implements Callback {\n  public static final Logger LOGGER = LoggerFactory.getLogger(&quot;myrustliblog&quot;);\n\n  public void callback(int level, String message) {\n    switch (level) {\n      case 0:\n        break;\n      case 1:\n        LOGGER.error(message);\n        break;\n      case 2:\n        LOGGER.warn(message);\n        break;\n      case 3:\n        LOGGER.info(message);\n        break;\n      case 4:\n        LOGGER.debug(message);\n        break;\n      case 5:\n        LOGGER.trace(message);\n        break;\n      default:\n        LOGGER.trace(message);\n        break;\n    }\n  }\n}\n\npublic interface MyNativeInterface extends Library {\n   //...other stuff ...\n\n   String init_logging(int level, LogCallback callback);\n   //...\n}\n</code></pre>\n<ol start=\"5\">\n<li>Finally Initialize logging from Java:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>static final LogCallback LOG_CALLBACK = new LogCallback();\n\npublic static void initLogging(org.slf4j.event.Level level) {\n    int iLevel = 0;\n    switch (level) {\n      case ERROR:\n        iLevel = 1;\n        break;\n      case WARN:\n        iLevel = 2;\n        break;\n      case INFO:\n        iLevel = 3;\n        break;\n      case DEBUG:\n        iLevel = 4;\n        break;\n      case TRACE:\n        iLevel = 5;\n        break;\n    }\n    _myInterfaceJnaInstance.init_logging(iLevel, LOG_CALLBACK);\n  }\n\n</code></pre>\n<p>Notes:</p>\n<ol>\n<li>I omitted result handling in Rust. You should be able to do it</li>\n<li>This is from my running code, it works. But you might need to do a few tweaks for memory leaks (i.e. deallocate the strings after being logged).</li>\n</ol>\n"}],"owner":{"account_id":487587,"reputation":3346,"user_id":1375292,"accept_rate":67,"display_name":"Troy Daniels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660050179,"creation_date":1654278268,"question_id":72493318,"body_markdown":"I have a Java program that uses JNI to call a Rust library.  In the rust code, I have calls to `info!` which do not appear in the output.  I am 99% positive this is because I am not initializing the Rust logging system.\r\n\r\nWhen I had a similar problem in Python code calling Rust code, there was a module that I added which did the work to connect the Rust logging system to the python logger.  \r\n\r\nIs there a similar bridge for Rust and Java?\r\n\r\nI am using `slf4j` in Java and `log::info` in Rust.  \r\n\r\nI searched for an bridge but the closest I found was how to call Rust from Java.","title":"Java/Rust logging bridge","body":"<p>I have a Java program that uses JNI to call a Rust library.  In the rust code, I have calls to <code>info!</code> which do not appear in the output.  I am 99% positive this is because I am not initializing the Rust logging system.</p>\n<p>When I had a similar problem in Python code calling Rust code, there was a module that I added which did the work to connect the Rust logging system to the python logger.</p>\n<p>Is there a similar bridge for Rust and Java?</p>\n<p>I am using <code>slf4j</code> in Java and <code>log::info</code> in Rust.</p>\n<p>I searched for an bridge but the closest I found was how to call Rust from Java.</p>\n"},{"tags":["java","spring-webflux","spring-webclient","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657682999,"creation_date":1657682999,"answer_id":72960603,"question_id":72934235,"body_markdown":"Found a solution: add the following options to the OpenAPI Generator Maven Plugin then generate the code again, which would replace `File` to `Resource`\r\n\r\n    &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n    &lt;library&gt;webclient&lt;/library&gt;\r\n    &lt;typeMappings&gt;string+binary=Resource&lt;/typeMappings&gt;\r\n    &lt;importMappings&gt;Resource=org.springframework.core.io.Resource&lt;/importMappings&gt;\r\n\r\nThe above is saying when the return type is `string` and the format is `binary`, map it to `Resource` and for `Resource` import it as `org.springframework.core.io.Resource`. There you go.","title":"Spring WebClient does not decode application/octet-stream into File object","body":"<p>Found a solution: add the following options to the OpenAPI Generator Maven Plugin then generate the code again, which would replace <code>File</code> to <code>Resource</code></p>\n<pre><code>&lt;generatorName&gt;java&lt;/generatorName&gt;\n&lt;library&gt;webclient&lt;/library&gt;\n&lt;typeMappings&gt;string+binary=Resource&lt;/typeMappings&gt;\n&lt;importMappings&gt;Resource=org.springframework.core.io.Resource&lt;/importMappings&gt;\n</code></pre>\n<p>The above is saying when the return type is <code>string</code> and the format is <code>binary</code>, map it to <code>Resource</code> and for <code>Resource</code> import it as <code>org.springframework.core.io.Resource</code>. There you go.</p>\n"},{"tags":[],"owner":{"account_id":10501966,"reputation":21,"user_id":7740422,"display_name":"Jakob Jensen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660049721,"creation_date":1660049721,"answer_id":73292204,"question_id":72934235,"body_markdown":"I had the exact same issue, but using Gradle instead of Maven.\r\nHere is the syntax for doing the same in Gradle:\r\n\r\n    task generateClientSources(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\r\n        generatorName = &#39;java&#39;\r\n        // other configs ..\r\n        configOptions = [\r\n                // other configs ..\r\n                library : &#39;webclient&#39;\r\n        ]\r\n        typeMappings = [\r\n                File : &#39;Resource&#39;\r\n        ]\r\n        importMappings = [\r\n                File : &#39;org.springframework.core.io.Resource&#39;\r\n        ]\r\n    }\r\n\r\n","title":"Spring WebClient does not decode application/octet-stream into File object","body":"<p>I had the exact same issue, but using Gradle instead of Maven.\nHere is the syntax for doing the same in Gradle:</p>\n<pre><code>task generateClientSources(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\n    generatorName = 'java'\n    // other configs ..\n    configOptions = [\n            // other configs ..\n            library : 'webclient'\n    ]\n    typeMappings = [\n            File : 'Resource'\n    ]\n    importMappings = [\n            File : 'org.springframework.core.io.Resource'\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72960603,"answer_count":2,"score":0,"last_activity_date":1660049721,"creation_date":1657518767,"question_id":72934235,"body_markdown":"Hi I am using OpenAPI Generator Maven Plugin to generate some Java Client code (using Spring WebClient library). One of the endpoints of my spec. returns binary content, like:\r\n\r\n    &quot;schema&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;format&quot;: &quot;binary&quot;\r\n    }\r\n\r\nThe generated code uses `java.io.File` as the return type for that, like:\r\n\r\n    public Mono&lt;ResponseEntity&lt;File&gt;&gt; downloadWithHttpInfo(String filename) throws WebClientResponseException {\r\n        ParameterizedTypeReference&lt;File&gt; localVarReturnType = new ParameterizedTypeReference&lt;File&gt;() {};\r\n        return downloadRequestCreation(filename).toEntity(localVarReturnType);\r\n    }\r\n\r\nWhen calling this generated method, the response code was 200 (i.e. OK from the server side), but I got the following error in my client code:\r\n\r\n    org.springframework.web.reactive.function.UnsupportedMediaTypeException:\r\n        Content type &#39;application/octet-stream&#39; not supported for bodyType=java.io.File\r\n\r\nThis came from the `toEntity()` method, which is part of the Spring WebClient code instead of my code.\r\n\r\nIs there a way to workaround this? A: Instruct OpenAPI Generator Maven Plugin not to use `java.io.File` type but use `Resource` type? B: Somehow make WebClient able to decode application/octet-stream into `java.io.File`?","title":"Spring WebClient does not decode application/octet-stream into File object","body":"<p>Hi I am using OpenAPI Generator Maven Plugin to generate some Java Client code (using Spring WebClient library). One of the endpoints of my spec. returns binary content, like:</p>\n<pre><code>&quot;schema&quot;: {\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;format&quot;: &quot;binary&quot;\n}\n</code></pre>\n<p>The generated code uses <code>java.io.File</code> as the return type for that, like:</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;File&gt;&gt; downloadWithHttpInfo(String filename) throws WebClientResponseException {\n    ParameterizedTypeReference&lt;File&gt; localVarReturnType = new ParameterizedTypeReference&lt;File&gt;() {};\n    return downloadRequestCreation(filename).toEntity(localVarReturnType);\n}\n</code></pre>\n<p>When calling this generated method, the response code was 200 (i.e. OK from the server side), but I got the following error in my client code:</p>\n<pre><code>org.springframework.web.reactive.function.UnsupportedMediaTypeException:\n    Content type 'application/octet-stream' not supported for bodyType=java.io.File\n</code></pre>\n<p>This came from the <code>toEntity()</code> method, which is part of the Spring WebClient code instead of my code.</p>\n<p>Is there a way to workaround this? A: Instruct OpenAPI Generator Maven Plugin not to use <code>java.io.File</code> type but use <code>Resource</code> type? B: Somehow make WebClient able to decode application/octet-stream into <code>java.io.File</code>?</p>\n"},{"tags":["java","multithreading","thread-state","java-threads"],"comments":[{"owner":{"account_id":416171,"reputation":31417,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"score":1,"creation_date":1423320998,"post_id":28378592,"comment_id":45105169,"body_markdown":"Why would I ask the person who drew the diagram when based on your comment they don&#39;t know better? :-)","body":"Why would I ask the person who drew the diagram when based on your comment they don&#39;t know better? :-)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1423321458,"post_id":28378592,"comment_id":45105306,"body_markdown":"I said &quot;don&#39;t or didn&#39;t&quot;.  If you ask them, they may discover that they are wrong.  Or they may already have discovered.","body":"I said &quot;don&#39;t or didn&#39;t&quot;.  If you ask them, they may discover that they are wrong.  Or they may already have discovered."},{"owner":{"account_id":416171,"reputation":31417,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"score":0,"creation_date":1423327906,"post_id":28378592,"comment_id":45107254,"body_markdown":"So you&#39;re saying my diagram is more accurate than roughly 106,000 Google results? Hellulalua!","body":"So you&#39;re saying my diagram is more accurate than roughly 106,000 Google results? Hellulalua!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1423349960,"post_id":28378592,"comment_id":45114508,"body_markdown":"No.  I doubt that there are 106,000 different state diagram images on the web ...","body":"No.  I doubt that there are 106,000 different state diagram images on the web ..."},{"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"score":3,"creation_date":1444112074,"post_id":28378592,"comment_id":53750670,"body_markdown":"If that is the case, what is special with `TIMED_WAIT` ? why it is directly going back to `RUNNABLE`, instead of moving to `BLOCKED` ?","body":"If that is the case, what is special with <code>TIMED_WAIT</code> ? why it is directly going back to <code>RUNNABLE</code>, instead of moving to <code>BLOCKED</code> ?"},{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":1,"creation_date":1558178482,"post_id":28378592,"comment_id":99020140,"body_markdown":"there are some clearer answers, if you need. https://stackoverflow.com/q/15680422/2361308","body":"there are some clearer answers, if you need. <a href=\"https://stackoverflow.com/q/15680422/2361308\">stackoverflow.com/q/15680422/2361308</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1423285724,"creation_date":1423284909,"answer_id":28378726,"question_id":28378592,"body_markdown":"Any diagram that shows a `notify` invocation bringing a thread from WAITING to RUNNABLE is wrong (or is using an unclarified shortcut). Once a thread gets awoken from a `notify` (or even from a spurious wakeup) it needs to relock the monitor of the object on which it was waiting. This is the [`BLOCKED`](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html#BLOCKED) state.\r\n\r\n&gt; Thread state for a thread blocked waiting for a monitor lock. A thread\r\n&gt; in the blocked state is waiting for a monitor lock to enter a\r\n&gt; synchronized block/method or reenter a synchronized block/method after\r\n&gt; calling `Object.wait`.\r\n\r\nThis is explained in the javadoc of [`Object#notify()`][1]:\r\n\r\n&gt; The awakened thread will not be able to proceed until the current\r\n&gt; thread relinquishes the lock on this object.\r\n\r\nand [`Object#wait()`][2]\r\n\r\n&gt; The thread then waits until it can re-obtain ownership of the monitor\r\n&gt; and resumes execution.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--","title":"Java thread state transition, WAITING to BLOCKED, or RUNNABLE?","body":"<p>Any diagram that shows a <code>notify</code> invocation bringing a thread from WAITING to RUNNABLE is wrong (or is using an unclarified shortcut). Once a thread gets awoken from a <code>notify</code> (or even from a spurious wakeup) it needs to relock the monitor of the object on which it was waiting. This is the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html#BLOCKED\"><code>BLOCKED</code></a> state.</p>\n\n<blockquote>\n  <p>Thread state for a thread blocked waiting for a monitor lock. A thread\n  in the blocked state is waiting for a monitor lock to enter a\n  synchronized block/method or reenter a synchronized block/method after\n  calling <code>Object.wait</code>.</p>\n</blockquote>\n\n<p>This is explained in the javadoc of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--\"><code>Object#notify()</code></a>:</p>\n\n<blockquote>\n  <p>The awakened thread will not be able to proceed until the current\n  thread relinquishes the lock on this object.</p>\n</blockquote>\n\n<p>and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--\"><code>Object#wait()</code></a></p>\n\n<blockquote>\n  <p>The thread then waits until it can re-obtain ownership of the monitor\n  and resumes execution.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1967198,"reputation":71,"user_id":1767111,"display_name":"hgfeaon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435594858,"creation_date":1435594858,"answer_id":31120731,"question_id":28378592,"body_markdown":"I am focusing on the problem recently.\r\n\r\nas the Oracle document [Thread.State][1] says we can use LockSupport.park() to put the current thread into &#39;WAITING&#39; or &#39;TIMED_WAITING&#39; state. \r\n\r\nso when you try the [LockSupport.unpark()][2], the specified thread will return to &#39;RUNNABLE&#39; from &#39;WAITING&#39;/&#39;TIMED_WAITING&#39;. (I am not sure whether it will go through the &#39;BLOCKED&#39; state)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html &quot;Thread.State&quot;\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html#unpark(java.lang.Thread)","title":"Java thread state transition, WAITING to BLOCKED, or RUNNABLE?","body":"<p>I am focusing on the problem recently.</p>\n\n<p>as the Oracle document <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html\" rel=\"nofollow\" title=\"Thread.State\">Thread.State</a> says we can use LockSupport.park() to put the current thread into 'WAITING' or 'TIMED_WAITING' state. </p>\n\n<p>so when you try the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html#unpark(java.lang.Thread)\" rel=\"nofollow\">LockSupport.unpark()</a>, the specified thread will return to 'RUNNABLE' from 'WAITING'/'TIMED_WAITING'. (I am not sure whether it will go through the 'BLOCKED' state)</p>\n"},{"tags":[],"owner":{"display_name":"user4768611"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499029294,"creation_date":1499029294,"answer_id":44875182,"question_id":28378592,"body_markdown":"A thread is in **WAITING** state goes in **BLOCK** state,until it acquires monitor by notify and become **RUNNABLE**. \r\n\r\nSame applies for **TIMEDWAITING**,it goes in **BLOCK** state,if monitor is hold by some other thread,even though specified time has passed.*(your diagram need to be corrected)*","title":"Java thread state transition, WAITING to BLOCKED, or RUNNABLE?","body":"<p>A thread is in <strong>WAITING</strong> state goes in <strong>BLOCK</strong> state,until it acquires monitor by notify and become <strong>RUNNABLE</strong>. </p>\n\n<p>Same applies for <strong>TIMEDWAITING</strong>,it goes in <strong>BLOCK</strong> state,if monitor is hold by some other thread,even though specified time has passed.<em>(your diagram need to be corrected)</em></p>\n"},{"tags":[],"owner":{"account_id":7938112,"reputation":3993,"user_id":5993278,"accept_rate":39,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660049580,"creation_date":1626533742,"answer_id":68421632,"question_id":28378592,"body_markdown":"It is worth to mention that is also true for `Thread.interrupt()` method during `WAITING` state while in `lock.wait()` method.\r\n\r\n `Thread.interrupt()` method will firstly make `WAITING` thread `BLOCKED` with `isInterrupted` flag set to true, and only after reacquiring lock interrupted thread will be able to throw `InterruptedException` (that is obvious, as it cannot handle exception, by that continuing execution without having exclusive lock before). ([example here][1])\r\n\r\nSimply to say \r\n\r\nAlways `WAITING -&gt; BLOCKED` to be able again compete for the lock, and after that to acquire it eventually and run its&#39; code `RUNNABLE`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6698977/thread-interrupt-will-it-cancel-oncoming-wait-call/68421310#68421310","title":"Java thread state transition, WAITING to BLOCKED, or RUNNABLE?","body":"<p>It is worth to mention that is also true for <code>Thread.interrupt()</code> method during <code>WAITING</code> state while in <code>lock.wait()</code> method.</p>\n<p><code>Thread.interrupt()</code> method will firstly make <code>WAITING</code> thread <code>BLOCKED</code> with <code>isInterrupted</code> flag set to true, and only after reacquiring lock interrupted thread will be able to throw <code>InterruptedException</code> (that is obvious, as it cannot handle exception, by that continuing execution without having exclusive lock before). (<a href=\"https://stackoverflow.com/questions/6698977/thread-interrupt-will-it-cancel-oncoming-wait-call/68421310#68421310\">example here</a>)</p>\n<p>Simply to say</p>\n<p>Always <code>WAITING -&gt; BLOCKED</code> to be able again compete for the lock, and after that to acquire it eventually and run its' code <code>RUNNABLE</code>.</p>\n"}],"owner":{"account_id":416171,"reputation":31417,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12833,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":28378726,"answer_count":4,"score":35,"last_activity_date":1660049580,"creation_date":1423283761,"question_id":28378592,"body_markdown":"There seems to be a discrepancy between SO consensus and nearly every Java thread state diagram on the Internet; specifically, regarding thread state transition *from* `WAITING` after `notify()` or `notifyAll()` is invoked...\n\n- *WAITING [never][1] goes directly to RUNNABLE*\n- *The thread is WAITING until it is notified...Then it [becomes][2] BLOCKED...*\n- *Once this thread is notified, it [will not be runnable][3]...This is..Blocked State.*\n\nSo the concensus on SO is: a thread transitions from `WAITING` to `BLOCKED` after invoking `notify()` or `notifyAll()`; diagram below illustrates this transition in green.\n\n### Question\nWhy do most [state diagrams on the web][4] illustrate the transition from `WAITING` to `RUNNABLE`, not `BLOCKED`? Depiction in red shows the incorrect transition; am I missing something? \n\n![enter image description here][5]\n\n\n  [1]: https://stackoverflow.com/a/13664082/791406\n  [2]: https://stackoverflow.com/a/2534158/791406\n  [3]: https://stackoverflow.com/a/15680579/791406\n  [4]: https://www.google.com/search?q=java%20thread%20state%20diagram&amp;ie=utf-8&amp;oe=utf-8\n  [5]: http://i.stack.imgur.com/XtQm4.png","title":"Java thread state transition, WAITING to BLOCKED, or RUNNABLE?","body":"<p>There seems to be a discrepancy between SO consensus and nearly every Java thread state diagram on the Internet; specifically, regarding thread state transition <em>from</em> <code>WAITING</code> after <code>notify()</code> or <code>notifyAll()</code> is invoked...</p>\n<ul>\n<li><em>WAITING <a href=\"https://stackoverflow.com/a/13664082/791406\">never</a> goes directly to RUNNABLE</em></li>\n<li><em>The thread is WAITING until it is notified...Then it <a href=\"https://stackoverflow.com/a/2534158/791406\">becomes</a> BLOCKED...</em></li>\n<li><em>Once this thread is notified, it <a href=\"https://stackoverflow.com/a/15680579/791406\">will not be runnable</a>...This is..Blocked State.</em></li>\n</ul>\n<p>So the concensus on SO is: a thread transitions from <code>WAITING</code> to <code>BLOCKED</code> after invoking <code>notify()</code> or <code>notifyAll()</code>; diagram below illustrates this transition in green.</p>\n<h3>Question</h3>\n<p>Why do most <a href=\"https://www.google.com/search?q=java%20thread%20state%20diagram&amp;ie=utf-8&amp;oe=utf-8\" rel=\"noreferrer\">state diagrams on the web</a> illustrate the transition from <code>WAITING</code> to <code>RUNNABLE</code>, not <code>BLOCKED</code>? Depiction in red shows the incorrect transition; am I missing something?</p>\n<p><img src=\"https://i.stack.imgur.com/XtQm4.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","maven","tomcat","tomcat9"],"comments":[{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1660057781,"post_id":73292104,"comment_id":129440223,"body_markdown":"Did you build your app into a all-in-one executable jar? That is one way to force the download of all dependencies.  It would also let you unzip the all-in-one jar to make sure includes the jaxb-core jar.","body":"Did you build your app into a all-in-one executable jar? That is one way to force the download of all dependencies.  It would also let you unzip the all-in-one jar to make sure includes the jaxb-core jar."},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1660058124,"post_id":73292104,"comment_id":129440390,"body_markdown":"I notice you&#39;re using very old technology.  It is so old that some of jars  had their package name changed.  For instance, for your `jstl` dependency, the groupId changed from `javax.servlet` to `javax.servlet.jsp.jstl`.  If possible, use the newest version of Tomcat and all other dependencies.  It might fix weird problems from old technology.","body":"I notice you&#39;re using very old technology.  It is so old that some of jars  had their package name changed.  For instance, for your <code>jstl</code> dependency, the groupId changed from <code>javax.servlet</code> to <code>javax.servlet.jsp.jstl</code>.  If possible, use the newest version of Tomcat and all other dependencies.  It might fix weird problems from old technology."},{"owner":{"account_id":24264708,"reputation":3,"user_id":18213796,"display_name":"user12345"},"score":0,"creation_date":1660084484,"post_id":73292104,"comment_id":129448327,"body_markdown":"Thanks for your reply. When I package the application as war file, it works fine. But when I run the application as Main java application I am getting this issue. Infact I am able to run the application even though I get the exception. This is a simple application. But there is quite big application where I am getting similar exception and does not run the application. I am using tomcat9.0.38","body":"Thanks for your reply. When I package the application as war file, it works fine. But when I run the application as Main java application I am getting this issue. Infact I am able to run the application even though I get the exception. This is a simple application. But there is quite big application where I am getting similar exception and does not run the application. I am using tomcat9.0.38"},{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1660723188,"post_id":73292104,"comment_id":129597144,"body_markdown":"See https://stackoverflow.com/questions/73364640","body":"See <a href=\"https://stackoverflow.com/questions/73364640\">stackoverflow.com/questions/73364640</a>"}],"owner":{"account_id":24264708,"reputation":3,"user_id":18213796,"display_name":"user12345"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660049496,"creation_date":1660049295,"question_id":73292104,"body_markdown":"I am trying to create a emebded tomcat server for my jsp servlet application.\r\nWhen I added the below dependency to the application, I am getting FileNotFoundException \r\nexceptions while running the main application.     How to fix this issue? Below is the dependency that I have added to pom.xml\r\n\r\nC:\\Users\\testuser\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-core\\2.2.11\\jaxb-api.jar\r\n\r\n    java.io.FileNotFoundException: C:\\Users\\testuser\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-core\\2.2.11\\jaxb-api.jar (The system cannot find the file specified)\r\n    \tat java.util.zip.ZipFile.open(Native Method)\r\n    \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n    \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n    \tat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\r\n    \tat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\r\n    \tat org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:221)\r\n    \tat org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\r\n    \tat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:383)\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:318)\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:270)\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:233)\r\n    \tat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262)\t\r\n    \t\r\n   \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n    package launch;\r\n    \r\n    import org.apache.catalina.LifecycleException;\r\n    import org.apache.catalina.WebResourceRoot;\r\n    import org.apache.catalina.core.StandardContext;\r\n    import org.apache.catalina.startup.Tomcat;\r\n    import org.apache.catalina.webresources.DirResourceSet;\r\n    import org.apache.catalina.webresources.StandardRoot;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            String webappDirLocation = &quot;src/main/webapp/&quot;;\r\n            Tomcat tomcat = new Tomcat();\r\n    \r\n            //The port that we should run on can be set into an environment variable\r\n            //Look for that variable and default to 8080 if it isn&#39;t there.\r\n            String webPort = System.getenv(&quot;PORT&quot;);\r\n            if(webPort == null || webPort.isEmpty()) {\r\n                webPort = &quot;8080&quot;;\r\n            }\r\n    \r\n            tomcat.setPort(Integer.valueOf(webPort));\r\n    \r\n    \r\n            StandardContext ctx = (StandardContext) tomcat.addWebapp(&quot;&quot;, new File(webappDirLocation).getAbsolutePath());\r\n            System.out.println(&quot;configuring app with basedir: &quot; + new File(&quot;./&quot; + webappDirLocation).getAbsolutePath());\r\n            \r\n    \r\n            // Declare an alternative location for your &quot;WEB-INF/classes&quot; dir\r\n            // Servlet 3.0 annotation will work\r\n            File additionWebInfClasses = new File(&quot;target/classes&quot;);\r\n            WebResourceRoot resources = new StandardRoot(ctx);\r\n            resources.addPreResources(new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;,\r\n                    additionWebInfClasses.getAbsolutePath(), &quot;/&quot;));\r\n            ctx.setResources(resources);\r\n            \r\n    \r\n            tomcat.enableNaming();\r\n            tomcat.getConnector();\r\n    \r\n    \r\n            try {\r\n                tomcat.start();\r\n            } catch (LifecycleException e) {\r\n                e.printStackTrace();\r\n            }\r\n            tomcat.getServer().await();\r\n        }\r\n    }","title":"Tomcat embded server classnotfound exception","body":"<p>I am trying to create a emebded tomcat server for my jsp servlet application.\nWhen I added the below dependency to the application, I am getting FileNotFoundException\nexceptions while running the main application.     How to fix this issue? Below is the dependency that I have added to pom.xml</p>\n<p>C:\\Users\\testuser.m2\\repository\\com\\sun\\xml\\bind\\jaxb-core\\2.2.11\\jaxb-api.jar</p>\n<pre><code>java.io.FileNotFoundException: C:\\Users\\testuser\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-core\\2.2.11\\jaxb-api.jar (The system cannot find the file specified)\n    at java.util.zip.ZipFile.open(Native Method)\n    at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n    at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n    at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\n    at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\n    at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:221)\n    at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\n    at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\n    at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:383)\n    at org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:318)\n    at org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:270)\n    at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:233)\n    at org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262)   \n    \n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;2.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\npackage launch;\n\nimport org.apache.catalina.LifecycleException;\nimport org.apache.catalina.WebResourceRoot;\nimport org.apache.catalina.core.StandardContext;\nimport org.apache.catalina.startup.Tomcat;\nimport org.apache.catalina.webresources.DirResourceSet;\nimport org.apache.catalina.webresources.StandardRoot;\n\nimport java.io.File;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n\n        String webappDirLocation = &quot;src/main/webapp/&quot;;\n        Tomcat tomcat = new Tomcat();\n\n        //The port that we should run on can be set into an environment variable\n        //Look for that variable and default to 8080 if it isn't there.\n        String webPort = System.getenv(&quot;PORT&quot;);\n        if(webPort == null || webPort.isEmpty()) {\n            webPort = &quot;8080&quot;;\n        }\n\n        tomcat.setPort(Integer.valueOf(webPort));\n\n\n        StandardContext ctx = (StandardContext) tomcat.addWebapp(&quot;&quot;, new File(webappDirLocation).getAbsolutePath());\n        System.out.println(&quot;configuring app with basedir: &quot; + new File(&quot;./&quot; + webappDirLocation).getAbsolutePath());\n        \n\n        // Declare an alternative location for your &quot;WEB-INF/classes&quot; dir\n        // Servlet 3.0 annotation will work\n        File additionWebInfClasses = new File(&quot;target/classes&quot;);\n        WebResourceRoot resources = new StandardRoot(ctx);\n        resources.addPreResources(new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;,\n                additionWebInfClasses.getAbsolutePath(), &quot;/&quot;));\n        ctx.setResources(resources);\n        \n\n        tomcat.enableNaming();\n        tomcat.getConnector();\n\n\n        try {\n            tomcat.start();\n        } catch (LifecycleException e) {\n            e.printStackTrace();\n        }\n        tomcat.getServer().await();\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","querydsl"],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660049050,"creation_date":1660049050,"answer_id":73292048,"question_id":73290143,"body_markdown":"The following solution works, but still feels kind of ugly. Please comment if there are better solutions than:\r\n\r\n    entity.departureDate.after(\r\n            Expressions.dateTemplate(LocalDate.class,\r\n                                     &quot;FUNCTION(&#39;ADDDATE&#39;, {0}, {1})&quot;,\r\n                                     entity.departureDate,\r\n                                     10)));\r\n\r\n\r\nThis solution can also be found at: https://stackoverflow.com/a/22988168/1194415","title":"How to use querydsl SQLExpressions with Mysql?","body":"<p>The following solution works, but still feels kind of ugly. Please comment if there are better solutions than:</p>\n<pre><code>entity.departureDate.after(\n        Expressions.dateTemplate(LocalDate.class,\n                                 &quot;FUNCTION('ADDDATE', {0}, {1})&quot;,\n                                 entity.departureDate,\n                                 10)));\n</code></pre>\n<p>This solution can also be found at: <a href=\"https://stackoverflow.com/a/22988168/1194415\">https://stackoverflow.com/a/22988168/1194415</a></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73292048,"answer_count":1,"score":0,"last_activity_date":1660049050,"creation_date":1660040206,"question_id":73290143,"body_markdown":"I&#39;m trying to apply a `mysql` specific function to a querydsl definition:\r\n\r\n    entity.departureDate.after(SQLExpressions.addDays(entity.departureDate, 10))\r\n\r\nResults in generated sql:\r\n\r\n    select * from mytable where departureDate &gt; add_days(departureDate,?1)\r\n\r\nBut that results in an exception, as `add_days` is not a known mysql function:\r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: FUNCTION mytable.add_days does not exist\r\n\r\nQuestion: how can I tell `querydsl` to use `DATE_ADD()` function instead?","title":"How to use querydsl SQLExpressions with Mysql?","body":"<p>I'm trying to apply a <code>mysql</code> specific function to a querydsl definition:</p>\n<pre><code>entity.departureDate.after(SQLExpressions.addDays(entity.departureDate, 10))\n</code></pre>\n<p>Results in generated sql:</p>\n<pre><code>select * from mytable where departureDate &gt; add_days(departureDate,?1)\n</code></pre>\n<p>But that results in an exception, as <code>add_days</code> is not a known mysql function:</p>\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: FUNCTION mytable.add_days does not exist\n</code></pre>\n<p>Question: how can I tell <code>querydsl</code> to use <code>DATE_ADD()</code> function instead?</p>\n"},{"tags":["java","xslt","fonts","apache-fop"],"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660049001,"creation_date":1660049001,"question_id":73292033,"body_markdown":"Using FOP to transform xml+xslt=xsl-fo= pdf\r\n\r\nPreviously, we used an external configuration file where fonts were registered and a directory was specified.\r\n\r\nNow we decided to completely abandon this file, and configure everything inside the java classes.\r\n\r\nIn the code, I specified the path to the fonts\r\n```\r\nfoUserAgent.getFontManager().setResourceResolver(resourceResolver);\r\n```\r\nI output in the logs and get the correct path\r\n\r\n```\r\nFontBaseURL: file:/myserv/etc/tomcat/fop/Fonts/\r\n```\r\n\r\nBut I keep getting the error\r\n\r\n```\r\nFOUserAgen Font &quot;Times New Roman,normal,400&quot; not found. Substituting with &quot;any, normal, 400&quot;.\r\n```\r\n\r\nHow do I need to specify a directory so that fop will automatically load fonts from where?\r\n\r\nI understand correctly that I need to use the \\&lt;auto-detect/\\&gt; option, but how do I enable it if I don&#39;t use an external config file?\r\n\r\nIs it really possible to set up work with fonts without using an external configuration file?","title":"How to configure FOP to automatically use the desired fonts from a directory","body":"<p>Using FOP to transform xml+xslt=xsl-fo= pdf</p>\n<p>Previously, we used an external configuration file where fonts were registered and a directory was specified.</p>\n<p>Now we decided to completely abandon this file, and configure everything inside the java classes.</p>\n<p>In the code, I specified the path to the fonts</p>\n<pre><code>foUserAgent.getFontManager().setResourceResolver(resourceResolver);\n</code></pre>\n<p>I output in the logs and get the correct path</p>\n<pre><code>FontBaseURL: file:/myserv/etc/tomcat/fop/Fonts/\n</code></pre>\n<p>But I keep getting the error</p>\n<pre><code>FOUserAgen Font &quot;Times New Roman,normal,400&quot; not found. Substituting with &quot;any, normal, 400&quot;.\n</code></pre>\n<p>How do I need to specify a directory so that fop will automatically load fonts from where?</p>\n<p>I understand correctly that I need to use the &lt;auto-detect/&gt; option, but how do I enable it if I don't use an external config file?</p>\n<p>Is it really possible to set up work with fonts without using an external configuration file?</p>\n"},{"tags":["java","android","flutter","dart","gradle"],"comments":[{"owner":{"account_id":18693423,"reputation":116,"user_id":13627278,"display_name":"Tarak Parab"},"score":0,"creation_date":1660049413,"post_id":70484851,"comment_id":129436550,"body_markdown":"Does this answer your question? [Flutter release APK：Invalid keystore format with Linux(deepin)](https://stackoverflow.com/questions/62988452/flutter-release-apk-invalid-keystore-format-with-linuxdeepin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62988452/flutter-release-apk-invalid-keystore-format-with-linuxdeepin\">Flutter release APK：Invalid keystore format with Linux(deepin)</a>"}],"answers":[{"tags":[],"owner":{"account_id":10861087,"reputation":659,"user_id":7985942,"display_name":"Randolfo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641586566,"creation_date":1641554331,"answer_id":70620447,"question_id":70484851,"body_markdown":"I think your problem could be the -storetype option, it is missing in your keytool command line. Here follow mine that is working.\r\n \r\n`keytool -genkey -v -keystore upload-keystore.jks` **-storetype JKS** `-keyalg RSA -keysize 2048 -validity 10000 -alias upload`\r\n\r\nI think in same point this line changed, and you are using the old one.","title":"Flutter Failed to read key upload from store &quot;key.jks&quot;. Invalid keystore format","body":"<p>I think your problem could be the -storetype option, it is missing in your keytool command line. Here follow mine that is working.</p>\n<p><code>keytool -genkey -v -keystore upload-keystore.jks</code> <strong>-storetype JKS</strong> <code>-keyalg RSA -keysize 2048 -validity 10000 -alias upload</code></p>\n<p>I think in same point this line changed, and you are using the old one.</p>\n"},{"tags":[],"owner":{"account_id":18693423,"reputation":116,"user_id":13627278,"display_name":"Tarak Parab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660048961,"creation_date":1660048961,"answer_id":73292025,"question_id":70484851,"body_markdown":"[As per official Flutter guide][1], \r\n\r\n&gt; The -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12.\r\n\r\nSo, I would guess that during building the compiler is expecting JKS type file while you by default have created PKCS12 type file as you omitted -storetype tag while generating it. So simply remove &quot;.jks&quot; from storefile = &quot;/android/app/key.jks&quot; in your key.properties as well as from the file extension of the keystore file key.jks.\r\n\r\nFurther, you could provide .p12 or .pfx as file extension for PKCS12 type keystore, but I have tested for file without extension and the build was successful.\r\n\r\nAlso, not related to this question, but related to PKCS12 keystore:\r\nMy build was failing with &quot;given-final-block-not-properly-padded&quot; error.\r\nProblem was in key.properties file I had different passwords for storePassword and keyPassword.\r\n\r\nWhile generating PKCS12 type keystore file, keytool asks for only storePassword and it seems same password is applied to keyPassword as well. So in key.properties when I used same passwords for both, then the build was successful.\r\n\r\n\r\n  [1]: https://docs.flutter.dev/deployment/android#signing-the-app","title":"Flutter Failed to read key upload from store &quot;key.jks&quot;. Invalid keystore format","body":"<p><a href=\"https://docs.flutter.dev/deployment/android#signing-the-app\" rel=\"nofollow noreferrer\">As per official Flutter guide</a>,</p>\n<blockquote>\n<p>The -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12.</p>\n</blockquote>\n<p>So, I would guess that during building the compiler is expecting JKS type file while you by default have created PKCS12 type file as you omitted -storetype tag while generating it. So simply remove &quot;.jks&quot; from storefile = &quot;/android/app/key.jks&quot; in your key.properties as well as from the file extension of the keystore file key.jks.</p>\n<p>Further, you could provide .p12 or .pfx as file extension for PKCS12 type keystore, but I have tested for file without extension and the build was successful.</p>\n<p>Also, not related to this question, but related to PKCS12 keystore:\nMy build was failing with &quot;given-final-block-not-properly-padded&quot; error.\nProblem was in key.properties file I had different passwords for storePassword and keyPassword.</p>\n<p>While generating PKCS12 type keystore file, keytool asks for only storePassword and it seems same password is applied to keyPassword as well. So in key.properties when I used same passwords for both, then the build was successful.</p>\n"}],"owner":{"account_id":15394888,"reputation":590,"user_id":11106360,"display_name":"Aayush Bhattarai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660048961,"creation_date":1640503542,"question_id":70484851,"body_markdown":"I am trying to generate `appbundle` using `flutter build appbundle --release`, when i run the command it throws following errors.\r\n```\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:signReleaseBundle&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; Failed to read key upload from store &quot;/android/app/key.jks&quot;: Invalid keystore format\r\n```\r\n\r\nFor signing the app, I followed the [Flutter Official Documentation for Android][1]\r\n\r\nmy `app/build.gradle`\r\n```\r\ndef keystoreProperties = new Properties()\r\ndef keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)\r\nif (keystorePropertiesFile.exists()) {\r\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion flutter.compileSdkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.batuwacab&quot;\r\n        minSdkVersion 20\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        multiDexEnabled true\r\n    }\r\n\r\n       signingConfigs {\r\n       release {\r\n           keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n           keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n           storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null\r\n           storePassword keystoreProperties[&#39;storePassword&#39;]\r\n       }\r\n   }\r\n   buildTypes {\r\n       release {\r\n           signingConfig signingConfigs.release\r\n       }\r\n   }\r\n}\r\n...\r\n```\r\n[![Flutter Doctor][2]][2]\r\n\r\nI have stored `key.jks` in `android/app` and used this command to generate `key.jks`\r\n`keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload`\r\n\r\nThanks in Advance.\r\n\r\n\r\n  [1]: https://docs.flutter.dev/deployment/android\r\n  [2]: https://i.stack.imgur.com/ADy9d.png","title":"Flutter Failed to read key upload from store &quot;key.jks&quot;. Invalid keystore format","body":"<p>I am trying to generate <code>appbundle</code> using <code>flutter build appbundle --release</code>, when i run the command it throws following errors.</p>\n<pre><code>\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:signReleaseBundle'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; Failed to read key upload from store &quot;/android/app/key.jks&quot;: Invalid keystore format\n</code></pre>\n<p>For signing the app, I followed the <a href=\"https://docs.flutter.dev/deployment/android\" rel=\"nofollow noreferrer\">Flutter Official Documentation for Android</a></p>\n<p>my <code>app/build.gradle</code></p>\n<pre><code>def keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion flutter.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.batuwacab&quot;\n        minSdkVersion 20\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n       signingConfigs {\n       release {\n           keyAlias keystoreProperties['keyAlias']\n           keyPassword keystoreProperties['keyPassword']\n           storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n           storePassword keystoreProperties['storePassword']\n       }\n   }\n   buildTypes {\n       release {\n           signingConfig signingConfigs.release\n       }\n   }\n}\n...\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ADy9d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ADy9d.png\" alt=\"Flutter Doctor\" /></a></p>\n<p>I have stored <code>key.jks</code> in <code>android/app</code> and used this command to generate <code>key.jks</code>\n<code>keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload</code></p>\n<p>Thanks in Advance.</p>\n"},{"tags":["javascript","java","jsp"],"answers":[{"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659968857,"creation_date":1659968857,"answer_id":73279507,"question_id":73278745,"body_markdown":"I guess that the simplest idea is to send the stopwatch value from the JS and send to the controller via form, here is what I thought:\r\n\r\n 1. create you stopwatch logic with js and html. using setInterval or anything.\r\n 2. create a form with inputs of hidden type, and when the user click on the button to stop, fulfill these inputs with the data, using js, onClick event before the submit event, etc.\r\n 3. finally you send the form values through a post request to your controller.\r\n\r\nSince the inputs are hidden, only the button will be the visible component of the form, but you will be still sending the values to the controller.","title":"Stopwatch in java jsp view","body":"<p>I guess that the simplest idea is to send the stopwatch value from the JS and send to the controller via form, here is what I thought:</p>\n<ol>\n<li>create you stopwatch logic with js and html. using setInterval or anything.</li>\n<li>create a form with inputs of hidden type, and when the user click on the button to stop, fulfill these inputs with the data, using js, onClick event before the submit event, etc.</li>\n<li>finally you send the form values through a post request to your controller.</li>\n</ol>\n<p>Since the inputs are hidden, only the button will be the visible component of the form, but you will be still sending the values to the controller.</p>\n"}],"owner":{"account_id":26009183,"reputation":11,"user_id":19718527,"display_name":"fabian3l"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660048525,"creation_date":1659965660,"question_id":73278745,"body_markdown":"I&#39;m working on project WebApplication to solve rubick cube for speedcubers. \r\nI need to display realtime stopwatch in jsp view.\r\nFirst idea was to implement stopwatch in JS and then send value to controller,\r\nI&#39;ve got problem with getting js parameter (stopwatch finish time), to java controller.\r\nMy question is, is it possible to implement stopwatch in java, works on jsp buttons, \r\nor any idea how to save value in controller from jsp. \r\n\r\n\r\n//edit\r\n\r\nmade hidden form, and set the finish value of time to form.\r\n\r\nAfter click submit button, it sends value to database, but the empty slot. No idea why. \r\n\r\n\r\nMy code, \r\n**javascript stopwatch:**\r\n\r\n    &lt;script&gt;\r\n    let [milliseconds,second,minute,] = [0,0,0];\r\n    let timerRef = document.querySelector(&#39;.mainTime&#39;);\r\n    let int = null;\r\n\r\n    document.getElementById(&#39;start&#39;).addEventListener(&#39;click&#39;, function(event){\r\n        if(int!==null){\r\n            clearInterval(int);\r\n        }\r\n        int = setInterval(mainTime, 10);\r\n    });\r\n\r\n    document.getElementById(&#39;stop&#39;).addEventListener(&#39;click&#39;, function (event){\r\n        clearInterval(int);\r\n        let stringDoZapisuWBazie = document.querySelector(&#39;div.mainTime&#39;).innerHTML;\r\n        console.log(stringDoZapisuWBazie);\r\n        document.getElementById(&#39;timeValue&#39;).value=stringDoZapisuWBazie;\r\n\r\n\r\n    });\r\n\r\n    document.getElementById(&#39;reset&#39;).addEventListener(&#39;click&#39;, function (event){\r\n        clearInterval(int);\r\n        [milliseconds,seconds,minutes,hours] = [0,0,0];\r\n        timerRef.innerHTML = &#39;00 : 00 : 00&#39;;\r\n    });\r\n\r\n    function mainTime(){\r\n        milliseconds+=10;\r\n        if(milliseconds == 1000){\r\n            milliseconds = 0;\r\n            second++;\r\n            if(second == 60){\r\n                second = 0;\r\n                minute++;\r\n                if(minute == 60){\r\n                    minute = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        let m = minute &lt; 10 ? &quot;0&quot; + minute : minute;\r\n        let s = second &lt; 10 ? &quot;0&quot; + second : second;\r\n        let ms = milliseconds &lt; 10 ? &quot;00&quot; + milliseconds : milliseconds &lt; 100 ? &quot;0&quot; + milliseconds : milliseconds;\r\n        timerRef.innerHTML = m + &#39; : &#39; + s + &#39; : &#39; + ms;\r\n    }\r\n&lt;/script&gt;\r\n\r\nhtml:\r\n`&lt;body&gt;\r\n&lt;h1&gt;Strona gł&#243;wna&lt;/h1&gt;\r\n\r\n&lt;center&gt;\r\n\r\n    &lt;div id=&quot;scramble&quot;&gt;\r\n        &lt;h2&gt;${mixAlg.scrambleValue}&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div id=&quot;mainstopwatch&quot;&gt;\r\n        &lt;div class=&quot;mainTime&quot;&gt;\r\n            &lt;span id=&quot;mainminute&quot;&gt;00&lt;/span&gt;\r\n            &lt;span id=&quot;mainsecond&quot;&gt;00&lt;/span&gt;\r\n            &lt;span id=&quot;milliseconds&quot;&gt;00&lt;/span&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;br&gt;\r\n            &lt;div id=&quot;timeButtons&quot;&gt;\r\n                    &lt;form action=&quot;/solve/main&quot; method=&quot;get&quot;&gt;\r\n                        &lt;button id=&quot;reset&quot; type=&quot;submit&quot; name=&quot;reset&quot; value=&quot;newScramble&quot;&gt;new scramble&lt;/button&gt;\r\n                    &lt;/form&gt;\r\n                        &lt;button id=&quot;start&quot; name=&quot;start&quot; value=&quot;start&quot;&gt;Start&lt;/button&gt;\r\n                        &lt;button id=&quot;stop&quot; name=&quot;stop&quot; value=&quot;stop&quot;&gt;Stop &lt;/button&gt;\r\n\r\n            &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=&quot;addTime&quot;&gt;\r\n        &lt;p&gt;Podaj sw&#243;j czas&lt;/p&gt;\r\n        &lt;form:form method=&quot;post&quot; action=&quot;/solve/add&quot; modelAttribute=&quot;timeValue&quot;&gt;\r\n            &lt;form:hidden id=&quot;timeValue&quot; path=&quot;timeValue&quot;&gt;&lt;/form:hidden&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;Wyślij&lt;/button&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/center&gt;`\r\n\r\n**Controller**\r\n\r\n``` @GetMapping(&quot;/add&quot;)\r\n    public String addTime(Model model){\r\n        model.addAttribute(&quot;timeValue&quot;, new Time());\r\n        return &quot;addTime&quot;;\r\n    }\r\n    @PostMapping(&quot;/add&quot;)\r\n    public String saveTime(Time time){\r\n        timeService.saveTime(time);\r\n        return &quot;redirect:/solve/main&quot;;\r\n    }```","title":"Stopwatch in java jsp view","body":"<p>I'm working on project WebApplication to solve rubick cube for speedcubers.\nI need to display realtime stopwatch in jsp view.\nFirst idea was to implement stopwatch in JS and then send value to controller,\nI've got problem with getting js parameter (stopwatch finish time), to java controller.\nMy question is, is it possible to implement stopwatch in java, works on jsp buttons,\nor any idea how to save value in controller from jsp.</p>\n<p>//edit</p>\n<p>made hidden form, and set the finish value of time to form.</p>\n<p>After click submit button, it sends value to database, but the empty slot. No idea why.</p>\n<p>My code,\n<strong>javascript stopwatch:</strong></p>\n<pre><code>&lt;script&gt;\nlet [milliseconds,second,minute,] = [0,0,0];\nlet timerRef = document.querySelector('.mainTime');\nlet int = null;\n\ndocument.getElementById('start').addEventListener('click', function(event){\n    if(int!==null){\n        clearInterval(int);\n    }\n    int = setInterval(mainTime, 10);\n});\n\ndocument.getElementById('stop').addEventListener('click', function (event){\n    clearInterval(int);\n    let stringDoZapisuWBazie = document.querySelector('div.mainTime').innerHTML;\n    console.log(stringDoZapisuWBazie);\n    document.getElementById('timeValue').value=stringDoZapisuWBazie;\n\n\n});\n\ndocument.getElementById('reset').addEventListener('click', function (event){\n    clearInterval(int);\n    [milliseconds,seconds,minutes,hours] = [0,0,0];\n    timerRef.innerHTML = '00 : 00 : 00';\n});\n\nfunction mainTime(){\n    milliseconds+=10;\n    if(milliseconds == 1000){\n        milliseconds = 0;\n        second++;\n        if(second == 60){\n            second = 0;\n            minute++;\n            if(minute == 60){\n                minute = 0;\n            }\n        }\n    }\n\n    let m = minute &lt; 10 ? &quot;0&quot; + minute : minute;\n    let s = second &lt; 10 ? &quot;0&quot; + second : second;\n    let ms = milliseconds &lt; 10 ? &quot;00&quot; + milliseconds : milliseconds &lt; 100 ? &quot;0&quot; + milliseconds : milliseconds;\n    timerRef.innerHTML = m + ' : ' + s + ' : ' + ms;\n}\n</code></pre>\n\n<p>html:\n`</p>\n<h1>Strona główna</h1>\n\n<pre><code>&lt;div id=&quot;scramble&quot;&gt;\n    &lt;h2&gt;${mixAlg.scrambleValue}&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;div id=&quot;mainstopwatch&quot;&gt;\n    &lt;div class=&quot;mainTime&quot;&gt;\n        &lt;span id=&quot;mainminute&quot;&gt;00&lt;/span&gt;\n        &lt;span id=&quot;mainsecond&quot;&gt;00&lt;/span&gt;\n        &lt;span id=&quot;milliseconds&quot;&gt;00&lt;/span&gt;\n    &lt;/div&gt;\n\n    &lt;br&gt;\n        &lt;div id=&quot;timeButtons&quot;&gt;\n                &lt;form action=&quot;/solve/main&quot; method=&quot;get&quot;&gt;\n                    &lt;button id=&quot;reset&quot; type=&quot;submit&quot; name=&quot;reset&quot; value=&quot;newScramble&quot;&gt;new scramble&lt;/button&gt;\n                &lt;/form&gt;\n                    &lt;button id=&quot;start&quot; name=&quot;start&quot; value=&quot;start&quot;&gt;Start&lt;/button&gt;\n                    &lt;button id=&quot;stop&quot; name=&quot;stop&quot; value=&quot;stop&quot;&gt;Stop &lt;/button&gt;\n\n        &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=&quot;addTime&quot;&gt;\n    &lt;p&gt;Podaj swój czas&lt;/p&gt;\n    &lt;form:form method=&quot;post&quot; action=&quot;/solve/add&quot; modelAttribute=&quot;timeValue&quot;&gt;\n        &lt;form:hidden id=&quot;timeValue&quot; path=&quot;timeValue&quot;&gt;&lt;/form:hidden&gt;\n        &lt;button type=&quot;submit&quot;&gt;Wyślij&lt;/button&gt;\n    &lt;/form:form&gt;\n&lt;/div&gt;\n</code></pre>\n`\n<p><strong>Controller</strong></p>\n<pre><code>    public String addTime(Model model){\n        model.addAttribute(&quot;timeValue&quot;, new Time());\n        return &quot;addTime&quot;;\n    }\n    @PostMapping(&quot;/add&quot;)\n    public String saveTime(Time time){\n        timeService.saveTime(time);\n        return &quot;redirect:/solve/main&quot;;\n    }```\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpa-2.0"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1659960312,"post_id":73265247,"comment_id":129411662,"body_markdown":"My guess is, that you have both classes on the class path but loaded by different class loaders somehow and now Hibernate in fact sees two different class objects. Try debugging to the exception root and determine if the class objects are referring to the same object (same identity hash code)","body":"My guess is, that you have both classes on the class path but loaded by different class loaders somehow and now Hibernate in fact sees two different class objects. Try debugging to the exception root and determine if the class objects are referring to the same object (same identity hash code)"},{"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"score":0,"creation_date":1659964937,"post_id":73265247,"comment_id":129413350,"body_markdown":"@ChristianBeikov .. The data population work is over/finished, and can&#39;t be debug/run again. Only need to fetch the populated data to show in application.","body":"@ChristianBeikov .. The data population work is over/finished, and can&#39;t be debug/run again. Only need to fetch the populated data to show in application."},{"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"score":0,"creation_date":1659971606,"post_id":73265247,"comment_id":129416109,"body_markdown":"UPDATE: Forgot to add equals() and hashcode() methods in CustKey class.","body":"UPDATE: Forgot to add equals() and hashcode() methods in CustKey class."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1660026981,"post_id":73265247,"comment_id":129428807,"body_markdown":"Can you share full exception here?","body":"Can you share full exception here?"},{"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"score":0,"creation_date":1660028761,"post_id":73265247,"comment_id":129429308,"body_markdown":"@AshishPatil, pls see the full stack trace in attached images.","body":"@AshishPatil, pls see the full stack trace in attached images."}],"answers":[{"tags":[],"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660048282,"creation_date":1660048282,"answer_id":73291872,"question_id":73265247,"body_markdown":"After so much investigation, found the *culprit* **spring-boot-devtools** dependency, as explained here:\r\n\r\n&gt; I was getting this problem after adding a dependency to\r\n&gt; spring-boot-devtools in my Springboot project. I removed the\r\n&gt; dependency and the problem went away. My best guess at this point is\r\n&gt; that spring-boot-devtools brings in a new classloader and that causes\r\n&gt; the issue of class casting problems between different classloaders in\r\n&gt; certain cases where the new classloader is not being used by some\r\n&gt; threads.\r\n\r\nReference: [A dozer map exception related to Spring boot devtools][1]\r\n\r\nRefs: https://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33955542/a-dozer-map-exception-related-to-spring-boot-devtools","title":"TypeMismatchException on fetching the table data by Hibernate Session.get() method","body":"<p>After so much investigation, found the <em>culprit</em> <strong>spring-boot-devtools</strong> dependency, as explained here:</p>\n<blockquote>\n<p>I was getting this problem after adding a dependency to\nspring-boot-devtools in my Springboot project. I removed the\ndependency and the problem went away. My best guess at this point is\nthat spring-boot-devtools brings in a new classloader and that causes\nthe issue of class casting problems between different classloaders in\ncertain cases where the new classloader is not being used by some\nthreads.</p>\n</blockquote>\n<p>Reference: <a href=\"https://stackoverflow.com/questions/33955542/a-dozer-map-exception-related-to-spring-boot-devtools\">A dozer map exception related to Spring boot devtools</a></p>\n<p>Refs: <a href=\"https://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class\">ClassCastException when casting to the same class</a></p>\n"}],"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73291872,"answer_count":1,"score":0,"last_activity_date":1660048282,"creation_date":1659852243,"question_id":73265247,"body_markdown":"In a application, having a database table **CUSTOMERS** defined as: \r\n\r\n    create table CUSTOMERS (\r\n      ID varchar(10),\r\n      CODE varchar(10),\r\n      CID varchar(10),\r\n      SID varchar(10),\r\n      FNAME varchar(50),\r\n      LNAME varchar(50),\r\n      constraint PK_CUSTOMERS primary key (ID, CODE, CID, SID)\r\n    );\r\n\r\nand the Entity classes are created to populate the data as\r\n\r\n    @Embeddable\r\n    public class CustKey implements Serializable , Cloneable{\r\n    \r\n    \t@Transient\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private String id;\r\n    \t\r\n        @Column(name = &quot;CODE&quot;, nullable = false)\r\n        private String code;\r\n    \t\r\n    \t@Column(name = &quot;CID&quot;, nullable = false)\r\n        private String cid;\r\n    \r\n    \t@Column(name = &quot;SID&quot;, nullable = false)\r\n        private String sid;\r\n        \r\n        public boolean equals(Object o){\r\n         return id.equals(o.getId()) &amp;&amp; ...;\r\n       }\r\n\r\n        public int hashcode(){\r\n         return id.hashcode() &amp; ...;\r\n       }\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;CUSTOMERS&quot;)\r\n    public class CustProfileWrapper implements Serializable,Cloneable  {\r\n    \r\n    \t@Transient\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n        @EmbeddedId\r\n        private CustKey custKey;\r\n    \t\r\n    \t@Column(name = &quot;FNAME&quot;)\r\n        private String fname;\r\n    \t\r\n    \t@Column(name = &quot;LNAME&quot;)\r\n        private String lname;\r\n    }\r\n\r\nThe records are populated without an issue. \r\n\r\nBut the Entity classes are move to other project (*but keeping the same package name as before*) due to some rewrite of the code/project. but on fetching the data by Hibernate Session as \r\n\r\n    Object object = session.get(CustProfileWrapper.class, custProfileWrapper.getCustKey(), LockMode.NONE);\r\n\r\ngetting the error\r\n\r\n    org.hibernate.TypeMismatchException: Provided id of the wrong type for class CustProfileWrapper. Expected: class com.db.CustProfileWrapper, got class com.db.CustProfileWrapper \r\n\r\nHowever, able to get the record when using the parametrized query as\r\n\r\n\r\n    SQLQuery query = session.createSQLQuery(&quot;SELECT * FROM CUSTOMERS WHERE ID = ? &quot;\r\n    \t\t+ &quot; AND CODE = ? AND CID = ? AND SID = ? &quot;);\r\n    query.addEntity(CustProfileWrapper.class);\r\n    query.setParameter(0, &quot;101&quot;);\r\n    ...\r\n    object = query.list();\r\n\t\t\t\r\n\r\n&gt; But it&#39;s a low level code when using the query, and we should use the\r\n&gt; better way like get() method.\r\n\r\n \r\nAny help/hint will be appreciated!!\r\n\r\n\r\n----------\r\n\r\nFull stack trace of the error:\r\n[![stack trace1][1]][1]\r\n[![stack trace2][2]][2]\r\n[![stack trace3][3]][3]\r\n[![stack trace4][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/chkDn.png\r\n  [2]: https://i.stack.imgur.com/YR4U8.png\r\n  [3]: https://i.stack.imgur.com/lOnOi.png\r\n  [4]: https://i.stack.imgur.com/VxfN4.png","title":"TypeMismatchException on fetching the table data by Hibernate Session.get() method","body":"<p>In a application, having a database table <strong>CUSTOMERS</strong> defined as:</p>\n<pre><code>create table CUSTOMERS (\n  ID varchar(10),\n  CODE varchar(10),\n  CID varchar(10),\n  SID varchar(10),\n  FNAME varchar(50),\n  LNAME varchar(50),\n  constraint PK_CUSTOMERS primary key (ID, CODE, CID, SID)\n);\n</code></pre>\n<p>and the Entity classes are created to populate the data as</p>\n<pre><code>@Embeddable\npublic class CustKey implements Serializable , Cloneable{\n\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private String id;\n    \n    @Column(name = &quot;CODE&quot;, nullable = false)\n    private String code;\n    \n    @Column(name = &quot;CID&quot;, nullable = false)\n    private String cid;\n\n    @Column(name = &quot;SID&quot;, nullable = false)\n    private String sid;\n    \n    public boolean equals(Object o){\n     return id.equals(o.getId()) &amp;&amp; ...;\n   }\n\n    public int hashcode(){\n     return id.hashcode() &amp; ...;\n   }\n}\n\n\n@Entity\n@Table(name = &quot;CUSTOMERS&quot;)\npublic class CustProfileWrapper implements Serializable,Cloneable  {\n\n    @Transient\n    private static final long serialVersionUID = 1L;\n    \n    @EmbeddedId\n    private CustKey custKey;\n    \n    @Column(name = &quot;FNAME&quot;)\n    private String fname;\n    \n    @Column(name = &quot;LNAME&quot;)\n    private String lname;\n}\n</code></pre>\n<p>The records are populated without an issue.</p>\n<p>But the Entity classes are move to other project (<em>but keeping the same package name as before</em>) due to some rewrite of the code/project. but on fetching the data by Hibernate Session as</p>\n<pre><code>Object object = session.get(CustProfileWrapper.class, custProfileWrapper.getCustKey(), LockMode.NONE);\n</code></pre>\n<p>getting the error</p>\n<pre><code>org.hibernate.TypeMismatchException: Provided id of the wrong type for class CustProfileWrapper. Expected: class com.db.CustProfileWrapper, got class com.db.CustProfileWrapper \n</code></pre>\n<p>However, able to get the record when using the parametrized query as</p>\n<pre><code>SQLQuery query = session.createSQLQuery(&quot;SELECT * FROM CUSTOMERS WHERE ID = ? &quot;\n        + &quot; AND CODE = ? AND CID = ? AND SID = ? &quot;);\nquery.addEntity(CustProfileWrapper.class);\nquery.setParameter(0, &quot;101&quot;);\n...\nobject = query.list();\n        \n</code></pre>\n<blockquote>\n<p>But it's a low level code when using the query, and we should use the\nbetter way like get() method.</p>\n</blockquote>\n<p>Any help/hint will be appreciated!!</p>\n<hr />\n<p>Full stack trace of the error:\n<a href=\"https://i.stack.imgur.com/chkDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/chkDn.png\" alt=\"stack trace1\" /></a>\n<a href=\"https://i.stack.imgur.com/YR4U8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YR4U8.png\" alt=\"stack trace2\" /></a>\n<a href=\"https://i.stack.imgur.com/lOnOi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lOnOi.png\" alt=\"stack trace3\" /></a>\n<a href=\"https://i.stack.imgur.com/VxfN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VxfN4.png\" alt=\"stack trace4\" /></a></p>\n"},{"tags":["java","slf4j","log4j2","sphinx4","jul-to-slf4j"],"comments":[{"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"score":0,"creation_date":1563976195,"post_id":36344905,"comment_id":100879493,"body_markdown":"Possibly related: https://stackoverflow.com/questions/56975903/why-does-using-the-org-apache-juli-classloaderlogmanager-logging-manager-affect","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/56975903/why-does-using-the-org-apache-juli-classloaderlogmanager-logging-manager-affect\" title=\"why does using the org apache juli classloaderlogmanager logging manager affect\">stackoverflow.com/questions/56975903/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459486935,"creation_date":1459486935,"answer_id":36348405,"question_id":36344905,"body_markdown":"If you want to route the messages to Log4j 2 why not just use Log4j 2&#39;s bridge? log4j-jul-2.5.jar","title":"Directing JUL logging to SLF4J does not work","body":"<p>If you want to route the messages to Log4j 2 why not just use Log4j 2's bridge? log4j-jul-2.5.jar</p>\n"},{"tags":[],"owner":{"account_id":4060419,"reputation":337,"user_id":4111622,"display_name":"Valdek Santana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509987502,"creation_date":1509987502,"answer_id":47142029,"question_id":36344905,"body_markdown":"We have a solution here working and the difference I noticed is: **`logger.setUseParentHandler(false) and logger.addHandler(new org.slf4j.bridge.SLF4JBridgeHandler());`**\r\n\r\nI make sure I don&#39;t have any other handler and then attach the `SLF4JBridgeHandler` to the Logger instance.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.logging.Handler;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    import org.slf4j.LoggerFactory;\r\n    import org.slf4j.bridge.SLF4JBridgeHandler;\r\n    \r\n    class Helper {\r\n    \r\n    \tpublic static Logger get(String name) {\r\n    \t\tLogger logger = Logger.getLogger(name);\r\n    \t\tlogger.setUseParentHandlers(false);\r\n    \t\tconfigureLogger(logger);\r\n    \t\treturn logger;\r\n    \t}\r\n    \r\n    \tprivate static void configureLogger(Logger logger) {\r\n    \t\ttry {\r\n    \t\t\t// Remove Console Handler\r\n    \t\t\tHandler[] handlers = logger.getHandlers();\r\n    \t\t\tfor (int i = handlers.length - 1; i &gt;= 0; --i) {\r\n    \t\t\t\tlogger.removeHandler(handlers[i]);\r\n    \t\t\t}\r\n    \t\t\t// Add handler for SLF4J\r\n    \t\t\tlogger.addHandler(new org.slf4j.bridge.SLF4JBridgeHandler());\r\n    \t\t} catch (Throwable ex) {\r\n    \t\t\tlogger.log(Level.SEVERE, &quot;configureLogger&quot;, ex);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }","title":"Directing JUL logging to SLF4J does not work","body":"<p>We have a solution here working and the difference I noticed is: <strong><code>logger.setUseParentHandler(false) and logger.addHandler(new org.slf4j.bridge.SLF4JBridgeHandler());</code></strong></p>\n\n<p>I make sure I don't have any other handler and then attach the <code>SLF4JBridgeHandler</code> to the Logger instance.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Handler;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.bridge.SLF4JBridgeHandler;\n\nclass Helper {\n\n    public static Logger get(String name) {\n        Logger logger = Logger.getLogger(name);\n        logger.setUseParentHandlers(false);\n        configureLogger(logger);\n        return logger;\n    }\n\n    private static void configureLogger(Logger logger) {\n        try {\n            // Remove Console Handler\n            Handler[] handlers = logger.getHandlers();\n            for (int i = handlers.length - 1; i &gt;= 0; --i) {\n                logger.removeHandler(handlers[i]);\n            }\n            // Add handler for SLF4J\n            logger.addHandler(new org.slf4j.bridge.SLF4JBridgeHandler());\n        } catch (Throwable ex) {\n            logger.log(Level.SEVERE, \"configureLogger\", ex);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22395396,"reputation":11,"user_id":16606733,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660047984,"creation_date":1660047946,"answer_id":73291801,"question_id":36344905,"body_markdown":"I have a JEE-Webapp, an wanted to log servlet-filter.\r\nThe underlying Tomcat 8.5 has already initialized the JUL at startup.\r\nSo I needed to override the Tomcat-initialization.\r\nThis code worked for me.\r\n\r\n        SLF4JBridgeHandler.removeHandlersForRootLogger();\r\n\r\n        LogManager manager = LogManager.getLogManager();\r\n        Enumeration&lt;String&gt; loggernames = LogManager.getLogManager().getLoggerNames();\r\n        while(loggernames.hasMoreElements()) {\r\n            String loggername = loggernames.nextElement();\r\n            Logger logger = manager.getLogger(loggername);\r\n\r\n            Handler[] handlers = logger.getHandlers();\r\n            for (int i = handlers.length - 1; i &gt;= 0; --i) {\r\n                logger.removeHandler(handlers[i]);\r\n                logger.setUseParentHandlers(true);\r\n            }\r\n        }\r\n\r\n        SLF4JBridgeHandler.install();\r\n        // Decision what to log is on slf4j-Side. So we delegate every log-request.\r\n        Logger.getLogger(&quot;&quot;).setLevel(Level.FINEST);\r\n","title":"Directing JUL logging to SLF4J does not work","body":"<p>I have a JEE-Webapp, an wanted to log servlet-filter.\nThe underlying Tomcat 8.5 has already initialized the JUL at startup.\nSo I needed to override the Tomcat-initialization.\nThis code worked for me.</p>\n<pre><code>    SLF4JBridgeHandler.removeHandlersForRootLogger();\n\n    LogManager manager = LogManager.getLogManager();\n    Enumeration&lt;String&gt; loggernames = LogManager.getLogManager().getLoggerNames();\n    while(loggernames.hasMoreElements()) {\n        String loggername = loggernames.nextElement();\n        Logger logger = manager.getLogger(loggername);\n\n        Handler[] handlers = logger.getHandlers();\n        for (int i = handlers.length - 1; i &gt;= 0; --i) {\n            logger.removeHandler(handlers[i]);\n            logger.setUseParentHandlers(true);\n        }\n    }\n\n    SLF4JBridgeHandler.install();\n    // Decision what to log is on slf4j-Side. So we delegate every log-request.\n    Logger.getLogger(&quot;&quot;).setLevel(Level.FINEST);\n</code></pre>\n"}],"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1660047984,"creation_date":1459463181,"question_id":36344905,"body_markdown":"I am using a third party library ([Sphinx][1]) which uses java.util.logging. I have been trying several approaches to route its logs to slf4j. The logging library I wish to use is Log4j2, which is configured like this:\r\n\r\n    Configuration:\r\n      properties:\r\n        property:\r\n        - name: logPath\r\n          value: logs\r\n        - name: logName\r\n          value: flux\r\n        - name: rootLevel\r\n          value: info\r\n        - name: useConsole\r\n          value: ALLOW\r\n      Appenders:\r\n        Console:\r\n          name: Console\r\n          target: SYSTEM_OUT\r\n          ThresholdFilter:\r\n            level: ${sys:rootLevel}\r\n            onMatch: ${sys:useConsole}\r\n          PatternLayout:\r\n            pattern: &quot;%d{yyyy.MM.dd G HH:mm:ss,SSS z} %-5p [%t] %C{2} (%F:%L) - %m%n&quot;\r\n        RollingRandomAccessFile:\r\n          name: File\r\n          fileName: &quot;${sys:logPath}/${sys:logName}.log&quot;\r\n          filePattern: &quot;${sys:logPath}/${sys:logName}.%d{yyyy-MM-dd}.log&quot;\r\n          PatternLayout:\r\n            pattern: &quot;%d{yyyy.MM.dd G HH:mm:ss,SSS z} %-5p [%t] %C{2} (%F:%L) - %m%n&quot;\r\n          Policies:\r\n            TimeBasedTriggeringPolicy:\r\n              interval: 1\r\n      Loggers:\r\n        Root:\r\n          level: ${sys:rootLevel}\r\n          AppenderRef:\r\n            - ref: File\r\n            - ref: Console\r\n\r\n\r\nI applied without success all the solutions I could find on this and other forums. Among others:\r\n\r\nI added this maven dependency to my POM:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nI also tried with calling this in a static block:\r\n\r\n    SLF4JBridgeHandler.removeHandlersForRootLogger();\r\n    SLF4JBridgeHandler.install();\r\n\r\nAnd tried setting the system property:\r\n\r\n    System.setProperty(&quot;java.util.logging.manager&quot;, &quot;org.apache.logging.log4j.jul.LogManager&quot;);\r\n\r\nIn my last attempt I passed the VM argument:\r\n\r\n-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\r\n\r\nand got the exception below:\r\n\r\n    Could not load Logmanager &quot;org.apache.logging.log4j.jul.LogManager&quot;\r\n    java.lang.ClassNotFoundException: org.apache.logging.log4j.jul.LogManager\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat java.util.logging.LogManager$1.run(LogManager.java:195)\r\n\tat java.util.logging.LogManager$1.run(LogManager.java:181)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.util.logging.LogManager.&lt;clinit&gt;(LogManager.java:181)\r\n\tat org.chatbot.stt.SttEngineDemo.&lt;clinit&gt;(SttEngineDemo.java:25)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:264)\r\n\r\n\r\nAm I doing something wrong?  What else can I try?\r\n\r\n**Update:**\r\n\r\nI also tried redirecting jul to log4j2, bypassing slf4j, hence changing my original strategy (thanks for the suggestion @rgoers).\r\nIn order to do this, I added the dependency below:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n*and* also set the System property \r\n`java.util.logging.manager` to:  `org.apache.logging.log4j.jul.LogManager`\r\n\r\nThen the sphinx logs are gone. I know they are not routed to my log4j2 logger since most of the Sphinx logs have the level INFO and they should be processed by log4j2. So still not correct.\r\n\r\n\r\n\r\n  [1]: http://cmusphinx.sourceforge.net/","title":"Directing JUL logging to SLF4J does not work","body":"<p>I am using a third party library (<a href=\"http://cmusphinx.sourceforge.net/\" rel=\"nofollow\">Sphinx</a>) which uses java.util.logging. I have been trying several approaches to route its logs to slf4j. The logging library I wish to use is Log4j2, which is configured like this:</p>\n\n<pre><code>Configuration:\n  properties:\n    property:\n    - name: logPath\n      value: logs\n    - name: logName\n      value: flux\n    - name: rootLevel\n      value: info\n    - name: useConsole\n      value: ALLOW\n  Appenders:\n    Console:\n      name: Console\n      target: SYSTEM_OUT\n      ThresholdFilter:\n        level: ${sys:rootLevel}\n        onMatch: ${sys:useConsole}\n      PatternLayout:\n        pattern: \"%d{yyyy.MM.dd G HH:mm:ss,SSS z} %-5p [%t] %C{2} (%F:%L) - %m%n\"\n    RollingRandomAccessFile:\n      name: File\n      fileName: \"${sys:logPath}/${sys:logName}.log\"\n      filePattern: \"${sys:logPath}/${sys:logName}.%d{yyyy-MM-dd}.log\"\n      PatternLayout:\n        pattern: \"%d{yyyy.MM.dd G HH:mm:ss,SSS z} %-5p [%t] %C{2} (%F:%L) - %m%n\"\n      Policies:\n        TimeBasedTriggeringPolicy:\n          interval: 1\n  Loggers:\n    Root:\n      level: ${sys:rootLevel}\n      AppenderRef:\n        - ref: File\n        - ref: Console\n</code></pre>\n\n<p>I applied without success all the solutions I could find on this and other forums. Among others:</p>\n\n<p>I added this maven dependency to my POM:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;1.7.20&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I also tried with calling this in a static block:</p>\n\n<pre><code>SLF4JBridgeHandler.removeHandlersForRootLogger();\nSLF4JBridgeHandler.install();\n</code></pre>\n\n<p>And tried setting the system property:</p>\n\n<pre><code>System.setProperty(\"java.util.logging.manager\", \"org.apache.logging.log4j.jul.LogManager\");\n</code></pre>\n\n<p>In my last attempt I passed the VM argument:</p>\n\n<p>-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager</p>\n\n<p>and got the exception below:</p>\n\n<pre><code>Could not load Logmanager \"org.apache.logging.log4j.jul.LogManager\"\njava.lang.ClassNotFoundException: org.apache.logging.log4j.jul.LogManager\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat java.util.logging.LogManager$1.run(LogManager.java:195)\nat java.util.logging.LogManager$1.run(LogManager.java:181)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.util.logging.LogManager.&lt;clinit&gt;(LogManager.java:181)\nat org.chatbot.stt.SttEngineDemo.&lt;clinit&gt;(SttEngineDemo.java:25)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:264)\n</code></pre>\n\n<p>Am I doing something wrong?  What else can I try?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I also tried redirecting jul to log4j2, bypassing slf4j, hence changing my original strategy (thanks for the suggestion @rgoers).\nIn order to do this, I added the dependency below:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><em>and</em> also set the System property \n<code>java.util.logging.manager</code> to:  <code>org.apache.logging.log4j.jul.LogManager</code></p>\n\n<p>Then the sphinx logs are gone. I know they are not routed to my log4j2 logger since most of the Sphinx logs have the level INFO and they should be processed by log4j2. So still not correct.</p>\n"},{"tags":["java","azure-functions"],"comments":[{"owner":{"account_id":7251658,"reputation":470,"user_id":5531716,"display_name":"Baskar Rao"},"score":0,"creation_date":1544217038,"post_id":53673890,"comment_id":94211619,"body_markdown":"Hope this thread can provide you some references to solve your issue. https://github.com/Azure/azure-functions-host/issues/415","body":"Hope this thread can provide you some references to solve your issue. <a href=\"https://github.com/Azure/azure-functions-host/issues/415\" rel=\"nofollow noreferrer\">github.com/Azure/azure-functions-host/issues/415</a>"}],"answers":[{"tags":[],"owner":{"account_id":11416092,"reputation":3733,"user_id":8368871,"accept_rate":56,"display_name":"HariHaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545799528,"creation_date":1545799528,"answer_id":53927515,"question_id":53673890,"body_markdown":"Azure functions depend on a `function.json` file. What you could do is place your `license` file in the same directory and you can access it by\r\n\r\n     var path = System.IO.Path.Combine(context.FunctionAppDirectory, &quot;Aspose.Total.Product.Family.lic&quot;);\r\n\r\nor the another way around is to upload the file in a blob storage and pull it whenever necessary. For more about blob storage refer [docs][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob#input---example","title":"Set License in Azure Function","body":"<p>Azure functions depend on a <code>function.json</code> file. What you could do is place your <code>license</code> file in the same directory and you can access it by</p>\n\n<pre><code> var path = System.IO.Path.Combine(context.FunctionAppDirectory, \"Aspose.Total.Product.Family.lic\");\n</code></pre>\n\n<p>or the another way around is to upload the file in a blob storage and pull it whenever necessary. For more about blob storage refer <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob#input---example\" rel=\"nofollow noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":25752201,"reputation":61,"user_id":19504570,"display_name":"user19504570"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660047890,"creation_date":1660047890,"answer_id":73291782,"question_id":53673890,"body_markdown":"If you want to load a file inside azure function either you can add in you project and mark as copy always,then using **Path.combine()** load the file and read,\r\n\r\n**Dynamic**: If you want to read a file dynamical create blob storage and container read from blob.\r\n\r\nMore info abt blob [here][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob?tabs=in-process%2Cextensionv5%2Cextensionv3&amp;pivots=programming-language-csharp","title":"Set License in Azure Function","body":"<p>If you want to load a file inside azure function either you can add in you project and mark as copy always,then using <strong>Path.combine()</strong> load the file and read,</p>\n<p><strong>Dynamic</strong>: If you want to read a file dynamical create blob storage and container read from blob.</p>\n<p>More info abt blob <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob?tabs=in-process%2Cextensionv5%2Cextensionv3&amp;pivots=programming-language-csharp\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":14868198,"reputation":57,"user_id":10736523,"display_name":"prasanna shanmuganathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1660047890,"creation_date":1544201978,"question_id":53673890,"body_markdown":"I have License file called Aspose.Total.Product.Family.lic for a third party API Aspose. I need to set the License by attaching this file along with Azure Function and Inside my function I should refer this file and set the License. \r\n\r\nIn a normal Java Application, I will do something like below.I will place the file in project and refer it as below\r\n\r\n    License license = new License();\t\r\n    license.setLicense(App.class.getClassLoader().getResourceAsStream(&quot;Aspose.Total.Product.Family.lic&quot;));\r\n\r\nCan someone help me doing the same inside Azure Function ? Please let me know how to embed this file inside azure function and get reference to the same inside the azure function. \r\n\r\n","title":"Set License in Azure Function","body":"<p>I have License file called Aspose.Total.Product.Family.lic for a third party API Aspose. I need to set the License by attaching this file along with Azure Function and Inside my function I should refer this file and set the License. </p>\n\n<p>In a normal Java Application, I will do something like below.I will place the file in project and refer it as below</p>\n\n<pre><code>License license = new License();    \nlicense.setLicense(App.class.getClassLoader().getResourceAsStream(\"Aspose.Total.Product.Family.lic\"));\n</code></pre>\n\n<p>Can someone help me doing the same inside Azure Function ? Please let me know how to embed this file inside azure function and get reference to the same inside the azure function. </p>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1660000505,"post_id":73283256,"comment_id":129424917,"body_markdown":"I don&#39;t use WIndows with JBoss but I recommend you get the original files back and simply set JAVA_HOME and JBOSS_HOME env. vars. with normal backslashes. If you&#39;re doing this in a terminal, be sure to quote paths with spaces in them, e.g. ```set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot;```","body":"I don&#39;t use WIndows with JBoss but I recommend you get the original files back and simply set JAVA_HOME and JBOSS_HOME env. vars. with normal backslashes. If you&#39;re doing this in a terminal, be sure to quote paths with spaces in them, e.g. <code>set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot;</code>"},{"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"score":0,"creation_date":1660047815,"post_id":73283256,"comment_id":129435914,"body_markdown":"Tried your suggestions and stumbled across the answer","body":"Tried your suggestions and stumbled across the answer"}],"answers":[{"tags":[],"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660047794,"creation_date":1660047794,"answer_id":73291764,"question_id":73283256,"body_markdown":"The issue ended up being with JAVA_HOME, it was a multiple entry environment variable, and Windows represents that with a &#39;;&#39; at the end, so jboss-cli was failing to parse it. Even though the entry in the list was &quot;C:/Program Files/Java/jdk1.8.0_162&quot;, the actual text stores was &quot;C:/Program Files/Java/jdk1.8.0_162;&quot;","title":"jboss-cli: The system cannot find the path specified","body":"<p>The issue ended up being with JAVA_HOME, it was a multiple entry environment variable, and Windows represents that with a ';' at the end, so jboss-cli was failing to parse it. Even though the entry in the list was &quot;C:/Program Files/Java/jdk1.8.0_162&quot;, the actual text stores was &quot;C:/Program Files/Java/jdk1.8.0_162;&quot;</p>\n"}],"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660047794,"creation_date":1659987985,"question_id":73283256,"body_markdown":"I am having trouble getting to jboss-cli in Wildfly 9.0.1.Final working. When running jboss-cli or jboss-cli.bat inside of the JBOSS_HOME/bin folder, it fails returning &quot;The system cannot find the path specified.&quot;\r\n\r\nI have tried the following to fix this:\r\n\r\n - Modifying standalone.conf.bat and standalone.conf, changing the JAVA_HOME to to C:/Program Files/Java/jdk1.8.0_162. The installation exists, and contains /bin/java\r\n - Using &quot;\\&quot; and &quot;\\\\&quot; instead of &quot;/&quot;\r\n - Setting the JBOSS_HOME, JAVA_HOME, and PATH environment variables, with JBOSS_HOME being my root Wildfly folder, JAVA_HOME being C:/Program Files/Java/jdk1.8.0_162, and PATH having an entry that is C:/Program Files/Java/jdk1.8.0_162/bin.\r\n\r\nWhat other options do I have to get jboss-cli working?","title":"jboss-cli: The system cannot find the path specified","body":"<p>I am having trouble getting to jboss-cli in Wildfly 9.0.1.Final working. When running jboss-cli or jboss-cli.bat inside of the JBOSS_HOME/bin folder, it fails returning &quot;The system cannot find the path specified.&quot;</p>\n<p>I have tried the following to fix this:</p>\n<ul>\n<li>Modifying standalone.conf.bat and standalone.conf, changing the JAVA_HOME to to C:/Program Files/Java/jdk1.8.0_162. The installation exists, and contains /bin/java</li>\n<li>Using &quot;&quot; and &quot;\\&quot; instead of &quot;/&quot;</li>\n<li>Setting the JBOSS_HOME, JAVA_HOME, and PATH environment variables, with JBOSS_HOME being my root Wildfly folder, JAVA_HOME being C:/Program Files/Java/jdk1.8.0_162, and PATH having an entry that is C:/Program Files/Java/jdk1.8.0_162/bin.</li>\n</ul>\n<p>What other options do I have to get jboss-cli working?</p>\n"},{"tags":["java","json","gson","arrays"],"comments":[{"owner":{"account_id":533426,"reputation":5411,"user_id":903907,"accept_rate":52,"display_name":"muthu"},"score":0,"creation_date":1377585783,"post_id":18458637,"comment_id":27127078,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/11503688/rest-and-json-converting-string-to-json-array","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11503688/rest-and-json-converting-string-to-json-array\" title=\"rest and json converting string to json array\">stackoverflow.com/questions/11503688/&hellip;</a>"},{"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"score":0,"creation_date":1377586081,"post_id":18458637,"comment_id":27127212,"body_markdown":"@muthu No, that&#39;s not Gson.","body":"@muthu No, that&#39;s not Gson."}],"answers":[{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1377585734,"creation_date":1377585734,"answer_id":18458657,"question_id":18458637,"body_markdown":"Try this\r\n\r\n    Address[] address = gson.fromJson(addressJson, Address[].class);","title":"Convert json String to array of Objects","body":"<p>Try this</p>\n\n<pre><code>Address[] address = gson.fromJson(addressJson, Address[].class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3614323,"reputation":2724,"user_id":3408531,"accept_rate":56,"display_name":"TiyebM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660047793,"creation_date":1660047262,"answer_id":73291626,"question_id":18458637,"body_markdown":"Using `Jackson&#39;s` `ObjectMapper` class,you can read values and map them to an object, or an array of objects.\r\n\r\n\r\n    final ObjectMapper objectMapper = new ObjectMapper();\r\n\tAddress [] mdls = objectMapper.readValue(addressJson, Address [].class);\r\n\r\nFor `List&lt;Address&gt;` use:\r\n\r\n    List&lt;Address&gt; mdls = objectMapper.readValue(addressJson, new TypeReference&lt;List&lt;Address&gt;&gt;() {});","title":"Convert json String to array of Objects","body":"<p>Using <code>Jackson's</code> <code>ObjectMapper</code> class,you can read values and map them to an object, or an array of objects.</p>\n<pre><code>final ObjectMapper objectMapper = new ObjectMapper();\nAddress [] mdls = objectMapper.readValue(addressJson, Address [].class);\n</code></pre>\n<p>For <code>List&lt;Address&gt;</code> use:</p>\n<pre><code>List&lt;Address&gt; mdls = objectMapper.readValue(addressJson, new TypeReference&lt;List&lt;Address&gt;&gt;() {});\n</code></pre>\n"}],"owner":{"account_id":1721845,"reputation":3353,"user_id":1577467,"accept_rate":52,"display_name":"jackyesind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23375,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":18458657,"answer_count":2,"score":7,"last_activity_date":1660047793,"creation_date":1377585655,"question_id":18458637,"body_markdown":"I have json array as string\r\n\r\n    [\r\n            {\r\n    \t    &quot;id&quot;:&quot;1&quot;,\t\r\n                &quot;lat&quot;: &quot;23.053&quot;,\r\n                &quot;long&quot;: &quot;72.629&quot;,\r\n                &quot;location&quot;: &quot;ABC&quot;,\r\n                &quot;address&quot;: &quot;DEF&quot;,\r\n                &quot;city&quot;: &quot;Ahmedabad&quot;,\r\n                &quot;state&quot;: &quot;Gujrat&quot;,\r\n                &quot;phonenumber&quot;: &quot;1234567&quot;\r\n            },\r\n            {\r\n    \t    &quot;id&quot;:&quot;2&quot;,\t\r\n                &quot;lat&quot;: &quot;23.053&quot;,\r\n                &quot;long&quot;: &quot;72.629&quot;,\r\n                &quot;location&quot;: &quot;ABC&quot;,\r\n                &quot;address&quot;: &quot;DEF&quot;,\r\n                &quot;city&quot;: &quot;Ahmedabad&quot;,\r\n                &quot;state&quot;: &quot;Gujrat&quot;,\r\n                &quot;phonenumber&quot;: &quot;1234567&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;:&quot;3&quot;,\t\r\n    \t    &quot;lat&quot;: &quot;23.053&quot;,\r\n                &quot;long&quot;: &quot;72.629&quot;,\r\n                &quot;location&quot;: &quot;ABC&quot;,\r\n                &quot;address&quot;: &quot;DEF&quot;,\r\n                &quot;city&quot;: &quot;Ahmedabad&quot;,\r\n                &quot;state&quot;: &quot;Gujrat&quot;,\r\n                &quot;phonenumber&quot;: &quot;1234567&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;:&quot;4&quot;,\t\r\n    \t    &quot;lat&quot;: &quot;23.053&quot;,\r\n                &quot;long&quot;: &quot;72.629&quot;,\r\n                &quot;location&quot;: &quot;ABC&quot;,\r\n                &quot;address&quot;: &quot;DEF&quot;,\r\n                &quot;city&quot;: &quot;Ahmedabad&quot;,\r\n                &quot;state&quot;: &quot;Gujrat&quot;,\r\n                &quot;phonenumber&quot;: &quot;1234567&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;:&quot;5&quot;,\t\r\n    \t    &quot;lat&quot;: &quot;23.053&quot;,\r\n                &quot;long&quot;: &quot;72.629&quot;,\r\n                &quot;location&quot;: &quot;ABC&quot;,\r\n                &quot;address&quot;: &quot;DEF&quot;,\r\n                &quot;city&quot;: &quot;Ahmedabad&quot;,\r\n                &quot;state&quot;: &quot;Gujrat&quot;,\r\n                &quot;phonenumber&quot;: &quot;1234567&quot;\r\n            }\r\n    ]\r\n\r\nI want to convert this string to each json object. I have a class address. How would i convert this json string to\r\nobject\r\n\r\nI tried\r\n\r\n    Address address = gson.fromJson(addressJson, Address.class);\r\n    \r\n    com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2\r\n    \tcom.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176)\r\n    \tcom.google.gson.Gson.fromJson(Gson.java:803)\r\n    \tcom.google.gson.Gson.fromJson(Gson.java:768)\r\n    \tcom.google.gson.Gson.fromJson(Gson.java:717)\r\n    \tcom.google.gson.Gson.fromJson(Gson.java:689)","title":"Convert json String to array of Objects","body":"<p>I have json array as string</p>\n\n<pre><code>[\n        {\n        \"id\":\"1\",   \n            \"lat\": \"23.053\",\n            \"long\": \"72.629\",\n            \"location\": \"ABC\",\n            \"address\": \"DEF\",\n            \"city\": \"Ahmedabad\",\n            \"state\": \"Gujrat\",\n            \"phonenumber\": \"1234567\"\n        },\n        {\n        \"id\":\"2\",   \n            \"lat\": \"23.053\",\n            \"long\": \"72.629\",\n            \"location\": \"ABC\",\n            \"address\": \"DEF\",\n            \"city\": \"Ahmedabad\",\n            \"state\": \"Gujrat\",\n            \"phonenumber\": \"1234567\"\n        },\n        {\n            \"id\":\"3\",   \n        \"lat\": \"23.053\",\n            \"long\": \"72.629\",\n            \"location\": \"ABC\",\n            \"address\": \"DEF\",\n            \"city\": \"Ahmedabad\",\n            \"state\": \"Gujrat\",\n            \"phonenumber\": \"1234567\"\n        },\n        {\n            \"id\":\"4\",   \n        \"lat\": \"23.053\",\n            \"long\": \"72.629\",\n            \"location\": \"ABC\",\n            \"address\": \"DEF\",\n            \"city\": \"Ahmedabad\",\n            \"state\": \"Gujrat\",\n            \"phonenumber\": \"1234567\"\n        },\n        {\n            \"id\":\"5\",   \n        \"lat\": \"23.053\",\n            \"long\": \"72.629\",\n            \"location\": \"ABC\",\n            \"address\": \"DEF\",\n            \"city\": \"Ahmedabad\",\n            \"state\": \"Gujrat\",\n            \"phonenumber\": \"1234567\"\n        }\n]\n</code></pre>\n\n<p>I want to convert this string to each json object. I have a class address. How would i convert this json string to\nobject</p>\n\n<p>I tried</p>\n\n<pre><code>Address address = gson.fromJson(addressJson, Address.class);\n\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2\n    com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176)\n    com.google.gson.Gson.fromJson(Gson.java:803)\n    com.google.gson.Gson.fromJson(Gson.java:768)\n    com.google.gson.Gson.fromJson(Gson.java:717)\n    com.google.gson.Gson.fromJson(Gson.java:689)\n</code></pre>\n"},{"tags":["python","java","converters"],"answers":[{"tags":[],"owner":{"account_id":15418795,"reputation":140,"user_id":11123378,"display_name":"Cristian Cutitei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660047782,"creation_date":1660047782,"answer_id":73291758,"question_id":73291326,"body_markdown":"This should do:\r\n\r\n```\r\nclass Binary {\r\n    public static void main(String[] args) {\r\n        String word_safe_alphabet = &quot;23456789CFGHJMPQRVWXcfghjmpqrvwx&quot;;\r\n        for(int i=0; i&lt;word_safe_alphabet.length(); i++){\r\n            int charNr = Character.getNumericValue(word_safe_alphabet.charAt(i))-2;\r\n            String binary = Integer.toBinaryString(charNr);\r\n            System.out.println(String.format(&quot;%5s&quot;, binary).replaceAll(&quot; &quot;, &quot;0&quot;));\r\n            \r\n        }\r\n    }\r\n}\r\n```","title":"Base32 character conversion to a 5bit value, Python to Java","body":"<p>This should do:</p>\n<pre><code>class Binary {\n    public static void main(String[] args) {\n        String word_safe_alphabet = &quot;23456789CFGHJMPQRVWXcfghjmpqrvwx&quot;;\n        for(int i=0; i&lt;word_safe_alphabet.length(); i++){\n            int charNr = Character.getNumericValue(word_safe_alphabet.charAt(i))-2;\n            String binary = Integer.toBinaryString(charNr);\n            System.out.println(String.format(&quot;%5s&quot;, binary).replaceAll(&quot; &quot;, &quot;0&quot;));\n            \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73291758,"answer_count":1,"score":0,"last_activity_date":1660047782,"creation_date":1660045889,"question_id":73291326,"body_markdown":"I have some Python code where each given Base32 character is converted to a 5bit value.\r\n\r\nI need to rewrite it in Java, but I don&#39;t know the Java equivalent/syntax for this format function.\r\n\r\n    word_safe_alphabet = &quot;23456789CFGHJMPQRVWXcfghjmpqrvwx&quot;\r\n        d = {}\r\n        i=0\r\n        for char in word_safe_alphabet:\r\n            # Create 5 bit patterns for each character in the alphabet\r\n            # Start with bit pattern for index 0, to index 31: 00000 -&gt; 11111\r\n            d[char] = &quot;{0:05b}&quot;.format(i)\r\n            i+=1\r\n\r\n5 bit, because we have 32 possible characters in the alphabet, thus the highest index is 31, which needs 5 bits to be represented =&gt; 11111","title":"Base32 character conversion to a 5bit value, Python to Java","body":"<p>I have some Python code where each given Base32 character is converted to a 5bit value.</p>\n<p>I need to rewrite it in Java, but I don't know the Java equivalent/syntax for this format function.</p>\n<pre><code>word_safe_alphabet = &quot;23456789CFGHJMPQRVWXcfghjmpqrvwx&quot;\n    d = {}\n    i=0\n    for char in word_safe_alphabet:\n        # Create 5 bit patterns for each character in the alphabet\n        # Start with bit pattern for index 0, to index 31: 00000 -&gt; 11111\n        d[char] = &quot;{0:05b}&quot;.format(i)\n        i+=1\n</code></pre>\n<p>5 bit, because we have 32 possible characters in the alphabet, thus the highest index is 31, which needs 5 bits to be represented =&gt; 11111</p>\n"},{"tags":["java","windows","user-interface","jframe","windowsbuilder"],"comments":[{"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"score":0,"creation_date":1660037905,"post_id":73289566,"comment_id":129432401,"body_markdown":"What is your question??","body":"What is your question??"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1660037922,"post_id":73289566,"comment_id":129432413,"body_markdown":"Does this answer your question? [How to implement a single instance Java application?](https://stackoverflow.com/questions/177189/how-to-implement-a-single-instance-java-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/177189/how-to-implement-a-single-instance-java-application\">How to implement a single instance Java application?</a>"},{"owner":{"account_id":21528043,"reputation":1,"user_id":15867954,"display_name":"Ramil H. Bercasio"},"score":0,"creation_date":1660042215,"post_id":73289566,"comment_id":129433886,"body_markdown":"@John how to avoid multi Jframe opened when I click the application again https://i.stack.imgur.com/hKrNu.jpg%60enter","body":"@John how to avoid multi Jframe opened when I click the application again <a href=\"https://i.stack.imgur.com/hKrNu.jpg%60enter\" rel=\"nofollow noreferrer\">i.stack.imgur.com/hKrNu.jpg%60enter</a>"}],"answers":[{"tags":[],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660047680,"creation_date":1660047680,"answer_id":73291728,"question_id":73289566,"body_markdown":"You initialize a new JFrame everytime you call the method initialize().\r\n\r\nIf you want your application to only build one JFrame, create the JFrame object outside the method only one time.\r\n\r\nSo there should be \r\n\r\n    JFrame frame = new JFrame();\r\n\r\n one time only in your program.\r\n\r\nIf you want to always create a new JFrame intentionally. You can, before creating a new JFrame call \r\n\r\n    JFrame.dispose();\r\n\r\nto close the previous JFrame","title":"Avoid Multiple Frame opened","body":"<p>You initialize a new JFrame everytime you call the method initialize().</p>\n<p>If you want your application to only build one JFrame, create the JFrame object outside the method only one time.</p>\n<p>So there should be</p>\n<pre><code>JFrame frame = new JFrame();\n</code></pre>\n<p>one time only in your program.</p>\n<p>If you want to always create a new JFrame intentionally. You can, before creating a new JFrame call</p>\n<pre><code>JFrame.dispose();\n</code></pre>\n<p>to close the previous JFrame</p>\n"}],"owner":{"account_id":21528043,"reputation":1,"user_id":15867954,"display_name":"Ramil H. Bercasio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660047680,"creation_date":1660037699,"question_id":73289566,"body_markdown":"\r\nHow to Forced Java J Frame  application to run only one instance in windows? base on the image link below\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKrNu.jpg`enter code here`\r\n\r\n\r\npublic Home() {\t\r\n\t\t\t\r\n\t\tinitialize();\t\r\n\t\t\r\n\t}\t\t\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\r\n\t}\r\n\t\t\r\n\tprivate void initialize() {\r\n\t\t\r\n\t\t\t\t\r\n\t\r\n\t\tframe = new JFrame();\r\n\t\tframe.getContentPane().addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tframe.getContentPane().setBackground(Color.DARK_GRAY);\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\t\r\n\t\ttxtUsername = new JTextField();\r\n\t\ttxtUsername.setBorder(null);\r\n\t\ttxtUsername.setBackground(Color.DARK_GRAY);\r\n\t\ttxtUsername.setForeground(Color.WHITE);\r\n\t\ttxtUsername.addFocusListener(new FocusAdapter() {","title":"Avoid Multiple Frame opened","body":"<p>How to Forced Java J Frame  application to run only one instance in windows? base on the image link below</p>\n<p>[1]: <a href=\"https://i.stack.imgur.com/hKrNu.jpg%60enter\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/hKrNu.jpg`enter</a> code here`</p>\n<p>public Home() {</p>\n<pre><code>    initialize();   \n    \n}       \npublic void mouseClicked(MouseEvent e) {\n    \n}\n    \nprivate void initialize() {\n    \n            \n\n    frame = new JFrame();\n    frame.getContentPane().addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            \n            \n            \n            \n        }\n    });\n    frame.getContentPane().setBackground(Color.DARK_GRAY);\n    frame.getContentPane().setLayout(null);\n    \n    txtUsername = new JTextField();\n    txtUsername.setBorder(null);\n    txtUsername.setBackground(Color.DARK_GRAY);\n    txtUsername.setForeground(Color.WHITE);\n    txtUsername.addFocusListener(new FocusAdapter() {\n</code></pre>\n"},{"tags":["java","string","scala","gatling"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":1,"creation_date":1660047598,"post_id":73290984,"comment_id":129435830,"body_markdown":"Probably something along the lines of `.transform(array -&gt; String.join(&quot;,&quot;, array)`, since the original is a function that refers to the array as the `_` placeholder. Note that `String.join` takes a vararg, which in Java is interchangeable with an array. If the collection is not an array you can probably use a `.toArray` method or something analogous.","body":"Probably something along the lines of <code>.transform(array -&gt; String.join(&quot;,&quot;, array)</code>, since the original is a function that refers to the array as the <code>_</code> placeholder. Note that <code>String.join</code> takes a vararg, which in Java is interchangeable with an array. If the collection is not an array you can probably use a <code>.toArray</code> method or something analogous."}],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660047569,"creation_date":1660047569,"answer_id":73291701,"question_id":73290984,"body_markdown":"I think what you looking for is [Collectors.joining][1], but still, you will have to convert your `List` into a stream. I&#39;m not sure what you meant by a one-line solution: `String.join` looks like a one-line solution to me.\r\n\r\nFor example, for this Scala code:\r\n\r\n      val arr = Array(1, 2, 3)\r\n      println(arr.mkString(&quot;, &quot;))             // 1, 2, 3\r\n      println(arr.mkString(&quot;( &quot;, &quot;, &quot;, &quot;, &quot;)) // (1, 2, 3)\r\n\r\nIn Java you could do either of these:\r\n\r\n    List&lt;Integer&gt; l = Arrays.asList(1, 2, 3);\r\n    System.out.println(l.stream().map(Object::toString).collect(joining(&quot;, &quot;))); \r\n    // 1, 2, 3\r\n\r\n    System.out.println(l.stream().map(Object::toString).collect(joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;))); \r\n    // (1, 2, 3)\r\n\r\nUsing `String.join` is equivalent to the first `Collectors.joining` above:\r\n\r\n    System.out.println(String.join(&quot;, &quot;, l.stream().map(Object::toString).collect(toList()))); \r\n    // 1, 2, 3\r\n\r\nIn fact, Intellij will suggest you to replace this with `Collectors.joining`.\r\nI used static imports, but unfortunately Java is still more verbose either way.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-\r\n","title":"Perform Scala &quot;.mkString(_.mkString(&quot;,&quot;))&quot; equivalent in Gatling Java","body":"<p>I think what you looking for is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">Collectors.joining</a>, but still, you will have to convert your <code>List</code> into a stream. I'm not sure what you meant by a one-line solution: <code>String.join</code> looks like a one-line solution to me.</p>\n<p>For example, for this Scala code:</p>\n<pre><code>  val arr = Array(1, 2, 3)\n  println(arr.mkString(&quot;, &quot;))             // 1, 2, 3\n  println(arr.mkString(&quot;( &quot;, &quot;, &quot;, &quot;, &quot;)) // (1, 2, 3)\n</code></pre>\n<p>In Java you could do either of these:</p>\n<pre><code>List&lt;Integer&gt; l = Arrays.asList(1, 2, 3);\nSystem.out.println(l.stream().map(Object::toString).collect(joining(&quot;, &quot;))); \n// 1, 2, 3\n\nSystem.out.println(l.stream().map(Object::toString).collect(joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;))); \n// (1, 2, 3)\n</code></pre>\n<p>Using <code>String.join</code> is equivalent to the first <code>Collectors.joining</code> above:</p>\n<pre><code>System.out.println(String.join(&quot;, &quot;, l.stream().map(Object::toString).collect(toList()))); \n// 1, 2, 3\n</code></pre>\n<p>In fact, Intellij will suggest you to replace this with <code>Collectors.joining</code>.\nI used static imports, but unfortunately Java is still more verbose either way.</p>\n"}],"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660047569,"creation_date":1660044080,"question_id":73290984,"body_markdown":"I am converting Gatling Scala code to Java. I have a line within a &quot;.check()&quot; which saves a list of students and comma separates them:\r\n```.check(jsonPath(&quot;$.students[*].refId&quot;).findAll().transform(_.mkString(&quot;,&quot;)).saveAs(&quot;listOfStudents&quot;)) ```\r\n\r\nI am trying to do this in Java but mkString() is used in Scala, not Java. This is the closest I have to it:\r\n\r\n``` .check(jsonPath(&quot;$.students[*].refId&quot;).findAll().transform(String.join(&quot;,&quot;)).saveAs(&quot;listOfStudents&quot;))``` (note there is no array in the &quot;.join()&quot; since I am not sure where an array would come from here)\r\n\r\nIs there a one line solution for this like the Scala original or would this require something more complex using streams which I had suggested to me?\r\n\r\nThanks","title":"Perform Scala &quot;.mkString(_.mkString(&quot;,&quot;))&quot; equivalent in Gatling Java","body":"<p>I am converting Gatling Scala code to Java. I have a line within a &quot;.check()&quot; which saves a list of students and comma separates them:\n<code>.check(jsonPath(&quot;$.students[*].refId&quot;).findAll().transform(_.mkString(&quot;,&quot;)).saveAs(&quot;listOfStudents&quot;)) </code></p>\n<p>I am trying to do this in Java but mkString() is used in Scala, not Java. This is the closest I have to it:</p>\n<p><code> .check(jsonPath(&quot;$.students[*].refId&quot;).findAll().transform(String.join(&quot;,&quot;)).saveAs(&quot;listOfStudents&quot;))</code> (note there is no array in the &quot;.join()&quot; since I am not sure where an array would come from here)</p>\n<p>Is there a one line solution for this like the Scala original or would this require something more complex using streams which I had suggested to me?</p>\n<p>Thanks</p>\n"},{"tags":["java","maven","tomcat","netbeans"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1660029061,"post_id":73287746,"comment_id":129429402,"body_markdown":"Is the tomcat embedded into the IDE? Or is it external?","body":"Is the tomcat embedded into the IDE? Or is it external?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660029287,"post_id":73287746,"comment_id":129429479,"body_markdown":"you should also try to run your project independent of an IDE.","body":"you should also try to run your project independent of an IDE."},{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":0,"creation_date":1660031560,"post_id":73287746,"comment_id":129430200,"body_markdown":"Have you added mysq jdbc driver to your `pom.xml`?","body":"Have you added mysq jdbc driver to your <code>pom.xml</code>?"},{"owner":{"account_id":19052218,"reputation":27,"user_id":13910137,"display_name":"johnwickjamie"},"score":0,"creation_date":1660044729,"post_id":73287746,"comment_id":129434746,"body_markdown":"@XtremeBaumer it is external, I have the tomcat folder on my desktop.","body":"@XtremeBaumer it is external, I have the tomcat folder on my desktop."},{"owner":{"account_id":19052218,"reputation":27,"user_id":13910137,"display_name":"johnwickjamie"},"score":0,"creation_date":1660044745,"post_id":73287746,"comment_id":129434751,"body_markdown":"@asbachb yes I have","body":"@asbachb yes I have"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1660046578,"post_id":73287746,"comment_id":129435438,"body_markdown":"When creating the war file, did you convert to zip and check if the dependencies are present? Probably in `/lib` folder","body":"When creating the war file, did you convert to zip and check if the dependencies are present? Probably in <code>&#47;lib</code> folder"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660041542,"creation_date":1660041542,"answer_id":73290438,"question_id":73287746,"body_markdown":"Decide where you want to have the mariadb driver. It could be embedded in the application, then simply add that dependency to your pom (it is a mariadb and mysql driver):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you prefer that dependency to be resolved by Tomcat, simply drop that jar file into the `$CATALINA_BASE/lib` directory.\r\nThe advantage is that the responsibility for upgrading mysql in connection with the driver can be delegated away from development.","title":"Resolving: No suitable driver found for jdbc:mysql://localhost:3306/test error in a Maven web application using Tomcat","body":"<p>Decide where you want to have the mariadb driver. It could be embedded in the application, then simply add that dependency to your pom (it is a mariadb and mysql driver):</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n  &lt;version&gt;3.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you prefer that dependency to be resolved by Tomcat, simply drop that jar file into the <code>$CATALINA_BASE/lib</code> directory.\nThe advantage is that the responsibility for upgrading mysql in connection with the driver can be delegated away from development.</p>\n"}],"owner":{"account_id":19052218,"reputation":27,"user_id":13910137,"display_name":"johnwickjamie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73290438,"answer_count":1,"score":0,"last_activity_date":1660047525,"creation_date":1660028939,"question_id":73287746,"body_markdown":"I am trying to run a test Maven web application (*.war file) that Inserts data into a mySQL database using tomcat. In the maven project itself I have added all the neccesary dependancies to do this. However when I try and run it on the Tomcat server I get this error:\r\n```\r\nNo suitable driver found for jdbc:mysql://localhost:3306/Companies \r\n```\r\n*&quot;/Companies&quot; is the name of my database. \r\n\r\nI assmumed this ment that my dependancies were not being added to tomcat during deployment. Other simular questions suggests to go to &quot;Deployement assembly&quot; to add the maven dependancies. \r\n\r\n**However this option is only available in eclipse and am using netbeans to run my project.**\r\n\r\nMy question is how would I do the same on Netbeans?","title":"Resolving: No suitable driver found for jdbc:mysql://localhost:3306/test error in a Maven web application using Tomcat","body":"<p>I am trying to run a test Maven web application (*.war file) that Inserts data into a mySQL database using tomcat. In the maven project itself I have added all the neccesary dependancies to do this. However when I try and run it on the Tomcat server I get this error:</p>\n<pre><code>No suitable driver found for jdbc:mysql://localhost:3306/Companies \n</code></pre>\n<p>*&quot;/Companies&quot; is the name of my database.</p>\n<p>I assmumed this ment that my dependancies were not being added to tomcat during deployment. Other simular questions suggests to go to &quot;Deployement assembly&quot; to add the maven dependancies.</p>\n<p><strong>However this option is only available in eclipse and am using netbeans to run my project.</strong></p>\n<p>My question is how would I do the same on Netbeans?</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform","spring-cloud-gcp"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1660048257,"post_id":73291670,"comment_id":129436086,"body_markdown":"I would change the API of the service that is doing the processing so that you can send it the specification of where to get the data, rather than the data itself.","body":"I would change the API of the service that is doing the processing so that you can send it the specification of where to get the data, rather than the data itself."},{"owner":{"account_id":18110436,"reputation":21,"user_id":13167519,"display_name":"Swarnim Pratap Singh"},"score":0,"creation_date":1660049036,"post_id":73291670,"comment_id":129436403,"body_markdown":"@tgdavies yes you are correct but actually, these are 2 different microservice with their specific role and I&#39;ve to go with that way. Can you suggest something different?","body":"@tgdavies yes you are correct but actually, these are 2 different microservice with their specific role and I&#39;ve to go with that way. Can you suggest something different?"},{"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"score":0,"creation_date":1660057319,"post_id":73291670,"comment_id":129440012,"body_markdown":"Your question is quite unclear, what kind of data are we talking about? Are you trying to pass java objects to a different application? This sounds like an x y problem to me where your actual question is &quot;how do I (de)serialize java objects&quot;, which has nothing to do with cloud storage or spring. It&#39;s impossible to say what serialization format is sensible since you don&#39;t provide any info on the data, so I&#39;d advise to start with json, by using jackson (which is included in spring boot afaik). There are millions of articles on using jackson.","body":"Your question is quite unclear, what kind of data are we talking about? Are you trying to pass java objects to a different application? This sounds like an x y problem to me where your actual question is &quot;how do I (de)serialize java objects&quot;, which has nothing to do with cloud storage or spring. It&#39;s impossible to say what serialization format is sensible since you don&#39;t provide any info on the data, so I&#39;d advise to start with json, by using jackson (which is included in spring boot afaik). There are millions of articles on using jackson."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1660082213,"post_id":73291670,"comment_id":129447919,"body_markdown":"Whoever wrote the receiving service has presumably specified in which format and content type the data is to be transferred, and which HTTP verb to use.","body":"Whoever wrote the receiving service has presumably specified in which format and content type the data is to be transferred, and which HTTP verb to use."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1660082326,"post_id":73291670,"comment_id":129447947,"body_markdown":"Hopefully application/octet-stream, but you will have to find out. You can look at the accepts header of requests you make to the service.","body":"Hopefully application/octet-stream, but you will have to find out. You can look at the accepts header of requests you make to the service."}],"owner":{"account_id":18110436,"reputation":21,"user_id":13167519,"display_name":"Swarnim Pratap Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660047505,"creation_date":1660047462,"question_id":73291670,"body_markdown":"I&#39;m working on an issue where I&#39;ve to pass some data from one spring boot application to another. The data size can range between 10-100MB. I get this byte array data from GCP blob storage as\r\n```java\r\npublic byte[] downloadFileFromGCS(String objectName, String bucketName) throws IOException {\r\n    val storage = StorageOptions.getDefaultInstance().getService();\r\n    val blob = storage.get(BlobId.of(bucketName, objectName));\r\n    return blob.getContent();\r\n}\r\n```\r\nThe problem I&#39;m facing is that I&#39;ve to send it to different spring boot application for some processing, I&#39;ve tried many different approaches like:\r\n - encoding into base64: which is not working because of huge size of byte files) by sending as Content-type:application/json\r\n- sending directly as byte array (not working because teh byte array values get changed/data loss)\r\n\r\nCan someone suggest me what should I do in order to achieve this or any different approach like not sending byte[] array directly but using something different.","title":"How to send byte array from one spring boot application to different spring boot application","body":"<p>I'm working on an issue where I've to pass some data from one spring boot application to another. The data size can range between 10-100MB. I get this byte array data from GCP blob storage as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public byte[] downloadFileFromGCS(String objectName, String bucketName) throws IOException {\n    val storage = StorageOptions.getDefaultInstance().getService();\n    val blob = storage.get(BlobId.of(bucketName, objectName));\n    return blob.getContent();\n}\n</code></pre>\n<p>The problem I'm facing is that I've to send it to different spring boot application for some processing, I've tried many different approaches like:</p>\n<ul>\n<li>encoding into base64: which is not working because of huge size of byte files) by sending as Content-type:application/json</li>\n<li>sending directly as byte array (not working because teh byte array values get changed/data loss)</li>\n</ul>\n<p>Can someone suggest me what should I do in order to achieve this or any different approach like not sending byte[] array directly but using something different.</p>\n"},{"tags":["java","sql","postgresql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1660047994,"post_id":73290869,"comment_id":129435989,"body_markdown":"DBs treat NULLs not like java: it is safe to use `SUBSTRING(?, 1, 13)` because `SUBSTRING(null,1,13)` returns null.","body":"DBs treat NULLs not like java: it is safe to use <code>SUBSTRING(?, 1, 13)</code> because <code>SUBSTRING(null,1,13)</code> returns null."},{"owner":{"account_id":25552567,"reputation":5,"user_id":19336715,"display_name":"Yassir K"},"score":0,"creation_date":1660048595,"post_id":73290869,"comment_id":129436236,"body_markdown":"And you would be correct. Thank you!","body":"And you would be correct. Thank you!"}],"owner":{"account_id":25552567,"reputation":5,"user_id":19336715,"display_name":"Yassir K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660047340,"creation_date":1660043500,"question_id":73290869,"body_markdown":"Right now I&#39;m using JPA&#39;s @ColumnTransformer to extract characters from the *field* value before inserting it in the DB.\r\n\r\n    @Column(name = &quot;field&quot;)\r\n    @ColumnTransformer(write = &quot;SUBSTRING(?, 1, 13)&quot;)\r\n    private String field;\r\n\r\nProblem is, the value of *field* can be null. How do I go about testing if the value is not null before calling SUBSTRING()?\r\n\r\nWould this syntax be correct? I&#39;m using postgresSql.\r\n\r\n    @Column(name = &quot;field&quot;)\r\n    @ColumnTransformer(write = &quot;CASE ? WHEN IS NOT NULL THEN SUBSTRING(?, 1, 13) ELSE NULL END&quot;)\r\n    private String field;\r\n\r\nThanks.","title":"Test if null value in JPA&#39;s @ColumnTransformer","body":"<p>Right now I'm using JPA's @ColumnTransformer to extract characters from the <em>field</em> value before inserting it in the DB.</p>\n<pre><code>@Column(name = &quot;field&quot;)\n@ColumnTransformer(write = &quot;SUBSTRING(?, 1, 13)&quot;)\nprivate String field;\n</code></pre>\n<p>Problem is, the value of <em>field</em> can be null. How do I go about testing if the value is not null before calling SUBSTRING()?</p>\n<p>Would this syntax be correct? I'm using postgresSql.</p>\n<pre><code>@Column(name = &quot;field&quot;)\n@ColumnTransformer(write = &quot;CASE ? WHEN IS NOT NULL THEN SUBSTRING(?, 1, 13) ELSE NULL END&quot;)\nprivate String field;\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","cookies","httprequest","httpurlconnection","cookiemanager"],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660047271,"creation_date":1660047271,"answer_id":73291630,"question_id":73261466,"body_markdown":"Your best bet is likely to implement your own [`CookieHandler`][1] instead of using the default `CookieManager`:\r\n\r\n    CookieManager cm = new MyCookieManager();\r\n    CookieHandler.setDefault(cookieManager);\r\n\r\nIn [`MyCookieManager.put()`][2] you then do your own parsing of the HTTP response headers for finding those non standard cookies:\r\n\r\n    class MyCookieManager implements CookieHandler {\r\n        @Override\r\n        public void put(URI uri, Map&lt;String, List&lt;String&gt;&gt; responseHeaders) throws IOException {\r\n            // Manually parse the response headers\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/net/CookieHandler.html\r\n  [2]: https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/net/CookieHandler.html#put(java.net.URI,java.util.Map)","title":"How do I get a Cookie with an invalid character (colon &quot;:&quot;) in the cookie name in Java?","body":"<p>Your best bet is likely to implement your own <a href=\"https://cr.openjdk.java.net/%7Eiris/se/17/latestSpec/api/java.base/java/net/CookieHandler.html\" rel=\"nofollow noreferrer\"><code>CookieHandler</code></a> instead of using the default <code>CookieManager</code>:</p>\n<pre><code>CookieManager cm = new MyCookieManager();\nCookieHandler.setDefault(cookieManager);\n</code></pre>\n<p>In <a href=\"https://cr.openjdk.java.net/%7Eiris/se/17/latestSpec/api/java.base/java/net/CookieHandler.html#put(java.net.URI,java.util.Map)\" rel=\"nofollow noreferrer\"><code>MyCookieManager.put()</code></a> you then do your own parsing of the HTTP response headers for finding those non standard cookies:</p>\n<pre><code>class MyCookieManager implements CookieHandler {\n    @Override\n    public void put(URI uri, Map&lt;String, List&lt;String&gt;&gt; responseHeaders) throws IOException {\n        // Manually parse the response headers\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11573819,"reputation":556,"user_id":8479814,"accept_rate":50,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73291630,"answer_count":1,"score":1,"last_activity_date":1660047271,"creation_date":1659803160,"question_id":73261466,"body_markdown":"First of all, I **can&#39;t** change the cookie name. I would encode it if I had control over it. I don&#39;t know how they could add a cookie with invalid chars in the first place.\r\n\r\nI&#39;m hitting this endpoint say `www.abc.com/test` and it returns a cookie header like \r\n\r\n&gt; the::cookie::name=the::cookie::value\r\n\r\n\r\n\r\nI was able to retrieve the cookie in both Postman and in frontend using Javascript.\r\n\r\nI want to get this cookie in Java code. I tried using below Java code.\r\n\r\nIs there a workaround for this? thanks in advance!\r\n\r\n```java\r\nCookieManager cm = new CookieManager();\r\nCookieHandler.setDefault(cookieManager);\r\n\r\nURL url = new URL(&quot;www.abc.com/test&quot;);\r\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\r\ncon.setRequestMethod(&quot;POST&quot;);\r\ncon.setDoOutput(true);\r\n...\r\n...\r\ncon.getHeaderField(&quot;Set-Cookie&quot;); // returns empty String\r\n\r\n\r\nList&lt;HttpCookie&gt; cookies = cm.getCookieStore().getCookies(); // empty list\r\n```\r\nNo errors. The cookie just gets ignored.","title":"How do I get a Cookie with an invalid character (colon &quot;:&quot;) in the cookie name in Java?","body":"<p>First of all, I <strong>can't</strong> change the cookie name. I would encode it if I had control over it. I don't know how they could add a cookie with invalid chars in the first place.</p>\n<p>I'm hitting this endpoint say <code>www.abc.com/test</code> and it returns a cookie header like</p>\n<blockquote>\n<p>the::cookie::name=the::cookie::value</p>\n</blockquote>\n<p>I was able to retrieve the cookie in both Postman and in frontend using Javascript.</p>\n<p>I want to get this cookie in Java code. I tried using below Java code.</p>\n<p>Is there a workaround for this? thanks in advance!</p>\n<pre class=\"lang-java prettyprint-override\"><code>CookieManager cm = new CookieManager();\nCookieHandler.setDefault(cookieManager);\n\nURL url = new URL(&quot;www.abc.com/test&quot;);\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setDoOutput(true);\n...\n...\ncon.getHeaderField(&quot;Set-Cookie&quot;); // returns empty String\n\n\nList&lt;HttpCookie&gt; cookies = cm.getCookieStore().getCookies(); // empty list\n</code></pre>\n<p>No errors. The cookie just gets ignored.</p>\n"},{"tags":["java","spring-boot","azure","google-cloud-platform","azure-web-app-service"],"comments":[{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1659705876,"post_id":73249202,"comment_id":129364556,"body_markdown":"Please provide full stack trace.","body":"Please provide full stack trace."},{"owner":{"account_id":14663023,"reputation":16,"user_id":10589623,"display_name":"Kartik Patil"},"score":0,"creation_date":1659801083,"post_id":73249202,"comment_id":129383573,"body_markdown":"@Som. This is the exception I am getting **com.google.api.gax.rpc.UnknownException: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]**. This exception occur for **response = sessionsClient.detectIntent(session, queryInput);**","body":"@Som. This is the exception I am getting <b>com.google.api.gax.rpc.UnknownException: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]</b>. This exception occur for <b>response = sessionsClient.detectIntent(session, queryInput);</b>"},{"owner":{"account_id":14663023,"reputation":16,"user_id":10589623,"display_name":"Kartik Patil"},"score":0,"creation_date":1660046208,"post_id":73249202,"comment_id":129435273,"body_markdown":"@Som I have updated the full stack trace of the issue. pls check. Appreciate it. Thanks in advance","body":"@Som I have updated the full stack trace of the issue. pls check. Appreciate it. Thanks in advance"},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1660050135,"post_id":73249202,"comment_id":129436860,"body_markdown":"it seems some jar file missing in your classpath. Please add the relevant jar and deploy and check again. `Caused by: java.lang.RuntimeException: \nALPN unsupported. Is your classpath configured correctly? \nFor Conscrypt, add the appropriate Conscrypt JAR to classpath and set the security provider. \nFor Jetty-ALPN, see http://www.eclipse.org/jetty/documentation/current/alpn-chapter.html#alpn-starting`","body":"it seems some jar file missing in your classpath. Please add the relevant jar and deploy and check again. <code>Caused by: java.lang.RuntimeException:  ALPN unsupported. Is your classpath configured correctly?  For Conscrypt, add the appropriate Conscrypt JAR to classpath and set the security provider.  For Jetty-ALPN, see http:&#47;&#47;www.eclipse.org&#47;jetty&#47;documentation&#47;current&#47;alpn-chap&zwnj;&#8203;ter.html#alpn-starti&zwnj;&#8203;ng</code>"},{"owner":{"account_id":14663023,"reputation":16,"user_id":10589623,"display_name":"Kartik Patil"},"score":0,"creation_date":1675249974,"post_id":73249202,"comment_id":132886700,"body_markdown":"@Som Seems like the java 8 is not support by the ALPN because GRPC supports only Java 11 version sdk. So I had to deploy my services on to Java 11 env. This solved the issue","body":"@Som Seems like the java 8 is not support by the ALPN because GRPC supports only Java 11 version sdk. So I had to deploy my services on to Java 11 env. This solved the issue"}],"owner":{"account_id":14663023,"reputation":16,"user_id":10589623,"display_name":"Kartik Patil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660047100,"creation_date":1659699679,"question_id":73249202,"body_markdown":"I have a springboot application deployed on Azure app service. I am trying to get response from detectIntent method of dialogflow. I am getting the\r\n\r\n**com.google.api.gax.rpc.UnknownException: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]** exception. \r\n\r\nThe app is deployed as war file on the azure app service. Locally it works fine (IDE) also the war file runs successfully in tomcat server.\r\n\r\n\r\n```\r\nprotected DetectIntentResponse getActionFromNLPV2(String userQuery, String sessionId){\t   \t \r\n\t\tlog.info(&quot;Start of getActionFromNLPV2&quot;);\r\n\t   \tDetectIntentResponse response =null;\r\n\t\ttry {\t\t\t\r\n\t\t\ttry ( SessionsClient sessionsClient = SessionsClient.create(sessionsSettings)) {\r\n\t\t\t\t\tlog.info(&quot;Start of getActionFromNLPV2&quot;);\r\n\t   \t \t\t\tSessionName session = SessionName.of(projectId, sessionId);\r\n\t   \t \t\t\tlog.info(&quot;SessionName &quot; + session);\r\n\t   \t \t\t\tBuilder textInput = TextInput.newBuilder().setText(userQuery).setLanguageCode(&quot;en&quot;);\r\n\t   \t \t\t\tQueryInput queryInput = QueryInput.newBuilder().setText(textInput).build();\r\n\t   \t \t\t\tresponse = sessionsClient.detectIntent(session, queryInput);  \r\n\t   \t \t\t\tif (response!=null) {\r\n\t   \t \t\t\t\treturn response;\r\n\t   \t \t\t\t} else {\r\n\t   \t \t\t\t\treturn null;\r\n\t   \t \t\t\t}\r\n\t   \t \t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Exception from getting action data from NLP&quot; + e);\r\n\t\t\treturn null;\r\n\t\t}\t\t\r\n\t }\r\n```\r\n\r\npom.xml \r\n```\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-dialogflow&lt;/artifactId&gt;\r\n            &lt;version&gt;0.107.0-alpha&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;1.89.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nfull stack trace \r\n\r\n```\r\n2022-08-09T11:29:14.637263290Z Exception from getting action data from NLP\r\n2022-08-09T11:29:14.644974865Z com.google.api.gax.rpc.UnknownException: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n2022-08-09T11:29:14.646319678Z \tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:47)\r\n2022-08-09T11:29:14.646836283Z \tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n2022-08-09T11:29:14.647275788Z \tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n2022-08-09T11:29:14.654538558Z \tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n2022-08-09T11:29:14.654556159Z \tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n2022-08-09T11:29:14.654893862Z \tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:982)\r\n2022-08-09T11:29:14.655115264Z \tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n2022-08-09T11:29:14.655283666Z \tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1138)\r\n2022-08-09T11:29:14.655474368Z \tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:957)\r\n2022-08-09T11:29:14.655482668Z \tat com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:748)\r\n2022-08-09T11:29:14.655639969Z \tat io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:515)\r\n2022-08-09T11:29:14.656248975Z \tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:490)\r\n2022-08-09T11:29:14.656562978Z \tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n2022-08-09T11:29:14.656572578Z \tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n2022-08-09T11:29:14.656576178Z \tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n2022-08-09T11:29:14.656579678Z \tat io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)\r\n2022-08-09T11:29:14.657373486Z \tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n2022-08-09T11:29:14.657388286Z \tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n2022-08-09T11:29:14.657495487Z \tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n2022-08-09T11:29:14.657502087Z \tat io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)\r\n2022-08-09T11:29:14.657506087Z \tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:510)\r\n2022-08-09T11:29:14.657689989Z \tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)\r\n2022-08-09T11:29:14.744958540Z \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:630)\r\n2022-08-09T11:29:14.744982941Z \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:518)\r\n2022-08-09T11:29:14.744987641Z \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:692)\r\n2022-08-09T11:29:14.744991041Z \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:681)\r\n2022-08-09T11:29:14.744994641Z \tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n2022-08-09T11:29:14.744997941Z \tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n2022-08-09T11:29:14.745001541Z \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n2022-08-09T11:29:14.745004541Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2022-08-09T11:29:14.745007741Z \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n2022-08-09T11:29:14.745010941Z \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n2022-08-09T11:29:14.745027341Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2022-08-09T11:29:14.745030641Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2022-08-09T11:29:14.745033741Z \tat java.lang.Thread.run(Thread.java:748)\r\n2022-08-09T11:29:14.745036741Z \tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n2022-08-09T11:29:14.745039841Z \t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n2022-08-09T11:29:14.745042941Z \t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n2022-08-09T11:29:14.745046041Z \t\tat com.google.cloud.dialogflow.v2beta1.SessionsClient.detectIntent(SessionsClient.java:253)\r\n2022-08-09T11:29:14.745049141Z \t\tat com.google.cloud.dialogflow.v2beta1.SessionsClient.detectIntent(SessionsClient.java:188)\r\n2022-08-09T11:29:14.745052341Z \t\tat com.zensar.zenconverseassist.controller.AbstractAPIConnectionLayer.getActionFromNLPV2(AbstractAPIConnectionLayer.java:91)\r\n2022-08-09T11:29:14.745055541Z \t\tat com.zensar.zenconverseassist.controller.ActionInfoControllerV2.getActionInfo(ActionInfoControllerV2.java:62)\r\n2022-08-09T11:29:14.745058741Z \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2022-08-09T11:29:14.745061741Z \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n2022-08-09T11:29:14.745066041Z \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2022-08-09T11:29:14.745069241Z \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n2022-08-09T11:29:14.745072241Z \t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n2022-08-09T11:29:14.745075441Z \t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n2022-08-09T11:29:14.745078642Z \t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n2022-08-09T11:29:14.745081842Z \t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n2022-08-09T11:29:14.745086042Z \t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n2022-08-09T11:29:14.745089442Z \t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n2022-08-09T11:29:14.745092642Zat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n2022-08-09T11:29:14.745095842Z \t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n2022-08-09T11:29:14.745099042Z \t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n2022-08-09T11:29:14.745104742Z \t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n2022-08-09T11:29:14.745107942Z \t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n2022-08-09T11:29:14.745111042Z \t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n2022-08-09T11:29:14.745114142Z \t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n2022-08-09T11:29:14.745117142Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n2022-08-09T11:29:14.745120242Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745123342Z \t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n2022-08-09T11:29:14.745126342Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745129442Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745132542Z \t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n2022-08-09T11:29:14.745135942Z \t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n2022-08-09T11:29:14.745139142Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745142242Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745145342Z \t\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\r\n2022-08-09T11:29:14.745148442Z \t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n2022-08-09T11:29:14.745151642Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745154742Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745157842Z \t\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n2022-08-09T11:29:14.745160942Z \t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n2022-08-09T11:29:14.745164042Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745167142Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745170242Z \t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n2022-08-09T11:29:14.745173342Z \t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n2022-08-09T11:29:14.745178943Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745182143Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745185343Z \t\tat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:115)\r\n2022-08-09T11:29:14.745188443Z \t\tat org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:59)\r\n2022-08-09T11:29:14.745191543Z \t\tat org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:90)\r\n2022-08-09T11:29:14.745194643Z \t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n2022-08-09T11:29:14.745197743Zat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:108)\r\n2022-08-09T11:29:14.745201043Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745204243Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745207343Z \t\tat com.microsoft.azure.appservice.filters.AppServiceFilter.doFilter(AppServiceFilter.java:59)\r\n2022-08-09T11:29:14.745210443Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745213543Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745216643Z \t\tat com.microsoft.azure.appservice.EasyAuthFilter.doFilter(EasyAuthFilter.java:42)\r\n2022-08-09T11:29:14.745219743Z \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-08-09T11:29:14.745222843Z \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-08-09T11:29:14.745225943Z \t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n2022-08-09T11:29:14.745229043Z \t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n2022-08-09T11:29:14.745232143Z \t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n2022-08-09T11:29:14.745235243Z \t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n2022-08-09T11:29:14.745238343Z \t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n2022-08-09T11:29:14.745241443Z \t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n2022-08-09T11:29:14.745244743Z \t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n2022-08-09T11:29:14.745259843Z \t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n2022-08-09T11:29:14.745263443Z \t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n2022-08-09T11:29:14.745269743Z \t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n2022-08-09T11:29:14.745273343Z \t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n2022-08-09T11:29:14.745276943Z \t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n2022-08-09T11:29:14.745280743Z \t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n2022-08-09T11:29:14.745284244Z \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n2022-08-09T11:29:14.745287744Z \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n2022-08-09T11:29:14.745291444Z \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n2022-08-09T11:29:14.745295044Z \t\t... 1 more\r\n2022-08-09T11:29:14.745298444Z Caused by: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n2022-08-09T11:29:14.745302044Z \tat io.grpc.Status.asRuntimeException(Status.java:533)\r\n2022-08-09T11:29:14.745305444Z \t... 24 more\r\n2022-08-09T11:29:14.745308844Z Caused by: io.grpc.netty.shaded.io.netty.channel.ChannelPipelineException: io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ClientTlsHandler.handlerAdded() has thrown an exception; removed.\r\n2022-08-09T11:29:14.745312544Z \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:625)\r\n2022-08-09T11:29:14.745316044Z \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.replace(DefaultChannelPipeline.java:573)\r\n2022-08-09T11:29:14.745319544Z \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.replace(DefaultChannelPipeline.java:516)\r\n2022-08-09T11:29:14.745323144Z \tat io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ProtocolNegotiationHandler.fireProtocolNegotiationEvent(ProtocolNegotiators.java:949)\r\n2022-08-09T11:29:14.745326744Z \tat io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$WaitUntilActiveHandler.channelActive(ProtocolNegotiators.java:858)\r\n2022-08-09T11:29:14.745330244Z \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225)\r\n2022-08-09T11:29:14.745333844Z \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211)\r\n2022-08-09T11:29:14.745337344Z \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204)\r\n2022-08-09T11:29:14.745340844Z \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelActive(DefaultChannelPipeline.java:1409)\r\n2022-08-09T11:29:14.745344544Z \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225)\r\n2022-08-09T11:29:14.745351344Z \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211)\r\n2022-08-09T11:29:14.745355044Z \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelActive(DefaultChannelPipeline.java:906)\r\n2022-08-09T11:29:14.745358944Z \tat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.fulfillConnectPromise(AbstractEpollChannel.java:615)\r\n2022-08-09T11:29:14.745362644Z \tat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:648)\r\n2022-08-09T11:29:14.745366344Z \tat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:524)\r\n2022-08-09T11:29:14.745369844Z \tat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:414)\r\n2022-08-09T11:29:14.745373344Z \tat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:326)\r\n2022-08-09T11:29:14.745376844Z \tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918)\r\n2022-08-09T11:29:14.745380344Z \tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n2022-08-09T11:29:14.745383744Z \tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n2022-08-09T11:29:14.745387245Z \t... 1 more\r\n2022-08-09T11:29:14.745390745Z Caused by: java.lang.RuntimeException: ALPN unsupported. Is your classpath configured correctly? For Conscrypt, add the appropriate Conscrypt JAR to classpath and set the security provider. For Jetty-ALPN, see http://www.eclipse.org/jetty/documentation/current/alpn-chapter.html#alpn-starting\r\n2022-08-09T11:29:14.745394645Z \tat io.grpc.netty.shaded.io.netty.handler.ssl.JdkAlpnApplicationProtocolNegotiator$FailureWrapper.wrapSslEngine(JdkAlpnApplicationProtocolNegotiator.java:122)\r\n2022-08-09T11:29:14.745398245Z \tat io.grpc.netty.shaded.io.netty.handler.ssl.JdkSslContext.configureAndWrapEngine(JdkSslContext.java:360)\r\n2022-08-09T11:29:14.745401745Z \tat io.grpc.netty.shaded.io.netty.handler.ssl.JdkSslContext.newEngine(JdkSslContext.java:335)\r\n2022-08-09T11:29:14.745405145Z \tat io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ClientTlsHandler.handlerAdded0(ProtocolNegotiators.java:341)\r\n2022-08-09T11:29:14.745408745Z \tat io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ProtocolNegotiationHandler.handlerAdded(ProtocolNegotiators.java:908)\r\n2022-08-09T11:29:14.745412245Z \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)\r\n2022-08-09T11:29:14.745415745Z \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:610)\r\n2022-08-09T11:29:14.745419345Z \t... 20 more\r\n```","title":"com.google.api.gax.rpc.UnknownException in Springboot app deployed on Azure app service","body":"<p>I have a springboot application deployed on Azure app service. I am trying to get response from detectIntent method of dialogflow. I am getting the</p>\n<p><strong>com.google.api.gax.rpc.UnknownException: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]</strong> exception.</p>\n<p>The app is deployed as war file on the azure app service. Locally it works fine (IDE) also the war file runs successfully in tomcat server.</p>\n<pre><code>protected DetectIntentResponse getActionFromNLPV2(String userQuery, String sessionId){       \n        log.info(&quot;Start of getActionFromNLPV2&quot;);\n        DetectIntentResponse response =null;\n        try {           \n            try ( SessionsClient sessionsClient = SessionsClient.create(sessionsSettings)) {\n                    log.info(&quot;Start of getActionFromNLPV2&quot;);\n                    SessionName session = SessionName.of(projectId, sessionId);\n                    log.info(&quot;SessionName &quot; + session);\n                    Builder textInput = TextInput.newBuilder().setText(userQuery).setLanguageCode(&quot;en&quot;);\n                    QueryInput queryInput = QueryInput.newBuilder().setText(textInput).build();\n                    response = sessionsClient.detectIntent(session, queryInput);  \n                    if (response!=null) {\n                        return response;\n                    } else {\n                        return null;\n                    }\n            }\n        } catch (Exception e) {\n            log.error(&quot;Exception from getting action data from NLP&quot; + e);\n            return null;\n        }       \n     }\n</code></pre>\n<p>pom.xml</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-dialogflow&lt;/artifactId&gt;\n            &lt;version&gt;0.107.0-alpha&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n            &lt;version&gt;1.89.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>full stack trace</p>\n<pre><code>2022-08-09T11:29:14.637263290Z Exception from getting action data from NLP\n2022-08-09T11:29:14.644974865Z com.google.api.gax.rpc.UnknownException: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n2022-08-09T11:29:14.646319678Z  at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:47)\n2022-08-09T11:29:14.646836283Z  at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n2022-08-09T11:29:14.647275788Z  at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n2022-08-09T11:29:14.654538558Z  at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n2022-08-09T11:29:14.654556159Z  at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n2022-08-09T11:29:14.654893862Z  at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:982)\n2022-08-09T11:29:14.655115264Z  at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n2022-08-09T11:29:14.655283666Z  at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1138)\n2022-08-09T11:29:14.655474368Z  at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:957)\n2022-08-09T11:29:14.655482668Z  at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:748)\n2022-08-09T11:29:14.655639969Z  at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:515)\n2022-08-09T11:29:14.656248975Z  at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:490)\n2022-08-09T11:29:14.656562978Z  at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n2022-08-09T11:29:14.656572578Z  at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n2022-08-09T11:29:14.656576178Z  at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n2022-08-09T11:29:14.656579678Z  at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)\n2022-08-09T11:29:14.657373486Z  at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n2022-08-09T11:29:14.657388286Z  at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n2022-08-09T11:29:14.657495487Z  at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n2022-08-09T11:29:14.657502087Z  at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)\n2022-08-09T11:29:14.657506087Z  at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:510)\n2022-08-09T11:29:14.657689989Z  at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)\n2022-08-09T11:29:14.744958540Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:630)\n2022-08-09T11:29:14.744982941Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:518)\n2022-08-09T11:29:14.744987641Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:692)\n2022-08-09T11:29:14.744991041Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:681)\n2022-08-09T11:29:14.744994641Z  at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n2022-08-09T11:29:14.744997941Z  at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n2022-08-09T11:29:14.745001541Z  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n2022-08-09T11:29:14.745004541Z  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n2022-08-09T11:29:14.745007741Z  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n2022-08-09T11:29:14.745010941Z  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n2022-08-09T11:29:14.745027341Z  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2022-08-09T11:29:14.745030641Z  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2022-08-09T11:29:14.745033741Z  at java.lang.Thread.run(Thread.java:748)\n2022-08-09T11:29:14.745036741Z  Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n2022-08-09T11:29:14.745039841Z      at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n2022-08-09T11:29:14.745042941Z      at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n2022-08-09T11:29:14.745046041Z      at com.google.cloud.dialogflow.v2beta1.SessionsClient.detectIntent(SessionsClient.java:253)\n2022-08-09T11:29:14.745049141Z      at com.google.cloud.dialogflow.v2beta1.SessionsClient.detectIntent(SessionsClient.java:188)\n2022-08-09T11:29:14.745052341Z      at com.zensar.zenconverseassist.controller.AbstractAPIConnectionLayer.getActionFromNLPV2(AbstractAPIConnectionLayer.java:91)\n2022-08-09T11:29:14.745055541Z      at com.zensar.zenconverseassist.controller.ActionInfoControllerV2.getActionInfo(ActionInfoControllerV2.java:62)\n2022-08-09T11:29:14.745058741Z      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2022-08-09T11:29:14.745061741Z      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2022-08-09T11:29:14.745066041Z      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2022-08-09T11:29:14.745069241Z      at java.lang.reflect.Method.invoke(Method.java:498)\n2022-08-09T11:29:14.745072241Z      at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n2022-08-09T11:29:14.745075441Z      at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n2022-08-09T11:29:14.745078642Z      at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n2022-08-09T11:29:14.745081842Z      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n2022-08-09T11:29:14.745086042Z      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n2022-08-09T11:29:14.745089442Z      at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n2022-08-09T11:29:14.745092642Zat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n2022-08-09T11:29:14.745095842Z      at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n2022-08-09T11:29:14.745099042Z      at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n2022-08-09T11:29:14.745104742Z      at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n2022-08-09T11:29:14.745107942Z      at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n2022-08-09T11:29:14.745111042Z      at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n2022-08-09T11:29:14.745114142Z      at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n2022-08-09T11:29:14.745117142Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n2022-08-09T11:29:14.745120242Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745123342Z      at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n2022-08-09T11:29:14.745126342Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745129442Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745132542Z      at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n2022-08-09T11:29:14.745135942Z      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n2022-08-09T11:29:14.745139142Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745142242Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745145342Z      at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\n2022-08-09T11:29:14.745148442Z      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n2022-08-09T11:29:14.745151642Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745154742Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745157842Z      at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n2022-08-09T11:29:14.745160942Z      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n2022-08-09T11:29:14.745164042Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745167142Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745170242Z      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n2022-08-09T11:29:14.745173342Z      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n2022-08-09T11:29:14.745178943Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745182143Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745185343Z      at org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:115)\n2022-08-09T11:29:14.745188443Z      at org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:59)\n2022-08-09T11:29:14.745191543Z      at org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:90)\n2022-08-09T11:29:14.745194643Z      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n2022-08-09T11:29:14.745197743Zat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:108)\n2022-08-09T11:29:14.745201043Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745204243Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745207343Z      at com.microsoft.azure.appservice.filters.AppServiceFilter.doFilter(AppServiceFilter.java:59)\n2022-08-09T11:29:14.745210443Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745213543Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745216643Z      at com.microsoft.azure.appservice.EasyAuthFilter.doFilter(EasyAuthFilter.java:42)\n2022-08-09T11:29:14.745219743Z      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-08-09T11:29:14.745222843Z      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-08-09T11:29:14.745225943Z      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\n2022-08-09T11:29:14.745229043Z      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n2022-08-09T11:29:14.745232143Z      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n2022-08-09T11:29:14.745235243Z      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n2022-08-09T11:29:14.745238343Z      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n2022-08-09T11:29:14.745241443Z      at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n2022-08-09T11:29:14.745244743Z      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n2022-08-09T11:29:14.745259843Z      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n2022-08-09T11:29:14.745263443Z      at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n2022-08-09T11:29:14.745269743Z      at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n2022-08-09T11:29:14.745273343Z      at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n2022-08-09T11:29:14.745276943Z      at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n2022-08-09T11:29:14.745280743Z      at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n2022-08-09T11:29:14.745284244Z      at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n2022-08-09T11:29:14.745287744Z      at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n2022-08-09T11:29:14.745291444Z      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n2022-08-09T11:29:14.745295044Z      ... 1 more\n2022-08-09T11:29:14.745298444Z Caused by: io.grpc.StatusRuntimeException: UNKNOWN: Channel Pipeline: [WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n2022-08-09T11:29:14.745302044Z  at io.grpc.Status.asRuntimeException(Status.java:533)\n2022-08-09T11:29:14.745305444Z  ... 24 more\n2022-08-09T11:29:14.745308844Z Caused by: io.grpc.netty.shaded.io.netty.channel.ChannelPipelineException: io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ClientTlsHandler.handlerAdded() has thrown an exception; removed.\n2022-08-09T11:29:14.745312544Z  at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:625)\n2022-08-09T11:29:14.745316044Z  at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.replace(DefaultChannelPipeline.java:573)\n2022-08-09T11:29:14.745319544Z  at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.replace(DefaultChannelPipeline.java:516)\n2022-08-09T11:29:14.745323144Z  at io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ProtocolNegotiationHandler.fireProtocolNegotiationEvent(ProtocolNegotiators.java:949)\n2022-08-09T11:29:14.745326744Z  at io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$WaitUntilActiveHandler.channelActive(ProtocolNegotiators.java:858)\n2022-08-09T11:29:14.745330244Z  at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225)\n2022-08-09T11:29:14.745333844Z  at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211)\n2022-08-09T11:29:14.745337344Z  at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204)\n2022-08-09T11:29:14.745340844Z  at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelActive(DefaultChannelPipeline.java:1409)\n2022-08-09T11:29:14.745344544Z  at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225)\n2022-08-09T11:29:14.745351344Z  at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211)\n2022-08-09T11:29:14.745355044Z  at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelActive(DefaultChannelPipeline.java:906)\n2022-08-09T11:29:14.745358944Z  at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.fulfillConnectPromise(AbstractEpollChannel.java:615)\n2022-08-09T11:29:14.745362644Z  at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:648)\n2022-08-09T11:29:14.745366344Z  at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:524)\n2022-08-09T11:29:14.745369844Z  at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:414)\n2022-08-09T11:29:14.745373344Z  at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:326)\n2022-08-09T11:29:14.745376844Z  at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918)\n2022-08-09T11:29:14.745380344Z  at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n2022-08-09T11:29:14.745383744Z  at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n2022-08-09T11:29:14.745387245Z  ... 1 more\n2022-08-09T11:29:14.745390745Z Caused by: java.lang.RuntimeException: ALPN unsupported. Is your classpath configured correctly? For Conscrypt, add the appropriate Conscrypt JAR to classpath and set the security provider. For Jetty-ALPN, see http://www.eclipse.org/jetty/documentation/current/alpn-chapter.html#alpn-starting\n2022-08-09T11:29:14.745394645Z  at io.grpc.netty.shaded.io.netty.handler.ssl.JdkAlpnApplicationProtocolNegotiator$FailureWrapper.wrapSslEngine(JdkAlpnApplicationProtocolNegotiator.java:122)\n2022-08-09T11:29:14.745398245Z  at io.grpc.netty.shaded.io.netty.handler.ssl.JdkSslContext.configureAndWrapEngine(JdkSslContext.java:360)\n2022-08-09T11:29:14.745401745Z  at io.grpc.netty.shaded.io.netty.handler.ssl.JdkSslContext.newEngine(JdkSslContext.java:335)\n2022-08-09T11:29:14.745405145Z  at io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ClientTlsHandler.handlerAdded0(ProtocolNegotiators.java:341)\n2022-08-09T11:29:14.745408745Z  at io.grpc.netty.shaded.io.grpc.netty.ProtocolNegotiators$ProtocolNegotiationHandler.handlerAdded(ProtocolNegotiators.java:908)\n2022-08-09T11:29:14.745412245Z  at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)\n2022-08-09T11:29:14.745415745Z  at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:610)\n2022-08-09T11:29:14.745419345Z  ... 20 more\n</code></pre>\n"},{"tags":["java","angularjs","selenium","ionic-v1"],"comments":[{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":2,"creation_date":1532937222,"post_id":51588974,"comment_id":90143847,"body_markdown":"Will you clarify what is your exact target element, which you want to click.","body":"Will you clarify what is your exact target element, which you want to click."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1532937892,"post_id":51588974,"comment_id":90144224,"body_markdown":"Which is that `said element`? Currently there is only one i.e. **&#215;**, what are the other options?","body":"Which is that <code>said element</code>? Currently there is only one i.e. <b>&#215;</b>, what are the other options?"},{"owner":{"account_id":14056881,"reputation":33,"user_id":10153974,"display_name":"Richard"},"score":0,"creation_date":1532941538,"post_id":51588974,"comment_id":90146067,"body_markdown":"That&#39;s the thing, the HTML that i pasted was basically the whole &quot;Listbox&quot; element. I&#39;m not sure which element I should target and also which  element can i interact with. I want to simulate a click on this box element but cannot seem to do it.","body":"That&#39;s the thing, the HTML that i pasted was basically the whole &quot;Listbox&quot; element. I&#39;m not sure which element I should target and also which  element can i interact with. I want to simulate a click on this box element but cannot seem to do it."}],"answers":[{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532948225,"creation_date":1532946257,"answer_id":51591860,"question_id":51588974,"body_markdown":"Although there could be different variation of x-paths, but following is simpler to understand as &lt;span&gt; element is the first concrete element in whole posted code:\r\n\r\n    driver.findElement(By.xpath(&quot;//span[contains(.,&#39;Select from list&#39;)]&quot;)).click();\r\n\r\n**Update #1:**\r\n\r\n1) Try adding some wait before clicking:\r\n\r\n            WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    \t\twait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.xpath(&quot;//span[contains(.,&#39;Select from list&#39;)]&quot;))));\r\n    \t\t\r\n    \t\tdriver.findElement(By.xpath(&quot;//span[contains(.,&#39;Select from list&#39;)]&quot;)).click();\r\n\r\n2) You Can also try using Javascript Executor:\r\n\r\n          ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, driver.findElement(By.xpath(&quot;//span[contains(.,&#39;Select from list&#39;)]&quot;)));\r\n\r\n\t\t","title":"Having trouble with ng select boxes in selenium testing","body":"<p>Although there could be different variation of x-paths, but following is simpler to understand as  element is the first concrete element in whole posted code:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//span[contains(.,'Select from list')]\")).click();\n</code></pre>\n\n<p><strong>Update #1:</strong></p>\n\n<p>1) Try adding some wait before clicking:</p>\n\n<pre><code>        WebDriverWait wait = new WebDriverWait(driver, 10);\n        wait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.xpath(\"//span[contains(.,'Select from list')]\"))));\n\n        driver.findElement(By.xpath(\"//span[contains(.,'Select from list')]\")).click();\n</code></pre>\n\n<p>2) You Can also try using Javascript Executor:</p>\n\n<pre><code>      ((JavascriptExecutor) driver).executeScript(\"arguments[0].click();\", driver.findElement(By.xpath(\"//span[contains(.,'Select from list')]\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9562641,"reputation":1275,"user_id":7102875,"display_name":"dangi13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1532956848,"creation_date":1532948868,"answer_id":51592604,"question_id":51588974,"body_markdown":"Try to click using actions class : \r\n\r\n    WebElement selectBox = driver.findElements(By.xpath(&quot;//span[contains(.,&#39;Select from list&#39;)]&quot;)).get(1);\r\n\r\n    public static void actionClick(WebDriver driver, WebElement element) {\r\n    \t\tActions actions = new Actions(driver);\r\n    \t\tactions.moveToElement(element).click().build().perform();\r\n    \t}\r\n\r\nnow if normal click does not work then you can use Actions class or \r\n    JavascriptExecutor on element &quot;selectBox&quot;","title":"Having trouble with ng select boxes in selenium testing","body":"<p>Try to click using actions class : </p>\n\n<pre><code>WebElement selectBox = driver.findElements(By.xpath(\"//span[contains(.,'Select from list')]\")).get(1);\n\npublic static void actionClick(WebDriver driver, WebElement element) {\n        Actions actions = new Actions(driver);\n        actions.moveToElement(element).click().build().perform();\n    }\n</code></pre>\n\n<p>now if normal click does not work then you can use Actions class or \n    JavascriptExecutor on element \"selectBox\"</p>\n"},{"tags":[],"owner":{"account_id":15670435,"reputation":11,"user_id":11307126,"display_name":"Sumit Kumar Chaudhary"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660046837,"creation_date":1659679531,"answer_id":73245332,"question_id":51588974,"body_markdown":"I handle using sendKeys.\r\n\r\n\r\n    WebElement productBrandSelection=driver.findElement(By.xpath(&quot;//ng-select[@formcontrolname=&#39;productBrand&#39;]&quot;));\r\n    \r\n    productBrandSelection.sendKeys(&quot;desireOptionName&quot;);\r\n    productBrandSelection.sendKeys(Keys.Enter);","title":"Having trouble with ng select boxes in selenium testing","body":"<p>I handle using sendKeys.</p>\n<pre><code>WebElement productBrandSelection=driver.findElement(By.xpath(&quot;//ng-select[@formcontrolname='productBrand']&quot;));\n\nproductBrandSelection.sendKeys(&quot;desireOptionName&quot;);\nproductBrandSelection.sendKeys(Keys.Enter);\n</code></pre>\n"}],"owner":{"account_id":14056881,"reputation":33,"user_id":10153974,"display_name":"Richard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6365,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51592604,"answer_count":3,"score":3,"last_activity_date":1660046837,"creation_date":1532935734,"question_id":51588974,"body_markdown":"I am currently trying to test a certain element from a website that uses ionic for its front-end implementation. \r\n\r\nI got stuck with this element that uses `ng-select` listbox.\r\n\r\nI&#39;ve tried to find various different answers and tried many different combinations of methods but still have no luck. Currently my code finds this element by the xpath.\r\n\r\nWhat I&#39;ve tried : \r\n\r\nSelect class, does not work, error message of \r\n\r\n&gt; element of type ng select not select\r\n\r\n`.click()`, always get an error message of \r\n\r\n&gt; &quot;Element is not clickable at point...&quot;\r\n\r\nJavascript executor click, nothing happens.\r\n\r\n`.sendKeys()`, either &quot;cannot focus element&quot; or &quot;element is not of type input&quot;\r\n\r\nAnd a few others...\r\n\r\nI&#39;m kinda at the end of my options. I have no idea how do i interact with this box. Is there any other method that would work? \r\n\r\nAlso, I&#39;m confused as to which element should i actually be interacting with? I tried the `sendKeys` on the `ngInput` but it does not accept inputs. I tried the Select on `ng-select.` \r\n\r\nMy main aim is to simulate a click on said element, as a user would do to choose from the dropdown list.\r\n\r\n\r\nBelow is the HTML code of the particular element, coded with ionic.\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;ng-select class=&quot;ng-select ng-select-single ng-pristine ng-valid ng-select-bottom ng-touched&quot;\r\n               formcontrolname=&quot;productBrand&quot; role=&quot;listbox&quot;&gt;\r\n      &lt;div class=&quot;ng-select-container ng-has-value&quot;&gt;\r\n        &lt;div class=&quot;ng-value-container&quot;&gt;\r\n            &lt;div class=&quot;ng-placeholder&quot;&gt;&lt;/div&gt;\r\n            &lt;!----&gt;&lt;!----&gt;\r\n                &lt;!----&gt;&lt;div class=&quot;ng-value disabled&quot;&gt;\r\n                    &lt;!----&gt;\r\n                    &lt;!----&gt;\r\n                        &lt;span aria-hidden=&quot;true&quot; class=&quot;ng-value-icon left&quot;&gt;&#215;&lt;/span&gt;\r\n                        &lt;span class=&quot;ng-value-label&quot;&gt;Select from list\r\n                &lt;/span&gt;\r\n                    \r\n                &lt;/div&gt;\r\n            &lt;!----&gt;\r\n\r\n            &lt;!----&gt;&lt;div class=&quot;ng-input&quot;&gt;\r\n                &lt;!----&gt;&lt;div role=&quot;combobox&quot; tabindex=&quot;0&quot; aria-expanded=&quot;false&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;!----&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;!----&gt;\r\n\r\n        &lt;!----&gt;&lt;span class=&quot;ng-clear-wrapper&quot; title=&quot;Clear all&quot;&gt;\r\n            &lt;span aria-hidden=&quot;true&quot; class=&quot;ng-clear&quot;&gt;&#215;&lt;/span&gt;\r\n        &lt;/span&gt;\r\n\r\n        &lt;span class=&quot;ng-arrow-wrapper&quot;&gt;\r\n            &lt;span class=&quot;ng-arrow&quot;&gt;&lt;/span&gt;\r\n        &lt;/span&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;!----&gt;\r\n    &lt;/ng-select&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAny help is appreciated!\r\n","title":"Having trouble with ng select boxes in selenium testing","body":"<p>I am currently trying to test a certain element from a website that uses ionic for its front-end implementation. </p>\n\n<p>I got stuck with this element that uses <code>ng-select</code> listbox.</p>\n\n<p>I've tried to find various different answers and tried many different combinations of methods but still have no luck. Currently my code finds this element by the xpath.</p>\n\n<p>What I've tried : </p>\n\n<p>Select class, does not work, error message of </p>\n\n<blockquote>\n  <p>element of type ng select not select</p>\n</blockquote>\n\n<p><code>.click()</code>, always get an error message of </p>\n\n<blockquote>\n  <p>\"Element is not clickable at point...\"</p>\n</blockquote>\n\n<p>Javascript executor click, nothing happens.</p>\n\n<p><code>.sendKeys()</code>, either \"cannot focus element\" or \"element is not of type input\"</p>\n\n<p>And a few others...</p>\n\n<p>I'm kinda at the end of my options. I have no idea how do i interact with this box. Is there any other method that would work? </p>\n\n<p>Also, I'm confused as to which element should i actually be interacting with? I tried the <code>sendKeys</code> on the <code>ngInput</code> but it does not accept inputs. I tried the Select on <code>ng-select.</code> </p>\n\n<p>My main aim is to simulate a click on said element, as a user would do to choose from the dropdown list.</p>\n\n<p>Below is the HTML code of the particular element, coded with ionic.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ng-select class=\"ng-select ng-select-single ng-pristine ng-valid ng-select-bottom ng-touched\"\n           formcontrolname=\"productBrand\" role=\"listbox\"&gt;\n  &lt;div class=\"ng-select-container ng-has-value\"&gt;\n    &lt;div class=\"ng-value-container\"&gt;\n        &lt;div class=\"ng-placeholder\"&gt;&lt;/div&gt;\n        &lt;!----&gt;&lt;!----&gt;\n            &lt;!----&gt;&lt;div class=\"ng-value disabled\"&gt;\n                &lt;!----&gt;\n                &lt;!----&gt;\n                    &lt;span aria-hidden=\"true\" class=\"ng-value-icon left\"&gt;×&lt;/span&gt;\n                    &lt;span class=\"ng-value-label\"&gt;Select from list\n            &lt;/span&gt;\n\n            &lt;/div&gt;\n        &lt;!----&gt;\n\n        &lt;!----&gt;&lt;div class=\"ng-input\"&gt;\n            &lt;!----&gt;&lt;div role=\"combobox\" tabindex=\"0\" aria-expanded=\"false\"&gt;\n            &lt;/div&gt;\n            &lt;!----&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!----&gt;\n\n    &lt;!----&gt;&lt;span class=\"ng-clear-wrapper\" title=\"Clear all\"&gt;\n        &lt;span aria-hidden=\"true\" class=\"ng-clear\"&gt;×&lt;/span&gt;\n    &lt;/span&gt;\n\n    &lt;span class=\"ng-arrow-wrapper\"&gt;\n        &lt;span class=\"ng-arrow\"&gt;&lt;/span&gt;\n    &lt;/span&gt;\n&lt;/div&gt;\n\n&lt;!----&gt;\n&lt;/ng-select&gt;\n</code></pre>\n\n\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","maven","soap"],"comments":[{"owner":{"account_id":10961971,"reputation":5515,"user_id":8054998,"display_name":"Bench Vue"},"score":0,"creation_date":1660032674,"post_id":73288392,"comment_id":129430578,"body_markdown":"Can you share WSDL URL and schema(bnl.xsd) ?","body":"Can you share WSDL URL and schema(bnl.xsd) ?"},{"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"score":1,"creation_date":1660033719,"post_id":73288392,"comment_id":129430945,"body_markdown":"I added the XSD content ( just pingRequest and removed any other types etc. )\nI cannot provide any WSDL since it contains information not shareable and the examples above have already been modified to not contain any sensitive data, I&#39;m sorry.","body":"I added the XSD content ( just pingRequest and removed any other types etc. ) I cannot provide any WSDL since it contains information not shareable and the examples above have already been modified to not contain any sensitive data, I&#39;m sorry."},{"owner":{"account_id":2701846,"reputation":619,"user_id":2332409,"display_name":"sudipn"},"score":0,"creation_date":1660033997,"post_id":73288392,"comment_id":129431055,"body_markdown":"what if you configure the `spring-boot-starter-web-services` dependency like this:\n\n\n`&lt;dependency&gt;\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n\t&lt;exclusions&gt;\n\t\t&lt;exclusion&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n\t\t&lt;/exclusion&gt;\n\t&lt;/exclusions&gt;\n&lt;/dependency&gt;`\nrecompile and, do you still receive the error?","body":"what if you configure the <code>spring-boot-starter-web-services</code> dependency like this:   <code>&lt;dependency&gt; \t&lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt; \t&lt;artifactId&gt;spring-boot-starter-web-services&lt;&#47;artifactId&gt; \t&lt;exclusions&gt; \t\t&lt;exclusion&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;&#47;artifactId&gt; \t\t&lt;&#47;exclusion&gt; \t&lt;&#47;exclusions&gt; &lt;&#47;dependency&gt;</code> recompile and, do you still receive the error?"},{"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"score":0,"creation_date":1660034258,"post_id":73288392,"comment_id":129431162,"body_markdown":"@sudipn Sadly this did not change the exception and I still receive the ClassNotFoundException for SOAPException upon receiving a soap request.","body":"@sudipn Sadly this did not change the exception and I still receive the ClassNotFoundException for SOAPException upon receiving a soap request."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1660036256,"post_id":73288392,"comment_id":129431822,"body_markdown":"`spring-boot-starter-web-services` depends on `jakarta.xml.ws:jakarta.xml.ws-api` which contains the `javax.xml.soap.SOAPException` class so this should work without adding any extra dependencies. I would guess that Maven may have corrupted the jar when it downloaded it. I&#39;d try purging your local Maven repository and rebuilding your application.","body":"<code>spring-boot-starter-web-services</code> depends on <code>jakarta.xml.ws:jakarta.xml.ws-api</code> which contains the <code>javax.xml.soap.SOAPException</code> class so this should work without adding any extra dependencies. I would guess that Maven may have corrupted the jar when it downloaded it. I&#39;d try purging your local Maven repository and rebuilding your application."},{"owner":{"account_id":10961971,"reputation":5515,"user_id":8054998,"display_name":"Bench Vue"},"score":1,"creation_date":1660037821,"post_id":73288392,"comment_id":129432374,"body_markdown":"@Nico, I ran with your bnl.xsd on Ubuntu (20.04), SpringBoot 2.7.2, JDK 17.0.1 and jaxb2-maven-plugin v 2.5.0. It works fine to serve as WSDL and can get the response to &lt;PingRequest&gt; by Postman. But I did not try Jakarta. Why you need a Jakarta?","body":"@Nico, I ran with your bnl.xsd on Ubuntu (20.04), SpringBoot 2.7.2, JDK 17.0.1 and jaxb2-maven-plugin v 2.5.0. It works fine to serve as WSDL and can get the response to &lt;PingRequest&gt; by Postman. But I did not try Jakarta. Why you need a Jakarta?"},{"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"score":0,"creation_date":1660040034,"post_id":73288392,"comment_id":129433174,"body_markdown":"@AndyWilkinson Interestingly enough I just created a new an blank project through Spring Initialzr and there it works completely fine. Seems like something really is wrong with my project or other dependencies added. Even after purging my local mvn repository with &#39;&#39;&#39;mvn dependency:purge-local-repository&#39;&#39;&#39;&#39; it still fails. Will probably clean my whole .m2 folder and re-attempt after also cleaning my IDE caches.","body":"@AndyWilkinson Interestingly enough I just created a new an blank project through Spring Initialzr and there it works completely fine. Seems like something really is wrong with my project or other dependencies added. Even after purging my local mvn repository with &#39;&#39;&#39;mvn dependency:purge-local-repository&#39;&#39;&#39;&#39; it still fails. Will probably clean my whole .m2 folder and re-attempt after also cleaning my IDE caches."}],"answers":[{"tags":[],"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660046513,"creation_date":1660046513,"answer_id":73291464,"question_id":73288392,"body_markdown":"As Andy Wilkinson pointed out in the comments my local repository got broken or my IDE was holding incorrect caches somewhere and after cleaning my whole .m2 local repository and cleaning the IDE caches, it built completely fine and is able to respond to the SOAP message!","title":"Spring boot 2.7.2 with JDK 17 and SOAP Web service","body":"<p>As Andy Wilkinson pointed out in the comments my local repository got broken or my IDE was holding incorrect caches somewhere and after cleaning my whole .m2 local repository and cleaning the IDE caches, it built completely fine and is able to respond to the SOAP message!</p>\n"}],"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73291464,"answer_count":1,"score":0,"last_activity_date":1660046513,"creation_date":1660032119,"question_id":73288392,"body_markdown":"I&#39;m trying to set up Spring boot (2.7.2) on JDK 18 with exposing Web service endpoints alongside of normal REST endpoints.\r\n\r\nThe application boots up without any errors and can server my REST endpoints without any problems but the moment it receives a SOAP request it fails with the following error message:\r\n\r\n    : Servlet.init() for servlet [messageDispatcherServlet] threw exception\r\n\r\n    org.springframework.beans.factory.BeanInitializationException: Could not initialize WebServiceMessageReceiverHandlerAdapter; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ws.soap.saaj.SaajSoapMessageFactory]: Unresolvable class definition; nested exception is java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:380)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:599)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:804)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ws.soap.saaj.SaajSoapMessageFactory]: Unresolvable class definition; nested exception is java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:156)\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:149)\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:134)\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:214)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377)\r\n\t... 24 common frames omitted\r\n     Caused by: java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3610)\r\n\tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2786)\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:146)\r\n\t... 29 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.soap.SOAPException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 34 common frames omitted\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;simulator-service&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;simulator-service&lt;/name&gt;\r\n    &lt;description&gt;Microservice to simulate X&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\r\n        &lt;swagger.v3.annotations.version&gt;2.1.12&lt;/swagger.v3.annotations.version&gt;\r\n        &lt;commons.validator.version&gt;1.7&lt;/commons.validator.version&gt;\r\n        &lt;logback.ecs.version&gt;1.3.0&lt;/logback.ecs.version&gt;\r\n        &lt;lombok.mapstruct.version&gt;0.2.0&lt;/lombok.mapstruct.version&gt;\r\n        &lt;commons.io.version&gt;2.11.0&lt;/commons.io.version&gt;\r\n        &lt;springdoc.version&gt;1.6.4&lt;/springdoc.version&gt;\r\n        &lt;hamcrest-all.version&gt;1.3&lt;/hamcrest-all.version&gt;\r\n        &lt;swagger.annotations.version&gt;1.6.4&lt;/swagger.annotations.version&gt;\r\n        &lt;jose4j.version&gt;0.7.12&lt;/jose4j.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger.v3.annotations.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons.validator.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons.io.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.bitbucket.b_c&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jose4j&lt;/artifactId&gt;\r\n          &lt;version&gt;${jose4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;!--    expose swagger--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${swagger.annotations.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;build-info&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-info&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${project.version}&lt;/version&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dependency-check&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n                        &lt;version&gt;6.0.3&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;verify&lt;/id&gt;\r\n                                &lt;phase&gt;verify&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;check&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;format&gt;XML&lt;/format&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;swaggergen&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;profiles&gt;swaggergen&lt;/profiles&gt;\r\n                            &lt;jvmArguments&gt;-Dspring.application.admin.enabled=false&lt;/jvmArguments&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;start&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;post-integration-test&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nI have created the following configuration class:\r\n\r\n    @EnableWs\r\n    @Configuration\r\n    public class WebServiceConfig\r\n        extends WsConfigurerAdapter\r\n    {\r\n      @Bean\r\n      public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\r\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\r\n        servlet.setApplicationContext(applicationContext);\r\n        servlet.setTransformWsdlLocations(true);\r\n        return new ServletRegistrationBean(servlet, &quot;/webservices/Service/SoapStubService&quot;, &quot;/webservices/Service/*&quot;);\r\n      }\r\n    \r\n      @Bean(name = &quot;bnl&quot;)\r\n      public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema bnlSchema) {\r\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n        wsdl11Definition.setPortTypeName(&quot;bnlPort&quot;);\r\n        wsdl11Definition.setLocationUri(&quot;/webservices/Service/SoapStubService&quot;);\r\n        wsdl11Definition.setTargetNamespace(&quot;http://www.bnl.ll/company/schemas&quot;);\r\n        wsdl11Definition.setSchema(bnlSchema);\r\n        return wsdl11Definition;\r\n      }\r\n    \r\n      @Bean\r\n      public XsdSchema bnlSchema() {\r\n        return new SimpleXsdSchema(new ClassPathResource(&quot;/xsd/bnl.xsd&quot;));\r\n      }\r\n    }\r\n\r\nand the following endpoint class to receive the incoming request:\r\n\r\n    @Endpoint\r\n    public class BnlSoapEndpoint\r\n    {\r\n      private static final String NAMESPACE_URI = &quot;http://www.bnl.ll/company/schemas&quot;;\r\n    \r\n      @Autowired\r\n      public BilSoapEndpoint() {\r\n        super();\r\n      }\r\n    \r\n      @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;PingBnl&quot;)\r\n      @ResponsePayload\r\n      public PingResponse pingBnl(@RequestPayload PingRequest pingRequest) {\r\n        PingResponse response = new PingResponse();\r\n        response.setStatus(PingStatus.SUCCESS);\r\n        return response;\r\n      }\r\n\r\n}\r\n\r\nThe matching POJOs are using the javax.xml.bind packages which are working and running fine as it seems. Trying to replace them with the jakarta equivalent for newer JDKs caused problems with Hibernate on runtime.\r\n\r\nI have tried a bunch of google results and StackOverflow results from 2015-2018 but none have resolved my problem.\r\nHere were some dependencies I tried without success or any change in the exception:\r\n\r\n        &lt;!-- &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt; --&gt;\r\n        &lt;!-- &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt; --&gt;\r\n      &lt;!-- &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt; --&gt;\r\n\r\nAny help in resolving this would be highly appreciated.\r\n\r\nPS: Resources I read and tried out below\r\n\r\n[ExceptionError - ClassNotFoundException: javax.xml.soap.SOAPException][1]\r\n\r\n[StackOverflow - Question 48626824][2]\r\n\r\n[StackOverflow - JAXB plugin differences][3]\r\n\r\n[StackOverflow - How to use Spring with WSDL][4]\r\n\r\n[StackOverflow - how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception][5]\r\n\r\nEDIT:\r\n\r\nbnl.xsd as requested:\r\n\r\n    &lt;xs:schema elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.bnl.ll/company/schemas&quot; version=&quot;1.0&quot;\r\n               xmlns:tns=&quot;http://www.bnl.ll/company/schemas&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n      &lt;xs:element name=&quot;PingRequest&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n          &lt;xs:sequence/&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n      &lt;xs:element name=&quot;PingResponse&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n          &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;status&quot; type=&quot;tns:PingStatus&quot;/&gt;\r\n            &lt;xs:element name=&quot;message&quot; type=&quot;xs:string&quot;/&gt;\r\n          &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n      &lt;xs:complexType abstract=&quot;true&quot; name=&quot;number&quot;&gt;\r\n        &lt;xs:sequence/&gt;\r\n      &lt;/xs:complexType&gt;\r\n      &lt;xs:simpleType name=&quot;PingStatus&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n          &lt;xs:enumeration value=&quot;SUCCESS&quot;/&gt;\r\n          &lt;xs:enumeration value=&quot;ERROR&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n      &lt;/xs:simpleType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nscreenshot of soapUI request failing:\r\n\r\n[![SoapUI][6]][6]\r\n\r\n  [1]: https://exerror.com/java-lang-noclassdeffounderror-javax-xml-soap-soapexception/\r\n  [2]: https://stackoverflow.com/questions/48626824/java-lang-noclassdeffounderror-javax-xml-soap-soapexception\r\n  [3]: https://stackoverflow.com/questions/2432859/difference-of-maven-jaxb-plugins\r\n  [4]: https://stackoverflow.com/questions/33773346/how-to-use-wsdl-with-spring-boot\r\n  [5]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\r\n  [6]: https://i.stack.imgur.com/cPOsF.png","title":"Spring boot 2.7.2 with JDK 17 and SOAP Web service","body":"<p>I'm trying to set up Spring boot (2.7.2) on JDK 18 with exposing Web service endpoints alongside of normal REST endpoints.</p>\n<p>The application boots up without any errors and can server my REST endpoints without any problems but the moment it receives a SOAP request it fails with the following error message:</p>\n<pre><code>: Servlet.init() for servlet [messageDispatcherServlet] threw exception\n\norg.springframework.beans.factory.BeanInitializationException: Could not initialize WebServiceMessageReceiverHandlerAdapter; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ws.soap.saaj.SaajSoapMessageFactory]: Unresolvable class definition; nested exception is java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\nat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:380)\nat org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361)\nat org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:599)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\nat javax.servlet.GenericServlet.init(GenericServlet.java:158)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\nat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:804)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ws.soap.saaj.SaajSoapMessageFactory]: Unresolvable class definition; nested exception is java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\nat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:156)\nat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:149)\nat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:134)\nat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:214)\nat org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389)\nat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377)\n... 24 common frames omitted\n Caused by: java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405)\nat java.base/java.lang.Class.getConstructor0(Class.java:3610)\nat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2786)\nat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:146)\n... 29 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.xml.soap.SOAPException\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 34 common frames omitted\n</code></pre>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n&lt;groupId&gt;com.company&lt;/groupId&gt;\n&lt;artifactId&gt;simulator-service&lt;/artifactId&gt;\n&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;simulator-service&lt;/name&gt;\n&lt;description&gt;Microservice to simulate X&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\n    &lt;swagger.v3.annotations.version&gt;2.1.12&lt;/swagger.v3.annotations.version&gt;\n    &lt;commons.validator.version&gt;1.7&lt;/commons.validator.version&gt;\n    &lt;logback.ecs.version&gt;1.3.0&lt;/logback.ecs.version&gt;\n    &lt;lombok.mapstruct.version&gt;0.2.0&lt;/lombok.mapstruct.version&gt;\n    &lt;commons.io.version&gt;2.11.0&lt;/commons.io.version&gt;\n    &lt;springdoc.version&gt;1.6.4&lt;/springdoc.version&gt;\n    &lt;hamcrest-all.version&gt;1.3&lt;/hamcrest-all.version&gt;\n    &lt;swagger.annotations.version&gt;1.6.4&lt;/swagger.annotations.version&gt;\n    &lt;jose4j.version&gt;0.7.12&lt;/jose4j.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n        &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.v3.annotations.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;${commons.validator.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;${commons.io.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.bitbucket.b_c&lt;/groupId&gt;\n      &lt;artifactId&gt;jose4j&lt;/artifactId&gt;\n      &lt;version&gt;${jose4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;!--    expose swagger--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;${springdoc.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${swagger.annotations.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;build-info&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build-info&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;unpack&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;unpack&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                                &lt;version&gt;${project.version}&lt;/version&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dependency-check&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                    &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                    &lt;version&gt;6.0.3&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;verify&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;check&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;format&gt;XML&lt;/format&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;swaggergen&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;profiles&gt;swaggergen&lt;/profiles&gt;\n                        &lt;jvmArguments&gt;-Dspring.application.admin.enabled=false&lt;/jvmArguments&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;pre-integration-test&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;start&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;post-integration-test&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;stop&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n\n&lt;/profiles&gt;\n</code></pre>\n\n<p>I have created the following configuration class:</p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig\n    extends WsConfigurerAdapter\n{\n  @Bean\n  public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n    MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n    servlet.setApplicationContext(applicationContext);\n    servlet.setTransformWsdlLocations(true);\n    return new ServletRegistrationBean(servlet, &quot;/webservices/Service/SoapStubService&quot;, &quot;/webservices/Service/*&quot;);\n  }\n\n  @Bean(name = &quot;bnl&quot;)\n  public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema bnlSchema) {\n    DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n    wsdl11Definition.setPortTypeName(&quot;bnlPort&quot;);\n    wsdl11Definition.setLocationUri(&quot;/webservices/Service/SoapStubService&quot;);\n    wsdl11Definition.setTargetNamespace(&quot;http://www.bnl.ll/company/schemas&quot;);\n    wsdl11Definition.setSchema(bnlSchema);\n    return wsdl11Definition;\n  }\n\n  @Bean\n  public XsdSchema bnlSchema() {\n    return new SimpleXsdSchema(new ClassPathResource(&quot;/xsd/bnl.xsd&quot;));\n  }\n}\n</code></pre>\n<p>and the following endpoint class to receive the incoming request:</p>\n<pre><code>@Endpoint\npublic class BnlSoapEndpoint\n{\n  private static final String NAMESPACE_URI = &quot;http://www.bnl.ll/company/schemas&quot;;\n\n  @Autowired\n  public BilSoapEndpoint() {\n    super();\n  }\n\n  @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;PingBnl&quot;)\n  @ResponsePayload\n  public PingResponse pingBnl(@RequestPayload PingRequest pingRequest) {\n    PingResponse response = new PingResponse();\n    response.setStatus(PingStatus.SUCCESS);\n    return response;\n  }\n</code></pre>\n<p>}</p>\n<p>The matching POJOs are using the javax.xml.bind packages which are working and running fine as it seems. Trying to replace them with the jakarta equivalent for newer JDKs caused problems with Hibernate on runtime.</p>\n<p>I have tried a bunch of google results and StackOverflow results from 2015-2018 but none have resolved my problem.\nHere were some dependencies I tried without success or any change in the exception:</p>\n<pre><code>    &lt;!-- &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt; --&gt;\n    &lt;!-- &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n      &lt;version&gt;1.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n      &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt; --&gt;\n  &lt;!-- &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt; --&gt;\n</code></pre>\n<p>Any help in resolving this would be highly appreciated.</p>\n<p>PS: Resources I read and tried out below</p>\n<p><a href=\"https://exerror.com/java-lang-noclassdeffounderror-javax-xml-soap-soapexception/\" rel=\"nofollow noreferrer\">ExceptionError - ClassNotFoundException: javax.xml.soap.SOAPException</a></p>\n<p><a href=\"https://stackoverflow.com/questions/48626824/java-lang-noclassdeffounderror-javax-xml-soap-soapexception\">StackOverflow - Question 48626824</a></p>\n<p><a href=\"https://stackoverflow.com/questions/2432859/difference-of-maven-jaxb-plugins\">StackOverflow - JAXB plugin differences</a></p>\n<p><a href=\"https://stackoverflow.com/questions/33773346/how-to-use-wsdl-with-spring-boot\">StackOverflow - How to use Spring with WSDL</a></p>\n<p><a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">StackOverflow - how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception</a></p>\n<p>EDIT:</p>\n<p>bnl.xsd as requested:</p>\n<pre><code>&lt;xs:schema elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.bnl.ll/company/schemas&quot; version=&quot;1.0&quot;\n           xmlns:tns=&quot;http://www.bnl.ll/company/schemas&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n  &lt;xs:element name=&quot;PingRequest&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence/&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n  &lt;xs:element name=&quot;PingResponse&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;status&quot; type=&quot;tns:PingStatus&quot;/&gt;\n        &lt;xs:element name=&quot;message&quot; type=&quot;xs:string&quot;/&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n  &lt;xs:complexType abstract=&quot;true&quot; name=&quot;number&quot;&gt;\n    &lt;xs:sequence/&gt;\n  &lt;/xs:complexType&gt;\n  &lt;xs:simpleType name=&quot;PingStatus&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n      &lt;xs:enumeration value=&quot;SUCCESS&quot;/&gt;\n      &lt;xs:enumeration value=&quot;ERROR&quot;/&gt;\n    &lt;/xs:restriction&gt;\n  &lt;/xs:simpleType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>screenshot of soapUI request failing:</p>\n<p><a href=\"https://i.stack.imgur.com/cPOsF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cPOsF.png\" alt=\"SoapUI\" /></a></p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":13542367,"reputation":5828,"user_id":9769731,"display_name":"karllekko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660046315,"creation_date":1660046315,"answer_id":73291423,"question_id":73291334,"body_markdown":"You can&#39;t transfer immediately because the funds haven&#39;t settled yet to be available in your Stripe platform balance, that takes a few days.\r\n\r\nYou&#39;d generally use `source_transaction` here so you can call the Transfer API and link it to the payment. https://stripe.com/docs/connect/charges-transfers#transfer-availability \r\n\r\nSee also this: https://stackoverflow.com/questions/55686949/why-i-am-getting-insufficient-funds-when-trying-stripe-transfers-even-though-i/55687932#55687932 ","title":"Stripe Payment issue to multiple account","body":"<p>You can't transfer immediately because the funds haven't settled yet to be available in your Stripe platform balance, that takes a few days.</p>\n<p>You'd generally use <code>source_transaction</code> here so you can call the Transfer API and link it to the payment. <a href=\"https://stripe.com/docs/connect/charges-transfers#transfer-availability\" rel=\"nofollow noreferrer\">https://stripe.com/docs/connect/charges-transfers#transfer-availability</a></p>\n<p>See also this: <a href=\"https://stackoverflow.com/questions/55686949/why-i-am-getting-insufficient-funds-when-trying-stripe-transfers-even-though-i/55687932#55687932\">Why I am getting &#39;insufficient funds&#39; when trying Stripe Transfers even though I added TEST mode funds in my Account?</a></p>\n"}],"owner":{"display_name":"user16897456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660046315,"creation_date":1660045910,"question_id":73291334,"body_markdown":"Requirement: In my project I have to process sum of multiple payment. For ex: $1+$2=$3. So I have to process the payment of $3 in stripe and want to transfer the $1 and $2 in different account of Connect after successfull payment. So How can I achieve this. here is my implementation but this is giving me an error &quot;You have insufficient funds in your Stripe account.&quot; and getting an error at line &quot;Transfer transfer = Transfer.create(transferParams);&quot;\r\n\r\n```\r\n@PostMapping(&quot;/multiple-payment&quot;)\r\npublic Object multiplePaymentIntent(@RequestBody MultiplePaymentRequest multiple) throws StripeException {\r\n  Stripe.apiKey = stripeApiKey;\r\n  PaymentIntentCreateParams params =\r\n    PaymentIntentCreateParams.builder()\r\n      .addPaymentMethodType(&quot;card&quot;)\r\n      .setAmount(multiple.getTotalAmount()*1L)\r\n      .setCurrency(&quot;usd&quot;)\r\n      .setReceiptEmail(&quot;example@gmail.com&quot;)\r\n      .setTransferGroup(&quot;{ORDER10}&quot;)\r\n      .build();\r\n  PaymentIntent paymentIntent = PaymentIntent.create(params);\r\n  for(int i=0;i&lt;multiple.getAccount().size();i++){\r\n    TransferCreateParams transferParams =\r\n      TransferCreateParams.builder()\r\n        .setAmount(multiple.getAmount().get(i)*1L)\r\n        .setCurrency(&quot;usd&quot;)\r\n        .setDestination(multiple.getAccount().get(i))\r\n        .setTransferGroup(&quot;{ORDER10}&quot;)\r\n        .build();\r\n\r\n    Transfer transfer = Transfer.create(transferParams);\r\n\r\n  }\r\n  return paymentIntent.toJson();\r\n}\r\n```\r\n\r\nand RequestBody is\r\n```\r\npublic class MultiplePaymentRequest {\r\n  Integer totalAmount;\r\n  List&lt;String&gt; account;\r\n  List&lt;Integer&gt; amount;\r\n}\r\n```","title":"Stripe Payment issue to multiple account","body":"<p>Requirement: In my project I have to process sum of multiple payment. For ex: $1+$2=$3. So I have to process the payment of $3 in stripe and want to transfer the $1 and $2 in different account of Connect after successfull payment. So How can I achieve this. here is my implementation but this is giving me an error &quot;You have insufficient funds in your Stripe account.&quot; and getting an error at line &quot;Transfer transfer = Transfer.create(transferParams);&quot;</p>\n<pre><code>@PostMapping(&quot;/multiple-payment&quot;)\npublic Object multiplePaymentIntent(@RequestBody MultiplePaymentRequest multiple) throws StripeException {\n  Stripe.apiKey = stripeApiKey;\n  PaymentIntentCreateParams params =\n    PaymentIntentCreateParams.builder()\n      .addPaymentMethodType(&quot;card&quot;)\n      .setAmount(multiple.getTotalAmount()*1L)\n      .setCurrency(&quot;usd&quot;)\n      .setReceiptEmail(&quot;example@gmail.com&quot;)\n      .setTransferGroup(&quot;{ORDER10}&quot;)\n      .build();\n  PaymentIntent paymentIntent = PaymentIntent.create(params);\n  for(int i=0;i&lt;multiple.getAccount().size();i++){\n    TransferCreateParams transferParams =\n      TransferCreateParams.builder()\n        .setAmount(multiple.getAmount().get(i)*1L)\n        .setCurrency(&quot;usd&quot;)\n        .setDestination(multiple.getAccount().get(i))\n        .setTransferGroup(&quot;{ORDER10}&quot;)\n        .build();\n\n    Transfer transfer = Transfer.create(transferParams);\n\n  }\n  return paymentIntent.toJson();\n}\n</code></pre>\n<p>and RequestBody is</p>\n<pre><code>public class MultiplePaymentRequest {\n  Integer totalAmount;\n  List&lt;String&gt; account;\n  List&lt;Integer&gt; amount;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660043230,"post_id":73290805,"comment_id":129434223,"body_markdown":"everything depends on how you write your code.","body":"everything depends on how you write your code."},{"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"score":0,"creation_date":1660043378,"post_id":73290805,"comment_id":129434297,"body_markdown":"Can you give me some idea? I think its bad to use my service class for creating objects, I want to create entity from which will I create object and on that object I will consume methods from service","body":"Can you give me some idea? I think its bad to use my service class for creating objects, I want to create entity from which will I create object and on that object I will consume methods from service"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660043509,"post_id":73290805,"comment_id":129434335,"body_markdown":"makes little sense to me, maybe I just don&#39;t understand you correctly. Can you put an actual example in your question of what you mean?","body":"makes little sense to me, maybe I just don&#39;t understand you correctly. Can you put an actual example in your question of what you mean?"},{"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"score":0,"creation_date":1660043528,"post_id":73290805,"comment_id":129434344,"body_markdown":"I edited question with full code so far","body":"I edited question with full code so far"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660043624,"post_id":73290805,"comment_id":129434377,"body_markdown":"TaxService extends Product... that makes no sense at all. There is no &quot;IS-A&quot; relationship between the two classes. Create the products in your runner class, and pass them as parameters to your tax method","body":"TaxService extends Product... that makes no sense at all. There is no &quot;IS-A&quot; relationship between the two classes. Create the products in your runner class, and pass them as parameters to your tax method"},{"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"score":0,"creation_date":1660043970,"post_id":73290805,"comment_id":129434493,"body_markdown":"maybe I just don&#39;t understand you correctly. Can you put an actual example in your answer of what you mean?","body":"maybe I just don&#39;t understand you correctly. Can you put an actual example in your answer of what you mean?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660044574,"post_id":73290805,"comment_id":129434687,"body_markdown":"just delete the &quot;extends Product&quot;. Then, in your runner do Product p = new Product (/* parameters */ ); let your taxService methods accept a parameter of type Product, and pass p as parameter when you call them","body":"just delete the &quot;extends Product&quot;. Then, in your runner do Product p = new Product (/* parameters */ ); let your taxService methods accept a parameter of type Product, and pass p as parameter when you call them"},{"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"score":0,"creation_date":1660044739,"post_id":73290805,"comment_id":129434749,"body_markdown":"Yeah, I did that, in my main I have now Product object but how I can use my methods on that object? That is my problem right now, when I call `taxService.tax()` its empty, like method doesnt use variables from my entity","body":"Yeah, I did that, in my main I have now Product object but how I can use my methods on that object? That is my problem right now, when I call <code>taxService.tax()</code> its empty, like method doesnt use variables from my entity"},{"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"score":0,"creation_date":1660044761,"post_id":73290805,"comment_id":129434756,"body_markdown":"How to achieve this `let your taxService methods accept a parameter of type Product`","body":"How to achieve this <code>let your taxService methods accept a parameter of type Product</code>"},{"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"score":0,"creation_date":1660045013,"post_id":73290805,"comment_id":129434843,"body_markdown":"I manage to fix it, thank you!","body":"I manage to fix it, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660045982,"creation_date":1660045085,"answer_id":73291157,"question_id":73290805,"body_markdown":"You should separate the responsibilities of the `TaxService` and `Product`. The idea is that the `TaxService` is working with products, it is not a product or a parent class of a product. So inside `TaxService` class you should not extend `Product`.\r\n\r\nTo work with a product you can accept in the methods signatures of `TaxService` `Product` as argument:\r\n\r\n    public void tax(Product product) {\r\n    ...// some code\r\n    // Everywhere when you need properties from the product just call the getters\r\n    double result = product.getCalculateTax() + product.getPrice();\r\n\r\n\r\n\r\nNow on creation of the service you don&#39;t need to add values in the constructor.\r\nSo in the main you should have:\r\n\r\n    Product product = new Product(&quot;The Little Prince&quot;, 12345, 20.25);\r\n    TaxService taxService = new TaxService(scanner); // below I explain why we pass scanner here.\r\n    ..... // some code\r\n    taxService.tax(product);\r\n\r\nBy the way it is not good practice to open many Scanners for the same resource. You can see here: https://stackoverflow.com/questions/19766566/java-multiple-scanners\r\n\r\nWhat I will do it to pass the Scanner from the main to the `TaxService` when I create tax service in the constructor\r\n","title":"How to consume methods from service on entity object","body":"<p>You should separate the responsibilities of the <code>TaxService</code> and <code>Product</code>. The idea is that the <code>TaxService</code> is working with products, it is not a product or a parent class of a product. So inside <code>TaxService</code> class you should not extend <code>Product</code>.</p>\n<p>To work with a product you can accept in the methods signatures of <code>TaxService</code> <code>Product</code> as argument:</p>\n<pre><code>public void tax(Product product) {\n...// some code\n// Everywhere when you need properties from the product just call the getters\ndouble result = product.getCalculateTax() + product.getPrice();\n</code></pre>\n<p>Now on creation of the service you don't need to add values in the constructor.\nSo in the main you should have:</p>\n<pre><code>Product product = new Product(&quot;The Little Prince&quot;, 12345, 20.25);\nTaxService taxService = new TaxService(scanner); // below I explain why we pass scanner here.\n..... // some code\ntaxService.tax(product);\n</code></pre>\n<p>By the way it is not good practice to open many Scanners for the same resource. You can see here: <a href=\"https://stackoverflow.com/questions/19766566/java-multiple-scanners\">Java Multiple Scanners</a></p>\n<p>What I will do it to pass the Scanner from the main to the <code>TaxService</code> when I create tax service in the constructor</p>\n"}],"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660045982,"creation_date":1660043188,"question_id":73290805,"body_markdown":"I have a entity class:\r\n\r\n`Product`\r\n\r\n    public String email;\r\n    public int age;\r\n    public double price;\r\n    public double discount;\r\n\r\nAnd I want to create service class for it to create some calculations\r\n\r\nDo I need to extend this `Product` class to consume variables like `email`, `age`, `price` so I can do calculations?\r\n\r\nAnd also do I need to create object from service or I can do it somehow with my Entity object but still use methods on it?\r\n\r\nI have this in `main` for example\r\n\r\n`Service service = new Service(&quot;email&quot;, 1, 30)`\r\n\r\nYou see its service, while I want to create object from entity and then on that object consume methods.\r\n\r\nSo it would be \r\n\r\n`Product product = new Product (&quot;email&quot;, 1, 30)`\r\n\r\n`Main`\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        TaxService taxService = new TaxService(&quot;The Little Prince&quot;, 12345, 20.25);\r\n\r\n        int option = 0;\r\n        do {\r\n            menu();\r\n            option = scanner.nextInt();\r\n            switch (option) {\r\n                case 1:\r\n                    taxService.tax();\r\n                    break;\r\n                case 2:\r\n                    System.out.println(\r\n                            &quot;\\nThank you for using the program. Goodbye!\\n&quot;);\r\n                    System.exit(0);\r\n\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid input&quot;);\r\n                    break;\r\n            }\r\n        } while (option != 9);\r\n    }\r\n\r\n\r\n    public static void menu() {\r\n        System.out.println(&quot;Choose action&quot;);\r\n        System.out.println(&quot;1. Tax calculate\\n&quot;);\r\n        System.out.println(&quot;2: Exit program&quot;);\r\n\r\n\r\n        System.out.print(&quot;Enter your selection: &quot;);\r\n    }\r\n}\r\n\r\n`Entity`\r\n\r\n    public class Product {\r\n    public String name;\r\n    public int UPC;\r\n    public double price;\r\n    public double tax;\r\n\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String name, int UPC, double price) {\r\n        this.name = name;\r\n        this.UPC = UPC;\r\n        this.price = price;\r\n        this.tax = 20;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getUPC() {\r\n        return UPC;\r\n    }\r\n\r\n    public void setUPC(int UPC) {\r\n        this.UPC = UPC;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public double getTax() {\r\n        return tax;\r\n    }\r\n\r\n    public void setTax(double tax) {\r\n        this.tax = tax;\r\n    }\r\n\r\n}\r\n\r\n`Service`\r\n\r\n    public class TaxService extends Product {\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    public TaxService(String name, int UPC, double price) {\r\n        super(name, UPC, price);\r\n    }\r\n\r\n    public void tax() {\r\n        System.out.println(&quot;Do you want to change tax percentage? (y / n)&quot;);\r\n        String answer = scanner.nextLine();\r\n\r\n        if (answer.equalsIgnoreCase(&quot;y&quot;)) {\r\n            System.out.println(&quot;Please enter a new tax percentage: &quot;);\r\n            double newTaxPercentage = scanner.nextInt();\r\n            scanner.nextLine();\r\n            if (newTaxPercentage &lt; 0) {\r\n                System.out.println(&quot;Wrong input, try again.&quot;);\r\n            } else {\r\n                double calculateTax = (price * (newTaxPercentage / 100));\r\n                double result = calculateTax + price;\r\n                System.out.println(&quot;Calculation finished&quot;);\r\n                System.out.printf(&quot;Product price reported as $%.2f before tax and $%.2f after %.0f%% tax.\\n&quot;, price, result, newTaxPercentage);\r\n            }\r\n        } else {\r\n            double calculateTax = (price * (tax / 100));\r\n            double result = calculateTax + price;\r\n            System.out.println(&quot;Calculation finished&quot;);\r\n            System.out.printf(&quot;Product price reported as $%.2f before tax and $%.2f after %.0f%% tax.\\n&quot;, price, result, tax);\r\n        }\r\n    }\r\n\r\n    private boolean isTaxValid() {\r\n        return tax &lt; 0;\r\n    }\r\n}\r\n\r\n\r\n","title":"How to consume methods from service on entity object","body":"<p>I have a entity class:</p>\n<p><code>Product</code></p>\n<pre><code>public String email;\npublic int age;\npublic double price;\npublic double discount;\n</code></pre>\n<p>And I want to create service class for it to create some calculations</p>\n<p>Do I need to extend this <code>Product</code> class to consume variables like <code>email</code>, <code>age</code>, <code>price</code> so I can do calculations?</p>\n<p>And also do I need to create object from service or I can do it somehow with my Entity object but still use methods on it?</p>\n<p>I have this in <code>main</code> for example</p>\n<p><code>Service service = new Service(&quot;email&quot;, 1, 30)</code></p>\n<p>You see its service, while I want to create object from entity and then on that object consume methods.</p>\n<p>So it would be</p>\n<p><code>Product product = new Product (&quot;email&quot;, 1, 30)</code></p>\n<p><code>Main</code></p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n    TaxService taxService = new TaxService(&quot;The Little Prince&quot;, 12345, 20.25);\n\n    int option = 0;\n    do {\n        menu();\n        option = scanner.nextInt();\n        switch (option) {\n            case 1:\n                taxService.tax();\n                break;\n            case 2:\n                System.out.println(\n                        &quot;\\nThank you for using the program. Goodbye!\\n&quot;);\n                System.exit(0);\n\n                break;\n            default:\n                System.out.println(&quot;Invalid input&quot;);\n                break;\n        }\n    } while (option != 9);\n}\n\n\npublic static void menu() {\n    System.out.println(&quot;Choose action&quot;);\n    System.out.println(&quot;1. Tax calculate\\n&quot;);\n    System.out.println(&quot;2: Exit program&quot;);\n\n\n    System.out.print(&quot;Enter your selection: &quot;);\n}\n</code></pre>\n<p>}</p>\n<p><code>Entity</code></p>\n<pre><code>public class Product {\npublic String name;\npublic int UPC;\npublic double price;\npublic double tax;\n\n\npublic Product() {\n}\n\npublic Product(String name, int UPC, double price) {\n    this.name = name;\n    this.UPC = UPC;\n    this.price = price;\n    this.tax = 20;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic int getUPC() {\n    return UPC;\n}\n\npublic void setUPC(int UPC) {\n    this.UPC = UPC;\n}\n\npublic double getPrice() {\n    return price;\n}\n\npublic void setPrice(double price) {\n    this.price = price;\n}\n\npublic double getTax() {\n    return tax;\n}\n\npublic void setTax(double tax) {\n    this.tax = tax;\n}\n</code></pre>\n<p>}</p>\n<p><code>Service</code></p>\n<pre><code>public class TaxService extends Product {\n\nScanner scanner = new Scanner(System.in);\n\npublic TaxService(String name, int UPC, double price) {\n    super(name, UPC, price);\n}\n\npublic void tax() {\n    System.out.println(&quot;Do you want to change tax percentage? (y / n)&quot;);\n    String answer = scanner.nextLine();\n\n    if (answer.equalsIgnoreCase(&quot;y&quot;)) {\n        System.out.println(&quot;Please enter a new tax percentage: &quot;);\n        double newTaxPercentage = scanner.nextInt();\n        scanner.nextLine();\n        if (newTaxPercentage &lt; 0) {\n            System.out.println(&quot;Wrong input, try again.&quot;);\n        } else {\n            double calculateTax = (price * (newTaxPercentage / 100));\n            double result = calculateTax + price;\n            System.out.println(&quot;Calculation finished&quot;);\n            System.out.printf(&quot;Product price reported as $%.2f before tax and $%.2f after %.0f%% tax.\\n&quot;, price, result, newTaxPercentage);\n        }\n    } else {\n        double calculateTax = (price * (tax / 100));\n        double result = calculateTax + price;\n        System.out.println(&quot;Calculation finished&quot;);\n        System.out.printf(&quot;Product price reported as $%.2f before tax and $%.2f after %.0f%% tax.\\n&quot;, price, result, tax);\n    }\n}\n\nprivate boolean isTaxValid() {\n    return tax &lt; 0;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","performance","security","testing","oracle19c"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1660041096,"post_id":73290045,"comment_id":129433499,"body_markdown":"Err, don&#39;t use SSL?","body":"Err, don&#39;t use SSL?"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1660041313,"post_id":73290045,"comment_id":129433565,"body_markdown":"@user207421 I&#39;ve not explicitly configured any SSL usage.","body":"@user207421 I&#39;ve not explicitly configured any SSL usage."},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1660045527,"post_id":73290045,"comment_id":129435019,"body_markdown":"Are you pooling your connections ?","body":"Are you pooling your connections ?"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1660045556,"post_id":73290045,"comment_id":129435027,"body_markdown":"@BrianAgnew Yes. But in our test-scenarios, we have many short-living applications - and therefore connections, so pooling helps but is not sufficient enough as some applications startup, create one connection and terminate after a couple of seconds.","body":"@BrianAgnew Yes. But in our test-scenarios, we have many short-living applications - and therefore connections, so pooling helps but is not sufficient enough as some applications startup, create one connection and terminate after a couple of seconds."}],"answers":[{"tags":[],"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660042409,"creation_date":1660042409,"answer_id":73290623,"question_id":73290045,"body_markdown":"\r\nAre  you using any new Oracle features? \r\nLike OAUTH authentication, Oracle Cloud database? \r\n\r\nFrom the stack trace it seems to be hard to avoid, this is part of negotiation where client needs to  encrypt password before sending it to server. I never saw this as a problem - CPU intensive password encryption.\r\nThere were problems with Java8 where /dev/random was blocking and client was stalled due to lack of entropy.\r\n\r\nFor testing purposes you can use worse encryption algorithm. Oracle stores multiple password&#39;s hashes delimited by semicolon.\r\n\r\n    alter user xxx identified by values &#39;.... password hash&#39;.\r\n\r\nAs documented here: [SpiderLabs Blog][1]\r\n\r\n\r\n  [1]: https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/changes-in-oracle-database-12c-password-hashes/","title":"Oracle JDBC: Disable cpu-intensive security features","body":"<p>Are  you using any new Oracle features?\nLike OAUTH authentication, Oracle Cloud database?</p>\n<p>From the stack trace it seems to be hard to avoid, this is part of negotiation where client needs to  encrypt password before sending it to server. I never saw this as a problem - CPU intensive password encryption.\nThere were problems with Java8 where /dev/random was blocking and client was stalled due to lack of entropy.</p>\n<p>For testing purposes you can use worse encryption algorithm. Oracle stores multiple password's hashes delimited by semicolon.</p>\n<pre><code>alter user xxx identified by values '.... password hash'.\n</code></pre>\n<p>As documented here: <a href=\"https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/changes-in-oracle-database-12c-password-hashes/\" rel=\"nofollow noreferrer\">SpiderLabs Blog</a></p>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660045796,"creation_date":1660039749,"question_id":73290045,"body_markdown":"**Oracle&#39;s JDBC driver** does some quite **CPU-intensive calls** during connection creation/authentication, like usages of `SecureRandom` (even though `/dev/urandom` is used in our case) or AES ciphers.\r\n\r\nExample stacktrace snippet of an expensive operation:\r\n\t\r\n    javax.crypto.Cipher.doFinal(byte[], int, int, byte[]) line: 2325\t\r\n    oracle.net.aso.e.b(byte[], int, int, byte[]) line: not available\t\r\n    oracle.net.aso.ac.f(byte[]) line: not available\t\r\n    oracle.net.aso.c.f(byte[]) line: not available\t\r\n    oracle.security.o5logon.O5Logon.a(byte[], java.lang.String, java.lang.String) line: not available\t\r\n    oracle.security.o5logon.O5Logon.generateOAuthResponse(int, byte[], java.lang.String, java.lang.String, java.lang.String, byte[], byte[], byte[], byte[], byte[], byte[], int[], int[], boolean, byte, byte[], int, int, byte[], int[]) line: not available\t\r\n    oracle.security.o5logon.O5Logon.generateOAuthResponse(int, byte[], java.lang.String, java.lang.String, byte[], byte[], byte[], byte[], int[], boolean, byte, byte[], int, int, byte[], int[]) line: not available\t\r\n    oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(java.lang.String, java.lang.String, java.lang.String, long, int, int, byte[][]) line: 1179\t\r\n    oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(java.lang.String, java.lang.String, java.lang.String, long) line: 1025\t\r\n    oracle.jdbc.driver.T4CConnection.logon(org.ietf.jgss.GSSCredential) line: 743\t\r\n    oracle.jdbc.driver.T4CConnection(oracle.jdbc.driver.PhysicalConnection).connect(org.ietf.jgss.GSSCredential) line: 793\t\r\n    oracle.jdbc.driver.T4CDriverExtension.getConnection(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) line: 57\t\r\n    oracle.jdbc.OracleDriver(oracle.jdbc.driver.OracleDriver).connect(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) line: 747\t\r\n    oracle.jdbc.OracleDriver(oracle.jdbc.driver.OracleDriver).connect(java.lang.String, java.util.Properties) line: 562\t\t\r\n    [...]\r\n\r\n\r\nWhile this is fine for production and regular test environments, it adds unnecessary CPU costs and latencies for connections to special environments, e.g. in **automated testing scenarios** for which we use local database instances with pure testing data.\r\n\r\n**Question:**&lt;br&gt;\r\nIs there a way to disable some or all of those expensive security-related features, e.g. by lowering or disable authentication of the jdbc driver or any other measure to reduce cpu time?\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n**EDIT:**&lt;br&gt;\r\n\r\nI am using a local on-premise database with more or less default configuration and plain username/password authentication. JDBC driver version is 19.3.\r\n\r\nIn our scenario, we have many short-living applications which create one or two connections, do some work for a couple of seconds and terminate. So connection pooling will **not** solve this issue in our case.\r\n\r\nI did some more profling and in a test method, containing a loop just creating and closing JDBC connections.&lt;br&gt;**23% of the walltime** is spent in `javax.crypto.SecretKeyFactory.generateSecret()`, called by the oracle jdbc driver:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KVILm.png","title":"Oracle JDBC: Disable cpu-intensive security features","body":"<p><strong>Oracle's JDBC driver</strong> does some quite <strong>CPU-intensive calls</strong> during connection creation/authentication, like usages of <code>SecureRandom</code> (even though <code>/dev/urandom</code> is used in our case) or AES ciphers.</p>\n<p>Example stacktrace snippet of an expensive operation:</p>\n<pre><code>javax.crypto.Cipher.doFinal(byte[], int, int, byte[]) line: 2325    \noracle.net.aso.e.b(byte[], int, int, byte[]) line: not available    \noracle.net.aso.ac.f(byte[]) line: not available \noracle.net.aso.c.f(byte[]) line: not available  \noracle.security.o5logon.O5Logon.a(byte[], java.lang.String, java.lang.String) line: not available   \noracle.security.o5logon.O5Logon.generateOAuthResponse(int, byte[], java.lang.String, java.lang.String, java.lang.String, byte[], byte[], byte[], byte[], byte[], byte[], int[], int[], boolean, byte, byte[], int, int, byte[], int[]) line: not available  \noracle.security.o5logon.O5Logon.generateOAuthResponse(int, byte[], java.lang.String, java.lang.String, byte[], byte[], byte[], byte[], int[], boolean, byte, byte[], int, int, byte[], int[]) line: not available   \noracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(java.lang.String, java.lang.String, java.lang.String, long, int, int, byte[][]) line: 1179   \noracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(java.lang.String, java.lang.String, java.lang.String, long) line: 1025   \noracle.jdbc.driver.T4CConnection.logon(org.ietf.jgss.GSSCredential) line: 743   \noracle.jdbc.driver.T4CConnection(oracle.jdbc.driver.PhysicalConnection).connect(org.ietf.jgss.GSSCredential) line: 793  \noracle.jdbc.driver.T4CDriverExtension.getConnection(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) line: 57   \noracle.jdbc.OracleDriver(oracle.jdbc.driver.OracleDriver).connect(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) line: 747    \noracle.jdbc.OracleDriver(oracle.jdbc.driver.OracleDriver).connect(java.lang.String, java.util.Properties) line: 562     \n[...]\n</code></pre>\n<p>While this is fine for production and regular test environments, it adds unnecessary CPU costs and latencies for connections to special environments, e.g. in <strong>automated testing scenarios</strong> for which we use local database instances with pure testing data.</p>\n<p><strong>Question:</strong><br>\nIs there a way to disable some or all of those expensive security-related features, e.g. by lowering or disable authentication of the jdbc driver or any other measure to reduce cpu time?</p>\n<p><br><br>\n<strong>EDIT:</strong><br></p>\n<p>I am using a local on-premise database with more or less default configuration and plain username/password authentication. JDBC driver version is 19.3.</p>\n<p>In our scenario, we have many short-living applications which create one or two connections, do some work for a couple of seconds and terminate. So connection pooling will <strong>not</strong> solve this issue in our case.</p>\n<p>I did some more profling and in a test method, containing a loop just creating and closing JDBC connections.<br><strong>23% of the walltime</strong> is spent in <code>javax.crypto.SecretKeyFactory.generateSecret()</code>, called by the oracle jdbc driver:</p>\n<p><a href=\"https://i.stack.imgur.com/KVILm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KVILm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","excel","date","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1660045649,"creation_date":1469081387,"answer_id":38496169,"question_id":38492818,"body_markdown":"As of it is [documented](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html) there are two possible methods for setting a date value. [ \tsetCellValue(java.util.Calendar value)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue(java.util.Calendar)) and [setCellValue(java.util.Date value)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue(java.util.Date)). Using `java.time.LocalDate` is not supported until now.\r\n\r\nSo you must convert the [LocalDate](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) into `java.util.Date` before setting as cell value.\r\n\r\nExample:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    \r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.util.Date;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    \r\n    import java.awt.Desktop;\r\n    \r\n    class LocalDateTest {\r\n    \r\n     public static void main(String[] args) {\r\n      try {\r\n    \r\n       Workbook wb = new XSSFWorkbook();\r\n       Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\r\n    \r\n       CreationHelper creationHelper = wb.getCreationHelper();\r\n       CellStyle cellStyleDate = wb.createCellStyle();\r\n    \r\n       LocalDate start = LocalDate.of(2000, 1, 1);\r\n       LocalDate end = LocalDate.of(2000, 12, 31);\r\n    \r\n       cellStyleDate.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;dd.mm.yyyy&quot;));\r\n       int i = 1;\r\n       for (LocalDate localdate = start; localdate.isBefore(end.plusDays(1)); localdate = localdate.plusDays(1)) {\r\n        Date date = Date.from(localdate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n        wb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date);\r\n        wb.getSheetAt(0).getRow(i).getCell(0).setCellStyle(cellStyleDate);\r\n        i++;\r\n       }\r\n    \r\n       OutputStream out = new FileOutputStream(&quot;LocalDateTest.xlsx&quot;);\r\n       wb.write(out);\r\n       wb.close();\r\n    \r\n       System.out.println(&quot;Done&quot;);\r\n       File outputfile = new File(&quot;LocalDateTest.xlsx&quot;);\r\n       Desktop.getDesktop().open(outputfile);\r\n    \r\n    \r\n      } catch (FileNotFoundException fnfex) {\r\n      } catch (IOException ioex) {\r\n      }\r\n     }\r\n    }\r\n\r\n_________________________________________\r\n\r\nThe above is true for Apache POI versions of 2016. The current `apache poi 5.2.2` provides [Cell.setCellValue(java.time.LocalDate value)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDate-) as well as [Cell.setCellValue(java.time.LocalDateTime value)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDateTime-).","title":"Date in Cell formatted as Date not recognized as Date","body":"<p>As of it is <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\">documented</a> there are two possible methods for setting a date value. <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue(java.util.Calendar)\" rel=\"nofollow noreferrer\">   setCellValue(java.util.Calendar value)</a> and <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellValue(java.util.Date)\" rel=\"nofollow noreferrer\">setCellValue(java.util.Date value)</a>. Using <code>java.time.LocalDate</code> is not supported until now.</p>\n<p>So you must convert the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> into <code>java.util.Date</code> before setting as cell value.</p>\n<p>Example:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.ss.usermodel.*;\n\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.util.Date;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\n\nimport java.awt.Desktop;\n\nclass LocalDateTest {\n\n public static void main(String[] args) {\n  try {\n\n   Workbook wb = new XSSFWorkbook();\n   Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\n\n   CreationHelper creationHelper = wb.getCreationHelper();\n   CellStyle cellStyleDate = wb.createCellStyle();\n\n   LocalDate start = LocalDate.of(2000, 1, 1);\n   LocalDate end = LocalDate.of(2000, 12, 31);\n\n   cellStyleDate.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;dd.mm.yyyy&quot;));\n   int i = 1;\n   for (LocalDate localdate = start; localdate.isBefore(end.plusDays(1)); localdate = localdate.plusDays(1)) {\n    Date date = Date.from(localdate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n    wb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date);\n    wb.getSheetAt(0).getRow(i).getCell(0).setCellStyle(cellStyleDate);\n    i++;\n   }\n\n   OutputStream out = new FileOutputStream(&quot;LocalDateTest.xlsx&quot;);\n   wb.write(out);\n   wb.close();\n\n   System.out.println(&quot;Done&quot;);\n   File outputfile = new File(&quot;LocalDateTest.xlsx&quot;);\n   Desktop.getDesktop().open(outputfile);\n\n\n  } catch (FileNotFoundException fnfex) {\n  } catch (IOException ioex) {\n  }\n }\n}\n</code></pre>\n<hr />\n<p>The above is true for Apache POI versions of 2016. The current <code>apache poi 5.2.2</code> provides <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDate-\" rel=\"nofollow noreferrer\">Cell.setCellValue(java.time.LocalDate value)</a> as well as <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDateTime-\" rel=\"nofollow noreferrer\">Cell.setCellValue(java.time.LocalDateTime value)</a>.</p>\n"},{"tags":[],"owner":{"account_id":1410497,"reputation":425,"user_id":1337200,"accept_rate":50,"display_name":"Marc Dzaebel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576514890,"creation_date":1576514890,"answer_id":59360947,"question_id":38492818,"body_markdown":"[setCellValue][1] is now also defined for LocalDate and LocalDateTime\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDate-","title":"Date in Cell formatted as Date not recognized as Date","body":"<p><a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDate-\" rel=\"noreferrer\">setCellValue</a> is now also defined for LocalDate and LocalDateTime</p>\n"}],"owner":{"account_id":8525099,"reputation":31,"user_id":6390783,"display_name":"noai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6781,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1660045649,"creation_date":1469060064,"question_id":38492818,"body_markdown":"I am trying to use Apache&#39;s Java POI to add Dates to a spreadsheet. However, I am ending up with the dates in the date-formatted cells not being recognized as dates by the cell but as Strings. Yet, when I open the spreadsheet subsequently, nothing more than it takes is a click into the cell - i.e. editing it while not even making an effective change - and the date format is recognized automatically. How can I make my program conduct this very last step without me needing to interfere? Thank you very much, in advance!\r\n\r\n\t\tCreationHelper creationHelper = wb.getCreationHelper();\r\n\t\tXSSFCellStyle cellStyleDate = wb.createCellStyle();\r\n\t\t\r\n\t    LocalDate start = LocalDate.of(2000, 1, 1);\r\n\t    LocalDate end = LocalDate.of(2000, 12, 31);\r\n\r\n\t    cellStyleDate.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;dd.mm.yyyy&quot;));\r\n\t    int i = 1;\r\n\t    for (LocalDate date = start; date.isBefore(end); date = date.plusDays(1)) {\r\n\t    \t\r\n\t    \t// wb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date);\r\n\t    \twb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date.toString());\r\n\t    \t// wb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date.getDayOfMonth() + &quot;.&quot; + date.getMonthValue() + &quot;.&quot; + date.getYear());\r\n\t    \t\r\n\t    \twb.getSheetAt(0).getRow(i).getCell(0).setCellStyle(cellStyleDate);\r\n\t    \ti++;\r\n\t    }","title":"Date in Cell formatted as Date not recognized as Date","body":"<p>I am trying to use Apache's Java POI to add Dates to a spreadsheet. However, I am ending up with the dates in the date-formatted cells not being recognized as dates by the cell but as Strings. Yet, when I open the spreadsheet subsequently, nothing more than it takes is a click into the cell - i.e. editing it while not even making an effective change - and the date format is recognized automatically. How can I make my program conduct this very last step without me needing to interfere? Thank you very much, in advance!</p>\n\n<pre><code>    CreationHelper creationHelper = wb.getCreationHelper();\n    XSSFCellStyle cellStyleDate = wb.createCellStyle();\n\n    LocalDate start = LocalDate.of(2000, 1, 1);\n    LocalDate end = LocalDate.of(2000, 12, 31);\n\n    cellStyleDate.setDataFormat(creationHelper.createDataFormat().getFormat(\"dd.mm.yyyy\"));\n    int i = 1;\n    for (LocalDate date = start; date.isBefore(end); date = date.plusDays(1)) {\n\n        // wb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date);\n        wb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date.toString());\n        // wb.getSheetAt(0).createRow(i).createCell(0).setCellValue(date.getDayOfMonth() + \".\" + date.getMonthValue() + \".\" + date.getYear());\n\n        wb.getSheetAt(0).getRow(i).getCell(0).setCellStyle(cellStyleDate);\n        i++;\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":25806864,"reputation":309,"user_id":19548278,"display_name":"Curious koala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659517784,"creation_date":1659517784,"answer_id":73219100,"question_id":73218710,"body_markdown":"Since you want to get `arguments` list element by index try to replace\r\n\r\n    argument[0]\r\n\r\nwith\r\n\r\n    arguments[0]","title":"javascript error: Cannot read properties of undefined (reading &#39;element&#39;)","body":"<p>Since you want to get <code>arguments</code> list element by index try to replace</p>\n<pre><code>argument[0]\n</code></pre>\n<p>with</p>\n<pre><code>arguments[0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10001672,"reputation":511,"user_id":7397403,"display_name":"ketanvj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659524879,"creation_date":1659524879,"answer_id":73220676,"question_id":73218710,"body_markdown":"@suhail shaik You can try the following, assuming you want to check if all the pending $http requests are served by Angular in the background.\r\n\r\n      String angularReady = &quot;return angular.element(document).injector().get(&#39;$http&#39;).pendingRequests.length === 0&quot;;\r\n\r\n\t  boolean isAngularReady = (boolean)js.executeScript(angularReady);\t  ","title":"javascript error: Cannot read properties of undefined (reading &#39;element&#39;)","body":"<p>@suhail shaik You can try the following, assuming you want to check if all the pending $http requests are served by Angular in the background.</p>\n<pre><code>  String angularReady = &quot;return angular.element(document).injector().get('$http').pendingRequests.length === 0&quot;;\n\n  boolean isAngularReady = (boolean)js.executeScript(angularReady);   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20892574,"reputation":1,"user_id":15347640,"display_name":"suhail shaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660045597,"creation_date":1660045597,"answer_id":73291271,"question_id":73218710,"body_markdown":"I have gone through this link which helped me find a solution. This has a way to put wait for angular version 5 which is working for my current angular version 11.\r\nhttps://www.swtestacademy.com/selenium-wait-javascript-angular-ajax/","title":"javascript error: Cannot read properties of undefined (reading &#39;element&#39;)","body":"<p>I have gone through this link which helped me find a solution. This has a way to put wait for angular version 5 which is working for my current angular version 11.\n<a href=\"https://www.swtestacademy.com/selenium-wait-javascript-angular-ajax/\" rel=\"nofollow noreferrer\">https://www.swtestacademy.com/selenium-wait-javascript-angular-ajax/</a></p>\n"}],"owner":{"account_id":20892574,"reputation":1,"user_id":15347640,"display_name":"suhail shaik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1660045597,"creation_date":1659515981,"question_id":73218710,"body_markdown":"I am trying to run the following code:\r\n\r\n    WebElement body = driver.findElement(By.xpath(&quot;/html/body&quot;));\r\n    js.executeScript(&quot;var injector = window.angular.element(argument[0]).injector(); var $http = injector.get(&#39;$http&#39;); return ($http.pendingRequests.length === 0);&quot;,body);\r\n\r\nI however get the following error:\r\n\r\n    org.openqa.selenium.JavascriptException: javascript error: Cannot read properties of undefined (reading &#39;element&#39;)\r\n      (Session info: chrome=103.0.5060.134)\r\n    Build info: version: &#39;4.2.2&#39;, revision: &#39;683ccb65d6&#39;\r\n    System info: host: &#39;DESKTOP-UPVJF2U&#39;, ip: &#39;192.168.0.132&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.1.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [c6b4ce36aa115d9746065cead6c3271b, executeScript {script=var injector = window.angular.element(argument[0]).injector(); var $http = injector.get(&#39;$http&#39;); return ($http.pendingRequests.length === 0);, args=[{ELEMENT=a0c33e06-9db9-49ed-984f-535b6bc72f7a, element-6066-11e4-a52e-4f735466cecf=a0c33e06-9db9-49ed-984f-535b6bc72f7a}]}]\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.134, chrome: {chromedriverVersion: 103.0.5060.134 (8ec6fce403b..., userDataDir: C:\\Users\\win10\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:53279}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:53279/devtoo..., se:cdpVersion: 103.0.5060.134, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: c6b4ce36aa115d9746065cead6c3271b\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:588)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:522)\r\n    \tat com.vilcart.app.CustomerCreation.testCreation(CustomerCreation.java:118)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    ... Removed 28 stack frames\r\n\r\nCan you please let me know how i could resolve this issue?","title":"javascript error: Cannot read properties of undefined (reading &#39;element&#39;)","body":"<p>I am trying to run the following code:</p>\n<pre><code>WebElement body = driver.findElement(By.xpath(&quot;/html/body&quot;));\njs.executeScript(&quot;var injector = window.angular.element(argument[0]).injector(); var $http = injector.get('$http'); return ($http.pendingRequests.length === 0);&quot;,body);\n</code></pre>\n<p>I however get the following error:</p>\n<pre><code>org.openqa.selenium.JavascriptException: javascript error: Cannot read properties of undefined (reading 'element')\n  (Session info: chrome=103.0.5060.134)\nBuild info: version: '4.2.2', revision: '683ccb65d6'\nSystem info: host: 'DESKTOP-UPVJF2U', ip: '192.168.0.132', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.1.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [c6b4ce36aa115d9746065cead6c3271b, executeScript {script=var injector = window.angular.element(argument[0]).injector(); var $http = injector.get('$http'); return ($http.pendingRequests.length === 0);, args=[{ELEMENT=a0c33e06-9db9-49ed-984f-535b6bc72f7a, element-6066-11e4-a52e-4f735466cecf=a0c33e06-9db9-49ed-984f-535b6bc72f7a}]}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.134, chrome: {chromedriverVersion: 103.0.5060.134 (8ec6fce403b..., userDataDir: C:\\Users\\win10\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:53279}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:53279/devtoo..., se:cdpVersion: 103.0.5060.134, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: c6b4ce36aa115d9746065cead6c3271b\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:588)\n    at org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:522)\n    at com.vilcart.app.CustomerCreation.testCreation(CustomerCreation.java:118)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n... Removed 28 stack frames\n</code></pre>\n<p>Can you please let me know how i could resolve this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648993665,"post_id":71726233,"comment_id":126758321,"body_markdown":"You should move the print statements to your main method, by the way","body":"You should move the print statements to your main method, by the way"}],"answers":[{"tags":[],"owner":{"account_id":12603478,"reputation":74,"user_id":12100051,"display_name":"Avinash Verma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648992432,"creation_date":1648992432,"answer_id":71726354,"question_id":71726233,"body_markdown":"change the for loop to\r\n\r\n      for (int i = 3;i&lt;=Math.sqrt(n);i+=2)\r\n    {\r\n        if(n%i==0)\r\n        {\r\n          System.out.println(&quot;0&quot;);\r\n          return false;\r\n         }\r\n    }\r\n\r\n\r\nYou forgot to put curly bracket after if which results in for loop running only once!","title":"Print 1 or 0 if value is prime","body":"<p>change the for loop to</p>\n<pre><code>  for (int i = 3;i&lt;=Math.sqrt(n);i+=2)\n{\n    if(n%i==0)\n    {\n      System.out.println(&quot;0&quot;);\n      return false;\n     }\n}\n</code></pre>\n<p>You forgot to put curly bracket after if which results in for loop running only once!</p>\n"}],"owner":{"account_id":24809979,"reputation":3,"user_id":18691543,"display_name":"Lo9EWo1F_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660044935,"accepted_answer_id":71726354,"answer_count":1,"score":0,"last_activity_date":1660044099,"creation_date":1648991426,"question_id":71726233,"body_markdown":"&gt; write a program in java using object oriented principle to check whether a number is prime or not. If it is prime then print 1 if it is false then 0 if the given value is less then or equal to 1 then print -1. Take the values from the user?\r\n\r\nwhen i give single digit values it works but when i give 2 digits value it doesn&#39;t work \r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    class Prime1 {\r\n    int n;\r\n    Prime1 (int n)\r\n    {\r\n        this.n=n;\r\n    }\r\n    boolean isPrime()\r\n    {\r\n        if(n==2)\r\n        {\r\n            System.out.println(&quot;1&quot;);\r\n            return true;\r\n           \r\n        }\r\n        else if (n%2==0)\r\n        {\r\n            System.out.println(&quot;0&quot;);\r\n            return false;\r\n        }\r\n        for (int i = 3;i&lt;=Math.sqrt(n);i+=2)\r\n        {\r\n            if(n%i==0)\r\n            System.out.println(&quot;0&quot;);\r\n            return false;\r\n        }\r\n        System.out.println(&quot;1&quot;);\r\n        return true;\r\n\r\n    }\r\n    }\r\n\r\n    \r\n    class CheckPrime\r\n    {\r\n    public static void main(String[] args) \r\n    {\r\n        System.out.print(&quot;Enter a number you want to check :: &quot;);\r\n        Scanner scan = new Scanner(System.in);\r\n        int num1 = scan.nextInt();\r\n        scan.close();\r\n        Prime1 obj = new Prime1(num1);\r\n        if(num1&lt;=1)\r\n        {\r\n            System.out.print(&quot;-1&quot;);\r\n        }        \r\n        else\r\n        {\r\n            obj.isPrime();\r\n\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Print 1 or 0 if value is prime","body":"<blockquote>\n<p>write a program in java using object oriented principle to check whether a number is prime or not. If it is prime then print 1 if it is false then 0 if the given value is less then or equal to 1 then print -1. Take the values from the user?</p>\n</blockquote>\n<p>when i give single digit values it works but when i give 2 digits value it doesn't work</p>\n<pre><code>import java.util.Scanner;\n\nclass Prime1 {\nint n;\nPrime1 (int n)\n{\n    this.n=n;\n}\nboolean isPrime()\n{\n    if(n==2)\n    {\n        System.out.println(&quot;1&quot;);\n        return true;\n       \n    }\n    else if (n%2==0)\n    {\n        System.out.println(&quot;0&quot;);\n        return false;\n    }\n    for (int i = 3;i&lt;=Math.sqrt(n);i+=2)\n    {\n        if(n%i==0)\n        System.out.println(&quot;0&quot;);\n        return false;\n    }\n    System.out.println(&quot;1&quot;);\n    return true;\n\n}\n}\n\n\nclass CheckPrime\n{\npublic static void main(String[] args) \n{\n    System.out.print(&quot;Enter a number you want to check :: &quot;);\n    Scanner scan = new Scanner(System.in);\n    int num1 = scan.nextInt();\n    scan.close();\n    Prime1 obj = new Prime1(num1);\n    if(num1&lt;=1)\n    {\n        System.out.print(&quot;-1&quot;);\n    }        \n    else\n    {\n        obj.isPrime();\n\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","ssl","netty"],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660043912,"creation_date":1660043912,"answer_id":73290948,"question_id":73176071,"body_markdown":"First of all, using `SSLEngine` is not the same than using `SslEngine` (Netty) : they are not interchangeable. Be carefull. \r\nSecondly, here, the hostname is not directly accessible so you can&#39;t get it so easily (as a cat who do not want to be taken by some hands).\r\n\r\nYou could use a custom proxy implementation with your whitelist to reach your goal, redirecting the flow for your hostnames chosen and kick out the hostnames you don&#39;t want to handle (all the rest).\r\n\r\nIf I were you, I will seek some existing solutions implemented, for security considerations. They are plenty of Gateways solutions but my personal preference is going to Spring Cloud Gateway. With it, it becomes easy to handle what you are trying to do :\r\n\r\n    @Bean\r\n    public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n            .route(&quot;route1&quot;, r -&gt; r.host(&quot;**.site1.com&quot;)\r\n            .and()\r\n            .path(&quot;/path1&quot;)\r\n            .uri(&quot;https://site1.com&quot;))\r\n            .route(r -&gt; r.host(&quot;**.site1.com&quot;)\r\n            .and()\r\n            .path(&quot;/path2&quot;)\r\n            .filters(f -&gt; f.prefixPath(&quot;/prefix&quot;))\r\n            .uri(&quot;https://site2.com&quot;)\r\n            .id(&quot;customID&quot;))\r\n        .build();\r\n    }","title":"Netty custom hostname verification","body":"<p>First of all, using <code>SSLEngine</code> is not the same than using <code>SslEngine</code> (Netty) : they are not interchangeable. Be carefull.\nSecondly, here, the hostname is not directly accessible so you can't get it so easily (as a cat who do not want to be taken by some hands).</p>\n<p>You could use a custom proxy implementation with your whitelist to reach your goal, redirecting the flow for your hostnames chosen and kick out the hostnames you don't want to handle (all the rest).</p>\n<p>If I were you, I will seek some existing solutions implemented, for security considerations. They are plenty of Gateways solutions but my personal preference is going to Spring Cloud Gateway. With it, it becomes easy to handle what you are trying to do :</p>\n<pre><code>@Bean\npublic RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(&quot;route1&quot;, r -&gt; r.host(&quot;**.site1.com&quot;)\n        .and()\n        .path(&quot;/path1&quot;)\n        .uri(&quot;https://site1.com&quot;))\n        .route(r -&gt; r.host(&quot;**.site1.com&quot;)\n        .and()\n        .path(&quot;/path2&quot;)\n        .filters(f -&gt; f.prefixPath(&quot;/prefix&quot;))\n        .uri(&quot;https://site2.com&quot;)\n        .id(&quot;customID&quot;))\n    .build();\n}\n</code></pre>\n"}],"owner":{"account_id":2070405,"reputation":1035,"user_id":1845029,"accept_rate":83,"display_name":"user1845029"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660043912,"creation_date":1659188170,"question_id":73176071,"body_markdown":"I&#39;m trying to figure out how to add a whitelist of SAN entries to my netty server that will essentially bypass hostname verification.\r\n\r\nRight now I&#39;ve the following code to enable hostname verification:\r\n\r\n    SSLEngine sslEngine = getSSLEngine();\r\n    SSLParameters sslParameters = sslEngine.getSSLParameters();\r\n    sslParameters.setEndpointIdentificationAlgorithm(&quot;HTTPS&quot;);\r\n    sslEngine.setSSLParameters(sslParameters);\r\n\r\nIs there a method somewhere I can override when the hostname is being  verified?\r\n\r\n","title":"Netty custom hostname verification","body":"<p>I'm trying to figure out how to add a whitelist of SAN entries to my netty server that will essentially bypass hostname verification.</p>\n<p>Right now I've the following code to enable hostname verification:</p>\n<pre><code>SSLEngine sslEngine = getSSLEngine();\nSSLParameters sslParameters = sslEngine.getSSLParameters();\nsslParameters.setEndpointIdentificationAlgorithm(&quot;HTTPS&quot;);\nsslEngine.setSSLParameters(sslParameters);\n</code></pre>\n<p>Is there a method somewhere I can override when the hostname is being  verified?</p>\n"},{"tags":["java","spring","unit-testing","reflections","archunit"],"comments":[{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":1,"creation_date":1660163032,"post_id":73290867,"comment_id":129470901,"body_markdown":"Welcome to StackOverflow! Can you elaborate what you mean by &quot;it looks for reflection in the wrong places&quot;? If you get an error message, make sure to include it (see also [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask).)","body":"Welcome to StackOverflow! Can you elaborate what you mean by &quot;it looks for reflection in the wrong places&quot;? If you get an error message, make sure to include it (see also <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>.)"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1662708658,"post_id":73290867,"comment_id":130072598,"body_markdown":"If you don&#39;t provide details, your issue will be flagged to be closed with [Needs details or clarity](https://meta.stackoverflow.com/a/417485).","body":"If you don&#39;t provide details, your issue will be flagged to be closed with <a href=\"https://meta.stackoverflow.com/a/417485\">Needs details or clarity</a>."}],"owner":{"account_id":13605717,"reputation":1,"user_id":19726124,"display_name":"fenixs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660043491,"creation_date":1660043491,"question_id":73290867,"body_markdown":"I am writing a test to check all test names, but it looks for reflection in the wrong places\r\n```\r\npublic void namingTestMethodTest(JavaClasses classes) {\r\n        methods().that().areAnnotatedWith(Test.class)\r\n                .should().haveNameNotStartingWith(&quot;test&quot;)\r\n                .andShould().haveNameEndingWith(&quot;Test&quot;).check(classes);\r\n}\r\n```","title":"How to scan target/test-classes with archunit or reflections in a multi-module application?","body":"<p>I am writing a test to check all test names, but it looks for reflection in the wrong places</p>\n<pre><code>public void namingTestMethodTest(JavaClasses classes) {\n        methods().that().areAnnotatedWith(Test.class)\n                .should().haveNameNotStartingWith(&quot;test&quot;)\n                .andShould().haveNameEndingWith(&quot;Test&quot;).check(classes);\n}\n</code></pre>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":1973116,"reputation":9881,"user_id":1771556,"display_name":"Vadim Ashikhman"},"score":0,"creation_date":1572968272,"post_id":58706469,"comment_id":103722610,"body_markdown":"https://www.keycloak.org/docs/latest/server_development/index.html#implementing-an-authenticator","body":"<a href=\"https://www.keycloak.org/docs/latest/server_development/index.html#implementing-an-authenticator\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/server_development/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2169162,"reputation":565,"user_id":1921614,"display_name":"Javali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573050332,"creation_date":1573050332,"answer_id":58732323,"question_id":58706469,"body_markdown":"Guess you must do this programatically in your custom authenticator. But this is tricky as you don&#39;t want someone not being authorized to kill the session of a user just be knowings his username. So you must ensure that the credentials are valid and afterwards remove all sessions. &quot;Easiest&quot; way should be to authenticate normally and then programatically remove all sessions and create a new one again.\r\nBut this requirement sounds like a workaround for another problem...","title":"Keycloak terminating session in the case of same user login","body":"<p>Guess you must do this programatically in your custom authenticator. But this is tricky as you don't want someone not being authorized to kill the session of a user just be knowings his username. So you must ensure that the credentials are valid and afterwards remove all sessions. \"Easiest\" way should be to authenticate normally and then programatically remove all sessions and create a new one again.\nBut this requirement sounds like a workaround for another problem...</p>\n"},{"tags":[],"owner":{"account_id":19142368,"reputation":74,"user_id":13982094,"display_name":"Djordje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660043450,"creation_date":1660043450,"answer_id":73290857,"question_id":58706469,"body_markdown":"You can do that with Events through Keycloak. Just implement your custom Listener Provider and on Event Login delete all existing user session instead current one.\r\n\r\n    public class SessionEventListenerProvider implements EventListenerProvider {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(SessionEventListenerProvider.class);\r\n    private final KeycloakSession session;\r\n\r\n    public SessionEventListenerProvider(KeycloakSession session) {\r\n        this.session = session;\r\n    }\r\n\r\n    @Override\r\n    public void onEvent(Event event) {\r\n        if (event.getType().equals(EventType.LOGIN)) {\r\n            RealmModel realmModel = session.getContext().getRealm();\r\n            UserModel userModel = session.users().getUserById(realmModel, event.getUserId());\r\n            logger.debug(&quot;Removing existing sessions for user {} within realm {}&quot;, userModel.getUsername(), realmModel.getName());\r\n            session.sessions().getUserSessionsStream(realmModel, userModel).forEach(userSession -&gt; {\r\n                if (!userSession.getId().equals(event.getSessionId())) {\r\n                    session.sessions().removeUserSession(realmModel, userSession);\r\n                }\r\n            });\r\n        }\r\n    }","title":"Keycloak terminating session in the case of same user login","body":"<p>You can do that with Events through Keycloak. Just implement your custom Listener Provider and on Event Login delete all existing user session instead current one.</p>\n<pre><code>public class SessionEventListenerProvider implements EventListenerProvider {\n\nprivate static final Logger logger = LoggerFactory.getLogger(SessionEventListenerProvider.class);\nprivate final KeycloakSession session;\n\npublic SessionEventListenerProvider(KeycloakSession session) {\n    this.session = session;\n}\n\n@Override\npublic void onEvent(Event event) {\n    if (event.getType().equals(EventType.LOGIN)) {\n        RealmModel realmModel = session.getContext().getRealm();\n        UserModel userModel = session.users().getUserById(realmModel, event.getUserId());\n        logger.debug(&quot;Removing existing sessions for user {} within realm {}&quot;, userModel.getUsername(), realmModel.getName());\n        session.sessions().getUserSessionsStream(realmModel, userModel).forEach(userSession -&gt; {\n            if (!userSession.getId().equals(event.getSessionId())) {\n                session.sessions().removeUserSession(realmModel, userSession);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4734885,"reputation":1,"user_id":3829551,"display_name":"Prasad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660043450,"creation_date":1572939111,"question_id":58706469,"body_markdown":"if one user let say “user1”  logged in to application through one browser. If same user “user1” try to login again through same system or any other system previously created session should be terminated automatically and new session should create for that user.\r\n\r\nHow can we achieve this through Keycloak custom authenticator.","title":"Keycloak terminating session in the case of same user login","body":"<p>if one user let say “user1”  logged in to application through one browser. If same user “user1” try to login again through same system or any other system previously created session should be terminated automatically and new session should create for that user.</p>\n\n<p>How can we achieve this through Keycloak custom authenticator.</p>\n"},{"tags":["java","memory-leaks","jboss","heap-memory"],"comments":[{"owner":{"account_id":5364732,"reputation":1,"user_id":4563974,"accept_rate":63,"display_name":"Valentin Tihomirov"},"score":1,"creation_date":1449761365,"post_id":542979,"comment_id":56155810,"body_markdown":"That is current folder, I guess.","body":"That is current folder, I guess."}],"answers":[{"tags":[],"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"down_vote_count":1,"up_vote_count":277,"is_accepted":true,"score":276,"last_activity_date":1384555562,"creation_date":1234469679,"answer_id":543037,"question_id":542979,"body_markdown":"Here&#39;s what [Oracle&#39;s documentation][1] has to say:\r\n\r\n&gt; By default the heap dump is created in\r\n&gt; a file called java_*pid*.hprof in the\r\n&gt; working directory of the VM, as in the\r\n&gt; example above. You can specify an\r\n&gt; alternative file name or directory\r\n&gt; with the `-XX:HeapDumpPath=` option. For\r\n&gt; example `-XX:HeapDumpPath=/disk2/dumps`\r\n&gt; will cause the heap dump to be\r\n&gt; generated in the `/disk2/dumps`\r\n&gt; directory.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/clopts-139448.html","title":"Using HeapDumpOnOutOfMemoryError parameter for heap dump for JBoss","body":"<p>Here's what <a href=\"http://www.oracle.com/technetwork/java/javase/clopts-139448.html\" rel=\"noreferrer\">Oracle's documentation</a> has to say:</p>\n\n<blockquote>\n  <p>By default the heap dump is created in\n  a file called java_<em>pid</em>.hprof in the\n  working directory of the VM, as in the\n  example above. You can specify an\n  alternative file name or directory\n  with the <code>-XX:HeapDumpPath=</code> option. For\n  example <code>-XX:HeapDumpPath=/disk2/dumps</code>\n  will cause the heap dump to be\n  generated in the <code>/disk2/dumps</code>\n  directory.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3709402,"reputation":549,"user_id":3087118,"display_name":"Swaminathan Krishnamoorthi"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1386684800,"creation_date":1386683648,"answer_id":20496376,"question_id":542979,"body_markdown":"You can view this dump from the UNIX console.\r\n\r\nThe path for the heap dump will be provided as a variable right after where you have placed the mentioned variable.\r\n\r\nE.g.:\r\n\r\n    -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=${DOMAIN_HOME}/logs/mps&quot;\r\n\r\nYou can view the dump from the console on the mentioned path.","title":"Using HeapDumpOnOutOfMemoryError parameter for heap dump for JBoss","body":"<p>You can view this dump from the UNIX console.</p>\n\n<p>The path for the heap dump will be provided as a variable right after where you have placed the mentioned variable.</p>\n\n<p>E.g.:</p>\n\n<pre><code>-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=${DOMAIN_HOME}/logs/mps\"\n</code></pre>\n\n<p>You can view the dump from the console on the mentioned path.</p>\n"},{"tags":[],"owner":{"account_id":1798484,"reputation":865,"user_id":1650469,"display_name":"B5A7"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1445902051,"creation_date":1445902051,"answer_id":33357365,"question_id":542979,"body_markdown":"I found it hard to decipher what is meant by &quot;working directory of the VM&quot;.  In my example, I was using the Java Service Wrapper program to execute a jar - the dump files were created in the directory where I had placed the wrapper program, e.g. c:\\myapp\\bin.  The reason I discovered this is because the files can be quite large and they filled up the hard drive before I discovered their location.  ","title":"Using HeapDumpOnOutOfMemoryError parameter for heap dump for JBoss","body":"<p>I found it hard to decipher what is meant by \"working directory of the VM\".  In my example, I was using the Java Service Wrapper program to execute a jar - the dump files were created in the directory where I had placed the wrapper program, e.g. c:\\myapp\\bin.  The reason I discovered this is because the files can be quite large and they filled up the hard drive before I discovered their location.  </p>\n"},{"tags":[],"owner":{"account_id":11819928,"reputation":31,"user_id":8649308,"display_name":"Swapnil Chaudhari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506435237,"creation_date":1506435237,"answer_id":46428835,"question_id":542979,"body_markdown":"If you are not using &quot;-XX:HeapDumpPath&quot; option then in case of JBoss EAP/As by default the heap dump file will be generated in &quot;JBOSS_HOME/bin&quot; directory.","title":"Using HeapDumpOnOutOfMemoryError parameter for heap dump for JBoss","body":"<p>If you are not using \"-XX:HeapDumpPath\" option then in case of JBoss EAP/As by default the heap dump file will be generated in \"JBOSS_HOME/bin\" directory.</p>\n"},{"tags":[],"owner":{"account_id":21692212,"reputation":17,"user_id":16006682,"display_name":"Aashish Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625752282,"creation_date":1625752282,"answer_id":68302971,"question_id":542979,"body_markdown":"If you only configure -XX:+HeapDumpOnOutOfMemoryError parameter then heapdump will be generated in JBOSS_HOME/bin directory for OpenJDK/Oracle JDK. If you are using IBM JDK then heapdump will be created under /tmp directory as phd file. -XX:HeapDumpPath option gives us more feasibility for configuring our custom headpump path location (-XX:HeapDumpPath=/my-custom-jboss-server-path/). It&#39;s recommended to have this parameters configured in your environment as it will collect heapdump on OutOfMemory error for analyzing the issue with memory leak of the application or checking any large object retention in the application. ","title":"Using HeapDumpOnOutOfMemoryError parameter for heap dump for JBoss","body":"<p>If you only configure -XX:+HeapDumpOnOutOfMemoryError parameter then heapdump will be generated in JBOSS_HOME/bin directory for OpenJDK/Oracle JDK. If you are using IBM JDK then heapdump will be created under /tmp directory as phd file. -XX:HeapDumpPath option gives us more feasibility for configuring our custom headpump path location (-XX:HeapDumpPath=/my-custom-jboss-server-path/). It's recommended to have this parameters configured in your environment as it will collect heapdump on OutOfMemory error for analyzing the issue with memory leak of the application or checking any large object retention in the application.</p>\n"}],"owner":{"display_name":"EdC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301991,"favorite_count":0,"down_vote_count":0,"up_vote_count":208,"accepted_answer_id":543037,"answer_count":5,"score":208,"last_activity_date":1660043326,"creation_date":1234468722,"question_id":542979,"body_markdown":"I was told I can add the `-XX:+HeapDumpOnOutOfMemoryError` parameter to my JVM start up options to my JBoss start up script to get a heap dump when we get an out of memory error in our application.  I was wondering where this data gets dumped?  Is it just to the console, or to some log file?  If it&#39;s just to the console, what if I&#39;m not logged into the Unix server through the console?\r\n","title":"Using HeapDumpOnOutOfMemoryError parameter for heap dump for JBoss","body":"<p>I was told I can add the <code>-XX:+HeapDumpOnOutOfMemoryError</code> parameter to my JVM start up options to my JBoss start up script to get a heap dump when we get an out of memory error in our application.  I was wondering where this data gets dumped?  Is it just to the console, or to some log file?  If it's just to the console, what if I'm not logged into the Unix server through the console?</p>\n"},{"tags":["java","email","authentication","smtp"],"answers":[{"tags":[],"owner":{"account_id":11953367,"reputation":1479,"user_id":8746415,"accept_rate":78,"display_name":"Deepak N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660043000,"creation_date":1660043000,"answer_id":73290754,"question_id":73281984,"body_markdown":"Since the `less secure app` feature is removed we have to follow these below steps to use `Gmail` via `third party software` that is `App password`\r\n\r\n\r\nStep 1: setup 2-Step Verification:- Google Account -&gt; Security -&gt; 2-Step Verification -&gt; Input password as asked -&gt; Turn ON (you could use SMS to get Gmail code to activate 2-Step Verification)\r\n\r\nStep 2:  Generate app secret:-   Google Account -&gt; Security -&gt; App password -&gt; Input password as asked -&gt; Select the app and device... -&gt; e.g. Other(Java application) -&gt; Input app name e.g. MyApp -&gt; Generate\r\n\r\nStep 3: Use generated app secret:-  Copy a 16-character password\r\n    Use a 16-character password (instead of actual password) with Gmail username in your application\r\n\r\nThis should save your day","title":"How to deal with &quot;avax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted&quot; when less secure app feature is not available","body":"<p>Since the <code>less secure app</code> feature is removed we have to follow these below steps to use <code>Gmail</code> via <code>third party software</code> that is <code>App password</code></p>\n<p>Step 1: setup 2-Step Verification:- Google Account -&gt; Security -&gt; 2-Step Verification -&gt; Input password as asked -&gt; Turn ON (you could use SMS to get Gmail code to activate 2-Step Verification)</p>\n<p>Step 2:  Generate app secret:-   Google Account -&gt; Security -&gt; App password -&gt; Input password as asked -&gt; Select the app and device... -&gt; e.g. Other(Java application) -&gt; Input app name e.g. MyApp -&gt; Generate</p>\n<p>Step 3: Use generated app secret:-  Copy a 16-character password\nUse a 16-character password (instead of actual password) with Gmail username in your application</p>\n<p>This should save your day</p>\n"}],"owner":{"account_id":25162290,"reputation":3,"user_id":19006321,"display_name":"Suchith Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660043000,"creation_date":1659980303,"question_id":73281984,"body_markdown":"I&#39;m trying to send an email using java.\r\nThis is my code.\r\nAll my credentials are correct but still I get this error.\r\nI have seen many solutions which says turn on **less secure apps** but that feature is now disabled by google.\r\nso how do I solve it.\r\n```\r\nimport java.util.Properties;\r\nimport javax.mail.Message;\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.PasswordAuthentication;\r\nimport javax.mail.Session;\r\nimport javax.mail.Transport;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeMessage;\r\n\r\npublic class SendEmail {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // Recipient&#39;s email ID needs to be mentioned.\r\n        String to = &quot;sender@gmail.com&quot;;\r\n\r\n        // Sender&#39;s email ID needs to be mentioned\r\n        String from = &quot;receiver@gmail.com&quot;;\r\n\r\n        // Assuming you are sending email from through gmails smtp\r\n        String host = &quot;smtp.gmail.com&quot;;\r\n\r\n        // Get system properties\r\n        Properties properties = System.getProperties();\r\n\r\n        // Setup mail server\r\n        properties.put(&quot;mail.smtp.host&quot;, host);\r\n        properties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n        properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tproperties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\r\n        // Get the Session object.// and pass username and password\r\n        Session session = Session.getInstance(properties, new javax.mail.Authenticator() {\r\n\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;receiver@gmail.com&quot;, &quot;password&quot;);\r\n\r\n            }\r\n\r\n        });\r\n\r\n        // Used to debug SMTP issues\r\n        session.setDebug(true);\r\n\r\n        try {\r\n            // Create a default MimeMessage object.\r\n            MimeMessage message = new MimeMessage(session);\r\n\r\n            // Set From: header field of the header.\r\n            message.setFrom(new InternetAddress(from));\r\n\r\n            // Set To: header field of the header.\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\r\n            // Set Subject: header field\r\n            message.setSubject(&quot;This is the Subject Line!&quot;);\r\n\r\n            // Now set the actual message\r\n            message.setText(&quot;This is actual message&quot;);\r\n\r\n            System.out.println(&quot;sending...&quot;);\r\n            // Send message\r\n            Transport.send(message);\r\n            System.out.println(&quot;Sent message successfully....&quot;);\r\n        } catch (MessagingException mex) {\r\n            mex.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nThis is the error I&#39;m getting.\r\n[my error in vs code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZhtZH.png","title":"How to deal with &quot;avax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted&quot; when less secure app feature is not available","body":"<p>I'm trying to send an email using java.\nThis is my code.\nAll my credentials are correct but still I get this error.\nI have seen many solutions which says turn on <strong>less secure apps</strong> but that feature is now disabled by google.\nso how do I solve it.</p>\n<pre><code>import java.util.Properties;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\npublic class SendEmail {\n\n    public static void main(String[] args) {\n\n        // Recipient's email ID needs to be mentioned.\n        String to = &quot;sender@gmail.com&quot;;\n\n        // Sender's email ID needs to be mentioned\n        String from = &quot;receiver@gmail.com&quot;;\n\n        // Assuming you are sending email from through gmails smtp\n        String host = &quot;smtp.gmail.com&quot;;\n\n        // Get system properties\n        Properties properties = System.getProperties();\n\n        // Setup mail server\n        properties.put(&quot;mail.smtp.host&quot;, host);\n        properties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\n        properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n\n        // Get the Session object.// and pass username and password\n        Session session = Session.getInstance(properties, new javax.mail.Authenticator() {\n\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;receiver@gmail.com&quot;, &quot;password&quot;);\n\n            }\n\n        });\n\n        // Used to debug SMTP issues\n        session.setDebug(true);\n\n        try {\n            // Create a default MimeMessage object.\n            MimeMessage message = new MimeMessage(session);\n\n            // Set From: header field of the header.\n            message.setFrom(new InternetAddress(from));\n\n            // Set To: header field of the header.\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n\n            // Set Subject: header field\n            message.setSubject(&quot;This is the Subject Line!&quot;);\n\n            // Now set the actual message\n            message.setText(&quot;This is actual message&quot;);\n\n            System.out.println(&quot;sending...&quot;);\n            // Send message\n            Transport.send(message);\n            System.out.println(&quot;Sent message successfully....&quot;);\n        } catch (MessagingException mex) {\n            mex.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>This is the error I'm getting.\n<a href=\"https://i.stack.imgur.com/ZhtZH.png\" rel=\"nofollow noreferrer\">my error in vs code</a></p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":78707,"reputation":22338,"user_id":223806,"display_name":"Paolo"},"score":0,"creation_date":1430920805,"post_id":30078829,"comment_id":48271318,"body_markdown":"Is your &quot;output from javac&quot; actually from `$JAVA_HOME/bin/javac`?","body":"Is your &quot;output from javac&quot; actually from <code>$JAVA_HOME&#47;bin&#47;javac</code>?"},{"owner":{"account_id":1616036,"reputation":5373,"user_id":1493699,"accept_rate":67,"display_name":"Richard G"},"score":0,"creation_date":1430920879,"post_id":30078829,"comment_id":48271366,"body_markdown":"yep it&#39;s the same. `$JAVA_HOME/bin/javac -version\njavac 1.8.0_45\njavac: no source files\nUsage: javac &lt;options&gt; &lt;source files&gt;`","body":"yep it&#39;s the same. <code>$JAVA_HOME&#47;bin&#47;javac -version javac 1.8.0_45 javac: no source files Usage: javac &lt;options&gt; &lt;source files&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1430920866,"creation_date":1430920866,"answer_id":30079028,"question_id":30078829,"body_markdown":"The error message means that you try to load a Java 8 class with a Java 5 VM.\r\n\r\nFor an unknown reason `$JAVA_HOME/bin/javac` is using the JDK 8 Java runtime (`.../rt.jar`) but the compiler itself is loaded with a Java 5 VM. \r\n\r\nMy next step would be to make sure that `$JAVA_HOME/bin/javac` is actually what it should be (and not a script which does something weird). I&#39;d also check the environment (`CLASSPATH`) and options like `-Xbootclasspath`. Try `set | grep -i java` and `set | grep -i path` to look for suspicious variables.\r\n\r\nIf nothing seems to work, try to reinstall the Java 8 SDK again.","title":"how to fix this error: class file has wrong version 52.0, should be 49.0","body":"<p>The error message means that you try to load a Java 8 class with a Java 5 VM.</p>\n\n<p>For an unknown reason <code>$JAVA_HOME/bin/javac</code> is using the JDK 8 Java runtime (<code>.../rt.jar</code>) but the compiler itself is loaded with a Java 5 VM. </p>\n\n<p>My next step would be to make sure that <code>$JAVA_HOME/bin/javac</code> is actually what it should be (and not a script which does something weird). I'd also check the environment (<code>CLASSPATH</code>) and options like <code>-Xbootclasspath</code>. Try <code>set | grep -i java</code> and <code>set | grep -i path</code> to look for suspicious variables.</p>\n\n<p>If nothing seems to work, try to reinstall the Java 8 SDK again.</p>\n"},{"tags":[],"owner":{"account_id":7706029,"reputation":41,"user_id":5836978,"display_name":"B. Burn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453725054,"creation_date":1453725054,"answer_id":34992676,"question_id":30078829,"body_markdown":"I had exactly the same issue with the same versions when trying to build the Arduino IDE using ant. The fix is to remove an old version of **tools.jar** from `/Library/Java/Extensions/` - just wanted to clarify for others that hit the same issue.\r\n","title":"how to fix this error: class file has wrong version 52.0, should be 49.0","body":"<p>I had exactly the same issue with the same versions when trying to build the Arduino IDE using ant. The fix is to remove an old version of <strong>tools.jar</strong> from <code>/Library/Java/Extensions/</code> - just wanted to clarify for others that hit the same issue.</p>\n"}],"owner":{"account_id":1616036,"reputation":5373,"user_id":1493699,"accept_rate":67,"display_name":"Richard G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46441,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30079028,"answer_count":2,"score":8,"last_activity_date":1660042987,"creation_date":1430920357,"question_id":30078829,"body_markdown":"I&#39;m really struggling with this. I&#39;ve been unable to configure Intellij to use Javac, unable to run javadoc. I just can&#39;t seem to get my java runtime environment stable and working productively on Mac OSX.\r\n\r\nI&#39;ve created the most basic of examples which is a hello world program and it still errors from command line. Everything I read about this error tells me to &quot;upgrade the compiler&quot;. But I&#39;m really not sure what the problem is, the javac &amp; java are both running 1.8 (now, after I tried upgrading the system JVM). \r\n\r\nI explicitly set the path when calling javac, checked the version etc. Everything tells me it&#39;s 1.8.\r\n\r\nCan anyone explain how to fix this? (without reverting my system to a 1.5 SDK).\r\n\r\nThis is output from the basic hello world application:\r\n\r\n\r\n\r\n    $JAVA_HOME/bin/javac Main.java\r\n    Main.java:3: cannot access java.lang.Object\r\n    bad class file: /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre/lib/rt.jar(java/lang/Object.class)\r\n    class file has wrong version 52.0, should be 49.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n    public class Main {\r\n           ^\r\n    1 error\r\n    localhost:mycompany$ echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\r\n    localhost:mycompany$\r\n\r\nOutput from javac version:\r\n\r\n    javac -version\r\n    javac 1.8.0_45\r\n    javac: no source files\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n\r\nOutput from java version:\r\n\r\n    java -version\r\n    java version &quot;1.8.0_45&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_45-b14)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)","title":"how to fix this error: class file has wrong version 52.0, should be 49.0","body":"<p>I'm really struggling with this. I've been unable to configure Intellij to use Javac, unable to run javadoc. I just can't seem to get my java runtime environment stable and working productively on Mac OSX.</p>\n\n<p>I've created the most basic of examples which is a hello world program and it still errors from command line. Everything I read about this error tells me to \"upgrade the compiler\". But I'm really not sure what the problem is, the javac &amp; java are both running 1.8 (now, after I tried upgrading the system JVM). </p>\n\n<p>I explicitly set the path when calling javac, checked the version etc. Everything tells me it's 1.8.</p>\n\n<p>Can anyone explain how to fix this? (without reverting my system to a 1.5 SDK).</p>\n\n<p>This is output from the basic hello world application:</p>\n\n<pre><code>$JAVA_HOME/bin/javac Main.java\nMain.java:3: cannot access java.lang.Object\nbad class file: /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre/lib/rt.jar(java/lang/Object.class)\nclass file has wrong version 52.0, should be 49.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath.\npublic class Main {\n       ^\n1 error\nlocalhost:mycompany$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\nlocalhost:mycompany$\n</code></pre>\n\n<p>Output from javac version:</p>\n\n<pre><code>javac -version\njavac 1.8.0_45\njavac: no source files\nUsage: javac &lt;options&gt; &lt;source files&gt;\n</code></pre>\n\n<p>Output from java version:</p>\n\n<pre><code>java -version\njava version \"1.8.0_45\"\nJava(TM) SE Runtime Environment (build 1.8.0_45-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1350446518,"post_id":12926899,"comment_id":17517436,"body_markdown":"Was sl4j jar in  library folder? if not  and try to add it to it and execute , i hope it should work for you..","body":"Was sl4j jar in  library folder? if not  and try to add it to it and execute , i hope it should work for you.."},{"owner":{"account_id":1938034,"reputation":861,"user_id":1744987,"display_name":"Bala Ramachandran"},"score":0,"creation_date":1350447064,"post_id":12926899,"comment_id":17517521,"body_markdown":"The slf4j jar is avilable in the library folder. Tried executing it many times. Still not working!","body":"The slf4j jar is avilable in the library folder. Tried executing it many times. Still not working!"},{"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"score":6,"creation_date":1350456685,"post_id":12926899,"comment_id":17519973,"body_markdown":"Try with slf4j-api-1.6.0.jar. It contains LoggerFactory.","body":"Try with slf4j-api-1.6.0.jar. It contains LoggerFactory."},{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":1,"creation_date":1511231809,"post_id":12926899,"comment_id":81762381,"body_markdown":"I copied the maven dependency from the maven repo as:\n-----------\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n--------\nwell it was the darn scope!  Just remove or comment out the scope line and try running your app again.","body":"I copied the maven dependency from the maven repo as: ----------- &lt;!-- <a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.slf4j/slf4j-simple</a> --&gt; &lt;dependency&gt;     &lt;groupId&gt;org.slf4j&lt;/groupId&gt;     &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;     &lt;version&gt;1.7.25&lt;/version&gt;     &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; -------- well it was the darn scope!  Just remove or comment out the scope line and try running your app again."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":6,"up_vote_count":32,"is_accepted":false,"score":26,"last_activity_date":1350446458,"creation_date":1350446458,"answer_id":12926912,"question_id":12926899,"body_markdown":"You have to provide one of the various SLF4J implementation .jar files in the classpath, as well as the interface .jar file. This is documented.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>You have to provide one of the various SLF4J implementation .jar files in the classpath, as well as the interface .jar file. This is documented.</p>\n"},{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1541514273,"creation_date":1350447147,"answer_id":12926998,"question_id":12926899,"body_markdown":"The LoggerFactory class is msising according to the error message:\r\n\r\n&gt; java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\r\n\r\nApparently, the `slf4j.jar` file is not getting loaded for some reason.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>The LoggerFactory class is msising according to the error message:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory</p>\n</blockquote>\n\n<p>Apparently, the <code>slf4j.jar</code> file is not getting loaded for some reason.</p>\n"},{"tags":[],"owner":{"account_id":2911623,"reputation":1133,"user_id":2495682,"accept_rate":18,"display_name":"Yuvraj Kakkar"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1388072234,"creation_date":1385018935,"answer_id":20114922,"question_id":12926899,"body_markdown":"[Download slf4j-1.7.5.zip][1] \r\n\r\nIt holds different jar files.\r\n\r\nGo to -&gt; Integration folder after extracting zip and include following jar files\r\n\r\n1. slf4j-api-2.0.99\r\n2. slf4j-simple-1.6.99\r\n3. junit-3.8.1\r\n\r\n\r\n[1]: http://www.slf4j.org/download.html","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p><a href=\"http://www.slf4j.org/download.html\" rel=\"noreferrer\">Download slf4j-1.7.5.zip</a> </p>\n\n<p>It holds different jar files.</p>\n\n<p>Go to -> Integration folder after extracting zip and include following jar files</p>\n\n<ol>\n<li>slf4j-api-2.0.99</li>\n<li>slf4j-simple-1.6.99</li>\n<li>junit-3.8.1</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3776312,"reputation":19,"user_id":3137069,"display_name":"Jagjyot"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1388070569,"creation_date":1388070569,"answer_id":20786966,"question_id":12926899,"body_markdown":"use maven it will download all the required jar files for you.\r\n\r\nin this case you need the below jar files:\r\n\r\nslf4j-log4j12-1.6.1.jar\r\nslf4j-api-1.6.1.jar\r\n\r\nThese jars will also depend on the cassandra version which you are running.\r\n There are dependencies with cassandra version , jar version and jdk version you use.\r\n\r\nYou can use : jdk1.6\r\nwith : cassandra 1.1.12\r\nand the above jars.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>use maven it will download all the required jar files for you.</p>\n\n<p>in this case you need the below jar files:</p>\n\n<p>slf4j-log4j12-1.6.1.jar\nslf4j-api-1.6.1.jar</p>\n\n<p>These jars will also depend on the cassandra version which you are running.\n There are dependencies with cassandra version , jar version and jdk version you use.</p>\n\n<p>You can use : jdk1.6\nwith : cassandra 1.1.12\nand the above jars.</p>\n"},{"tags":[],"owner":{"account_id":3581681,"reputation":1,"user_id":2989750,"display_name":"Ramiro Pedrozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400760896,"creation_date":1400760896,"answer_id":23806552,"question_id":12926899,"body_markdown":"make sure your **MANIFEST.MF** contains the name of the referenced jar in my application was **slf4j-api-*. jar**.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>make sure your <strong>MANIFEST.MF</strong> contains the name of the referenced jar in my application was <strong>slf4j-api-*. jar</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1937213,"reputation":917,"user_id":1744375,"accept_rate":46,"display_name":"BABU K"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1407215299,"creation_date":1407215299,"answer_id":25131551,"question_id":12926899,"body_markdown":"This error occurs because of referenced jars are not checked in our project&#39;s order and export tab.\r\n \r\nChoose Project -&gt;ALT+Enter-&gt;Java Build Path -&gt;Order and Export-&gt;check necessary jar files into  your project.\r\n\r\nFinally clean your project and run.It will run successfully.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>This error occurs because of referenced jars are not checked in our project's order and export tab.</p>\n\n<p>Choose Project ->ALT+Enter->Java Build Path ->Order and Export->check necessary jar files into  your project.</p>\n\n<p>Finally clean your project and run.It will run successfully.</p>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1558480335,"creation_date":1409653433,"answer_id":25621130,"question_id":12926899,"body_markdown":"[Add a SLF4J implementation (as you only have its API):][1]\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.7.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p><a href=\"http://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12\" rel=\"noreferrer\">Add a SLF4J implementation (as you only have its API):</a></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.7.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4985411,"reputation":149,"user_id":4009189,"display_name":"li_developer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410296404,"creation_date":1410296404,"answer_id":25753487,"question_id":12926899,"body_markdown":"You need slf4j-api library. For most cases only slf4j-api and slf4j-jkd14 are only required:\r\n\r\n[Here][1] you can download the version 1.7.2:\r\n\r\n    slf4j-api-1.7.2.jar\r\n    slf4j-jkd14-1.7.2jar\r\n\r\nIf you need an example to see how these are used, refers to this tutorial: \r\nhttp://www.ibm.com/developerworks/java/library/j-hangman-app/index.html\r\n\r\nAll the [code][2] for the tutorial is available\r\n\r\n\r\n  [1]: https://hub.jazz.net/project/morenoli/hangmangame/overview#https://hub.jazz.net/gerrit/plugins/gerritfs/list/morenoli%252Fhangmangame/refs%252Fheads%252Fmaster/WebContent/WEB-INF/lib\r\n  [2]: https://hub.jazz.net/project/morenoli/hangmangame/overview?utm_source=developerWorks&amp;utm_medium=article&amp;utm_content=j-hangman-app&amp;utm_campaign=dW%20CloudOE%20content","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>You need slf4j-api library. For most cases only slf4j-api and slf4j-jkd14 are only required:</p>\n\n<p><a href=\"https://hub.jazz.net/project/morenoli/hangmangame/overview#https://hub.jazz.net/gerrit/plugins/gerritfs/list/morenoli%252Fhangmangame/refs%252Fheads%252Fmaster/WebContent/WEB-INF/lib\" rel=\"nofollow\">Here</a> you can download the version 1.7.2:</p>\n\n<pre><code>slf4j-api-1.7.2.jar\nslf4j-jkd14-1.7.2jar\n</code></pre>\n\n<p>If you need an example to see how these are used, refers to this tutorial: \n<a href=\"http://www.ibm.com/developerworks/java/library/j-hangman-app/index.html\" rel=\"nofollow\">http://www.ibm.com/developerworks/java/library/j-hangman-app/index.html</a></p>\n\n<p>All the <a href=\"https://hub.jazz.net/project/morenoli/hangmangame/overview?utm_source=developerWorks&amp;utm_medium=article&amp;utm_content=j-hangman-app&amp;utm_campaign=dW%20CloudOE%20content\" rel=\"nofollow\">code</a> for the tutorial is available</p>\n"},{"tags":[],"owner":{"account_id":4404488,"reputation":346,"user_id":3589280,"display_name":"Nagappan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505322348,"creation_date":1414828006,"answer_id":26687227,"question_id":12926899,"body_markdown":"When we use the slf4j api jar, we need any of the logger implementations like log4j. On my system, we have the complete set and it works fine.\r\n\r\n    1. slf4j-api-1.5.6.jar\r\n    2. slf4j-log4j12-1.5.6.jar\r\n    3. **log4j-1.2.15.jar**","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>When we use the slf4j api jar, we need any of the logger implementations like log4j. On my system, we have the complete set and it works fine.</p>\n\n<pre><code>1. slf4j-api-1.5.6.jar\n2. slf4j-log4j12-1.5.6.jar\n3. **log4j-1.2.15.jar**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5249782,"reputation":1379,"user_id":4194393,"display_name":"Rashad Saif"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1442479863,"creation_date":1442479863,"answer_id":32626173,"question_id":12926899,"body_markdown":"Right click on project properties and follow below steps Project Properties&quot; --&gt; &quot;Deployment Assembly&quot;, adding &quot;Java Build Path Entries -&gt; Maven Dependencies ","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>Right click on project properties and follow below steps Project Properties\" --> \"Deployment Assembly\", adding \"Java Build Path Entries -> Maven Dependencies </p>\n"},{"tags":[],"owner":{"account_id":1318268,"reputation":1005,"user_id":1264666,"accept_rate":60,"display_name":"isuru chathuranga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464510999,"creation_date":1464510999,"answer_id":37507844,"question_id":12926899,"body_markdown":"To be more specific if you are missing the class **com.vaadin.external.org.slf4j.LoggerFactory** add the below dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vaadin.external.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vaadin-slf4j-jdk14&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nIf you are missing any other **org.slf4j.LoggerFactory**, just go to [Maven central class name search][1] and search for the exact class name to determine what exact dependency you are missing.\r\n\r\n\r\n  [1]: http://search.maven.org/#advancedsearch%7Cgav","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>To be more specific if you are missing the class <strong>com.vaadin.external.org.slf4j.LoggerFactory</strong> add the below dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vaadin.external.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;vaadin-slf4j-jdk14&lt;/artifactId&gt;\n    &lt;version&gt;1.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you are missing any other <strong>org.slf4j.LoggerFactory</strong>, just go to <a href=\"http://search.maven.org/#advancedsearch%7Cgav\" rel=\"nofollow\">Maven central class name search</a> and search for the exact class name to determine what exact dependency you are missing.</p>\n"},{"tags":[],"owner":{"account_id":3427590,"reputation":163,"user_id":2872950,"accept_rate":40,"display_name":"Anuj Pandey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481698354,"creation_date":1481698354,"answer_id":41136472,"question_id":12926899,"body_markdown":"I also had the similar problem. I had a maven project and was testing rabbitmq. Firstly it showed me the similar error then I added all the SLF4J dependencies in the maven project and then error changed to &quot;Maven SLF4J: Class path contains multiple SLF4J bindings&quot;. Here is the complete list of dependencies from pom.xlm \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n           &lt;version&gt;1.7.21&lt;/version&gt;\r\n           &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; \r\n\r\nIt worked finally.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>I also had the similar problem. I had a maven project and was testing rabbitmq. Firstly it showed me the similar error then I added all the SLF4J dependencies in the maven project and then error changed to \"Maven SLF4J: Class path contains multiple SLF4J bindings\". Here is the complete list of dependencies from pom.xlm </p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n        &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n       &lt;version&gt;1.7.21&lt;/version&gt;\n       &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt; \n</code></pre>\n\n<p>It worked finally.</p>\n"},{"tags":[],"owner":{"account_id":8079011,"reputation":403,"user_id":6088917,"accept_rate":54,"display_name":"hashguard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483959247,"creation_date":1483959247,"answer_id":41546380,"question_id":12926899,"body_markdown":"get the compatible version of this jar slf4j-jdk14 and add it as a dependency.\r\nthis solved the problem for me.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>get the compatible version of this jar slf4j-jdk14 and add it as a dependency.\nthis solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":12696254,"reputation":1,"user_id":9224589,"display_name":"PANKAJ MALI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516114143,"creation_date":1516114143,"answer_id":48283931,"question_id":12926899,"body_markdown":"You need slf4j-api library and slf4j-log4j12-1.7.25 jar. Copy this jars in your project-&gt; WEBINF-&gt; lib folder and in tomcat server lib folder to execute successfully.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>You need slf4j-api library and slf4j-log4j12-1.7.25 jar. Copy this jars in your project-> WEBINF-> lib folder and in tomcat server lib folder to execute successfully.</p>\n"},{"tags":[],"owner":{"account_id":6452121,"reputation":537,"user_id":4998743,"display_name":"Zarko Eeternal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523969709,"creation_date":1523969709,"answer_id":49878743,"question_id":12926899,"body_markdown":"When you copy dependency from maven repository there is:\r\n\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n\r\nTry to remove it from dependencies in pom.xml like this.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis works for me. I hope it would be helpful for someone else.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>When you copy dependency from maven repository there is:</p>\n\n<pre><code>&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n\n<p>Try to remove it from dependencies in pom.xml like this.</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This works for me. I hope it would be helpful for someone else.</p>\n"},{"tags":[],"owner":{"account_id":12375720,"reputation":833,"user_id":9471274,"display_name":"Enamul Haque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529944959,"creation_date":1529944959,"answer_id":51028234,"question_id":12926899,"body_markdown":"You can use bellow dependency\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>You can use bellow dependency</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14013103,"reputation":41,"user_id":10121249,"display_name":"Shanu Shine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551732114,"creation_date":1532503242,"answer_id":51513025,"question_id":12926899,"body_markdown":"Add the following jars to the class path or lib folder\r\n\r\n 1. [slf4j-api-1.7.2.jar][1]\r\n 2. [slf4j-jdk14-1.7.2.jar][2]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.slf4j/slf4j-api/1.7.2\r\n  [2]: https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14/1.7.2","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>Add the following jars to the class path or lib folder</p>\n\n<ol>\n<li><a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-api/1.7.2\" rel=\"nofollow noreferrer\">slf4j-api-1.7.2.jar</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14/1.7.2\" rel=\"nofollow noreferrer\">slf4j-jdk14-1.7.2.jar</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2752510,"reputation":401,"user_id":2371568,"display_name":"Mir Kazim Ali Tabrez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573677679,"creation_date":1535212367,"answer_id":52018906,"question_id":12926899,"body_markdown":"I was facing a similar issue and below line fixed the issue for me.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nEdit: I realized that I was using spring boot and the version of the dependency was getting pulled from spring-boot-starter-parent.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>I was facing a similar issue and below line fixed the issue for me.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Edit: I realized that I was using spring boot and the version of the dependency was getting pulled from spring-boot-starter-parent.</p>\n"},{"tags":[],"owner":{"account_id":6934481,"reputation":5,"user_id":5322897,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541791985,"creation_date":1541791985,"answer_id":53232210,"question_id":12926899,"body_markdown":"this worked for me /properties/maven uncheck resolve dependencies from Workspace projects.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GQYz4.png","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>this worked for me /properties/maven uncheck resolve dependencies from Workspace projects.</p>\n"},{"tags":[],"owner":{"account_id":10548734,"reputation":676,"user_id":7772054,"display_name":"SHIVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575041234,"creation_date":1575041234,"answer_id":59107502,"question_id":12926899,"body_markdown":"First, check the dependency hierarchy than to exclude all slf4j jars from other dependencies and add separate slf4j as dependencies.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>First, check the dependency hierarchy than to exclude all slf4j jars from other dependencies and add separate slf4j as dependencies.</p>\n"},{"tags":[],"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575305089,"creation_date":1575305089,"answer_id":59143264,"question_id":12926899,"body_markdown":"I believe the answer is outlined on the slf4j web-site ([Failed to load class org.slf4j.impl.StaticLoggerBinder][1])\r\n\r\nFor a very quick solution I suggest adding no-operation (NOP) logger implementation (slf4j-nop.jar)\r\n\r\nFor example, if using maven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n        &lt;version&gt;${slf4j-nop-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://www.slf4j.org/codes.html#StaticLoggerBinder","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>I believe the answer is outlined on the slf4j web-site (<a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">Failed to load class org.slf4j.impl.StaticLoggerBinder</a>)</p>\n\n<p>For a very quick solution I suggest adding no-operation (NOP) logger implementation (slf4j-nop.jar)</p>\n\n<p>For example, if using maven:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n    &lt;version&gt;${slf4j-nop-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1583923020,"creation_date":1583923020,"answer_id":60634067,"question_id":12926899,"body_markdown":"I tried other solutions and the exception didn&#39;t go away. So I decompiled the entire `jose4j 0.6.5 jar` with a Java Decomplier and look at its pom.xml.\r\n\r\nI realised it has a specific dependency on **slf4j-api, version 1.7.21**:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/73LS8.png\r\n\r\nSo in my project&#39;s pom.xml, I added the exact same dependency, updated my Maven project so that it downloads this jar into my repository and the exception was gone.\r\n\r\nHowever it may bring up another error caused by slf4j itself:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nTo overcome this issue, I added the following into my project&#39;s pom.xml. So altogether you need to add the following to your pom.xml and my `jose4j` ran without anymore issues:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.7.21&lt;/version&gt;\r\n\t&lt;/dependency&gt;\t\r\n\t\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n       &lt;version&gt;1.6.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nRemember to update your Maven project after amending your `pom.xml`.\r\n\r\n(Right-click Project folder in Eclipse `-&gt;` Maven `-&gt;` Update Project..)\r\n","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>I tried other solutions and the exception didn't go away. So I decompiled the entire <code>jose4j 0.6.5 jar</code> with a Java Decomplier and look at its pom.xml.</p>\n\n<p>I realised it has a specific dependency on <strong>slf4j-api, version 1.7.21</strong>:\n<a href=\"https://i.stack.imgur.com/73LS8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/73LS8.png\" alt=\"enter image description here\"></a></p>\n\n<p>So in my project's pom.xml, I added the exact same dependency, updated my Maven project so that it downloads this jar into my repository and the exception was gone.</p>\n\n<p>However it may bring up another error caused by slf4j itself:</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n\n<p>To overcome this issue, I added the following into my project's pom.xml. So altogether you need to add the following to your pom.xml and my <code>jose4j</code> ran without anymore issues:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;   \n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n   &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n   &lt;version&gt;1.6.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Remember to update your Maven project after amending your <code>pom.xml</code>.</p>\n\n<p>(Right-click Project folder in Eclipse <code>-&gt;</code> Maven <code>-&gt;</code> Update Project..)</p>\n"},{"tags":[],"owner":{"account_id":16232348,"reputation":2427,"user_id":11720751,"display_name":"Mohammad Amin Rezaeizadeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591730425,"creation_date":1591730425,"answer_id":62290301,"question_id":12926899,"body_markdown":"The perfect solution which works undoubtedly is to just add these packages to your app:&lt;br /&gt;\r\nhttps://mvnrepository.com/artifact/org.slf4j/slf4j-api/1.7.2 &lt;br&gt;\r\nhttp://archive.apache.org/dist/logging/log4j/1.2.16/ &lt;br&gt;\r\n\r\nafter adding so you may encounter following WARNING which you can simply ignore!&lt;br&gt;&lt;br&gt;\r\n&lt;i&gt; SLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.&lt;/i&gt;\r\n\r\ncredits:\r\nhttps://www.javacodegeeks.com/2018/02/fix-exception-thread-main-java-lang-noclassdeffounderror-org-slf4j-loggerfactory-java.html\r\n","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>The perfect solution which works undoubtedly is to just add these packages to your app:<br />\n<a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-api/1.7.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.slf4j/slf4j-api/1.7.2</a> <br>\n<a href=\"http://archive.apache.org/dist/logging/log4j/1.2.16/\" rel=\"nofollow noreferrer\">http://archive.apache.org/dist/logging/log4j/1.2.16/</a> <br></p>\n\n<p>after adding so you may encounter following WARNING which you can simply ignore!<br><br>\n<i> SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#noProviders</a> for further details.</i></p>\n\n<p>credits:\n<a href=\"https://www.javacodegeeks.com/2018/02/fix-exception-thread-main-java-lang-noclassdeffounderror-org-slf4j-loggerfactory-java.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2018/02/fix-exception-thread-main-java-lang-noclassdeffounderror-org-slf4j-loggerfactory-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":15513031,"reputation":453,"user_id":11191344,"display_name":"Yoshita Mahajan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609412118,"creation_date":1609412118,"answer_id":65519946,"question_id":12926899,"body_markdown":"If you are facing java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory \r\n\r\nAdd slf4j-log4j12 jar in the library folder of the project","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>If you are facing java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory</p>\n<p>Add slf4j-log4j12 jar in the library folder of the project</p>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658520153,"creation_date":1658520153,"answer_id":73085553,"question_id":12926899,"body_markdown":"If it is not maven project then make sure the **jar file is inside the project folder**. If it is a maven project then make sure **it&#39;s in the pom.xml**.","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>If it is not maven project then make sure the <strong>jar file is inside the project folder</strong>. If it is a maven project then make sure <strong>it's in the pom.xml</strong>.</p>\n"},{"tags":[],"owner":{"account_id":14525590,"reputation":29,"user_id":10491982,"display_name":"Biswa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660042462,"creation_date":1660042462,"answer_id":73290638,"question_id":12926899,"body_markdown":"I have the same issue for zookeeper start up.\r\n\r\n \r\n\r\n    # sh /opt/zookeeper-3.4.13-1.hardtop.0.9.1/bin/zkServer.sh start-foreground\r\n    ZooKeeper JMX enabled by default\r\n    Using config: /opt/zookeeper-3.4.13-1.hardtop.0.9.1/bin/../conf/zoo.cfg\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n    \tat org.apache.zookeeper.server.quorum.QuorumPeerMain.&lt;clinit&gt;(QuorumPeerMain.java:67)\r\n    Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 1 more\r\n\r\n\r\nBut the class is already there as part of other slf4j jars:\r\n\r\n    # grep LoggerFactory lib/*jar\r\n    Binary file lib/log4j-1.2-api-2.17.1.jar matches\r\n    Binary file lib/log4j-slf4j-impl-2.17.1.jar matches\r\n    Binary file lib/netty-all-4.1.30.Final.jar matches","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>I have the same issue for zookeeper start up.</p>\n<pre><code># sh /opt/zookeeper-3.4.13-1.hardtop.0.9.1/bin/zkServer.sh start-foreground\nZooKeeper JMX enabled by default\nUsing config: /opt/zookeeper-3.4.13-1.hardtop.0.9.1/bin/../conf/zoo.cfg\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at org.apache.zookeeper.server.quorum.QuorumPeerMain.&lt;clinit&gt;(QuorumPeerMain.java:67)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 1 more\n</code></pre>\n<p>But the class is already there as part of other slf4j jars:</p>\n<pre><code># grep LoggerFactory lib/*jar\nBinary file lib/log4j-1.2-api-2.17.1.jar matches\nBinary file lib/log4j-slf4j-impl-2.17.1.jar matches\nBinary file lib/netty-all-4.1.30.Final.jar matches\n</code></pre>\n"}],"owner":{"account_id":1938034,"reputation":861,"user_id":1744987,"display_name":"Bala Ramachandran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428421,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"answer_count":26,"score":86,"last_activity_date":1660042462,"creation_date":1350446347,"question_id":12926899,"body_markdown":"I am getting the error as mentioned below, while running the feed utility. I am trying to load an image &quot;**logo.png**&quot;. The `slf4j` jar file is also available in the runtime classpath. But still I am getting this error. \r\n    \r\n    Oct 16, 2012 7:34:11 PM com.ibm.commerce.foundation.dataload.FeedRetriever  invokeDataLoad\r\n    SEVERE: An error occurred while performing data load.\r\n    Throwable occurred: com.ibm.commerce.foundation.dataload.exception.DataLoadException: \r\n    An error occurred while executing the data load. \r\n    \r\n    java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\r\n    \r\n    \tat com.ibm.commerce.foundation.dataload.DataLoaderMain.execute(DataLoaderMain.java:664)\r\n    \tat com.ibm.commerce.content.commands.DataLoadInvoker.execute(DataLoadInvoker.java:101)\r\n    \tat com.ibm.commerce.foundation.dataload.FeedRetriever.invokeDataLoad(FeedRetriever.java:244)\r\n    \tat com.ibm.commerce.foundation.dataload.FeedRetriever.execute(FeedRetriever.java:172)\r\n    \tat com.ibm.commerce.foundation.dataload.FeedRetriever.main(FeedRetriever.java:321)\r\n    Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\r\n    \tat com.ibm.commerce.foundation.dataload.DataLoaderMain.execute(DataLoaderMain.java:488)\r\n    \t... 4 more\r\n    Caused by: java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\r\n    \tat org.apache.wink.client.ClientConfig.&lt;clinit&gt;(ClientConfig.java:52)\r\n    \tat java.lang.J9VMInternals.initializeImpl(Native Method)\r\n    \tat java.lang.J9VMInternals.initialize(J9VMInternals.java:200)\r\n    \tat java.lang.J9VMInternals.initialize(J9VMInternals.java:167)\r\n    \tat com.ibm.commerce.foundation.dataload.feedreader.AtomReader.getFeed(AtomReader.java:104)\r\n    \tat com.ibm.commerce.foundation.dataload.feedreader.AtomReader.getEntries(AtomReader.java:147)\r\n    \tat com.ibm.commerce.foundation.dataload.feedreader.AtomReader.getEntries(AtomReader.java:1)\r\n    \tat com.ibm.commerce.foundation.dataload.feedreader.BaseFeedReader.init(BaseFeedReader.java:252)\r\n    \tat com.ibm.commerce.foundation.dataload.AbstractBusinessObjectLoader.initializeDataReaders(AbstractBusinessObjectLoader.java:1344)\r\n    \tat com.ibm.commerce.foundation.dataload.AbstractBusinessObjectLoader.init(AbstractBusinessObjectLoader.java:369)\r\n    \tat com.ibm.commerce.foundation.dataload.BusinessObjectLoader.init(BusinessObjectLoader.java:65)\r\n    \tat com.ibm.commerce.foundation.dataload.DataLoaderMain.execute(DataLoaderMain.java:431)\r\n    \t... 4 more\r\n    Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n    \tat java.lang.ClassNotFoundException.&lt;init&gt;(ClassNotFoundException.java:76)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:396)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:660)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:358)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:626)\r\n    \t... 16 more\r\n    Oct 16, 2012 7:34:11 PM com.ibm.commerce.foundation.dataload.FeedRetriever main\r\n    SEVERE: An error occurred while performing data load.\r\n    Throwable occurred: com.ibm.commerce.foundation.dataload.exception.DataLoadException: An error has occurred.  If this problem persists, contact product support.\r\n    \tat com.ibm.commerce.foundation.dataload.FeedRetriever.invokeDataLoad(FeedRetriever.java:247)\r\n    \tat com.ibm.commerce.foundation.dataload.FeedRetriever.execute(FeedRetriever.java:172)\r\n    \tat com.ibm.commerce.foundation.dataload.FeedRetriever.main(FeedRetriever.java:321)","title":"java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory","body":"<p>I am getting the error as mentioned below, while running the feed utility. I am trying to load an image \"<strong>logo.png</strong>\". The <code>slf4j</code> jar file is also available in the runtime classpath. But still I am getting this error. </p>\n\n<pre><code>Oct 16, 2012 7:34:11 PM com.ibm.commerce.foundation.dataload.FeedRetriever  invokeDataLoad\nSEVERE: An error occurred while performing data load.\nThrowable occurred: com.ibm.commerce.foundation.dataload.exception.DataLoadException: \nAn error occurred while executing the data load. \n\njava.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\n\n    at com.ibm.commerce.foundation.dataload.DataLoaderMain.execute(DataLoaderMain.java:664)\n    at com.ibm.commerce.content.commands.DataLoadInvoker.execute(DataLoadInvoker.java:101)\n    at com.ibm.commerce.foundation.dataload.FeedRetriever.invokeDataLoad(FeedRetriever.java:244)\n    at com.ibm.commerce.foundation.dataload.FeedRetriever.execute(FeedRetriever.java:172)\n    at com.ibm.commerce.foundation.dataload.FeedRetriever.main(FeedRetriever.java:321)\nCaused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\n    at com.ibm.commerce.foundation.dataload.DataLoaderMain.execute(DataLoaderMain.java:488)\n    ... 4 more\nCaused by: java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory\n    at org.apache.wink.client.ClientConfig.&lt;clinit&gt;(ClientConfig.java:52)\n    at java.lang.J9VMInternals.initializeImpl(Native Method)\n    at java.lang.J9VMInternals.initialize(J9VMInternals.java:200)\n    at java.lang.J9VMInternals.initialize(J9VMInternals.java:167)\n    at com.ibm.commerce.foundation.dataload.feedreader.AtomReader.getFeed(AtomReader.java:104)\n    at com.ibm.commerce.foundation.dataload.feedreader.AtomReader.getEntries(AtomReader.java:147)\n    at com.ibm.commerce.foundation.dataload.feedreader.AtomReader.getEntries(AtomReader.java:1)\n    at com.ibm.commerce.foundation.dataload.feedreader.BaseFeedReader.init(BaseFeedReader.java:252)\n    at com.ibm.commerce.foundation.dataload.AbstractBusinessObjectLoader.initializeDataReaders(AbstractBusinessObjectLoader.java:1344)\n    at com.ibm.commerce.foundation.dataload.AbstractBusinessObjectLoader.init(AbstractBusinessObjectLoader.java:369)\n    at com.ibm.commerce.foundation.dataload.BusinessObjectLoader.init(BusinessObjectLoader.java:65)\n    at com.ibm.commerce.foundation.dataload.DataLoaderMain.execute(DataLoaderMain.java:431)\n    ... 4 more\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.lang.ClassNotFoundException.&lt;init&gt;(ClassNotFoundException.java:76)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:396)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:660)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:358)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:626)\n    ... 16 more\nOct 16, 2012 7:34:11 PM com.ibm.commerce.foundation.dataload.FeedRetriever main\nSEVERE: An error occurred while performing data load.\nThrowable occurred: com.ibm.commerce.foundation.dataload.exception.DataLoadException: An error has occurred.  If this problem persists, contact product support.\n    at com.ibm.commerce.foundation.dataload.FeedRetriever.invokeDataLoad(FeedRetriever.java:247)\n    at com.ibm.commerce.foundation.dataload.FeedRetriever.execute(FeedRetriever.java:172)\n    at com.ibm.commerce.foundation.dataload.FeedRetriever.main(FeedRetriever.java:321)\n</code></pre>\n"},{"tags":["java","intellij-idea","noclassdeffounderror","executable-jar"],"comments":[{"owner":{"account_id":10914773,"reputation":370,"user_id":10623742,"display_name":"Nipuna Priyamal"},"score":2,"creation_date":1546433337,"post_id":54006644,"comment_id":94849823,"body_markdown":"External Jars you have used, have not been attached to the jar you created.","body":"External Jars you have used, have not been attached to the jar you created."},{"owner":{"account_id":1670925,"reputation":2263,"user_id":1537413,"accept_rate":86,"display_name":"Dika"},"score":0,"creation_date":1546433390,"post_id":54006644,"comment_id":94849861,"body_markdown":"thank you for your help. How I can attach it?","body":"thank you for your help. How I can attach it?"},{"owner":{"account_id":10914773,"reputation":370,"user_id":10623742,"display_name":"Nipuna Priyamal"},"score":1,"creation_date":1546433518,"post_id":54006644,"comment_id":94849930,"body_markdown":"add external jars as dependency in your pom file","body":"add external jars as dependency in your pom file"},{"owner":{"account_id":3334043,"reputation":173,"user_id":2802192,"display_name":"Gaurav Agarwal"},"score":1,"creation_date":1546433899,"post_id":54006644,"comment_id":94850123,"body_markdown":"How are you creating the executable JAR? Are you using Maven to package the JAR? Is this dependency mentioned in pom.xml?","body":"How are you creating the executable JAR? Are you using Maven to package the JAR? Is this dependency mentioned in pom.xml?"},{"owner":{"account_id":1670925,"reputation":2263,"user_id":1537413,"accept_rate":86,"display_name":"Dika"},"score":0,"creation_date":1546433975,"post_id":54006644,"comment_id":94850158,"body_markdown":"please wait, @GauravAgarwal . I will update my question","body":"please wait, @GauravAgarwal . I will update my question"},{"owner":{"account_id":1670925,"reputation":2263,"user_id":1537413,"accept_rate":86,"display_name":"Dika"},"score":0,"creation_date":1546434517,"post_id":54006644,"comment_id":94850406,"body_markdown":"@GauravAgarwal I updated my question, added explanation how I created the executable jar. I am new to intellij so I am not sure if I use maven 100%. the problematic java-json.jar, containing JSONException class is not mentioned in pom.xml.","body":"@GauravAgarwal I updated my question, added explanation how I created the executable jar. I am new to intellij so I am not sure if I use maven 100%. the problematic java-json.jar, containing JSONException class is not mentioned in pom.xml."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":1,"creation_date":1546434860,"post_id":54006644,"comment_id":94850559,"body_markdown":"@Dika Where did you get `json-jar`? You can unzip it and see if there exists `org.json.JSONException`","body":"@Dika Where did you get <code>json-jar</code>? You can unzip it and see if there exists <code>org.json.JSONException</code>"},{"owner":{"account_id":1670925,"reputation":2263,"user_id":1537413,"accept_rate":86,"display_name":"Dika"},"score":0,"creation_date":1546434994,"post_id":54006644,"comment_id":94850622,"body_markdown":"@孙兴斌 I got it from here: http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm . I am sure java-json.jar is working, because I can build &amp; run the project successfully. only when I compiled project into executable jar, error happens","body":"@孙兴斌 I got it from here: <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Jar/j/Downloadjavajsonjar.htm</a> . I am sure java-json.jar is working, because I can build &amp; run the project successfully. only when I compiled project into executable jar, error happens"}],"answers":[{"tags":[],"owner":{"account_id":12499340,"reputation":23,"user_id":9098290,"display_name":"Santhosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546433605,"creation_date":1546433605,"answer_id":54006754,"question_id":54006644,"body_markdown":"Place the jar file under lib folder because while runtime it is not able to identify your jar I think so..\r\n","title":"Intellij Java: java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>Place the jar file under lib folder because while runtime it is not able to identify your jar I think so..</p>\n"},{"tags":[],"owner":{"account_id":12929719,"reputation":2931,"user_id":9349129,"display_name":"Dushmantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546438702,"creation_date":1546438702,"answer_id":54007954,"question_id":54006644,"body_markdown":"Open your `replicator.jar` (can use WinRAR) and see whether the class `JSONException` is available inside the jar. If not you need to include that inside your jar. For that you can use maven shade(https://maven.apache.org/plugins/maven-shade-plugin/) plugin or assemble plugin(http://maven.apache.org/plugins/maven-assembly-plugin/) to include all dependent classes into your executable jar. \r\n\r\nThis post would help you\r\nhttps://stackoverflow.com/questions/1729054/including-dependencies-in-a-jar-with-maven","title":"Intellij Java: java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>Open your <code>replicator.jar</code> (can use WinRAR) and see whether the class <code>JSONException</code> is available inside the jar. If not you need to include that inside your jar. For that you can use maven shade(<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/</a>) plugin or assemble plugin(<a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugins/maven-assembly-plugin/</a>) to include all dependent classes into your executable jar. </p>\n\n<p>This post would help you\n<a href=\"https://stackoverflow.com/questions/1729054/including-dependencies-in-a-jar-with-maven\">Including dependencies in a jar with Maven</a></p>\n"},{"tags":[],"owner":{"account_id":8907941,"reputation":175,"user_id":6649186,"display_name":"shubham gorde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603766817,"creation_date":1603766817,"answer_id":64547664,"question_id":54006644,"body_markdown":"I was facing same issue. After spending hours, I found a solution to resolve this issue.\r\nWhat I need to do was:\r\n\r\nGo to : **File -&gt; Project Structure -&gt; Liabraries \r\nAdd &quot;org.springframework.boot:spring-boot-configuration-processor:2.3.4.RELEASE&quot; in liabraries.** \r\n\r\nNow clean, build and run the project\r\n\r\nNote: You can change the version of above package","title":"Intellij Java: java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>I was facing same issue. After spending hours, I found a solution to resolve this issue.\nWhat I need to do was:</p>\n<p>Go to : <strong>File -&gt; Project Structure -&gt; Liabraries\nAdd &quot;org.springframework.boot:spring-boot-configuration-processor:2.3.4.RELEASE&quot; in liabraries.</strong></p>\n<p>Now clean, build and run the project</p>\n<p>Note: You can change the version of above package</p>\n"},{"tags":[],"owner":{"account_id":17784707,"reputation":303,"user_id":13414535,"display_name":"Faouzi Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626273696,"creation_date":1626273696,"answer_id":68380164,"question_id":54006644,"body_markdown":"In order to resolve the issue, here what I&#39;ve done :\r\n## Remove Some IDE files/folders \r\nI deleted the `.idea` folder and the `.iml` file containing the project name. \r\n[Files and folder to delete](https://i.stack.imgur.com/89YQh.jpg)\r\n\r\n## Reset Intellij Cash and restart Intellij\r\n|    |      |\r\n|----|------|\r\n|[Invalidate cache step 1](https://i.stack.imgur.com/tQRjD.jpg)|[Invalidate cache step 2](https://i.stack.imgur.com/R6Dzs.jpg)|\r\n\r\n## Reload Maven project\r\n[Reload maven project](https://i.stack.imgur.com/dAvgx.jpg)\r\n\r\nThat how I solve most of my Intellij IDEA Issues","title":"Intellij Java: java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>In order to resolve the issue, here what I've done :</p>\n<h2 id=\"remove-some-ide-filesfolders-0fys\">Remove Some IDE files/folders</h2>\n<p>I deleted the <code>.idea</code> folder and the <code>.iml</code> file containing the project name.\n<a href=\"https://i.stack.imgur.com/89YQh.jpg\" rel=\"nofollow noreferrer\">Files and folder to delete</a></p>\n<h2 id=\"reset-intellij-cash-and-restart-intellij-c16m\">Reset Intellij Cash and restart Intellij</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://i.stack.imgur.com/tQRjD.jpg\" rel=\"nofollow noreferrer\">Invalidate cache step 1</a></td>\n<td><a href=\"https://i.stack.imgur.com/R6Dzs.jpg\" rel=\"nofollow noreferrer\">Invalidate cache step 2</a></td>\n</tr>\n</tbody>\n</table>\n</div><h2 id=\"reload-maven-project-vaj8\">Reload Maven project</h2>\n<p><a href=\"https://i.stack.imgur.com/dAvgx.jpg\" rel=\"nofollow noreferrer\">Reload maven project</a></p>\n<p>That how I solve most of my Intellij IDEA Issues</p>\n"},{"tags":[],"owner":{"account_id":26017892,"reputation":21,"user_id":19725977,"display_name":"Enzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660042335,"creation_date":1660041909,"answer_id":73290524,"question_id":54006644,"body_markdown":"My solution to this issue using Intellij was to create a library folder/directory &quot;lib&quot; and I included the JSON jar file.\r\n\r\n**File &gt; Project Structure &gt; Artifacts**\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tIrsO.png","title":"Intellij Java: java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>My solution to this issue using Intellij was to create a library folder/directory &quot;lib&quot; and I included the JSON jar file.</p>\n<p><strong>File &gt; Project Structure &gt; Artifacts</strong></p>\n<p><a href=\"https://i.stack.imgur.com/tIrsO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":1670925,"reputation":2263,"user_id":1537413,"accept_rate":86,"display_name":"Dika"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5860,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1660042335,"creation_date":1546433146,"question_id":54006644,"body_markdown":"I need help. I spent several hours trying to solve this problem but I can&#39;t. I code on Intellij Community Edition 2018.2 OS Windows 10, here is my java project structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nmy Main.java source:\r\n\r\n    package id.simko;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World!&quot;);\r\n\r\n            SqlServerConn sqlServerConn = new SqlServerConn();\r\n            sqlServerConn.connectDbSqlServer();\r\n            sqlServerConn.selectSqlServer();\r\n        }\r\n    }\r\n\r\nSqlServerConn.java:\r\n\r\n    package id.simko;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.sql.*;\r\n    \r\n    class SqlServerConn {\r\n        private Connection conn;\r\n    \r\n        void connectDbSqlServer() {\r\n    \r\n            String db_connect_string = &quot;jdbc:sqlserver://localhost&quot;;\r\n            String db_name = &quot;db1&quot;;\r\n            String db_userid = &quot;sa&quot;;\r\n            String db_password = &quot;sa&quot;;\r\n    \r\n            try {\r\n                Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n                conn = DriverManager.getConnection(db_connect_string+&quot;;databaseName=&quot;+db_name,\r\n                        db_userid, db_password);\r\n                System.out.println(&quot;connected to sql server&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        void selectSqlServer(){\r\n            Statement statement;\r\n            try {\r\n\t\t\t\t// ... skipped for clarity\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nmy MANIFEST.MF:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: id.simko.Main\r\n\r\nMy pom.xml:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;id.simko&lt;/groupId&gt;\r\n        &lt;artifactId&gt;replicator&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0.0.jre8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI configured File -&gt; Project Structure -&gt; Artifacts, and added libs/java-json.jar.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen lastly, on Intellij I clicked Build -&gt; Build Artifacts -&gt; replicator.jar -&gt; Build. And my executable jar was created successfully.\r\n\r\nBut when I tried to run it, error happens. here is the screenshot.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nplease help.. I know this question already answered here: https://stackoverflow.com/questions/36868334/java-noclassdeffounderror-org-json-jsonexception but the solution cannot solve my problem. maybe this is a bug from intellij?\r\n\r\n====================================================================\r\n\r\nLAST UPDATE FROM ME:\r\nI tried for hours until I give up. For now, the only possible way to create an executable application out of java project in Windows 10 is by NOT using Intellij CE 2018.2. I tried NetBeans 8.2 IDE and I successfully created executable bat with gradle plugin &amp; cygwin.\r\n\r\nI will leave this question unanswered, because I know someday someone will have a way, but for now I give up and tried a different IDE, at least for creating executable.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iawJd.png\r\n  [2]: https://i.stack.imgur.com/JQfFx.png\r\n  [3]: https://i.stack.imgur.com/nGMSf.png","title":"Intellij Java: java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>I need help. I spent several hours trying to solve this problem but I can't. I code on Intellij Community Edition 2018.2 OS Windows 10, here is my java project structure.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iawJd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iawJd.png\" alt=\"enter image description here\"></a></p>\n\n<p>my Main.java source:</p>\n\n<pre><code>package id.simko;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n\n        SqlServerConn sqlServerConn = new SqlServerConn();\n        sqlServerConn.connectDbSqlServer();\n        sqlServerConn.selectSqlServer();\n    }\n}\n</code></pre>\n\n<p>SqlServerConn.java:</p>\n\n<pre><code>package id.simko;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.sql.*;\n\nclass SqlServerConn {\n    private Connection conn;\n\n    void connectDbSqlServer() {\n\n        String db_connect_string = \"jdbc:sqlserver://localhost\";\n        String db_name = \"db1\";\n        String db_userid = \"sa\";\n        String db_password = \"sa\";\n\n        try {\n            Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n            conn = DriverManager.getConnection(db_connect_string+\";databaseName=\"+db_name,\n                    db_userid, db_password);\n            System.out.println(\"connected to sql server\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    void selectSqlServer(){\n        Statement statement;\n        try {\n            // ... skipped for clarity\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>my MANIFEST.MF:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: id.simko.Main\n</code></pre>\n\n<p>My pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;id.simko&lt;/groupId&gt;\n    &lt;artifactId&gt;replicator&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I configured File -> Project Structure -> Artifacts, and added libs/java-json.jar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JQfFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JQfFx.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then lastly, on Intellij I clicked Build -> Build Artifacts -> replicator.jar -> Build. And my executable jar was created successfully.</p>\n\n<p>But when I tried to run it, error happens. here is the screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nGMSf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nGMSf.png\" alt=\"enter image description here\"></a></p>\n\n<p>please help.. I know this question already answered here: <a href=\"https://stackoverflow.com/questions/36868334/java-noclassdeffounderror-org-json-jsonexception\">Java: NoClassDefFoundError: org/json/JSONException</a> but the solution cannot solve my problem. maybe this is a bug from intellij?</p>\n\n<p>====================================================================</p>\n\n<p>LAST UPDATE FROM ME:\nI tried for hours until I give up. For now, the only possible way to create an executable application out of java project in Windows 10 is by NOT using Intellij CE 2018.2. I tried NetBeans 8.2 IDE and I successfully created executable bat with gradle plugin &amp; cygwin.</p>\n\n<p>I will leave this question unanswered, because I know someday someone will have a way, but for now I give up and tried a different IDE, at least for creating executable.</p>\n"},{"tags":["java","javascript"],"comments":[{"owner":{"account_id":1258456,"reputation":3673,"user_id":1217408,"display_name":"TheZ"},"score":1,"creation_date":1353112041,"post_id":13426315,"comment_id":18350870,"body_markdown":"http://en.wikipedia.org/wiki/JavaScript#JavaScript_and_Java","body":"<a href=\"http://en.wikipedia.org/wiki/JavaScript#JavaScript_and_Java\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/JavaScript#JavaScript_and_Java</a>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1353112648,"post_id":13426315,"comment_id":18351007,"body_markdown":"Write the javascript bytecode interpreter, that will prob help you.","body":"Write the javascript bytecode interpreter, that will prob help you."}],"answers":[{"tags":[],"owner":{"account_id":47377,"reputation":16769,"user_id":140293,"accept_rate":100,"display_name":"Nico Burns"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353111727,"creation_date":1353111727,"answer_id":13426350,"question_id":13426315,"body_markdown":"Unfortunately Javacript and Java are completely seperate languages, and the only thing which they have in common in the name, therefore this is impossible.\r\n\r\nIf you want to learn about doing something similar in javascript then take a look at the File API&#39;s: https://developer.mozilla.org/en-US/docs/DOM/File_APIs","title":"run java in javascript","body":"<p>Unfortunately Javacript and Java are completely seperate languages, and the only thing which they have in common in the name, therefore this is impossible.</p>\n\n<p>If you want to learn about doing something similar in javascript then take a look at the File API's: <a href=\"https://developer.mozilla.org/en-US/docs/DOM/File_APIs\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/DOM/File_APIs</a></p>\n"},{"tags":[],"owner":{"account_id":1417249,"reputation":1019,"user_id":1342618,"accept_rate":67,"display_name":"jangxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1353111858,"creation_date":1353111858,"answer_id":13426367,"question_id":13426315,"body_markdown":"You can&#39;t run Java code in JavaScript. You can either compile your Java code as an applet and embed that in you page, or you just rewrite your code in JS. If you use the html5 `canvas` and the `getImageData()` function, this should be doable. That way you can easily interact with your code from JavaScript.","title":"run java in javascript","body":"<p>You can't run Java code in JavaScript. You can either compile your Java code as an applet and embed that in you page, or you just rewrite your code in JS. If you use the html5 <code>canvas</code> and the <code>getImageData()</code> function, this should be doable. That way you can easily interact with your code from JavaScript.</p>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353116434,"creation_date":1353116102,"answer_id":13426782,"question_id":13426315,"body_markdown":"It is somewhat possible to use Java classes and APIs in code that you write in JavaScript with [Mozilla Rhino][1].\r\n\r\n\r\nRhino is simply a JS interpret written in Java that is bundled with the JDK. It basically allows you to use the Java APIs with JS syntax, but on the other hand, there is no DOM API available and you **can&#39;t run such scripts in a Web browser**. They are run by the JVM.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Rhino_%28JavaScript_engine%29","title":"run java in javascript","body":"<p>It is somewhat possible to use Java classes and APIs in code that you write in JavaScript with <a href=\"http://en.wikipedia.org/wiki/Rhino_%28JavaScript_engine%29\" rel=\"nofollow\">Mozilla Rhino</a>.</p>\n\n<p>Rhino is simply a JS interpret written in Java that is bundled with the JDK. It basically allows you to use the Java APIs with JS syntax, but on the other hand, there is no DOM API available and you <strong>can't run such scripts in a Web browser</strong>. They are run by the JVM.</p>\n"}],"owner":{"account_id":1562603,"reputation":3497,"user_id":1452141,"accept_rate":62,"display_name":"edinvnode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13426367,"answer_count":3,"score":1,"last_activity_date":1660042283,"creation_date":1353111415,"question_id":13426315,"body_markdown":"I am making a function that compares two pictures if they are the same. I have this code:\r\n\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    var rez = null;\r\n\r\n    rez = compareImages();\r\n\r\n    alert(rez);\r\n\r\n\r\n    boolean\r\n    function compareImages() {\r\n      BufferedImage bi1 = java.ImageIO.read(new File(&quot;C:\\\\MyFiles\\\\pic1.png&quot;)),\r\n        bi2 = java.ImageIO.read(new File(&quot;C:\\\\MyFiles\\\\pic2.png&quot;));\r\n      Raster r1 = bi1.getData(),\r\n        r2 = bi2.getData();\r\n      DataBuffer db1 = r1.getDataBuffer(),\r\n        db2 = r2.getDataBuffer();\r\n      int size1 = db1.getSize(),\r\n        size2 = db2.getSize();\r\n\r\n      // checking if the files sizes are the same\r\n      if (size1 != size2)\r\n        return false;\r\n\r\n      // pixel by pixel check up\r\n      for (int i = 0; i &lt; size1; i++)\r\n        if (db1.getElem(i) != db2.getElem(i))\r\n          return false;\r\n\r\n      return true;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nNow I want to run this code in .js file but when I do I get an error, missing &quot;;&quot; error. So how do I make this function javascript compatible ? \r\n\r\nThanks.","title":"run java in javascript","body":"<p>I am making a function that compares two pictures if they are the same. I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var rez = null;\n\nrez = compareImages();\n\nalert(rez);\n\n\nboolean\nfunction compareImages() {\n  BufferedImage bi1 = java.ImageIO.read(new File(&quot;C:\\\\MyFiles\\\\pic1.png&quot;)),\n    bi2 = java.ImageIO.read(new File(&quot;C:\\\\MyFiles\\\\pic2.png&quot;));\n  Raster r1 = bi1.getData(),\n    r2 = bi2.getData();\n  DataBuffer db1 = r1.getDataBuffer(),\n    db2 = r2.getDataBuffer();\n  int size1 = db1.getSize(),\n    size2 = db2.getSize();\n\n  // checking if the files sizes are the same\n  if (size1 != size2)\n    return false;\n\n  // pixel by pixel check up\n  for (int i = 0; i &lt; size1; i++)\n    if (db1.getElem(i) != db2.getElem(i))\n      return false;\n\n  return true;\n}\n</code></pre>\n\n<p>Now I want to run this code in .js file but when I do I get an error, missing &quot;;&quot; error. So how do I make this function javascript compatible ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","macos"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660019268,"post_id":73286530,"comment_id":129427322,"body_markdown":"Click on detail so you can see where the error happens.","body":"Click on detail so you can see where the error happens."},{"owner":{"account_id":14256554,"reputation":17,"user_id":10298603,"display_name":"Deepak Ganesan"},"score":0,"creation_date":1660019518,"post_id":73286530,"comment_id":129427366,"body_markdown":"@ChengThao It is not showing anything on clicking Details button","body":"@ChengThao It is not showing anything on clicking Details button"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660020758,"post_id":73286530,"comment_id":129427556,"body_markdown":"Try Eclipse error log to see if you find anything.  https://code2care.org/howto/view-eclipse-error-log","body":"Try Eclipse error log to see if you find anything.  <a href=\"https://code2care.org/howto/view-eclipse-error-log\" rel=\"nofollow noreferrer\">code2care.org/howto/view-eclipse-error-log</a>"},{"owner":{"account_id":14256554,"reputation":17,"user_id":10298603,"display_name":"Deepak Ganesan"},"score":0,"creation_date":1660023000,"post_id":73286530,"comment_id":129427937,"body_markdown":"IDE is not at all working, error log panel is not showing anything. If I click anything in the IDE it shows the error popup.","body":"IDE is not at all working, error log panel is not showing anything. If I click anything in the IDE it shows the error popup."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1660025890,"post_id":73286530,"comment_id":129428553,"body_markdown":"Eclipse Oxygen is 5 years and 17 releases old, you need to be running the current Eclipse 2022-06 to work properly on macOS.","body":"Eclipse Oxygen is 5 years and 17 releases old, you need to be running the current Eclipse 2022-06 to work properly on macOS."}],"answers":[{"tags":[],"owner":{"account_id":14256554,"reputation":17,"user_id":10298603,"display_name":"Deepak Ganesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660042029,"creation_date":1660042029,"answer_id":73290549,"question_id":73286530,"body_markdown":"I installed the latest version of Eclipse IDE, and it resolved my problem.","title":"Unable to run a project in Eclipse IDE in Mac","body":"<p>I installed the latest version of Eclipse IDE, and it resolved my problem.</p>\n"}],"owner":{"account_id":14256554,"reputation":17,"user_id":10298603,"display_name":"Deepak Ganesan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660042029,"creation_date":1660019086,"question_id":73286530,"body_markdown":"While trying to run a project in Eclipse IDE, it is showing an error popup, saying that &quot;An error has occurred&quot;. How to resolve this?\r\n\r\nI tried updating the eclipse IDE, but it didn&#39;t work.\r\n\r\nNote : I am facing this issue only after the OS update.\r\n\r\nUsing Eclipse Java EE IDE for Web Developers version : Oxygen.3a Release (4.7.3a), running on macOS Monterey (12.3.1). \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7IOZT.jpg","title":"Unable to run a project in Eclipse IDE in Mac","body":"<p>While trying to run a project in Eclipse IDE, it is showing an error popup, saying that &quot;An error has occurred&quot;. How to resolve this?</p>\n<p>I tried updating the eclipse IDE, but it didn't work.</p>\n<p>Note : I am facing this issue only after the OS update.</p>\n<p>Using Eclipse Java EE IDE for Web Developers version : Oxygen.3a Release (4.7.3a), running on macOS Monterey (12.3.1).</p>\n<p><a href=\"https://i.stack.imgur.com/7IOZT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7IOZT.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","api","json-api"],"answers":[{"tags":[],"owner":{"account_id":3818509,"reputation":6181,"user_id":3167221,"accept_rate":62,"display_name":"jelhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660041986,"creation_date":1659512458,"answer_id":73217976,"question_id":73216903,"body_markdown":"The [JSON:API specification](https://jsonapi.org/) specifies that sorting order is ascending by default. Client could switch the sorting order by prefixing the sort field with a minus (`-`).\r\n\r\n&gt; The sort order for each sort field MUST be ascending unless it is prefixed with a minus (U+002D HYPHEN-MINUS, “-“), in which case it MUST be descending.\r\n&gt;\r\n&gt; https://jsonapi.org/format/1.1/#fetching-sorting\r\n\r\nYour example given does not look as if your API implements the JSON:API specification. Even though this question is tagged with `[json-api]`. If you API does not implement the JSON:API specification, you are free to design the API for controlling sorting order as you like.\r\n\r\nThe [API specification of the OpenStack project](https://specs.openstack.org/openstack/api-wg/index.html) could give an inspiration. It also uses a comma-separated list of sorting fields: `?sort=key1,key2,key3`. A client may specify the sorting direction by appending either `asc` or `desc` to the sorting field using colon (`:`) as a separator: `?sort=key1:asc,key2:desc,key3:asc`. If sorting direction is not specified, then the server can chose sorting direction.\r\n\r\n&gt; Sorting is determined through the use of the ‘sort’ query string parameter. The value of this parameter is a comma-separated list of sort keys. Sort directions can optionally be appended to each sort key, separated by the ‘:’ character.\r\n&gt; \r\n&gt; The supported sort directions are either ‘asc’ for ascending or ‘desc’ for descending.\r\n&gt; \r\n&gt; The caller may (but is not required to) specify a sort direction for each key. If a sort direction is not specified for a key, then a default is set by the server.\r\n&gt; \r\n&gt; https://specs.openstack.org/openstack/api-wg/guidelines/pagination_filter_sort.html#sorting","title":"Specifying sort order direction in a JSON API","body":"<p>The <a href=\"https://jsonapi.org/\" rel=\"nofollow noreferrer\">JSON:API specification</a> specifies that sorting order is ascending by default. Client could switch the sorting order by prefixing the sort field with a minus (<code>-</code>).</p>\n<blockquote>\n<p>The sort order for each sort field MUST be ascending unless it is prefixed with a minus (U+002D HYPHEN-MINUS, “-“), in which case it MUST be descending.</p>\n<p><a href=\"https://jsonapi.org/format/1.1/#fetching-sorting\" rel=\"nofollow noreferrer\">https://jsonapi.org/format/1.1/#fetching-sorting</a></p>\n</blockquote>\n<p>Your example given does not look as if your API implements the JSON:API specification. Even though this question is tagged with <code>[json-api]</code>. If you API does not implement the JSON:API specification, you are free to design the API for controlling sorting order as you like.</p>\n<p>The <a href=\"https://specs.openstack.org/openstack/api-wg/index.html\" rel=\"nofollow noreferrer\">API specification of the OpenStack project</a> could give an inspiration. It also uses a comma-separated list of sorting fields: <code>?sort=key1,key2,key3</code>. A client may specify the sorting direction by appending either <code>asc</code> or <code>desc</code> to the sorting field using colon (<code>:</code>) as a separator: <code>?sort=key1:asc,key2:desc,key3:asc</code>. If sorting direction is not specified, then the server can chose sorting direction.</p>\n<blockquote>\n<p>Sorting is determined through the use of the ‘sort’ query string parameter. The value of this parameter is a comma-separated list of sort keys. Sort directions can optionally be appended to each sort key, separated by the ‘:’ character.</p>\n<p>The supported sort directions are either ‘asc’ for ascending or ‘desc’ for descending.</p>\n<p>The caller may (but is not required to) specify a sort direction for each key. If a sort direction is not specified for a key, then a default is set by the server.</p>\n<p><a href=\"https://specs.openstack.org/openstack/api-wg/guidelines/pagination_filter_sort.html#sorting\" rel=\"nofollow noreferrer\">https://specs.openstack.org/openstack/api-wg/guidelines/pagination_filter_sort.html#sorting</a></p>\n</blockquote>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73217976,"answer_count":1,"score":1,"last_activity_date":1660041986,"creation_date":1659506592,"question_id":73216903,"body_markdown":"Does Restful API define proper ways to give Sort Order Direction,  (Ascending or Descending) for API user parameters ? \r\n\r\nI am letting a user input a request string, that only allows two options for API to work &quot;Ascending&quot; or &quot;Descending&quot; . Is there a more formal way of doing this per standards?\r\n\r\nRequest:\r\n\r\n    {\r\n      &quot;sortField&quot;: &quot;PaymentDate&quot;,\r\n      &quot;sortOrder&quot;: &quot;Descending&quot;\r\n    }\r\n\r\nhttps://stackoverflow.com/questions/41315891/specifying-sort-order-in-a-json-api","title":"Specifying sort order direction in a JSON API","body":"<p>Does Restful API define proper ways to give Sort Order Direction,  (Ascending or Descending) for API user parameters ?</p>\n<p>I am letting a user input a request string, that only allows two options for API to work &quot;Ascending&quot; or &quot;Descending&quot; . Is there a more formal way of doing this per standards?</p>\n<p>Request:</p>\n<pre><code>{\n  &quot;sortField&quot;: &quot;PaymentDate&quot;,\n  &quot;sortOrder&quot;: &quot;Descending&quot;\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/41315891/specifying-sort-order-in-a-json-api\">Specifying sort order in a JSON API</a></p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660043190,"post_id":73290525,"comment_id":129434203,"body_markdown":"You have a `Property` which has an `Amenity` which has a `List&lt;Property&gt;` which each have an `Amenity` which each have a ... and on and on and on .... You need to mark which to use as a reference in JSON and which not.","body":"You have a <code>Property</code> which has an <code>Amenity</code> which has a <code>List&lt;Property&gt;</code> which each have an <code>Amenity</code> which each have a ... and on and on and on .... You need to mark which to use as a reference in JSON and which not."},{"owner":{"account_id":14736478,"reputation":1,"user_id":10642373,"display_name":"Oth Mane"},"score":0,"creation_date":1660044052,"post_id":73290525,"comment_id":129434523,"body_markdown":"I just noticed that the problem is in printing method, i mean if i don&#39;t print result the app work fine, the StackOverflowError appear when i use print method.","body":"I just noticed that the problem is in printing method, i mean if i don&#39;t print result the app work fine, the StackOverflowError appear when i use print method."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660044132,"post_id":73290525,"comment_id":129434556,"body_markdown":"That is because of your use of `@Data`... Generally don&#39;t use `@Data` for entities that is a bad idea... I&#39;ve written about that a while ago see -&gt; https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/","body":"That is because of your use of <code>@Data</code>... Generally don&#39;t use <code>@Data</code> for entities that is a bad idea... I&#39;ve written about that a while ago see -&gt; <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a>"},{"owner":{"account_id":14736478,"reputation":1,"user_id":10642373,"display_name":"Oth Mane"},"score":0,"creation_date":1660045059,"post_id":73290525,"comment_id":129434857,"body_markdown":"i&#39;ll read about it, thank you very much for your help.","body":"i&#39;ll read about it, thank you very much for your help."},{"owner":{"account_id":14736478,"reputation":1,"user_id":10642373,"display_name":"Oth Mane"},"score":0,"creation_date":1660045511,"post_id":73290525,"comment_id":129435013,"body_markdown":"I changed `@Data` to `@Setter` and `@Getter`. Printing method works fine. Thank you very much.","body":"I changed <code>@Data</code> to <code>@Setter</code> and <code>@Getter</code>. Printing method works fine. Thank you very much."}],"owner":{"account_id":14736478,"reputation":1,"user_id":10642373,"display_name":"Oth Mane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660041919,"creation_date":1660041919,"question_id":73290525,"body_markdown":"I&#39;m working with spring boot and thymeleaf as template engine, when i tried to use Spring JPA method **findAllByPropertyTitleContainning**, i had **StackOverflowError** \r\n\r\n**Property.class**\r\n```\r\npackage com.example.estateagencyspring.models;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\npublic class Property {\r\n\r\n    @Id\r\n    private String id;\r\n    private String propertyTitle;\r\n    private String propertyDescription;\r\n    private String location;\r\n    private String type;\r\n    private String status;\r\n    private String area;\r\n    private String beds;\r\n    private String baths;\r\n    private String garage;\r\n    private String defaultPicture;\r\n    private String price;\r\n    @Lob\r\n    private String googleSrc;\r\n\r\n\r\n    @OneToMany(mappedBy=&quot;property&quot;)\r\n    private List&lt;Picture&gt; pictures = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;property_amenity&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;property_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;amenity_id&quot;)\r\n    )\r\n    private List&lt;Amenity&gt; amenities = new ArrayList&lt;&gt;();\r\n}\r\n\r\n``` \r\nthis code of Amenity class, it has **@ManyToMany** relationship with Property class \r\n**Amenity.class**\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToMany;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\npublic class Amenity {\r\n\r\n    @Id\r\n    private String id;\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;amenities&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Property&gt; properties = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n**PropertyRepository.class**\r\n```\r\npublic interface PropertyRepository extends JpaRepository&lt;Property, String&gt; {\r\n\r\n    Optional&lt;Property&gt; findByPropertyTitle(String title);\r\n\r\n    List&lt;Property&gt; findAllByPropertyTitleContaining(String title);\r\n\r\n}\r\n```\r\n**PropertyService.class**\r\n```\r\n...\r\npublic List&lt;Property&gt; searchByTitle(String title){\r\n        System.out.println(propertyRepository.findAllByPropertyTitleContaining(title));\r\n        return propertyRepository.findAllByPropertyTitleContaining(title);\r\n    }\r\n```","title":"Spring mvc + Spring Jpa + tyhmleaf StackOverflowError","body":"<p>I'm working with spring boot and thymeleaf as template engine, when i tried to use Spring JPA method <strong>findAllByPropertyTitleContainning</strong>, i had <strong>StackOverflowError</strong></p>\n<p><strong>Property.class</strong></p>\n<pre><code>package com.example.estateagencyspring.models;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@Data\npublic class Property {\n\n    @Id\n    private String id;\n    private String propertyTitle;\n    private String propertyDescription;\n    private String location;\n    private String type;\n    private String status;\n    private String area;\n    private String beds;\n    private String baths;\n    private String garage;\n    private String defaultPicture;\n    private String price;\n    @Lob\n    private String googleSrc;\n\n\n    @OneToMany(mappedBy=&quot;property&quot;)\n    private List&lt;Picture&gt; pictures = new ArrayList&lt;&gt;();\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;property_amenity&quot;,\n            joinColumns = @JoinColumn(name = &quot;property_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;amenity_id&quot;)\n    )\n    private List&lt;Amenity&gt; amenities = new ArrayList&lt;&gt;();\n}\n\n</code></pre>\n<p>this code of Amenity class, it has <strong>@ManyToMany</strong> relationship with Property class\n<strong>Amenity.class</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.Data;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@Data\npublic class Amenity {\n\n    @Id\n    private String id;\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;amenities&quot;, fetch = FetchType.LAZY)\n    private List&lt;Property&gt; properties = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><strong>PropertyRepository.class</strong></p>\n<pre><code>public interface PropertyRepository extends JpaRepository&lt;Property, String&gt; {\n\n    Optional&lt;Property&gt; findByPropertyTitle(String title);\n\n    List&lt;Property&gt; findAllByPropertyTitleContaining(String title);\n\n}\n</code></pre>\n<p><strong>PropertyService.class</strong></p>\n<pre><code>...\npublic List&lt;Property&gt; searchByTitle(String title){\n        System.out.println(propertyRepository.findAllByPropertyTitleContaining(title));\n        return propertyRepository.findAllByPropertyTitleContaining(title);\n    }\n</code></pre>\n"},{"tags":["java","exit-code"],"answers":[{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1312589473,"creation_date":1312589473,"answer_id":6963889,"question_id":6963811,"body_markdown":"JVM error code 143 means [Internal field must be valid][1]. This is discussed on the [OTN discussion forums][2]. However, the conclusion seems to be something killed your process.\r\n\r\nI suspect this could indeed be caused by a user logging off.\r\n\r\n\r\n  [1]: http://download.oracle.com/javame/config/cldc/cldc-opt-impl/cldc-hi/doc/porting/html/appendix1.html\r\n  [2]: http://forums.oracle.com/forums/thread.jspa?threadID=1522498&amp;tstart=270","title":"Why does the JVM return exit status code 143?","body":"<p>JVM error code 143 means <a href=\"http://download.oracle.com/javame/config/cldc/cldc-opt-impl/cldc-hi/doc/porting/html/appendix1.html\" rel=\"noreferrer\">Internal field must be valid</a>. This is discussed on the <a href=\"http://forums.oracle.com/forums/thread.jspa?threadID=1522498&amp;tstart=270\" rel=\"noreferrer\">OTN discussion forums</a>. However, the conclusion seems to be something killed your process.</p>\n\n<p>I suspect this could indeed be caused by a user logging off.</p>\n"},{"tags":[],"owner":{"account_id":4543,"reputation":1319,"user_id":6874,"accept_rate":80,"display_name":"Jauco"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1457017321,"creation_date":1456842936,"answer_id":35725693,"question_id":6963811,"body_markdown":"143 often means that the application was terminated due to a SIGTERM command. See also https://unix.stackexchange.com/questions/10231/when-does-the-system-send-a-sigterm-to-a-process\r\n\r\nHowever, please note that an application might use 143 for its own custom result.","title":"Why does the JVM return exit status code 143?","body":"<p>143 often means that the application was terminated due to a SIGTERM command. See also <a href=\"https://unix.stackexchange.com/questions/10231/when-does-the-system-send-a-sigterm-to-a-process\">https://unix.stackexchange.com/questions/10231/when-does-the-system-send-a-sigterm-to-a-process</a></p>\n\n<p>However, please note that an application might use 143 for its own custom result.</p>\n"},{"tags":[],"owner":{"account_id":125069,"reputation":6157,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491508408,"creation_date":1491507814,"answer_id":43264432,"question_id":6963811,"body_markdown":"An user logging off would signal the `CTRL_LOGOFF_EVENT` signal to all running processes. From https://msdn.microsoft.com/en-us/library/windows/desktop/aa376876(v=vs.85).aspx:\r\n\r\n&gt; The system also sends the CTRL_LOGOFF_EVENT control signal to every\r\n&gt; process during a log-off operation.\r\n\r\nNow, under certain circumstances it will terminate the Java application with error code `143` (`SIGTERM`). See https://bugs.openjdk.java.net/browse/JDK-6871190.\r\n\r\nWell, anyway, what you need to stop this from happening is to start Java with the `-Xrs` option. From https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.win.80.doc/diag/appendixes/cmdline/Xrs.html:\r\n\r\n&gt; Setting -Xrs prevents the Java™ run time environment from handling any\r\n&gt; internally or externally generated signals such as SIGSEGV and\r\n&gt; SIGABRT.\r\n\r\nSo you should start your Java application with something like:\r\n\r\n    &gt;java -Xrs -jar myapplication.jar\r\n\r\nPS:\r\n\r\nThe relation between `SIGTERM` and `143` number is explained in https://unix.stackexchange.com/questions/10231/when-does-the-system-send-a-sigterm-to-a-process#comment13523_10231.","title":"Why does the JVM return exit status code 143?","body":"<p>An user logging off would signal the <code>CTRL_LOGOFF_EVENT</code> signal to all running processes. From <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa376876(v=vs.85).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/aa376876(v=vs.85).aspx</a>:</p>\n\n<blockquote>\n  <p>The system also sends the CTRL_LOGOFF_EVENT control signal to every\n  process during a log-off operation.</p>\n</blockquote>\n\n<p>Now, under certain circumstances it will terminate the Java application with error code <code>143</code> (<code>SIGTERM</code>). See <a href=\"https://bugs.openjdk.java.net/browse/JDK-6871190\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6871190</a>.</p>\n\n<p>Well, anyway, what you need to stop this from happening is to start Java with the <code>-Xrs</code> option. From <a href=\"https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.win.80.doc/diag/appendixes/cmdline/Xrs.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.win.80.doc/diag/appendixes/cmdline/Xrs.html</a>:</p>\n\n<blockquote>\n  <p>Setting -Xrs prevents the Java™ run time environment from handling any\n  internally or externally generated signals such as SIGSEGV and\n  SIGABRT.</p>\n</blockquote>\n\n<p>So you should start your Java application with something like:</p>\n\n<pre><code>&gt;java -Xrs -jar myapplication.jar\n</code></pre>\n\n<p>PS:</p>\n\n<p>The relation between <code>SIGTERM</code> and <code>143</code> number is explained in <a href=\"https://unix.stackexchange.com/questions/10231/when-does-the-system-send-a-sigterm-to-a-process#comment13523_10231\">https://unix.stackexchange.com/questions/10231/when-does-the-system-send-a-sigterm-to-a-process#comment13523_10231</a>.</p>\n"}],"owner":{"account_id":220283,"reputation":1220,"user_id":477606,"accept_rate":85,"display_name":"jmend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59848,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6963889,"answer_count":3,"score":12,"last_activity_date":1660041881,"creation_date":1312588678,"question_id":6963811,"body_markdown":"A Java application running as an scheduled task on Windows 2003 crashed with no logs or anything that would help to find out what happened. The only information available, is that the application returned code 143 (8F). That error code was retrieved from the scheduled tasks log.\r\n\r\nDoes anyone knows what that error code (143) stands for? Is it possible that an user logging off could cause the application to be terminated?\r\n\r\nThanks,","title":"Why does the JVM return exit status code 143?","body":"<p>A Java application running as an scheduled task on Windows 2003 crashed with no logs or anything that would help to find out what happened. The only information available, is that the application returned code 143 (8F). That error code was retrieved from the scheduled tasks log.</p>\n\n<p>Does anyone knows what that error code (143) stands for? Is it possible that an user logging off could cause the application to be terminated?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","android","xml","binding"],"answers":[{"tags":[],"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660032965,"creation_date":1660032965,"answer_id":73288567,"question_id":73288468,"body_markdown":" Make sure to add this in build.gradle(app)\r\n\r\n     buildFeatures {\r\n            viewBinding = true\r\n        }\r\n\r\n Then give sync project with gradle files. \r\nIf this didnt work, try rebuild, invalidate cache/ restart.\r\n\r\nAlso view.findviewbyid not required if view binding is enabled.\r\nYou can access button directly by something like this, \r\n\r\n     binding.gateConnButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        navController.navigate(R.id.action_navigation_setting_to_gateway4);\r\n    \r\n                    }\r\n                });","title":"fragment binding (symbol &quot;id&quot; cannot be resolved)","body":"<p>Make sure to add this in build.gradle(app)</p>\n<pre><code> buildFeatures {\n        viewBinding = true\n    }\n</code></pre>\n<p>Then give sync project with gradle files.\nIf this didnt work, try rebuild, invalidate cache/ restart.</p>\n<p>Also view.findviewbyid not required if view binding is enabled.\nYou can access button directly by something like this,</p>\n<pre><code> binding.gateConnButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    navController.navigate(R.id.action_navigation_setting_to_gateway4);\n\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8029669,"reputation":1291,"user_id":6055194,"display_name":"Eugene Babich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660041856,"creation_date":1660041094,"answer_id":73290333,"question_id":73288468,"body_markdown":"You can try code like this.\r\n\r\n    NavDirections navDirections = SettingsFragmentDirections.actionNavigationSettingToGateway4();\r\n    \r\n    findNavController().navigate(navDirections, null);\r\n\r\nI don&#39;t see your navigation xml file, so `SettingsFragmentDirections.actionNavigationSettingToGateway4()` can have another name. Fix those names yourself.\r\n\r\n\r\nP.S. the versions of libraries which I&#39;m using `androidx.navigation:navigation-fragment-ktx:2.4.0`, `&quot;androidx.navigation:navigation-ui-ktx:2.4.0&quot;`","title":"fragment binding (symbol &quot;id&quot; cannot be resolved)","body":"<p>You can try code like this.</p>\n<pre><code>NavDirections navDirections = SettingsFragmentDirections.actionNavigationSettingToGateway4();\n\nfindNavController().navigate(navDirections, null);\n</code></pre>\n<p>I don't see your navigation xml file, so <code>SettingsFragmentDirections.actionNavigationSettingToGateway4()</code> can have another name. Fix those names yourself.</p>\n<p>P.S. the versions of libraries which I'm using <code>androidx.navigation:navigation-fragment-ktx:2.4.0</code>, <code>&quot;androidx.navigation:navigation-ui-ktx:2.4.0&quot;</code></p>\n"}],"owner":{"account_id":25520737,"reputation":41,"user_id":19310679,"display_name":"asapsonter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73288567,"answer_count":2,"score":0,"last_activity_date":1660041856,"creation_date":1660032470,"question_id":73288468,"body_markdown":"I am trying to use the binding method in android studio to connect two fragments using onCreate and onViewCreated methods. so far i am getting id not resolved error. I have already connected the fragments on the xml graph. Bellow is the code of the settings java file. \r\n\r\n```java\r\npackage com.mqtt.workactiv.ui.settings;\r\n\r\nimport static android.os.Build.VERSION_CODES.R;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\n\r\nimport com.mqtt.workactiv.databinding.FragmentSettingsBinding;\r\n\r\npublic class SettingsFragment extends Fragment {\r\n\r\n    private FragmentSettingsBinding binding;\r\n    \r\n\r\n\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        SettingsViewModel settingsViewModel =\r\n                new ViewModelProvider(this).get(SettingsViewModel.class);\r\n\r\n        binding = FragmentSettingsBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        return root;\r\n    }\r\n    @Override\r\n    public void onViewCreated (@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n\r\n        NavController navController = Navigation.findNavController(view);\r\n\r\n            Button gateConnButton;\r\n        gateConnButton = view.findViewById(R.id.gatewayConnButton);\r\n        gateConnButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    navController.navigate(R.id.action_navigation_setting_to_gateway4);\r\n\r\n                }\r\n            });\r\n    }\r\n\r\n}","title":"fragment binding (symbol &quot;id&quot; cannot be resolved)","body":"<p>I am trying to use the binding method in android studio to connect two fragments using onCreate and onViewCreated methods. so far i am getting id not resolved error. I have already connected the fragments on the xml graph. Bellow is the code of the settings java file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mqtt.workactiv.ui.settings;\n\nimport static android.os.Build.VERSION_CODES.R;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.lifecycle.ViewModelProvider;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\n\nimport com.mqtt.workactiv.databinding.FragmentSettingsBinding;\n\npublic class SettingsFragment extends Fragment {\n\n    private FragmentSettingsBinding binding;\n    \n\n\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        SettingsViewModel settingsViewModel =\n                new ViewModelProvider(this).get(SettingsViewModel.class);\n\n        binding = FragmentSettingsBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        return root;\n    }\n    @Override\n    public void onViewCreated (@NonNull View view, @Nullable Bundle savedInstanceState) {\n            super.onViewCreated(view, savedInstanceState);\n\n        NavController navController = Navigation.findNavController(view);\n\n            Button gateConnButton;\n        gateConnButton = view.findViewById(R.id.gatewayConnButton);\n        gateConnButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    navController.navigate(R.id.action_navigation_setting_to_gateway4);\n\n                }\n            });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","linux","pdf","diacritics","pdf-writer"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1660042778,"post_id":73290490,"comment_id":129434070,"body_markdown":"What is the character  encoding of the source file ? It should be UTF-8, that will work cross on all OS platforms.","body":"What is the character  encoding of the source file ? It should be UTF-8, that will work cross on all OS platforms."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1660048808,"post_id":73290490,"comment_id":129436312,"body_markdown":"While indeed the fonts included in a PDF viewer are limited in their character selection, Western European characters  usually are covered, in particular something like an &#39;&#233;&#39;. Furthermore, the screen shot looks like UTF-8 encoded text being interpreted as if it was Latin-1 encoded. Thus, for a test please replace &#39;&#233;&#39; by &#39;\\u00E9&#39; and test again. If that eventually draws an &#39;&#233;&#39;, it&#39;s a mere encoding issue of your code.","body":"While indeed the fonts included in a PDF viewer are limited in their character selection, Western European characters  usually are covered, in particular something like an &#39;&#233;&#39;. Furthermore, the screen shot looks like UTF-8 encoded text being interpreted as if it was Latin-1 encoded. Thus, for a test please replace &#39;&#233;&#39; by &#39;\\u00E9&#39; and test again. If that eventually draws an &#39;&#233;&#39;, it&#39;s a mere encoding issue of your code."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1660124147,"post_id":73290490,"comment_id":129456486,"body_markdown":"Great! By the way, that most likely means that your code file is saved as UTF-8 but that your Java compiler expects the Java code files to be Latin-1 (or similarly) encoded. As UTF-8 here nowadays is quite standard, you might want to change your compiler call to expect UTF-8 encoded files.","body":"Great! By the way, that most likely means that your code file is saved as UTF-8 but that your Java compiler expects the Java code files to be Latin-1 (or similarly) encoded. As UTF-8 here nowadays is quite standard, you might want to change your compiler call to expect UTF-8 encoded files."}],"owner":{"account_id":26017772,"reputation":1,"user_id":19725871,"display_name":"Med Riad SEBTI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660041804,"creation_date":1660041804,"question_id":73290490,"body_markdown":"i&#39;m working with liferay 7.2 on local and after generating pdf, working so fine for me \r\n\r\nafter deploying on test site the pdf is generated without recognizing letters with accents like &#233; \r\na collegue told me that the problem is caused due to the site which is using linux as a system \r\n\r\ni m using a pdf writer folowing this code \r\n\r\n\t\tDocument document = new Document(PageSize.A4);\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tPdfWriter writer = PdfWriter.getInstance(document, baos);\r\n        Font font_titre = new Font(Font.TIMES_ROMAN, 14, Font.BOLD, coul_bleu);\r\n        ph1 = new Phrase(&quot;Activit&#233;s&quot;, font_titre);\r\n\r\n\r\nI&#39;m getting this : \r\n\r\n[problem after generating pdf][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AJpyW.png","title":"Problem with accents after generating pdf file with java","body":"<p>i'm working with liferay 7.2 on local and after generating pdf, working so fine for me</p>\n<p>after deploying on test site the pdf is generated without recognizing letters with accents like é\na collegue told me that the problem is caused due to the site which is using linux as a system</p>\n<p>i m using a pdf writer folowing this code</p>\n<pre><code>    Document document = new Document(PageSize.A4);\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    PdfWriter writer = PdfWriter.getInstance(document, baos);\n    Font font_titre = new Font(Font.TIMES_ROMAN, 14, Font.BOLD, coul_bleu);\n    ph1 = new Phrase(&quot;Activités&quot;, font_titre);\n</code></pre>\n<p>I'm getting this :</p>\n<p><a href=\"https://i.stack.imgur.com/AJpyW.png\" rel=\"nofollow noreferrer\">problem after generating pdf</a></p>\n"},{"tags":["java","spring-boot","log4j2"],"answers":[{"tags":[],"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660038029,"creation_date":1660036529,"answer_id":73289311,"question_id":73289195,"body_markdown":"add a properties tag in to your XML file and then define your path to save your log file:\r\n\r\n    &lt;Properties&gt;\r\n        ...\r\n\r\n        &lt;!--LINUX LOG DIRECTORY--&gt;\r\n        &lt;Property name=&quot;logDirLinux&quot;&gt;/storage1/user/logs/folderName/&lt;/Property&gt;\r\n\r\n        &lt;!--WINDOWS LOG DIRECTORY--&gt;\r\n        &lt;Property name=&quot;logDirWindows&quot;&gt;D:\\\\logs\\\\folderName\\\\&lt;/Property&gt;\r\n\r\n    &lt;/Properties&gt;","title":"Log4j2 log file not created","body":"<p>add a properties tag in to your XML file and then define your path to save your log file:</p>\n<pre><code>&lt;Properties&gt;\n    ...\n\n    &lt;!--LINUX LOG DIRECTORY--&gt;\n    &lt;Property name=&quot;logDirLinux&quot;&gt;/storage1/user/logs/folderName/&lt;/Property&gt;\n\n    &lt;!--WINDOWS LOG DIRECTORY--&gt;\n    &lt;Property name=&quot;logDirWindows&quot;&gt;D:\\\\logs\\\\folderName\\\\&lt;/Property&gt;\n\n&lt;/Properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22648249,"reputation":145,"user_id":16823308,"display_name":"Itamarled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660041689,"creation_date":1660041689,"answer_id":73290464,"question_id":73289195,"body_markdown":"The issue was that spring-boot couldn&#39;t recognize the log4j2.xml file because of the files structure.\r\n\r\nThe file has to be located directly in src/main/resources","title":"Log4j2 log file not created","body":"<p>The issue was that spring-boot couldn't recognize the log4j2.xml file because of the files structure.</p>\n<p>The file has to be located directly in src/main/resources</p>\n"}],"owner":{"account_id":22648249,"reputation":145,"user_id":16823308,"display_name":"Itamarled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73290464,"answer_count":2,"score":1,"last_activity_date":1660041689,"creation_date":1660035964,"question_id":73289195,"body_markdown":"For a spring-boot application I&#39;m trying to set up a log4j2 logger that will write the logs into a few sperate files, but the logs are only written to the console, I&#39;ve checked my user_dir to make sure I&#39;m not looking in the wrong location as well.\r\n\r\nThis is the code that should write the test logs:\r\n```\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\npublic class UsersController {\r\n\r\n    @Autowired\r\n    UsersService userService;\r\n\r\n    private static final Logger logger = LogManager.getLogger(UsersController.class);\r\n    @PostMapping(&quot;CreateUserWithEmailAndPassword&quot;)\r\n    public void createUserWithEmailAndPassword(@RequestParam String userName, @RequestParam String password, @RequestParam String email, HttpServletResponse response) throws ExecutionException, InterruptedException {\r\n        logger.info(&quot;creating a new user&quot;);\r\n        if(userService.createUserWithEmailAndPassword(userName, password, email))\r\n            response.setStatus(HttpServletResponse.SC_ACCEPTED);\r\n        else{\r\n            logger.error(&quot;failed on creating a new user&quot;);\r\n            response.setStatus(HttpServletResponse.SC_EXPECTATION_FAILED);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n this is my log4j2.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n        &lt;File name=&quot;FileAppender&quot; ref=&quot;infoAppender&quot; fileName=&quot;info-${date:yyyyMMdd}.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/File&gt;\r\n        &lt;File name=&quot;FileAppender&quot; ref=&quot;errorAppender&quot; fileName=&quot;error_warn-${date:yyyyMMdd}.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;warn&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;errorAppender&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\r\n        &lt;AppenderRef ref=&quot;infoAppender&quot; level=&quot;info&quot;/&gt;\r\n    &lt;/Loggers&gt;\r\n\r\n    &lt;Properties&gt;\r\n        &lt;!--LINUX LOG DIRECTORY--&gt;\r\n        &lt;Property name=&quot;logDirLinux&quot;&gt;/storage1/user/logs/folderName/&lt;/Property&gt;\r\n\r\n        &lt;!--WINDOWS LOG DIRECTORY--&gt;\r\n        &lt;Property name=&quot;logDirWindows&quot;&gt;C:\\\\logs\\\\&lt;/Property&gt;\r\n\r\n    &lt;/Properties&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nthis is my build.gradle file:\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.Itamarled&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation (&#39;org.springframework.boot:spring-boot-starter-web&#39;){\r\n\t\texclude group : &#39;spring-boot-starter-logging&#39;\r\n\t}\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation (&#39;org.springframework.boot:spring-boot-starter-test&#39;){\r\n\t\texclude group : &#39;spring-boot-starter-logging&#39;\r\n\t}\r\n\timplementation &#39;com.google.firebase:firebase-admin:9.0.0&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```","title":"Log4j2 log file not created","body":"<p>For a spring-boot application I'm trying to set up a log4j2 logger that will write the logs into a few sperate files, but the logs are only written to the console, I've checked my user_dir to make sure I'm not looking in the wrong location as well.</p>\n<p>This is the code that should write the test logs:</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class UsersController {\n\n    @Autowired\n    UsersService userService;\n\n    private static final Logger logger = LogManager.getLogger(UsersController.class);\n    @PostMapping(&quot;CreateUserWithEmailAndPassword&quot;)\n    public void createUserWithEmailAndPassword(@RequestParam String userName, @RequestParam String password, @RequestParam String email, HttpServletResponse response) throws ExecutionException, InterruptedException {\n        logger.info(&quot;creating a new user&quot;);\n        if(userService.createUserWithEmailAndPassword(userName, password, email))\n            response.setStatus(HttpServletResponse.SC_ACCEPTED);\n        else{\n            logger.error(&quot;failed on creating a new user&quot;);\n            response.setStatus(HttpServletResponse.SC_EXPECTATION_FAILED);\n        }\n\n    }\n}\n</code></pre>\n<p>this is my log4j2.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;File name=&quot;FileAppender&quot; ref=&quot;infoAppender&quot; fileName=&quot;info-${date:yyyyMMdd}.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/File&gt;\n        &lt;File name=&quot;FileAppender&quot; ref=&quot;errorAppender&quot; fileName=&quot;error_warn-${date:yyyyMMdd}.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;warn&quot;&gt;\n            &lt;AppenderRef ref=&quot;errorAppender&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\n        &lt;AppenderRef ref=&quot;infoAppender&quot; level=&quot;info&quot;/&gt;\n    &lt;/Loggers&gt;\n\n    &lt;Properties&gt;\n        &lt;!--LINUX LOG DIRECTORY--&gt;\n        &lt;Property name=&quot;logDirLinux&quot;&gt;/storage1/user/logs/folderName/&lt;/Property&gt;\n\n        &lt;!--WINDOWS LOG DIRECTORY--&gt;\n        &lt;Property name=&quot;logDirWindows&quot;&gt;C:\\\\logs\\\\&lt;/Property&gt;\n\n    &lt;/Properties&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>this is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.2'\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.Itamarled'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation ('org.springframework.boot:spring-boot-starter-web'){\n        exclude group : 'spring-boot-starter-logging'\n    }\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation ('org.springframework.boot:spring-boot-starter-test'){\n        exclude group : 'spring-boot-starter-logging'\n    }\n    implementation 'com.google.firebase:firebase-admin:9.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":6,"creation_date":1660033141,"post_id":73288556,"comment_id":129430744,"body_markdown":"`e.printStackTrace();` You had a typo, swallowing the exception.","body":"<code>e.printStackTrace();</code> You had a typo, swallowing the exception."},{"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"score":0,"creation_date":1660033190,"post_id":73288556,"comment_id":129430759,"body_markdown":"Have you got an error message to show or Exception ?","body":"Have you got an error message to show or Exception ?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660033214,"post_id":73288556,"comment_id":129430769,"body_markdown":"@QuentinGenet no, they don&#39;t. See the comment above yours to see why.","body":"@QuentinGenet no, they don&#39;t. See the comment above yours to see why."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660033376,"post_id":73288556,"comment_id":129430830,"body_markdown":"By the way `update table inserttbl`, that &quot;table&quot; looks out of place there.","body":"By the way <code>update table inserttbl</code>, that &quot;table&quot; looks out of place there."},{"owner":{"account_id":25913939,"reputation":1,"user_id":19637601,"display_name":"Mikey"},"score":0,"creation_date":1660034123,"post_id":73288556,"comment_id":129431107,"body_markdown":"Thank you everyone now i am able to update the data successfully. There was a syntax error in query string . Instead of `String q=&quot;update table inserttbl set Name=?, City=? where id=?&quot;;`  i should have written `String q=&quot;update inserttbl set Name=?, City=? where id=?&quot;;` .","body":"Thank you everyone now i am able to update the data successfully. There was a syntax error in query string . Instead of <code>String q=&quot;update table inserttbl set Name=?, City=? where id=?&quot;;</code>  i should have written <code>String q=&quot;update inserttbl set Name=?, City=? where id=?&quot;;</code> ."}],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1660033700,"creation_date":1660033349,"answer_id":73288639,"question_id":73288556,"body_markdown":"Your query string is wrong. It should be something like this:\r\n\r\n    String updateQuery = &quot;UPDATE inserttbl SET Name=?, City=? WHERE id=?&quot;;\r\n\r\nLook here for the proper syntax of update: https://www.mysqltutorial.org/mysql-jdbc-update\r\n\r\nAlso if you want to update then use an update table command. The command that you used for insert is wrong. \r\n\r\nAlso for error print out the exception that you logged. ","title":"PrearedStatement executeUpdate() is not working","body":"<p>Your query string is wrong. It should be something like this:</p>\n<pre><code>String updateQuery = &quot;UPDATE inserttbl SET Name=?, City=? WHERE id=?&quot;;\n</code></pre>\n<p>Look here for the proper syntax of update: <a href=\"https://www.mysqltutorial.org/mysql-jdbc-update\" rel=\"nofollow noreferrer\">https://www.mysqltutorial.org/mysql-jdbc-update</a></p>\n<p>Also if you want to update then use an update table command. The command that you used for insert is wrong.</p>\n<p>Also for error print out the exception that you logged.</p>\n"}],"owner":{"account_id":25913939,"reputation":1,"user_id":19637601,"display_name":"Mikey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73288639,"answer_count":1,"score":-1,"last_activity_date":1660041544,"creation_date":1660032918,"question_id":73288556,"body_markdown":"I&#39;m new to JDBC and using the following code to update the row using MySQL JDBC driver. I have no idea why executeUpdate() is not updating the content in the database.\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.*;\r\n\r\npublic class UpdateDb {\r\n\tUpdateDb() throws Exception,SQLException{\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\r\n\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/employeedb&quot;,&quot;root&quot;,&quot;&quot;);\r\n\t\t\r\n\t\tString q=&quot;update table inserttbl set Name=?, City=? where id=?&quot;;\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter new name to update: &quot;);\r\n\t\tString n = sc.nextLine();\r\n\t\tSystem.out.print(&quot;Enter new city name to update: &quot;);\r\n\t\tString c = sc.nextLine();\r\n\t\tSystem.out.print(&quot;Enter previous id: &quot;);\r\n\t\tint id = sc.nextInt();\r\n\t\t\r\n\t\tPreparedStatement ps = conn.prepareStatement(q);\r\n\t\r\n\t\tps.setString(1, n);\r\n\t\tps.setString(2, c);\r\n\t\tps.setInt(3, id);\r\n\t\t\r\n\t\tps.executeUpdate();\r\n\t\t\r\n\t\tSystem.out.print(&quot;updated&quot;);\r\n\t\t\r\n\t\tconn.close();\r\n\t\t\r\n\t}\r\n\tpublic static void main(String[] arg) {\r\n\t\ttry {\r\n\t\t\tUpdateDb up = new UpdateDb();\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.getStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nCan anyone help me?","title":"PrearedStatement executeUpdate() is not working","body":"<p>I'm new to JDBC and using the following code to update the row using MySQL JDBC driver. I have no idea why executeUpdate() is not updating the content in the database.</p>\n<pre><code>import java.sql.*;\nimport java.util.*;\n\npublic class UpdateDb {\n    UpdateDb() throws Exception,SQLException{\n        Scanner sc = new Scanner(System.in);\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        \n        Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/employeedb&quot;,&quot;root&quot;,&quot;&quot;);\n        \n        String q=&quot;update table inserttbl set Name=?, City=? where id=?&quot;;\n        \n        System.out.print(&quot;Enter new name to update: &quot;);\n        String n = sc.nextLine();\n        System.out.print(&quot;Enter new city name to update: &quot;);\n        String c = sc.nextLine();\n        System.out.print(&quot;Enter previous id: &quot;);\n        int id = sc.nextInt();\n        \n        PreparedStatement ps = conn.prepareStatement(q);\n    \n        ps.setString(1, n);\n        ps.setString(2, c);\n        ps.setInt(3, id);\n        \n        ps.executeUpdate();\n        \n        System.out.print(&quot;updated&quot;);\n        \n        conn.close();\n        \n    }\n    public static void main(String[] arg) {\n        try {\n            UpdateDb up = new UpdateDb();\n        }\n        catch(Exception e) {\n            e.getStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Can anyone help me?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659729823,"post_id":73254027,"comment_id":129372201,"body_markdown":"I don&#39;t think &quot;prefix array&quot; is the right term for this, and I found it very confusing in trying to understand the problem.","body":"I don&#39;t think &quot;prefix array&quot; is the right term for this, and I found it very confusing in trying to understand the problem."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1659729832,"post_id":73254027,"comment_id":129372206,"body_markdown":"I don&#39;t think you can optimize this. Flattening the ranges and creating the prefix array has the same time complexity. If there is no overlap the number of elements is exactly the same.","body":"I don&#39;t think you can optimize this. Flattening the ranges and creating the prefix array has the same time complexity. If there is no overlap the number of elements is exactly the same."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659730012,"post_id":73254027,"comment_id":129372255,"body_markdown":"I don&#39;t believe that&#39;s true.  The elements of the ranges can be much larger than the total number of queries; the number of elements in the &quot;prefix array&quot; can be much larger.  Consider the input [1, 10].","body":"I don&#39;t believe that&#39;s true.  The elements of the ranges can be much larger than the total number of queries; the number of elements in the &quot;prefix array&quot; can be much larger.  Consider the input [1, 10]."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1659730363,"post_id":73254027,"comment_id":129372374,"body_markdown":"In the worst case, no overlaps, the time complexity is the same. You probably could create an algorithm that runs in O(max(query.right) - min(query.left)) but it only helps if there are enough overlaps.","body":"In the worst case, no overlaps, the time complexity is the same. You probably could create an algorithm that runs in O(max(query.right) - min(query.left)) but it only helps if there are enough overlaps."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":1,"creation_date":1659730704,"post_id":73254027,"comment_id":129372494,"body_markdown":"@LouisWasserman as I understand it [1, 10] flattened would be [1, 2, 3, ..., 9, 10]. At least that&#39;s what the example suggests.","body":"@LouisWasserman as I understand it [1, 10] flattened would be [1, 2, 3, ..., 9, 10]. At least that&#39;s what the example suggests."},{"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"score":0,"creation_date":1659741105,"post_id":73254027,"comment_id":129374651,"body_markdown":"I removed the term prefix.","body":"I removed the term prefix."},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1659741710,"post_id":73254027,"comment_id":129374753,"body_markdown":"2 comes once, maybe correct that.","body":"2 comes once, maybe correct that."},{"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"score":0,"creation_date":1659757369,"post_id":73254027,"comment_id":129376346,"body_markdown":"[1, 3] -&gt; it’s a range, 1,2,3","body":"[1, 3] -&gt; it’s a range, 1,2,3"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1659801211,"post_id":73254027,"comment_id":129383603,"body_markdown":"It could be helpful to know what you want to achieve. Maybe there&#39;s a better way than having those two arrays. You could use a Fenwick tree.","body":"It could be helpful to know what you want to achieve. Maybe there&#39;s a better way than having those two arrays. You could use a Fenwick tree."},{"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"score":0,"creation_date":1659851553,"post_id":73254027,"comment_id":129390248,"body_markdown":"@maraca Actually it is just pre-calculation for another problem. The actual problem is -&gt; There is an array [ 2, 4, 5, 1] and there will be a Q number of queries [ 2, 3 ] [1, 3], you need to rearrange the array in such a way that you first calculate the sum of each query -&gt; [5 +1], [4 + 5 + 1]  and then calculate the sum of these sums and it should be the maximum. You can rearrange original array only one time.","body":"@maraca Actually it is just pre-calculation for another problem. The actual problem is -&gt; There is an array [ 2, 4, 5, 1] and there will be a Q number of queries [ 2, 3 ] [1, 3], you need to rearrange the array in such a way that you first calculate the sum of each query -&gt; [5 +1], [4 + 5 + 1]  and then calculate the sum of these sums and it should be the maximum. You can rearrange original array only one time."},{"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"score":0,"creation_date":1659851734,"post_id":73254027,"comment_id":129390261,"body_markdown":"[2, 4, 5, 1] Queries [2, 3] [1, 3] -&gt; flattening out  -&gt; [2, 3, 1, 2, 3] from which we can create array -&gt; [0, 1, 2, 2] then rearranging original array [1, 2, 4, 5] which gives maximum sum for queries.","body":"[2, 4, 5, 1] Queries [2, 3] [1, 3] -&gt; flattening out  -&gt; [2, 3, 1, 2, 3] from which we can create array -&gt; [0, 1, 2, 2] then rearranging original array [1, 2, 4, 5] which gives maximum sum for queries."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1659874475,"post_id":73254027,"comment_id":129393887,"body_markdown":"@AmanSinghRajpoot You can actually solve this original problem in O(nlogn), n being the number of elements in the array to rearrange.","body":"@AmanSinghRajpoot You can actually solve this original problem in O(nlogn), n being the number of elements in the array to rearrange."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1659958699,"post_id":73254027,"comment_id":129411071,"body_markdown":"@AmanSinghRajpoot I could answer that question, but I don&#39;t know if you have to post a new question for this. Also whether you just want the maximum sum, one rearrangement or the number of all possible rearrangements that give max sum etc.","body":"@AmanSinghRajpoot I could answer that question, but I don&#39;t know if you have to post a new question for this. Also whether you just want the maximum sum, one rearrangement or the number of all possible rearrangements that give max sum etc."}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659799166,"creation_date":1659799166,"answer_id":73260989,"question_id":73254027,"body_markdown":"I see two possible approaches. The first assumes one iteration through full range of every query. It&#39;s efficient at small ranges, but not better than O(QN):\r\n\r\n    int[] freqCount1 (final List&lt;int[]&gt; queries){\r\n        Map&lt;Integer, Integer&gt; results = new HashMap&lt;&gt;();\r\n        for(int[] q : queries){\r\n            for(int i = q[0]; i &lt;= q[1]; i++){\r\n                if (!results.containsKey(i)){\r\n                    results.put(i, 1);\r\n                }\r\n                else {\r\n                    results.put(i, results.get(i) + 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        int[] count = new int[results.size()];\r\n        List&lt;Integer&gt; resultsValues = new ArrayList&lt;&gt;(results.values());\r\n        for (int i = 0; i &lt; resultsValues.size(); i++){\r\n            count[i] = resultsValues.get(i);\r\n        }\r\n        return count;\r\n    }\r\nThe second approach assumes determining the range for all queries altogether and then iterating through each element from the range, checking whether it&#39;s included in each of the queries. In this approach you don&#39;t need to iterate through full range of each query, so I believe this is below O(QN), assuming that the ranges overlap to some extent.\r\n\r\n    int[] freqCount2 (final List&lt;int[]&gt; queries){\r\n        int min = queries.stream().map(q -&gt; q[0]).min(Integer::compareTo).get();\r\n        int max = queries.stream().map(q -&gt; q[1]).max(Integer::compareTo).get();\r\n        int range = max - min + 1;\r\n\r\n        int[] entries = new int[range];\r\n        List&lt;Integer&gt; countList = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; range; i++){\r\n            entries[i] = i + min;\r\n            countList.add(0);\r\n        }\r\n\r\n        for (int[] q : queries) {\r\n            for (int i = 0; i &lt; range; i++) {\r\n                if (entries[i] &gt;= q[0] &amp;&amp; entries[i] &lt;= q[1]) {\r\n                    countList.set(i, countList.get(i) + 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        List&lt;Integer&gt; countListFiltered = countList.stream()\r\n                .filter(integer -&gt; integer &gt; 0)\r\n                .collect(Collectors.toList());\r\n        int[] count = new int[countListFiltered.size()];\r\n        for (int i = 0; i &lt; countListFiltered.size(); i++){\r\n            count[i] = countListFiltered.get(i);\r\n        }\r\n        return count;\r\n    }\r\n\r\nI tested in practice and with your example the first approach is much faster, but with long and overlapping ranges the second wins (I tested for `[4,50000] [300000,500000] [2,100000] [3,800] [5,100000] [6,100000] [70000,900000] [8,100000]`)","title":"How to create array [1, 2, 3, 1] from given range Q queries with N elements each [1, 3] [2, 3] [3, 4] in less than O(QN)?","body":"<p>I see two possible approaches. The first assumes one iteration through full range of every query. It's efficient at small ranges, but not better than O(QN):</p>\n<pre><code>int[] freqCount1 (final List&lt;int[]&gt; queries){\n    Map&lt;Integer, Integer&gt; results = new HashMap&lt;&gt;();\n    for(int[] q : queries){\n        for(int i = q[0]; i &lt;= q[1]; i++){\n            if (!results.containsKey(i)){\n                results.put(i, 1);\n            }\n            else {\n                results.put(i, results.get(i) + 1);\n            }\n        }\n    }\n\n    int[] count = new int[results.size()];\n    List&lt;Integer&gt; resultsValues = new ArrayList&lt;&gt;(results.values());\n    for (int i = 0; i &lt; resultsValues.size(); i++){\n        count[i] = resultsValues.get(i);\n    }\n    return count;\n}\n</code></pre>\n<p>The second approach assumes determining the range for all queries altogether and then iterating through each element from the range, checking whether it's included in each of the queries. In this approach you don't need to iterate through full range of each query, so I believe this is below O(QN), assuming that the ranges overlap to some extent.</p>\n<pre><code>int[] freqCount2 (final List&lt;int[]&gt; queries){\n    int min = queries.stream().map(q -&gt; q[0]).min(Integer::compareTo).get();\n    int max = queries.stream().map(q -&gt; q[1]).max(Integer::compareTo).get();\n    int range = max - min + 1;\n\n    int[] entries = new int[range];\n    List&lt;Integer&gt; countList = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; range; i++){\n        entries[i] = i + min;\n        countList.add(0);\n    }\n\n    for (int[] q : queries) {\n        for (int i = 0; i &lt; range; i++) {\n            if (entries[i] &gt;= q[0] &amp;&amp; entries[i] &lt;= q[1]) {\n                countList.set(i, countList.get(i) + 1);\n            }\n        }\n    }\n\n    List&lt;Integer&gt; countListFiltered = countList.stream()\n            .filter(integer -&gt; integer &gt; 0)\n            .collect(Collectors.toList());\n    int[] count = new int[countListFiltered.size()];\n    for (int i = 0; i &lt; countListFiltered.size(); i++){\n        count[i] = countListFiltered.get(i);\n    }\n    return count;\n}\n</code></pre>\n<p>I tested in practice and with your example the first approach is much faster, but with long and overlapping ranges the second wins (I tested for <code>[4,50000] [300000,500000] [2,100000] [3,800] [5,100000] [6,100000] [70000,900000] [8,100000]</code>)</p>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660041309,"creation_date":1660041309,"answer_id":73290386,"question_id":73254027,"body_markdown":"It should be possible to reach O(Q log(Q) + N) using a [sweep](https://en.wikipedia.org/wiki/Sweep_line_algorithm). The basic idea is to place the intervals on a number line. Starts and ends of the intervals are processed in ascending order while maintaining a count of &quot;not yet closed intervals&quot;. \r\n\r\nThe following code demonstrates this:\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class Ranges {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Range&gt; ranges = List.of(\r\n            new Range(2,7), new Range(1,6), new Range(7, 8), new Range(1, 9)\r\n        );\r\n        System.out.println(ranges);\r\n        List&lt;Event&gt; events = createEvents(ranges);\r\n        int open = 0;\r\n        int start = 0;\r\n        for (Event event : events) {\r\n            switch (event.type()) {\r\n                case START:\r\n                    if (open &gt; 0) {\r\n                        int end = event.value();\r\n                        output(start, end, open);\r\n                        start = end;\r\n                    } else {\r\n                        start = event.value();\r\n                    }\r\n                    open++;                    \r\n                    break;\r\n                case STOP:\r\n                    int end = event.value();\r\n                    if (open == 1 || start != end) {\r\n                        output(start, end + 1, open);\r\n                        start = end + 1;\r\n                    }\r\n                    open--;                    \r\n                    break;\r\n            }\r\n        }\r\n    }   \r\n    \r\n    static List&lt;Event&gt; createEvents(List&lt;Range&gt; ranges) {\r\n        List&lt;Event&gt; events = new ArrayList&lt;&gt;(); \r\n        for (Range range : ranges) {\r\n            events.add(new Event(EventType.START, range, range.start()));\r\n            events.add(new Event(EventType.STOP, range, range.end()));\r\n        }\r\n        Collections.sort(events);        \r\n        return events;\r\n    }\r\n    \r\n    static void output(int start, int end, int count) {\r\n        IntStream.range(start, end).forEach(value -&gt; System.out.printf(&quot;%d %d \\n&quot;, value, count));        \r\n    }    \r\n    \r\n    /* helper types */       \r\n    \r\n    enum EventType {START, STOP}\r\n    static class Range {\r\n        int start, end;\r\n        \r\n        Range(int start, int end) {\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n        \r\n        int start() { return start; }\r\n        int end() { return end; }\r\n        \r\n        public String toString() {\r\n            return &quot;[&quot; + start + &quot;, &quot; + end + &quot;]&quot;; \r\n        }\r\n    }\r\n    \r\n    static class Event implements Comparable&lt;Event&gt; {\r\n        EventType type;\r\n        Range range;\r\n        int value;\r\n        \r\n        Event(EventType type, Range range, int value) {\r\n            this.type = type;\r\n            this.range = range;\r\n            this.value = value;\r\n        }\r\n        \r\n        @Override\r\n        public int compareTo(Event e) {\r\n            return Integer.compare(value, e.value);\r\n        }\r\n        \r\n        EventType type() { return type; }\r\n        Range range() { return range; }\r\n        int value() { return value; }\r\n    }         \r\n}\r\n```\r\n\r\nOutputs\r\n```\r\n[[2, 7], [1, 6], [7, 8], [1, 9]]\r\n1 2\r\n2 3\r\n3 3\r\n4 3\r\n5 3\r\n6 3\r\n7 2\r\n8 2\r\n9 1\r\n```\r\n(first line is the input; number and count on each following line)\r\n\r\nComplexity is determined by sorting in O(Q log(Q)) time and by emitting the counts for each number in O(N). If I&#39;m not wrong, complexity should be O(Q log(Q) + N).","title":"How to create array [1, 2, 3, 1] from given range Q queries with N elements each [1, 3] [2, 3] [3, 4] in less than O(QN)?","body":"<p>It should be possible to reach O(Q log(Q) + N) using a <a href=\"https://en.wikipedia.org/wiki/Sweep_line_algorithm\" rel=\"nofollow noreferrer\">sweep</a>. The basic idea is to place the intervals on a number line. Starts and ends of the intervals are processed in ascending order while maintaining a count of &quot;not yet closed intervals&quot;.</p>\n<p>The following code demonstrates this:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.IntStream;\n\npublic class Ranges {\n\n    public static void main(String[] args) {\n        List&lt;Range&gt; ranges = List.of(\n            new Range(2,7), new Range(1,6), new Range(7, 8), new Range(1, 9)\n        );\n        System.out.println(ranges);\n        List&lt;Event&gt; events = createEvents(ranges);\n        int open = 0;\n        int start = 0;\n        for (Event event : events) {\n            switch (event.type()) {\n                case START:\n                    if (open &gt; 0) {\n                        int end = event.value();\n                        output(start, end, open);\n                        start = end;\n                    } else {\n                        start = event.value();\n                    }\n                    open++;                    \n                    break;\n                case STOP:\n                    int end = event.value();\n                    if (open == 1 || start != end) {\n                        output(start, end + 1, open);\n                        start = end + 1;\n                    }\n                    open--;                    \n                    break;\n            }\n        }\n    }   \n    \n    static List&lt;Event&gt; createEvents(List&lt;Range&gt; ranges) {\n        List&lt;Event&gt; events = new ArrayList&lt;&gt;(); \n        for (Range range : ranges) {\n            events.add(new Event(EventType.START, range, range.start()));\n            events.add(new Event(EventType.STOP, range, range.end()));\n        }\n        Collections.sort(events);        \n        return events;\n    }\n    \n    static void output(int start, int end, int count) {\n        IntStream.range(start, end).forEach(value -&gt; System.out.printf(&quot;%d %d \\n&quot;, value, count));        \n    }    \n    \n    /* helper types */       \n    \n    enum EventType {START, STOP}\n    static class Range {\n        int start, end;\n        \n        Range(int start, int end) {\n            this.start = start;\n            this.end = end;\n        }\n        \n        int start() { return start; }\n        int end() { return end; }\n        \n        public String toString() {\n            return &quot;[&quot; + start + &quot;, &quot; + end + &quot;]&quot;; \n        }\n    }\n    \n    static class Event implements Comparable&lt;Event&gt; {\n        EventType type;\n        Range range;\n        int value;\n        \n        Event(EventType type, Range range, int value) {\n            this.type = type;\n            this.range = range;\n            this.value = value;\n        }\n        \n        @Override\n        public int compareTo(Event e) {\n            return Integer.compare(value, e.value);\n        }\n        \n        EventType type() { return type; }\n        Range range() { return range; }\n        int value() { return value; }\n    }         \n}\n</code></pre>\n<p>Outputs</p>\n<pre><code>[[2, 7], [1, 6], [7, 8], [1, 9]]\n1 2\n2 3\n3 3\n4 3\n5 3\n6 3\n7 2\n8 2\n9 1\n</code></pre>\n<p>(first line is the input; number and count on each following line)</p>\n<p>Complexity is determined by sorting in O(Q log(Q)) time and by emitting the counts for each number in O(N). If I'm not wrong, complexity should be O(Q log(Q) + N).</p>\n"}],"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1660041309,"creation_date":1659724544,"question_id":73254027,"body_markdown":"I have a Q number of queries containing N elements each. Queries will be range.\r\n```\r\n[1, 3] [2, 3] [3, 4]\r\n```\r\nIf we flatten out range queries we will get this.\r\n```\r\n1, 2, 3, 2, 3, 3, 4\r\n```\r\nI am trying to find a solution to create a array given below.\r\n```\r\n[1, 2, 3, 4] --&gt; elements in range\r\n[1, 2, 3, 1] --&gt; their frequency array\r\n``` \r\nExplanation -&gt; Element 1 comes only one time in range queries, similarly, 2 comes two times in range queries, and so on, and at last 4 comes only one time. \r\n\r\nWhich gives a array of elements frequency as mentioned above.\r\n\r\nBut flattening out the range and iterating over it to create a array has a time complexity of O(QN)  ```[1, 2, 3, 2, 3, 3, 4] --&gt; [1, 2, 3, 1]```\r\n\r\nI failed to optimize it, my question is - How can we do it in the least possible time complexity (at least less than O(QN)?\r\n","title":"How to create array [1, 2, 3, 1] from given range Q queries with N elements each [1, 3] [2, 3] [3, 4] in less than O(QN)?","body":"<p>I have a Q number of queries containing N elements each. Queries will be range.</p>\n<pre><code>[1, 3] [2, 3] [3, 4]\n</code></pre>\n<p>If we flatten out range queries we will get this.</p>\n<pre><code>1, 2, 3, 2, 3, 3, 4\n</code></pre>\n<p>I am trying to find a solution to create a array given below.</p>\n<pre><code>[1, 2, 3, 4] --&gt; elements in range\n[1, 2, 3, 1] --&gt; their frequency array\n</code></pre>\n<p>Explanation -&gt; Element 1 comes only one time in range queries, similarly, 2 comes two times in range queries, and so on, and at last 4 comes only one time.</p>\n<p>Which gives a array of elements frequency as mentioned above.</p>\n<p>But flattening out the range and iterating over it to create a array has a time complexity of O(QN)  <code>[1, 2, 3, 2, 3, 3, 4] --&gt; [1, 2, 3, 1]</code></p>\n<p>I failed to optimize it, my question is - How can we do it in the least possible time complexity (at least less than O(QN)?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":8952713,"reputation":69,"user_id":6678190,"accept_rate":62,"display_name":"Zui0per"},"score":0,"creation_date":1659943338,"post_id":73274053,"comment_id":129405909,"body_markdown":"so what are you trying to match? I don&#39;t understand the question.","body":"so what are you trying to match? I don&#39;t understand the question."}],"answers":[{"tags":[],"owner":{"account_id":25957123,"reputation":139,"user_id":19715697,"display_name":"Jonathan Fuchs"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660041301,"creation_date":1659943328,"answer_id":73274156,"question_id":73274053,"body_markdown":"This should group your blocks right: `(([a-zA-Z].[a-zA-Z]*)) `\r\n\r\nThe output is following:\r\n\r\n    aaaa\r\n    aaaa\r\n    aaaa\r\n    bbbb\r\n    bbbb\r\n    bbbb\r\n    cccc\r\n    cccc\r\n    cccc\r\n    dddd\r\n    dddd\r\n    dddd\r\n\r\nNow you can write your code and terminate the entries you did not need! This would be  my fast solution. ","title":"Regex to return all subdomains from a given domain","body":"<p>This should group your blocks right: <code>(([a-zA-Z].[a-zA-Z]*)) </code></p>\n<p>The output is following:</p>\n<pre><code>aaaa\naaaa\naaaa\nbbbb\nbbbb\nbbbb\ncccc\ncccc\ncccc\ndddd\ndddd\ndddd\n</code></pre>\n<p>Now you can write your code and terminate the entries you did not need! This would be  my fast solution.</p>\n"},{"tags":[],"owner":{"account_id":16729279,"reputation":5099,"user_id":12755187,"display_name":"Artyom Vancyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659944754,"creation_date":1659944754,"answer_id":73274421,"question_id":73274053,"body_markdown":"The regex you&#39;re looking for is\r\n```regexp\r\n(?=(?:^|\\.)([\\.\\w]+)*)\r\n```\r\nThis pattern is based on lookahead. It can cross-match substrings that have already been matched in previous iterations.\r\n\r\n#### Java Example\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        final String regex = &quot;(?=(?:^|\\\\.)([\\\\.\\\\w]+)*)&quot;;\r\n        final String domain = &quot;aaaa.bbbb.cccc.dddd&quot;;\r\n        \r\n        final Pattern pattern = Pattern.compile(regex);\r\n        final Matcher matcher = pattern.matcher(domain);\r\n        \r\n        while (matcher.find()) {\r\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n                System.out.println(matcher.group(i));\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Regex to return all subdomains from a given domain","body":"<p>The regex you're looking for is</p>\n<pre><code>(?=(?:^|\\.)([\\.\\w]+)*)\n</code></pre>\n<p>This pattern is based on lookahead. It can cross-match substrings that have already been matched in previous iterations.</p>\n<h4>Java Example</h4>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        final String regex = &quot;(?=(?:^|\\\\.)([\\\\.\\\\w]+)*)&quot;;\n        final String domain = &quot;aaaa.bbbb.cccc.dddd&quot;;\n        \n        final Pattern pattern = Pattern.compile(regex);\n        final Matcher matcher = pattern.matcher(domain);\n        \n        while (matcher.find()) {\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n                System.out.println(matcher.group(i));\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23247459,"reputation":67,"user_id":17335839,"display_name":"Montes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73274421,"answer_count":2,"score":2,"last_activity_date":1660041301,"creation_date":1659942744,"question_id":73274053,"body_markdown":"Given a domain string like `aaaa.bbbb.cccc.dddd` I am trying to iterate over all of its subdomains i.e.\r\n```\r\naaaa.bbbb.cccc.dddd\r\nbbbb.cccc.dddd\r\ncccc.dddd\r\ndddd\r\n```\r\nI thought this regex `((?:[a-zA-Z0-9]+\\.)*)([a-zA-Z0-9]+)$` should do the trick (please ignore the fact, that I am only matching these characters `[a-zA-Z0-9]`), however it only matches the full string.\r\n\r\nHow can I modify it to make it work?\r\n\r\nEdit 1:\r\nThe following code\r\n```java\r\nvar pattern = Pattern.compile(&quot;((?:[a-zA-Z0-9]+\\\\.)*)([a-zA-Z0-9]+)$&quot;); //fixed regex here\r\nvar matcher = pattern.matcher(&quot;aaaa.bbbb.cccc.dddd&quot;);\r\nmatcher.results()\r\n    .forEach(matchResult -&gt; System.out.println(matchResult.group()));\r\n```\r\nshould print (in any order)\r\n```\r\naaaa.bbbb.cccc.dddd\r\nbbbb.cccc.dddd\r\ncccc.dddd\r\ndddd\r\n```","title":"Regex to return all subdomains from a given domain","body":"<p>Given a domain string like <code>aaaa.bbbb.cccc.dddd</code> I am trying to iterate over all of its subdomains i.e.</p>\n<pre><code>aaaa.bbbb.cccc.dddd\nbbbb.cccc.dddd\ncccc.dddd\ndddd\n</code></pre>\n<p>I thought this regex <code>((?:[a-zA-Z0-9]+\\.)*)([a-zA-Z0-9]+)$</code> should do the trick (please ignore the fact, that I am only matching these characters <code>[a-zA-Z0-9]</code>), however it only matches the full string.</p>\n<p>How can I modify it to make it work?</p>\n<p>Edit 1:\nThe following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>var pattern = Pattern.compile(&quot;((?:[a-zA-Z0-9]+\\\\.)*)([a-zA-Z0-9]+)$&quot;); //fixed regex here\nvar matcher = pattern.matcher(&quot;aaaa.bbbb.cccc.dddd&quot;);\nmatcher.results()\n    .forEach(matchResult -&gt; System.out.println(matchResult.group()));\n</code></pre>\n<p>should print (in any order)</p>\n<pre><code>aaaa.bbbb.cccc.dddd\nbbbb.cccc.dddd\ncccc.dddd\ndddd\n</code></pre>\n"},{"tags":["java","xml","log4j","logrotate"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1660018447,"post_id":73279645,"comment_id":129427210,"body_markdown":"Can you edit you question and add your configuration? Either you have a trigger that rotates upon reconfiguration or there is a bug that should be reported.","body":"Can you edit you question and add your configuration? Either you have a trigger that rotates upon reconfiguration or there is a bug that should be reported."},{"owner":{"account_id":26009521,"reputation":56,"user_id":19718821,"display_name":"solembum"},"score":0,"creation_date":1660041106,"post_id":73279645,"comment_id":129433503,"body_markdown":"I switched over away from the CronTrigger to a timebasedTriggerPolicy which (up to now ) works. So maybe there was the problem.","body":"I switched over away from the CronTrigger to a timebasedTriggerPolicy which (up to now ) works. So maybe there was the problem."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1660056736,"post_id":73279645,"comment_id":129439777,"body_markdown":"The `evaluateOnStartup=&quot;true&quot;` setting has the effect you describe in the question. Please, include your configuration as text not image, so that it can be searchable.","body":"The <code>evaluateOnStartup=&quot;true&quot;</code> setting has the effect you describe in the question. Please, include your configuration as text not image, so that it can be searchable."}],"owner":{"account_id":26009521,"reputation":56,"user_id":19718821,"display_name":"solembum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660041052,"creation_date":1659969381,"question_id":73279645,"body_markdown":"i have following problem:\r\nEverytime we edit our log4j.xml-configuration-files a logrotate happens. \r\nSo we store those logs in our archive and open a new one with starting time at that point, when the logrotate occurs. But when our real logrotate at midnight happens, the already stored file will be overwritten. So we lose that part of our logs.\r\n\r\nI think this behaviour when changing the log4j-config files was introduced only a few versions ago but i cannot find out when exactly.\r\n\r\nConfiguring it with monitorIntervall does also not help, because that would only work if the files are changend at the exact time in seconds.\r\n\r\nDo you guys know a method to disable the check when the log4j-files are edited and move on without a logrotate?\r\n\r\nThanks in advance\r\n\r\nHere is the configuration:\r\n[log4j-confi][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5daLh.png","title":"Log4j Version 2.17.2 disable logrotate when editing log4j.xml-files","body":"<p>i have following problem:\nEverytime we edit our log4j.xml-configuration-files a logrotate happens.\nSo we store those logs in our archive and open a new one with starting time at that point, when the logrotate occurs. But when our real logrotate at midnight happens, the already stored file will be overwritten. So we lose that part of our logs.</p>\n<p>I think this behaviour when changing the log4j-config files was introduced only a few versions ago but i cannot find out when exactly.</p>\n<p>Configuring it with monitorIntervall does also not help, because that would only work if the files are changend at the exact time in seconds.</p>\n<p>Do you guys know a method to disable the check when the log4j-files are edited and move on without a logrotate?</p>\n<p>Thanks in advance</p>\n<p>Here is the configuration:\n<a href=\"https://i.stack.imgur.com/5daLh.png\" rel=\"nofollow noreferrer\">log4j-confi</a></p>\n"},{"tags":["java","php","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1660044726,"post_id":73290306,"comment_id":129434745,"body_markdown":"If you pass the plaintext in the PHP code 1:1 as in the Java code (as string, in quotes, with `\\&quot;` inside) no `json_encode()` is needed (because this also encodes the backslash). If your plaintext has a different format, post an example.","body":"If you pass the plaintext in the PHP code 1:1 as in the Java code (as string, in quotes, with <code>\\&quot;</code> inside) no <code>json_encode()</code> is needed (because this also encodes the backslash). If your plaintext has a different format, post an example."},{"owner":{"account_id":16699496,"reputation":56,"user_id":19231732,"display_name":"Rohannn Singh"},"score":0,"creation_date":1660046008,"post_id":73290306,"comment_id":129435190,"body_markdown":"yes i think this was the error ....","body":"yes i think this was the error ...."}],"owner":{"account_id":16699496,"reputation":56,"user_id":19231732,"display_name":"Rohannn Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660040936,"creation_date":1660040936,"question_id":73290306,"body_markdown":"I am using one encryption/decryption method used in java and applying it in php . I have almost reached to the end but there is one mistake which I found that my decrypted string is not what i was expecting ,\r\nThis is my java code \r\n````\r\nprivate static final String ALGORITHM = &quot;AES/CBC/PKCS5Padding&quot;;\r\n    public static String encrypt(String message, String key) throws GeneralSecurityException, UnsupportedEncodingException {\r\n        if (message == null || key == null) {\r\n            throw new IllegalArgumentException(&quot;text to be encrypted and key should not be null&quot;);\r\n        }\r\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n        byte[] messageArr = message.getBytes();\r\n        byte[] keyparam = key.getBytes();\r\n\r\n        SecretKeySpec keySpec = new SecretKeySpec(keyparam, &quot;AES&quot;);\r\n        byte[] ivParams = new byte[16];\r\n        byte[] encoded = new byte[messageArr.length + 16];\r\n        System.arraycopy(ivParams, 0, encoded, 0, 16);\r\n\r\n        System.arraycopy(messageArr, 0, encoded, 16, messageArr.length);\r\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\r\n        byte[] encryptedBytes = cipher.doFinal(encoded);\r\n\r\n        encryptedBytes = Base64.getEncoder().encode(encryptedBytes);\r\n\r\n        return new String(encryptedBytes);\r\n    }\r\n\r\n    public static String decrypt(String encryptedStr, String key) throws GeneralSecurityException, UnsupportedEncodingException {\r\n        if (encryptedStr == null || key == null) {\r\n            throw new IllegalArgumentException(&quot;text to be decrypted and key should not be null&quot;);\r\n        }\r\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n        byte[] keyparam = key.getBytes();\r\n        SecretKeySpec keySpec = new SecretKeySpec(keyparam, &quot;AES&quot;);\r\n        byte[] encoded = encryptedStr.getBytes();\r\n        encoded = Base64.getDecoder().decode(encoded);\r\n        byte[] decodedEncrypted = new byte[encoded.length - 16];\r\n        System.arraycopy(encoded, 16, decodedEncrypted, 0, encoded.length - 16);\r\n        byte[] ivParams = new byte[16];\r\n        System.arraycopy(encoded, 0, ivParams, 0, ivParams.length);\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\r\n        byte[] decryptedBytes = cipher.doFinal(decodedEncrypted);\r\n        return new String(decryptedBytes);\r\n    }\r\n````\r\n\r\nnow i have done this in php like this\r\n````\r\n$encKey = &#39;encryptionKey&#39;;\r\n$cipher = &quot;aes-256-cbc&quot;;\r\n$data = &#39;some data&#39;;\r\n\r\n$encryption_key = openssl_random_pseudo_bytes(32);\r\n\r\n$iv_size = openssl_cipher_iv_length($cipher);\r\n\r\n$iv = openssl_random_pseudo_bytes($iv_size);\r\n\r\n$ciphertext_raw = openssl_encrypt(json_encode($data), &#39;aes-256-cbc&#39;, $encKey, $options = OPENSSL_RAW_DATA, $iv);\r\n//$ciphertext_raw = openssl_encrypt(json_encode($data), $cipher, $encKey, $options=OPENSSL_RAW_DATA, $iv);\r\n\r\n$encrypted_data = base64_encode($iv . $ciphertext_raw);\r\n\r\nprint_r($encrypted_data);\r\n````\r\n\r\nnow the problem is when i encrypt one string in php and decrypt it in java code it add some escape sequence but when i encrypt that same string in java and decrypt it in java it is proper and accurate and i am not sure why this is happening ... may be i am doing some thing wrong \r\nas I have to do this encryption in php using java code i am not sure that is this process going in right way or there is some error .\r\n\r\nthis is the string which i am encrypting \r\n````\r\nString str = &quot;vendor_id=INT_GTW&amp;format=json&amp;msg_code=KBEX99&amp;data={\\&quot;header\\&quot;:{\\&quot;msg_code\\&quot;:\\&quot;KBEX99\\&quot;,\\&quot;source\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;channel\\&quot;:\\&quot;CONBNK\\&quot;,\\&quot;txn_ref_number\\&quot;:\\&quot;INSTANTPAY_CONBNK_00001\\&quot;,\\&quot;txn_datetime\\&quot;:\\&quot;1498118309808\\&quot;,\\&quot;ip\\&quot;:\\&quot;1\\&quot;,\\&quot;device_id\\&quot;:\\&quot;XYWZPQR123\\&quot;,\\&quot;api_version\\&quot;:\\&quot;1.0.0\\&quot;},\\&quot;detail\\&quot;:{\\&quot;entity\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;intent\\&quot;:\\&quot;REG\\&quot;,\\&quot;user_identifier\\&quot;:\\&quot;INSTANTPAY28423928\\&quot;,\\&quot;crn\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p1\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p2\\&quot;:\\&quot;\\&quot;,\\&quot;p3\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;p4\\&quot;:\\&quot;\\&quot;,\\&quot;p5\\&quot;:\\&quot;\\&quot;,\\&quot;p6\\&quot;:\\&quot;\\&quot;,\\&quot;p7\\&quot;:\\&quot;\\&quot;,\\&quot;p8\\&quot;:\\&quot;\\&quot;,\\&quot;p9\\&quot;:\\&quot;\\&quot;,\\&quot;p10\\&quot;:\\&quot;\\&quot;,\\&quot;p11\\&quot;:\\&quot;\\&quot;,\\&quot;p12\\&quot;:\\&quot;\\&quot;,\\&quot;p13\\&quot;:\\&quot;\\&quot;,\\&quot;p14\\&quot;:\\&quot;\\&quot;,\\&quot;p15\\&quot;:\\&quot;\\&quot;,\\&quot;p16\\&quot;:\\&quot;\\&quot;,\\&quot;p17\\&quot;:\\&quot;\\&quot;,\\&quot;p18\\&quot;:\\&quot;\\&quot;,\\&quot;p19\\&quot;:\\&quot;\\&quot;,\\&quot;p20\\&quot;:\\&quot;\\&quot;}}&quot;;\r\n\r\nand this is decrypted string \r\n\r\nvendor_id=INT_GTW&amp;format=json&amp;msg_code=KBEX99&amp;data={&quot;header&quot;:{&quot;msg_code&quot;:&quot;KBEX99&quot;,&quot;source&quot;:&quot;INSTANTPAY&quot;,&quot;channel&quot;:&quot;CONBNK&quot;,&quot;txn_ref_number&quot;:&quot;INSTANTPAY_CONBNK_00001&quot;,&quot;txn_datetime&quot;:&quot;1498118309808&quot;,&quot;ip&quot;:&quot;1&quot;,&quot;device_id&quot;:&quot;XYWZPQR123&quot;,&quot;api_version&quot;:&quot;1.0.0&quot;},&quot;detail&quot;:{&quot;entity&quot;:&quot;INSTANTPAY&quot;,&quot;intent&quot;:&quot;REG&quot;,&quot;user_identifier&quot;:&quot;INSTANTPAY28423928&quot;,&quot;crn&quot;:&quot;105683710&quot;,&quot;p1&quot;:&quot;105683710&quot;,&quot;p2&quot;:&quot;&quot;,&quot;p3&quot;:&quot;INSTANTPAY&quot;,&quot;p4&quot;:&quot;&quot;,&quot;p5&quot;:&quot;&quot;,&quot;p6&quot;:&quot;&quot;,&quot;p7&quot;:&quot;&quot;,&quot;p8&quot;:&quot;&quot;,&quot;p9&quot;:&quot;&quot;,&quot;p10&quot;:&quot;&quot;,&quot;p11&quot;:&quot;&quot;,&quot;p12&quot;:&quot;&quot;,&quot;p13&quot;:&quot;&quot;,&quot;p14&quot;:&quot;&quot;,&quot;p15&quot;:&quot;&quot;,&quot;p16&quot;:&quot;&quot;,&quot;p17&quot;:&quot;&quot;,&quot;p18&quot;:&quot;&quot;,&quot;p19&quot;:&quot;&quot;,&quot;p20&quot;:&quot;&quot;}}\r\n\r\nbut when i am doing it in php and decrypting \r\n\r\n&quot;vendor_id=INT_GTW&amp;format=json&amp;msg_code=KBEX99&amp;data={\\&quot;header\\&quot;:{\\&quot;msg_code\\&quot;:\\&quot;KBEX99\\&quot;,\\&quot;source\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;channel\\&quot;:\\&quot;CONBNK\\&quot;,\\&quot;txn_ref_number\\&quot;:\\&quot;INSTANTPAY_CONBNK_00001\\&quot;,\\&quot;txn_datetime\\&quot;:\\&quot;1498118309808\\&quot;,\\&quot;ip\\&quot;:\\&quot;1\\&quot;,\\&quot;device_id\\&quot;:\\&quot;XYWZPQR123\\&quot;,\\&quot;api_version\\&quot;:\\&quot;1.0.0\\&quot;},\\&quot;detail\\&quot;:{\\&quot;entity\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;intent\\&quot;:\\&quot;REG\\&quot;,\\&quot;user_identifier\\&quot;:\\&quot;INSTANTPAY28423928\\&quot;,\\&quot;crn\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p1\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p2\\&quot;:\\&quot;\\&quot;,\\&quot;p3\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;p4\\&quot;:\\&quot;\\&quot;,\\&quot;p5\\&quot;:\\&quot;\\&quot;,\\&quot;p6\\&quot;:\\&quot;\\&quot;,\\&quot;p7\\&quot;:\\&quot;\\&quot;,\\&quot;p8\\&quot;:\\&quot;\\&quot;,\\&quot;p9\\&quot;:\\&quot;\\&quot;,\\&quot;p10\\&quot;:\\&quot;\\&quot;,\\&quot;p11\\&quot;:\\&quot;\\&quot;,\\&quot;p12\\&quot;:\\&quot;\\&quot;,\\&quot;p13\\&quot;:\\&quot;\\&quot;,\\&quot;p14\\&quot;:\\&quot;\\&quot;,\\&quot;p15\\&quot;:\\&quot;\\&quot;,\\&quot;p16\\&quot;:\\&quot;\\&quot;,\\&quot;p17\\&quot;:\\&quot;\\&quot;,\\&quot;p18\\&quot;:\\&quot;\\&quot;,\\&quot;p19\\&quot;:\\&quot;\\&quot;,\\&quot;p20\\&quot;:\\&quot;\\&quot;}}&quot;\r\n\r\ni am getting this\r\n`````\r\nSo any encryption decryption expert please help me in this ...\r\nThank you !!\r\n\r\n\r\n","title":"encryption code of java applied in PHP resulting in wrong decryption string","body":"<p>I am using one encryption/decryption method used in java and applying it in php . I have almost reached to the end but there is one mistake which I found that my decrypted string is not what i was expecting ,\nThis is my java code</p>\n<pre><code>private static final String ALGORITHM = &quot;AES/CBC/PKCS5Padding&quot;;\n    public static String encrypt(String message, String key) throws GeneralSecurityException, UnsupportedEncodingException {\n        if (message == null || key == null) {\n            throw new IllegalArgumentException(&quot;text to be encrypted and key should not be null&quot;);\n        }\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        byte[] messageArr = message.getBytes();\n        byte[] keyparam = key.getBytes();\n\n        SecretKeySpec keySpec = new SecretKeySpec(keyparam, &quot;AES&quot;);\n        byte[] ivParams = new byte[16];\n        byte[] encoded = new byte[messageArr.length + 16];\n        System.arraycopy(ivParams, 0, encoded, 0, 16);\n\n        System.arraycopy(messageArr, 0, encoded, 16, messageArr.length);\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\n        byte[] encryptedBytes = cipher.doFinal(encoded);\n\n        encryptedBytes = Base64.getEncoder().encode(encryptedBytes);\n\n        return new String(encryptedBytes);\n    }\n\n    public static String decrypt(String encryptedStr, String key) throws GeneralSecurityException, UnsupportedEncodingException {\n        if (encryptedStr == null || key == null) {\n            throw new IllegalArgumentException(&quot;text to be decrypted and key should not be null&quot;);\n        }\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        byte[] keyparam = key.getBytes();\n        SecretKeySpec keySpec = new SecretKeySpec(keyparam, &quot;AES&quot;);\n        byte[] encoded = encryptedStr.getBytes();\n        encoded = Base64.getDecoder().decode(encoded);\n        byte[] decodedEncrypted = new byte[encoded.length - 16];\n        System.arraycopy(encoded, 16, decodedEncrypted, 0, encoded.length - 16);\n        byte[] ivParams = new byte[16];\n        System.arraycopy(encoded, 0, ivParams, 0, ivParams.length);\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\n        byte[] decryptedBytes = cipher.doFinal(decodedEncrypted);\n        return new String(decryptedBytes);\n    }\n</code></pre>\n<p>now i have done this in php like this</p>\n<pre><code>$encKey = 'encryptionKey';\n$cipher = &quot;aes-256-cbc&quot;;\n$data = 'some data';\n\n$encryption_key = openssl_random_pseudo_bytes(32);\n\n$iv_size = openssl_cipher_iv_length($cipher);\n\n$iv = openssl_random_pseudo_bytes($iv_size);\n\n$ciphertext_raw = openssl_encrypt(json_encode($data), 'aes-256-cbc', $encKey, $options = OPENSSL_RAW_DATA, $iv);\n//$ciphertext_raw = openssl_encrypt(json_encode($data), $cipher, $encKey, $options=OPENSSL_RAW_DATA, $iv);\n\n$encrypted_data = base64_encode($iv . $ciphertext_raw);\n\nprint_r($encrypted_data);\n</code></pre>\n<p>now the problem is when i encrypt one string in php and decrypt it in java code it add some escape sequence but when i encrypt that same string in java and decrypt it in java it is proper and accurate and i am not sure why this is happening ... may be i am doing some thing wrong\nas I have to do this encryption in php using java code i am not sure that is this process going in right way or there is some error .</p>\n<p>this is the string which i am encrypting</p>\n<pre><code>String str = &quot;vendor_id=INT_GTW&amp;format=json&amp;msg_code=KBEX99&amp;data={\\&quot;header\\&quot;:{\\&quot;msg_code\\&quot;:\\&quot;KBEX99\\&quot;,\\&quot;source\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;channel\\&quot;:\\&quot;CONBNK\\&quot;,\\&quot;txn_ref_number\\&quot;:\\&quot;INSTANTPAY_CONBNK_00001\\&quot;,\\&quot;txn_datetime\\&quot;:\\&quot;1498118309808\\&quot;,\\&quot;ip\\&quot;:\\&quot;1\\&quot;,\\&quot;device_id\\&quot;:\\&quot;XYWZPQR123\\&quot;,\\&quot;api_version\\&quot;:\\&quot;1.0.0\\&quot;},\\&quot;detail\\&quot;:{\\&quot;entity\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;intent\\&quot;:\\&quot;REG\\&quot;,\\&quot;user_identifier\\&quot;:\\&quot;INSTANTPAY28423928\\&quot;,\\&quot;crn\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p1\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p2\\&quot;:\\&quot;\\&quot;,\\&quot;p3\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;p4\\&quot;:\\&quot;\\&quot;,\\&quot;p5\\&quot;:\\&quot;\\&quot;,\\&quot;p6\\&quot;:\\&quot;\\&quot;,\\&quot;p7\\&quot;:\\&quot;\\&quot;,\\&quot;p8\\&quot;:\\&quot;\\&quot;,\\&quot;p9\\&quot;:\\&quot;\\&quot;,\\&quot;p10\\&quot;:\\&quot;\\&quot;,\\&quot;p11\\&quot;:\\&quot;\\&quot;,\\&quot;p12\\&quot;:\\&quot;\\&quot;,\\&quot;p13\\&quot;:\\&quot;\\&quot;,\\&quot;p14\\&quot;:\\&quot;\\&quot;,\\&quot;p15\\&quot;:\\&quot;\\&quot;,\\&quot;p16\\&quot;:\\&quot;\\&quot;,\\&quot;p17\\&quot;:\\&quot;\\&quot;,\\&quot;p18\\&quot;:\\&quot;\\&quot;,\\&quot;p19\\&quot;:\\&quot;\\&quot;,\\&quot;p20\\&quot;:\\&quot;\\&quot;}}&quot;;\n\nand this is decrypted string \n\nvendor_id=INT_GTW&amp;format=json&amp;msg_code=KBEX99&amp;data={&quot;header&quot;:{&quot;msg_code&quot;:&quot;KBEX99&quot;,&quot;source&quot;:&quot;INSTANTPAY&quot;,&quot;channel&quot;:&quot;CONBNK&quot;,&quot;txn_ref_number&quot;:&quot;INSTANTPAY_CONBNK_00001&quot;,&quot;txn_datetime&quot;:&quot;1498118309808&quot;,&quot;ip&quot;:&quot;1&quot;,&quot;device_id&quot;:&quot;XYWZPQR123&quot;,&quot;api_version&quot;:&quot;1.0.0&quot;},&quot;detail&quot;:{&quot;entity&quot;:&quot;INSTANTPAY&quot;,&quot;intent&quot;:&quot;REG&quot;,&quot;user_identifier&quot;:&quot;INSTANTPAY28423928&quot;,&quot;crn&quot;:&quot;105683710&quot;,&quot;p1&quot;:&quot;105683710&quot;,&quot;p2&quot;:&quot;&quot;,&quot;p3&quot;:&quot;INSTANTPAY&quot;,&quot;p4&quot;:&quot;&quot;,&quot;p5&quot;:&quot;&quot;,&quot;p6&quot;:&quot;&quot;,&quot;p7&quot;:&quot;&quot;,&quot;p8&quot;:&quot;&quot;,&quot;p9&quot;:&quot;&quot;,&quot;p10&quot;:&quot;&quot;,&quot;p11&quot;:&quot;&quot;,&quot;p12&quot;:&quot;&quot;,&quot;p13&quot;:&quot;&quot;,&quot;p14&quot;:&quot;&quot;,&quot;p15&quot;:&quot;&quot;,&quot;p16&quot;:&quot;&quot;,&quot;p17&quot;:&quot;&quot;,&quot;p18&quot;:&quot;&quot;,&quot;p19&quot;:&quot;&quot;,&quot;p20&quot;:&quot;&quot;}}\n\nbut when i am doing it in php and decrypting \n\n&quot;vendor_id=INT_GTW&amp;format=json&amp;msg_code=KBEX99&amp;data={\\&quot;header\\&quot;:{\\&quot;msg_code\\&quot;:\\&quot;KBEX99\\&quot;,\\&quot;source\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;channel\\&quot;:\\&quot;CONBNK\\&quot;,\\&quot;txn_ref_number\\&quot;:\\&quot;INSTANTPAY_CONBNK_00001\\&quot;,\\&quot;txn_datetime\\&quot;:\\&quot;1498118309808\\&quot;,\\&quot;ip\\&quot;:\\&quot;1\\&quot;,\\&quot;device_id\\&quot;:\\&quot;XYWZPQR123\\&quot;,\\&quot;api_version\\&quot;:\\&quot;1.0.0\\&quot;},\\&quot;detail\\&quot;:{\\&quot;entity\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;intent\\&quot;:\\&quot;REG\\&quot;,\\&quot;user_identifier\\&quot;:\\&quot;INSTANTPAY28423928\\&quot;,\\&quot;crn\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p1\\&quot;:\\&quot;105683710\\&quot;,\\&quot;p2\\&quot;:\\&quot;\\&quot;,\\&quot;p3\\&quot;:\\&quot;INSTANTPAY\\&quot;,\\&quot;p4\\&quot;:\\&quot;\\&quot;,\\&quot;p5\\&quot;:\\&quot;\\&quot;,\\&quot;p6\\&quot;:\\&quot;\\&quot;,\\&quot;p7\\&quot;:\\&quot;\\&quot;,\\&quot;p8\\&quot;:\\&quot;\\&quot;,\\&quot;p9\\&quot;:\\&quot;\\&quot;,\\&quot;p10\\&quot;:\\&quot;\\&quot;,\\&quot;p11\\&quot;:\\&quot;\\&quot;,\\&quot;p12\\&quot;:\\&quot;\\&quot;,\\&quot;p13\\&quot;:\\&quot;\\&quot;,\\&quot;p14\\&quot;:\\&quot;\\&quot;,\\&quot;p15\\&quot;:\\&quot;\\&quot;,\\&quot;p16\\&quot;:\\&quot;\\&quot;,\\&quot;p17\\&quot;:\\&quot;\\&quot;,\\&quot;p18\\&quot;:\\&quot;\\&quot;,\\&quot;p19\\&quot;:\\&quot;\\&quot;,\\&quot;p20\\&quot;:\\&quot;\\&quot;}}&quot;\n\ni am getting this\n</code></pre>\n<p>So any encryption decryption expert please help me in this ...\nThank you !!</p>\n"},{"tags":["java","hmacsha256"],"comments":[{"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"score":0,"creation_date":1660038784,"post_id":73289755,"comment_id":129432730,"body_markdown":"Can you paste a screenshot or exact error trace ??","body":"Can you paste a screenshot or exact error trace ??"},{"owner":{"account_id":13085857,"reputation":93,"user_id":9454848,"display_name":"Sanish Maharjan"},"score":0,"creation_date":1660039425,"post_id":73289755,"comment_id":129432958,"body_markdown":"I have custom validation to validate if signature sent from caller module in header differ from that generated hash from request in called module then throw RuntimeException. In prod environment, every case where unicode is present in request application throws this exception.","body":"I have custom validation to validate if signature sent from caller module in header differ from that generated hash from request in called module then throw RuntimeException. In prod environment, every case where unicode is present in request application throws this exception."},{"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"score":0,"creation_date":1660039638,"post_id":73289755,"comment_id":129433041,"body_markdown":"So you are matching whether the hash the caller sends and the hash generated for request match or not.\nIf this works on test environment, then it seems that its about incorrect values of environment variables configured in your prod env. Check those.","body":"So you are matching whether the hash the caller sends and the hash generated for request match or not. If this works on test environment, then it seems that its about incorrect values of environment variables configured in your prod env. Check those."},{"owner":{"account_id":13085857,"reputation":93,"user_id":9454848,"display_name":"Sanish Maharjan"},"score":0,"creation_date":1660039719,"post_id":73289755,"comment_id":129433068,"body_markdown":"Yes exactly. Problem is that I am not able to replicate in local or in test environment.","body":"Yes exactly. Problem is that I am not able to replicate in local or in test environment."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1660044517,"post_id":73289755,"comment_id":129434668,"body_markdown":"Does ```System.out.println(System.getProperty(&quot;file.encoding&quot;));``` differ between prod and dev?","body":"Does <code>System.out.println(System.getProperty(&quot;file.encoding&quot;));</code> differ between prod and dev?"},{"owner":{"account_id":13085857,"reputation":93,"user_id":9454848,"display_name":"Sanish Maharjan"},"score":0,"creation_date":1660130539,"post_id":73289755,"comment_id":129458857,"body_markdown":"Its same for both environment.","body":"Its same for both environment."}],"owner":{"account_id":13085857,"reputation":93,"user_id":9454848,"display_name":"Sanish Maharjan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660039953,"creation_date":1660038432,"question_id":73289755,"body_markdown":"While calling from one module to another I am facing hash mismatch issue. Hash is first generated in caller module using request parameters and sent to called module in Request Header. Called module then generates hash from request and validates if newly generated hash matches or not. While verifying in test environment it works fine but still facing issue in prod environment. I am using RestTemplate for HTTP call and HMAC with SHA256 for hashing. I have also tried adding httpMessageConverter for unicode support but still facing the issue.\r\n\r\n1) Hash matches if unicode value is removed.\r\n2) Hash matches in test environment but fails in prod even if all the configurations are same like java version, tomcat version and so on.\r\n3) Tried adding message converters but still facing the isssue.\r\n \r\n\r\n       RestTemplate restTemplate = new RestTemplate();\r\n        restTemplate.getMessageConverters()\r\n                .add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8)); ","title":"Hash mismatch when unicode value is present","body":"<p>While calling from one module to another I am facing hash mismatch issue. Hash is first generated in caller module using request parameters and sent to called module in Request Header. Called module then generates hash from request and validates if newly generated hash matches or not. While verifying in test environment it works fine but still facing issue in prod environment. I am using RestTemplate for HTTP call and HMAC with SHA256 for hashing. I have also tried adding httpMessageConverter for unicode support but still facing the issue.</p>\n<ol>\n<li><p>Hash matches if unicode value is removed.</p>\n</li>\n<li><p>Hash matches in test environment but fails in prod even if all the configurations are same like java version, tomcat version and so on.</p>\n</li>\n<li><p>Tried adding message converters but still facing the isssue.</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n restTemplate.getMessageConverters()\n         .add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8)); \n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1655192904,"post_id":72613213,"comment_id":128267345,"body_markdown":"What do you think `new SessionHandling()` with a subsequent `repo.save(sessionHandling);` will do? How do you think the repository would know it should update a specific record instead of adding a new one? - One thing you could do is first read the record by mail id, then add the OTP and save it again. Or use an update query so you don&#39;t have to read.","body":"What do you think <code>new SessionHandling()</code> with a subsequent <code>repo.save(sessionHandling);</code> will do? How do you think the repository would know it should update a specific record instead of adding a new one? - One thing you could do is first read the record by mail id, then add the OTP and save it again. Or use an update query so you don&#39;t have to read."},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1655193027,"post_id":72613213,"comment_id":128267386,"body_markdown":"That&#39;s it, a new row is created as you create a new object ( new `SessionHandling `). Do you use JPA repositories?","body":"That&#39;s it, a new row is created as you create a new object ( new <code>SessionHandling </code>). Do you use JPA repositories?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1655193093,"post_id":72613213,"comment_id":128267417,"body_markdown":"Btw, you&#39;re probably doing this for learning purposes so keep it simple. But when doing this in production you&#39;d have a big security hole in that design: the OTP (and any other password) should _never_ be stored in plain text but rather be hashed and salted so only the user knows it.","body":"Btw, you&#39;re probably doing this for learning purposes so keep it simple. But when doing this in production you&#39;d have a big security hole in that design: the OTP (and any other password) should <i>never</i> be stored in plain text but rather be hashed and salted so only the user knows it."},{"owner":{"account_id":24170680,"reputation":25,"user_id":18132793,"display_name":"Harshit Toxia"},"score":0,"creation_date":1655197849,"post_id":72613213,"comment_id":128269143,"body_markdown":"@Jedupont yes i have made Repository class","body":"@Jedupont yes i have made Repository class"},{"owner":{"account_id":24170680,"reputation":25,"user_id":18132793,"display_name":"Harshit Toxia"},"score":0,"creation_date":1655197909,"post_id":72613213,"comment_id":128269164,"body_markdown":"@Thomas now for learning purpose I am storing password directly.","body":"@Thomas now for learning purpose I am storing password directly."},{"owner":{"account_id":24170680,"reputation":25,"user_id":18132793,"display_name":"Harshit Toxia"},"score":0,"creation_date":1655197970,"post_id":72613213,"comment_id":128269188,"body_markdown":"@Thomas can you tell me how can I update ? Can you give me the syntax of it??","body":"@Thomas can you tell me how can I update ? Can you give me the syntax of it??"}],"answers":[{"tags":[],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655198271,"creation_date":1655198271,"answer_id":72614457,"question_id":72613213,"body_markdown":"As already explained by @Thomas, you should always hash your passwords in production.\r\n\r\nHowever, here is an example to update the otp using JPA repositories:\r\n```java\r\n@Repository\r\npublic interface SessionHandlingRepository extends JpaRepository&lt;SessionHandling, Long&gt; {\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;UPDATE SessionHandling s SET s.otp = :otpCode WHERE s.id = :id&quot;)\r\n    void updateOtp(@Param(&quot;id&quot;) Long whereId, @Param(&quot;otpCode&quot;) String otp);\r\n}\r\n```","title":"How to set a data for a particular row in springboot","body":"<p>As already explained by @Thomas, you should always hash your passwords in production.</p>\n<p>However, here is an example to update the otp using JPA repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface SessionHandlingRepository extends JpaRepository&lt;SessionHandling, Long&gt; {\n    @Transactional\n    @Modifying\n    @Query(value = &quot;UPDATE SessionHandling s SET s.otp = :otpCode WHERE s.id = :id&quot;)\n    void updateOtp(@Param(&quot;id&quot;) Long whereId, @Param(&quot;otpCode&quot;) String otp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21384686,"reputation":1,"user_id":15750002,"display_name":"Jatin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660039819,"creation_date":1655201311,"answer_id":72615140,"question_id":72613213,"body_markdown":"Firstly you have to store data in sessionhandling class related to that particular emailId and then set otp and save it.\r\n\r\nMake repository class with method **findByEmailID()** in it.\r\n\r\n**xyzrepo.class**\r\n\r\n    @Query(value = &quot;Select * from sessionhandling where emailId=?1&quot;,nativeQuery = true)\r\n    SessionHandling findByEmailId(String emailId);\r\n\r\nAnd Your method SendOtp look like:\r\n\r\n\r\n    //Autowired xyzrepo\r\n\r\n    public String sendOtp(@RequestParam(&quot;email&quot;) String email) {\r\n            \r\n        //  int otp = random.nextInt(999999);\r\n    \r\n            String otp = RandomString.make(8);\r\n            \r\n            String subject = &quot;OTP from session-handling-proj By Harshit&quot;;\r\n            String toEmail = email;\r\n            String body = &quot;OTP :  &quot; + otp;\r\n            \r\n                 \r\n            SessionHandling sessionHandling = xyzrepo.findByEmailId(email);\r\n            sessionHandling.setOneTimePassword(otp);\r\n            repo.save(sessionHandling);\r\n            \r\n               this.emailService.sendMail(toEmail, subject, body);\r\n              return (&quot;success&quot;);","title":"How to set a data for a particular row in springboot","body":"<p>Firstly you have to store data in sessionhandling class related to that particular emailId and then set otp and save it.</p>\n<p>Make repository class with method <strong>findByEmailID()</strong> in it.</p>\n<p><strong>xyzrepo.class</strong></p>\n<pre><code>@Query(value = &quot;Select * from sessionhandling where emailId=?1&quot;,nativeQuery = true)\nSessionHandling findByEmailId(String emailId);\n</code></pre>\n<p>And Your method SendOtp look like:</p>\n<pre><code>//Autowired xyzrepo\n\npublic String sendOtp(@RequestParam(&quot;email&quot;) String email) {\n        \n    //  int otp = random.nextInt(999999);\n\n        String otp = RandomString.make(8);\n        \n        String subject = &quot;OTP from session-handling-proj By Harshit&quot;;\n        String toEmail = email;\n        String body = &quot;OTP :  &quot; + otp;\n        \n             \n        SessionHandling sessionHandling = xyzrepo.findByEmailId(email);\n        sessionHandling.setOneTimePassword(otp);\n        repo.save(sessionHandling);\n        \n           this.emailService.sendMail(toEmail, subject, body);\n          return (&quot;success&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9102039,"reputation":44,"user_id":6773869,"display_name":"Amro Nahas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655364016,"creation_date":1655364016,"answer_id":72641921,"question_id":72613213,"body_markdown":"you have 2 cases  :\r\n**Case 1**  : do you save only one record for mail Id or may have many records for each login operation. \r\nbased on your business will create the query  \r\nif only one record : \r\nand you are sure that email exists in Db please use this code  \r\n```` \r\n@Repository\r\npublic interface SessionHandlingRepository extends JpaRepository&lt;SessionHandling, Long&gt; {\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;UPDATE SessionHandling s SET s.otp = :otpCode WHERE s.emailid= :emailId&quot;)\r\n    void updateOtp(@Param(&quot;emailId&quot;) String mailId, @Param(&quot;otpCode&quot;) String otp);\r\n}\r\n````\r\n\r\nIf you are not sure,  \r\n\r\nSo  you have to save a new Record for all details \r\n\r\n**case 2:**   many records allowed for mail  : \r\nso you also have to create a new record for SessionHandling  for  emailed and new Otp \r\n \r\n \r\n","title":"How to set a data for a particular row in springboot","body":"<p>you have 2 cases  :\n<strong>Case 1</strong>  : do you save only one record for mail Id or may have many records for each login operation.\nbased on your business will create the query<br />\nif only one record :\nand you are sure that email exists in Db please use this code</p>\n<pre><code>@Repository\npublic interface SessionHandlingRepository extends JpaRepository&lt;SessionHandling, Long&gt; {\n    @Transactional\n    @Modifying\n    @Query(value = &quot;UPDATE SessionHandling s SET s.otp = :otpCode WHERE s.emailid= :emailId&quot;)\n    void updateOtp(@Param(&quot;emailId&quot;) String mailId, @Param(&quot;otpCode&quot;) String otp);\n}\n</code></pre>\n<p>If you are not sure,</p>\n<p>So  you have to save a new Record for all details</p>\n<p><strong>case 2:</strong>   many records allowed for mail  :\nso you also have to create a new record for SessionHandling  for  emailed and new Otp</p>\n"}],"owner":{"account_id":24170680,"reputation":25,"user_id":18132793,"display_name":"Harshit Toxia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72614457,"answer_count":3,"score":0,"last_activity_date":1660039819,"creation_date":1655192687,"question_id":72613213,"body_markdown":"I made a login page were I am getting user Email id,  and then I am generating a otp and sending to the user mail. Now I want to save the generated otp in database to the particular user by using his mailid. But the problem is when I am saving otp in database it is not storing in the given mailid, and I am not able to figure it out.\r\n\r\n\r\nMy code:\r\n\r\n\r\nSendOtp code :\r\n\r\n```\r\npublic String sendOtp(@RequestParam(&quot;email&quot;) String email) {\r\n\t\t\r\n\t//\tint otp = random.nextInt(999999);\r\n\r\n\t    String otp = RandomString.make(8);\r\n\t\t\r\n\t\tString subject = &quot;OTP from session-handling-proj By Harshit&quot;;\r\n\t\tString toEmail = email;\r\n\t\tString body = &quot;OTP :  &quot; + otp;\r\n\t\t\r\n\t\t     \r\n\t\tSessionHandling sessionHandling = new SessionHandling();\r\n\t\tsessionHandling.setOneTimePassword(otp);\r\n\t\trepo.save(sessionHandling);\r\n\t\t\r\n\t\t   this.emailService.sendMail(toEmail, subject, body);\r\n\t\t  return (&quot;success&quot;);\r\n```\r\n\r\n\r\nDatabase : \r\n\r\n```\r\nId | password | emailid             | name    | Cpass      |  otp              | time\r\n\r\n8 | 123        | shy@gmail.com      | shymm   | 123        | NULL              | NULL               \r\n9 | NULL       | NULL               | NULL    | NULL       | Wi0ioiuZ          | NULL   \r\n10 | NULL       | NULL               | NULL    | NULL       | R98RT1OZ          | NULL\r\n\r\n\r\n```\r\n\r\nWhen I had tried storing otp it made new row  i.e 9 &amp; 10. ","title":"How to set a data for a particular row in springboot","body":"<p>I made a login page were I am getting user Email id,  and then I am generating a otp and sending to the user mail. Now I want to save the generated otp in database to the particular user by using his mailid. But the problem is when I am saving otp in database it is not storing in the given mailid, and I am not able to figure it out.</p>\n<p>My code:</p>\n<p>SendOtp code :</p>\n<pre><code>public String sendOtp(@RequestParam(&quot;email&quot;) String email) {\n        \n    //  int otp = random.nextInt(999999);\n\n        String otp = RandomString.make(8);\n        \n        String subject = &quot;OTP from session-handling-proj By Harshit&quot;;\n        String toEmail = email;\n        String body = &quot;OTP :  &quot; + otp;\n        \n             \n        SessionHandling sessionHandling = new SessionHandling();\n        sessionHandling.setOneTimePassword(otp);\n        repo.save(sessionHandling);\n        \n           this.emailService.sendMail(toEmail, subject, body);\n          return (&quot;success&quot;);\n</code></pre>\n<p>Database :</p>\n<pre><code>Id | password | emailid             | name    | Cpass      |  otp              | time\n\n8 | 123        | shy@gmail.com      | shymm   | 123        | NULL              | NULL               \n9 | NULL       | NULL               | NULL    | NULL       | Wi0ioiuZ          | NULL   \n10 | NULL       | NULL               | NULL    | NULL       | R98RT1OZ          | NULL\n\n\n</code></pre>\n<p>When I had tried storing otp it made new row  i.e 9 &amp; 10.</p>\n"},{"tags":["java","tomcat","jvm","tomcat6"],"answers":[{"tags":[],"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"down_vote_count":0,"up_vote_count":180,"is_accepted":true,"score":180,"last_activity_date":1660039523,"creation_date":1340786299,"answer_id":11222367,"question_id":11222365,"body_markdown":"There are two environment variables - `CATALINA_OPTS` and `JAVA_OPTS` - which are both used in the `catalina.sh` startup and shutdown script for Tomcat.\r\n\r\n**CATALINA_OPTS**: [Comment inside catalina.sh](https://github.com/apache/tomcat/blob/main/bin/catalina.sh#L47):\r\n```bash\r\n#   CATALINA_OPTS   (Optional) Java runtime options used when the &quot;start&quot;,\r\n#                   &quot;run&quot; or &quot;debug&quot; command is executed.\r\n#                   Include here and not in JAVA_OPTS all options, that should\r\n#                   only be used by Tomcat itself, not by the stop process,\r\n#                   the version command etc.\r\n#                   Examples are heap size, GC logging, JMX ports etc.\r\n```\r\n\r\n**JAVA_OPTS**: [Comment inside catalina.sh](https://github.com/apache/tomcat/blob/main/bin/catalina.sh#L65):\r\n```bash\r\n#   JAVA_OPTS       (Optional) Java runtime options used when any command\r\n#                   is executed.\r\n#                   Include here and not in CATALINA_OPTS all options, that\r\n#                   should be used by Tomcat and also by the stop process,\r\n#                   the version command etc.\r\n#                   Most options should go into CATALINA_OPTS.\r\n```\r\n\r\n\r\n**So why are there two different variables? And what&#39;s the difference?**\r\n\r\n1. Firstly, anything specified in EITHER variable is passed, identically, to the command that starts up Tomcat - the `start` or `run` command - but only values set in `JAVA_OPTS` are passed to the `stop` command. That probably doesn&#39;t make any difference to how Tomcat runs in practice as it only effects the END of a run, not the start.\r\n\r\n2. The second difference is more subtle. Other applications may also use `JAVA_OPTS`, but only Tomcat will use `CATALINA_OPTS`. So if you&#39;re setting environment variables for use only by Tomcat, you&#39;ll be best advised to use `CATALINA_OPTS`, whereas if you&#39;re setting environment variables to be used by other java applications as well, such as by JBoss, you should put your settings in `JAVA_OPTS`.\r\n\r\n**Source:** [CATALINA_OPTS v JAVA_OPTS - What is the difference?][1]\r\n\r\n\r\n  [1]: http://www.wellho.net/mouth/2163_CATALINA-OPTS-v-JAVA-OPTS-What-is-the-difference-.html &quot;CATALINA_OPTS v JAVA_OPTS - What is the difference?&quot;","title":"CATALINA_OPTS vs JAVA_OPTS - What is the difference?","body":"<p>There are two environment variables - <code>CATALINA_OPTS</code> and <code>JAVA_OPTS</code> - which are both used in the <code>catalina.sh</code> startup and shutdown script for Tomcat.</p>\n<p><strong>CATALINA_OPTS</strong>: <a href=\"https://github.com/apache/tomcat/blob/main/bin/catalina.sh#L47\" rel=\"noreferrer\">Comment inside catalina.sh</a>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#   CATALINA_OPTS   (Optional) Java runtime options used when the &quot;start&quot;,\n#                   &quot;run&quot; or &quot;debug&quot; command is executed.\n#                   Include here and not in JAVA_OPTS all options, that should\n#                   only be used by Tomcat itself, not by the stop process,\n#                   the version command etc.\n#                   Examples are heap size, GC logging, JMX ports etc.\n</code></pre>\n<p><strong>JAVA_OPTS</strong>: <a href=\"https://github.com/apache/tomcat/blob/main/bin/catalina.sh#L65\" rel=\"noreferrer\">Comment inside catalina.sh</a>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#   JAVA_OPTS       (Optional) Java runtime options used when any command\n#                   is executed.\n#                   Include here and not in CATALINA_OPTS all options, that\n#                   should be used by Tomcat and also by the stop process,\n#                   the version command etc.\n#                   Most options should go into CATALINA_OPTS.\n</code></pre>\n<p><strong>So why are there two different variables? And what's the difference?</strong></p>\n<ol>\n<li><p>Firstly, anything specified in EITHER variable is passed, identically, to the command that starts up Tomcat - the <code>start</code> or <code>run</code> command - but only values set in <code>JAVA_OPTS</code> are passed to the <code>stop</code> command. That probably doesn't make any difference to how Tomcat runs in practice as it only effects the END of a run, not the start.</p>\n</li>\n<li><p>The second difference is more subtle. Other applications may also use <code>JAVA_OPTS</code>, but only Tomcat will use <code>CATALINA_OPTS</code>. So if you're setting environment variables for use only by Tomcat, you'll be best advised to use <code>CATALINA_OPTS</code>, whereas if you're setting environment variables to be used by other java applications as well, such as by JBoss, you should put your settings in <code>JAVA_OPTS</code>.</p>\n</li>\n</ol>\n<p><strong>Source:</strong> <a href=\"http://www.wellho.net/mouth/2163_CATALINA-OPTS-v-JAVA-OPTS-What-is-the-difference-.html\" rel=\"noreferrer\" title=\"CATALINA_OPTS v JAVA_OPTS - What is the difference?\">CATALINA_OPTS v JAVA_OPTS - What is the difference?</a></p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1603216325,"creation_date":1603216325,"answer_id":64450756,"question_id":11222365,"body_markdown":"Durung shutdown, tomcat launches mutiple vm as explain in comment by @joao. \r\nIf you are recording some data during tomcat shutdowm, use CATALINA_OPTS not JAVA_OPTS. A great example is when I want save the data during jacoco.exec, I should be using CATALINA_OPTS not JAVA_OPTS.","title":"CATALINA_OPTS vs JAVA_OPTS - What is the difference?","body":"<p>Durung shutdown, tomcat launches mutiple vm as explain in comment by @joao.\nIf you are recording some data during tomcat shutdowm, use CATALINA_OPTS not JAVA_OPTS. A great example is when I want save the data during jacoco.exec, I should be using CATALINA_OPTS not JAVA_OPTS.</p>\n"},{"tags":[],"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642675080,"creation_date":1642669341,"answer_id":70783358,"question_id":11222365,"body_markdown":"I&#39;d like to add that `JAVA_OPTS` and `CATALINA_OPTS` are **mutually complemental**: If you define both environment variables, the **content of both will be concatenated** and passed to the `start` and `run` command - as explained by Gnanam above.\r\n\r\nYou can also refer to the [original source of catalina.sh][1]\r\n\r\n\r\n  [1]: https://github.com/apache/tomcat/blob/6666b63bc4d4b41a23b211196a7be9b98449e93c/bin/catalina.bat#L344","title":"CATALINA_OPTS vs JAVA_OPTS - What is the difference?","body":"<p>I'd like to add that <code>JAVA_OPTS</code> and <code>CATALINA_OPTS</code> are <strong>mutually complemental</strong>: If you define both environment variables, the <strong>content of both will be concatenated</strong> and passed to the <code>start</code> and <code>run</code> command - as explained by Gnanam above.</p>\n<p>You can also refer to the <a href=\"https://github.com/apache/tomcat/blob/6666b63bc4d4b41a23b211196a7be9b98449e93c/bin/catalina.bat#L344\" rel=\"nofollow noreferrer\">original source of catalina.sh</a></p>\n"}],"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99075,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":11222367,"answer_count":3,"score":126,"last_activity_date":1660039523,"creation_date":1340786298,"question_id":11222365,"body_markdown":"I was trying to find out the difference between Apache Tomcat variables - `CATALINA_OPTS` and `JAVA_OPTS` in [SO][1] and surprised to see that there is no question/answer posted here yet.  So I thought of sharing it here (with answer) after finding out the difference.  Check the answer/difference below.\r\n\r\n**NOTE:** At the time of this posting, we&#39;re running Apache Tomcat v6.0.10 with JDK 6u32 on CentOS5 64-bit arch.\r\n\r\n  [1]: http://stackoverflow.com &quot;StackOverflow&quot;","title":"CATALINA_OPTS vs JAVA_OPTS - What is the difference?","body":"<p>I was trying to find out the difference between Apache Tomcat variables - <code>CATALINA_OPTS</code> and <code>JAVA_OPTS</code> in <a href=\"http://stackoverflow.com\" title=\"StackOverflow\">SO</a> and surprised to see that there is no question/answer posted here yet.  So I thought of sharing it here (with answer) after finding out the difference.  Check the answer/difference below.</p>\n\n<p><strong>NOTE:</strong> At the time of this posting, we're running Apache Tomcat v6.0.10 with JDK 6u32 on CentOS5 64-bit arch.</p>\n"},{"tags":["java","hibernate","hana"],"answers":[{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569301790,"creation_date":1569301790,"answer_id":58073413,"question_id":58072890,"body_markdown":"You can do this using `@ColumnTransformer`\n\n     @Column(name = &quot;email&quot;) \n    @ColumnTransformer(write = &quot;LOWER(email)&quot;) \n     private String email;","title":"how to make values of column in entity class as lower case while storing using Annotation","body":"<p>You can do this using <code>@ColumnTransformer</code></p>\n\n<pre><code> @Column(name = \"email\") \n@ColumnTransformer(write = \"LOWER(email)\") \n private String email;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24753308,"reputation":1,"user_id":18638502,"display_name":"D L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648710761,"creation_date":1648696114,"answer_id":71686447,"question_id":58072890,"body_markdown":"I try this and it works:\r\n\r\n\r\n    @Column\r\n    @ColumnTransformer(write = &quot;LOWER(?)&quot;) \r\n    private String email;\r\nexpression of @ColumnTransformer.write would replace the original &quot;?&quot; placeholder in persisting sql statement. So must provide a compliant-sql expression with &quot;?&quot;:\r\n\r\n    insert into member (email) values (?)\r\n\r\n    ----&gt;\r\n\r\n    insert into member (email) values (LOWER(?))\r\n\r\ndetail usage: https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/annotations/ColumnTransformer.html","title":"how to make values of column in entity class as lower case while storing using Annotation","body":"<p>I try this and it works:</p>\n<pre><code>@Column\n@ColumnTransformer(write = &quot;LOWER(?)&quot;) \nprivate String email;\n</code></pre>\n<p>expression of @ColumnTransformer.write would replace the original &quot;?&quot; placeholder in persisting sql statement. So must provide a compliant-sql expression with &quot;?&quot;:</p>\n<pre><code>insert into member (email) values (?)\n\n----&gt;\n\ninsert into member (email) values (LOWER(?))\n</code></pre>\n<p>detail usage: <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/annotations/ColumnTransformer.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/annotations/ColumnTransformer.html</a></p>\n"}],"owner":{"account_id":15452241,"reputation":11,"user_id":11789819,"display_name":"raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660039423,"creation_date":1569297447,"question_id":58072890,"body_markdown":"&gt; I want an entity class through which I can store data to DB, for\r\n&gt; specific columns I want in case-sensitive, is there any annotation to\r\n&gt; be used above these specific columns to store as requested? please let\r\n&gt; me if the question is not clear,Thanks in advance.\r\n\r\n    @Column(name = &quot;EMAIL&quot;,unique=true)  //i want store this email id as lower case,\r\n    private String email;               //never mind in what case user enters\r\n\r\n","title":"how to make values of column in entity class as lower case while storing using Annotation","body":"<blockquote>\n  <p>I want an entity class through which I can store data to DB, for\n  specific columns I want in case-sensitive, is there any annotation to\n  be used above these specific columns to store as requested? please let\n  me if the question is not clear,Thanks in advance.</p>\n</blockquote>\n\n<pre><code>@Column(name = \"EMAIL\",unique=true)  //i want store this email id as lower case,\nprivate String email;               //never mind in what case user enters\n</code></pre>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660038007,"post_id":73289503,"comment_id":129432437,"body_markdown":"what request are we talking about? It&#39;s hard to get an idea if you only give half the context","body":"what request are we talking about? It&#39;s hard to get an idea if you only give half the context"},{"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"score":0,"creation_date":1660038393,"post_id":73289503,"comment_id":129432587,"body_markdown":"on the top of my question\n`I get request like http://localhost:8080?sortBy=&amp;sortDir=&amp;page=10`","body":"on the top of my question <code>I get request like http:&#47;&#47;localhost:8080?sortBy=&amp;sortDir=&amp;page=10</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660039004,"post_id":73289503,"comment_id":129432793,"body_markdown":"that&#39;s an url, not a request","body":"that&#39;s an url, not a request"},{"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"score":0,"creation_date":1660039753,"post_id":73289503,"comment_id":129433078,"body_markdown":"Excuse me, if I wrong. How should I show request correctly?","body":"Excuse me, if I wrong. How should I show request correctly?"}],"answers":[{"tags":[],"owner":{"account_id":11619749,"reputation":171,"user_id":8511385,"display_name":"Deepesh Dagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660038861,"creation_date":1660038861,"answer_id":73289838,"question_id":73289503,"body_markdown":"Can simply assign default value like below : \r\n\r\n    @Data\r\n    public class Pageable {\r\n\r\n     @QueryParam(&quot;sortBy&quot;)\r\n     private String sortBy = &quot;1&quot;;\r\n\r\n     @QueryParam(&quot;sortDir&quot;)\r\n     private String sortDir = &quot;ASC&quot;;\r\n\r\n     private int page;\r\n    }","title":"@DefaultValue return empty string","body":"<p>Can simply assign default value like below :</p>\n<pre><code>@Data\npublic class Pageable {\n\n @QueryParam(&quot;sortBy&quot;)\n private String sortBy = &quot;1&quot;;\n\n @QueryParam(&quot;sortDir&quot;)\n private String sortDir = &quot;ASC&quot;;\n\n private int page;\n}\n</code></pre>\n"}],"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1660038861,"creation_date":1660037447,"question_id":73289503,"body_markdown":"I get request like \r\nhttp://localhost:8080?sortBy=&amp;sortDir=&amp;page=10\r\n\r\njavax.ws.rs.DefaultValue understand\r\n\r\nMy controller looks like\r\n\r\n    public class MyController {\r\n        public Response test(@BeanParam Pageable params){\r\n    \r\n        ...\r\n        }\r\n    }\r\n\r\n    @Data\r\n    public class Pageable {\r\n    \r\n        @QueryParam(&quot;sortBy&quot;)\r\n        @DefaultValue(&quot;1&quot;)\r\n        private String sortBy;\r\n    \r\n        @QueryParam(&quot;sortDir&quot;)\r\n        @DefaultValue(&quot;ASC&quot;)\r\n        private String sortDir;\r\n    \r\n        private int page;\r\n    }\r\n\r\nAnd under the hood you can find, that java  check if parameter == null it put my default value, but in my request I have &quot;&quot; - empty string.\r\n\r\nHow to workaround situation with DefaultValue?","title":"@DefaultValue return empty string","body":"<p>I get request like\nhttp://localhost:8080?sortBy=&amp;sortDir=&amp;page=10</p>\n<p>javax.ws.rs.DefaultValue understand</p>\n<p>My controller looks like</p>\n<pre><code>public class MyController {\n    public Response test(@BeanParam Pageable params){\n\n    ...\n    }\n}\n\n@Data\npublic class Pageable {\n\n    @QueryParam(&quot;sortBy&quot;)\n    @DefaultValue(&quot;1&quot;)\n    private String sortBy;\n\n    @QueryParam(&quot;sortDir&quot;)\n    @DefaultValue(&quot;ASC&quot;)\n    private String sortDir;\n\n    private int page;\n}\n</code></pre>\n<p>And under the hood you can find, that java  check if parameter == null it put my default value, but in my request I have &quot;&quot; - empty string.</p>\n<p>How to workaround situation with DefaultValue?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1660038977,"post_id":73289836,"comment_id":129432781,"body_markdown":"why do you need classes under `src/manual-scripts/java/com`?","body":"why do you need classes under <code>src&#47;manual-scripts&#47;java&#47;com</code>?"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1660039060,"post_id":73289836,"comment_id":129432820,"body_markdown":"java tests are stored under `src/test/java`, that is enough in most situations","body":"java tests are stored under <code>src&#47;test&#47;java</code>, that is enough in most situations"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1660039495,"post_id":73289836,"comment_id":129432982,"body_markdown":"Generally speaking I would say your build should simply not depend on such scripts. It compromises the reproducibility of your builds. You should try to depend on Maven plugins where possible. If you have something that&#39;s not supported by an existing plugin then you could consider writing your own, which would be written in Java (or Scala, Kotlin, etc.)","body":"Generally speaking I would say your build should simply not depend on such scripts. It compromises the reproducibility of your builds. You should try to depend on Maven plugins where possible. If you have something that&#39;s not supported by an existing plugin then you could consider writing your own, which would be written in Java (or Scala, Kotlin, etc.)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1660039666,"post_id":73289836,"comment_id":129433051,"body_markdown":"Have a look at JUnit tests. Maven automatically picks up these tests and runs them during a build. No need to create an extra plugin or anything else. Just implement the tests and you are done","body":"Have a look at JUnit tests. Maven automatically picks up these tests and runs them during a build. No need to create an extra plugin or anything else. Just implement the tests and you are done"},{"owner":{"account_id":357394,"reputation":403,"user_id":6471712,"display_name":"Fabio Perrella"},"score":0,"creation_date":1660040691,"post_id":73289836,"comment_id":129433363,"body_markdown":"This kind of script that I mentioned is not an unit test and neither an integration test. It&#39;s just a script that I want to run one-off occasionally if I want to debug a specific piece of code without the needs of running the entire application.\nIn a interpreted language, I could use a REPL or a simple script, but with Java, I don&#39;t know exactly what to use.","body":"This kind of script that I mentioned is not an unit test and neither an integration test. It&#39;s just a script that I want to run one-off occasionally if I want to debug a specific piece of code without the needs of running the entire application. In a interpreted language, I could use a REPL or a simple script, but with Java, I don&#39;t know exactly what to use."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1660041441,"post_id":73289836,"comment_id":129433608,"body_markdown":"Then make a separate class with a `main` method which does what you need. Then you can run it whenever you need","body":"Then make a separate class with a <code>main</code> method which does what you need. Then you can run it whenever you need"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1660042744,"post_id":73289836,"comment_id":129434056,"body_markdown":"Agree with XtremeBaumer. To extend on that comment, I would place the &quot;custom script&quot; main class with my test classes, so that it does not get deployed in production. Run it using the [Maven exec plugin](https://www.mojohaus.org/exec-maven-plugin/), something as simple as `mvn exec:java -Dexec.mainClass=your.fully.qualified.ClassName`.","body":"Agree with XtremeBaumer. To extend on that comment, I would place the &quot;custom script&quot; main class with my test classes, so that it does not get deployed in production. Run it using the <a href=\"https://www.mojohaus.org/exec-maven-plugin/\" rel=\"nofollow noreferrer\">Maven exec plugin</a>, something as simple as <code>mvn exec:java -Dexec.mainClass=your.fully.qualified.ClassName</code>."},{"owner":{"account_id":357394,"reputation":403,"user_id":6471712,"display_name":"Fabio Perrella"},"score":0,"creation_date":1660043366,"post_id":73289836,"comment_id":129434290,"body_markdown":"oh, this exec plugin is what I was looking for, tks!","body":"oh, this exec plugin is what I was looking for, tks!"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1660051649,"post_id":73289836,"comment_id":129437576,"body_markdown":"Maven is heavily opinionated. If you don’t work like it would like you to, you will have an uphill battle you most likely will lose.  Spend some time learning maven well.","body":"Maven is heavily opinionated. If you don’t work like it would like you to, you will have an uphill battle you most likely will lose.  Spend some time learning maven well."}],"owner":{"account_id":357394,"reputation":403,"user_id":6471712,"display_name":"Fabio Perrella"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660038850,"creation_date":1660038850,"question_id":73289836,"body_markdown":"I&#39;m used to work with interpreted languages where we can simply create scripts to test a piece of code and maybe debug them easily.\r\n\r\nFor example, I could create a `scripts/test-something.py` file, add my code there, and simply run `scripts/test-something.py` on the console.\r\n\r\nI started to work with Java (with Maven) and I couldn&#39;t find a good way to do something similar.\r\n\r\nI wanted to create a bash script where I can run these &quot;manual&quot; test classes, but these test classes are not exactly test code, that have assertions and mocks, for example. They are code that runs as if I was running the application locally, using real dependencies (and not mocks).\r\n\r\nMy idea was to add, for example, the file `scripts/run-manual-script.sh` which would accept a class name as an argument, to run this class (the main method).\r\n\r\nThese manual scripts would be in the `src/manual-scripts/java/com/...` folder.\r\n\r\nHowever, when I run `scripts/run-manual-script.sh`, it doesn&#39;t find the class that I added to the `src/manual-scripts` folder, because (I think) this is not a standard Maven directory.\r\n\r\nSo, what is the best way to do something like this?","title":"Where to add manual scripts to a Java Maven project?","body":"<p>I'm used to work with interpreted languages where we can simply create scripts to test a piece of code and maybe debug them easily.</p>\n<p>For example, I could create a <code>scripts/test-something.py</code> file, add my code there, and simply run <code>scripts/test-something.py</code> on the console.</p>\n<p>I started to work with Java (with Maven) and I couldn't find a good way to do something similar.</p>\n<p>I wanted to create a bash script where I can run these &quot;manual&quot; test classes, but these test classes are not exactly test code, that have assertions and mocks, for example. They are code that runs as if I was running the application locally, using real dependencies (and not mocks).</p>\n<p>My idea was to add, for example, the file <code>scripts/run-manual-script.sh</code> which would accept a class name as an argument, to run this class (the main method).</p>\n<p>These manual scripts would be in the <code>src/manual-scripts/java/com/...</code> folder.</p>\n<p>However, when I run <code>scripts/run-manual-script.sh</code>, it doesn't find the class that I added to the <code>src/manual-scripts</code> folder, because (I think) this is not a standard Maven directory.</p>\n<p>So, what is the best way to do something like this?</p>\n"},{"tags":["java","r","ubuntu","rjava","ubuntu-14.10"],"comments":[{"owner":{"account_id":4409535,"reputation":439,"user_id":3593538,"accept_rate":86,"display_name":"tan"},"score":0,"creation_date":1423689122,"post_id":28462302,"comment_id":45254816,"body_markdown":"Yes, but I did try that using the terminal command line and Rstudio command line","body":"Yes, but I did try that using the terminal command line and Rstudio command line"},{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1558696809,"post_id":28462302,"comment_id":99195483,"body_markdown":"`R version 3.5.3 (2019-03-11) Rstudio Version 1.2.1335`. In my case, Just quit the `Rstudio` and restart it. I did not redefine the LD_LIBRARY_PATH. ~~~~ 1. run `sudo R CMD javareconf` 2. install my package. 3. restart Rstudio.","body":"<code>R version 3.5.3 (2019-03-11) Rstudio Version 1.2.1335</code>. In my case, Just quit the <code>Rstudio</code> and restart it. I did not redefine the LD_LIBRARY_PATH. ~~~~ 1. run <code>sudo R CMD javareconf</code> 2. install my package. 3. restart Rstudio."}],"answers":[{"tags":[],"owner":{"account_id":5532486,"reputation":459,"user_id":4392037,"display_name":"Francesco Palmiotto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423689586,"creation_date":1423689586,"answer_id":28464717,"question_id":28462302,"body_markdown":"- I solved a similar issue by running the following command every time I want to open RStudio. Go to the folder which contains the rstudio executable, open up the terminal and type:\r\n\r\n    LD_LIBRARY_PATH=/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/server: open -a rstudio\r\n\r\n Of course you have to change the path according to your Java version.\r\n\r\n\r\n\r\n- If the previous solution does not work, try reading this article:\r\nhttp://allanino.me/blog/programming/installing-some-r-packages/.\r\n\r\n\r\n\r\n- If this solution does not work too, the last chance you have is to install `rJava` compiling it from the source code.\r\n\r\n\r\n\r\n","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<ul>\n<li><p>I solved a similar issue by running the following command every time I want to open RStudio. Go to the folder which contains the rstudio executable, open up the terminal and type:</p>\n\n<p>LD_LIBRARY_PATH=/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/server: open -a rstudio</p>\n\n<p>Of course you have to change the path according to your Java version.</p></li>\n<li><p>If the previous solution does not work, try reading this article:\n<a href=\"http://allanino.me/blog/programming/installing-some-r-packages/\" rel=\"nofollow\">http://allanino.me/blog/programming/installing-some-r-packages/</a>.</p></li>\n<li><p>If this solution does not work too, the last chance you have is to install <code>rJava</code> compiling it from the source code.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2864308,"reputation":9391,"user_id":2458916,"accept_rate":0,"display_name":"minhas23"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1446979498,"creation_date":1446979498,"answer_id":33593075,"question_id":28462302,"body_markdown":"I was getting the same error when I was trying to load rJava in RStudio.\r\nThe following solution worked for me\r\n\r\n\r\n    1) sudo rstudio-server stop\r\n    2) export LD_LIBRARY_PATH=/usr/lib/jvm/jre/lib/amd64:/usr/lib/jvm/jre/lib/amd64/default\r\n    3) sudo rstudio-server start\r\n\r\nAfter performing the above steps, I was able to run the following successfuly in RStudio\r\n\r\n    &gt; library(&quot;DBI&quot;)\r\n    &gt; library(&quot;rJava&quot;)\r\n    &gt; library(&quot;RJDBC&quot;)\r\n\r\n","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>I was getting the same error when I was trying to load rJava in RStudio.\nThe following solution worked for me</p>\n\n<pre><code>1) sudo rstudio-server stop\n2) export LD_LIBRARY_PATH=/usr/lib/jvm/jre/lib/amd64:/usr/lib/jvm/jre/lib/amd64/default\n3) sudo rstudio-server start\n</code></pre>\n\n<p>After performing the above steps, I was able to run the following successfuly in RStudio</p>\n\n<pre><code>&gt; library(\"DBI\")\n&gt; library(\"rJava\")\n&gt; library(\"RJDBC\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2194088,"reputation":651,"user_id":1940274,"display_name":"Haktan Suren"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1486059383,"creation_date":1486059383,"answer_id":42009476,"question_id":28462302,"body_markdown":"in case none of the above works, try this and thank me later (generic answer) :)\r\n\r\n    R CMD javareconf -e\r\n    LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$JAVA_LD_LIBRARY_PATH","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>in case none of the above works, try this and thank me later (generic answer) :)</p>\n\n<pre><code>R CMD javareconf -e\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:$JAVA_LD_LIBRARY_PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10577280,"reputation":431,"user_id":7794397,"display_name":"aGentlemanAndAScholar"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1492501318,"creation_date":1492501318,"answer_id":43466434,"question_id":28462302,"body_markdown":"To solve this, \r\n\r\n 1. Run\r\n&gt; sudo R CMD javareconf\r\n 2. Add the following to to /etc/environment. This will then be set every time your machine restarts. \r\n&gt; LD_LIBRARY_PATH=/usr/lib/jvm/default-java/jre/lib/amd64/server/ \r\n\r\n  (change to your path) \r\n 3. Run the following:\r\n&gt; source /etc/environment\r\n 4. rstudio server restart\r\n\r\n","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>To solve this, </p>\n\n<ol>\n<li>Run\n\n<blockquote>\n  <p>sudo R CMD javareconf</p>\n</blockquote></li>\n<li><p>Add the following to to /etc/environment. This will then be set every time your machine restarts. </p>\n\n<blockquote>\n  <p>LD_LIBRARY_PATH=/usr/lib/jvm/default-java/jre/lib/amd64/server/ </p>\n</blockquote>\n\n<p>(change to your path) </p></li>\n<li>Run the following:\n\n<blockquote>\n  <p>source /etc/environment</p>\n</blockquote></li>\n<li>rstudio server restart</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5672780,"reputation":39,"user_id":4486954,"display_name":"Tejas Lodaya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503988974,"creation_date":1503988974,"answer_id":45932405,"question_id":28462302,"body_markdown":"If someone is coming here now, Please try the approach below:\r\n\r\nSteps:\r\n\r\n1. Find your R location. It will be stored in `rsession-ld-library-path` in `rserver.conf` file. Or just by doing `which R`. The location usually is `/usr/lib64/R/lib` or `/usr/lib64/microsoft-r/3.3/lib64/R/lib`\r\n\r\n2. Find the `libjvm.so` file which is usually in the `usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/server` path depending on which jre you&#39;re using. Check in $JAVA_HOME environment.\r\n\r\n3. Create a symlink using `ln -s`\r\n`sudo ln -s /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/server/libjvm.so /usr/lib64/microsoft-r/3.3/lib64/R/lib/libjvm.so`\r\n\r\n4. Restart R server\r\n\r\n","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>If someone is coming here now, Please try the approach below:</p>\n\n<p>Steps:</p>\n\n<ol>\n<li><p>Find your R location. It will be stored in <code>rsession-ld-library-path</code> in <code>rserver.conf</code> file. Or just by doing <code>which R</code>. The location usually is <code>/usr/lib64/R/lib</code> or <code>/usr/lib64/microsoft-r/3.3/lib64/R/lib</code></p></li>\n<li><p>Find the <code>libjvm.so</code> file which is usually in the <code>usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/server</code> path depending on which jre you're using. Check in $JAVA_HOME environment.</p></li>\n<li><p>Create a symlink using <code>ln -s</code>\n<code>sudo ln -s /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/server/libjvm.so /usr/lib64/microsoft-r/3.3/lib64/R/lib/libjvm.so</code></p></li>\n<li><p>Restart R server</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8157641,"reputation":783,"user_id":6142664,"display_name":"F&#225;bio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535699297,"creation_date":1535699297,"answer_id":52110207,"question_id":28462302,"body_markdown":"Well, as [@user3673][1] has pointed out [this][2], the solution for me was change the following line in `/usr/lib/R/etc/ldpaths`:\r\n\r\n`: ${R_JAVA_LD_LIBRARY_PATH=${JAVA_HOME}/lib/amd64/server}`\r\n\r\nby this one:\r\n\r\n`: ${R_JAVA_LD_LIBRARY_PATH=${JAVA_HOME}/jre/lib/amd64/server}`\r\n\r\n  [1]: https://stackoverflow.com/users/871821/user3673\r\n  [2]: https://orinanobworld.blogspot.com/2016/12/rjava-gift-that-keeps-on-giving.html","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>Well, as <a href=\"https://stackoverflow.com/users/871821/user3673\">@user3673</a> has pointed out <a href=\"https://orinanobworld.blogspot.com/2016/12/rjava-gift-that-keeps-on-giving.html\" rel=\"nofollow noreferrer\">this</a>, the solution for me was change the following line in <code>/usr/lib/R/etc/ldpaths</code>:</p>\n\n<p><code>: ${R_JAVA_LD_LIBRARY_PATH=${JAVA_HOME}/lib/amd64/server}</code></p>\n\n<p>by this one:</p>\n\n<p><code>: ${R_JAVA_LD_LIBRARY_PATH=${JAVA_HOME}/jre/lib/amd64/server}</code></p>\n"},{"tags":[],"owner":{"account_id":281514,"reputation":5457,"user_id":577857,"accept_rate":91,"display_name":"djhurio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549313735,"creation_date":1549313735,"answer_id":54524180,"question_id":28462302,"body_markdown":"Check if `$JAVA_HOME` points to the correct location by\r\n\r\n    echo $JAVA_HOME\r\n\r\nI am using openjdk, however `$JAVA_HOME` was pointing to some non-existing oracle-java folder.\r\n\r\nAfter fixing `$JAVA_HOME` run\r\n\r\n    sudo R CMD javareconf\r\n\r\nCheck the output. `Java headers gen.` should point to `/usr/bin/javah`. For example:\r\n\r\n    djhurio@Skyforger ~ $ sudo R CMD javareconf\r\n    Java interpreter : /usr/lib/jvm/default-java/bin/java\r\n    Java version     : 11.0.1\r\n    Java home path   : /usr/lib/jvm/default-java\r\n    Java compiler    : /usr/lib/jvm/default-java/bin/javac\r\n    Java headers gen.: /usr/bin/javah\r\n    Java archive tool: /usr/lib/jvm/default-java/bin/jar\r\n\r\nAfter this I can install and load `rJava` package.\r\n","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>Check if <code>$JAVA_HOME</code> points to the correct location by</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<p>I am using openjdk, however <code>$JAVA_HOME</code> was pointing to some non-existing oracle-java folder.</p>\n\n<p>After fixing <code>$JAVA_HOME</code> run</p>\n\n<pre><code>sudo R CMD javareconf\n</code></pre>\n\n<p>Check the output. <code>Java headers gen.</code> should point to <code>/usr/bin/javah</code>. For example:</p>\n\n<pre><code>djhurio@Skyforger ~ $ sudo R CMD javareconf\nJava interpreter : /usr/lib/jvm/default-java/bin/java\nJava version     : 11.0.1\nJava home path   : /usr/lib/jvm/default-java\nJava compiler    : /usr/lib/jvm/default-java/bin/javac\nJava headers gen.: /usr/bin/javah\nJava archive tool: /usr/lib/jvm/default-java/bin/jar\n</code></pre>\n\n<p>After this I can install and load <code>rJava</code> package.</p>\n"},{"tags":[],"owner":{"account_id":12886879,"reputation":171,"user_id":9320039,"display_name":"Rohit "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571168505,"creation_date":1571168505,"answer_id":58401636,"question_id":28462302,"body_markdown":"We are using AZUL. I could see ZST is not added properly. After adding ZST, it works fine.   ","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>We are using AZUL. I could see ZST is not added properly. After adding ZST, it works fine.   </p>\n"},{"tags":[],"owner":{"account_id":7099030,"reputation":1569,"user_id":9752694,"display_name":"Santosh Garole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611138321,"creation_date":1611138321,"answer_id":65807618,"question_id":28462302,"body_markdown":"**Adding the answer if we have two R version running on Unix Box.**\r\n\r\n**Issue:** libjvm.so: cannot open shared object file: No such file or directory\r\n\r\n**Caused due to:** Updated the version of java from `java-1.8.0-openjdk-1.8.0.262.b10-1.el7_9.x86_64` to `java-1.8.0-openjdk-1.8.0.272.b10-1.el7_9.x86_64`\r\n\r\nIn my case, we had two versions of R \r\n1. 3.6.0\r\n2. 3.6.2\r\n\r\nwe applied the above @minhas23 solution only for 3.6.2 which was set to the default version of R for the Rstudio-server-pro application.\r\n\r\nbut we were getting a similar error when we select the R version as 3.6.0, then we did the below steps:\r\n\r\n    export R_VERSION=3.6.0\r\n    \r\n    /opt/R/${R_VERSION}/bin/R --version\r\n    \r\n    unlink /usr/local/bin/R\r\n    \r\n    unlink /usr/local/bin/Rscript\r\n    \r\n    ln -s /opt/R/${R_VERSION}/bin/R /usr/local/bin/R\r\n    ln -s /opt/R/${R_VERSION}/bin/Rscript /usr/local/bin/Rscript\r\n    \r\n    rstudio-server stop\r\n    export LD_LIBRARY_PATH=/usr/lib/jvm/jre/lib/amd64/server\r\n    R CMD javareconf\r\n\r\nWe have checked the `LD_LIBRARY_PATH` associated with `3.6.0` as below in the R terminal:\r\n\r\n    Sys.getenv(&quot;LD_LIBRARY_PATH&quot;)\r\n\r\nO/P\r\n\r\n    [1] &quot;/opt/R/3.6.0/lib/R/lib:/usr/local/lib:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.272.b10-1.el7_9.x86_64/jre/lib/amd64/server:/usr/lib/jvm/jre/lib/amd64/server&quot;\r\n","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p><strong>Adding the answer if we have two R version running on Unix Box.</strong></p>\n<p><strong>Issue:</strong> libjvm.so: cannot open shared object file: No such file or directory</p>\n<p><strong>Caused due to:</strong> Updated the version of java from <code>java-1.8.0-openjdk-1.8.0.262.b10-1.el7_9.x86_64</code> to <code>java-1.8.0-openjdk-1.8.0.272.b10-1.el7_9.x86_64</code></p>\n<p>In my case, we had two versions of R</p>\n<ol>\n<li>3.6.0</li>\n<li>3.6.2</li>\n</ol>\n<p>we applied the above @minhas23 solution only for 3.6.2 which was set to the default version of R for the Rstudio-server-pro application.</p>\n<p>but we were getting a similar error when we select the R version as 3.6.0, then we did the below steps:</p>\n<pre><code>export R_VERSION=3.6.0\n\n/opt/R/${R_VERSION}/bin/R --version\n\nunlink /usr/local/bin/R\n\nunlink /usr/local/bin/Rscript\n\nln -s /opt/R/${R_VERSION}/bin/R /usr/local/bin/R\nln -s /opt/R/${R_VERSION}/bin/Rscript /usr/local/bin/Rscript\n\nrstudio-server stop\nexport LD_LIBRARY_PATH=/usr/lib/jvm/jre/lib/amd64/server\nR CMD javareconf\n</code></pre>\n<p>We have checked the <code>LD_LIBRARY_PATH</code> associated with <code>3.6.0</code> as below in the R terminal:</p>\n<pre><code>Sys.getenv(&quot;LD_LIBRARY_PATH&quot;)\n</code></pre>\n<p>O/P</p>\n<pre><code>[1] &quot;/opt/R/3.6.0/lib/R/lib:/usr/local/lib:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.272.b10-1.el7_9.x86_64/jre/lib/amd64/server:/usr/lib/jvm/jre/lib/amd64/server&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18664598,"reputation":51,"user_id":13604909,"display_name":"Odysseas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660038743,"creation_date":1660038262,"answer_id":73289723,"question_id":28462302,"body_markdown":"I fixed this for rJava and xlsx in my Dockerfile by searching for the libjvm.so file and setting LD_LIBRARY_PATH to that directory:\r\n\r\n    RUN find / -name libjvm.so\r\n    ENV LD_LIBRARY_PATH=/usr/lib/jvm/java-11-openjdk-amd64/lib/server","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>I fixed this for rJava and xlsx in my Dockerfile by searching for the libjvm.so file and setting LD_LIBRARY_PATH to that directory:</p>\n<pre><code>RUN find / -name libjvm.so\nENV LD_LIBRARY_PATH=/usr/lib/jvm/java-11-openjdk-amd64/lib/server\n</code></pre>\n"}],"owner":{"account_id":4409535,"reputation":439,"user_id":3593538,"accept_rate":86,"display_name":"tan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86721,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":10,"score":34,"last_activity_date":1660038743,"creation_date":1423681101,"question_id":28462302,"body_markdown":"Trying to install the rJava package on R, on my 14.10 ubuntu, using this code\r\n\r\n    if (!require(rJava)) install.packages(&#39;rJava&#39;)\r\n\r\ngot few errors related to java including jni problems, after reinstalling the jdk, and tried to run the same code again, got that error\r\n\r\n    Error : .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n      call: dyn.load(file, DLLpath = DLLpath, ...)\r\n      error: unable to load shared object &#39;/usr/local/lib/R/site-library/rJava/libs/rJava.so&#39;:\r\n      libjvm.so: cannot open shared object file: No such file or directory\r\n    Error: loading failed\r\n    Execution halted\r\n    ERROR: loading failed\r\n    * removing ‘/usr/local/lib/R/site-library/rJava’\r\n    Warning in install.packages :\r\n      installation of package ‘rJava’ had non-zero exit status\r\n    \r\n    The downloaded source packages are in\r\n    \t‘/tmp/RtmpfFjrp0/downloaded_packages’\r\n    Warning message:\r\n    In library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE,  :\r\n      there is no package called ‘rJava’\r\n\r\nlooked for solutions, to find just about everyone suggesting (for x64) to execute those commands\r\n\r\n    export LD_LIBRARY_PATH=/usr/lib/jvm/java-8-oracle/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/amd64/server\r\n    sudo R CMD javareconf \r\n\r\nbut that didn&#39;t work, is there anything else I can do? I will provide any needed details","title":"libjvm.so: cannot open shared object file: No such file or directory","body":"<p>Trying to install the rJava package on R, on my 14.10 ubuntu, using this code</p>\n\n<pre><code>if (!require(rJava)) install.packages('rJava')\n</code></pre>\n\n<p>got few errors related to java including jni problems, after reinstalling the jdk, and tried to run the same code again, got that error</p>\n\n<pre><code>Error : .onLoad failed in loadNamespace() for 'rJava', details:\n  call: dyn.load(file, DLLpath = DLLpath, ...)\n  error: unable to load shared object '/usr/local/lib/R/site-library/rJava/libs/rJava.so':\n  libjvm.so: cannot open shared object file: No such file or directory\nError: loading failed\nExecution halted\nERROR: loading failed\n* removing ‘/usr/local/lib/R/site-library/rJava’\nWarning in install.packages :\n  installation of package ‘rJava’ had non-zero exit status\n\nThe downloaded source packages are in\n    ‘/tmp/RtmpfFjrp0/downloaded_packages’\nWarning message:\nIn library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE,  :\n  there is no package called ‘rJava’\n</code></pre>\n\n<p>looked for solutions, to find just about everyone suggesting (for x64) to execute those commands</p>\n\n<pre><code>export LD_LIBRARY_PATH=/usr/lib/jvm/java-8-oracle/lib/amd64:/usr/lib/jvm/java-8-oracle/jre/lib/amd64/server\nsudo R CMD javareconf \n</code></pre>\n\n<p>but that didn't work, is there anything else I can do? I will provide any needed details</p>\n"},{"tags":["java","http","proxy","http-headers","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659546155,"post_id":73224621,"comment_id":129321758,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":16685446,"reputation":1,"user_id":12059482,"display_name":"luis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660038680,"creation_date":1660038599,"answer_id":73289796,"question_id":73224621,"body_markdown":"Managed to make it work, using HttpClientBuilder.setRequestExecutor(new CustomHttpRequestExecutor()) and on the CustomHttpRequestExecutor I had to override the preProcess method.\r\n\r\n    @Override\r\n    void preProcess(HttpRequest request, HttpProcessor processor, HttpContext context) throws HttpException, IOException {\r\n\r\n        if (&quot;CONNECT&quot;.equalsIgnoreCase(request.getRequestLine().getMethod())) {\r\n            request.setHeader(&quot;headername&quot;,&quot;value&quot;)\r\n        }\r\n        super.preProcess(request, processor, context)\r\n    }","title":"Add custom headers to Apache HttpClient CONNECT request","body":"<p>Managed to make it work, using HttpClientBuilder.setRequestExecutor(new CustomHttpRequestExecutor()) and on the CustomHttpRequestExecutor I had to override the preProcess method.</p>\n<pre><code>@Override\nvoid preProcess(HttpRequest request, HttpProcessor processor, HttpContext context) throws HttpException, IOException {\n\n    if (&quot;CONNECT&quot;.equalsIgnoreCase(request.getRequestLine().getMethod())) {\n        request.setHeader(&quot;headername&quot;,&quot;value&quot;)\n    }\n    super.preProcess(request, processor, context)\n}\n</code></pre>\n"}],"owner":{"account_id":16685446,"reputation":1,"user_id":12059482,"display_name":"luis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660038680,"creation_date":1659543569,"question_id":73224621,"body_markdown":"I have a ProxyMesh configuration working with a Java project and Apache HttpClient, the default configuration works fine with HTTPS requests, I now need to add a custom header only to be read by the proxy, according to the [docs][1] this must be done on the CONNECT request, I added an interceptor on the HttpClientBuilder, but the header is only being included in the GET request, not in the initial CONNECT request (I checked using Wireshark). Is there a place I can setup the CONNECT request header in the HttpClient?\r\n\r\n\r\n  [1]: https://docs.proxymesh.com/article/145-proxy-server-requests-over-https","title":"Add custom headers to Apache HttpClient CONNECT request","body":"<p>I have a ProxyMesh configuration working with a Java project and Apache HttpClient, the default configuration works fine with HTTPS requests, I now need to add a custom header only to be read by the proxy, according to the <a href=\"https://docs.proxymesh.com/article/145-proxy-server-requests-over-https\" rel=\"nofollow noreferrer\">docs</a> this must be done on the CONNECT request, I added an interceptor on the HttpClientBuilder, but the header is only being included in the GET request, not in the initial CONNECT request (I checked using Wireshark). Is there a place I can setup the CONNECT request header in the HttpClient?</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1660037566,"post_id":73289442,"comment_id":129432285,"body_markdown":"What is `Session` here?","body":"What is <code>Session</code> here?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1660051172,"post_id":73289442,"comment_id":129437352,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660038330,"creation_date":1660038330,"answer_id":73289737,"question_id":73289442,"body_markdown":"You have a `)` at the wrong place:\r\n\r\n        session = Session.getDefaultInstance(properties, new javax.mail.Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(Util.EMAIL, Util.PASSWORD);\r\n            }\r\n        });\r\n    \r\n        return null;\r\n    }\r\n\r\nDepending on the surrounding code this change will introduce some syntax errors that need to be fixed","title":"Incompatible types. Found: &#39;javax.mail.PasswordAuthentication&#39;, required: &#39;java.lang.Void&#39;","body":"<p>You have a <code>)</code> at the wrong place:</p>\n<pre><code>    session = Session.getDefaultInstance(properties, new javax.mail.Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(Util.EMAIL, Util.PASSWORD);\n        }\n    });\n\n    return null;\n}\n</code></pre>\n<p>Depending on the surrounding code this change will introduce some syntax errors that need to be fixed</p>\n"}],"owner":{"account_id":22397984,"reputation":1,"user_id":16608933,"display_name":"Khaled"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1660038330,"creation_date":1660037116,"question_id":73289442,"body_markdown":"I get this error when I try to send a mail using JavaMail API.\r\ncode :\r\n     \r\n        session = Session.getDefaultInstance(properties,new javax.mail.Authenticator()){\r\n            protected PasswordAuthentication getPasswordAuthentication(){\r\n                return new PasswordAuthentication(Util.EMAIL,Util.PASSWORD);\r\n            }\r\n        });\r\n\r\n        return null;\r\n    }","title":"Incompatible types. Found: &#39;javax.mail.PasswordAuthentication&#39;, required: &#39;java.lang.Void&#39;","body":"<p>I get this error when I try to send a mail using JavaMail API.\ncode :</p>\n<pre><code>    session = Session.getDefaultInstance(properties,new javax.mail.Authenticator()){\n        protected PasswordAuthentication getPasswordAuthentication(){\n            return new PasswordAuthentication(Util.EMAIL,Util.PASSWORD);\n        }\n    });\n\n    return null;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","minecraft","bukkit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1659645849,"post_id":73241950,"comment_id":129350220,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":20766901,"reputation":11,"user_id":15250657,"display_name":"Crafter_Y"},"score":0,"creation_date":1659688349,"post_id":73241950,"comment_id":129358403,"body_markdown":"Unfortunately not, because unlike the other errors I&#39;ve found I have no problem with my compilation pom.xml stuff, but with the execution/startup of my Spring Boot application or the class/ressource loading in the environment of a minecraft server.","body":"Unfortunately not, because unlike the other errors I&#39;ve found I have no problem with my compilation pom.xml stuff, but with the execution/startup of my Spring Boot application or the class/ressource loading in the environment of a minecraft server."}],"owner":{"account_id":20766901,"reputation":11,"user_id":15250657,"display_name":"Crafter_Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1660006197,"answer_count":0,"score":1,"last_activity_date":1660037743,"creation_date":1659645148,"question_id":73241950,"body_markdown":"I tried to run Spring Boot within my Java Plugin, but when I try to actually run it on the Server, it keeps producing this error:&lt;br&gt;&lt;br&gt;\r\nThe error is, that im am trying to load spring boot inside a paper environment and even when the spring.factories **is** included in my jar, it cannot be found in the minecraft server environment\r\n\r\n```\r\n[21:59:15 INFO]: [STDOUT]   .   ____          _            __ _ _\r\n[21:59:15 INFO]: [STDOUT]  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n[21:59:15 INFO]: [STDOUT] ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n[21:59:15 INFO]: [STDOUT]  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n[21:59:15 INFO]: [STDOUT]   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n[21:59:15 INFO]: [STDOUT]  =========|_|==============|___/=/_/_/_/\r\n[21:59:15 INFO]: [STDOUT]  :: Spring Boot ::                (v2.7.2)\r\n[21:59:15 INFO]: \r\n[21:59:15 INFO]: Starting application using Java 17.0.2 on DESKTOP-N582J7M with PID 2364 (started by Programmers PC in F:\\programming\\paper 1.18.2 server)\r\n[21:59:15 INFO]: No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[21:59:15 ERROR]: Application run failed\r\njava.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories nor in META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports. If you are using a custom packaging, make sure that file is correct.\r\n\tat org.springframework.util.Assert.notEmpty(Assert.java:470) ~[paradubschmanager-0.1.jar:?]\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getCandidateConfigurations(AutoConfigurationImportSelector.java:185) ~[paradubschmanager-0.1.jar:?]\r\n...\t\r\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[paradubschmanager-0.1.jar:?]\r\n\tat de.paradubsch.paradubschmanager.persistance.SpringConfigurer.initializeSpringApplication(SpringConfigurer.java:35) ~[paradubschmanager-0.1.jar:?]\r\n\tat de.paradubsch.paradubschmanager.ParadubschManager.onEnable(ParadubschManager.java:68) ~[paradubschmanager-0.1.jar:?]\r\n...\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n```\r\n\r\nI&#39;m using Spring v2.7.2, &lt;br&gt;\r\nPaper git-Paper-260 (MC: 1.18.2) (Implementing API version 1.18.2-R0.1-SNAPSHOT) (Git: bc68ee0)\r\n\r\nTo include this in my Plugin, I need it to work without parent. Here is my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    ...\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!-- Not Working idk why\r\n                            &lt;minimizeJar&gt;true&lt;/minimizeJar&gt; --&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                            &lt;createSourcesJar&gt;false&lt;/createSourcesJar&gt;\r\n                            &lt;createTestSourcesJar&gt;false&lt;/createTestSourcesJar&gt;\r\n                            &lt;!--&lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt; --&gt;\r\n\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.kotlin_module&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.txt&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/proguard/*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/services/*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/versions/9/*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;*License*&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;*LICENSE*&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;id&gt;server&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;target&gt;\r\n                                &lt;!-- This deletes all generated classes after the compilation.\r\n                                 IDK why, but there are bugs if I don&#39;t do that--&gt;\r\n                                &lt;exec dir=&quot;${project.basedir}/target/&quot; executable=&quot;cmd.exe&quot;&gt;\r\n                                    &lt;arg value=&quot;/c&quot; /&gt;\r\n                                    &lt;arg value=&quot;@RD&quot; /&gt;\r\n                                    &lt;arg value=&quot;/S&quot; /&gt;\r\n                                    &lt;arg value=&quot;/Q&quot; /&gt;\r\n                                    &lt;arg value=&#39;&quot;./classes&quot;&#39; /&gt;\r\n                                &lt;/exec&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--&lt;plugin&gt;\r\n\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;junitArtifactName&gt;org.junit.jupiter:junit-jupiter&lt;/junitArtifactName&gt;\r\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt; --&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;!-- Import dependency management from Spring Boot --&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;papermc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        ...\r\n        &lt;repository&gt;\r\n            &lt;id&gt;dmulloy2-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.dmulloy2.net/repository/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Provided --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.2-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n       ...\r\n\r\n        &lt;!-- Runtime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.10.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.seeseemelk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;MockBukkit-v1.18&lt;/artifactId&gt;\r\n            &lt;version&gt;2.85.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nI think i actually need the maven-compiler-plugin and maven-shade-plugin to properly bundle it for production. &lt;br&gt;\r\n\r\nMy Main Method: src/main/java/de/paradubsch/paradubschmanager/ParadubschManager.java, \r\n```\r\n...\r\npublic class ParadubschManager extends JavaPlugin {\r\n...\r\n    @Override\r\n    public void onEnable() {\r\n    ...\r\n        ResourceLoader loader = new DefaultResourceLoader(Thread.currentThread().getContextClassLoader());\r\n        ctx = SpringConfigurer.initializeSpringApplication(loader);\r\n        ...\r\n    }\r\n}\r\n```\r\ncalls my SpringConfigurer:\r\n```\r\npublic static ConfigurableApplicationContext initializeSpringApplication(ResourceLoader loader) {\r\n    return new SpringApplicationBuilder(SpringApplication.class).properties(getConfiguration()).run();\r\n}\r\n```\r\nwith properties getConfiguration(), to replace application.properties:\r\n```\r\nProperties props = new Properties();\r\nprops.put(&quot;spring.datasource.driver-class-name&quot;, ConfigurationManager.getString(&quot;hibernate.driver&quot;));\r\nprops.put(&quot;spring.datasource.username&quot;, ConfigurationManager.getString(&quot;hibernate.user&quot;));\r\nprops.put(&quot;spring.datasource.password&quot;, ConfigurationManager.getString(&quot;hibernate.pass&quot;));\r\nprops.put(&quot;spring.datasource.url&quot;, ConfigurationManager.getString(&quot;hibernate.url&quot;));\r\nprops.put(&quot;spring.jpa.show-sql&quot;, ConfigurationManager.getString(&quot;hibernate.showSql&quot;));\r\nprops.put(&quot;spring.jpa.hibernate.ddl-auto&quot;, ConfigurationManager.getString(&quot;hibernate.hmb2ddlAuto&quot;));\r\nprops.put(&quot;spring.jpa.properties.hibernate.dialect&quot;, ConfigurationManager.getString(&quot;hibernate.dialect&quot;));\r\nprops.put(&quot;spring.flyway.enabled&quot;, &quot;false&quot;);\r\nprops.put(&quot;logging.level.org.springframework&quot;, &quot;DEBUG&quot;);\r\n```\r\nand starting my src/main/java/de/paradubsch/paradubschmanager/persistance/SpringApplication.java:\r\n```\r\n@SpringBootApplication\r\npublic class SpringApplication {\r\n}\r\n\r\n```\r\n&lt;br&gt;\r\n**I&#39;m pretty sure the compilation works as intended:**&lt;br&gt;\r\nIt compiles, shades and gives me my Jar&lt;br&gt;\r\nI doublechecked - my jar includes a META-INF/spring.factorys that is not empty, also the META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports.\r\n\r\nSo it has something to do with the ClassLoader not loading the file from my jar correctly.&lt;br&gt;\r\n\r\nI confirmed this when Mocking my Server with MockBukkit:\r\n```\r\n@BeforeAll\r\npublic static void setUp() {\r\n    server = MockBukkit.mock();\r\n    plugin = MockBukkit.load(ParadubschManager.class);\r\n    server.getScheduler().performOneTick();\r\n    server.getScheduler().waitAsyncTasksFinished();\r\n    server.getScheduler().waitAsyncEventsFinished();\r\n    adminPlayer = server.addPlayer();\r\n    targetPlayer = server.addPlayer();\r\n    server.getScheduler().waitAsyncTasksFinished();\r\n    server.getScheduler().waitAsyncEventsFinished();\r\n}\r\n```\r\nand then everything works as intended and all my tests pass.&lt;br&gt;\r\nDoes anyone have an idea?","title":"Spring with Bukkit/Paper: No auto configuration classes found in META-INF/spring.factories","body":"<p>I tried to run Spring Boot within my Java Plugin, but when I try to actually run it on the Server, it keeps producing this error:<br><br>\nThe error is, that im am trying to load spring boot inside a paper environment and even when the spring.factories <strong>is</strong> included in my jar, it cannot be found in the minecraft server environment</p>\n<pre><code>[21:59:15 INFO]: [STDOUT]   .   ____          _            __ _ _\n[21:59:15 INFO]: [STDOUT]  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n[21:59:15 INFO]: [STDOUT] ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n[21:59:15 INFO]: [STDOUT]  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n[21:59:15 INFO]: [STDOUT]   '  |____| .__|_| |_|_| |_\\__, | / / / /\n[21:59:15 INFO]: [STDOUT]  =========|_|==============|___/=/_/_/_/\n[21:59:15 INFO]: [STDOUT]  :: Spring Boot ::                (v2.7.2)\n[21:59:15 INFO]: \n[21:59:15 INFO]: Starting application using Java 17.0.2 on DESKTOP-N582J7M with PID 2364 (started by Programmers PC in F:\\programming\\paper 1.18.2 server)\n[21:59:15 INFO]: No active profile set, falling back to 1 default profile: &quot;default&quot;\n[21:59:15 ERROR]: Application run failed\njava.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories nor in META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports. If you are using a custom packaging, make sure that file is correct.\n    at org.springframework.util.Assert.notEmpty(Assert.java:470) ~[paradubschmanager-0.1.jar:?]\n    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getCandidateConfigurations(AutoConfigurationImportSelector.java:185) ~[paradubschmanager-0.1.jar:?]\n... \n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[paradubschmanager-0.1.jar:?]\n    at de.paradubsch.paradubschmanager.persistance.SpringConfigurer.initializeSpringApplication(SpringConfigurer.java:35) ~[paradubschmanager-0.1.jar:?]\n    at de.paradubsch.paradubschmanager.ParadubschManager.onEnable(ParadubschManager.java:68) ~[paradubschmanager-0.1.jar:?]\n...\n    at java.lang.Thread.run(Thread.java:833) ~[?:?]\n</code></pre>\n<p>I'm using Spring v2.7.2, <br>\nPaper git-Paper-260 (MC: 1.18.2) (Implementing API version 1.18.2-R0.1-SNAPSHOT) (Git: bc68ee0)</p>\n<p>To include this in my Plugin, I need it to work without parent. Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    ...\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- Not Working idk why\n                            &lt;minimizeJar&gt;true&lt;/minimizeJar&gt; --&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                            &lt;createSourcesJar&gt;false&lt;/createSourcesJar&gt;\n                            &lt;createTestSourcesJar&gt;false&lt;/createTestSourcesJar&gt;\n                            &lt;!--&lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                    &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt; --&gt;\n\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.kotlin_module&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.txt&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/proguard/*&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/services/*&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/versions/9/*&lt;/exclude&gt;\n                                        &lt;exclude&gt;*License*&lt;/exclude&gt;\n                                        &lt;exclude&gt;*LICENSE*&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;id&gt;server&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;target&gt;\n                                &lt;!-- This deletes all generated classes after the compilation.\n                                 IDK why, but there are bugs if I don't do that--&gt;\n                                &lt;exec dir=&quot;${project.basedir}/target/&quot; executable=&quot;cmd.exe&quot;&gt;\n                                    &lt;arg value=&quot;/c&quot; /&gt;\n                                    &lt;arg value=&quot;@RD&quot; /&gt;\n                                    &lt;arg value=&quot;/S&quot; /&gt;\n                                    &lt;arg value=&quot;/Q&quot; /&gt;\n                                    &lt;arg value='&quot;./classes&quot;' /&gt;\n                                &lt;/exec&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;junitArtifactName&gt;org.junit.jupiter:junit-jupiter&lt;/junitArtifactName&gt;\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt; --&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;!-- Import dependency management from Spring Boot --&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.7.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;papermc-repo&lt;/id&gt;\n            &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n        ...\n        &lt;repository&gt;\n            &lt;id&gt;dmulloy2-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.dmulloy2.net/repository/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Provided --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\n            &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\n            &lt;version&gt;1.18.2-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n       ...\n\n        &lt;!-- Runtime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n            &lt;version&gt;5.6.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.seeseemelk&lt;/groupId&gt;\n            &lt;artifactId&gt;MockBukkit-v1.18&lt;/artifactId&gt;\n            &lt;version&gt;2.85.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I think i actually need the maven-compiler-plugin and maven-shade-plugin to properly bundle it for production. <br></p>\n<p>My Main Method: src/main/java/de/paradubsch/paradubschmanager/ParadubschManager.java,</p>\n<pre><code>...\npublic class ParadubschManager extends JavaPlugin {\n...\n    @Override\n    public void onEnable() {\n    ...\n        ResourceLoader loader = new DefaultResourceLoader(Thread.currentThread().getContextClassLoader());\n        ctx = SpringConfigurer.initializeSpringApplication(loader);\n        ...\n    }\n}\n</code></pre>\n<p>calls my SpringConfigurer:</p>\n<pre><code>public static ConfigurableApplicationContext initializeSpringApplication(ResourceLoader loader) {\n    return new SpringApplicationBuilder(SpringApplication.class).properties(getConfiguration()).run();\n}\n</code></pre>\n<p>with properties getConfiguration(), to replace application.properties:</p>\n<pre><code>Properties props = new Properties();\nprops.put(&quot;spring.datasource.driver-class-name&quot;, ConfigurationManager.getString(&quot;hibernate.driver&quot;));\nprops.put(&quot;spring.datasource.username&quot;, ConfigurationManager.getString(&quot;hibernate.user&quot;));\nprops.put(&quot;spring.datasource.password&quot;, ConfigurationManager.getString(&quot;hibernate.pass&quot;));\nprops.put(&quot;spring.datasource.url&quot;, ConfigurationManager.getString(&quot;hibernate.url&quot;));\nprops.put(&quot;spring.jpa.show-sql&quot;, ConfigurationManager.getString(&quot;hibernate.showSql&quot;));\nprops.put(&quot;spring.jpa.hibernate.ddl-auto&quot;, ConfigurationManager.getString(&quot;hibernate.hmb2ddlAuto&quot;));\nprops.put(&quot;spring.jpa.properties.hibernate.dialect&quot;, ConfigurationManager.getString(&quot;hibernate.dialect&quot;));\nprops.put(&quot;spring.flyway.enabled&quot;, &quot;false&quot;);\nprops.put(&quot;logging.level.org.springframework&quot;, &quot;DEBUG&quot;);\n</code></pre>\n<p>and starting my src/main/java/de/paradubsch/paradubschmanager/persistance/SpringApplication.java:</p>\n<pre><code>@SpringBootApplication\npublic class SpringApplication {\n}\n\n</code></pre>\n<br>\n**I'm pretty sure the compilation works as intended:**<br>\nIt compiles, shades and gives me my Jar<br>\nI doublechecked - my jar includes a META-INF/spring.factorys that is not empty, also the META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports.\n<p>So it has something to do with the ClassLoader not loading the file from my jar correctly.<br></p>\n<p>I confirmed this when Mocking my Server with MockBukkit:</p>\n<pre><code>@BeforeAll\npublic static void setUp() {\n    server = MockBukkit.mock();\n    plugin = MockBukkit.load(ParadubschManager.class);\n    server.getScheduler().performOneTick();\n    server.getScheduler().waitAsyncTasksFinished();\n    server.getScheduler().waitAsyncEventsFinished();\n    adminPlayer = server.addPlayer();\n    targetPlayer = server.addPlayer();\n    server.getScheduler().waitAsyncTasksFinished();\n    server.getScheduler().waitAsyncEventsFinished();\n}\n</code></pre>\n<p>and then everything works as intended and all my tests pass.<br>\nDoes anyone have an idea?</p>\n"},{"tags":["java","algorithm","recursion","data-structures","tree"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615971513,"creation_date":1615717853,"answer_id":66623425,"question_id":66622373,"body_markdown":"**Your problems:**\r\n1) When setting maxNode, you don&#39;t check its old value, \r\n2) AND you only pass maxNode downwards, not upwards/parallel. Passing int as parameter is pass-by-value, so you&#39;re not referring to a global value, but each method call gets its own value. Solution 1 directly addresses that.\r\n\r\n\r\n**Possible Solutions:**\r\n\r\n1) As parameter you could pass some class that contains the number. The reference itself changes (pass-by-value), but the addressed object always stays the same. So you always read/write on the same number. \r\n\r\n2) Or you could have a member variable (static or non-static) but be really careful about access. \r\n\r\n3) And third, you could use a statistics map or priority queue where ALL results are added, and when all is done, you choose the max. \r\n\r\nThe parameter solution is the easiest, safest and most efficient. The static is even easier, but disastrously unsafe, if maxSumNode gets run multiple times simultaneuosly. Last one is easy but not efficient. \r\n\r\n\r\n\r\n/UPDATE:\r\n\r\nHere&#39;s an example for solution #1. And a test.\r\nThis has lots of additional code to show the different styles that can be implemented.\r\n\r\n\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class MaxSumNode {\r\n    \r\n    \t/**\r\n    \t * This is a partial implementation of the real TreeNode class, for local implementation only.\r\n    \t * Remove when you have accedd to the real TreeNode class.\r\n    \t */\r\n    \tprivate static class TreeNode&lt;T&gt; {\r\n    \t\tT\t\t\t\t\t\tdata;\r\n    \t\tArrayList&lt;TreeNode&lt;T&gt;&gt;\tchildren;\r\n    \r\n    \t\tpublic TreeNode(final T pData) {\r\n    \t\t\tthis.data = pData;\r\n    \t\t\tchildren = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \r\n    \t\tpublic TreeNode&lt;T&gt; addChild(final TreeNode&lt;T&gt; pChild) {\r\n    \t\t\tif (children == null) children = new ArrayList&lt;&gt;();\r\n    \t\t\tchildren.add(pChild);\r\n    \t\t\treturn pChild; // used for builder syntax\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This is our class that contains the maximum and some additional infos (the max Node itself for example).\r\n    \t * This is private because it will not be used outside this class.\r\n    \t */\r\n    \tprivate static class CounterReference&lt;T&gt; {\r\n    \t\tpublic int\tnodeSum\t= 0;\r\n    \t\tpublic T\tnode\t= null;\r\n    \t\tpublic CounterReference() {}\r\n    \t}\r\n    \r\n    \tpublic enum Mode {\r\n    \t\tROOT_ONLY, ALL_LEVELS, ONLY_LEVEL_ONE, LEVEL_ONE_AND_BELOW\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/**\r\n    \t * Public method that returns calculations of a pre-set mode\r\n    \t */\r\n    \tpublic static CounterReference&lt;TreeNode&lt;Integer&gt;&gt; maxSumNode(final TreeNode&lt;Integer&gt; root) {\r\n    \t\treturn maxSumNode(root, Mode.ALL_LEVELS);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/**\r\n    \t * Our only public &#39;intelligent&#39; function, i.e. apart from the 2 simple helper functions.\r\n    \t * Here we set up for the calculations, and decide what range we actually want to consider in out calculations.\r\n    \t */\r\n    \tpublic static CounterReference&lt;TreeNode&lt;Integer&gt;&gt; maxSumNode(final TreeNode&lt;Integer&gt; root, final Mode pMode) {\r\n    \t\tfinal CounterReference&lt;TreeNode&lt;Integer&gt;&gt; cr = new CounterReference&lt;&gt;();\r\n    \r\n    \t\t// 4 different cases, depending on what you need. select ONE of those, comment out the rest\r\n    \t\tswitch (pMode) {\r\n    \t\t\tcase ROOT_ONLY: { // case 1: this case ONLY checks the root (level-0) element\r\n    \t\t\t\tcheckNode(root, cr, false);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase ALL_LEVELS: { // case 2: this case checks ALL elements, on ANY level\r\n    \t\t\t\tcheckNode(root, cr, true);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase ONLY_LEVEL_ONE: { // case 3: this case only checks level-1 elements (no root element, no child-children\r\n    \t\t\t\tif (root != null &amp;&amp; root.children != null &amp;&amp; root.children.size() &gt; 0) {\r\n    \t\t\t\t\tfor (final TreeNode&lt;Integer&gt; cs : root.children) {\r\n    \t\t\t\t\t\tcheckNode(cs, cr, false);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase LEVEL_ONE_AND_BELOW: { // case 4: this case checks level-1 elements and down wards, effectively leaving out the root element\r\n    \t\t\t\tif (root != null &amp;&amp; root.children != null &amp;&amp; root.children.size() &gt; 0) {\r\n    \t\t\t\t\tfor (final TreeNode&lt;Integer&gt; cs : root.children) {\r\n    \t\t\t\t\t\tcheckNode(cs, cr, true);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tdefault:\r\n    \t\t\t\tthrow new IllegalArgumentException(&quot;Unknown Mode &#39;&quot; + pMode + &quot;&#39;!&quot;);\r\n    \t\t}\r\n    \r\n    \t\treturn cr;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This node checks given Node and updates CounterReference if needed.\r\n    \t * This is private, because this method is only used by {@link #maxSumNode(TreeNode)} and will not be used outside this class\r\n    \t */\r\n    \tprivate static void checkNode(final TreeNode&lt;Integer&gt; pNode, final CounterReference&lt;TreeNode&lt;Integer&gt;&gt; pCR, final boolean pRecursive) {\r\n    \t\tif (pNode == null) return;\r\n    \r\n    \t\tfinal int sum = getWeightOfNodeAndDirectChildren(pNode);\r\n    \t\t// compare local result with global result\r\n    \t\tif (sum &gt; pCR.nodeSum) {\r\n    \t\t\t// we found a new max, so update counter\r\n    \t\t\tpCR.nodeSum = sum;\r\n    \t\t\tpCR.node = pNode;\r\n\t\t    }\r\n\r\n    \t\t// maybe do a recursive check of children and sub-children and sub-sub-children etc\r\n    \t\tif (pRecursive &amp;&amp; pNode.children != null &amp;&amp; pNode.children.size() &gt; 0) {\r\n    \t\t\tfor (final TreeNode&lt;Integer&gt; childNode : pNode.children) {\r\n    \t\t\t\tcheckNode(childNode, pCR, pRecursive);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * Our helper methods, to make the above code easier\r\n    \t */\r\n    \r\n    \tpublic static int getWeightOfNodeAndDirectChildren(final TreeNode&lt;Integer&gt; pNode) {\r\n    \t\tif (pNode == null) return 0;\r\n    \t\tif (pNode.data == null) return 0;\r\n    \r\n    \t\tint sum = 0;\r\n    \t\tsum += getWeightOfNode(pNode);\r\n    \t\tif (pNode.children != null &amp;&amp; pNode.children.size() &gt; 0) {\r\n    \t\t\tfor (final TreeNode&lt;Integer&gt; childNode : pNode.children) {\r\n    \t\t\t\tsum += getWeightOfNode(childNode);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn sum;\r\n    \t}\r\n    \r\n    \tpublic static int getWeightOfNode(final TreeNode&lt;Integer&gt; root) {\r\n    \t\tif (root == null) return 0;\r\n    \t\tif (root.data == null) return 0;\r\n    \t\treturn root.data.intValue();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/**\r\n    \t * Our test method\r\n    \t */\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal TreeNode&lt;Integer&gt; root = new TreeNode&lt;&gt;(Integer.valueOf(3));\r\n    \t\troot.addChild(new TreeNode&lt;&gt;(Integer.valueOf(5)));\r\n    \r\n    \t\tfinal TreeNode&lt;Integer&gt; right = root.addChild(new TreeNode&lt;&gt;(Integer.valueOf(7)));\r\n    \t\tright.addChild(new TreeNode&lt;&gt;(Integer.valueOf(13)));\r\n    \t\tfinal TreeNode&lt;Integer&gt; rightRight = right.addChild(new TreeNode&lt;&gt;(Integer.valueOf(17)));\r\n    \t\tright.addChild(new TreeNode&lt;&gt;(Integer.valueOf(19)));\r\n    \r\n    \t\trightRight.addChild(new TreeNode&lt;&gt;(Integer.valueOf(23)));\r\n    \t\trightRight.addChild(new TreeNode&lt;&gt;(Integer.valueOf(29)));\r\n    \r\n    \t\tfinal TreeNode&lt;Integer&gt; left = root.addChild(new TreeNode&lt;&gt;(Integer.valueOf(11)));\r\n    \t\tleft.addChild(new TreeNode&lt;&gt;(Integer.valueOf(31)));\r\n    \r\n    \t\tfinal TreeNode&lt;Integer&gt; leftLeft = left.addChild(new TreeNode&lt;&gt;(Integer.valueOf(37)));\r\n    \t\tleftLeft.addChild(new TreeNode&lt;&gt;(Integer.valueOf(41)));\r\n    \t\tleftLeft.addChild(new TreeNode&lt;&gt;(Integer.valueOf(43)));\r\n    \r\n    \r\n    \t\tSystem.out.println(&quot;The tree:&quot;);\r\n    \t\tprintNode(root, 0);\r\n    \t\tSystem.out.println();\r\n    \r\n    \t\tSystem.out.println(&quot;The calculation modes:&quot;);\r\n    \t\tfor (final Mode mode : Mode.values()) {\r\n    \t\t\tSystem.out.println(&quot;\\tMode: &quot; + mode);\r\n    \t\t\tfinal CounterReference&lt;TreeNode&lt;Integer&gt;&gt; result = maxSumNode(root, mode);\r\n    \t\t\tif (result == null || result.node == null) {\r\n    \t\t\t\tSystem.out.println(&quot;\\n\\n0.o NOO!11!! We do NOT havea result!&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;\\t\\tNode &quot; + result.node.data.intValue() + &quot; with max &quot; + result.nodeSum);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;All done, exiting...&quot;);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void printNode(final TreeNode&lt;Integer&gt; pRoot, final int pDepth) {\r\n    \t\tif (pRoot == null) return;\r\n    \r\n    \t\tfor (int i = 0; i &lt; pDepth; i++) {\r\n    \t\t\tSystem.out.print(&quot;\\t&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println(pRoot.data);\r\n    \r\n    \t\tif (pRoot.children != null &amp;&amp; pRoot.children.size() &gt; 0) {\r\n    \t\t\tfor (final TreeNode&lt;Integer&gt; c : pRoot.children) {\r\n    \t\t\t\tprintNode(c, pDepth + 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n\r\n// **UPDATE:**\r\nFixed a mistake inside `checkNode()` replaced `if ... return` with `if ... {}` because early return would prevent check of children, even though they might, on some deeper levels, find a new max.","title":"Return a Node having maximum sum of itself and its children in the entire tree but the max sum is being updated even if the current sum is less","body":"<p><strong>Your problems:</strong></p>\n<ol>\n<li>When setting maxNode, you don't check its old value,</li>\n<li>AND you only pass maxNode downwards, not upwards/parallel. Passing int as parameter is pass-by-value, so you're not referring to a global value, but each method call gets its own value. Solution 1 directly addresses that.</li>\n</ol>\n<p><strong>Possible Solutions:</strong></p>\n<ol>\n<li><p>As parameter you could pass some class that contains the number. The reference itself changes (pass-by-value), but the addressed object always stays the same. So you always read/write on the same number.</p>\n</li>\n<li><p>Or you could have a member variable (static or non-static) but be really careful about access.</p>\n</li>\n<li><p>And third, you could use a statistics map or priority queue where ALL results are added, and when all is done, you choose the max.</p>\n</li>\n</ol>\n<p>The parameter solution is the easiest, safest and most efficient. The static is even easier, but disastrously unsafe, if maxSumNode gets run multiple times simultaneuosly. Last one is easy but not efficient.</p>\n<p>/UPDATE:</p>\n<p>Here's an example for solution #1. And a test.\nThis has lots of additional code to show the different styles that can be implemented.</p>\n<pre><code>package stackoverflow;\n\nimport java.util.ArrayList;\n\n\npublic class MaxSumNode {\n\n    /**\n     * This is a partial implementation of the real TreeNode class, for local implementation only.\n     * Remove when you have accedd to the real TreeNode class.\n     */\n    private static class TreeNode&lt;T&gt; {\n        T                       data;\n        ArrayList&lt;TreeNode&lt;T&gt;&gt;  children;\n\n        public TreeNode(final T pData) {\n            this.data = pData;\n            children = new ArrayList&lt;&gt;();\n        }\n\n        public TreeNode&lt;T&gt; addChild(final TreeNode&lt;T&gt; pChild) {\n            if (children == null) children = new ArrayList&lt;&gt;();\n            children.add(pChild);\n            return pChild; // used for builder syntax\n        }\n    }\n\n    /**\n     * This is our class that contains the maximum and some additional infos (the max Node itself for example).\n     * This is private because it will not be used outside this class.\n     */\n    private static class CounterReference&lt;T&gt; {\n        public int  nodeSum = 0;\n        public T    node    = null;\n        public CounterReference() {}\n    }\n\n    public enum Mode {\n        ROOT_ONLY, ALL_LEVELS, ONLY_LEVEL_ONE, LEVEL_ONE_AND_BELOW\n    }\n\n\n\n    /**\n     * Public method that returns calculations of a pre-set mode\n     */\n    public static CounterReference&lt;TreeNode&lt;Integer&gt;&gt; maxSumNode(final TreeNode&lt;Integer&gt; root) {\n        return maxSumNode(root, Mode.ALL_LEVELS);\n    }\n\n\n\n    /**\n     * Our only public 'intelligent' function, i.e. apart from the 2 simple helper functions.\n     * Here we set up for the calculations, and decide what range we actually want to consider in out calculations.\n     */\n    public static CounterReference&lt;TreeNode&lt;Integer&gt;&gt; maxSumNode(final TreeNode&lt;Integer&gt; root, final Mode pMode) {\n        final CounterReference&lt;TreeNode&lt;Integer&gt;&gt; cr = new CounterReference&lt;&gt;();\n\n        // 4 different cases, depending on what you need. select ONE of those, comment out the rest\n        switch (pMode) {\n            case ROOT_ONLY: { // case 1: this case ONLY checks the root (level-0) element\n                checkNode(root, cr, false);\n                break;\n            }\n            case ALL_LEVELS: { // case 2: this case checks ALL elements, on ANY level\n                checkNode(root, cr, true);\n                break;\n            }\n            case ONLY_LEVEL_ONE: { // case 3: this case only checks level-1 elements (no root element, no child-children\n                if (root != null &amp;&amp; root.children != null &amp;&amp; root.children.size() &gt; 0) {\n                    for (final TreeNode&lt;Integer&gt; cs : root.children) {\n                        checkNode(cs, cr, false);\n                    }\n                }\n                break;\n            }\n            case LEVEL_ONE_AND_BELOW: { // case 4: this case checks level-1 elements and down wards, effectively leaving out the root element\n                if (root != null &amp;&amp; root.children != null &amp;&amp; root.children.size() &gt; 0) {\n                    for (final TreeNode&lt;Integer&gt; cs : root.children) {\n                        checkNode(cs, cr, true);\n                    }\n                }\n                break;\n            }\n            default:\n                throw new IllegalArgumentException(&quot;Unknown Mode '&quot; + pMode + &quot;'!&quot;);\n        }\n\n        return cr;\n    }\n\n    /**\n     * This node checks given Node and updates CounterReference if needed.\n     * This is private, because this method is only used by {@link #maxSumNode(TreeNode)} and will not be used outside this class\n     */\n    private static void checkNode(final TreeNode&lt;Integer&gt; pNode, final CounterReference&lt;TreeNode&lt;Integer&gt;&gt; pCR, final boolean pRecursive) {\n        if (pNode == null) return;\n\n        final int sum = getWeightOfNodeAndDirectChildren(pNode);\n        // compare local result with global result\n        if (sum &gt; pCR.nodeSum) {\n            // we found a new max, so update counter\n            pCR.nodeSum = sum;\n            pCR.node = pNode;\n        }\n\n        // maybe do a recursive check of children and sub-children and sub-sub-children etc\n        if (pRecursive &amp;&amp; pNode.children != null &amp;&amp; pNode.children.size() &gt; 0) {\n            for (final TreeNode&lt;Integer&gt; childNode : pNode.children) {\n                checkNode(childNode, pCR, pRecursive);\n            }\n        }\n    }\n\n\n\n    /*\n     * Our helper methods, to make the above code easier\n     */\n\n    public static int getWeightOfNodeAndDirectChildren(final TreeNode&lt;Integer&gt; pNode) {\n        if (pNode == null) return 0;\n        if (pNode.data == null) return 0;\n\n        int sum = 0;\n        sum += getWeightOfNode(pNode);\n        if (pNode.children != null &amp;&amp; pNode.children.size() &gt; 0) {\n            for (final TreeNode&lt;Integer&gt; childNode : pNode.children) {\n                sum += getWeightOfNode(childNode);\n            }\n        }\n\n        return sum;\n    }\n\n    public static int getWeightOfNode(final TreeNode&lt;Integer&gt; root) {\n        if (root == null) return 0;\n        if (root.data == null) return 0;\n        return root.data.intValue();\n    }\n\n\n\n    /**\n     * Our test method\n     */\n\n    public static void main(final String[] args) {\n        final TreeNode&lt;Integer&gt; root = new TreeNode&lt;&gt;(Integer.valueOf(3));\n        root.addChild(new TreeNode&lt;&gt;(Integer.valueOf(5)));\n\n        final TreeNode&lt;Integer&gt; right = root.addChild(new TreeNode&lt;&gt;(Integer.valueOf(7)));\n        right.addChild(new TreeNode&lt;&gt;(Integer.valueOf(13)));\n        final TreeNode&lt;Integer&gt; rightRight = right.addChild(new TreeNode&lt;&gt;(Integer.valueOf(17)));\n        right.addChild(new TreeNode&lt;&gt;(Integer.valueOf(19)));\n\n        rightRight.addChild(new TreeNode&lt;&gt;(Integer.valueOf(23)));\n        rightRight.addChild(new TreeNode&lt;&gt;(Integer.valueOf(29)));\n\n        final TreeNode&lt;Integer&gt; left = root.addChild(new TreeNode&lt;&gt;(Integer.valueOf(11)));\n        left.addChild(new TreeNode&lt;&gt;(Integer.valueOf(31)));\n\n        final TreeNode&lt;Integer&gt; leftLeft = left.addChild(new TreeNode&lt;&gt;(Integer.valueOf(37)));\n        leftLeft.addChild(new TreeNode&lt;&gt;(Integer.valueOf(41)));\n        leftLeft.addChild(new TreeNode&lt;&gt;(Integer.valueOf(43)));\n\n\n        System.out.println(&quot;The tree:&quot;);\n        printNode(root, 0);\n        System.out.println();\n\n        System.out.println(&quot;The calculation modes:&quot;);\n        for (final Mode mode : Mode.values()) {\n            System.out.println(&quot;\\tMode: &quot; + mode);\n            final CounterReference&lt;TreeNode&lt;Integer&gt;&gt; result = maxSumNode(root, mode);\n            if (result == null || result.node == null) {\n                System.out.println(&quot;\\n\\n0.o NOO!11!! We do NOT havea result!&quot;);\n            } else {\n                System.out.println(&quot;\\t\\tNode &quot; + result.node.data.intValue() + &quot; with max &quot; + result.nodeSum);\n            }\n        }\n\n        System.out.println(&quot;All done, exiting...&quot;);\n    }\n\n\n\n    private static void printNode(final TreeNode&lt;Integer&gt; pRoot, final int pDepth) {\n        if (pRoot == null) return;\n\n        for (int i = 0; i &lt; pDepth; i++) {\n            System.out.print(&quot;\\t&quot;);\n        }\n        System.out.println(pRoot.data);\n\n        if (pRoot.children != null &amp;&amp; pRoot.children.size() &gt; 0) {\n            for (final TreeNode&lt;Integer&gt; c : pRoot.children) {\n                printNode(c, pDepth + 1);\n            }\n        }\n    }\n\n\n}\n</code></pre>\n<p>// <strong>UPDATE:</strong>\nFixed a mistake inside <code>checkNode()</code> replaced <code>if ... return</code> with <code>if ... {}</code> because early return would prevent check of children, even though they might, on some deeper levels, find a new max.</p>\n"},{"tags":[],"owner":{"account_id":26016083,"reputation":1,"user_id":19724391,"display_name":"Omkar Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660037285,"creation_date":1660037285,"answer_id":73289476,"question_id":66622373,"body_markdown":"**Please check the below code for a simple solution.**\r\n\r\n    public static int maxSum;\r\n    public static TreeNode&lt;Integer&gt; resNode;\r\n    public static TreeNode&lt;Integer&gt; maxSumNode(TreeNode&lt;Integer&gt; root){\r\n        maxSum=0;\r\n        helper(root);\r\n        return resNode;\r\n    }\r\n    public static void helper(TreeNode&lt;Integer&gt; root){\r\n        if(root==null){\r\n            return;\r\n        }\r\n        int currSum = root.data;\r\n        int count = root.children.size();\r\n        for (int i = 0; i &lt; count; i++){\r\n            currSum += root.children.get(i).data;\r\n            helper(root.children.get(i));\r\n        }\r\n        if (currSum &gt; maxSum){\r\n            resNode = root;\r\n            maxSum = currSum;\r\n        }\r\n        return;\r\n    }\r\n","title":"Return a Node having maximum sum of itself and its children in the entire tree but the max sum is being updated even if the current sum is less","body":"<p><strong>Please check the below code for a simple solution.</strong></p>\n<pre><code>public static int maxSum;\npublic static TreeNode&lt;Integer&gt; resNode;\npublic static TreeNode&lt;Integer&gt; maxSumNode(TreeNode&lt;Integer&gt; root){\n    maxSum=0;\n    helper(root);\n    return resNode;\n}\npublic static void helper(TreeNode&lt;Integer&gt; root){\n    if(root==null){\n        return;\n    }\n    int currSum = root.data;\n    int count = root.children.size();\n    for (int i = 0; i &lt; count; i++){\n        currSum += root.children.get(i).data;\n        helper(root.children.get(i));\n    }\n    if (currSum &gt; maxSum){\n        resNode = root;\n        maxSum = currSum;\n    }\n    return;\n}\n</code></pre>\n"}],"owner":{"account_id":11320928,"reputation":27,"user_id":8301306,"display_name":"Vaibhav Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66623425,"answer_count":2,"score":0,"last_activity_date":1660037285,"creation_date":1615709702,"question_id":66622373,"body_markdown":"Need to find the node with the maximum sum of children and itself. The Input format :\r\n\r\nLine 1 : Elements in level order form separated by space (as per done in class). Order is -\r\n\r\nRoot_data, n (No_Of_Child_Of_Root), n children, and so on for every element\r\n\r\nOutput format : Node with maximum sum. \r\n\r\nIt returns correct answers but if you run the code by uncommenting the print statement you can see that the max sum is altered even though the current sum is less than the max sum.\r\n\r\n\r\n\r\n    public class Solution {\r\n\r\n    /*\tTreeNode structure \r\n     * \r\n     * class TreeNode&lt;T&gt; {\r\n\t\tT data;\r\n\t\tArrayList&lt;TreeNode&lt;T&gt;&gt; children;\r\n\r\n\t\tTreeNode(T data){\r\n\t\t\tthis.data = data;\r\n\t\t\tchildren = new ArrayList&lt;TreeNode&lt;T&gt;&gt;();\r\n\t\t}\r\n\t}*/\r\n\t\r\n\t\r\n\t\r\n\r\n    public static TreeNode&lt;Integer&gt; maxSumNode(TreeNode&lt;Integer&gt; root){\r\n    \t\t// Write your code here\r\n            return maxSumNode(root, 0);\r\n    \t}\r\n        \r\n        public static TreeNode&lt;Integer&gt; maxSumNode(TreeNode&lt;Integer&gt; root, int maxSum){\r\n        \r\n        if(root.children.size() == 0){\r\n            return null;\r\n            \r\n        }\r\n        \r\n        TreeNode&lt;Integer&gt; maxNode = null;\r\n        int tempSum = root.data;\r\n        for(int i = 0 ; i &lt; root.children.size() ; ++i){\r\n            tempSum += root.children.get(i).data;\r\n        }\r\n        if(tempSum &gt; maxSum){\r\n            maxSum = tempSum;\r\n            maxNode = root;\r\n            \r\n        }\r\n        //System.out.println(&quot;MaxNum now for &quot;+root.data+&quot; is: &quot;+ maxSum);\r\n        \r\n        for(int i = 0 ; i &lt; root.children.size() ; ++i){\r\n            TreeNode&lt;Integer&gt; temp = maxSumNode(root.children.get(i), maxSum);\r\n            if(temp == null){\r\n                continue;\r\n            }\r\n            if(temp != null){\r\n                maxNode = temp;\r\n            }\r\n        }\r\n        return maxNode;\r\n    }\r\n    }\r\n\r\n\r\nfor example if i give the input:\r\n5 3 1 2 3 1 15 2 4 5 1 6 0 0 0 0\r\n\r\nI get the output correctly but the maxSum is weird:\r\n\r\n[![Result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oi1es.png","title":"Return a Node having maximum sum of itself and its children in the entire tree but the max sum is being updated even if the current sum is less","body":"<p>Need to find the node with the maximum sum of children and itself. The Input format :</p>\n<p>Line 1 : Elements in level order form separated by space (as per done in class). Order is -</p>\n<p>Root_data, n (No_Of_Child_Of_Root), n children, and so on for every element</p>\n<p>Output format : Node with maximum sum.</p>\n<p>It returns correct answers but if you run the code by uncommenting the print statement you can see that the max sum is altered even though the current sum is less than the max sum.</p>\n<pre><code>public class Solution {\n\n/*  TreeNode structure \n * \n * class TreeNode&lt;T&gt; {\n    T data;\n    ArrayList&lt;TreeNode&lt;T&gt;&gt; children;\n\n    TreeNode(T data){\n        this.data = data;\n        children = new ArrayList&lt;TreeNode&lt;T&gt;&gt;();\n    }\n}*/\n\n\n\n\npublic static TreeNode&lt;Integer&gt; maxSumNode(TreeNode&lt;Integer&gt; root){\n        // Write your code here\n        return maxSumNode(root, 0);\n    }\n    \n    public static TreeNode&lt;Integer&gt; maxSumNode(TreeNode&lt;Integer&gt; root, int maxSum){\n    \n    if(root.children.size() == 0){\n        return null;\n        \n    }\n    \n    TreeNode&lt;Integer&gt; maxNode = null;\n    int tempSum = root.data;\n    for(int i = 0 ; i &lt; root.children.size() ; ++i){\n        tempSum += root.children.get(i).data;\n    }\n    if(tempSum &gt; maxSum){\n        maxSum = tempSum;\n        maxNode = root;\n        \n    }\n    //System.out.println(&quot;MaxNum now for &quot;+root.data+&quot; is: &quot;+ maxSum);\n    \n    for(int i = 0 ; i &lt; root.children.size() ; ++i){\n        TreeNode&lt;Integer&gt; temp = maxSumNode(root.children.get(i), maxSum);\n        if(temp == null){\n            continue;\n        }\n        if(temp != null){\n            maxNode = temp;\n        }\n    }\n    return maxNode;\n}\n}\n</code></pre>\n<p>for example if i give the input:\n5 3 1 2 3 1 15 2 4 5 1 6 0 0 0 0</p>\n<p>I get the output correctly but the maxSum is weird:</p>\n<p><a href=\"https://i.stack.imgur.com/Oi1es.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oi1es.png\" alt=\"Result\" /></a></p>\n"},{"tags":["java","tcp","udp","portforwarding","stun"],"answers":[{"tags":[],"owner":{"account_id":418106,"reputation":2806,"user_id":794473,"accept_rate":58,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1660036785,"creation_date":1353749251,"answer_id":13539963,"question_id":13501288,"body_markdown":"Consider the task of two machines wanting to communicate with each other. If the two machines are connected directly to the public Internet (not behind a router), then the two machines simply send packets back and forth to each other&#39;s public IP. Typically, machines are behind one or more routers. To simplify the problem, we assume only one level of routers.\r\n\r\nNAT traversal solves the problem of routers translating the outgoing port number of packets into something else (e.g. you send a request from port X, the router translates the packet to act as if it left from port Y instead). If the routers are port-forwarding, then the router doesn&#39;t actually do any translation (port X-&gt;X). Most home/corporate/etc routers are not port-forwarding, however, and thus NAT traversal comes into play. See [NAT traversal](http://en.wikipedia.org/wiki/NAT_traversal) and different types of [NATs](http://en.wikipedia.org/wiki/Network_address_translation#Methods_of_Port_translation).\r\n\r\nConsider a router&#39;s firewall that does any of the non port-forwarding translations in the above article (e.g.full cone). If a router receives some packet to port X, but the router has not sent any packets from port Y, it drops the packet (after all, to whom was the packet meant? the router has no idea!). Only when some private machine sends a packet and the router makes a translation to map port X from that private machine to external port Y will external packets TO port Y be forwarded to the private machine.\r\n\r\n### STUN traversal\r\nIn order for two clients, A and B both behind firewalls across the Internet, to communicate directly, they must somehow know the router mapping. The general solution is to use a STUN server to determine their port mapping. Machine A sends a packet form port X to STUN. The router translated the port to Y, and the STUN server sees this and responds back to A telling him what the external port was. B does the same. Then, A and B exchange their translated ports (by using some other central server...for a simplified example, Skype might have a central login server where A and B tell the Skype server their port translations, and Skype tells A and B respectively about the port mappings). Then, B sends a packet to A&#39;s public IP using port Y, not X. Machine A &quot;punched&quot; its firewall, allowing it to receive packets from external port Y.\r\n\r\n### Secure?\r\nYou mention security: does hole punching open up a network to security violations? Potentially...I haven&#39;t studied the subject, but consider a full cone NAT. Once the mapping is made, ANY external machine can send packets to machine A&#39;s router and A will get the packets, even if A has never sent a packet to some malicious machine Z. Machine Z, of course, would have to somehow discover the mapping. Some the Wikipedia article, the diagram only shows full cone NATs having this vulnerability, but don&#39;t take my word for it. Judging by the amount of applications that use hole punching (Skype, xbox live, ...), it would appear networks rely on application and system-level firewall protections in addition to router firewall measures.\r\n\r\nThe Ford article below briefly mentions security: &quot;Contrary to what its name may suggest, hole punching does not compromise the security of a private network.&quot; It would seem that networks rely on system-level firewalls more than router firewalls.\r\n\r\n### Symmetric NATs and TURN traversal\r\nSTUN doesn&#39;t always work: some routers &quot;behave badly.&quot; Machine A might send two packets from port X, one to stackoverflow.com and one to facebook.com. The router maps the stackoverflow.com packet FROM port Y and the facebook.com packet FROM port Z (even though machine A send both packets FROM internal port X). This is a symmetric NAT. These NATs are problematic, since the above STUN/Skype connection won&#39;t work. Replace stackoverflow.com with STUN and facebook.com with machine B (the person you&#39;re trying to Skype with). Unfortunately, STUN can find out the NAT mapping for packets A sends to STUN, but packets sent to B use an entirely different mapping. In general, it is impossible (without you being able to track outbound router packets) to determine port mappings for symmetric NATs. Thus, a central routing server is needed for clients to communicate, but this defeats the whole point of p2p. See [TURN](http://en.wikipedia.org/wiki/Traversal_Using_Relays_around_NAT).\r\n\r\n### Can we use this in a Java chat program?\r\nAny language with network library support (Java, C, etc) where you can send packets from arbitrary ports can use STUN to traversal a NAT (as long as its not a symmetric NAT, etc). In general, one *always* needs a central server (in this case two: STUN and a *login* server). The *login* server is used as described in the Skype example; once two clients know their port mappings, they must communicate this to each other somehow *before* the p2p communicate has begun (see [chicken or the egg](http://en.wikipedia.org/wiki/Chicken_or_the_egg)). But once A and B know each other&#39;s public IPs and NAT mappings, they can communicate directly.\r\n\r\n### Caveat\r\nThough I can&#39;t possibly list all NAT traversal caveats, one important concept is keep alive: once the router has made a port mapping, how long will it last? Say I connect to a STUN server, then wait 10 minutes for B to send me a packet once I tell it the mapping. The router will likely have dropped the mapping (routers have to regularly clear out old mappings for make room for new ones, and for a minimal attempt at security). I can&#39;t find my reference, and I think it varies depending on TCP vs UDP packets, but applications I am familiar with send a keep-alive packet every ~60 seconds or less to ensure the router doesn&#39;t drop the mapping. Once the router drops the mapping and machines trying to send packets, the packets will be dropped (leading to hours of confusion for me...).\r\n\r\n### Articles\r\n* [RFC 8489 STUN](https://www.rfc-editor.org/rfc/rfc8489)\r\n* [RFC 5766 TURN](https://www.rfc-editor.org/rfc/rfc5766)\r\n* [Peer-to-Peer Communication Across Network Address Translators. B. Ford, et al.](http://www.brynosaurus.com/pub/net/p2pnat/)\r\n\r\nThe last article is a great introduction to many of the ideas for routers and NAT traversal in genreal. I read it a while ago when I implemented some TURN server/client procedures, and the authors really know what they&#39;re talking about!","title":"What is STUN and does it need a port-forwarded server?","body":"<p>Consider the task of two machines wanting to communicate with each other. If the two machines are connected directly to the public Internet (not behind a router), then the two machines simply send packets back and forth to each other's public IP. Typically, machines are behind one or more routers. To simplify the problem, we assume only one level of routers.</p>\n<p>NAT traversal solves the problem of routers translating the outgoing port number of packets into something else (e.g. you send a request from port X, the router translates the packet to act as if it left from port Y instead). If the routers are port-forwarding, then the router doesn't actually do any translation (port X-&gt;X). Most home/corporate/etc routers are not port-forwarding, however, and thus NAT traversal comes into play. See <a href=\"http://en.wikipedia.org/wiki/NAT_traversal\" rel=\"nofollow noreferrer\">NAT traversal</a> and different types of <a href=\"http://en.wikipedia.org/wiki/Network_address_translation#Methods_of_Port_translation\" rel=\"nofollow noreferrer\">NATs</a>.</p>\n<p>Consider a router's firewall that does any of the non port-forwarding translations in the above article (e.g.full cone). If a router receives some packet to port X, but the router has not sent any packets from port Y, it drops the packet (after all, to whom was the packet meant? the router has no idea!). Only when some private machine sends a packet and the router makes a translation to map port X from that private machine to external port Y will external packets TO port Y be forwarded to the private machine.</p>\n<h3>STUN traversal</h3>\n<p>In order for two clients, A and B both behind firewalls across the Internet, to communicate directly, they must somehow know the router mapping. The general solution is to use a STUN server to determine their port mapping. Machine A sends a packet form port X to STUN. The router translated the port to Y, and the STUN server sees this and responds back to A telling him what the external port was. B does the same. Then, A and B exchange their translated ports (by using some other central server...for a simplified example, Skype might have a central login server where A and B tell the Skype server their port translations, and Skype tells A and B respectively about the port mappings). Then, B sends a packet to A's public IP using port Y, not X. Machine A &quot;punched&quot; its firewall, allowing it to receive packets from external port Y.</p>\n<h3>Secure?</h3>\n<p>You mention security: does hole punching open up a network to security violations? Potentially...I haven't studied the subject, but consider a full cone NAT. Once the mapping is made, ANY external machine can send packets to machine A's router and A will get the packets, even if A has never sent a packet to some malicious machine Z. Machine Z, of course, would have to somehow discover the mapping. Some the Wikipedia article, the diagram only shows full cone NATs having this vulnerability, but don't take my word for it. Judging by the amount of applications that use hole punching (Skype, xbox live, ...), it would appear networks rely on application and system-level firewall protections in addition to router firewall measures.</p>\n<p>The Ford article below briefly mentions security: &quot;Contrary to what its name may suggest, hole punching does not compromise the security of a private network.&quot; It would seem that networks rely on system-level firewalls more than router firewalls.</p>\n<h3>Symmetric NATs and TURN traversal</h3>\n<p>STUN doesn't always work: some routers &quot;behave badly.&quot; Machine A might send two packets from port X, one to stackoverflow.com and one to facebook.com. The router maps the stackoverflow.com packet FROM port Y and the facebook.com packet FROM port Z (even though machine A send both packets FROM internal port X). This is a symmetric NAT. These NATs are problematic, since the above STUN/Skype connection won't work. Replace stackoverflow.com with STUN and facebook.com with machine B (the person you're trying to Skype with). Unfortunately, STUN can find out the NAT mapping for packets A sends to STUN, but packets sent to B use an entirely different mapping. In general, it is impossible (without you being able to track outbound router packets) to determine port mappings for symmetric NATs. Thus, a central routing server is needed for clients to communicate, but this defeats the whole point of p2p. See <a href=\"http://en.wikipedia.org/wiki/Traversal_Using_Relays_around_NAT\" rel=\"nofollow noreferrer\">TURN</a>.</p>\n<h3>Can we use this in a Java chat program?</h3>\n<p>Any language with network library support (Java, C, etc) where you can send packets from arbitrary ports can use STUN to traversal a NAT (as long as its not a symmetric NAT, etc). In general, one <em>always</em> needs a central server (in this case two: STUN and a <em>login</em> server). The <em>login</em> server is used as described in the Skype example; once two clients know their port mappings, they must communicate this to each other somehow <em>before</em> the p2p communicate has begun (see <a href=\"http://en.wikipedia.org/wiki/Chicken_or_the_egg\" rel=\"nofollow noreferrer\">chicken or the egg</a>). But once A and B know each other's public IPs and NAT mappings, they can communicate directly.</p>\n<h3>Caveat</h3>\n<p>Though I can't possibly list all NAT traversal caveats, one important concept is keep alive: once the router has made a port mapping, how long will it last? Say I connect to a STUN server, then wait 10 minutes for B to send me a packet once I tell it the mapping. The router will likely have dropped the mapping (routers have to regularly clear out old mappings for make room for new ones, and for a minimal attempt at security). I can't find my reference, and I think it varies depending on TCP vs UDP packets, but applications I am familiar with send a keep-alive packet every ~60 seconds or less to ensure the router doesn't drop the mapping. Once the router drops the mapping and machines trying to send packets, the packets will be dropped (leading to hours of confusion for me...).</p>\n<h3>Articles</h3>\n<ul>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc8489\" rel=\"nofollow noreferrer\">RFC 8489 STUN</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc5766\" rel=\"nofollow noreferrer\">RFC 5766 TURN</a></li>\n<li><a href=\"http://www.brynosaurus.com/pub/net/p2pnat/\" rel=\"nofollow noreferrer\">Peer-to-Peer Communication Across Network Address Translators. B. Ford, et al.</a></li>\n</ul>\n<p>The last article is a great introduction to many of the ideas for routers and NAT traversal in genreal. I read it a while ago when I implemented some TURN server/client procedures, and the authors really know what they're talking about!</p>\n"}],"owner":{"account_id":1364949,"reputation":528,"user_id":1301590,"accept_rate":40,"display_name":"daviga404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12993,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":13539963,"answer_count":1,"score":14,"last_activity_date":1660036785,"creation_date":1353528674,"question_id":13501288,"body_markdown":"I&#39;ve done some research on p2p communication without a base server, and came over STUN. From what I&#39;ve read, STUN is a way of NAT &quot;Hole Punching&quot; that would not require a peer to be port-forwarded to be connected to. Is this correct, and what exactly does hole punching mean? It all seems very vulnerable as it is going past the firewall if it does not require port-forwarding, and I do not entirely understand what STUN does.\r\nCould STUN be used in a p2p program in Java or another language such as a chat client that sends messages over TCP/UDP ports to the peer WITHOUT a base server or WITHOUT requiring the user to port forward?","title":"What is STUN and does it need a port-forwarded server?","body":"<p>I've done some research on p2p communication without a base server, and came over STUN. From what I've read, STUN is a way of NAT \"Hole Punching\" that would not require a peer to be port-forwarded to be connected to. Is this correct, and what exactly does hole punching mean? It all seems very vulnerable as it is going past the firewall if it does not require port-forwarding, and I do not entirely understand what STUN does.\nCould STUN be used in a p2p program in Java or another language such as a chat client that sends messages over TCP/UDP ports to the peer WITHOUT a base server or WITHOUT requiring the user to port forward?</p>\n"},{"tags":["java","rest","curl","put","media-type"],"comments":[{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":0,"creation_date":1491400409,"post_id":43233139,"comment_id":73536468,"body_markdown":"http://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json","body":"<a href=\"http://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json\" title=\"http 415 unsupported media type error with json\">stackoverflow.com/questions/22566433/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1491402973,"post_id":43233139,"comment_id":73538676,"body_markdown":"The [man page](https://linux.die.net/man/1/curl) says that the URL has to be the last argument.  Perhaps the `-d @filename` portion should occur before the URL.","body":"The <a href=\"https://linux.die.net/man/1/curl\" rel=\"nofollow noreferrer\">man page</a> says that the URL has to be the last argument.  Perhaps the <code>-d @filename</code> portion should occur before the URL."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":1,"creation_date":1491403512,"post_id":43233139,"comment_id":73539127,"body_markdown":"@Ethan have you tried to use an array of arguments instead of a one-liner string as also suggested by this [answer](http://stackoverflow.com/questions/7134486/how-to-execute-command-with-parameters)? Next, why don&#39;t you send the request via Java directly? Invoking external processes might cause more problems [if not done properly](http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html)","body":"@Ethan have you tried to use an array of arguments instead of a one-liner string as also suggested by this <a href=\"http://stackoverflow.com/questions/7134486/how-to-execute-command-with-parameters\">answer</a>? Next, why don&#39;t you send the request via Java directly? Invoking external processes might cause more problems <a href=\"http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">if not done properly</a>"},{"owner":{"account_id":10619257,"reputation":21,"user_id":7820850,"display_name":"Ethan"},"score":0,"creation_date":1491716585,"post_id":43233139,"comment_id":73672089,"body_markdown":"@VGR I think the order of URL specification doesn&#39;t matter since after some trials, the original format is correct.","body":"@VGR I think the order of URL specification doesn&#39;t matter since after some trials, the original format is correct."},{"owner":{"account_id":10619257,"reputation":21,"user_id":7820850,"display_name":"Ethan"},"score":0,"creation_date":1491716715,"post_id":43233139,"comment_id":73672115,"body_markdown":"@RomanVottner I&#39;ve tried your suggestion, but the result shows the same 415 error. I&#39;ve also tried invoke request via Java directly, but it seems to have conflict with other built-in rest service and thus not taking effect with both GET and PUT request.","body":"@RomanVottner I&#39;ve tried your suggestion, but the result shows the same 415 error. I&#39;ve also tried invoke request via Java directly, but it seems to have conflict with other built-in rest service and thus not taking effect with both GET and PUT request."},{"owner":{"account_id":10619257,"reputation":21,"user_id":7820850,"display_name":"Ethan"},"score":0,"creation_date":1491716757,"post_id":43233139,"comment_id":73672127,"body_markdown":"I&#39;ve found the solution, please reference my answer! Thanks for all you comments.","body":"I&#39;ve found the solution, please reference my answer! Thanks for all you comments."},{"owner":{"account_id":5533852,"reputation":1244,"user_id":4392892,"display_name":"Sunil Kanzar"},"score":0,"creation_date":1529208477,"post_id":43233139,"comment_id":88787456,"body_markdown":"First of all you should not use curl command to make HTTP call instead \nyou can use `HttpURLConnection` to do the same.","body":"First of all you should not use curl command to make HTTP call instead  you can use <code>HttpURLConnection</code> to do the same."}],"answers":[{"tags":[],"owner":{"account_id":10619257,"reputation":21,"user_id":7820850,"display_name":"Ethan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529208132,"creation_date":1491716946,"answer_id":43303505,"question_id":43233139,"body_markdown":"After some trials, the following works:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;curl -i --user user_name:password -H Content-Type:application/json -X PUT url_without_quote -d @/home/user_name/put_content.json&quot;);\r\n\r\nFrom other thread of discussion, it suggests that the application should follow &#39;:&#39; character without any space character, and the double quotes are no need to be specified.\r\n\r\nThis works fine for me now! Thanks for the above comments!","title":"CURL REST Command in java, header specified but still received 415 Unsupported Media Type","body":"<p>After some trials, the following works:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"curl -i --user user_name:password -H Content-Type:application/json -X PUT url_without_quote -d @/home/user_name/put_content.json\");\n</code></pre>\n\n<p>From other thread of discussion, it suggests that the application should follow ':' character without any space character, and the double quotes are no need to be specified.</p>\n\n<p>This works fine for me now! Thanks for the above comments!</p>\n"}],"owner":{"account_id":10619257,"reputation":21,"user_id":7820850,"display_name":"Ethan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660036672,"creation_date":1491400130,"question_id":43233139,"body_markdown":"I am trying to send REST request by sending CURL command with Java Process Runtime with the code:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;curl -i --user user_name:password -H \\&quot;Content-Type: application/json\\&quot; -X PUT url_without_quote -d @/home/user_name/put_content.json&quot;);  \r\n\r\nHowever, I received 415 Unsupported Media Type even with header specified.\r\nI&#39;ve tried the above command in terminal and it works fine with 200 return code. \r\nI&#39;ve also tried GET request with the same options in curl command without -d content of PUT request, and it returns 200, and *GET* correct response content.\r\n\r\nIt&#39;s weird in the sense that the same command works in terminal but fails in java process running code.\r\n\r\nHave you encountered the same issue or have any solution?\r\n\r\nI doubt if there are some additional header need to be specified for PUT REST request or the character cases of &quot;**Content-Type: application/json&quot;** matters?","title":"CURL REST Command in java, header specified but still received 415 Unsupported Media Type","body":"<p>I am trying to send REST request by sending CURL command with Java Process Runtime with the code:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"curl -i --user user_name:password -H \\\"Content-Type: application/json\\\" -X PUT url_without_quote -d @/home/user_name/put_content.json\");  \n</code></pre>\n\n<p>However, I received 415 Unsupported Media Type even with header specified.\nI've tried the above command in terminal and it works fine with 200 return code. \nI've also tried GET request with the same options in curl command without -d content of PUT request, and it returns 200, and <em>GET</em> correct response content.</p>\n\n<p>It's weird in the sense that the same command works in terminal but fails in java process running code.</p>\n\n<p>Have you encountered the same issue or have any solution?</p>\n\n<p>I doubt if there are some additional header need to be specified for PUT REST request or the character cases of \"<strong>Content-Type: application/json\"</strong> matters?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1659368327,"post_id":73196059,"comment_id":129272628,"body_markdown":"Perhaps `Files.isReadable` is a more useful check?","body":"Perhaps <code>Files.isReadable</code> is a more useful check?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1659372925,"post_id":73196059,"comment_id":129274140,"body_markdown":"@Garret Wilson you may dig deeper into what is described on https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)  `false if its existence cannot be determined`. Maybe because locked it can&#39;t be determined from the system","body":"@Garret Wilson you may dig deeper into what is described on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ni&zwnj;&#8203;o/&hellip;</a>  <code>false if its existence cannot be determined</code>. Maybe because locked it can&#39;t be determined from the system"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659373886,"post_id":73196059,"comment_id":129274450,"body_markdown":"VGR, `Files.isReadable()` is useful, yes; here it returns `false`. (I&#39;ll update the question with that information.) I guess that only emphasizes the question: why is `exist()` acting like `isReadable()`? I would expect `exists()` to return `true` and `isReadable()` to return `false`.","body":"VGR, <code>Files.isReadable()</code> is useful, yes; here it returns <code>false</code>. (I&#39;ll update the question with that information.) I guess that only emphasizes the question: why is <code>exist()</code> acting like <code>isReadable()</code>? I would expect <code>exists()</code> to return <code>true</code> and <code>isReadable()</code> to return <code>false</code>."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":2,"creation_date":1659373990,"post_id":73196059,"comment_id":129274480,"body_markdown":"Panagiotis, to your question, if Java can&#39;t determine whether the file exists or not, how can it still determine that it is a regular file? In other words, if it can&#39;t determine if it exists or not, I would expect `isRegularFile()` to return `false`. I guess I&#39;m just trying to understand how the behavior meshes with the method semantics, and whether this is platform-dependent and/or JVM implementation dependent.","body":"Panagiotis, to your question, if Java can&#39;t determine whether the file exists or not, how can it still determine that it is a regular file? In other words, if it can&#39;t determine if it exists or not, I would expect <code>isRegularFile()</code> to return <code>false</code>. I guess I&#39;m just trying to understand how the behavior meshes with the method semantics, and whether this is platform-dependent and/or JVM implementation dependent."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1659374492,"post_id":73196059,"comment_id":129274625,"body_markdown":"@GarretWilson could you provide a minimal reproduceable example? What is the process that makes this issue upon this file? Does it have anything to do with hyper-v ?","body":"@GarretWilson could you provide a minimal reproduceable example? What is the process that makes this issue upon this file? Does it have anything to do with hyper-v ?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659376205,"post_id":73196059,"comment_id":129275164,"body_markdown":"The program in question is [VeraCrypt,](https://veracrypt.fr/); when it has an `.hc` volume mounted, the file behaves as indicated (and RoboCopy skips it).","body":"The program in question is <a href=\"https://veracrypt.fr/\" rel=\"nofollow noreferrer\">VeraCrypt,</a>; when it has an <code>.hc</code> volume mounted, the file behaves as indicated (and RoboCopy skips it)."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659378928,"post_id":73196059,"comment_id":129275960,"body_markdown":"I updated the question to indicate this this happens to the `A:\\System Volume Information` as well! This seems like buggy behavior to me.","body":"I updated the question to indicate this this happens to the <code>A:\\System Volume Information</code> as well! This seems like buggy behavior to me."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1659381301,"post_id":73196059,"comment_id":129276701,"body_markdown":"Note that it *may* be that the JVM is asking it to the underlying file system.","body":"Note that it <i>may</i> be that the JVM is asking it to the underlying file system."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1659398862,"post_id":73196059,"comment_id":129280611,"body_markdown":"@GarretWilson what is the file format that `A:\\ ` uses ?","body":"@GarretWilson what is the file format that <code>A:\\ </code> uses ?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659400761,"post_id":73196059,"comment_id":129280874,"body_markdown":"Panagiotis all these examples are using NTFS.","body":"Panagiotis all these examples are using NTFS."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1659427330,"post_id":73196059,"comment_id":129286021,"body_markdown":"@GarretWilson could you please execute `Files.readAttributes(fooBarFile, DosFileAttributes.class, LinkOption.NOFOLLOW_LINKS);` and report any difference from `Files.readAttributes(fooBarFile, DosFileAttributes.class)` ?","body":"@GarretWilson could you please execute <code>Files.readAttributes(fooBarFile, DosFileAttributes.class, LinkOption.NOFOLLOW_LINKS);</code> and report any difference from <code>Files.readAttributes(fooBarFile, DosFileAttributes.class)</code> ?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1659427634,"post_id":73196059,"comment_id":129286127,"body_markdown":"@GarretWilson also give a try on `Files.isRegularFile(fooBarFile, LinkOption.NOFOLLOW_LINKS)` and check if there is any difference","body":"@GarretWilson also give a try on <code>Files.isRegularFile(fooBarFile, LinkOption.NOFOLLOW_LINKS)</code> and check if there is any difference"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1659429454,"post_id":73196059,"comment_id":129286728,"body_markdown":"@GarretWilson And in the end you can also verify the modified command `Files.exists(fooBarFile, LinkOption.NOFOLLOW_LINKS);`","body":"@GarretWilson And in the end you can also verify the modified command <code>Files.exists(fooBarFile, LinkOption.NOFOLLOW_LINKS);</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1659484260,"post_id":73196059,"comment_id":129304645,"body_markdown":"Just try to open the file and cope with the exception as and when it occurs. All this futzing about with `exists()/notExists()/isReadable()/isDirectoy()notExists().isRegularFile()` is just a waste of time, and is also vulnerable to timing-window problems. The exception is still lurking and you still have to deal with it.  If you can&#39;t open the file, you can&#39;t open the file, and if you can you can. That&#39;s the only thing that actually matters. So do that, and nothing else. The best test for determining whether any resource can be used is simply to try to use it in the normal way.","body":"Just try to open the file and cope with the exception as and when it occurs. All this futzing about with <code>exists()&#47;notExists()&#47;isReadable()&#47;isDirectoy()notExists().is&zwnj;&#8203;RegularFile()</code> is just a waste of time, and is also vulnerable to timing-window problems. The exception is still lurking and you still have to deal with it.  If you can&#39;t open the file, you can&#39;t open the file, and if you can you can. That&#39;s the only thing that actually matters. So do that, and nothing else. The best test for determining whether any resource can be used is simply to try to use it in the normal way."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1663277070,"post_id":73196059,"comment_id":130208209,"body_markdown":"@GarretWilson I believe I have provided the answer to the question explaining why this is not a bug, but a feature. If you agree, could you please accept the answer as to make the future readability of the thread more clear?","body":"@GarretWilson I believe I have provided the answer to the question explaining why this is not a bug, but a feature. If you agree, could you please accept the answer as to make the future readability of the thread more clear?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1660036192,"creation_date":1659432257,"answer_id":73205050,"question_id":73196059,"body_markdown":"&gt; Thus it seems like Files.exists() is duplicating Files.isReadable()\r\n&gt; (at least on OpenJDK 17 on Windows), even though that behavior doesn&#39;t\r\n&gt; seem to follow the Files.exists() API contract. Is this a JDK bug?\r\n\r\nTL;DR\r\n-----\r\n\r\nThis is the way it was designed to behave and it follows the API contract. One major reason for why we have 2 methods, is that both methods return `true` if they are sure about the question.\r\n\r\n* `Files.exist()` true means file definitely exists.\r\n* `Files.notExists()` true means file definitely not exists.\r\n\r\nBut **false does not mean otherwise**. It could as well mean that the system can&#39;t determine the outcome and it returns false as the safest return if it can&#39;t throw such a checked exception.\r\n\r\n* If you want to do some **action which is based on the condition that the file does not exist** in the system, **you should never use** `If (!Files.exists(file))` {...}. In this case let&#39;s say you want to create a new file and you want to make sure that another file does not already exist you **should always check with** `If(Files.notExists(file)){...}`\r\n\r\n* On the other side if you want to do some **action which is based on the condition that the file exist** in the system, **you should never use** `If (!Files.notExists(file))` {...}. In this case let&#39;s say you want to read/modify a file and you want to make sure that the file already exist you **should always check with** `If(Files.exists(file)){...}`\r\n\r\nAnalytical explanation\r\n----------------------\r\n\r\nI believe the java API [doc][1] of `Files.exists(fooBarFile)` could be a bit better, although the java API [doc][2] for `notExists` is a bit clearer for this in the following:\r\n\r\n&gt; Note that this method is not the complement of the exists method.\r\n&gt; Where it is not possible to determine if a file exists or not then\r\n&gt; **both methods return false**.\r\n\r\nHere is what I suspect is going on.\r\n\r\nAccording to the method description\r\n\r\n    //  @return  \r\n    // {@code true} if the file exists; \r\n    // {@code false} if the file does not exist or its existence cannot be determined.\r\n    public static boolean exists(Path path, LinkOption... options) {\r\n            if (options.length == 0) {\r\n                FileSystemProvider provider = provider(path);\r\n                if (provider instanceof AbstractFileSystemProvider)\r\n                    return ((AbstractFileSystemProvider)provider).exists(path);\r\n            }\r\n    \r\n            try {\r\n                if (followLinks(options)) {\r\n                    provider(path).checkAccess(path); &lt;-------------- if no options provided this is executed\r\n                } else {\r\n                    // attempt to read attributes without following links\r\n                    readAttributes(path, BasicFileAttributes.class,\r\n                                   LinkOption.NOFOLLOW_LINKS);\r\n                }\r\n                // file exists\r\n                return true;\r\n            } catch (IOException x) {\r\n                // does not exist or unable to determine if file exists\r\n                return false;  &lt;----- AccessDeniedException is causing return false\r\n            }\r\n    \r\n        }\r\n\r\nIf someone inspects the code he will see the meaning of `@return {@code false}... or its existence cannot be determined.`\r\n\r\ncould be further explained from the line of `.checkAccess(path)` which mentions in the API doc:\r\n\r\n     * @throws  AccessDeniedException\r\n     *          the requested access would be denied or the access cannot be\r\n     *          determined because the Java virtual machine has insufficient\r\n     *          privileges or other reasons. &lt;i&gt;(optional specific exception)&lt;/i&gt;\r\n\r\nSo in case a `AccessDeniedException` is thrown which is also a subclass of `FileSystemException` (which also the questioner is getting from another command during file read), then `Files.exists(fooBarFile)` is supposed to return `false` because of that exception which does not allow the JVM to determine if the file definitely exists.\r\n\r\nQuestion also mentions:\r\n\r\n&gt; Files.**notExists**(fooBarFile) returns false as well\r\n\r\nwhich I think originates also from the same point.\r\n\r\n    public static boolean notExists(Path path, LinkOption... options) {\r\n            try {\r\n                if (followLinks(options)) {\r\n                    provider(path).checkAccess(path);  &lt;---------- If no options provided this line executes\r\n                } else {\r\n                    // attempt to read attributes without following links\r\n                    readAttributes(path, BasicFileAttributes.class,\r\n                                   LinkOption.NOFOLLOW_LINKS);\r\n                }\r\n                // file exists\r\n                return false;\r\n            } catch (NoSuchFileException x) {\r\n                // file confirmed not to exist\r\n                return true;\r\n            } catch (IOException x) { \r\n                return false;   &lt;------ In case of AccessDeniedException or some other IOException the return is false.\r\n            }\r\n        }\r\n\r\nWhich verifies that both methods `exists` and `notExists` are designed to return `false` in case `AccessDeniedException` or some other `IOException` is thrown, as this would be translated into , JVM **can&#39;t determine if the file exists or not**.\r\n\r\nSo each method gives **the safest return it could give** in this uncertain condition, considering it can&#39;t throw such an exception. So in case \r\n* it is `exists()` it returns `false` if it can&#39;t determine, so that the developer would not be sure that the file exists and move forward with actions such as reading the file.\r\n* it is `notExists()` it returns `false` if it can&#39;t determine, so that developer would not be sure that the file does not exist and move forward with actions such as creating a new file.\r\n\r\nSo both methods shall be used appropriately and trusted for a definite answer **only if they return `true`**. `false` does not mean negative answer to `exists` or `notExists`. And someone should never be based on the outcome of `!Files.exists(file)` and `!Files.notExists(file)`, at least as a logical inversion of the answer of the method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#exists(java.nio.file.Path,%20java.nio.file.LinkOption...)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#notExists(java.nio.file.Path,%20java.nio.file.LinkOption...)","title":"Java recognizes some files and directories but still thinks they do not exist","body":"<blockquote>\n<p>Thus it seems like Files.exists() is duplicating Files.isReadable()\n(at least on OpenJDK 17 on Windows), even though that behavior doesn't\nseem to follow the Files.exists() API contract. Is this a JDK bug?</p>\n</blockquote>\n<h2>TL;DR</h2>\n<p>This is the way it was designed to behave and it follows the API contract. One major reason for why we have 2 methods, is that both methods return <code>true</code> if they are sure about the question.</p>\n<ul>\n<li><code>Files.exist()</code> true means file definitely exists.</li>\n<li><code>Files.notExists()</code> true means file definitely not exists.</li>\n</ul>\n<p>But <strong>false does not mean otherwise</strong>. It could as well mean that the system can't determine the outcome and it returns false as the safest return if it can't throw such a checked exception.</p>\n<ul>\n<li><p>If you want to do some <strong>action which is based on the condition that the file does not exist</strong> in the system, <strong>you should never use</strong> <code>If (!Files.exists(file))</code> {...}. In this case let's say you want to create a new file and you want to make sure that another file does not already exist you <strong>should always check with</strong> <code>If(Files.notExists(file)){...}</code></p>\n</li>\n<li><p>On the other side if you want to do some <strong>action which is based on the condition that the file exist</strong> in the system, <strong>you should never use</strong> <code>If (!Files.notExists(file))</code> {...}. In this case let's say you want to read/modify a file and you want to make sure that the file already exist you <strong>should always check with</strong> <code>If(Files.exists(file)){...}</code></p>\n</li>\n</ul>\n<h2>Analytical explanation</h2>\n<p>I believe the java API <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#exists(java.nio.file.Path,%20java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\">doc</a> of <code>Files.exists(fooBarFile)</code> could be a bit better, although the java API <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#notExists(java.nio.file.Path,%20java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\">doc</a> for <code>notExists</code> is a bit clearer for this in the following:</p>\n<blockquote>\n<p>Note that this method is not the complement of the exists method.\nWhere it is not possible to determine if a file exists or not then\n<strong>both methods return false</strong>.</p>\n</blockquote>\n<p>Here is what I suspect is going on.</p>\n<p>According to the method description</p>\n<pre><code>//  @return  \n// {@code true} if the file exists; \n// {@code false} if the file does not exist or its existence cannot be determined.\npublic static boolean exists(Path path, LinkOption... options) {\n        if (options.length == 0) {\n            FileSystemProvider provider = provider(path);\n            if (provider instanceof AbstractFileSystemProvider)\n                return ((AbstractFileSystemProvider)provider).exists(path);\n        }\n\n        try {\n            if (followLinks(options)) {\n                provider(path).checkAccess(path); &lt;-------------- if no options provided this is executed\n            } else {\n                // attempt to read attributes without following links\n                readAttributes(path, BasicFileAttributes.class,\n                               LinkOption.NOFOLLOW_LINKS);\n            }\n            // file exists\n            return true;\n        } catch (IOException x) {\n            // does not exist or unable to determine if file exists\n            return false;  &lt;----- AccessDeniedException is causing return false\n        }\n\n    }\n</code></pre>\n<p>If someone inspects the code he will see the meaning of <code>@return {@code false}... or its existence cannot be determined.</code></p>\n<p>could be further explained from the line of <code>.checkAccess(path)</code> which mentions in the API doc:</p>\n<pre><code> * @throws  AccessDeniedException\n *          the requested access would be denied or the access cannot be\n *          determined because the Java virtual machine has insufficient\n *          privileges or other reasons. &lt;i&gt;(optional specific exception)&lt;/i&gt;\n</code></pre>\n<p>So in case a <code>AccessDeniedException</code> is thrown which is also a subclass of <code>FileSystemException</code> (which also the questioner is getting from another command during file read), then <code>Files.exists(fooBarFile)</code> is supposed to return <code>false</code> because of that exception which does not allow the JVM to determine if the file definitely exists.</p>\n<p>Question also mentions:</p>\n<blockquote>\n<p>Files.<strong>notExists</strong>(fooBarFile) returns false as well</p>\n</blockquote>\n<p>which I think originates also from the same point.</p>\n<pre><code>public static boolean notExists(Path path, LinkOption... options) {\n        try {\n            if (followLinks(options)) {\n                provider(path).checkAccess(path);  &lt;---------- If no options provided this line executes\n            } else {\n                // attempt to read attributes without following links\n                readAttributes(path, BasicFileAttributes.class,\n                               LinkOption.NOFOLLOW_LINKS);\n            }\n            // file exists\n            return false;\n        } catch (NoSuchFileException x) {\n            // file confirmed not to exist\n            return true;\n        } catch (IOException x) { \n            return false;   &lt;------ In case of AccessDeniedException or some other IOException the return is false.\n        }\n    }\n</code></pre>\n<p>Which verifies that both methods <code>exists</code> and <code>notExists</code> are designed to return <code>false</code> in case <code>AccessDeniedException</code> or some other <code>IOException</code> is thrown, as this would be translated into , JVM <strong>can't determine if the file exists or not</strong>.</p>\n<p>So each method gives <strong>the safest return it could give</strong> in this uncertain condition, considering it can't throw such an exception. So in case</p>\n<ul>\n<li>it is <code>exists()</code> it returns <code>false</code> if it can't determine, so that the developer would not be sure that the file exists and move forward with actions such as reading the file.</li>\n<li>it is <code>notExists()</code> it returns <code>false</code> if it can't determine, so that developer would not be sure that the file does not exist and move forward with actions such as creating a new file.</li>\n</ul>\n<p>So both methods shall be used appropriately and trusted for a definite answer <strong>only if they return <code>true</code></strong>. <code>false</code> does not mean negative answer to <code>exists</code> or <code>notExists</code>. And someone should never be based on the outcome of <code>!Files.exists(file)</code> and <code>!Files.notExists(file)</code>, at least as a logical inversion of the answer of the method.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":1,"score":19,"last_activity_date":1660036192,"creation_date":1659367463,"question_id":73196059,"body_markdown":"I&#39;m using Java 17 on Windows 10 with NTFS. There is a file `A:\\foo.bar` that shows up in a Java `Files.list()` operation, but that when I try to read it using Java, it throws a `java.nio.file.FileSystemException`:\r\n\r\n&gt; A:\\foo.bar: The process cannot access the file because it is being used by another process\r\n\r\nThat&#39;s fine. There is another low-level process which has locked the file. When I turn off that other process, Java can access the file just fine. In fact even Robocopy, when trying to access this file, will skip the file (actually it will appear that Robocopy has copied the file, but it hasn&#39;t). So no mystery so far—another process is locking the file for exclusive access.\r\n\r\nBut here&#39;s the strange part. For the most part the file appears normal to Java:\r\n\r\n* As I mentioned the file `A:\\foo.bar` shows up in a `Files.list()` of `A:\\`.\r\n* If I call `Files.isRegularFile(fooBarFile)`, it returns `true` as expected.\r\n* If I call `Files.isReadable(fooBarFile)`, it turns `false` as I might expect (and which is useful in this case).\r\n* If I call `Files.readAttributes(fooBarFile, &quot;*&quot;)` I see the attributes (timestamps, etc.).\r\n* If I call `Files.readAttributes(fooBarFile, DosFileAttributes.class)` it returns the DOS attributes.\r\n\r\n**But if I call [`Files.exists(fooBarFile)`][1] it returns `false`!** So it would appear that a file that is locked for exclusive access by another process will return `false` for `exists()`, which to me doesn&#39;t seem to follow the semantics of the `exists()` method as explained in its API.\r\n\r\nAs it is, it does seem useful to see if a file is not accessible by checking to see if `exists()` returns `false` yet `isRegularFile()` returns `true`; nevertheless that was unexpected and seems to be undocumented. Is this expected behavior? Is it documented? Does it work the same on other platforms, e.g. Linux?\r\n\r\nFinally I note that [`Files.notExists(fooBarFile)`][2] returns `false` as well, so Java is not saying that the file is nonexistent, merely that it does not exist. Hmmm … the only way I can make that make sense is if `exists()` means &quot;accessible&quot;, but the API contract for `exists()` does not talk about accessibility. The `notExists()` documentation adds:\r\n\r\n&gt; Note that this method is not the complement of the exists method. Where it is not possible to determine if a file exists or not then both methods return false.\r\n\r\nThat doesn&#39;t seem to apply to this situation either. So although this behavior is useful, it is unexpected, doesn&#39;t seem to be documented, and therefore I&#39;m hesitant about relying too much on it. Can anyone provide more information or better yet authoritative documentation?\r\n\r\n_Update:_ A similar thing seems to happen with unreadable _directories_. For example the [`A:\\System Volume Information` directory][3] is marked as &quot;hidden&quot; and &quot;read-only&quot; on Windows. It similarly throws a `java.nio.file.FileSystemException` exception if you try to access it. But `Files.exists()` returns `false`, even though `Files.isDirectory()` returns `true`! In fact it behaves exactly as the bullet points above, except that `isDirectory()` returns `true` instead of `isRegularFile()`.\r\n\r\nThus it seems like `Files.exists()` is duplicating `Files.isReadable()` (at least on OpenJDK 17 on Windows), even though that behavior doesn&#39;t seem to follow the `Files.exists()` API contract. Is this a JDK bug?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)\r\n  [3]: https://devblogs.microsoft.com/oldnewthing/20031120-00/?p=41753","title":"Java recognizes some files and directories but still thinks they do not exist","body":"<p>I'm using Java 17 on Windows 10 with NTFS. There is a file <code>A:\\foo.bar</code> that shows up in a Java <code>Files.list()</code> operation, but that when I try to read it using Java, it throws a <code>java.nio.file.FileSystemException</code>:</p>\n<blockquote>\n<p>A:\\foo.bar: The process cannot access the file because it is being used by another process</p>\n</blockquote>\n<p>That's fine. There is another low-level process which has locked the file. When I turn off that other process, Java can access the file just fine. In fact even Robocopy, when trying to access this file, will skip the file (actually it will appear that Robocopy has copied the file, but it hasn't). So no mystery so far—another process is locking the file for exclusive access.</p>\n<p>But here's the strange part. For the most part the file appears normal to Java:</p>\n<ul>\n<li>As I mentioned the file <code>A:\\foo.bar</code> shows up in a <code>Files.list()</code> of <code>A:\\</code>.</li>\n<li>If I call <code>Files.isRegularFile(fooBarFile)</code>, it returns <code>true</code> as expected.</li>\n<li>If I call <code>Files.isReadable(fooBarFile)</code>, it turns <code>false</code> as I might expect (and which is useful in this case).</li>\n<li>If I call <code>Files.readAttributes(fooBarFile, &quot;*&quot;)</code> I see the attributes (timestamps, etc.).</li>\n<li>If I call <code>Files.readAttributes(fooBarFile, DosFileAttributes.class)</code> it returns the DOS attributes.</li>\n</ul>\n<p><strong>But if I call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"noreferrer\"><code>Files.exists(fooBarFile)</code></a> it returns <code>false</code>!</strong> So it would appear that a file that is locked for exclusive access by another process will return <code>false</code> for <code>exists()</code>, which to me doesn't seem to follow the semantics of the <code>exists()</code> method as explained in its API.</p>\n<p>As it is, it does seem useful to see if a file is not accessible by checking to see if <code>exists()</code> returns <code>false</code> yet <code>isRegularFile()</code> returns <code>true</code>; nevertheless that was unexpected and seems to be undocumented. Is this expected behavior? Is it documented? Does it work the same on other platforms, e.g. Linux?</p>\n<p>Finally I note that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"noreferrer\"><code>Files.notExists(fooBarFile)</code></a> returns <code>false</code> as well, so Java is not saying that the file is nonexistent, merely that it does not exist. Hmmm … the only way I can make that make sense is if <code>exists()</code> means &quot;accessible&quot;, but the API contract for <code>exists()</code> does not talk about accessibility. The <code>notExists()</code> documentation adds:</p>\n<blockquote>\n<p>Note that this method is not the complement of the exists method. Where it is not possible to determine if a file exists or not then both methods return false.</p>\n</blockquote>\n<p>That doesn't seem to apply to this situation either. So although this behavior is useful, it is unexpected, doesn't seem to be documented, and therefore I'm hesitant about relying too much on it. Can anyone provide more information or better yet authoritative documentation?</p>\n<p><em>Update:</em> A similar thing seems to happen with unreadable <em>directories</em>. For example the <a href=\"https://devblogs.microsoft.com/oldnewthing/20031120-00/?p=41753\" rel=\"noreferrer\"><code>A:\\System Volume Information</code> directory</a> is marked as &quot;hidden&quot; and &quot;read-only&quot; on Windows. It similarly throws a <code>java.nio.file.FileSystemException</code> exception if you try to access it. But <code>Files.exists()</code> returns <code>false</code>, even though <code>Files.isDirectory()</code> returns <code>true</code>! In fact it behaves exactly as the bullet points above, except that <code>isDirectory()</code> returns <code>true</code> instead of <code>isRegularFile()</code>.</p>\n<p>Thus it seems like <code>Files.exists()</code> is duplicating <code>Files.isReadable()</code> (at least on OpenJDK 17 on Windows), even though that behavior doesn't seem to follow the <code>Files.exists()</code> API contract. Is this a JDK bug?</p>\n"},{"tags":["java","cursor","point"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1660037715,"post_id":73289243,"comment_id":129432328,"body_markdown":"You need to place the code that checks the position inside a timer, another thread, or an event, otherwise, it will only run once when your code is first launched. Note: Don&#39;t place the code in a while loop because it will just lock up your application (Use another thread, a timer, or respond to mouse movement events). Possibly helpful: [Detect Mouse Move Event On JPanel](https://stackoverflow.com/questions/861895/detect-mouse-move-event-on-jpanel). If you want more code please provide more detail.","body":"You need to place the code that checks the position inside a timer, another thread, or an event, otherwise, it will only run once when your code is first launched. Note: Don&#39;t place the code in a while loop because it will just lock up your application (Use another thread, a timer, or respond to mouse movement events). Possibly helpful: <a href=\"https://stackoverflow.com/questions/861895/detect-mouse-move-event-on-jpanel\">Detect Mouse Move Event On JPanel</a>. If you want more code please provide more detail."},{"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"score":0,"creation_date":1660038094,"post_id":73289243,"comment_id":129432474,"body_markdown":"@sorifiend Thanks. FIrst I need to learn how to use a timer.","body":"@sorifiend Thanks. FIrst I need to learn how to use a timer."}],"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660036165,"creation_date":1660036165,"question_id":73289243,"body_markdown":"I am creating a Java program simulating Windows 95. I found the Start Menu exceptionally difficult to program with Swing package, therefore I declared JLabel ImageIcon Objects which represent the Start Menu in different situations. (If there is a good way to program the Windows Start Menu with inherent Swing objects, please tell me)\r\n\r\nFor example:\r\n\r\nThe first image is the Start Menu open with no item selected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe second image is the Start Menu open with &quot;Shut Down...&quot; Selected.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried to use the MouseInfo.getPointerInfo().getLocation() method to obtain the X and Y coordinates of the mouse cursor. Before that, I measured the X and Y coordinates with the following code. After obtaining results from it, I reached the conclusion that between java.awt.Point[x=4,y=630] and java.awt.Point[x=287,y=680], &quot;Shut Down...&quot; in the Start Menu should be selected. \r\n\r\n     while (true) {\r\n       try {\r\n         Thread.sleep(2000);\r\n       } catch (InterruptedException ex) {\r\n         ex.printStackTrace();\r\n       }\r\n       JOptionPane.showConfirmDialog(null, MouseInfo.getPointerInfo().getLocation());\r\n     }\r\nBut the following code failed to work. I would like to achieve the following effect: when the mouse cursor is between java.awt.Point[x=4,y=630] and java.awt.Point[x=287,y=680], the first image turns into the second image. Any help or suggestions would be appreciated.\r\n\r\nMy code is as follows:\r\n\r\n    //Desktop\r\n        JDesktopPane desktop = new JDesktopPane();\r\n        //Start Menu Open\r\n        JLabel startMenuOpen = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;StartMenuOpen.png&quot;)));\r\n        startMenuOpen.setBounds(-155, 195, 600, 600);\r\n        //Start Menu Open When &quot;Shut Down...&quot; is Selected\r\n        JLabel startMenuOpenShutDownSelected = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;StartMenuOpenShutDownSelected.png&quot;)));\r\n        startMenuOpenShutDownSelected.setBounds(-155, 195, 600, 600);\r\n    \r\n        Point point = MouseInfo.getPointerInfo().getLocation();\r\n        double x = point.getX();\r\n        double y = point.getY();\r\n        if (x &gt; 4 &amp;&amp; x &lt; 287 &amp;&amp; y &gt; 630 &amp;&amp; y &lt; 680 &amp;&amp; startMenuOpen.getParent() != null) {\r\n          desktop.remove(startMenuOpen);\r\n          desktop.add(startMenuOpenShutDownSelected);\r\n          desktop.revalidate();\r\n          desktop.repaint();\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/5MsSp.png\r\n  [2]: https://i.stack.imgur.com/W5fNA.png\r\n","title":"How do you simulate the Windows Start Menu being selected and unselected with MouseInfo.getPointerInfo().getLocation()?","body":"<p>I am creating a Java program simulating Windows 95. I found the Start Menu exceptionally difficult to program with Swing package, therefore I declared JLabel ImageIcon Objects which represent the Start Menu in different situations. (If there is a good way to program the Windows Start Menu with inherent Swing objects, please tell me)</p>\n<p>For example:</p>\n<p>The first image is the Start Menu open with no item selected.</p>\n<p><a href=\"https://i.stack.imgur.com/5MsSp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5MsSp.png\" alt=\"enter image description here\" /></a></p>\n<p>The second image is the Start Menu open with &quot;Shut Down...&quot; Selected.</p>\n<p><a href=\"https://i.stack.imgur.com/W5fNA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W5fNA.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to use the MouseInfo.getPointerInfo().getLocation() method to obtain the X and Y coordinates of the mouse cursor. Before that, I measured the X and Y coordinates with the following code. After obtaining results from it, I reached the conclusion that between java.awt.Point[x=4,y=630] and java.awt.Point[x=287,y=680], &quot;Shut Down...&quot; in the Start Menu should be selected.</p>\n<pre><code> while (true) {\n   try {\n     Thread.sleep(2000);\n   } catch (InterruptedException ex) {\n     ex.printStackTrace();\n   }\n   JOptionPane.showConfirmDialog(null, MouseInfo.getPointerInfo().getLocation());\n }\n</code></pre>\n<p>But the following code failed to work. I would like to achieve the following effect: when the mouse cursor is between java.awt.Point[x=4,y=630] and java.awt.Point[x=287,y=680], the first image turns into the second image. Any help or suggestions would be appreciated.</p>\n<p>My code is as follows:</p>\n<pre><code>//Desktop\n    JDesktopPane desktop = new JDesktopPane();\n    //Start Menu Open\n    JLabel startMenuOpen = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;StartMenuOpen.png&quot;)));\n    startMenuOpen.setBounds(-155, 195, 600, 600);\n    //Start Menu Open When &quot;Shut Down...&quot; is Selected\n    JLabel startMenuOpenShutDownSelected = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;StartMenuOpenShutDownSelected.png&quot;)));\n    startMenuOpenShutDownSelected.setBounds(-155, 195, 600, 600);\n\n    Point point = MouseInfo.getPointerInfo().getLocation();\n    double x = point.getX();\n    double y = point.getY();\n    if (x &gt; 4 &amp;&amp; x &lt; 287 &amp;&amp; y &gt; 630 &amp;&amp; y &lt; 680 &amp;&amp; startMenuOpen.getParent() != null) {\n      desktop.remove(startMenuOpen);\n      desktop.add(startMenuOpenShutDownSelected);\n      desktop.revalidate();\n      desktop.repaint();\n    }\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1509543006,"post_id":47055743,"comment_id":81058989,"body_markdown":"Have you tried annotating (@Indexed) the indexed field(name) in the person pojo ? Did that not work you or may be that is not what you are looking for ?","body":"Have you tried annotating (@Indexed) the indexed field(name) in the person pojo ? Did that not work you or may be that is not what you are looking for ?"},{"owner":{"account_id":6526283,"reputation":982,"user_id":5048935,"accept_rate":83,"display_name":"Maxim"},"score":0,"creation_date":1509609185,"post_id":47055743,"comment_id":81088173,"body_markdown":"@Veeram That&#39;s not what I am looking for. I have two similar DB model classes, one of which extends the other, and one of these should have a compound unique index over 2 fields, while the other should only have a simple unique index over 1 field.\n\nSo I&#39;ve put the `@CompoundIndex` annotation for the extending class and have to add the index programmatically for the extended class.","body":"@Veeram That&#39;s not what I am looking for. I have two similar DB model classes, one of which extends the other, and one of these should have a compound unique index over 2 fields, while the other should only have a simple unique index over 1 field.  So I&#39;ve put the <code>@CompoundIndex</code> annotation for the extending class and have to add the index programmatically for the extended class."},{"owner":{"account_id":6128773,"reputation":959,"user_id":5230876,"accept_rate":60,"display_name":"Nishant Bhardwaz"},"score":0,"creation_date":1515406192,"post_id":47055743,"comment_id":83274320,"body_markdown":"@Maxim did you found your answer? I have the same doubt.","body":"@Maxim did you found your answer? I have the same doubt."},{"owner":{"account_id":6526283,"reputation":982,"user_id":5048935,"accept_rate":83,"display_name":"Maxim"},"score":0,"creation_date":1516178871,"post_id":47055743,"comment_id":83578318,"body_markdown":"@NishantBhardwaz I&#39;ve just placed it in the repository&#39;s constructor in absence of a better option.","body":"@NishantBhardwaz I&#39;ve just placed it in the repository&#39;s constructor in absence of a better option."}],"answers":[{"tags":[],"owner":{"account_id":4273159,"reputation":1154,"user_id":3494508,"display_name":"Dawid Naczke"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1531232687,"creation_date":1531232687,"answer_id":51267763,"question_id":47055743,"body_markdown":"If you need to do it in programmatic way, you can just create new Spring&#39;s @Configuration and perform such initialization: \r\n  \r\n    @Configuration\r\n    @DependsOn(&quot;mongoTemplate&quot;)\r\n    public class CollectionsConfig {\r\n\r\n        @Autowired\r\n        private MongoTemplate mongoTemplate;\r\n\r\n        @PostConstruct\r\n        public void initIndexes() {\r\n            mongoTemplate.indexOps(&quot;collectionName&quot;) // collection name string or .class\r\n                .ensureIndex(\r\n                    new Index().on(&quot;name&quot;, Sort.Direction.ASC)\r\n            );\r\n        }\r\n    }","title":"Spring Data MongoDB - Where to create an index programmatically for a Mongo collection?","body":"<p>If you need to do it in programmatic way, you can just create new Spring's @Configuration and perform such initialization: </p>\n\n<pre><code>@Configuration\n@DependsOn(\"mongoTemplate\")\npublic class CollectionsConfig {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @PostConstruct\n    public void initIndexes() {\n        mongoTemplate.indexOps(\"collectionName\") // collection name string or .class\n            .ensureIndex(\n                new Index().on(\"name\", Sort.Direction.ASC)\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19468856,"reputation":51,"user_id":15116471,"display_name":"parsa ahani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660036012,"creation_date":1660036012,"answer_id":73289207,"question_id":47055743,"body_markdown":"MongoDB supports compound indexes, where a single index structure holds references to multiple fields.\r\n\r\nLet&#39;s see a quick example using compound indexes:\r\n\r\n    @QueryEntity\r\n    @Document\r\n    @CompoundIndexes({\r\n        @CompoundIndex(name = &quot;email_age&quot;, def = &quot;{&#39;email.id&#39; : 1, &#39;age&#39;: 1}&quot;)\r\n    })\r\n    public class User {\r\n        //\r\n    }","title":"Spring Data MongoDB - Where to create an index programmatically for a Mongo collection?","body":"<p>MongoDB supports compound indexes, where a single index structure holds references to multiple fields.</p>\n<p>Let's see a quick example using compound indexes:</p>\n<pre><code>@QueryEntity\n@Document\n@CompoundIndexes({\n    @CompoundIndex(name = &quot;email_age&quot;, def = &quot;{'email.id' : 1, 'age': 1}&quot;)\n})\npublic class User {\n    //\n}\n</code></pre>\n"}],"owner":{"account_id":6526283,"reputation":982,"user_id":5048935,"accept_rate":83,"display_name":"Maxim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20824,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":51267763,"answer_count":2,"score":25,"last_activity_date":1660036012,"creation_date":1509542116,"question_id":47055743,"body_markdown":"To create an index for a collection (as documented here https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/) one can use something like the following:\r\n\r\n    mongoTemplate.indexOps(Person.class).ensureIndex(new Index().on(&quot;name&quot;,Order.ASCENDING));\r\nBut where in the program should I place this code snippet? \r\n\r\nIn the relevant repository&#39;s constructor? I&#39;ve did it like that now and it works, but I somehow feel like it is bad design.\r\n\r\nSomewhere in Mongo configuration? I haven&#39;t found a suitable method to override for that here https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/config/AbstractMongoConfiguration.html\r\n","title":"Spring Data MongoDB - Where to create an index programmatically for a Mongo collection?","body":"<p>To create an index for a collection (as documented here <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/\" rel=\"noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/</a>) one can use something like the following:</p>\n\n<pre><code>mongoTemplate.indexOps(Person.class).ensureIndex(new Index().on(\"name\",Order.ASCENDING));\n</code></pre>\n\n<p>But where in the program should I place this code snippet? </p>\n\n<p>In the relevant repository's constructor? I've did it like that now and it works, but I somehow feel like it is bad design.</p>\n\n<p>Somewhere in Mongo configuration? I haven't found a suitable method to override for that here <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/config/AbstractMongoConfiguration.html\" rel=\"noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/config/AbstractMongoConfiguration.html</a></p>\n"},{"tags":["java","kubernetes","google-cloud-platform","heap-dump"],"comments":[{"owner":{"account_id":20057415,"reputation":13897,"user_id":14704799,"display_name":"gohm&#39;c"},"score":0,"creation_date":1660035077,"post_id":73288939,"comment_id":129431421,"body_markdown":"`mountPath: /dumps/heap-dump` but CESTDumping heap to /dumps/**demo**-heap-dump?","body":"<code>mountPath: &#47;dumps&#47;heap-dump</code> but CESTDumping heap to /dumps/**demo**-heap-dump?"},{"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"score":0,"creation_date":1660035299,"post_id":73288939,"comment_id":129431499,"body_markdown":"Yes, this confused me even more. It should have been created in the /dumps/heap-dump directory","body":"Yes, this confused me even more. It should have been created in the /dumps/heap-dump directory"}],"answers":[{"tags":[],"owner":{"account_id":20057415,"reputation":13897,"user_id":14704799,"display_name":"gohm&#39;c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660035404,"creation_date":1660035404,"answer_id":73289091,"question_id":73288939,"body_markdown":"Try:\r\n\r\n    ...\r\n    env:\r\n    - name: JAVA_TOOL_OPTIONS\r\n      value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/heap-dump\\&quot;&quot;  # &lt;-- update the path\r\n    ...","title":"Logs says that heap dump is created in gc persistent volume but when entering in the pod there is no heap dump file","body":"<p>Try:</p>\n<pre><code>...\nenv:\n- name: JAVA_TOOL_OPTIONS\n  value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/heap-dump\\&quot;&quot;  # &lt;-- update the path\n...\n</code></pre>\n"}],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73289091,"answer_count":1,"score":0,"last_activity_date":1660035404,"creation_date":1660034718,"question_id":73288939,"body_markdown":"I have created the following persistent volume in GoogleCloud by deploying the following yml file:\r\n\r\n```\r\napiVersion: v1\r\nkind: PersistentVolume\r\nmetadata:\r\n  name: staging-filestore\r\n  labels:\r\n    filestore: standard\r\nspec:\r\n  capacity:\r\n    storage: 1T\r\n  accessModes:\r\n  - ReadWriteMany\r\n  mountOptions:\r\n  - lookupcache=positive #Disables caching to make all writes be sync to the server\r\n  nfs:\r\n    path: /staging\r\n    server: 10.64.16.130\r\n---\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: staging-filestore-pvc\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      filestore: standard\r\n  accessModes:\r\n  - ReadWriteMany\r\n  storageClassName: &quot;&quot;\r\n  resources:\r\n    requests:\r\n      storage: 1T\r\n\r\n```\r\n\r\nThe volume is created successfully and mounted in thein the service below:\r\n\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: demo\r\n  labels:\r\n    app: demo\r\n    vendor: rs\r\nspec:\r\n  selector:\r\n    app: demo\r\n    vendor: rs\r\n  ports:\r\n  - port: 4010\r\n    name: internal\r\n    targetPort: 4010\r\n  - port: 80\r\n    name: external\r\n    targetPort: 4010\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: demo\r\n  labels:\r\n    app: demo\r\n    vendor: rs\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app: demo\r\n  replicas: 1\r\n  revisionHistoryLimit: 2\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: demo\r\n        vendor: rs\r\n    spec:\r\n      imagePullSecrets:\r\n      - name: dockerhub-secret\r\n\r\n      containers:\r\n\r\n      - name: demo\r\n        image: rs/demo:latest\r\n        imagePullPolicy: Always\r\n        resources:\r\n          requests:\r\n            memory: &quot;1Gi&quot;\r\n          limits:\r\n            memory: &quot;2Gi&quot;\r\n        volumeMounts:\r\n          - mountPath: /dumps/heap-dump\r\n            name: dumpstorage\r\n        readinessProbe:\r\n          httpGet:\r\n            path: /_health\r\n            port: http\r\n          initialDelaySeconds: 5\r\n          periodSeconds: 5\r\n          failureThreshold: 5\r\n        livenessProbe:\r\n          httpGet:\r\n            path: /_health\r\n            port: http\r\n          initialDelaySeconds: 25\r\n          periodSeconds: 5\r\n          failureThreshold: 10\r\n        envFrom:\r\n        - configMapRef:\r\n            name: rs-config\r\n        env:\r\n        - name: JAVA_TOOL_OPTIONS\r\n          value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/demo-heap-dump\\&quot;&quot;\r\n        ports:\r\n        - containerPort: 4010\r\n          name: http\r\n      volumes:\r\n        - name: dumpstorage\r\n          persistentVolumeClaim:\r\n            claimName: staging-filestore-PVC\r\n            readOnly: false\r\n```\r\n\r\nI want that the heap dump generated when the application has a memory overflow error to be stored and the staging-filestore-PVC volume. To test this, I set the heap size to 1MB with the option ```-Xmx16m```. The application crashes causing also the pod to crash. I can see in the logs that say the heap dump is created:\r\n\r\n```\r\n2022-08-08 15:34:55.767 CESTDumping heap to /dumps/demo-heap-dump ...\r\n2022-08-08 15:34:55.990 CESTHeap dump file created [26757864 bytes in 0.223 secs]\r\n```\r\n\r\nI deploy the service yml file again with the ```-Xmx1G``` option. And enter inside the pod terminal with the command ```kubectl exec -it demo-77f84d9957-vxrsz -- sh```, go to the /dumps directory there is no demo-heap-dump file.\r\n[![enter image description here][1]][1]\r\n\r\nI am struggling to understand why the file is not present although no error is thrown and the logs say that the file is created. Thank you for the help.\r\n\r\nRegards,\r\nRando.\r\n\r\n  [1]: https://i.stack.imgur.com/0X3U1.png","title":"Logs says that heap dump is created in gc persistent volume but when entering in the pod there is no heap dump file","body":"<p>I have created the following persistent volume in GoogleCloud by deploying the following yml file:</p>\n<pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: staging-filestore\n  labels:\n    filestore: standard\nspec:\n  capacity:\n    storage: 1T\n  accessModes:\n  - ReadWriteMany\n  mountOptions:\n  - lookupcache=positive #Disables caching to make all writes be sync to the server\n  nfs:\n    path: /staging\n    server: 10.64.16.130\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: staging-filestore-pvc\nspec:\n  selector:\n    matchLabels:\n      filestore: standard\n  accessModes:\n  - ReadWriteMany\n  storageClassName: &quot;&quot;\n  resources:\n    requests:\n      storage: 1T\n\n</code></pre>\n<p>The volume is created successfully and mounted in thein the service below:</p>\n<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: demo\n  labels:\n    app: demo\n    vendor: rs\nspec:\n  selector:\n    app: demo\n    vendor: rs\n  ports:\n  - port: 4010\n    name: internal\n    targetPort: 4010\n  - port: 80\n    name: external\n    targetPort: 4010\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: demo\n  labels:\n    app: demo\n    vendor: rs\nspec:\n  selector:\n    matchLabels:\n      app: demo\n  replicas: 1\n  revisionHistoryLimit: 2\n  template:\n    metadata:\n      labels:\n        app: demo\n        vendor: rs\n    spec:\n      imagePullSecrets:\n      - name: dockerhub-secret\n\n      containers:\n\n      - name: demo\n        image: rs/demo:latest\n        imagePullPolicy: Always\n        resources:\n          requests:\n            memory: &quot;1Gi&quot;\n          limits:\n            memory: &quot;2Gi&quot;\n        volumeMounts:\n          - mountPath: /dumps/heap-dump\n            name: dumpstorage\n        readinessProbe:\n          httpGet:\n            path: /_health\n            port: http\n          initialDelaySeconds: 5\n          periodSeconds: 5\n          failureThreshold: 5\n        livenessProbe:\n          httpGet:\n            path: /_health\n            port: http\n          initialDelaySeconds: 25\n          periodSeconds: 5\n          failureThreshold: 10\n        envFrom:\n        - configMapRef:\n            name: rs-config\n        env:\n        - name: JAVA_TOOL_OPTIONS\n          value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/demo-heap-dump\\&quot;&quot;\n        ports:\n        - containerPort: 4010\n          name: http\n      volumes:\n        - name: dumpstorage\n          persistentVolumeClaim:\n            claimName: staging-filestore-PVC\n            readOnly: false\n</code></pre>\n<p>I want that the heap dump generated when the application has a memory overflow error to be stored and the staging-filestore-PVC volume. To test this, I set the heap size to 1MB with the option <code>-Xmx16m</code>. The application crashes causing also the pod to crash. I can see in the logs that say the heap dump is created:</p>\n<pre><code>2022-08-08 15:34:55.767 CESTDumping heap to /dumps/demo-heap-dump ...\n2022-08-08 15:34:55.990 CESTHeap dump file created [26757864 bytes in 0.223 secs]\n</code></pre>\n<p>I deploy the service yml file again with the <code>-Xmx1G</code> option. And enter inside the pod terminal with the command <code>kubectl exec -it demo-77f84d9957-vxrsz -- sh</code>, go to the /dumps directory there is no demo-heap-dump file.\n<a href=\"https://i.stack.imgur.com/0X3U1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0X3U1.png\" alt=\"enter image description here\" /></a></p>\n<p>I am struggling to understand why the file is not present although no error is thrown and the logs say that the file is created. Thank you for the help.</p>\n<p>Regards,\nRando.</p>\n"},{"tags":["java","spring","jpa","orm","spring-transactions"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1650256601,"post_id":71907612,"comment_id":127065857,"body_markdown":"Why are you calling a setter method in `getName()`?  Note that for gets and simple sets, `@Transactional` is probably not needed at all.","body":"Why are you calling a setter method in <code>getName()</code>?  Note that for gets and simple sets, <code>@Transactional</code> is probably not needed at all."},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1650256819,"post_id":71907612,"comment_id":127065888,"body_markdown":"It&#39;s just for testing purpose, I hit the endpoint with get request, and hard code the setName value. If I comment out `@Transactional`, the db never updates data. So, why dose setter and @Transactional updates db?","body":"It&#39;s just for testing purpose, I hit the endpoint with get request, and hard code the setName value. If I comment out <code>@Transactional</code>, the db never updates data. So, why dose setter and @Transactional updates db?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":2,"creation_date":1650256820,"post_id":71907612,"comment_id":127065889,"body_markdown":"Your assumption is correct, `@Transactional` used for service methods which alters the data. So you must check that the `userRepository.findById` does change the data in database, if not `@Transactional` is not required.","body":"Your assumption is correct, <code>@Transactional</code> used for service methods which alters the data. So you must check that the <code>userRepository.findById</code> does change the data in database, if not <code>@Transactional</code> is not required."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1650256945,"post_id":71907612,"comment_id":127065903,"body_markdown":"@KarthikeyanVaithilingam `@Transactional` would only be needed in the case where the underlying SQL is more than a single statement.  For basic setters on a single table/entity, the underlying update should already be atomic.","body":"@KarthikeyanVaithilingam <code>@Transactional</code> would only be needed in the case where the underlying SQL is more than a single statement.  For basic setters on a single table/entity, the underlying update should already be atomic."},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":1,"creation_date":1650257496,"post_id":71907612,"comment_id":127065990,"body_markdown":"@Karthikeyan Vaithilingam I am sure without `@Transactional`, db never updates, since I just queried it in db terminal..","body":"@Karthikeyan Vaithilingam I am sure without <code>@Transactional</code>, db never updates, since I just queried it in db terminal.."},{"owner":{"account_id":10183690,"reputation":235,"user_id":7519523,"display_name":"Σωτήρης Ραφαήλ"},"score":0,"creation_date":1650272310,"post_id":71907612,"comment_id":127069144,"body_markdown":"Without the @Transactional spring will never commit any data in the database. Is required for insert/update/delete actions.","body":"Without the @Transactional spring will never commit any data in the database. Is required for insert/update/delete actions."}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650268894,"creation_date":1650267660,"answer_id":71908943,"question_id":71907612,"body_markdown":"Spring uses Hibernate as ORM under the hood.\r\nWhen you call `userRepository.findById`, Hibernate entity manager is called under the hood, it retrieves entity from database and at the same time makes this `entity manageable` (you can read separately about Hibernate managed entities). \r\nWhat it means, in a simple words, the Hibernate &#39;remembers&#39; the reference to this entity in its internal structures, in the so-called `session`. It, actually, &#39;remembers&#39; all entities which it retrieves from database (even the list of entities obtained by queries) during single transaction (in the very basic case).\r\n\r\nWhen you make some method `@Transactional`, by default Hibernate `session` is `flushed` when such method is finished. `session.flush()` is called under the hood.\r\n\r\nOnce `session gets flushed`, Hibernate pushes all changes made to these `managed entities` back into the database.\r\n\r\nThat is why your changes got to the database, once method was finished, without any additional calls.\r\n\r\nTo dig deeper into the topic, you can read more about `Hibernate managed entities` , `session flush mode`, `repository.save(), repository.saveAndFlush() in Spring Data`.","title":"How to understand @Transactional with setters in Java?","body":"<p>Spring uses Hibernate as ORM under the hood.\nWhen you call <code>userRepository.findById</code>, Hibernate entity manager is called under the hood, it retrieves entity from database and at the same time makes this <code>entity manageable</code> (you can read separately about Hibernate managed entities).\nWhat it means, in a simple words, the Hibernate 'remembers' the reference to this entity in its internal structures, in the so-called <code>session</code>. It, actually, 'remembers' all entities which it retrieves from database (even the list of entities obtained by queries) during single transaction (in the very basic case).</p>\n<p>When you make some method <code>@Transactional</code>, by default Hibernate <code>session</code> is <code>flushed</code> when such method is finished. <code>session.flush()</code> is called under the hood.</p>\n<p>Once <code>session gets flushed</code>, Hibernate pushes all changes made to these <code>managed entities</code> back into the database.</p>\n<p>That is why your changes got to the database, once method was finished, without any additional calls.</p>\n<p>To dig deeper into the topic, you can read more about <code>Hibernate managed entities</code> , <code>session flush mode</code>, <code>repository.save(), repository.saveAndFlush() in Spring Data</code>.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650272638,"creation_date":1650270989,"answer_id":71909451,"question_id":71907612,"body_markdown":"Firstly, it is the underlying JPA provider (assume it is Hibernate) to be responsible for updating the entity but not Spring. Spring just provides the integration support with Hibernate.\r\n\r\nTo update an entity loaded from the DB , generally you need to make sure the following happens in order. \r\n\r\n 1. Begin a DB transaction\r\n\r\n 2. Use `EntityManager` to load the entity that you want to update.The loaded entity is said to be managed by this `EntityManager` such that it will keep track all the changes made on its state and will generate the necessary update SQL to update this entity in (4) automatically.\r\n\r\n 3. Make some changes to the entity &#39;s state. You can do it through any means such as calling any methods on it , not just restricting to calling it by setter\r\n\r\n 4. Flush the `EntityManager`. It will then generate update SQL and send to DB.\r\n\r\n 5. Commit the DB transaction\r\n\r\n\r\nAlso note the followings:\r\n\r\n - Spring provides `@Transactional` which is a declarative way to execute (1) and (5) by annotating it to a method.\r\n - By default , Hibernate will call (4) automatically before executing (5) such that you do not need to call (4) explicitly.\r\n - Spring Data JPA repository internally use `EntityManager` to load the user. So the user return from the repository will be managed by this EntityManager.\r\n\r\nSo in short , `@Transactional` is necessary to update the entity. And updating the entity is nothing to do with setter as it just care if there are state changes on the entity in the end , and you can do it without using setter.","title":"How to understand @Transactional with setters in Java?","body":"<p>Firstly, it is the underlying JPA provider (assume it is Hibernate) to be responsible for updating the entity but not Spring. Spring just provides the integration support with Hibernate.</p>\n<p>To update an entity loaded from the DB , generally you need to make sure the following happens in order.</p>\n<ol>\n<li><p>Begin a DB transaction</p>\n</li>\n<li><p>Use <code>EntityManager</code> to load the entity that you want to update.The loaded entity is said to be managed by this <code>EntityManager</code> such that it will keep track all the changes made on its state and will generate the necessary update SQL to update this entity in (4) automatically.</p>\n</li>\n<li><p>Make some changes to the entity 's state. You can do it through any means such as calling any methods on it , not just restricting to calling it by setter</p>\n</li>\n<li><p>Flush the <code>EntityManager</code>. It will then generate update SQL and send to DB.</p>\n</li>\n<li><p>Commit the DB transaction</p>\n</li>\n</ol>\n<p>Also note the followings:</p>\n<ul>\n<li>Spring provides <code>@Transactional</code> which is a declarative way to execute (1) and (5) by annotating it to a method.</li>\n<li>By default , Hibernate will call (4) automatically before executing (5) such that you do not need to call (4) explicitly.</li>\n<li>Spring Data JPA repository internally use <code>EntityManager</code> to load the user. So the user return from the repository will be managed by this EntityManager.</li>\n</ul>\n<p>So in short , <code>@Transactional</code> is necessary to update the entity. And updating the entity is nothing to do with setter as it just care if there are state changes on the entity in the end , and you can do it without using setter.</p>\n"}],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71909451,"answer_count":2,"score":1,"last_activity_date":1660034601,"creation_date":1650256286,"question_id":71907612,"body_markdown":"Following tutorial on Java Spring, I&#39;m trying to understand how does @Transactional work with setters, and from other question/sources, I can&#39;t find a beginner-friendly explanation for it.\r\n\r\nLet&#39;s say I have a user entity with getters and setters:\r\n```\r\n@Entity\r\npublic class User {\r\n    // Id set up\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n    private String password;\r\n\r\n    // Other constructors, setters and getters\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\nAnd in the UserService I have a getUserName method:\r\n```\r\n@Service\r\npublic class UserService {\r\n    private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Transactional\r\n    public void getUserName(Long id) {\r\n        User user = userRepository.findById(id).orElseThrow();\r\n\r\n        user.setName(&quot;new user name&quot;); // Why will this update db?     \r\n    }\r\n}\r\n```\r\nWith @Transactional annotated, the setter function does update db, is this the spring way of updating data? Can someone help explain in layman term, how the Transactional work with setters under the hood?\r\n\r\nEdit: \r\n    Without `@Transactional`, setter function won&#39;t update db, but in \r\n order to mutate db, will have to call `userRepository.save(user)`. And from [the video][1], the instructor simply says the Transactional will handle jpql for us, and use setters along with it to update db.\r\n\r\n#### Resource update:\r\n[Spring Transaction Management: @Transactional In-Depth](https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth), hope this is helpful.\r\n\r\n\r\n  [1]: https://youtu.be/9SGDpanrc8U?t=4929\r\n  [2]: https://khuevu.github.io/application-design-with-hibernate.html","title":"How to understand @Transactional with setters in Java?","body":"<p>Following tutorial on Java Spring, I'm trying to understand how does @Transactional work with setters, and from other question/sources, I can't find a beginner-friendly explanation for it.</p>\n<p>Let's say I have a user entity with getters and setters:</p>\n<pre><code>@Entity\npublic class User {\n    // Id set up\n    private Long id;\n    private String name;\n    private String email;\n    private String password;\n\n    // Other constructors, setters and getters\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>And in the UserService I have a getUserName method:</p>\n<pre><code>@Service\npublic class UserService {\n    private final UserRepository userRepository;\n\n    @Autowired\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Transactional\n    public void getUserName(Long id) {\n        User user = userRepository.findById(id).orElseThrow();\n\n        user.setName(&quot;new user name&quot;); // Why will this update db?     \n    }\n}\n</code></pre>\n<p>With @Transactional annotated, the setter function does update db, is this the spring way of updating data? Can someone help explain in layman term, how the Transactional work with setters under the hood?</p>\n<p>Edit:\nWithout <code>@Transactional</code>, setter function won't update db, but in\norder to mutate db, will have to call <code>userRepository.save(user)</code>. And from <a href=\"https://youtu.be/9SGDpanrc8U?t=4929\" rel=\"nofollow noreferrer\">the video</a>, the instructor simply says the Transactional will handle jpql for us, and use setters along with it to update db.</p>\n<h4>Resource update:</h4>\n<p><a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">Spring Transaction Management: @Transactional In-Depth</a>, hope this is helpful.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1659999102,"post_id":73284785,"comment_id":129424677,"body_markdown":"Did you try `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssxxx&quot;` for your input date formatter, which seems to be the format your date is in?","body":"Did you try <code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssxxx&quot;</code> for your input date formatter, which seems to be the format your date is in?"},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1660000155,"post_id":73284785,"comment_id":129424869,"body_markdown":"What format is this - &quot;2022-07-15T00:00:00-05:00&quot;? Doesn&#39;t seem to match with any [standard datetime formats](https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-date-and-time-format-strings)","body":"What format is this - &quot;2022-07-15T00:00:00-05:00&quot;? Doesn&#39;t seem to match with any <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-date-and-time-format-strings\" rel=\"nofollow noreferrer\">standard datetime formats</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1660019888,"post_id":73284785,"comment_id":129427441,"body_markdown":"I think your pattern is wrong. I think you need [ISO_OFFSET_DATE_TIME](https://developer.android.com/reference/java/time/format/DateTimeFormatter#ISO_OFFSET_DATE_TIME). And since your string contains an offset, then I think that you should use either [ZonedDateTime](https://developer.android.com/reference/java/time/ZonedDateTime) or [OffsetDateTime](https://developer.android.com/reference/java/time/OffsetDateTime) (rather than `LocalDate`)","body":"I think your pattern is wrong. I think you need <a href=\"https://developer.android.com/reference/java/time/format/DateTimeFormatter#ISO_OFFSET_DATE_TIME\" rel=\"nofollow noreferrer\">ISO_OFFSET_DATE_TIME</a>. And since your string contains an offset, then I think that you should use either <a href=\"https://developer.android.com/reference/java/time/ZonedDateTime\" rel=\"nofollow noreferrer\">ZonedDateTime</a> or <a href=\"https://developer.android.com/reference/java/time/OffsetDateTime\" rel=\"nofollow noreferrer\">OffsetDateTime</a> (rather than <code>LocalDate</code>)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660030300,"post_id":73284785,"comment_id":129429799,"body_markdown":"For input formatter use the built-in `DateTimeFormatter.ISO_OFFSET_DATE_TIME` and save the fiddling with your own format pattern string. Or just parse as `OffsetDateTime.parse(localBill.getBillCycleDate())` without specifying any formatter at all, and then format the resulting `OffsetDateTime` object the same way as you already do.","body":"For input formatter use the built-in <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code> and save the fiddling with your own format pattern string. Or just parse as <code>OffsetDateTime.parse(localBill.getBillCycleDate())</code> without specifying any formatter at all, and then format the resulting <code>OffsetDateTime</code> object the same way as you already do."}],"answers":[{"tags":[],"owner":{"account_id":13445288,"reputation":318,"user_id":9701439,"display_name":"TylerQITX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660012551,"creation_date":1660012551,"answer_id":73285970,"question_id":73284785,"body_markdown":"Try this\r\n\r\n    inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:sszzz&quot;, Locale.ENGLISH);\r\nReference: https://learn.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings#zzzSpecifier","title":"Convert string to date in Java for given format","body":"<p>Try this</p>\n<pre><code>inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:sszzz&quot;, Locale.ENGLISH);\n</code></pre>\n<p>Reference: <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings#zzzSpecifier\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings#zzzSpecifier</a></p>\n"},{"tags":[],"owner":{"account_id":20586715,"reputation":49,"user_id":15111423,"display_name":"Sanjith"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660013262,"creation_date":1660013262,"answer_id":73286035,"question_id":73284785,"body_markdown":"Try this out.\r\n\r\n      DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n      df.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n      \r\n      try {\r\n        return df.parse(dateStr); // pass the string variable which contains the date and time.\r\n    \r\n    // Make sure your string has milliseconds too. Lack of such line will lead to an erroneous value for millisecond.\r\n    \r\n      } catch (ParseException e) {\r\n        e.printStackTrace();\r\n      }\r\n\r\nLet me know if any help is needed.\r\n","title":"Convert string to date in Java for given format","body":"<p>Try this out.</p>\n<pre><code>  DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n  df.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n  \n  try {\n    return df.parse(dateStr); // pass the string variable which contains the date and time.\n\n// Make sure your string has milliseconds too. Lack of such line will lead to an erroneous value for millisecond.\n\n  } catch (ParseException e) {\n    e.printStackTrace();\n  }\n</code></pre>\n<p>Let me know if any help is needed.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660034316,"creation_date":1660021482,"answer_id":73286751,"question_id":73284785,"body_markdown":"I am not an Android developer but I believe that the following [Java] code will also work for Android.\r\n```java\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\n\r\npublic class Tester {\r\n\r\n    public static void main(String[] args) {\r\n        String str = &quot;2022-07-15T00:00:00-05:00&quot;;\r\n        ZonedDateTime zdt = ZonedDateTime.parse(str, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n        System.out.println(zdt.format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;, Locale.ENGLISH)));\r\n    }\r\n}\r\n```\r\nRunning the above code prints the following:\r\n```none\r\n15-07-2022\r\n```\r\nRefer to the [Android] documentation for [DateTimeFormatter][1] and [ZonedDateTime][2].\r\n\r\nEdit\r\n----\r\nAlternatively &amp;ndash; as indicated by @OleV.V. in his [comment][3] to this answer &amp;ndash; you can use [OffsetDateTime][4] for which you don&#39;t need a `DateTimeFormatter` in order to parse:\r\n```java\r\njava.time.OffsetDateTime odt = java.time.OffsetDateTime.parse(&quot;2022-07-15T00:00:00-05:00&quot;);\r\nSystem.out.println(odt.format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;, Locale.ENGLISH)));\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/time/format/DateTimeFormatter\r\n  [2]: https://developer.android.com/reference/java/time/ZonedDateTime\r\n  [3]: https://stackoverflow.com/questions/73284785/convert-string-to-date-in-java-for-given-format/73286751#comment129429858_73286751\r\n  [4]: https://developer.android.com/reference/java/time/OffsetDateTime","title":"Convert string to date in Java for given format","body":"<p>I am not an Android developer but I believe that the following [Java] code will also work for Android.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Tester {\n\n    public static void main(String[] args) {\n        String str = &quot;2022-07-15T00:00:00-05:00&quot;;\n        ZonedDateTime zdt = ZonedDateTime.parse(str, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n        System.out.println(zdt.format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;, Locale.ENGLISH)));\n    }\n}\n</code></pre>\n<p>Running the above code prints the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>15-07-2022\n</code></pre>\n<p>Refer to the [Android] documentation for <a href=\"https://developer.android.com/reference/java/time/format/DateTimeFormatter\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> and <a href=\"https://developer.android.com/reference/java/time/ZonedDateTime\" rel=\"nofollow noreferrer\">ZonedDateTime</a>.</p>\n<h2>Edit</h2>\n<p>Alternatively – as indicated by @OleV.V. in his <a href=\"https://stackoverflow.com/questions/73284785/convert-string-to-date-in-java-for-given-format/73286751#comment129429858_73286751\">comment</a> to this answer – you can use <a href=\"https://developer.android.com/reference/java/time/OffsetDateTime\" rel=\"nofollow noreferrer\">OffsetDateTime</a> for which you don't need a <code>DateTimeFormatter</code> in order to parse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.time.OffsetDateTime odt = java.time.OffsetDateTime.parse(&quot;2022-07-15T00:00:00-05:00&quot;);\nSystem.out.println(odt.format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;, Locale.ENGLISH)));\n</code></pre>\n"}],"owner":{"account_id":12203131,"reputation":197,"user_id":8906918,"display_name":"Abd Maj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73285970,"answer_count":3,"score":-2,"last_activity_date":1660034316,"creation_date":1659998714,"question_id":73284785,"body_markdown":"I have a response from an API for a date field.\r\n\r\n    &quot;billCycleDate&quot;:&quot;2022-07-15T00:00:00-05:00&quot;\r\n\r\nI&#39;m trying to convert this to a &quot;dd-MM-yyyy&quot; date format. The easy way is to simply extract the date from the string and then convert into the format I want. But I wanted to know if there is a &#39;correct&#39; way of doing this.\r\n\r\nThe following code is what I&#39;ve been using:\r\n\r\n    inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss Z&quot;, Locale.ENGLISH);\r\n    DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyy&quot;, Locale.ENGLISH);\r\n    LocalDate date = LocalDate.parse(localBill.getBillCycleDate(), inputFormatter);\r\n    formattedDate = outputFormatter.format(date);\r\n\r\nI&#39;ve tried different patterns (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, etc.) but none of them seem to work. It throws the following error:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;2022-07-15T00:00:00-05:00&#39; could not be parsed at index 19","title":"Convert string to date in Java for given format","body":"<p>I have a response from an API for a date field.</p>\n<pre><code>&quot;billCycleDate&quot;:&quot;2022-07-15T00:00:00-05:00&quot;\n</code></pre>\n<p>I'm trying to convert this to a &quot;dd-MM-yyyy&quot; date format. The easy way is to simply extract the date from the string and then convert into the format I want. But I wanted to know if there is a 'correct' way of doing this.</p>\n<p>The following code is what I've been using:</p>\n<pre><code>inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss Z&quot;, Locale.ENGLISH);\nDateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyy&quot;, Locale.ENGLISH);\nLocalDate date = LocalDate.parse(localBill.getBillCycleDate(), inputFormatter);\nformattedDate = outputFormatter.format(date);\n</code></pre>\n<p>I've tried different patterns (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, etc.) but none of them seem to work. It throws the following error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2022-07-15T00:00:00-05:00' could not be parsed at index 19\n</code></pre>\n"},{"tags":["java","android","android-studio","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":24095089,"reputation":56,"user_id":18067740,"display_name":"Devrim Catak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660033775,"creation_date":1660033775,"answer_id":73288740,"question_id":73288638,"body_markdown":"you can try to create adapter and assign list after filling the list. You can try the following code;\r\n\r\n    binding.recyclerViewUser.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\r\n    binding.recyclerViewUser.setOverScrollMode(View.OVER_SCROLL_NEVER);\r\n\r\n\r\n    Call&lt;List&lt;UsersModel&gt;&gt; getUersData = RetrofitClient.getInstance().getApi().getUsersData();\r\n    getUersData.enqueue(new Callback&lt;&gt;() {\r\n        @Override\r\n        public void onResponse(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull\r\n                Response&lt;List&lt;UsersModel&gt;&gt; response) {\r\n            usersList = response.body();\r\n            usersAdapter = new UsersAdapter(mContext, usersList, 4);\r\n            binding.recyclerViewUser.setAdapter(usersAdapter);\r\n\r\n            Log.d(&quot;Retrofit success&quot;, &quot;Yeah!&quot;);\r\n\r\n            long requestTime = response.raw().sentRequestAtMillis();\r\n            long responseTime = response.raw().receivedResponseAtMillis();\r\n            long apiTime =  responseTime - requestTime;\r\n\r\n            Log.d(&quot;Retrofit time&quot;, apiTime + &quot;ms&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Throwable t){\r\n            Log.d(&quot;Retrofit error&quot;, t.getMessage());\r\n        }\r\n    });","title":"Unable to display a RecyclerView with Retrofit in first fragment","body":"<p>you can try to create adapter and assign list after filling the list. You can try the following code;</p>\n<pre><code>binding.recyclerViewUser.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\nbinding.recyclerViewUser.setOverScrollMode(View.OVER_SCROLL_NEVER);\n\n\nCall&lt;List&lt;UsersModel&gt;&gt; getUersData = RetrofitClient.getInstance().getApi().getUsersData();\ngetUersData.enqueue(new Callback&lt;&gt;() {\n    @Override\n    public void onResponse(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull\n            Response&lt;List&lt;UsersModel&gt;&gt; response) {\n        usersList = response.body();\n        usersAdapter = new UsersAdapter(mContext, usersList, 4);\n        binding.recyclerViewUser.setAdapter(usersAdapter);\n\n        Log.d(&quot;Retrofit success&quot;, &quot;Yeah!&quot;);\n\n        long requestTime = response.raw().sentRequestAtMillis();\n        long responseTime = response.raw().receivedResponseAtMillis();\n        long apiTime =  responseTime - requestTime;\n\n        Log.d(&quot;Retrofit time&quot;, apiTime + &quot;ms&quot;);\n    }\n\n    @Override\n    public void onFailure(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Throwable t){\n        Log.d(&quot;Retrofit error&quot;, t.getMessage());\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9834920,"reputation":109,"user_id":7285609,"display_name":"Nidheesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660034222,"creation_date":1660034222,"answer_id":73288831,"question_id":73288638,"body_markdown":"try this\r\n\r\n    @Override\r\n      public int getItemCount() {\r\n          return usersModel.size();\r\n      }","title":"Unable to display a RecyclerView with Retrofit in first fragment","body":"<p>try this</p>\n<pre><code>@Override\n  public int getItemCount() {\n      return usersModel.size();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660034261,"creation_date":1660034261,"answer_id":73288841,"question_id":73288638,"body_markdown":"Your Adapter created when your list is empty, you can change your code like this:\r\n\r\n```\r\nbinding.recyclerViewUser.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\r\nbinding.recyclerViewUser.setOverScrollMode(View.OVER_SCROLL_NEVER);\r\n\r\nCall&lt;List&lt;UsersModel&gt;&gt; getUersData = RetrofitClient.getInstance().getApi().getUsersData();\r\ngetUersData.enqueue(new Callback&lt;&gt;() {\r\n  @Override\r\n  public void onResponse(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Response&lt;List&lt;UsersModel&gt;&gt; response) {\r\n    usersList = response.body();\r\n    usersAdapter = new UsersAdapter(mContext, usersList, 4);\r\n    binding.recyclerViewUser.setAdapter(usersAdapter);\r\n    usersAdapter.setUsersList(usersList);\r\n\r\n    Log.d(&quot;Retrofit success&quot;, &quot;Yeah!&quot;);\r\n\r\n    long requestTime = response.raw().sentRequestAtMillis();\r\n    long responseTime = response.raw().receivedResponseAtMillis();\r\n    long apiTime =  responseTime - requestTime;\r\n\r\n    Log.d(&quot;Retrofit time&quot;, apiTime + &quot;ms&quot;);\r\n  }\r\n\r\n  @Override\r\n  public void onFailure(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Throwable t) {\r\n    Log.d(&quot;Retrofit error&quot;, t.getMessage());\r\n  }\r\n});\r\n```\r\n\r\nSuggest:\r\nyou don&#39;t need put your list in constructor of Adapter, *setUserList* method did it for you","title":"Unable to display a RecyclerView with Retrofit in first fragment","body":"<p>Your Adapter created when your list is empty, you can change your code like this:</p>\n<pre><code>binding.recyclerViewUser.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\nbinding.recyclerViewUser.setOverScrollMode(View.OVER_SCROLL_NEVER);\n\nCall&lt;List&lt;UsersModel&gt;&gt; getUersData = RetrofitClient.getInstance().getApi().getUsersData();\ngetUersData.enqueue(new Callback&lt;&gt;() {\n  @Override\n  public void onResponse(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Response&lt;List&lt;UsersModel&gt;&gt; response) {\n    usersList = response.body();\n    usersAdapter = new UsersAdapter(mContext, usersList, 4);\n    binding.recyclerViewUser.setAdapter(usersAdapter);\n    usersAdapter.setUsersList(usersList);\n\n    Log.d(&quot;Retrofit success&quot;, &quot;Yeah!&quot;);\n\n    long requestTime = response.raw().sentRequestAtMillis();\n    long responseTime = response.raw().receivedResponseAtMillis();\n    long apiTime =  responseTime - requestTime;\n\n    Log.d(&quot;Retrofit time&quot;, apiTime + &quot;ms&quot;);\n  }\n\n  @Override\n  public void onFailure(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Throwable t) {\n    Log.d(&quot;Retrofit error&quot;, t.getMessage());\n  }\n});\n</code></pre>\n<p>Suggest:\nyou don't need put your list in constructor of Adapter, <em>setUserList</em> method did it for you</p>\n"}],"owner":{"account_id":21000342,"reputation":25,"user_id":15431277,"display_name":"zigg-zigg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73288841,"answer_count":3,"score":0,"last_activity_date":1660034261,"creation_date":1660033348,"question_id":73288638,"body_markdown":"I started using Retrofit instead of Volley for the sake of speed and easy of implementation.\r\n\r\nFor some context I&#39;m using a BottomNavigationBar with Fragments and I can&#39;t display first in my application (after the splash screen) the Fragment which loads the data with Retrofit. If I display another Fragment and I search for my Fragment in question everything works fine.\r\n\r\nMy code for load data in fragment\r\n```\r\nbinding.recyclerViewUser.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\r\nbinding.recyclerViewUser.setOverScrollMode(View.OVER_SCROLL_NEVER);\r\nusersAdapter = new UsersAdapter(mContext, usersList, 4);\r\nbinding.recyclerViewUser.setAdapter(usersAdapter);\r\n\r\nCall&lt;List&lt;UsersModel&gt;&gt; getUersData = RetrofitClient.getInstance().getApi().getUsersData();\r\ngetUersData.enqueue(new Callback&lt;&gt;() {\r\n  @Override\r\n  public void onResponse(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Response&lt;List&lt;UsersModel&gt;&gt; response) {\r\n    usersList = response.body();\r\n    usersAdapter.setUsersList(usersList);\r\n\r\n    Log.d(&quot;Retrofit success&quot;, &quot;Yeah!&quot;);\r\n\r\n    long requestTime = response.raw().sentRequestAtMillis();\r\n    long responseTime = response.raw().receivedResponseAtMillis();\r\n    long apiTime =  responseTime - requestTime;\r\n\r\n    Log.d(&quot;Retrofit time&quot;, apiTime + &quot;ms&quot;);\r\n  }\r\n\r\n  @Override\r\n  public void onFailure(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Throwable t) {\r\n    Log.d(&quot;Retrofit error&quot;, t.getMessage());\r\n  }\r\n});\r\n```\r\n\r\nNow my error when I want to load my Fragment first in my application\r\n\r\n```\r\n2022-08-09 10:03:18.944 7422-7422/com.package.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.package.app, PID: 7422\r\n    java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n        at java.util.ArrayList.get(ArrayList.java:437)\r\n        at com.package.app.adapter.UsersAdapter.onBindViewHolder(UsersAdapter.java:49)\r\n        at com.package.app.adapter.UsersAdapter.onBindViewHolder(UsersAdapter.java:23)\r\n```\r\n\r\nThe error of corresponds to nothing, first ```java.lang.IndexOutOfBoundsException: Index: 0, Size: 0``` is already defined in this line ```usersAdapter = new UsersAdapter(mContext, usersList, 4);``` **the int of 4 returns the size**\r\n\r\nAnd the other error ```at com.package.app.adapter.UsersAdapter.onBindViewHolder(UsersAdapter.java:49)``` matches this line ```holder.name.setText(usersList.get(position).getName());``` but I can load my RecyclerView when it&#39;s not showing in first position in my application.\r\n\r\nI show you my UsersAdapter, maybe I missed a few things but everything seems correct to me\r\n\r\n```\r\npublic class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UsersHolder&gt; {\r\n  Context mContext;\r\n  List&lt;UsersModel&gt; usersModel;\r\n  int size;\r\n\r\n  public UsersAdapter(Context mContext, List&lt;UsersModel&gt; usersModel, int size) {\r\n      this.mContext = mContext;\r\n      this.usersModel = usersModel;\r\n      this.size = size;\r\n  }\r\n\r\n  public void setUsersList(List&lt;UsersModel&gt; usersModel) {\r\n      this.usersModel = usersModel;\r\n      notifyDataSetChanged();\r\n  }\r\n\r\n  @NonNull\r\n  @Override\r\n  public UsersAdapter.UsersHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n      View view = LayoutInflater.from(mContext).inflate(R.layout.recycler_view_users, parent, false);\r\n      return new UsersHolder(view);\r\n  }\r\n\r\n  @Override\r\n  public void onBindViewHolder(@NonNull UsersAdapter.UsersHolder holder, int position) {\r\n      holder.name.setText(usersModel.get(position).getName());\r\n      holder.description.setText(usersModel.get(position).getDescription());\r\n      Glide.with(holder.itemView.getContext().getApplicationContext()).load(usersModel.get(position).getLogo()).into(holder.logo);\r\n  }\r\n\r\n  @Override\r\n  public int getItemCount() {\r\n      return size;\r\n  }\r\n\r\n  public static class UsersHolder extends RecyclerView.ViewHolder {\r\n      private final ImageView logo;\r\n      private final TextView name, description;\r\n\r\n      public UsersHolder(@NonNull View itemView) {\r\n          super(itemView);\r\n          logo = itemView.findViewById(R.id.logo);\r\n          name = itemView.findViewById(R.id.title);\r\n          description = itemView.findViewById(R.id.description);\r\n      }\r\n  }\r\n}\r\n```\r\n\r\nIf anyone can help me I would be very grateful","title":"Unable to display a RecyclerView with Retrofit in first fragment","body":"<p>I started using Retrofit instead of Volley for the sake of speed and easy of implementation.</p>\n<p>For some context I'm using a BottomNavigationBar with Fragments and I can't display first in my application (after the splash screen) the Fragment which loads the data with Retrofit. If I display another Fragment and I search for my Fragment in question everything works fine.</p>\n<p>My code for load data in fragment</p>\n<pre><code>binding.recyclerViewUser.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\nbinding.recyclerViewUser.setOverScrollMode(View.OVER_SCROLL_NEVER);\nusersAdapter = new UsersAdapter(mContext, usersList, 4);\nbinding.recyclerViewUser.setAdapter(usersAdapter);\n\nCall&lt;List&lt;UsersModel&gt;&gt; getUersData = RetrofitClient.getInstance().getApi().getUsersData();\ngetUersData.enqueue(new Callback&lt;&gt;() {\n  @Override\n  public void onResponse(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Response&lt;List&lt;UsersModel&gt;&gt; response) {\n    usersList = response.body();\n    usersAdapter.setUsersList(usersList);\n\n    Log.d(&quot;Retrofit success&quot;, &quot;Yeah!&quot;);\n\n    long requestTime = response.raw().sentRequestAtMillis();\n    long responseTime = response.raw().receivedResponseAtMillis();\n    long apiTime =  responseTime - requestTime;\n\n    Log.d(&quot;Retrofit time&quot;, apiTime + &quot;ms&quot;);\n  }\n\n  @Override\n  public void onFailure(@NonNull Call&lt;List&lt;UsersModel&gt;&gt; call, @NonNull Throwable t) {\n    Log.d(&quot;Retrofit error&quot;, t.getMessage());\n  }\n});\n</code></pre>\n<p>Now my error when I want to load my Fragment first in my application</p>\n<pre><code>2022-08-09 10:03:18.944 7422-7422/com.package.app E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.package.app, PID: 7422\n    java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.get(ArrayList.java:437)\n        at com.package.app.adapter.UsersAdapter.onBindViewHolder(UsersAdapter.java:49)\n        at com.package.app.adapter.UsersAdapter.onBindViewHolder(UsersAdapter.java:23)\n</code></pre>\n<p>The error of corresponds to nothing, first <code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0</code> is already defined in this line <code>usersAdapter = new UsersAdapter(mContext, usersList, 4);</code> <strong>the int of 4 returns the size</strong></p>\n<p>And the other error <code>at com.package.app.adapter.UsersAdapter.onBindViewHolder(UsersAdapter.java:49)</code> matches this line <code>holder.name.setText(usersList.get(position).getName());</code> but I can load my RecyclerView when it's not showing in first position in my application.</p>\n<p>I show you my UsersAdapter, maybe I missed a few things but everything seems correct to me</p>\n<pre><code>public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UsersHolder&gt; {\n  Context mContext;\n  List&lt;UsersModel&gt; usersModel;\n  int size;\n\n  public UsersAdapter(Context mContext, List&lt;UsersModel&gt; usersModel, int size) {\n      this.mContext = mContext;\n      this.usersModel = usersModel;\n      this.size = size;\n  }\n\n  public void setUsersList(List&lt;UsersModel&gt; usersModel) {\n      this.usersModel = usersModel;\n      notifyDataSetChanged();\n  }\n\n  @NonNull\n  @Override\n  public UsersAdapter.UsersHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n      View view = LayoutInflater.from(mContext).inflate(R.layout.recycler_view_users, parent, false);\n      return new UsersHolder(view);\n  }\n\n  @Override\n  public void onBindViewHolder(@NonNull UsersAdapter.UsersHolder holder, int position) {\n      holder.name.setText(usersModel.get(position).getName());\n      holder.description.setText(usersModel.get(position).getDescription());\n      Glide.with(holder.itemView.getContext().getApplicationContext()).load(usersModel.get(position).getLogo()).into(holder.logo);\n  }\n\n  @Override\n  public int getItemCount() {\n      return size;\n  }\n\n  public static class UsersHolder extends RecyclerView.ViewHolder {\n      private final ImageView logo;\n      private final TextView name, description;\n\n      public UsersHolder(@NonNull View itemView) {\n          super(itemView);\n          logo = itemView.findViewById(R.id.logo);\n          name = itemView.findViewById(R.id.title);\n          description = itemView.findViewById(R.id.description);\n      }\n  }\n}\n</code></pre>\n<p>If anyone can help me I would be very grateful</p>\n"},{"tags":["java","eclipse","generics","bounded-wildcard"],"comments":[{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1660034339,"post_id":73288499,"comment_id":129431186,"body_markdown":"Can you try to replace the type of the method with: `&lt;Z, V extends View&lt;Z extends Controller&lt;V&gt;&gt;&gt;`? I don&#39;t have eclipse to test it but it might solve the ambiguity","body":"Can you try to replace the type of the method with: <code>&lt;Z, V extends View&lt;Z extends Controller&lt;V&gt;&gt;&gt;</code>? I don&#39;t have eclipse to test it but it might solve the ambiguity"},{"owner":{"account_id":10184923,"reputation":300,"user_id":7520280,"accept_rate":89,"display_name":"maicol07"},"score":0,"creation_date":1660044413,"post_id":73288499,"comment_id":129434630,"body_markdown":"@AlexandruSeverin no, with this one it gives the following: `Syntax error on token &quot;extends&quot;, , expected` (the &quot;extends&quot; it refers to is in the View generic)","body":"@AlexandruSeverin no, with this one it gives the following: <code>Syntax error on token &quot;extends&quot;, , expected</code> (the &quot;extends&quot; it refers to is in the View generic)"}],"owner":{"account_id":10184923,"reputation":300,"user_id":7520280,"accept_rate":89,"display_name":"maicol07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660033529,"creation_date":1660032611,"question_id":73288499,"body_markdown":"Eclipse is currently triggering this error:\r\n```\r\nBound mismatch: The type V is not a valid substitute for the bounded parameter &lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; of the type Controller&lt;V&gt;\r\n```\r\nhowever compilation and running work fine (no errors with IntelliJ and `javac`). Should I suppress it or is there a simple workaround to allow not triggering the error?\r\n\r\nThe error is triggered in the `of` method of the `View` interface\r\n\r\nThanks\r\n\r\nRelevant code:\r\n```java\r\npublic interface View&lt;C extends Controller&lt;? extends View&lt;C&gt;&gt;&gt; {\r\n    void setController(C controller);\r\n    void show();\r\n    void hide();\r\n    void close();\r\n\r\n    String getViewName();\r\n    String getWindowTitle();\r\n\r\n    /**\r\n     * Create a factory for a view.\r\n     *\r\n     * @param viewInterface The view interface to create the factory for.\r\n     * @param &lt;V&gt;           The view interface.\r\n     * @return The factory for the view.\r\n     */\r\n    static &lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; ViewFactory&lt;V&gt; of(final Class&lt;V&gt; viewInterface) {\r\n        return new ViewFactory&lt;V&gt;().fromInterface(viewInterface);\r\n    }\r\n}\r\n\r\npublic interface Controller&lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; {\r\n    void registerView(V view);\r\n    void unregisterView();\r\n    void showView();\r\n    void hideView();\r\n    void closeView();\r\n\r\n    /**\r\n     * Create a factory for a controller.\r\n     *\r\n     * @param controllerInterface The controller interface to create the factory for.\r\n     * @param &lt;C&gt;                 The controller interface.\r\n     * @param &lt;V&gt;                 The view interface.\r\n     * @return The factory for the controller.\r\n     */\r\n    static &lt;C extends Controller&lt;V&gt;, V extends View&lt;C&gt;&gt; ControllerFactory&lt;C, V&gt; of(final Class&lt;C&gt; controllerInterface) {\r\n        return of(controllerInterface, null);\r\n    }\r\n\r\n    /**\r\n     * Create a factory for a controller.\r\n     *\r\n     * @param controllerInterface The controller interface to create the factory for.\r\n     * @param viewInterface       The view interface to create the factory for.\r\n     * @param &lt;C&gt;                 The controller interface.\r\n     * @param &lt;V&gt;                 The view interface.\r\n     * @return The factory for the controller.\r\n     */\r\n    static &lt;C extends Controller&lt;V&gt;, V extends View&lt;C&gt;&gt; ControllerFactory&lt;C, V&gt; of(final Class&lt;C&gt; controllerInterface, final Class&lt;V&gt; viewInterface) {\r\n        // ...\r\n    }\r\n}\r\n\r\npublic class ViewFactory&lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; {\r\n    // ...\r\n}\r\n```","title":"Eclipse: Bound mismatch error with Generics and wildcards","body":"<p>Eclipse is currently triggering this error:</p>\n<pre><code>Bound mismatch: The type V is not a valid substitute for the bounded parameter &lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; of the type Controller&lt;V&gt;\n</code></pre>\n<p>however compilation and running work fine (no errors with IntelliJ and <code>javac</code>). Should I suppress it or is there a simple workaround to allow not triggering the error?</p>\n<p>The error is triggered in the <code>of</code> method of the <code>View</code> interface</p>\n<p>Thanks</p>\n<p>Relevant code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface View&lt;C extends Controller&lt;? extends View&lt;C&gt;&gt;&gt; {\n    void setController(C controller);\n    void show();\n    void hide();\n    void close();\n\n    String getViewName();\n    String getWindowTitle();\n\n    /**\n     * Create a factory for a view.\n     *\n     * @param viewInterface The view interface to create the factory for.\n     * @param &lt;V&gt;           The view interface.\n     * @return The factory for the view.\n     */\n    static &lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; ViewFactory&lt;V&gt; of(final Class&lt;V&gt; viewInterface) {\n        return new ViewFactory&lt;V&gt;().fromInterface(viewInterface);\n    }\n}\n\npublic interface Controller&lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; {\n    void registerView(V view);\n    void unregisterView();\n    void showView();\n    void hideView();\n    void closeView();\n\n    /**\n     * Create a factory for a controller.\n     *\n     * @param controllerInterface The controller interface to create the factory for.\n     * @param &lt;C&gt;                 The controller interface.\n     * @param &lt;V&gt;                 The view interface.\n     * @return The factory for the controller.\n     */\n    static &lt;C extends Controller&lt;V&gt;, V extends View&lt;C&gt;&gt; ControllerFactory&lt;C, V&gt; of(final Class&lt;C&gt; controllerInterface) {\n        return of(controllerInterface, null);\n    }\n\n    /**\n     * Create a factory for a controller.\n     *\n     * @param controllerInterface The controller interface to create the factory for.\n     * @param viewInterface       The view interface to create the factory for.\n     * @param &lt;C&gt;                 The controller interface.\n     * @param &lt;V&gt;                 The view interface.\n     * @return The factory for the controller.\n     */\n    static &lt;C extends Controller&lt;V&gt;, V extends View&lt;C&gt;&gt; ControllerFactory&lt;C, V&gt; of(final Class&lt;C&gt; controllerInterface, final Class&lt;V&gt; viewInterface) {\n        // ...\n    }\n}\n\npublic class ViewFactory&lt;V extends View&lt;? extends Controller&lt;V&gt;&gt;&gt; {\n    // ...\n}\n</code></pre>\n"},{"tags":["java","bytebuffer"],"comments":[{"owner":{"account_id":7912502,"reputation":1,"user_id":5976094,"display_name":"Nitin Seelam"},"score":0,"creation_date":1456340997,"post_id":35609588,"comment_id":58905950,"body_markdown":"Sorry I didn&#39;t type it well. The ByteBuffer is in the following format \n&quot;[java.nio.HeapByteBuffer...]&quot;, enclosed in strings. I am not sure how to convert it or hardcode it to a data structure of ByteBuffer. If it is a ByteBuffer, then I can use the BufferedReader method and get() to extract the bytes.","body":"Sorry I didn&#39;t type it well. The ByteBuffer is in the following format  &quot;[java.nio.HeapByteBuffer...]&quot;, enclosed in strings. I am not sure how to convert it or hardcode it to a data structure of ByteBuffer. If it is a ByteBuffer, then I can use the BufferedReader method and get() to extract the bytes."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1456341083,"post_id":35609588,"comment_id":58906014,"body_markdown":"if you have that string, there is absolutely 100% nothing you can do to get the contents of that `ByteBuffer` out.  _No way whatsoever._  That&#39;s not a format you can retrieve the information from.","body":"if you have that string, there is absolutely 100% nothing you can do to get the contents of that <code>ByteBuffer</code> out.  <i>No way whatsoever.</i>  That&#39;s not a format you can retrieve the information from."},{"owner":{"account_id":7912502,"reputation":1,"user_id":5976094,"display_name":"Nitin Seelam"},"score":0,"creation_date":1456341786,"post_id":35609588,"comment_id":58906415,"body_markdown":"@Wasserman, is there a way to change its format from a string? Sorry, but I am very new to Java. Currently I have the following line:\n\nString data = &quot;[java.nio.HeapByteBuffer[pos=8 lim=144 cap=83626]]&quot;;\n\nis there a way to transform &quot;data&quot; into a ByteBuffer?","body":"@Wasserman, is there a way to change its format from a string? Sorry, but I am very new to Java. Currently I have the following line:  String data = &quot;[java.nio.HeapByteBuffer[pos=8 lim=144 cap=83626]]&quot;;  is there a way to transform &quot;data&quot; into a ByteBuffer?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1456341840,"post_id":35609588,"comment_id":58906442,"body_markdown":"That `String` has _no_ information about the bytes that are actually in the buffer; there&#39;s no way to recover that information.  The only thing you can do is get a better `String` with more information.","body":"That <code>String</code> has <i>no</i> information about the bytes that are actually in the buffer; there&#39;s no way to recover that information.  The only thing you can do is get a better <code>String</code> with more information."},{"owner":{"account_id":7912502,"reputation":1,"user_id":5976094,"display_name":"Nitin Seelam"},"score":0,"creation_date":1456342017,"post_id":35609588,"comment_id":58906554,"body_markdown":"@Wasserman  Ok thanks for clarifying.","body":"@Wasserman  Ok thanks for clarifying."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1660034076,"post_id":35609588,"comment_id":129431094,"body_markdown":"I think that `String` is the result of calling the `toString()` method of the buffer. That&#39;s not a useful way to interact with an object. For many classes `toString()` is really just a bit of debugging help. You need to use other API.","body":"I think that <code>String</code> is the result of calling the <code>toString()</code> method of the buffer. That&#39;s not a useful way to interact with an object. For many classes <code>toString()</code> is really just a bit of debugging help. You need to use other API."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1660034098,"post_id":35609588,"comment_id":129431101,"body_markdown":"Does this answer your question? [How to convert &quot;java.nio.HeapByteBuffer&quot; to String](https://stackoverflow.com/questions/26676733/how-to-convert-java-nio-heapbytebuffer-to-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26676733/how-to-convert-java-nio-heapbytebuffer-to-string\">How to convert &quot;java.nio.HeapByteBuffer&quot; to String</a>"}],"owner":{"account_id":7912502,"reputation":1,"user_id":5976094,"display_name":"Nitin Seelam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660032855,"creation_date":1456336749,"question_id":35609588,"body_markdown":"Currently I have a ByteBuffer in the following format:\r\n\r\n&quot;[java.nio.HeapByteBuffer[pos=8 lim=140 cap=83620]&quot;, which is a String.\r\n\r\nI am currently hard-coding a `HeapByteBuffer` into my Java Code to see if I can extract any information. \r\n\r\nHow can I read the bytes contained within the `HeapByteBuffer`, so that I can later parse it into a certain format.\r\n\r\nPlease help!!","title":"Reading Bytes from a Byte Buffer","body":"<p>Currently I have a ByteBuffer in the following format:</p>\n\n<p>\"[java.nio.HeapByteBuffer[pos=8 lim=140 cap=83620]\", which is a String.</p>\n\n<p>I am currently hard-coding a <code>HeapByteBuffer</code> into my Java Code to see if I can extract any information. </p>\n\n<p>How can I read the bytes contained within the <code>HeapByteBuffer</code>, so that I can later parse it into a certain format.</p>\n\n<p>Please help!!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1612348988,"post_id":66025804,"comment_id":116736744,"body_markdown":"Speaking only for myself, I think if you provide a [mcve] so that I can try to reproduce it on my computer, it may help me determine the cause of the behavior you claim to be seeing.","body":"Speaking only for myself, I think if you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that I can try to reproduce it on my computer, it may help me determine the cause of the behavior you claim to be seeing."},{"owner":{"account_id":13008907,"reputation":49,"user_id":9402616,"display_name":"PIC-Nico"},"score":0,"creation_date":1612349155,"post_id":66025804,"comment_id":116736837,"body_markdown":"Sure I will come back with it asap.","body":"Sure I will come back with it asap."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1612357896,"post_id":66025804,"comment_id":116740962,"body_markdown":"*&quot;I have the feeling this is something related to Java Swing itself!&quot;* I have the feeling this is something related to your code. Looking forward to seeing that MRE..","body":"<i>&quot;I have the feeling this is something related to Java Swing itself!&quot;</i> I have the feeling this is something related to your code. Looking forward to seeing that MRE.."},{"owner":{"account_id":13008907,"reputation":49,"user_id":9402616,"display_name":"PIC-Nico"},"score":0,"creation_date":1612417362,"post_id":66025804,"comment_id":116761491,"body_markdown":"I&#39;ve tried to write a minimal reproducible example w/o success (or in other words w/ success depends on the POV). The artifacts are not there in these examples. Unfortunately this doesn&#39;t help me out w/ my current app. Any ideas how to debug such thing(s)?","body":"I&#39;ve tried to write a minimal reproducible example w/o success (or in other words w/ success depends on the POV). The artifacts are not there in these examples. Unfortunately this doesn&#39;t help me out w/ my current app. Any ideas how to debug such thing(s)?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1612417788,"post_id":66025804,"comment_id":116761603,"body_markdown":"*&quot;Any ideas how to debug such thing(s)?&quot;* Tip: Add @Abra (or whoever, the `@` is important) to *notify* the person of a new comment. **Well, you have a short example that works and a long example that doesn&#39;t. I&#39;d recommend one of two approaches** 1) Add code lines to the shorter working code or 2) subtract lines from the longer failing code ..  one or a few lines at a time between tests, until that one change results in a change between working and not working. **That** is a great way to narrow it down to a very specific change that&#39;s the difference. Really, if you cannot achieve that ..","body":"<i>&quot;Any ideas how to debug such thing(s)?&quot;</i> Tip: Add @Abra (or whoever, the <code>@</code> is important) to <i>notify</i> the person of a new comment. <b>Well, you have a short example that works and a long example that doesn&#39;t. I&#39;d recommend one of two approaches</b> 1) Add code lines to the shorter working code or 2) subtract lines from the longer failing code ..  one or a few lines at a time between tests, until that one change results in a change between working and not working. <b>That</b> is a great way to narrow it down to a very specific change that&#39;s the difference. Really, if you cannot achieve that .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1612417876,"post_id":66025804,"comment_id":116761620,"body_markdown":".. debugging, I doubt anyone else will be able to do it for you. These are techniques you&#39;ll need to hone and refine to be successful in computer programming.","body":".. debugging, I doubt anyone else will be able to do it for you. These are techniques you&#39;ll need to hone and refine to be successful in computer programming."},{"owner":{"account_id":13008907,"reputation":49,"user_id":9402616,"display_name":"PIC-Nico"},"score":0,"creation_date":1612421882,"post_id":66025804,"comment_id":116762706,"body_markdown":"Okay calm down. I&#39;ve never requested that someone else should do it for me. Was just looking for a hint. Anyway ty","body":"Okay calm down. I&#39;ve never requested that someone else should do it for me. Was just looking for a hint. Anyway ty"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1612422113,"post_id":66025804,"comment_id":116762794,"body_markdown":"*&quot;Okay calm down.&quot;* &#128514;&#128514;&#128514; Nice one.","body":"<i>&quot;Okay calm down.&quot;</i> 😂😂😂 Nice one."}],"answers":[{"tags":[],"owner":{"account_id":436723,"reputation":823,"user_id":824059,"display_name":"Stefan M&#252;cke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660032597,"creation_date":1660032597,"answer_id":73288497,"question_id":66025804,"body_markdown":"It looks like an empty tooltip (`&quot;&quot;`) to me. Try `setToolTipText(null)`.","title":"Strange artifacts in Swing GUI on mouse hover","body":"<p>It looks like an empty tooltip (<code>&quot;&quot;</code>) to me. Try <code>setToolTipText(null)</code>.</p>\n"}],"owner":{"account_id":13008907,"reputation":49,"user_id":9402616,"display_name":"PIC-Nico"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660043982,"accepted_answer_id":73288497,"answer_count":1,"score":0,"last_activity_date":1660032597,"creation_date":1612348801,"question_id":66025804,"body_markdown":"I noticed that for some reasons strange artefacts appear in Swing GUI.\r\nThis could be observed both when running under Windows and Linux.\r\n\r\nSometimes the artefacts are only a small dot (like in the example below) and another time as a gray box in the size of more or less a cursor prompt [].\r\n\r\nHere is an example:\r\n\r\nThis is an example where everything looks okay:  \r\n[![enter image description here][1]][1]\r\n\r\n\r\nOnce I hove with my mouse over the GUI and simply wait for lets say one second you can see:  \r\n[![enter image description here][2]][2]\r\n\r\nIf I continue to move the mouse the artefact will disappear (and come back where ever I stop moving my mouse within the GUI).\r\n\r\nThis was also observed over different PCs and also in complete different projects. Therefore I have the feeling this is something related to Java Swing itself!\r\n\r\nDoes someone is also seeing this and can say how to avoid it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7qNIT.png\r\n  [2]: https://i.stack.imgur.com/UsKJR.png","title":"Strange artifacts in Swing GUI on mouse hover","body":"<p>I noticed that for some reasons strange artefacts appear in Swing GUI.\nThis could be observed both when running under Windows and Linux.</p>\n<p>Sometimes the artefacts are only a small dot (like in the example below) and another time as a gray box in the size of more or less a cursor prompt [].</p>\n<p>Here is an example:</p>\n<p>This is an example where everything looks okay:<br />\n<a href=\"https://i.stack.imgur.com/7qNIT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7qNIT.png\" alt=\"enter image description here\" /></a></p>\n<p>Once I hove with my mouse over the GUI and simply wait for lets say one second you can see:<br />\n<a href=\"https://i.stack.imgur.com/UsKJR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UsKJR.png\" alt=\"enter image description here\" /></a></p>\n<p>If I continue to move the mouse the artefact will disappear (and come back where ever I stop moving my mouse within the GUI).</p>\n<p>This was also observed over different PCs and also in complete different projects. Therefore I have the feeling this is something related to Java Swing itself!</p>\n<p>Does someone is also seeing this and can say how to avoid it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8869,"page":1123,"page_size":100}
