{"items":[{"tags":["java","java-16"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1653996197,"post_id":72446857,"comment_id":127981775,"body_markdown":"I can only assume that it&#39;s a restriction by java itself, that a variable can only have a single type. I.e. in the example `o` is always of type `Object`. `if (obj instanceof String s) { ...` is just a shorthand for `if (obj instanceof String) { String s = (String) obj; ...`, but I assume you also know that..","body":"I can only assume that it&#39;s a restriction by java itself, that a variable can only have a single type. I.e. in the example <code>o</code> is always of type <code>Object</code>. <code>if (obj instanceof String s) { ...</code> is just a shorthand for <code>if (obj instanceof String) { String s = (String) obj; ...</code>, but I assume you also know that.."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653996286,"post_id":72446857,"comment_id":127981813,"body_markdown":"It&#39;s just a limitation of java. Kotlin does allow that because it seems to &quot;reassign&quot; the type of `o` to `String` after the `instanceof` check.","body":"It&#39;s just a limitation of java. Kotlin does allow that because it seems to &quot;reassign&quot; the type of <code>o</code> to <code>String</code> after the <code>instanceof</code> check."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653996310,"post_id":72446857,"comment_id":127981823,"body_markdown":"@f1sh I inferred that it&#39;s a limitation, because they wouldn&#39;t make this feature more verbose than it needs to be. The question is basically &quot;what specifically is the limitation?&quot;","body":"@f1sh I inferred that it&#39;s a limitation, because they wouldn&#39;t make this feature more verbose than it needs to be. The question is basically &quot;what specifically is the limitation?&quot;"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1653996820,"post_id":72446857,"comment_id":127982024,"body_markdown":"FYI: the kotlin code `if (o is String) println(o.length)` is essentially just converted to `if (o instanceof String) System.out.println(((String) o).length())`. Meaning kotlin is also working with the restrictions the JVM imposes. I&#39;m assuming that the type of a variable can **never** change, but I did not have a look at the JVM-specs.","body":"FYI: the kotlin code <code>if (o is String) println(o.length)</code> is essentially just converted to <code>if (o instanceof String) System.out.println(((String) o).length())</code>. Meaning kotlin is also working with the restrictions the JVM imposes. I&#39;m assuming that the type of a variable can <b>never</b> change, but I did not have a look at the JVM-specs."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":3,"creation_date":1653997220,"post_id":72446857,"comment_id":127982186,"body_markdown":"Related: https://stackoverflow.com/questions/4186320/why-cast-after-an-instanceof (which asks why Java didn&#39;t _already_ do this, before pattern matching).","body":"Related: <a href=\"https://stackoverflow.com/questions/4186320/why-cast-after-an-instanceof\" title=\"why cast after an instanceof\">stackoverflow.com/questions/4186320/&hellip;</a> (which asks why Java didn&#39;t <i>already</i> do this, before pattern matching)."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653997335,"post_id":72446857,"comment_id":127982233,"body_markdown":"@Joe Perfect. Retrospectively changing the overload method resolution is exactly what I was looking for. Thanks!","body":"@Joe Perfect. Retrospectively changing the overload method resolution is exactly what I was looking for. Thanks!"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1653998958,"post_id":72446857,"comment_id":127982857,"body_markdown":"I can&#39;t think of a way where the *match binding* (`s` in the given example) is actually necessary other than [in relation to *method overload resolution*](https://stackoverflow.com/a/31902768/507738) (the link posted by Joe). For instance, given the code `if (o instanceof Integer i || o instanceof String s)`, neither one of `i` and `s` can be used.","body":"I can&#39;t think of a way where the <i>match binding</i> (<code>s</code> in the given example) is actually necessary other than <a href=\"https://stackoverflow.com/a/31902768/507738\">in relation to <i>method overload resolution</i></a> (the link posted by Joe). For instance, given the code <code>if (o instanceof Integer i || o instanceof String s)</code>, neither one of <code>i</code> and <code>s</code> can be used."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1654008007,"post_id":72446857,"comment_id":127986877,"body_markdown":"@MCEmperor but what about `if(o instanceof Appendable a &amp;&amp; o instanceof CharSequence cs) …`","body":"@MCEmperor but what about <code>if(o instanceof Appendable a &amp;&amp; o instanceof CharSequence cs) …</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1654009483,"post_id":72446857,"comment_id":127987583,"body_markdown":"@Holger That *could* be an option. But then `o` could be an *intersection type* of `Appendable` and `CharSequence`, just like the type of `subject` in the following example: `&lt;T extends Appendable &amp; CharSequence&gt; void someMethod(T subject) { … }`.","body":"@Holger That <i>could</i> be an option. But then <code>o</code> could be an <i>intersection type</i> of <code>Appendable</code> and <code>CharSequence</code>, just like the type of <code>subject</code> in the following example: <code>&lt;T extends Appendable &amp; CharSequence&gt; void someMethod(T subject) { … }</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654009651,"post_id":72446857,"comment_id":127987648,"body_markdown":"@MCEmperor then, let’s raise the bar and use `if(o instanceof String s &amp;&amp; o instanceof Number n) { }` which is valid (Java does not disallow every impossible condition). But you can’t have an intersection type of two concrete classes.","body":"@MCEmperor then, let’s raise the bar and use <code>if(o instanceof String s &amp;&amp; o instanceof Number n) { }</code> which is valid (Java does not disallow every impossible condition). But you can’t have an intersection type of two concrete classes."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":0,"creation_date":1663866972,"post_id":72446857,"comment_id":130346039,"body_markdown":"Changing the type of the original variable w/in the block also precludes the body of the block from using members of the _original_ type that _aren&#39;t_ on the instanceof&#39;d type.  I don&#39;t know how often it occurs, but I assure you it&#39;s not zero. This doesn&#39;t happen when the original type is `Object` but may if it&#39;s some other abstract type or interface and the code wants to see if it is _also_ another interface type and then use both. I suppose an extra local var outside of the block w/ the original type could solve that, but then we&#39;re back to declaring a variable somewhere.","body":"Changing the type of the original variable w/in the block also precludes the body of the block from using members of the <i>original</i> type that <i>aren&#39;t</i> on the instanceof&#39;d type.  I don&#39;t know how often it occurs, but I assure you it&#39;s not zero. This doesn&#39;t happen when the original type is <code>Object</code> but may if it&#39;s some other abstract type or interface and the code wants to see if it is <i>also</i> another interface type and then use both. I suppose an extra local var outside of the block w/ the original type could solve that, but then we&#39;re back to declaring a variable somewhere."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1653996818,"creation_date":1653996163,"answer_id":72446895,"question_id":72446857,"body_markdown":"What&#39;s &quot;unreasonable&quot; about the code:\r\n\r\n    Object o = &quot;test&quot;;\r\n    if (obj instanceof String) {\r\n        System.out.println(o.length());\r\n    }\r\n\r\nis it does not compile, because there is no method `length()` for the class `Object`.\r\n\r\nThe proper comparison code is either:\r\n\r\n    Object o = &quot;test&quot;;\r\n    if (obj instanceof String) {\r\n        System.out.println(((String)o).length());\r\n    }\r\n\r\nor\r\n\r\n    Object o = &quot;test&quot;;\r\n    if (obj instanceof String) {\r\n        String s = (String)o;\r\n        System.out.println(s.length());\r\n    }\r\n\r\nWith the new syntax,\r\n\r\n    if (obj instanceof String s) {\r\n\r\nis [syntactic sugar][1] for\r\n\r\n    if (obj instanceof String) {\r\n        String s = (String)o;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Syntactic_sugar","title":"Why is an identifier required for instanceof pattern matching?","body":"<p>What's &quot;unreasonable&quot; about the code:</p>\n<pre><code>Object o = &quot;test&quot;;\nif (obj instanceof String) {\n    System.out.println(o.length());\n}\n</code></pre>\n<p>is it does not compile, because there is no method <code>length()</code> for the class <code>Object</code>.</p>\n<p>The proper comparison code is either:</p>\n<pre><code>Object o = &quot;test&quot;;\nif (obj instanceof String) {\n    System.out.println(((String)o).length());\n}\n</code></pre>\n<p>or</p>\n<pre><code>Object o = &quot;test&quot;;\nif (obj instanceof String) {\n    String s = (String)o;\n    System.out.println(s.length());\n}\n</code></pre>\n<p>With the new syntax,</p>\n<pre><code>if (obj instanceof String s) {\n</code></pre>\n<p>is <a href=\"https://en.wikipedia.org/wiki/Syntactic_sugar\" rel=\"nofollow noreferrer\">syntactic sugar</a> for</p>\n<pre><code>if (obj instanceof String) {\n    String s = (String)o;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1654010232,"creation_date":1654010232,"answer_id":72450350,"question_id":72446857,"body_markdown":"If Java introduced something like a “smart instanceof”, we could argue that this feature could have worked without introducing a new variable.\r\n\r\nBut that’s not what has been introduced. The new feature is *Pattern Matching*, a far bigger concept, though only implemented in the simplest form in the first step. This is also a new integration approach, instead of working decades on the big feature, smaller features are continuously added to Java while maintaining the big vision.\r\n\r\n[JDK-8260244] describes one of the next steps, which would allow something like\r\n\r\n&lt;sub&gt;(given)&lt;/sub&gt;\r\n```java\r\nrecord Point(int x, int y) {}\r\n```\r\n\r\n```java\r\nvoid printSum(Object o) {\r\n    if (o instanceof Point(int x, int y)) {\r\n        System.out.println(x+y);\r\n    }\r\n}\r\n```\r\n\r\nor even\r\n\r\n\r\n&lt;sub&gt;(given)&lt;/sub&gt;\r\n```java\r\nrecord Point(int x, int y) {}\r\nenum Color { RED, GREEN, BLUE }\r\nrecord ColoredPoint(Point p, Color c) {}\r\nrecord Rectangle(ColoredPoint upperLeft, ColoredPoint lowerRight) {}\r\n```\r\n```java\r\nstatic void printXCoordOfUpperLeftPointWithPatterns(Rectangle r) {\r\n    if (r instanceof Rectangle(ColoredPoint(Point(var x, var y), var c), var lr)) {\r\n        System.out.println(&quot;Upper-left corner: &quot; + x);\r\n    }\r\n}\r\n```\r\n\r\nSince *Pattern Matching* includes the creation of (sometimes multiple) new variables, the case of creating only one new variable containing the same reference as an already existing variable is just a corner case.\r\nEven what has been implemented so far, covers more cases than that. E.g.\r\n\r\n```java\r\nif(foo.getObject() instanceof List&lt;?&gt; l &amp;&amp; l.get(0) instanceof Map&lt;?,?&gt; m\r\n   &amp;&amp; m.get(&quot;foo&quot;) instanceof String s) {\r\n       // use s\r\n}\r\n```\r\n\r\nIt’s also worth noting that the scope of a pattern variable [is complex]. It would be even more confusing, if the variable existed outside this scope as well, but with a different type.\r\n\r\nSo, changing the type of a variable contextually in the presence of `instanceof`, while tempting, would cause problems (some comments also mentioned method overload selection), while at the same time, wouldn’t fit into the actual vision of the Java language developers.\r\n\r\n[JDK-8260244]: https://bugs.openjdk.java.net/browse/JDK-8260244\r\n[is complex]: https://stackoverflow.com/q/72446186/2711488\r\n","title":"Why is an identifier required for instanceof pattern matching?","body":"<p>If Java introduced something like a “smart instanceof”, we could argue that this feature could have worked without introducing a new variable.</p>\n<p>But that’s not what has been introduced. The new feature is <em>Pattern Matching</em>, a far bigger concept, though only implemented in the simplest form in the first step. This is also a new integration approach, instead of working decades on the big feature, smaller features are continuously added to Java while maintaining the big vision.</p>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8260244\" rel=\"noreferrer\">JDK-8260244</a> describes one of the next steps, which would allow something like</p>\n<p><sub>(given)</sub></p>\n<pre class=\"lang-java prettyprint-override\"><code>record Point(int x, int y) {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void printSum(Object o) {\n    if (o instanceof Point(int x, int y)) {\n        System.out.println(x+y);\n    }\n}\n</code></pre>\n<p>or even</p>\n<p><sub>(given)</sub></p>\n<pre class=\"lang-java prettyprint-override\"><code>record Point(int x, int y) {}\nenum Color { RED, GREEN, BLUE }\nrecord ColoredPoint(Point p, Color c) {}\nrecord Rectangle(ColoredPoint upperLeft, ColoredPoint lowerRight) {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>static void printXCoordOfUpperLeftPointWithPatterns(Rectangle r) {\n    if (r instanceof Rectangle(ColoredPoint(Point(var x, var y), var c), var lr)) {\n        System.out.println(&quot;Upper-left corner: &quot; + x);\n    }\n}\n</code></pre>\n<p>Since <em>Pattern Matching</em> includes the creation of (sometimes multiple) new variables, the case of creating only one new variable containing the same reference as an already existing variable is just a corner case.\nEven what has been implemented so far, covers more cases than that. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(foo.getObject() instanceof List&lt;?&gt; l &amp;&amp; l.get(0) instanceof Map&lt;?,?&gt; m\n   &amp;&amp; m.get(&quot;foo&quot;) instanceof String s) {\n       // use s\n}\n</code></pre>\n<p>It’s also worth noting that the scope of a pattern variable <a href=\"https://stackoverflow.com/q/72446186/2711488\">is complex</a>. It would be even more confusing, if the variable existed outside this scope as well, but with a different type.</p>\n<p>So, changing the type of a variable contextually in the presence of <code>instanceof</code>, while tempting, would cause problems (some comments also mentioned method overload selection), while at the same time, wouldn’t fit into the actual vision of the Java language developers.</p>\n"}],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1108,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72450350,"answer_count":2,"score":2,"last_activity_date":1654010232,"creation_date":1653995990,"question_id":72446857,"body_markdown":"In Java&#39;s instanceof pattern matching, an additional identifier is used to narrow the type:\r\n\r\n    Object o = &quot;test&quot;;\r\n    if (o instanceof String s) {\r\n        System.out.println(s.length()); // s is of type String\r\n    }\r\n\r\nWhy is that necessary? [The JEP](https://openjdk.java.net/jeps/394) doesn&#39;t seem to justify it, but I&#39;m sure there&#39;s a reason. What&#39;s undesirable about the following?\r\n\r\n    Object o = &quot;test&quot;;\r\n    if (o instanceof String) {\r\n        System.out.println(o.length());\r\n    }\r\n\r\n[TypeScript](https://www.typescriptlang.org/docs/handbook/2/narrowing.html) and [Kotlin](https://kotlinlang.org/docs/typecasts.html#smart-casts) do similar things without another identifier.\r\n\r\nI&#39;m guessing it&#39;s a backwards-compatibility thing - Java&#39;s quirk&#39;s usually are - but I can&#39;t think of an example which would demonstrate that.\r\n\r\nThe only thing I can think is that someone may have written something similar to that second example pre-pattern matching and relies on it to *not* compile, but that seems like a weak justification.","title":"Why is an identifier required for instanceof pattern matching?","body":"<p>In Java's instanceof pattern matching, an additional identifier is used to narrow the type:</p>\n<pre><code>Object o = &quot;test&quot;;\nif (o instanceof String s) {\n    System.out.println(s.length()); // s is of type String\n}\n</code></pre>\n<p>Why is that necessary? <a href=\"https://openjdk.java.net/jeps/394\" rel=\"nofollow noreferrer\">The JEP</a> doesn't seem to justify it, but I'm sure there's a reason. What's undesirable about the following?</p>\n<pre><code>Object o = &quot;test&quot;;\nif (o instanceof String) {\n    System.out.println(o.length());\n}\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/2/narrowing.html\" rel=\"nofollow noreferrer\">TypeScript</a> and <a href=\"https://kotlinlang.org/docs/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">Kotlin</a> do similar things without another identifier.</p>\n<p>I'm guessing it's a backwards-compatibility thing - Java's quirk's usually are - but I can't think of an example which would demonstrate that.</p>\n<p>The only thing I can think is that someone may have written something similar to that second example pre-pattern matching and relies on it to <em>not</em> compile, but that seems like a weak justification.</p>\n"},{"tags":["java","jtable"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1334674824,"post_id":10193475,"comment_id":13086301,"body_markdown":"Before you close your process, read the column widths and save them to a properties file.  When you open your process, read the properties file and, if it exists, set the column widths.  You may need to extend the DefaultTableColumnModel so that you can control the column widths.","body":"Before you close your process, read the column widths and save them to a properties file.  When you open your process, read the properties file and, if it exists, set the column widths.  You may need to extend the DefaultTableColumnModel so that you can control the column widths."},{"owner":{"account_id":125727,"reputation":133941,"user_id":321697,"accept_rate":97,"display_name":"Kevin Coppock"},"score":0,"creation_date":1334690672,"post_id":10193475,"comment_id":13093157,"body_markdown":"It actually does this at any call to fireTableStructureChanged(), not just at the start of the program, so if I add or remove columns in the data model (where it has to regenerate columns) it does this. I&#39;ve tried overriding `fireTableStructureChanged()` to manually set the column widths, but it seemingly has no effect. I guess I&#39;m just not sure exactly where this column generation is occuring and where to override it.","body":"It actually does this at any call to fireTableStructureChanged(), not just at the start of the program, so if I add or remove columns in the data model (where it has to regenerate columns) it does this. I&#39;ve tried overriding <code>fireTableStructureChanged()</code> to manually set the column widths, but it seemingly has no effect. I guess I&#39;m just not sure exactly where this column generation is occuring and where to override it."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1334690811,"post_id":10193475,"comment_id":13093213,"body_markdown":"I&#39;ve always done data driven column widths.  If I find anything, I&#39;ll provide an answer.","body":"I&#39;ve always done data driven column widths.  If I find anything, I&#39;ll provide an answer."},{"owner":{"account_id":125727,"reputation":133941,"user_id":321697,"accept_rate":97,"display_name":"Kevin Coppock"},"score":0,"creation_date":1334691235,"post_id":10193475,"comment_id":13093378,"body_markdown":"Oh okay, thank you. Yeah, I&#39;m new to JTables so I&#39;m learning as I go.","body":"Oh okay, thank you. Yeah, I&#39;m new to JTables so I&#39;m learning as I go."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1334691682,"creation_date":1334691682,"answer_id":10197998,"question_id":10193475,"body_markdown":"Try something like this.\r\n\r\n\timport javax.swing.JTable;\r\n\timport javax.swing.table.TableColumn;\r\n\timport javax.swing.table.TableColumnModel;\r\n\t\r\n\tpublic class ColumnResizer {\r\n\t\r\n\t\tpublic static void setColumnPreferredWidth(JTable table, int column,\r\n\t\t\t\tint preferredWidth) {\r\n\t\t\tTableColumnModel columnModel = table.getColumnModel();\r\n\t\t\tTableColumn tableColumn = columnModel.getColumn(column);\r\n\t\t\ttableColumn.setPreferredWidth(preferredWidth);\r\n\t\t}\r\n\t\r\n\t}","title":"How Can I Maintain User-Specified Column Widths in a JTable?","body":"<p>Try something like this.</p>\n\n<pre><code>import javax.swing.JTable;\nimport javax.swing.table.TableColumn;\nimport javax.swing.table.TableColumnModel;\n\npublic class ColumnResizer {\n\n    public static void setColumnPreferredWidth(JTable table, int column,\n            int preferredWidth) {\n        TableColumnModel columnModel = table.getColumnModel();\n        TableColumn tableColumn = columnModel.getColumn(column);\n        tableColumn.setPreferredWidth(preferredWidth);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1517866,"reputation":309,"user_id":1418417,"accept_rate":75,"display_name":"Marius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405080174,"creation_date":1405080174,"answer_id":24697252,"question_id":10193475,"body_markdown":"What about\r\n\r\n`table.setAutoCreateColumnsFromModel(false);`\r\n\r\nI had this problem as well, this worked for me!","title":"How Can I Maintain User-Specified Column Widths in a JTable?","body":"<p>What about</p>\n\n<p><code>table.setAutoCreateColumnsFromModel(false);</code></p>\n\n<p>I had this problem as well, this worked for me!</p>\n"}],"owner":{"account_id":125727,"reputation":133941,"user_id":321697,"accept_rate":97,"display_name":"Kevin Coppock"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1877,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10197998,"answer_count":2,"score":8,"last_activity_date":1654010170,"creation_date":1334673955,"question_id":10193475,"body_markdown":"So I&#39;m working with a `JTable`, which is tied to a custom data model of my own. That much is all functional, but the problem I&#39;m having is that any time that I make a change to the table (firing tableDataChanged, tableStructureChanged, etc.) all of the column widths reset themselves to the default values. I understand from researching that this has to do with the `TableColumnModel` assigned by default. Outside of this resetting, I&#39;m happy with the functionality of the `DefaultTableColumnModel`, but I would just like to retain the width of the columns if a user should resize them (by dragging the edge of the column header).\r\n\r\nI&#39;m aware of `setPreferredWidth()` for the TableColumns, and I&#39;ve been able to do that successfully; I suppose my question is what sort of event I should listen for to save and set this preferred width. I tried adding a `PropertyChangeListener` to the table header, but I would get a StackOverflow any time I tried to resize (I&#39;m assuming it was running recursively). I&#39;m perfectly okay with adding an additional data member in the data model for the column widths, and storing it there, but I just don&#39;t know when/how to set these widths so that they aren&#39;t overridden by the `fireTableStructureChanged()`, etc. events. Thoughts?","title":"How Can I Maintain User-Specified Column Widths in a JTable?","body":"<p>So I'm working with a <code>JTable</code>, which is tied to a custom data model of my own. That much is all functional, but the problem I'm having is that any time that I make a change to the table (firing tableDataChanged, tableStructureChanged, etc.) all of the column widths reset themselves to the default values. I understand from researching that this has to do with the <code>TableColumnModel</code> assigned by default. Outside of this resetting, I'm happy with the functionality of the <code>DefaultTableColumnModel</code>, but I would just like to retain the width of the columns if a user should resize them (by dragging the edge of the column header).</p>\n\n<p>I'm aware of <code>setPreferredWidth()</code> for the TableColumns, and I've been able to do that successfully; I suppose my question is what sort of event I should listen for to save and set this preferred width. I tried adding a <code>PropertyChangeListener</code> to the table header, but I would get a StackOverflow any time I tried to resize (I'm assuming it was running recursively). I'm perfectly okay with adding an additional data member in the data model for the column widths, and storing it there, but I just don't know when/how to set these widths so that they aren't overridden by the <code>fireTableStructureChanged()</code>, etc. events. Thoughts?</p>\n"},{"tags":["java","pdf","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":13222198,"reputation":84,"user_id":9548566,"display_name":"Jatinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654010083,"creation_date":1654010083,"answer_id":72450322,"question_id":72450321,"body_markdown":"    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.common.PDRectangle;\r\n    import org.apache.pdfbox.pdmodel.font.PDMMType1Font;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n    import org.vandeseer.easytable.RepeatedHeaderTableDrawer;\r\n    import org.vandeseer.easytable.structure.Row;\r\n    import org.vandeseer.easytable.structure.Table;\r\n    import org.vandeseer.easytable.structure.cell.TextCell;\r\n    \r\n    import java.awt.*;\r\n    import java.io.IOException;\r\n    import java.text.MessageFormat;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    //pdf with table and page no\r\n    public class SimplePDF {\r\n        public static void main(String[] args) {\r\n            try (PDDocument document = new PDDocument()) {\r\n                final PDPage page = new PDPage(PDRectangle.A4);\r\n    \r\n                // create table with header and set default settings like each col width, border, font (family, size), padding etc.\r\n                Table.TableBuilder table = Table.builder()\r\n                        .addColumnsOfWidth(150F, 150F, 150F)\r\n                        .borderWidth(1F)\r\n                        .borderColor(Color.lightGray)\r\n                        .padding(8F)\r\n                        .font(PDType1Font.HELVETICA)\r\n                        .fontSize(10)\r\n                        .addRow(\r\n                                // header column names\r\n                                Row.builder()\r\n                                        .font(PDMMType1Font.HELVETICA_BOLD)\r\n                                        .add(TextCell.builder().text(&quot;Name&quot;).build())\r\n                                        .add(TextCell.builder().text(&quot;Age&quot;).build())\r\n                                        .add(TextCell.builder().text(&quot;Country&quot;).build())\r\n                                        .build()\r\n                        );\r\n    \r\n                //add multiple rows to table\r\n                for (int i = 0; i &lt; 100; i++) {\r\n                    table.addRow(\r\n                            Row.builder()\r\n                                    .add(TextCell.builder().text(&quot;John&quot;).build())\r\n                                    .add(TextCell.builder().text(&quot;20&quot;).build())\r\n                                    .add(TextCell.builder().text(&quot;Any&quot;).build())\r\n                                    .build()\r\n                    );\r\n                }\r\n    \r\n                //use RepeatedHeaderTableDrawer builder class to repeat header row in all page of pdf\r\n                RepeatedHeaderTableDrawer repeatedHeaderTableDrawer = RepeatedHeaderTableDrawer.builder()\r\n                        .startX(20f)\r\n                        .startY(page.getMediaBox().getUpperRightY())\r\n                        .numberOfRowsToRepeat(1) //specify the no of row wants to repeat on each page of pdf\r\n                        .table(table.build())\r\n                        .build();\r\n    \r\n                //draw the table on pdf document\r\n                repeatedHeaderTableDrawer.draw(() -&gt; document, () -&gt; new PDPage(PDRectangle.A4), 30);\r\n    \r\n                //Print the page no on each page of pdf because know we know how many no of pages do this pdf has\r\n                //because it print the table on each page based on the data now we can print the page no on each page of pdf\r\n                //for e.g &#39;Page 1 of 4&#39;    if we have 4 no of page in pdf then this will be the output on the first page of pdf\r\n    \r\n                int totalNoOfPages = document.getNumberOfPages();\r\n                AtomicInteger pageCounter = new AtomicInteger(1);\r\n    \r\n                //iterate each page and print page no on each page at the footer of the pdf\r\n                document.getPages().forEach(pdfPage -&gt; {\r\n                    float bottomXAxis = pdfPage.getMediaBox().getLowerLeftX();\r\n                    float bottomYAxis = pdfPage.getMediaBox().getLowerLeftY();\r\n                    String currentPageNo = MessageFormat.format(&quot;Page {0} of {1}&quot;, pageCounter.getAndIncrement(), totalNoOfPages);\r\n                    try {\r\n                        PDPageContentStream contentStream = new PDPageContentStream(document, pdfPage, PDPageContentStream.AppendMode.APPEND, true);\r\n                        contentStream.beginText();\r\n                        contentStream.setFont(PDMMType1Font.HELVETICA, 10);\r\n                        contentStream.newLineAtOffset(bottomXAxis + 15, bottomYAxis + 5);\r\n                        contentStream.showText(currentPageNo);\r\n                        contentStream.endText();\r\n                        contentStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n    \r\n                //save the pdf file\r\n                document.save(&quot;example.pdf&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                System.out.println(&quot;PDF created&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe above code will generate a pdf file that contains the table with repeatable header row on each page of pdf and page no on each page. Results might be slightly different for you but it works for me.\r\n2 libraries are used one is **[Apache PDFBox][1]** and **[EasyTable][2]** to create tables using ApachePDFBox\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/2.0/getting-started.html\r\n  [2]: https://github.com/vandeseer/easytable\r\n\r\ndependency for libraries are:-\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n       &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n       &lt;version&gt;2.0.22&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.github.vandeseer&lt;/groupId&gt;\r\n       &lt;artifactId&gt;easytable&lt;/artifactId&gt;\r\n       &lt;version&gt;0.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to print page no to PDF using Apache PDFBox?","body":"<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.common.PDRectangle;\nimport org.apache.pdfbox.pdmodel.font.PDMMType1Font;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\nimport org.vandeseer.easytable.RepeatedHeaderTableDrawer;\nimport org.vandeseer.easytable.structure.Row;\nimport org.vandeseer.easytable.structure.Table;\nimport org.vandeseer.easytable.structure.cell.TextCell;\n\nimport java.awt.*;\nimport java.io.IOException;\nimport java.text.MessageFormat;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n//pdf with table and page no\npublic class SimplePDF {\n    public static void main(String[] args) {\n        try (PDDocument document = new PDDocument()) {\n            final PDPage page = new PDPage(PDRectangle.A4);\n\n            // create table with header and set default settings like each col width, border, font (family, size), padding etc.\n            Table.TableBuilder table = Table.builder()\n                    .addColumnsOfWidth(150F, 150F, 150F)\n                    .borderWidth(1F)\n                    .borderColor(Color.lightGray)\n                    .padding(8F)\n                    .font(PDType1Font.HELVETICA)\n                    .fontSize(10)\n                    .addRow(\n                            // header column names\n                            Row.builder()\n                                    .font(PDMMType1Font.HELVETICA_BOLD)\n                                    .add(TextCell.builder().text(&quot;Name&quot;).build())\n                                    .add(TextCell.builder().text(&quot;Age&quot;).build())\n                                    .add(TextCell.builder().text(&quot;Country&quot;).build())\n                                    .build()\n                    );\n\n            //add multiple rows to table\n            for (int i = 0; i &lt; 100; i++) {\n                table.addRow(\n                        Row.builder()\n                                .add(TextCell.builder().text(&quot;John&quot;).build())\n                                .add(TextCell.builder().text(&quot;20&quot;).build())\n                                .add(TextCell.builder().text(&quot;Any&quot;).build())\n                                .build()\n                );\n            }\n\n            //use RepeatedHeaderTableDrawer builder class to repeat header row in all page of pdf\n            RepeatedHeaderTableDrawer repeatedHeaderTableDrawer = RepeatedHeaderTableDrawer.builder()\n                    .startX(20f)\n                    .startY(page.getMediaBox().getUpperRightY())\n                    .numberOfRowsToRepeat(1) //specify the no of row wants to repeat on each page of pdf\n                    .table(table.build())\n                    .build();\n\n            //draw the table on pdf document\n            repeatedHeaderTableDrawer.draw(() -&gt; document, () -&gt; new PDPage(PDRectangle.A4), 30);\n\n            //Print the page no on each page of pdf because know we know how many no of pages do this pdf has\n            //because it print the table on each page based on the data now we can print the page no on each page of pdf\n            //for e.g 'Page 1 of 4'    if we have 4 no of page in pdf then this will be the output on the first page of pdf\n\n            int totalNoOfPages = document.getNumberOfPages();\n            AtomicInteger pageCounter = new AtomicInteger(1);\n\n            //iterate each page and print page no on each page at the footer of the pdf\n            document.getPages().forEach(pdfPage -&gt; {\n                float bottomXAxis = pdfPage.getMediaBox().getLowerLeftX();\n                float bottomYAxis = pdfPage.getMediaBox().getLowerLeftY();\n                String currentPageNo = MessageFormat.format(&quot;Page {0} of {1}&quot;, pageCounter.getAndIncrement(), totalNoOfPages);\n                try {\n                    PDPageContentStream contentStream = new PDPageContentStream(document, pdfPage, PDPageContentStream.AppendMode.APPEND, true);\n                    contentStream.beginText();\n                    contentStream.setFont(PDMMType1Font.HELVETICA, 10);\n                    contentStream.newLineAtOffset(bottomXAxis + 15, bottomYAxis + 5);\n                    contentStream.showText(currentPageNo);\n                    contentStream.endText();\n                    contentStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n\n            //save the pdf file\n            document.save(&quot;example.pdf&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            System.out.println(&quot;PDF created&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The above code will generate a pdf file that contains the table with repeatable header row on each page of pdf and page no on each page. Results might be slightly different for you but it works for me.\n2 libraries are used one is <strong><a href=\"https://pdfbox.apache.org/2.0/getting-started.html\" rel=\"nofollow noreferrer\">Apache PDFBox</a></strong> and <strong><a href=\"https://github.com/vandeseer/easytable\" rel=\"nofollow noreferrer\">EasyTable</a></strong> to create tables using ApachePDFBox</p>\n<p>dependency for libraries are:-</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n   &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n   &lt;version&gt;2.0.22&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;com.github.vandeseer&lt;/groupId&gt;\n   &lt;artifactId&gt;easytable&lt;/artifactId&gt;\n   &lt;version&gt;0.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13222198,"reputation":84,"user_id":9548566,"display_name":"Jatinder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654010083,"creation_date":1654010083,"question_id":72450321,"body_markdown":"I have a PDF file where I have to print page no on each page of PDF using the Apache PDFBox library in Java.\r\nAnd Pdf has a table with dynamic content I don&#39;t know how many pages my content will be required to print on PDF because it contains a table with dynamic data.\r\n\r\nFor e.g:-\r\nWhile creating the PDF a file may have 4 or 5 pages in that case I have to print page no on each page at the footer of the PDF. like below\r\n\r\nLet&#39;s assume content will be printed on 4 pages in PDF\r\n\r\nOn page no 1 **Page 1 of 4** \r\n\r\nOn page no 2 **Page 2 of 4**\r\n\r\nOn page no 3 **Page 3 of 4**\r\n\r\nOn page no 4 **Page 4 of 4**","title":"How to print page no to PDF using Apache PDFBox?","body":"<p>I have a PDF file where I have to print page no on each page of PDF using the Apache PDFBox library in Java.\nAnd Pdf has a table with dynamic content I don't know how many pages my content will be required to print on PDF because it contains a table with dynamic data.</p>\n<p>For e.g:-\nWhile creating the PDF a file may have 4 or 5 pages in that case I have to print page no on each page at the footer of the PDF. like below</p>\n<p>Let's assume content will be printed on 4 pages in PDF</p>\n<p>On page no 1 <strong>Page 1 of 4</strong></p>\n<p>On page no 2 <strong>Page 2 of 4</strong></p>\n<p>On page no 3 <strong>Page 3 of 4</strong></p>\n<p>On page no 4 <strong>Page 4 of 4</strong></p>\n"},{"tags":["java","eclipse","maven","m2eclipse"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654020960,"post_id":72450319,"comment_id":127991484,"body_markdown":"Can you tell which `trigger quite a few warnings in ` ?","body":"Can you tell which <code>trigger quite a few warnings in </code> ?"},{"owner":{"account_id":24731384,"reputation":103,"user_id":18619318,"display_name":"user18619318"},"score":0,"creation_date":1654084926,"post_id":72450319,"comment_id":128006869,"body_markdown":"@khmarbaise Things like &quot;unused import&quot; and &quot;unused variable&quot; - which is perfectly fair, they just add noise.","body":"@khmarbaise Things like &quot;unused import&quot; and &quot;unused variable&quot; - which is perfectly fair, they just add noise."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654115104,"post_id":72450319,"comment_id":128017611,"body_markdown":"The simplest solution is to solve those warnings because such things are a hint about not well maintained code... And no there is no programmatic way to turn such warnings off in Maven for Eclipse, because that&#39;s a warnings of Eclipse. The other question is: How have you configured the openapi tools to generate the code? So in such case a full pom file would help here..","body":"The simplest solution is to solve those warnings because such things are a hint about not well maintained code... And no there is no programmatic way to turn such warnings off in Maven for Eclipse, because that&#39;s a warnings of Eclipse. The other question is: How have you configured the openapi tools to generate the code? So in such case a full pom file would help here.."},{"owner":{"account_id":24731384,"reputation":103,"user_id":18619318,"display_name":"user18619318"},"score":0,"creation_date":1654166022,"post_id":72450319,"comment_id":128028637,"body_markdown":"The generated code comes from the &quot;spring&quot; generator, which in turn uses a rather complex moustache template to generate the sources (as in: a rather deep dive to fix upstream which I&#39;d rather avoid if at all possible).   It is still an interesting problem though if the eclipse compiler can be configured more detailed than just the source level. Perhaps I should reword in a new question.","body":"The generated code comes from the &quot;spring&quot; generator, which in turn uses a rather complex moustache template to generate the sources (as in: a rather deep dive to fix upstream which I&#39;d rather avoid if at all possible).   It is still an interesting problem though if the eclipse compiler can be configured more detailed than just the source level. Perhaps I should reword in a new question."}],"owner":{"account_id":24731384,"reputation":103,"user_id":18619318,"display_name":"user18619318"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654010079,"creation_date":1654010079,"question_id":72450319,"body_markdown":"I have a multi-module Maven project, in which one module is responsible for invoking OpenAPI generator on our openapi.yaml file resulting in a lot of Java sources under `target/` which is then compiled into an artifact used in the rest of the project.   This works well.\r\n\r\nUnfortunately these generated sources trigger quite a few warnings in Eclipse 2022-03 after importing the Maven project.   I would therefore like to know if it is possible to have m2e adjust a few compiler settings for this module only, when importing the project, or if my only option is to set this in Eclipse and then carefully commit the resulting configuration files?\r\n\r\nOur goal is to have as near a &quot;pure Maven&quot; solution as possible.  Can this be done?","title":"Disable Eclipse warnings programatically in single Maven module generating sources?","body":"<p>I have a multi-module Maven project, in which one module is responsible for invoking OpenAPI generator on our openapi.yaml file resulting in a lot of Java sources under <code>target/</code> which is then compiled into an artifact used in the rest of the project.   This works well.</p>\n<p>Unfortunately these generated sources trigger quite a few warnings in Eclipse 2022-03 after importing the Maven project.   I would therefore like to know if it is possible to have m2e adjust a few compiler settings for this module only, when importing the project, or if my only option is to set this in Eclipse and then carefully commit the resulting configuration files?</p>\n<p>Our goal is to have as near a &quot;pure Maven&quot; solution as possible.  Can this be done?</p>\n"},{"tags":["java","installation","uninstallation","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654010041,"creation_date":1654010041,"answer_id":72450312,"question_id":72446249,"body_markdown":"The uninstaller has its own &quot;Default execution mode&quot; property in the &quot;Installer-&gt;Screens &amp; Actions&quot; step.","title":"Install4j uninstaller running in console/CLI mode by default","body":"<p>The uninstaller has its own &quot;Default execution mode&quot; property in the &quot;Installer-&gt;Screens &amp; Actions&quot; step.</p>\n"}],"owner":{"account_id":23847616,"reputation":75,"user_id":17851934,"display_name":"Rohit Shete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72450312,"answer_count":1,"score":1,"last_activity_date":1654010041,"creation_date":1653993351,"question_id":72446249,"body_markdown":"We have developed installer application for Cent OS 7.5, our installer is running in GUI mode without any issue but uninstaller for same is running in console/CLI mode, we have set default execution mode to GUI still the issue persist.\r\n\r\nInstall4j Version : 9.0.1\r\n","title":"Install4j uninstaller running in console/CLI mode by default","body":"<p>We have developed installer application for Cent OS 7.5, our installer is running in GUI mode without any issue but uninstaller for same is running in console/CLI mode, we have set default execution mode to GUI still the issue persist.</p>\n<p>Install4j Version : 9.0.1</p>\n"},{"tags":["java","amazon-s3","aws-sdk","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":18694096,"reputation":1,"user_id":13627815,"display_name":"wpstan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654009343,"creation_date":1654009343,"answer_id":72450148,"question_id":72450116,"body_markdown":"I don&#39;t think you can rename the file directory, the full path is actually an object store key.","title":"Rename a folder stored in Amazon S3 using the AWS Java SDK v2?","body":"<p>I don't think you can rename the file directory, the full path is actually an object store key.</p>\n"},{"tags":[],"owner":{"account_id":8777939,"reputation":56,"user_id":6562577,"display_name":"Kizoku-Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654009826,"creation_date":1654009826,"answer_id":72450256,"question_id":72450116,"body_markdown":"In amazon S3 you don’t really have folders, it’s just a key.\r\nSo if you want to &#171;&#160;rename a folder&#160;&#187; unfortunately you have to move all your objects to another key.","title":"Rename a folder stored in Amazon S3 using the AWS Java SDK v2?","body":"<p>In amazon S3 you don’t really have folders, it’s just a key.\nSo if you want to « rename a folder » unfortunately you have to move all your objects to another key.</p>\n"}],"owner":{"account_id":3685691,"reputation":642,"user_id":3069498,"display_name":"Serban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654009826,"creation_date":1654009186,"question_id":72450116,"body_markdown":"I&#39;m implementing an app which offers file storage in Amazon S3, while the user operates with normal *files &amp; folders* concept.\r\nIn the backend I use the AWS Java SDK Version 2.\r\n\r\nDo I have any way to rename/move an entire folder (thus recursively modifying it&#39;s content) ?\r\n\r\nOr do I have to manually implement a recursive parsing and invoking copy+delete for each resource ?\r\n\r\nThanks.","title":"Rename a folder stored in Amazon S3 using the AWS Java SDK v2?","body":"<p>I'm implementing an app which offers file storage in Amazon S3, while the user operates with normal <em>files &amp; folders</em> concept.\nIn the backend I use the AWS Java SDK Version 2.</p>\n<p>Do I have any way to rename/move an entire folder (thus recursively modifying it's content) ?</p>\n<p>Or do I have to manually implement a recursive parsing and invoking copy+delete for each resource ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","docker","intellij-idea","dockerfile"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654009792,"post_id":72450082,"comment_id":127987711,"body_markdown":"It sounds like you have two conflicting Dockerfiles, one with Java 8 and one with Java 15.","body":"It sounds like you have two conflicting Dockerfiles, one with Java 8 and one with Java 15."},{"owner":{"account_id":12887672,"reputation":29,"user_id":9320586,"display_name":"marc"},"score":0,"creation_date":1654010714,"post_id":72450082,"comment_id":127988085,"body_markdown":"I looked it up again and I can only find one dockerfile in my project.","body":"I looked it up again and I can only find one dockerfile in my project."},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1654022757,"post_id":72450082,"comment_id":127992014,"body_markdown":"Seems like you&#39;re running a different image than `MyApplication:latest` when you are starting through Docker Desktop, or you are building the wrong thing with that tag. Is your working directory in the terminal correct? Also, &quot;class file version 55.0&quot; === Java 11, so evidently you aren&#39;t building the JAR with JDK 15 in the first place","body":"Seems like you&#39;re running a different image than <code>MyApplication:latest</code> when you are starting through Docker Desktop, or you are building the wrong thing with that tag. Is your working directory in the terminal correct? Also, &quot;class file version 55.0&quot; === Java 11, so evidently you aren&#39;t building the JAR with JDK 15 in the first place"}],"owner":{"account_id":12887672,"reputation":29,"user_id":9320586,"display_name":"marc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654009579,"creation_date":1654009046,"question_id":72450082,"body_markdown":"I have a Spring Boot application that I want to run in Docker. Everything is set to Java version 15 (Amazon Corretto). The application runs fine locally when I start it with IntelliJ.\r\n\r\nI run these Docker commands:\r\n\r\n    docker build --tag=MyApplication:latest .\r\n\r\nand try to run it in Docker with this command:\r\n\r\n    docker run -p8887:8888 MyApplication:latest\r\n\r\nBut it gives me this exception:\r\n\r\n        Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/example/MyApplicationApplication has been compiled \r\n    by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 \r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n            at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n            at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n            at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            at java.lang.Class.forName0(Native Method)\r\n            at java.lang.Class.forName(Class.java:348)\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n\r\n\r\nBut here comes the interesting part, when I run the image via Docker Desktop it works perfectly fine. The reason for this is following:\r\n\r\n\r\nThe image I started in IntelliJ via Terminal\r\n[![The image I started in IntelliJ via Terminal][1]][1]\r\nThe image I started in Docker Desktop manually\r\n[![The image I started in Docker Desktop manually][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OHIeu.png\r\n  [2]: https://i.stack.imgur.com/lxXtn.png\r\n\r\n\r\nAs you can see the image is using Java 8 when run through terminal. Why? I have set my JAVA_HOME to the correct SDK and everything in IntelliJ is set to Java 15. Why does it try to run it in Java 8? Do I have to change something in Docker?\r\n\r\nIs something in my Dockerfile wrong?\r\n\r\n\r\n    FROM amazoncorretto:15\r\n    COPY target/MyApplication-1.0.jar MyApplication-1.0.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/MyApplication-1.0.jar&quot;]\r\n\r\n\r\n","title":"Docker UnsupportedClassVersionError when run via Terminal","body":"<p>I have a Spring Boot application that I want to run in Docker. Everything is set to Java version 15 (Amazon Corretto). The application runs fine locally when I start it with IntelliJ.</p>\n<p>I run these Docker commands:</p>\n<pre><code>docker build --tag=MyApplication:latest .\n</code></pre>\n<p>and try to run it in Docker with this command:</p>\n<pre><code>docker run -p8887:8888 MyApplication:latest\n</code></pre>\n<p>But it gives me this exception:</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/example/MyApplicationApplication has been compiled \nby a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 \n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\n</code></pre>\n<p>But here comes the interesting part, when I run the image via Docker Desktop it works perfectly fine. The reason for this is following:</p>\n<p>The image I started in IntelliJ via Terminal\n<a href=\"https://i.stack.imgur.com/OHIeu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHIeu.png\" alt=\"The image I started in IntelliJ via Terminal\" /></a>\nThe image I started in Docker Desktop manually\n<a href=\"https://i.stack.imgur.com/lxXtn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lxXtn.png\" alt=\"The image I started in Docker Desktop manually\" /></a></p>\n<p>As you can see the image is using Java 8 when run through terminal. Why? I have set my JAVA_HOME to the correct SDK and everything in IntelliJ is set to Java 15. Why does it try to run it in Java 8? Do I have to change something in Docker?</p>\n<p>Is something in my Dockerfile wrong?</p>\n<pre><code>FROM amazoncorretto:15\nCOPY target/MyApplication-1.0.jar MyApplication-1.0.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/MyApplication-1.0.jar&quot;]\n</code></pre>\n"},{"tags":["java","ssl","jsse"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654009345,"creation_date":1654008931,"answer_id":72450047,"question_id":72446019,"body_markdown":"I don&#39;t see any comment about sorting by alias. _If_ the imperfect-match sorting occurs, it uses [`EntryStatus.compareTo`](https://github.com/openjdk/jdk/blob/6e55a72f25f7273e3a8a19e0b9a97669b84808e9/src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java#L498) which sorts first by `CheckResult` (i.e. a measure of how close the cert is to being &#39;good&#39;) then `keyIndex` which is its position in the list of `keyTypes` requested by the caller based on the SSL/TLS protocol (i.e. the ciphersuite(s) and/or signature_algorithm values, which may be in preference order). If those are both equal, `Collections.sort` is stable so it will use the order they were tested and found, see next.\r\n\r\nHowever, sorting occurs only if there is no &#39;perfect&#39; match; as soon as any &#39;perfect&#39; match is found it is returned without looking for any others that could exist. So which is returned depends on the order in which keystore entries are looked at and tested. `chooseAlias` as you linked, and its with-SNI-idalg sibling, first look in &#39;builder&#39; order if there is more than one, which there usually won&#39;t be; and within a &#39;builder&#39; (i.e. within a keystore) they call [`getAliases`](https://github.com/openjdk/jdk/blob/6e55a72f25f7273e3a8a19e0b9a97669b84808e9/src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java#L722) which you can see uses the `Enumeration` returned by `ks.aliases()` -- which is determined by the `KeyStore` instance used.\r\n\r\n_File-based_ keystores like PKCS12 and JKS generally use a `Map` or the older (pre-Collection) `Hashtable` keyed by alias. In particular PKCS12 uses `LinkedHashMap` which returns keys/entries in the order inserted, which I think is more or less the order they exist in the stored file (although in PKCS12 certs and privatekeys may be ordered differently and I&#39;m not sure which controls) but that need not be the same order as aliases/names, creation, or anything else. JKS uses `Hashtable` which enumerates in descending order of the hashcode modulo the map size which depends primarily on the number of entries inserted, and in case of conflict it uses a linked list and returns in reverse order of insertion -- unless maybe rehashing changes that.\r\n\r\nFor a non-file-based keystore like PKCS11, Windows, Apple it could be determined by the Java interface code, what the underlying facility provides, or a combination.\r\n\r\nTLDR: as far as you&#39;re concerned, it&#39;s unpredictable and for practical purposes might as well be random. If you care which one you get, either write your own `KeyManager` logic to implement your choice (or use a prewritten one like Apache httpcomponents) or filter the data in the keystore(s) you supply to the default KeyManager. \r\n\r\nAlso to be clear, this is only for `NewSunX509` as you specified. The _default_ KeyManager is (still!) the older `SunX509` and that works differently; it has its _own_ HashMap which controls the iteration, rather than using that of the underlying keystore. (Singular, since SunX509 only takes one.) \r\n\r\n","title":"How does Java pick default certificate when keystore has multiple server certificates","body":"<p>I don't see any comment about sorting by alias. <em>If</em> the imperfect-match sorting occurs, it uses <a href=\"https://github.com/openjdk/jdk/blob/6e55a72f25f7273e3a8a19e0b9a97669b84808e9/src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java#L498\" rel=\"nofollow noreferrer\"><code>EntryStatus.compareTo</code></a> which sorts first by <code>CheckResult</code> (i.e. a measure of how close the cert is to being 'good') then <code>keyIndex</code> which is its position in the list of <code>keyTypes</code> requested by the caller based on the SSL/TLS protocol (i.e. the ciphersuite(s) and/or signature_algorithm values, which may be in preference order). If those are both equal, <code>Collections.sort</code> is stable so it will use the order they were tested and found, see next.</p>\n<p>However, sorting occurs only if there is no 'perfect' match; as soon as any 'perfect' match is found it is returned without looking for any others that could exist. So which is returned depends on the order in which keystore entries are looked at and tested. <code>chooseAlias</code> as you linked, and its with-SNI-idalg sibling, first look in 'builder' order if there is more than one, which there usually won't be; and within a 'builder' (i.e. within a keystore) they call <a href=\"https://github.com/openjdk/jdk/blob/6e55a72f25f7273e3a8a19e0b9a97669b84808e9/src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java#L722\" rel=\"nofollow noreferrer\"><code>getAliases</code></a> which you can see uses the <code>Enumeration</code> returned by <code>ks.aliases()</code> -- which is determined by the <code>KeyStore</code> instance used.</p>\n<p><em>File-based</em> keystores like PKCS12 and JKS generally use a <code>Map</code> or the older (pre-Collection) <code>Hashtable</code> keyed by alias. In particular PKCS12 uses <code>LinkedHashMap</code> which returns keys/entries in the order inserted, which I think is more or less the order they exist in the stored file (although in PKCS12 certs and privatekeys may be ordered differently and I'm not sure which controls) but that need not be the same order as aliases/names, creation, or anything else. JKS uses <code>Hashtable</code> which enumerates in descending order of the hashcode modulo the map size which depends primarily on the number of entries inserted, and in case of conflict it uses a linked list and returns in reverse order of insertion -- unless maybe rehashing changes that.</p>\n<p>For a non-file-based keystore like PKCS11, Windows, Apple it could be determined by the Java interface code, what the underlying facility provides, or a combination.</p>\n<p>TLDR: as far as you're concerned, it's unpredictable and for practical purposes might as well be random. If you care which one you get, either write your own <code>KeyManager</code> logic to implement your choice (or use a prewritten one like Apache httpcomponents) or filter the data in the keystore(s) you supply to the default KeyManager.</p>\n<p>Also to be clear, this is only for <code>NewSunX509</code> as you specified. The <em>default</em> KeyManager is (still!) the older <code>SunX509</code> and that works differently; it has its <em>own</em> HashMap which controls the iteration, rather than using that of the underlying keystore. (Singular, since SunX509 only takes one.)</p>\n"}],"owner":{"account_id":208197,"reputation":818,"user_id":458531,"display_name":"tsaarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72450047,"answer_count":1,"score":2,"last_activity_date":1654009345,"creation_date":1653992186,"question_id":72446019,"body_markdown":"How does Java select the default / fallback server certificate when client does not set SNI servername at all?\r\n\r\nBackground:\r\n\r\nI have created PKCS#12 keystore with **multiple server certificates**. I have tested also with JKS keystore. I use `NewSunX509` implementation of `X509KeyManager` which can select matching server certificate according to requested SNI servername.  \r\n\r\nI cannot find the rule which JSSE uses to pick the default or &quot;fallback&quot; server certificate, which it returns when client does NOT send SNI servername in TLS handshake. I have not found documentation or figured it out by testing. The implementation ([code link](https://github.com/openjdk/jdk/blob/6e55a72f25f7273e3a8a19e0b9a97669b84808e9/src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java#L350-L361)) says it sorts the imperfect matches. In practice, the selection seems to be impacted by the order of adding entries in keystore, but it does not simply pick first or last entry, or sort by alias even if the code comment gives that impression.","title":"How does Java pick default certificate when keystore has multiple server certificates","body":"<p>How does Java select the default / fallback server certificate when client does not set SNI servername at all?</p>\n<p>Background:</p>\n<p>I have created PKCS#12 keystore with <strong>multiple server certificates</strong>. I have tested also with JKS keystore. I use <code>NewSunX509</code> implementation of <code>X509KeyManager</code> which can select matching server certificate according to requested SNI servername.</p>\n<p>I cannot find the rule which JSSE uses to pick the default or &quot;fallback&quot; server certificate, which it returns when client does NOT send SNI servername in TLS handshake. I have not found documentation or figured it out by testing. The implementation (<a href=\"https://github.com/openjdk/jdk/blob/6e55a72f25f7273e3a8a19e0b9a97669b84808e9/src/java.base/share/classes/sun/security/ssl/X509KeyManagerImpl.java#L350-L361\" rel=\"nofollow noreferrer\">code link</a>) says it sorts the imperfect matches. In practice, the selection seems to be impacted by the order of adding entries in keystore, but it does not simply pick first or last entry, or sort by alias even if the code comment gives that impression.</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1654023418,"post_id":72450128,"comment_id":127992267,"body_markdown":"`file:log4j2.properties` is not a valid URI. Did you try with an absolute URI or the relative path to your configuration file?","body":"<code>file:log4j2.properties</code> is not a valid URI. Did you try with an absolute URI or the relative path to your configuration file?"},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1654114375,"post_id":72450128,"comment_id":128017382,"body_markdown":"I think somehow the log file properties it was using were maybe outdated, not sure. I just copied from an example on the net and now it&#39;s working.","body":"I think somehow the log file properties it was using were maybe outdated, not sure. I just copied from an example on the net and now it&#39;s working."}],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654009229,"creation_date":1654009229,"question_id":72450128,"body_markdown":"For some reason, my log4j configuration file is getting ignored. \r\n\r\nThe configuration is file found in \r\n\r\n    C:\\dev\\pa-backup-restore-utility\\BackupRestore\\log4j2.properties\r\n\r\nHere are the contents of the file: \r\n\r\n    name=PropertiesConfig\r\n    property.filename = logs\r\n    appenders = console, file\r\n    \r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\r\n    \r\n    appender.file.type = File\r\n    appender.file.name = LOGFILE\r\n    appender.file.fileName=logs/backupRestore.log\r\n    appender.file.layout.type=PatternLayout\r\n    appender.file.layout.pattern=[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\r\n    \r\n    loggers=file\r\n    \r\n    logger.file.name=log4j2.properties\r\n    logger.file.level = error\r\n    logger.file.appenderRefs = file\r\n    logger.file.appenderRef.file.ref = LOGFILE\r\n    \r\n    rootLogger.level = error\r\n    rootLogger.appenderRefs=stdout,logfile\r\n    rootLogger.appenderRef.stdout.ref=STDOUT\r\n    rootLogger.appenderRef.logfile.ref=LOGFILE\r\n\r\n\r\nThe batch file that runs the class is located in the same directory as the configuration file. \r\n\r\nThe command from the batch file is run as follows: \r\n\r\n    set javaPath=&quot;%appDir%\\jre\\bin\\java.exe&quot;\r\n    \r\n    %javaPath% -Dapp.properties.path=windows.app.properties -Dlog4j.configurationFile=file:log4j2.properties -jar backupRestore-jar-with-dependencies.jar -b\r\n    \r\nThe entry in pom.xml for this is: \r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.36&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nHere&#39;s how a logger.info is called: \r\n\r\n    static void printWarning(String message) {\r\n    \tlogger.info(&quot;============== warning ===============================&quot;);\r\n    \tlogger.info(&quot;== &quot; + message);\r\n    \tlogger.info(&quot;============== warning ===============================&quot;);\r\n    }\r\n\r\nHowever, when I run the batch job, an info message gets displayed in the console: \r\n\r\n    [main] INFO com.sick.backup.util.Utils - ============== warning ===============================\r\n    [main] INFO com.sick.backup.util.Utils - == here is an example message\r\n    [main] INFO com.sick.backup.util.Utils - ============== warning ===============================\r\n\r\nAlso, a log file is no longer getting generated. \r\n\r\nThis was all working at what point. I&#39;m trying to track down the version to make sure it matches, but the only change I&#39;ve made is to upgrade the version of log4j-to-slf4j due to prevent a vulnerability. \r\n\r\n\r\n","title":"Log4j property file is ingored","body":"<p>For some reason, my log4j configuration file is getting ignored.</p>\n<p>The configuration is file found in</p>\n<pre><code>C:\\dev\\pa-backup-restore-utility\\BackupRestore\\log4j2.properties\n</code></pre>\n<p>Here are the contents of the file:</p>\n<pre><code>name=PropertiesConfig\nproperty.filename = logs\nappenders = console, file\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\n\nappender.file.type = File\nappender.file.name = LOGFILE\nappender.file.fileName=logs/backupRestore.log\nappender.file.layout.type=PatternLayout\nappender.file.layout.pattern=[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\n\nloggers=file\n\nlogger.file.name=log4j2.properties\nlogger.file.level = error\nlogger.file.appenderRefs = file\nlogger.file.appenderRef.file.ref = LOGFILE\n\nrootLogger.level = error\nrootLogger.appenderRefs=stdout,logfile\nrootLogger.appenderRef.stdout.ref=STDOUT\nrootLogger.appenderRef.logfile.ref=LOGFILE\n</code></pre>\n<p>The batch file that runs the class is located in the same directory as the configuration file.</p>\n<p>The command from the batch file is run as follows:</p>\n<pre><code>set javaPath=&quot;%appDir%\\jre\\bin\\java.exe&quot;\n\n%javaPath% -Dapp.properties.path=windows.app.properties -Dlog4j.configurationFile=file:log4j2.properties -jar backupRestore-jar-with-dependencies.jar -b\n</code></pre>\n<p>The entry in pom.xml for this is:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;2.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.36&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here's how a logger.info is called:</p>\n<pre><code>static void printWarning(String message) {\n    logger.info(&quot;============== warning ===============================&quot;);\n    logger.info(&quot;== &quot; + message);\n    logger.info(&quot;============== warning ===============================&quot;);\n}\n</code></pre>\n<p>However, when I run the batch job, an info message gets displayed in the console:</p>\n<pre><code>[main] INFO com.sick.backup.util.Utils - ============== warning ===============================\n[main] INFO com.sick.backup.util.Utils - == here is an example message\n[main] INFO com.sick.backup.util.Utils - ============== warning ===============================\n</code></pre>\n<p>Also, a log file is no longer getting generated.</p>\n<p>This was all working at what point. I'm trying to track down the version to make sure it matches, but the only change I've made is to upgrade the version of log4j-to-slf4j due to prevent a vulnerability.</p>\n"},{"tags":["java","encryption","des"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1654010406,"post_id":72450126,"comment_id":127987959,"body_markdown":"in your encryption function `en(String inText)`you have `Base64.getUrlDecoder().decode(inText);`. Why do you decode the input in your encryption function. Sure that will fail as soon as you have a blank in the input. There is nothing to decode on the input text.","body":"in your encryption function <code>en(String inText)</code>you have <code>Base64.getUrlDecoder().decode(inText);</code>. Why do you decode the input in your encryption function. Sure that will fail as soon as you have a blank in the input. There is nothing to decode on the input text."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654010423,"post_id":72450126,"comment_id":127987966,"body_markdown":"Why are you calling Base64.getUrlDecoder().decode(inText)? What is wrong with simply using inText.getBytes(StandardCharsets.UTF_8)?","body":"Why are you calling Base64.getUrlDecoder().decode(inText)? What is wrong with simply using inText.getBytes(StandardCharsets.UTF_8)?"},{"owner":{"account_id":25389617,"reputation":9,"user_id":19200831,"display_name":"idek"},"score":0,"creation_date":1654085105,"post_id":72450126,"comment_id":128006941,"body_markdown":"@ewramner changing that line doesn&#39;t work, it gives this output:\nEnter text: test\nEncrypted: 1OGMmmZO5fw=\nKey: znVD1TcqTJI=\nDecrypted: dGVzdA==","body":"@ewramner changing that line doesn&#39;t work, it gives this output: Enter text: test Encrypted: 1OGMmmZO5fw= Key: znVD1TcqTJI= Decrypted: dGVzdA=="},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654090934,"post_id":72450126,"comment_id":128009121,"body_markdown":"Not so strange as you use encodeToString when you decrypt. You need to be consistent.","body":"Not so strange as you use encodeToString when you decrypt. You need to be consistent."}],"owner":{"account_id":25389617,"reputation":9,"user_id":19200831,"display_name":"idek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":930,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654009211,"creation_date":1654009211,"question_id":72450126,"body_markdown":"I am trying to make a little encryption/decryption software for my APCS-A final project. I have most of it done with various text ciphers and such, but I am trying to get DES encryption to work as like the big thing. I couldn&#39;t get it working in the main program so I created its own little thing to try to learn and test it first. I think I&#39;ve gotten decently far, but I am getting stuck on an error that I can&#39;t figure out.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.KeyGenerator;\r\nimport javax.crypto.NoSuchPaddingException;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.spec.*;\r\nimport java.util.Base64;\r\npublic class BigETest\r\n{\r\n    public static void main(String[]args) throws NoSuchAlgorithmException,NoSuchPaddingException,InvalidKeyException,IllegalBlockSizeException,BadPaddingException\r\n    {\r\n        Scanner kbd = new Scanner(System.in);\r\n        \r\n        System.out.print(&quot;Enter text: &quot;);\r\n        String t = kbd.nextLine();\r\n        String[] rets = en(t);\r\n        System.out.println(&quot;Encrypted: &quot;+ rets[0]);\r\n        System.out.println(&quot;Key: &quot; + rets[1]);\r\n        String dec = de(rets[0],rets[1]);\r\n        System.out.println(&quot;Decrypted: &quot;+dec);\r\n    }\r\n    public static String[] en(String inText) throws BadPaddingException,IllegalBlockSizeException,InvalidKeyException,NoSuchPaddingException,NoSuchAlgorithmException\r\n    {\r\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;DES&quot;);\r\n        SecretKey key = keyGen.generateKey();\r\n        \r\n        Cipher cipher = Cipher.getInstance(&quot;DES&quot;);\r\n        \r\n        cipher.init(Cipher.ENCRYPT_MODE, key);\r\n        byte[] text = Base64.getUrlDecoder().decode(inText);\r\n        byte[] encryptedBytes = cipher.doFinal(text);\r\n        String encrypted = new String(Base64.getUrlEncoder().encodeToString(encryptedBytes));\r\n        \r\n        byte[] rawKey = key.getEncoded();\r\n        String stringKey = new String(Base64.getUrlEncoder().encodeToString(rawKey));\r\n        \r\n        String[] ret = {encrypted,stringKey};\r\n        return ret;\r\n    }\r\n    public static String de(String inText, String inKey) throws BadPaddingException,IllegalBlockSizeException,InvalidKeyException,NoSuchPaddingException,NoSuchAlgorithmException\r\n    {\r\n        byte[] keyB = Base64.getUrlDecoder().decode(inKey);\r\n        SecretKey key = new SecretKeySpec(keyB, &quot;DES&quot;);\r\n        Cipher cipher = Cipher.getInstance(&quot;DES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, key);\r\n        byte[] text = Base64.getUrlDecoder().decode(inText);\r\n        byte[] fin = cipher.doFinal(text);\r\n        String dec = new String(Base64.getUrlEncoder().encodeToString(fin));\r\n        return dec;\r\n    }\r\n}\r\n```\r\nThe code works sometimes if the input is short and doesn&#39;t have spaces in it\r\n```\r\nEnter text: test\r\nEncrypted: BOM9tFOUfWc=\r\nKey: bq2ooSbc1n8=\r\nDecrypted: test\r\n```\r\nbut falls apart if the input is a bit longer\r\n```\r\nEnter text: BigTest\r\nEncrypted: jme0nIAHXyA=\r\nKey: 90UxVwetj2g=\r\nDecrypted: BigTess=\r\n```\r\nAnd then gives me an error if there are any spaces\r\n```\r\nEnter text: bigger test\r\n\r\njava.lang.IllegalArgumentException: Illegal base64 character 20\r\n\tat java.base/java.util.Base64$Decoder.decode0(Base64.java:746)\r\n\tat java.base/java.util.Base64$Decoder.decode(Base64.java:538)\r\n\tat java.base/java.util.Base64$Decoder.decode(Base64.java:561)\r\n\tat BigETest.en(BigETest.java:34)\r\n\tat BigETest.main(BigETest.java:20)\r\n```\r\nI have tried changing things up and looked around both on here and just around anyplace I could find on Google for some answers, but nothing seems to be working. Any help would be greatly appreciated.","title":"DES encryption error in Java (Illegal base64 character 20)","body":"<p>I am trying to make a little encryption/decryption software for my APCS-A final project. I have most of it done with various text ciphers and such, but I am trying to get DES encryption to work as like the big thing. I couldn't get it working in the main program so I created its own little thing to try to learn and test it first. I think I've gotten decently far, but I am getting stuck on an error that I can't figure out.</p>\n<pre><code>import java.util.Scanner;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.*;\nimport java.util.Base64;\npublic class BigETest\n{\n    public static void main(String[]args) throws NoSuchAlgorithmException,NoSuchPaddingException,InvalidKeyException,IllegalBlockSizeException,BadPaddingException\n    {\n        Scanner kbd = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter text: &quot;);\n        String t = kbd.nextLine();\n        String[] rets = en(t);\n        System.out.println(&quot;Encrypted: &quot;+ rets[0]);\n        System.out.println(&quot;Key: &quot; + rets[1]);\n        String dec = de(rets[0],rets[1]);\n        System.out.println(&quot;Decrypted: &quot;+dec);\n    }\n    public static String[] en(String inText) throws BadPaddingException,IllegalBlockSizeException,InvalidKeyException,NoSuchPaddingException,NoSuchAlgorithmException\n    {\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;DES&quot;);\n        SecretKey key = keyGen.generateKey();\n        \n        Cipher cipher = Cipher.getInstance(&quot;DES&quot;);\n        \n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] text = Base64.getUrlDecoder().decode(inText);\n        byte[] encryptedBytes = cipher.doFinal(text);\n        String encrypted = new String(Base64.getUrlEncoder().encodeToString(encryptedBytes));\n        \n        byte[] rawKey = key.getEncoded();\n        String stringKey = new String(Base64.getUrlEncoder().encodeToString(rawKey));\n        \n        String[] ret = {encrypted,stringKey};\n        return ret;\n    }\n    public static String de(String inText, String inKey) throws BadPaddingException,IllegalBlockSizeException,InvalidKeyException,NoSuchPaddingException,NoSuchAlgorithmException\n    {\n        byte[] keyB = Base64.getUrlDecoder().decode(inKey);\n        SecretKey key = new SecretKeySpec(keyB, &quot;DES&quot;);\n        Cipher cipher = Cipher.getInstance(&quot;DES&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        byte[] text = Base64.getUrlDecoder().decode(inText);\n        byte[] fin = cipher.doFinal(text);\n        String dec = new String(Base64.getUrlEncoder().encodeToString(fin));\n        return dec;\n    }\n}\n</code></pre>\n<p>The code works sometimes if the input is short and doesn't have spaces in it</p>\n<pre><code>Enter text: test\nEncrypted: BOM9tFOUfWc=\nKey: bq2ooSbc1n8=\nDecrypted: test\n</code></pre>\n<p>but falls apart if the input is a bit longer</p>\n<pre><code>Enter text: BigTest\nEncrypted: jme0nIAHXyA=\nKey: 90UxVwetj2g=\nDecrypted: BigTess=\n</code></pre>\n<p>And then gives me an error if there are any spaces</p>\n<pre><code>Enter text: bigger test\n\njava.lang.IllegalArgumentException: Illegal base64 character 20\n    at java.base/java.util.Base64$Decoder.decode0(Base64.java:746)\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:538)\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:561)\n    at BigETest.en(BigETest.java:34)\n    at BigETest.main(BigETest.java:20)\n</code></pre>\n<p>I have tried changing things up and looked around both on here and just around anyplace I could find on Google for some answers, but nothing seems to be working. Any help would be greatly appreciated.</p>\n"},{"tags":["java","swing","key-bindings"],"comments":[{"owner":{"account_id":3045943,"reputation":3646,"user_id":2581593,"accept_rate":80,"display_name":"zubergu"},"score":0,"creation_date":1654009263,"post_id":72450095,"comment_id":127987476,"body_markdown":"Does this answer your question? [How can I listen to a TAB key pressed/typed in Java?](https://stackoverflow.com/questions/8275204/how-can-i-listen-to-a-tab-key-pressed-typed-in-java) Next time please do a search on subject that you need help with.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8275204/how-can-i-listen-to-a-tab-key-pressed-typed-in-java\">How can I listen to a TAB key pressed/typed in Java?</a> Next time please do a search on subject that you need help with."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1654012867,"post_id":72450095,"comment_id":127988924,"body_markdown":"`Frame extends JFrame` why was this class included but never used in the rest of the code?","body":"<code>Frame extends JFrame</code> why was this class included but never used in the rest of the code?"}],"owner":{"account_id":25437874,"reputation":11,"user_id":19241329,"display_name":"Shane Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654009105,"creation_date":1654009105,"question_id":72450095,"body_markdown":"I&#39;m making a game that uses Java Swing&#39;s keybinding. In that game, all the keybinds work fine, until I swap tabs and tab back in (tabs here referring to windows and not the tab key), in which case certain keys (most notably the tab key) no longer work (many other of the other keys work fine).\r\n\r\nI made a new test class to try and debug this, but it just created a new problem where I wrote identical keybinds for tab and space, but only space works. I believe it has to do with the tab key already having a default keybind with JFrame since before, I had solved an issue with space not working due to JButton having a default space keybind. So here, I tried to unbind the tab key before adding my keybind, but it still didn&#39;t work. Here is the base code I have right now:\r\n\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.*;\r\nimport java.awt.Dimension;\r\n\r\nimport javax.sound.midi.Instrument;\r\nimport javax.sound.midi.MidiChannel;\r\nimport javax.sound.midi.MidiSystem;\r\nimport javax.sound.midi.MidiUnavailableException;\r\nimport javax.sound.midi.Synthesizer;\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.Action;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JRootPane;\r\nimport javax.swing.KeyStroke;\r\n\r\nimport java.awt.event.*;\r\n\r\npublic class test1 {\r\n\t\r\n\tstatic JFrame frame;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tframe = new JFrame();\r\n\t\t\r\n\t\tint IFW = JComponent.WHEN_IN_FOCUSED_WINDOW;\r\n\t\t\r\n\t\t\r\n\t\tframe.setSize(new Dimension(400, 400));\r\n\t\tframe.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\r\n//\t\tframe.pack();\r\n\t\t\r\n\t\t\r\n\t\tJRootPane rootpane = frame.getRootPane();\r\n\t\t\r\n\t\tframe.setLayout(null);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\trootpane.getInputMap(IFW).put(KeyStroke.getKeyStroke(KeyEvent.VK_TAB, 0), &quot;space&quot;);\r\n\t\trootpane.getInputMap(IFW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;space&quot;);\r\n\t\trootpane.getActionMap().put(&quot;space&quot;, new spaceAction());\r\n\t}\r\n\t\r\n\tpublic static class Frame extends JFrame implements ActionListener {\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t}\r\n\t\t\r\n\t\tpublic Frame() {\r\n\t\t\tsuper(&quot;Test&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static class spaceAction extends AbstractAction {\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tSystem.out.println(&quot;a&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nHere, pressing space prints &quot;a&quot;, but pressing tab doesn&#39;t.\r\n\r\nI tried looking up solutions to this, but most of the fixes involved using ```JComponent.WHEN_IN_FOCUSED_WINDOW```, which I do use here.\r\n\r\nAny help?","title":"Why won&#39;t my Java Swing Keybinds work with Tab but they work fine with Space?","body":"<p>I'm making a game that uses Java Swing's keybinding. In that game, all the keybinds work fine, until I swap tabs and tab back in (tabs here referring to windows and not the tab key), in which case certain keys (most notably the tab key) no longer work (many other of the other keys work fine).</p>\n<p>I made a new test class to try and debug this, but it just created a new problem where I wrote identical keybinds for tab and space, but only space works. I believe it has to do with the tab key already having a default keybind with JFrame since before, I had solved an issue with space not working due to JButton having a default space keybind. So here, I tried to unbind the tab key before adding my keybind, but it still didn't work. Here is the base code I have right now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.*;\nimport java.awt.Dimension;\n\nimport javax.sound.midi.Instrument;\nimport javax.sound.midi.MidiChannel;\nimport javax.sound.midi.MidiSystem;\nimport javax.sound.midi.MidiUnavailableException;\nimport javax.sound.midi.Synthesizer;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JRootPane;\nimport javax.swing.KeyStroke;\n\nimport java.awt.event.*;\n\npublic class test1 {\n    \n    static JFrame frame;\n    \n    public static void main(String[] args) {\n        frame = new JFrame();\n        \n        int IFW = JComponent.WHEN_IN_FOCUSED_WINDOW;\n        \n        \n        frame.setSize(new Dimension(400, 400));\n        frame.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\n//      frame.pack();\n        \n        \n        JRootPane rootpane = frame.getRootPane();\n        \n        frame.setLayout(null);\n        frame.setVisible(true);\n        \n        rootpane.getInputMap(IFW).put(KeyStroke.getKeyStroke(KeyEvent.VK_TAB, 0), &quot;space&quot;);\n        rootpane.getInputMap(IFW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;space&quot;);\n        rootpane.getActionMap().put(&quot;space&quot;, new spaceAction());\n    }\n    \n    public static class Frame extends JFrame implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n        }\n        \n        public Frame() {\n            super(&quot;Test&quot;);\n        }\n        \n    }\n    \n    public static class spaceAction extends AbstractAction {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n            System.out.println(&quot;a&quot;);\n        }\n        \n    }\n}\n</code></pre>\n<p>Here, pressing space prints &quot;a&quot;, but pressing tab doesn't.</p>\n<p>I tried looking up solutions to this, but most of the fixes involved using <code>JComponent.WHEN_IN_FOCUSED_WINDOW</code>, which I do use here.</p>\n<p>Any help?</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1654008601,"post_id":72449936,"comment_id":127987124,"body_markdown":"I&#39;m not sure if it&#39;s the kind of answer you&#39;re looking for, but that&#39;s Spring Boot doing it by default and automatically when Jackson is in the classpath.","body":"I&#39;m not sure if it&#39;s the kind of answer you&#39;re looking for, but that&#39;s Spring Boot doing it by default and automatically when Jackson is in the classpath."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654008996,"post_id":72449936,"comment_id":127987331,"body_markdown":"_&quot;Is JSON the default way to exchange data for Java?&quot;_ No. This is your browser sending an `Accept` header with value `application/json` and Spring Boot supporting this through the Jackson library. If Spring Boot didn&#39;t have access to Jackson (or you had customized the supported content-types) in your controller, you would have gotten an HTTP error 406","body":"<i>&quot;Is JSON the default way to exchange data for Java?&quot;</i> No. This is your browser sending an <code>Accept</code> header with value <code>application&#47;json</code> and Spring Boot supporting this through the Jackson library. If Spring Boot didn&#39;t have access to Jackson (or you had customized the supported content-types) in your controller, you would have gotten an HTTP error 406"}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654008957,"creation_date":1654008957,"answer_id":72450055,"question_id":72449936,"body_markdown":"&gt; How does it work? \r\n\r\nBy default Spring will use Jackson to convert your object graph to JSON.\r\n\r\n\r\n&gt; Is JSON the default way to exchange data for java?\r\n\r\nNo, it isn&#39;t.  Java doesn&#39;t define a default way to exchange data.","title":"How does Spring convert Java to JSON?","body":"<blockquote>\n<p>How does it work?</p>\n</blockquote>\n<p>By default Spring will use Jackson to convert your object graph to JSON.</p>\n<blockquote>\n<p>Is JSON the default way to exchange data for java?</p>\n</blockquote>\n<p>No, it isn't.  Java doesn't define a default way to exchange data.</p>\n"},{"tags":[],"owner":{"account_id":18694096,"reputation":1,"user_id":13627815,"display_name":"wpstan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654009094,"creation_date":1654009094,"answer_id":72450093,"question_id":72449936,"body_markdown":"The DispatchServlet process calls HttpMessageConverter for serialization","title":"How does Spring convert Java to JSON?","body":"<p>The DispatchServlet process calls HttpMessageConverter for serialization</p>\n"}],"owner":{"account_id":19556515,"reputation":1,"user_id":14310749,"display_name":"Best Huang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654009469,"answer_count":2,"score":0,"last_activity_date":1654009094,"creation_date":1654008454,"question_id":72449936,"body_markdown":"In my Spring Boot project, I just return a list directly. Then I can see the JSON response in Postman. I didn&#39;t do anything to convert the Java object to JSON. How does it work? Is JSON the default way to exchange data for Java?\r\n\r\nHere is an controller example.\r\n```java\r\n@GetMapping(&quot;/&quot;)\r\n@Secured({&quot;ROLE_ANONYMOUS&quot;, &quot;ROLE_REGULAR&quot;})\r\nList&lt;Project&gt; allProducts() {\r\n    return projectService.getAllProjects();\r\n}\r\n```\r\nHere is the dependency part of my pom.xml\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.19&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-jta-atomikos&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"How does Spring convert Java to JSON?","body":"<p>In my Spring Boot project, I just return a list directly. Then I can see the JSON response in Postman. I didn't do anything to convert the Java object to JSON. How does it work? Is JSON the default way to exchange data for Java?</p>\n<p>Here is an controller example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/&quot;)\n@Secured({&quot;ROLE_ANONYMOUS&quot;, &quot;ROLE_REGULAR&quot;})\nList&lt;Project&gt; allProducts() {\n    return projectService.getAllProjects();\n}\n</code></pre>\n<p>Here is the dependency part of my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.5.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jta-atomikos&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;version&gt;2.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n        &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","arrays","algorithm","arraylist","word-list"],"comments":[{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1654017817,"post_id":72449737,"comment_id":127990577,"body_markdown":"Sorry but your description of the problem is obscure. Are you looking for all words with exactly 7 different letters ?","body":"Sorry but your description of the problem is obscure. Are you looking for all words with exactly 7 different letters ?"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1654020061,"post_id":72449737,"comment_id":127991232,"body_markdown":"Please include sample contents of *alphabet.txt* - I have no idea what `a txt file that finds the alphabet character line by line` may be. What&#39;s wrong with `final static int JACKPOT = 7; if (pangramWord.codePoints().toSet().size() == JACKPOT) pangramList.add(pangramWord);`?","body":"Please include sample contents of <i>alphabet.txt</i> - I have no idea what <code>a txt file that finds the alphabet character line by line</code> may be. What&#39;s wrong with <code>final static int JACKPOT = 7; if (pangramWord.codePoints().toSet().size() == JACKPOT) pangramList.add(pangramWord);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8777939,"reputation":56,"user_id":6562577,"display_name":"Kizoku-Dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654008788,"creation_date":1654008788,"answer_id":72450018,"question_id":72449737,"body_markdown":"Maybe I misunderstood your code but it looks like you do not empty the ‘ch’ variable on each loop round.","title":"Finding words containing different characters from the word list","body":"<p>Maybe I misunderstood your code but it looks like you do not empty the ‘ch’ variable on each loop round.</p>\n"}],"owner":{"account_id":25415418,"reputation":1,"user_id":19222428,"display_name":"mcz zcm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654008788,"creation_date":1654007639,"question_id":72449737,"body_markdown":"\r\nI have a word list containing 50,000 words, and I also have a txt file that finds the alphabet character line by line. I am trying to find the words containing 7 different letters by reading the words in the word list in order, and I wrote a method for this.\r\n\r\nFirst, I browse the words and sync a character list, then I check each other in the word by navigating the alphabet txt file and increase the ``counter`` if there is. In this way, I try to understand how many different letters are in the words and at the end, if it provides control, I add it to the list.\r\n\r\n``WordListReader`` , read the txt files and return ``HashSet``.\r\n\r\n\r\n\r\nBut it doesn&#39;t work that way and returns an empty list. I couldn&#39;t find the problem. How can I do that?\r\n\r\n\r\n```\r\npublic class Pangram {\r\n\r\n    // Method\r\n    public HashSet&lt;String&gt; getPangramList(HashSet&lt;String&gt; wordList) throws IOException {\r\n        // Path Alphabets Text File\r\n        String alphabetPath = &quot;alphabet.txt&quot;;\r\n\r\n\r\n        // Array List and Pangram Word List\r\n        ArrayList&lt;Character&gt; allLetters = new ArrayList&lt;&gt;();\r\n        ArrayList &lt;Character&gt; ch = new ArrayList&lt;&gt;();\r\n        HashSet&lt;String&gt; pangramList = new HashSet&lt;&gt;();\r\n        // Characters List\r\n        char [] allLettersCharList;\r\n        char [] alphaCharacters;\r\n\r\n        // Alphabets Text Files Reader\r\n        WordListReader wordListReader =  new WordListReader(alphabetPath);\r\n        HashSet&lt;String&gt; alphabetSet = wordListReader.wordReader();\r\n        Iterator&lt;String&gt; itr = alphabetSet.iterator();\r\n\r\n        // Word List\r\n        Iterator&lt;String&gt; iterator = wordList.iterator();\r\n\r\n        // Iterator\r\n        while (iterator.hasNext()) {\r\n            // Words\r\n            String pangramWord = iterator.next();\r\n            // Array List Characters\r\n            allLettersCharList = pangramWord.toCharArray();\r\n            for(int i = 0; i &lt; pangramWord.length();i++){\r\n               ch.add(allLettersCharList[i]);\r\n            }\r\n            int counter = 0;\r\n            while (itr.hasNext()){\r\n                String alphabet = itr.next();\r\n                alphaCharacters = alphabet.toCharArray();\r\n\r\n                if(ch.contains(alphaCharacters[0])){\r\n                    allLetters.add(alphabet.charAt(0));\r\n                    counter++;\r\n                }\r\n            }\r\n            if(counter == 7){\r\n                pangramList.add(pangramWord);\r\n            }\r\n        }\r\n        return  pangramList;\r\n    }\r\n}\r\n\r\n```","title":"Finding words containing different characters from the word list","body":"<p>I have a word list containing 50,000 words, and I also have a txt file that finds the alphabet character line by line. I am trying to find the words containing 7 different letters by reading the words in the word list in order, and I wrote a method for this.</p>\n<p>First, I browse the words and sync a character list, then I check each other in the word by navigating the alphabet txt file and increase the <code>counter</code> if there is. In this way, I try to understand how many different letters are in the words and at the end, if it provides control, I add it to the list.</p>\n<p><code>WordListReader</code> , read the txt files and return <code>HashSet</code>.</p>\n<p>But it doesn't work that way and returns an empty list. I couldn't find the problem. How can I do that?</p>\n<pre><code>public class Pangram {\n\n    // Method\n    public HashSet&lt;String&gt; getPangramList(HashSet&lt;String&gt; wordList) throws IOException {\n        // Path Alphabets Text File\n        String alphabetPath = &quot;alphabet.txt&quot;;\n\n\n        // Array List and Pangram Word List\n        ArrayList&lt;Character&gt; allLetters = new ArrayList&lt;&gt;();\n        ArrayList &lt;Character&gt; ch = new ArrayList&lt;&gt;();\n        HashSet&lt;String&gt; pangramList = new HashSet&lt;&gt;();\n        // Characters List\n        char [] allLettersCharList;\n        char [] alphaCharacters;\n\n        // Alphabets Text Files Reader\n        WordListReader wordListReader =  new WordListReader(alphabetPath);\n        HashSet&lt;String&gt; alphabetSet = wordListReader.wordReader();\n        Iterator&lt;String&gt; itr = alphabetSet.iterator();\n\n        // Word List\n        Iterator&lt;String&gt; iterator = wordList.iterator();\n\n        // Iterator\n        while (iterator.hasNext()) {\n            // Words\n            String pangramWord = iterator.next();\n            // Array List Characters\n            allLettersCharList = pangramWord.toCharArray();\n            for(int i = 0; i &lt; pangramWord.length();i++){\n               ch.add(allLettersCharList[i]);\n            }\n            int counter = 0;\n            while (itr.hasNext()){\n                String alphabet = itr.next();\n                alphaCharacters = alphabet.toCharArray();\n\n                if(ch.contains(alphaCharacters[0])){\n                    allLetters.add(alphabet.charAt(0));\n                    counter++;\n                }\n            }\n            if(counter == 7){\n                pangramList.add(pangramWord);\n            }\n        }\n        return  pangramList;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","formatting","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654008765,"creation_date":1654008765,"answer_id":72450012,"question_id":72449281,"body_markdown":"Looks like there is already a paragraph in the `textbox` after creating it with `XSLFTextBox textbox = slide.createTextBox();`. So one needs to check this and add a paragraph only if there is not one already,\r\n\r\nCode:\r\n\r\n    ...\r\n      XSLFTextBox textbox = slide.createTextBox(); \r\n      textbox.setAnchor(new Rectangle(100, 100, 100, 50));\r\n      XSLFTextParagraph paragraph = null;\r\n      if(textbox.getTextParagraphs().size() &gt; 0) paragraph = textbox.getTextParagraphs().get(0);\r\n      if(paragraph == null) paragraph = textbox.addNewTextParagraph(); \r\n      XSLFTextRun run = paragraph.addNewTextRun();\r\n      run.setText(&quot;Example&quot;);\r\n    ...\r\n\r\nUnfortunately one cannot rely on the presence of a paragraph after creating. That may change in `apache poi` from version to  version. That&#39;s annoying, but can&#39;t be changed. Using the showed check-routine should fit it all.\r\n","title":"How to remove a line break when creating a text paragraph with apache POI","body":"<p>Looks like there is already a paragraph in the <code>textbox</code> after creating it with <code>XSLFTextBox textbox = slide.createTextBox();</code>. So one needs to check this and add a paragraph only if there is not one already,</p>\n<p>Code:</p>\n<pre><code>...\n  XSLFTextBox textbox = slide.createTextBox(); \n  textbox.setAnchor(new Rectangle(100, 100, 100, 50));\n  XSLFTextParagraph paragraph = null;\n  if(textbox.getTextParagraphs().size() &gt; 0) paragraph = textbox.getTextParagraphs().get(0);\n  if(paragraph == null) paragraph = textbox.addNewTextParagraph(); \n  XSLFTextRun run = paragraph.addNewTextRun();\n  run.setText(&quot;Example&quot;);\n...\n</code></pre>\n<p>Unfortunately one cannot rely on the presence of a paragraph after creating. That may change in <code>apache poi</code> from version to  version. That's annoying, but can't be changed. Using the showed check-routine should fit it all.</p>\n"}],"owner":{"account_id":25437391,"reputation":3,"user_id":19240908,"display_name":"theoelsti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72450012,"answer_count":1,"score":0,"last_activity_date":1654008765,"creation_date":1654005946,"question_id":72449281,"body_markdown":"I&#39;m working on a project that aims to create automated PPTX. Everything is going fine, except that when creating a XSLFTextBox, a line break appear at the beginning of the box. Here is a part of the code\r\n\r\n```java\r\n XSLFTextBox shape = slide.createTextBox();\r\n XSLFTextParagraph p = shape.addNewTextParagraph();\r\n XSLFTextRun r1 = p.addNewTextRun();\r\n r1.setText(&quot;Example&quot;);\r\n```\r\n[Here is an example of the result ][1]\r\n\r\nI would like to know if there&#39;s any method to avoid that behaviour, or if I have to do it another way. \r\nThanks for reading.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Shxbh.png","title":"How to remove a line break when creating a text paragraph with apache POI","body":"<p>I'm working on a project that aims to create automated PPTX. Everything is going fine, except that when creating a XSLFTextBox, a line break appear at the beginning of the box. Here is a part of the code</p>\n<pre class=\"lang-java prettyprint-override\"><code> XSLFTextBox shape = slide.createTextBox();\n XSLFTextParagraph p = shape.addNewTextParagraph();\n XSLFTextRun r1 = p.addNewTextRun();\n r1.setText(&quot;Example&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Shxbh.png\" rel=\"nofollow noreferrer\">Here is an example of the result </a></p>\n<p>I would like to know if there's any method to avoid that behaviour, or if I have to do it another way.\nThanks for reading.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654007292,"post_id":72449587,"comment_id":127986521,"body_markdown":"No it isn&#39;t ... Use an ExceptionHandler for that which is designed for this.","body":"No it isn&#39;t ... Use an ExceptionHandler for that which is designed for this."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654008761,"creation_date":1654008761,"answer_id":72450008,"question_id":72449587,"body_markdown":"There are ready made tools for that, so you don&#39;t have to do your custom made code. I used `@ControllerAdvice` annotation that allows me to create a single class that handles any uncaught exception that came from any Controller. In that class I can have several methods where each method handles a particular exception or a group of exceptions. But this is only one way to deal with exceptions. Here is a very good article that describes all available tools and standard ways to handle errors: [Error Handling for REST with Spring][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/exception-handling-for-rest-with-spring","title":"Spring Filter for handling exceptions","body":"<p>There are ready made tools for that, so you don't have to do your custom made code. I used <code>@ControllerAdvice</code> annotation that allows me to create a single class that handles any uncaught exception that came from any Controller. In that class I can have several methods where each method handles a particular exception or a group of exceptions. But this is only one way to deal with exceptions. Here is a very good article that describes all available tools and standard ways to handle errors: <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">Error Handling for REST with Spring</a></p>\n"}],"owner":{"account_id":10637612,"reputation":141,"user_id":7833829,"display_name":"Omar Raed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654008761,"creation_date":1654007090,"question_id":72449587,"body_markdown":"I want to handle certain exceptions in spring and wrap the **REST** response into another object format.\r\n\r\nSo I came up with the idea of using filters and checking the response status code, for example if it&#39;s 400, it means **Bad Request** so I can wrap the response into the JSON format I need, here is the code sample :\r\n\r\n```\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n\r\n        if(((HttpServletResponse) servletResponse).getStatus() == 400){\r\n\r\n            servletResponse.resetBuffer();\r\n            ((HttpServletResponse) servletResponse).setStatus(200);\r\n            servletResponse.setContentType(&quot;application/json; charset=UTF-8&quot;);\r\n            servletResponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\r\n            PrintWriter out = servletResponse.getWriter();\r\n            out.println(new ObjectMapper().writeValueAsString(new IgResponseDto&lt;&gt;(IgResponseCode.BAD_REQUEST, &quot;en&quot;)));\r\n        }\r\n    }\r\n```\r\n\r\nIs it a good way to wrap the response for certain exceptions inside filters and what are the disadvantages of such a case?","title":"Spring Filter for handling exceptions","body":"<p>I want to handle certain exceptions in spring and wrap the <strong>REST</strong> response into another object format.</p>\n<p>So I came up with the idea of using filters and checking the response status code, for example if it's 400, it means <strong>Bad Request</strong> so I can wrap the response into the JSON format I need, here is the code sample :</p>\n<pre><code>    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        filterChain.doFilter(servletRequest, servletResponse);\n\n        if(((HttpServletResponse) servletResponse).getStatus() == 400){\n\n            servletResponse.resetBuffer();\n            ((HttpServletResponse) servletResponse).setStatus(200);\n            servletResponse.setContentType(&quot;application/json; charset=UTF-8&quot;);\n            servletResponse.setCharacterEncoding(&quot;UTF-8&quot;);\n\n            PrintWriter out = servletResponse.getWriter();\n            out.println(new ObjectMapper().writeValueAsString(new IgResponseDto&lt;&gt;(IgResponseCode.BAD_REQUEST, &quot;en&quot;)));\n        }\n    }\n</code></pre>\n<p>Is it a good way to wrap the response for certain exceptions inside filters and what are the disadvantages of such a case?</p>\n"},{"tags":["java","spring","database","maven","heroku"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1654008709,"post_id":72449975,"comment_id":127987193,"body_markdown":"You are not using JDK 17 on contradiction what your configuration is requiring.. `invalid target release: 17 -&gt;` ...","body":"You are not using JDK 17 on contradiction what your configuration is requiring.. <code>invalid target release: 17 -&gt;</code> ..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654008748,"post_id":72449975,"comment_id":127987211,"body_markdown":"Also I would recommend to use the most recent version of spring boot 2.7.0 instead...","body":"Also I would recommend to use the most recent version of spring boot 2.7.0 instead..."}],"owner":{"account_id":25437788,"reputation":1,"user_id":19241254,"display_name":"van"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654008602,"creation_date":1654008602,"question_id":72449975,"body_markdown":"With my team we are trying to deploy rental service web app on heroku.\r\nHere is our problem:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project Nordic-Motorhomes: Fatal error compiling: invalid target release: 17 -&gt; [Help 1]\r\n       [ERROR] \r\n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n       [ERROR] \r\n       [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n       [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n !     ERROR: Failed to build app with Maven\r\n       We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\n       please submit a ticket so we can help: https://help.heroku.com/\r\n !     Push rejected, failed to compile Java app.\r\n !     Push failed\r\n\r\napplication.properties file\r\n\r\n    spring.datasource.driver-class-name=${driver}\r\n    spring.datasource.url=${url}\r\n    spring.datasource.username=${username}\r\n    spring.datasource.password=${password}\r\n    server.port=7070\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.main.allow-circular-references=true\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.7&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.Spring&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Nordic-Motorhomes&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Nordic-Motorhomes&lt;/name&gt;\r\n        &lt;description&gt;Nordic-Motorhomes&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.19&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Heroku deploy error Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile","body":"<p>With my team we are trying to deploy rental service web app on heroku.\nHere is our problem:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project Nordic-Motorhomes: Fatal error compiling: invalid target release: 17 -&gt; [Help 1]\n   [ERROR] \n   [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n   [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n   [ERROR] \n   [ERROR] For more information about the errors and possible solutions, please read the following articles:\n   [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>!     ERROR: Failed to build app with Maven\nWe're sorry this build is failing! If you can't find the issue in application code,\nplease submit a ticket so we can help: <a href=\"https://help.heroku.com/\" rel=\"nofollow noreferrer\">https://help.heroku.com/</a>\n!     Push rejected, failed to compile Java app.\n!     Push failed</p>\n<p>application.properties file</p>\n<pre><code>spring.datasource.driver-class-name=${driver}\nspring.datasource.url=${url}\nspring.datasource.username=${username}\nspring.datasource.password=${password}\nserver.port=7070\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.main.allow-circular-references=true\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.Spring&lt;/groupId&gt;\n    &lt;artifactId&gt;Nordic-Motorhomes&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Nordic-Motorhomes&lt;/name&gt;\n    &lt;description&gt;Nordic-Motorhomes&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","selenium","maven","exception"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654008675,"post_id":72449953,"comment_id":127987169,"body_markdown":"Check first on plain command line ... and if errors occur please post them here..","body":"Check first on plain command line ... and if errors occur please post them here.."},{"owner":{"account_id":23290502,"reputation":1,"user_id":17372664,"display_name":"morningrose"},"score":0,"creation_date":1654026068,"post_id":72449953,"comment_id":127993047,"body_markdown":"Hi, I don’t have maven installed on my system, it is from the Eclipse marketplace","body":"Hi, I don’t have maven installed on my system, it is from the Eclipse marketplace"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1654066788,"post_id":72449953,"comment_id":128000447,"body_markdown":"First install Maven on your system and run your build from plain command line... Download: https://maven.apache.org/download.cgi Installation: https://maven.apache.org/install.html","body":"First install Maven on your system and run your build from plain command line... Download: <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi</a> Installation: <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">maven.apache.org/install.html</a>"},{"owner":{"account_id":23290502,"reputation":1,"user_id":17372664,"display_name":"morningrose"},"score":0,"creation_date":1654136080,"post_id":72449953,"comment_id":128021389,"body_markdown":"I did install and searched from the command prompt, it says that the command is unrecognized.","body":"I did install and searched from the command prompt, it says that the command is unrecognized."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654148308,"post_id":72449953,"comment_id":128023127,"body_markdown":"Than your installation is broken or not done correctly ... have you follow the guide for installation?","body":"Than your installation is broken or not done correctly ... have you follow the guide for installation?"}],"owner":{"account_id":23290502,"reputation":1,"user_id":17372664,"display_name":"morningrose"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654008511,"creation_date":1654008511,"question_id":72449953,"body_markdown":"I am using Eclipse , created a new Java project and when converting to Maven project, I am getting Core Exception:could not calculate build plan: plug in org.Apache. maven.plug-ins:maven compiler plug-in:3.8.1 or one of dependencies could not be resolved.\r\nI tried maven clean, maven install and maven compile and no luck.","title":"Error in build plan when converting to Maven project","body":"<p>I am using Eclipse , created a new Java project and when converting to Maven project, I am getting Core Exception:could not calculate build plan: plug in org.Apache. maven.plug-ins:maven compiler plug-in:3.8.1 or one of dependencies could not be resolved.\nI tried maven clean, maven install and maven compile and no luck.</p>\n"},{"tags":["java","android-layout","android-button","android-progressbar"],"comments":[{"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"score":0,"creation_date":1653935900,"post_id":72438569,"comment_id":127968047,"body_markdown":"You can try this  https://github.com/futuredapp/donut","body":"You can try this  <a href=\"https://github.com/futuredapp/donut\" rel=\"nofollow noreferrer\">github.com/futuredapp/donut</a>"},{"owner":{"account_id":21242837,"reputation":1,"user_id":15625997,"display_name":"Ahmed Ahmed"},"score":0,"creation_date":1653944764,"post_id":72438569,"comment_id":127970137,"body_markdown":"@Swayangjit I need with steps like when click progress 1 fill, and when click again prog 2 fill , ....","body":"@Swayangjit I need with steps like when click progress 1 fill, and when click again prog 2 fill , ...."},{"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"score":0,"creation_date":1653975851,"post_id":72438569,"comment_id":127974751,"body_markdown":"you can explore that library.","body":"you can explore that library."},{"owner":{"account_id":21242837,"reputation":1,"user_id":15625997,"display_name":"Ahmed Ahmed"},"score":0,"creation_date":1653982413,"post_id":72438569,"comment_id":127976534,"body_markdown":"@Swayangjit i explore it But it is not what I want","body":"@Swayangjit i explore it But it is not what I want"}],"answers":[{"tags":[],"owner":{"account_id":22402825,"reputation":46,"user_id":16612929,"display_name":"ginger_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654008487,"creation_date":1654008169,"answer_id":72449856,"question_id":72438569,"body_markdown":"What you need is called ***State Progress Bar***. Check [this](https://github.com/kofigyan/StateProgressBar) library. Also read about it more from [here](https://www.geeksforgeeks.org/state-progressbar-in-android/). Hope this helps","title":"Button with progress with steps","body":"<p>What you need is called <em><strong>State Progress Bar</strong></em>. Check <a href=\"https://github.com/kofigyan/StateProgressBar\" rel=\"nofollow noreferrer\">this</a> library. Also read about it more from <a href=\"https://www.geeksforgeeks.org/state-progressbar-in-android/\" rel=\"nofollow noreferrer\">here</a>. Hope this helps</p>\n"}],"owner":{"account_id":21242837,"reputation":1,"user_id":15625997,"display_name":"Ahmed Ahmed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654008487,"creation_date":1653934806,"question_id":72438569,"body_markdown":"I need to create a button with progress with steps like the following screenshot and I have searched for the library to do that but I couldn&#39;t find it. Can anyone please send me the library or XML code?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZXJ2e.jpg","title":"Button with progress with steps","body":"<p>I need to create a button with progress with steps like the following screenshot and I have searched for the library to do that but I couldn't find it. Can anyone please send me the library or XML code?</p>\n<p><img src=\"https://i.stack.imgur.com/ZXJ2e.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","gradle","java-native-interface","compatibility","portability"],"comments":[{"owner":{"account_id":19382678,"reputation":774,"user_id":14173556,"display_name":"paladin"},"score":1,"creation_date":1654005240,"post_id":72449038,"comment_id":127985502,"body_markdown":"The generated byte-code is optimized for the building CPU architecture, but should be executable by other CPU architectures too, though the JVM. Java programs are runable on all machines that are able to run the JVM, as long as your Java programs doesn&#39;t use machine- or OS specific stuff.","body":"The generated byte-code is optimized for the building CPU architecture, but should be executable by other CPU architectures too, though the JVM. Java programs are runable on all machines that are able to run the JVM, as long as your Java programs doesn&#39;t use machine- or OS specific stuff."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1654007372,"post_id":72449038,"comment_id":127986556,"body_markdown":"@paladin That is incorrect, bytecode targets the Java Virtual Machine (JVM), and it is not optimized for the &quot;building CPU architecture&quot;. In fact, javac does hardly any optimization. Most optimization happens at runtime by the JIT compiler if and when the JVM determines it is worthwhile to optimize.","body":"@paladin That is incorrect, bytecode targets the Java Virtual Machine (JVM), and it is not optimized for the &quot;building CPU architecture&quot;. In fact, javac does hardly any optimization. Most optimization happens at runtime by the JIT compiler if and when the JVM determines it is worthwhile to optimize."},{"owner":{"account_id":19382678,"reputation":774,"user_id":14173556,"display_name":"paladin"},"score":0,"creation_date":1654008212,"post_id":72449038,"comment_id":127986964,"body_markdown":"@MarkRotteveel We are both right. Byte code is optimized for the JVM in use and the used JVM is optimized for the CPU architecure and OS. So byte code is indirectly optimized for CPU architecture and OS. Most major difference in JVM is being a 32bit or 64bit JVM. Which is probably the case in OP scenario (ARM 32bit JVM vs AMD64 64bit JVM).","body":"@MarkRotteveel We are both right. Byte code is optimized for the JVM in use and the used JVM is optimized for the CPU architecure and OS. So byte code is indirectly optimized for CPU architecture and OS. Most major difference in JVM is being a 32bit or 64bit JVM. Which is probably the case in OP scenario (ARM 32bit JVM vs AMD64 64bit JVM)."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1654008625,"post_id":72449038,"comment_id":127987136,"body_markdown":"You said _&quot;The generated byte-code is optimized for the building CPU architecture&quot;_ and that is not the case. Optimization doesn&#39;t happen at build time, it happens at run time.","body":"You said <i>&quot;The generated byte-code is optimized for the building CPU architecture&quot;</i> and that is not the case. Optimization doesn&#39;t happen at build time, it happens at run time."},{"owner":{"account_id":1106092,"reputation":12882,"user_id":1097451,"accept_rate":95,"display_name":"Martin Drozdik"},"score":0,"creation_date":1654011355,"post_id":72449038,"comment_id":127988346,"body_markdown":"@MarkRotteveel You wrote &quot;javac does hardly any optimization&quot;. Does this mean that the few optimizations that do happen are never architecture-specific?","body":"@MarkRotteveel You wrote &quot;javac does hardly any optimization&quot;. Does this mean that the few optimizations that do happen are never architecture-specific?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1654011613,"post_id":72449038,"comment_id":127988443,"body_markdown":"@MartinDrozdik The only architecture javac knows about is the JVM. That is the whole point of Java having a virtual machine. Bytecode is the instruction set of the JVM, and it is a JVM *implementation* that does optimization at runtime based on the platform it was build for, and runtime characteristics and CPU features available. If javac does any optimization at all, it is not related to the CPU architecture that is running javac itself.","body":"@MartinDrozdik The only architecture javac knows about is the JVM. That is the whole point of Java having a virtual machine. Bytecode is the instruction set of the JVM, and it is a JVM <i>implementation</i> that does optimization at runtime based on the platform it was build for, and runtime characteristics and CPU features available. If javac does any optimization at all, it is not related to the CPU architecture that is running javac itself."}],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654006667,"creation_date":1654006353,"answer_id":72449415,"question_id":72449038,"body_markdown":"You can list the files in the `.jar` using `jar tf myfile.jar`. If the  only contents are `.class` files and the manifest data in `META-INF/`, then chances are good that it&#39;s 100% portable. If you see other files like `.so`, `.dll` or `.dylib`, then there is native code in there which might give trouble.\r\n\r\nHere&#39;s how you can list all the files which might warrant a closer look:\r\n\r\n```\r\njar tf myfile.jar | grep -Pv &#39;^META-INF/|(\\.class|/)$&#39;\r\n```\r\n\r\nSince you have already built the `.jar`s on two different platforms, you can also extract their contents using `jar xf myfile.jar` and use `diff -r` to compare them recursively. This is a more robust way to detect differences than comparing the archives directly, although I imagine that `.class` files might not be byte-wise identical either even if they&#39;re semantically the same.","title":"How to know if a .jar built on AMD64 will run flawlessly on ARM?","body":"<p>You can list the files in the <code>.jar</code> using <code>jar tf myfile.jar</code>. If the  only contents are <code>.class</code> files and the manifest data in <code>META-INF/</code>, then chances are good that it's 100% portable. If you see other files like <code>.so</code>, <code>.dll</code> or <code>.dylib</code>, then there is native code in there which might give trouble.</p>\n<p>Here's how you can list all the files which might warrant a closer look:</p>\n<pre><code>jar tf myfile.jar | grep -Pv '^META-INF/|(\\.class|/)$'\n</code></pre>\n<p>Since you have already built the <code>.jar</code>s on two different platforms, you can also extract their contents using <code>jar xf myfile.jar</code> and use <code>diff -r</code> to compare them recursively. This is a more robust way to detect differences than comparing the archives directly, although I imagine that <code>.class</code> files might not be byte-wise identical either even if they're semantically the same.</p>\n"}],"owner":{"account_id":1106092,"reputation":12882,"user_id":1097451,"accept_rate":95,"display_name":"Martin Drozdik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72449415,"answer_count":1,"score":0,"last_activity_date":1654008279,"creation_date":1654004987,"question_id":72449038,"body_markdown":"I built a `.jar` in docker on the **ARM** architecture and one on **AMD64**.\r\n\r\nThe two `.jar` files have the identical size, but `vbindiff` says their contents are quite different. \r\n\r\nI tested both `.jar` files on my AMD64 computer and the reversed slogan &quot;build anywhere, run once&quot; holds.\r\n\r\nMy hypothesis is that this has to do with **Java Native Interface (JNI)**. The `.jar` is a Spring Boot Webflux backend. Unfortunately, I don&#39;t know if it or any other dependency uses JNI.\r\n\r\nI noted that the ARM image has **JDK 17.0.3** installed, while the AMD64 image has **JDK 17.0.2.** But this should not be a problem, since I built both `.jar`s using the **Gradle wrapper**, which specifies the exact toolchain to be downloaded and used to build the project:\r\n\r\n    kotlin(&quot;jvm&quot;) version &quot;1.6.10&quot;\r\n\r\nWhat could be the reason for the difference? Can I assume that either `.jar` can be used on any platform that has a compatible JVM?\r\n\r\n**EDIT**: I followed Thomas&#39; advice and used `diff -r` to compare the extracted contents of the `.jar` files. They are identical. \r\n\r\nHowever, `diff` confirms that the `.jar` files themselves are different. \r\n\r\nI just learned that the `.jar` format is based on `.zip`, which can use various compression methods, as well as include extra information in file headers, such as &#39;last modified&#39; or optional OS-specific attributes. Mystery solved.","title":"How to know if a .jar built on AMD64 will run flawlessly on ARM?","body":"<p>I built a <code>.jar</code> in docker on the <strong>ARM</strong> architecture and one on <strong>AMD64</strong>.</p>\n<p>The two <code>.jar</code> files have the identical size, but <code>vbindiff</code> says their contents are quite different.</p>\n<p>I tested both <code>.jar</code> files on my AMD64 computer and the reversed slogan &quot;build anywhere, run once&quot; holds.</p>\n<p>My hypothesis is that this has to do with <strong>Java Native Interface (JNI)</strong>. The <code>.jar</code> is a Spring Boot Webflux backend. Unfortunately, I don't know if it or any other dependency uses JNI.</p>\n<p>I noted that the ARM image has <strong>JDK 17.0.3</strong> installed, while the AMD64 image has <strong>JDK 17.0.2.</strong> But this should not be a problem, since I built both <code>.jar</code>s using the <strong>Gradle wrapper</strong>, which specifies the exact toolchain to be downloaded and used to build the project:</p>\n<pre><code>kotlin(&quot;jvm&quot;) version &quot;1.6.10&quot;\n</code></pre>\n<p>What could be the reason for the difference? Can I assume that either <code>.jar</code> can be used on any platform that has a compatible JVM?</p>\n<p><strong>EDIT</strong>: I followed Thomas' advice and used <code>diff -r</code> to compare the extracted contents of the <code>.jar</code> files. They are identical.</p>\n<p>However, <code>diff</code> confirms that the <code>.jar</code> files themselves are different.</p>\n<p>I just learned that the <code>.jar</code> format is based on <code>.zip</code>, which can use various compression methods, as well as include extra information in file headers, such as 'last modified' or optional OS-specific attributes. Mystery solved.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"score":0,"creation_date":1281059874,"post_id":3420201,"comment_id":3560662,"body_markdown":"Need...more...context...","body":"Need...more...context..."},{"owner":{"account_id":15857,"reputation":10459,"user_id":1440720,"display_name":"jfpoilpret"},"score":0,"creation_date":1281323490,"post_id":3420201,"comment_id":3581008,"body_markdown":"From the stack trace, we can see nothing interesting except the fact that your radio button is indeed NOT selected (selected = false), hence it is perfectly normal that requireSelected() fails on it! It might be interesting if you also showed us your getFixture() method.","body":"From the stack trace, we can see nothing interesting except the fact that your radio button is indeed NOT selected (selected = false), hence it is perfectly normal that requireSelected() fails on it! It might be interesting if you also showed us your getFixture() method."},{"owner":{"account_id":116896,"reputation":536,"user_id":306380,"accept_rate":80,"display_name":"Mike"},"score":0,"creation_date":1281389067,"post_id":3420201,"comment_id":3589466,"body_markdown":"`getFixture()` is just `new JRadioButtonFixture(dialogFixture.robot, &quot;dialog7button12&quot;);`","body":"<code>getFixture()</code> is just <code>new JRadioButtonFixture(dialogFixture.robot, &quot;dialog7button12&quot;);</code>"},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":0,"creation_date":1348727366,"post_id":3420201,"comment_id":17007194,"body_markdown":"You do not modify your JComponents directly (not via FEST) on the JUnit Thread, do you? Also FEST takes a screenshot when a Test fails, maybe you see something there...","body":"You do not modify your JComponents directly (not via FEST) on the JUnit Thread, do you? Also FEST takes a screenshot when a Test fails, maybe you see something there..."}],"answers":[{"tags":[],"owner":{"account_id":72122,"reputation":2758,"user_id":208344,"display_name":"Jes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281057790,"creation_date":1281057790,"answer_id":3420380,"question_id":3420201,"body_markdown":"You need to specify how the test fails and maybe show the setUp() method. It could be basically anything with the information you&#39;ve given.","title":"Java/Swing FEST test fails absurdly","body":"<p>You need to specify how the test fails and maybe show the setUp() method. It could be basically anything with the information you've given.</p>\n"},{"tags":[],"owner":{"account_id":1391458,"reputation":1436,"user_id":1322198,"display_name":"Flavio Cysne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654008034,"creation_date":1333986404,"answer_id":10075788,"question_id":3420201,"body_markdown":"I was recently testing with Abbot, FEST precursor, and some failures occurred the same way of yours. In my case, adding a Thread.sleep(300) between the simulation `radio.check()` and the verifier `radio.requireSelected()` solved the issue.\r\n\r\nGive it a try.\r\n","title":"Java/Swing FEST test fails absurdly","body":"<p>I was recently testing with Abbot, FEST precursor, and some failures occurred the same way of yours. In my case, adding a Thread.sleep(300) between the simulation <code>radio.check()</code> and the verifier <code>radio.requireSelected()</code> solved the issue.</p>\n<p>Give it a try.</p>\n"}],"owner":{"account_id":116896,"reputation":536,"user_id":306380,"accept_rate":80,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654008034,"creation_date":1281054948,"question_id":3420201,"body_markdown":"I have a test that sometimes fails on the `requireSelected()` call, and I can&#39;t figure out why.\r\n\r\n    public void testSimple() {\r\n      JRadioButtonFixture fixture = getFixture();\r\n      fixture.check();\r\n      fixture.requireSelected().requireVisible();\r\n    }\r\n\r\n\r\nI tried changing the code to run on the EDT instead of in the test&#39;s main, but none of the fixture&#39;s methods are allowed to be invoked from the EDT it seems.\r\n\r\nWhy does this test fail?\r\n\r\nUpdate: More details:\r\n\r\nThere isn&#39;t anything in the `setUp()`.\r\n\r\nHere&#39;s the failure trace:\r\n\r\n    Java.lang.AssertionError: [javax.swing.JRadioButton[name=&#39;button&#39;, text=&#39;text&#39;, selected=false, enabled=true, visible=true, showing=true] - property:&#39;selected&#39;] expected:&lt;true&gt; but was:&lt;false&gt;\r\n    at org.fest.assertions.Fail.fail(Fail.java:87)\r\n    at org.fest.assertions.Fail.failIfNotEqual(Fail.java:60)\r\n    at org.fest.assertions.BooleanAssert.isEqualTo(BooleanAssert.java:129)\r\n    at org.fest.swing.driver.AbstractButtonDriver.assertThatButtonIsSelected(AbstractButtonDriver.java:142)\r\n    at org.fest.swing.driver.AbstractButtonDriver.requireSelected(AbstractButtonDriver.java:127)\r\n    at org.fest.swing.fixture.JRadioButtonFixture.requireSelected(JRadioButtonFixture.java:288)","title":"Java/Swing FEST test fails absurdly","body":"<p>I have a test that sometimes fails on the <code>requireSelected()</code> call, and I can't figure out why.</p>\n\n<pre><code>public void testSimple() {\n  JRadioButtonFixture fixture = getFixture();\n  fixture.check();\n  fixture.requireSelected().requireVisible();\n}\n</code></pre>\n\n<p>I tried changing the code to run on the EDT instead of in the test's main, but none of the fixture's methods are allowed to be invoked from the EDT it seems.</p>\n\n<p>Why does this test fail?</p>\n\n<p>Update: More details:</p>\n\n<p>There isn't anything in the <code>setUp()</code>.</p>\n\n<p>Here's the failure trace:</p>\n\n<pre><code>Java.lang.AssertionError: [javax.swing.JRadioButton[name='button', text='text', selected=false, enabled=true, visible=true, showing=true] - property:'selected'] expected:&lt;true&gt; but was:&lt;false&gt;\nat org.fest.assertions.Fail.fail(Fail.java:87)\nat org.fest.assertions.Fail.failIfNotEqual(Fail.java:60)\nat org.fest.assertions.BooleanAssert.isEqualTo(BooleanAssert.java:129)\nat org.fest.swing.driver.AbstractButtonDriver.assertThatButtonIsSelected(AbstractButtonDriver.java:142)\nat org.fest.swing.driver.AbstractButtonDriver.requireSelected(AbstractButtonDriver.java:127)\nat org.fest.swing.fixture.JRadioButtonFixture.requireSelected(JRadioButtonFixture.java:288)\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":1780341,"reputation":16850,"user_id":1623249,"accept_rate":71,"display_name":"Maria Ines Parnisari"},"score":1,"creation_date":1405488192,"post_id":24772728,"comment_id":38441242,"body_markdown":"Where is the unit test...?","body":"Where is the unit test...?"},{"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"score":0,"creation_date":1405488253,"post_id":24772728,"comment_id":38441261,"body_markdown":"initialize `incs` with a `new` ArrayList instead of referring to todItems","body":"initialize <code>incs</code> with a <code>new</code> ArrayList instead of referring to todItems"}],"answers":[{"tags":[],"owner":{"account_id":1780341,"reputation":16850,"user_id":1623249,"accept_rate":71,"display_name":"Maria Ines Parnisari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1405488262,"creation_date":1405488262,"answer_id":24772771,"question_id":24772728,"body_markdown":"Change \r\n\r\n    List&lt;TodoItem&gt; incs = todoItems;\r\n\r\nto\r\n\r\n    List&lt;TodoItem&gt; incs = new ArrayList&lt;TodoItem&gt;();","title":"Simple JUnit tests keep failing and I am not sure why","body":"<p>Change </p>\n\n<pre><code>List&lt;TodoItem&gt; incs = todoItems;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>List&lt;TodoItem&gt; incs = new ArrayList&lt;TodoItem&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4748388,"reputation":53,"user_id":3839062,"display_name":"Max"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405488371,"creation_date":1405488371,"answer_id":24772802,"question_id":24772728,"body_markdown":"Seems like you want to create a new List&lt;TodoItem&gt; to add to. By assigning to the same one as the internal list you are appending to it.","title":"Simple JUnit tests keep failing and I am not sure why","body":"<p>Seems like you want to create a new List to add to. By assigning to the same one as the internal list you are appending to it.</p>\n"}],"owner":{"account_id":4754383,"reputation":65,"user_id":3843492,"accept_rate":70,"display_name":"chisquared"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":24772771,"answer_count":2,"score":-1,"last_activity_date":1654007794,"creation_date":1405488040,"question_id":24772728,"body_markdown":"We were given the assignment to write several methods to help add functionality to a TodoList. One of the methods wanted was one that goes through the TodoList and returns the ones which are still incomplete.\r\n\r\nThis is what I have written (with other methods omitted):\r\n\r\n    public class TodoList {\r\n        \r\n        private ArrayList&lt;TodoItem&gt; todoItems;\r\n    \r\n        public TodoList() {\r\n           todoItems = new ArrayList&lt;TodoItem&gt;();\r\n        }\r\n    \r\n        public List&lt;TodoItem&gt; filterIncompletes () {\r\n          List&lt;TodoItem&gt; incs = todoItems; *****\r\n          for (int i = 0; i &lt;todoItems.size(); i++) {\r\n            if (todoItems.get(i).isCompleted() == false) {\r\n                 incs.add(todoItems.get(i));\r\n            }\r\n          }\r\n          return incs;\r\n        }\r\n\r\nI have put asterisks on the line where I believe to be going wrong, although I am not positive. I understand that the method wants a List\\&lt;TodoItem&gt; returned, I&#39;m just not sure if I have that correctly.\r\n\r\n","title":"Simple JUnit tests keep failing and I am not sure why","body":"<p>We were given the assignment to write several methods to help add functionality to a TodoList. One of the methods wanted was one that goes through the TodoList and returns the ones which are still incomplete.</p>\n<p>This is what I have written (with other methods omitted):</p>\n<pre><code>public class TodoList {\n    \n    private ArrayList&lt;TodoItem&gt; todoItems;\n\n    public TodoList() {\n       todoItems = new ArrayList&lt;TodoItem&gt;();\n    }\n\n    public List&lt;TodoItem&gt; filterIncompletes () {\n      List&lt;TodoItem&gt; incs = todoItems; *****\n      for (int i = 0; i &lt;todoItems.size(); i++) {\n        if (todoItems.get(i).isCompleted() == false) {\n             incs.add(todoItems.get(i));\n        }\n      }\n      return incs;\n    }\n</code></pre>\n<p>I have put asterisks on the line where I believe to be going wrong, although I am not positive. I understand that the method wants a List&lt;TodoItem&gt; returned, I'm just not sure if I have that correctly.</p>\n"},{"tags":["java","junit","assert","assertion"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1511632987,"post_id":47489021,"comment_id":81932980,"body_markdown":"It sounds like you need to override `toString` in your class.","body":"It sounds like you need to override <code>toString</code> in your class."},{"owner":{"account_id":11110570,"reputation":335,"user_id":8156497,"accept_rate":50,"display_name":"kneazle"},"score":0,"creation_date":1511633211,"post_id":47489021,"comment_id":81933069,"body_markdown":"Do you mean adding a new toString() method?","body":"Do you mean adding a new toString() method?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1511634836,"post_id":47489021,"comment_id":81933594,"body_markdown":"Additionally, if it is a generic pair class, you&#39;re missing the type variables. https://stackoverflow.com/q/2770321/3788176","body":"Additionally, if it is a generic pair class, you&#39;re missing the type variables. <a href=\"https://stackoverflow.com/q/2770321/3788176\">stackoverflow.com/q/2770321/3788176</a>"},{"owner":{"account_id":11110570,"reputation":335,"user_id":8156497,"accept_rate":50,"display_name":"kneazle"},"score":0,"creation_date":1511635085,"post_id":47489021,"comment_id":81933672,"body_markdown":"the elements can be string or int. I thought if I don&#39;t specify anything, they could be either. What would you suggest in that case?","body":"the elements can be string or int. I thought if I don&#39;t specify anything, they could be either. What would you suggest in that case?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1511645752,"post_id":47489021,"comment_id":81936781,"body_markdown":"`Pair&lt;String, Integer&gt; p1 = new Pair&lt;&gt;(&quot;a&quot;, 2);`.","body":"<code>Pair&lt;String, Integer&gt; p1 = new Pair&lt;&gt;(&quot;a&quot;, 2);</code>."}],"owner":{"account_id":11110570,"reputation":335,"user_id":8156497,"accept_rate":50,"display_name":"kneazle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1511633129,"answer_count":0,"score":0,"last_activity_date":1654007700,"creation_date":1511632918,"question_id":47489021,"body_markdown":"I am using a generic Pair class which I took from here [Generic pair class][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6044923/generic-pair-class\r\n\r\nNow I need to write unit tests for each method of the class. For these tests I wrote for example: \r\n\r\n    Pair p1 = new Pair(&quot;a&quot;,2);\r\n    Assert.assertEquals(&quot;(a,2)&quot;, p1.toString());`\r\n\r\nMy tests are failing with the following message. Could anyone help me how to overcome this issue for both the unit test and the program itself? I am very new at Java, and I couldn&#39;t find anything to solve this problem.\r\n\r\n    expected:&lt;[(1,2)]&gt; but was:&lt;[Pair@58d25a40]&gt;\r\n        [junit] junit.framework.AssertionFailedError: expected:&lt;[(1,2)]&gt; but was:&lt;[Pair@58d25a40]&gt;\r\n\r\n","title":"Java generic Pair class printing our weird characters","body":"<p>I am using a generic Pair class which I took from here <a href=\"https://stackoverflow.com/questions/6044923/generic-pair-class\">Generic pair class</a></p>\n\n<p>Now I need to write unit tests for each method of the class. For these tests I wrote for example: </p>\n\n<pre><code>Pair p1 = new Pair(\"a\",2);\nAssert.assertEquals(\"(a,2)\", p1.toString());`\n</code></pre>\n\n<p>My tests are failing with the following message. Could anyone help me how to overcome this issue for both the unit test and the program itself? I am very new at Java, and I couldn't find anything to solve this problem.</p>\n\n<pre><code>expected:&lt;[(1,2)]&gt; but was:&lt;[Pair@58d25a40]&gt;\n    [junit] junit.framework.AssertionFailedError: expected:&lt;[(1,2)]&gt; but was:&lt;[Pair@58d25a40]&gt;\n</code></pre>\n"},{"tags":["java","jenkins","ant"],"answers":[{"tags":[],"owner":{"account_id":62355,"reputation":12202,"user_id":185322,"accept_rate":67,"display_name":"martinez314"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1452202151,"creation_date":1452202151,"answer_id":34665509,"question_id":34665320,"body_markdown":"You need to launch a shell, in order for the wildcard to expand.  For example:\r\n\r\n    &lt;exec executable=&quot;sh&quot;&gt;\r\n        &lt;arg value=&quot;-c&quot;/&gt; \r\n        &lt;arg value=&quot;scp&quot;/&gt;\r\n        ...\r\n    &lt;/exec&gt;","title":"Ant cannot find wildcard directory in &lt;exec&gt; task","body":"<p>You need to launch a shell, in order for the wildcard to expand.  For example:</p>\n\n<pre><code>&lt;exec executable=\"sh\"&gt;\n    &lt;arg value=\"-c\"/&gt; \n    &lt;arg value=\"scp\"/&gt;\n    ...\n&lt;/exec&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005653,"reputation":439,"user_id":1795639,"display_name":"Christopher Broderick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654007699,"creation_date":1654007699,"answer_id":72449746,"question_id":34665320,"body_markdown":"I ended up having to quote the string (though I probably could have figured out the specific character(s) that needed escaping:\r\n\r\n    &lt;exec executable=&quot;sh&quot; osfamily=&quot;unix&quot;&gt;\r\n    \t&lt;arg value=&quot;-c&quot;/&gt; \r\n    \t&lt;arg line=&quot;&#39;chmod uga+x ${project.build.directory}/dist/bin/*.sh&#39;&quot;/&gt;\r\n    &lt;/exec&gt;\r\n\r\n","title":"Ant cannot find wildcard directory in &lt;exec&gt; task","body":"<p>I ended up having to quote the string (though I probably could have figured out the specific character(s) that needed escaping:</p>\n<pre><code>&lt;exec executable=&quot;sh&quot; osfamily=&quot;unix&quot;&gt;\n    &lt;arg value=&quot;-c&quot;/&gt; \n    &lt;arg line=&quot;'chmod uga+x ${project.build.directory}/dist/bin/*.sh'&quot;/&gt;\n&lt;/exec&gt;\n</code></pre>\n"}],"owner":{"account_id":2967728,"reputation":1333,"user_id":2520534,"accept_rate":77,"display_name":"robert.bo.roth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34665509,"answer_count":2,"score":2,"last_activity_date":1654007699,"creation_date":1452201393,"question_id":34665320,"body_markdown":"I&#39;m using Jenkins/ant in order to deploy my applications to remote servers.\r\n\r\nI was having issues with the ant `&lt;scp&gt;` task for trying to scp a set of directories specified by a wildcard (e.g. scp -r my/path/and/directory_* user@remote:/remote/path/to/directory), so I&#39;ve been trying to just run it using the `&lt;exec&gt;` task instead.\r\n\r\nSee code below:\r\n\r\n    &lt;property name=&quot;built_directories&quot; value=&quot;${workspace}/build_\\*&quot; /&gt;\r\n    \r\n    &lt;exec dir=&quot;${workspace}&quot; executable=&quot;scp&quot; failonerror=&quot;true&quot;&gt;\r\n        &lt;arg line=&quot;-r -i ${user.home}/.ssh/id_rsa ${built_directories} deployer@@@{SERVER}:${remote_build_dir}&quot;&gt;&lt;/arg&gt;\r\n    &lt;/exec&gt;\r\n\r\nJenkins/ant gives me the error:\r\n\r\n[exec] /var/lib/jenkins/jobs/app-head-stage-deployment/workspace/build_*: No such file or directory\r\n\r\n\r\nI&#39;ve also tried the following, but receive the same error:\r\n\r\n    &lt;exec dir=&quot;${workspace}&quot; executable=&quot;scp&quot; failonerror=&quot;true&quot;&gt;\r\n         &lt;arg value=&quot;-r&quot;&gt;&lt;/arg&gt;\r\n         &lt;arg value=&quot;-i&quot;&gt;&lt;/arg&gt;\r\n         &lt;arg value=&quot;${user.home}/.ssh/id_rsa&quot;&gt;&lt;/arg&gt;\r\n         &lt;arg value=&quot;${built_directories}&quot;&gt;&lt;/arg&gt;\r\n         &lt;arg value=&quot;deployer@@@{SERVER}:${remote_build_dir}&quot;&gt;&lt;/arg&gt;\r\n    &lt;/exec&gt;\r\n\r\nI&#39;ve been trying to figure out if somehow I need to escape the asterisk in order for it to be parsed correctly by the shell, but haven&#39;t found much information.\r\n\r\n\r\nEDITS:\r\n\r\nTrying out @whiskeyspider&#39;s config, see below:\r\n\r\n    &lt;exec dir=&quot;${workspace}&quot; executable=&quot;sh&quot; failonerror=&quot;true&quot;&gt;\r\n        &lt;arg value=&quot;-c&quot; /&gt;\r\n        &lt;arg value=&quot;scp&quot; /&gt;\r\n        &lt;arg value=&quot;-r&quot; /&gt;\r\n        &lt;arg value=&quot;-i&quot; /&gt;\r\n        &lt;arg value=&quot;${user.home}/.ssh/id_rsa&quot; /&gt;\r\n        &lt;arg value=&quot;${built_directories} deployer@@@{SERVER}:${remote_build_dir}&quot; /&gt;\r\n    &lt;/exec&gt;\r\n\r\nI&#39;ve tried splitting the last arg into separate `&lt;arg&gt;` elements as well, but now I get the following error:\r\n\r\n[exec] usage: scp [-12346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file]\r\n[exec]            [-l limit] [-o ssh_option] [-P port] [-S program]\r\n[exec]            [[user@]host1:]file1 ... [[user@]host2:]file2\r\n\r\nAnd I&#39;m guessing that means that it doesn&#39;t recognize the arguments properly.","title":"Ant cannot find wildcard directory in &lt;exec&gt; task","body":"<p>I'm using Jenkins/ant in order to deploy my applications to remote servers.</p>\n\n<p>I was having issues with the ant <code>&lt;scp&gt;</code> task for trying to scp a set of directories specified by a wildcard (e.g. scp -r my/path/and/directory_* user@remote:/remote/path/to/directory), so I've been trying to just run it using the <code>&lt;exec&gt;</code> task instead.</p>\n\n<p>See code below:</p>\n\n<pre><code>&lt;property name=\"built_directories\" value=\"${workspace}/build_\\*\" /&gt;\n\n&lt;exec dir=\"${workspace}\" executable=\"scp\" failonerror=\"true\"&gt;\n    &lt;arg line=\"-r -i ${user.home}/.ssh/id_rsa ${built_directories} deployer@@@{SERVER}:${remote_build_dir}\"&gt;&lt;/arg&gt;\n&lt;/exec&gt;\n</code></pre>\n\n<p>Jenkins/ant gives me the error:</p>\n\n<p>[exec] /var/lib/jenkins/jobs/app-head-stage-deployment/workspace/build_*: No such file or directory</p>\n\n<p>I've also tried the following, but receive the same error:</p>\n\n<pre><code>&lt;exec dir=\"${workspace}\" executable=\"scp\" failonerror=\"true\"&gt;\n     &lt;arg value=\"-r\"&gt;&lt;/arg&gt;\n     &lt;arg value=\"-i\"&gt;&lt;/arg&gt;\n     &lt;arg value=\"${user.home}/.ssh/id_rsa\"&gt;&lt;/arg&gt;\n     &lt;arg value=\"${built_directories}\"&gt;&lt;/arg&gt;\n     &lt;arg value=\"deployer@@@{SERVER}:${remote_build_dir}\"&gt;&lt;/arg&gt;\n&lt;/exec&gt;\n</code></pre>\n\n<p>I've been trying to figure out if somehow I need to escape the asterisk in order for it to be parsed correctly by the shell, but haven't found much information.</p>\n\n<p>EDITS:</p>\n\n<p>Trying out @whiskeyspider's config, see below:</p>\n\n<pre><code>&lt;exec dir=\"${workspace}\" executable=\"sh\" failonerror=\"true\"&gt;\n    &lt;arg value=\"-c\" /&gt;\n    &lt;arg value=\"scp\" /&gt;\n    &lt;arg value=\"-r\" /&gt;\n    &lt;arg value=\"-i\" /&gt;\n    &lt;arg value=\"${user.home}/.ssh/id_rsa\" /&gt;\n    &lt;arg value=\"${built_directories} deployer@@@{SERVER}:${remote_build_dir}\" /&gt;\n&lt;/exec&gt;\n</code></pre>\n\n<p>I've tried splitting the last arg into separate <code>&lt;arg&gt;</code> elements as well, but now I get the following error:</p>\n\n<p>[exec] usage: scp [-12346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file]\n[exec]            [-l limit] [-o ssh_option] [-P port] [-S program]\n[exec]            [[user@]host1:]file1 ... [[user@]host2:]file2</p>\n\n<p>And I'm guessing that means that it doesn't recognize the arguments properly.</p>\n"},{"tags":["java","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654007589,"creation_date":1654007589,"answer_id":72449722,"question_id":72325463,"body_markdown":"The `JmsTemplate` always uses a temporary reply queue for send and receive operations.\r\n\r\nYou cannot use your own replyTo.","title":"Spring Boot - unable to set JMSReplyTo property","body":"<p>The <code>JmsTemplate</code> always uses a temporary reply queue for send and receive operations.</p>\n<p>You cannot use your own replyTo.</p>\n"}],"owner":{"account_id":25347191,"reputation":1,"user_id":19164625,"display_name":"Imran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654007589,"creation_date":1653087722,"question_id":72325463,"body_markdown":"I am trying to use the `convertSendAndReceive` method from Spring&#39;s `JmsMessagingTemplate` to use `receiveTimeout`. But it always creates a temp-queue, and it gives me an exception although I set the `JMSReplyTo` property on message (please check code below):\r\n```\r\nTextMessage objectMessage = session.createTextMessage(message);\r\n\r\nobjectMessage.setJMSCorrelationID(UUID.randomUUID().toString());\r\nobjectMessage.setJMSReplyTo(queueOne);\r\nobjectMessage.setJMSCorrelationID(UUID.randomUUID().toString());\r\nobjectMessage.setJMSExpiration(10L);\r\nobjectMessage.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n```\r\nAlthough, if I use the `convertAndSend` method from `JmsTemplate` then the `JMSReplyTo` property is set properly. Can someone please guide how I can use `receiveTimeout` property so that I can abort slow consumers?","title":"Spring Boot - unable to set JMSReplyTo property","body":"<p>I am trying to use the <code>convertSendAndReceive</code> method from Spring's <code>JmsMessagingTemplate</code> to use <code>receiveTimeout</code>. But it always creates a temp-queue, and it gives me an exception although I set the <code>JMSReplyTo</code> property on message (please check code below):</p>\n<pre><code>TextMessage objectMessage = session.createTextMessage(message);\n\nobjectMessage.setJMSCorrelationID(UUID.randomUUID().toString());\nobjectMessage.setJMSReplyTo(queueOne);\nobjectMessage.setJMSCorrelationID(UUID.randomUUID().toString());\nobjectMessage.setJMSExpiration(10L);\nobjectMessage.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\n</code></pre>\n<p>Although, if I use the <code>convertAndSend</code> method from <code>JmsTemplate</code> then the <code>JMSReplyTo</code> property is set properly. Can someone please guide how I can use <code>receiveTimeout</code> property so that I can abort slow consumers?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1653998901,"post_id":72447395,"comment_id":127982837,"body_markdown":"What did you try, and issue(s) did you encounter?","body":"What did you try, and issue(s) did you encounter?"},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":1,"creation_date":1653999028,"post_id":72447395,"comment_id":127982879,"body_markdown":"@ScottHunter edited original post","body":"@ScottHunter edited original post"}],"answers":[{"tags":[],"owner":{"account_id":24364073,"reputation":94,"user_id":18298044,"display_name":"Krzysztof Strzała"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653999040,"creation_date":1653999040,"answer_id":72447564,"question_id":72447395,"body_markdown":"Yes,it&#39;s possible.\r\n\r\nYou can e.g. define your predicate when it should be filtered:\r\n\r\n \r\n\r\n      Predicate&lt;Customer&gt; customerPredicate = (customer) -&gt; customer.getOrders()\r\n                    .stream()\r\n                    .anyMatch(condition);\r\n    \r\n            List&lt;Customer&gt; searchResults = customersList.stream()\r\n                    .filter(customerPredicate)\r\n                    .collect(Collectors.toList());","title":"list within a list: how to search the inner list?","body":"<p>Yes,it's possible.</p>\n<p>You can e.g. define your predicate when it should be filtered:</p>\n<pre><code>  Predicate&lt;Customer&gt; customerPredicate = (customer) -&gt; customer.getOrders()\n                .stream()\n                .anyMatch(condition);\n\n        List&lt;Customer&gt; searchResults = customersList.stream()\n                .filter(customerPredicate)\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654007578,"creation_date":1654007578,"answer_id":72449719,"question_id":72447395,"body_markdown":"There are several ways to do it, here are two.\r\n\r\n- The first uses `mapMulti` which was added in Java 16. It takes a `BiConsumer&lt;T, Consumer&lt;R&gt;&gt;` In this case it acts like a map but does not have to provide a result and put something on the stream.  The loop and if statement (which acts as a filter) avoids nested streaming.\r\n- `customer` is the streamed customer\r\n- `consumer` places the result(s) on the map as required.\r\n- Just iterate the orders and if found, place on the customer on the stream. The testing can be arranged to accommodate any scenario. In the following case, the first match returns the customer and the loop exits.\r\n\r\n```\r\nList&lt;Customer&gt; searchResults = customerList.stream()\r\n\t\t.&lt;Customer&gt;mapMulti((customer, consumer) -&gt; {\r\n\t\t\tfor (String order : customer.getOrders()) {\r\n\t\t\t\tif (order.equals(&quot;someAttribute&quot;)) {\r\n\t\t\t\t\tconsumer.accept(customer);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).toList();\r\n```\r\n- For older versions of java, it can be done as follows with a nested stream to check the orders.\r\n- filter on the customer and stream the orders. \r\n- apply anyMatch (or whatever other test you want to on each order.\r\n\r\n```\r\nList&lt;Customer&gt; list = customerList\r\n\t\t.stream().filter(\r\n\t\t\t\tcustomer -&gt; customer.getOrders()\r\n\t\t\t\t        .stream()\r\n\t\t\t\t\t\t.anyMatch(order -&gt; order\r\n\t\t\t\t\t\t\t\t.contains(&quot;someAttribute&quot;)))\r\n\t\t.toList();\r\n```","title":"list within a list: how to search the inner list?","body":"<p>There are several ways to do it, here are two.</p>\n<ul>\n<li>The first uses <code>mapMulti</code> which was added in Java 16. It takes a <code>BiConsumer&lt;T, Consumer&lt;R&gt;&gt;</code> In this case it acts like a map but does not have to provide a result and put something on the stream.  The loop and if statement (which acts as a filter) avoids nested streaming.</li>\n<li><code>customer</code> is the streamed customer</li>\n<li><code>consumer</code> places the result(s) on the map as required.</li>\n<li>Just iterate the orders and if found, place on the customer on the stream. The testing can be arranged to accommodate any scenario. In the following case, the first match returns the customer and the loop exits.</li>\n</ul>\n<pre><code>List&lt;Customer&gt; searchResults = customerList.stream()\n        .&lt;Customer&gt;mapMulti((customer, consumer) -&gt; {\n            for (String order : customer.getOrders()) {\n                if (order.equals(&quot;someAttribute&quot;)) {\n                    consumer.accept(customer);\n                    break;\n                }\n            }\n        }).toList();\n</code></pre>\n<ul>\n<li>For older versions of java, it can be done as follows with a nested stream to check the orders.</li>\n<li>filter on the customer and stream the orders.</li>\n<li>apply anyMatch (or whatever other test you want to on each order.</li>\n</ul>\n<pre><code>List&lt;Customer&gt; list = customerList\n        .stream().filter(\n                customer -&gt; customer.getOrders()\n                        .stream()\n                        .anyMatch(order -&gt; order\n                                .contains(&quot;someAttribute&quot;)))\n        .toList();\n</code></pre>\n"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654007578,"creation_date":1653998333,"question_id":72447395,"body_markdown":"EDIT2: I want to return the inner list instead of the outer list.\r\n\r\nmight be best explained with an example:\r\n\r\n\r\n    public class customer {\r\n        private String customerName;\r\n        private List&lt;String&gt; orders;\r\n    }\r\n    \r\n    public class Class2 {\r\n       private List&lt;Customer&gt; customers;\r\n    }\r\n\r\nI can run a for loop on customers and then use stream on the orders object.\r\n\r\nBut is it possible to do a stream inside a stream search? :o\r\n\r\nsomething like:\r\n\r\n    List&lt;customers&gt; searchResults = customersList\r\n                .stream()\r\n                .filter(\r\n                    customer -&gt; customer.getOrders()\r\n                        .stream()\r\n                        ...\r\n                        ...\r\n                )\r\n                .collect(Collectors.toList());\r\n\r\nEdit1: I tried the stream inside a stream in my code and it won&#39;t even compile. IntelliJ saying something like &quot;bad return type in lambda expression: string cannot be converted into a boolean&quot;\r\n\r\nE","title":"list within a list: how to search the inner list?","body":"<p>EDIT2: I want to return the inner list instead of the outer list.</p>\n<p>might be best explained with an example:</p>\n<pre><code>public class customer {\n    private String customerName;\n    private List&lt;String&gt; orders;\n}\n\npublic class Class2 {\n   private List&lt;Customer&gt; customers;\n}\n</code></pre>\n<p>I can run a for loop on customers and then use stream on the orders object.</p>\n<p>But is it possible to do a stream inside a stream search? :o</p>\n<p>something like:</p>\n<pre><code>List&lt;customers&gt; searchResults = customersList\n            .stream()\n            .filter(\n                customer -&gt; customer.getOrders()\n                    .stream()\n                    ...\n                    ...\n            )\n            .collect(Collectors.toList());\n</code></pre>\n<p>Edit1: I tried the stream inside a stream in my code and it won't even compile. IntelliJ saying something like &quot;bad return type in lambda expression: string cannot be converted into a boolean&quot;</p>\n<p>E</p>\n"},{"tags":["java","arrays","methods","boolean"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1653922583,"post_id":72436289,"comment_id":127963887,"body_markdown":"&quot;Boolean method call: How would you call the boolean method that has an array (nums) as a parameter?&quot; the same way you would call a method with any other type of parameter. Unless you&#39;re asking [how to pass an array literal](https://stackoverflow.com/questions/19533625/how-to-pass-a-function-an-array-literal)","body":"&quot;Boolean method call: How would you call the boolean method that has an array (nums) as a parameter?&quot; the same way you would call a method with any other type of parameter. Unless you&#39;re asking <a href=\"https://stackoverflow.com/questions/19533625/how-to-pass-a-function-an-array-literal\">how to pass an array literal</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653922606,"post_id":72436289,"comment_id":127963900,"body_markdown":"&quot;Print out statement: Using `System.out.println()` print out the true or false result?&quot; the same way you would use `println` to print anything else.","body":"&quot;Print out statement: Using <code>System.out.println()</code> print out the true or false result?&quot; the same way you would use <code>println</code> to print anything else."},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":1,"creation_date":1653922713,"post_id":72436289,"comment_id":127963938,"body_markdown":"side-note: `if (somethingThatIsTrue) return true; else return false;` can be simplified to `return somethingThatIsTrue;`","body":"side-note: <code>if (somethingThatIsTrue) return true; else return false;</code> can be simplified to <code>return somethingThatIsTrue;</code>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1653922717,"post_id":72436289,"comment_id":127963941,"body_markdown":"As these are questions about basic Java syntax, I suggest to read about that. There are tons of articles about that. Unfortunately, this is not appropriate for SO.","body":"As these are questions about basic Java syntax, I suggest to read about that. There are tons of articles about that. Unfortunately, this is not appropriate for SO."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653923137,"post_id":72436289,"comment_id":127964118,"body_markdown":"[How do I declare and initialize an array in Java?](https://stackoverflow.com/q/1200621/12567365). Once you have created your array, you can use it in your call to `firstLast6()`. See also the Java tutorials for [arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html) and for [calling methods](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html).","body":"<a href=\"https://stackoverflow.com/q/1200621/12567365\">How do I declare and initialize an array in Java?</a>. Once you have created your array, you can use it in your call to <code>firstLast6()</code>. See also the Java tutorials for <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">arrays</a> and for <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">calling methods</a>."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653923026,"creation_date":1653923026,"answer_id":72436411,"question_id":72436289,"body_markdown":"You can do:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(fistLast6(new int[] {1, 2, 6}));\r\n    }\r\n    \r\nAnd @thinkgruen&#39;s suggestion:\r\n\r\n    public static boolean firstLast6(int[] nums) {\r\n        return nums[0] == 6 || nums[nums.length - 1] == 6;\r\n    }\r\n","title":"CodingBat - Java - Array1 - firstLast6 - how to call the boolean method with an array as a parameter","body":"<p>You can do:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(fistLast6(new int[] {1, 2, 6}));\n}\n</code></pre>\n<p>And @thinkgruen's suggestion:</p>\n<pre><code>public static boolean firstLast6(int[] nums) {\n    return nums[0] == 6 || nums[nums.length - 1] == 6;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22544921,"reputation":27,"user_id":16735016,"display_name":"Rashad Nelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654007431,"creation_date":1654007431,"answer_id":72449689,"question_id":72436289,"body_markdown":"    public class ReturnStatements {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Method call\r\n            boolean toFirstLast6 = firstLast6(new int[] {1, 2, 6});\r\n    \r\n            // Print out statement outputing true or false \r\n            System.out.println(toFirstLast6);\r\n    \r\n        }\r\n    \r\n        public static boolean firstLast6(int[] nums) {\r\n    \r\n            if ( nums[0] == 6 || nums[nums.length - 1] == 6 ) {\r\n    \r\n                return true;\r\n    \r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n    }","title":"CodingBat - Java - Array1 - firstLast6 - how to call the boolean method with an array as a parameter","body":"<pre><code>public class ReturnStatements {\n\n    public static void main(String[] args) {\n\n        // Method call\n        boolean toFirstLast6 = firstLast6(new int[] {1, 2, 6});\n\n        // Print out statement outputing true or false \n        System.out.println(toFirstLast6);\n\n    }\n\n    public static boolean firstLast6(int[] nums) {\n\n        if ( nums[0] == 6 || nums[nums.length - 1] == 6 ) {\n\n            return true;\n\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22544921,"reputation":27,"user_id":16735016,"display_name":"Rashad Nelson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":800,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1654007431,"creation_date":1653922434,"question_id":72436289,"body_markdown":"I hope all is well.  I&#39;ve recently solved an algorithm in Coding Bat (Java - Array1 - firstLast6):\r\n\r\n**Problem**\r\n\r\n*Given an array of ints, return true if 6 appears as either the first or last element in the array. The array will be length 1 or more.\r\n\r\nfirstLast6([1, 2, 6]) → true\r\n\r\nfirstLast6([6, 1, 2, 3]) → true\r\n\r\nfirstLast6([13, 6, 1, 2, 3]) → false*\r\n\r\n**My Solution**\r\n\r\n    public boolean firstLast6(int[] nums) {\r\n      \r\n      if ( (nums[0] == 6) || (nums[nums.length - 1]) == 6 ) {\r\n        \r\n        return true;\r\n        \r\n      }\r\n      \r\n      return false;\r\n      \r\n    }\r\n\r\nThis is the correct solution.  However, it&#39;s one thing to solve the problem in Coding Bat, but I want to be able to call this boolean method in my VS Code editor in the main method.  My research thus hasn&#39;t produced a solid answer to my question.  \r\n\r\nIn the main method:\r\n\r\n1. Boolean method call:  How would you call the boolean method that has an array (nums) as a parameter?  I&#39;m stuck on the syntax for this part.  \r\n\r\n2. Print out statement:  Using &quot;System.out.println()&quot; print out the true or false result?  \r\n\r\n**VS Code - Full Layout**\r\n\r\n    public class ReturnStatements {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Method call\r\n            \r\n            // Print out statement outputing true or false.\r\n    \r\n        }\r\n        \r\n        public static boolean firstLast6(int[] nums) {\r\n    \r\n            if ( nums[0] == 6 || nums[nums.length - 1] == 6 ) {\r\n    \r\n                return true;\r\n    \r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n","title":"CodingBat - Java - Array1 - firstLast6 - how to call the boolean method with an array as a parameter","body":"<p>I hope all is well.  I've recently solved an algorithm in Coding Bat (Java - Array1 - firstLast6):</p>\n<p><strong>Problem</strong></p>\n<p>*Given an array of ints, return true if 6 appears as either the first or last element in the array. The array will be length 1 or more.</p>\n<p>firstLast6([1, 2, 6]) → true</p>\n<p>firstLast6([6, 1, 2, 3]) → true</p>\n<p>firstLast6([13, 6, 1, 2, 3]) → false*</p>\n<p><strong>My Solution</strong></p>\n<pre><code>public boolean firstLast6(int[] nums) {\n  \n  if ( (nums[0] == 6) || (nums[nums.length - 1]) == 6 ) {\n    \n    return true;\n    \n  }\n  \n  return false;\n  \n}\n</code></pre>\n<p>This is the correct solution.  However, it's one thing to solve the problem in Coding Bat, but I want to be able to call this boolean method in my VS Code editor in the main method.  My research thus hasn't produced a solid answer to my question.</p>\n<p>In the main method:</p>\n<ol>\n<li><p>Boolean method call:  How would you call the boolean method that has an array (nums) as a parameter?  I'm stuck on the syntax for this part.</p>\n</li>\n<li><p>Print out statement:  Using &quot;System.out.println()&quot; print out the true or false result?</p>\n</li>\n</ol>\n<p><strong>VS Code - Full Layout</strong></p>\n<pre><code>public class ReturnStatements {\n\n    public static void main(String[] args) {\n\n        // Method call\n        \n        // Print out statement outputing true or false.\n\n    }\n    \n    public static boolean firstLast6(int[] nums) {\n\n        if ( nums[0] == 6 || nums[nums.length - 1] == 6 ) {\n\n            return true;\n\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654007351,"post_id":72449604,"comment_id":127986546,"body_markdown":"Have you tried to implement one of the solutions that exist [here](https://stackoverflow.com/questions/54767485/where-should-i-put-a-code-which-take-a-long-time-to-calculate/54767571#54767571)?","body":"Have you tried to implement one of the solutions that exist <a href=\"https://stackoverflow.com/questions/54767485/where-should-i-put-a-code-which-take-a-long-time-to-calculate/54767571#54767571\">here</a>?"},{"owner":{"account_id":25437524,"reputation":13,"user_id":19241020,"display_name":"samer"},"score":0,"creation_date":1654007502,"post_id":72449604,"comment_id":127986629,"body_markdown":"No, I want a countdown to the top of the  post when the time expires, deleting the post from the database.","body":"No, I want a countdown to the top of the  post when the time expires, deleting the post from the database."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654007905,"post_id":72449604,"comment_id":127986823,"body_markdown":"In that case, what have you tried to achieve in code?","body":"In that case, what have you tried to achieve in code?"},{"owner":{"account_id":25437524,"reputation":13,"user_id":19241020,"display_name":"samer"},"score":0,"creation_date":1654008432,"post_id":72449604,"comment_id":127987052,"body_markdown":"Locale LocaleBylanguageTag2 = Locale.forLanguageTag(&quot;en&quot;);\n        TimeAgoMessages messages2 = new TimeAgoMessages.Builder().withLocale(LocaleBylanguageTag2).build();\n        String text2 = TimeAgo.using(Long.parseLong(String.valueOf(post.getTime_post())), messages2);\n       String text3= TimeAgo.using(Long.parseLong(String.valueOf(post.getTime_end())), messages2);","body":"Locale LocaleBylanguageTag2 = Locale.forLanguageTag(&quot;en&quot;);         TimeAgoMessages messages2 = new TimeAgoMessages.Builder().withLocale(LocaleBylanguageTag2).b&zwnj;&#8203;uild();         String text2 = TimeAgo.using(Long.parseLong(String.valueOf(post.getTime_pos&zwnj;&#8203;t())), messages2);        String text3= TimeAgo.using(Long.parseLong(String.valueOf(post.getTime_end&zwnj;&#8203;())), messages2);"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654012183,"post_id":72449604,"comment_id":127988667,"body_markdown":"And where&#39;s the timer? Add the code related to the timer to your question.","body":"And where&#39;s the timer? Add the code related to the timer to your question."}],"owner":{"account_id":25437524,"reputation":13,"user_id":19241020,"display_name":"samer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654007356,"creation_date":1654007145,"question_id":72449604,"body_markdown":"I&#39;m publish a post on firebase.\r\nI&#39;d like to delete the post in five days automatically.\r\n\r\n\r\n    &quot;-N3PM_bR2DKG6BFYNMlI&quot;: {\r\n        &quot;category&quot;: &quot;Art and culture&quot;,\r\n        &quot;description&quot;: &quot;hello again and sorry I was just a little confused as I have been locked out &quot;,\r\n        &quot;name&quot;: &quot;heloo&quot;,\r\n        &quot;phone&quot;: &quot;079655555&quot;,\r\n        &quot;posthide&quot;: &quot;0&quot;,\r\n        &quot;postid&quot;: &quot;-N3PM_bR2DKG6BFYNMlI&quot;,\r\n        \r\n        &quot;price&quot;: &quot;50&quot;,\r\n        &quot;publisher&quot;: &quot;HMGlcntYlRQdUSyJ2zHaJwpgmwO2&quot;,\r\n        &quot;time_end&quot;: 1654091199223,\r\n        &quot;time_post&quot;: 1654004800172,\r\n        &quot;timestart&quot;: 1654004800172\r\n      },\r\n\r\n\r\n\r\nHow at the end of 5 days, it automatically deletes itself from the database.\r\n\r\n \r\nin my apater_post\r\n\r\n    if (post.getTime_end().equals(post.getTime_post())){\r\n    \r\n    \r\n            FirebaseDatabase.getInstance().getReference(&quot;Shop&quot;)\r\n                    .child(post.getPostid()).removeValue()\r\n                    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                Toast.makeText(mContext, &quot;remove&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n        }","title":"Delete value / record in firebase automatically","body":"<p>I'm publish a post on firebase.\nI'd like to delete the post in five days automatically.</p>\n<pre><code>&quot;-N3PM_bR2DKG6BFYNMlI&quot;: {\n    &quot;category&quot;: &quot;Art and culture&quot;,\n    &quot;description&quot;: &quot;hello again and sorry I was just a little confused as I have been locked out &quot;,\n    &quot;name&quot;: &quot;heloo&quot;,\n    &quot;phone&quot;: &quot;079655555&quot;,\n    &quot;posthide&quot;: &quot;0&quot;,\n    &quot;postid&quot;: &quot;-N3PM_bR2DKG6BFYNMlI&quot;,\n    \n    &quot;price&quot;: &quot;50&quot;,\n    &quot;publisher&quot;: &quot;HMGlcntYlRQdUSyJ2zHaJwpgmwO2&quot;,\n    &quot;time_end&quot;: 1654091199223,\n    &quot;time_post&quot;: 1654004800172,\n    &quot;timestart&quot;: 1654004800172\n  },\n</code></pre>\n<p>How at the end of 5 days, it automatically deletes itself from the database.</p>\n<p>in my apater_post</p>\n<pre><code>if (post.getTime_end().equals(post.getTime_post())){\n\n\n        FirebaseDatabase.getInstance().getReference(&quot;Shop&quot;)\n                .child(post.getPostid()).removeValue()\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if (task.isSuccessful()) {\n                            Toast.makeText(mContext, &quot;remove&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":3530800,"reputation":117,"user_id":2950427,"display_name":"Elias Salom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654007344,"creation_date":1654007344,"answer_id":72449664,"question_id":72449430,"body_markdown":"why are you handling files inside the app!!, I think all you need to do is to make a server and every time you need to do something just let the application send it to the server and the server will do all that,\r\n\r\ncheck this video will let you know how to create a small server with a node.js easy way [click here][1],\r\n\r\ncheck this video will help you how to send REST API requests to your server [click here][2]\r\n\r\nand the hard work let the server do \r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=Oe421EPjeBE&amp;t=18627s&amp;ab_channel=freeCodeCamp.org\r\n  [2]: https://www.youtube.com/watch?v=DpEg_UVkv6E&amp;ab_channel=yrrhelp","title":"How can I automatically run an android application after a given time","body":"<p>why are you handling files inside the app!!, I think all you need to do is to make a server and every time you need to do something just let the application send it to the server and the server will do all that,</p>\n<p>check this video will let you know how to create a small server with a node.js easy way <a href=\"https://www.youtube.com/watch?v=Oe421EPjeBE&amp;t=18627s&amp;ab_channel=freeCodeCamp.org\" rel=\"nofollow noreferrer\">click here</a>,</p>\n<p>check this video will help you how to send REST API requests to your server <a href=\"https://www.youtube.com/watch?v=DpEg_UVkv6E&amp;ab_channel=yrrhelp\" rel=\"nofollow noreferrer\">click here</a></p>\n<p>and the hard work let the server do</p>\n"}],"owner":{"account_id":25256002,"reputation":1,"user_id":19087723,"display_name":"TylerPardue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654007344,"creation_date":1654006436,"question_id":72449430,"body_markdown":"&lt;p&gt;I Have an application that causes several downloads, and after a while these files will grow to the point where it&#39;ll be too much to handle (fills up device storage).&lt;/p&gt;\r\n&lt;p&gt;Is There a way to create an application in android studio using Java that automatically runs at at given time (like at the end of the day) to delete the files. Or is my only option to make an application that Runs on boot?&lt;/p&gt;","title":"How can I automatically run an android application after a given time","body":"<p>I Have an application that causes several downloads, and after a while these files will grow to the point where it'll be too much to handle (fills up device storage).</p>\n<p>Is There a way to create an application in android studio using Java that automatically runs at at given time (like at the end of the day) to delete the files. Or is my only option to make an application that Runs on boot?</p>\n"},{"tags":["java","static","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":101336,"reputation":10523,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654007237,"creation_date":1654007237,"answer_id":72449631,"question_id":72447650,"body_markdown":"Yes, you can do that as you can be seen below:\r\n```\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Processor;\r\n\r\npublic class FooProcessor implements Processor {\r\n    public static final String FOO_PROPERTY = &quot;FOO&quot;;\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        exchange.setProperty(FOO_PROPERTY, &quot;This is a Foo property.&quot;);\r\n    }\r\n}\r\n```\r\n```\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Processor;\r\n\r\npublic class BarProcessor implements Processor {\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        exchange.getMessage().setBody(exchange.getProperty(FooProcessor.FOO_PROPERTY, String.class));\r\n    }\r\n}\r\n```\r\n```\r\nfrom(&quot;direct:mainRoute&quot;)\r\n.routeId(&quot;MainRoute&quot;)\r\n    .log(&quot;MainRoute BEGINS: BODY: ${body}&quot;)\r\n    .process(new FooProcessor())\r\n    .process(new BarProcessor())\r\n    .log(&quot;MainRoute ENDS: BODY: ${body}&quot;)\r\n.end()\r\n;\r\n```\r\nWhen the route above will be run the following is logged as expected:\r\n\r\n```\r\nMainRoute BEGINS: BODY:\r\nMainRoute ENDS: BODY: This is a Foo property.\r\n```\r\n\r\nHowever I don&#39;t think processors should have compile time (nor runtime) dependencies to other processors. As usual refactor the common parts to another class which is used by the processors.","title":"Camel, public static variables and processors","body":"<p>Yes, you can do that as you can be seen below:</p>\n<pre><code>import org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\n\npublic class FooProcessor implements Processor {\n    public static final String FOO_PROPERTY = &quot;FOO&quot;;\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        exchange.setProperty(FOO_PROPERTY, &quot;This is a Foo property.&quot;);\n    }\n}\n</code></pre>\n<pre><code>import org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\n\npublic class BarProcessor implements Processor {\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        exchange.getMessage().setBody(exchange.getProperty(FooProcessor.FOO_PROPERTY, String.class));\n    }\n}\n</code></pre>\n<pre><code>from(&quot;direct:mainRoute&quot;)\n.routeId(&quot;MainRoute&quot;)\n    .log(&quot;MainRoute BEGINS: BODY: ${body}&quot;)\n    .process(new FooProcessor())\n    .process(new BarProcessor())\n    .log(&quot;MainRoute ENDS: BODY: ${body}&quot;)\n.end()\n;\n</code></pre>\n<p>When the route above will be run the following is logged as expected:</p>\n<pre><code>MainRoute BEGINS: BODY:\nMainRoute ENDS: BODY: This is a Foo property.\n</code></pre>\n<p>However I don't think processors should have compile time (nor runtime) dependencies to other processors. As usual refactor the common parts to another class which is used by the processors.</p>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72449631,"answer_count":1,"score":0,"last_activity_date":1654007237,"creation_date":1653999416,"question_id":72447650,"body_markdown":"Into a camel processor, I have set two static vars with property names:\r\n\r\n     public static final String CI_PROPERTY = &quot;ci&quot;;\r\n     public static final String IS_PDF_PROPERTY = &quot;isPdf&quot;;\r\n\r\nand I assign like:\r\n\r\n     exchange.setProperty(CI_PROPERTY, documentProperties.get(MAP_PARAMETER_ATTACHMENT_URI));\r\n     exchange.setProperty(IS_PDF_PROPERTY, documentProperties.get(MAP_PARAMETER_IS_PDF));\r\n\r\nThese names should be used in other processors to retrieve properties.\r\n\r\nThe question is: other processors have access to these names? Or I should move them to another class? In case, where?","title":"Camel, public static variables and processors","body":"<p>Into a camel processor, I have set two static vars with property names:</p>\n<pre><code> public static final String CI_PROPERTY = &quot;ci&quot;;\n public static final String IS_PDF_PROPERTY = &quot;isPdf&quot;;\n</code></pre>\n<p>and I assign like:</p>\n<pre><code> exchange.setProperty(CI_PROPERTY, documentProperties.get(MAP_PARAMETER_ATTACHMENT_URI));\n exchange.setProperty(IS_PDF_PROPERTY, documentProperties.get(MAP_PARAMETER_IS_PDF));\n</code></pre>\n<p>These names should be used in other processors to retrieve properties.</p>\n<p>The question is: other processors have access to these names? Or I should move them to another class? In case, where?</p>\n"},{"tags":["java","gradle","build.gradle","artifactory"],"owner":{"account_id":4358809,"reputation":21,"user_id":3556591,"display_name":"Ams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654007206,"creation_date":1654007206,"question_id":72449621,"body_markdown":"I am trying to publish the same jar to 2 different jfrog artifactory. \r\n\r\nMy build.gradle is:\r\n```\r\nbuildscript {\r\n  repositories {\r\n    mavenCentral()\r\n  }\r\n  dependencies {\r\n    classpath &quot;org.jfrog.buildinfo:build-info-extractor-gradle:latest.release&quot;\r\n  }\r\n}\r\n\r\napply plugin: &quot;com.jfrog.artifactory&quot;\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;base&#39;\r\napply plugin: &#39;maven-publish&#39;\r\napply plugin: &#39;eclipse&#39;\r\napply from: &quot;${rootProject.projectDir}/gradle/properties.gradle&quot;\r\n\r\n\r\nartifactory {\r\n        contextUrl = &quot;${artifactory_contextUrl_1}&quot;\r\n        resolve {\r\n                repository {\r\n                        repoKey = &quot;${artifactory_resolve_repo_1}&quot;\r\n                        username = &quot;${artifactory_user_1}&quot;\r\n                        password = &quot;${artifactory_password_1}&quot;\r\n                }\r\n        }\r\n\tpublish {\r\n\t\trepository {\r\n\t\t\trepoKey = &quot;${artifactory_publish_repo_1}&quot;\r\n\t\t\tusername = &quot;${artifactory_user_1}&quot;\r\n\t\t\tpassword = &quot;${artifactory_password_1}&quot;\r\n\t\t}\r\n\t\tdefaults { publications(&#39;mavenJava&#39;) }\r\n\t}\r\n}\r\n\r\nartifactory {\r\n    contextUrl = &quot;${artifactory_contextUrl_2}&quot;\r\n    resolve {\r\n        repository {\r\n            repoKey = &quot;${artifactory_resolve_repo_2}&quot;\r\n            username = &quot;${artifactory_user_2}&quot;\r\n            password = &quot;${artifactory_password_2}&quot;\r\n           \r\n        }\r\n    }\r\n    publish {\r\n        repository {\r\n            repoKey = &quot;${artifactory_publish_repo_2}&quot;\r\n            username = &quot;${artifactory_user_2}&quot;\r\n            password = &quot;${artifactory_password_2}&quot; \r\n            \r\n        }\r\n        defaults {\r\n            publishBuildInfo = false\r\n            publications(&#39;mavenJava&#39;)\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nsubprojects {\r\n\t\t// copy libs to root build/libs\r\n\t\tapply from: &quot;${rootProject.projectDir}/gradle/utils/java/copy-libs-to-root.gradle&quot;\r\n\t\tapply plugin: &quot;com.jfrog.artifactory&quot;\r\n\t\tapply plugin: &#39;java&#39;\r\n\t\tapply plugin: &#39;base&#39;\r\n\t\tapply plugin: &#39;maven-publish&#39;\r\n    \tapply plugin: &#39;eclipse&#39;\r\n    \text.componentName = &quot;${project.name}&quot;\r\n    \teclipse.project.name = ext.componentName\r\n  \t\tversion = &#39;0.0.1&#39;\r\n\r\n        repositories {\r\n                mavenLocal()\r\n        }\r\n\r\n        jar {\r\n                manifest {\r\n                        attributes  &#39;Specification-Title&#39;: &quot;${baseName}&quot;,\r\n                                    &#39;Specification-Version&#39;: version,\r\n                                    &#39;Implementation-Title&#39;: &quot;${baseName}&quot;,\r\n                                    &#39;Implementation-Version&#39;: version,\r\n                                    &#39;Bundle-Version&#39;: version\r\n                }\r\n        }\r\n\r\n}\r\n\r\n\r\nproject(&#39;:common-utils:opensearch-sdk&#39;) {\r\n    ext.componentDescription = &#39;common-utils&#39;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    publishing {\r\n        publications {\r\n              mavenJava(MavenPublication) {\r\n                    groupId = &quot;com.example.app&quot;\r\n                  from components.java\r\n              }\r\n         }\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I try to deploy artifacts using \r\n```\r\n ./gradlew :common-utils:opensearch-sdk:build :common-utils:opensearch-sdk:artifactoryPublish\r\n```\r\nopensearch-sdk-1.0.jar is getting deployed only to artifactory_contextUrl_2. \r\n\r\nLooks like artifactory_contextUrl_1 configuration is getting overwritten by artifactory_contextUrl_2. \r\n","title":"How to publish jars to multiple artifactory?","body":"<p>I am trying to publish the same jar to 2 different jfrog artifactory.</p>\n<p>My build.gradle is:</p>\n<pre><code>buildscript {\n  repositories {\n    mavenCentral()\n  }\n  dependencies {\n    classpath &quot;org.jfrog.buildinfo:build-info-extractor-gradle:latest.release&quot;\n  }\n}\n\napply plugin: &quot;com.jfrog.artifactory&quot;\napply plugin: 'java'\napply plugin: 'base'\napply plugin: 'maven-publish'\napply plugin: 'eclipse'\napply from: &quot;${rootProject.projectDir}/gradle/properties.gradle&quot;\n\n\nartifactory {\n        contextUrl = &quot;${artifactory_contextUrl_1}&quot;\n        resolve {\n                repository {\n                        repoKey = &quot;${artifactory_resolve_repo_1}&quot;\n                        username = &quot;${artifactory_user_1}&quot;\n                        password = &quot;${artifactory_password_1}&quot;\n                }\n        }\n    publish {\n        repository {\n            repoKey = &quot;${artifactory_publish_repo_1}&quot;\n            username = &quot;${artifactory_user_1}&quot;\n            password = &quot;${artifactory_password_1}&quot;\n        }\n        defaults { publications('mavenJava') }\n    }\n}\n\nartifactory {\n    contextUrl = &quot;${artifactory_contextUrl_2}&quot;\n    resolve {\n        repository {\n            repoKey = &quot;${artifactory_resolve_repo_2}&quot;\n            username = &quot;${artifactory_user_2}&quot;\n            password = &quot;${artifactory_password_2}&quot;\n           \n        }\n    }\n    publish {\n        repository {\n            repoKey = &quot;${artifactory_publish_repo_2}&quot;\n            username = &quot;${artifactory_user_2}&quot;\n            password = &quot;${artifactory_password_2}&quot; \n            \n        }\n        defaults {\n            publishBuildInfo = false\n            publications('mavenJava')\n        }\n    }\n\n}\n\n\nsubprojects {\n        // copy libs to root build/libs\n        apply from: &quot;${rootProject.projectDir}/gradle/utils/java/copy-libs-to-root.gradle&quot;\n        apply plugin: &quot;com.jfrog.artifactory&quot;\n        apply plugin: 'java'\n        apply plugin: 'base'\n        apply plugin: 'maven-publish'\n        apply plugin: 'eclipse'\n        ext.componentName = &quot;${project.name}&quot;\n        eclipse.project.name = ext.componentName\n        version = '0.0.1'\n\n        repositories {\n                mavenLocal()\n        }\n\n        jar {\n                manifest {\n                        attributes  'Specification-Title': &quot;${baseName}&quot;,\n                                    'Specification-Version': version,\n                                    'Implementation-Title': &quot;${baseName}&quot;,\n                                    'Implementation-Version': version,\n                                    'Bundle-Version': version\n                }\n        }\n\n}\n\n\nproject(':common-utils:opensearch-sdk') {\n    ext.componentDescription = 'common-utils'\n    apply plugin: 'java'\n    apply plugin: 'eclipse'\n    publishing {\n        publications {\n              mavenJava(MavenPublication) {\n                    groupId = &quot;com.example.app&quot;\n                  from components.java\n              }\n         }\n    }\n}\n\n</code></pre>\n<p>When I try to deploy artifacts using</p>\n<pre><code> ./gradlew :common-utils:opensearch-sdk:build :common-utils:opensearch-sdk:artifactoryPublish\n</code></pre>\n<p>opensearch-sdk-1.0.jar is getting deployed only to artifactory_contextUrl_2.</p>\n<p>Looks like artifactory_contextUrl_1 configuration is getting overwritten by artifactory_contextUrl_2.</p>\n"},{"tags":["java","type-conversion","integer","byte","arithmetic-expressions"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1654006759,"post_id":72449452,"comment_id":127986253,"body_markdown":"A java byte can hold values from -128 to 127. So of course if you try to put 50*50 into it you will get an overflow and not the correct result.","body":"A java byte can hold values from -128 to 127. So of course if you try to put 50*50 into it you will get an overflow and not the correct result."},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1654047141,"post_id":72449452,"comment_id":127997195,"body_markdown":"*why don&#39;t I get a compile error* -- because if the language defined the result of the calculation of `a op b` in `a op= b` to be widened to `int` for smaller integral types, priot to assignment back into `a`, the `op=` operator would be unusable for those types, and thus not exist in the language.","body":"<i>why don&#39;t I get a compile error</i> -- because if the language defined the result of the calculation of <code>a op b</code> in <code>a op= b</code> to be widened to <code>int</code> for smaller integral types, priot to assignment back into <code>a</code>, the <code>op=</code> operator would be unusable for those types, and thus not exist in the language."}],"owner":{"account_id":25437461,"reputation":1,"user_id":19240989,"display_name":"Yung_Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654006687,"answer_count":0,"score":0,"last_activity_date":1654007129,"creation_date":1654006548,"question_id":72449452,"body_markdown":"I was just playing around with some code and was curious about the following result:\r\n\r\n``` \r\nbyte b = 50;\r\nb *= 50; \r\nSystem.out.println(b);\r\n```\r\n\r\nThe output I get is ```-60```. \r\n\r\nWhy is this the case? Also, why don&#39;t I get a compile error as this seems to be a form of implicit type conversion (i.e. to an int).\r\n\r\nFor example, I cannot write the following:\r\n\r\n``` \r\nb = b * 50; \r\n```\r\n\r\n","title":"Byte calculation giving unexpected answer","body":"<p>I was just playing around with some code and was curious about the following result:</p>\n<pre><code>byte b = 50;\nb *= 50; \nSystem.out.println(b);\n</code></pre>\n<p>The output I get is <code>-60</code>.</p>\n<p>Why is this the case? Also, why don't I get a compile error as this seems to be a form of implicit type conversion (i.e. to an int).</p>\n<p>For example, I cannot write the following:</p>\n<pre><code>b = b * 50; \n</code></pre>\n"},{"tags":["java","spring","google-app-engine","spring-security","classcastexception"],"owner":{"account_id":6288515,"reputation":615,"user_id":4886918,"display_name":"William Miranda de Jesus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654007047,"creation_date":1534959505,"question_id":51972365,"body_markdown":"I&#39;m trying to do a migration from an application with spring 3.2 and Java 7 to spring 4.x and Java 8, but I&#39;m having a ClassCastException problem.\r\n\r\nThese are the versions defined in my pom.xml\r\n\r\n    spring: 4.3.4\r\n    spring-security: 4.2.7\r\n    spring-security-oauth: 1.0.0\r\n\r\nDid already someone have this problem and know which is the incompatibility?\r\n\r\nSorry for my bad English. Feel free to correct its.\r\n\r\nThis is the stack trace of the error.\r\n\r\n    java.lang.ClassCastException: org.springframework.security.web.csrf.LazyCsrfTokenRepository$SaveOnAccessCsrfToken cannot be cast to org.springframework.security.web.csrf.CsrfToken\r\n    \tat org.springframework.security.web.servlet.support.csrf.CsrfRequestDataValueProcessor.getExtraHiddenFields(CsrfRequestDataValueProcessor.java:66)\r\n    \tat org.springframework.web.servlet.tags.form.FormTag.doEndTag(FormTag.java:513)\r\n    \tat org.apache.jsp.WEB_002dINF.views.login_jsp._jspx_meth_form_005fform_005f0(login_jsp.java:261)\r\n    \tat org.apache.jsp.WEB_002dINF.views.login_jsp._jspService(login_jsp.java:167)\r\n    \tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:438)\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:396)\r\n    \tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:340)\r\n    \tat com.google.appengine.tools.development.jetty9.PrivilegedJspServlet.access$101(PrivilegedJspServlet.java:21)\r\n    \tat com.google.appengine.tools.development.jetty9.PrivilegedJspServlet$2.run(PrivilegedJspServlet.java:75)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.google.appengine.tools.development.jetty9.PrivilegedJspServlet.service(PrivilegedJspServlet.java:71)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)\r\n    \tat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:63)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat com.google.appengine.tools.development.DevAppServerModulesFilter.doRedirectedModuleRequest(DevAppServerModulesFilter.java:415)\r\n    \tat com.google.appengine.tools.development.DevAppServerModulesFilter.doFilter(DevAppServerModulesFilter.java:128)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat com.google.appengine.tools.development.DevAppServerRequestLogFilter.doFilter(DevAppServerRequestLogFilter.java:44)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\r\n    \tat com.google.appengine.tools.development.jetty9.DevAppEngineWebAppContext.doScope(DevAppEngineWebAppContext.java:94)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n    \tat org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:199)\r\n    \tat org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:74)\r\n    \tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:168)\r\n    \tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1257)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1037)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)\r\n    \tat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:63)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat com.google.appengine.tools.development.DevAppServerModulesFilter.doRedirectedModuleRequest(DevAppServerModulesFilter.java:415)\r\n    \tat com.google.appengine.tools.development.DevAppServerModulesFilter.doFilter(DevAppServerModulesFilter.java:128)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat com.google.appengine.tools.development.DevAppServerRequestLogFilter.doFilter(DevAppServerRequestLogFilter.java:44)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\r\n    \tat com.google.appengine.tools.development.jetty9.DevAppEngineWebAppContext.doScope(DevAppEngineWebAppContext.java:94)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n    \tat org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:199)\r\n    \tat org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:74)\r\n    \tat com.google.appengine.tools.development.jetty9.JettyContainerService.forwardToServer(JettyContainerService.java:532)\r\n    \tat com.google.appengine.tools.development.Modules.forwardToInstance(Modules.java:372)\r\n    \tat com.google.appengine.tools.development.DelegatingModulesFilterHelper.forwardToInstance(DelegatingModulesFilterHelper.java:95)\r\n    \tat com.google.appengine.tools.development.DevAppServerModulesFilter.doRedirect(DevAppServerModulesFilter.java:326)\r\n    \tat com.google.appengine.tools.development.DevAppServerModulesFilter.doFilter(DevAppServerModulesFilter.java:119)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat com.google.appengine.tools.development.DevAppServerRequestLogFilter.doFilter(DevAppServerRequestLogFilter.java:44)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat br.com.sulamerica.susis.mecsas.web.model.auth.MecSASAjaxTimeoutRedirectFilter.doFilter(MecSASAjaxTimeoutRedirectFilter.java:50)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.oauth.provider.filter.OAuthProviderProcessingFilter.doFilter(OAuthProviderProcessingFilter.java:182)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.oauth.provider.filter.OAuthProviderProcessingFilter.doFilter(OAuthProviderProcessingFilter.java:202)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.oauth.provider.filter.OAuthProviderProcessingFilter.doFilter(OAuthProviderProcessingFilter.java:202)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:150)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat br.com.sulamerica.susis.mecsas.web.model.auth.MecSASLoginConfigurationFilter.doFilter(MecSASLoginConfigurationFilter.java:30)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n    \tat br.com.sulamerica.susis.mecsas.web.filter.IgnoreWebAsyncManagerFilter.doFilter(IgnoreWebAsyncManagerFilter.java:48)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1751)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\r\n    \tat com.google.appengine.tools.development.jetty9.DevAppEngineWebAppContext.doScope(DevAppEngineWebAppContext.java:94)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\r\n    \tat com.google.appengine.tools.development.jetty9.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:597)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:534)\r\n    \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)\r\n    \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108)\r\n    \tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\r\n    \tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)\r\n    \tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)\r\n    \tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n","title":"LazyCsrfTokenRepository$SaveOnAccessCsrfToken cannot be cast to CsrfToken","body":"<p>I'm trying to do a migration from an application with spring 3.2 and Java 7 to spring 4.x and Java 8, but I'm having a ClassCastException problem.</p>\n<p>These are the versions defined in my pom.xml</p>\n<pre><code>spring: 4.3.4\nspring-security: 4.2.7\nspring-security-oauth: 1.0.0\n</code></pre>\n<p>Did already someone have this problem and know which is the incompatibility?</p>\n<p>Sorry for my bad English. Feel free to correct its.</p>\n<p>This is the stack trace of the error.</p>\n<pre><code>java.lang.ClassCastException: org.springframework.security.web.csrf.LazyCsrfTokenRepository$SaveOnAccessCsrfToken cannot be cast to org.springframework.security.web.csrf.CsrfToken\n    at org.springframework.security.web.servlet.support.csrf.CsrfRequestDataValueProcessor.getExtraHiddenFields(CsrfRequestDataValueProcessor.java:66)\n    at org.springframework.web.servlet.tags.form.FormTag.doEndTag(FormTag.java:513)\n    at org.apache.jsp.WEB_002dINF.views.login_jsp._jspx_meth_form_005fform_005f0(login_jsp.java:261)\n    at org.apache.jsp.WEB_002dINF.views.login_jsp._jspService(login_jsp.java:167)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:438)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:396)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:340)\n    at com.google.appengine.tools.development.jetty9.PrivilegedJspServlet.access$101(PrivilegedJspServlet.java:21)\n    at com.google.appengine.tools.development.jetty9.PrivilegedJspServlet$2.run(PrivilegedJspServlet.java:75)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.google.appengine.tools.development.jetty9.PrivilegedJspServlet.service(PrivilegedJspServlet.java:71)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:63)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at com.google.appengine.tools.development.DevAppServerModulesFilter.doRedirectedModuleRequest(DevAppServerModulesFilter.java:415)\n    at com.google.appengine.tools.development.DevAppServerModulesFilter.doFilter(DevAppServerModulesFilter.java:128)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at com.google.appengine.tools.development.DevAppServerRequestLogFilter.doFilter(DevAppServerRequestLogFilter.java:44)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\n    at com.google.appengine.tools.development.jetty9.DevAppEngineWebAppContext.doScope(DevAppEngineWebAppContext.java:94)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:199)\n    at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:74)\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:168)\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1257)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1037)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:63)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at com.google.appengine.tools.development.DevAppServerModulesFilter.doRedirectedModuleRequest(DevAppServerModulesFilter.java:415)\n    at com.google.appengine.tools.development.DevAppServerModulesFilter.doFilter(DevAppServerModulesFilter.java:128)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at com.google.appengine.tools.development.DevAppServerRequestLogFilter.doFilter(DevAppServerRequestLogFilter.java:44)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\n    at com.google.appengine.tools.development.jetty9.DevAppEngineWebAppContext.doScope(DevAppEngineWebAppContext.java:94)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:199)\n    at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:74)\n    at com.google.appengine.tools.development.jetty9.JettyContainerService.forwardToServer(JettyContainerService.java:532)\n    at com.google.appengine.tools.development.Modules.forwardToInstance(Modules.java:372)\n    at com.google.appengine.tools.development.DelegatingModulesFilterHelper.forwardToInstance(DelegatingModulesFilterHelper.java:95)\n    at com.google.appengine.tools.development.DevAppServerModulesFilter.doRedirect(DevAppServerModulesFilter.java:326)\n    at com.google.appengine.tools.development.DevAppServerModulesFilter.doFilter(DevAppServerModulesFilter.java:119)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at com.google.appengine.tools.development.DevAppServerRequestLogFilter.doFilter(DevAppServerRequestLogFilter.java:44)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at br.com.sulamerica.susis.mecsas.web.model.auth.MecSASAjaxTimeoutRedirectFilter.doFilter(MecSASAjaxTimeoutRedirectFilter.java:50)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.oauth.provider.filter.OAuthProviderProcessingFilter.doFilter(OAuthProviderProcessingFilter.java:182)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.oauth.provider.filter.OAuthProviderProcessingFilter.doFilter(OAuthProviderProcessingFilter.java:202)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.oauth.provider.filter.OAuthProviderProcessingFilter.doFilter(OAuthProviderProcessingFilter.java:202)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:150)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at br.com.sulamerica.susis.mecsas.web.model.auth.MecSASLoginConfigurationFilter.doFilter(MecSASLoginConfigurationFilter.java:30)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at br.com.sulamerica.susis.mecsas.web.filter.IgnoreWebAsyncManagerFilter.doFilter(IgnoreWebAsyncManagerFilter.java:48)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1751)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\n    at com.google.appengine.tools.development.jetty9.DevAppEngineWebAppContext.doScope(DevAppEngineWebAppContext.java:94)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at com.google.appengine.tools.development.jetty9.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:597)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at org.eclipse.jetty.server.Server.handle(Server.java:534)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108)\n    at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","android","locationmanager"],"answers":[{"tags":[],"owner":{"account_id":5139201,"reputation":8756,"user_id":4117097,"display_name":"Anton Malyshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654006905,"creation_date":1643225269,"answer_id":70869167,"question_id":70792044,"body_markdown":"The problem happened because of the implicit intent for the broadcast receiver, which is prohibited for the app targeting Android 8+ (SDK version 26):\r\nhttps://developer.android.com/about/versions/oreo/background#broadcasts\r\n\r\nAfter changing the \r\n    \r\n    final Intent intent = new Intent(ACTION_FILTER);\r\n\r\nto\r\n\r\n    final Intent intent = new Intent(mApplicationContext, ProximityAlertBroadcastReceiver.class);\r\n\r\nI started to receive the broadcasts.\r\n\r\n\r\n**UPDATE:** There&#39;s a bug in recent Android versions (11, 12, maybe others) which makes Geofences unresponsive on some devices and completely non-working on other devices if no app is actively requesting location at the moment:\r\nhttps://issuetracker.google.com/issues/218335535\r\n\r\n`addProximityAlert` creates a geofence under the hood, so it&#39;s affected too.","title":"Android 11 - LocationManager.addProximityAlert does not trigger alerts","body":"<p>The problem happened because of the implicit intent for the broadcast receiver, which is prohibited for the app targeting Android 8+ (SDK version 26):\n<a href=\"https://developer.android.com/about/versions/oreo/background#broadcasts\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/oreo/background#broadcasts</a></p>\n<p>After changing the</p>\n<pre><code>final Intent intent = new Intent(ACTION_FILTER);\n</code></pre>\n<p>to</p>\n<pre><code>final Intent intent = new Intent(mApplicationContext, ProximityAlertBroadcastReceiver.class);\n</code></pre>\n<p>I started to receive the broadcasts.</p>\n<p><strong>UPDATE:</strong> There's a bug in recent Android versions (11, 12, maybe others) which makes Geofences unresponsive on some devices and completely non-working on other devices if no app is actively requesting location at the moment:\n<a href=\"https://issuetracker.google.com/issues/218335535\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/218335535</a></p>\n<p><code>addProximityAlert</code> creates a geofence under the hood, so it's affected too.</p>\n"}],"owner":{"account_id":5139201,"reputation":8756,"user_id":4117097,"display_name":"Anton Malyshev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70869167,"answer_count":1,"score":2,"last_activity_date":1654006905,"creation_date":1642705557,"question_id":70792044,"body_markdown":"The `addProximityAlert` call stopped triggering alerts on Android 11 devices.\r\n\r\nI call the `addProximityAlert` for the special locations (calculated for the user location) from the `Application.onCreate` method or whenever the ACCESS_FINE_LOCATION permission is granted using the following code:\r\n\r\n        mLocationManager = (LocationManager) mApplicationContext.getSystemService(Context.LOCATION_SERVICE);\r\n        if (mLocationManager != null) {\r\n            final Criteria criteria = new Criteria();\r\n            //criteria.setAccuracy(Criteria.ACCURACY_COARSE);\r\n            criteria.setAccuracy(Criteria.ACCURACY_FINE);\r\n            String provider = mLocationManager.getBestProvider(criteria, true);\r\n            if (!TextUtils.isEmpty(provider)) {\r\n                mLocationUpdatelistener = new LocationListener() {\r\n                    @Override\r\n                    public void onLocationChanged(Location location) {\r\n                        subscribeForProximityAlert(location);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onStatusChanged(String provider, int status, Bundle extras) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void onProviderEnabled(String provider) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void onProviderDisabled(String provider) {\r\n                    }\r\n                };\r\n                final Location lastKnownLocation = mLocationManager.getLastKnownLocation(provider);\r\n                if (lastKnownLocation == null) {\r\n                    try {\r\n                        mLocationManager.requestSingleUpdate(criteria, mLocationUpdatelistener, Looper.getMainLooper());\r\n                    } catch (Throwable e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } else {\r\n                    subscribeForProximityAlert(lastKnownLocation);\r\n                }\r\n            }\r\n        }\r\n\r\nThe `subscribeForProximityAlert` function is as follows (it is called actually after the successful single location update - I&#39;ve checked that):\r\n\r\n                    void subscribeForProximityAlert(Location location) {\r\n                        String id;\r\n                        double lat;\r\n                        double lng;\r\n                        long radius;\r\n                        // ... compute the params above using the location\r\n\r\n                        final Intent intent = new Intent(ACTION_FILTER);\r\n                        intent.putExtra(&quot;_id&quot;, id);\r\n                        intent.putExtra(&quot;_lat&quot;, lat);\r\n                        intent.putExtra(&quot;_lng&quot;, lng);\r\n                        intent.putExtra(&quot;_rad&quot;, radius);\r\n\r\n                        final PendingIntent pendingIntent = PendingIntent.getBroadcast(mApplicationContext, i, intent, 0);\r\n                        mPendingIntents.add(pendingIntent);\r\n\r\n                        mLocationManager.addProximityAlert(\r\n                                lat,\r\n                                lng,\r\n                                (float) radius,\r\n                                24 * 60 * 60 * 1000,\r\n                                pendingIntent\r\n                        );\r\n                    }\r\n\r\nThe `ACTION_FILTER` is the `com.example.appname.ProximityAlert` exactly the value I use in manifest to subscribe for the Proximity Alert broadcasts (`com.example.appname` is the package name of the app):\r\n\r\n    &lt;application&gt;\r\n\r\n        &lt;receiver android:name=&quot;com.example.appname.ProximityAlertBroadcastReceiver&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.example.appname.ProximityAlert&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\nThe `ProximityAlertBroadcastReceiver` can be as simple as:\r\n\r\n    public class ProximityAlertBroadcastReceiver extends BroadcastReceiver {\r\n\r\n        public ProximityAlertBroadcastReceiver() {\r\n        }\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n        }\r\n    }\r\nits `onReceive` method is never called on Android 11 devices (checked with `Lod.d` and `Toast.makeText...show()` calls). Not when the app is running, not when it&#39;s in background. Not when I&#39;m already in the radius of specified point, not when I&#39;m entering/exiting.\r\n\r\nTried to add the `android.permission.ACCESS_BACKGROUND_LOCATION` permission to the manifest (nothing about it in the `LocationManager.addProximityAlerts` docs anyway) and grant the permission in system settings for the app, but it didn&#39;t help.\r\n\r\nAlso tried to reduce the targetSdkVersion from 30 to 28, but it didn&#39;t help.","title":"Android 11 - LocationManager.addProximityAlert does not trigger alerts","body":"<p>The <code>addProximityAlert</code> call stopped triggering alerts on Android 11 devices.</p>\n<p>I call the <code>addProximityAlert</code> for the special locations (calculated for the user location) from the <code>Application.onCreate</code> method or whenever the ACCESS_FINE_LOCATION permission is granted using the following code:</p>\n<pre><code>    mLocationManager = (LocationManager) mApplicationContext.getSystemService(Context.LOCATION_SERVICE);\n    if (mLocationManager != null) {\n        final Criteria criteria = new Criteria();\n        //criteria.setAccuracy(Criteria.ACCURACY_COARSE);\n        criteria.setAccuracy(Criteria.ACCURACY_FINE);\n        String provider = mLocationManager.getBestProvider(criteria, true);\n        if (!TextUtils.isEmpty(provider)) {\n            mLocationUpdatelistener = new LocationListener() {\n                @Override\n                public void onLocationChanged(Location location) {\n                    subscribeForProximityAlert(location);\n                }\n\n                @Override\n                public void onStatusChanged(String provider, int status, Bundle extras) {\n                }\n\n                @Override\n                public void onProviderEnabled(String provider) {\n                }\n\n                @Override\n                public void onProviderDisabled(String provider) {\n                }\n            };\n            final Location lastKnownLocation = mLocationManager.getLastKnownLocation(provider);\n            if (lastKnownLocation == null) {\n                try {\n                    mLocationManager.requestSingleUpdate(criteria, mLocationUpdatelistener, Looper.getMainLooper());\n                } catch (Throwable e) {\n                    e.printStackTrace();\n                }\n            } else {\n                subscribeForProximityAlert(lastKnownLocation);\n            }\n        }\n    }\n</code></pre>\n<p>The <code>subscribeForProximityAlert</code> function is as follows (it is called actually after the successful single location update - I've checked that):</p>\n<pre><code>                void subscribeForProximityAlert(Location location) {\n                    String id;\n                    double lat;\n                    double lng;\n                    long radius;\n                    // ... compute the params above using the location\n\n                    final Intent intent = new Intent(ACTION_FILTER);\n                    intent.putExtra(&quot;_id&quot;, id);\n                    intent.putExtra(&quot;_lat&quot;, lat);\n                    intent.putExtra(&quot;_lng&quot;, lng);\n                    intent.putExtra(&quot;_rad&quot;, radius);\n\n                    final PendingIntent pendingIntent = PendingIntent.getBroadcast(mApplicationContext, i, intent, 0);\n                    mPendingIntents.add(pendingIntent);\n\n                    mLocationManager.addProximityAlert(\n                            lat,\n                            lng,\n                            (float) radius,\n                            24 * 60 * 60 * 1000,\n                            pendingIntent\n                    );\n                }\n</code></pre>\n<p>The <code>ACTION_FILTER</code> is the <code>com.example.appname.ProximityAlert</code> exactly the value I use in manifest to subscribe for the Proximity Alert broadcasts (<code>com.example.appname</code> is the package name of the app):</p>\n<pre><code>&lt;application&gt;\n\n    &lt;receiver android:name=&quot;com.example.appname.ProximityAlertBroadcastReceiver&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.example.appname.ProximityAlert&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n&lt;/application&gt;\n</code></pre>\n<p>The <code>ProximityAlertBroadcastReceiver</code> can be as simple as:</p>\n<pre><code>public class ProximityAlertBroadcastReceiver extends BroadcastReceiver {\n\n    public ProximityAlertBroadcastReceiver() {\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n    }\n}\n</code></pre>\n<p>its <code>onReceive</code> method is never called on Android 11 devices (checked with <code>Lod.d</code> and <code>Toast.makeText...show()</code> calls). Not when the app is running, not when it's in background. Not when I'm already in the radius of specified point, not when I'm entering/exiting.</p>\n<p>Tried to add the <code>android.permission.ACCESS_BACKGROUND_LOCATION</code> permission to the manifest (nothing about it in the <code>LocationManager.addProximityAlerts</code> docs anyway) and grant the permission in system settings for the app, but it didn't help.</p>\n<p>Also tried to reduce the targetSdkVersion from 30 to 28, but it didn't help.</p>\n"},{"tags":["java","typescript","aes"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1654006474,"post_id":72449196,"comment_id":127986104,"body_markdown":"Decrypting the Java result in the TS code (or viceversa) throws a wrong result?","body":"Decrypting the Java result in the TS code (or viceversa) throws a wrong result?"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1654006597,"post_id":72449196,"comment_id":127986176,"body_markdown":"I want to make the typescript encrypt content keep the same with the java, if not, the java could not decrypt the encrypt string from client. @JettoMart&#237;nez what should I do to make the encrypt keep the same with the same parameter?","body":"I want to make the typescript encrypt content keep the same with the java, if not, the java could not decrypt the encrypt string from client. @JettoMart&#237;nez what should I do to make the encrypt keep the same with the same parameter?"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1654006693,"post_id":72449196,"comment_id":127986217,"body_markdown":"I checked my code and found all the parameter keep the same but get the different result, that make me confusing, the typescript encrypt content must keep the same with the server side so that I could decrypt the content in server side. @JettoMart&#237;nez","body":"I checked my code and found all the parameter keep the same but get the different result, that make me confusing, the typescript encrypt content must keep the same with the server side so that I could decrypt the content in server side. @JettoMart&#237;nez"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1654006743,"post_id":72449196,"comment_id":127986247,"body_markdown":"The Java code uses the SHA256 value of 123 as key, while the JavaScript code directly applies 123 as key (the latter is an invalid AES key but accepted due to a CryptoJS bug).","body":"The Java code uses the SHA256 value of 123 as key, while the JavaScript code directly applies 123 as key (the latter is an invalid AES key but accepted due to a CryptoJS bug)."},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1654006840,"post_id":72449196,"comment_id":127986290,"body_markdown":"how to tweak my code to make the two function keep the same, I am thinking for a while but still no clue fo find out the solution.@Topaco","body":"how to tweak my code to make the two function keep the same, I am thinking for a while but still no clue fo find out the solution.@Topaco"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1654007271,"post_id":72449196,"comment_id":127986512,"body_markdown":"Replace `CryptoJS.enc.Utf8.parse(key)` with `CryptoJS.SHA256(key)`. Also, note that a digest as key derivation is insecure, better apply a proven key derivation function like PBKDF2. And also a static IV is insecure.","body":"Replace <code>CryptoJS.enc.Utf8.parse(key)</code> with <code>CryptoJS.SHA256(key)</code>. Also, note that a digest as key derivation is insecure, better apply a proven key derivation function like PBKDF2. And also a static IV is insecure."},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1654008310,"post_id":72449196,"comment_id":127987013,"body_markdown":"Thank you, the problem fixed by replace what you said. @Topaco","body":"Thank you, the problem fixed by replace what you said. @Topaco"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654006746,"creation_date":1654005611,"question_id":72449196,"body_markdown":"I am encrypt the same text `123` with AES256 using typescript and java, this is the typescript function:\r\n\r\n\r\n\r\n      const handleSubmit1 = () =&gt; {\r\n        const key = &#39;123&#39;\r\n        const iv = &#39;1234567812345678&#39;\r\n        const cipher = CryptoJS.AES.encrypt(&quot;123&quot;, CryptoJS.enc.Utf8.parse(key), {\r\n            iv: CryptoJS.enc.Utf8.parse(iv), \r\n            padding: CryptoJS.pad.Pkcs7,\r\n            mode: CryptoJS.mode.CBC\r\n        })\r\n        let result= cipher.toString()\r\n        // FgMtDtbBHk5MoEfIJLxmIw==\r\n        console.log(result)\r\n      }\r\n\r\n\r\n\r\nand this is the java function to do the same thing:\r\n\r\n\r\n    public static String encrypt() {\r\n            try {\r\n                MessageDigest sha = null;\r\n                byte[] bytes = &quot;1234567812345678&quot;.getBytes();\r\n                ivspec = new IvParameterSpec(bytes);\r\n                try {\r\n                    key = &quot;123&quot;.getBytes(&quot;UTF-8&quot;);\r\n                    sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n                    key = sha.digest(key);\r\n                    String s = new String(key);\r\n                    secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    e.printStackTrace();\r\n                } catch (UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, secretKey, ivspec);\r\n                return Base64.getEncoder().encodeToString(cipher.doFinal(&quot;123&quot;.getBytes(&quot;UTF-8&quot;)));\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n            }\r\n            return null;\r\n        }\r\n\r\n\r\n\r\nTo my surprise, the two function have different results, the java version return `wrmBgoJRATOqL5qKCsN/wA==` and the typescript version return `FgMtDtbBHk5MoEfIJLxmIw==`. why encrypt the same content with same key and iv have different results? Am I missing something? I have searched from internet and told me that `PKCS5Padding` and `PKCS7Padding` did not effect the result. what should I do to fix this and make the two language with the same action? I also tried to sha the key in typescript like this:\r\n\r\n\r\n\r\n \r\n\r\n    const handleSubmit1 = () =&gt; {\r\n        const key = &#39;123&#39;\r\n        const iv = &#39;1234567812345678&#39;\r\n        const SHA256 = CryptoJS.SHA256(key).toString();\r\n        const cipher = CryptoJS.AES.encrypt(&quot;123&quot;, CryptoJS.enc.Utf8.parse(SHA256), {\r\n            iv: CryptoJS.enc.Utf8.parse(iv), \r\n            padding: CryptoJS.pad.Pkcs7,\r\n            mode: CryptoJS.mode.CBC\r\n        })\r\n        let result= cipher.toString()\r\n        // FgMtDtbBHk5MoEfIJLxmIw==\r\n        console.log(result)\r\n      }\r\n\r\nstill could not make the results match. Any sugguestion is appreciated.","title":"what should I do to make the aes256 encrypt result keep the same with typescript and java","body":"<p>I am encrypt the same text <code>123</code> with AES256 using typescript and java, this is the typescript function:</p>\n<pre><code>  const handleSubmit1 = () =&gt; {\n    const key = '123'\n    const iv = '1234567812345678'\n    const cipher = CryptoJS.AES.encrypt(&quot;123&quot;, CryptoJS.enc.Utf8.parse(key), {\n        iv: CryptoJS.enc.Utf8.parse(iv), \n        padding: CryptoJS.pad.Pkcs7,\n        mode: CryptoJS.mode.CBC\n    })\n    let result= cipher.toString()\n    // FgMtDtbBHk5MoEfIJLxmIw==\n    console.log(result)\n  }\n</code></pre>\n<p>and this is the java function to do the same thing:</p>\n<pre><code>public static String encrypt() {\n        try {\n            MessageDigest sha = null;\n            byte[] bytes = &quot;1234567812345678&quot;.getBytes();\n            ivspec = new IvParameterSpec(bytes);\n            try {\n                key = &quot;123&quot;.getBytes(&quot;UTF-8&quot;);\n                sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n                key = sha.digest(key);\n                String s = new String(key);\n                secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n            } catch (NoSuchAlgorithmException e) {\n                e.printStackTrace();\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, ivspec);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(&quot;123&quot;.getBytes(&quot;UTF-8&quot;)));\n        } catch (Exception e) {\n            System.out.println(&quot;Error while encrypting: &quot; + e.toString());\n        }\n        return null;\n    }\n</code></pre>\n<p>To my surprise, the two function have different results, the java version return <code>wrmBgoJRATOqL5qKCsN/wA==</code> and the typescript version return <code>FgMtDtbBHk5MoEfIJLxmIw==</code>. why encrypt the same content with same key and iv have different results? Am I missing something? I have searched from internet and told me that <code>PKCS5Padding</code> and <code>PKCS7Padding</code> did not effect the result. what should I do to fix this and make the two language with the same action? I also tried to sha the key in typescript like this:</p>\n<pre><code>const handleSubmit1 = () =&gt; {\n    const key = '123'\n    const iv = '1234567812345678'\n    const SHA256 = CryptoJS.SHA256(key).toString();\n    const cipher = CryptoJS.AES.encrypt(&quot;123&quot;, CryptoJS.enc.Utf8.parse(SHA256), {\n        iv: CryptoJS.enc.Utf8.parse(iv), \n        padding: CryptoJS.pad.Pkcs7,\n        mode: CryptoJS.mode.CBC\n    })\n    let result= cipher.toString()\n    // FgMtDtbBHk5MoEfIJLxmIw==\n    console.log(result)\n  }\n</code></pre>\n<p>still could not make the results match. Any sugguestion is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","date","json-deserialization"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654005976,"post_id":72448949,"comment_id":127985871,"body_markdown":"You should show your `DATE_FORMAT_EXCEPTION` class, and note that `Exception` is only a subset of `Throwable` (which _would_ describe anything that could be thrown, including errors). Lastly, note that `Throwable` objects accept another `Throwable` in their constructor, which would allow for &quot;nested exceptions&quot;. These would print the first exception (the &quot;wrapper&quot;), followed by a &quot;Caused by: &quot; line (the &quot;wrapped&quot; exception).","body":"You should show your <code>DATE_FORMAT_EXCEPTION</code> class, and note that <code>Exception</code> is only a subset of <code>Throwable</code> (which <i>would</i> describe anything that could be thrown, including errors). Lastly, note that <code>Throwable</code> objects accept another <code>Throwable</code> in their constructor, which would allow for &quot;nested exceptions&quot;. These would print the first exception (the &quot;wrapper&quot;), followed by a &quot;Caused by: &quot; line (the &quot;wrapped&quot; exception)."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654006478,"post_id":72448949,"comment_id":127986108,"body_markdown":"@Rogue `DATE_FORMAT_EXCEPTION class` i added the class. Thanks for guide","body":"@Rogue <code>DATE_FORMAT_EXCEPTION class</code> i added the class. Thanks for guide"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654018533,"post_id":72448949,"comment_id":127990799,"body_markdown":"fix https://stackoverflow.com/questions/58525409/how-to-unwrap-custom-runtimeexception-from-json-mapping-exception the last part about @ControllerAdvice","body":"fix <a href=\"https://stackoverflow.com/questions/58525409/how-to-unwrap-custom-runtimeexception-from-json-mapping-exception\" title=\"how to unwrap custom runtimeexception from json mapping exception\">stackoverflow.com/questions/58525409/&hellip;</a> the last part about @ControllerAdvice"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654006707,"creation_date":1654004597,"question_id":72448949,"body_markdown":"Implementaion: Im trying to show the customize exception `DATE_FORMAT_EXCEPTION` with a message of `Date format is wrong` if error. But even i input a wrong format the customize exception wont show but there is error `400 Bad Request` and i use `Exception` which catch all the error.\r\n\r\n```\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\n\r\nimport java.time.ZoneId;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Date;\r\n\r\n\r\nimport com.cartgatewayservice.RestModelException.DATE_FORMAT_EXCEPTION;\r\nimport com.fasterxml.jackson.core.JacksonException;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\n\r\npublic class DateDeserializer extends JsonDeserializer&lt;Date&gt; {\r\n\r\n\t@Override\r\n\tpublic Date deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\r\n\t\t\r\n\t\tDateTimeFormatter localDateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\t\t\r\n        String dateValue = p.getValueAsString();\r\n        \r\n\r\n        try {\r\n        \t\r\n        \t  LocalDate localDate = LocalDate.parse(dateValue, localDateFormatter);\r\n              return convertToDateViaInstant(localDate);\r\n          \r\n        } catch (Exception e) {\r\n        \t  throw new DATE_FORMAT_EXCEPTION(&quot;Date format is wrong&quot;);\r\n        }\r\n\t\r\n\t}\r\n\t\r\n\t  public Date convertToDateViaInstant(LocalDate dateToConvert) {\r\n\t        return Date.from(dateToConvert.atStartOfDay()\r\n\t                .atZone(ZoneId.systemDefault())\r\n\t                .toInstant());\r\n\t    }\r\n\t\r\n\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n```\r\n\r\n\r\nimport java.util.Date;\r\n\r\nimport com.cartgatewayservice.BodyConvertParameters.DateDeserializer;\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.annotation.OptBoolean;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Builder\r\npublic class ProductEntity {\r\n\t\r\n\r\n  \r\n    \r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING, lenient = OptBoolean.FALSE)\r\n   @JsonDeserialize(using = DateDeserializer.class)\r\n    private Date productexpirationdate;\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class DATE_FORMAT_EXCEPTION extends RuntimeException  {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tpublic DATE_FORMAT_EXCEPTION(String message) {\r\n\t\tsuper(message);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\n@ControllerAdvice\r\npublic class RestAdviceException extends ResponseEntityExceptionHandler {\r\n\r\n\r\n\t@ExceptionHandler(DATE_FORMAT_EXCEPTION.class)\r\n\tpublic ResponseEntity&lt;Object&gt;  handleFormatDateEntity(DATE_FORMAT_EXCEPTION ex, WebRequest request) {\r\n\t\treturn new ResponseEntity&lt;Object&gt;(new ERROR_DETAILS_EXCEPTION(ex.getMessage(), HttpStatus.BAD_REQUEST, LocalDateTime.now()),HttpStatus.NOT_FOUND);\r\n\t\t\r\n\t..........\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How to catch customize exeception in Date JsonDeserializer?","body":"<p>Implementaion: Im trying to show the customize exception <code>DATE_FORMAT_EXCEPTION</code> with a message of <code>Date format is wrong</code> if error. But even i input a wrong format the customize exception wont show but there is error <code>400 Bad Request</code> and i use <code>Exception</code> which catch all the error.</p>\n<pre><code>\n\nimport java.io.IOException;\nimport java.time.LocalDate;\n\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Date;\n\n\nimport com.cartgatewayservice.RestModelException.DATE_FORMAT_EXCEPTION;\nimport com.fasterxml.jackson.core.JacksonException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\n\npublic class DateDeserializer extends JsonDeserializer&lt;Date&gt; {\n\n    @Override\n    public Date deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\n        \n        DateTimeFormatter localDateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n        \n        String dateValue = p.getValueAsString();\n        \n\n        try {\n            \n              LocalDate localDate = LocalDate.parse(dateValue, localDateFormatter);\n              return convertToDateViaInstant(localDate);\n          \n        } catch (Exception e) {\n              throw new DATE_FORMAT_EXCEPTION(&quot;Date format is wrong&quot;);\n        }\n    \n    }\n    \n      public Date convertToDateViaInstant(LocalDate dateToConvert) {\n            return Date.from(dateToConvert.atStartOfDay()\n                    .atZone(ZoneId.systemDefault())\n                    .toInstant());\n        }\n    \n\n\n}\n\n\n\n</code></pre>\n<pre><code>\n\nimport java.util.Date;\n\nimport com.cartgatewayservice.BodyConvertParameters.DateDeserializer;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.OptBoolean;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Builder\npublic class ProductEntity {\n    \n\n  \n    \n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING, lenient = OptBoolean.FALSE)\n   @JsonDeserialize(using = DateDeserializer.class)\n    private Date productexpirationdate;\n\n}\n\n</code></pre>\n<pre><code>public class DATE_FORMAT_EXCEPTION extends RuntimeException  {\n\n    private static final long serialVersionUID = 1L;\n    \n    public DATE_FORMAT_EXCEPTION(String message) {\n        super(message);\n    }\n}\n\n</code></pre>\n<pre><code>@ControllerAdvice\npublic class RestAdviceException extends ResponseEntityExceptionHandler {\n\n\n    @ExceptionHandler(DATE_FORMAT_EXCEPTION.class)\n    public ResponseEntity&lt;Object&gt;  handleFormatDateEntity(DATE_FORMAT_EXCEPTION ex, WebRequest request) {\n        return new ResponseEntity&lt;Object&gt;(new ERROR_DETAILS_EXCEPTION(ex.getMessage(), HttpStatus.BAD_REQUEST, LocalDateTime.now()),HttpStatus.NOT_FOUND);\n        \n    ..........\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24027122,"reputation":1,"user_id":18008605,"display_name":"Aaditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654005840,"creation_date":1654005840,"answer_id":72449259,"question_id":72448793,"body_markdown":"You cannot store new and previous data in a single child in firebase, as it overwrites the previous data.\r\nStill you can create a child under its parent and update them.","title":"I want to store previous data and the new data in the same child using realtime database in android studio","body":"<p>You cannot store new and previous data in a single child in firebase, as it overwrites the previous data.\nStill you can create a child under its parent and update them.</p>\n"},{"tags":[],"owner":{"account_id":3495695,"reputation":76,"user_id":4200546,"display_name":"farid anwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654006305,"creation_date":1654006305,"answer_id":72449401,"question_id":72448793,"body_markdown":"In case you mean you don&#39;t want to overwrite data: \r\n\r\n    databaseRef.child(&quot;categories&quot;).push().setValue(category) \r\n\r\nusing push() will always generate new key and then adds the your data to &quot;categories&quot;\r\n\r\nwhile: \r\n    \r\n    databaseRef.child(&quot;categories&quot;).setValue(category)\r\n\r\nwill always overwrite it ..\r\n\r\nHope this helps .. more about how to write to realtime-database [here][1] \r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/android/read-and-write#basic_write","title":"I want to store previous data and the new data in the same child using realtime database in android studio","body":"<p>In case you mean you don't want to overwrite data:</p>\n<pre><code>databaseRef.child(&quot;categories&quot;).push().setValue(category) \n</code></pre>\n<p>using push() will always generate new key and then adds the your data to &quot;categories&quot;</p>\n<p>while:</p>\n<pre><code>databaseRef.child(&quot;categories&quot;).setValue(category)\n</code></pre>\n<p>will always overwrite it ..</p>\n<p>Hope this helps .. more about how to write to realtime-database <a href=\"https://firebase.google.com/docs/database/android/read-and-write#basic_write\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user16282322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72449401,"answer_count":2,"score":1,"last_activity_date":1654006305,"creation_date":1654004075,"question_id":72448793,"body_markdown":"I want to store previous data and the new data in the same child using realtime database  in android studio but it store only the new data and deleting the previous data","title":"I want to store previous data and the new data in the same child using realtime database in android studio","body":"<p>I want to store previous data and the new data in the same child using realtime database  in android studio but it store only the new data and deleting the previous data</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1296743306,"post_id":4886293,"comment_id":5436551,"body_markdown":"is &quot;someMachine&quot; closing the socket after sending the last byte? is it waiting for some reply/acknowledge to do so?","body":"is &quot;someMachine&quot; closing the socket after sending the last byte? is it waiting for some reply/acknowledge to do so?"},{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":1,"creation_date":1296744761,"post_id":4886293,"comment_id":5436940,"body_markdown":"possible duplicate of [Java deadlock problem....](http://stackoverflow.com/questions/2797087/java-deadlock-problem)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2797087/java-deadlock-problem\">Java deadlock problem....</a>"},{"owner":{"account_id":379574,"reputation":12030,"user_id":733034,"accept_rate":57,"display_name":"HaoQi Li"},"score":0,"creation_date":1327698553,"post_id":4886293,"comment_id":11340212,"body_markdown":"fixed in my case when I added, at the end of the server side, `socket.close()` or `socket.shutdownOutput()`","body":"fixed in my case when I added, at the end of the server side, <code>socket.close()</code> or <code>socket.shutdownOutput()</code>"}],"answers":[{"tags":[],"owner":{"account_id":688250,"reputation":503,"user_id":545255,"accept_rate":70,"display_name":"clbcabral"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1296737442,"creation_date":1296737442,"answer_id":4886359,"question_id":4886293,"body_markdown":"Try:\r\n\r\n    while ((result = in.read()) != null) {\r\n\r\n","title":"Socket input stream hangs on final read. Best way to handle this?","body":"<p>Try:</p>\n\n<pre><code>while ((result = in.read()) != null) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1296738314,"creation_date":1296738314,"answer_id":4886499,"question_id":4886293,"body_markdown":"I think you will only get -1 when the server decides to stop the conversation, i.e. closes its output stream or closes the socket completely. Else, the stream stays open for potential future incoming data.","title":"Socket input stream hangs on final read. Best way to handle this?","body":"<p>I think you will only get -1 when the server decides to stop the conversation, i.e. closes its output stream or closes the socket completely. Else, the stream stays open for potential future incoming data.</p>\n"},{"tags":[],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1296741281,"creation_date":1296740050,"answer_id":4886747,"question_id":4886293,"body_markdown":"The problem with just stopping where read would hang is that this can happen in 2 cases:\r\n\r\n1: server doesn&#39;t have any more data to send\r\n\r\n2: The server has sent more data, but your client has not received it yet due to network overload.\r\n\r\nAnd you only want to really stop reading in the first case, but you want read to block in the second case.\r\n\r\nThe way to solve this is to make a transfer protocol(Standard) which allows the server to tell the client how much data it expects to send. \r\n\r\nIf the server knows the total data size in advance, simply start by sending the total number of bytes in the transfer, and then send the data. That way the client knows when it have received all data.  \r\n\r\n(Or the server can simply close the connection when done. That way `read` should fail, but this only work if you don&#39;t need the connection in the future)\r\n\r\n\r\n","title":"Socket input stream hangs on final read. Best way to handle this?","body":"<p>The problem with just stopping where read would hang is that this can happen in 2 cases:</p>\n\n<p>1: server doesn't have any more data to send</p>\n\n<p>2: The server has sent more data, but your client has not received it yet due to network overload.</p>\n\n<p>And you only want to really stop reading in the first case, but you want read to block in the second case.</p>\n\n<p>The way to solve this is to make a transfer protocol(Standard) which allows the server to tell the client how much data it expects to send. </p>\n\n<p>If the server knows the total data size in advance, simply start by sending the total number of bytes in the transfer, and then send the data. That way the client knows when it have received all data.  </p>\n\n<p>(Or the server can simply close the connection when done. That way <code>read</code> should fail, but this only work if you don't need the connection in the future)</p>\n"},{"tags":[],"owner":{"account_id":900651,"reputation":116,"user_id":936889,"display_name":"Norberto Bezi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337565887,"creation_date":1337565887,"answer_id":10678788,"question_id":4886293,"body_markdown":"I&#39;m not a Android expert, but this seems to work just fine on Android:\r\n\r\n    \ttry {\r\n\t\t\ttelnetClient = new Socket(server, port);\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n \r\n\t\tif (telnetClient.isConnected()) {\r\n\t\t\ttry {\r\n\t\t\t\tInputStream instr = telnetClient.getInputStream();\r\n\t            int buffSize = telnetClient.getReceiveBufferSize();\r\n\t            if (buffSize &gt; 0) {\r\n\t            \tbyte[] buff = new byte[buffSize];\r\n\t            \tint ret_read = instr.read(buff);\r\n\t            \tscreen.append(new String(buff, 0, ret_read));\r\n\t            }\r\n\t        } catch (IOException e) {\r\n\t        \tscreen.append(&quot;Exception while reading socket:&quot; + e.getMessage());\r\n\t        }\r\n\t\t}","title":"Socket input stream hangs on final read. Best way to handle this?","body":"<p>I'm not a Android expert, but this seems to work just fine on Android:</p>\n\n<pre><code>    try {\n        telnetClient = new Socket(server, port);\n    } catch (UnknownHostException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    if (telnetClient.isConnected()) {\n        try {\n            InputStream instr = telnetClient.getInputStream();\n            int buffSize = telnetClient.getReceiveBufferSize();\n            if (buffSize &gt; 0) {\n                byte[] buff = new byte[buffSize];\n                int ret_read = instr.read(buff);\n                screen.append(new String(buff, 0, ret_read));\n            }\n        } catch (IOException e) {\n            screen.append(\"Exception while reading socket:\" + e.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1773418,"reputation":18513,"user_id":1617737,"accept_rate":53,"display_name":"ban-geoengineering"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355241672,"creation_date":1355241672,"answer_id":13823740,"question_id":4886293,"body_markdown":"I&#39;ve just had this exact same problem. I solved it by setting a timeout straight after creating the socket object...\r\n    socket.setSoTimeout(10 * 1000);\r\n","title":"Socket input stream hangs on final read. Best way to handle this?","body":"<p>I've just had this exact same problem. I solved it by setting a timeout straight after creating the socket object...\n    socket.setSoTimeout(10 * 1000);</p>\n"},{"tags":[],"owner":{"account_id":4560710,"reputation":399,"user_id":3703130,"display_name":"premganz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507545628,"creation_date":1507545628,"answer_id":46644504,"question_id":4886293,"body_markdown":"I found this problem to be pretty formidable. I was trying to execute a windows batch command from java and the process hangs every time trying to read the inputstream from the command getting executed. \r\n\r\nI could only fix this inelegantly. \r\n\r\n \r\n\r\n a) By looking for a specific line which I know would signal the end\r\n       useful information form the stream.  \r\nb) Or to start a new Thread that\r\n       kills the process at the other end of the socket, in this case for\r\n       me IEDriverServer.exe after a wait time.\r\n\r\n    String[] cmdArray = {&quot;cmd.exe&quot;,&quot;/c&quot;,cmd+ &quot; 2&gt;&amp;1&quot; };\r\n        InputStream is = new ProcessBuilder(cmdArray).directory(f).start().getInputStream();\r\n    \t\r\n    \t\terror_buffer = new BufferedReader(new InputStreamReader(is));\r\n    \t\tint lines=0;\r\n    \t\t\r\n    \t\twhile((line=error_buffer.readLine())!=null){\r\n    \t\t\tif(line.startsWith(&quot;[INFO] Final Memory: &quot;)) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \t\t\tlog.debug(&quot;Reading cmd Stream &quot;+line);\r\n    \t\t\tbuf.append(line);\r\n    \t\t\tlines++;\r\n    \t\t}\r\n\r\n","title":"Socket input stream hangs on final read. Best way to handle this?","body":"<p>I found this problem to be pretty formidable. I was trying to execute a windows batch command from java and the process hangs every time trying to read the inputstream from the command getting executed. </p>\n\n<p>I could only fix this inelegantly. </p>\n\n<p>a) By looking for a specific line which I know would signal the end\n       useful information form the stream.<br>\nb) Or to start a new Thread that\n       kills the process at the other end of the socket, in this case for\n       me IEDriverServer.exe after a wait time.</p>\n\n<pre><code>String[] cmdArray = {\"cmd.exe\",\"/c\",cmd+ \" 2&gt;&amp;1\" };\n    InputStream is = new ProcessBuilder(cmdArray).directory(f).start().getInputStream();\n\n        error_buffer = new BufferedReader(new InputStreamReader(is));\n        int lines=0;\n\n        while((line=error_buffer.readLine())!=null){\n            if(line.startsWith(\"[INFO] Final Memory: \")) {\n                break;\n            }\n\n            log.debug(\"Reading cmd Stream \"+line);\n            buf.append(line);\n            lines++;\n        }\n</code></pre>\n"}],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30776,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4886747,"answer_count":6,"score":17,"last_activity_date":1654006223,"creation_date":1296736994,"question_id":4886293,"body_markdown":"I&#39;m a bit stumped on how to avoid my socket hanging on read.  Here&#39;s my code:\r\n\r\n        Socket socket = new Socket(&quot;someMachine&quot;, 16003);\r\n\t\tOutputStream outputStream = socket.getOutputStream();\r\n\t\tInputStream inputStream = socket.getInputStream();\r\n\t\ttry {\r\n\t\t\toutputStream.write(messageBuffer.toByteArray());\r\n\t\t\toutputStream.flush();\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(inputStream));\r\n\t\t\tStringBuffer response = new StringBuffer();\r\n\t\t\tint result;\r\n\t\t\twhile ((result = in.read()) != -1) {\r\n\t\t\t\tresponse.append(Character.toChars(result));\r\n\t\t\t\tSystem.out.println(result);\r\n\t\t\t}\r\n            System.out.println(&quot;Done!&quot;);  //never gets printed\r\n         } catch (...) {}\r\n\r\nThe above code successfully reads all the data from the stream but then hangs.  Reading up on the net I was expecting to receive a -1 from the server (which I can&#39;t control) to indicate that I had reached the end of stream but instead I get this:\r\n\r\n    (Lots of data above this point)\r\n    57\r\n    10\r\n    37\r\n    37\r\n    69\r\n    79\r\n    70\r\n    10\r\n\r\nIt then hangs.  So, my questions are:\r\n\r\n1) Have I coded this wrong or is there an issue with the server&#39;s response?\r\n\r\n2) If there is an issue with the server&#39;s response (i.e. no -1 being returned), how can I work around this (i.e. to stop reading when it hangs).\r\n\r\nAny help appreciated!","title":"Socket input stream hangs on final read. Best way to handle this?","body":"<p>I'm a bit stumped on how to avoid my socket hanging on read.  Here's my code:</p>\n\n<pre><code>    Socket socket = new Socket(\"someMachine\", 16003);\n    OutputStream outputStream = socket.getOutputStream();\n    InputStream inputStream = socket.getInputStream();\n    try {\n        outputStream.write(messageBuffer.toByteArray());\n        outputStream.flush();\n        BufferedReader in = new BufferedReader(new InputStreamReader(inputStream));\n        StringBuffer response = new StringBuffer();\n        int result;\n        while ((result = in.read()) != -1) {\n            response.append(Character.toChars(result));\n            System.out.println(result);\n        }\n        System.out.println(\"Done!\");  //never gets printed\n     } catch (...) {}\n</code></pre>\n\n<p>The above code successfully reads all the data from the stream but then hangs.  Reading up on the net I was expecting to receive a -1 from the server (which I can't control) to indicate that I had reached the end of stream but instead I get this:</p>\n\n<pre><code>(Lots of data above this point)\n57\n10\n37\n37\n69\n79\n70\n10\n</code></pre>\n\n<p>It then hangs.  So, my questions are:</p>\n\n<p>1) Have I coded this wrong or is there an issue with the server's response?</p>\n\n<p>2) If there is an issue with the server's response (i.e. no -1 being returned), how can I work around this (i.e. to stop reading when it hangs).</p>\n\n<p>Any help appreciated!</p>\n"},{"tags":["java","android","kotlin","android-viewpager","android-viewpager2"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624911429,"creation_date":1624911429,"answer_id":68169536,"question_id":68142916,"body_markdown":"You need to reverse a couple of things:\r\n- The condition from `if (position &lt; 0F)` to `if (position &gt; 0F)`\r\n- The rotation in Y direction from `45F` to `-45F`\r\n\r\n```\r\nclass CubeOutTransformerRTL : ViewPager2.PageTransformer {\r\n    override fun transformPage(page: View, position: Float) {\r\n        val deltaY = 0.5F\r\n\r\n        page.pivotX = if (position &gt; 0F) page.width.toFloat() else 0F\r\n        page.pivotY = page.height * deltaY\r\n        page.rotationY = -45F * position\r\n\r\n    }\r\n}\r\n```\r\n\r\nPreview:\r\n\r\n![](https://media.giphy.com/media/tBlN2C6v7ZUzmidcrO/giphy.gif)","title":"How to achieve cube effect in view pager in RTL mode?","body":"<p>You need to reverse a couple of things:</p>\n<ul>\n<li>The condition from <code>if (position &lt; 0F)</code> to <code>if (position &gt; 0F)</code></li>\n<li>The rotation in Y direction from <code>45F</code> to <code>-45F</code></li>\n</ul>\n<pre><code>class CubeOutTransformerRTL : ViewPager2.PageTransformer {\n    override fun transformPage(page: View, position: Float) {\n        val deltaY = 0.5F\n\n        page.pivotX = if (position &gt; 0F) page.width.toFloat() else 0F\n        page.pivotY = page.height * deltaY\n        page.rotationY = -45F * position\n\n    }\n}\n</code></pre>\n<p>Preview:</p>\n<p><img src=\"https://media.giphy.com/media/tBlN2C6v7ZUzmidcrO/giphy.gif\" alt=\"\" /></p>\n"}],"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68169536,"answer_count":1,"score":1,"last_activity_date":1654006101,"creation_date":1624714870,"question_id":68142916,"body_markdown":"I want to achieve a cube animation effect when swiping `ViewPager` fragments. like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m using this code to achieve that:\r\n\r\n    class CubeOutTransformer : ViewPager2.PageTransformer {\r\n        override fun transformPage(page: View, position: Float) {\r\n            val deltaY = 0.5F\r\n    \r\n            page.pivotX = if (position &lt; 0F) page.width.toFloat() else 0F\r\n            page.pivotY = page.height * deltaY\r\n            page.rotationY = 45F * position\r\n        }\r\n    }\r\n\r\nBut my current effect is like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThat only happens when I&#39;m in RTL mode and in LTR mode everything is OK. But I want to achieve that effect in RTL mode. Can anyone help me? Thanks.\r\n\r\n  [1]: https://i.stack.imgur.com/TAfR7.png\r\n  [2]: https://i.stack.imgur.com/a71P0.png","title":"How to achieve cube effect in view pager in RTL mode?","body":"<p>I want to achieve a cube animation effect when swiping <code>ViewPager</code> fragments. like this:</p>\n<p><a href=\"https://i.stack.imgur.com/TAfR7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAfR7.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using this code to achieve that:</p>\n<pre><code>class CubeOutTransformer : ViewPager2.PageTransformer {\n    override fun transformPage(page: View, position: Float) {\n        val deltaY = 0.5F\n\n        page.pivotX = if (position &lt; 0F) page.width.toFloat() else 0F\n        page.pivotY = page.height * deltaY\n        page.rotationY = 45F * position\n    }\n}\n</code></pre>\n<p>But my current effect is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/a71P0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a71P0.png\" alt=\"enter image description here\" /></a></p>\n<p>That only happens when I'm in RTL mode and in LTR mode everything is OK. But I want to achieve that effect in RTL mode. Can anyone help me? Thanks.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640337464,"post_id":70471306,"comment_id":124572068,"body_markdown":"We can always synchronize on a specific object. In order to synchronize all calls of a method of different objects, we have to synchronize on a common object, e.g. a static field of the class.","body":"We can always synchronize on a specific object. In order to synchronize all calls of a method of different objects, we have to synchronize on a common object, e.g. a static field of the class."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1640337848,"post_id":70471306,"comment_id":124572167,"body_markdown":"Could you explain to us what problem you are trying to solve in general with this code?","body":"Could you explain to us what problem you are trying to solve in general with this code?"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":1,"creation_date":1640337951,"post_id":70471306,"comment_id":124572196,"body_markdown":"Also, why do you use synchronization if you don&#39;t share any state - all your variables are local.","body":"Also, why do you use synchronization if you don&#39;t share any state - all your variables are local."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640338230,"post_id":70471306,"comment_id":124572260,"body_markdown":"@Barracuda I think that this is exactly the problem. OP wants - in essence - that at most one thread at one point in time can generate the output, thus &quot;guaranteeing&quot; that each thread generates a different output. The mutual exclusion is implicit - each thread should &quot;generate&quot; a different timestamp if you so will.","body":"@Barracuda I think that this is exactly the problem. OP wants - in essence - that at most one thread at one point in time can generate the output, thus &quot;guaranteeing&quot; that each thread generates a different output. The mutual exclusion is implicit - each thread should &quot;generate&quot; a different timestamp if you so will."},{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1640339960,"post_id":70471306,"comment_id":124572667,"body_markdown":"@Turing85 - you understood the problem correctly. I want the same.","body":"@Turing85 - you understood the problem correctly. I want the same."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1640343350,"post_id":70471306,"comment_id":124573485,"body_markdown":"@Pushpak, may I ask how exactly are you going to use this? Because,even if you can, it does not seem like a good idea.","body":"@Pushpak, may I ask how exactly are you going to use this? Because,even if you can, it does not seem like a good idea."},{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1640344204,"post_id":70471306,"comment_id":124573703,"body_markdown":"@Barracuda - I have to generate a unique number which shouldn&#39;t be used previously in my system. That&#39;s why I have used Calender based unique number generation. The method generating that unique number can be accessed by any Thread in system. I have to ensure that only one Thread should be able to access and lock that method at that instance so that no two or more Threads are able to generate same number.","body":"@Barracuda - I have to generate a unique number which shouldn&#39;t be used previously in my system. That&#39;s why I have used Calender based unique number generation. The method generating that unique number can be accessed by any Thread in system. I have to ensure that only one Thread should be able to access and lock that method at that instance so that no two or more Threads are able to generate same number."},{"owner":{"account_id":2075778,"reputation":249,"user_id":1849165,"display_name":"Senthil"},"score":0,"creation_date":1641022754,"post_id":70471306,"comment_id":124708248,"body_markdown":"@Pushpak Your usecase looks like a need for Threadsafe singleton, and synchronize the generateUniqueNum method with running counter. which can generate unique value irrespective of being called from multiple threads. You can use `AtomicInteger` or `AtomicLong` with current system time to get unique value with no collision. Also consider using snowflake mechanism to generate unique values in a distributed environment","body":"@Pushpak Your usecase looks like a need for Threadsafe singleton, and synchronize the generateUniqueNum method with running counter. which can generate unique value irrespective of being called from multiple threads. You can use <code>AtomicInteger</code> or <code>AtomicLong</code> with current system time to get unique value with no collision. Also consider using snowflake mechanism to generate unique values in a distributed environment"}],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640343761,"creation_date":1640343761,"answer_id":70472191,"question_id":70471306,"body_markdown":"The particular problem with `generateCorrelationId` is that although you synchronize it, it is a different method for each thread (if you convert it to static, it takes very little time and all calls come in at the same millisecond).\r\n\r\nIf you change the method to static and add a delay, you will see that they are already all different.\r\n\r\n    public static synchronized String generateCorrelationId() {\r\n        try {\r\n            Thread.sleep(10);\r\n        } catch (InterruptedException e) {\r\n        }\r\n        ...\r\n\r\nHowever, unless you have a very special requirement, this is not the right way to do it.\r\n\r\nThe usual way is to use a [UUID][1] (in java [UUID][2]).\r\n\r\nAnother way that would involve synchronization is to use an [AtomicInteger][3], for example:\r\n\r\n    class SampleTest implements Runnable {\r\n        static AtomicInteger uniqueCounter = new AtomicInteger(0);\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(generateCorrelationId());\r\n        }\r\n\r\n        public synchronized String generateCorrelationId() {\r\n            return Integer.toString(uniqueCounter.incrementAndGet());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"How to achieve method level synchronization while using ExceutorService","body":"<p>The particular problem with <code>generateCorrelationId</code> is that although you synchronize it, it is a different method for each thread (if you convert it to static, it takes very little time and all calls come in at the same millisecond).</p>\n<p>If you change the method to static and add a delay, you will see that they are already all different.</p>\n<pre><code>public static synchronized String generateCorrelationId() {\n    try {\n        Thread.sleep(10);\n    } catch (InterruptedException e) {\n    }\n    ...\n</code></pre>\n<p>However, unless you have a very special requirement, this is not the right way to do it.</p>\n<p>The usual way is to use a <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a> (in java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\">UUID</a>).</p>\n<p>Another way that would involve synchronization is to use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a>, for example:</p>\n<pre><code>class SampleTest implements Runnable {\n    static AtomicInteger uniqueCounter = new AtomicInteger(0);\n\n    @Override\n    public void run() {\n        System.out.println(generateCorrelationId());\n    }\n\n    public synchronized String generateCorrelationId() {\n        return Integer.toString(uniqueCounter.incrementAndGet());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654006048,"creation_date":1640337236,"question_id":70471306,"body_markdown":"I am trying to achieve method level synchronizaton within an ExecutorService executing new Thread inside loop. Below is a method which generates a random number. &quot;synchronized&quot; keyword doesn&#39;t help here as synchronization is bound to object; but here I am creating multiple objects of my Thread. Is there any way by which I can achieve synchronization on method in each Thread while using ExecutorService. Please refer to below code for more understanding.\r\n\r\n```java\r\npackage test;\r\nimport java.util.Calendar;\r\nimport java.util.GregorianCalendar;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Test2 {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\texecutorService.execute(new SampleTest());\r\n\t\t}\r\n\t\texecutorService.shutdown();\r\n\r\n\t\twhile (true) {\r\n\t\t\tif (executorService.isTerminated()) {\r\n\t\t\t\tThread.sleep(2000L);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass SampleTest implements Runnable {\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(generateCorrelationId());\r\n\t}\r\n\r\n\tpublic synchronized String generateCorrelationId() {\r\n\t\tString messageId = null;\r\n\t\ttry {\r\n\t\t\tGregorianCalendar gc = new GregorianCalendar();\r\n\t\t\tmessageId = (new Integer(gc.get(Calendar.DATE))).toString();\r\n\t\t\tmessageId = messageId + (new Integer(gc.get(Calendar.MONTH))).toString();\r\n\t\t\tmessageId = messageId + (new Integer(gc.get(Calendar.YEAR))).toString().substring(2);\r\n\t\t\tmessageId = messageId + (new Integer(gc.get(Calendar.HOUR))).toString();\r\n\t\t\tmessageId = messageId + (new Integer(gc.get(Calendar.MINUTE))).toString();\r\n\t\t\tmessageId = messageId + (new Integer(gc.get(Calendar.SECOND))).toString();\r\n\t\t\tmessageId = messageId + (new Integer(gc.get(Calendar.MILLISECOND))).toString();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn messageId;\r\n\t}\r\n}\r\n```\r\nOUTPUT\r\n```\r\n24112123910149\r\n24112123910149\r\n24112123910149\r\n24112123910149\r\n24112123910149\r\n24112123910149\r\n24112123910149\r\n24112123910149\r\n24112123910149\r\n24112123910151\r\n```\r\nHere, I am getting only one unique number but I want 10 unique numbers from each Thread. Please suggest.\r\n\r\n ","title":"How to achieve method level synchronization while using ExceutorService","body":"<p>I am trying to achieve method level synchronizaton within an ExecutorService executing new Thread inside loop. Below is a method which generates a random number. &quot;synchronized&quot; keyword doesn't help here as synchronization is bound to object; but here I am creating multiple objects of my Thread. Is there any way by which I can achieve synchronization on method in each Thread while using ExecutorService. Please refer to below code for more understanding.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\nimport java.util.Calendar;\nimport java.util.GregorianCalendar;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Test2 {\n\n    public static void main(String[] args) throws InterruptedException {\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n        for (int i = 0; i &lt; 10; i++) {\n            executorService.execute(new SampleTest());\n        }\n        executorService.shutdown();\n\n        while (true) {\n            if (executorService.isTerminated()) {\n                Thread.sleep(2000L);\n                break;\n            }\n        }\n    }\n}\n\nclass SampleTest implements Runnable {\n\n    @Override\n    public void run() {\n        System.out.println(generateCorrelationId());\n    }\n\n    public synchronized String generateCorrelationId() {\n        String messageId = null;\n        try {\n            GregorianCalendar gc = new GregorianCalendar();\n            messageId = (new Integer(gc.get(Calendar.DATE))).toString();\n            messageId = messageId + (new Integer(gc.get(Calendar.MONTH))).toString();\n            messageId = messageId + (new Integer(gc.get(Calendar.YEAR))).toString().substring(2);\n            messageId = messageId + (new Integer(gc.get(Calendar.HOUR))).toString();\n            messageId = messageId + (new Integer(gc.get(Calendar.MINUTE))).toString();\n            messageId = messageId + (new Integer(gc.get(Calendar.SECOND))).toString();\n            messageId = messageId + (new Integer(gc.get(Calendar.MILLISECOND))).toString();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return messageId;\n    }\n}\n</code></pre>\n<p>OUTPUT</p>\n<pre><code>24112123910149\n24112123910149\n24112123910149\n24112123910149\n24112123910149\n24112123910149\n24112123910149\n24112123910149\n24112123910149\n24112123910151\n</code></pre>\n<p>Here, I am getting only one unique number but I want 10 unique numbers from each Thread. Please suggest.</p>\n"},{"tags":["java","spring-boot","junit4","spring-jms","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654005957,"creation_date":1654005957,"answer_id":72449287,"question_id":72320935,"body_markdown":"1. You are doing the verification too quickly; you need to somehow wait until the message has been received (e.g. by injecting a mock `MessageTransformService` that counts down a latch, and wait for it in your test).\r\n\r\n2. This will never work...\r\n\r\n        Message msg = mock(Message.class);\r\n        verify(messageListener, times(1)).onMessage(msg);\r\n\r\nThe listener will never receive that mock message, use `onMessage(any())` instead (or use an `ArgumentCaptor` to capture the actual message received, so you can test its properties.","title":"Creating JUnit Test for JMS to test if MessageListener onMessage() method was called after jms.convertAndSend()","body":"<ol>\n<li><p>You are doing the verification too quickly; you need to somehow wait until the message has been received (e.g. by injecting a mock <code>MessageTransformService</code> that counts down a latch, and wait for it in your test).</p>\n</li>\n<li><p>This will never work...</p>\n<pre><code> Message msg = mock(Message.class);\n verify(messageListener, times(1)).onMessage(msg);\n</code></pre>\n</li>\n</ol>\n<p>The listener will never receive that mock message, use <code>onMessage(any())</code> instead (or use an <code>ArgumentCaptor</code> to capture the actual message received, so you can test its properties.</p>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654005957,"creation_date":1653058250,"question_id":72320935,"body_markdown":"I am trying to create a Unit test for `onMessage()` method of a `MessageListener` component class. This `onMessage()` method was annotated with `@JmsListener` \r\n\r\nThe JUnit Test `onMessageShouldReceiveMessageOnJMSSend()` I created should pass if `Message` argument of `onMessage(Message message)` from **javax.jms.Message** is being received. In other words, when `message` is not null and when `onMessage()` is called.\r\n\r\n**MessageListener.java**\r\n\r\n    package com.myapp.listener;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.jms.JMSException;\r\n    import javax.jms.Message;\r\n    import javax.jms.TextMessage;\r\n    import javax.xml.transform.TransformerConfigurationException;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jms.annotation.JmsListener;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.myapp.service.MessageTransformService;\r\n    \r\n    @Component\r\n    public class MessageListener {\r\n    \r\n    \t@Autowired\r\n    \tprivate MessageTransformService messageService;\r\n    \r\n    \t@JmsListener(destination = &quot;MY.QUEUE.DEV&quot;)\r\n    \tpublic void onMessage(Message message) {\r\n    \t\tif (message instanceof TextMessage) {\r\n    \t\t\ttry {\r\n    \t\t\t\tString xmlMessage = ((TextMessage) message).getText();\r\n    \t\t\t\tmessageService.transformMessageToOldSchema(xmlMessage);\r\n    \t\t\t} catch (JMSException | TransformerConfigurationException | IOException e) {\r\n    \t\t\t\tLOGGER.error(e.getMessage());\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Message Error&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBelow, I created a **MessageListenerTestContextConfiguration** class which I imported in **MessageListenerTest.java** using `@Import({ MessageListenerTestContextConfiguration.class })`\r\n\r\n**MessageListenerTestContextConfiguration.java**\r\n\r\n    package com.myapp.testconfig;\r\n    \r\n    import javax.jms.ConnectionFactory;\r\n    \r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.test.context.TestConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.jms.annotation.EnableJms;\r\n    import org.springframework.jms.core.JmsTemplate;\r\n    \r\n    @TestConfiguration\r\n    @EnableJms\r\n    public class MessageListenerTestContextConfiguration {\r\n    \r\n    \t@Bean\r\n    \tpublic ConnectionFactory connectionFactory() {\r\n    \t\tActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n    \t\tactiveMQConnectionFactory.setBrokerURL(&quot;tcp://localhost:61616&quot;);\r\n    \t\treturn activeMQConnectionFactory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic JmsTemplate jmsTemplate() {\r\n    \t\tJmsTemplate jmsTemplate = new JmsTemplate();\r\n    \t\tjmsTemplate.setConnectionFactory(connectionFactory());\r\n    \t\treturn jmsTemplate;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**MessageListenerTest.java**\r\n\r\n    import static org.junit.Assert.*;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n    \r\n    import javax.jms.Message;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.jms.core.JmsTemplate;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    import com.myapp.config.AppConfig;\r\n    import com.myapp.config.MessageListenerTestContextConfiguration;\r\n    import com.myapp.listener.MessageListener;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @Import({ MessageListenerTestContextConfiguration.class })\r\n    public class MessageListenerTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate JmsTemplate jmsTemplate;\r\n    \r\n    \t@MockBean\r\n    \tprivate MessageListener messageListener;\r\n    \t\r\n    \t@Test\r\n    \tpublic void onMessageShouldReceiveMessageOnJMSSend() {\r\n    \t\tjmsTemplate.convertAndSend(&quot;MY.QUEUE.DEV&quot;, &quot;Test Message&quot;);\r\n    \t\tMessage msg = mock(Message.class);\r\n    \t\tverify(messageListener, times(1)).onMessage(msg); //this is line 42 mentioned in console message\r\n    \t}\r\n    }\r\n\r\nWhen I run the test method `onMessageShouldReceiveMessageOnJMSSend()`, it says \r\n\r\n&gt; -&gt; at MessageListenerTest.onMessageShouldReceiveMessageOnJMSSend(MessageListenerTest.java:42)\r\n&gt; Actually, there were zero interactions with this mock.\r\n\r\nFrom the message on console, it doesn&#39;t look like `onMessage()` is being invoked from **MessageListener** class after I send a message with `jmsTemplate.convertAndSend()`\r\n\r\nThe console message points to this line : `verify(messageListener, times(1)).onMessage(msg);`\r\n\r\nIn my **application.properties** on both **src/main/resources** and **src/test/resources**, I have the following\r\n\r\n**application.properties**\r\n\r\n    spring.activemq.broker-url=tcp://localhost:61616\r\n    spring.activemq.user=admin\r\n    spring.activemq.password=admin\r\n\r\nI can also see, activemq is running and active.\r\n\r\nI&#39;d appreciate any comments.\r\n\r\nThank you.","title":"Creating JUnit Test for JMS to test if MessageListener onMessage() method was called after jms.convertAndSend()","body":"<p>I am trying to create a Unit test for <code>onMessage()</code> method of a <code>MessageListener</code> component class. This <code>onMessage()</code> method was annotated with <code>@JmsListener</code></p>\n<p>The JUnit Test <code>onMessageShouldReceiveMessageOnJMSSend()</code> I created should pass if <code>Message</code> argument of <code>onMessage(Message message)</code> from <strong>javax.jms.Message</strong> is being received. In other words, when <code>message</code> is not null and when <code>onMessage()</code> is called.</p>\n<p><strong>MessageListener.java</strong></p>\n<pre><code>package com.myapp.listener;\n\nimport java.io.IOException;\n\nimport javax.jms.JMSException;\nimport javax.jms.Message;\nimport javax.jms.TextMessage;\nimport javax.xml.transform.TransformerConfigurationException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jms.annotation.JmsListener;\nimport org.springframework.stereotype.Component;\n\nimport com.myapp.service.MessageTransformService;\n\n@Component\npublic class MessageListener {\n\n    @Autowired\n    private MessageTransformService messageService;\n\n    @JmsListener(destination = &quot;MY.QUEUE.DEV&quot;)\n    public void onMessage(Message message) {\n        if (message instanceof TextMessage) {\n            try {\n                String xmlMessage = ((TextMessage) message).getText();\n                messageService.transformMessageToOldSchema(xmlMessage);\n            } catch (JMSException | TransformerConfigurationException | IOException e) {\n                LOGGER.error(e.getMessage());\n            }\n        } else {\n            throw new IllegalArgumentException(&quot;Message Error&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Below, I created a <strong>MessageListenerTestContextConfiguration</strong> class which I imported in <strong>MessageListenerTest.java</strong> using <code>@Import({ MessageListenerTestContextConfiguration.class })</code></p>\n<p><strong>MessageListenerTestContextConfiguration.java</strong></p>\n<pre><code>package com.myapp.testconfig;\n\nimport javax.jms.ConnectionFactory;\n\nimport org.apache.activemq.ActiveMQConnectionFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.jms.annotation.EnableJms;\nimport org.springframework.jms.core.JmsTemplate;\n\n@TestConfiguration\n@EnableJms\npublic class MessageListenerTestContextConfiguration {\n\n    @Bean\n    public ConnectionFactory connectionFactory() {\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n        activeMQConnectionFactory.setBrokerURL(&quot;tcp://localhost:61616&quot;);\n        return activeMQConnectionFactory;\n    }\n\n    @Bean\n    public JmsTemplate jmsTemplate() {\n        JmsTemplate jmsTemplate = new JmsTemplate();\n        jmsTemplate.setConnectionFactory(connectionFactory());\n        return jmsTemplate;\n    }\n    \n}\n</code></pre>\n<p><strong>MessageListenerTest.java</strong></p>\n<pre><code>import static org.junit.Assert.*;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\nimport javax.jms.Message;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.jms.core.JmsTemplate;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport com.myapp.config.AppConfig;\nimport com.myapp.config.MessageListenerTestContextConfiguration;\nimport com.myapp.listener.MessageListener;\n\n@RunWith(SpringRunner.class)\n@Import({ MessageListenerTestContextConfiguration.class })\npublic class MessageListenerTest {\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    @MockBean\n    private MessageListener messageListener;\n    \n    @Test\n    public void onMessageShouldReceiveMessageOnJMSSend() {\n        jmsTemplate.convertAndSend(&quot;MY.QUEUE.DEV&quot;, &quot;Test Message&quot;);\n        Message msg = mock(Message.class);\n        verify(messageListener, times(1)).onMessage(msg); //this is line 42 mentioned in console message\n    }\n}\n</code></pre>\n<p>When I run the test method <code>onMessageShouldReceiveMessageOnJMSSend()</code>, it says</p>\n<blockquote>\n<p>-&gt; at MessageListenerTest.onMessageShouldReceiveMessageOnJMSSend(MessageListenerTest.java:42)\nActually, there were zero interactions with this mock.</p>\n</blockquote>\n<p>From the message on console, it doesn't look like <code>onMessage()</code> is being invoked from <strong>MessageListener</strong> class after I send a message with <code>jmsTemplate.convertAndSend()</code></p>\n<p>The console message points to this line : <code>verify(messageListener, times(1)).onMessage(msg);</code></p>\n<p>In my <strong>application.properties</strong> on both <strong>src/main/resources</strong> and <strong>src/test/resources</strong>, I have the following</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.activemq.broker-url=tcp://localhost:61616\nspring.activemq.user=admin\nspring.activemq.password=admin\n</code></pre>\n<p>I can also see, activemq is running and active.</p>\n<p>I'd appreciate any comments.</p>\n<p>Thank you.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":254817,"reputation":28628,"user_id":534471,"accept_rate":92,"display_name":"Emanuel Moecklin"},"score":0,"creation_date":1654004111,"post_id":72447299,"comment_id":127985004,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654005740,"creation_date":1654005740,"answer_id":72449232,"question_id":72447299,"body_markdown":"I do not know of any existing utils for that purpose. \r\nA very simple method you could use would be a Jackson object mapper:\r\n```\r\ninline fun &lt;reified T: Any&gt; setProperty(c: T, propName: String, value: Any?): T {\r\n    val map = jacksonObjectMapper().convertValue&lt;Map&lt;String, Any?&gt;&gt;(c).toMutableMap()\r\n    map[propName] = value\r\n    return jacksonObjectMapper().convertValue(map)\r\n}\r\n```\r\nThen you can for instance write the following to set the date value of a `Code` object:\r\n```\r\nval code = Code(&quot;x&quot;, &quot;y&quot;)\r\nval resultCode = setProperty(code, &quot;date&quot;, &quot;z&quot;)\r\n```\r\nBut please note that this has very bad performance since it converts the data class to json, then to a map, then again to json, and finally back into the data class. It is also not very good because it creates a new object each time you change one property.\r\n\r\n---\r\n\r\nA bit better would be to use Kotlin reflection like this:\r\n```\r\nimport kotlin.reflect.KMutableProperty\r\nimport kotlin.reflect.full.memberProperties\r\n\r\nfun &lt;T : Any&gt; setProp(c: T, propName: String, value: Any?) {\r\n    val prop = getMutableProperty(c, propName)\r\n    val type = prop.setter.parameters[1].type\r\n    if (value == null &amp;&amp; !type.isMarkedNullable) error(&quot;property $propName is not nullable&quot;)\r\n    prop.setter.call(c, value)\r\n}\r\n\r\nfun &lt;T: Any&gt; getMutableProperty(c: T, propName: String): KMutableProperty&lt;*&gt; {\r\n    val prop = c::class.memberProperties.find { it.name == propName } ?: error(&quot;no property $propName&quot;)\r\n    if (prop !is KMutableProperty&lt;*&gt;) error(&quot;property $propName is not mutable&quot;)\r\n    return prop\r\n}\r\n```\r\nThis can be used to change the property of a data class without creating a new element on each changed property which would look like this:\r\n```\r\nval code = Code(&quot;x&quot;, &quot;y&quot;)\r\nsetProp(code, &quot;date&quot;, &quot;myval&quot;)\r\nprintln(code) // now prints Code(value=x, date=myval)\r\n```","title":"I have an Pojo Kotlin Object which contains list, child objects and sub child objects and I need to change the value of a field using field name","body":"<p>I do not know of any existing utils for that purpose.\nA very simple method you could use would be a Jackson object mapper:</p>\n<pre><code>inline fun &lt;reified T: Any&gt; setProperty(c: T, propName: String, value: Any?): T {\n    val map = jacksonObjectMapper().convertValue&lt;Map&lt;String, Any?&gt;&gt;(c).toMutableMap()\n    map[propName] = value\n    return jacksonObjectMapper().convertValue(map)\n}\n</code></pre>\n<p>Then you can for instance write the following to set the date value of a <code>Code</code> object:</p>\n<pre><code>val code = Code(&quot;x&quot;, &quot;y&quot;)\nval resultCode = setProperty(code, &quot;date&quot;, &quot;z&quot;)\n</code></pre>\n<p>But please note that this has very bad performance since it converts the data class to json, then to a map, then again to json, and finally back into the data class. It is also not very good because it creates a new object each time you change one property.</p>\n<hr />\n<p>A bit better would be to use Kotlin reflection like this:</p>\n<pre><code>import kotlin.reflect.KMutableProperty\nimport kotlin.reflect.full.memberProperties\n\nfun &lt;T : Any&gt; setProp(c: T, propName: String, value: Any?) {\n    val prop = getMutableProperty(c, propName)\n    val type = prop.setter.parameters[1].type\n    if (value == null &amp;&amp; !type.isMarkedNullable) error(&quot;property $propName is not nullable&quot;)\n    prop.setter.call(c, value)\n}\n\nfun &lt;T: Any&gt; getMutableProperty(c: T, propName: String): KMutableProperty&lt;*&gt; {\n    val prop = c::class.memberProperties.find { it.name == propName } ?: error(&quot;no property $propName&quot;)\n    if (prop !is KMutableProperty&lt;*&gt;) error(&quot;property $propName is not mutable&quot;)\n    return prop\n}\n</code></pre>\n<p>This can be used to change the property of a data class without creating a new element on each changed property which would look like this:</p>\n<pre><code>val code = Code(&quot;x&quot;, &quot;y&quot;)\nsetProp(code, &quot;date&quot;, &quot;myval&quot;)\nprintln(code) // now prints Code(value=x, date=myval)\n</code></pre>\n"}],"owner":{"account_id":9867085,"reputation":11,"user_id":7308183,"display_name":"Pramod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654005740,"creation_date":1653997917,"question_id":72447299,"body_markdown":"Example given classes as below\r\n\r\n    data class Book (\r\n      var name: String? = null,\r\n      var codes: List&lt;Code&gt;? = null,\r\n      var description: Description? = null\r\n    )\r\n        \r\n    data class Code(\r\n      var value: String? = null\r\n      var date: String? = null\r\n    )\r\n        \r\n    data class Description(\r\n      var notes: String? = null\r\n    )\r\n        \r\nI am looking a util where I can change the value of the given field name.\r\n\r\nFor example: I need to change the date value of Code class using field name &quot;date&quot;. I am looking at generic util class which we can use to change the value at any given child class or list or map....which matches the give string name","title":"I have an Pojo Kotlin Object which contains list, child objects and sub child objects and I need to change the value of a field using field name","body":"<p>Example given classes as below</p>\n<pre><code>data class Book (\n  var name: String? = null,\n  var codes: List&lt;Code&gt;? = null,\n  var description: Description? = null\n)\n    \ndata class Code(\n  var value: String? = null\n  var date: String? = null\n)\n    \ndata class Description(\n  var notes: String? = null\n)\n    \n</code></pre>\n<p>I am looking a util where I can change the value of the given field name.</p>\n<p>For example: I need to change the date value of Code class using field name &quot;date&quot;. I am looking at generic util class which we can use to change the value at any given child class or list or map....which matches the give string name</p>\n"},{"tags":["java","maven","pdf","aspose","aspose.pdf"],"answers":[{"tags":[],"owner":{"account_id":1917572,"reputation":441,"user_id":1729837,"display_name":"codewarior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1502182929,"creation_date":1502182929,"answer_id":45563944,"question_id":45563357,"body_markdown":"@Akos,\r\n\r\nThe reason you are getting an error is because you are using an older version of API and com.aspose.pdf.Document class became available in release versions starting 6.0.0. Please get the latest release version of [Aspose.Pdf for Java 17.7][1] and see if it resolves the problem. \r\n\r\n\r\n  [1]: https://downloads.aspose.com/pdf/java/new-releases/aspose.pdf-for-java-17.7/\r\n\r\nPS, my name is Nayyer and I am developer evangelist at Aspose.","title":"Unable to resolve com.aspose.pdf","body":"<p>@Akos,</p>\n\n<p>The reason you are getting an error is because you are using an older version of API and com.aspose.pdf.Document class became available in release versions starting 6.0.0. Please get the latest release version of <a href=\"https://downloads.aspose.com/pdf/java/new-releases/aspose.pdf-for-java-17.7/\" rel=\"nofollow noreferrer\">Aspose.Pdf for Java 17.7</a> and see if it resolves the problem. </p>\n\n<p>PS, my name is Nayyer and I am developer evangelist at Aspose.</p>\n"},{"tags":[],"owner":{"account_id":4253607,"reputation":11,"user_id":3479840,"display_name":"Farooq Sheikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654005635,"creation_date":1654005635,"answer_id":72449202,"question_id":45563357,"body_markdown":"@Akos,\r\n\r\nOur repository URL has changed. Please use following repository info. Thanks. \r\n\r\n```\r\n&lt;repository&gt;\r\n  &lt;id&gt;aspose-maven-repository&lt;/id&gt;\r\n  &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n","title":"Unable to resolve com.aspose.pdf","body":"<p>@Akos,</p>\n<p>Our repository URL has changed. Please use following repository info. Thanks.</p>\n<pre><code>&lt;repository&gt;\n  &lt;id&gt;aspose-maven-repository&lt;/id&gt;\n  &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n"}],"owner":{"account_id":11499563,"reputation":3,"user_id":8427751,"display_name":"Akos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7055,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45563944,"answer_count":2,"score":0,"last_activity_date":1654005635,"creation_date":1502181435,"question_id":45563357,"body_markdown":"I try to use `Aspose` solutions to handle `PDF` documents, but unable to resolve these classes:\r\n\r\n    import com.aspose.pdf.Document;\r\n    import com.aspose.pdf.FileSpecification;\r\n\r\nI already imported `aspose-pdf-2.9.0-jdk16.jar` into project and added following code to `pom.xml` file, but nothing changed.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;11.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.media.jai&lt;/groupId&gt;\r\n            &lt;artifactId&gt;com.springsource.javax.media.jai.core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;aspose-maven-repository&lt;/id&gt;\r\n            &lt;url&gt;http://maven.aspose.com/repository/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;com.springsource.repository.bundles.external&lt;/id&gt;\r\n            &lt;name&gt;SpringSource Enterprise Bundle Repository - External Bundle Releases&lt;/name&gt;\r\n            &lt;url&gt;http://repository.springsource.com/maven/bundles/external&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;","title":"Unable to resolve com.aspose.pdf","body":"<p>I try to use <code>Aspose</code> solutions to handle <code>PDF</code> documents, but unable to resolve these classes:</p>\n\n<pre><code>import com.aspose.pdf.Document;\nimport com.aspose.pdf.FileSpecification;\n</code></pre>\n\n<p>I already imported <code>aspose-pdf-2.9.0-jdk16.jar</code> into project and added following code to <code>pom.xml</code> file, but nothing changed.</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aspose&lt;/groupId&gt;\n        &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\n        &lt;version&gt;11.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.media.jai&lt;/groupId&gt;\n        &lt;artifactId&gt;com.springsource.javax.media.jai.core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;aspose-maven-repository&lt;/id&gt;\n        &lt;url&gt;http://maven.aspose.com/repository/repo/&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;com.springsource.repository.bundles.external&lt;/id&gt;\n        &lt;name&gt;SpringSource Enterprise Bundle Repository - External Bundle Releases&lt;/name&gt;\n        &lt;url&gt;http://repository.springsource.com/maven/bundles/external&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java","multithreading","performance","dom","singleton"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1347870865,"post_id":12455602,"comment_id":16750894,"body_markdown":"I suggest you only optimise your code when you know you have a problem i.e. you have used a cpu or memory profiler.  The rest of the time you should make your code as simple and easy to understand as possible and this will often perform well.","body":"I suggest you only optimise your code when you know you have a problem i.e. you have used a cpu or memory profiler.  The rest of the time you should make your code as simple and easy to understand as possible and this will often perform well."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1347870920,"post_id":12455602,"comment_id":16750908,"body_markdown":"possible duplicate: http://stackoverflow.com/questions/56737/is-documentbuilder-parse-thread-safe","body":"possible duplicate: <a href=\"http://stackoverflow.com/questions/56737/is-documentbuilder-parse-thread-safe\" title=\"is documentbuilder parse thread safe\">stackoverflow.com/questions/56737/&hellip;</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1347871150,"post_id":12455602,"comment_id":16751010,"body_markdown":"possible duplicate of [Is DocumentBuilderFactory thread-safe in Java 5+?](http://stackoverflow.com/questions/9828254/is-documentbuilderfactory-thread-safe-in-java-5)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9828254/is-documentbuilderfactory-thread-safe-in-java-5\">Is DocumentBuilderFactory thread-safe in Java 5+?</a>"},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1347871720,"post_id":12455602,"comment_id":16751208,"body_markdown":"another possible duplicate: http://stackoverflow.com/questions/3439485/java-and-xml-jaxp-what-about-caching-and-thread-safety","body":"another possible duplicate: <a href=\"http://stackoverflow.com/questions/3439485/java-and-xml-jaxp-what-about-caching-and-thread-safety\" title=\"java and xml jaxp what about caching and thread safety\">stackoverflow.com/questions/3439485/&hellip;</a>"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1347876183,"post_id":12455602,"comment_id":16752966,"body_markdown":"@PeterLawrey I understand what your getting at but once glance at the code and I can clearly see that the DocumentBuilderFactory and DocumentBuilder are getting created multiple times in loops from methods that uses them!","body":"@PeterLawrey I understand what your getting at but once glance at the code and I can clearly see that the DocumentBuilderFactory and DocumentBuilder are getting created multiple times in loops from methods that uses them!"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1347876448,"post_id":12455602,"comment_id":16753062,"body_markdown":"@bot so they are not singletons currently. Do you know that creating them multiple times makes a significant difference to your performance?","body":"@bot so they are not singletons currently. Do you know that creating them multiple times makes a significant difference to your performance?"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1347877305,"post_id":12455602,"comment_id":16753367,"body_markdown":"That&#39;s right. They are not Singletons right now. I am planning to make them a part of my DOMParser Singleton as shown in my question. I am not sure whether creating a new DocumentBuilderFactory and a new DocumentBuilder is expensive or not. Regardless of this fact,don&#39;t you think we will still be reducing the amount of time spent on creating these objects for every iteration of a loop or for every method call in which they are used? We will also be reducing the number of objects created!","body":"That&#39;s right. They are not Singletons right now. I am planning to make them a part of my DOMParser Singleton as shown in my question. I am not sure whether creating a new DocumentBuilderFactory and a new DocumentBuilder is expensive or not. Regardless of this fact,don&#39;t you think we will still be reducing the amount of time spent on creating these objects for every iteration of a loop or for every method call in which they are used? We will also be reducing the number of objects created!"}],"answers":[{"tags":[],"owner":{"account_id":261742,"reputation":4474,"user_id":546128,"accept_rate":76,"display_name":"Rasmus Franke"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1347871145,"creation_date":1347871145,"answer_id":12455718,"question_id":12455602,"body_markdown":"You need to know three things:\r\n\r\n1. What is the cost of creating the factory? If the cost is low, your performance gain might be close to zero.\r\n2. What is the cost of creating the builder?  If the cost is low, your performance gain might be close to zero.\r\n3. Is the factory and/or builder thread safe? If not, you need to make sure the method accessing them is made thread safe using the `synchronized` keyword.\r\n\r\nI&#39;m not familiar with the DocumentBuilder classes you are using, but all this information should be available in its javadoc or other documentation. If the creation of certain objects is costly, they usually throw this information at you.","title":"Is DocumentBuilder thread safe?","body":"<p>You need to know three things:</p>\n\n<ol>\n<li>What is the cost of creating the factory? If the cost is low, your performance gain might be close to zero.</li>\n<li>What is the cost of creating the builder?  If the cost is low, your performance gain might be close to zero.</li>\n<li>Is the factory and/or builder thread safe? If not, you need to make sure the method accessing them is made thread safe using the <code>synchronized</code> keyword.</li>\n</ol>\n\n<p>I'm not familiar with the DocumentBuilder classes you are using, but all this information should be available in its javadoc or other documentation. If the creation of certain objects is costly, they usually throw this information at you.</p>\n"},{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1511525865,"creation_date":1347871926,"answer_id":12455887,"question_id":12455602,"body_markdown":"See the comments section for other questions about the same matter. **Short answer for your question: no, it&#39;s not** ok to put these classes in a singleton. Neither DocumentBuilderFactory nor DocumentBuilder are guaranteed to be thread safe. If you have several threads parsing XML, make sure each thread has its own version of DoumentBuilder. You only need one of them per thread since you can reuse a DocumentBuilder after you reset it.\r\n\r\n**EDIT** A small snippet to show that using same DocumentBuilder is bad. With java 1.6_u32 and 1.7_u05 this code fails with `org.xml.sax.SAXException: FWK005 parse may not be called while parsing`. Uncomment synchronization on builder, and it works fine:\r\n\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            final DocumentBuilder builder = factory.newDocumentBuilder();\r\n    \r\n            ExecutorService exec = Executors.newFixedThreadPool(10);\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                exec.submit(new Runnable() {\r\n                    public void run() {\r\n                        try {\r\n    //                        synchronized (builder) {\r\n                                InputSource is = new InputSource(new StringReader(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; ?&gt;&lt;俄语&gt;данные&lt;/俄语&gt;&quot;));\r\n                                builder.parse(is);\r\n                                builder.reset();\r\n    //                        }\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            exec.shutdown();\r\n\r\nSo here&#39;s your answer - do not call `DocumentBuilder.parse()` from multiple threads. Yes, this behavior might be JRE specific, if you&#39;re using IBM java or JRockit or give it a different DocumentBuilderImpl, it might work fine, but for default xerces implementation - it does not.","title":"Is DocumentBuilder thread safe?","body":"<p>See the comments section for other questions about the same matter. <strong>Short answer for your question: no, it's not</strong> ok to put these classes in a singleton. Neither DocumentBuilderFactory nor DocumentBuilder are guaranteed to be thread safe. If you have several threads parsing XML, make sure each thread has its own version of DoumentBuilder. You only need one of them per thread since you can reuse a DocumentBuilder after you reset it.</p>\n\n<p><strong>EDIT</strong> A small snippet to show that using same DocumentBuilder is bad. With java 1.6_u32 and 1.7_u05 this code fails with <code>org.xml.sax.SAXException: FWK005 parse may not be called while parsing</code>. Uncomment synchronization on builder, and it works fine:</p>\n\n<pre><code>        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        final DocumentBuilder builder = factory.newDocumentBuilder();\n\n        ExecutorService exec = Executors.newFixedThreadPool(10);\n        for (int i = 0; i &lt; 10; i++) {\n            exec.submit(new Runnable() {\n                public void run() {\n                    try {\n//                        synchronized (builder) {\n                            InputSource is = new InputSource(new StringReader(\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?&gt;&lt;俄语&gt;данные&lt;/俄语&gt;\"));\n                            builder.parse(is);\n                            builder.reset();\n//                        }\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n        }\n        exec.shutdown();\n</code></pre>\n\n<p>So here's your answer - do not call <code>DocumentBuilder.parse()</code> from multiple threads. Yes, this behavior might be JRE specific, if you're using IBM java or JRockit or give it a different DocumentBuilderImpl, it might work fine, but for default xerces implementation - it does not.</p>\n"},{"tags":[],"owner":{"account_id":5995660,"reputation":211,"user_id":4710374,"display_name":"ttt"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1427257879,"creation_date":1427257879,"answer_id":29247477,"question_id":12455602,"body_markdown":"The JAXP Specification (V 1.4) says:\r\n\r\n&gt; It is expected that the newSAXParser method of a SAXParserFactory implementation, the newDocumentBuilder method of a DocumentBuilderFactory and the newTransformer method of a TransformerFactory will be thread safe without side effects. This means that an application programmer should expect to be able to create transformer instances in multiple threads at once from a shared factory without side effects or problems. \r\n\r\nhttps://jaxp.java.net/docs/spec/html/#plugabililty-thread-safety\r\n\r\nSo, for example, you should be able to create a single DocumentBuilderFactory instance via DocumentBuilderFactory.newInstance and then use that single factory to create a DocumentBuilder per thread via DocumentBuilderFactory.newDocumentBuilder. You could also create a pool of DocumentBuilders.\r\n\r\nI can&#39;t find anywhere that says that, for example, the static method DocumentBuilderFactory.newInstance is thread-safe. The implementation appears thread-safe in that there is some method synchronization being done, but the spec specifically says that DocumentBuilderFactory.newDocumentBuilder is thread safe.","title":"Is DocumentBuilder thread safe?","body":"<p>The JAXP Specification (V 1.4) says:</p>\n\n<blockquote>\n  <p>It is expected that the newSAXParser method of a SAXParserFactory implementation, the newDocumentBuilder method of a DocumentBuilderFactory and the newTransformer method of a TransformerFactory will be thread safe without side effects. This means that an application programmer should expect to be able to create transformer instances in multiple threads at once from a shared factory without side effects or problems. </p>\n</blockquote>\n\n<p><a href=\"https://jaxp.java.net/docs/spec/html/#plugabililty-thread-safety\">https://jaxp.java.net/docs/spec/html/#plugabililty-thread-safety</a></p>\n\n<p>So, for example, you should be able to create a single DocumentBuilderFactory instance via DocumentBuilderFactory.newInstance and then use that single factory to create a DocumentBuilder per thread via DocumentBuilderFactory.newDocumentBuilder. You could also create a pool of DocumentBuilders.</p>\n\n<p>I can't find anywhere that says that, for example, the static method DocumentBuilderFactory.newInstance is thread-safe. The implementation appears thread-safe in that there is some method synchronization being done, but the spec specifically says that DocumentBuilderFactory.newDocumentBuilder is thread safe.</p>\n"},{"tags":[],"owner":{"account_id":9229376,"reputation":902,"user_id":6856020,"display_name":"Supreet Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654005621,"creation_date":1597415920,"answer_id":63414895,"question_id":12455602,"body_markdown":"Primarily to answer your question no, **Document Builder** isn&#39;t thread-safe. But we can make it thread-safe in two ways:\r\n\r\n - Synchronized\r\n - ThreadLocal\r\n\r\nFor Synchronized what we can do is just make a synchronised block, this will work for us we should use synchronize on small blocks since it is very expensive and sometimes can make things very slow.\r\n\r\n \r\n\r\n       DocumentBuilder documentBuilder=DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n       synchronized(documentBuilder)\r\n       {\r\n          documentBuilder.parse(xmlFile.getInputStream());           \r\n       }\r\n\r\n \r\nThe other and better approach we can follow is using ThreadLocal.\r\n\r\n        public class XmlParser {\r\n    \r\n        private static ThreadLocal&lt;DocumentBuilder&gt; documentBuilder;\r\n    \r\n        public XmlParser() {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            factory.setNamespaceAware(true);\r\n            documentBuilder = ThreadLocal.withInitial(() -&gt; documentBuilder(factory));\r\n        }\r\n        private DocumentBuilder documentBuilder(DocumentBuilderFactory factory) {\r\n            try {\r\n                return factory.newDocumentBuilder();\r\n            } catch (ParserConfigurationException e) {\r\n                throw new Exception(&quot;file is not valid&quot;);\r\n            }\r\n        }\r\n        public Document parse(MultipartFile xmlFile) {\r\n            try {\r\n                Document parse = documentBuilder.get().parse(xmlFile.getInputStream());\r\n                documentBuilder.remove();\r\n                parse.normalizeDocument();\r\n                return parse;\r\n    \r\n            } catch (IOException | SAXException e) {\r\n                throw new Exception(e);\r\n            }\r\n        }\r\n\r\n\r\n","title":"Is DocumentBuilder thread safe?","body":"<p>Primarily to answer your question no, <strong>Document Builder</strong> isn't thread-safe. But we can make it thread-safe in two ways:</p>\n<ul>\n<li>Synchronized</li>\n<li>ThreadLocal</li>\n</ul>\n<p>For Synchronized what we can do is just make a synchronised block, this will work for us we should use synchronize on small blocks since it is very expensive and sometimes can make things very slow.</p>\n<pre><code>   DocumentBuilder documentBuilder=DocumentBuilderFactory.newInstance().newDocumentBuilder();\n   synchronized(documentBuilder)\n   {\n      documentBuilder.parse(xmlFile.getInputStream());           \n   }\n</code></pre>\n<p>The other and better approach we can follow is using ThreadLocal.</p>\n<pre><code>    public class XmlParser {\n\n    private static ThreadLocal&lt;DocumentBuilder&gt; documentBuilder;\n\n    public XmlParser() {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        factory.setNamespaceAware(true);\n        documentBuilder = ThreadLocal.withInitial(() -&gt; documentBuilder(factory));\n    }\n    private DocumentBuilder documentBuilder(DocumentBuilderFactory factory) {\n        try {\n            return factory.newDocumentBuilder();\n        } catch (ParserConfigurationException e) {\n            throw new Exception(&quot;file is not valid&quot;);\n        }\n    }\n    public Document parse(MultipartFile xmlFile) {\n        try {\n            Document parse = documentBuilder.get().parse(xmlFile.getInputStream());\n            documentBuilder.remove();\n            parse.normalizeDocument();\n            return parse;\n\n        } catch (IOException | SAXException e) {\n            throw new Exception(e);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19748815,"reputation":1,"user_id":14460604,"display_name":"Sudeep Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602828878,"creation_date":1602828878,"answer_id":64383815,"question_id":12455602,"body_markdown":"can we re-use DocumentBuilder  instance and not create it everytime, for us new object creation is taking up 3% of CPU utilization.\r\n\r\nSample:-\r\n\r\n\r\nclass level variable:-\r\nprivate static volatile DocumentBuilder builder = null;\r\n\r\n\r\n\r\n\t\tif (Common.builder == null) {\r\n\t\t\tsynchronized (DocumentBuilder.class) {\r\n\t\t\t\tif (Common.builder == null) {\r\n\t\t\t\t\tSplunkLogger.info(&quot;DocBuilderInstance=New_Instance&quot;);\r\n\t\t\t\t\tCommon.builder =\r\n\t\t\t\t\t\t\tXMLUtil.getDocumentBuilderFactory()\r\n\t\t\t\t\t\t\t.newDocumentBuilder(); // DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSplunkLogger.info(&quot;DocBuilderInstance=Re-Use_Existing_Instance_InnerIf&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSplunkLogger.info(&quot;DocBuilderInstance=Re-Use_Existing_Instance&quot;);\r\n    }\r\n\t\tfinal InputSource source = new InputSource();\r\n\t\tsource.setCharacterStream(new StringReader(responseString));\r\n\t\tfinal Document doc = Common.builder.parse(source);\r\n\t\treturn doc.getElementsByTagName(firstKey);\r\n\t}","title":"Is DocumentBuilder thread safe?","body":"<p>can we re-use DocumentBuilder  instance and not create it everytime, for us new object creation is taking up 3% of CPU utilization.</p>\n<p>Sample:-</p>\n<p>class level variable:-\nprivate static volatile DocumentBuilder builder = null;</p>\n<pre><code>    if (Common.builder == null) {\n        synchronized (DocumentBuilder.class) {\n            if (Common.builder == null) {\n                SplunkLogger.info(&quot;DocBuilderInstance=New_Instance&quot;);\n                Common.builder =\n                        XMLUtil.getDocumentBuilderFactory()\n                        .newDocumentBuilder(); // DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            } else {\n                SplunkLogger.info(&quot;DocBuilderInstance=Re-Use_Existing_Instance_InnerIf&quot;);\n            }\n        }\n    } else {\n        SplunkLogger.info(&quot;DocBuilderInstance=Re-Use_Existing_Instance&quot;);\n}\n    final InputSource source = new InputSource();\n    source.setCharacterStream(new StringReader(responseString));\n    final Document doc = Common.builder.parse(source);\n    return doc.getElementsByTagName(firstKey);\n}\n</code></pre>\n"}],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38236,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":12455887,"answer_count":5,"score":54,"last_activity_date":1654005621,"creation_date":1347870623,"question_id":12455602,"body_markdown":"The current code base that I am looking at uses the DOM parser. The following code fragment is duplicated in 5 methods : \r\n\r\n     DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n     DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\nIf a method that contains the above code is called in a loop or the method is called multiple times in the application, we are bearing the overhead of creating a new DocumentBuilderFactory instance and a new DocumentBuilder instance for each call to such a method. \r\n\r\nWould it be a good idea to create a singleton wrapper around the DocumentBuilder factory and DocumentBuilder instances as shown below : \r\n\r\n    public final class DOMParser {\r\n       private DocumentBuilderFactory = new DocumentBuilderFactory();\r\n       private DocumentBuilder builder;\r\n\r\n       private static DOMParser instance = new DOMParser();\r\n       \r\n       private DOMParser() {\r\n          builder = factory.newDocumentBuilder();\r\n       }\r\n       \r\n       public Document parse(InputSource xml) {\r\n           return builder.parser(xml);\r\n       }\r\n    }\r\n\r\nAre there any problems that can arise if the above singleton is shared across multiple threads? If not, will there be any performance gain by using the above approach of creating the DocumentBuilderFactory and the DocumentBuilder instances only once throughout the lifetime of the application?\r\n\r\n**Edit :** \r\n\r\nThe only time we can face a problem is if DocumentBuilder saves some state information while parsing an XML file which can affect the parsing of the next XML file. \r\n","title":"Is DocumentBuilder thread safe?","body":"<p>The current code base that I am looking at uses the DOM parser. The following code fragment is duplicated in 5 methods : </p>\n\n<pre><code> DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n DocumentBuilder builder = factory.newDocumentBuilder();\n</code></pre>\n\n<p>If a method that contains the above code is called in a loop or the method is called multiple times in the application, we are bearing the overhead of creating a new DocumentBuilderFactory instance and a new DocumentBuilder instance for each call to such a method. </p>\n\n<p>Would it be a good idea to create a singleton wrapper around the DocumentBuilder factory and DocumentBuilder instances as shown below : </p>\n\n<pre><code>public final class DOMParser {\n   private DocumentBuilderFactory = new DocumentBuilderFactory();\n   private DocumentBuilder builder;\n\n   private static DOMParser instance = new DOMParser();\n\n   private DOMParser() {\n      builder = factory.newDocumentBuilder();\n   }\n\n   public Document parse(InputSource xml) {\n       return builder.parser(xml);\n   }\n}\n</code></pre>\n\n<p>Are there any problems that can arise if the above singleton is shared across multiple threads? If not, will there be any performance gain by using the above approach of creating the DocumentBuilderFactory and the DocumentBuilder instances only once throughout the lifetime of the application?</p>\n\n<p><strong>Edit :</strong> </p>\n\n<p>The only time we can face a problem is if DocumentBuilder saves some state information while parsing an XML file which can affect the parsing of the next XML file. </p>\n"},{"tags":["java","events","execution"],"comments":[{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":1,"creation_date":1653729074,"post_id":72414304,"comment_id":127925311,"body_markdown":"Share us with the code you&#39;ve tried and the problems you are facing.","body":"Share us with the code you&#39;ve tried and the problems you are facing."}],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653730793,"creation_date":1653730793,"answer_id":72414551,"question_id":72414304,"body_markdown":"Just an idea not for deployment but should give you an starting point\r\n\r\n    //record start time\r\n    long start=System.currentTimeMillis();\r\n\r\n    //keep running until 5000ms[5s] have \r\n    //elapsed since the start\r\n    while(System.currentTimeMillis()-start&lt;=5000)\r\n    {\r\n     //Do some stuff here\r\n    }\r\n\r\nIf your event handler is executed in the same thread as your system then this will block your system for 5 seconds and stop it from handling other events during that duration.\r\n\r\nSo its better to dispatch your events to seperate threads or execute the above logic in a seperate thread","title":"How can i execute code for a specific amount of time in java?","body":"<p>Just an idea not for deployment but should give you an starting point</p>\n<pre><code>//record start time\nlong start=System.currentTimeMillis();\n\n//keep running until 5000ms[5s] have \n//elapsed since the start\nwhile(System.currentTimeMillis()-start&lt;=5000)\n{\n //Do some stuff here\n}\n</code></pre>\n<p>If your event handler is executed in the same thread as your system then this will block your system for 5 seconds and stop it from handling other events during that duration.</p>\n<p>So its better to dispatch your events to seperate threads or execute the above logic in a seperate thread</p>\n"},{"tags":[],"owner":{"account_id":913595,"reputation":5828,"user_id":946904,"accept_rate":69,"display_name":"marc wellman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653732867,"creation_date":1653731684,"answer_id":72414660,"question_id":72414304,"body_markdown":"A trivial approach would be to simply execute your code in a loop and check in each iteration whether your timing-threshold was reached, such as:\r\n\r\n    // necessary imports for using classes Instant and Duration.\r\n    import java.time.Instant;\r\n    import java.time.Duration;\r\n\r\n    // ...\r\n\r\n    // start time point of your code execution.\r\n    Instant start = Instant.now();\r\n\r\n    // targeted duration of your code execution (e.g. 5 sec.).\r\n    Duration duration = Duration.ofSeconds(5);\r\n         \r\n    // loop your code execution and test in each iteration whether you reached your duration threshold.\r\n    while (Duration.between(start, Instant.now()).toMillis() &lt;= duration.toMillis())\r\n    {\r\n        // execute your code here ...\r\n    }","title":"How can i execute code for a specific amount of time in java?","body":"<p>A trivial approach would be to simply execute your code in a loop and check in each iteration whether your timing-threshold was reached, such as:</p>\n<pre><code>// necessary imports for using classes Instant and Duration.\nimport java.time.Instant;\nimport java.time.Duration;\n\n// ...\n\n// start time point of your code execution.\nInstant start = Instant.now();\n\n// targeted duration of your code execution (e.g. 5 sec.).\nDuration duration = Duration.ofSeconds(5);\n     \n// loop your code execution and test in each iteration whether you reached your duration threshold.\nwhile (Duration.between(start, Instant.now()).toMillis() &lt;= duration.toMillis())\n{\n    // execute your code here ...\n}\n</code></pre>\n"}],"owner":{"account_id":21430265,"reputation":13,"user_id":15786830,"display_name":"Furetto126"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653747754,"accepted_answer_id":72414660,"answer_count":2,"score":0,"last_activity_date":1654005327,"creation_date":1653728561,"question_id":72414304,"body_markdown":"I&#39;d like to execute some code for, let&#39;s say 5 seconds, inside of a method that listens for events.\r\nI&#39;ve tried to use Threads but wasn&#39;t able to make it work properly.\r\n\r\nThis is my code for now, it&#39;s just a listener that triggers when a message with the string in the if statement is detected:\r\n\r\n```java\r\nif (message != null){\r\n\t\t\tif (message.equalsIgnoreCase(&quot;w&quot;)){\r\n\r\n\t\t\t}\r\n\t\t}\r\n```\r\n\r\nthis check is ran every second so i don&#39;t know if &quot;while&quot; statements could work","title":"How can i execute code for a specific amount of time in java?","body":"<p>I'd like to execute some code for, let's say 5 seconds, inside of a method that listens for events.\nI've tried to use Threads but wasn't able to make it work properly.</p>\n<p>This is my code for now, it's just a listener that triggers when a message with the string in the if statement is detected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (message != null){\n            if (message.equalsIgnoreCase(&quot;w&quot;)){\n\n            }\n        }\n</code></pre>\n<p>this check is ran every second so i don't know if &quot;while&quot; statements could work</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654004549,"creation_date":1653577279,"answer_id":72393906,"question_id":72390404,"body_markdown":"You just faced the problem with the `log()` operator in the end of flow.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-log:\r\n\r\n&gt; When this operator is used at the end of a flow, it is a one-way handler and the flow ends.\r\n\r\nThat means your `CHANNEL-ABC` is going to have more than one subscriber with all those your configurations causing a default round-robin distribution strategy for `DirectChannel`: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-directchannel\r\n\r\nSee this GH issue for more details: https://github.com/spring-projects/spring-integration/issues/3615\r\n\r\nTo fix the problem you just need to remove all those `.log()` operators in your flows for those `CHANNEL-[N]`. The one in the flow for `CHANNEL-ABC` is fine.\r\n\r\n**UPDATE**\r\n\r\nRecipient List Router approach:\r\n\r\n        .routeToRecipients(r -&gt; r\r\n\t\t\t\t.recipient(&quot;CHANNEL-ABC&quot;)\r\n\t\t\t\t.recipient(&quot;CHANNEL-3-POST-PROCESS&quot;))\r\n\t\t.channel(&quot;CHANNEL-3-POST-PROCESS&quot;)","title":"Spring Integration - Missing messages while routing to DirectChannel","body":"<p>You just faced the problem with the <code>log()</code> operator in the end of flow.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-log\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-log</a>:</p>\n<blockquote>\n<p>When this operator is used at the end of a flow, it is a one-way handler and the flow ends.</p>\n</blockquote>\n<p>That means your <code>CHANNEL-ABC</code> is going to have more than one subscriber with all those your configurations causing a default round-robin distribution strategy for <code>DirectChannel</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-directchannel\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-directchannel</a></p>\n<p>See this GH issue for more details: <a href=\"https://github.com/spring-projects/spring-integration/issues/3615\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/issues/3615</a></p>\n<p>To fix the problem you just need to remove all those <code>.log()</code> operators in your flows for those <code>CHANNEL-[N]</code>. The one in the flow for <code>CHANNEL-ABC</code> is fine.</p>\n<p><strong>UPDATE</strong></p>\n<p>Recipient List Router approach:</p>\n<pre><code>    .routeToRecipients(r -&gt; r\n            .recipient(&quot;CHANNEL-ABC&quot;)\n            .recipient(&quot;CHANNEL-3-POST-PROCESS&quot;))\n    .channel(&quot;CHANNEL-3-POST-PROCESS&quot;)\n</code></pre>\n"}],"owner":{"account_id":9886087,"reputation":51,"user_id":7320571,"display_name":"nik123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654004549,"creation_date":1653561142,"question_id":72390404,"body_markdown":"I have one DirectChannel(`CHANNEL-ABC`), Multiple producers put messages to it and there \r\n is only one consumer of that channel.\r\n\r\nMy Application polls one folder for files in it and `CHANNEL-1` is called per file.\r\n\r\n**Producer as follow.**\r\n\r\n    IntegrationFlows.from(&quot;CHANNEL-1&quot;)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-1 flow started&quot;)\r\n                       ...\r\n                     )\r\n                    .split()\r\n                    .handle(\r\n                       ...\r\n                     )\r\n                    .aggregate(...)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;Aggregated&quot;)\r\n                     )\r\n                    .channel(&quot;CHANNEL-ABC&quot;)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-1 flow ended&quot;)\r\n                       ...\r\n                     )\r\n                    .get();\r\n\r\n    IntegrationFlows.from(&quot;CHANNEL-2&quot;)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-2 flow started&quot;)\r\n                       ...\r\n                     )\r\n                    .handle(\r\n                       ...\r\n                     )\r\n                    .channel(&quot;CHANNEL-ABC&quot;)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-2 flow ended&quot;)\r\n                       ...\r\n                     )\r\n                    .get();\r\n\r\n    IntegrationFlows.from(&quot;CHANNEL-3&quot;)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-3 flow started&quot;)\r\n                       ...\r\n                     )\r\n                    .channel(&quot;CHANNEL-ABC&quot;)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-3 flow ended&quot;)\r\n                       ...\r\n                     )\r\n                    .get();\r\n\r\nNote: All `CHANNEL-1`, `CHANNEL-2` and `CHANNEL-3` are DirectChannel.\r\n\r\n**Consumer as follow.**\r\n\r\n    IntegrationFlows.from(&quot;CHANNEL-ABC&quot;)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-ABC flow started&quot;)\r\n                       ...\r\n                     )\r\n                    .handle(....)\r\n                    .handle(\r\n                       ...\r\n                       logger.info(&quot;CHANNEL-3 flow ended&quot;)\r\n                       ...\r\n                     )\r\n                    .get();\r\n\r\nI had put multiple files in polling folder and I have observed logs as below.\r\n\r\nFor File-1 `//CHANNEL-ABC called but route after channel calling not executed`\r\n\r\n    CHANNEL-1 flow started\r\n    Aggregated\r\n    CHANNEL-ABC flow started\r\n    CHANNEL-ABC flow ended\r\n    \r\n\r\nFor File-2 `//CHANNEL-ABC flow not executed and routed to another rout after that`\r\n\r\n    CHANNEL-1 flow started\r\n    Aggregated\r\n    CHANNEL-2 flow ended\r\n\r\nFor File-3 `//CHANNEL-ABC flow not executed but remaining flow does get executed`\r\n\r\n    CHANNEL-1 flow started\r\n    Aggregated\r\n    CHANNEL-1 flow ended\r\n\r\nFor File-4 `//CHANNEL-ABC flow not executed also remaining flow doesn&#39;t get executed`\r\n\r\n    CHANNEL-1 flow started\r\n    Aggregated\r\n\r\n\r\nSometime it skips calling DirectChannel and sometime it calls but return flow to some other channel. \r\nI want my flow to be executed in single thread, What is the best channel choice for above scenario if not DirectChannle? And Is above mentioned behavior is expected behavior, if Yes then How can I prevent it?\r\n\r\n**Update:**\r\nI had added `.log` for explanation purpose only, Now I have updated the flow as well as observed result above.","title":"Spring Integration - Missing messages while routing to DirectChannel","body":"<p>I have one DirectChannel(<code>CHANNEL-ABC</code>), Multiple producers put messages to it and there\nis only one consumer of that channel.</p>\n<p>My Application polls one folder for files in it and <code>CHANNEL-1</code> is called per file.</p>\n<p><strong>Producer as follow.</strong></p>\n<pre><code>IntegrationFlows.from(&quot;CHANNEL-1&quot;)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-1 flow started&quot;)\n                   ...\n                 )\n                .split()\n                .handle(\n                   ...\n                 )\n                .aggregate(...)\n                .handle(\n                   ...\n                   logger.info(&quot;Aggregated&quot;)\n                 )\n                .channel(&quot;CHANNEL-ABC&quot;)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-1 flow ended&quot;)\n                   ...\n                 )\n                .get();\n\nIntegrationFlows.from(&quot;CHANNEL-2&quot;)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-2 flow started&quot;)\n                   ...\n                 )\n                .handle(\n                   ...\n                 )\n                .channel(&quot;CHANNEL-ABC&quot;)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-2 flow ended&quot;)\n                   ...\n                 )\n                .get();\n\nIntegrationFlows.from(&quot;CHANNEL-3&quot;)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-3 flow started&quot;)\n                   ...\n                 )\n                .channel(&quot;CHANNEL-ABC&quot;)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-3 flow ended&quot;)\n                   ...\n                 )\n                .get();\n</code></pre>\n<p>Note: All <code>CHANNEL-1</code>, <code>CHANNEL-2</code> and <code>CHANNEL-3</code> are DirectChannel.</p>\n<p><strong>Consumer as follow.</strong></p>\n<pre><code>IntegrationFlows.from(&quot;CHANNEL-ABC&quot;)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-ABC flow started&quot;)\n                   ...\n                 )\n                .handle(....)\n                .handle(\n                   ...\n                   logger.info(&quot;CHANNEL-3 flow ended&quot;)\n                   ...\n                 )\n                .get();\n</code></pre>\n<p>I had put multiple files in polling folder and I have observed logs as below.</p>\n<p>For File-1 <code>//CHANNEL-ABC called but route after channel calling not executed</code></p>\n<pre><code>CHANNEL-1 flow started\nAggregated\nCHANNEL-ABC flow started\nCHANNEL-ABC flow ended\n</code></pre>\n<p>For File-2 <code>//CHANNEL-ABC flow not executed and routed to another rout after that</code></p>\n<pre><code>CHANNEL-1 flow started\nAggregated\nCHANNEL-2 flow ended\n</code></pre>\n<p>For File-3 <code>//CHANNEL-ABC flow not executed but remaining flow does get executed</code></p>\n<pre><code>CHANNEL-1 flow started\nAggregated\nCHANNEL-1 flow ended\n</code></pre>\n<p>For File-4 <code>//CHANNEL-ABC flow not executed also remaining flow doesn't get executed</code></p>\n<pre><code>CHANNEL-1 flow started\nAggregated\n</code></pre>\n<p>Sometime it skips calling DirectChannel and sometime it calls but return flow to some other channel.\nI want my flow to be executed in single thread, What is the best channel choice for above scenario if not DirectChannle? And Is above mentioned behavior is expected behavior, if Yes then How can I prevent it?</p>\n<p><strong>Update:</strong>\nI had added <code>.log</code> for explanation purpose only, Now I have updated the flow as well as observed result above.</p>\n"},{"tags":["java","spring-boot","gradle","header","http-headers"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":2,"creation_date":1529507733,"post_id":50951583,"comment_id":88900876,"body_markdown":"How did you intend to use this object in your code ? Note that `org.apache.http.HttpHeaders` is nothing more than a set of constants.","body":"How did you intend to use this object in your code ? Note that <code>org.apache.http.HttpHeaders</code> is nothing more than a set of constants."}],"answers":[{"tags":[],"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529508647,"creation_date":1529508207,"answer_id":50951777,"question_id":50951583,"body_markdown":"The constructor in `org.apache.http.HttpHeaders` is a private constructor - see source code clone {[here][1]}. Since you are trying to invoke a private attribute, that error message is expected. \r\n\r\nAttaching relevant code snippet for posterity:\r\n\r\n    public final class HttpHeaders {\r\n    \r\n        private HttpHeaders() {\r\n        }\r\n        \r\n        // ....\r\n        // bunch of defined constants\r\n        // ....\r\n    }\r\n\r\nThe rationale behind this class is specified in the class docstring,\r\n\r\n    /**\r\n     * Constants enumerating the HTTP headers. All headers defined in RFC1945 (HTTP/1.0), RFC2616 (HTTP/1.1), and RFC2518\r\n     * (WebDAV) are listed.\r\n     *\r\n     * @since 4.1\r\n     */\r\nwhich is not the what you are trying to achieve here. If you wish to make a remote request, using apache library, with a request that contains headers, please follow {[this example][2]}. Adding relevant code snippet for posterity:\r\n\r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpGet request = new HttpGet(SAMPLE_URL);\r\n    request.setHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n    client.execute(request);\r\n\r\nIf you are using &gt;=4.3 of HttpClient, you would want to do something like this:\r\n\r\n    HttpUriRequest request = RequestBuilder.get()\r\n      .setUri(SAMPLE_URL)\r\n      .setHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n      .build();\r\n\r\n\r\n  [1]: https://github.com/Jean-Emile/org.apache.httpclient/blob/master/src/main/java/org/apache/http/HttpHeaders.java#L38\r\n  [2]: http://www.baeldung.com/httpclient-custom-http-header","title":"how to resolve &#39;HttpHeaders&#39; has private access in &#39;org.apache.http.HttpHeaders&#39; error","body":"<p>The constructor in <code>org.apache.http.HttpHeaders</code> is a private constructor - see source code clone {<a href=\"https://github.com/Jean-Emile/org.apache.httpclient/blob/master/src/main/java/org/apache/http/HttpHeaders.java#L38\" rel=\"nofollow noreferrer\">here</a>}. Since you are trying to invoke a private attribute, that error message is expected. </p>\n\n<p>Attaching relevant code snippet for posterity:</p>\n\n<pre><code>public final class HttpHeaders {\n\n    private HttpHeaders() {\n    }\n\n    // ....\n    // bunch of defined constants\n    // ....\n}\n</code></pre>\n\n<p>The rationale behind this class is specified in the class docstring,</p>\n\n<pre><code>/**\n * Constants enumerating the HTTP headers. All headers defined in RFC1945 (HTTP/1.0), RFC2616 (HTTP/1.1), and RFC2518\n * (WebDAV) are listed.\n *\n * @since 4.1\n */\n</code></pre>\n\n<p>which is not the what you are trying to achieve here. If you wish to make a remote request, using apache library, with a request that contains headers, please follow {<a href=\"http://www.baeldung.com/httpclient-custom-http-header\" rel=\"nofollow noreferrer\">this example</a>}. Adding relevant code snippet for posterity:</p>\n\n<pre><code>HttpClient client = new DefaultHttpClient();\nHttpGet request = new HttpGet(SAMPLE_URL);\nrequest.setHeader(HttpHeaders.CONTENT_TYPE, \"application/json\");\nclient.execute(request);\n</code></pre>\n\n<p>If you are using >=4.3 of HttpClient, you would want to do something like this:</p>\n\n<pre><code>HttpUriRequest request = RequestBuilder.get()\n  .setUri(SAMPLE_URL)\n  .setHeader(HttpHeaders.CONTENT_TYPE, \"application/json\")\n  .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646546,"reputation":808,"user_id":3764651,"accept_rate":100,"display_name":"chao_chang"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1540353415,"creation_date":1540351512,"answer_id":52960655,"question_id":50951583,"body_markdown":"The package name is wrong, in order to add headers when using Spring restTemplate, you should use `org.springframework.http.HttpHeaders.HttpHeaders` instead of `org.apache.http.HttpHeaders`. \r\nThe following is the code snippet that adds request headers.\r\n\r\n\r\n    // request resource\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;headerName&quot;, &quot;headerValue&quot;);\r\n    \r\n    HttpEntity entity = new HttpEntity(headers);\r\n    \r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;https://example.com&quot;, HttpMethod.GET, entity, String.class);\r\n\r\n","title":"how to resolve &#39;HttpHeaders&#39; has private access in &#39;org.apache.http.HttpHeaders&#39; error","body":"<p>The package name is wrong, in order to add headers when using Spring restTemplate, you should use <code>org.springframework.http.HttpHeaders.HttpHeaders</code> instead of <code>org.apache.http.HttpHeaders</code>. \nThe following is the code snippet that adds request headers.</p>\n\n<pre><code>// request resource\nHttpHeaders headers = new HttpHeaders();\nheaders.set(\"headerName\", \"headerValue\");\n\nHttpEntity entity = new HttpEntity(headers);\n\nResponseEntity&lt;String&gt; response = restTemplate.exchange(\"https://example.com\", HttpMethod.GET, entity, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7609919,"reputation":654,"user_id":5771148,"display_name":"Khushhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654004495,"creation_date":1654004495,"answer_id":72448926,"question_id":50951583,"body_markdown":"To remove compilation errors with \r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n\r\n make sure you haven&#39;t imported `HttpHeaders` from apache http clients.\r\n\r\n    import org.apache.http.HttpHeaders;\r\n\r\nthis will not work as `HttpHeaders` has a private constructor.\r\n\r\nYour import statement should be this:\r\n\r\n    import org.springframework.http.HttpHeaders;\r\n\r\nAnd then you can add headers using the `add(String headerName, String headerValue)` method.\r\n\r\nSource: [Link](https://stackoverflow.com/a/53994418/5771148)","title":"how to resolve &#39;HttpHeaders&#39; has private access in &#39;org.apache.http.HttpHeaders&#39; error","body":"<p>To remove compilation errors with</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\n</code></pre>\n<p>make sure you haven't imported <code>HttpHeaders</code> from apache http clients.</p>\n<pre><code>import org.apache.http.HttpHeaders;\n</code></pre>\n<p>this will not work as <code>HttpHeaders</code> has a private constructor.</p>\n<p>Your import statement should be this:</p>\n<pre><code>import org.springframework.http.HttpHeaders;\n</code></pre>\n<p>And then you can add headers using the <code>add(String headerName, String headerValue)</code> method.</p>\n<p>Source: <a href=\"https://stackoverflow.com/a/53994418/5771148\">Link</a></p>\n"}],"owner":{"account_id":13295192,"reputation":144,"user_id":9598447,"display_name":"Brian Akumah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10293,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52960655,"answer_count":3,"score":8,"last_activity_date":1654004495,"creation_date":1529507609,"question_id":50951583,"body_markdown":"I am trying to make an Http Request using RestTemplate, and it keeps on giving me the error: **&#39;HttpHeaders&#39; has private access in &#39;org.apache.http.HttpHeaders&#39;**\r\n\r\nI am simply trying to write this line:\r\n\r\n    HttpHeaders headers = new HttpHeaders();","title":"how to resolve &#39;HttpHeaders&#39; has private access in &#39;org.apache.http.HttpHeaders&#39; error","body":"<p>I am trying to make an Http Request using RestTemplate, and it keeps on giving me the error: <strong>'HttpHeaders' has private access in 'org.apache.http.HttpHeaders'</strong></p>\n\n<p>I am simply trying to write this line:</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\n</code></pre>\n"},{"tags":["java","servlets","servlet-filters"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654004756,"post_id":72448874,"comment_id":127985310,"body_markdown":"You already answered your own question in your question... The filter is the thing you are looking for.","body":"You already answered your own question in your question... The filter is the thing you are looking for."},{"owner":{"account_id":15325054,"reputation":33,"user_id":11056427,"display_name":"GOURAV KUMAR"},"score":0,"creation_date":1654005698,"post_id":72448874,"comment_id":127985734,"body_markdown":"But the filter is an interface, is there any class that gets called? i mean i don&#39;t want to give implementation for filter interface.","body":"But the filter is an interface, is there any class that gets called? i mean i don&#39;t want to give implementation for filter interface."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654006513,"post_id":72448874,"comment_id":127986128,"body_markdown":"How else should you provide the code that gets executed. YOu need to implement something.","body":"How else should you provide the code that gets executed. YOu need to implement something."},{"owner":{"account_id":15325054,"reputation":33,"user_id":11056427,"display_name":"GOURAV KUMAR"},"score":0,"creation_date":1654006864,"post_id":72448874,"comment_id":127986303,"body_markdown":"I thought there might be a class that implements filter anyways thanks","body":"I thought there might be a class that implements filter anyways thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654007024,"post_id":72448874,"comment_id":127986381,"body_markdown":"Even if there would be, then what? You would have a dummy implementation that doesn&#39;t do anything, which you would need to extend and implement the `doFilter` method. So what would be the added benefit?","body":"Even if there would be, then what? You would have a dummy implementation that doesn&#39;t do anything, which you would need to extend and implement the <code>doFilter</code> method. So what would be the added benefit?"}],"owner":{"account_id":15325054,"reputation":33,"user_id":11056427,"display_name":"GOURAV KUMAR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654004356,"creation_date":1654004356,"question_id":72448874,"body_markdown":"In a normal scenario, the client calls for an HTTP request (get, post, put, etc) and the request goes to the servlet. \r\n\r\nTo Intercept the request we can define our own filter which can act as middleware.\r\n\r\nMy question:&lt;br&gt;\r\nIs there any middleware by default inside the javax.servlet package that gets called before the request reaches to target servlet.","title":"Is there any middleware that gets called during a request life cycle before going to servlet to get handled?","body":"<p>In a normal scenario, the client calls for an HTTP request (get, post, put, etc) and the request goes to the servlet.</p>\n<p>To Intercept the request we can define our own filter which can act as middleware.</p>\n<p>My question:<br>\nIs there any middleware by default inside the javax.servlet package that gets called before the request reaches to target servlet.</p>\n"},{"tags":["java","optaplanner","domain-model"],"answers":[{"tags":[],"owner":{"account_id":14879486,"reputation":964,"user_id":10744614,"display_name":"Radovan Synek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647264939,"creation_date":1647264939,"answer_id":71468674,"question_id":71456603,"body_markdown":"Since you want to assign lessons to time and rooms and students to lessons, I think you truly need two `@PlanningEntity` classes. As multiple students can attend multiple lessons, you can perhaps create a new `StudentAssignment` `@PlanningEntity` class with `Lesson` as its `@PlanningVariable`.\r\n\r\nYes, the `@PlanningEntityCollection` can only be a field on the `@PlanningSolution` class. What can be put inside the `@PlanningEntity` class is the `@ValueRangeProvider` that provides values for the `@PlanningVariable` field.","title":"OptaPlanner domain modelling - multiple PlanningEntity classes?","body":"<p>Since you want to assign lessons to time and rooms and students to lessons, I think you truly need two <code>@PlanningEntity</code> classes. As multiple students can attend multiple lessons, you can perhaps create a new <code>StudentAssignment</code> <code>@PlanningEntity</code> class with <code>Lesson</code> as its <code>@PlanningVariable</code>.</p>\n<p>Yes, the <code>@PlanningEntityCollection</code> can only be a field on the <code>@PlanningSolution</code> class. What can be put inside the <code>@PlanningEntity</code> class is the <code>@ValueRangeProvider</code> that provides values for the <code>@PlanningVariable</code> field.</p>\n"}],"owner":{"account_id":1138836,"reputation":1013,"user_id":1123303,"accept_rate":30,"display_name":"Radical"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654004273,"creation_date":1647173213,"question_id":71456603,"body_markdown":"I am trying to construct the domain model for an optimization use-case, using OptaPlanner. In my mind the following problem should be modeled using two `@PlanningEntity` classes, but since the OptaPlanner documentation often argues that you usually only need one `@PlanningEntity` class, I am wondering if I am modelling my problem incorrectly, or whether this is in fact a situation to have two `@PlanningEntity` classes.\r\n\r\nConsider a school timetabling problem like the example provided by OptaPlanner [here][1], but imagine we are also planning and optimising which students attend a lesson. If these problems are independent, then this could be solved by writing two different solvers, and running the &quot;student planner&quot; solver first, and then the &quot;schedule planner&quot; solver. However, assume that these two are not independent. For example, constraints regarding the placement of students in certain lessons might interact with when these lessons take place (student X prefers lessons in the morning, student Y prefers lessons in the afternoon, and student Z cannot have two lessons directly in a row). So, when optimising, I would like the solver to be able to consider both the timeslot of lessons as well as the students attending a lesson.\r\n\r\nMy idea to model this would be to extend the `TimeTable` class in the example with a second `@PlanningEntity` modelling student to lesson assignments, and in the `Lesson` class the `studentGroup` field would be replaced with a list containing all the students assigned to that lesson, probably in the form of a shadow variable (though this is an implementation detail).\r\n\r\n 1. Am I correct in that in the above example, two different `@PlanningEntity` classes (&quot;Student to lesson assignment&quot; as well as `Lesson`) are appropriate? Or is there a way to model this problem using only a single `@PlanningEntity`? I know that a `@PlanningVariable` cannot be a list, so I assume a `List&lt;Student&gt; students` planning variable is not possible.\r\n 1. Am I correct that a `@PlanningEntityCollection` can only be a field on the `@PlanningSolution`? Or is there a way to have the student assignments be a field on the `Lesson`?\r\n\r\n  [1]: https://github.com/kiegroup/optaplanner-quickstarts/tree/stable/use-cases/school-timetabling","title":"OptaPlanner domain modelling - multiple PlanningEntity classes?","body":"<p>I am trying to construct the domain model for an optimization use-case, using OptaPlanner. In my mind the following problem should be modeled using two <code>@PlanningEntity</code> classes, but since the OptaPlanner documentation often argues that you usually only need one <code>@PlanningEntity</code> class, I am wondering if I am modelling my problem incorrectly, or whether this is in fact a situation to have two <code>@PlanningEntity</code> classes.</p>\n<p>Consider a school timetabling problem like the example provided by OptaPlanner <a href=\"https://github.com/kiegroup/optaplanner-quickstarts/tree/stable/use-cases/school-timetabling\" rel=\"nofollow noreferrer\">here</a>, but imagine we are also planning and optimising which students attend a lesson. If these problems are independent, then this could be solved by writing two different solvers, and running the &quot;student planner&quot; solver first, and then the &quot;schedule planner&quot; solver. However, assume that these two are not independent. For example, constraints regarding the placement of students in certain lessons might interact with when these lessons take place (student X prefers lessons in the morning, student Y prefers lessons in the afternoon, and student Z cannot have two lessons directly in a row). So, when optimising, I would like the solver to be able to consider both the timeslot of lessons as well as the students attending a lesson.</p>\n<p>My idea to model this would be to extend the <code>TimeTable</code> class in the example with a second <code>@PlanningEntity</code> modelling student to lesson assignments, and in the <code>Lesson</code> class the <code>studentGroup</code> field would be replaced with a list containing all the students assigned to that lesson, probably in the form of a shadow variable (though this is an implementation detail).</p>\n<ol>\n<li>Am I correct in that in the above example, two different <code>@PlanningEntity</code> classes (&quot;Student to lesson assignment&quot; as well as <code>Lesson</code>) are appropriate? Or is there a way to model this problem using only a single <code>@PlanningEntity</code>? I know that a <code>@PlanningVariable</code> cannot be a list, so I assume a <code>List&lt;Student&gt; students</code> planning variable is not possible.</li>\n<li>Am I correct that a <code>@PlanningEntityCollection</code> can only be a field on the <code>@PlanningSolution</code>? Or is there a way to have the student assignments be a field on the <code>Lesson</code>?</li>\n</ol>\n"},{"tags":["java","web-services","http","servlets","cas"],"comments":[{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":0,"creation_date":1360743173,"post_id":14848877,"comment_id":20810946,"body_markdown":"In ur **URI**, are you sure, its **https**, and not **http**? Please check that once.","body":"In ur <b>URI</b>, are you sure, its <b>https</b>, and not <b>http</b>? Please check that once."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1360743305,"post_id":14848877,"comment_id":20811003,"body_markdown":"Yes its HTTPS only . SSL enabled on my Tomcat server .","body":"Yes its HTTPS only . SSL enabled on my Tomcat server ."}],"answers":[{"tags":[],"owner":{"account_id":2297199,"reputation":1214,"user_id":2018361,"display_name":"Bob Flannigon"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1495017783,"creation_date":1360745507,"answer_id":14849649,"question_id":14848877,"body_markdown":"An absolute URI specifies a scheme; a URI that is not absolute is said to be relative.\r\n\r\nhttp://docs.oracle.com/javase/8/docs/api/java/net/URI.html\r\n\r\nSo, perhaps your URLEncoder isn&#39;t working as you&#39;re expecting (the https bit)?\r\n\r\n        URLEncoder.encode(uri) ","title":"Uri not Absolute exception getting while calling Restful Webservice","body":"<p>An absolute URI specifies a scheme; a URI that is not absolute is said to be relative.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/net/URI.html</a></p>\n\n<p>So, perhaps your URLEncoder isn't working as you're expecting (the https bit)?</p>\n\n<pre><code>    URLEncoder.encode(uri) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1360748539,"creation_date":1360748539,"answer_id":14850478,"question_id":14848877,"body_markdown":"The problem is likely that you are calling URLEncoder.encode() on something that already is a URI.","title":"Uri not Absolute exception getting while calling Restful Webservice","body":"<p>The problem is likely that you are calling URLEncoder.encode() on something that already is a URI.</p>\n"},{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567772747,"creation_date":1567772747,"answer_id":57822019,"question_id":14848877,"body_markdown":"Maybe the problem only in your IDE encoding settings. Try to set UTF-8 everywhere:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJg19.png","title":"Uri not Absolute exception getting while calling Restful Webservice","body":"<p>Maybe the problem only in your IDE encoding settings. Try to set UTF-8 everywhere:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sJg19.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJg19.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":930576,"reputation":1615,"user_id":960525,"accept_rate":78,"display_name":"Jalal Sordo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1610717127,"creation_date":1610717127,"answer_id":65736927,"question_id":14848877,"body_markdown":"For others who landed in this error and it&#39;s not 100% related to the OP question, please check that you are passing the value and it is not null in case of spring-boot: @Value annotation.","title":"Uri not Absolute exception getting while calling Restful Webservice","body":"<p>For others who landed in this error and it's not 100% related to the OP question, please check that you are passing the value and it is not null in case of spring-boot: @Value annotation.</p>\n"},{"tags":[],"owner":{"account_id":13546421,"reputation":1,"user_id":9772590,"display_name":"Christopher James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618930897,"creation_date":1618930897,"answer_id":67181485,"question_id":14848877,"body_markdown":"In an API Key Authorization Scenario...\r\n\r\nYou may be performing the 2nd REST call after getting an AUTH_TOKEN and ENDPOINT_URL from the first REST call.\r\n\r\nCheck your concatenation of &quot;&lt;ENDPOINT_URL&gt; + &lt;API_METHOD_URI&gt;&quot;, you may be sending only the API_METHOD_URI.\r\n\r\nThis happened to me using the Streamsets integration platform trying to connect to Oracle&#39;s Responsys API.\r\n","title":"Uri not Absolute exception getting while calling Restful Webservice","body":"<p>In an API Key Authorization Scenario...</p>\n<p>You may be performing the 2nd REST call after getting an AUTH_TOKEN and ENDPOINT_URL from the first REST call.</p>\n<p>Check your concatenation of &quot;&lt;ENDPOINT_URL&gt; + &lt;API_METHOD_URI&gt;&quot;, you may be sending only the API_METHOD_URI.</p>\n<p>This happened to me using the Streamsets integration platform trying to connect to Oracle's Responsys API.</p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654004230,"creation_date":1654004230,"answer_id":72448836,"question_id":14848877,"body_markdown":"For me, I was getting this error, when configuation in yaml files, which composed my URL was changed. oops,","title":"Uri not Absolute exception getting while calling Restful Webservice","body":"<p>For me, I was getting this error, when configuation in yaml files, which composed my URL was changed. oops,</p>\n"}],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214701,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":14849649,"answer_count":6,"score":29,"last_activity_date":1654004230,"creation_date":1360742292,"question_id":14848877,"body_markdown":"The below code snippet is using to call my web service using restful API.\r\n\r\n    ClientConfig config = new DefaultClientConfig();\r\n    \tClient client = Client.create(config);\r\n    \tString uri= &quot;https://127.0.0.1:8443/cas-server-webapp-3.5.0/login&quot;;\r\n    \tWebResource resource = client.resource(URLEncoder.encode(uri));\r\n    \t  MultivaluedMap&lt;String, String&gt; queryParams = new MultivaluedMapImpl();\r\n    \t   queryParams.add(&quot;username&quot;, &quot;suresh&quot;);\r\n    \t   queryParams.add(&quot;password&quot;, &quot;suresh&quot;);\r\n    \t   resource.queryParams(queryParams); \r\n    \t   ClientResponse response = resource.type(\r\n    \t\t\t&quot;application/x-www-form-urlencoded&quot;).get(ClientResponse.class);\r\n    \tString en = response.getEntity(String.class);\r\n    \tSystem.out.println(en); \r\n\r\nAnd getting this exception while running the above code \r\n\r\n\r\n    com.sun.jersey.api.client.ClientHandlerException: java.lang.IllegalArgumentException: URI is not absolute\r\n    \r\n        at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:151)\r\n        at com.sun.jersey.api.client.Client.handle(Client.java:648)\r\n        at com.sun.jersey.api.client.WebResource.handle(WebResource.java:680)\r\n\r\n\r\n\r\nI googled many articles and did&#39;nt get where i am doing wrong .\r\n\r\nSide note :`cas-server-webapp-3.5.0`  war deployed on my machine in Apache tomacat7 ","title":"Uri not Absolute exception getting while calling Restful Webservice","body":"<p>The below code snippet is using to call my web service using restful API.</p>\n\n<pre><code>ClientConfig config = new DefaultClientConfig();\n    Client client = Client.create(config);\n    String uri= \"https://127.0.0.1:8443/cas-server-webapp-3.5.0/login\";\n    WebResource resource = client.resource(URLEncoder.encode(uri));\n      MultivaluedMap&lt;String, String&gt; queryParams = new MultivaluedMapImpl();\n       queryParams.add(\"username\", \"suresh\");\n       queryParams.add(\"password\", \"suresh\");\n       resource.queryParams(queryParams); \n       ClientResponse response = resource.type(\n            \"application/x-www-form-urlencoded\").get(ClientResponse.class);\n    String en = response.getEntity(String.class);\n    System.out.println(en); \n</code></pre>\n\n<p>And getting this exception while running the above code </p>\n\n<pre><code>com.sun.jersey.api.client.ClientHandlerException: java.lang.IllegalArgumentException: URI is not absolute\n\n    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:151)\n    at com.sun.jersey.api.client.Client.handle(Client.java:648)\n    at com.sun.jersey.api.client.WebResource.handle(WebResource.java:680)\n</code></pre>\n\n<p>I googled many articles and did'nt get where i am doing wrong .</p>\n\n<p>Side note :<code>cas-server-webapp-3.5.0</code>  war deployed on my machine in Apache tomacat7 </p>\n"},{"tags":["java","javafx","nullpointerexception","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1654000102,"post_id":72447447,"comment_id":127983349,"body_markdown":"Post the complete stack trace in the question, formatted as code.","body":"Post the complete stack trace in the question, formatted as code."},{"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"score":0,"creation_date":1654000497,"post_id":72447447,"comment_id":127983528,"body_markdown":"@James_D just did it.","body":"@James_D just did it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1654000539,"post_id":72447447,"comment_id":127983542,"body_markdown":"That doesn’t look complete","body":"That doesn’t look complete"},{"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"score":0,"creation_date":1654000911,"post_id":72447447,"comment_id":127983672,"body_markdown":"@James_D I printed the whole stack trace and that&#39;s all I had.","body":"@James_D I printed the whole stack trace and that&#39;s all I had."},{"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"score":0,"creation_date":1654000984,"post_id":72447447,"comment_id":127983696,"body_markdown":"@James_D The nullptrexception points to the last line of `view.fxml`, on exactly `&lt;/VBox&gt;`","body":"@James_D The nullptrexception points to the last line of <code>view.fxml</code>, on exactly <code>&lt;&#47;VBox&gt;</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1654000993,"post_id":72447447,"comment_id":127983701,"body_markdown":"There is fairly obviously something missing at the beginning.","body":"There is fairly obviously something missing at the beginning."},{"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"score":0,"creation_date":1654001360,"post_id":72447447,"comment_id":127983834,"body_markdown":"@James_D I just posted the whole file. I can&#39;t spot anything missing. Same thing from other FXML file I have.","body":"@James_D I just posted the whole file. I can&#39;t spot anything missing. Same thing from other FXML file I have."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1654002689,"post_id":72447447,"comment_id":127984394,"body_markdown":"The stack trace is clearly incomplete. It&#39;s extremely difficult to help you diagnose this without the whole thing. You say it points to the last line of `view.fxml` but the portion you posted doesn&#39;t refer to any FXML file at all. Post the whole thing.","body":"The stack trace is clearly incomplete. It&#39;s extremely difficult to help you diagnose this without the whole thing. You say it points to the last line of <code>view.fxml</code> but the portion you posted doesn&#39;t refer to any FXML file at all. Post the whole thing."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1654002858,"post_id":72447447,"comment_id":127984456,"body_markdown":"This is probably caused by the weird circular bindings you are doing, where you try to bind preferred sizes of things to their own actual sizes. I don&#39;t really know what you are trying to do with that.","body":"This is probably caused by the weird circular bindings you are doing, where you try to bind preferred sizes of things to their own actual sizes. I don&#39;t really know what you are trying to do with that."},{"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"score":0,"creation_date":1654003293,"post_id":72447447,"comment_id":127984630,"body_markdown":"@James_D All I wanna do is simply set the view of a Tab to a FXML file. I just edited with everything I could print from the exception, at the top you can see it refers to line 40 of `view.fxml`, which is the last line from that file.","body":"@James_D All I wanna do is simply set the view of a Tab to a FXML file. I just edited with everything I could print from the exception, at the top you can see it refers to line 40 of <code>view.fxml</code>, which is the last line from that file."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1654003661,"post_id":72447447,"comment_id":127984795,"body_markdown":"Try taking out the bindings for `prefHeight` and `prefWidth`. It&#39;s not really clear how those are supposed to work, or really what they are supposed to do. Binding sizing hints is not a good strategy generally anyway.","body":"Try taking out the bindings for <code>prefHeight</code> and <code>prefWidth</code>. It&#39;s not really clear how those are supposed to work, or really what they are supposed to do. Binding sizing hints is not a good strategy generally anyway."},{"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"score":0,"creation_date":1654003841,"post_id":72447447,"comment_id":127984872,"body_markdown":"@James_D Mate, I thank you so much for that. I&#39;ve been hitting my head for two days to make that work. Thank you!","body":"@James_D Mate, I thank you so much for that. I&#39;ve been hitting my head for two days to make that work. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654003998,"creation_date":1654003998,"answer_id":72448777,"question_id":72447447,"body_markdown":"Thanks to @James_D comments, he pointed me out that `prefWidth` and `prefHeight` were the problem. Simply removing those lines from `view.fxml` solved my problem.\r\n\r\nSolution:\r\n\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx/8&quot;\r\n     xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n     fx:id=&quot;View&quot;\r\n     alignment=&quot;CENTER&quot;\r\n     fx:controller=&quot;pkg.magazineservice.view_controller&quot;\r\n     &gt;\r\n    &lt;!-- NO WIDTH AND HEIGHT--&gt;\r\n","title":"JavaFX - FXML Load Exception on loading FXML component into Tab","body":"<p>Thanks to @James_D comments, he pointed me out that <code>prefWidth</code> and <code>prefHeight</code> were the problem. Simply removing those lines from <code>view.fxml</code> solved my problem.</p>\n<p>Solution:</p>\n<pre><code>&lt;VBox xmlns=&quot;http://javafx.com/javafx/8&quot;\n xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n fx:id=&quot;View&quot;\n alignment=&quot;CENTER&quot;\n fx:controller=&quot;pkg.magazineservice.view_controller&quot;\n &gt;\n&lt;!-- NO WIDTH AND HEIGHT--&gt;\n</code></pre>\n"}],"owner":{"account_id":18809560,"reputation":11,"user_id":13718056,"display_name":"Joao Soares"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654003998,"creation_date":1653998572,"question_id":72447447,"body_markdown":"I want to have a page with tabs and in each tab I will call another FXML component. I&#39;ve already tried so many answers and none of them worked for me. The main page where my TabPane is `home.fxml` and in one of the tabs I want to call `view.fxml`. Right now, I&#39;m trying this approach:\r\n\r\nhome.fxml page:\r\n\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx/8&quot;\r\n      xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n      prefHeight=&quot;${screen.visualBounds.height}&quot;\r\n      fx:controller=&quot;pkg.magazineservice.home_controller&quot;\r\n      fx:id=&quot;wrapper&quot;&gt;\r\n    \r\n    &lt;fx:define&gt;\r\n        &lt;Screen fx:factory=&quot;getPrimary&quot; fx:id=&quot;screen&quot; /&gt;\r\n    &lt;/fx:define&gt;\r\n\r\n    &lt;VBox style=&quot;-fx-background-color: #003d80&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;${wrapper.height * 0.10}&quot; &gt;\r\n        &lt;Label BorderPane.alignment=&quot;CENTER&quot; style=&quot;-fx-text-fill: white&quot; text=&quot;Magazine Service&quot; &gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;32&quot; /&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n    &lt;/VBox&gt;\r\n\r\n    &lt;TabPane style=&quot;-fx-close-tab-animation: none&quot; fx:id=&quot;contentWrapper&quot; prefHeight=&quot;${wrapper.height * 0.9}&quot; prefWidth=&quot;${screen.visualBounds.width}&quot;&gt;\r\n        &lt;Tab fx:id=&quot;View&quot; text=&quot;View&quot;&gt;\r\n            &lt;VBox&gt;\r\n                &lt;!--&lt;fx:include source=&quot;view.fxml&quot; /&gt;--&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/Tab&gt;\r\n        &lt;Tab fx:id=&quot;Create&quot; text=&quot;Create&quot;&gt;\r\n            &lt;VBox&gt;\r\n                &lt;!--&lt;fx:include source=&quot;view.fxml&quot; /&gt;--&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/Tab&gt;\r\n        &lt;Tab fx:id=&quot;Edit&quot; text=&quot;Edit&quot;&gt;\r\n            &lt;VBox&gt;\r\n                &lt;!--&lt;fx:include source=&quot;view.fxml&quot; /&gt;--&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/Tab&gt;\r\n    &lt;/TabPane&gt;\r\n&lt;/VBox&gt;\r\n \r\nOn it&#39;s controller, I&#39;m trying to initialize a page:\r\n\r\n`home_controller.java`\r\n\r\n     @Override\r\n    public void initialize(URL location, ResourceBundle resources)\r\n    {\r\n        try\r\n        {\r\n            Tab tab = new Tab();\r\n            View.setContent((Node) FXMLLoader.load(this.getClass().getResource(&quot;view.fxml&quot;)));\r\n        }\r\n        catch(IOException iex)\r\n        {\r\n            System.out.println(iex.getCause().toString());\r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n    } \r\n\r\nHowever, it keeps throwing a `JavaNullPointerException`.\r\n\r\nThis is `view.fxml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n\r\n    &lt;?import javafx.stage.Screen?&gt;\r\n\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx/8&quot;\r\n         xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n         fx:id=&quot;View&quot;\r\n         alignment=&quot;CENTER&quot;\r\n         prefHeight=&quot;${screen.height * 0.9}&quot;\r\n         prefWidth=&quot;${screen.visualBounds.width}&quot;\r\n         fx:controller=&quot;pkg.magazineservice.view_controller&quot;\r\n         &gt;\r\n\r\n    &lt;fx:define&gt;\r\n        &lt;Screen fx:factory=&quot;getPrimary&quot; fx:id=&quot;screen&quot; /&gt;\r\n    &lt;/fx:define&gt;\r\n\r\n    &lt;VBox fx:id=&quot;listsWrapper&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;${View.height}&quot; prefWidth=&quot;${View.width * 0.50}&quot;&gt;\r\n        &lt;VBox&gt;\r\n\r\n        &lt;/VBox&gt;\r\n\r\n        &lt;Separator orientation=&quot;HORIZONTAL&quot; prefWidth=&quot;${listsWrapper.width}&quot; style=&quot;-fx-background-color: black&quot; /&gt;\r\n\r\n        &lt;VBox&gt;\r\n\r\n        &lt;/VBox&gt;\r\n\r\n        &lt;Separator orientation=&quot;VERTICAL&quot; prefHeight=&quot;${View.height}&quot; style=&quot;-fx-background-color: black&quot; /&gt;\r\n\r\n        &lt;VBox fx:id=&quot;detailsWrapper&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;${View.height}&quot; prefWidth=&quot;${View.width * 0.50}&quot;&gt;\r\n\r\n        &lt;/VBox&gt;\r\n    &lt;/VBox&gt;\r\n\r\n&lt;/VBox&gt;\r\n\r\nI&#39;ve already tried using `fx:root` but it kept complaining about root not being set and I had no idea how to implement the root from home controller. Any help and advice would be awesome!\r\n\r\nEdit:\r\nStackTrace:\r\n\r\n    javafx.fxml.LoadException:\r\n    /MagazineService/target/classes/pkg/magazineservice/view.fxml:40\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n\tat com.magazineservice.magazineservice/pkg.magazineservice.home_controller.initialize(home_controller.java:40)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2573)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2435)\r\n\tat com.magazineservice.magazineservice/pkg.magazineservice.HelloApplication.start(HelloApplication.java:25)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.NullPointerException\r\n\tat javafx.fxml/com.sun.javafx.fxml.expression.Expression.lambda$multiply$2(Expression.java:928)\r\n\tat javafx.fxml/com.sun.javafx.fxml.expression.BinaryExpression.evaluate(BinaryExpression.java:55)\r\n\tat javafx.fxml/com.sun.javafx.fxml.expression.ExpressionValue.getValue(ExpressionValue.java:192)\r\n\tat javafx.base/com.sun.javafx.binding.ExpressionHelper.addListener(ExpressionHelper.java:53)\r\n\tat javafx.base/javafx.beans.value.ObservableValueBase.addListener(ObservableValueBase.java:55)\r\n\tat javafx.fxml/com.sun.javafx.fxml.expression.ExpressionValue.addListener(ExpressionValue.java:201)\r\n\tat javafx.base/javafx.beans.binding.DoubleBinding.bind(DoubleBinding.java:152)\r\n\tat javafx.base/javafx.beans.property.DoublePropertyBase$ValueWrapper.&lt;init&gt;(DoublePropertyBase.java:277)\r\n\tat javafx.base/javafx.beans.property.DoublePropertyBase$2.&lt;init&gt;(DoublePropertyBase.java:182)\r\n\tat javafx.base/javafx.beans.property.DoublePropertyBase.bind(DoublePropertyBase.java:182)\r\n\tat javafx.graphics/javafx.css.StyleableDoubleProperty.bind(StyleableDoubleProperty.java:75)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processPropertyAttribute(FXMLLoader.java:326)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processInstancePropertyAttributes(FXMLLoader.java:242)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:775)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\r\n\t... 21 more\r\n\r\n","title":"JavaFX - FXML Load Exception on loading FXML component into Tab","body":"<p>I want to have a page with tabs and in each tab I will call another FXML component. I've already tried so many answers and none of them worked for me. The main page where my TabPane is <code>home.fxml</code> and in one of the tabs I want to call <code>view.fxml</code>. Right now, I'm trying this approach:</p>\n<p>home.fxml page:</p>\n<pre><code>&lt;VBox xmlns=&quot;http://javafx.com/javafx/8&quot;\n  xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n  prefHeight=&quot;${screen.visualBounds.height}&quot;\n  fx:controller=&quot;pkg.magazineservice.home_controller&quot;\n  fx:id=&quot;wrapper&quot;&gt;\n\n&lt;fx:define&gt;\n    &lt;Screen fx:factory=&quot;getPrimary&quot; fx:id=&quot;screen&quot; /&gt;\n&lt;/fx:define&gt;\n\n&lt;VBox style=&quot;-fx-background-color: #003d80&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;${wrapper.height * 0.10}&quot; &gt;\n    &lt;Label BorderPane.alignment=&quot;CENTER&quot; style=&quot;-fx-text-fill: white&quot; text=&quot;Magazine Service&quot; &gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;32&quot; /&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n&lt;/VBox&gt;\n\n&lt;TabPane style=&quot;-fx-close-tab-animation: none&quot; fx:id=&quot;contentWrapper&quot; prefHeight=&quot;${wrapper.height * 0.9}&quot; prefWidth=&quot;${screen.visualBounds.width}&quot;&gt;\n    &lt;Tab fx:id=&quot;View&quot; text=&quot;View&quot;&gt;\n        &lt;VBox&gt;\n            &lt;!--&lt;fx:include source=&quot;view.fxml&quot; /&gt;--&gt;\n        &lt;/VBox&gt;\n    &lt;/Tab&gt;\n    &lt;Tab fx:id=&quot;Create&quot; text=&quot;Create&quot;&gt;\n        &lt;VBox&gt;\n            &lt;!--&lt;fx:include source=&quot;view.fxml&quot; /&gt;--&gt;\n        &lt;/VBox&gt;\n    &lt;/Tab&gt;\n    &lt;Tab fx:id=&quot;Edit&quot; text=&quot;Edit&quot;&gt;\n        &lt;VBox&gt;\n            &lt;!--&lt;fx:include source=&quot;view.fxml&quot; /&gt;--&gt;\n        &lt;/VBox&gt;\n    &lt;/Tab&gt;\n&lt;/TabPane&gt;\n</code></pre>\n\n \nOn it's controller, I'm trying to initialize a page:\n<p><code>home_controller.java</code></p>\n<pre><code> @Override\npublic void initialize(URL location, ResourceBundle resources)\n{\n    try\n    {\n        Tab tab = new Tab();\n        View.setContent((Node) FXMLLoader.load(this.getClass().getResource(&quot;view.fxml&quot;)));\n    }\n    catch(IOException iex)\n    {\n        System.out.println(iex.getCause().toString());\n        System.out.println(&quot;File not found&quot;);\n    }\n} \n</code></pre>\n<p>However, it keeps throwing a <code>JavaNullPointerException</code>.</p>\n<p>This is <code>view.fxml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;?import javafx.stage.Screen?&gt;\n\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/8&quot;\n     xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n     fx:id=&quot;View&quot;\n     alignment=&quot;CENTER&quot;\n     prefHeight=&quot;${screen.height * 0.9}&quot;\n     prefWidth=&quot;${screen.visualBounds.width}&quot;\n     fx:controller=&quot;pkg.magazineservice.view_controller&quot;\n     &gt;\n\n&lt;fx:define&gt;\n    &lt;Screen fx:factory=&quot;getPrimary&quot; fx:id=&quot;screen&quot; /&gt;\n&lt;/fx:define&gt;\n\n&lt;VBox fx:id=&quot;listsWrapper&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;${View.height}&quot; prefWidth=&quot;${View.width * 0.50}&quot;&gt;\n    &lt;VBox&gt;\n\n    &lt;/VBox&gt;\n\n    &lt;Separator orientation=&quot;HORIZONTAL&quot; prefWidth=&quot;${listsWrapper.width}&quot; style=&quot;-fx-background-color: black&quot; /&gt;\n\n    &lt;VBox&gt;\n\n    &lt;/VBox&gt;\n\n    &lt;Separator orientation=&quot;VERTICAL&quot; prefHeight=&quot;${View.height}&quot; style=&quot;-fx-background-color: black&quot; /&gt;\n\n    &lt;VBox fx:id=&quot;detailsWrapper&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;${View.height}&quot; prefWidth=&quot;${View.width * 0.50}&quot;&gt;\n\n    &lt;/VBox&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p>I've already tried using <code>fx:root</code> but it kept complaining about root not being set and I had no idea how to implement the root from home controller. Any help and advice would be awesome!</p>\n<p>Edit:\nStackTrace:</p>\n<pre><code>javafx.fxml.LoadException:\n/MagazineService/target/classes/pkg/magazineservice/view.fxml:40\n\nat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\nat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\nat com.magazineservice.magazineservice/pkg.magazineservice.home_controller.initialize(home_controller.java:40)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2573)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\nat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2435)\nat com.magazineservice.magazineservice/pkg.magazineservice.HelloApplication.start(HelloApplication.java:25)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\nat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\nat java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.NullPointerException\nat javafx.fxml/com.sun.javafx.fxml.expression.Expression.lambda$multiply$2(Expression.java:928)\nat javafx.fxml/com.sun.javafx.fxml.expression.BinaryExpression.evaluate(BinaryExpression.java:55)\nat javafx.fxml/com.sun.javafx.fxml.expression.ExpressionValue.getValue(ExpressionValue.java:192)\nat javafx.base/com.sun.javafx.binding.ExpressionHelper.addListener(ExpressionHelper.java:53)\nat javafx.base/javafx.beans.value.ObservableValueBase.addListener(ObservableValueBase.java:55)\nat javafx.fxml/com.sun.javafx.fxml.expression.ExpressionValue.addListener(ExpressionValue.java:201)\nat javafx.base/javafx.beans.binding.DoubleBinding.bind(DoubleBinding.java:152)\nat javafx.base/javafx.beans.property.DoublePropertyBase$ValueWrapper.&lt;init&gt;(DoublePropertyBase.java:277)\nat javafx.base/javafx.beans.property.DoublePropertyBase$2.&lt;init&gt;(DoublePropertyBase.java:182)\nat javafx.base/javafx.beans.property.DoublePropertyBase.bind(DoublePropertyBase.java:182)\nat javafx.graphics/javafx.css.StyleableDoubleProperty.bind(StyleableDoubleProperty.java:75)\nat javafx.fxml/javafx.fxml.FXMLLoader$Element.processPropertyAttribute(FXMLLoader.java:326)\nat javafx.fxml/javafx.fxml.FXMLLoader$Element.processInstancePropertyAttributes(FXMLLoader.java:242)\nat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:775)\nat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\n... 21 more\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":24140943,"reputation":35,"user_id":18107144,"display_name":"NABIL SFT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654003817,"creation_date":1654003817,"question_id":72448725,"body_markdown":"I want to invoke CriteriaBuilder methods, e.g equal, like..., with Methode.invoke(), however such methods take javax.persistence.criteria.Expression as arguments, i&#39;m looking for a way to cast primitive types (String, Double, int...) into Expression&lt;?&gt;, so I can run correctly the following code :  \r\n```\r\npublic static Specification&lt;Balance&gt; withLine(String line, String operator) {\r\nreturn (root, query, builder) -&gt; {\r\n\t\t\tMethod method = null;\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tmethod = CriteriaBuilder.class.getMethod(operator, Expression.class, Expression.class);\r\n\t\t\t\tExpression lineExp = //cast line to Expression;\r\n\t\t\t\treturn (Predicate) method.invoke(builder, root.get(&quot;line&quot;), lineExp );\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\r\n\t\t};\r\n\t}\r\n```\r\n","title":"invoke CriteriaBuilder methods with Methode.invoke()","body":"<p>I want to invoke CriteriaBuilder methods, e.g equal, like..., with Methode.invoke(), however such methods take javax.persistence.criteria.Expression as arguments, i'm looking for a way to cast primitive types (String, Double, int...) into Expression&lt;?&gt;, so I can run correctly the following code :</p>\n<pre><code>public static Specification&lt;Balance&gt; withLine(String line, String operator) {\nreturn (root, query, builder) -&gt; {\n            Method method = null;\n            try {\n                \n                method = CriteriaBuilder.class.getMethod(operator, Expression.class, Expression.class);\n                Expression lineExp = //cast line to Expression;\n                return (Predicate) method.invoke(builder, root.get(&quot;line&quot;), lineExp );\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n\n        };\n    }\n</code></pre>\n"},{"tags":["java","selenium","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1654004127,"post_id":72448701,"comment_id":127985011,"body_markdown":"You can&#39;t force maven to change the of such thing because the maintainers of Selenium have decided to make (breaking) changes which is expectable during a major version upgrade... simple solution is: You have to fix your code... Also this kind of changes is documented (https://www.selenium.dev/blog/2021/announcing-selenium-4/) also there have been a lot of release in between 3.6.X and now.. which means you have never upgrade to for example 3.7...and so and there have been deprecation warning (if you have upgraded) in your build which could alerted you to migrate the code over the time...","body":"You can&#39;t force maven to change the of such thing because the maintainers of Selenium have decided to make (breaking) changes which is expectable during a major version upgrade... simple solution is: You have to fix your code... Also this kind of changes is documented (<a href=\"https://www.selenium.dev/blog/2021/announcing-selenium-4/\" rel=\"nofollow noreferrer\">selenium.dev/blog/2021/announcing-selenium-4</a>) also there have been a lot of release in between 3.6.X and now.. which means you have never upgrade to for example 3.7...and so and there have been deprecation warning (if you have upgraded) in your build which could alerted you to migrate the code over the time..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654004220,"post_id":72448701,"comment_id":127985052,"body_markdown":"BTW: 4.0.0 is not the most recent version ... https://search.maven.org/artifact/org.seleniumhq.selenium/selenium-api also check https://github.com/SeleniumHQ/selenium/releases","body":"BTW: 4.0.0 is not the most recent version ... <a href=\"https://search.maven.org/artifact/org.seleniumhq.selenium/selenium-api\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.seleniumhq.selenium/selenium-a&zwnj;&#8203;pi</a> also check <a href=\"https://github.com/SeleniumHQ/selenium/releases\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/releases</a>"},{"owner":{"account_id":16476254,"reputation":11,"user_id":11904143,"display_name":"macqo"},"score":0,"creation_date":1654073669,"post_id":72448701,"comment_id":128002800,"body_markdown":"Thanks. Yes I know that in meantime there have been many other releases and 4.0.0 is not the latest one. I just joined the team working on it and for me it is legacy like.               Anyway I just wander how can I fix the code if WrapsElement interface is invoked somwhere by library class. So basicly I have no access to the source of the selenium classes. Likely I have to dig in project&#39;s code to find out how this interface is invoked? But even if I will find it out still have no idea hot could i fix the way the WrapsElement is invoke by the selenium class - DefaultFieldDecorator ?","body":"Thanks. Yes I know that in meantime there have been many other releases and 4.0.0 is not the latest one. I just joined the team working on it and for me it is legacy like.               Anyway I just wander how can I fix the code if WrapsElement interface is invoked somwhere by library class. So basicly I have no access to the source of the selenium classes. Likely I have to dig in project&#39;s code to find out how this interface is invoked? But even if I will find it out still have no idea hot could i fix the way the WrapsElement is invoke by the selenium class - DefaultFieldDecorator ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654115250,"post_id":72448701,"comment_id":128017653,"body_markdown":"First if you use it as a dependency the code can be downloaded automatically via your IDE (during investigation of the your code)... has to be configured in your IDE... What will that help if you try to find why selenium is doing such things? you have to fix your code... that&#39;s it...migrate to newer version... Thats a technical deps which has piled over the times...","body":"First if you use it as a dependency the code can be downloaded automatically via your IDE (during investigation of the your code)... has to be configured in your IDE... What will that help if you try to find why selenium is doing such things? you have to fix your code... that&#39;s it...migrate to newer version... Thats a technical deps which has piled over the times..."}],"owner":{"account_id":16476254,"reputation":11,"user_id":11904143,"display_name":"macqo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654003753,"creation_date":1654003753,"question_id":72448701,"body_markdown":"Recently I had to upgrade selenium version form 3.6.x to 4.0.0. After that I started have a problem when I use some of the features in my project. Basicly the NoClassDefFoundError is thrown when I am trying to use class that is using PageFactory:\r\n\r\n    ava.lang.NoClassDefFoundError: org/openqa/selenium/internal/WrapsElement\r\n\r\n\tat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.proxyForLocator(DefaultFieldDecorator.java:101)\r\n\tat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:62)\r\n\tat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:113)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:105)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:92)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:79)\r\n\r\nI checked and after upgrading to Selenium 4.0.0 the WrapsElement interface is no longer in a org/openqa/selenium/internal/ package but instead it is now in org/openqa/selenium/.\r\nMy question is how I can fix it - how I can force Maven to resolve these dependency to use WrapsElement in a correct location?\r\n\r\n    package org.openqa.selenium;\r\n    @FunctionalInterface\r\n    public interface WrapsElement {\r\n      WebElement getWrappedElement();\r\n    }\r\n\r\n","title":"Maven dependencies conflicts after selenium upgrade","body":"<p>Recently I had to upgrade selenium version form 3.6.x to 4.0.0. After that I started have a problem when I use some of the features in my project. Basicly the NoClassDefFoundError is thrown when I am trying to use class that is using PageFactory:</p>\n<pre><code>ava.lang.NoClassDefFoundError: org/openqa/selenium/internal/WrapsElement\n\nat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.proxyForLocator(DefaultFieldDecorator.java:101)\nat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:62)\nat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:113)\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:105)\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:92)\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:79)\n</code></pre>\n<p>I checked and after upgrading to Selenium 4.0.0 the WrapsElement interface is no longer in a org/openqa/selenium/internal/ package but instead it is now in org/openqa/selenium/.\nMy question is how I can fix it - how I can force Maven to resolve these dependency to use WrapsElement in a correct location?</p>\n<pre><code>package org.openqa.selenium;\n@FunctionalInterface\npublic interface WrapsElement {\n  WebElement getWrappedElement();\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":23803,"reputation":1013,"user_id":59943,"accept_rate":55,"display_name":"Yngve Sneen Lindal"},"score":2,"creation_date":1259511986,"post_id":1815955,"comment_id":1705691,"body_markdown":"You are thinking correct. What&#39;s the problem? Is that the source code you&#39;re trying to compile? In that case, add () after new Player. Like this:  Player p = new Player();   numberOfPlayers.add(p);   (assuming your Player class has a default constructor.","body":"You are thinking correct. What&#39;s the problem? Is that the source code you&#39;re trying to compile? In that case, add () after new Player. Like this:  Player p = new Player();   numberOfPlayers.add(p);   (assuming your Player class has a default constructor."},{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1259512252,"post_id":1815955,"comment_id":1705699,"body_markdown":"What is wrong with your code? Do you get an error?","body":"What is wrong with your code? Do you get an error?"},{"owner":{"account_id":25641,"reputation":322,"user_id":66063,"accept_rate":100,"display_name":"Sizemj"},"score":0,"creation_date":1259514524,"post_id":1815955,"comment_id":1705825,"body_markdown":"problem is p must be null because I get a java.lang.NullPointerException when I call p.method();","body":"problem is p must be null because I get a java.lang.NullPointerException when I call p.method();"}],"answers":[{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259512264,"creation_date":1259511896,"answer_id":1815962,"question_id":1815955,"body_markdown":"Your code looks syntactically correct with one exception.\r\n\r\nChange\r\n\r\n    p = new Player\r\n\r\nto\r\n\r\n    p = new Player();\r\n\r\nI&#39;m assuming the variable `n` is declared and initialized and the `Player` class is defined with an argless constructor.","title":"Java for loop to create n amount of object","body":"<p>Your code looks syntactically correct with one exception.</p>\n\n<p>Change</p>\n\n<pre><code>p = new Player\n</code></pre>\n\n<p>to</p>\n\n<pre><code>p = new Player();\n</code></pre>\n\n<p>I'm assuming the variable <code>n</code> is declared and initialized and the <code>Player</code> class is defined with an argless constructor.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259511956,"creation_date":1259511956,"answer_id":1815964,"question_id":1815955,"body_markdown":"I don&#39;t see a problem here, just do\r\n\r\n    p = new Player();\r\n\r\n(but this might just have been a typo) and the playerlist will be populated with n different Player objects.\r\n\r\nNote, that I&#39;m just assuming, you want to use the default constructor for Player.\r\n\r\nNaming hint: you shouldn&#39;t name a List &#39;..Array&#39;, unless you want to confuse yourself ;) Just name it &#39;..List&#39;\r\n\r\n","title":"Java for loop to create n amount of object","body":"<p>I don't see a problem here, just do</p>\n\n<pre><code>p = new Player();\n</code></pre>\n\n<p>(but this might just have been a typo) and the playerlist will be populated with n different Player objects.</p>\n\n<p>Note, that I'm just assuming, you want to use the default constructor for Player.</p>\n\n<p>Naming hint: you shouldn't name a List '..Array', unless you want to confuse yourself ;) Just name it '..List'</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654003752,"creation_date":1259511976,"answer_id":1815966,"question_id":1815955,"body_markdown":"    //Player is a custom class \r\n    ArrayList&lt;Player&gt; numberofPlayersArray = new ArrayList&lt;Player&gt;(n);\r\n\r\n    //n is a variable for the number of Player class objects that I want to create\r\n    for(int i = 0; i &lt; n; i++) {\r\n\r\n         Player p = new Player();\r\n         numberofPlayersArray.add(p);\r\n    }\r\n\r\nNote that it&#39;s better to initialize the `ArrayList` with the size, if it is known (as in your case)","title":"Java for loop to create n amount of object","body":"<pre><code>//Player is a custom class \nArrayList&lt;Player&gt; numberofPlayersArray = new ArrayList&lt;Player&gt;(n);\n\n//n is a variable for the number of Player class objects that I want to create\nfor(int i = 0; i &lt; n; i++) {\n\n     Player p = new Player();\n     numberofPlayersArray.add(p);\n}\n</code></pre>\n<p>Note that it's better to initialize the <code>ArrayList</code> with the size, if it is known (as in your case)</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259516028,"creation_date":1259516028,"answer_id":1816136,"question_id":1815955,"body_markdown":"Don&#39;t forget to code to the interface (rather than the concrete class).\r\n\r\n    List&lt;Player&gt; numberofPlayers = new ArrayList&lt;Player&gt;(n);\r\n\r\nForgetting to do this (or not knowing about it) is a common beginners mistake.\r\n\r\nIf you decide to switch to an alternative list implementation later on (LinkedList or maybe a Google Collection or an Apache Commons Collection list) you won&#39;t have to change every reference to the list - just the initial allocation.\r\n\r\n","title":"Java for loop to create n amount of object","body":"<p>Don't forget to code to the interface (rather than the concrete class).</p>\n\n<pre><code>List&lt;Player&gt; numberofPlayers = new ArrayList&lt;Player&gt;(n);\n</code></pre>\n\n<p>Forgetting to do this (or not knowing about it) is a common beginners mistake.</p>\n\n<p>If you decide to switch to an alternative list implementation later on (LinkedList or maybe a Google Collection or an Apache Commons Collection list) you won't have to change every reference to the list - just the initial allocation.</p>\n"}],"owner":{"account_id":25641,"reputation":322,"user_id":66063,"accept_rate":100,"display_name":"Sizemj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1815966,"answer_count":4,"score":3,"last_activity_date":1654003752,"creation_date":1259511769,"question_id":1815955,"body_markdown":"I need some help. I want to create a for loop that creates n number of objects of a class, and then adds them into an arraylist. Something like this:\r\n\r\n    //Player is a custom class \r\n    ArrayList&lt;Player&gt; numberofPlayersArray;\r\n    numberofPlayersArray = new ArrayList&lt;Player&gt;();\r\n    \r\n    //n is a variable for the number of Player class objects that I want to create\r\n      for(int i = 0; i &lt; n; i++)\r\n      {\r\n    \r\n        //this is what I can come up with but I am missing something \r\n    \r\n         Player p;\r\n         p = new Player\r\n         numberofPlayersArray.add(p);\r\n    \r\n        }\r\n\r\nAny help would be appreciated\r\n\r\n","title":"Java for loop to create n amount of object","body":"<p>I need some help. I want to create a for loop that creates n number of objects of a class, and then adds them into an arraylist. Something like this:</p>\n\n<pre><code>//Player is a custom class \nArrayList&lt;Player&gt; numberofPlayersArray;\nnumberofPlayersArray = new ArrayList&lt;Player&gt;();\n\n//n is a variable for the number of Player class objects that I want to create\n  for(int i = 0; i &lt; n; i++)\n  {\n\n    //this is what I can come up with but I am missing something \n\n     Player p;\n     p = new Player\n     numberofPlayersArray.add(p);\n\n    }\n</code></pre>\n\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1653866656,"post_id":72427639,"comment_id":127949383,"body_markdown":"You need define a Bean : entityManagerFactory in your configuration.","body":"You need define a Bean : entityManagerFactory in your configuration."},{"owner":{"account_id":1790857,"reputation":4370,"user_id":1631306,"accept_rate":95,"display_name":"user1631306"},"score":0,"creation_date":1653876904,"post_id":72427639,"comment_id":127950657,"body_markdown":":-) how and where","body":":-) how and where"}],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653883065,"creation_date":1653883065,"answer_id":72429002,"question_id":72427639,"body_markdown":"You need define the Bean like below:\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws URISyntaxException {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        entityManagerFactoryBean.setDataSource(&lt;your_datasource&gt;);\r\n        entityManagerFactoryBean.setPackagesToScan(package_to_scan);\r\n        //additional config of factory\r\n    \r\n        return entityManagerFactoryBean;\r\n    }\r\n    \r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager jpaTransactionManager(EntityManagerFactory entityManagerFactory) throws URISyntaxException {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n        return transactionManager;\r\n    }","title":"access two database from one spring boot application","body":"<p>You need define the Bean like below:</p>\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() throws URISyntaxException {\n    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n    entityManagerFactoryBean.setDataSource(&lt;your_datasource&gt;);\n    entityManagerFactoryBean.setPackagesToScan(package_to_scan);\n    //additional config of factory\n\n    return entityManagerFactoryBean;\n}\n\n@Bean(name = &quot;transactionManager&quot;)\npublic PlatformTransactionManager jpaTransactionManager(EntityManagerFactory entityManagerFactory) throws URISyntaxException {\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(entityManagerFactory);\n    return transactionManager;\n}\n</code></pre>\n"}],"owner":{"account_id":1790857,"reputation":4370,"user_id":1631306,"accept_rate":95,"display_name":"user1631306"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654003689,"creation_date":1653862449,"question_id":72427639,"body_markdown":"I have two separate spring boot applications, app1 and app2. One is using mysql other one using postgresql as database source.\r\n\r\nI need to access both database in app2 to query some data. Now, it would be easier if I can use the POJO from app1 to query and calculations when I am trying to access aap1&#39;s DB from app2. I found online that i can use multiple database in one spring boot application (https://www.baeldung.com/spring-data-jpa-multiple-databases). \r\n\r\nNow, I am exporting the jar file from app1 with all the POJO and other classes and adding it to build path of app2. I am hoping this should work.\r\nThen I tried everything what thay have mentioned in the above link\r\nBut I am getting following error\r\n\r\n\r\n&gt; Description:\r\n&gt; \r\n&gt; Parameter 0 of constructor in &lt;classname&gt; required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean named &#39;entityManagerFactory&#39; in your\r\n&gt; configuration.\r\n\r\nIs it because I am using jar file instead of actual POJO?\r\n\r\nAlso, in app1, I am using &quot;Sessionfactory&quot; in DAO, though in app2, I am using cruderepository. Could this be issue?\r\n\r\nAlso, I have @EnableJpaRepositories annotation in main application.class. Should i comment it?\r\n\r\nedit: After making suggested changes, I am getting following error:\r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;&lt;class&gt;&#39; defined in class path resource\r\n&gt; [&lt;Class&gt;]: Unsatisfied dependency expressed through method &#39;&lt;method&gt;&#39;\r\n&gt; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;&lt;service&gt;&#39; defined in file\r\n\r\n","title":"access two database from one spring boot application","body":"<p>I have two separate spring boot applications, app1 and app2. One is using mysql other one using postgresql as database source.</p>\n<p>I need to access both database in app2 to query some data. Now, it would be easier if I can use the POJO from app1 to query and calculations when I am trying to access aap1's DB from app2. I found online that i can use multiple database in one spring boot application (<a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-multiple-databases</a>).</p>\n<p>Now, I am exporting the jar file from app1 with all the POJO and other classes and adding it to build path of app2. I am hoping this should work.\nThen I tried everything what thay have mentioned in the above link\nBut I am getting following error</p>\n<blockquote>\n<p>Description:</p>\n<p>Parameter 0 of constructor in  required a bean named 'entityManagerFactory' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean named 'entityManagerFactory' in your\nconfiguration.</p>\n</blockquote>\n<p>Is it because I am using jar file instead of actual POJO?</p>\n<p>Also, in app1, I am using &quot;Sessionfactory&quot; in DAO, though in app2, I am using cruderepository. Could this be issue?</p>\n<p>Also, I have @EnableJpaRepositories annotation in main application.class. Should i comment it?</p>\n<p>edit: After making suggested changes, I am getting following error:</p>\n<blockquote>\n<p>Caused by:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name '' defined in class path resource\n[]: Unsatisfied dependency expressed through method ''\nparameter 0; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name '' defined in file</p>\n</blockquote>\n"},{"tags":["java","arrays","list","collections"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1653976488,"post_id":72442806,"comment_id":127974906,"body_markdown":"Please update your question with a complete, runnable program which illustrates your problem.","body":"Please update your question with a complete, runnable program which illustrates your problem."},{"owner":{"account_id":8881257,"reputation":2790,"user_id":6631280,"display_name":"Ravi Makwana"},"score":0,"creation_date":1653976674,"post_id":72442806,"comment_id":127974941,"body_markdown":"https://stackoverflow.com/questions/189559/how-do-i-join-two-lists-in-java","body":"<a href=\"https://stackoverflow.com/questions/189559/how-do-i-join-two-lists-in-java\" title=\"how do i join two lists in java\">stackoverflow.com/questions/189559/&hellip;</a>"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1653976776,"post_id":72442806,"comment_id":127974967,"body_markdown":"if `a.addAll(b)`  doesn&#39;t work, you&#39;re doing something wrong. Please [edit] and share the code you&#39;re executing","body":"if <code>a.addAll(b)</code>  doesn&#39;t work, you&#39;re doing something wrong. Please <a href=\"https://stackoverflow.com/posts/72442806/edit\">edit</a> and share the code you&#39;re executing"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1653978180,"post_id":72442806,"comment_id":127975301,"body_markdown":"@azro All that matters is whether the outer list `a` is mutable or not, *and* whether the OP&#39;s input is what they really want to perform the transformation from.","body":"@azro All that matters is whether the outer list <code>a</code> is mutable or not, <i>and</i> whether the OP&#39;s input is what they really want to perform the transformation from."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1653979942,"post_id":72442806,"comment_id":127975800,"body_markdown":"`Arrays.asList` creates &quot;*a fixed-size list*&quot; as [documented](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#asList(T...)) - for the next question &quot;*doesn&#39;t work*&quot; could be more specific (how does it not work) but &quot;*throws an error*&quot; is not enough, at least mention the exception, even better, include its Stack Trace!","body":"<code>Arrays.asList</code> creates &quot;<i>a fixed-size list</i>&quot; as <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\">documented</a> - for the next question &quot;<i>doesn&#39;t work</i>&quot; could be more specific (how does it not work) but &quot;<i>throws an error</i>&quot; is not enough, at least mention the exception, even better, include its Stack Trace!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1653980330,"post_id":72442806,"comment_id":127975897,"body_markdown":"&quot;*What&#39;s the difference*&quot; --&gt; `Arrays.asList()` =!= `new ArrayList&lt;&gt;()` - first is a **method**, second is a **constructor** - first returns a `List` (instance of `java.util.Arrays$ArrayList`, a nested class of `Arrays`), second creates an instance of `java.util.ArrayList` (not nested, different class as the first one, despite having the same name [unfortunately])","body":"&quot;<i>What&#39;s the difference</i>&quot; --&gt; <code>Arrays.asList()</code> =!= <code>new ArrayList&lt;&gt;()</code> - first is a <b>method</b>, second is a <b>constructor</b> - first returns a <code>List</code> (instance of <code>java.util.Arrays$ArrayList</code>, a nested class of <code>Arrays</code>), second creates an instance of <code>java.util.ArrayList</code> (not nested, different class as the first one, despite having the same name [unfortunately])"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653980629,"post_id":72442806,"comment_id":127975998,"body_markdown":"As @user16320675 mentioned, `Arrays.asList creates &quot;a fixed-size list&quot;`. This means you can&#39;t modify it afterwards.","body":"As @user16320675 mentioned, <code>Arrays.asList creates &quot;a fixed-size list&quot;</code>. This means you can&#39;t modify it afterwards."}],"answers":[{"tags":[],"owner":{"account_id":20467229,"reputation":52,"user_id":15018456,"display_name":"Kevin Kanyi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1653977695,"creation_date":1653977695,"answer_id":72442976,"question_id":72442806,"body_markdown":"You could avoid using the addAll function and iterate through b and add to a like shown below:\r\n\r\n    for(innerList:b){\r\n       a.add(innerList);\r\n    }","title":"Java8 - How to add List&lt;List&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt;","body":"<p>You could avoid using the addAll function and iterate through b and add to a like shown below:</p>\n<pre><code>for(innerList:b){\n   a.add(innerList);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1653978211,"creation_date":1653977867,"answer_id":72443003,"question_id":72442806,"body_markdown":"Your attempt with `a.addAll(b)` works as long as the *outer list* `a` is mutable and you don&#39;t mind to modify it.\r\n\r\n**Mutable outer list:**\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; a = new ArrayList&lt;&gt;(List.of(\r\n\t\tList.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\r\n\t\tList.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;)));\r\n\r\nList&lt;List&lt;String&gt;&gt; b = new ArrayList&lt;&gt;(List.of(\r\n\t\tList.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;),\r\n\t\tList.of(&quot;k&quot;, &quot;l&quot;, &quot;m&quot;)));\r\n\r\na.addAll(b); // the &#39;a&#39; will contain all the inner lists\r\n\r\na.forEach(System.out::println);\r\n```\r\n**Immutable outer list**\r\n\r\nIn case you want to preserve the former `a` and `b` lists and/or yield a new one, use [tag:java-stream]:\r\n```java\r\nList&lt;List&lt;String&gt;&gt; a = List.of(\r\n\t\tList.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\r\n\t\tList.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\r\n\r\nList&lt;List&lt;String&gt;&gt; b = List.of(\r\n\t\tList.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;),\r\n\t\tList.of(&quot;k&quot;, &quot;l&quot;, &quot;m&quot;));\r\n\r\nList&lt;List&lt;String&gt;&gt; result = Stream.of(a, b)\r\n\t\t.flatMap(Collection::stream)\r\n\t\t.collect(Collectors.toList());\r\n\r\nresult.forEach(System.out::println);\r\n```\r\n**Result**\r\n\r\nBoth ways share the same output:\r\n\r\n&gt; ```\r\n&gt; [a, b, c]\r\n&gt; [d, e, f]\r\n&gt; [h, i, j]\r\n&gt; [k, l, m]\r\n&gt; ```\r\n\r\nWhether the inner lists are immutable or not doesn&#39;t matter for such combining.","title":"Java8 - How to add List&lt;List&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt;","body":"<p>Your attempt with <code>a.addAll(b)</code> works as long as the <em>outer list</em> <code>a</code> is mutable and you don't mind to modify it.</p>\n<p><strong>Mutable outer list:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; a = new ArrayList&lt;&gt;(List.of(\n        List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\n        List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;)));\n\nList&lt;List&lt;String&gt;&gt; b = new ArrayList&lt;&gt;(List.of(\n        List.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;),\n        List.of(&quot;k&quot;, &quot;l&quot;, &quot;m&quot;)));\n\na.addAll(b); // the 'a' will contain all the inner lists\n\na.forEach(System.out::println);\n</code></pre>\n<p><strong>Immutable outer list</strong></p>\n<p>In case you want to preserve the former <code>a</code> and <code>b</code> lists and/or yield a new one, use <a href=\"/questions/tagged/java-stream\" class=\"post-tag\" title=\"show questions tagged &#39;java-stream&#39;\" rel=\"tag\">java-stream</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; a = List.of(\n        List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\n        List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\n\nList&lt;List&lt;String&gt;&gt; b = List.of(\n        List.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;),\n        List.of(&quot;k&quot;, &quot;l&quot;, &quot;m&quot;));\n\nList&lt;List&lt;String&gt;&gt; result = Stream.of(a, b)\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n\nresult.forEach(System.out::println);\n</code></pre>\n<p><strong>Result</strong></p>\n<p>Both ways share the same output:</p>\n<blockquote>\n<pre><code>[a, b, c]\n[d, e, f]\n[h, i, j]\n[k, l, m]\n</code></pre>\n</blockquote>\n<p>Whether the inner lists are immutable or not doesn't matter for such combining.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653981636,"creation_date":1653980657,"answer_id":72443474,"question_id":72442806,"body_markdown":"Your code doesn&#39;t work because the `Arrays.asList()` returns \r\n\r\n&gt; a fixed-size list backed by the specified array\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#asList(T...)\r\n\r\nThis means that when you try to add further elements, there is no space within the array representing the `List`; thus throwing an`UnsupportedOperationException`.\r\n\r\nIf you want to build `List` with specific elements and also be able to extend its size, then you should employ the class&#39; Conversion Constructor by providing to it the lists returned by the `asList()` method.\r\n\r\n```\r\nList&lt;List&lt;String&gt;&gt; a = new ArrayList&lt;&gt;(Arrays.asList(new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))));\r\nList&lt;List&lt;String&gt;&gt; b = new ArrayList&lt;&gt;(Arrays.asList(new ArrayList&lt;&gt;(Arrays.asList(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;))));\r\na.addAll(b);\r\n```\r\n\r\nThis way, both your outer and inner lists will behave as an actual `List` without throwing an `UnsupportedOperationException` when exceeding the original size.","title":"Java8 - How to add List&lt;List&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt;","body":"<p>Your code doesn't work because the <code>Arrays.asList()</code> returns</p>\n<blockquote>\n<p>a fixed-size list backed by the specified array</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#asList(T...)</a></p>\n<p>This means that when you try to add further elements, there is no space within the array representing the <code>List</code>; thus throwing an<code>UnsupportedOperationException</code>.</p>\n<p>If you want to build <code>List</code> with specific elements and also be able to extend its size, then you should employ the class' Conversion Constructor by providing to it the lists returned by the <code>asList()</code> method.</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; a = new ArrayList&lt;&gt;(Arrays.asList(new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))));\nList&lt;List&lt;String&gt;&gt; b = new ArrayList&lt;&gt;(Arrays.asList(new ArrayList&lt;&gt;(Arrays.asList(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;))));\na.addAll(b);\n</code></pre>\n<p>This way, both your outer and inner lists will behave as an actual <code>List</code> without throwing an <code>UnsupportedOperationException</code> when exceeding the original size.</p>\n"}],"owner":{"account_id":25099872,"reputation":51,"user_id":18950712,"display_name":"zxwang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":72443003,"answer_count":3,"score":4,"last_activity_date":1654003667,"creation_date":1653976283,"question_id":72442806,"body_markdown":"I have two `List&lt;List&lt;String&gt;&gt;` and would like to concatenate them.\r\n\r\nHere is my code:\r\n```\r\nList&lt;List&lt;String&gt;&gt; a = Arrays.asList(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\nList&lt;List&lt;String&gt;&gt; b = Arrays.asList(Arrays.asList(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\r\na.addAll(b);\r\n```\r\n\r\nHowever, it doesn&#39;t work and throws an exception. \r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n\tat java.util.AbstractList.add(AbstractList.java:148)\r\n\tat java.util.AbstractList.add(AbstractList.java:108)\r\n\tat java.util.AbstractCollection.addAll(AbstractCollection.java:344)\r\n```\r\n\r\nThe code below works:\r\n```\r\nList&lt;List&lt;String&gt;&gt; a = new ArrayList&lt;&gt;();\r\na.add(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\nList&lt;List&lt;String&gt;&gt; b = new ArrayList&lt;&gt;();\r\nb.add(Arrays.asList(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\r\na.addAll(b);\r\n```\r\n\r\nWhat&#39;s the difference here?","title":"Java8 - How to add List&lt;List&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt;","body":"<p>I have two <code>List&lt;List&lt;String&gt;&gt;</code> and would like to concatenate them.</p>\n<p>Here is my code:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; a = Arrays.asList(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\nList&lt;List&lt;String&gt;&gt; b = Arrays.asList(Arrays.asList(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\na.addAll(b);\n</code></pre>\n<p>However, it doesn't work and throws an exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.util.AbstractList.add(AbstractList.java:148)\n    at java.util.AbstractList.add(AbstractList.java:108)\n    at java.util.AbstractCollection.addAll(AbstractCollection.java:344)\n</code></pre>\n<p>The code below works:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; a = new ArrayList&lt;&gt;();\na.add(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\nList&lt;List&lt;String&gt;&gt; b = new ArrayList&lt;&gt;();\nb.add(Arrays.asList(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\na.addAll(b);\n</code></pre>\n<p>What's the difference here?</p>\n"},{"tags":["java","enums","nullpointerexception","null","java-stream"],"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654003318,"answer_count":0,"score":1,"last_activity_date":1654003650,"creation_date":1654002587,"question_id":72448402,"body_markdown":"I have a Vehicle class with an enum(VehicleType) field. Objects of the Vehicle class are in the collection. I&#39;m running through this collection through the steam api, sorting by Vehicle Type field, and writing this. But if VehicleType=null, I get a Nullpointerexception error.\r\n\r\n        ConcurrentHashMap&lt;Integer, Vehicle&gt; concurrentHashMap=new ConcurrentHashMap&lt;&gt;();\r\n        Vehicle vehicle=new Vehicle();\r\n        Vehicle vehicle1=new Vehicle();\r\n        vehicle.setType(null);\r\n        vehicle1.setType(VehicleType.valueOf(&quot;PLANE&quot;));\r\n        concurrentHashMap.put(1,vehicle);\r\n        concurrentHashMap.put(2,vehicle1);\r\n        concurrentHashMap.keySet().stream()\r\n                .sorted(Comparator.comparing(s-&gt;concurrentHashMap.get(s).getType()))\r\n                .forEachOrdered(System.out::println);","title":"null enum in Stream Api","body":"<p>I have a Vehicle class with an enum(VehicleType) field. Objects of the Vehicle class are in the collection. I'm running through this collection through the steam api, sorting by Vehicle Type field, and writing this. But if VehicleType=null, I get a Nullpointerexception error.</p>\n<pre><code>    ConcurrentHashMap&lt;Integer, Vehicle&gt; concurrentHashMap=new ConcurrentHashMap&lt;&gt;();\n    Vehicle vehicle=new Vehicle();\n    Vehicle vehicle1=new Vehicle();\n    vehicle.setType(null);\n    vehicle1.setType(VehicleType.valueOf(&quot;PLANE&quot;));\n    concurrentHashMap.put(1,vehicle);\n    concurrentHashMap.put(2,vehicle1);\n    concurrentHashMap.keySet().stream()\n            .sorted(Comparator.comparing(s-&gt;concurrentHashMap.get(s).getType()))\n            .forEachOrdered(System.out::println);\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5897554,"reputation":18457,"user_id":4642212,"display_name":"Sebastian Simon"},"score":2,"creation_date":1471448962,"post_id":39001120,"comment_id":65353979,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1471449049,"post_id":39001120,"comment_id":65354031,"body_markdown":"You don&#39;t need `[\\d]`. Just use `\\d` (no brackets)","body":"You don&#39;t need <code>[\\d]</code>. Just use <code>\\d</code> (no brackets)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1471449911,"post_id":39001120,"comment_id":65354543,"body_markdown":"Validating phone numbers is hard. Use an existing library, e.g. [Google&#39;s](https://github.com/googlei18n/libphonenumber).","body":"Validating phone numbers is hard. Use an existing library, e.g. <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"nofollow noreferrer\">Google&#39;s</a>."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1471467544,"post_id":39001120,"comment_id":65363980,"body_markdown":"So you are saying mobile starts with 9, 8 or 7. Then why do you give an example with 1?","body":"So you are saying mobile starts with 9, 8 or 7. Then why do you give an example with 1?"}],"answers":[{"tags":[],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1471449942,"creation_date":1471449942,"answer_id":39001442,"question_id":39001120,"body_markdown":"Well, first you need to change your regular expression first. The last number has 5 digits. So, you have to change the `4` for `5`. Then, remove the brackets. You don&#39;t need them. Then, the regular expression works in any type of language. You need to use double `\\\\` because `\\` is an escape character.  \r\n\r\n    public static void main(String[] args)\r\n    {\r\n        String line = &quot;+91 33 1234 5678 (landline with two digit city code. 33 in this example) +91 123 1234 5678 (landline with three digit city code. 123 in this example) +91 12345 67890 (mobile no. Mobile no starts with 9 or 8 or 7)&quot;;\r\n\r\n        String pattern = &quot;\\\\+91\\\\s(\\\\d{2,3}\\\\s)?\\\\d{2,5}\\\\s\\\\d{3,5}&quot;;\r\n\r\n        Pattern r = Pattern.compile(pattern);\r\n\r\n        Matcher m = r.matcher(line);\r\n      \r\n        while (m.find()) {\r\n            System.out.println(&quot;Found value: &quot; + m.group(0));\r\n        }\r\n    }\r\n\r\nPrints:\r\n\r\n    Found value: +91 33 1234 5678\r\n    Found value: +91 123 1234 5678\r\n    Found value: +91 12345 67890","title":"Indian Phone Number RegEx","body":"<p>Well, first you need to change your regular expression first. The last number has 5 digits. So, you have to change the <code>4</code> for <code>5</code>. Then, remove the brackets. You don't need them. Then, the regular expression works in any type of language. You need to use double <code>\\\\</code> because <code>\\</code> is an escape character.  </p>\n\n<pre><code>public static void main(String[] args)\n{\n    String line = \"+91 33 1234 5678 (landline with two digit city code. 33 in this example) +91 123 1234 5678 (landline with three digit city code. 123 in this example) +91 12345 67890 (mobile no. Mobile no starts with 9 or 8 or 7)\";\n\n    String pattern = \"\\\\+91\\\\s(\\\\d{2,3}\\\\s)?\\\\d{2,5}\\\\s\\\\d{3,5}\";\n\n    Pattern r = Pattern.compile(pattern);\n\n    Matcher m = r.matcher(line);\n\n    while (m.find()) {\n        System.out.println(\"Found value: \" + m.group(0));\n    }\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Found value: +91 33 1234 5678\nFound value: +91 123 1234 5678\nFound value: +91 12345 67890\n</code></pre>\n"}],"owner":{"account_id":2865521,"reputation":65,"user_id":2459929,"accept_rate":0,"display_name":"Shahid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":39001442,"answer_count":1,"score":-1,"last_activity_date":1654003424,"creation_date":1471448925,"question_id":39001120,"body_markdown":"I would like to write a RegEx to cover following phone numbers:\r\n\r\n    +91 33 1234 5678 (landline with two digit city code. 33 in this example)\r\n    +91 123 1234 5678 (landline with three digit city code. 123 in this example)\r\n    +91 12345 67890 (mobile no. Mobile no starts with 9 or 8 or 7)\r\n\r\nAny help with explanation would be very helpful.\r\n\r\nThe code which I am using is:\r\n\r\n    \\+91\\s([\\d]{2,3}\\s)?[\\d]{2,5}\\s[\\d]{3,4}","title":"Indian Phone Number RegEx","body":"<p>I would like to write a RegEx to cover following phone numbers:</p>\n<pre><code>+91 33 1234 5678 (landline with two digit city code. 33 in this example)\n+91 123 1234 5678 (landline with three digit city code. 123 in this example)\n+91 12345 67890 (mobile no. Mobile no starts with 9 or 8 or 7)\n</code></pre>\n<p>Any help with explanation would be very helpful.</p>\n<p>The code which I am using is:</p>\n<pre><code>\\+91\\s([\\d]{2,3}\\s)?[\\d]{2,5}\\s[\\d]{3,4}\n</code></pre>\n"},{"tags":["java","try-catch","checked-exceptions"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1653999537,"post_id":72447614,"comment_id":127983086,"body_markdown":"I would suggest rather throw in method, where these input variables are being used.","body":"I would suggest rather throw in method, where these input variables are being used."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1653999600,"post_id":72447614,"comment_id":127983116,"body_markdown":"A third private constructor without throw being used by the current two ones.","body":"A third private constructor without throw being used by the current two ones."},{"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"score":0,"creation_date":1653999707,"post_id":72447614,"comment_id":127983156,"body_markdown":"@GauravJeswani The exception cannot be handled in that methods and has to be &quot;transported&quot; over the constructor.","body":"@GauravJeswani The exception cannot be handled in that methods and has to be &quot;transported&quot; over the constructor."},{"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"score":0,"creation_date":1653999983,"post_id":72447614,"comment_id":127983276,"body_markdown":"@JoopEggen I&#39;m afraid thats not possible. Constructor A calls some methods that throw this exception and are not able to handle it themselves. In fact, nothing in this class can handle these Exceptions, they have to get out of there, I just want to minimise that, whereever I can.","body":"@JoopEggen I&#39;m afraid thats not possible. Constructor A calls some methods that throw this exception and are not able to handle it themselves. In fact, nothing in this class can handle these Exceptions, they have to get out of there, I just want to minimise that, whereever I can."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1654001322,"post_id":72447614,"comment_id":127983820,"body_markdown":"Static factory method, but that is cumbersome too. It seems you have to change the usage then. Good luck.","body":"Static factory method, but that is cumbersome too. It seems you have to change the usage then. Good luck."}],"answers":[{"tags":[],"owner":{"display_name":"user11595728"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654002749,"creation_date":1654002749,"answer_id":72448442,"question_id":72447614,"body_markdown":"For this level of flexibility, a helper factory method would come in handy:\r\n\r\n```java\r\npublic ArrayValue(DataType rules, Value... content) throws NonExpressionException {\r\n    newInstance(rules, content);\r\n}\r\n\r\npublic ArrayValue(Value... content) {\r\n    try {\r\n        newInstance(TypeConstants.VAR_ARR, content);\r\n    }\r\n    catch(NonExpressionException e) {\r\n        assert false; // Or other error-reporting behavior\r\n\t}\r\n}\r\n\t\r\nprivate static ArrayValue newInstance(DataType rules, Value... content)\r\n    throws NonExpressionException {\r\n\t\t/* ... */\r\n\t}\r\n}\r\n```\r\n\r\nHowever, at this point, it might be worth considering using static factory methods instead (as suggested in the comments). In [Effective Java, 3rd Edition](https://www.pearson.com/us/higher-education/program/Bloch-Effective-Java-3rd-Edition/PGM1763855.html), the first item is &quot;_Consider static factory methods instead of constructors_&quot;. Bloch lists four advantages of using static factory methods instead of constructors. Interestingly, dealing with pesky checked exceptions is not one of them, but it could be.","title":"Avoiding a checked exception in a constructor","body":"<p>For this level of flexibility, a helper factory method would come in handy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayValue(DataType rules, Value... content) throws NonExpressionException {\n    newInstance(rules, content);\n}\n\npublic ArrayValue(Value... content) {\n    try {\n        newInstance(TypeConstants.VAR_ARR, content);\n    }\n    catch(NonExpressionException e) {\n        assert false; // Or other error-reporting behavior\n    }\n}\n    \nprivate static ArrayValue newInstance(DataType rules, Value... content)\n    throws NonExpressionException {\n        /* ... */\n    }\n}\n</code></pre>\n<p>However, at this point, it might be worth considering using static factory methods instead (as suggested in the comments). In <a href=\"https://www.pearson.com/us/higher-education/program/Bloch-Effective-Java-3rd-Edition/PGM1763855.html\" rel=\"nofollow noreferrer\">Effective Java, 3rd Edition</a>, the first item is &quot;<em>Consider static factory methods instead of constructors</em>&quot;. Bloch lists four advantages of using static factory methods instead of constructors. Interestingly, dealing with pesky checked exceptions is not one of them, but it could be.</p>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654003265,"creation_date":1653999261,"question_id":72447614,"body_markdown":"## Problem\r\nI have a class with two constructors. One of them (A) throws a checked exception, and the other one (B) calls the first one.\r\n\r\n    // Constructor A\r\n    public ArrayValue(DataType rules, Value... content) throws NonExpressionException {\r\n        super(rules.type);\r\n        ...\r\n    }\r\n\r\n    // Constructor B\r\n    public ArrayValue(Value... content) {\r\n\t\tthis(TypeConstants.VAR_ARR, content);\r\n\t}\r\n\r\nThe problem is, that this checked exception will never get thrown when constructor B is invoked, so I thought of &quot;catching&quot; it instead of adding a &quot;throws&quot; to this constructor.\r\n\r\n## Question\r\nWhat can I do to get rid of the &quot;throws&quot;? My conditions are: \r\n- The first constructor has to throw this exception.\r\n- It has to be checked.\r\n- I dont want to copy the whole code from constructor A into B.\r\n- I&#39;m looking for a more elegant solution than just changing the constructor B to a static method.\r\n\r\n### I have tried\r\n\r\n    // Constructor B\r\n    public ArrayValue(Value... content) {\r\n        try {\r\n            this(TypeConstants.VAR_ARR, content));\r\n        catch (NonExpressionException e) {\r\n            throw new AssertionError(&quot;This shouldn&#39;t get thrown&quot;, e);\r\n        }\r\n    }\r\n(But that doesn&#39;t work, because this() has to be the first statement in a constructor.)\r\n","title":"Avoiding a checked exception in a constructor","body":"<h2>Problem</h2>\n<p>I have a class with two constructors. One of them (A) throws a checked exception, and the other one (B) calls the first one.</p>\n<pre><code>// Constructor A\npublic ArrayValue(DataType rules, Value... content) throws NonExpressionException {\n    super(rules.type);\n    ...\n}\n\n// Constructor B\npublic ArrayValue(Value... content) {\n    this(TypeConstants.VAR_ARR, content);\n}\n</code></pre>\n<p>The problem is, that this checked exception will never get thrown when constructor B is invoked, so I thought of &quot;catching&quot; it instead of adding a &quot;throws&quot; to this constructor.</p>\n<h2>Question</h2>\n<p>What can I do to get rid of the &quot;throws&quot;? My conditions are:</p>\n<ul>\n<li>The first constructor has to throw this exception.</li>\n<li>It has to be checked.</li>\n<li>I dont want to copy the whole code from constructor A into B.</li>\n<li>I'm looking for a more elegant solution than just changing the constructor B to a static method.</li>\n</ul>\n<h3>I have tried</h3>\n<pre><code>// Constructor B\npublic ArrayValue(Value... content) {\n    try {\n        this(TypeConstants.VAR_ARR, content));\n    catch (NonExpressionException e) {\n        throw new AssertionError(&quot;This shouldn't get thrown&quot;, e);\n    }\n}\n</code></pre>\n<p>(But that doesn't work, because this() has to be the first statement in a constructor.)</p>\n"},{"tags":["java","jsp","tomcat","intellij-idea","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1654004835,"post_id":72448534,"comment_id":127985344,"body_markdown":"Use Tomcat 9, Tomcat 10 is not a Java Servlet Container but a Jakarta Servlet Container and uses the `jakarta.servlet` namespace not the `javax.servlet` one. So if you have code that still uses the old servlet API use anything before Tomcat 10, else use Tomcat 10.","body":"Use Tomcat 9, Tomcat 10 is not a Java Servlet Container but a Jakarta Servlet Container and uses the <code>jakarta.servlet</code> namespace not the <code>javax.servlet</code> one. So if you have code that still uses the old servlet API use anything before Tomcat 10, else use Tomcat 10."}],"owner":{"account_id":25436940,"reputation":21,"user_id":19240524,"display_name":"Andrei Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654003090,"creation_date":1654003090,"question_id":72448534,"body_markdown":"I am trying to figure out how to get a Java Enterprise Web Application with servlets running and I was following the tutorial here:\r\n\r\nhttps://www.youtube.com/watch?v=J212XSlZfDY\r\n\r\nI am using Tomcat server 10.0.21 and Intellij 11.0.14.1\r\n\r\nI get one simple index.jsp running and when I try to submit inputs, the server fails to respond, seemingly because the HttpServlet class is not found, although the import works.\r\n\r\nServlet code:\r\n```\r\npackage com.example.foodstuffz;\r\n\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\nimport javax.servlet.annotation.*;\r\nimport java.io.IOException;\r\n\r\n\r\n@WebServlet(&quot;/foodate&quot;)\r\npublic class FoodStuffzServlet extends HttpServlet {\r\n\r\n    public FoodStuffzServlet() {};\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        int a = Integer.parseInt(request.getParameter(&quot;a&quot;));\r\n        int b = Integer.parseInt(request.getParameter(&quot;b&quot;));\r\n\r\n        int sum = a+b;\r\n\r\n        response.getWriter().println(sum);\r\n    }\r\n}\r\n```\r\n\r\nindex.jsp code:\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Foodstuffz&lt;/title&gt;\r\n&lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div align=&quot;center&quot;&gt;\r\n            &lt;h1&gt;&lt;%= &quot;Hello World!&quot; %&gt;&lt;/h1&gt;\r\n            &lt;br/&gt;\r\n            &lt;form action=&quot;foodate&quot; method=&quot;post&quot;&gt;\r\n                &lt;p&gt;Input Number &lt;input type=&quot;number&quot; name=&quot;a&quot; required /&gt;&lt;/p&gt;\r\n                &lt;p&gt;Input Number &lt;input type=&quot;number&quot; name=&quot;b&quot; required /&gt;&lt;/p&gt;\r\n                &lt;p&gt;Input Number &lt;input type=&quot;submit&quot; value=&quot;RUN&quot; /&gt;&lt;/p&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nweb.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;FoodStuffzServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.example.foodstuffz.FoodStuffzServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;FoodStuffzServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/foodate&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nHere is the error I am getting in the browser:\r\n```\r\nType Exception Report\r\n\r\nMessage Error instantiating servlet class [com.example.foodstuffz.FoodStuffzServlet]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njakarta.servlet.ServletException: Error instantiating servlet class [com.example.foodstuffz.FoodStuffzServlet]\r\n\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet\r\n\r\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\r\n```\r\n\r\nI did not include the entire error message, just the exceptions mentioned. If anything else is needed please let me know. Can anyone figure out what I am missing? Thank you very much!","title":"Intellij java.lang.ClassNotFoundException: javax.servlet.http.HttpServlet when running Servlet","body":"<p>I am trying to figure out how to get a Java Enterprise Web Application with servlets running and I was following the tutorial here:</p>\n<p><a href=\"https://www.youtube.com/watch?v=J212XSlZfDY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=J212XSlZfDY</a></p>\n<p>I am using Tomcat server 10.0.21 and Intellij 11.0.14.1</p>\n<p>I get one simple index.jsp running and when I try to submit inputs, the server fails to respond, seemingly because the HttpServlet class is not found, although the import works.</p>\n<p>Servlet code:</p>\n<pre><code>package com.example.foodstuffz;\n\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.annotation.*;\nimport java.io.IOException;\n\n\n@WebServlet(&quot;/foodate&quot;)\npublic class FoodStuffzServlet extends HttpServlet {\n\n    public FoodStuffzServlet() {};\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        int a = Integer.parseInt(request.getParameter(&quot;a&quot;));\n        int b = Integer.parseInt(request.getParameter(&quot;b&quot;));\n\n        int sum = a+b;\n\n        response.getWriter().println(sum);\n    }\n}\n</code></pre>\n<p>index.jsp code:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Foodstuffz&lt;/title&gt;\n&lt;/head&gt;\n    &lt;body&gt;\n        &lt;div align=&quot;center&quot;&gt;\n            &lt;h1&gt;&lt;%= &quot;Hello World!&quot; %&gt;&lt;/h1&gt;\n            &lt;br/&gt;\n            &lt;form action=&quot;foodate&quot; method=&quot;post&quot;&gt;\n                &lt;p&gt;Input Number &lt;input type=&quot;number&quot; name=&quot;a&quot; required /&gt;&lt;/p&gt;\n                &lt;p&gt;Input Number &lt;input type=&quot;number&quot; name=&quot;b&quot; required /&gt;&lt;/p&gt;\n                &lt;p&gt;Input Number &lt;input type=&quot;submit&quot; value=&quot;RUN&quot; /&gt;&lt;/p&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;FoodStuffzServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.example.foodstuffz.FoodStuffzServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;FoodStuffzServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/foodate&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>Here is the error I am getting in the browser:</p>\n<pre><code>Type Exception Report\n\nMessage Error instantiating servlet class [com.example.foodstuffz.FoodStuffzServlet]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njakarta.servlet.ServletException: Error instantiating servlet class [com.example.foodstuffz.FoodStuffzServlet]\n\nRoot Cause\n\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet\n\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\n</code></pre>\n<p>I did not include the entire error message, just the exceptions mentioned. If anything else is needed please let me know. Can anyone figure out what I am missing? Thank you very much!</p>\n"},{"tags":["java","jpa","heap-memory","batch-processing","entitymanager"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1653923494,"post_id":72435055,"comment_id":127964239,"body_markdown":"You might have to issue a JoinTransaction https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#joinTransaction-- on the EntityManager when managing transactions yourself. Check the statements issued to be sure.","body":"You might have to issue a JoinTransaction <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#joinTransaction--\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/&hellip;</a> on the EntityManager when managing transactions yourself. Check the statements issued to be sure."},{"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"score":0,"creation_date":1653925582,"post_id":72435055,"comment_id":127964992,"body_markdown":"@Chris documentation says, joinTransaction should be called on application managed entity manager. My entity manager is manged by my container.","body":"@Chris documentation says, joinTransaction should be called on application managed entity manager. My entity manager is manged by my container."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1653929502,"post_id":72435055,"comment_id":127966182,"body_markdown":"Are statements going to the database on all transaction commit calls if you remove the flush call? If not, your entity manager might not be joined to your user transactions, so might not receive the before/after commit callbacks. If it is working, you don&#39;t need to call anything - you don&#39;t even need to flush - just call clear after the transaction commit call(s)","body":"Are statements going to the database on all transaction commit calls if you remove the flush call? If not, your entity manager might not be joined to your user transactions, so might not receive the before/after commit callbacks. If it is working, you don&#39;t need to call anything - you don&#39;t even need to flush - just call clear after the transaction commit call(s)"},{"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"score":0,"creation_date":1653975570,"post_id":72435055,"comment_id":127974699,"body_markdown":"@Chris Yes, the DB is getting updated without any issue. I call clear just before committing the transaction. I hope that&#39;s ok. I am wondering if I need to call clear again just before the final commit. Because when number of total managed entries OR number of remaining managed entries during loop, are less than the batch size, code inside if condition is not invoked (flush and clear are not invoked). So I m wondering, If I need to additionally invoke clear just before the last commit. I see lot of &quot;org.hibernate.internal.SessionFactoryImpl&quot; in heap memory.","body":"@Chris Yes, the DB is getting updated without any issue. I call clear just before committing the transaction. I hope that&#39;s ok. I am wondering if I need to call clear again just before the final commit. Because when number of total managed entries OR number of remaining managed entries during loop, are less than the batch size, code inside if condition is not invoked (flush and clear are not invoked). So I m wondering, If I need to additionally invoke clear just before the last commit. I see lot of &quot;org.hibernate.internal.SessionFactoryImpl&quot; in heap memory."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654005040,"post_id":72435055,"comment_id":127985426,"body_markdown":"One thing why the `merge` and `persist`? The call to `merge` is already enough. You might want to set the `hibernate.order_inserts`, `hibernate.order_updates` and `hibernate.jdbc.batch_size` to improve performance. You are also using multiple transactions, instead of 1 large transaction, I would remove the commit/start in between and do everything in 1 single large tx. Finally, you retrieve everything in 1 go (the `getResultList`) which can be a large result, why not stream it/iterate it (this would require casting the `Entitymanager` to a `Session` but reduces the memory usage).","body":"One thing why the <code>merge</code> and <code>persist</code>? The call to <code>merge</code> is already enough. You might want to set the <code>hibernate.order_inserts</code>, <code>hibernate.order_updates</code> and <code>hibernate.jdbc.batch_size</code> to improve performance. You are also using multiple transactions, instead of 1 large transaction, I would remove the commit/start in between and do everything in 1 single large tx. Finally, you retrieve everything in 1 go (the <code>getResultList</code>) which can be a large result, why not stream it/iterate it (this would require casting the <code>Entitymanager</code> to a <code>Session</code> but reduces the memory usage)."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654002867,"creation_date":1654002867,"answer_id":72448473,"question_id":72435055,"body_markdown":"Clearing just removes references to managed entities, allowing them to be GC&#39;d if the app isn&#39;t using them. This will happen when the EntityManager is closed, which the container will do on its own, so there should be no need to call clear at the end.","title":"JPA batch update: do I have to flush() and clear() entity manager before last transaction commit()?","body":"<p>Clearing just removes references to managed entities, allowing them to be GC'd if the app isn't using them. This will happen when the EntityManager is closed, which the container will do on its own, so there should be no need to call clear at the end.</p>\n"}],"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654002867,"creation_date":1653916947,"question_id":72435055,"body_markdown":"I am updating large number of rows in Oracle database. For that reason, I am doing batch update. My code seems to be working fine. I just realized that, I do not flush() or clear() entity manager before the last user transaction commit (also in case when number of managed entities is not divisible by batch size). Would it cause any issue? Recently I have been seeing out of memory errors on my server and I see lot of &quot;org.hibernate.internal.SessionFactoryImpl&quot; objects in the heap memory. My entity manager is managed by the container. So I can not close it explicitly. I am wondering if there are any flaws with this batch update logic.\r\n\r\n    @Stateless\r\n    @TransactionManagement(TransactionManagementType.BEAN)\r\n    public class BackEndBean {\r\n    \t...\r\n    \t...\r\n    \r\n    \t@PersistenceContext(unitName = &quot;TEST_DB&quot;)\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Resource\r\n    \tprivate UserTransaction tx;\r\n    \r\n    \t...\r\n    \t...\r\n    \r\n    \ttry {\r\n    \t\ttx.begin();\r\n    \t\tCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    \t\t//Criteria query with IN clause\r\n    \t\tList&lt;EntityClass&gt; managedEntities\t= typedQuery.getResultList();\r\n    \t\t\r\n    \t\tint batchSize = 200;\r\n    \t\tfor (int count = 0; count &lt; managedEntities.size(); count++) {\r\n    \t\t\tEntityClass entity = managedEntities.get(count);\r\n    \t\t\tentity.setSomething(&quot;test&quot;);\r\n    \t\t\tentity = entityManager.merge(entity);\r\n    \t\t\tentityManager.persist(entity);\r\n    \t\t\tif (count &gt; 0 &amp;&amp; count % batchSize == 0) {\r\n    \t\t\t\tentityManager.flush();\r\n    \t\t\t\tentityManager.clear();\r\n    \r\n    \t\t\t\ttx.commit();\r\n    \t\t\t\ttx.begin();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\ttx.commit();\r\n    \r\n    \t} catch (final Exception e) {\r\n    \t   \r\n    \t\tif (tx != null) {\r\n    \t\t\ttry {\r\n    \t\t\t\ttx.rollback();\r\n    \t\t\t} catch (Exception ex) {\r\n    \t\t\t\t// log error\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t...\r\n    \t...\r\n    }\r\n\r\nJDK version is 1.7. Server is JBOSS EAP 6.4. I have read about setting following hibernate properties in persistence.xml, but it doesn&#39;t seem to be making any difference in my case. Hibernate version is 4.2 (bundled inside JBOSS):\r\n\r\n - hibernate.query.plan_cache_max_size\r\n - hibernate.query.in_clause_parameter_padding\r\n - hibernate.query.plan_parameter_metadata_max_size\r\n - hibernate.query.plan_cache_max_soft_references","title":"JPA batch update: do I have to flush() and clear() entity manager before last transaction commit()?","body":"<p>I am updating large number of rows in Oracle database. For that reason, I am doing batch update. My code seems to be working fine. I just realized that, I do not flush() or clear() entity manager before the last user transaction commit (also in case when number of managed entities is not divisible by batch size). Would it cause any issue? Recently I have been seeing out of memory errors on my server and I see lot of &quot;org.hibernate.internal.SessionFactoryImpl&quot; objects in the heap memory. My entity manager is managed by the container. So I can not close it explicitly. I am wondering if there are any flaws with this batch update logic.</p>\n<pre><code>@Stateless\n@TransactionManagement(TransactionManagementType.BEAN)\npublic class BackEndBean {\n    ...\n    ...\n\n    @PersistenceContext(unitName = &quot;TEST_DB&quot;)\n    private EntityManager entityManager;\n\n    @Resource\n    private UserTransaction tx;\n\n    ...\n    ...\n\n    try {\n        tx.begin();\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n        //Criteria query with IN clause\n        List&lt;EntityClass&gt; managedEntities   = typedQuery.getResultList();\n        \n        int batchSize = 200;\n        for (int count = 0; count &lt; managedEntities.size(); count++) {\n            EntityClass entity = managedEntities.get(count);\n            entity.setSomething(&quot;test&quot;);\n            entity = entityManager.merge(entity);\n            entityManager.persist(entity);\n            if (count &gt; 0 &amp;&amp; count % batchSize == 0) {\n                entityManager.flush();\n                entityManager.clear();\n\n                tx.commit();\n                tx.begin();\n            }\n        }\n\n        tx.commit();\n\n    } catch (final Exception e) {\n       \n        if (tx != null) {\n            try {\n                tx.rollback();\n            } catch (Exception ex) {\n                // log error\n            }\n        }\n    }\n\n    ...\n    ...\n}\n</code></pre>\n<p>JDK version is 1.7. Server is JBOSS EAP 6.4. I have read about setting following hibernate properties in persistence.xml, but it doesn't seem to be making any difference in my case. Hibernate version is 4.2 (bundled inside JBOSS):</p>\n<ul>\n<li>hibernate.query.plan_cache_max_size</li>\n<li>hibernate.query.in_clause_parameter_padding</li>\n<li>hibernate.query.plan_parameter_metadata_max_size</li>\n<li>hibernate.query.plan_cache_max_soft_references</li>\n</ul>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1654006247,"post_id":72448102,"comment_id":127986008,"body_markdown":"Graceful disconnect shows up as end of stream when reading (so you have to read). Non-graceful disconnect also causes an exception to be thrown when writing.","body":"Graceful disconnect shows up as end of stream when reading (so you have to read). Non-graceful disconnect also causes an exception to be thrown when writing."}],"answers":[{"tags":[],"owner":{"account_id":22463658,"reputation":26,"user_id":18954735,"display_name":"RORAK"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1654002249,"creation_date":1654002249,"answer_id":72448318,"question_id":72448102,"body_markdown":"Try using `Socket#isClosed()`, or a global variable, that is set when the client disconnects.\r\n","title":"How to detect Java socket disconnection from client side?","body":"<p>Try using <code>Socket#isClosed()</code>, or a global variable, that is set when the client disconnects.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654002827,"creation_date":1654002827,"answer_id":72448458,"question_id":72448102,"body_markdown":"I wrote a simple Client-Server communication to showcase how you can solve that:\r\n\r\n    package stackoverflow.multithreadingfiles.servlets;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class TestSocket {\r\n    \r\n    \tstatic public final int PORT = 12345;\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\trunServerThread();\r\n    \t\tsleep(2000);\r\n    \t\trunClientThread();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void sleep(final int pMS) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(pMS);\r\n    \t\t} catch (final InterruptedException e) { /* */ }\r\n    \t}\r\n    \r\n    \tprivate static void runServerThread() {\r\n    \t\tfinal Thread t = new Thread(() -&gt; runServer());\r\n    \t\tt.setName(&quot;Server Thread&quot;);\r\n    \t\tt.start();\r\n    \t}\r\n    \tprivate static void runClientThread() {\r\n    \t\tfinal Thread t = new Thread(() -&gt; runClient());\r\n    \t\tt.setName(&quot;Client Thread&quot;);\r\n    \t\tt.setDaemon(true);\r\n    \t\tt.start();\r\n    \t}\r\n    \r\n    \tprivate static void runServer() {\r\n    \t\tSystem.out.println(&quot;Server Thread starting&quot;);\r\n    \t\ttry (final ServerSocket ss = new ServerSocket(PORT);) {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSystem.out.println(&quot;Server Thread waiting for new connection...&quot;);\r\n    \t\t\t\ttry (final Socket socket = ss.accept();) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Server Thread connected...&quot;);\r\n    \t\t\t\t\twhile (!socket.isClosed()) {\r\n    \t\t\t\t\t\tsocket.getOutputStream().write((int) (Math.random() * 100));\r\n    \t\t\t\t\t\tsleep((int) (Math.random() * 1000));\r\n    \t\t\t\t\t\tif (Math.random() &lt; 0.1) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Server Thread disconnecting...&quot;);\r\n    \t\t\t\t\t\t\t//\t\t\t\t\t\t\tsocket.close(); you can commemt that in or out, will not have any effect\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} // auto-closes Socket here\r\n    \t\t\t}\r\n    \t\t} catch (final IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tSystem.out.println(&quot;Server Thread ended.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tprivate static void runClient() {\r\n    \t\tSystem.out.println(&quot;Client Thread starting&quot;);\r\n    \t\ttry (Socket s = new Socket(&quot;localhost&quot;, PORT);\r\n    \t\t\t\tInputStream sis = s.getInputStream()) {\r\n    \t\t\tfinal byte[] buffer = new byte[256];\r\n    \t\t\twhile (!s.isClosed()) { // s.isClosed() will actually NOT indicate if Server closed the Socket, so you can just write while(true)\r\n    \t\t\t\tfinal int bytesRead = sis.read(buffer);\r\n    \r\n    \t\t\t\tSystem.out.print(&quot;Client received &quot; + bytesRead + &quot; bytes: &quot;);\r\n    \t\t\t\tfor (int i = 0; i &lt; bytesRead; i++) {\r\n    \t\t\t\t\tSystem.out.print(&quot;\\t&quot; + buffer[i]);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t\tif (bytesRead &lt; 0) { // actually value will be -1 if socket is closed. Same if you read a single byte with sis.read();\r\n    \t\t\t\t\t// this check usually comes directly after reading from the socket, but I wanted to showcase the -1 data length you&#39;ll get\r\n    \t\t\t\t\tSystem.out.println(&quot;Client noticed that connection was closed.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t} catch (final Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tSystem.out.println(&quot;Client Thread ended.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How to detect Java socket disconnection from client side?","body":"<p>I wrote a simple Client-Server communication to showcase how you can solve that:</p>\n<pre><code>package stackoverflow.multithreadingfiles.servlets;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class TestSocket {\n\n    static public final int PORT = 12345;\n\n    public static void main(final String[] args) {\n        runServerThread();\n        sleep(2000);\n        runClientThread();\n    }\n\n\n\n    private static void sleep(final int pMS) {\n        try {\n            Thread.sleep(pMS);\n        } catch (final InterruptedException e) { /* */ }\n    }\n\n    private static void runServerThread() {\n        final Thread t = new Thread(() -&gt; runServer());\n        t.setName(&quot;Server Thread&quot;);\n        t.start();\n    }\n    private static void runClientThread() {\n        final Thread t = new Thread(() -&gt; runClient());\n        t.setName(&quot;Client Thread&quot;);\n        t.setDaemon(true);\n        t.start();\n    }\n\n    private static void runServer() {\n        System.out.println(&quot;Server Thread starting&quot;);\n        try (final ServerSocket ss = new ServerSocket(PORT);) {\n            while (true) {\n                System.out.println(&quot;Server Thread waiting for new connection...&quot;);\n                try (final Socket socket = ss.accept();) {\n                    System.out.println(&quot;Server Thread connected...&quot;);\n                    while (!socket.isClosed()) {\n                        socket.getOutputStream().write((int) (Math.random() * 100));\n                        sleep((int) (Math.random() * 1000));\n                        if (Math.random() &lt; 0.1) {\n                            System.out.println(&quot;Server Thread disconnecting...&quot;);\n                            //                          socket.close(); you can commemt that in or out, will not have any effect\n                            break;\n                        }\n                    }\n                } // auto-closes Socket here\n            }\n        } catch (final IOException e) {\n            e.printStackTrace();\n        } finally {\n            System.out.println(&quot;Server Thread ended.&quot;);\n        }\n    }\n    private static void runClient() {\n        System.out.println(&quot;Client Thread starting&quot;);\n        try (Socket s = new Socket(&quot;localhost&quot;, PORT);\n                InputStream sis = s.getInputStream()) {\n            final byte[] buffer = new byte[256];\n            while (!s.isClosed()) { // s.isClosed() will actually NOT indicate if Server closed the Socket, so you can just write while(true)\n                final int bytesRead = sis.read(buffer);\n\n                System.out.print(&quot;Client received &quot; + bytesRead + &quot; bytes: &quot;);\n                for (int i = 0; i &lt; bytesRead; i++) {\n                    System.out.print(&quot;\\t&quot; + buffer[i]);\n                }\n\n                System.out.println();\n                if (bytesRead &lt; 0) { // actually value will be -1 if socket is closed. Same if you read a single byte with sis.read();\n                    // this check usually comes directly after reading from the socket, but I wanted to showcase the -1 data length you'll get\n                    System.out.println(&quot;Client noticed that connection was closed.&quot;);\n                    break;\n                }\n\n            }\n\n        } catch (final Exception e) {\n            e.printStackTrace();\n        } finally {\n            System.out.println(&quot;Client Thread ended.&quot;);\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":19587032,"reputation":352,"user_id":14334938,"display_name":"Martin Denion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654002827,"creation_date":1654001345,"question_id":72448102,"body_markdown":"I am developing a simple Java class with a thread that creates a Client socket that connects to a server.\r\nThis thread retrieves bytes via a `BlockingQueue` then sends them to the server, then retrieves bytes again, etc.\r\n\r\nMy problem is that I don&#39;t know on which condition the while structure should loop.\r\nI would actually like to be able to retrieve a &quot;disconnect&quot; from the server without the server having to send data indicating a disconnect.\r\n\r\nHow can I solve this?\r\n\r\nHere is my code:\r\n\r\n    public class ClientThread extends Thread {\r\n        private static final String TAG = &quot;ClientThread&quot;;\r\n    \r\n        private Socket socket = null;\r\n        private OutputStream out = null;\r\n        private BlockingQueue&lt;Message&gt; queue = null;\r\n    \r\n        private static final int SERVERPORT = 8080;\r\n        private static final String SERVER_IP = &quot;localhost&quot;;\r\n    \r\n        public ClientThread(BlockingQueue&lt;Message&gt; queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                InetAddress serverAddr = InetAddress.getByName(SERVER_IP);\r\n    \r\n                //send a request to connect to the server is listening on machine &#39;localhost&#39;, port 8080\r\n                socket = new Socket(serverAddr, SERVERPORT);\r\n    \r\n                //create output stream to send data to the server\r\n                out = socket.getOutputStream();\r\n    \r\n                while (/* a condition */) {\r\n                    //Do some work on socket\r\n                }\r\n            } catch (UnknownHostException e1) {\r\n                e1.printStackTrace();\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void finalize() throws Throwable {\r\n            try {\r\n                socket.close();\r\n                out.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How to detect Java socket disconnection from client side?","body":"<p>I am developing a simple Java class with a thread that creates a Client socket that connects to a server.\nThis thread retrieves bytes via a <code>BlockingQueue</code> then sends them to the server, then retrieves bytes again, etc.</p>\n<p>My problem is that I don't know on which condition the while structure should loop.\nI would actually like to be able to retrieve a &quot;disconnect&quot; from the server without the server having to send data indicating a disconnect.</p>\n<p>How can I solve this?</p>\n<p>Here is my code:</p>\n<pre><code>public class ClientThread extends Thread {\n    private static final String TAG = &quot;ClientThread&quot;;\n\n    private Socket socket = null;\n    private OutputStream out = null;\n    private BlockingQueue&lt;Message&gt; queue = null;\n\n    private static final int SERVERPORT = 8080;\n    private static final String SERVER_IP = &quot;localhost&quot;;\n\n    public ClientThread(BlockingQueue&lt;Message&gt; queue) {\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        try {\n            InetAddress serverAddr = InetAddress.getByName(SERVER_IP);\n\n            //send a request to connect to the server is listening on machine 'localhost', port 8080\n            socket = new Socket(serverAddr, SERVERPORT);\n\n            //create output stream to send data to the server\n            out = socket.getOutputStream();\n\n            while (/* a condition */) {\n                //Do some work on socket\n            }\n        } catch (UnknownHostException e1) {\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void finalize() throws Throwable {\n        try {\n            socket.close();\n            out.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","binary-search-tree"],"comments":[{"owner":{"account_id":10986271,"reputation":1688,"user_id":8071889,"display_name":"suvojit_007"},"score":0,"creation_date":1554213227,"post_id":55475823,"comment_id":97663378,"body_markdown":"It&#39;s not possible to count the nodes without comparing their values so it would take `O(n)` time with the given constraints","body":"It&#39;s not possible to count the nodes without comparing their values so it would take <code>O(n)</code> time with the given constraints"},{"owner":{"account_id":14425966,"reputation":187,"user_id":10420711,"display_name":"vijay"},"score":0,"creation_date":1554215501,"post_id":55475823,"comment_id":97664836,"body_markdown":"Just think of bfs.","body":"Just think of bfs."}],"answers":[{"tags":[],"owner":{"account_id":14000572,"reputation":1898,"user_id":10112322,"display_name":"memo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554220875,"creation_date":1554218969,"answer_id":55478452,"question_id":55475823,"body_markdown":"One idea:\r\n\r\n- assuming k1 &lt; k2\r\n- start walking the tree from the root. For some nodes (possibly zero) you will have both k1 &lt; node.value and k2 &lt; node.value, so you take the left path (or both k1 &gt; node.value and k2 &gt; node.value, taking the right path);\r\n- note the first node where this is not true anymore, so the paths diverge. Let this node be D, then k1 &lt; D.value and k2 &gt; D.value (due to the assumption k1 &lt; k2). So traverse from D to the left in search of k1 and count nodes with value &gt;= k1; traverse from D to the right in search of k2 and count nodes with values &lt;= k2. Add 1 (for D) to the total.\r\n- when I say nodes with value &gt;= k1 this doesn&#39;t mean only visited nodes. This is where having the descendant count for each node comes into play: every time you arrive at a node with value &gt; k1, so you need to take a left to reach k1, also count all the right descendants of that node, since all of them will be &gt; k1. Including the k1 node itself.\r\n- on the k2 side the behavior is symmetrical: count all the left descendant nodes when you take a right, including k2.\r\n- both these traversals are O(h), so the overall is also O(h).\r\n\r\n&gt; \r\n\r\n             20\r\n\t\t\t/  \\\r\n\t\t   10   21\r\n\t\t  / \\    \\\r\n         /   \\    \\\r\n\t\t2     17  22\r\n\t   / \\     \\\r\n      1   6     19\t\t\t   \r\n\t /   / \\    /\r\n\t0   4   7  18\r\n       / \\\r\n      3   5\r\n\r\nLet&#39;s search for [4, 18] in this tree. \r\n\r\n- Start at 20, both keys are to the left so ignore this node. \r\n- Arrive at 10 -- this is D where they diverge. \r\n- Go left from 10 towards 4 counting &gt;= 4, so 2 is not counted: 4 has 1 right descendant (5), 6 has 1 right descendant (7), total is 4. \r\n- Go right from 10 to 18 counting &lt;= 18, so 19 is not counted; 18 and 17 both have zero left-side descendants, so result is 2. \r\n- In total you have 4 + 2 + 1 = 7: [4, 5, 6, 7, 10, 17, 18]\t \r\n","title":"How to use the size of each node to find the number of nodes in given interval in O(h)","body":"<p>One idea:</p>\n\n<ul>\n<li>assuming k1 &lt; k2</li>\n<li>start walking the tree from the root. For some nodes (possibly zero) you will have both k1 &lt; node.value and k2 &lt; node.value, so you take the left path (or both k1 > node.value and k2 > node.value, taking the right path);</li>\n<li>note the first node where this is not true anymore, so the paths diverge. Let this node be D, then k1 &lt; D.value and k2 > D.value (due to the assumption k1 &lt; k2). So traverse from D to the left in search of k1 and count nodes with value >= k1; traverse from D to the right in search of k2 and count nodes with values &lt;= k2. Add 1 (for D) to the total.</li>\n<li>when I say nodes with value >= k1 this doesn't mean only visited nodes. This is where having the descendant count for each node comes into play: every time you arrive at a node with value > k1, so you need to take a left to reach k1, also count all the right descendants of that node, since all of them will be > k1. Including the k1 node itself.</li>\n<li>on the k2 side the behavior is symmetrical: count all the left descendant nodes when you take a right, including k2.</li>\n<li>both these traversals are O(h), so the overall is also O(h).</li>\n</ul>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code>         20\n        /  \\\n       10   21\n      / \\    \\\n     /   \\    \\\n    2     17  22\n   / \\     \\\n  1   6     19             \n /   / \\    /\n0   4   7  18\n   / \\\n  3   5\n</code></pre>\n\n<p>Let's search for [4, 18] in this tree. </p>\n\n<ul>\n<li>Start at 20, both keys are to the left so ignore this node. </li>\n<li>Arrive at 10 -- this is D where they diverge. </li>\n<li>Go left from 10 towards 4 counting >= 4, so 2 is not counted: 4 has 1 right descendant (5), 6 has 1 right descendant (7), total is 4. </li>\n<li>Go right from 10 to 18 counting &lt;= 18, so 19 is not counted; 18 and 17 both have zero left-side descendants, so result is 2. </li>\n<li>In total you have 4 + 2 + 1 = 7: [4, 5, 6, 7, 10, 17, 18]  </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23636018,"reputation":11,"user_id":18787338,"display_name":"Giorgos Mitropoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654002701,"creation_date":1653985722,"answer_id":72444496,"question_id":55475823,"body_markdown":"    Algorithm: countRange(K k1, K k2)\r\n\tInput: Two keys, k1 and k2, that belong to nodes of a binary tree T\r\n\tOutput: The number of nodes with keys in [k1,k2]\r\n    \r\n    \r\n    1\tPosition p = T.root()\r\n    2\twhile(True)\r\n    3\t\tif(k1 &gt; p.getKey())\r\n    4\t\t\tp = right(p)\r\n    5\t\telse if (k2 &lt; p.getKey())\r\n    6\t\t\tp = left(p)\r\n    7\tif (p.getKey() == k1)\r\n    8\tint num = 1; Position small = left(p); Position big = right(p)\r\n    9\t\r\n    10\t//TreeSearchBiggerThan_k1\r\n    11\twhile(True)\r\n    12\t\tif(small.getKey()==k1)\r\n    13\t\t\tnum = num + 1 + right(small).getNoOfDes() + 1\r\n    14\t\t\tbreak\r\n    15\t\tif(small.isExternal())\r\n    16\t\t\tbreak\r\n    17\t\tif(small.getKey() &lt; k1)\r\n    18\t\t\tsmall = right(small)\r\n    19\t\tif(small.getKey() &gt; k1)\r\n    20\t\t\tnum = num + 1 + right(small).getNoOfDes() + 1\r\n    21\t\t\tsmall = left(small)\r\n    22\t\t\t\r\n    23\t//TreeSearchSmallerThan_k2\r\n    24\twhile(True)\r\n    25\t\tif(big.getKey()==k2)\r\n    26\t\t\tnum = num + 1 + left(big).getNoOfDes() + 1\r\n    27\t\t\tbreak\r\n    28\t\tif(big.isExternal())\r\n    29\t\t\tbreak\r\n    30\t\tif(big.getKey() &gt; k2)\r\n    31\t\t\tbig = left(big)\r\n    32\t\tif(big.getKey() &lt; k2)\r\n    33\t\t\tnum = num + 1 + left(big).getNoOfDes() + 1\r\n    34\t\t\tbig = right(big)\r\n    35\t\r\n    36\treturn num\r\n\r\nThank you, memo, for your remarkable idea. I tried to make an algorithm out of it. Let me know if the algorithm I designed has errors. As a comment, getNoOfDes() does NOT concider a node a descendant of itself. Also, concider external nodes of the binary tree as dummy nodes, with null as both key and value.\r\n","title":"How to use the size of each node to find the number of nodes in given interval in O(h)","body":"<pre><code>Algorithm: countRange(K k1, K k2)\nInput: Two keys, k1 and k2, that belong to nodes of a binary tree T\nOutput: The number of nodes with keys in [k1,k2]\n\n\n1   Position p = T.root()\n2   while(True)\n3       if(k1 &gt; p.getKey())\n4           p = right(p)\n5       else if (k2 &lt; p.getKey())\n6           p = left(p)\n7   if (p.getKey() == k1)\n8   int num = 1; Position small = left(p); Position big = right(p)\n9   \n10  //TreeSearchBiggerThan_k1\n11  while(True)\n12      if(small.getKey()==k1)\n13          num = num + 1 + right(small).getNoOfDes() + 1\n14          break\n15      if(small.isExternal())\n16          break\n17      if(small.getKey() &lt; k1)\n18          small = right(small)\n19      if(small.getKey() &gt; k1)\n20          num = num + 1 + right(small).getNoOfDes() + 1\n21          small = left(small)\n22          \n23  //TreeSearchSmallerThan_k2\n24  while(True)\n25      if(big.getKey()==k2)\n26          num = num + 1 + left(big).getNoOfDes() + 1\n27          break\n28      if(big.isExternal())\n29          break\n30      if(big.getKey() &gt; k2)\n31          big = left(big)\n32      if(big.getKey() &lt; k2)\n33          num = num + 1 + left(big).getNoOfDes() + 1\n34          big = right(big)\n35  \n36  return num\n</code></pre>\n<p>Thank you, memo, for your remarkable idea. I tried to make an algorithm out of it. Let me know if the algorithm I designed has errors. As a comment, getNoOfDes() does NOT concider a node a descendant of itself. Also, concider external nodes of the binary tree as dummy nodes, with null as both key and value.</p>\n"}],"owner":{"account_id":9809911,"reputation":59,"user_id":8242587,"display_name":"user38543"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654002701,"creation_date":1554211122,"question_id":55475823,"body_markdown":"so given k_1 and k_2, find the range of a BST k_1 &gt;= k &lt;= k_2 in O(h)\r\n\r\nI have tried a code with O(h + n) when h is the height and n is the number of node.\r\n\r\n    Algorithm countRange(Node root, int k1, int k2) \r\n    {\r\n       if(root = null) return 0;\r\n       if(root.value &gt;= k1 &amp;&amp; root.value &lt;= k2) \r\n          return 1 + countRange(root.left, k1, k2) + countRange(root.right,k1,k2);\r\n       else if(root.value &lt; low)\r\n          return countRange(root.right, k1, k2);\r\n       else\r\n          return countRange(root.left, k1, k2);\r\n\r\n\r\n\r\n\r\n\r\n**For example:**\r\n\r\n`a[] = [1,2,3,4,5,6,7,8,9,10]` in array form\r\n\r\n    countRange(4,8) = 5; // 4,5,6,7,8\r\n\r\nIf there any way we can do it in O(h) times&gt; The hint given in the homework is use the size of each node, which is the descendant node that each node has.\r\n\r\n\r\n**for example**\r\n\r\n         8    &lt;- size is 7\r\n\r\n      6     10 &lt;- size is 3\r\n\r\n    4   7  9   18  &lt;- size is 1","title":"How to use the size of each node to find the number of nodes in given interval in O(h)","body":"<p>so given k_1 and k_2, find the range of a BST k_1 >= k &lt;= k_2 in O(h)</p>\n\n<p>I have tried a code with O(h + n) when h is the height and n is the number of node.</p>\n\n<pre><code>Algorithm countRange(Node root, int k1, int k2) \n{\n   if(root = null) return 0;\n   if(root.value &gt;= k1 &amp;&amp; root.value &lt;= k2) \n      return 1 + countRange(root.left, k1, k2) + countRange(root.right,k1,k2);\n   else if(root.value &lt; low)\n      return countRange(root.right, k1, k2);\n   else\n      return countRange(root.left, k1, k2);\n</code></pre>\n\n<p><strong>For example:</strong></p>\n\n<p><code>a[] = [1,2,3,4,5,6,7,8,9,10]</code> in array form</p>\n\n<pre><code>countRange(4,8) = 5; // 4,5,6,7,8\n</code></pre>\n\n<p>If there any way we can do it in O(h) times> The hint given in the homework is use the size of each node, which is the descendant node that each node has.</p>\n\n<p><strong>for example</strong></p>\n\n<pre><code>     8    &lt;- size is 7\n\n  6     10 &lt;- size is 3\n\n4   7  9   18  &lt;- size is 1\n</code></pre>\n"},{"tags":["java","random","terrain","perlin-noise"],"comments":[{"owner":{"account_id":22643061,"reputation":134,"user_id":16818831,"display_name":"CiY3"},"score":0,"creation_date":1641950688,"post_id":70674411,"comment_id":124940825,"body_markdown":"not too sure about this topic but what will happen if you change the starting point randomly each generation?","body":"not too sure about this topic but what will happen if you change the starting point randomly each generation?"},{"owner":{"account_id":11733731,"reputation":83,"user_id":9043754,"display_name":"M_Dragon"},"score":0,"creation_date":1642907050,"post_id":70674411,"comment_id":125196877,"body_markdown":"@CiY3 I now have it choose a random tile to start upon, but the problem still persists.","body":"@CiY3 I now have it choose a random tile to start upon, but the problem still persists."}],"answers":[{"tags":[],"owner":{"account_id":11733731,"reputation":83,"user_id":9043754,"display_name":"M_Dragon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643250373,"creation_date":1643250373,"answer_id":70872588,"question_id":70674411,"body_markdown":"With some help from a friend of mine, I resolved the problem. Because I was using the same PERMUTATION array each generation cycle, the noise calculation was using the same base values each time. To fix this, I made a method ```permute()``` that filled PERMUTATION with the numbers 0 to 255 in a random, non-repeating order. I changed the instantiation of PERMUTATION to just be a new int[].\r\n\r\n```\r\nprivate final int[] P = new int[512], PERMUTATION = new int[256];\r\n\r\n...\r\n\r\npublic void permute() {\r\n        for (int i = 0; i &lt; PERMUTATION.length; i++) {\r\n            PERMUTATION[i] = i;\r\n        }\r\n\r\n        Random r = new Random();\r\n        int rIndex, rIndexVal;\r\n        for (int i = 0; i &lt; PERMUTATION.length; i++) {\r\n            rIndex = r.nextInt(PERMUTATION.length);\r\n            rIndexVal = PERMUTATION[rIndex];\r\n            PERMUTATION[rIndex] = PERMUTATION[i];\r\n            PERMUTATION[i] = rIndexVal;\r\n        }\r\n    }\r\n```","title":"Java Perlin Noise height map generation lacks desired randomness","body":"<p>With some help from a friend of mine, I resolved the problem. Because I was using the same PERMUTATION array each generation cycle, the noise calculation was using the same base values each time. To fix this, I made a method <code>permute()</code> that filled PERMUTATION with the numbers 0 to 255 in a random, non-repeating order. I changed the instantiation of PERMUTATION to just be a new int[].</p>\n<pre><code>private final int[] P = new int[512], PERMUTATION = new int[256];\n\n...\n\npublic void permute() {\n        for (int i = 0; i &lt; PERMUTATION.length; i++) {\n            PERMUTATION[i] = i;\n        }\n\n        Random r = new Random();\n        int rIndex, rIndexVal;\n        for (int i = 0; i &lt; PERMUTATION.length; i++) {\n            rIndex = r.nextInt(PERMUTATION.length);\n            rIndexVal = PERMUTATION[rIndex];\n            PERMUTATION[rIndex] = PERMUTATION[i];\n            PERMUTATION[i] = rIndexVal;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11733731,"reputation":83,"user_id":9043754,"display_name":"M_Dragon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70872588,"answer_count":1,"score":0,"last_activity_date":1654002633,"creation_date":1641941863,"question_id":70674411,"body_markdown":"I am trying to generate a height map using Perlin Noise, but am having trouble with generating truly unique maps. That is, each one is a minor variation of all the others. Two examples are below:\r\n[![Map 1][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/wvxsc.png\r\n  [2]: https://i.stack.imgur.com/Q356T.png\r\n\r\nAnd here is my code (most was just copied and pasted from Ken Perlin&#39;s implementation, though adapted for 2D):\r\n```\r\npublic class HeightMap {\r\n\r\n    private ArrayList&lt;Point&gt; map = new ArrayList&lt;&gt;();\r\n    private double elevationMax, elevationMin;\r\n\r\n    private final int[] P = new int[512], PERMUTATION = { 151,160,137,91,90,15,\r\n            131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,\r\n            190, 6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,\r\n            88,237,149,56,87,174,20,125,136,171,168, 68,175,74,165,71,134,139,48,27,166,\r\n            77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,\r\n            102,143,54, 65,25,63,161, 1,216,80,73,209,76,132,187,208, 89,18,169,200,196,\r\n            135,130,116,188,159,86,164,100,109,198,173,186, 3,64,52,217,226,250,124,123,\r\n            5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,\r\n            223,183,170,213,119,248,152, 2,44,154,163, 70,221,153,101,155,167, 43,172,9,\r\n            129,22,39,253, 19,98,108,110,79,113,224,232,178,185, 112,104,218,246,97,228,\r\n            251,34,242,193,238,210,144,12,191,179,162,241, 81,51,145,235,249,14,239,107,\r\n            49,192,214, 31,181,199,106,157,184, 84,204,176,115,121,50,45,127, 4,150,254,\r\n            138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180\r\n    };\r\n\r\n    public HeightMap() {\r\n        this.map = null;\r\n        this.elevationMax = 0.0;\r\n        this.elevationMin = 0.0;\r\n    }\r\n\r\n    public HeightMap(HeightMap map) {\r\n        this.map = map.getPoints();\r\n        this.elevationMax = map.getElevationMax();\r\n        this.elevationMin = map.getElevationMin();\r\n    }\r\n\r\n    /**\r\n     * Generates a Height Map that is, along an imaginary z-axis, centered around the median elevation, given the following parameters:\r\n     * @param mapWidth the width [x] of the map\r\n     * @param mapHeight the height [y] of the map\r\n     * @param tileWidth the width [x] of each tile, or Point\r\n     * @param tileHeight the height [y] of each tile, or Point\r\n     * @param elevationMax the maximum elevation [z] of the map\r\n     * @param elevationMin the minimum elevation [z] of the map\r\n     */\r\n    public HeightMap(int mapWidth, int mapHeight, int tileWidth, int tileHeight, double elevationMax, double elevationMin) {\r\n        this.elevationMax = elevationMax;\r\n        this.elevationMin = elevationMin;\r\n\r\n        for (int i=0; i &lt; 256 ; i++) {\r\n            P[256+i] = P[i] = PERMUTATION[i];\r\n        }\r\n\r\n        int numTilesX = mapWidth / tileWidth;\r\n        int numTilesY = mapHeight / tileHeight;\r\n\r\n        Random r = new Random();\r\n\r\n        for (int t = 0; t &lt; numTilesX * numTilesY; t++) {\r\n            double x = t % numTilesX;\r\n            double y = (t - x) / numTilesX;\r\n            r = new Random();\r\n            x += r.nextDouble();\r\n            y += r.nextDouble();\r\n\r\n            this.map.add(new Point(x, y, lerp(noise(x, y, 13), (elevationMin + elevationMax) / 2, elevationMax), tileWidth, tileHeight));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ken Perlin&#39;s Improved Noise Java Implementation (https://mrl.cs.nyu.edu/~perlin/noise/)\r\n     * Adapted for 2D\r\n     * @param x the x-coordinate on the map\r\n     * @param y the y-coordinate on the map\r\n     * @param stretch the factor by which adjacent points are smoothed\r\n     * @return a value between -1.0 and 1.0 to represent the height of the terrain at (x, y)\r\n     */\r\n    private double noise(double x, double y, double stretch) {\r\n        x /= stretch;\r\n        y /= stretch;\r\n        int X = (int)Math.floor(x) &amp; 255, Y = (int)Math.floor(y) &amp; 255;\r\n\r\n        x -= Math.floor(x);\r\n        y -= Math.floor(y);\r\n\r\n        double u = fade(x),\r\n               v = fade(y);\r\n\r\n        int AA = P[P[X    ] + Y    ],\r\n            AB = P[P[X    ] + Y + 1],\r\n            BA = P[P[X + 1] + Y    ],\r\n            BB = P[P[X + 1] + Y + 1];\r\n\r\n        return lerp(v, lerp(u, grad(P[AA], x, y), grad(P[BA], x - 1, y)), lerp(u, grad(P[AB], x, y - 1), grad(P[BB], x - 1, y - 1)));\r\n    }\r\n\r\n    private double fade(double t) {\r\n        return t * t * t * (t * (t * 6 - 15) + 10);\r\n    }\r\n\r\n    private double lerp(double t, double a, double b) {\r\n        return a + t * (b - a);\r\n    }\r\n\r\n    //Riven&#39;s Optimization (http://riven8192.blogspot.com/2010/08/calculate-perlinnoise-twice-as-fast.html)\r\n    private double grad(int hash, double x, double y) {\r\n        switch(hash &amp; 0xF)\r\n        {\r\n            case 0x0:\r\n            case 0x8:\r\n                return  x + y;\r\n            case 0x1:\r\n            case 0x9:\r\n                return -x + y;\r\n            case 0x2:\r\n            case 0xA:\r\n                return  x - y;\r\n            case 0x3:\r\n            case 0xB:\r\n                return -x - y;\r\n            case 0x4:\r\n            case 0xC:\r\n                return  y + x;\r\n            case 0x5:\r\n            case 0xD:\r\n                return -y + x;\r\n            case 0x6:\r\n            case 0xE:\r\n                return  y - x;\r\n            case 0x7:\r\n            case 0xF:\r\n                return -y - x;\r\n            default: return 0; // never happens\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs this problem inherent in Perlin Noise because the &#39;height&#39; is calculated from nearly the same (x, y) coordinate each time? Is there a way to implement the noise function so that it doesn&#39;t depend on the (x, y) coordinate of each point but still looks like terrain? Any help is greatly appreciated.","title":"Java Perlin Noise height map generation lacks desired randomness","body":"<p>I am trying to generate a height map using Perlin Noise, but am having trouble with generating truly unique maps. That is, each one is a minor variation of all the others. Two examples are below:\n<a href=\"https://i.stack.imgur.com/wvxsc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wvxsc.png\" alt=\"Map 1\" /></a>\n<a href=\"https://i.stack.imgur.com/Q356T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q356T.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is my code (most was just copied and pasted from Ken Perlin's implementation, though adapted for 2D):</p>\n<pre><code>public class HeightMap {\n\n    private ArrayList&lt;Point&gt; map = new ArrayList&lt;&gt;();\n    private double elevationMax, elevationMin;\n\n    private final int[] P = new int[512], PERMUTATION = { 151,160,137,91,90,15,\n            131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,\n            190, 6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,\n            88,237,149,56,87,174,20,125,136,171,168, 68,175,74,165,71,134,139,48,27,166,\n            77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,\n            102,143,54, 65,25,63,161, 1,216,80,73,209,76,132,187,208, 89,18,169,200,196,\n            135,130,116,188,159,86,164,100,109,198,173,186, 3,64,52,217,226,250,124,123,\n            5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,\n            223,183,170,213,119,248,152, 2,44,154,163, 70,221,153,101,155,167, 43,172,9,\n            129,22,39,253, 19,98,108,110,79,113,224,232,178,185, 112,104,218,246,97,228,\n            251,34,242,193,238,210,144,12,191,179,162,241, 81,51,145,235,249,14,239,107,\n            49,192,214, 31,181,199,106,157,184, 84,204,176,115,121,50,45,127, 4,150,254,\n            138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180\n    };\n\n    public HeightMap() {\n        this.map = null;\n        this.elevationMax = 0.0;\n        this.elevationMin = 0.0;\n    }\n\n    public HeightMap(HeightMap map) {\n        this.map = map.getPoints();\n        this.elevationMax = map.getElevationMax();\n        this.elevationMin = map.getElevationMin();\n    }\n\n    /**\n     * Generates a Height Map that is, along an imaginary z-axis, centered around the median elevation, given the following parameters:\n     * @param mapWidth the width [x] of the map\n     * @param mapHeight the height [y] of the map\n     * @param tileWidth the width [x] of each tile, or Point\n     * @param tileHeight the height [y] of each tile, or Point\n     * @param elevationMax the maximum elevation [z] of the map\n     * @param elevationMin the minimum elevation [z] of the map\n     */\n    public HeightMap(int mapWidth, int mapHeight, int tileWidth, int tileHeight, double elevationMax, double elevationMin) {\n        this.elevationMax = elevationMax;\n        this.elevationMin = elevationMin;\n\n        for (int i=0; i &lt; 256 ; i++) {\n            P[256+i] = P[i] = PERMUTATION[i];\n        }\n\n        int numTilesX = mapWidth / tileWidth;\n        int numTilesY = mapHeight / tileHeight;\n\n        Random r = new Random();\n\n        for (int t = 0; t &lt; numTilesX * numTilesY; t++) {\n            double x = t % numTilesX;\n            double y = (t - x) / numTilesX;\n            r = new Random();\n            x += r.nextDouble();\n            y += r.nextDouble();\n\n            this.map.add(new Point(x, y, lerp(noise(x, y, 13), (elevationMin + elevationMax) / 2, elevationMax), tileWidth, tileHeight));\n        }\n    }\n\n    /**\n     * Ken Perlin's Improved Noise Java Implementation (https://mrl.cs.nyu.edu/~perlin/noise/)\n     * Adapted for 2D\n     * @param x the x-coordinate on the map\n     * @param y the y-coordinate on the map\n     * @param stretch the factor by which adjacent points are smoothed\n     * @return a value between -1.0 and 1.0 to represent the height of the terrain at (x, y)\n     */\n    private double noise(double x, double y, double stretch) {\n        x /= stretch;\n        y /= stretch;\n        int X = (int)Math.floor(x) &amp; 255, Y = (int)Math.floor(y) &amp; 255;\n\n        x -= Math.floor(x);\n        y -= Math.floor(y);\n\n        double u = fade(x),\n               v = fade(y);\n\n        int AA = P[P[X    ] + Y    ],\n            AB = P[P[X    ] + Y + 1],\n            BA = P[P[X + 1] + Y    ],\n            BB = P[P[X + 1] + Y + 1];\n\n        return lerp(v, lerp(u, grad(P[AA], x, y), grad(P[BA], x - 1, y)), lerp(u, grad(P[AB], x, y - 1), grad(P[BB], x - 1, y - 1)));\n    }\n\n    private double fade(double t) {\n        return t * t * t * (t * (t * 6 - 15) + 10);\n    }\n\n    private double lerp(double t, double a, double b) {\n        return a + t * (b - a);\n    }\n\n    //Riven's Optimization (http://riven8192.blogspot.com/2010/08/calculate-perlinnoise-twice-as-fast.html)\n    private double grad(int hash, double x, double y) {\n        switch(hash &amp; 0xF)\n        {\n            case 0x0:\n            case 0x8:\n                return  x + y;\n            case 0x1:\n            case 0x9:\n                return -x + y;\n            case 0x2:\n            case 0xA:\n                return  x - y;\n            case 0x3:\n            case 0xB:\n                return -x - y;\n            case 0x4:\n            case 0xC:\n                return  y + x;\n            case 0x5:\n            case 0xD:\n                return -y + x;\n            case 0x6:\n            case 0xE:\n                return  y - x;\n            case 0x7:\n            case 0xF:\n                return -y - x;\n            default: return 0; // never happens\n        }\n    }\n}\n</code></pre>\n<p>Is this problem inherent in Perlin Noise because the 'height' is calculated from nearly the same (x, y) coordinate each time? Is there a way to implement the noise function so that it doesn't depend on the (x, y) coordinate of each point but still looks like terrain? Any help is greatly appreciated.</p>\n"},{"tags":["java","keycloak","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":4525750,"reputation":401,"user_id":3677636,"accept_rate":50,"display_name":"user3677636"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654002361,"creation_date":1654002361,"answer_id":72448343,"question_id":72446246,"body_markdown":"Turns out that one of the attribute values were too long.\r\nFound it by reading the logs from Keycloak server.","title":"Keycloak add custom attributes to user through confidential client","body":"<p>Turns out that one of the attribute values were too long.\nFound it by reading the logs from Keycloak server.</p>\n"}],"owner":{"account_id":4525750,"reputation":401,"user_id":3677636,"accept_rate":50,"display_name":"user3677636"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72448343,"answer_count":1,"score":0,"last_activity_date":1654002361,"creation_date":1653993342,"question_id":72446246,"body_markdown":"I&#39;m trying to add custom attributes to a user using the Java SDK but receive a **400 Bad Request**.\r\nHere&#39;s my code:\r\n```\r\nUserResource userResource = usersResource.get(userId);\r\nUserRepresentation user = userResource.toRepresentation();\r\n\r\nMap&lt;String, List&lt;String&gt;&gt; attributes = user.getAttributes() != null\r\n        ? user.getAttributes() : new HashMap&lt;&gt;();\r\n\r\nattributes.put(&quot;attribute1&quot;, List.of(&quot;value1&quot;));\r\nattributes.put(&quot;attribute2&quot;, List.of(&quot;value2&quot;));\r\nattributes.put(&quot;attribute3&quot;, List.of(&quot;value3&quot;));\r\n\r\nuser.setAttributes(attributes);\r\n\r\nuserResource.update(user);\r\n```\r\n\r\nUpdating standard attributes like `first name` work though, is there some other Account Service Role I need than manage users, I think I&#39;ve tried them all..\r\n\r\n[![Client configuration][1]][1]\r\n\r\n\r\n[![Client scope][2]][2]\r\n\r\n\r\n[![Client account service roles][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0a1pQ.png\r\n  [2]: https://i.stack.imgur.com/x3Jtd.png\r\n  [3]: https://i.stack.imgur.com/dvJ8G.png","title":"Keycloak add custom attributes to user through confidential client","body":"<p>I'm trying to add custom attributes to a user using the Java SDK but receive a <strong>400 Bad Request</strong>.\nHere's my code:</p>\n<pre><code>UserResource userResource = usersResource.get(userId);\nUserRepresentation user = userResource.toRepresentation();\n\nMap&lt;String, List&lt;String&gt;&gt; attributes = user.getAttributes() != null\n        ? user.getAttributes() : new HashMap&lt;&gt;();\n\nattributes.put(&quot;attribute1&quot;, List.of(&quot;value1&quot;));\nattributes.put(&quot;attribute2&quot;, List.of(&quot;value2&quot;));\nattributes.put(&quot;attribute3&quot;, List.of(&quot;value3&quot;));\n\nuser.setAttributes(attributes);\n\nuserResource.update(user);\n</code></pre>\n<p>Updating standard attributes like <code>first name</code> work though, is there some other Account Service Role I need than manage users, I think I've tried them all..</p>\n<p><a href=\"https://i.stack.imgur.com/0a1pQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0a1pQ.png\" alt=\"Client configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/x3Jtd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3Jtd.png\" alt=\"Client scope\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dvJ8G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dvJ8G.png\" alt=\"Client account service roles\" /></a></p>\n"},{"tags":["java","bytecode","instrumentation"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1653896187,"post_id":72430477,"comment_id":127954257,"body_markdown":"Can you show the line number table after instrumentation? Also show the code you used to do the instrumentation.","body":"Can you show the line number table after instrumentation? Also show the code you used to do the instrumentation."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1653896547,"post_id":72430477,"comment_id":127954370,"body_markdown":"I should think that the compiler would not put a line number on what is basically non-code, that can never generate a stack trace under normal circumstances. It probably only attaches a line number to actual operational code in the source.","body":"I should think that the compiler would not put a line number on what is basically non-code, that can never generate a stack trace under normal circumstances. It probably only attaches a line number to actual operational code in the source."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653896776,"post_id":72430477,"comment_id":127954439,"body_markdown":"probably because the *inserted* byte code is not assigned any line number (*yet* /  at that position)","body":"probably because the <i>inserted</i> byte code is not assigned any line number (<i>yet</i> /  at that position)"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654002107,"creation_date":1653927955,"answer_id":72437386,"question_id":72430477,"body_markdown":"The line numbers are given by the [`LineNumberTable` Attribute] which maps bytecode locations to source code lines. When you transform code with the ASM library, it will take care to adapt code locations to reflect changes.\r\n\r\nThis implies that when you inject code before any original code, the location of the first code associated with a line number gets adapted too, so your new code is not covered by the line numbers.\r\n\r\nInstead of injecting the code on `visitCode`, you may inject it after the first line number has been reported through [`visitLineNumber`]. In the best case, this still is before any executable code (it may not, if synthetic code has been injected by other means already).\r\n\r\nThis way, the new code gets associated with the first recorded line number. However, you don’t need to deal with stack traces to reconstitute this information, as it is already known at this point of code injection. Since class and method name are known too, there is not even a need to generate string concatenation code. You can assemble the string beforehand.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.lang.invoke.MethodHandles;\r\n\r\nimport org.objectweb.asm.*;\r\n\r\npublic class AsmExample {\r\n    static class Test {\r\n        public static int add(int a, int b){\r\n            int sum = a + b;\r\n            return sum;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ClassReader cr = new ClassReader(AsmExample.class.getName()+&quot;$Test&quot;);\r\n        ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\r\n        cr.accept(new ClassVisitor(Opcodes.ASM9, cw) {\r\n            String className;\r\n            @Override\r\n            public void visit(int ver,\r\n                int acc, String name, String sig, String superName, String[] ifs) {\r\n\r\n                super.visit(ver, acc, name, sig, superName, ifs);\r\n                className = name.replace(&#39;/&#39;, &#39;.&#39;);\r\n            }\r\n            @Override\r\n            public MethodVisitor visitMethod(\r\n                int acc, String name, String desc, String sig, String[] ex) {\r\n\r\n                MethodVisitor mv = super.visitMethod(acc, name, desc, sig, ex);\r\n                if(name.equals(&quot;add&quot;)) mv = new Injector(mv, className + &#39;_&#39; + name);\r\n                return mv;\r\n            }\r\n        }, 0);\r\n\r\n        MethodHandles.lookup().defineClass(cw.toByteArray());\r\n\r\n        System.out.println(&quot;return value: &quot; + Test.add(30, 12));\r\n    }\r\n\r\n    static class Injector extends MethodVisitor {\r\n        private final String classAndMethodName;\r\n        private boolean logStatementAdded;\r\n\r\n        public Injector(MethodVisitor methodVisitor, String classAndMethod) {\r\n            super(Opcodes.ASM9, methodVisitor);\r\n            classAndMethodName = classAndMethod;\r\n        }\r\n\r\n        @Override\r\n        public void visitLineNumber(int line, Label start) {\r\n            super.visitLineNumber(line, start);\r\n            if(!logStatementAdded) {\r\n                logStatementAdded = true;\r\n                visitFieldInsn(Opcodes.GETSTATIC,\r\n                    &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n                visitLdcInsn(classAndMethodName + &quot;_&quot; + line);\r\n                visitMethodInsn(Opcodes.INVOKEVIRTUAL,\r\n                    &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```none\r\ncom.example.AsmExample$Test_add_10\r\nreturn value: 42\r\n```\r\n\r\nI used a simple print statement instead of your logger, but the example should be easy to adapt.\r\n\r\n---\r\n\r\nAs an alternative, if you want to stay with your original logic as much as possible, you may just alter the bytecode location of the first reported line number association, to cover your injected code:\r\n\r\n```java\r\nstatic class Injector extends MethodVisitor {\r\n    private final String classAndMethodName;\r\n    Label newStart = new Label();\r\n\r\n    public Injector(MethodVisitor methodVisitor, String classAndMethod) {\r\n        super(Opcodes.ASM9, methodVisitor);\r\n        classAndMethodName = classAndMethod;\r\n    }\r\n\r\n    @Override\r\n    public void visitCode() {\r\n        super.visitCode();\r\n        visitLabel(newStart);\r\n        instrument();\r\n    }\r\n\r\n    @Override\r\n    public void visitLineNumber(int line, Label start) {\r\n        if(newStart != null) {\r\n            start = newStart;\r\n            newStart = null;\r\n        }\r\n        super.visitLineNumber(line, start);\r\n    }\r\n\r\n    …\r\n```\r\nKeep in mind that a line number reported for a code location is associated with all following instructions, until the next line number is reported. While ASM will invoke the visitor methods in the order of the code locations, we don’t need to be as strict when calling into the class writer.\r\n\r\nSo we can associate a `Label` with the beginning of the method by calling `visitLabel(newStart);` before `instrument();`, without knowing the line number. By the time, `visitLineNumber` is called for the first time, we replace the label `start`, which represents the original start of the method, with our new label, representing the new start. ASM doesn’t mind that we didn’t call `visitLineNumber` before `instrument();`, as only the code location associated with the `Label` matters.\r\n\r\n[`LineNumberTable` Attribute]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.12\r\n[`visitLineNumber`]: https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html#visitLineNumber(int,org.objectweb.asm.Label)","title":"Why does getLineNumber return -1 when using StackTraceElement","body":"<p>The line numbers are given by the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.12\" rel=\"nofollow noreferrer\"><code>LineNumberTable</code> Attribute</a> which maps bytecode locations to source code lines. When you transform code with the ASM library, it will take care to adapt code locations to reflect changes.</p>\n<p>This implies that when you inject code before any original code, the location of the first code associated with a line number gets adapted too, so your new code is not covered by the line numbers.</p>\n<p>Instead of injecting the code on <code>visitCode</code>, you may inject it after the first line number has been reported through <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html#visitLineNumber(int,org.objectweb.asm.Label)\" rel=\"nofollow noreferrer\"><code>visitLineNumber</code></a>. In the best case, this still is before any executable code (it may not, if synthetic code has been injected by other means already).</p>\n<p>This way, the new code gets associated with the first recorded line number. However, you don’t need to deal with stack traces to reconstitute this information, as it is already known at this point of code injection. Since class and method name are known too, there is not even a need to generate string concatenation code. You can assemble the string beforehand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.lang.invoke.MethodHandles;\n\nimport org.objectweb.asm.*;\n\npublic class AsmExample {\n    static class Test {\n        public static int add(int a, int b){\n            int sum = a + b;\n            return sum;\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        ClassReader cr = new ClassReader(AsmExample.class.getName()+&quot;$Test&quot;);\n        ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\n        cr.accept(new ClassVisitor(Opcodes.ASM9, cw) {\n            String className;\n            @Override\n            public void visit(int ver,\n                int acc, String name, String sig, String superName, String[] ifs) {\n\n                super.visit(ver, acc, name, sig, superName, ifs);\n                className = name.replace('/', '.');\n            }\n            @Override\n            public MethodVisitor visitMethod(\n                int acc, String name, String desc, String sig, String[] ex) {\n\n                MethodVisitor mv = super.visitMethod(acc, name, desc, sig, ex);\n                if(name.equals(&quot;add&quot;)) mv = new Injector(mv, className + '_' + name);\n                return mv;\n            }\n        }, 0);\n\n        MethodHandles.lookup().defineClass(cw.toByteArray());\n\n        System.out.println(&quot;return value: &quot; + Test.add(30, 12));\n    }\n\n    static class Injector extends MethodVisitor {\n        private final String classAndMethodName;\n        private boolean logStatementAdded;\n\n        public Injector(MethodVisitor methodVisitor, String classAndMethod) {\n            super(Opcodes.ASM9, methodVisitor);\n            classAndMethodName = classAndMethod;\n        }\n\n        @Override\n        public void visitLineNumber(int line, Label start) {\n            super.visitLineNumber(line, start);\n            if(!logStatementAdded) {\n                logStatementAdded = true;\n                visitFieldInsn(Opcodes.GETSTATIC,\n                    &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n                visitLdcInsn(classAndMethodName + &quot;_&quot; + line);\n                visitMethodInsn(Opcodes.INVOKEVIRTUAL,\n                    &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>com.example.AsmExample$Test_add_10\nreturn value: 42\n</code></pre>\n<p>I used a simple print statement instead of your logger, but the example should be easy to adapt.</p>\n<hr />\n<p>As an alternative, if you want to stay with your original logic as much as possible, you may just alter the bytecode location of the first reported line number association, to cover your injected code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Injector extends MethodVisitor {\n    private final String classAndMethodName;\n    Label newStart = new Label();\n\n    public Injector(MethodVisitor methodVisitor, String classAndMethod) {\n        super(Opcodes.ASM9, methodVisitor);\n        classAndMethodName = classAndMethod;\n    }\n\n    @Override\n    public void visitCode() {\n        super.visitCode();\n        visitLabel(newStart);\n        instrument();\n    }\n\n    @Override\n    public void visitLineNumber(int line, Label start) {\n        if(newStart != null) {\n            start = newStart;\n            newStart = null;\n        }\n        super.visitLineNumber(line, start);\n    }\n\n    …\n</code></pre>\n<p>Keep in mind that a line number reported for a code location is associated with all following instructions, until the next line number is reported. While ASM will invoke the visitor methods in the order of the code locations, we don’t need to be as strict when calling into the class writer.</p>\n<p>So we can associate a <code>Label</code> with the beginning of the method by calling <code>visitLabel(newStart);</code> before <code>instrument();</code>, without knowing the line number. By the time, <code>visitLineNumber</code> is called for the first time, we replace the label <code>start</code>, which represents the original start of the method, with our new label, representing the new start. ASM doesn’t mind that we didn’t call <code>visitLineNumber</code> before <code>instrument();</code>, as only the code location associated with the <code>Label</code> matters.</p>\n"}],"owner":{"account_id":24347416,"reputation":33,"user_id":18283759,"display_name":"falin luo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72437386,"answer_count":1,"score":3,"last_activity_date":1654002107,"creation_date":1653895136,"question_id":72430477,"body_markdown":"I want to get the current code line number when instrumenting the java bytecode. Instrumentation is achieved through ASM. Insert the bytecode corresponding to getLineNumber after the visitcode, the return value is -1, but the return value obtained by instrumentation in other locations is normal.\r\n\r\nfor example,the source code is as follows\r\n```java\r\npublic static int add(int a, int b){\r\n        int sum = a + b;\r\n        return sum;\r\n    }\r\n```\r\nAccording to the logic of ASM, the bytecode to obtain the line number information should be inserted after the add method.\r\nBut when I call the function in the main method, the line number obtained is -1\r\n\r\nAt the same time, I also analyzed the assembly code before and after instrumentation, as follows\r\n```java\r\n//this is before instrumentation\r\npublic static int add(int, int);\r\n    Code:\r\n       0: iload_0\r\n       1: iload_1\r\n       2: iadd\r\n       3: istore_2\r\n       4: iload_2\r\n       5: ireturn\r\n```\r\n\r\n```java\r\n//this is after instrumentation\r\npublic static int add(int, int);\r\n    Code:\r\n       0: new           #33                 // class java/lang/StringBuilder\r\n       3: dup\r\n       4: invokespecial #34                 // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       7: ldc           #36                 // String _\r\n       9: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n      12: invokestatic  #46                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;\r\n      15: invokevirtual #50                 // Method java/lang/Thread.getStackTrace:()[Ljava/lang/StackTraceElement;\r\n      18: iconst_1\r\n      19: aaload\r\n      20: invokevirtual #56                 // Method java/lang/StackTraceElement.getLineNumber:()I\r\n      23: invokevirtual #59                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n      26: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n      29: invokestatic  #69                 // Method afljava/logger/Logger.writeToLogger:(Ljava/lang/String;)V\r\n      32: iload_0\r\n      33: iload_1\r\n      34: iadd\r\n      35: istore_2\r\n      36: iload_2\r\n      37: ireturn\r\n```\r\nAs you can see, I get not only the line number, but also the class name and method name. Among them, the class name and method name are obtained normally, and the line number is obtained as -1.\r\n\r\nAdditionally, Only inserting after the visitcode position will let the line number be -1, and inserting the same bytecode at other positions will not have this problem.\r\n\r\nAnd this is one part of my instrumentation code\r\n```java\r\nprivate void instrument(){\r\n            mv.visitTypeInsn(Opcodes.NEW, &quot;java/lang/StringBuilder&quot;);\r\n            mv.visitInsn(Opcodes.DUP);\r\n\r\n            mv.visitMethodInsn(Opcodes.INVOKESPECIAL, &quot;java/lang/StringBuilder&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Thread&quot;, &quot;currentThread&quot;, &quot;()Ljava/lang/Thread;&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/Thread&quot;, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;append&quot;, &quot;(Ljava/lang/String;)Ljava/lang/StringBuilder;&quot;, false);\r\n            mv.visitLdcInsn(&quot;_&quot; + classAndMethodName + &quot;_&quot;);\r\n\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;append&quot;, &quot;(Ljava/lang/String;)Ljava/lang/StringBuilder;&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Thread&quot;, &quot;currentThread&quot;, &quot;()Ljava/lang/Thread;&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/Thread&quot;, &quot;getStackTrace&quot;, &quot;()[Ljava/lang/StackTraceElement;&quot;, false);\r\n            mv.visitInsn(Opcodes.ICONST_1);\r\n            mv.visitInsn(Opcodes.AALOAD);\r\n            \r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StackTraceElement&quot;, &quot;getLineNumber&quot;, &quot;()I&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;append&quot;, &quot;(I)Ljava/lang/StringBuilder;&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;toString&quot;, &quot;()Ljava/lang/String;&quot;, false);\r\n            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;afljava/logger/Logger&quot;, &quot;writeToLogger&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\r\n        }\r\n\r\n        @Override\r\n        public void visitCode() {\r\n            super.visitCode();\r\n            instrument();\r\n        }\r\n\r\n```\r\nLike Holger&#39;s code,instead I insert code by using visitcode.","title":"Why does getLineNumber return -1 when using StackTraceElement","body":"<p>I want to get the current code line number when instrumenting the java bytecode. Instrumentation is achieved through ASM. Insert the bytecode corresponding to getLineNumber after the visitcode, the return value is -1, but the return value obtained by instrumentation in other locations is normal.</p>\n<p>for example,the source code is as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int add(int a, int b){\n        int sum = a + b;\n        return sum;\n    }\n</code></pre>\n<p>According to the logic of ASM, the bytecode to obtain the line number information should be inserted after the add method.\nBut when I call the function in the main method, the line number obtained is -1</p>\n<p>At the same time, I also analyzed the assembly code before and after instrumentation, as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>//this is before instrumentation\npublic static int add(int, int);\n    Code:\n       0: iload_0\n       1: iload_1\n       2: iadd\n       3: istore_2\n       4: iload_2\n       5: ireturn\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//this is after instrumentation\npublic static int add(int, int);\n    Code:\n       0: new           #33                 // class java/lang/StringBuilder\n       3: dup\n       4: invokespecial #34                 // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n       7: ldc           #36                 // String _\n       9: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n      12: invokestatic  #46                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;\n      15: invokevirtual #50                 // Method java/lang/Thread.getStackTrace:()[Ljava/lang/StackTraceElement;\n      18: iconst_1\n      19: aaload\n      20: invokevirtual #56                 // Method java/lang/StackTraceElement.getLineNumber:()I\n      23: invokevirtual #59                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n      26: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n      29: invokestatic  #69                 // Method afljava/logger/Logger.writeToLogger:(Ljava/lang/String;)V\n      32: iload_0\n      33: iload_1\n      34: iadd\n      35: istore_2\n      36: iload_2\n      37: ireturn\n</code></pre>\n<p>As you can see, I get not only the line number, but also the class name and method name. Among them, the class name and method name are obtained normally, and the line number is obtained as -1.</p>\n<p>Additionally, Only inserting after the visitcode position will let the line number be -1, and inserting the same bytecode at other positions will not have this problem.</p>\n<p>And this is one part of my instrumentation code</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void instrument(){\n            mv.visitTypeInsn(Opcodes.NEW, &quot;java/lang/StringBuilder&quot;);\n            mv.visitInsn(Opcodes.DUP);\n\n            mv.visitMethodInsn(Opcodes.INVOKESPECIAL, &quot;java/lang/StringBuilder&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Thread&quot;, &quot;currentThread&quot;, &quot;()Ljava/lang/Thread;&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/Thread&quot;, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;append&quot;, &quot;(Ljava/lang/String;)Ljava/lang/StringBuilder;&quot;, false);\n            mv.visitLdcInsn(&quot;_&quot; + classAndMethodName + &quot;_&quot;);\n\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;append&quot;, &quot;(Ljava/lang/String;)Ljava/lang/StringBuilder;&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Thread&quot;, &quot;currentThread&quot;, &quot;()Ljava/lang/Thread;&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/Thread&quot;, &quot;getStackTrace&quot;, &quot;()[Ljava/lang/StackTraceElement;&quot;, false);\n            mv.visitInsn(Opcodes.ICONST_1);\n            mv.visitInsn(Opcodes.AALOAD);\n            \n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StackTraceElement&quot;, &quot;getLineNumber&quot;, &quot;()I&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;append&quot;, &quot;(I)Ljava/lang/StringBuilder;&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/lang/StringBuilder&quot;, &quot;toString&quot;, &quot;()Ljava/lang/String;&quot;, false);\n            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;afljava/logger/Logger&quot;, &quot;writeToLogger&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\n        }\n\n        @Override\n        public void visitCode() {\n            super.visitCode();\n            instrument();\n        }\n\n</code></pre>\n<p>Like Holger's code,instead I insert code by using visitcode.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1654001822,"post_id":71949032,"comment_id":127984027,"body_markdown":"Can you say what Java distribnution/version this is and maybe try a different one? I am seeing &quot;internaql_alerts&quot; with Java 17 since a short time (however with a different endpoint)","body":"Can you say what Java distribnution/version this is and maybe try a different one? I am seeing &quot;internaql_alerts&quot; with Java 17 since a short time (however with a different endpoint)"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1654002198,"post_id":71949032,"comment_id":127984184,"body_markdown":"BTW; You dont need the SSLContext if you dont use it and you might comment out the cipher-definition in order to see if it helps. But the `internal_error` alert is not really related to coding errors on your side.","body":"BTW; You dont need the SSLContext if you dont use it and you might comment out the cipher-definition in order to see if it helps. But the <code>internal_error</code> alert is not really related to coding errors on your side."}],"owner":{"account_id":25029655,"reputation":25,"user_id":18887538,"display_name":"seunggyu lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654002075,"creation_date":1650515991,"question_id":71949032,"body_markdown":"I made a rdp protocol\r\nso I used TLSv1.2 protocol.\r\n\r\nbut I had a problem with TLSv1.2\r\n\r\nwhen I send packet to window server(RDP), do i make a certification?\r\n\r\nor just use rdp certification?\r\n[![TCPDump screenshot][1]\r\n\r\nbut finally they had a issue about alert(21)\r\n\r\nI don&#39;t know what&#39;s wrong with it....\r\n[![TCPSocket Code][2]][2]\r\n\r\nand i enrolled window rdp certification in cacerts.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d90F9.png\r\n  [2]: https://i.stack.imgur.com/ZpXCX.png","title":"JAVA - TLS SOCKET : javax.net.ssl.SSLException: Received fatal alert: internal_error","body":"<p>I made a rdp protocol\nso I used TLSv1.2 protocol.</p>\n<p>but I had a problem with TLSv1.2</p>\n<p>when I send packet to window server(RDP), do i make a certification?</p>\n<p>or just use rdp certification?\n[<img src=\"https://i.stack.imgur.com/d90F9.png\" alt=\"TCPDump screenshot\" /></p>\n<p>but finally they had a issue about alert(21)</p>\n<p>I don't know what's wrong with it....\n<a href=\"https://i.stack.imgur.com/ZpXCX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZpXCX.png\" alt=\"TCPSocket Code\" /></a></p>\n<p>and i enrolled window rdp certification in cacerts.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":25386492,"reputation":21,"user_id":19198214,"display_name":"someron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653481517,"creation_date":1653481517,"answer_id":72377610,"question_id":72377352,"body_markdown":"That is because Docker actually can build an own internal network and docker-compose does this by default.\r\nThe hostname inside of docker is the container name or -using docker-compose- the service name.\r\nIn your app the correct request URL would be `http://wiremock:30121/test-endpoint/`","title":"Docker Compose - Wiremock not able to answer REST call from SpringBootApplication","body":"<p>That is because Docker actually can build an own internal network and docker-compose does this by default.\nThe hostname inside of docker is the container name or -using docker-compose- the service name.\nIn your app the correct request URL would be <code>http://wiremock:30121/test-endpoint/</code></p>\n"},{"tags":[],"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654002053,"creation_date":1654002053,"answer_id":72448270,"question_id":72377352,"body_markdown":"After A LOT of googling I finally found the answer to my problem by using **host.docker.internal** as the DNS string instead of container name. This because using the container name it wouldn&#39;t route it correctly through the ports I wanted.","title":"Docker Compose - Wiremock not able to answer REST call from SpringBootApplication","body":"<p>After A LOT of googling I finally found the answer to my problem by using <strong>host.docker.internal</strong> as the DNS string instead of container name. This because using the container name it wouldn't route it correctly through the ports I wanted.</p>\n"}],"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1654002053,"creation_date":1653480413,"question_id":72377352,"body_markdown":"I have a Spring Application that is making REST calls that is intercepted by Wiremock, running this setup on my local machine works well but when running dockerized I can see that the request reaches Wiremock but nothing comes back so from the application side it looks like the connection was refused. Where did the response go?\r\n\r\nStripped version of my docker-compose file:\r\n\r\n    version: &quot;3.9&quot;\r\n    services:\r\n        test-service-application:\r\n            build:\r\n                context: .\r\n                dockerfile: Dockerfile-local\r\n            hostname: test-service\r\n            privileged: true\r\n            ports:\r\n                - &quot;22101:22101&quot; # Application port\r\n            environment:\r\n                - &quot;SPRING_PROFILES_ACTIVE=local&quot;\r\n    \r\n        wiremock:\r\n            image: &#39;wiremock/wiremock:2.32.0&#39;\r\n            container_name: &#39;wiremock&#39;\r\n            ports:\r\n                - &quot;8443:8080&quot; # Web browser\r\n                - &quot;30121:8080&quot; # Service #1\r\n            environment:\r\n                https-port: 8443\r\n                http-port: 8443\r\n\r\nAnd REST call:\r\n    \r\n    WebClient webClient = WebClient.builder()\r\n        .clientConnector(new ReactorClientHttpConnector(HttpClient.create()))\r\n        .build();\r\n    \r\n    webClient\r\n        .method(HttpMethod.GET)\r\n        .uri(&quot;http://localhost:30121/test-endpoint/&quot;)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .retrieve()\r\n        .bodyToMono(MyClassDTO)\r\n        .block();","title":"Docker Compose - Wiremock not able to answer REST call from SpringBootApplication","body":"<p>I have a Spring Application that is making REST calls that is intercepted by Wiremock, running this setup on my local machine works well but when running dockerized I can see that the request reaches Wiremock but nothing comes back so from the application side it looks like the connection was refused. Where did the response go?</p>\n<p>Stripped version of my docker-compose file:</p>\n<pre><code>version: &quot;3.9&quot;\nservices:\n    test-service-application:\n        build:\n            context: .\n            dockerfile: Dockerfile-local\n        hostname: test-service\n        privileged: true\n        ports:\n            - &quot;22101:22101&quot; # Application port\n        environment:\n            - &quot;SPRING_PROFILES_ACTIVE=local&quot;\n\n    wiremock:\n        image: 'wiremock/wiremock:2.32.0'\n        container_name: 'wiremock'\n        ports:\n            - &quot;8443:8080&quot; # Web browser\n            - &quot;30121:8080&quot; # Service #1\n        environment:\n            https-port: 8443\n            http-port: 8443\n</code></pre>\n<p>And REST call:</p>\n<pre><code>WebClient webClient = WebClient.builder()\n    .clientConnector(new ReactorClientHttpConnector(HttpClient.create()))\n    .build();\n\nwebClient\n    .method(HttpMethod.GET)\n    .uri(&quot;http://localhost:30121/test-endpoint/&quot;)\n    .contentType(MediaType.APPLICATION_JSON)\n    .retrieve()\n    .bodyToMono(MyClassDTO)\n    .block();\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"score":0,"creation_date":1653999355,"post_id":72446941,"comment_id":127983018,"body_markdown":"Share your code","body":"Share your code"},{"owner":{"account_id":25435998,"reputation":1,"user_id":19239713,"display_name":"Joey Hajj"},"score":0,"creation_date":1654002129,"post_id":72446941,"comment_id":127984153,"body_markdown":"right away _JoeyElHajj","body":"right away _JoeyElHajj"}],"owner":{"account_id":25435998,"reputation":1,"user_id":19239713,"display_name":"Joey Hajj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654002045,"creation_date":1653996322,"question_id":72446941,"body_markdown":"i am making an app that records a video and then displays this video on another activity.\r\n\r\nthe problem is that this video cannot be played right away, i would have to record the video, and then restart the android app for it to show. otherwise it shows me a message that \r\nsays: &quot;can&#39;t play this video&quot;.\r\n\r\nMoreover the thing that i really dont understand is that i tried it on an older phone of android version 11 and it works perfectly, but for some reason on the new phone it doesn&#39;t\r\n\r\ni have made some research and i think it has something to do with the storage permissions but i am not sure since i tried fixing it with no luck.\r\n\r\nwhat can i do to fix this?\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    CameraManager CamMan;\r\n\r\n    boolean flag = false;\r\n\r\n    public static boolean FirstDirectoryCreated;\r\n\r\n    CameraSource cameraSource;\r\n\r\n    Button seeVideos;\r\n\r\n    public static File LeakedVids;\r\n\r\n    public static boolean isDirectoryCreated;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, 1);\r\n        }\r\n\r\n        seeVideos = findViewById(R.id.seeVideos);\r\n\r\n\r\n            init();\r\n\r\n            createFiles();\r\n\r\n        CamMan = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n\r\n        seeVideos.setOnClickListener(v -&gt; goToVideos());\r\n\r\n    }\r\n\r\n\r\n        private void goToVideos() {\r\n        Intent intent = new Intent(this, ShowVideo.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed(){\r\n        Intent a = new Intent(Intent.ACTION_MAIN);\r\n        a.addCategory(Intent.CATEGORY_HOME);\r\n        a.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(a);\r\n    }\r\n\r\n\r\n        private void createFiles () {\r\n\r\n            File EyeTracker = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES), &quot;Eye Tracker&quot;);\r\n            FirstDirectoryCreated = EyeTracker.exists() || EyeTracker.mkdirs();\r\n\r\n            if (FirstDirectoryCreated) {\r\n\r\n\r\n                LeakedVids = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES) + File.separator\r\n                        + &quot;Eye Tracker&quot;, &quot;Leaked Videos&quot;);\r\n                isDirectoryCreated = LeakedVids.exists() || LeakedVids.mkdirs();\r\n\r\n            }\r\n        }\r\n\r\n\r\n        private void init () {\r\n            flag = true;\r\n\r\n            initCameraSource();\r\n        }\r\n\r\n        //method to create camera source from faceFactoryDaemon class\r\n        private void initCameraSource () {\r\n            FaceDetector detector = new FaceDetector.Builder(this)\r\n                    .setTrackingEnabled(true)\r\n                    .setClassificationType(FaceDetector.ALL_CLASSIFICATIONS)\r\n                    .setMode(FaceDetector.ACCURATE_MODE)\r\n                    .build();\r\n            detector.setProcessor(new MultiProcessor.Builder(new FaceTrackerDaemon(MainActivity.this)).build());\r\n\r\n            cameraSource = new CameraSource.Builder(this, detector)\r\n                    .setRequestedPreviewSize(1024, 768)\r\n                    .setFacing(CameraSource.CAMERA_FACING_BACK)\r\n                    .setRequestedFps(30.0f)\r\n                    .build();\r\n            try {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, 1);\r\n                    return;\r\n                }\r\n                cameraSource.start();\r\n\r\n\r\n            } catch (IOException e) {\r\n                Toast.makeText(MainActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onResume () {\r\n            super.onResume();\r\n            if (cameraSource != null) {\r\n                try {\r\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                        ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, 1);\r\n                        return;\r\n                    }\r\n                    cameraSource.start();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPause () {\r\n            super.onPause();\r\n            if (cameraSource != null) {\r\n                cameraSource.stop();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onDestroy () {\r\n            super.onDestroy();\r\n            if (cameraSource != null) {\r\n                cameraSource.release();\r\n            }\r\n        }\r\n\r\n        //update view\r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        public void updateMainView (Condition condition){\r\n            switch (condition) {\r\n                case USER_EYES_OPEN:\r\n                    openCam();\r\n                    break;\r\n                case FACE_NOT_FOUND:\r\n                    break;\r\n            }\r\n        }\r\n        public void openCam () {\r\n            Intent intent = new Intent(this, VideoPreview.class);\r\n            startActivity(intent);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        }\r\n\r\n    }\r\n\r\n\r\nVideoPreview\r\n\r\n    public class VideoPreview extends AppCompatActivity {\r\n\r\n    private VideoCapture&lt;Recorder&gt; videoCapture = null;\r\n    private Recording recording = null;\r\n\r\n    private ExecutorService cameraExecutor;\r\n\r\n    private ActivityVideoPreviewBinding viewBinding;\r\n\r\n\r\n    Timer timer;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video_preview);\r\n        viewBinding = ActivityVideoPreviewBinding.inflate(getLayoutInflater());\r\n        setContentView(viewBinding.getRoot());\r\n\r\n\r\n        startCamera();\r\n\r\n\r\n        timer = new Timer();\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                captureVideo();\r\n            }\r\n        }, 173);\r\n\r\n\r\n        timer = new Timer();\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                stopRec();\r\n            }\r\n        }, 6000);\r\n\r\n        timer = new Timer();\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                backToMain();\r\n            }\r\n        }, 6100);\r\n\r\n\r\n\r\n        cameraExecutor = Executors.newSingleThreadExecutor();\r\n    }\r\n\r\n    private void stopRec() {\r\n        Recording curRecording = recording;\r\n        if (curRecording != null) {\r\n            // Stop the current recording session.\r\n            curRecording.stop();\r\n            recording = null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        Toast.makeText(this, &quot;Ntek Ntor Ya Zabre&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n\r\n    private void captureVideo() {\r\n\r\n\r\n       /* MediaStoreOutputOptions mediaStoreOutputOptions = (new androidx.camera.video.MediaStoreOutputOptions\r\n                .Builder(this.getContentResolver(), android.provider.MediaStore.Video.Media.EXTERNAL_CONTENT_URI))\r\n                .build(); */\r\n\r\n                String name = &quot;LeakedVideo_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\n                File vids = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES) + File.separator\r\n                        + &quot;Eye Tracker&quot; + File.separator + &quot;Leaked Videos&quot;, name);\r\n\r\n\r\n                FileOutputOptions fileOutputOptions = new FileOutputOptions.Builder(vids).build();\r\n\r\n                if (videoCapture != null) {\r\n                    PendingRecording recording = (videoCapture.getOutput())\r\n                            .prepareRecording(this, fileOutputOptions);\r\n                    this.recording = recording.start((ContextCompat.getMainExecutor(this)), videoRecordEvent -&gt; {\r\n\r\n\r\n                    });\r\n                }\r\n            }\r\n\r\n\r\n\r\n    private void startCamera() {\r\n\r\n\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n\r\n        cameraProviderFuture.addListener((() -&gt; {\r\n            ProcessCameraProvider var10000 = null;\r\n            try {\r\n                var10000 = cameraProviderFuture.get();\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            assert var10000 != null;\r\n            Intrinsics.checkNotNullExpressionValue(var10000, &quot;cameraProviderFuture.get()&quot;);\r\n            ProcessCameraProvider cameraProvider = var10000;\r\n\r\n            Preview preview = new Preview.Builder()\r\n                    .build();\r\n\r\n\r\n            preview.setSurfaceProvider(viewBinding.viewFinder.getSurfaceProvider());\r\n\r\n            Recorder recorder = (new Recorder.Builder())\r\n                    .setQualitySelector(QualitySelector.from(Quality.HIGHEST))\r\n                    .build();\r\n            videoCapture = VideoCapture.withOutput(recorder);\r\n\r\n\r\n            CameraSelector cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA;\r\n\r\n\r\n            try {\r\n                cameraProvider.unbindAll();\r\n\r\n                cameraProvider\r\n                        .bindToLifecycle(this, cameraSelector, preview, videoCapture);\r\n            } catch (Exception exc) {\r\n                Log.e(&quot;CameraXApp&quot;, &quot;Use case binding failed&quot;, exc);\r\n            }\r\n\r\n        }), ContextCompat.getMainExecutor(this));\r\n    }\r\n\r\n\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        cameraExecutor.shutdown();\r\n    }\r\n\r\n    public void backToMain() {\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n}\r\n\r\nShowVideo:\r\n\r\n    public class ShowVideo extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    private CardStackLayoutManager manager;\r\n\r\n    public static File[] files;\r\n    public static List&lt;Video&gt; videos;\r\n\r\n    public static int num;\r\n\r\n    File newFile;\r\n\r\n    String dir;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.show_video);\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE}, 1);\r\n        }\r\n\r\n                dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES).getPath();\r\n\r\n                files = MainActivity.LeakedVids.listFiles();\r\n\r\n\r\n\r\n            num = 1;\r\n            videos = new ArrayList&lt;&gt;();\r\n            CardStackView cardStackView = findViewById(R.id.card_stack_view);\r\n\r\n            if (files.length &gt; 0) {\r\n                videos.add(new Video(files[files.length - 1].getPath()));\r\n                Adapter adapter = new Adapter(videos);\r\n                cardStackView.setAdapter(adapter);\r\n            } else {\r\n                Toast.makeText(this, &quot;No Videos to show&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n\r\n            manager = new CardStackLayoutManager(this, new CardStackListener() {\r\n\r\n                @Override\r\n                public void onCardDragging(Direction direction, float ratio) {\r\n\r\n                }\r\n\r\n\r\n                @Override\r\n                public void onCardSwiped(Direction direction) {\r\n\r\n                    Log.d(TAG, &quot;onCardSwiped: p=&quot; + manager.getTopPosition() + &quot; d=&quot; + direction);\r\n                    if (direction == Direction.Right) {\r\n\r\n                        if (files.length == 1) {\r\n                            newFile = new File(dir, files[files.length - 1].getName());\r\n                            FileChannel outputChannel = null;\r\n                            FileChannel inputChannel = null;\r\n                            try {\r\n                                outputChannel = new FileOutputStream(newFile).getChannel();\r\n                                inputChannel = new FileInputStream(files[files.length - 1]).getChannel();\r\n                                inputChannel.transferTo(0, inputChannel.size(), outputChannel);\r\n                                inputChannel.close();\r\n                                files[files.length - 1].delete();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            } finally {\r\n                                if (inputChannel != null) {\r\n                                    try {\r\n                                        inputChannel.close();\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                }\r\n                                if (outputChannel != null) {\r\n                                    try {\r\n                                        outputChannel.close();\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n\r\n                            newFile = new File(dir, files[files.length - num].getName());\r\n                            FileChannel outputChannel = null;\r\n                            FileChannel inputChannel = null;\r\n                            try {\r\n                                outputChannel = new FileOutputStream(newFile).getChannel();\r\n                                inputChannel = new FileInputStream(files[files.length - num]).getChannel();\r\n                                inputChannel.transferTo(0, inputChannel.size(), outputChannel);\r\n                                inputChannel.close();\r\n                                files[files.length - num].delete();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            } finally {\r\n                                if (inputChannel != null) {\r\n                                    try {\r\n                                        inputChannel.close();\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                }\r\n                                if (outputChannel != null) {\r\n                                    try {\r\n                                        outputChannel.close();\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (direction == Direction.Left) {\r\n                        if (files.length == 1) {\r\n                            files[files.length - 1].delete();\r\n                        } else {\r\n\r\n                            files[files.length - num].delete();\r\n                        }\r\n                    }\r\n\r\n                    if (files != null) {\r\n                        if (files.length &gt; num) {\r\n                            num++;\r\n                            videos.add(new Video(files[files.length - num].getPath()));\r\n                        }\r\n                    }\r\n                    Adapter adapter = new Adapter(videos);\r\n                    cardStackView.setAdapter(adapter);\r\n\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onCardRewound() {\r\n                    Log.d(TAG, &quot;onCardRewound: &quot; + manager.getTopPosition());\r\n                }\r\n\r\n                @Override\r\n                public void onCardCanceled() {\r\n                    Log.d(TAG, &quot;onCardRewound: &quot; + manager.getTopPosition());\r\n                }\r\n\r\n                @Override\r\n                public void onCardAppeared(View view, int position) {\r\n\r\n\r\n                }\r\n\r\n\r\n                @Override\r\n                public void onCardDisappeared(View view, int position) {\r\n\r\n\r\n                }\r\n            });\r\n            manager.setStackFrom(StackFrom.None);\r\n            manager.setVisibleCount(3);\r\n            manager.setTranslationInterval(8.0f);\r\n            manager.setScaleInterval(0.95f);\r\n            manager.setSwipeThreshold(0.3f);\r\n            manager.setMaxDegree(20.0f);\r\n            manager.setDirections(Direction.FREEDOM);\r\n            manager.setCanScrollHorizontal(true);\r\n            manager.setCanScrollVertical(false);\r\n            manager.setSwipeableMethod(SwipeableMethod.Manual);\r\n            manager.setOverlayInterpolator(new LinearInterpolator());\r\n            cardStackView.setLayoutManager(manager);\r\n            cardStackView.setItemAnimator(new DefaultItemAnimator());\r\n\r\n\r\n        }\r\n\r\n    @Override\r\n    public void onBackPressed(){\r\n        Intent a = new Intent(this, MainActivity.class);\r\n        startActivity(a);\r\n    }\r\n}\r\n\r\nAdapter:\r\n\r\n    public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\r\n\r\n    private List&lt;Video&gt; videos;\r\n\r\n\r\n    public Adapter(List&lt;Video&gt; videos) {\r\n        this.videos = videos;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int position) {\r\n        //LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        //View view = inflater.inflate(R.layout.item_card, parent, false);\r\n\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_card, parent, false);\r\n\r\n\r\n         return new ViewHolder(view);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.setData(videos.get(position));\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(holder.itemView.getContext(), DetailActivity.class);\r\n            intent.putExtra(&quot;param&quot;, videos.get(position).getPath());\r\n            holder.itemView.getContext().startActivity(intent);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return videos.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public static VideoView videoView;\r\n\r\n        ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            videoView = itemView.findViewById(R.id.item_video);\r\n        }\r\n\r\n        void setData(Video video) {\r\n                videoView.setVideoPath(video.getPath());\r\n\r\n                videoView.setOnPreparedListener(MediaPlayer::start);\r\n\r\n                videoView.setOnCompletionListener(MediaPlayer::start);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public List&lt;Video&gt; getItems() {\r\n        return videos;\r\n    }\r\n\r\n    public void setItems(List&lt;Video&gt; items) {\r\n        this.videos = items;\r\n    }\r\n}\r\n\r\n\r\nthe problem is that when i open the &#39;ShowVideo&#39; class the video doesnt play until i restart the app\r\n\r\npls help.\r\n","title":"can&#39;t display video in VideoView until I restart the app on android 12","body":"<p>i am making an app that records a video and then displays this video on another activity.</p>\n<p>the problem is that this video cannot be played right away, i would have to record the video, and then restart the android app for it to show. otherwise it shows me a message that\nsays: &quot;can't play this video&quot;.</p>\n<p>Moreover the thing that i really dont understand is that i tried it on an older phone of android version 11 and it works perfectly, but for some reason on the new phone it doesn't</p>\n<p>i have made some research and i think it has something to do with the storage permissions but i am not sure since i tried fixing it with no luck.</p>\n<p>what can i do to fix this?</p>\n<p>public class MainActivity extends AppCompatActivity {</p>\n<pre><code>CameraManager CamMan;\n\nboolean flag = false;\n\npublic static boolean FirstDirectoryCreated;\n\nCameraSource cameraSource;\n\nButton seeVideos;\n\npublic static File LeakedVids;\n\npublic static boolean isDirectoryCreated;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, 1);\n    }\n\n    seeVideos = findViewById(R.id.seeVideos);\n\n\n        init();\n\n        createFiles();\n\n    CamMan = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n\n    seeVideos.setOnClickListener(v -&gt; goToVideos());\n\n}\n\n\n    private void goToVideos() {\n    Intent intent = new Intent(this, ShowVideo.class);\n    startActivity(intent);\n}\n\n@Override\npublic void onBackPressed(){\n    Intent a = new Intent(Intent.ACTION_MAIN);\n    a.addCategory(Intent.CATEGORY_HOME);\n    a.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    startActivity(a);\n}\n\n\n    private void createFiles () {\n\n        File EyeTracker = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES), &quot;Eye Tracker&quot;);\n        FirstDirectoryCreated = EyeTracker.exists() || EyeTracker.mkdirs();\n\n        if (FirstDirectoryCreated) {\n\n\n            LeakedVids = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES) + File.separator\n                    + &quot;Eye Tracker&quot;, &quot;Leaked Videos&quot;);\n            isDirectoryCreated = LeakedVids.exists() || LeakedVids.mkdirs();\n\n        }\n    }\n\n\n    private void init () {\n        flag = true;\n\n        initCameraSource();\n    }\n\n    //method to create camera source from faceFactoryDaemon class\n    private void initCameraSource () {\n        FaceDetector detector = new FaceDetector.Builder(this)\n                .setTrackingEnabled(true)\n                .setClassificationType(FaceDetector.ALL_CLASSIFICATIONS)\n                .setMode(FaceDetector.ACCURATE_MODE)\n                .build();\n        detector.setProcessor(new MultiProcessor.Builder(new FaceTrackerDaemon(MainActivity.this)).build());\n\n        cameraSource = new CameraSource.Builder(this, detector)\n                .setRequestedPreviewSize(1024, 768)\n                .setFacing(CameraSource.CAMERA_FACING_BACK)\n                .setRequestedFps(30.0f)\n                .build();\n        try {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, 1);\n                return;\n            }\n            cameraSource.start();\n\n\n        } catch (IOException e) {\n            Toast.makeText(MainActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void onResume () {\n        super.onResume();\n        if (cameraSource != null) {\n            try {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, 1);\n                    return;\n                }\n                cameraSource.start();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    protected void onPause () {\n        super.onPause();\n        if (cameraSource != null) {\n            cameraSource.stop();\n        }\n    }\n\n    @Override\n    protected void onDestroy () {\n        super.onDestroy();\n        if (cameraSource != null) {\n            cameraSource.release();\n        }\n    }\n\n    //update view\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    public void updateMainView (Condition condition){\n        switch (condition) {\n            case USER_EYES_OPEN:\n                openCam();\n                break;\n            case FACE_NOT_FOUND:\n                break;\n        }\n    }\n    public void openCam () {\n        Intent intent = new Intent(this, VideoPreview.class);\n        startActivity(intent);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    }\n\n}\n</code></pre>\n<p>VideoPreview</p>\n<pre><code>public class VideoPreview extends AppCompatActivity {\n\nprivate VideoCapture&lt;Recorder&gt; videoCapture = null;\nprivate Recording recording = null;\n\nprivate ExecutorService cameraExecutor;\n\nprivate ActivityVideoPreviewBinding viewBinding;\n\n\nTimer timer;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_video_preview);\n    viewBinding = ActivityVideoPreviewBinding.inflate(getLayoutInflater());\n    setContentView(viewBinding.getRoot());\n\n\n    startCamera();\n\n\n    timer = new Timer();\n    timer.schedule(new TimerTask() {\n        @Override\n        public void run() {\n            captureVideo();\n        }\n    }, 173);\n\n\n    timer = new Timer();\n    timer.schedule(new TimerTask() {\n        @Override\n        public void run() {\n            stopRec();\n        }\n    }, 6000);\n\n    timer = new Timer();\n    timer.schedule(new TimerTask() {\n        @Override\n        public void run() {\n            backToMain();\n        }\n    }, 6100);\n\n\n\n    cameraExecutor = Executors.newSingleThreadExecutor();\n}\n\nprivate void stopRec() {\n    Recording curRecording = recording;\n    if (curRecording != null) {\n        // Stop the current recording session.\n        curRecording.stop();\n        recording = null;\n    }\n}\n\n@Override\npublic void onBackPressed() {\n    Toast.makeText(this, &quot;Ntek Ntor Ya Zabre&quot;, Toast.LENGTH_SHORT).show();\n\n}\n\nprivate void captureVideo() {\n\n\n   /* MediaStoreOutputOptions mediaStoreOutputOptions = (new androidx.camera.video.MediaStoreOutputOptions\n            .Builder(this.getContentResolver(), android.provider.MediaStore.Video.Media.EXTERNAL_CONTENT_URI))\n            .build(); */\n\n            String name = &quot;LeakedVideo_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\n            File vids = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES) + File.separator\n                    + &quot;Eye Tracker&quot; + File.separator + &quot;Leaked Videos&quot;, name);\n\n\n            FileOutputOptions fileOutputOptions = new FileOutputOptions.Builder(vids).build();\n\n            if (videoCapture != null) {\n                PendingRecording recording = (videoCapture.getOutput())\n                        .prepareRecording(this, fileOutputOptions);\n                this.recording = recording.start((ContextCompat.getMainExecutor(this)), videoRecordEvent -&gt; {\n\n\n                });\n            }\n        }\n\n\n\nprivate void startCamera() {\n\n\n    ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n\n    cameraProviderFuture.addListener((() -&gt; {\n        ProcessCameraProvider var10000 = null;\n        try {\n            var10000 = cameraProviderFuture.get();\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        }\n        assert var10000 != null;\n        Intrinsics.checkNotNullExpressionValue(var10000, &quot;cameraProviderFuture.get()&quot;);\n        ProcessCameraProvider cameraProvider = var10000;\n\n        Preview preview = new Preview.Builder()\n                .build();\n\n\n        preview.setSurfaceProvider(viewBinding.viewFinder.getSurfaceProvider());\n\n        Recorder recorder = (new Recorder.Builder())\n                .setQualitySelector(QualitySelector.from(Quality.HIGHEST))\n                .build();\n        videoCapture = VideoCapture.withOutput(recorder);\n\n\n        CameraSelector cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA;\n\n\n        try {\n            cameraProvider.unbindAll();\n\n            cameraProvider\n                    .bindToLifecycle(this, cameraSelector, preview, videoCapture);\n        } catch (Exception exc) {\n            Log.e(&quot;CameraXApp&quot;, &quot;Use case binding failed&quot;, exc);\n        }\n\n    }), ContextCompat.getMainExecutor(this));\n}\n\n\nprotected void onDestroy() {\n    super.onDestroy();\n    cameraExecutor.shutdown();\n}\n\npublic void backToMain() {\n    Intent intent = new Intent(this, MainActivity.class);\n    startActivity(intent);\n}\n</code></pre>\n<p>}</p>\n<p>ShowVideo:</p>\n<pre><code>public class ShowVideo extends AppCompatActivity {\n\nprivate static final String TAG = &quot;MainActivity&quot;;\nprivate CardStackLayoutManager manager;\n\npublic static File[] files;\npublic static List&lt;Video&gt; videos;\n\npublic static int num;\n\nFile newFile;\n\nString dir;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.show_video);\n\n    if (ActivityCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE}, 1);\n    }\n\n            dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES).getPath();\n\n            files = MainActivity.LeakedVids.listFiles();\n\n\n\n        num = 1;\n        videos = new ArrayList&lt;&gt;();\n        CardStackView cardStackView = findViewById(R.id.card_stack_view);\n\n        if (files.length &gt; 0) {\n            videos.add(new Video(files[files.length - 1].getPath()));\n            Adapter adapter = new Adapter(videos);\n            cardStackView.setAdapter(adapter);\n        } else {\n            Toast.makeText(this, &quot;No Videos to show&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n\n        manager = new CardStackLayoutManager(this, new CardStackListener() {\n\n            @Override\n            public void onCardDragging(Direction direction, float ratio) {\n\n            }\n\n\n            @Override\n            public void onCardSwiped(Direction direction) {\n\n                Log.d(TAG, &quot;onCardSwiped: p=&quot; + manager.getTopPosition() + &quot; d=&quot; + direction);\n                if (direction == Direction.Right) {\n\n                    if (files.length == 1) {\n                        newFile = new File(dir, files[files.length - 1].getName());\n                        FileChannel outputChannel = null;\n                        FileChannel inputChannel = null;\n                        try {\n                            outputChannel = new FileOutputStream(newFile).getChannel();\n                            inputChannel = new FileInputStream(files[files.length - 1]).getChannel();\n                            inputChannel.transferTo(0, inputChannel.size(), outputChannel);\n                            inputChannel.close();\n                            files[files.length - 1].delete();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        } finally {\n                            if (inputChannel != null) {\n                                try {\n                                    inputChannel.close();\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                            if (outputChannel != null) {\n                                try {\n                                    outputChannel.close();\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        }\n                    } else {\n\n                        newFile = new File(dir, files[files.length - num].getName());\n                        FileChannel outputChannel = null;\n                        FileChannel inputChannel = null;\n                        try {\n                            outputChannel = new FileOutputStream(newFile).getChannel();\n                            inputChannel = new FileInputStream(files[files.length - num]).getChannel();\n                            inputChannel.transferTo(0, inputChannel.size(), outputChannel);\n                            inputChannel.close();\n                            files[files.length - num].delete();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        } finally {\n                            if (inputChannel != null) {\n                                try {\n                                    inputChannel.close();\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                            if (outputChannel != null) {\n                                try {\n                                    outputChannel.close();\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        }\n                    }\n                }\n                if (direction == Direction.Left) {\n                    if (files.length == 1) {\n                        files[files.length - 1].delete();\n                    } else {\n\n                        files[files.length - num].delete();\n                    }\n                }\n\n                if (files != null) {\n                    if (files.length &gt; num) {\n                        num++;\n                        videos.add(new Video(files[files.length - num].getPath()));\n                    }\n                }\n                Adapter adapter = new Adapter(videos);\n                cardStackView.setAdapter(adapter);\n\n\n            }\n\n            @Override\n            public void onCardRewound() {\n                Log.d(TAG, &quot;onCardRewound: &quot; + manager.getTopPosition());\n            }\n\n            @Override\n            public void onCardCanceled() {\n                Log.d(TAG, &quot;onCardRewound: &quot; + manager.getTopPosition());\n            }\n\n            @Override\n            public void onCardAppeared(View view, int position) {\n\n\n            }\n\n\n            @Override\n            public void onCardDisappeared(View view, int position) {\n\n\n            }\n        });\n        manager.setStackFrom(StackFrom.None);\n        manager.setVisibleCount(3);\n        manager.setTranslationInterval(8.0f);\n        manager.setScaleInterval(0.95f);\n        manager.setSwipeThreshold(0.3f);\n        manager.setMaxDegree(20.0f);\n        manager.setDirections(Direction.FREEDOM);\n        manager.setCanScrollHorizontal(true);\n        manager.setCanScrollVertical(false);\n        manager.setSwipeableMethod(SwipeableMethod.Manual);\n        manager.setOverlayInterpolator(new LinearInterpolator());\n        cardStackView.setLayoutManager(manager);\n        cardStackView.setItemAnimator(new DefaultItemAnimator());\n\n\n    }\n\n@Override\npublic void onBackPressed(){\n    Intent a = new Intent(this, MainActivity.class);\n    startActivity(a);\n}\n</code></pre>\n<p>}</p>\n<p>Adapter:</p>\n<pre><code>public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\n\nprivate List&lt;Video&gt; videos;\n\n\npublic Adapter(List&lt;Video&gt; videos) {\n    this.videos = videos;\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int position) {\n    //LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n    //View view = inflater.inflate(R.layout.item_card, parent, false);\n\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.item_card, parent, false);\n\n\n     return new ViewHolder(view);\n\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    holder.setData(videos.get(position));\n\n    holder.itemView.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(holder.itemView.getContext(), DetailActivity.class);\n        intent.putExtra(&quot;param&quot;, videos.get(position).getPath());\n        holder.itemView.getContext().startActivity(intent);\n\n    });\n\n}\n\n@Override\npublic int getItemCount() {\n    return videos.size();\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n\n    public static VideoView videoView;\n\n    ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        videoView = itemView.findViewById(R.id.item_video);\n    }\n\n    void setData(Video video) {\n            videoView.setVideoPath(video.getPath());\n\n            videoView.setOnPreparedListener(MediaPlayer::start);\n\n            videoView.setOnCompletionListener(MediaPlayer::start);\n\n    }\n\n\n}\n\n\n\n\n\npublic List&lt;Video&gt; getItems() {\n    return videos;\n}\n\npublic void setItems(List&lt;Video&gt; items) {\n    this.videos = items;\n}\n</code></pre>\n<p>}</p>\n<p>the problem is that when i open the 'ShowVideo' class the video doesnt play until i restart the app</p>\n<p>pls help.</p>\n"},{"tags":["java","telosys"],"answers":[{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653993873,"creation_date":1653993873,"answer_id":72446359,"question_id":72401362,"body_markdown":"In Velocity the error “`: no attribute &#39;[&#39;`” ( or &quot;`no method &#39;get&#39;`&quot; ) occurs when the key doesn’t exist in the map. \r\n\r\nSo, I suppose that in your case you try to get an “entity.name” that is not defined in the map. \r\n\r\nTo check if a key is defined in a map you can use :  `$map.containsKey(&quot;xx&quot;)`\r\n\r\nSee example here : https://doc.telosys.org/templates/velocity-objects#map\r\n\r\nYou can also use :  `$map.getOrDefault(“key”, &quot;default_value&quot;)` \r\n to get a default value if the key doesn’t exist in the map\r\n","title":"Map not working when trying to get by entity name","body":"<p>In Velocity the error “<code>: no attribute '['</code>” ( or &quot;<code>no method 'get'</code>&quot; ) occurs when the key doesn’t exist in the map.</p>\n<p>So, I suppose that in your case you try to get an “entity.name” that is not defined in the map.</p>\n<p>To check if a key is defined in a map you can use :  <code>$map.containsKey(&quot;xx&quot;)</code></p>\n<p>See example here : <a href=\"https://doc.telosys.org/templates/velocity-objects#map\" rel=\"nofollow noreferrer\">https://doc.telosys.org/templates/velocity-objects#map</a></p>\n<p>You can also use :  <code>$map.getOrDefault(“key”, &quot;default_value&quot;)</code>\nto get a default value if the key doesn’t exist in the map</p>\n"},{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654002001,"creation_date":1654002001,"answer_id":72448256,"question_id":72401362,"body_markdown":"Technically my first answer works, but if you need to add specific information about an entity a &quot;map&quot; in the templates is not the best option (this information should be in the model).\r\n\r\nSo, I suggest using a &quot;**tag**&quot; ( # + tag name) positioned at the entity level (or attribute level) in your model ( in “.entity” file ).\r\n\r\nFor example:\r\n\r\nIn “**.entity**” file (a tag &#39;**OtherName**&#39; with a tag value):\r\n\r\n&gt; **#OtherName(&quot;Empl&quot;)**  \r\n&gt; Employee  \r\n&gt; {  \t\r\n&gt;      id : int { @Id } ;  \r\n&gt;      firstName : string { **#MyTag(&quot;xyz&quot;)** } ;  \r\n&gt; }\r\n\r\nIn “**.vm**” file:  \r\nUsage 1 :\r\n\r\n    #if ( $entity.hasTag(&#39;OtherName&#39;) )\r\n     name : $entity.tagValue(&#39;OtherName&#39;)\r\n    #else\r\n     name : $entity.name\r\n    #end\r\n\r\nUsage 2 - the simplest (with default value if no tag in entity) :\r\n\r\n    name : $entity.tagValue(&#39;OtherName&#39;, $entity.name)\r\n\r\nNote : Tags are available at entity level since Telosys 4.0.0\r\n\r\nSee **hasTag()** and **tagValue()** in : \r\n - https://www.telosys.org/doc/v400/objects/entity.html \r\n - https://www.telosys.org/doc/v400/objects/attribute.html\r\n\r\n\r\n","title":"Map not working when trying to get by entity name","body":"<p>Technically my first answer works, but if you need to add specific information about an entity a &quot;map&quot; in the templates is not the best option (this information should be in the model).</p>\n<p>So, I suggest using a &quot;<strong>tag</strong>&quot; ( # + tag name) positioned at the entity level (or attribute level) in your model ( in “.entity” file ).</p>\n<p>For example:</p>\n<p>In “<strong>.entity</strong>” file (a tag '<strong>OtherName</strong>' with a tag value):</p>\n<blockquote>\n<p><strong>#OtherName(&quot;Empl&quot;)</strong><br />\nEmployee<br />\n{<br />\nid : int { @Id } ;<br />\nfirstName : string { <strong>#MyTag(&quot;xyz&quot;)</strong> } ;<br />\n}</p>\n</blockquote>\n<p>In “<strong>.vm</strong>” file:<br />\nUsage 1 :</p>\n<pre><code>#if ( $entity.hasTag('OtherName') )\n name : $entity.tagValue('OtherName')\n#else\n name : $entity.name\n#end\n</code></pre>\n<p>Usage 2 - the simplest (with default value if no tag in entity) :</p>\n<pre><code>name : $entity.tagValue('OtherName', $entity.name)\n</code></pre>\n<p>Note : Tags are available at entity level since Telosys 4.0.0</p>\n<p>See <strong>hasTag()</strong> and <strong>tagValue()</strong> in :</p>\n<ul>\n<li><a href=\"https://www.telosys.org/doc/v400/objects/entity.html\" rel=\"nofollow noreferrer\">https://www.telosys.org/doc/v400/objects/entity.html</a></li>\n<li><a href=\"https://www.telosys.org/doc/v400/objects/attribute.html\" rel=\"nofollow noreferrer\">https://www.telosys.org/doc/v400/objects/attribute.html</a></li>\n</ul>\n"}],"owner":{"account_id":903413,"reputation":446,"user_id":938909,"accept_rate":29,"display_name":"Sandiip Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72446359,"answer_count":2,"score":0,"last_activity_date":1654002001,"creation_date":1653633219,"question_id":72401362,"body_markdown":"I am using Telosys tool to generate entity classes and it is doing wonders for me.\r\nHowever I have a specific requirement to change some attributes of entities.\r\n\r\nI have loaded all the attributes that need to be changed in a map and parsed it in my entity template. But when I am trying to iterate through the map using entity.name it fails saying there is no get method.\r\nThis is my map: sample_map.vm \r\n\r\n    #set( $map = {\r\n     &quot;AABUHA&quot;: &quot;Name&quot;,\r\n     &quot;ABAKTX&quot;: &quot;Code&quot;,\r\n     &quot;ABABDZ&quot;: &quot;Date&quot;\r\n     }\r\n\r\nI parsed it in my template like this:\r\n\r\n    #parse(&quot;include/sample_map.vm&quot;)\r\n\r\nAnd this is how I am trying to fetch the value for the corresponding entity\r\n\r\n    $map[&quot;${entity.name}&quot;]\r\nI also tried:\r\n\r\n    ($map.get($field.name))\r\n\r\nThe error I get is either \r\n\r\n    $!map.[: no attribute &#39;[&#39;\r\nOr `no method get()`\r\n\r\nSurprisingly, this works fine when I pass the value as hardcoded string. \r\n\r\nAny suggestions please\r\n\r\n","title":"Map not working when trying to get by entity name","body":"<p>I am using Telosys tool to generate entity classes and it is doing wonders for me.\nHowever I have a specific requirement to change some attributes of entities.</p>\n<p>I have loaded all the attributes that need to be changed in a map and parsed it in my entity template. But when I am trying to iterate through the map using entity.name it fails saying there is no get method.\nThis is my map: sample_map.vm</p>\n<pre><code>#set( $map = {\n &quot;AABUHA&quot;: &quot;Name&quot;,\n &quot;ABAKTX&quot;: &quot;Code&quot;,\n &quot;ABABDZ&quot;: &quot;Date&quot;\n }\n</code></pre>\n<p>I parsed it in my template like this:</p>\n<pre><code>#parse(&quot;include/sample_map.vm&quot;)\n</code></pre>\n<p>And this is how I am trying to fetch the value for the corresponding entity</p>\n<pre><code>$map[&quot;${entity.name}&quot;]\n</code></pre>\n<p>I also tried:</p>\n<pre><code>($map.get($field.name))\n</code></pre>\n<p>The error I get is either</p>\n<pre><code>$!map.[: no attribute '['\n</code></pre>\n<p>Or <code>no method get()</code></p>\n<p>Surprisingly, this works fine when I pass the value as hardcoded string.</p>\n<p>Any suggestions please</p>\n"},{"tags":["java","filewriter"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1654001903,"post_id":72448193,"comment_id":127984056,"body_markdown":"See the [doc for the append method](https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html#append-java.lang.CharSequence-): &quot;An invocation of this method of the form `out.append(csq)` behaves in exactly the same way as the invocation `out.write(csq.toString())`&quot;","body":"See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html#append-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">doc for the append method</a>: &quot;An invocation of this method of the form <code>out.append(csq)</code> behaves in exactly the same way as the invocation <code>out.write(csq.toString())</code>&quot;"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1654002096,"post_id":72448193,"comment_id":127984139,"body_markdown":"There is no difference. The reason `append` is there is to allow `Writer` to implement the `Appendable` interface.","body":"There is no difference. The reason <code>append</code> is there is to allow <code>Writer</code> to implement the <code>Appendable</code> interface."},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":2,"creation_date":1654002127,"post_id":72448193,"comment_id":127984151,"body_markdown":"as the documentation said: write will only take a String which must not be null and returns void AND append will take any CharSequence which can be null and return the Writer so it can be chained.","body":"as the documentation said: write will only take a String which must not be null and returns void AND append will take any CharSequence which can be null and return the Writer so it can be chained."}],"owner":{"account_id":16230287,"reputation":75,"user_id":11719267,"display_name":"suyangzuo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1654001940,"creation_date":1654001712,"question_id":72448193,"body_markdown":"Here is code.\r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class start {\r\n        public static void main(String[] args) throws IOException {\r\n            String content = &quot;Yes, &quot;;\r\n            String path = &quot;something.txt&quot;;\r\n            FileWriter fWriter = new FileWriter(path, StandardCharsets.UTF_8, true);\r\n            fWriter.write(content);\r\n            //It&#39;s get same result if use &quot;fWriter.append(content)&quot;\r\n            fWriter.close();\r\n        }\r\n    }\r\n\r\nI found actually it&#39;s the third parameter of FileWriter constructor (true or false) to determine overwrite or append.\r\n\r\nIf use true, then it always append no matter use write or append method.\r\n\r\nIf use false, it always overwrite.\r\n\r\nSo, what&#39;s real different between write and append method?","title":"What&#39;s the real different between &quot;FileWriter.write&quot; and &quot;FileWriter.append&quot;?","body":"<p>Here is code.</p>\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\npublic class start {\n    public static void main(String[] args) throws IOException {\n        String content = &quot;Yes, &quot;;\n        String path = &quot;something.txt&quot;;\n        FileWriter fWriter = new FileWriter(path, StandardCharsets.UTF_8, true);\n        fWriter.write(content);\n        //It's get same result if use &quot;fWriter.append(content)&quot;\n        fWriter.close();\n    }\n}\n</code></pre>\n<p>I found actually it's the third parameter of FileWriter constructor (true or false) to determine overwrite or append.</p>\n<p>If use true, then it always append no matter use write or append method.</p>\n<p>If use false, it always overwrite.</p>\n<p>So, what's real different between write and append method?</p>\n"},{"tags":["java","apache-kafka","kafka-cluster"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1629118804,"post_id":68802558,"comment_id":121594797,"body_markdown":"You might want to try `consumer.poll(Duration.ofMillis(0))` and `consumer.commitSync()` before the poll that counts the records (potentially counting both)","body":"You might want to try <code>consumer.poll(Duration.ofMillis(0))</code> and <code>consumer.commitSync()</code> before the poll that counts the records (potentially counting both)"},{"owner":{"account_id":22479540,"reputation":21,"user_id":16678804,"display_name":"Graeme Mitchell"},"score":0,"creation_date":1629120553,"post_id":68802558,"comment_id":121595553,"body_markdown":"A duration of millis = 0 causes no records found every time, even when all nodes of the cluster are online.  I assume because there is no time to get any records.  I don&#39;t want to commit as this will commit the consumer group id of these randomly generated consumer groups.","body":"A duration of millis = 0 causes no records found every time, even when all nodes of the cluster are online.  I assume because there is no time to get any records.  I don&#39;t want to commit as this will commit the consumer group id of these randomly generated consumer groups."}],"answers":[{"tags":[],"owner":{"account_id":3893168,"reputation":59,"user_id":3222856,"display_name":"whuwangyong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654001811,"creation_date":1640832299,"answer_id":70526954,"question_id":68802558,"body_markdown":"I am also stuck with this problem, Finally solved it like this:\r\n\r\n```java\r\npublic ConsumerRecord&lt;String, String&gt; seekAndPoll(String topic, int partition, long offset) {\r\n    TopicPartition tp = new TopicPartition(topic, partition);\r\n    consumer.assign(Collections.singleton(tp));\r\n    System.out.println(&quot;assignment:&quot; + consumer.assignment()); // 这里是有分配到分区的\r\n    \r\n    // endOffset: the offset of the last successfully replicated message plus one\r\n    // if there has 5 messages, valid offsets are [0,1,2,3,4], endOffset is 4+1=5\r\n    Long endOffset = consumer.endOffsets(Collections.singleton(tp)).get(tp); \r\n    if (offset &lt; 0 || offset &gt;= endOffset) {\r\n        System.out.println(&quot;offset is illegal&quot;);\r\n        return null;\r\n    } else {\r\n        consumer.seek(tp, offset);\r\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100))\r\n        if(records.isEmpty()){\r\n            System.out.println(&quot;Not Found&quot;);\r\n            return null;\r\n        } else {\r\n            System.out.println(&quot;Found&quot;);\r\n            return records.iterator().next();\r\n        }\r\n    }\r\n}\r\n```","title":"Kafka Cluster sometimes returns no records during seek and poll","body":"<p>I am also stuck with this problem, Finally solved it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ConsumerRecord&lt;String, String&gt; seekAndPoll(String topic, int partition, long offset) {\n    TopicPartition tp = new TopicPartition(topic, partition);\n    consumer.assign(Collections.singleton(tp));\n    System.out.println(&quot;assignment:&quot; + consumer.assignment()); // 这里是有分配到分区的\n    \n    // endOffset: the offset of the last successfully replicated message plus one\n    // if there has 5 messages, valid offsets are [0,1,2,3,4], endOffset is 4+1=5\n    Long endOffset = consumer.endOffsets(Collections.singleton(tp)).get(tp); \n    if (offset &lt; 0 || offset &gt;= endOffset) {\n        System.out.println(&quot;offset is illegal&quot;);\n        return null;\n    } else {\n        consumer.seek(tp, offset);\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100))\n        if(records.isEmpty()){\n            System.out.println(&quot;Not Found&quot;);\n            return null;\n        } else {\n            System.out.println(&quot;Found&quot;);\n            return records.iterator().next();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22479540,"reputation":21,"user_id":16678804,"display_name":"Graeme Mitchell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654001811,"creation_date":1629115781,"question_id":68802558,"body_markdown":"I&#39;m experimenting with a Kafka clusters (3 nodes) and I was intending to run some tests around redundancy and availability (stopping nodes in cluster, etc) with a simple java app using the following kafka client dependency: -\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI&#39;d configured a replication factor of 3 to ensure topics are replicated across all nodes and I&#39;m using only 1 partition for the topic. I&#39;m struggling to understand some behaviour I&#39;m seeing on this sample code when specifically seeking to an offset (with one node offline):-\r\n\r\n        String topic = &quot;test-topic&quot;;\r\n\t\tTopicPartition partition = new TopicPartition(topic, 0);\r\n\t\tList&lt;TopicPartition&gt; partitions = Collections.singletonList(partition);\r\n\t\t\r\n\t\twhile (true) {\t\t\t\t\t\r\n\r\n\t\t    Consumer&lt;String, String&gt; consumer = createConsumer();\t\t\t\r\n\t\t\tconsumer.assign(partitions);\r\n\t\t\tconsumer.seek(partition, 0);\t\t\r\n\t\t\tConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(2000));\r\n\t\t\t\r\n\t\t\tif (records.isEmpty())\r\n\t\t\t\tSystem.out.println(&quot;No Records Found&quot;);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.println(&quot;Records Found: &quot; + records.count());\r\n\t\t\t\r\n            consumer.close();\t\r\n\t\t\tThread.sleep(2000);\r\n\t\t}\t\r\n\r\nThis code will on occasion return &quot;No Records Found&quot; when one of the nodes in the cluster is offline:-\r\n\r\n&gt; No Records \r\n&gt; Found Records Found: 1 \r\n&gt; No Records Found \r\n&gt; Records Found: 1\r\n&gt; Records Found: 1 Records Found: 1 No Records Found Records Found: 1\r\n&gt; Records Found: 1 Records Found: 1 Records Found: 1 Records Found: 1\r\n&gt; Records Found: 1 No Records Found Records Found: 1 Records Found: 1\r\n&gt; Records Found: 1 Records Found: 1 Records Found: 1 No Records Found\r\n\r\nYou&#39;ll notice that I&#39;m creating the consumer each time inside the while loop.  This is to simulate different consumers coming in and connecting as each consumer has a different consumer group id.  Moving the consumer creation outside of the while loop (and removing consumer.close()) gives mostly expected results, i.e. all logs show &quot;Records Found: 1&quot;.  However, &quot;sometimes&quot; the very first poll will return no records, with all remaining showing 1 record found:-\r\n\r\n    \tString topic = &quot;test-topic&quot;;\r\n\t\tTopicPartition partition = new TopicPartition(topic, 0);\r\n\t\tList&lt;TopicPartition&gt; partitions = Collections.singletonList(partition);\r\n\t\tConsumer&lt;String, String&gt; consumer = createConsumer();\t\t\r\n\t\t\r\n\t\twhile (true) {\t\t\t\t\t\r\n\t\t\t\r\n\t\t\tconsumer.assign(partitions);\r\n\t\t\tconsumer.seek(partition, 0);\t\t\r\n\t\t\tConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(2000));\r\n\t\t\t\r\n\t\t\tif (records.isEmpty())\r\n\t\t\t\tSystem.out.println(&quot;No Records Found&quot;);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.println(&quot;Records Found: &quot; + records.count());\r\n\t\t\t\t\t\r\n\t\t\tThread.sleep(2000);\r\n\t\t}\t\r\n\r\ncreateConsumer code is defined as follows for reference: -\r\n\r\n    public static Consumer&lt;String, String&gt; createConsumer() {\r\n\t\t\r\n\t\tProperties config = new Properties();\r\n\t\tconfig.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test-consumer-&quot; + UUID.randomUUID().toString());\r\n\t\tconfig.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;node-1:9092, node-2:9092, node-3:9092&quot;);\r\n\t\tconfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\t\tconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\t\tconfig.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 500);\r\n\t\tconfig.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\t\tconfig.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot; );\r\n\t\tconfig.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 10000);\r\n\t\tConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(config);\r\n\t\treturn consumer;\r\n\t}\r\n\r\nI&#39;d like to understand this behaviour to be able to reliably run my availability tests.","title":"Kafka Cluster sometimes returns no records during seek and poll","body":"<p>I'm experimenting with a Kafka clusters (3 nodes) and I was intending to run some tests around redundancy and availability (stopping nodes in cluster, etc) with a simple java app using the following kafka client dependency: -</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I'd configured a replication factor of 3 to ensure topics are replicated across all nodes and I'm using only 1 partition for the topic. I'm struggling to understand some behaviour I'm seeing on this sample code when specifically seeking to an offset (with one node offline):-</p>\n<pre><code>    String topic = &quot;test-topic&quot;;\n    TopicPartition partition = new TopicPartition(topic, 0);\n    List&lt;TopicPartition&gt; partitions = Collections.singletonList(partition);\n    \n    while (true) {                  \n\n        Consumer&lt;String, String&gt; consumer = createConsumer();           \n        consumer.assign(partitions);\n        consumer.seek(partition, 0);        \n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(2000));\n        \n        if (records.isEmpty())\n            System.out.println(&quot;No Records Found&quot;);\n        else\n            System.out.println(&quot;Records Found: &quot; + records.count());\n        \n        consumer.close();   \n        Thread.sleep(2000);\n    }   \n</code></pre>\n<p>This code will on occasion return &quot;No Records Found&quot; when one of the nodes in the cluster is offline:-</p>\n<blockquote>\n<p>No Records\nFound Records Found: 1\nNo Records Found\nRecords Found: 1\nRecords Found: 1 Records Found: 1 No Records Found Records Found: 1\nRecords Found: 1 Records Found: 1 Records Found: 1 Records Found: 1\nRecords Found: 1 No Records Found Records Found: 1 Records Found: 1\nRecords Found: 1 Records Found: 1 Records Found: 1 No Records Found</p>\n</blockquote>\n<p>You'll notice that I'm creating the consumer each time inside the while loop.  This is to simulate different consumers coming in and connecting as each consumer has a different consumer group id.  Moving the consumer creation outside of the while loop (and removing consumer.close()) gives mostly expected results, i.e. all logs show &quot;Records Found: 1&quot;.  However, &quot;sometimes&quot; the very first poll will return no records, with all remaining showing 1 record found:-</p>\n<pre><code>    String topic = &quot;test-topic&quot;;\n    TopicPartition partition = new TopicPartition(topic, 0);\n    List&lt;TopicPartition&gt; partitions = Collections.singletonList(partition);\n    Consumer&lt;String, String&gt; consumer = createConsumer();       \n    \n    while (true) {                  \n        \n        consumer.assign(partitions);\n        consumer.seek(partition, 0);        \n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(2000));\n        \n        if (records.isEmpty())\n            System.out.println(&quot;No Records Found&quot;);\n        else\n            System.out.println(&quot;Records Found: &quot; + records.count());\n                \n        Thread.sleep(2000);\n    }   \n</code></pre>\n<p>createConsumer code is defined as follows for reference: -</p>\n<pre><code>public static Consumer&lt;String, String&gt; createConsumer() {\n    \n    Properties config = new Properties();\n    config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test-consumer-&quot; + UUID.randomUUID().toString());\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;node-1:9092, node-2:9092, node-3:9092&quot;);\n    config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    config.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 500);\n    config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot; );\n    config.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 10000);\n    Consumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(config);\n    return consumer;\n}\n</code></pre>\n<p>I'd like to understand this behaviour to be able to reliably run my availability tests.</p>\n"},{"tags":["java","class","object","methods","instance"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653479901,"post_id":72377174,"comment_id":127861560,"body_markdown":"You need an instance of `Bag` in `Thief`, declared like any other variable (like `name` or `health` in your code), then you need to initialize it (likely in the constructor), then you&#39;ll need `Bag` to provide accessor methods (getter and setters) to `oneCoin`, `twoCoin` and `threeCoin`.","body":"You need an instance of <code>Bag</code> in <code>Thief</code>, declared like any other variable (like <code>name</code> or <code>health</code> in your code), then you need to initialize it (likely in the constructor), then you&#39;ll need <code>Bag</code> to provide accessor methods (getter and setters) to <code>oneCoin</code>, <code>twoCoin</code> and <code>threeCoin</code>."},{"owner":{"account_id":3141721,"reputation":523,"user_id":2657060,"accept_rate":46,"display_name":"Zagatho"},"score":2,"creation_date":1653479912,"post_id":72377174,"comment_id":127861565,"body_markdown":"your Function `rewardCoins()` is a recursive function with no exit condition.","body":"your Function <code>rewardCoins()</code> is a recursive function with no exit condition."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1653480089,"post_id":72377174,"comment_id":127861633,"body_markdown":"I assume your Thief is supposed to have a Bag? If so, Thief needs a field of type Bag.","body":"I assume your Thief is supposed to have a Bag? If so, Thief needs a field of type Bag."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1653480587,"post_id":72377174,"comment_id":127861857,"body_markdown":"Also instead of `=+` you probably want `+=`","body":"Also instead of <code>=+</code> you probably want <code>+=</code>"},{"owner":{"account_id":21860553,"reputation":1,"user_id":16151399,"display_name":"egtc"},"score":0,"creation_date":1653481667,"post_id":72377174,"comment_id":127862264,"body_markdown":"Thank you for the replies, they are not exactly what I was confused with. Have updated my question","body":"Thank you for the replies, they are not exactly what I was confused with. Have updated my question"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653480645,"creation_date":1653480645,"answer_id":72377401,"question_id":72377174,"body_markdown":"You may want something like this:\r\n\r\n    public class Thief {\r\n        private final String name;\r\n        private final int health;\r\n        private final int level;\r\n    \r\n        public Thief(String name, int level) {\r\n            this.name = name;\r\n            this.health = level * 100;\r\n            this.level = level;\r\n        }\r\n    \r\n        public Bag rewardCoins(Bag bag){\r\n            int oneCoin = bag.getOneCoin();\r\n            int twoCoin = bag.getTwoCoin();\r\n            int threeCoin = bag.getThreeCoin();\r\n    \r\n            oneCoin =+ (int)(level-Math.random()*level/6);\r\n            twoCoin =+ (int)(level-Math.random()*level/2);\r\n            threeCoin =+ (int)((level-level/2)-Math.random()*(level-level/2));\r\n    \r\n            Bag result = new Bag();\r\n            result.setOneCoin(oneCoin);\r\n            result.setTwoCoin(twoCoin);\r\n            result.setThreeCoin(threeCoin);\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\nor this:\r\n\r\n    public class Thief {\r\n        private final String name;\r\n        private final int health;\r\n        private final int level;\r\n        private Bag bag;\r\n    \r\n        public Thief(String name, int level) {\r\n            this.name = name;\r\n            this.health = level * 100;\r\n            this.level = level;\r\n        }\r\n    \r\n        public Bag rewardCoins(){\r\n            int oneCoin = bag.getOneCoin();\r\n            int twoCoin = bag.getTwoCoin();\r\n            int threeCoin = bag.getThreeCoin();\r\n    \r\n            oneCoin =+ (int)(level-Math.random()*level/6);\r\n            twoCoin =+ (int)(level-Math.random()*level/2);\r\n            threeCoin =+ (int)((level-level/2)-Math.random()*(level-level/2));\r\n    \r\n            Bag result = new Bag();\r\n            result.setOneCoin(oneCoin);\r\n            result.setTwoCoin(twoCoin);\r\n            result.setThreeCoin(threeCoin);\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\n","title":"Java - method that returns a class instance to different class?","body":"<p>You may want something like this:</p>\n<pre><code>public class Thief {\n    private final String name;\n    private final int health;\n    private final int level;\n\n    public Thief(String name, int level) {\n        this.name = name;\n        this.health = level * 100;\n        this.level = level;\n    }\n\n    public Bag rewardCoins(Bag bag){\n        int oneCoin = bag.getOneCoin();\n        int twoCoin = bag.getTwoCoin();\n        int threeCoin = bag.getThreeCoin();\n\n        oneCoin =+ (int)(level-Math.random()*level/6);\n        twoCoin =+ (int)(level-Math.random()*level/2);\n        threeCoin =+ (int)((level-level/2)-Math.random()*(level-level/2));\n\n        Bag result = new Bag();\n        result.setOneCoin(oneCoin);\n        result.setTwoCoin(twoCoin);\n        result.setThreeCoin(threeCoin);\n\n        return result;\n    }\n}\n</code></pre>\n<p>or this:</p>\n<pre><code>public class Thief {\n    private final String name;\n    private final int health;\n    private final int level;\n    private Bag bag;\n\n    public Thief(String name, int level) {\n        this.name = name;\n        this.health = level * 100;\n        this.level = level;\n    }\n\n    public Bag rewardCoins(){\n        int oneCoin = bag.getOneCoin();\n        int twoCoin = bag.getTwoCoin();\n        int threeCoin = bag.getThreeCoin();\n\n        oneCoin =+ (int)(level-Math.random()*level/6);\n        twoCoin =+ (int)(level-Math.random()*level/2);\n        threeCoin =+ (int)((level-level/2)-Math.random()*(level-level/2));\n\n        Bag result = new Bag();\n        result.setOneCoin(oneCoin);\n        result.setTwoCoin(twoCoin);\n        result.setThreeCoin(threeCoin);\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20251858,"reputation":1,"user_id":14852724,"display_name":"Miliman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653481181,"creation_date":1653481181,"answer_id":72377534,"question_id":72377174,"body_markdown":"Well it depends. \r\nLooking at your code I can suppose that you want the thief to reward coins to the inventory which is shared among thieves. In that case you could have it as a variable of the thief and pass it as a parameter on the constructor. This way all thieves will be able to access the same Bag object.\r\n\r\n    public class Bag {\r\n    private int oneCoin;\r\n    private int twoCoin;\r\n    private int threeCoin;\r\n    \r\n    //getters and setters\r\n    }\r\n\r\n    public class Thief {\r\n    private Bag bag;\r\n     public Thief(String name, int level,final Bag bag) {\r\n        this.name = name;\r\n        this.health = level * 100;\r\n        this.level = level;\r\n        this.bag=bag;\r\n    }\r\n    \r\n    \r\n    public void rewardOneCoin(){\r\n\r\n        bag.setOneCoin(bag.getOneCoin()+ (int)(level-Math.random()*level/6))\r\n       \r\n        \r\n    }\r\n\r\n    // Appropriate functions for two and three coins\r\n    }\r\n\r\nIf you can give me a bit more context I may cal provide you with a bit more help\r\n\r\n    ","title":"Java - method that returns a class instance to different class?","body":"<p>Well it depends.\nLooking at your code I can suppose that you want the thief to reward coins to the inventory which is shared among thieves. In that case you could have it as a variable of the thief and pass it as a parameter on the constructor. This way all thieves will be able to access the same Bag object.</p>\n<pre><code>public class Bag {\nprivate int oneCoin;\nprivate int twoCoin;\nprivate int threeCoin;\n\n//getters and setters\n}\n\npublic class Thief {\nprivate Bag bag;\n public Thief(String name, int level,final Bag bag) {\n    this.name = name;\n    this.health = level * 100;\n    this.level = level;\n    this.bag=bag;\n}\n\n\npublic void rewardOneCoin(){\n\n    bag.setOneCoin(bag.getOneCoin()+ (int)(level-Math.random()*level/6))\n   \n    \n}\n\n// Appropriate functions for two and three coins\n}\n</code></pre>\n<p>If you can give me a bit more context I may cal provide you with a bit more help</p>\n"}],"owner":{"account_id":21860553,"reputation":1,"user_id":16151399,"display_name":"egtc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654001727,"creation_date":1653479705,"question_id":72377174,"body_markdown":"I&#39;m a beginner and have tried searching but nothing is coming up, apologies. I have 2 classes, I don&#39;t know how to link the rewardCoins (oneCoin/twoCoin/threeCoin) so that if called, it adds coins to the Bag inventory. The return is probably incorrect as well.\r\n\r\n```\r\npublic class Bag {\r\n\tprivate int oneCoin;\r\n    private int twoCoin;\r\n    private int threeCoin;\r\n\t\r\n\t//etc\r\n}\r\n\r\npublic class Thief {\r\n\t public Thief(String name, int level) {\r\n        this.name = name;\r\n        this.health = level * 100;\r\n        this.level = level;\r\n    }\r\n\t\r\n    //problem code\r\n\tpublic Bag rewardCoins(){\r\n        oneCoin =+ (int)(level-Math.random()*level/6);\r\n        twoCoin =+ (int)(level-Math.random()*level/2);\r\n        threeCoin =+ (int)((level-level/2)-Math.random()*(level-level/2));\r\n        return rewardCoins();\r\n    }\r\n}\r\n```\r\nNot looking for immediate help, I just don&#39;t know what I should be reading up on to figure it out. \r\n\r\nEdit: I may have explained it poorly - I can&#39;t use setters, as there are already things inside the Bag inventory. I want to add the coins to the inventory when a Thief is &quot;defeated&quot;. Like dropping loot. I don&#39;t know how to access the private fields one/two/threeCoin in Thief to add them to the other class. They are 2 different classes, Thief.java and Bag.java \r\n\r\nSecond edit: for anyone reading this, the answer is changing the attributes and return value to-\r\n\r\n```\r\npublic Bag rewardCoins(){\r\n        int one = (int)(level-Math.random()*level/6);\r\n        int two = (int)(level-Math.random()*level/2);\r\n        int three = (int)((level-level/2)-Math.random()*(level-level/2));\r\n        return (new Bag(one, two, three));\r\n}\r\n```","title":"Java - method that returns a class instance to different class?","body":"<p>I'm a beginner and have tried searching but nothing is coming up, apologies. I have 2 classes, I don't know how to link the rewardCoins (oneCoin/twoCoin/threeCoin) so that if called, it adds coins to the Bag inventory. The return is probably incorrect as well.</p>\n<pre><code>public class Bag {\n    private int oneCoin;\n    private int twoCoin;\n    private int threeCoin;\n    \n    //etc\n}\n\npublic class Thief {\n     public Thief(String name, int level) {\n        this.name = name;\n        this.health = level * 100;\n        this.level = level;\n    }\n    \n    //problem code\n    public Bag rewardCoins(){\n        oneCoin =+ (int)(level-Math.random()*level/6);\n        twoCoin =+ (int)(level-Math.random()*level/2);\n        threeCoin =+ (int)((level-level/2)-Math.random()*(level-level/2));\n        return rewardCoins();\n    }\n}\n</code></pre>\n<p>Not looking for immediate help, I just don't know what I should be reading up on to figure it out.</p>\n<p>Edit: I may have explained it poorly - I can't use setters, as there are already things inside the Bag inventory. I want to add the coins to the inventory when a Thief is &quot;defeated&quot;. Like dropping loot. I don't know how to access the private fields one/two/threeCoin in Thief to add them to the other class. They are 2 different classes, Thief.java and Bag.java</p>\n<p>Second edit: for anyone reading this, the answer is changing the attributes and return value to-</p>\n<pre><code>public Bag rewardCoins(){\n        int one = (int)(level-Math.random()*level/6);\n        int two = (int)(level-Math.random()*level/2);\n        int three = (int)((level-level/2)-Math.random()*(level-level/2));\n        return (new Bag(one, two, three));\n}\n</code></pre>\n"},{"tags":["java","maven","project"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653996063,"post_id":72446669,"comment_id":127981732,"body_markdown":"First `I dont want to modify the subprojects.` Why? If you have a dependency you have to add that dependency. That&#39;s it. Simple as it. Furthermore the images are a bad idea better use text.","body":"First <code>I dont want to modify the subprojects.</code> Why? If you have a dependency you have to add that dependency. That&#39;s it. Simple as it. Furthermore the images are a bad idea better use text."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653996162,"creation_date":1653996162,"answer_id":72446894,"question_id":72446669,"body_markdown":"Create a structure like this:\r\n\r\n\r\n    root-directory\r\n      +--- pom.xml\r\n      +--- module-BB\r\n              +-- src\r\n              +-- pom.xml\r\n      +--- module-CC\r\n              +-- src\r\n              +-- pom.xml\r\n\r\nIn mdoule `CC` you can simply define a dependency to `module BB` and build the whole project from root via `mvn package`... ","title":"How to let a Maven module have dependency on another Maven module through the pom of a master project?","body":"<p>Create a structure like this:</p>\n<pre><code>root-directory\n  +--- pom.xml\n  +--- module-BB\n          +-- src\n          +-- pom.xml\n  +--- module-CC\n          +-- src\n          +-- pom.xml\n</code></pre>\n<p>In mdoule <code>CC</code> you can simply define a dependency to <code>module BB</code> and build the whole project from root via <code>mvn package</code>...</p>\n"}],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654001614,"creation_date":1653995182,"question_id":72446669,"body_markdown":"### objective:: \r\n\r\n- give:: \r\n\r\n  3 projects `AA, BB, CC`; under developing.\r\n\r\n  `AA` = master project \r\n\r\n  **`CC` depends on `BB`**\r\n\r\n- requirement::\r\n\r\n  I dont want to modify the subprojects. \r\n\r\n  I want to manage the dependency in a master project `AA`. \r\n\r\n  ie: **add dependency through the `pom` in `AA`, not in `BB or CC`.** \r\n\r\n### problem::\r\n\r\nso I use `Maven module`, and I tried this, didnt work::\r\n\r\n1. link the modules together in `AA`.\r\n\r\n```xml\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;../BB&lt;/module&gt;\r\n\t\t&lt;module&gt;../CC&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```\r\n\r\n2. but then, `CC` is not able to import `ClassB` from `BB`.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/9RzO0.png&quot; width=&quot;400&quot; /&gt;\r\n\r\n=&gt; **How can I make `CC` depends on `BB` when only editing the `pom` in `AA`?**\r\n\r\n---\r\n\r\n### the common solution (that I try to avoid):: \r\n\r\nI do know that, if I add dependency in the pom of `CC`, everything is fine, but I dont want to do this:: \r\n\r\n1. add dependency in the pom of `CC`\r\n\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;GG&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;BB&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n2. now, `CC` is able to import `ClassB` from `BB`.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/tPTsI.png&quot; width=&quot;400&quot; /&gt;\r\n\r\n- btw: some online answers say you need `maven install` then add the `jar`. \r\n\r\n  1. here, I dont want to build a `jar` of `BB`. (as it wouldnt &amp; dont-need-to produce a `jar` even if you use the &quot;common solution&quot; I wrote above.)\r\n\r\n     cuz `BB` is under developing, it will be constantly modified. \r\n\r\n  2. even if I use `jar`, I dont see how it helps in my case.\r\n\r\n- (in this case, the master project `AA` for `&lt;parent&gt;` in `CC` may not even be needed.)\r\n\r\n----\r\n\r\nSome resource that I looked through, I dont know why in my case it doesnt work:: \r\n\r\nDid I understand `Maven module` wrong? \r\n\r\n&lt;sub&gt;\r\n&lt;sup&gt;\r\n\r\nhttps://stackoverflow.com/questions/15383322/how-do-i-add-a-project-as-a-dependency-of-another-project\r\n\r\nhttps://www.jetbrains.com/help/idea/maven-support.html#maven_multi_module\r\n\r\nhttps://stackoverflow.com/questions/33208765/how-to-add-dependency-of-other-maven-project-to-my-current-maven-project-in-java\r\n\r\nhttps://stackoverflow.com/questions/11684467/how-can-a-maven-project-depend-on-another-local-maven-project\r\n\r\n&lt;/sup&gt;\r\n&lt;/sub&gt;","title":"How to let a Maven module have dependency on another Maven module through the pom of a master project?","body":"<h3>objective::</h3>\n<ul>\n<li><p>give::</p>\n<p>3 projects <code>AA, BB, CC</code>; under developing.</p>\n<p><code>AA</code> = master project</p>\n<p><strong><code>CC</code> depends on <code>BB</code></strong></p>\n</li>\n<li><p>requirement::</p>\n<p>I dont want to modify the subprojects.</p>\n<p>I want to manage the dependency in a master project <code>AA</code>.</p>\n<p>ie: <strong>add dependency through the <code>pom</code> in <code>AA</code>, not in <code>BB or CC</code>.</strong></p>\n</li>\n</ul>\n<h3>problem::</h3>\n<p>so I use <code>Maven module</code>, and I tried this, didnt work::</p>\n<ol>\n<li>link the modules together in <code>AA</code>.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;modules&gt;\n        &lt;module&gt;../BB&lt;/module&gt;\n        &lt;module&gt;../CC&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<ol start=\"2\">\n<li>but then, <code>CC</code> is not able to import <code>ClassB</code> from <code>BB</code>.</li>\n</ol>\n<img src=\"https://i.stack.imgur.com/9RzO0.png\" width=\"400\" />\n<p>=&gt; <strong>How can I make <code>CC</code> depends on <code>BB</code> when only editing the <code>pom</code> in <code>AA</code>?</strong></p>\n<hr />\n<h3>the common solution (that I try to avoid)::</h3>\n<p>I do know that, if I add dependency in the pom of <code>CC</code>, everything is fine, but I dont want to do this::</p>\n<ol>\n<li>add dependency in the pom of <code>CC</code></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;GG&lt;/groupId&gt;\n            &lt;artifactId&gt;BB&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<ol start=\"2\">\n<li>now, <code>CC</code> is able to import <code>ClassB</code> from <code>BB</code>.</li>\n</ol>\n<img src=\"https://i.stack.imgur.com/tPTsI.png\" width=\"400\" />\n<ul>\n<li><p>btw: some online answers say you need <code>maven install</code> then add the <code>jar</code>.</p>\n<ol>\n<li><p>here, I dont want to build a <code>jar</code> of <code>BB</code>. (as it wouldnt &amp; dont-need-to produce a <code>jar</code> even if you use the &quot;common solution&quot; I wrote above.)</p>\n<p>cuz <code>BB</code> is under developing, it will be constantly modified.</p>\n</li>\n<li><p>even if I use <code>jar</code>, I dont see how it helps in my case.</p>\n</li>\n</ol>\n</li>\n<li><p>(in this case, the master project <code>AA</code> for <code>&lt;parent&gt;</code> in <code>CC</code> may not even be needed.)</p>\n</li>\n</ul>\n<hr />\n<p>Some resource that I looked through, I dont know why in my case it doesnt work::</p>\n<p>Did I understand <code>Maven module</code> wrong?</p>\n<sub>\n<sup>\n<p><a href=\"https://stackoverflow.com/questions/15383322/how-do-i-add-a-project-as-a-dependency-of-another-project\">How do I add a project as a dependency of another project?</a></p>\n<p><a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_multi_module\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/maven-support.html#maven_multi_module</a></p>\n<p><a href=\"https://stackoverflow.com/questions/33208765/how-to-add-dependency-of-other-maven-project-to-my-current-maven-project-in-java\">how to add dependency of other maven project to my current maven project in java eclipse?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/11684467/how-can-a-maven-project-depend-on-another-local-maven-project\">How can a maven project depend on another local maven project?</a></p>\n</sup>\n</sub>\n"},{"tags":["java","string","null","string-formatting","string.format"],"comments":[{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":2,"creation_date":1386259352,"post_id":20404710,"comment_id":30471127,"body_markdown":"I would do `String.format(&quot;this is %s&quot;, this.someField==null?&quot;?&quot;:this.someField);`","body":"I would do <code>String.format(&quot;this is %s&quot;, this.someField==null?&quot;?&quot;:this.someField);</code>"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":1,"creation_date":1386259398,"post_id":20404710,"comment_id":30471157,"body_markdown":"Or with Guava : `String.format(&quot;this is %s&quot;, Objects.firstNotNull(this.someField, &quot;?&quot;));`","body":"Or with Guava : <code>String.format(&quot;this is %s&quot;, Objects.firstNotNull(this.someField, &quot;?&quot;));</code>"},{"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"score":0,"creation_date":1386261726,"post_id":20404710,"comment_id":30472694,"body_markdown":"I always think fondly of `firstNotNull`, esp. similar implementations some SQL dialects, but Guava is too heavy a dependence and belongs more to the dependencies a Utils class than that of a pojo, imo.","body":"I always think fondly of <code>firstNotNull</code>, esp. similar implementations some SQL dialects, but Guava is too heavy a dependence and belongs more to the dependencies a Utils class than that of a pojo, imo."},{"owner":{"account_id":5973262,"reputation":55881,"user_id":4694994,"accept_rate":100,"display_name":"Kim Kern"},"score":0,"creation_date":1548843230,"post_id":20404710,"comment_id":95685530,"body_markdown":"@VH-NZZ There are some great solutions. Sure you can&#39;t choose one to accept?","body":"@VH-NZZ There are some great solutions. Sure you can&#39;t choose one to accept?"},{"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"score":0,"creation_date":1548918086,"post_id":20404710,"comment_id":95718118,"body_markdown":"@KimKern Most, if not all, somehow address the issue and ultimately produce a result compatible with the question, albeit at some expense. That being said, I objectively can&#39;t assert that I can pick _one_ answer as truly superior, hence: no, at this stage I&#39;m afraid I can&#39;t.","body":"@KimKern Most, if not all, somehow address the issue and ultimately produce a result compatible with the question, albeit at some expense. That being said, I objectively can&#39;t assert that I can pick <i>one</i> answer as truly superior, hence: no, at this stage I&#39;m afraid I can&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1386259322,"creation_date":1386259322,"answer_id":20404767,"question_id":20404710,"body_markdown":"If you don&#39;t want to use `replaceAll()`, You can assign a default text(String) for `someField`. \r\n\r\nBut if some time this may assign `null` again. So you can use validation for that case\r\n\r\n     this.someField == null ? &quot;defaultText&quot; : this.someField","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>If you don't want to use <code>replaceAll()</code>, You can assign a default text(String) for <code>someField</code>. </p>\n\n<p>But if some time this may assign <code>null</code> again. So you can use validation for that case</p>\n\n<pre><code> this.someField == null ? \"defaultText\" : this.someField\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2114289,"reputation":1229,"user_id":1878918,"display_name":"joey.enfield"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1386259373,"creation_date":1386259373,"answer_id":20404793,"question_id":20404710,"body_markdown":"You could just do \r\n\r\n    String.format(&quot;this is %s&quot;, (this.someField==null?&quot;DEFAULT&quot;:this.someField));","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>You could just do </p>\n\n<pre><code>String.format(\"this is %s\", (this.someField==null?\"DEFAULT\":this.someField));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483837,"reputation":10002,"user_id":899126,"accept_rate":100,"display_name":"Chris Forrence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386259391,"creation_date":1386259391,"answer_id":20404798,"question_id":20404710,"body_markdown":"To keep the original value of `someField` (in case null is a valid value), you can use a [ternary operator][1].\r\n\r\n    String.format(&quot;This is %s&quot;, (this.someField == null ? &quot;unknown&quot; : this.someField));\r\n\r\n [1]: http://en.wikipedia.org/wiki/%3F:#Java","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>To keep the original value of <code>someField</code> (in case null is a valid value), you can use a <a href=\"http://en.wikipedia.org/wiki/%3F%3a#Java\" rel=\"nofollow\">ternary operator</a>.</p>\n\n<pre><code>String.format(\"This is %s\", (this.someField == null ? \"unknown\" : this.someField));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386260088,"creation_date":1386260088,"answer_id":20405043,"question_id":20404710,"body_markdown":"To avoid repeating ternary operator you can wrap it in more readable method that will check if your object is `null` and return some default value if it is true like\r\n\r\n\tstatic &lt;T&gt; T changeNull(T arg, T defaultValue) {\r\n\t\treturn arg == null ? defaultValue : arg;\r\n\t}\r\nusage\r\n\r\n\tString field = null;\r\n\tInteger id = null;\r\n\tSystem.out.printf(&quot;field is %s %n&quot;, changeNull(field, &quot;&quot;));\r\n\tSystem.out.printf(&quot;id is %d %n&quot;, changeNull(id, -1));\r\n\tSystem.out.printf(&quot;id is %s %n&quot;, changeNull(field, &quot;&quot;));\r\n\r\noutput:\r\n\r\n    field is  \r\n    id is -1 \r\n    id is  ","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>To avoid repeating ternary operator you can wrap it in more readable method that will check if your object is <code>null</code> and return some default value if it is true like</p>\n\n<pre><code>static &lt;T&gt; T changeNull(T arg, T defaultValue) {\n    return arg == null ? defaultValue : arg;\n}\n</code></pre>\n\n<p>usage</p>\n\n<pre><code>String field = null;\nInteger id = null;\nSystem.out.printf(\"field is %s %n\", changeNull(field, \"\"));\nSystem.out.printf(\"id is %d %n\", changeNull(id, -1));\nSystem.out.printf(\"id is %s %n\", changeNull(field, \"\"));\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>field is  \nid is -1 \nid is  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4308080,"reputation":1029,"user_id":3519951,"accept_rate":60,"display_name":"JM Lord"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1397140342,"creation_date":1397140342,"answer_id":22991100,"question_id":20404710,"body_markdown":"A bit late on the subject, but this could be a quite clean-looking solution : \r\nFirst, create your own format method...\r\n\r\n    private static String NULL_STRING = &quot;?&quot;;\r\n\r\n\tprivate static String formatNull(String str, Object... args){\r\n\t\tfor(int i = 0; i &lt; args.length; i++){\r\n\t\t\tif(args[i] == null){\r\n\t\t\t\targs[i] = NULL_STRING;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn String.format(str, args);\r\n\t}\r\n\r\nThen, use it as will...\r\n\r\n    @Test\r\n\tpublic void TestNullFormat(){\r\n\t\tObject ob1 = null;\r\n\t\tObject ob2 = &quot;a test&quot;;\r\n\t\t\r\n\t\tString str = formatNull(&quot;this is %s&quot;, ob1);\r\n\t\tassertEquals(&quot;this is ?&quot;, str);\r\n\t\t\r\n\t\tstr = formatNull(&quot;this is %s&quot;, ob2);\r\n\t\tassertEquals(&quot;this is a test&quot;, str);\r\n\t}\r\n\r\nThis eliminates the need for multiple, hard-to-read, ternary operators.","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>A bit late on the subject, but this could be a quite clean-looking solution : \nFirst, create your own format method...</p>\n\n<pre><code>private static String NULL_STRING = \"?\";\n\nprivate static String formatNull(String str, Object... args){\n    for(int i = 0; i &lt; args.length; i++){\n        if(args[i] == null){\n            args[i] = NULL_STRING;\n        }\n    }\n\n    return String.format(str, args);\n}\n</code></pre>\n\n<p>Then, use it as will...</p>\n\n<pre><code>@Test\npublic void TestNullFormat(){\n    Object ob1 = null;\n    Object ob2 = \"a test\";\n\n    String str = formatNull(\"this is %s\", ob1);\n    assertEquals(\"this is ?\", str);\n\n    str = formatNull(\"this is %s\", ob2);\n    assertEquals(\"this is a test\", str);\n}\n</code></pre>\n\n<p>This eliminates the need for multiple, hard-to-read, ternary operators.</p>\n"},{"tags":[],"owner":{"account_id":2431063,"reputation":693,"user_id":2121947,"display_name":"JavaThunderFromDownunder"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1429785427,"creation_date":1400026199,"answer_id":23643620,"question_id":20404710,"body_markdown":"The nicest solution, in my opinion, is using Guava&#39;s Objects method, firstNonNull. The following method will ensure you will print an empty string if someField is ever null.\r\n\r\n    String.format(&quot;this is %s&quot;, MoreObjects.firstNonNull(this.someField, &quot;&quot;));\r\n\r\n[Guava docs][1].\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/base/MoreObjects.java","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>The nicest solution, in my opinion, is using Guava's Objects method, firstNonNull. The following method will ensure you will print an empty string if someField is ever null.</p>\n\n<pre><code>String.format(\"this is %s\", MoreObjects.firstNonNull(this.someField, \"\"));\n</code></pre>\n\n<p><a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/base/MoreObjects.java\" rel=\"noreferrer\">Guava docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":930689,"reputation":2504,"user_id":960626,"accept_rate":52,"display_name":"Dmitry Klochkov"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1454420057,"creation_date":1454419171,"answer_id":35154648,"question_id":20404710,"body_markdown":"With java 8 you can now use Optional class for this:\r\n\r\n    import static java.util.Optional.ofNullable;\r\n    ...\r\n    String myString = null;\r\n    System.out.printf(&quot;myString: %s&quot;,\r\n        ofNullable(myString).orElse(&quot;Not found&quot;)\r\n    );","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>With java 8 you can now use Optional class for this:</p>\n\n<pre><code>import static java.util.Optional.ofNullable;\n...\nString myString = null;\nSystem.out.printf(\"myString: %s\",\n    ofNullable(myString).orElse(\"Not found\")\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1483620562,"creation_date":1483620562,"answer_id":41485565,"question_id":20404710,"body_markdown":"For a Java 7 solution that doesn&#39;t require external libraries:\r\n\r\n    String.format(&quot;this is %s&quot;, Objects.toString(this.someField, &quot;?&quot;));","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>For a Java 7 solution that doesn't require external libraries:</p>\n\n<pre><code>String.format(\"this is %s\", Objects.toString(this.someField, \"?\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2686114,"reputation":31,"user_id":2320509,"display_name":"eebb88"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1492065683,"creation_date":1492065683,"answer_id":43385249,"question_id":20404710,"body_markdown":"    public static String format(String format, Object... args){\r\n        for (int i=0;i&lt;args.length;i++){\r\n            if (args[i]==null) args[i]=&quot;&quot;;\r\n        }\r\n        return String.format(format,args);\r\n    }\r\n\r\nthen  use the method ，ok","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<pre><code>public static String format(String format, Object... args){\n    for (int i=0;i&lt;args.length;i++){\n        if (args[i]==null) args[i]=\"\";\n    }\n    return String.format(format,args);\n}\n</code></pre>\n\n<p>then  use the method ，ok</p>\n"},{"tags":[],"owner":{"account_id":21332,"reputation":5311,"user_id":51754,"accept_rate":76,"display_name":"Bob Rivers"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1493810487,"creation_date":1493810487,"answer_id":43758620,"question_id":20404710,"body_markdown":"From java 7, you can use `Objects.toString(Object o, String nullDefault)`.\r\n\r\nApplied to your example: `String.format(&quot;this is %s&quot;, Objects.toString(this.someField, &quot;?&quot;));`","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>From java 7, you can use <code>Objects.toString(Object o, String nullDefault)</code>.</p>\n\n<p>Applied to your example: <code>String.format(\"this is %s\", Objects.toString(this.someField, \"?\"));</code></p>\n"}],"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84022,"favorite_count":0,"down_vote_count":1,"up_vote_count":52,"answer_count":10,"score":51,"last_activity_date":1654001514,"creation_date":1386259195,"question_id":20404710,"body_markdown":"Consider the custom `toString()` implementation of a bean:\r\n\r\n    @Override\r\n    public String toString() {\r\n        String.format(&quot;this is %s&quot;, this.someField);\r\n    }\r\nThis yields `this is null` if `someField` is null.\r\n\r\nIs there a way to override the default `null` string representation of null-valued arguments to another text, i.e., `?` **without calling explicitly `replaceAll(...)` in the `toString` method?**\r\n\r\n**Note**: The bean inherits from a superclass that could implement `Formattable` (http://docs.oracle.com/javase/7/docs/api/java/util/Formattable.html) but I just don&#39;t seem to understand how to make this work.\r\n\r\n**EDIT**: The snippet is over-simplified for the sake of example but I&#39;m not looking for ternary operator solutions `someField==null ? &quot;?&quot; : someField` because:\r\n\r\n - there can be (potentially) a great many fields involved in `toString()` so checking all fields is too cumbersome and not fluent.\r\n - other people whom I have little control over (if any) are writing their own subclasses.\r\n - if a method is called and returns null that would either imply calling the method twice or declaring a local variable.\r\n\r\nRather, can anything be done using the `Formattable` interface or having some custom `Formatter` (which is `final` btw.)?","title":"Make String.format(&quot;%s&quot;, arg) display null-valued arguments differently from &quot;null&quot;","body":"<p>Consider the custom <code>toString()</code> implementation of a bean:</p>\n\n<pre><code>@Override\npublic String toString() {\n    String.format(\"this is %s\", this.someField);\n}\n</code></pre>\n\n<p>This yields <code>this is null</code> if <code>someField</code> is null.</p>\n\n<p>Is there a way to override the default <code>null</code> string representation of null-valued arguments to another text, i.e., <code>?</code> <strong>without calling explicitly <code>replaceAll(...)</code> in the <code>toString</code> method?</strong></p>\n\n<p><strong>Note</strong>: The bean inherits from a superclass that could implement <code>Formattable</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formattable.html\">http://docs.oracle.com/javase/7/docs/api/java/util/Formattable.html</a>) but I just don't seem to understand how to make this work.</p>\n\n<p><strong>EDIT</strong>: The snippet is over-simplified for the sake of example but I'm not looking for ternary operator solutions <code>someField==null ? \"?\" : someField</code> because:</p>\n\n<ul>\n<li>there can be (potentially) a great many fields involved in <code>toString()</code> so checking all fields is too cumbersome and not fluent.</li>\n<li>other people whom I have little control over (if any) are writing their own subclasses.</li>\n<li>if a method is called and returns null that would either imply calling the method twice or declaring a local variable.</li>\n</ul>\n\n<p>Rather, can anything be done using the <code>Formattable</code> interface or having some custom <code>Formatter</code> (which is <code>final</code> btw.)?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653995442,"post_id":72446672,"comment_id":127981471,"body_markdown":"Tell us what is wrong with shared code. Do you have any errors?","body":"Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":25324596,"reputation":1,"user_id":19145445,"display_name":"John Dale Unite"},"score":0,"creation_date":1653996619,"post_id":72446672,"comment_id":127981939,"body_markdown":"No errors, since it can get the data of product Name. It can get the data once but not every data in multiple product Name. What I want to get is every data of product Name every time there is a data under it. Like shown in the picture it only show once and didn&#39;t get the previous one.","body":"No errors, since it can get the data of product Name. It can get the data once but not every data in multiple product Name. What I want to get is every data of product Name every time there is a data under it. Like shown in the picture it only show once and didn&#39;t get the previous one."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653997606,"creation_date":1653997606,"answer_id":72447221,"question_id":72446672,"body_markdown":"To get all product names as a single string, you can do:\r\n```\r\nString getproductName = &quot;null&quot;;\r\nif (Requests.hasChild(&quot;foods&quot;)) {\r\n    for (DataSnapshot foodSnapshot : Requests.child(&quot;foods&quot;).getChildren()) {\r\n        getproductName = getproductName + foodSnapshot.child(&quot;productName&quot;).getValue(String.class);\r\n    }\r\n}\r\n```\r\n","title":"How to get the data of product Name at once and display it?","body":"<p>To get all product names as a single string, you can do:</p>\n<pre><code>String getproductName = &quot;null&quot;;\nif (Requests.hasChild(&quot;foods&quot;)) {\n    for (DataSnapshot foodSnapshot : Requests.child(&quot;foods&quot;).getChildren()) {\n        getproductName = getproductName + foodSnapshot.child(&quot;productName&quot;).getValue(String.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9573831,"reputation":7,"user_id":7153910,"display_name":"elvishrdz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654001037,"creation_date":1654001037,"answer_id":72448032,"question_id":72446672,"body_markdown":"first of all set the &quot;Request&quot; variable with a lowercase (requests) \r\n\r\n\r\n  \r\n\r\n          myItemsList.clear();\r\n    \r\n            // getting all children from users root\r\n            for (DataSnapshot requests : snapshot.getChildren()) {\r\n    \r\n                // to prevent app crash check if the user has all the details in Firebase Database\r\n                if (Requests.hasChild(&quot;askfor&quot;) &amp;&amp; Requests.hasChild(&quot;tablet&quot;) &amp;&amp; Requests.hasChild(&quot;total&quot;)) {\r\n    \r\n                    // getting users details from Firebase Database and store into the List one by one\r\n                    final String getaskfor = Requests.child(&quot;askfor&quot;).getValue(String.class);\r\n                    final String gettablet = Requests.child(&quot;tablet&quot;).getValue(String.class);\r\n                    final String gettotal = Requests.child(&quot;total&quot;).getValue(String.class);\r\n    \r\n    \r\n                    // final String getproductName = Requests.child(&quot;productName&quot;).getValue(String.class);\r\n    \r\n    \r\n                    String getProductName = &quot;&quot;;\r\n                    if (Requests.hasChild(&quot;foods&quot;)) {\r\n                        for (DataSnapshot foodSnapshot : Requests.child(&quot;foods&quot;).getChildren()) {\r\n    \r\n    if(foodSnapshot.hasChild(&quot;productName&quot;){\r\n      getProductName += foodSnapshot.child(&quot;productName&quot;).getValue(String.class); \r\n    }                    \r\n                        }\r\n                    }\r\n                    // creating user item with user details\r\n                    MyItems myItems = new MyItems(getaskfor, gettablet, gettotal, getproductName);\r\n    \r\n                    // adding this user item to List\r\n                    myItemsList.add(myItems);\r\n\r\n// add blank space if required: getProductName += getProductName + &quot; &quot;;\r\n\r\n** You are also forgeting concatenate all the product names, so thats why you always get the last product name but not the others.","title":"How to get the data of product Name at once and display it?","body":"<p>first of all set the &quot;Request&quot; variable with a lowercase (requests)</p>\n<pre><code>      myItemsList.clear();\n\n        // getting all children from users root\n        for (DataSnapshot requests : snapshot.getChildren()) {\n\n            // to prevent app crash check if the user has all the details in Firebase Database\n            if (Requests.hasChild(&quot;askfor&quot;) &amp;&amp; Requests.hasChild(&quot;tablet&quot;) &amp;&amp; Requests.hasChild(&quot;total&quot;)) {\n\n                // getting users details from Firebase Database and store into the List one by one\n                final String getaskfor = Requests.child(&quot;askfor&quot;).getValue(String.class);\n                final String gettablet = Requests.child(&quot;tablet&quot;).getValue(String.class);\n                final String gettotal = Requests.child(&quot;total&quot;).getValue(String.class);\n\n\n                // final String getproductName = Requests.child(&quot;productName&quot;).getValue(String.class);\n\n\n                String getProductName = &quot;&quot;;\n                if (Requests.hasChild(&quot;foods&quot;)) {\n                    for (DataSnapshot foodSnapshot : Requests.child(&quot;foods&quot;).getChildren()) {\n\nif(foodSnapshot.hasChild(&quot;productName&quot;){\n  getProductName += foodSnapshot.child(&quot;productName&quot;).getValue(String.class); \n}                    \n                    }\n                }\n                // creating user item with user details\n                MyItems myItems = new MyItems(getaskfor, gettablet, gettotal, getproductName);\n\n                // adding this user item to List\n                myItemsList.add(myItems);\n</code></pre>\n<p>// add blank space if required: getProductName += getProductName + &quot; &quot;;</p>\n<p>** You are also forgeting concatenate all the product names, so thats why you always get the last product name but not the others.</p>\n"}],"owner":{"account_id":25324596,"reputation":1,"user_id":19145445,"display_name":"John Dale Unite"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654001037,"creation_date":1653995197,"question_id":72446672,"body_markdown":"On my last post, I asked how to get the data under foods, which is the product Name. Now I&#39;m having problem getting every product Name data and show it all at once.\r\n\r\nfirebase and recycler view:\r\n![][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9IgGR.png\r\n\r\n*MainAcvity*\r\n\r\n    databaseReference.child(&quot;Requests&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n            // clear old items / users from list to add new data/ users\r\n            myItemsList.clear();\r\n\r\n            // getting all children from users root\r\n            for (DataSnapshot Requests : snapshot.getChildren()) {\r\n\r\n                // to prevent app crash check if the user has all the details in Firebase Database\r\n                if (Requests.hasChild(&quot;askfor&quot;) &amp;&amp; Requests.hasChild(&quot;tablet&quot;) &amp;&amp; Requests.hasChild(&quot;total&quot;)) {\r\n\r\n                    // getting users details from Firebase Database and store into the List one by one\r\n                    final String getaskfor = Requests.child(&quot;askfor&quot;).getValue(String.class);\r\n                    final String gettablet = Requests.child(&quot;tablet&quot;).getValue(String.class);\r\n                    final String gettotal = Requests.child(&quot;total&quot;).getValue(String.class);\r\n                    // final String getproductName = Requests.child(&quot;productName&quot;).getValue(String.class);\r\n\r\n\r\n                    String getproductName = &quot;null&quot;;\r\n                    if (Requests.hasChild(&quot;foods&quot;)) {\r\n                        for (DataSnapshot foodSnapshot : Requests.child(&quot;foods&quot;).getChildren()) {\r\n                            getproductName = foodSnapshot.child(&quot;productName&quot;).getValue(String.class);\r\n                        }\r\n                    }\r\n                    // creating user item with user details\r\n                    MyItems myItems = new MyItems(getaskfor, gettablet, gettotal, getproductName);\r\n\r\n                    // adding this user item to List\r\n                    myItemsList.add(myItems);\r\n                    ","title":"How to get the data of product Name at once and display it?","body":"<p>On my last post, I asked how to get the data under foods, which is the product Name. Now I'm having problem getting every product Name data and show it all at once.</p>\n<p>firebase and recycler view:\n<img src=\"https://i.stack.imgur.com/9IgGR.png\" alt=\"\" /></p>\n<p><em>MainAcvity</em></p>\n<pre><code>databaseReference.child(&quot;Requests&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n        // clear old items / users from list to add new data/ users\n        myItemsList.clear();\n\n        // getting all children from users root\n        for (DataSnapshot Requests : snapshot.getChildren()) {\n\n            // to prevent app crash check if the user has all the details in Firebase Database\n            if (Requests.hasChild(&quot;askfor&quot;) &amp;&amp; Requests.hasChild(&quot;tablet&quot;) &amp;&amp; Requests.hasChild(&quot;total&quot;)) {\n\n                // getting users details from Firebase Database and store into the List one by one\n                final String getaskfor = Requests.child(&quot;askfor&quot;).getValue(String.class);\n                final String gettablet = Requests.child(&quot;tablet&quot;).getValue(String.class);\n                final String gettotal = Requests.child(&quot;total&quot;).getValue(String.class);\n                // final String getproductName = Requests.child(&quot;productName&quot;).getValue(String.class);\n\n\n                String getproductName = &quot;null&quot;;\n                if (Requests.hasChild(&quot;foods&quot;)) {\n                    for (DataSnapshot foodSnapshot : Requests.child(&quot;foods&quot;).getChildren()) {\n                        getproductName = foodSnapshot.child(&quot;productName&quot;).getValue(String.class);\n                    }\n                }\n                // creating user item with user details\n                MyItems myItems = new MyItems(getaskfor, gettablet, gettotal, getproductName);\n\n                // adding this user item to List\n                myItemsList.add(myItems);\n                \n</code></pre>\n"},{"tags":["java","time","timezone","timezone-offset","gmt"],"comments":[{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1638375624,"post_id":70187005,"comment_id":124072675,"body_markdown":"Does anybody else have never convert to GMT values?","body":"Does anybody else have never convert to GMT values?"}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638378420,"creation_date":1638375616,"answer_id":70187710,"question_id":70187005,"body_markdown":"you can check this code below if return what you need:\r\n\r\n        public class Stackoverflow {\r\n        \r\n        public static void main(String[] args) {\r\n        \tList&lt;String&gt; gmt = getTimeZoneList(OffsetBase.GMT);\r\n        \t        gmt.forEach(System.out::println);\r\n        \r\n        }\r\n        \r\n        public static List&lt;String&gt; getTimeZoneList(OffsetBase base) {\r\n        \t \r\n            LocalDateTime now = LocalDateTime.now();\r\n            return ZoneId.getAvailableZoneIds().stream()\r\n              .map(ZoneId::of)\r\n              .sorted(new ZoneComparator())\r\n              .map(id -&gt; String.format(\r\n                &quot;(%s%s) %s&quot;, \r\n                base, getOffset(now, id), id.getId()))\r\n              .collect(Collectors.toList());\r\n        }\r\n        \r\n        private static String getOffset(LocalDateTime dateTime, ZoneId id) {\r\n            return dateTime\r\n              .atZone(id)\r\n              .getOffset()\r\n              .getId()\r\n              .replace(&quot;Z&quot;, &quot;+00:00&quot;);\r\n        }\r\n        \r\n        private static class ZoneComparator implements Comparator&lt;ZoneId&gt; {\r\n        \t\r\n        \t@Override\r\n        \tpublic int compare(ZoneId zoneId1, ZoneId zoneId2) {\r\n        \t\tLocalDateTime now = LocalDateTime.now();\r\n        \t\tZoneOffset offset1 = now.atZone(zoneId1).getOffset();\r\n        \t\tZoneOffset offset2 = now.atZone(zoneId2).getOffset();\r\n        \t\t\r\n        \t\treturn offset1.compareTo(offset2);\r\n        \t}\r\n        }\r\n        enum OffsetBase {\r\n        \tGMT, UTC\r\n        }\r\n       }\r\n\r\nthe result was as following :\r\n\r\n    (GMT+14:00) Pacific/Apia\r\n    (GMT+14:00) Pacific/Kiritimati\r\n    (GMT+14:00) Etc/GMT-14\r\n\r\n**this is just example as the list is very long**\r\n\r\n---\r\n**update** \r\nbased on requester, so to get GMT for specific zone id.\r\n\r\n    public static List&lt;String&gt; getTimeZoneList(OffsetBase base, String wantedZoneId) {\r\n\t\t \r\n\t    LocalDateTime now = LocalDateTime.now();\r\n\t    return ZoneId.getAvailableZoneIds().stream()\r\n\t      .map(ZoneId::of)\r\n\t      .sorted(new ZoneComparator())\r\n\t      .filter(zoneId -&gt; zoneId.getId().equals(wantedZoneId))\r\n\t      .map(id -&gt; String.format(\r\n\t        &quot;(%s%s) %s&quot;, \r\n\t        base, getOffset(now, id), id.getId()))\r\n\t      .collect(Collectors.toList());\r\n\t}\r\n\r\nthis function is the same, just add [ filter ] function","title":"Converting Time Zone to GMT values in Java 11","body":"<p>you can check this code below if return what you need:</p>\n<pre><code>    public class Stackoverflow {\n    \n    public static void main(String[] args) {\n        List&lt;String&gt; gmt = getTimeZoneList(OffsetBase.GMT);\n                gmt.forEach(System.out::println);\n    \n    }\n    \n    public static List&lt;String&gt; getTimeZoneList(OffsetBase base) {\n         \n        LocalDateTime now = LocalDateTime.now();\n        return ZoneId.getAvailableZoneIds().stream()\n          .map(ZoneId::of)\n          .sorted(new ZoneComparator())\n          .map(id -&gt; String.format(\n            &quot;(%s%s) %s&quot;, \n            base, getOffset(now, id), id.getId()))\n          .collect(Collectors.toList());\n    }\n    \n    private static String getOffset(LocalDateTime dateTime, ZoneId id) {\n        return dateTime\n          .atZone(id)\n          .getOffset()\n          .getId()\n          .replace(&quot;Z&quot;, &quot;+00:00&quot;);\n    }\n    \n    private static class ZoneComparator implements Comparator&lt;ZoneId&gt; {\n        \n        @Override\n        public int compare(ZoneId zoneId1, ZoneId zoneId2) {\n            LocalDateTime now = LocalDateTime.now();\n            ZoneOffset offset1 = now.atZone(zoneId1).getOffset();\n            ZoneOffset offset2 = now.atZone(zoneId2).getOffset();\n            \n            return offset1.compareTo(offset2);\n        }\n    }\n    enum OffsetBase {\n        GMT, UTC\n    }\n   }\n</code></pre>\n<p>the result was as following :</p>\n<pre><code>(GMT+14:00) Pacific/Apia\n(GMT+14:00) Pacific/Kiritimati\n(GMT+14:00) Etc/GMT-14\n</code></pre>\n<p><strong>this is just example as the list is very long</strong></p>\n<hr />\n<p><strong>update</strong>\nbased on requester, so to get GMT for specific zone id.</p>\n<pre><code>public static List&lt;String&gt; getTimeZoneList(OffsetBase base, String wantedZoneId) {\n     \n    LocalDateTime now = LocalDateTime.now();\n    return ZoneId.getAvailableZoneIds().stream()\n      .map(ZoneId::of)\n      .sorted(new ZoneComparator())\n      .filter(zoneId -&gt; zoneId.getId().equals(wantedZoneId))\n      .map(id -&gt; String.format(\n        &quot;(%s%s) %s&quot;, \n        base, getOffset(now, id), id.getId()))\n      .collect(Collectors.toList());\n}\n</code></pre>\n<p>this function is the same, just add [ filter ] function</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638432080,"creation_date":1638376703,"answer_id":70187984,"question_id":70187005,"body_markdown":"Let&#39;s say, you have the ids in a `Set&lt;String&gt;`, just like `ZoneId.getAvailableZoneIds()`.\r\n\r\nYou can use a `ZoneId` in order to create the current moment in time and format its offset as desired:\r\n\r\n```lang-java\r\npublic static void main(String[] args) throws IOException {\r\n\t// provide two formatters for the desired outputs GMT... and UTC...\r\n\tDateTimeFormatter gmtFormatter = DateTimeFormatter.ofPattern(&quot;OOOO&quot;);\r\n\tDateTimeFormatter utcFormatter = DateTimeFormatter.ofPattern(&quot;&#39;UTC&#39;xxx&quot;);\r\n\t// stream all the IDs (sorted) and create a ZonedDateTime at each ZoneId\r\n\tZoneId.getAvailableZoneIds().stream().sorted().forEach(zoneId -&gt; {\r\n\t\tZonedDateTime now = ZonedDateTime.now(ZoneId.of(zoneId));\r\n\t\t// then print the zone id and the other representations using the formatters\r\n\t\tSystem.out.println(\r\n\t\t\t\tString.format(&quot;%-32s %9s / %9s&quot;, \r\n\t\t\t\t\t\t\t\tzoneId.toString(), \r\n\t\t\t\t\t\t\t\tnow.format(gmtFormatter),\r\n\t\t\t\t\t\t\t\tnow.format(utcFormatter)\r\n\t\t\t\t));\r\n\t});\r\n}\r\n```\r\n\r\nThe first formatter only consider the zone in *GMT+/-HH:mm* representation and the second one just the literals *UTC* plus the offset as *+/-HH:mm*.\r\n\r\nThe (shortened!) output is\r\n\r\n```lang-none\r\nAfrica/Abidjan                         GMT / UTC+00:00\r\nAfrica/Accra                           GMT / UTC+00:00\r\nAfrica/Addis_Ababa               GMT+03:00 / UTC+03:00\r\nAfrica/Algiers                   GMT+01:00 / UTC+01:00\r\nAfrica/Asmara                    GMT+03:00 / UTC+03:00\r\nAfrica/Asmera                    GMT+03:00 / UTC+03:00\r\nAfrica/Bamako                          GMT / UTC+00:00\r\n...\r\nUS/Alaska                        GMT-09:00 / UTC-09:00\r\nUS/Aleutian                      GMT-10:00 / UTC-10:00\r\nUS/Arizona                       GMT-07:00 / UTC-07:00\r\nUS/Central                       GMT-06:00 / UTC-06:00\r\nUS/East-Indiana                  GMT-05:00 / UTC-05:00\r\nUS/Eastern                       GMT-05:00 / UTC-05:00\r\nUS/Hawaii                        GMT-10:00 / UTC-10:00\r\nUS/Indiana-Starke                GMT-06:00 / UTC-06:00\r\nUS/Michigan                      GMT-05:00 / UTC-05:00\r\nUS/Mountain                      GMT-07:00 / UTC-07:00\r\nUS/Pacific                       GMT-08:00 / UTC-08:00\r\nUS/Samoa                         GMT-11:00 / UTC-11:00\r\nUTC                                    GMT / UTC+00:00\r\nUniversal                              GMT / UTC+00:00\r\nW-SU                             GMT+03:00 / UTC+03:00\r\nWET                                    GMT / UTC+00:00\r\nZulu                                   GMT / UTC+00:00\r\n```\r\n---\r\nHere&#39;s an idea for your other requirement, listing cities for each offset:\r\n\r\n```lang-java\r\npublic static void main(String[] args) throws IOException {\r\n\t// provide two formatters for the desired outputs GMT... and UTC...\r\n\tDateTimeFormatter gmtFormatter = DateTimeFormatter.ofPattern(&quot;OOOO&quot;);\r\n\tDateTimeFormatter utcFormatter = DateTimeFormatter.ofPattern(&quot;&#39;UTC&#39;xxx&quot;);\r\n\t// get a map of zones grouped by offset\r\n\tMap&lt;ZoneId, List&lt;ZoneId&gt;&gt; zonesPerOffset = \r\n\t\t\tZoneId.getAvailableZoneIds().stream()\r\n\t\t\t\t\t\t\t\t\t\t.map(ZoneId::of)\r\n\t\t\t\t\t\t\t\t\t\t.collect(Collectors.toList())\r\n\t\t\t\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t\t\t\t\t.collect(Collectors.groupingBy(zoneId -&gt; ZonedDateTime.now(zoneId).getOffset()));\r\n\t// print them\r\n\tzonesPerOffset.forEach((offset, zones) -&gt; {\r\n\t\tString o = ZonedDateTime.now(zones.get(0)).format(utcFormatter);\r\n\t\tString zs = String.join(&quot;, &quot;, zones.stream().map(zone -&gt; {\r\n\t\t\tString[] idParts = zone.getId().split(&quot;/&quot;);\r\n\t\t\treturn idParts[idParts.length - 1];\r\n\t\t}).collect(Collectors.toList()));\r\n\t\tString out = String.format(&quot;(%9s) %s&quot;, o, zs);\r\n\t\tSystem.out.println(out);\r\n\t});\r\n}\r\n```\r\nOutput (shortened):\r\n\r\n```lang-none\r\n(UTC+04:00) Yerevan, GMT-4, Dubai, Reunion, Mauritius, Saratov, Samara, Mahe, Baku, Muscat, Volgograd, Astrakhan, Tbilisi, Ulyanovsk\r\n(UTC+00:00) London, GMT, GMT-0, Jersey, St_Helena, Guernsey, Isle_of_Man, GMT+0, Banjul, GMT, Freetown, GB-Eire, Bamako, GB, Conakry, Portugal, Universal, Sao_Tome, Nouakchott, Troll, UTC, Universal, Faeroe, Abidjan, Eire, Accra, Faroe, UCT, GMT0, Dublin, Zulu, Ouagadougou, Reykjavik, Madeira, Zulu, Iceland, Lisbon, Canary, Lome, Greenwich, Belfast, GMT0, Danmarkshavn, Dakar, Bissau, WET, Greenwich, Timbuktu, UCT, Monrovia, UTC\r\n(UTC+08:00) Kuching, Chungking, GMT-8, Perth, Macao, Macau, Choibalsan, Shanghai, Ulan_Bator, Chongqing, Ulaanbaatar, Taipei, Manila, PRC, Ujung_Pandang, Harbin, Singapore, Brunei, West, Hong_Kong, Makassar, Hongkong, Kuala_Lumpur, Irkutsk, Singapore\r\n(UTC+12:00) Kwajalein, Wallis, Funafuti, Nauru, Kwajalein, Wake, Norfolk, Tarawa, Kamchatka, GMT-12, Anadyr, Majuro\r\n```\r\n\r\nDoesn&#39;t look that well this way, but you can apply filters as desired. Maybe remove elements with leading *UTC* and more, maybe filter out specific continents, whatever.\r\n\r\n---\r\nAs methods:\r\n---\r\n```lang-java\r\npublic static ZoneOffset getOffsetOf(ZoneId zoneId) {\r\n\treturn ZonedDateTime.now(zoneId).getOffset();\r\n}\r\n\r\n// this one may throw an Exception if you pass an invalid zoneId as String!\r\npublic static ZoneOffset getOffsetOf(String zoneId) {\r\n\treturn ZonedDateTime.now(ZoneId.of(zoneId)).getOffset();\r\n}\r\n\r\npublic static List&lt;ZoneId&gt; getAllZoneIdsWith(ZoneOffset zoneOffset) {\r\n\treturn ZoneId.getAvailableZoneIds()\r\n\t\t\t\t .stream()\r\n\t\t\t\t .filter(zoneId -&gt; ZonedDateTime.now(ZoneId.of(zoneId))\r\n                                                .getOffset().equals(zoneOffset))\r\n\t\t\t\t .map(ZoneId::of)\r\n\t\t\t\t .collect(Collectors.toList());\r\n}\r\n\r\npublic static String getGmtFormat(ZoneId zoneId) {\r\n\treturn String.format(&quot;(%s) %s&quot;,\r\n\t\t\t\t\t\tZonedDateTime.now(zoneId)\r\n\t\t\t\t\t\t\t\t\t .format(DateTimeFormatter.ofPattern(&quot;OOOO&quot;)),\r\n\t\t\t\t\t\tzoneId.getId());\r\n}\r\n```\r\n\r\nUse the last method in order to get the GMT formats of all available `ZoneId`s:\r\n\r\n```lang-java\r\nList&lt;String&gt; gmtFormats = ZoneId.getAvailableZoneIds()\r\n\t\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t\t\t.map(zone -&gt; getGmtFormat(ZoneId.of(zone)))\r\n\t\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n```","title":"Converting Time Zone to GMT values in Java 11","body":"<p>Let's say, you have the ids in a <code>Set&lt;String&gt;</code>, just like <code>ZoneId.getAvailableZoneIds()</code>.</p>\n<p>You can use a <code>ZoneId</code> in order to create the current moment in time and format its offset as desired:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    // provide two formatters for the desired outputs GMT... and UTC...\n    DateTimeFormatter gmtFormatter = DateTimeFormatter.ofPattern(&quot;OOOO&quot;);\n    DateTimeFormatter utcFormatter = DateTimeFormatter.ofPattern(&quot;'UTC'xxx&quot;);\n    // stream all the IDs (sorted) and create a ZonedDateTime at each ZoneId\n    ZoneId.getAvailableZoneIds().stream().sorted().forEach(zoneId -&gt; {\n        ZonedDateTime now = ZonedDateTime.now(ZoneId.of(zoneId));\n        // then print the zone id and the other representations using the formatters\n        System.out.println(\n                String.format(&quot;%-32s %9s / %9s&quot;, \n                                zoneId.toString(), \n                                now.format(gmtFormatter),\n                                now.format(utcFormatter)\n                ));\n    });\n}\n</code></pre>\n<p>The first formatter only consider the zone in <em>GMT+/-HH:mm</em> representation and the second one just the literals <em>UTC</em> plus the offset as <em>+/-HH:mm</em>.</p>\n<p>The (shortened!) output is</p>\n<pre class=\"lang-none prettyprint-override\"><code>Africa/Abidjan                         GMT / UTC+00:00\nAfrica/Accra                           GMT / UTC+00:00\nAfrica/Addis_Ababa               GMT+03:00 / UTC+03:00\nAfrica/Algiers                   GMT+01:00 / UTC+01:00\nAfrica/Asmara                    GMT+03:00 / UTC+03:00\nAfrica/Asmera                    GMT+03:00 / UTC+03:00\nAfrica/Bamako                          GMT / UTC+00:00\n...\nUS/Alaska                        GMT-09:00 / UTC-09:00\nUS/Aleutian                      GMT-10:00 / UTC-10:00\nUS/Arizona                       GMT-07:00 / UTC-07:00\nUS/Central                       GMT-06:00 / UTC-06:00\nUS/East-Indiana                  GMT-05:00 / UTC-05:00\nUS/Eastern                       GMT-05:00 / UTC-05:00\nUS/Hawaii                        GMT-10:00 / UTC-10:00\nUS/Indiana-Starke                GMT-06:00 / UTC-06:00\nUS/Michigan                      GMT-05:00 / UTC-05:00\nUS/Mountain                      GMT-07:00 / UTC-07:00\nUS/Pacific                       GMT-08:00 / UTC-08:00\nUS/Samoa                         GMT-11:00 / UTC-11:00\nUTC                                    GMT / UTC+00:00\nUniversal                              GMT / UTC+00:00\nW-SU                             GMT+03:00 / UTC+03:00\nWET                                    GMT / UTC+00:00\nZulu                                   GMT / UTC+00:00\n</code></pre>\n<hr />\n<p>Here's an idea for your other requirement, listing cities for each offset:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    // provide two formatters for the desired outputs GMT... and UTC...\n    DateTimeFormatter gmtFormatter = DateTimeFormatter.ofPattern(&quot;OOOO&quot;);\n    DateTimeFormatter utcFormatter = DateTimeFormatter.ofPattern(&quot;'UTC'xxx&quot;);\n    // get a map of zones grouped by offset\n    Map&lt;ZoneId, List&lt;ZoneId&gt;&gt; zonesPerOffset = \n            ZoneId.getAvailableZoneIds().stream()\n                                        .map(ZoneId::of)\n                                        .collect(Collectors.toList())\n                                        .stream()\n                                        .collect(Collectors.groupingBy(zoneId -&gt; ZonedDateTime.now(zoneId).getOffset()));\n    // print them\n    zonesPerOffset.forEach((offset, zones) -&gt; {\n        String o = ZonedDateTime.now(zones.get(0)).format(utcFormatter);\n        String zs = String.join(&quot;, &quot;, zones.stream().map(zone -&gt; {\n            String[] idParts = zone.getId().split(&quot;/&quot;);\n            return idParts[idParts.length - 1];\n        }).collect(Collectors.toList()));\n        String out = String.format(&quot;(%9s) %s&quot;, o, zs);\n        System.out.println(out);\n    });\n}\n</code></pre>\n<p>Output (shortened):</p>\n<pre class=\"lang-none prettyprint-override\"><code>(UTC+04:00) Yerevan, GMT-4, Dubai, Reunion, Mauritius, Saratov, Samara, Mahe, Baku, Muscat, Volgograd, Astrakhan, Tbilisi, Ulyanovsk\n(UTC+00:00) London, GMT, GMT-0, Jersey, St_Helena, Guernsey, Isle_of_Man, GMT+0, Banjul, GMT, Freetown, GB-Eire, Bamako, GB, Conakry, Portugal, Universal, Sao_Tome, Nouakchott, Troll, UTC, Universal, Faeroe, Abidjan, Eire, Accra, Faroe, UCT, GMT0, Dublin, Zulu, Ouagadougou, Reykjavik, Madeira, Zulu, Iceland, Lisbon, Canary, Lome, Greenwich, Belfast, GMT0, Danmarkshavn, Dakar, Bissau, WET, Greenwich, Timbuktu, UCT, Monrovia, UTC\n(UTC+08:00) Kuching, Chungking, GMT-8, Perth, Macao, Macau, Choibalsan, Shanghai, Ulan_Bator, Chongqing, Ulaanbaatar, Taipei, Manila, PRC, Ujung_Pandang, Harbin, Singapore, Brunei, West, Hong_Kong, Makassar, Hongkong, Kuala_Lumpur, Irkutsk, Singapore\n(UTC+12:00) Kwajalein, Wallis, Funafuti, Nauru, Kwajalein, Wake, Norfolk, Tarawa, Kamchatka, GMT-12, Anadyr, Majuro\n</code></pre>\n<p>Doesn't look that well this way, but you can apply filters as desired. Maybe remove elements with leading <em>UTC</em> and more, maybe filter out specific continents, whatever.</p>\n<hr />\n<h2>As methods:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public static ZoneOffset getOffsetOf(ZoneId zoneId) {\n    return ZonedDateTime.now(zoneId).getOffset();\n}\n\n// this one may throw an Exception if you pass an invalid zoneId as String!\npublic static ZoneOffset getOffsetOf(String zoneId) {\n    return ZonedDateTime.now(ZoneId.of(zoneId)).getOffset();\n}\n\npublic static List&lt;ZoneId&gt; getAllZoneIdsWith(ZoneOffset zoneOffset) {\n    return ZoneId.getAvailableZoneIds()\n                 .stream()\n                 .filter(zoneId -&gt; ZonedDateTime.now(ZoneId.of(zoneId))\n                                                .getOffset().equals(zoneOffset))\n                 .map(ZoneId::of)\n                 .collect(Collectors.toList());\n}\n\npublic static String getGmtFormat(ZoneId zoneId) {\n    return String.format(&quot;(%s) %s&quot;,\n                        ZonedDateTime.now(zoneId)\n                                     .format(DateTimeFormatter.ofPattern(&quot;OOOO&quot;)),\n                        zoneId.getId());\n}\n</code></pre>\n<p>Use the last method in order to get the GMT formats of all available <code>ZoneId</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; gmtFormats = ZoneId.getAvailableZoneIds()\n                                .stream()\n                                .map(zone -&gt; getGmtFormat(ZoneId.of(zone)))\n                                .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"display_name":"user17186249"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70187984,"answer_count":2,"score":-1,"last_activity_date":1654000850,"creation_date":1638372839,"question_id":70187005,"body_markdown":"We keep time zones of the cities in our config table using **ID of Time Zone** values as `Europe/London`, `Asia/Tokyo`, etc. However, when selecting time zones from the list, user needs to see the GMT values for these time zones and we want to display **Display Name of Time Zone Options** as `(UTC+00:00) Dublin, Edinburgh, Lisbon, London` rather than `Europe/London`. As we know, the GMT values are not fixed and we should make some conversion in order to display the current time zone display value. So, how could I do this in Java? \r\n\r\n","title":"Converting Time Zone to GMT values in Java 11","body":"<p>We keep time zones of the cities in our config table using <strong>ID of Time Zone</strong> values as <code>Europe/London</code>, <code>Asia/Tokyo</code>, etc. However, when selecting time zones from the list, user needs to see the GMT values for these time zones and we want to display <strong>Display Name of Time Zone Options</strong> as <code>(UTC+00:00) Dublin, Edinburgh, Lisbon, London</code> rather than <code>Europe/London</code>. As we know, the GMT values are not fixed and we should make some conversion in order to display the current time zone display value. So, how could I do this in Java?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1654005861,"post_id":72447727,"comment_id":127985815,"body_markdown":"You mix two different concepts, that of a certification signature (**DocMDP** transform) and that of locking fields while signing (**FieldMDP** transform). By its letter the PDF specification appears to allow adding both transforms to the same signature field but I&#39;ve neither seen that in a real life PDF yet nor is that the use case the specifications requires PDF writers to support in section 12.8.2.4 &quot;FieldMDP&quot; (ISO 32000-2). What you can do, of course, is set the signature field to *read-only* and its widget to *locked* in the course of adding the certification signature.","body":"You mix two different concepts, that of a certification signature (<b>DocMDP</b> transform) and that of locking fields while signing (<b>FieldMDP</b> transform). By its letter the PDF specification appears to allow adding both transforms to the same signature field but I&#39;ve neither seen that in a real life PDF yet nor is that the use case the specifications requires PDF writers to support in section 12.8.2.4 &quot;FieldMDP&quot; (ISO 32000-2). What you can do, of course, is set the signature field to <i>read-only</i> and its widget to <i>locked</i> in the course of adding the certification signature."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1654138086,"post_id":72447727,"comment_id":128021642,"body_markdown":"yes I tried to do that, but with what I&#39;ve tried it doesn&#39;t work, refer to this [link](https://stackoverflow.com/questions/54596361/pdf-signing-by-pdfbox-with-lock) to add lock dictionary but doesn&#39;t work","body":"yes I tried to do that, but with what I&#39;ve tried it doesn&#39;t work, refer to this <a href=\"https://stackoverflow.com/questions/54596361/pdf-signing-by-pdfbox-with-lock\">link</a> to add lock dictionary but doesn&#39;t work"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1654144018,"post_id":72447727,"comment_id":128022402,"body_markdown":"i mean there success with certify but not with lock the field","body":"i mean there success with certify but not with lock the field"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1654145129,"post_id":72447727,"comment_id":128022572,"body_markdown":"i try implement FieldMDP got message _Appearance generation for signature fields not yet implemented - you need to generate/update that manually_ but on example CreateVisibleSignature.java there are no example","body":"i try implement FieldMDP got message <i>Appearance generation for signature fields not yet implemented - you need to generate/update that manually</i> but on example CreateVisibleSignature.java there are no example"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1654155199,"post_id":72447727,"comment_id":128025136,"body_markdown":"*&quot;i mean there success with certify but not with lock the field&quot;* - Well, you should decide, do you want your signature to certify (**DocMDP** transform) or to lock (**FieldMDP** transform). I recommend applying only a single transform per signature.","body":"<i>&quot;i mean there success with certify but not with lock the field&quot;</i> - Well, you should decide, do you want your signature to certify (<b>DocMDP</b> transform) or to lock (<b>FieldMDP</b> transform). I recommend applying only a single transform per signature."}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654000835,"creation_date":1653999775,"question_id":72447727,"body_markdown":"Use PDFBox 2.0.25 tryng to\r\n\r\n 1. certify with ***P*** set 2\r\n 2. lock the certify signature\r\n\r\n sample code is from example `CreateVisibleSignature.java` from `signPDF()` function\r\n\r\nsample code \r\n\r\n     public boolean signPDF(File inputFile, File signedFile,  Rectangle2D humanRect, String tsaUrl, int page, String SignatureField, boolean isWithQR, String name, UserSignature userSignature) throws IOException, CertificateEncodingException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\r\n        if (inputFile == null || !inputFile.exists()) {\r\n            throw new IOException(&quot;Document for signing does not exist&quot;);\r\n        }\r\n\r\n        setTsaUrl(tsaUrl);\r\n\r\n        // creating output document and prepare the IO streams.\r\n        FileOutputStream fos = new FileOutputStream(signedFile);\r\n\r\n        // load document\r\n        doc = PDDocument.load(inputFile);\r\n\r\n        int accessPermissions = SigUtils.getMDPPermission(doc);\r\n        LogSystem.info(&quot;Document permission &quot; + accessPermissions);\r\n        if (accessPermissions == 1) {\r\n            throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\r\n        }\r\n        // Note that PDFBox has a bug that visual signing on certified files with permission 2\r\n        // doesn&#39;t work properly, see PDFBOX-3699. As long as this issue is open, you may want to\r\n        // be careful with such files.\r\n\r\n        PDSignature signature = null;\r\n        PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm(null);\r\n        PDRectangle rect = null;\r\n\r\n        // sign a PDF with an existing empty signature, as created by the CreateEmptySignatureForm example.\r\n        String defaultSignatureField=&quot;Signature1&quot;;\r\n        if (acroForm != null) {\r\n            signature = findExistingSignature(acroForm, defaultSignatureField);\r\n            if (signature != null) {\r\n                rect = acroForm.getField(defaultSignatureField).getWidgets().get(0).getRectangle();\r\n            }\r\n        }\r\n\r\n        if (signature == null) {\r\n            // create signature dictionary\r\n            signature = new PDSignature();\r\n        }\r\n\r\n\r\n        if (rect == null) {\r\n            rect = createSignatureRectangle(doc, humanRect);\r\n        }\r\n\r\n\r\n\r\n        if (acroForm != null &amp;&amp; acroForm.getNeedAppearances()) {\r\n            // PDFBOX-3738 NeedAppearances true results in visible signature becoming invisible\r\n            // with Adobe Reader\r\n            if (acroForm.getFields().isEmpty()) {\r\n                // we can safely delete it if there are no fields\r\n                acroForm.getCOSObject().removeItem(COSName.NEED_APPEARANCES);\r\n                // note that if you&#39;ve set MDP permissions, the removal of this item\r\n                // may result in Adobe Reader claiming that the document has been changed.\r\n                // and/or that field content won&#39;t be displayed properly.\r\n                // ==&gt; decide what you prefer and adjust your code accordingly.\r\n            } else {\r\n                System.out.println(&quot;/NeedAppearances is set, signature may be ignored by Adobe Reader&quot;);\r\n            }\r\n        }\r\n\r\n        boolean lockField = false;\r\n        // register signature dictionary and sign interface\r\n        signatureOptions = new SignatureOptions();\r\n\r\n        signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, 0, rect, signature, isWithQR, name, userSignature.getDescOnly(), userSignature.getType(), userSignature.isVisible(), lockField));\r\n        signatureOptions.setPage(page);\r\n        signatureOptions.setPreferredSignatureSize(20000);\r\n\r\n        // Optional: certify\r\n        // can be done only if version is at least 1.5 and if not already set\r\n        // doing this on a PDF/A-1b file fails validation by Adobe preflight (PDFBOX-3821)\r\n        // PDF/A-1b requires PDF version 1.4 max, so don&#39;t increase the version on such files.\r\n        if(userSignature.getType().equals(&quot;seal&quot;))\r\n        {\r\n\r\n                    PDSignatureField signatureField = doc.getSignatureFields().get(doc.getSignatureFields().size()-1);\r\n\r\n                    COSDictionary lockDict = new COSDictionary();\r\n                    lockDict.setItem(COSName.TYPE, COS_NAME_SIG_FIELD_LOCK);\r\n                    lockDict.setItem(COS_NAME_ACTION, COS_NAME_EXCLUDE);\r\n\r\n                    COSArray lockFields = new COSArray();\r\n                    lockFields.add(new COSString(&quot;textbox1&quot;));\r\n\r\n                    lockDict.setItem(COSName.FIELDS, lockFields);\r\n\r\n                    signatureField.getCOSObject().setItem(COS_NAME_LOCK, lockDict);\r\n\r\n                    COSDictionary sigDict = signature.getCOSObject();\r\n                    COSDictionary transformParameters = new COSDictionary(lockDict);\r\n                    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n                    transformParameters.setInt(COSName.P, 2);\r\n                    transformParameters.setNeedToBeUpdated(true);\r\n                    transformParameters.setDirect(true);\r\n\r\n                    COSDictionary referenceDict = new COSDictionary();\r\n                    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n                    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n                    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n                    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n                    referenceDict.setNeedToBeUpdated(true);\r\n                    referenceDict.setDirect(true);\r\n\r\n                    COSArray referenceArray = new COSArray();\r\n                    referenceArray.add(referenceDict);\r\n                    sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n                    sigDict.setItem(COS_NAME_LOCK, lockDict);\r\n                    referenceArray.setNeedToBeUpdated(true);\r\n\r\n                    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n                    COSDictionary permsDict = new COSDictionary();\r\n                    catalogDict.setItem(COSName.PERMS, permsDict);\r\n                    permsDict.setItem(COSName.DOCMDP, signature);\r\n                    catalogDict.setNeedToBeUpdated(true);\r\n                    permsDict.setNeedToBeUpdated(true);\r\n\r\n                    setValidation(false);\r\n\r\n                    final Predicate&lt;PDField&gt; shallBeLocked;\r\n                    final COSArray fields = lockDict.getCOSArray(COSName.FIELDS);\r\n                    final List&lt;String&gt; fieldNames = fields == null ? Collections.emptyList() :\r\n                            fields.toList().stream().filter(c -&gt; (c instanceof COSString)).map(s -&gt; ((COSString)s).getString()).collect(Collectors.toList());\r\n                    final COSName action = lockDict.getCOSName(COSName.getPDFName(&quot;Action&quot;));\r\n                    if (action.equals(COSName.getPDFName(&quot;Include&quot;))) {\r\n                        shallBeLocked = f -&gt; fieldNames.contains(f.getFullyQualifiedName());\r\n                    } else if (action.equals(COSName.getPDFName(&quot;Exclude&quot;))) {\r\n                        shallBeLocked = f -&gt; !fieldNames.contains(f.getFullyQualifiedName());\r\n                    } else if (action.equals(COSName.getPDFName(&quot;All&quot;))) {\r\n                        shallBeLocked = f -&gt; true;\r\n                    } else { // unknown action, lock nothing\r\n                        shallBeLocked = f -&gt; false;\r\n                    }\r\n                    lockFields(doc.getDocumentCatalog().getAcroForm().getFields(), shallBeLocked);\r\n                \r\n            }\r\n        }\r\n\r\n        // default filter\r\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n\r\n        // subfilter for basic and PAdES Part 2 signatures\r\n        signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n\r\n        signature.setName(&quot;Name&quot;);\r\n        signature.setLocation(&quot;location&quot;);\r\n        if(userSignature.getType().equals(&quot;initials&quot;))\r\n        {\r\n            this.setExternalSigning(true);\r\n            signature.setReason(&quot;Agree&quot;);\r\n        }\r\n        if(userSignature.getType().equals(&quot;sign&quot;))\r\n        {\r\n            this.setExternalSigning(true);\r\n            signature.setReason(&quot;&quot;&quot;);\r\n        }\r\n        if(userSignature.getType().equals(&quot;seal&quot;))\r\n        {\r\n            this.setExternalSigning(true);\r\n            signature.setReason(&quot;);\r\n        }\r\n\r\n        // the signing date, needed for valid signature\r\n        signature.setSignDate(Calendar.getInstance());\r\n\r\n        // do not set SignatureInterface instance, if external signing used\r\n        SignatureInterface signatureInterface = isExternalSigning() ? null : this;\r\n\r\n     \r\n        doc.addSignature(signature, signatureInterface, signatureOptions);\r\n\r\n        doc.getDocumentCatalog().getAcroForm().getField(&quot;Signature1&quot;).setPartialName(SignatureField);\r\n\r\n        if (isExternalSigning()) {\r\n            this.tsaUrl=tsaUrl;\r\n\r\n            ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n\r\n            // invoke external signature service\r\n            byte[] cmsSignature =IOUtils.toByteArray(externalSigning.getContent());\r\n            String sgn=null;\r\n            try {\r\n                sgn = signingProcess(cmsSignature);\r\n            }catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n                doc.close();\r\n                return false;\r\n            }\r\n\r\n            // set signature bytes received from the service\r\n            if (sgn != null)\r\n            {\r\n                externalSigning.setSignature(attachSignature(sgn));\r\n            }\r\n            else\r\n            {\r\n                return false;\r\n            }\r\n\r\n        } else {\r\n            // write incremental (only for signing purpose)\r\n            doc.saveIncremental(fos);\r\n        }\r\n        doc.close();\r\n\r\n\r\n        // Do not close signatureOptions before saving, because some COSStream objects within\r\n        // are transferred to the signed document.\r\n        // Do not allow signatureOptions get out of scope before saving, because then the COSDocument\r\n        // in signature options might by closed by gc, which would close COSStream objects prematurely.\r\n        // See https://issues.apache.org/jira/browse/PDFBOX-3743\r\n        IOUtils.closeQuietly(signatureOptions);\r\n        return true;\r\n    }\r\n\r\n\r\nin section \r\n\r\n    if(userSignature.getType().equals(&quot;seal&quot;))\r\n\r\nthere i set lock dictionary and certify with **P** to 2\r\n\r\n    PDSignatureField signatureField = doc.getSignatureFields().get(doc.getSignatureFields().size()-1);\r\n\r\n                    COSDictionary lockDict = new COSDictionary();\r\n                    lockDict.setItem(COSName.TYPE, COS_NAME_SIG_FIELD_LOCK);\r\n                    lockDict.setItem(COS_NAME_ACTION, COS_NAME_EXCLUDE);\r\n\r\n                    COSArray lockFields = new COSArray();\r\n                    lockFields.add(new COSString(&quot;textbox1&quot;));\r\n\r\n                    lockDict.setItem(COSName.FIELDS, lockFields);\r\n\r\n                    signatureField.getCOSObject().setItem(COS_NAME_LOCK, lockDict);\r\n\r\n                    COSDictionary sigDict = signature.getCOSObject();\r\n                    COSDictionary transformParameters = new COSDictionary(lockDict);\r\n                    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n                    transformParameters.setInt(COSName.P, 2);\r\n                    transformParameters.setNeedToBeUpdated(true);\r\n                    transformParameters.setDirect(true);\r\n\r\n                    COSDictionary referenceDict = new COSDictionary();\r\n                    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n                    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n                    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n                    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n                    referenceDict.setNeedToBeUpdated(true);\r\n                    referenceDict.setDirect(true);\r\n\r\n                    COSArray referenceArray = new COSArray();\r\n                    referenceArray.add(referenceDict);\r\n                    sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n                    sigDict.setItem(COS_NAME_LOCK, lockDict);\r\n                    referenceArray.setNeedToBeUpdated(true);\r\n\r\n                    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n                    COSDictionary permsDict = new COSDictionary();\r\n                    catalogDict.setItem(COSName.PERMS, permsDict);\r\n                    permsDict.setItem(COSName.DOCMDP, signature);\r\n                    catalogDict.setNeedToBeUpdated(true);\r\n                    permsDict.setNeedToBeUpdated(true);\r\n\r\n                    setValidation(false);\r\n\r\n                    final Predicate&lt;PDField&gt; shallBeLocked;\r\n                    final COSArray fields = lockDict.getCOSArray(COSName.FIELDS);\r\n                    final List&lt;String&gt; fieldNames = fields == null ? Collections.emptyList() :\r\n                            fields.toList().stream().filter(c -&gt; (c instanceof COSString)).map(s -&gt; ((COSString)s).getString()).collect(Collectors.toList());\r\n                    final COSName action = lockDict.getCOSName(COSName.getPDFName(&quot;Action&quot;));\r\n                    if (action.equals(COSName.getPDFName(&quot;Include&quot;))) {\r\n                        shallBeLocked = f -&gt; fieldNames.contains(f.getFullyQualifiedName());\r\n                    } else if (action.equals(COSName.getPDFName(&quot;Exclude&quot;))) {\r\n                        shallBeLocked = f -&gt; !fieldNames.contains(f.getFullyQualifiedName());\r\n                    } else if (action.equals(COSName.getPDFName(&quot;All&quot;))) {\r\n                        shallBeLocked = f -&gt; true;\r\n                    } else { // unknown action, lock nothing\r\n                        shallBeLocked = f -&gt; false;\r\n                    }\r\n                    lockFields(doc.getDocumentCatalog().getAcroForm().getFields(), shallBeLocked);\r\n\r\n\r\n\r\ni assume the SignatureField add more data from function `createVisualSignatureTemplate()` then i get with `doc.getSignatureFields().get(doc.getSignatureFields().size()-1)`\r\n\r\n\r\nbut the new SignatureField not yet exist, what i miss ? the result certify signature successfull created but the lock not successful\r\n\r\n[![certify][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mfxXB.png","title":"Add lock Dictionary on Certify Signature PDFBox","body":"<p>Use PDFBox 2.0.25 tryng to</p>\n<ol>\n<li>certify with <em><strong>P</strong></em> set 2</li>\n<li>lock the certify signature</li>\n</ol>\n<p>sample code is from example <code>CreateVisibleSignature.java</code> from <code>signPDF()</code> function</p>\n<p>sample code</p>\n<pre><code> public boolean signPDF(File inputFile, File signedFile,  Rectangle2D humanRect, String tsaUrl, int page, String SignatureField, boolean isWithQR, String name, UserSignature userSignature) throws IOException, CertificateEncodingException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\n    if (inputFile == null || !inputFile.exists()) {\n        throw new IOException(&quot;Document for signing does not exist&quot;);\n    }\n\n    setTsaUrl(tsaUrl);\n\n    // creating output document and prepare the IO streams.\n    FileOutputStream fos = new FileOutputStream(signedFile);\n\n    // load document\n    doc = PDDocument.load(inputFile);\n\n    int accessPermissions = SigUtils.getMDPPermission(doc);\n    LogSystem.info(&quot;Document permission &quot; + accessPermissions);\n    if (accessPermissions == 1) {\n        throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\n    }\n    // Note that PDFBox has a bug that visual signing on certified files with permission 2\n    // doesn't work properly, see PDFBOX-3699. As long as this issue is open, you may want to\n    // be careful with such files.\n\n    PDSignature signature = null;\n    PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm(null);\n    PDRectangle rect = null;\n\n    // sign a PDF with an existing empty signature, as created by the CreateEmptySignatureForm example.\n    String defaultSignatureField=&quot;Signature1&quot;;\n    if (acroForm != null) {\n        signature = findExistingSignature(acroForm, defaultSignatureField);\n        if (signature != null) {\n            rect = acroForm.getField(defaultSignatureField).getWidgets().get(0).getRectangle();\n        }\n    }\n\n    if (signature == null) {\n        // create signature dictionary\n        signature = new PDSignature();\n    }\n\n\n    if (rect == null) {\n        rect = createSignatureRectangle(doc, humanRect);\n    }\n\n\n\n    if (acroForm != null &amp;&amp; acroForm.getNeedAppearances()) {\n        // PDFBOX-3738 NeedAppearances true results in visible signature becoming invisible\n        // with Adobe Reader\n        if (acroForm.getFields().isEmpty()) {\n            // we can safely delete it if there are no fields\n            acroForm.getCOSObject().removeItem(COSName.NEED_APPEARANCES);\n            // note that if you've set MDP permissions, the removal of this item\n            // may result in Adobe Reader claiming that the document has been changed.\n            // and/or that field content won't be displayed properly.\n            // ==&gt; decide what you prefer and adjust your code accordingly.\n        } else {\n            System.out.println(&quot;/NeedAppearances is set, signature may be ignored by Adobe Reader&quot;);\n        }\n    }\n\n    boolean lockField = false;\n    // register signature dictionary and sign interface\n    signatureOptions = new SignatureOptions();\n\n    signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, 0, rect, signature, isWithQR, name, userSignature.getDescOnly(), userSignature.getType(), userSignature.isVisible(), lockField));\n    signatureOptions.setPage(page);\n    signatureOptions.setPreferredSignatureSize(20000);\n\n    // Optional: certify\n    // can be done only if version is at least 1.5 and if not already set\n    // doing this on a PDF/A-1b file fails validation by Adobe preflight (PDFBOX-3821)\n    // PDF/A-1b requires PDF version 1.4 max, so don't increase the version on such files.\n    if(userSignature.getType().equals(&quot;seal&quot;))\n    {\n\n                PDSignatureField signatureField = doc.getSignatureFields().get(doc.getSignatureFields().size()-1);\n\n                COSDictionary lockDict = new COSDictionary();\n                lockDict.setItem(COSName.TYPE, COS_NAME_SIG_FIELD_LOCK);\n                lockDict.setItem(COS_NAME_ACTION, COS_NAME_EXCLUDE);\n\n                COSArray lockFields = new COSArray();\n                lockFields.add(new COSString(&quot;textbox1&quot;));\n\n                lockDict.setItem(COSName.FIELDS, lockFields);\n\n                signatureField.getCOSObject().setItem(COS_NAME_LOCK, lockDict);\n\n                COSDictionary sigDict = signature.getCOSObject();\n                COSDictionary transformParameters = new COSDictionary(lockDict);\n                transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n                transformParameters.setInt(COSName.P, 2);\n                transformParameters.setNeedToBeUpdated(true);\n                transformParameters.setDirect(true);\n\n                COSDictionary referenceDict = new COSDictionary();\n                referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n                referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n                referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n                referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n                referenceDict.setNeedToBeUpdated(true);\n                referenceDict.setDirect(true);\n\n                COSArray referenceArray = new COSArray();\n                referenceArray.add(referenceDict);\n                sigDict.setItem(COSName.REFERENCE, referenceArray);\n                sigDict.setItem(COS_NAME_LOCK, lockDict);\n                referenceArray.setNeedToBeUpdated(true);\n\n                COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n                COSDictionary permsDict = new COSDictionary();\n                catalogDict.setItem(COSName.PERMS, permsDict);\n                permsDict.setItem(COSName.DOCMDP, signature);\n                catalogDict.setNeedToBeUpdated(true);\n                permsDict.setNeedToBeUpdated(true);\n\n                setValidation(false);\n\n                final Predicate&lt;PDField&gt; shallBeLocked;\n                final COSArray fields = lockDict.getCOSArray(COSName.FIELDS);\n                final List&lt;String&gt; fieldNames = fields == null ? Collections.emptyList() :\n                        fields.toList().stream().filter(c -&gt; (c instanceof COSString)).map(s -&gt; ((COSString)s).getString()).collect(Collectors.toList());\n                final COSName action = lockDict.getCOSName(COSName.getPDFName(&quot;Action&quot;));\n                if (action.equals(COSName.getPDFName(&quot;Include&quot;))) {\n                    shallBeLocked = f -&gt; fieldNames.contains(f.getFullyQualifiedName());\n                } else if (action.equals(COSName.getPDFName(&quot;Exclude&quot;))) {\n                    shallBeLocked = f -&gt; !fieldNames.contains(f.getFullyQualifiedName());\n                } else if (action.equals(COSName.getPDFName(&quot;All&quot;))) {\n                    shallBeLocked = f -&gt; true;\n                } else { // unknown action, lock nothing\n                    shallBeLocked = f -&gt; false;\n                }\n                lockFields(doc.getDocumentCatalog().getAcroForm().getFields(), shallBeLocked);\n            \n        }\n    }\n\n    // default filter\n    signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n\n    // subfilter for basic and PAdES Part 2 signatures\n    signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n\n    signature.setName(&quot;Name&quot;);\n    signature.setLocation(&quot;location&quot;);\n    if(userSignature.getType().equals(&quot;initials&quot;))\n    {\n        this.setExternalSigning(true);\n        signature.setReason(&quot;Agree&quot;);\n    }\n    if(userSignature.getType().equals(&quot;sign&quot;))\n    {\n        this.setExternalSigning(true);\n        signature.setReason(&quot;&quot;&quot;);\n    }\n    if(userSignature.getType().equals(&quot;seal&quot;))\n    {\n        this.setExternalSigning(true);\n        signature.setReason(&quot;);\n    }\n\n    // the signing date, needed for valid signature\n    signature.setSignDate(Calendar.getInstance());\n\n    // do not set SignatureInterface instance, if external signing used\n    SignatureInterface signatureInterface = isExternalSigning() ? null : this;\n\n \n    doc.addSignature(signature, signatureInterface, signatureOptions);\n\n    doc.getDocumentCatalog().getAcroForm().getField(&quot;Signature1&quot;).setPartialName(SignatureField);\n\n    if (isExternalSigning()) {\n        this.tsaUrl=tsaUrl;\n\n        ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n\n        // invoke external signature service\n        byte[] cmsSignature =IOUtils.toByteArray(externalSigning.getContent());\n        String sgn=null;\n        try {\n            sgn = signingProcess(cmsSignature);\n        }catch(Exception e)\n        {\n            e.printStackTrace();\n            doc.close();\n            return false;\n        }\n\n        // set signature bytes received from the service\n        if (sgn != null)\n        {\n            externalSigning.setSignature(attachSignature(sgn));\n        }\n        else\n        {\n            return false;\n        }\n\n    } else {\n        // write incremental (only for signing purpose)\n        doc.saveIncremental(fos);\n    }\n    doc.close();\n\n\n    // Do not close signatureOptions before saving, because some COSStream objects within\n    // are transferred to the signed document.\n    // Do not allow signatureOptions get out of scope before saving, because then the COSDocument\n    // in signature options might by closed by gc, which would close COSStream objects prematurely.\n    // See https://issues.apache.org/jira/browse/PDFBOX-3743\n    IOUtils.closeQuietly(signatureOptions);\n    return true;\n}\n</code></pre>\n<p>in section</p>\n<pre><code>if(userSignature.getType().equals(&quot;seal&quot;))\n</code></pre>\n<p>there i set lock dictionary and certify with <strong>P</strong> to 2</p>\n<pre><code>PDSignatureField signatureField = doc.getSignatureFields().get(doc.getSignatureFields().size()-1);\n\n                COSDictionary lockDict = new COSDictionary();\n                lockDict.setItem(COSName.TYPE, COS_NAME_SIG_FIELD_LOCK);\n                lockDict.setItem(COS_NAME_ACTION, COS_NAME_EXCLUDE);\n\n                COSArray lockFields = new COSArray();\n                lockFields.add(new COSString(&quot;textbox1&quot;));\n\n                lockDict.setItem(COSName.FIELDS, lockFields);\n\n                signatureField.getCOSObject().setItem(COS_NAME_LOCK, lockDict);\n\n                COSDictionary sigDict = signature.getCOSObject();\n                COSDictionary transformParameters = new COSDictionary(lockDict);\n                transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n                transformParameters.setInt(COSName.P, 2);\n                transformParameters.setNeedToBeUpdated(true);\n                transformParameters.setDirect(true);\n\n                COSDictionary referenceDict = new COSDictionary();\n                referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n                referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n                referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n                referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n                referenceDict.setNeedToBeUpdated(true);\n                referenceDict.setDirect(true);\n\n                COSArray referenceArray = new COSArray();\n                referenceArray.add(referenceDict);\n                sigDict.setItem(COSName.REFERENCE, referenceArray);\n                sigDict.setItem(COS_NAME_LOCK, lockDict);\n                referenceArray.setNeedToBeUpdated(true);\n\n                COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n                COSDictionary permsDict = new COSDictionary();\n                catalogDict.setItem(COSName.PERMS, permsDict);\n                permsDict.setItem(COSName.DOCMDP, signature);\n                catalogDict.setNeedToBeUpdated(true);\n                permsDict.setNeedToBeUpdated(true);\n\n                setValidation(false);\n\n                final Predicate&lt;PDField&gt; shallBeLocked;\n                final COSArray fields = lockDict.getCOSArray(COSName.FIELDS);\n                final List&lt;String&gt; fieldNames = fields == null ? Collections.emptyList() :\n                        fields.toList().stream().filter(c -&gt; (c instanceof COSString)).map(s -&gt; ((COSString)s).getString()).collect(Collectors.toList());\n                final COSName action = lockDict.getCOSName(COSName.getPDFName(&quot;Action&quot;));\n                if (action.equals(COSName.getPDFName(&quot;Include&quot;))) {\n                    shallBeLocked = f -&gt; fieldNames.contains(f.getFullyQualifiedName());\n                } else if (action.equals(COSName.getPDFName(&quot;Exclude&quot;))) {\n                    shallBeLocked = f -&gt; !fieldNames.contains(f.getFullyQualifiedName());\n                } else if (action.equals(COSName.getPDFName(&quot;All&quot;))) {\n                    shallBeLocked = f -&gt; true;\n                } else { // unknown action, lock nothing\n                    shallBeLocked = f -&gt; false;\n                }\n                lockFields(doc.getDocumentCatalog().getAcroForm().getFields(), shallBeLocked);\n</code></pre>\n<p>i assume the SignatureField add more data from function <code>createVisualSignatureTemplate()</code> then i get with <code>doc.getSignatureFields().get(doc.getSignatureFields().size()-1)</code></p>\n<p>but the new SignatureField not yet exist, what i miss ? the result certify signature successfull created but the lock not successful</p>\n<p><a href=\"https://i.stack.imgur.com/mfxXB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mfxXB.png\" alt=\"certify\" /></a></p>\n"},{"tags":["javascript","java","selenium-webdriver","gigya","protector"],"comments":[{"owner":{"account_id":6258868,"reputation":185,"user_id":4866638,"display_name":"Levi"},"score":1,"creation_date":1629722116,"post_id":68892271,"comment_id":121754176,"body_markdown":"I don&#39;t really follow, but yes, Gigya sessions are cookie based, so if you delete cookies, the user will no longer be able to make calls to gigya.","body":"I don&#39;t really follow, but yes, Gigya sessions are cookie based, so if you delete cookies, the user will no longer be able to make calls to gigya."}],"answers":[{"tags":[],"owner":{"account_id":24899824,"reputation":207,"user_id":18770645,"display_name":"Victor Navarro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654000711,"creation_date":1654000711,"answer_id":72447957,"question_id":68892271,"body_markdown":"Gigya session relays in a cookie named `glt_&lt;API-KEY&gt;` - if that cookie get deleted, the session is lost, and the Gigya Web SDK won&#39;t be able to proxy calls to the Gigya API to perform actions such as updating the profile.\r\n\r\nThe user data is not stored in any cookie, and therefore is not necessary to do that cleanup task, only the session token is stored in a cookie.","title":"Gigya API keeps browser login details","body":"<p>Gigya session relays in a cookie named <code>glt_&lt;API-KEY&gt;</code> - if that cookie get deleted, the session is lost, and the Gigya Web SDK won't be able to proxy calls to the Gigya API to perform actions such as updating the profile.</p>\n<p>The user data is not stored in any cookie, and therefore is not necessary to do that cleanup task, only the session token is stored in a cookie.</p>\n"}],"owner":{"account_id":17082765,"reputation":39,"user_id":12360804,"display_name":"Bhumit Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72447957,"answer_count":1,"score":-1,"last_activity_date":1654000711,"creation_date":1629719854,"question_id":68892271,"body_markdown":"I&#39;m having issue in clearing logged in details. actually i&#39;m running test suit where multiple test scenario are there. on each test scenario run i&#39;m clearing the browser cookies and session related information by using \r\n`await browser.executeScript(&#39;window.localStorage.clear();&#39;);\r\nawait browser.executeScript(&#39;window.sessionStorage.clear();&#39;);\r\nawait browser.driver.manage().deleteAllCookies();`\r\n and i checked that cookies and session are getting cleared after every scenario i run. but the things is it&#39;s not cleared the browser logging details which i enter the earlier. for an example i  run the first test scenario in that i enter system logged in into the system but when it&#39;s got complete i cleared it out the all the stuff. but as soon as i start running second scenario it skipped the login step.\r\ndid some research and somethings found that, user is logged in or not this status comes from GIGYA . when we clear down the cookies and cache from browser setting it will logged out the user\r\n\r\nnow i&#39;m looking the solution is how to clear it out.  ","title":"Gigya API keeps browser login details","body":"<p>I'm having issue in clearing logged in details. actually i'm running test suit where multiple test scenario are there. on each test scenario run i'm clearing the browser cookies and session related information by using\n<code>await browser.executeScript('window.localStorage.clear();'); await browser.executeScript('window.sessionStorage.clear();'); await browser.driver.manage().deleteAllCookies();</code>\nand i checked that cookies and session are getting cleared after every scenario i run. but the things is it's not cleared the browser logging details which i enter the earlier. for an example i  run the first test scenario in that i enter system logged in into the system but when it's got complete i cleared it out the all the stuff. but as soon as i start running second scenario it skipped the login step.\ndid some research and somethings found that, user is logged in or not this status comes from GIGYA . when we clear down the cookies and cache from browser setting it will logged out the user</p>\n<p>now i'm looking the solution is how to clear it out.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654000203,"post_id":72447680,"comment_id":127983403,"body_markdown":"I think the biggest clue is [The VM does not support the attach mechanism](https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/sun/tools/attach/HotSpotAttachProvider.java#L137).","body":"I think the biggest clue is <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/sun/tools/attach/HotSpotAttachProvider.java#L137\" rel=\"nofollow noreferrer\">The VM does not support the attach mechanism</a>."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654002912,"post_id":72447680,"comment_id":127984481,"body_markdown":"Can you attach to it with visualvm?","body":"Can you attach to it with visualvm?"}],"owner":{"account_id":25436265,"reputation":11,"user_id":19239939,"display_name":"Batter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654000545,"creation_date":1653999587,"question_id":72447680,"body_markdown":"I am trying to attach to a vm. Code:\r\n\r\n    VirtualMachine attach = VirtualMachine.attach(String.valueOf(id));\r\n\tattach.loadAgent(file.getAbsolutePath() , args);\r\n\r\nError: \r\n\r\n    com.sun.tools.attach.AttachNotSupportedException: The VM does not support the attach mechanism\r\n\tat sun.tools.attach.HotSpotAttachProvider.testAttachable(HotSpotAttachProvider.java:162)\r\n\tat sun.tools.attach.WindowsAttachProvider.attachVirtualMachine(WindowsAttachProvider.java:67)\r\n\tat com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:208)\r\n\r\nAny clues on how can I fix it?","title":"The VM does not support the attach mechanism","body":"<p>I am trying to attach to a vm. Code:</p>\n<pre><code>VirtualMachine attach = VirtualMachine.attach(String.valueOf(id));\nattach.loadAgent(file.getAbsolutePath() , args);\n</code></pre>\n<p>Error:</p>\n<pre><code>com.sun.tools.attach.AttachNotSupportedException: The VM does not support the attach mechanism\nat sun.tools.attach.HotSpotAttachProvider.testAttachable(HotSpotAttachProvider.java:162)\nat sun.tools.attach.WindowsAttachProvider.attachVirtualMachine(WindowsAttachProvider.java:67)\nat com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:208)\n</code></pre>\n<p>Any clues on how can I fix it?</p>\n"},{"tags":["javascript","java","iperf"],"comments":[{"owner":{"account_id":255434,"reputation":21288,"user_id":535480,"display_name":"James"},"score":1,"creation_date":1654000045,"post_id":72447190,"comment_id":127983312,"body_markdown":"This is old, but might answer the question - https://github.com/esnet/iperf/issues/482","body":"This is old, but might answer the question - <a href=\"https://github.com/esnet/iperf/issues/482\" rel=\"nofollow noreferrer\">github.com/esnet/iperf/issues/482</a>"},{"owner":{"account_id":19438535,"reputation":21,"user_id":14217469,"display_name":"Grimalkin"},"score":0,"creation_date":1654003804,"post_id":72447190,"comment_id":127984861,"body_markdown":"Exactly what I&#39;ve been looking for, just didn&#39;t know If it&#39;s doable thank you!","body":"Exactly what I&#39;ve been looking for, just didn&#39;t know If it&#39;s doable thank you!"}],"answers":[{"tags":[],"owner":{"account_id":16144777,"reputation":357,"user_id":11654839,"display_name":"Oleksandr K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654000434,"creation_date":1654000434,"answer_id":72447897,"question_id":72447190,"body_markdown":"You can try the experimental Network API\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/downlink","title":"Is it possible to check users bandwidth in frontend using iperf","body":"<p>You can try the experimental Network API\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/downlink\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/downlink</a></p>\n"}],"owner":{"account_id":19438535,"reputation":21,"user_id":14217469,"display_name":"Grimalkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654000434,"creation_date":1653997463,"question_id":72447190,"body_markdown":"I have frontend in js where you can type in `iperf` command and then `POST` it to backend in java. Then use `Runtime.getRuntime().exec()` to check users bandwidth, is it even possible or it&#39;s just not how `iperf` works. My guessing is it is only possible to check server&#39;s bandwidth. \\\r\nTL;DR \\\r\nI want to to make online speed test using iperf\r\n","title":"Is it possible to check users bandwidth in frontend using iperf","body":"<p>I have frontend in js where you can type in <code>iperf</code> command and then <code>POST</code> it to backend in java. Then use <code>Runtime.getRuntime().exec()</code> to check users bandwidth, is it even possible or it's just not how <code>iperf</code> works. My guessing is it is only possible to check server's bandwidth. <br />\nTL;DR <br />\nI want to to make online speed test using iperf</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea","soap"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1593000645,"post_id":62554688,"comment_id":110625287,"body_markdown":"Does `Alt`+`Enter` help you to import the lass? Have you tried to type `import com.example.consumingwebservice.wsdl.Author;`?","body":"Does <code>Alt</code>+<code>Enter</code> help you to import the lass? Have you tried to type <code>import com.example.consumingwebservice.wsdl.Author;</code>?"},{"owner":{"account_id":18921487,"reputation":31,"user_id":13805466,"display_name":"Dest"},"score":0,"creation_date":1593001759,"post_id":62554688,"comment_id":110625909,"body_markdown":"Alt + Enter offers to create class &quot;Author&quot;, and import leads to this: https://img.techpowerup.org/200624/2344.jpg","body":"Alt + Enter offers to create class &quot;Author&quot;, and import leads to this: <a href=\"https://img.techpowerup.org/200624/2344.jpg\" rel=\"nofollow noreferrer\">img.techpowerup.org/200624/2344.jpg</a>"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1593002311,"post_id":62554688,"comment_id":110626212,"body_markdown":"Try to right-click to the `jaxb` generated folder and select `Mark Directory as` and select `Generated Sources Root` (a blue folder).","body":"Try to right-click to the <code>jaxb</code> generated folder and select <code>Mark Directory as</code> and select <code>Generated Sources Root</code> (a blue folder)."},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1593004379,"post_id":62554688,"comment_id":110627371,"body_markdown":"You should not use IDE functionality to resolve problems with your build tool, as it should be independent from IDE settings. Instead check out how to add generated sources to the compilation done by Gradle (e.g. [here](https://stackoverflow.com/questions/28345705/how-can-i-add-a-generated-source-folder-to-my-source-path-in-gradle)).","body":"You should not use IDE functionality to resolve problems with your build tool, as it should be independent from IDE settings. Instead check out how to add generated sources to the compilation done by Gradle (e.g. <a href=\"https://stackoverflow.com/questions/28345705/how-can-i-add-a-generated-source-folder-to-my-source-path-in-gradle\">here</a>)."},{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":0,"creation_date":1593073865,"post_id":62554688,"comment_id":110653350,"body_markdown":"You could also just use one of the many xjc plugins that does all these things for you.","body":"You could also just use one of the many xjc plugins that does all these things for you."}],"answers":[{"tags":[],"owner":{"account_id":22312886,"reputation":121,"user_id":16536642,"display_name":"Muhammad Abdullah Aqib"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654000352,"creation_date":1654000352,"answer_id":72447877,"question_id":62554688,"body_markdown":"This is also the problem with Maven users. So for Maven users, the solution is very simple \r\n\r\n 1. Right-click the **project** folder\r\n 2. Select **Maven**\r\n 3. Select **Generate Sources And Update Folders**\r\n\r\nThen, Intellij automatically imports generated sources to the project.\r\n\r\nFot Gradle users, the process might be the same.","title":"Can&#39;t use generated classes from build folder with IntelliJ Idea and Gradle","body":"<p>This is also the problem with Maven users. So for Maven users, the solution is very simple</p>\n<ol>\n<li>Right-click the <strong>project</strong> folder</li>\n<li>Select <strong>Maven</strong></li>\n<li>Select <strong>Generate Sources And Update Folders</strong></li>\n</ol>\n<p>Then, Intellij automatically imports generated sources to the project.</p>\n<p>Fot Gradle users, the process might be the same.</p>\n"}],"owner":{"account_id":18921487,"reputation":31,"user_id":13805466,"display_name":"Dest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2974,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1654000352,"creation_date":1593000503,"question_id":62554688,"body_markdown":"I&#39;m trying to follow this guide (consuming a SOAP web service) with **IntelliJ Idea** and **Gradle** - https://spring.io/guides/gs/consuming-web-service/#initial\r\n\r\nI already have SOAP-server, it&#39;s working fine and I can see my WSDL on my localhost.\r\n\r\nI repeated every step in the guide, but when it comes to &quot;Create a [...] Service Client&quot; I ran into some problems. I do have a folder named &quot;generated-sources&quot; and it contains my classes, generated from WSDL. But I can&#39;t use these classes in &quot;Service Client&quot; (seems like Idea can&#39;t see them).\r\n\r\nHere is my **build.gradle**:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.2.0.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n        jaxb\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    task genJaxb {\r\n        ext.sourcesDir = &quot;${buildDir}/generated-sources/jaxb&quot;\r\n        ext.classesDir = &quot;${buildDir}/classes/jaxb&quot;\r\n        ext.schema = &quot;http://localhost:8080/ws/author.wsdl&quot;\r\n    \r\n        outputs.dir classesDir\r\n    \r\n        doLast() {\r\n            project.ant {\r\n                taskdef name: &quot;xjc&quot;, classname: &quot;com.sun.tools.xjc.XJCTask&quot;,\r\n                        classpath: configurations.jaxb.asPath\r\n                mkdir(dir: sourcesDir)\r\n                mkdir(dir: classesDir)\r\n    \r\n                xjc(destdir: sourcesDir, schema: schema,\r\n                        package: &quot;com.example.consumingwebservice.wsdl&quot;) {\r\n                    arg(value: &quot;-wsdl&quot;)\r\n                    produces(dir: sourcesDir, includes: &quot;**/*.java&quot;)\r\n                }\r\n    \r\n                javac(destdir: classesDir, source: 11, target: 11, debug: true,\r\n                        debugLevel: &quot;lines,vars,source&quot;,\r\n                        classpath: configurations.jaxb.asPath) {\r\n                    src(path: sourcesDir)\r\n                    include(name: &quot;**/*.java&quot;)\r\n                    include(name: &quot;*.java&quot;)\r\n                }\r\n    \r\n                copy(todir: classesDir) {\r\n                    fileset(dir: sourcesDir, erroronmissingdir: false) {\r\n                        exclude(name: &quot;**/*.java&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation (&#39;org.springframework.boot:spring-boot-starter-web-services&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-tomcat&#39;\r\n        }\r\n        implementation &#39;org.springframework.ws:spring-ws-core&#39;\r\n        // For Java 11:\r\n        implementation &#39;org.glassfish.jaxb:jaxb-runtime&#39;\r\n        compile(files(genJaxb.classesDir).builtBy(genJaxb))\r\n    \r\n        jaxb &quot;com.sun.xml.bind:jaxb-xjc:2.1.7&quot;\r\n    \r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    bootJar {\r\n        baseName = &#39;gs-consuming-web-service&#39;\r\n        version =  &#39;0.0.1&#39;\r\n    }\r\n\r\nAnd this is my **screenshot** - https://img.techpowerup.org/200624/2687.jpg\r\n\r\nAlt + Enter offers to create new class, and import leads to this: img.techpowerup.org/200624/2344.jpg\r\n\r\nI will be very grateful for any help.","title":"Can&#39;t use generated classes from build folder with IntelliJ Idea and Gradle","body":"<p>I'm trying to follow this guide (consuming a SOAP web service) with <strong>IntelliJ Idea</strong> and <strong>Gradle</strong> - <a href=\"https://spring.io/guides/gs/consuming-web-service/#initial\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/#initial</a></p>\n<p>I already have SOAP-server, it's working fine and I can see my WSDL on my localhost.</p>\n<p>I repeated every step in the guide, but when it comes to &quot;Create a [...] Service Client&quot; I ran into some problems. I do have a folder named &quot;generated-sources&quot; and it contains my classes, generated from WSDL. But I can't use these classes in &quot;Service Client&quot; (seems like Idea can't see them).</p>\n<p>Here is my <strong>build.gradle</strong>:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.0.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    jaxb\n}\n\nrepositories {\n    mavenCentral()\n}\n\ntask genJaxb {\n    ext.sourcesDir = &quot;${buildDir}/generated-sources/jaxb&quot;\n    ext.classesDir = &quot;${buildDir}/classes/jaxb&quot;\n    ext.schema = &quot;http://localhost:8080/ws/author.wsdl&quot;\n\n    outputs.dir classesDir\n\n    doLast() {\n        project.ant {\n            taskdef name: &quot;xjc&quot;, classname: &quot;com.sun.tools.xjc.XJCTask&quot;,\n                    classpath: configurations.jaxb.asPath\n            mkdir(dir: sourcesDir)\n            mkdir(dir: classesDir)\n\n            xjc(destdir: sourcesDir, schema: schema,\n                    package: &quot;com.example.consumingwebservice.wsdl&quot;) {\n                arg(value: &quot;-wsdl&quot;)\n                produces(dir: sourcesDir, includes: &quot;**/*.java&quot;)\n            }\n\n            javac(destdir: classesDir, source: 11, target: 11, debug: true,\n                    debugLevel: &quot;lines,vars,source&quot;,\n                    classpath: configurations.jaxb.asPath) {\n                src(path: sourcesDir)\n                include(name: &quot;**/*.java&quot;)\n                include(name: &quot;*.java&quot;)\n            }\n\n            copy(todir: classesDir) {\n                fileset(dir: sourcesDir, erroronmissingdir: false) {\n                    exclude(name: &quot;**/*.java&quot;)\n                }\n            }\n        }\n    }\n}\n\ndependencies {\n\n    implementation ('org.springframework.boot:spring-boot-starter-web-services') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat'\n    }\n    implementation 'org.springframework.ws:spring-ws-core'\n    // For Java 11:\n    implementation 'org.glassfish.jaxb:jaxb-runtime'\n    compile(files(genJaxb.classesDir).builtBy(genJaxb))\n\n    jaxb &quot;com.sun.xml.bind:jaxb-xjc:2.1.7&quot;\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nbootJar {\n    baseName = 'gs-consuming-web-service'\n    version =  '0.0.1'\n}\n</code></pre>\n<p>And this is my <strong>screenshot</strong> - <a href=\"https://img.techpowerup.org/200624/2687.jpg\" rel=\"nofollow noreferrer\">https://img.techpowerup.org/200624/2687.jpg</a></p>\n<p>Alt + Enter offers to create new class, and import leads to this: img.techpowerup.org/200624/2344.jpg</p>\n<p>I will be very grateful for any help.</p>\n"},{"tags":["java","division"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":5,"creation_date":1546439911,"post_id":54008239,"comment_id":94853003,"body_markdown":"`if (x%y == 0)`","body":"<code>if (x%y == 0)</code>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1546440188,"post_id":54008239,"comment_id":94853143,"body_markdown":"Perform an additional check for `y == 0` and don&#39;t (try to) divide if the condition is `true`...","body":"Perform an additional check for <code>y == 0</code> and don&#39;t (try to) divide if the condition is <code>true</code>..."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1546535141,"post_id":54008239,"comment_id":94889806,"body_markdown":"ignoring &#39;simpler&#39; for a second, your method doesn&#39;t even work because of how integer division works in Java","body":"ignoring &#39;simpler&#39; for a second, your method doesn&#39;t even work because of how integer division works in Java"}],"answers":[{"tags":[],"owner":{"account_id":14722005,"reputation":3527,"user_id":10632291,"display_name":"Sandeepa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1546439982,"creation_date":1546439982,"answer_id":54008259,"question_id":54008239,"body_markdown":"You can use modulus operator like this in your condition,\r\n\r\n    if (x%y == 0)","title":"How do I check divisibility in Java?","body":"<p>You can use modulus operator like this in your condition,</p>\n\n<pre><code>if (x%y == 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19060744,"reputation":1,"user_id":13916918,"display_name":"ameethS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654000338,"creation_date":1594562347,"answer_id":62861980,"question_id":54008239,"body_markdown":"A good way is to use modulus operator, which returns the remainder after dividing by a number, e.g.\r\n\r\n    5 % 2 = 1 (1 is the remainder after 5 is divided by 2)\r\n\r\nSo for a number to be divisible by another, it should have a remainder of 0 (i.e. x % y = 0)\r\n\r\n\r\n\r\n    if (x % y == 0)\r\n    {\r\n      //x is divisible by y\r\n    }\r\n    else\r\n    {\r\n      //x is not divisible by y\r\n    }\r\n\r\n\r\n","title":"How do I check divisibility in Java?","body":"<p>A good way is to use modulus operator, which returns the remainder after dividing by a number, e.g.</p>\n<pre><code>5 % 2 = 1 (1 is the remainder after 5 is divided by 2)\n</code></pre>\n<p>So for a number to be divisible by another, it should have a remainder of 0 (i.e. x % y = 0)</p>\n<pre><code>if (x % y == 0)\n{\n  //x is divisible by y\n}\nelse\n{\n  //x is not divisible by y\n}\n</code></pre>\n"}],"owner":{"account_id":14804831,"reputation":23,"user_id":10692149,"display_name":"Coding for fun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5109,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":54008259,"answer_count":2,"score":1,"last_activity_date":1654000338,"creation_date":1546439870,"question_id":54008239,"body_markdown":"I am trying to check if on number is divisible by another, and currently I use this method:\r\n\r\n    int x = 70;\r\n    int y = 30;\r\n    \r\n    if(x/y == Math.round(x/y)) {\r\n        ...\r\n    }\r\n\r\nIs there a simpler way?","title":"How do I check divisibility in Java?","body":"<p>I am trying to check if on number is divisible by another, and currently I use this method:</p>\n\n<pre><code>int x = 70;\nint y = 30;\n\nif(x/y == Math.round(x/y)) {\n    ...\n}\n</code></pre>\n\n<p>Is there a simpler way?</p>\n"},{"tags":["java","logging","stdout","stderr"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1653991396,"post_id":72445664,"comment_id":127979990,"body_markdown":"Logger generate log messages with those Level.ERROR/WARN/INFO and such. In the comfiguration you could add a log handler with a file appender, and/or format and send the message of some level and name to stderr. The developer normally has a more verbous logging, and sometime activates TRACE to check code execution. Learn using it.","body":"Logger generate log messages with those Level.ERROR/WARN/INFO and such. In the comfiguration you could add a log handler with a file appender, and/or format and send the message of some level and name to stderr. The developer normally has a more verbous logging, and sometime activates TRACE to check code execution. Learn using it."}],"answers":[{"tags":[],"owner":{"account_id":2421483,"reputation":533,"user_id":2538530,"accept_rate":67,"display_name":"leonardseymore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653991061,"creation_date":1653991061,"answer_id":72445751,"question_id":72445664,"body_markdown":"Very briefly:\r\n\r\nLoggers are part of a high level logging framework. Logging is much more advanced than standard output streams.\r\n\r\nWhen a process starts up the operating system gives it a stdout and stderr stream which the program may write to. Stdout should be used for information and stderr for error information. \r\n\r\nThis is much lower level and you can access these streams with the System class:\r\n\r\n    System.out.println(); // Write to stdout\r\n    System.err.println(); // Write to stderr","title":"relations between log levels and stdErr/stdOut","body":"<p>Very briefly:</p>\n<p>Loggers are part of a high level logging framework. Logging is much more advanced than standard output streams.</p>\n<p>When a process starts up the operating system gives it a stdout and stderr stream which the program may write to. Stdout should be used for information and stderr for error information.</p>\n<p>This is much lower level and you can access these streams with the System class:</p>\n<pre><code>System.out.println(); // Write to stdout\nSystem.err.println(); // Write to stderr\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654000223,"creation_date":1654000223,"answer_id":72447850,"question_id":72445664,"body_markdown":"Any connection is based on how you configure the logging framework.\r\n\r\nThe logging framework maintains a list of _appenders_, which send output to a destination. That destination may be stdout, stderr, a file, a TCP connection to some remote server, or many other places. When you call `logger.debug()`, the logging framework will look at its list of configured appenders, and pass the message on to any appenders that are accepting debug-level messages.\r\n\r\nYou don&#39;t say what logging framework you&#39;re using, but assuming Log4J 2.x you are probably using the [ConsoleAppender](https://logging.apache.org/log4j/2.x/manual/appenders.html#ConsoleAppender). This can be configured to send output to _either_ StdErr or StdOut:\r\n\r\n```\r\n  &lt;Appenders&gt;\r\n    &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n  &lt;/Appenders&gt;\r\n```\r\n\r\n\r\n```\r\n  &lt;Appenders&gt;\r\n    &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_ERR&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n  &lt;/Appenders&gt;\r\n```","title":"relations between log levels and stdErr/stdOut","body":"<p>Any connection is based on how you configure the logging framework.</p>\n<p>The logging framework maintains a list of <em>appenders</em>, which send output to a destination. That destination may be stdout, stderr, a file, a TCP connection to some remote server, or many other places. When you call <code>logger.debug()</code>, the logging framework will look at its list of configured appenders, and pass the message on to any appenders that are accepting debug-level messages.</p>\n<p>You don't say what logging framework you're using, but assuming Log4J 2.x you are probably using the <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#ConsoleAppender\" rel=\"nofollow noreferrer\">ConsoleAppender</a>. This can be configured to send output to <em>either</em> StdErr or StdOut:</p>\n<pre><code>  &lt;Appenders&gt;\n    &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n    &lt;/Console&gt;\n  &lt;/Appenders&gt;\n</code></pre>\n<pre><code>  &lt;Appenders&gt;\n    &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_ERR&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n    &lt;/Console&gt;\n  &lt;/Appenders&gt;\n</code></pre>\n"}],"owner":{"account_id":24918196,"reputation":95,"user_id":18786837,"display_name":"it.drive.view"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72445751,"answer_count":2,"score":0,"last_activity_date":1654000223,"creation_date":1653990661,"question_id":72445664,"body_markdown":"i read many informations on the net but i&#39;d like to summarize,\r\nand still no understand how it works.\r\nI&#39;d like to know the relation betwenn log levels and stdOut vs stdErr in java ?\r\n\r\nwhat about these kinds of logs ?\r\n\r\n      logger.trace(..\r\n      logger.warn(..\r\n      logger.error(..\r\n\r\nwhat do these logs go ? \r\n\r\ni absolutly don&#39;t see relation between java logs and stdOut/stdErr.\r\n\r\nThanks by advance.\r\n","title":"relations between log levels and stdErr/stdOut","body":"<p>i read many informations on the net but i'd like to summarize,\nand still no understand how it works.\nI'd like to know the relation betwenn log levels and stdOut vs stdErr in java ?</p>\n<p>what about these kinds of logs ?</p>\n<pre><code>  logger.trace(..\n  logger.warn(..\n  logger.error(..\n</code></pre>\n<p>what do these logs go ?</p>\n<p>i absolutly don't see relation between java logs and stdOut/stdErr.</p>\n<p>Thanks by advance.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1543863179,"post_id":53586987,"comment_id":94062476,"body_markdown":"`setHttpExpiresDate()` sets the `Expires` HTTP header, to tell browsers when to consider the object stale.  It does not set a lifecycle expiration for the object.","body":"<code>setHttpExpiresDate()</code> sets the <code>Expires</code> HTTP header, to tell browsers when to consider the object stale.  It does not set a lifecycle expiration for the object."},{"owner":{"account_id":14558012,"reputation":51,"user_id":10514960,"display_name":"user10514960"},"score":0,"creation_date":1543872251,"post_id":53586987,"comment_id":94066682,"body_markdown":"@Michael-sqlbot, is there a way to set object expiration date with out setting rule for whole bucket life cycle?","body":"@Michael-sqlbot, is there a way to set object expiration date with out setting rule for whole bucket life cycle?"},{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":1,"creation_date":1543878921,"post_id":53586987,"comment_id":94069172,"body_markdown":"You can set a lifecycle rule for the whole bucket that only deletes objects having a specific tag after a certain number of days, or you can create a lifecycle rule to match only objects matching specific name criteria.  You can&#39;t directly set expiration for individual objects.","body":"You can set a lifecycle rule for the whole bucket that only deletes objects having a specific tag after a certain number of days, or you can create a lifecycle rule to match only objects matching specific name criteria.  You can&#39;t directly set expiration for individual objects."}],"answers":[{"tags":[],"owner":{"account_id":10142598,"reputation":1495,"user_id":7491845,"display_name":"Andrii Chertok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654000219,"creation_date":1654000219,"answer_id":72447848,"question_id":53586987,"body_markdown":"Following the [documentation][1] you can’t directly set expiration date for particular object.\r\n\r\n\r\nTo solve this problem you can: \r\n1. Define lifecycle rule for a bucket(remove bucket with objects after number of days)\r\n2. Define lifecycle rule for bucket to remove objects with specific tag or prefix after numbers of days\r\n\r\nTo creating a rules use documentation:\r\n\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ObjectMetadata.html#setExpirationTime-java.util.Date-","title":"set object expiry date for amazon s3 object using java sdk","body":"<p>Following the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ObjectMetadata.html#setExpirationTime-java.util.Date-\" rel=\"nofollow noreferrer\">documentation</a> you can’t directly set expiration date for particular object.</p>\n<p>To solve this problem you can:</p>\n<ol>\n<li>Define lifecycle rule for a bucket(remove bucket with objects after number of days)</li>\n<li>Define lifecycle rule for bucket to remove objects with specific tag or prefix after numbers of days</li>\n</ol>\n<p>To creating a rules use documentation:</p>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html</a></p>\n"}],"owner":{"account_id":14558012,"reputation":51,"user_id":10514960,"display_name":"user10514960"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5722,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1654000219,"creation_date":1543806795,"question_id":53586987,"body_markdown":"I am trying to upload a file in amazon S3 storage using java sdk, enabling a explicit expiration date for the object using objectMetadata. when I run the program it uploads to S3 and sets the expiration date to object metadata as expected but eventually it doesn&#39;t seem to be deleted after the expiration date. I am not sure where i am doing wrong. Below is the code snippet i used to set the object metadata.\r\n \r\n\r\n    PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, key, file);\r\n    ObjectMetadata objectMetadata = new ObjectMetadata();\r\n    objectMetadata.setHttpExpiresDate(new DateTime().plusDays(1).toDate());\r\n    putObjectRequest.setMetadata(objectMetadata);\r\n    return s3.putObject(putObjectRequest);\r\n\r\nI have been going through some of the Amazon documentation https://docs.aws.amazon.com/AmazonS3/latest/dev/manage-lifecycle-using-java.html which says to set the BucketLifeCycle Configuration rule. I am not sure whether if i apply this rule will it be applied to all folders and objects under this bucket or only the objects i upload using this rule through my java program? \r\n\r\nPlease suggest, Thanks in advance !\r\n\r\n","title":"set object expiry date for amazon s3 object using java sdk","body":"<p>I am trying to upload a file in amazon S3 storage using java sdk, enabling a explicit expiration date for the object using objectMetadata. when I run the program it uploads to S3 and sets the expiration date to object metadata as expected but eventually it doesn't seem to be deleted after the expiration date. I am not sure where i am doing wrong. Below is the code snippet i used to set the object metadata.</p>\n\n<pre><code>PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, key, file);\nObjectMetadata objectMetadata = new ObjectMetadata();\nobjectMetadata.setHttpExpiresDate(new DateTime().plusDays(1).toDate());\nputObjectRequest.setMetadata(objectMetadata);\nreturn s3.putObject(putObjectRequest);\n</code></pre>\n\n<p>I have been going through some of the Amazon documentation <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/manage-lifecycle-using-java.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/dev/manage-lifecycle-using-java.html</a> which says to set the BucketLifeCycle Configuration rule. I am not sure whether if i apply this rule will it be applied to all folders and objects under this bucket or only the objects i upload using this rule through my java program? </p>\n\n<p>Please suggest, Thanks in advance !</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15889084,"reputation":335,"user_id":11464737,"display_name":"Kamal"},"score":1,"creation_date":1653999137,"post_id":72447441,"comment_id":127982929,"body_markdown":"check if it works after ```minifyEnabled false``` in gradle file","body":"check if it works after <code>minifyEnabled false</code> in gradle file"},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1654011905,"post_id":72447441,"comment_id":127988548,"body_markdown":"You need to use your mapping file to determine what method is being called at `c4.e.c()`.","body":"You need to use your mapping file to determine what method is being called at <code>c4.e.c()</code>."}],"answers":[{"tags":[],"owner":{"account_id":9573831,"reputation":7,"user_id":7153910,"display_name":"elvishrdz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654000041,"creation_date":1654000041,"answer_id":72447797,"question_id":72447441,"body_markdown":"I need more information, but I&#39;ll say to check if your files are all available in the release build. For example if you use &quot;if(Build.DEBUG)&quot; you run code that will only compile in a debug build/apk. ","title":"Why Signed APK crashed on splash screen in Android","body":"<p>I need more information, but I'll say to check if your files are all available in the release build. For example if you use &quot;if(Build.DEBUG)&quot; you run code that will only compile in a debug build/apk.</p>\n"}],"owner":{"account_id":19799747,"reputation":9,"user_id":14501044,"display_name":"Abu Sufian Shawon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1654000041,"creation_date":1653998543,"question_id":72447441,"body_markdown":"In Release signed apk, my app crashed when showing splash screen. I connect my phone with debugging mode and check logcat. Logcat shows me following error log,\r\n```2022-05-31 17:52:39.044 22435-22435/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.hovata.petrolerp, PID: 22435\r\n    java.lang.NullPointerException\r\n        at c4.e.c(:2)\r\n        at f9.h.run(:1)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7861)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:600)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\n```\r\n\r\nWhat is the reason behind it? As debug apk, it works properly without any issue.\r\n","title":"Why Signed APK crashed on splash screen in Android","body":"<p>In Release signed apk, my app crashed when showing splash screen. I connect my phone with debugging mode and check logcat. Logcat shows me following error log,</p>\n<pre><code>    Process: com.hovata.petrolerp, PID: 22435\n    java.lang.NullPointerException\n        at c4.e.c(:2)\n        at f9.h.run(:1)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:236)\n        at android.app.ActivityThread.main(ActivityThread.java:7861)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:600)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n</code></pre>\n<p>What is the reason behind it? As debug apk, it works properly without any issue.</p>\n"},{"tags":["java","intellij-idea","jar","embedded-resource"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1650050161,"post_id":71888020,"comment_id":127032495,"body_markdown":"You read correctly, although it&#39;s easier to use `getClass().getResourceAsStream(...)`. The absolute resource path is `/calgaryFlamesTracker/music/Fall.wav`.","body":"You read correctly, although it&#39;s easier to use <code>getClass().getResourceAsStream(...)</code>. The absolute resource path is <code>&#47;calgaryFlamesTracker&#47;music&#47;Fall.wav</code>."},{"owner":{"account_id":24789856,"reputation":19,"user_id":18672897,"display_name":"Fattyffat"},"score":0,"creation_date":1650050909,"post_id":71888020,"comment_id":127032664,"body_markdown":"@RobSpoor I&#39;m doing that and it is returning null. Where do I call the getClass().getResourceAsStream(...) part? In place of the filename correct?","body":"@RobSpoor I&#39;m doing that and it is returning null. Where do I call the getClass().getResourceAsStream(...) part? In place of the filename correct?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650103163,"post_id":71888020,"comment_id":127040633,"body_markdown":"@AndrewThonpson I have rarely seen a less relevant &#39;duplicate&#39;. VTR.","body":"@AndrewThonpson I have rarely seen a less relevant &#39;duplicate&#39;. VTR."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1650108228,"post_id":71888020,"comment_id":127041484,"body_markdown":"@EdvinSinko a null return means the resource cannot be found. Moving it to the resources folder probably solved that. Maven seems to not process resources from the java folder.","body":"@EdvinSinko a null return means the resource cannot be found. Moving it to the resources folder probably solved that. Maven seems to not process resources from the java folder."}],"owner":{"account_id":24789856,"reputation":19,"user_id":18672897,"display_name":"Fattyffat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653999814,"creation_date":1650050012,"question_id":71888020,"body_markdown":"I&#39;m converting a java project to a JAR but when I convert it, some files that I make calls to no longer exist. \r\n\r\nFor example, in my playSound method (while plays music), I get the file that I want like this: \r\n\r\n    public void playSound(String fileName) {\r\n        try {\r\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(new File(fileName));\r\n            clip = AudioSystem.getClip();\r\n            clip.open(audioInputStream);\r\n            clip.start();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nThen, I call the method like this: \r\n\r\n    playSound(&quot;src/main/java/calgaryFlamesTracker/music/Fall.wav&quot;);\r\n\r\nThis works fine in intelliJ but when I do the same thing through the JAR, it says the file does not exist. I read something about use getClass().getResource() but I&#39;m not 100% sure on that. ","title":"Getting file in JAR","body":"<p>I'm converting a java project to a JAR but when I convert it, some files that I make calls to no longer exist.</p>\n<p>For example, in my playSound method (while plays music), I get the file that I want like this:</p>\n<pre><code>public void playSound(String fileName) {\n    try {\n        AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(new File(fileName));\n        clip = AudioSystem.getClip();\n        clip.open(audioInputStream);\n        clip.start();\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>Then, I call the method like this:</p>\n<pre><code>playSound(&quot;src/main/java/calgaryFlamesTracker/music/Fall.wav&quot;);\n</code></pre>\n<p>This works fine in intelliJ but when I do the same thing through the JAR, it says the file does not exist. I read something about use getClass().getResource() but I'm not 100% sure on that.</p>\n"},{"tags":["java","multithreading","spring-boot","kotlin","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7702276,"reputation":149,"user_id":6244382,"accept_rate":80,"display_name":"Sia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653999718,"creation_date":1653999718,"answer_id":72447720,"question_id":72444212,"body_markdown":"the lock can be re-acquired by the same thread, this is possible. But you can disable or manage reentrancy behavior with [FencedLockConfig][1]\r\n\r\n\r\n  [1]: https://docs.hazelcast.com/imdg/4.2/cp-subsystem/configuration#fencedlock-configuration","title":"using the Hazelcast distributed locks with Coroutines in Kotlin and Spring webflux","body":"<p>the lock can be re-acquired by the same thread, this is possible. But you can disable or manage reentrancy behavior with <a href=\"https://docs.hazelcast.com/imdg/4.2/cp-subsystem/configuration#fencedlock-configuration\" rel=\"nofollow noreferrer\">FencedLockConfig</a></p>\n"}],"owner":{"account_id":7702276,"reputation":149,"user_id":6244382,"accept_rate":80,"display_name":"Sia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72447720,"answer_count":1,"score":0,"last_activity_date":1653999718,"creation_date":1653984411,"question_id":72444212,"body_markdown":"My question is as the documentation says, fencedlocks are reentrant locks for “THREADS” and I am using spring boot with Kotlin and webflux so in my application I am using Coroutines for concurrency and as you probably know spring webflux provides an event-loop with a limited number of threads to fulfilling the Coroutines, what will happen if I use this lock with coroutines? based on my understanding because this lock is reentrant and the number of threads is limited so there is a chance that when you lock a block with it another coroutine could enter that block with the same under-the-hood thread.\r\n\r\nMy use case is locking a block of code with a userId in my application.\r\n\r\nhttps://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock","title":"using the Hazelcast distributed locks with Coroutines in Kotlin and Spring webflux","body":"<p>My question is as the documentation says, fencedlocks are reentrant locks for “THREADS” and I am using spring boot with Kotlin and webflux so in my application I am using Coroutines for concurrency and as you probably know spring webflux provides an event-loop with a limited number of threads to fulfilling the Coroutines, what will happen if I use this lock with coroutines? based on my understanding because this lock is reentrant and the number of threads is limited so there is a chance that when you lock a block with it another coroutine could enter that block with the same under-the-hood thread.</p>\n<p>My use case is locking a block of code with a userId in my application.</p>\n<p><a href=\"https://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653999398,"creation_date":1653999398,"answer_id":72447646,"question_id":72443017,"body_markdown":"Yes, e.g. for `Player` you could split the line on `&quot;\\\\s.*,\\\\s.*&quot;` and feed it to ctor:\r\n\r\n    public Player(String... fields) {\r\n        this.id = Integer.parseInt(fields[0]);\r\n        this.fullName = fields[1];\r\n        this.team = fields[2];\r\n    }\r\n\r\n","title":"Can a line from a text file be accepted as several arguments in a class constructor?","body":"<p>Yes, e.g. for <code>Player</code> you could split the line on <code>&quot;\\\\s.*,\\\\s.*&quot;</code> and feed it to ctor:</p>\n<pre><code>public Player(String... fields) {\n    this.id = Integer.parseInt(fields[0]);\n    this.fullName = fields[1];\n    this.team = fields[2];\n}\n</code></pre>\n"}],"owner":{"account_id":25081914,"reputation":1,"user_id":18934585,"display_name":"machoc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653999398,"creation_date":1653977945,"question_id":72443017,"body_markdown":"\r\n\r\n \r\n\r\n    public class AFLMatch\r\n    {\r\n    private AFLTeam homeTeam;\r\n    private AFLTeam awayTeam;`\r\n    private int hTeam_score;\r\n    private int aTeam_score;\r\n    private int homeGoals;\r\n    private int homeBehinds;\r\n    private int awayGoals;\r\n    private int awayBehinds;\r\n\r\n    public AFLMatch(String hTeam, String aTeam) throws IOException\r\n    {\r\n      File homeTeam_file = new File(hTeam);\r\n      Scanner file1 = new Scanner(homeTeam_file);\r\n      for(int i = 0; i &lt; 24; i++)\r\n      {\r\n        this.homeTeam = new AFLTeam(file1.nextLine());\r\n      }\r\n      file1.close();\r\n\r\n      File awayTeam_file = new File(aTeam);\r\n      Scanner file2 = new Scanner(awayTeam_file);\r\n      for(int i = 0; i &lt; 24; i++)\r\n      {\r\n        this.awayTeam = new AFLTeam(file2.nextLine());\r\n      }\r\n       file2.close();\r\n      }\r\n    public static void main(String[] args) throws exception\r\n     {\r\n      AFLMatch match = new AFLMatch(MelbourneDemons.txt, WesternBulldogs.txt);\r\n     }\r\n    }\r\n\r\n\r\n**Text file format:\r\n------------------------**\r\n\r\n    Melbourne Demons\\n\r\n    Simon Goodwin, COACH\\n\r\n    14, Michael Hibberd, FB\\n\r\n    1, Steven May, FB\\n\r\n    8, Jake Lever, FB\\n\r\n    17, Jake Bowey, HB\\n\r\n    35, Harrison Petty, HB\\n\r\n    3, Christian Salem, HB\\n\r\n    10, Angus Brayshaw, C\\n\r\n    5, Christian Petracca, C\\n\r\n    15, Ed Langdon, C\\n\r\n    36, Kysaiah Pickett, HF\\n\r\n    25, Tom McDonald, HF\\n\r\n    4, James Harmes, HF\\n\r\n    30, Alex Neal-Bullen, FF\\n\r\n    50, Ben Brown, FF\\n\r\n    31, Bayley Frisch, FF\\n\r\n    11, Max Gawn, FOL, c\\n\r\n    13, Clayton Oliver, FOL\\n\r\n    7, Jack Viney, FOL\\n\r\n    6, Luke Jackson, IC\\n\r\n    9, Charlie Spargo, IC\\n\r\n    24, Trent Rivers, IC\\n\r\n    32, Tom Sparrow, IC\\n\r\n    -------------------------------","title":"Can a line from a text file be accepted as several arguments in a class constructor?","body":"<pre><code>public class AFLMatch\n{\nprivate AFLTeam homeTeam;\nprivate AFLTeam awayTeam;`\nprivate int hTeam_score;\nprivate int aTeam_score;\nprivate int homeGoals;\nprivate int homeBehinds;\nprivate int awayGoals;\nprivate int awayBehinds;\n\npublic AFLMatch(String hTeam, String aTeam) throws IOException\n{\n  File homeTeam_file = new File(hTeam);\n  Scanner file1 = new Scanner(homeTeam_file);\n  for(int i = 0; i &lt; 24; i++)\n  {\n    this.homeTeam = new AFLTeam(file1.nextLine());\n  }\n  file1.close();\n\n  File awayTeam_file = new File(aTeam);\n  Scanner file2 = new Scanner(awayTeam_file);\n  for(int i = 0; i &lt; 24; i++)\n  {\n    this.awayTeam = new AFLTeam(file2.nextLine());\n  }\n   file2.close();\n  }\npublic static void main(String[] args) throws exception\n {\n  AFLMatch match = new AFLMatch(MelbourneDemons.txt, WesternBulldogs.txt);\n }\n}\n</code></pre>\n<p><strong>Text file format:\n------------------------</strong></p>\n<pre><code>Melbourne Demons\\n\nSimon Goodwin, COACH\\n\n14, Michael Hibberd, FB\\n\n1, Steven May, FB\\n\n8, Jake Lever, FB\\n\n17, Jake Bowey, HB\\n\n35, Harrison Petty, HB\\n\n3, Christian Salem, HB\\n\n10, Angus Brayshaw, C\\n\n5, Christian Petracca, C\\n\n15, Ed Langdon, C\\n\n36, Kysaiah Pickett, HF\\n\n25, Tom McDonald, HF\\n\n4, James Harmes, HF\\n\n30, Alex Neal-Bullen, FF\\n\n50, Ben Brown, FF\\n\n31, Bayley Frisch, FF\\n\n11, Max Gawn, FOL, c\\n\n13, Clayton Oliver, FOL\\n\n7, Jack Viney, FOL\\n\n6, Luke Jackson, IC\\n\n9, Charlie Spargo, IC\\n\n24, Trent Rivers, IC\\n\n32, Tom Sparrow, IC\\n\n-------------------------------\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":8965842,"reputation":81,"user_id":6686529,"display_name":"Ameen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653572101,"creation_date":1653572101,"answer_id":72392696,"question_id":72392414,"body_markdown":"You need to scale your image, add this property and change the fitCenter by the one that corresponds to your criteria `android:scaleType=&quot;fitCenter&quot;`. ","title":"How to Resize background image to match the Layout?","body":"<p>You need to scale your image, add this property and change the fitCenter by the one that corresponds to your criteria <code>android:scaleType=&quot;fitCenter&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":22402825,"reputation":46,"user_id":16612929,"display_name":"ginger_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653581188,"creation_date":1653581188,"answer_id":72394799,"question_id":72392414,"body_markdown":"Hope [this](https://diy.stackexchange.com) helps. I think you have to add : \r\n   \r\n``` \r\nandroid:scaleType=&quot;fitXY&quot;\r\nandroid:adjustViewBounds=&quot;true&quot;\r\n```\r\nBut still, check out the link I attached, so you can have a better understanding.","title":"How to Resize background image to match the Layout?","body":"<p>Hope <a href=\"https://diy.stackexchange.com\">this</a> helps. I think you have to add :</p>\n<pre><code>android:scaleType=&quot;fitXY&quot;\nandroid:adjustViewBounds=&quot;true&quot;\n</code></pre>\n<p>But still, check out the link I attached, so you can have a better understanding.</p>\n"},{"tags":[],"owner":{"account_id":19040401,"reputation":98,"user_id":13900631,"display_name":"Nandala Abhinav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653650322,"creation_date":1653650322,"answer_id":72404577,"question_id":72392414,"body_markdown":"There are android scale types which you can refer **CENTER, CENTER_CROP, CENTER_INSIDE, FIT_CENTER, FIT_END, FIT_START, FIT_XY and MATRIX.** which can be used as per your requirement. But as you mentioned you can try `android:scaleType=&quot;center_crop&quot;` which crops the image a bit but covers the whole screen","title":"How to Resize background image to match the Layout?","body":"<p>There are android scale types which you can refer <strong>CENTER, CENTER_CROP, CENTER_INSIDE, FIT_CENTER, FIT_END, FIT_START, FIT_XY and MATRIX.</strong> which can be used as per your requirement. But as you mentioned you can try <code>android:scaleType=&quot;center_crop&quot;</code> which crops the image a bit but covers the whole screen</p>\n"},{"tags":[],"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653999302,"creation_date":1653999302,"answer_id":72447630,"question_id":72392414,"body_markdown":"This Should do the trick\r\n```\r\nandroid:scaleType=&quot;fitXY&quot;\r\nandroid:adjustViewBounds=&quot;true&quot;\r\n```","title":"How to Resize background image to match the Layout?","body":"<p>This Should do the trick</p>\n<pre><code>android:scaleType=&quot;fitXY&quot;\nandroid:adjustViewBounds=&quot;true&quot;\n</code></pre>\n"}],"owner":{"account_id":25390453,"reputation":1,"user_id":19201538,"display_name":"Chunchunmaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1653999302,"creation_date":1653570797,"question_id":72392414,"body_markdown":"I have a question, how do you resize a background image in android studio to match the whole layout for example:\r\nI have a drawable that is landscape by default, but my layout is horizontal, I want to decrease the width and increase the height of thag photo to match thr layout, how do I do that??","title":"How to Resize background image to match the Layout?","body":"<p>I have a question, how do you resize a background image in android studio to match the whole layout for example:\nI have a drawable that is landscape by default, but my layout is horizontal, I want to decrease the width and increase the height of thag photo to match thr layout, how do I do that??</p>\n"},{"tags":["java","android","arrays","performance","kotlin"],"comments":[{"owner":{"account_id":2213365,"reputation":2521,"user_id":4101826,"accept_rate":75,"display_name":"Mitesh Vanaliya"},"score":1,"creation_date":1653998479,"post_id":72446138,"comment_id":127982673,"body_markdown":"Can you please elaborate your question ?\nAdd more details what you want and what you have tried ?","body":"Can you please elaborate your question ? Add more details what you want and what you have tried ?"}],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653999187,"creation_date":1653999187,"answer_id":72447597,"question_id":72446138,"body_markdown":"Here, a benchmark test written in Kotlin. \r\n\r\n| Number Of Items in Array | Test count | Iterative Access | Random Access |\r\n| -- | -- |-- |-- |\r\n| 100_000 | 100 | 0.02 ms | 0.12 ms |\r\n| 1_000_000 | 100 | 6.15 ms | 74.26 ms |\r\n| 5_000_000 | 100 | 33.36 ms | 526.46 ms |\r\n\r\n```kotlin\r\nimport kotlin.time.*\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n  val tester = ArrayAccessTest()\r\n\r\n\tval maxIteration = 100\r\n\tval numberOfItems = 1_000_000\r\n\tval myArrayForIterate = Array(numberOfItems) { 0 }\r\n\tval myArrayForRandom = Array(numberOfItems) { 0 }\r\n\r\n  val meanOfIterate = tester.iterate(myArrayForIterate, maxIteration)\r\n  val meanOfRandom = tester.randomAccess(myArrayForRandom, maxIteration)\r\n\r\n  println(&quot;elapsed mean time for iterative access = $meanOfIterate ms&quot;)\r\n  println(&quot;elapsed mean time for random access = $meanOfRandom ms&quot;)\r\n}\r\n\r\n@OptIn(ExperimentalTime::class)\r\nclass ArrayAccessTest {\r\n\r\n  fun iterate(myArray: Array&lt;Int&gt;, maxIteration: Int): Double {\r\n    val elapsedTimes = mutableListOf&lt;Duration&gt;()\r\n\r\n    for (i in 0 until maxIteration) {\r\n      val elapsedTime = measureTime {\r\n        for (index in myArray.indices) {\r\n          myArray[index]++\r\n        }\r\n      }\r\n      elapsedTimes.add(elapsedTime)\r\n    }\r\n\r\n    return getMeanOf(elapsedTimes)\r\n  }\r\n\r\n  fun randomAccess(myArray: Array&lt;Int&gt;, maxIteration: Int): Double {\r\n    val elapsedTimes = mutableListOf&lt;Duration&gt;()\r\n    val randomIndexes: Array&lt;Int&gt; = myArray.indices.shuffled().toTypedArray()\r\n\r\n    for (i in 0 until maxIteration) {\r\n      val elapsedTime = measureTime {\r\n        for (index in randomIndexes) {\r\n          myArray[index]++\r\n        }\r\n      }\r\n      elapsedTimes.add(elapsedTime)\r\n    }\r\n\r\n    return getMeanOf(elapsedTimes)\r\n  }\r\n\r\n  private fun getMeanOf(elapsedTimes: List&lt;Duration&gt;): Double {\r\n    var total = 0.0\r\n    for (elapsedTime in elapsedTimes) {\r\n      total += elapsedTime.inWholeMilliseconds\r\n    }\r\n    return total / elapsedTimes.size\r\n  }\r\n\r\n}\r\n```","title":"Does Kotlin/Java use a cache system to improve the performance when iterating arrays?","body":"<p>Here, a benchmark test written in Kotlin.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Number Of Items in Array</th>\n<th>Test count</th>\n<th>Iterative Access</th>\n<th>Random Access</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>100_000</td>\n<td>100</td>\n<td>0.02 ms</td>\n<td>0.12 ms</td>\n</tr>\n<tr>\n<td>1_000_000</td>\n<td>100</td>\n<td>6.15 ms</td>\n<td>74.26 ms</td>\n</tr>\n<tr>\n<td>5_000_000</td>\n<td>100</td>\n<td>33.36 ms</td>\n<td>526.46 ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import kotlin.time.*\n\nfun main(args: Array&lt;String&gt;) {\n  val tester = ArrayAccessTest()\n\n    val maxIteration = 100\n    val numberOfItems = 1_000_000\n    val myArrayForIterate = Array(numberOfItems) { 0 }\n    val myArrayForRandom = Array(numberOfItems) { 0 }\n\n  val meanOfIterate = tester.iterate(myArrayForIterate, maxIteration)\n  val meanOfRandom = tester.randomAccess(myArrayForRandom, maxIteration)\n\n  println(&quot;elapsed mean time for iterative access = $meanOfIterate ms&quot;)\n  println(&quot;elapsed mean time for random access = $meanOfRandom ms&quot;)\n}\n\n@OptIn(ExperimentalTime::class)\nclass ArrayAccessTest {\n\n  fun iterate(myArray: Array&lt;Int&gt;, maxIteration: Int): Double {\n    val elapsedTimes = mutableListOf&lt;Duration&gt;()\n\n    for (i in 0 until maxIteration) {\n      val elapsedTime = measureTime {\n        for (index in myArray.indices) {\n          myArray[index]++\n        }\n      }\n      elapsedTimes.add(elapsedTime)\n    }\n\n    return getMeanOf(elapsedTimes)\n  }\n\n  fun randomAccess(myArray: Array&lt;Int&gt;, maxIteration: Int): Double {\n    val elapsedTimes = mutableListOf&lt;Duration&gt;()\n    val randomIndexes: Array&lt;Int&gt; = myArray.indices.shuffled().toTypedArray()\n\n    for (i in 0 until maxIteration) {\n      val elapsedTime = measureTime {\n        for (index in randomIndexes) {\n          myArray[index]++\n        }\n      }\n      elapsedTimes.add(elapsedTime)\n    }\n\n    return getMeanOf(elapsedTimes)\n  }\n\n  private fun getMeanOf(elapsedTimes: List&lt;Duration&gt;): Double {\n    var total = 0.0\n    for (elapsedTime in elapsedTimes) {\n      total += elapsedTime.inWholeMilliseconds\n    }\n    return total / elapsedTimes.size\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72447597,"answer_count":1,"score":3,"last_activity_date":1653999187,"creation_date":1653992738,"question_id":72446138,"body_markdown":"I mean, is this faster :\r\n\r\n    myArray[0]++\r\n    myArray[1]++\r\n    myArray[2]++\r\n    ...\r\n    myArray[1000000000]++\r\n\r\nthan this :\r\n\r\n    myArray[864981]++\r\n    myArray[526]++\r\n    myArray[19347]++\r\n    ...\r\n    myArray[86198116]++\r\n\r\nOr is it exactly the same?\r\n\r\nI know this is micro optimization, but for complex meshes (in openGL) it might have an impact.","title":"Does Kotlin/Java use a cache system to improve the performance when iterating arrays?","body":"<p>I mean, is this faster :</p>\n<pre><code>myArray[0]++\nmyArray[1]++\nmyArray[2]++\n...\nmyArray[1000000000]++\n</code></pre>\n<p>than this :</p>\n<pre><code>myArray[864981]++\nmyArray[526]++\nmyArray[19347]++\n...\nmyArray[86198116]++\n</code></pre>\n<p>Or is it exactly the same?</p>\n<p>I know this is micro optimization, but for complex meshes (in openGL) it might have an impact.</p>\n"},{"tags":["java","mysql","jdbc","resultset","getstring"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1601103555,"post_id":64074710,"comment_id":113305915,"body_markdown":"Perhaps if you use `println` instead of `print`, you&#39;ll see 2 values printed, instead of a single value of twice the length. --- If you believe there is 1 record with status = 0, and nothing is printed, then check your assumptions, which includes making sure that any changes to the table have been committed.","body":"Perhaps if you use <code>println</code> instead of <code>print</code>, you&#39;ll see 2 values printed, instead of a single value of twice the length. --- If you believe there is 1 record with status = 0, and nothing is printed, then check your assumptions, which includes making sure that any changes to the table have been committed."},{"owner":{"account_id":3034219,"reputation":876,"user_id":2572685,"display_name":"Alexander Makarov"},"score":0,"creation_date":1601104031,"post_id":64074710,"comment_id":113306015,"body_markdown":"you should use re.hasNext() in the while cycle, get a value in the while as such String value = re.getString(&quot;uid&quot;)","body":"you should use re.hasNext() in the while cycle, get a value in the while as such String value = re.getString(&quot;uid&quot;)"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1601108830,"post_id":64074710,"comment_id":113307063,"body_markdown":"@AlexanderMakarov A result set has no `hasNext()` method. The use of `next()` as shown is the right usage.","body":"@AlexanderMakarov A result set has no <code>hasNext()</code> method. The use of <code>next()</code> as shown is the right usage."},{"owner":{"account_id":15569112,"reputation":1,"user_id":11232042,"display_name":"Homerux"},"score":0,"creation_date":1601127633,"post_id":64074710,"comment_id":113311646,"body_markdown":"code not run into {} of while loop, i don&#39;t know why?","body":"code not run into {} of while loop, i don&#39;t know why?"},{"owner":{"account_id":8037178,"reputation":2545,"user_id":6059951,"accept_rate":86,"display_name":"iminiki"},"score":0,"creation_date":1601284780,"post_id":64074710,"comment_id":113348996,"body_markdown":"Edited the question in order to make it more sense.","body":"Edited the question in order to make it more sense."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601109135,"creation_date":1601109135,"answer_id":64075547,"question_id":64074710,"body_markdown":"By default the `PrintWriter` assigned to `System.out` is buffered, which means it will collect characters and flush them if its buffer is full, or if content with a new-line character was added.\r\n\r\nAs you use `System.out.print`, there is no new-line character. To get your prints to show, you need to print more so the buffer is full, or you need to use `System.out.println(&quot;uid__&quot;+re.getString(&quot;uid&quot;));` (so each uid is on its own line, and flushed automatically), or - after the loop - add a `System.out.println();` (which will flush automatically) or `System.out.flush()` (an explicit flush).","title":"Printing a result set doesn&#39;t show all rows","body":"<p>By default the <code>PrintWriter</code> assigned to <code>System.out</code> is buffered, which means it will collect characters and flush them if its buffer is full, or if content with a new-line character was added.</p>\n<p>As you use <code>System.out.print</code>, there is no new-line character. To get your prints to show, you need to print more so the buffer is full, or you need to use <code>System.out.println(&quot;uid__&quot;+re.getString(&quot;uid&quot;));</code> (so each uid is on its own line, and flushed automatically), or - after the loop - add a <code>System.out.println();</code> (which will flush automatically) or <code>System.out.flush()</code> (an explicit flush).</p>\n"},{"tags":[],"owner":{"account_id":20732936,"reputation":11,"user_id":15224437,"display_name":"osnineto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653999183,"creation_date":1653999183,"answer_id":72447596,"question_id":64074710,"body_markdown":"I think you may be jumping the first line of the result of your query, try to set your cursor before the result begins by using `re.beforeFirst().`\r\n\r\nWhen you go to your while condition by calling `re.next()`, you are moving your cursor to the next line of the results, which means that if you are in the first line of your result set, it will go to second line when it goes inside the while loop.\r\nYou can also try to use do {} while () instead of while. \r\n","title":"Printing a result set doesn&#39;t show all rows","body":"<p>I think you may be jumping the first line of the result of your query, try to set your cursor before the result begins by using <code>re.beforeFirst().</code></p>\n<p>When you go to your while condition by calling <code>re.next()</code>, you are moving your cursor to the next line of the results, which means that if you are in the first line of your result set, it will go to second line when it goes inside the while loop.\nYou can also try to use do {} while () instead of while.</p>\n"}],"owner":{"account_id":15569112,"reputation":1,"user_id":11232042,"display_name":"Homerux"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653999183,"creation_date":1601102767,"question_id":64074710,"body_markdown":"I have some codes line as\r\n\r\n```\r\nClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t        connect = DriverManager\r\n\t                .getConnection(&quot;jdbc:mysql://localhost/&quot;+Contant.DB_NAME+&quot;?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;&quot;\r\n\t                        + &quot;user=&quot;+Contant.MYSQL_USER+&quot;&amp;password=&quot;+Contant.MYSQL_PASS);\t\r\n\t        statement = connect.createStatement();\r\n          preparedStatement = connect.prepareStatement(&quot;select * from history where status = 0&quot;);\r\n           re = preparedStatement.executeQuery();\r\n          while (re.next()) {\r\n\t        \tSystem.out.print(&quot;uid__&quot;+re.getString(&quot;uid&quot;));\r\n            }\r\n```\r\nIn my database, I have 2 rows that meet the condition `status = 0`.\r\n\r\nWhen executing `System.out.print(&quot;uid__&quot;+re.getString(&quot;uid&quot;));` it only shows one row. What am I doing wrong?","title":"Printing a result set doesn&#39;t show all rows","body":"<p>I have some codes line as</p>\n<pre><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connect = DriverManager\n                    .getConnection(&quot;jdbc:mysql://localhost/&quot;+Contant.DB_NAME+&quot;?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;&quot;\n                            + &quot;user=&quot;+Contant.MYSQL_USER+&quot;&amp;password=&quot;+Contant.MYSQL_PASS);  \n            statement = connect.createStatement();\n          preparedStatement = connect.prepareStatement(&quot;select * from history where status = 0&quot;);\n           re = preparedStatement.executeQuery();\n          while (re.next()) {\n                System.out.print(&quot;uid__&quot;+re.getString(&quot;uid&quot;));\n            }\n</code></pre>\n<p>In my database, I have 2 rows that meet the condition <code>status = 0</code>.</p>\n<p>When executing <code>System.out.print(&quot;uid__&quot;+re.getString(&quot;uid&quot;));</code> it only shows one row. What am I doing wrong?</p>\n"},{"tags":["java","string","apache-stringutils"],"answers":[{"tags":[],"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653999156,"creation_date":1653998194,"answer_id":72447360,"question_id":72447134,"body_markdown":"    test = test.replaceAll(&quot;[  ]+&quot;,&quot; &quot;);\r\n    test = test.replaceAll(&quot;- &quot;,&quot;-&quot;);\r\n    test = test.replaceAll(&quot; -&quot;,&quot;-&quot;);\r\n    test = test.replaceAll(&quot;^\\\\s+&quot;,&quot;&quot;); ","title":"remove space before and after - in the string","body":"<pre><code>test = test.replaceAll(&quot;[  ]+&quot;,&quot; &quot;);\ntest = test.replaceAll(&quot;- &quot;,&quot;-&quot;);\ntest = test.replaceAll(&quot; -&quot;,&quot;-&quot;);\ntest = test.replaceAll(&quot;^\\\\s+&quot;,&quot;&quot;); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653998715,"creation_date":1653998715,"answer_id":72447479,"question_id":72447134,"body_markdown":"The utility removes all extra spaces but leaves one space. In other words where it find a sequence of more than one space it removes all but one space. So your result is as expected. If you need it the way you wrote: &quot;Hi-World Java&quot; then you need your own logic, as specified in some other answers here.","title":"remove space before and after - in the string","body":"<p>The utility removes all extra spaces but leaves one space. In other words where it find a sequence of more than one space it removes all but one space. So your result is as expected. If you need it the way you wrote: &quot;Hi-World Java&quot; then you need your own logic, as specified in some other answers here.</p>\n"}],"owner":{"account_id":944889,"reputation":878,"user_id":972314,"accept_rate":48,"display_name":"sree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72447360,"answer_count":2,"score":1,"last_activity_date":1653999156,"creation_date":1653997196,"question_id":72447134,"body_markdown":"I am trying to remove extra spaces in the string.To achieve this I used normalizeSpace method in StringUtils class. But the problem is it is not removed the spaces before and after &quot;-&quot;\r\n\r\n    public static void main(String[] args)\r\n    {\r\n    String test = &quot;  Hi   -  World    Java&quot;;\r\n    System.out.println(StringUtils.normalizeSpace(test));\r\n    }\r\n\r\nOutput as: &quot;Hi - World Java&quot; The expected output is: &quot;Hi-World Java&quot;\r\n\r\nAny inputs?\r\n\r\nNote: Below ticket solution is during concatenating strings. Where as we have data in a single string. So this ticket is not a duplicate ticket.\r\nhttps://stackoverflow.com/questions/69194588/remove-spaces-before-a-punctuation-mark-in-a-string","title":"remove space before and after - in the string","body":"<p>I am trying to remove extra spaces in the string.To achieve this I used normalizeSpace method in StringUtils class. But the problem is it is not removed the spaces before and after &quot;-&quot;</p>\n<pre><code>public static void main(String[] args)\n{\nString test = &quot;  Hi   -  World    Java&quot;;\nSystem.out.println(StringUtils.normalizeSpace(test));\n}\n</code></pre>\n<p>Output as: &quot;Hi - World Java&quot; The expected output is: &quot;Hi-World Java&quot;</p>\n<p>Any inputs?</p>\n<p>Note: Below ticket solution is during concatenating strings. Where as we have data in a single string. So this ticket is not a duplicate ticket.\n<a href=\"https://stackoverflow.com/questions/69194588/remove-spaces-before-a-punctuation-mark-in-a-string\">Remove spaces before a punctuation mark in a string</a></p>\n"},{"tags":["java","spring-boot","kotlin","spring-data-jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":22312886,"reputation":121,"user_id":16536642,"display_name":"Muhammad Abdullah Aqib"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653998648,"creation_date":1653998648,"answer_id":72447470,"question_id":70925515,"body_markdown":"The solution is:\r\n\r\n 1. Right-click the project folder\r\n 2. Select Maven\r\n 3. Select **Generate Sources And Update Folders**\r\n\r\nThen, Intellij automatically imports generated sources to the project.","title":"QueryDSL Q classes are generated in target folder but cannot be imported in other spring boot modules","body":"<p>The solution is:</p>\n<ol>\n<li>Right-click the project folder</li>\n<li>Select Maven</li>\n<li>Select <strong>Generate Sources And Update Folders</strong></li>\n</ol>\n<p>Then, Intellij automatically imports generated sources to the project.</p>\n"}],"owner":{"account_id":10908350,"reputation":337,"user_id":8525484,"display_name":"Noah13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653998648,"creation_date":1643629949,"question_id":70925515,"body_markdown":"I have multi module project (spring boot) and I configured QueryDSL in dao module it&#39;s working perfectly and it generated all Q classes.\r\nBut when I import this module in service module and I import a Q class in the IDE (Intellij) it does not show any error but when running mvn clean install I get an error that the class is unresolved.\r\n\r\n    Unresolved reference: QRole\r\n\r\nHere is the code for pom (dao module) : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.test.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;test-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;artifactId&gt;dao&lt;/artifactId&gt;\r\n        &lt;description&gt;Module that have repositories and entities.&lt;/description&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- QueryDSL JPA --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Database &amp; JPA --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Kotlin --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;querydsl.version&gt;5.0.0&lt;/querydsl.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerPlugins&gt;\r\n                            &lt;plugin&gt;jpa&lt;/plugin&gt;\r\n                            &lt;plugin&gt;spring&lt;/plugin&gt;\r\n                        &lt;/compilerPlugins&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;annotationProcessorPath&gt;\r\n                                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;querydsl-kotlin-codegen&lt;/artifactId&gt;\r\n                                &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n                            &lt;/annotationProcessorPath&gt;\r\n                            &lt;annotationProcessorPath&gt;\r\n                                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                                &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n                                &lt;classifier&gt;jpa&lt;/classifier&gt;\r\n                            &lt;/annotationProcessorPath&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                        &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\r\n                        &lt;args&gt;\r\n                            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n                        &lt;/args&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;compile&lt;/id&gt;\r\n                            &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceDirs&gt;\r\n                                    &lt;source&gt;src/main/kotlin&lt;/source&gt;\r\n                                    &lt;source&gt;src/main/resources&lt;/source&gt;\r\n                                &lt;/sourceDirs&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;kapt&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;kapt&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceDirs&gt;\r\n                                    &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\r\n                                &lt;/sourceDirs&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;test-compile&lt;/id&gt;\r\n                            &lt;phase&gt;process-test-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceDirs&gt;\r\n                                    &lt;sourceDir&gt;src/test/kotlin&lt;/sourceDir&gt;\r\n                                    &lt;sourceDir&gt;target/generated-sources/kapt/test&lt;/sourceDir&gt;\r\n                                &lt;/sourceDirs&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n                            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n                            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"QueryDSL Q classes are generated in target folder but cannot be imported in other spring boot modules","body":"<p>I have multi module project (spring boot) and I configured QueryDSL in dao module it's working perfectly and it generated all Q classes.\nBut when I import this module in service module and I import a Q class in the IDE (Intellij) it does not show any error but when running mvn clean install I get an error that the class is unresolved.</p>\n<pre><code>Unresolved reference: QRole\n</code></pre>\n<p>Here is the code for pom (dao module) :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.test.test&lt;/groupId&gt;\n        &lt;artifactId&gt;test-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;artifactId&gt;dao&lt;/artifactId&gt;\n    &lt;description&gt;Module that have repositories and entities.&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- QueryDSL JPA --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Database &amp; JPA --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Kotlin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;querydsl.version&gt;5.0.0&lt;/querydsl.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;annotationProcessorPath&gt;\n                            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                            &lt;artifactId&gt;querydsl-kotlin-codegen&lt;/artifactId&gt;\n                            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n                        &lt;/annotationProcessorPath&gt;\n                        &lt;annotationProcessorPath&gt;\n                            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n                            &lt;classifier&gt;jpa&lt;/classifier&gt;\n                        &lt;/annotationProcessorPath&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;source&gt;src/main/kotlin&lt;/source&gt;\n                                &lt;source&gt;src/main/resources&lt;/source&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;kapt&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;kapt&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;process-test-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;src/test/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;target/generated-sources/kapt/test&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arrays","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":25275476,"reputation":61,"user_id":19104187,"display_name":"AHMED AGHADI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653998368,"creation_date":1653998368,"answer_id":72447404,"question_id":72447174,"body_markdown":"You should initialize ``` int l = 0``` outside the loop. As it will be re-initialized when inner loop will run.\r\n\r\nSo your final code would look like :-\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class TikTakToe {\r\n    public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    \r\n    char[][] TikTakToe = new char[3][3];\r\n    System.out.print(&quot;Enter cells: &quot;);\r\n    String enter = scanner.next();\r\n\r\n    int l = 0;                    // initialize here\r\n\r\n    for (int i = 0; i &lt; TikTakToe.length; i++) {\r\n        for (int j = 0; j &lt; TikTakToe[i].length &amp;&amp; l &lt; enter.length(); j++, l++) {\r\n            TikTakToe[i][j] = enter.charAt(l);\r\n        }\r\n    }\r\n    \r\n    for (char[] chars : TikTakToe) {\r\n        System.out.println(Arrays.toString(chars).substring(1).replaceFirst(&quot;]&quot;, \r\n        &quot;&quot;).replace(&quot;, &quot;, &quot; &quot;));\r\n    }\r\n}\r\n```","title":"How to fill 2D array using input (scanner method) without spaces","body":"<p>You should initialize <code> int l = 0</code> outside the loop. As it will be re-initialized when inner loop will run.</p>\n<p>So your final code would look like :-</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\n\npublic class TikTakToe {\n    public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    char[][] TikTakToe = new char[3][3];\n    System.out.print(&quot;Enter cells: &quot;);\n    String enter = scanner.next();\n\n    int l = 0;                    // initialize here\n\n    for (int i = 0; i &lt; TikTakToe.length; i++) {\n        for (int j = 0; j &lt; TikTakToe[i].length &amp;&amp; l &lt; enter.length(); j++, l++) {\n            TikTakToe[i][j] = enter.charAt(l);\n        }\n    }\n    \n    for (char[] chars : TikTakToe) {\n        System.out.println(Arrays.toString(chars).substring(1).replaceFirst(&quot;]&quot;, \n        &quot;&quot;).replace(&quot;, &quot;, &quot; &quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10157288,"reputation":484,"user_id":9661573,"display_name":"Moish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653998597,"creation_date":1653998597,"answer_id":72447456,"question_id":72447174,"body_markdown":"You&#39;re problem is that you defined the variable ```l``` in the nested ```for``` loop. Consequently, when that loop returns, `l` is deleted.\r\n\r\nWhat you would need to do is define `l` before the first loop, that way its scope is the whole method.\r\n\r\n    ...\r\n    char[][] TikTakToe = new char[3][3];\r\n    System.out.print(&quot;Enter cells: &quot;);\r\n    String enter = scanner.next();\r\n    int l = 0; // &lt;-- **I moved the declaration here**\r\n    for (int i = 0; i &lt; TikTakToe.length; i++) {\r\n        for (int j = 0 /*removed the declaration from here*/; j &lt; TikTakToe[i].length &amp;&amp; l &lt; enter.length(); j++, l++) {\r\n            TikTakToe[i][j] = enter.charAt(l);\r\n        }\r\n    }\r\n    ...\r\n","title":"How to fill 2D array using input (scanner method) without spaces","body":"<p>You're problem is that you defined the variable <code>l</code> in the nested <code>for</code> loop. Consequently, when that loop returns, <code>l</code> is deleted.</p>\n<p>What you would need to do is define <code>l</code> before the first loop, that way its scope is the whole method.</p>\n<pre><code>...\nchar[][] TikTakToe = new char[3][3];\nSystem.out.print(&quot;Enter cells: &quot;);\nString enter = scanner.next();\nint l = 0; // &lt;-- **I moved the declaration here**\nfor (int i = 0; i &lt; TikTakToe.length; i++) {\n    for (int j = 0 /*removed the declaration from here*/; j &lt; TikTakToe[i].length &amp;&amp; l &lt; enter.length(); j++, l++) {\n        TikTakToe[i][j] = enter.charAt(l);\n    }\n}\n...\n</code></pre>\n"}],"owner":{"account_id":25435481,"reputation":25,"user_id":19239269,"display_name":"Ruzvelt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72447456,"answer_count":2,"score":0,"last_activity_date":1653998597,"creation_date":1653997406,"question_id":72447174,"body_markdown":"I need to fill 2D array using input without spaces, so for this I&#39;m trying to use &#39;String&#39; firstly.\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n\r\n\r\n    public class TikTakToe {\r\n\t    public static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tchar[][] TikTakToe = new char[3][3];\r\n\t\tSystem.out.print(&quot;Enter cells: &quot;);\r\n\t\tString enter = scanner.next();\r\n\t\tfor (int i = 0; i &lt; TikTakToe.length; i++) {\r\n\t\t\tfor (int j = 0, l = 0; j &lt; TikTakToe[i].length &amp;&amp; l &lt; enter.length(); j++, l++) {\r\n\t\t\t\tTikTakToe[i][j] = enter.charAt(l);\r\n\t\t\t}\r\n\t\t}\r\n        \r\n\t\tfor (char[] chars : TikTakToe) {\r\n            System.out.println(Arrays.toString(chars).substring(1).replaceFirst(&quot;]&quot;, \r\n            &quot;&quot;).replace(&quot;, &quot;, &quot; &quot;));\r\n        }\r\n\t}\r\n}\r\n\r\n    Input: XOXOXOXOX\r\n    Output: \r\n    X O X\r\n    X O X\r\n    X O X\r\n\r\n\r\nThe problem in this solving that variable &#39;l&#39; resets after outer &#39;for&#39; loop goes to the next stage. How can I fix it?","title":"How to fill 2D array using input (scanner method) without spaces","body":"<p>I need to fill 2D array using input without spaces, so for this I'm trying to use 'String' firstly.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\n\npublic class TikTakToe {\n    public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    char[][] TikTakToe = new char[3][3];\n    System.out.print(&quot;Enter cells: &quot;);\n    String enter = scanner.next();\n    for (int i = 0; i &lt; TikTakToe.length; i++) {\n        for (int j = 0, l = 0; j &lt; TikTakToe[i].length &amp;&amp; l &lt; enter.length(); j++, l++) {\n            TikTakToe[i][j] = enter.charAt(l);\n        }\n    }\n    \n    for (char[] chars : TikTakToe) {\n        System.out.println(Arrays.toString(chars).substring(1).replaceFirst(&quot;]&quot;, \n        &quot;&quot;).replace(&quot;, &quot;, &quot; &quot;));\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>Input: XOXOXOXOX\nOutput: \nX O X\nX O X\nX O X\n</code></pre>\n<p>The problem in this solving that variable 'l' resets after outer 'for' loop goes to the next stage. How can I fix it?</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1653997931,"post_id":72447251,"comment_id":127982468,"body_markdown":"Could you have a look at the commit comments in the git repository?","body":"Could you have a look at the commit comments in the git repository?"},{"owner":{"account_id":13596332,"reputation":161,"user_id":10239095,"display_name":"Nabla"},"score":0,"creation_date":1653998086,"post_id":72447251,"comment_id":127982530,"body_markdown":"I cloned repo to my PC and executed following command:\n\ngit log --full-history --oneline -1 -- spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.java\n\nThe output is: 61764389c2 Merge branch &#39;2.3.x&#39; into 2.4.x","body":"I cloned repo to my PC and executed following command:  git log --full-history --oneline -1 -- spring-boot-project/spring-boot-actuator-autoconfigure/src/m&zwnj;&#8203;ain/java/org/springf&zwnj;&#8203;ramework/boot/actuat&zwnj;&#8203;e/autoconfigure/heal&zwnj;&#8203;th/HealthIndicatorAu&zwnj;&#8203;toConfiguration.java  The output is: 61764389c2 Merge branch &#39;2.3.x&#39; into 2.4.x"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1653999088,"post_id":72447251,"comment_id":127982907,"body_markdown":"I just had a look at [`HealthIndicatorAutoConfiguration`](https://github.com/spring-projects/spring-boot/blob/2.3.x/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.java) in the official repository and it seems it already got deprecated in version 2.2.0 and finally remove in 2.4.x (switching tags for that file). The Javadoc states: &quot;@deprecated since 2.2.0 for removal in 2.4.0 in favor of HealthContributorAutoConfiguration&quot;. The situation is probably similar for the other classes.","body":"I just had a look at <a href=\"https://github.com/spring-projects/spring-boot/blob/2.3.x/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.java\" rel=\"nofollow noreferrer\"><code>HealthIndicatorAutoConfiguration</code></a> in the official repository and it seems it already got deprecated in version 2.2.0 and finally remove in 2.4.x (switching tags for that file). The Javadoc states: &quot;@deprecated since 2.2.0 for removal in 2.4.0 in favor of HealthContributorAutoConfiguration&quot;. The situation is probably similar for the other classes."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653998267,"creation_date":1653998267,"answer_id":72447377,"question_id":72447251,"body_markdown":"If you upgrade in stages, going from 2.2.x -&gt; 2.3.x -&gt; 2.4.x -&gt; 2.5.x -&gt; 2.6.x rather than jumping from 2.2 straight to 2.6, you&#39;ll see that the classes are deprecated for a period of time before they&#39;re removed. The deprecation message should point to a replacement. For example, `HealthIndicatorAutoConfiguration` was [deprecated in 2.2.0 in favor of `HealthContributorAutoConfiguration`](https://github.com/spring-projects/spring-boot/blob/7ed64f0677709e460fbcbc19539487d8f7e59965/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.java#L32).","title":"How to figure out why some file was deleted from spring-boot repository?","body":"<p>If you upgrade in stages, going from 2.2.x -&gt; 2.3.x -&gt; 2.4.x -&gt; 2.5.x -&gt; 2.6.x rather than jumping from 2.2 straight to 2.6, you'll see that the classes are deprecated for a period of time before they're removed. The deprecation message should point to a replacement. For example, <code>HealthIndicatorAutoConfiguration</code> was <a href=\"https://github.com/spring-projects/spring-boot/blob/7ed64f0677709e460fbcbc19539487d8f7e59965/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.java#L32\" rel=\"nofollow noreferrer\">deprecated in 2.2.0 in favor of <code>HealthContributorAutoConfiguration</code></a>.</p>\n"}],"owner":{"account_id":13596332,"reputation":161,"user_id":10239095,"display_name":"Nabla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72447377,"answer_count":1,"score":0,"last_activity_date":1653998267,"creation_date":1653997718,"question_id":72447251,"body_markdown":"I have been updating my spring boot application from v2.2.1.RELEASE to v2.6.6 and I&#39;ve noticed that one of configurations (HealthIndicatorAutoConfiguration for instance) doesn&#39;t belong to spring boot repository any more. Please, explain me how to figure out why authors delete it and what should I use instead? And what should I do if I can&#39;t find such information in release notes?\r\n\r\nP.S. Configurations also disappeared from other spring repositories (e.g. Spring Cloud Sleuth):\r\n* TraceAutoConfiguration.class\r\n* SleuthTagPropagationAutoConfiguration.class\r\n* TraceWebServletAutoConfiguration.class\r\n* SleuthLogAutoConfiguration.class","title":"How to figure out why some file was deleted from spring-boot repository?","body":"<p>I have been updating my spring boot application from v2.2.1.RELEASE to v2.6.6 and I've noticed that one of configurations (HealthIndicatorAutoConfiguration for instance) doesn't belong to spring boot repository any more. Please, explain me how to figure out why authors delete it and what should I use instead? And what should I do if I can't find such information in release notes?</p>\n<p>P.S. Configurations also disappeared from other spring repositories (e.g. Spring Cloud Sleuth):</p>\n<ul>\n<li>TraceAutoConfiguration.class</li>\n<li>SleuthTagPropagationAutoConfiguration.class</li>\n<li>TraceWebServletAutoConfiguration.class</li>\n<li>SleuthLogAutoConfiguration.class</li>\n</ul>\n"},{"tags":["java","xslt-1.0","apache-fop"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1653907679,"post_id":72432879,"comment_id":127958236,"body_markdown":"Returning a string from an extension function is not creating nodes on the XSLT side. Why are the XSLT 3 or XSLT 1 samples you linked to too complicated?","body":"Returning a string from an extension function is not creating nodes on the XSLT side. Why are the XSLT 3 or XSLT 1 samples you linked to too complicated?"},{"owner":{"account_id":3146499,"reputation":177,"user_id":2660889,"display_name":"Tumelo Galenos"},"score":0,"creation_date":1653910516,"post_id":72432879,"comment_id":127959229,"body_markdown":"@MartinHonnen\nBecause I have multiple words I need to highlight","body":"@MartinHonnen Because I have multiple words I need to highlight"},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1653911627,"post_id":72432879,"comment_id":127959629,"body_markdown":"@TumeloGalenos https://stackoverflow.com/a/60815422/3016153","body":"@TumeloGalenos <a href=\"https://stackoverflow.com/a/60815422/3016153\">stackoverflow.com/a/60815422/3016153</a>"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1653911859,"post_id":72432879,"comment_id":127959712,"body_markdown":"What exactly is not working, is there no yellow background on a `fo:inline` element? Is there a textual rendering of the markup e.g. you see `&lt;fo:inline ...&gt;&lt;/fo:inline&gt;` in the PDF? Or is the word `toHightLight` in the PDF instead of the terms? I think in the Java code you want `input.replaceAll(toHighlight, &quot;&lt;fo:inline background-color=\\&quot;yellow\\&quot;&gt;$0&lt;/fo:inline&gt;&quot;)`.","body":"What exactly is not working, is there no yellow background on a <code>fo:inline</code> element? Is there a textual rendering of the markup e.g. you see <code>&lt;fo:inline ...&gt;&lt;&#47;fo:inline&gt;</code> in the PDF? Or is the word <code>toHightLight</code> in the PDF instead of the terms? I think in the Java code you want <code>input.replaceAll(toHighlight, &quot;&lt;fo:inline background-color=\\&quot;yellow\\&quot;&gt;$0&lt;&#47;fo:inline&gt;&quot;)</code>."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1653911969,"post_id":72432879,"comment_id":127959765,"body_markdown":"P.S. If you able to use Java functions, you may consider doing this in two steps: (1) use Java to place a prefix and a suffix around the words you want to replace, then (2) use a recursive named template to wrap those words in markup. This will allow you to use regex to identify the search phrases  - something you cannot do in pure XSLT 1.0.","body":"P.S. If you able to use Java functions, you may consider doing this in two steps: (1) use Java to place a prefix and a suffix around the words you want to replace, then (2) use a recursive named template to wrap those words in markup. This will allow you to use regex to identify the search phrases  - something you cannot do in pure XSLT 1.0."},{"owner":{"account_id":3146499,"reputation":177,"user_id":2660889,"display_name":"Tumelo Galenos"},"score":0,"creation_date":1653913189,"post_id":72432879,"comment_id":127960236,"body_markdown":"@MartinHonnen sorry, I get &quot;&lt;fo:inline ...&gt;&lt;/fo:inline&gt;&quot; in the pdf as text. I think that&#39;s because of what you said: returning a string from an extension function does not create a node on the XSLT side.","body":"@MartinHonnen sorry, I get &quot;&lt;fo:inline ...&gt;&lt;/fo:inline&gt;&quot; in the pdf as text. I think that&#39;s because of what you said: returning a string from an extension function does not create a node on the XSLT side."},{"owner":{"account_id":3146499,"reputation":177,"user_id":2660889,"display_name":"Tumelo Galenos"},"score":0,"creation_date":1653921393,"post_id":72432879,"comment_id":127963363,"body_markdown":"@michael.hor257k  looking into stackoverflow.com/a/60815422/3016153, I almost got it working for me. The  multi-replace function won&#39;t budge when calling itself. It seems to lose the values for entries","body":"@michael.hor257k  looking into stackoverflow.com/a/60815422/3016153, I almost got it working for me. The  multi-replace function won&#39;t budge when calling itself. It seems to lose the values for entries"},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1653921833,"post_id":72432879,"comment_id":127963581,"body_markdown":"@TumeloGalenos Post a [mcve] showing the problem.","body":"@TumeloGalenos Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing the problem."},{"owner":{"account_id":3146499,"reputation":177,"user_id":2660889,"display_name":"Tumelo Galenos"},"score":0,"creation_date":1653986495,"post_id":72432879,"comment_id":127977933,"body_markdown":"@michael.hor257k  I edited the question with a minimal reproducible example. It currently produces no output, but in the actual stylesheet the text does not get highlighted at all, although I did find the templates are being called.","body":"@michael.hor257k  I edited the question with a minimal reproducible example. It currently produces no output, but in the actual stylesheet the text does not get highlighted at all, although I did find the templates are being called."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1653990284,"post_id":72432879,"comment_id":127979527,"body_markdown":"I don&#39;t see your input.","body":"I don&#39;t see your input."},{"owner":{"account_id":3146499,"reputation":177,"user_id":2660889,"display_name":"Tumelo Galenos"},"score":0,"creation_date":1653995113,"post_id":72432879,"comment_id":127981389,"body_markdown":"@michael.hor257k\nThe input is the Example  object serialized to XML:\n\n&lt;example&gt;\n\t&lt;keywords&gt;\n\t\t&lt;keywords&gt;brown&lt;/keywords&gt;\n\t\t&lt;keywords&gt;fox&lt;/keywords&gt;\n\t&lt;/keywords&gt;\n\t&lt;inputText&gt;The quick brown fox jumped over the fence.&lt;/inputText&gt;\n&lt;/example&gt;\n\nbecause the page you refer to uses a dictionary I don&#39;t use the keywords from the example, but the final xslt should do that instead.","body":"@michael.hor257k The input is the Example  object serialized to XML:  &lt;example&gt; \t&lt;keywords&gt; \t\t&lt;keywords&gt;brown&lt;/keywords&gt; \t\t&lt;keywords&gt;fox&lt;/keywords&gt; \t&lt;/keywords&gt; \t&lt;inputText&gt;The quick brown fox jumped over the fence.&lt;/inputText&gt; &lt;/example&gt;  because the page you refer to uses a dictionary I don&#39;t use the keywords from the example, but the final xslt should do that instead."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1653998210,"post_id":72432879,"comment_id":127982572,"body_markdown":"OK I see the problem now. Those examples do not fit your case because you need to output markup, not text. See if the answer I posted helps.","body":"OK I see the problem now. Those examples do not fit your case because you need to output markup, not text. See if the answer I posted helps."},{"owner":{"account_id":3146499,"reputation":177,"user_id":2660889,"display_name":"Tumelo Galenos"},"score":0,"creation_date":1653998982,"post_id":72432879,"comment_id":127982860,"body_markdown":"@michael.hor257k excellent, thank you very much!","body":"@michael.hor257k excellent, thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653998118,"creation_date":1653998118,"answer_id":72447342,"question_id":72432879,"body_markdown":"Consider the following simplified example:\r\n\r\n**XML**\r\n\r\n    &lt;example&gt;\r\n    \t&lt;keywords&gt;\r\n    \t\t&lt;keyword&gt;brown&lt;/keyword&gt;\r\n    \t\t&lt;keyword&gt;fox&lt;/keyword&gt;\r\n    \t&lt;/keywords&gt;\r\n    \t&lt;inputText&gt;The quick brown fox jumped over the fence.&lt;/inputText&gt;\r\n    &lt;/example&gt;\r\n\r\n\r\n**XSLT 1.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; \r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/example&quot;&gt;\r\n    \t&lt;output&gt;\r\n    \t\t&lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\r\n    \t\t\t&lt;xsl:with-param name=&quot;string&quot; select=&quot;inputText&quot;/&gt;\r\n    \t\t\t&lt;xsl:with-param name=&quot;keywords&quot; select=&quot;keywords/keyword&quot;/&gt;\r\n    \t\t&lt;/xsl:call-template&gt;\r\n    \t&lt;/output&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;hilite-keywords&quot;&gt;\r\n    \t&lt;xsl:param name=&quot;string&quot;/&gt;\r\n    \t&lt;xsl:param name=&quot;keywords&quot;/&gt;\r\n    \t&lt;xsl:choose&gt;\r\n    \t\t&lt;xsl:when test=&quot;$keywords&quot;&gt;\r\n    \t\t\t&lt;xsl:variable name=&quot;keyword&quot; select=&quot;$keywords[1]&quot; /&gt;\r\n    \t\t\t&lt;xsl:choose&gt;\r\n    \t\t\t\t&lt;xsl:when test=&quot;contains($string, $keyword)&quot;&gt;\r\n    \t\t\t\t\t&lt;!-- process substring-before with the remaining keywords --&gt;\r\n    \t\t\t\t\t&lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\r\n    \t\t\t\t\t\t&lt;xsl:with-param name=&quot;string&quot; select=&quot;substring-before($string, $keyword)&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;xsl:with-param name=&quot;keywords&quot; select=&quot;$keywords[position() &gt; 1]&quot;/&gt;\r\n    \t\t\t\t\t&lt;/xsl:call-template&gt;\r\n    \t\t\t\t\t&lt;!-- matched keyword --&gt;\r\n    \t\t\t\t\t&lt;hilite&gt;\r\n    \t\t\t\t\t\t&lt;xsl:value-of select=&quot;$keyword&quot;/&gt;\r\n    \t\t\t\t\t&lt;/hilite&gt;\r\n    \t\t\t\t\t&lt;!-- continue with substring-after --&gt;\r\n    \t\t\t\t\t&lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\r\n    \t\t\t\t\t\t&lt;xsl:with-param name=&quot;string&quot; select=&quot;substring-after($string, $keyword)&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;xsl:with-param name=&quot;keywords&quot; select=&quot;$keywords&quot;/&gt;\r\n    \t\t\t\t\t&lt;/xsl:call-template&gt;\r\n    \t\t\t\t&lt;/xsl:when&gt;\r\n    \t\t\t\t&lt;xsl:otherwise&gt;\r\n    \t\t\t\t\t&lt;!-- pass the entire string for processing with the remaining keywords --&gt;\r\n    \t\t\t\t\t&lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\r\n    \t\t\t\t\t\t&lt;xsl:with-param name=&quot;string&quot; select=&quot;$string&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;xsl:with-param name=&quot;keywords&quot; select=&quot;$keywords[position() &gt; 1]&quot;/&gt;\r\n    \t\t\t\t\t&lt;/xsl:call-template&gt;\r\n    \t\t\t\t&lt;/xsl:otherwise&gt;\r\n    \t\t\t&lt;/xsl:choose&gt;\r\n    \t\t&lt;/xsl:when&gt;\r\n    \t\t&lt;xsl:otherwise&gt;\r\n    \t\t\t&lt;xsl:value-of select=&quot;$string&quot;/&gt;\r\n    \t\t&lt;/xsl:otherwise&gt;\r\n    \t&lt;/xsl:choose&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n**Result**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;output&gt;The quick &lt;hilite&gt;brown&lt;/hilite&gt; &lt;hilite&gt;fox&lt;/hilite&gt; jumped over the fence.&lt;/output&gt;\r\n\r\n","title":"Apache FOP XSLT: Highlight keywords","body":"<p>Consider the following simplified example:</p>\n<p><strong>XML</strong></p>\n<pre><code>&lt;example&gt;\n    &lt;keywords&gt;\n        &lt;keyword&gt;brown&lt;/keyword&gt;\n        &lt;keyword&gt;fox&lt;/keyword&gt;\n    &lt;/keywords&gt;\n    &lt;inputText&gt;The quick brown fox jumped over the fence.&lt;/inputText&gt;\n&lt;/example&gt;\n</code></pre>\n<p><strong>XSLT 1.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; \nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n&lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n\n&lt;xsl:template match=&quot;/example&quot;&gt;\n    &lt;output&gt;\n        &lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\n            &lt;xsl:with-param name=&quot;string&quot; select=&quot;inputText&quot;/&gt;\n            &lt;xsl:with-param name=&quot;keywords&quot; select=&quot;keywords/keyword&quot;/&gt;\n        &lt;/xsl:call-template&gt;\n    &lt;/output&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;hilite-keywords&quot;&gt;\n    &lt;xsl:param name=&quot;string&quot;/&gt;\n    &lt;xsl:param name=&quot;keywords&quot;/&gt;\n    &lt;xsl:choose&gt;\n        &lt;xsl:when test=&quot;$keywords&quot;&gt;\n            &lt;xsl:variable name=&quot;keyword&quot; select=&quot;$keywords[1]&quot; /&gt;\n            &lt;xsl:choose&gt;\n                &lt;xsl:when test=&quot;contains($string, $keyword)&quot;&gt;\n                    &lt;!-- process substring-before with the remaining keywords --&gt;\n                    &lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\n                        &lt;xsl:with-param name=&quot;string&quot; select=&quot;substring-before($string, $keyword)&quot;/&gt;\n                        &lt;xsl:with-param name=&quot;keywords&quot; select=&quot;$keywords[position() &gt; 1]&quot;/&gt;\n                    &lt;/xsl:call-template&gt;\n                    &lt;!-- matched keyword --&gt;\n                    &lt;hilite&gt;\n                        &lt;xsl:value-of select=&quot;$keyword&quot;/&gt;\n                    &lt;/hilite&gt;\n                    &lt;!-- continue with substring-after --&gt;\n                    &lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\n                        &lt;xsl:with-param name=&quot;string&quot; select=&quot;substring-after($string, $keyword)&quot;/&gt;\n                        &lt;xsl:with-param name=&quot;keywords&quot; select=&quot;$keywords&quot;/&gt;\n                    &lt;/xsl:call-template&gt;\n                &lt;/xsl:when&gt;\n                &lt;xsl:otherwise&gt;\n                    &lt;!-- pass the entire string for processing with the remaining keywords --&gt;\n                    &lt;xsl:call-template name=&quot;hilite-keywords&quot;&gt;\n                        &lt;xsl:with-param name=&quot;string&quot; select=&quot;$string&quot;/&gt;\n                        &lt;xsl:with-param name=&quot;keywords&quot; select=&quot;$keywords[position() &gt; 1]&quot;/&gt;\n                    &lt;/xsl:call-template&gt;\n                &lt;/xsl:otherwise&gt;\n            &lt;/xsl:choose&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:otherwise&gt;\n            &lt;xsl:value-of select=&quot;$string&quot;/&gt;\n        &lt;/xsl:otherwise&gt;\n    &lt;/xsl:choose&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>Result</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;output&gt;The quick &lt;hilite&gt;brown&lt;/hilite&gt; &lt;hilite&gt;fox&lt;/hilite&gt; jumped over the fence.&lt;/output&gt;\n</code></pre>\n"}],"owner":{"account_id":3146499,"reputation":177,"user_id":2660889,"display_name":"Tumelo Galenos"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72447342,"answer_count":1,"score":0,"last_activity_date":1653998118,"creation_date":1653906551,"question_id":72432879,"body_markdown":"I want to highlight certain words in a pdf generated with apache-fop. Because both the words to highlight as well as the input-text are dynamic, I thought calling a java function that returns xsl inline element is the easiest way:\r\n```\r\n&lt;xsl:variable name=&quot;lines&quot; select=&quot;ext:highlight(.)&quot;/&gt;\r\n&lt;xsl:for-each select=&quot;$lines&quot;&gt;\r\n  &lt;fo:block&gt;&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select=&quot;.&quot;/&gt;&lt;/fo:block&gt;\r\n&lt;/xsl:for-each&gt;\r\n```\r\n```\r\npublic String highlight(String input) {\r\n  for (String toHighlight : wordsToHighlight) {\r\n    input = input.replaceAll(toHighlight, &quot;&lt;fo:inline background-color=\\&quot;yellow\\&quot;&gt;toHightlight&lt;/fo:inline&gt;&quot;);\r\n  }\r\n  return input;\r\n}\r\n```\r\n\r\nUnfortunately, the returned inline element is put literally in the pdf. What am I missing?\r\n\r\nAlso, I&#39;ve looked into https://stackoverflow.com/questions/46007167/xslt-xml-highlight-a-search-word-in-search-results, but it becomes too complicated in my case.\r\n\r\n\r\n\r\nMinimal reproducible example:\r\n```\r\n@Data\r\npublic class Example {\r\n\r\n    private Set&lt;String&gt; keywords = Set.of(&quot;fox&quot;, &quot;brown&quot;);\r\n    private String inputText = &quot;The quick brown fox jumped over the fence.&quot;;\r\n\r\n}\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot;\r\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                xmlns:exsl=&quot;http://exslt.org/common&quot;\r\n                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;\r\n\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;fo:root&gt;\r\n            &lt;fo:layout-master-set&gt;\r\n                &lt;fo:simple-page-master master-name=&quot;simpleA4&quot;&gt;\r\n                    &lt;fo:region-body /&gt;\r\n                &lt;/fo:simple-page-master&gt;\r\n            &lt;/fo:layout-master-set&gt;\r\n\r\n            &lt;fo:page-sequence master-reference=&quot;simpleA4&quot;&gt;\r\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\r\n                    &lt;xsl:apply-templates select=&quot;example&quot; /&gt;\r\n                &lt;/fo:flow&gt;\r\n            &lt;/fo:page-sequence&gt;\r\n        &lt;/fo:root&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;example&quot;&gt;\r\n        &lt;xsl:apply-templates select=&quot;inputText&quot; /&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:variable name=&quot;dictionary&quot;&gt;\r\n        &lt;entry keyword=&quot;fox&quot; /&gt;\r\n        &lt;entry keyword=&quot;brown&quot; /&gt;\r\n    &lt;/xsl:variable&gt;\r\n\r\n    &lt;xsl:template match=&quot;inputText&quot;&gt;\r\n        &lt;fo:block&gt;\r\n            &lt;xsl:call-template name=&quot;multi-hilite&quot;&gt;\r\n                &lt;xsl:with-param name=&quot;string&quot; select=&quot;.&quot; /&gt;\r\n                &lt;xsl:with-param name=&quot;entries&quot; select=&quot;exsl:node-set($dictionary)/entry&quot; /&gt;\r\n            &lt;/xsl:call-template&gt;\r\n        &lt;/fo:block&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template name=&quot;multi-hilite&quot;&gt;\r\n        &lt;xsl:param name=&quot;string&quot;/&gt;\r\n        &lt;xsl:param name=&quot;entries&quot;/&gt;\r\n        &lt;xsl:choose&gt;\r\n            &lt;xsl:when test=&quot;$entries&quot;&gt;\r\n                &lt;xsl:call-template name=&quot;multi-hilite&quot;&gt;\r\n                    &lt;xsl:with-param name=&quot;string&quot;&gt;\r\n                        &lt;xsl:call-template name=&quot;hilite&quot;&gt;\r\n                            &lt;xsl:with-param name=&quot;text&quot; select=&quot;$string&quot; /&gt;\r\n                            &lt;xsl:with-param name=&quot;search-string&quot; select=&quot;$entries[1]/@keyword&quot; /&gt;\r\n                        &lt;/xsl:call-template&gt;\r\n                    &lt;/xsl:with-param&gt;\r\n                    &lt;xsl:with-param name=&quot;entries&quot; select=&quot;$entries[position() &gt; 1]&quot;/&gt;\r\n                &lt;/xsl:call-template&gt;\r\n            &lt;/xsl:when&gt;\r\n            &lt;xsl:otherwise&gt;\r\n                &lt;xsl:value-of select=&quot;$string&quot;/&gt;\r\n            &lt;/xsl:otherwise&gt;\r\n        &lt;/xsl:choose&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template name=&quot;hilite&quot;&gt;\r\n        &lt;xsl:param name=&quot;text&quot;/&gt;\r\n        &lt;xsl:param name=&quot;search-string&quot;/&gt;\r\n        &lt;xsl:choose&gt;\r\n            &lt;xsl:when test=&quot;contains($text, $search-string)&quot;&gt;\r\n                &lt;xsl:value-of select=&quot;substring-before($text, $search-string)&quot;/&gt;\r\n                &lt;fo:inline background-color=&quot;#eeee00&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;$search-string&quot;/&gt;\r\n                &lt;/fo:inline&gt;\r\n                &lt;xsl:call-template name=&quot;hilite&quot;&gt;\r\n                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $search-string)&quot;/&gt;\r\n                    &lt;xsl:with-param name=&quot;search-string&quot; select=&quot;$search-string&quot;/&gt;\r\n                &lt;/xsl:call-template&gt;\r\n            &lt;/xsl:when&gt;\r\n            &lt;xsl:otherwise&gt;\r\n                &lt;xsl:value-of select=&quot;$text&quot;/&gt;\r\n            &lt;/xsl:otherwise&gt;\r\n        &lt;/xsl:choose&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```","title":"Apache FOP XSLT: Highlight keywords","body":"<p>I want to highlight certain words in a pdf generated with apache-fop. Because both the words to highlight as well as the input-text are dynamic, I thought calling a java function that returns xsl inline element is the easiest way:</p>\n<pre><code>&lt;xsl:variable name=&quot;lines&quot; select=&quot;ext:highlight(.)&quot;/&gt;\n&lt;xsl:for-each select=&quot;$lines&quot;&gt;\n  &lt;fo:block&gt;&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select=&quot;.&quot;/&gt;&lt;/fo:block&gt;\n&lt;/xsl:for-each&gt;\n</code></pre>\n<pre><code>public String highlight(String input) {\n  for (String toHighlight : wordsToHighlight) {\n    input = input.replaceAll(toHighlight, &quot;&lt;fo:inline background-color=\\&quot;yellow\\&quot;&gt;toHightlight&lt;/fo:inline&gt;&quot;);\n  }\n  return input;\n}\n</code></pre>\n<p>Unfortunately, the returned inline element is put literally in the pdf. What am I missing?</p>\n<p>Also, I've looked into <a href=\"https://stackoverflow.com/questions/46007167/xslt-xml-highlight-a-search-word-in-search-results\">XSLT XML: highlight a search word in search results</a>, but it becomes too complicated in my case.</p>\n<p>Minimal reproducible example:</p>\n<pre><code>@Data\npublic class Example {\n\n    private Set&lt;String&gt; keywords = Set.of(&quot;fox&quot;, &quot;brown&quot;);\n    private String inputText = &quot;The quick brown fox jumped over the fence.&quot;;\n\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot;\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n                xmlns:exsl=&quot;http://exslt.org/common&quot;\n                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;\n\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;fo:root&gt;\n            &lt;fo:layout-master-set&gt;\n                &lt;fo:simple-page-master master-name=&quot;simpleA4&quot;&gt;\n                    &lt;fo:region-body /&gt;\n                &lt;/fo:simple-page-master&gt;\n            &lt;/fo:layout-master-set&gt;\n\n            &lt;fo:page-sequence master-reference=&quot;simpleA4&quot;&gt;\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\n                    &lt;xsl:apply-templates select=&quot;example&quot; /&gt;\n                &lt;/fo:flow&gt;\n            &lt;/fo:page-sequence&gt;\n        &lt;/fo:root&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;example&quot;&gt;\n        &lt;xsl:apply-templates select=&quot;inputText&quot; /&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:variable name=&quot;dictionary&quot;&gt;\n        &lt;entry keyword=&quot;fox&quot; /&gt;\n        &lt;entry keyword=&quot;brown&quot; /&gt;\n    &lt;/xsl:variable&gt;\n\n    &lt;xsl:template match=&quot;inputText&quot;&gt;\n        &lt;fo:block&gt;\n            &lt;xsl:call-template name=&quot;multi-hilite&quot;&gt;\n                &lt;xsl:with-param name=&quot;string&quot; select=&quot;.&quot; /&gt;\n                &lt;xsl:with-param name=&quot;entries&quot; select=&quot;exsl:node-set($dictionary)/entry&quot; /&gt;\n            &lt;/xsl:call-template&gt;\n        &lt;/fo:block&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template name=&quot;multi-hilite&quot;&gt;\n        &lt;xsl:param name=&quot;string&quot;/&gt;\n        &lt;xsl:param name=&quot;entries&quot;/&gt;\n        &lt;xsl:choose&gt;\n            &lt;xsl:when test=&quot;$entries&quot;&gt;\n                &lt;xsl:call-template name=&quot;multi-hilite&quot;&gt;\n                    &lt;xsl:with-param name=&quot;string&quot;&gt;\n                        &lt;xsl:call-template name=&quot;hilite&quot;&gt;\n                            &lt;xsl:with-param name=&quot;text&quot; select=&quot;$string&quot; /&gt;\n                            &lt;xsl:with-param name=&quot;search-string&quot; select=&quot;$entries[1]/@keyword&quot; /&gt;\n                        &lt;/xsl:call-template&gt;\n                    &lt;/xsl:with-param&gt;\n                    &lt;xsl:with-param name=&quot;entries&quot; select=&quot;$entries[position() &gt; 1]&quot;/&gt;\n                &lt;/xsl:call-template&gt;\n            &lt;/xsl:when&gt;\n            &lt;xsl:otherwise&gt;\n                &lt;xsl:value-of select=&quot;$string&quot;/&gt;\n            &lt;/xsl:otherwise&gt;\n        &lt;/xsl:choose&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template name=&quot;hilite&quot;&gt;\n        &lt;xsl:param name=&quot;text&quot;/&gt;\n        &lt;xsl:param name=&quot;search-string&quot;/&gt;\n        &lt;xsl:choose&gt;\n            &lt;xsl:when test=&quot;contains($text, $search-string)&quot;&gt;\n                &lt;xsl:value-of select=&quot;substring-before($text, $search-string)&quot;/&gt;\n                &lt;fo:inline background-color=&quot;#eeee00&quot;&gt;\n                    &lt;xsl:value-of select=&quot;$search-string&quot;/&gt;\n                &lt;/fo:inline&gt;\n                &lt;xsl:call-template name=&quot;hilite&quot;&gt;\n                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $search-string)&quot;/&gt;\n                    &lt;xsl:with-param name=&quot;search-string&quot; select=&quot;$search-string&quot;/&gt;\n                &lt;/xsl:call-template&gt;\n            &lt;/xsl:when&gt;\n            &lt;xsl:otherwise&gt;\n                &lt;xsl:value-of select=&quot;$text&quot;/&gt;\n            &lt;/xsl:otherwise&gt;\n        &lt;/xsl:choose&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"},{"tags":["java","xmpp","smack","multiuserchat"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653998081,"creation_date":1653998081,"answer_id":72447336,"question_id":72447194,"body_markdown":"First you need to create a connection. Connect and authenticate to the server. Only then you create a MUC.\r\n\r\nFrom your code I get the impression you are not authenticating and thus try to join or create the chat anonymously.\r\n\r\n- https://github.com/igniterealtime/Smack/blob/master/documentation/connections.md\r\n- https://github.com/igniterealtime/Smack/blob/master/documentation/extensions/muc.md","title":"Not able to join Chatroom smack/smackx, XMPP: Exception not-authorized (401)","body":"<p>First you need to create a connection. Connect and authenticate to the server. Only then you create a MUC.</p>\n<p>From your code I get the impression you are not authenticating and thus try to join or create the chat anonymously.</p>\n<ul>\n<li><a href=\"https://github.com/igniterealtime/Smack/blob/master/documentation/connections.md\" rel=\"nofollow noreferrer\">https://github.com/igniterealtime/Smack/blob/master/documentation/connections.md</a></li>\n<li><a href=\"https://github.com/igniterealtime/Smack/blob/master/documentation/extensions/muc.md\" rel=\"nofollow noreferrer\">https://github.com/igniterealtime/Smack/blob/master/documentation/extensions/muc.md</a></li>\n</ul>\n"}],"owner":{"account_id":16796653,"reputation":21,"user_id":12142985,"display_name":"PC245"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653998081,"creation_date":1653997489,"question_id":72447194,"body_markdown":"I am new in working on MultiUserChat (groupchat) using smack/smackx libraries and having a difficult time in joining a existing public chatroom and getting error (Exceptionnot-authorized(401)\r\n). The user is gets logged in thru client in chatroom and I can see it in openfire. As per my understanding to iniiate the groupchat, user needs to create/join again. Below is the code I have written so far (For breivity I am keeping it short). All seems to okay and user is able to log in to server but as soon as the program tries to join the room I get not-authorized (401) error. I have tried to join with nickname and also with nickname with password but it is resulting into same.\r\n\r\nI am going thru the materials available on web for this and tried available solution but in vain. I am sure I am doing some basic mistake. Any pointers in this direction will be appreciated.   \r\n\r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic boolean isGroupChatAlreadyCreated(@NonNull final EntityBareJid groupId)\r\n    \t\tthrows XmppStringprepException,\r\n    \t\tNotAMucServiceException,\r\n    \t\tNotConnectedException,\r\n    \t\tInterruptedException,\r\n    \t\tNoResponseException, XMPPException\r\n    {\r\n    \tmuc = new MultiUserChat(connection, &quot;xyz@conference.abc&quot;);\r\n    \tmuc.create(&quot;xyz&quot;);\r\n    \tForm form = muc.getConfigurationForm();\r\n    \tForm submitForm = form.createAnswerForm();\r\n    \tfor(Iterator fields = form.getFields();fields.hasNext();) {\r\n    \t\tFormField  field = (FormField)fields.next();\r\n    \t\tif(!FormField.TYPE_HIDDEN.equals(field.getType()) &amp;&amp; field.getVariable()!= null) {\r\n    \t\t\tsubmitForm.setDefaultAnswer(field.getVariable());\r\n    \t\t}\r\n    \t}\r\n    \tsubmitForm.setAnswer(&quot;#muc#roomconfig_publicroom&quot;, true);\r\n    \tmuc.sendConfigurationForm(submitForm);\r\n    \tSystem.out.println(&quot;Reaching before join&quot;);\r\n\t//Getting error NOT-AuTHORIZED (401) here\r\n    \tmuc.join(&quot;xyz&quot;);\r\n  }\r\n\r\n","title":"Not able to join Chatroom smack/smackx, XMPP: Exception not-authorized (401)","body":"<p>I am new in working on MultiUserChat (groupchat) using smack/smackx libraries and having a difficult time in joining a existing public chatroom and getting error (Exceptionnot-authorized(401)\n). The user is gets logged in thru client in chatroom and I can see it in openfire. As per my understanding to iniiate the groupchat, user needs to create/join again. Below is the code I have written so far (For breivity I am keeping it short). All seems to okay and user is able to log in to server but as soon as the program tries to join the room I get not-authorized (401) error. I have tried to join with nickname and also with nickname with password but it is resulting into same.</p>\n<p>I am going thru the materials available on web for this and tried available solution but in vain. I am sure I am doing some basic mistake. Any pointers in this direction will be appreciated.</p>\n<pre><code>    @SuppressWarnings(&quot;deprecation&quot;)\npublic boolean isGroupChatAlreadyCreated(@NonNull final EntityBareJid groupId)\n        throws XmppStringprepException,\n        NotAMucServiceException,\n        NotConnectedException,\n        InterruptedException,\n        NoResponseException, XMPPException\n{\n    muc = new MultiUserChat(connection, &quot;xyz@conference.abc&quot;);\n    muc.create(&quot;xyz&quot;);\n    Form form = muc.getConfigurationForm();\n    Form submitForm = form.createAnswerForm();\n    for(Iterator fields = form.getFields();fields.hasNext();) {\n        FormField  field = (FormField)fields.next();\n        if(!FormField.TYPE_HIDDEN.equals(field.getType()) &amp;&amp; field.getVariable()!= null) {\n            submitForm.setDefaultAnswer(field.getVariable());\n        }\n    }\n    submitForm.setAnswer(&quot;#muc#roomconfig_publicroom&quot;, true);\n    muc.sendConfigurationForm(submitForm);\n    System.out.println(&quot;Reaching before join&quot;);\n//Getting error NOT-AuTHORIZED (401) here\n    muc.join(&quot;xyz&quot;);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","date","parsing"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1379509624,"post_id":18873014,"comment_id":27851798,"body_markdown":"`parse` is for converting a `String` to a `Date`. To do the opposite, use `format`.","body":"<code>parse</code> is for converting a <code>String</code> to a <code>Date</code>. To do the opposite, use <code>format</code>."}],"answers":[{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1548941883,"creation_date":1379509730,"answer_id":18873151,"question_id":18873014,"body_markdown":"You may need to `format` the out put as follows.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date convertedCurrentDate = sdf.parse(&quot;2013-09-18&quot;);\r\n    String date=sdf.format(convertedCurrentDate );\r\n    System.out.println(date);\r\n\r\n\r\nUse \r\n   \r\n    String convertedCurrentDate =sdf.format(sdf.parse(&quot;2013-09-18&quot;));\r\n\r\nOutput:\r\n\r\n    2013-09-18","title":"Parse String date in (yyyy-MM-dd) format","body":"<p>You may need to <code>format</code> the out put as follows.</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nDate convertedCurrentDate = sdf.parse(\"2013-09-18\");\nString date=sdf.format(convertedCurrentDate );\nSystem.out.println(date);\n</code></pre>\n\n<p>Use </p>\n\n<pre><code>String convertedCurrentDate =sdf.format(sdf.parse(\"2013-09-18\"));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2013-09-18\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1379509772,"creation_date":1379509772,"answer_id":18873165,"question_id":18873014,"body_markdown":"You are creating a Date object, which is a representation of a certain point in the timeline. This means that it will have all the parts necessary to represent it correctly, including minutes and seconds and so on. Because you initialize it from a string containing only a part of the date, the missing data will be defaulted.\r\n\r\nI assume you are then &quot;printing&quot; this Date object, but without actually specifying a format like you did when parsing it. Use the same SimpleDateFormat but call the reverse method, format(Date) as Holger suggested","title":"Parse String date in (yyyy-MM-dd) format","body":"<p>You are creating a Date object, which is a representation of a certain point in the timeline. This means that it will have all the parts necessary to represent it correctly, including minutes and seconds and so on. Because you initialize it from a string containing only a part of the date, the missing data will be defaulted.</p>\n\n<p>I assume you are then \"printing\" this Date object, but without actually specifying a format like you did when parsing it. Use the same SimpleDateFormat but call the reverse method, format(Date) as Holger suggested</p>\n"},{"tags":[],"owner":{"account_id":6708209,"reputation":21,"user_id":5172411,"display_name":"user5172411"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438242663,"creation_date":1438241477,"answer_id":31717693,"question_id":18873014,"body_markdown":"    DateFormat df = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    String cunvertCurrentDate=&quot;06/09/2015&quot;;\r\n    Date date = new Date();\r\n    date = df.parse(cunvertCurrentDate);\r\n\r\n","title":"Parse String date in (yyyy-MM-dd) format","body":"<pre><code>DateFormat df = new SimpleDateFormat(\"MM/dd/yyyy\");\nString cunvertCurrentDate=\"06/09/2015\";\nDate date = new Date();\ndate = df.parse(cunvertCurrentDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8047383,"reputation":453,"user_id":6067191,"display_name":"mahdi kallel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464496919,"creation_date":1464496919,"answer_id":37506250,"question_id":18873014,"body_markdown":"I convert String to Date in format (&quot;yyyy-MM-dd&quot;)  to save into Mysql data base .\r\n\r\n     String date =&quot;2016-05-01&quot;;\r\n     SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n     Date parsed = format.parse(date);\r\n     java.sql.Date sql = new java.sql.Date(parsed.getTime());\r\n\r\nsql it&#39;s my output in date format","title":"Parse String date in (yyyy-MM-dd) format","body":"<p>I convert String to Date in format (\"yyyy-MM-dd\")  to save into Mysql data base .</p>\n\n<pre><code> String date =\"2016-05-01\";\n SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n Date parsed = format.parse(date);\n java.sql.Date sql = new java.sql.Date(parsed.getTime());\n</code></pre>\n\n<p>sql it's my output in date format</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1533093138,"creation_date":1464505627,"answer_id":37507181,"question_id":18873014,"body_markdown":"# tl;dr\r\n\r\n    LocalDate.parse( &quot;2013-09-18&quot; )\r\n\r\n… and …\r\n\r\n    myLocalDate.toString()  // Example: 2013-09-18\r\n\r\n# java.time\r\n\r\nThe Question and other Answers are out-of-date. The troublesome old legacy date-time classes are now supplanted by the java.time classes.\r\n\r\n# ISO 8601\r\n\r\nYour input string happens to comply with standard [ISO 8601][1] format, YYYY-MM-DD. The java.time classes use ISO 8601 formats by default when parsing and generating string representations of date-time values. So no need to specify a formatting pattern.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    LocalDate ld = LocalDate.parse( &quot;2013-09-18&quot; );\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"Parse String date in (yyyy-MM-dd) format","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDate.parse( \"2013-09-18\" )\n</code></pre>\n\n<p>… and …</p>\n\n<pre><code>myLocalDate.toString()  // Example: 2013-09-18\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The Question and other Answers are out-of-date. The troublesome old legacy date-time classes are now supplanted by the java.time classes.</p>\n\n<h1>ISO 8601</h1>\n\n<p>Your input string happens to comply with standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format, YYYY-MM-DD. The java.time classes use ISO 8601 formats by default when parsing and generating string representations of date-time values. So no need to specify a formatting pattern.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>LocalDate ld = LocalDate.parse( \"2013-09-18\" );\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":3320172,"reputation":199,"user_id":2791546,"display_name":"user2791546"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221170,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":5,"score":19,"last_activity_date":1653998052,"creation_date":1379509363,"question_id":18873014,"body_markdown":"I have a string in the form &quot;2013-09-18&quot;. I want to convert it into a java.util.Date.\r\nI am doing this\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date convertedCurrentDate = sdf.parse(currentDateText);\r\n\r\nThe convertedCurrentDate  is coming as &#39;Wed Sep 18 00:00:00 IST 2013&#39;\r\n\r\nI want my output in the form &#39;2013-09-18&#39;\r\n\r\nHour, minutes and seconds shouldnt come and it should be in the form yyyy-MM-dd.\r\n","title":"Parse String date in (yyyy-MM-dd) format","body":"<p>I have a string in the form \"2013-09-18\". I want to convert it into a java.util.Date.\nI am doing this</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nDate convertedCurrentDate = sdf.parse(currentDateText);\n</code></pre>\n\n<p>The convertedCurrentDate  is coming as 'Wed Sep 18 00:00:00 IST 2013'</p>\n\n<p>I want my output in the form '2013-09-18'</p>\n\n<p>Hour, minutes and seconds shouldnt come and it should be in the form yyyy-MM-dd.</p>\n"},{"tags":["java","intellij-idea","package"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1653999245,"post_id":72447233,"comment_id":127982969,"body_markdown":"When you have your class open in the editor and in focus, press Ctrl-shift+T, and you will be prompted to open och create a test class, in the right package under test.","body":"When you have your class open in the editor and in focus, press Ctrl-shift+T, and you will be prompted to open och create a test class, in the right package under test."},{"owner":{"account_id":3019250,"reputation":2067,"user_id":2560666,"accept_rate":42,"display_name":"Alec"},"score":0,"creation_date":1654002027,"post_id":72447233,"comment_id":127984102,"body_markdown":"@JustanotherJavaprogrammer - Beautiful, thanks! I had rebound Ctrl+Shift+T, but I found the relevant mapping. For anyone who might have done the same, it&#39;s the bind for `Main Menu | Navigate | Go to test`.","body":"@JustanotherJavaprogrammer - Beautiful, thanks! I had rebound Ctrl+Shift+T, but I found the relevant mapping. For anyone who might have done the same, it&#39;s the bind for <code>Main Menu | Navigate | Go to test</code>."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653997888,"creation_date":1653997888,"answer_id":72447290,"question_id":72447233,"body_markdown":"In IntellIJ, when you create a class, its packages will automatically be created.\r\n\r\nJust right click the `src/java` directory, and go &quot;New -&gt; Java Class&quot;. Enter the package-qualified name of the new class, and all the missing packages will be created:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor example, assuming I don&#39;t have the folders a, b, c, d, e, this will create all of them, in addition to the file Foo.java.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nPQ8K.png","title":"Create full package path instead of one-by-one in IntelliJ","body":"<p>In IntellIJ, when you create a class, its packages will automatically be created.</p>\n<p>Just right click the <code>src/java</code> directory, and go &quot;New -&gt; Java Class&quot;. Enter the package-qualified name of the new class, and all the missing packages will be created:</p>\n<p><a href=\"https://i.stack.imgur.com/nPQ8K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nPQ8K.png\" alt=\"enter image description here\" /></a></p>\n<p>For example, assuming I don't have the folders a, b, c, d, e, this will create all of them, in addition to the file Foo.java.</p>\n"}],"owner":{"account_id":3019250,"reputation":2067,"user_id":2560666,"accept_rate":42,"display_name":"Alec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72447290,"answer_count":1,"score":0,"last_activity_date":1653997888,"creation_date":1653997662,"question_id":72447233,"body_markdown":"**Background**\r\n\r\nSay you have a Java project, and you have a somewhat deep package structure. And one of the classes, under the `src/java` folder is\r\n\r\n    com.example.projectname.more.packages.Class\r\n\r\nNow, I want to create a test for this class, so I have to create, under `src/test`, the class\r\n\r\n    com.example.projectname.more.packages.ClassTest\r\n\r\nBut I have to create the packages one by one, which can get tedious.\r\n\r\n**Question**\r\n\r\nIs there a way, either in IntelliJ, or by some other tool, to say &quot;create the class with this package path, and auto-create whatever is missing along that path&quot;?\r\n\r\nFor instance, it could be that I already have the `com.example` package in my `test` root, in which case it would detect this, and create the rest of the path.","title":"Create full package path instead of one-by-one in IntelliJ","body":"<p><strong>Background</strong></p>\n<p>Say you have a Java project, and you have a somewhat deep package structure. And one of the classes, under the <code>src/java</code> folder is</p>\n<pre><code>com.example.projectname.more.packages.Class\n</code></pre>\n<p>Now, I want to create a test for this class, so I have to create, under <code>src/test</code>, the class</p>\n<pre><code>com.example.projectname.more.packages.ClassTest\n</code></pre>\n<p>But I have to create the packages one by one, which can get tedious.</p>\n<p><strong>Question</strong></p>\n<p>Is there a way, either in IntelliJ, or by some other tool, to say &quot;create the class with this package path, and auto-create whatever is missing along that path&quot;?</p>\n<p>For instance, it could be that I already have the <code>com.example</code> package in my <code>test</code> root, in which case it would detect this, and create the rest of the path.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1653989873,"post_id":72445432,"comment_id":127979354,"body_markdown":"what isn&#39;t working ? you have an `addOnSuccessListener`, do you have any failure listeners ? any logs or anything to show what&#39;s happening ?","body":"what isn&#39;t working ? you have an <code>addOnSuccessListener</code>, do you have any failure listeners ? any logs or anything to show what&#39;s happening ?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1653992165,"post_id":72445432,"comment_id":127980284,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24027122,"reputation":1,"user_id":18008605,"display_name":"Aaditya"},"score":0,"creation_date":1654005533,"post_id":72445432,"comment_id":127985658,"body_markdown":"After some debugging I found out that the DatabaseReference and StorageReference are throwing NullPointerException, don&#39;t know why.","body":"After some debugging I found out that the DatabaseReference and StorageReference are throwing NullPointerException, don&#39;t know why."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1654022784,"post_id":72445432,"comment_id":127992021,"body_markdown":"Try changing the paths for your database references.","body":"Try changing the paths for your database references."}],"owner":{"account_id":24027122,"reputation":1,"user_id":18008605,"display_name":"Aaditya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653997779,"creation_date":1653989706,"question_id":72445432,"body_markdown":"    ArrayList&lt;Site&gt; siteList = new ArrayList&lt;&gt;();\r\n    \r\n    String UID = user.getUid();\r\n\r\n    database = FirebaseDatabase.getInstance().getReference(&quot;/Users&quot;).child(UID);\r\n    storage = FirebaseStorage.getInstance().getReference(&quot;/Users&quot;).child(UID);\r\n\r\nGetting no. of sites\r\n    \r\n    database.child(&quot;Site No&quot;).get().addOnSuccessListener(dataSnapshot -&gt; site_no = Integer.parseInt(dataSnapshot.getValue().toString()));\r\n\r\nTrying to iterate\r\n\r\n    for(int i = 1; i&lt;site_no; i++){\r\n        database.child(&quot;Sites&quot;).orderByChild(&quot;Site &quot;+ i).get().addOnSuccessListener(dataSnapshot -&gt; {\r\n            Site site = dataSnapshot.getValue(Site.class);\r\n            storage.child(&quot;Site &quot; + i).getDownloadUrl().addOnSuccessListener(uri -&gt; {\r\n                assert site != null;\r\n                site.setSiteImage(uri);\r\n                siteList.add(site);\r\n                System.out.println(siteList);\r\n            });\r\n        });\r\n    }\r\n        \r\n\r\n![Database Image][1]\r\n\r\nI want the data to be added into siteList arraylist, as I want to display it in a recycler view.\r\n\r\n  [1]: https://i.stack.imgur.com/nphpo.png","title":"Iterating data from firebase into ArrayList","body":"<pre><code>ArrayList&lt;Site&gt; siteList = new ArrayList&lt;&gt;();\n\nString UID = user.getUid();\n\ndatabase = FirebaseDatabase.getInstance().getReference(&quot;/Users&quot;).child(UID);\nstorage = FirebaseStorage.getInstance().getReference(&quot;/Users&quot;).child(UID);\n</code></pre>\n<p>Getting no. of sites</p>\n<pre><code>database.child(&quot;Site No&quot;).get().addOnSuccessListener(dataSnapshot -&gt; site_no = Integer.parseInt(dataSnapshot.getValue().toString()));\n</code></pre>\n<p>Trying to iterate</p>\n<pre><code>for(int i = 1; i&lt;site_no; i++){\n    database.child(&quot;Sites&quot;).orderByChild(&quot;Site &quot;+ i).get().addOnSuccessListener(dataSnapshot -&gt; {\n        Site site = dataSnapshot.getValue(Site.class);\n        storage.child(&quot;Site &quot; + i).getDownloadUrl().addOnSuccessListener(uri -&gt; {\n            assert site != null;\n            site.setSiteImage(uri);\n            siteList.add(site);\n            System.out.println(siteList);\n        });\n    });\n}\n    \n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/nphpo.png\" alt=\"Database Image\" /></p>\n<p>I want the data to be added into siteList arraylist, as I want to display it in a recycler view.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8692,"page":1300,"page_size":100}
