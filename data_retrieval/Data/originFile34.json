{"items":[{"tags":["java","string","char","counter","frequency"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":5,"creation_date":1701020800,"post_id":77552804,"comment_id":136720555,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example). What do have tried so far? Code, input...","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. What do have tried so far? Code, input..."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1701021169,"post_id":77552804,"comment_id":136720592,"body_markdown":"I find your question confusing.  Please post the solution  you tried.  And before posting again, please take the [tour].","body":"I find your question confusing.  Please post the solution  you tried.  And before posting again, please take the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701023549,"post_id":77552804,"comment_id":136720844,"body_markdown":"_I tried this with if loop_ there is not a thing like an &quot;if loop&quot; - an if statement does not loop. There are &quot;for&quot; loops and &quot;while&quot; loops and &quot;do ... while&quot; loops and IMHO any of these three loops should work.","body":"<i>I tried this with if loop</i> there is not a thing like an &quot;if loop&quot; - an if statement does not loop. There are &quot;for&quot; loops and &quot;while&quot; loops and &quot;do ... while&quot; loops and IMHO any of these three loops should work."},{"owner":{"account_id":29998074,"reputation":1,"user_id":22988872,"display_name":"Beginner"},"score":0,"creation_date":1701023737,"post_id":77552804,"comment_id":136720872,"body_markdown":"I am sorry Mr. Thomas, thank you for correcting me","body":"I am sorry Mr. Thomas, thank you for correcting me"},{"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"score":0,"creation_date":1701024113,"post_id":77552804,"comment_id":136720922,"body_markdown":"We can help you a lot better if you post what you have tried so far. Otherwise we are just coding it for you and not actually helping you.","body":"We can help you a lot better if you post what you have tried so far. Otherwise we are just coding it for you and not actually helping you."},{"owner":{"account_id":29998074,"reputation":1,"user_id":22988872,"display_name":"Beginner"},"score":0,"creation_date":1701024245,"post_id":77552804,"comment_id":136720939,"body_markdown":"Sure, Mr. Matthew but it has error","body":"Sure, Mr. Matthew but it has error"},{"owner":{"account_id":29998074,"reputation":1,"user_id":22988872,"display_name":"Beginner"},"score":0,"creation_date":1701024833,"post_id":77552804,"comment_id":136721008,"body_markdown":"My code:- \nimport java.util.Scanner;\n\npublic class sen\n{\npublic static void main(String args[])\n{\n(\n\nScanner sc new Scanner(System.in);\n\nString sen &quot;&quot;. wd&quot;:\n\nchar ch\n\nint i, slen, vc-0, cc-0;\n\nSystem.out.println(&quot;Enter a sentence: &quot;);\n\nsen sc.nextLine();\n\nsen sen.toUpperCase();\n\nsen sen+&quot; &quot;;\n\nslen sen.length();\n\nSystem.out.println(&quot;WORD COUNT:-&quot;);\n\nfor (i = 0; i&lt;slen; i++)\n{\nch sen.charAt(1);\n\nif (ch= &#39;A&#39; || ch== &#39;E&#39; || ch== &#39;I&#39; || ch==&#39;0&#39; || ch== &#39;U&#39;)\n\n{\n\nvc++;\n\n} \n\nelse if(ch != &#39;A&#39; || ch!= &#39;E&#39; || ch!= &#39;I&#39; || ch!=&#39;0&#39; || ch!=&#39;U&#39; || ch!=&#39;&#39;)","body":"My code:-  import java.util.Scanner;  public class sen { public static void main(String args[]) { (  Scanner sc new Scanner(System.in);  String sen &quot;&quot;. wd&quot;:  char ch  int i, slen, vc-0, cc-0;  System.out.println(&quot;Enter a sentence: &quot;);  sen sc.nextLine();  sen sen.toUpperCase();  sen sen+&quot; &quot;;  slen sen.length();  System.out.println(&quot;WORD COUNT:-&quot;);  for (i = 0; i&lt;slen; i++) { ch sen.charAt(1);  if (ch= &#39;A&#39; || ch== &#39;E&#39; || ch== &#39;I&#39; || ch==&#39;0&#39; || ch== &#39;U&#39;)  {  vc++;  }   else if(ch != &#39;A&#39; || ch!= &#39;E&#39; || ch!= &#39;I&#39; || ch!=&#39;0&#39; || ch!=&#39;U&#39; || ch!=&#39;&#39;)"},{"owner":{"account_id":29998074,"reputation":1,"user_id":22988872,"display_name":"Beginner"},"score":0,"creation_date":1701024862,"post_id":77552804,"comment_id":136721016,"body_markdown":"cc++;\n\n}\n\nif (ch==&#39; &#39;)\n\n{ \nSystem.out.print(wd+&quot; &quot;);\n\nwd=&quot;&quot;:\n}\nelse\nwd=wd+ch;\n\n}\n}\nfor (int j = 0; j&lt;vc; j++)\n{\nSystem.out.print(&quot;V&quot;);\n\n}\n\nSystem.out.println();\n\nfor (int k = 0; k&lt;cc; k++)\n\n{\n\nSystem.out.print(&quot;C&quot;);\n}\nSystem.out.println();\n\nfor (i = 0; i&lt;slen; i++)\n\n{\n\nch sen.charAt(i);\n\nif (ch==&#39;.&#39; || ch== &#39;?&#39; || ch==&#39;&#39;)\n\nSystem.out.println(&quot;INCORRECT TERMINATING CHARACTER. INVALID INPUT.&quot;);\n}\n}\n\n}","body":"cc++;  }  if (ch==&#39; &#39;)  {  System.out.print(wd+&quot; &quot;);  wd=&quot;&quot;: } else wd=wd+ch;  } } for (int j = 0; j&lt;vc; j++) { System.out.print(&quot;V&quot;);  }  System.out.println();  for (int k = 0; k&lt;cc; k++)  {  System.out.print(&quot;C&quot;); } System.out.println();  for (i = 0; i&lt;slen; i++)  {  ch sen.charAt(i);  if (ch==&#39;.&#39; || ch== &#39;?&#39; || ch==&#39;&#39;)  System.out.println(&quot;INCORRECT TERMINATING CHARACTER. INVALID INPUT.&quot;); } }  }"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1701024915,"post_id":77552804,"comment_id":136721026,"body_markdown":"Please re-edit your question and put your code there.","body":"Please re-edit your question and put your code there."},{"owner":{"account_id":29998074,"reputation":1,"user_id":22988872,"display_name":"Beginner"},"score":0,"creation_date":1701025290,"post_id":77552804,"comment_id":136721066,"body_markdown":"That says that it is too long","body":"That says that it is too long"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1701024843,"creation_date":1701024257,"answer_id":77553018,"question_id":77552804,"body_markdown":"Here is an example.\r\n\r\nMaintain a _String_ for both _vowels_, and _consonants_; I&#39;m using _a_ and _b_.\\\r\nDivide the text, _s_, with the _[String#split](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ _method_, and traverse each value.\\\r\nFrom here, increment _x_ by _1_ for vowels, and _y_ by _1_ for _consonants_.\\\r\nAfter the _loop_, print out an occurrence of either _&quot;V&quot;_, or _&quot;C&quot;_, for each _x_ and _y_, with the _[String#repeat](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#repeat(int))_ method.\r\n\r\n```java\r\nString s = &quot;HOW ARE YOU?&quot;,\r\n       a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\r\nint i, n, x, y;\r\nchar c;\r\nfor (String w : s.split(&quot; +&quot;)) {\r\n    System.out.println(w);\r\n    x = y = 0;\r\n    for (i = 0, n = w.length(); i &lt; n; i++) {\r\n        c = Character.toLowerCase(w.charAt(i));\r\n        if (a.indexOf(c) != -1) x++;\r\n        else if (b.indexOf(c) != -1) y++;\r\n    }\r\n    System.out.println(&quot;V&quot;.repeat(x));\r\n    System.out.println(&quot;C&quot;.repeat(y));\r\n    System.out.println();\r\n}\r\n```\r\n\r\nAlternately, utilize the _[Scanner](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html)_ class to traverse each word.\r\n\r\n```java\r\nScanner s = new Scanner(&quot;HOW ARE YOU?&quot;);\r\nString w, a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\r\nint i, n, x, y;\r\nchar c;\r\nwhile (s.hasNext()) {\r\n    System.out.println(w = s.next());\r\n    x = y = 0;\r\n    for (i = 0, n = w.length(); i &lt; n; i++) {\r\n        c = Character.toLowerCase(w.charAt(i));\r\n        if (a.indexOf(c) != -1) x++;\r\n        else if (b.indexOf(c) != -1) y++;\r\n    }\r\n    System.out.println(&quot;V&quot;.repeat(x));\r\n    System.out.println(&quot;C&quot;.repeat(y));\r\n    System.out.println();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nHOW\r\nV\r\nCC\r\n\r\nARE\r\nVV\r\nC\r\n\r\nYOU?\r\nVV\r\nC\r\n```","title":"Is there any function that can count with char value?","body":"<p>Here is an example.</p>\n<p>Maintain a <em>String</em> for both <em>vowels</em>, and <em>consonants</em>; I'm using <em>a</em> and <em>b</em>.<br />\nDivide the text, <em>s</em>, with the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> <em>method</em>, and traverse each value.<br />\nFrom here, increment <em>x</em> by <em>1</em> for vowels, and <em>y</em> by <em>1</em> for <em>consonants</em>.<br />\nAfter the <em>loop</em>, print out an occurrence of either <em>&quot;V&quot;</em>, or <em>&quot;C&quot;</em>, for each <em>x</em> and <em>y</em>, with the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">String#repeat</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;HOW ARE YOU?&quot;,\n       a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\nint i, n, x, y;\nchar c;\nfor (String w : s.split(&quot; +&quot;)) {\n    System.out.println(w);\n    x = y = 0;\n    for (i = 0, n = w.length(); i &lt; n; i++) {\n        c = Character.toLowerCase(w.charAt(i));\n        if (a.indexOf(c) != -1) x++;\n        else if (b.indexOf(c) != -1) y++;\n    }\n    System.out.println(&quot;V&quot;.repeat(x));\n    System.out.println(&quot;C&quot;.repeat(y));\n    System.out.println();\n}\n</code></pre>\n<p>Alternately, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class to traverse each word.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner s = new Scanner(&quot;HOW ARE YOU?&quot;);\nString w, a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\nint i, n, x, y;\nchar c;\nwhile (s.hasNext()) {\n    System.out.println(w = s.next());\n    x = y = 0;\n    for (i = 0, n = w.length(); i &lt; n; i++) {\n        c = Character.toLowerCase(w.charAt(i));\n        if (a.indexOf(c) != -1) x++;\n        else if (b.indexOf(c) != -1) y++;\n    }\n    System.out.println(&quot;V&quot;.repeat(x));\n    System.out.println(&quot;C&quot;.repeat(y));\n    System.out.println();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>HOW\nV\nCC\n\nARE\nVV\nC\n\nYOU?\nVV\nC\n</code></pre>\n"}],"owner":{"account_id":29998074,"reputation":1,"user_id":22988872,"display_name":"Beginner"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701026375,"accepted_answer_id":77553018,"answer_count":1,"score":-3,"last_activity_date":1701026228,"creation_date":1701020663,"question_id":77552804,"body_markdown":"Write a program to accept a sentence and perform the following tasks:\r\n\r\n1) **Count number of vowels  and consonants present in each word**\r\n\r\n2) Generate the output of the frequency in form of a bar graph, where **V denotes vowels and C denotes consonants** as shown below:\r\n\r\n\r\nExample:\r\n\r\n**INPUT:-**\r\n\r\nHOW ARE YOU?\r\n\r\n\r\n\r\n**OUTPUT:-**\r\n\r\n\r\nWORD COUNT:\r\n\r\nHOW   \r\n  **V**\r\n        \r\n**CC**\r\n\r\n\r\nARE      \r\n **VV**\r\n          \r\n**C**\r\n\r\n\r\n\r\nYOU      \r\n  **VV**\r\n           \r\n**C**\r\n\r\nThe thing I am asking is that how can I print  V and C, the number of times the vowels and consonants is occurring.. because I can perform this with digits(like if 2 vowel are there so print 2) but I can&#39;t figure that out with char value(here, V and C)\r\n\r\nI tried this with for loop with if statement.. but that ain&#39;t working\r\n\r\n\r\nPlease help me with this... **exams are round the corner**","title":"Is there any function that can count with char value?","body":"<p>Write a program to accept a sentence and perform the following tasks:</p>\n<ol>\n<li><p><strong>Count number of vowels  and consonants present in each word</strong></p>\n</li>\n<li><p>Generate the output of the frequency in form of a bar graph, where <strong>V denotes vowels and C denotes consonants</strong> as shown below:</p>\n</li>\n</ol>\n<p>Example:</p>\n<p><strong>INPUT:-</strong></p>\n<p>HOW ARE YOU?</p>\n<p><strong>OUTPUT:-</strong></p>\n<p>WORD COUNT:</p>\n<p>HOW<br />\n<strong>V</strong></p>\n<p><strong>CC</strong></p>\n<p>ARE<br />\n<strong>VV</strong></p>\n<p><strong>C</strong></p>\n<p>YOU<br />\n<strong>VV</strong></p>\n<p><strong>C</strong></p>\n<p>The thing I am asking is that how can I print  V and C, the number of times the vowels and consonants is occurring.. because I can perform this with digits(like if 2 vowel are there so print 2) but I can't figure that out with char value(here, V and C)</p>\n<p>I tried this with for loop with if statement.. but that ain't working</p>\n<p>Please help me with this... <strong>exams are round the corner</strong></p>\n"},{"tags":["java","ehcache"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701025863,"creation_date":1701025863,"question_id":77553105,"body_markdown":"I&#39;ve read that caching a `findAll` method using Ehcache 3 is considered an anti-pattern. Why is that exactly?\r\n\r\nFor demo purposes, I&#39;ve created a simple Java application that implements caching using Ehcache 3.\r\n\r\nSo, here&#39;s a `findById` method that exploits caching.\r\n```\r\n    public Person findById(Long id) {\r\n        Optional&lt;Person&gt; optPerson = personCache.get(id);\r\n        if (optPerson.isPresent()) {\r\n            return optPerson.get();\r\n        }\r\n        try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM person WHERE id = ?&quot;)) {\r\n            statement.setLong(1, id);\r\n            ResultSet rs = statement.executeQuery();\r\n            if (rs.next()) {\r\n                Long actualId = rs.getLong(&quot;id&quot;);\r\n                String firstName = rs.getString(&quot;first_name&quot;);\r\n                String lastName = rs.getString(&quot;last_name&quot;);\r\n                Integer age = rs.getInt(&quot;age&quot;);\r\n                Person person = new Person(actualId, firstName, lastName, age);\r\n                personCache.put(person);\r\n                return person;\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;\r\n    }\r\n```\r\nIt works as expected.\r\n\r\nHowever, I also would like to store the `findAll` (`SELECT * FROM person`) query. I&#39;m not sure how to do that, and why is it an anti-pattern.\r\n\r\nIs it because the number of tuples in the database is unknown? Caching too much can be rather counter-productive, but there&#39;s still a solution to cache only when `findAll` would return less than X values.\r\n\r\nHow do I go about storing `findAll` with Ehcache in pure Java?","title":"Caching the result of findAll method | Ehcache","body":"<p>I've read that caching a <code>findAll</code> method using Ehcache 3 is considered an anti-pattern. Why is that exactly?</p>\n<p>For demo purposes, I've created a simple Java application that implements caching using Ehcache 3.</p>\n<p>So, here's a <code>findById</code> method that exploits caching.</p>\n<pre><code>    public Person findById(Long id) {\n        Optional&lt;Person&gt; optPerson = personCache.get(id);\n        if (optPerson.isPresent()) {\n            return optPerson.get();\n        }\n        try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM person WHERE id = ?&quot;)) {\n            statement.setLong(1, id);\n            ResultSet rs = statement.executeQuery();\n            if (rs.next()) {\n                Long actualId = rs.getLong(&quot;id&quot;);\n                String firstName = rs.getString(&quot;first_name&quot;);\n                String lastName = rs.getString(&quot;last_name&quot;);\n                Integer age = rs.getInt(&quot;age&quot;);\n                Person person = new Person(actualId, firstName, lastName, age);\n                personCache.put(person);\n                return person;\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n</code></pre>\n<p>It works as expected.</p>\n<p>However, I also would like to store the <code>findAll</code> (<code>SELECT * FROM person</code>) query. I'm not sure how to do that, and why is it an anti-pattern.</p>\n<p>Is it because the number of tuples in the database is unknown? Caching too much can be rather counter-productive, but there's still a solution to cache only when <code>findAll</code> would return less than X values.</p>\n<p>How do I go about storing <code>findAll</code> with Ehcache in pure Java?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":16644372,"reputation":3,"user_id":13169307,"display_name":"tanishq porwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701025759,"creation_date":1701025759,"answer_id":77553100,"question_id":77551249,"body_markdown":"This can be achieved by using [deferContextual(Function)][1] \r\n &amp; [transformDeferredContextual(BiFunction)][2]\r\n\r\n```java\r\n\r\n@Component\r\npublic class YourFilter implements WebFilter {\r\n\r\n  @Override\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    return Mono.deferContextual(contextView -&gt; chain.filter(exchange)\r\n        .contextWrite(context -&gt; context.put(&quot;KEY&quot;, &quot;VALUE&quot;)));\r\n  }\r\n}\r\n\r\n// controller\r\n @Override\r\n  public Mono&lt;String&gt; testApi(ServerWebExchange exchange) {\r\n    return Mono.just(&quot;OK&quot;)\r\n        .transformDeferredContextual((data, context) -&gt; {\r\n          log.info(&quot;context is {}&quot;, (Object) context.get(&quot;KEY&quot;));\r\n          return data;\r\n        });\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#deferContextual-java.util.function.Function-\r\n  [2]: https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#transformDeferredContextual-java.util.function.BiFunction-","title":"Spring boot WebFlux: WebFilter not working","body":"<p>This can be achieved by using <a href=\"https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#deferContextual-java.util.function.Function-\" rel=\"nofollow noreferrer\">deferContextual(Function)</a>\n&amp; <a href=\"https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#transformDeferredContextual-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">transformDeferredContextual(BiFunction)</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\npublic class YourFilter implements WebFilter {\n\n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return Mono.deferContextual(contextView -&gt; chain.filter(exchange)\n        .contextWrite(context -&gt; context.put(&quot;KEY&quot;, &quot;VALUE&quot;)));\n  }\n}\n\n// controller\n @Override\n  public Mono&lt;String&gt; testApi(ServerWebExchange exchange) {\n    return Mono.just(&quot;OK&quot;)\n        .transformDeferredContextual((data, context) -&gt; {\n          log.info(&quot;context is {}&quot;, (Object) context.get(&quot;KEY&quot;));\n          return data;\n        });\n  }\n</code></pre>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701025759,"creation_date":1700993868,"question_id":77551249,"body_markdown":"I have the below controller which returns a Mono of string\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/test&quot;)\r\n    public class TestController {\r\n    \r\n        @PostMapping\r\n        public Mono&lt;String&gt; getDraft() {\r\n            return Mono.just(&quot;ok&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nI added the bean WebFilter to do some treatment when a request comes in, the problem is that the message in the bean does not display in the console, i tried to add a breakpoint to debug but when i test the api it&#39;s not stopping in the breakpoint. In the `actuator/beans` i found the bean `slf4jMdcFilter`. There&#39;s another config to add ?\r\n\r\n    @Configuration\r\n    public class WebConfig {\r\n    \r\n        public static final String TRX_ID = &quot;transactionId&quot;;\r\n        public static final String PATH_URI = &quot;pathUri&quot;;\r\n    \r\n        @Bean\r\n        @Order(Ordered.HIGHEST_PRECEDENCE)\r\n        WebFilter slf4jMdcFilter() {\r\n            return (exchange, chain) -&gt; {\r\n                System.out.println(&quot;Filtering request&quot;);\r\n                String requestId = exchange.getRequest().getId();\r\n                return chain.filter(exchange)\r\n                        .contextWrite(Context.of(TRX_ID, requestId)\r\n                                .put(PATH_URI, exchange.getRequest().getPath()));\r\n            };\r\n        }\r\n    \r\n    }","title":"Spring boot WebFlux: WebFilter not working","body":"<p>I have the below controller which returns a Mono of string</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1/test&quot;)\npublic class TestController {\n\n    @PostMapping\n    public Mono&lt;String&gt; getDraft() {\n        return Mono.just(&quot;ok&quot;);\n    }\n\n}\n</code></pre>\n<p>I added the bean WebFilter to do some treatment when a request comes in, the problem is that the message in the bean does not display in the console, i tried to add a breakpoint to debug but when i test the api it's not stopping in the breakpoint. In the <code>actuator/beans</code> i found the bean <code>slf4jMdcFilter</code>. There's another config to add ?</p>\n<pre><code>@Configuration\npublic class WebConfig {\n\n    public static final String TRX_ID = &quot;transactionId&quot;;\n    public static final String PATH_URI = &quot;pathUri&quot;;\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    WebFilter slf4jMdcFilter() {\n        return (exchange, chain) -&gt; {\n            System.out.println(&quot;Filtering request&quot;);\n            String requestId = exchange.getRequest().getId();\n            return chain.filter(exchange)\n                    .contextWrite(Context.of(TRX_ID, requestId)\n                            .put(PATH_URI, exchange.getRequest().getPath()));\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","controller","mockito","spring-test"],"comments":[{"owner":{"account_id":973103,"reputation":1596,"user_id":995199,"accept_rate":81,"display_name":"Marcin Erbel"},"score":0,"creation_date":1387791402,"post_id":9186604,"comment_id":31077315,"body_markdown":"I&#39;ve the same problem, but I&#39;m using:\n    @Autowired\n    @ReplaceWithMock(beanName=&quot;logDao&quot;)\n    private LogDao logDaoMock;","body":"I&#39;ve the same problem, but I&#39;m using:     @Autowired     @ReplaceWithMock(beanName=&quot;logDao&quot;)     private LogDao logDaoMock;"}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":72,"is_accepted":true,"score":71,"last_activity_date":1328683072,"creation_date":1328683072,"answer_id":9188823,"question_id":9186604,"body_markdown":"You need to create a MOCK of pcUserService first, and then use that mock.\r\n\r\n    PcUserService mock = org.mockito.Mockito.mock(PcUserService.class);\r\n    when(mock.read(&quot;1&quot;)).thenReturn(pcUser);\r\n","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>You need to create a MOCK of pcUserService first, and then use that mock.</p>\n\n<pre><code>PcUserService mock = org.mockito.Mockito.mock(PcUserService.class);\nwhen(mock.read(\"1\")).thenReturn(pcUser);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653896,"reputation":590,"user_id":6478781,"display_name":"djkelly99"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1475577157,"creation_date":1475577157,"answer_id":39850012,"question_id":9186604,"body_markdown":"In case others hit this issue....\r\n\r\nIt could also be the case that the method you are trying to mock out,`pcUserService.read`, is declared as a `final` method.  From what I&#39;ve noticed this appears to cause issues with Mockito.","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>In case others hit this issue....</p>\n\n<p>It could also be the case that the method you are trying to mock out,<code>pcUserService.read</code>, is declared as a <code>final</code> method.  From what I've noticed this appears to cause issues with Mockito.</p>\n"},{"tags":[],"owner":{"account_id":2408281,"reputation":1273,"user_id":2104103,"display_name":"Saran"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1506635162,"creation_date":1506635162,"answer_id":46478795,"question_id":9186604,"body_markdown":"Another solution to this issue might be that in case of a test class that is using `PowerMockRunner`, you might have to add the class that you are mocking to the list, in `@PrepareForTest` annotation.\r\n\r\nFor instance -\r\n\r\n`@PrepareForTest({ PcUserService.class })`","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>Another solution to this issue might be that in case of a test class that is using <code>PowerMockRunner</code>, you might have to add the class that you are mocking to the list, in <code>@PrepareForTest</code> annotation.</p>\n\n<p>For instance -</p>\n\n<p><code>@PrepareForTest({ PcUserService.class })</code></p>\n"},{"tags":[],"owner":{"account_id":3986586,"reputation":95,"user_id":3286972,"display_name":"Michał &#39;PuszekSE&#39;"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515581393,"creation_date":1515581393,"answer_id":48185721,"question_id":9186604,"body_markdown":"There&#39;s another possible reason for such error - sometimes IDE prefers to statically import Mockito.when() from another package:\r\n\r\n    import static io.codearte.catchexception.shade.mockito.Mockito.when;\r\n\r\nvs\r\n\r\n    import static org.mockito.Mockito.when; //should normally use this one\r\n\r\nThe thing is &#39;when&#39; from io.codearte package is compliant with org.mockito.Mockito.any() on compilation level, but fails during runtime with that exact same error message.","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>There's another possible reason for such error - sometimes IDE prefers to statically import Mockito.when() from another package:</p>\n\n<pre><code>import static io.codearte.catchexception.shade.mockito.Mockito.when;\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>import static org.mockito.Mockito.when; //should normally use this one\n</code></pre>\n\n<p>The thing is 'when' from io.codearte package is compliant with org.mockito.Mockito.any() on compilation level, but fails during runtime with that exact same error message.</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1564143911,"creation_date":1522138731,"answer_id":49507746,"question_id":9186604,"body_markdown":"If you use `Kotlin`, you should know that methods are `final` by default. So write `open fun` instead of `fun`. Thanks to @djkelly99 for a tip.","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>If you use <code>Kotlin</code>, you should know that methods are <code>final</code> by default. So write <code>open fun</code> instead of <code>fun</code>. Thanks to @djkelly99 for a tip.</p>\n"},{"tags":[],"owner":{"account_id":4937712,"reputation":29,"user_id":3975386,"display_name":"Thom&#225;s Preis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536652725,"creation_date":1536652725,"answer_id":52271287,"question_id":9186604,"body_markdown":"I had the same issue, the method that I was trying to mock it was a final method. I removed the modifier and it worked fine.","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>I had the same issue, the method that I was trying to mock it was a final method. I removed the modifier and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":11251026,"reputation":729,"user_id":8252130,"display_name":"pasindupa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576392169,"creation_date":1576392169,"answer_id":59341743,"question_id":9186604,"body_markdown":"For the help of others who stuck with the same problem;\r\n\r\nThe method you are trying to mock , pcUserService.read, is declared as a **final** method. Static methods appears to cause issues with Mockito.","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>For the help of others who stuck with the same problem;</p>\n\n<p>The method you are trying to mock , pcUserService.read, is declared as a <strong>final</strong> method. Static methods appears to cause issues with Mockito.</p>\n"},{"tags":[],"owner":{"account_id":13338050,"reputation":484,"user_id":9627242,"display_name":"ajain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587148824,"creation_date":1587148824,"answer_id":61278484,"question_id":9186604,"body_markdown":"Basically You need to use the PowerMockito.mockStatic to enable static mocking for all static methods of a class. This means make it possible to stub them using the when-thenReturn syntax.\r\nFor example: \r\n`PowerMockito.mockStatic(TestClass.class);\r\n when(TestClass.getString()).thenReturn(&quot;HelloWorld!&quot;);\r\n`\r\nNote: you have to add `@PrepareForTest({ TestClass.class })` to your unit test class.\r\n\r\n","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>Basically You need to use the PowerMockito.mockStatic to enable static mocking for all static methods of a class. This means make it possible to stub them using the when-thenReturn syntax.\nFor example: \n<code>PowerMockito.mockStatic(TestClass.class);\n when(TestClass.getString()).thenReturn(\"HelloWorld!\");\n</code>\nNote: you have to add <code>@PrepareForTest({ TestClass.class })</code> to your unit test class.</p>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589791147,"creation_date":1589791147,"answer_id":61865623,"question_id":9186604,"body_markdown":"In my case it was solved by injecting `@MockBean`.\r\n\r\nFor ex.\r\n\r\n    @MockBean\r\n\tStateRepository mockStateRepository;","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>In my case it was solved by injecting <code>@MockBean</code>.</p>\n\n<p>For ex.</p>\n\n<pre><code>@MockBean\nStateRepository mockStateRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8319273,"reputation":97,"user_id":7672135,"display_name":"J. Soares"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617623352,"creation_date":1617623352,"answer_id":66952544,"question_id":9186604,"body_markdown":"If you use KOIN, include in the gradle&#39;s dependencies:\r\n```gradle\r\ndependencies {\r\n    ...\r\n    testImplementation &quot;org.koin:koin-test:2.0.0&quot;\r\n}\r\n````","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>If you use KOIN, include in the gradle's dependencies:</p>\n<pre><code>dependencies {\n    ...\n    testImplementation &quot;org.koin:koin-test:2.0.0&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9108441,"reputation":181,"user_id":6778015,"display_name":"Dhruvajyoti Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618167366,"creation_date":1618167366,"answer_id":67049012,"question_id":9186604,"body_markdown":"I faced similar issue when mocking static method of anotherClass called inside  testing a method of someClass. In that case, we need to add @PrepareForTest({anotherClass.class, someClass.class}) both the class having the static method and caller class.  ","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>I faced similar issue when mocking static method of anotherClass called inside  testing a method of someClass. In that case, we need to add @PrepareForTest({anotherClass.class, someClass.class}) both the class having the static method and caller class.</p>\n"},{"tags":[],"owner":{"account_id":1890456,"reputation":2995,"user_id":1708697,"display_name":"Tom Chamberlain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637601517,"creation_date":1637601517,"answer_id":70069864,"question_id":9186604,"body_markdown":"If you get this exception when using `MockedStatic` or `Mockito.mockStatic`, it can also mean that you are mixing matchers and literals in the call to the static method. \r\n\r\nTry changing any mixes like `YourClass.staticMethod(any(), &quot;literal&quot;)` to `YourClass.staticMethod(any(), eq(&quot;literal&quot;))`","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>If you get this exception when using <code>MockedStatic</code> or <code>Mockito.mockStatic</code>, it can also mean that you are mixing matchers and literals in the call to the static method.</p>\n<p>Try changing any mixes like <code>YourClass.staticMethod(any(), &quot;literal&quot;)</code> to <code>YourClass.staticMethod(any(), eq(&quot;literal&quot;))</code></p>\n"},{"tags":[],"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651156228,"creation_date":1651156228,"answer_id":72045532,"question_id":9186604,"body_markdown":"When I got this exception, I was using @InjectMocks on the class that I needed to have the @Mock objects injected into (via constructor injection).\r\n\r\nAFter much searching, I finally stumbled across this article: \r\n\r\nhttps://mkyong.com/spring-boot/mockito-when-requires-an-argument-which-has-to-be-a-method-call-on-a-mock/\r\n\r\nThe key part to take away from it is (from the article):\r\n\r\n&gt; When Mockito see this @InjectMocks, it doesn’t mock it, it just\r\n&gt; creates a normal instance, so the when() will be failed.\r\n\r\nSo this make this exception message I was getting \r\n\r\n&gt; when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n\r\nmake sense now; you aren&#39;t using *when* on an actual mock but an actual instance.\r\n\r\n\r\n\r\nThe link also provides the solution to the problem: \r\n \r\n&gt; To solve it, annotate @Spy to mock it partially.\r\n\r\nOn top of @InjectMocks, put @Spy.\r\n\r\nAs a side note, if you try to make it a Mock by putting @Mock on top of @InjectMocks, you will get exception:\r\n\r\n&gt; org.mockito.exceptions.base.MockitoException: This combination of\r\n&gt; annotations is not permitted on a single field: @Mock and @InjectMocks\r\n\r\nUsing @Spy on top of @InjectMocks solved the problem for me. \r\n\r\n\r\n\r\n\r\n\r\n","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>When I got this exception, I was using @InjectMocks on the class that I needed to have the @Mock objects injected into (via constructor injection).</p>\n<p>AFter much searching, I finally stumbled across this article:</p>\n<p><a href=\"https://mkyong.com/spring-boot/mockito-when-requires-an-argument-which-has-to-be-a-method-call-on-a-mock/\" rel=\"nofollow noreferrer\">https://mkyong.com/spring-boot/mockito-when-requires-an-argument-which-has-to-be-a-method-call-on-a-mock/</a></p>\n<p>The key part to take away from it is (from the article):</p>\n<blockquote>\n<p>When Mockito see this @InjectMocks, it doesn’t mock it, it just\ncreates a normal instance, so the when() will be failed.</p>\n</blockquote>\n<p>So this make this exception message I was getting</p>\n<blockquote>\n<p>when() requires an argument which has to be 'a method call on a mock'.</p>\n</blockquote>\n<p>make sense now; you aren't using <em>when</em> on an actual mock but an actual instance.</p>\n<p>The link also provides the solution to the problem:</p>\n<blockquote>\n<p>To solve it, annotate @Spy to mock it partially.</p>\n</blockquote>\n<p>On top of @InjectMocks, put @Spy.</p>\n<p>As a side note, if you try to make it a Mock by putting @Mock on top of @InjectMocks, you will get exception:</p>\n<blockquote>\n<p>org.mockito.exceptions.base.MockitoException: This combination of\nannotations is not permitted on a single field: @Mock and @InjectMocks</p>\n</blockquote>\n<p>Using @Spy on top of @InjectMocks solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664945020,"creation_date":1664945020,"answer_id":73956015,"question_id":9186604,"body_markdown":"I faced same issue and it was because the mocked object is defined as `@Bean`and the overriden `@Bean` in the test was not working because of a missing spring property value\r\n\r\n    @Bean\r\n    @Primary\r\n    public JwtTokenUtil jwtTokenUtil() {\r\n        return Mockito.mock(JwtTokenUtil.class);\r\n    }\r\n\r\n    @Autowired\r\n    private JwtTokenUtil jwtTokenUtil;\r\n\r\n    when(jwtTokenUtil.validateToken(jwtToken)).thenReturn(true);\r\n\r\n\r\n**Fix**\r\n\r\n`spring.main.allow-bean-definition-overriding=true`  in application-test.properties","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>I faced same issue and it was because the mocked object is defined as <code>@Bean</code>and the overriden <code>@Bean</code> in the test was not working because of a missing spring property value</p>\n<pre><code>@Bean\n@Primary\npublic JwtTokenUtil jwtTokenUtil() {\n    return Mockito.mock(JwtTokenUtil.class);\n}\n\n@Autowired\nprivate JwtTokenUtil jwtTokenUtil;\n\nwhen(jwtTokenUtil.validateToken(jwtToken)).thenReturn(true);\n</code></pre>\n<p><strong>Fix</strong></p>\n<p><code>spring.main.allow-bean-definition-overriding=true</code>  in application-test.properties</p>\n"},{"tags":[],"owner":{"account_id":4608437,"reputation":2168,"user_id":3737266,"accept_rate":75,"display_name":"Blue_Alien"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674540389,"creation_date":1674540389,"answer_id":75217954,"question_id":9186604,"body_markdown":"if anything above answers your case, then check that you did missed the `@Test` annotation for your test method. \r\n\r\n    @Test\r\n    public void my_test_method(){\r\n    }\r\n\r\njust quoting, as this was my case. just missed the annotation.","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>if anything above answers your case, then check that you did missed the <code>@Test</code> annotation for your test method.</p>\n<pre><code>@Test\npublic void my_test_method(){\n}\n</code></pre>\n<p>just quoting, as this was my case. just missed the annotation.</p>\n"},{"tags":[],"owner":{"account_id":9474708,"reputation":520,"user_id":7044451,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698570603,"creation_date":1698570603,"answer_id":77382646,"question_id":9186604,"body_markdown":"I have faced a similar issue. You can simply use the “spy” annotation on the “pcUserService” bean, if you cannot mock the “pcUserService” bean (e.g. when the “pcUserService” bean itself is under test and has @InjectMocks annotation). Briefly, “spy” means you mock the bean partially.\r\n\r\nThe [Mockito – when() requires an argument which has to be ‘a method call on a mock’][1] is so great and makes the point in a nutshell with a simple and useful example.\r\n\r\n\r\n  [1]: https://mkyong.com/spring-boot/mockito-when-requires-an-argument-which-has-to-be-a-method-call-on-a-mock/","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>I have faced a similar issue. You can simply use the “spy” annotation on the “pcUserService” bean, if you cannot mock the “pcUserService” bean (e.g. when the “pcUserService” bean itself is under test and has @InjectMocks annotation). Briefly, “spy” means you mock the bean partially.</p>\n<p>The <a href=\"https://mkyong.com/spring-boot/mockito-when-requires-an-argument-which-has-to-be-a-method-call-on-a-mock/\" rel=\"nofollow noreferrer\">Mockito – when() requires an argument which has to be ‘a method call on a mock’</a> is so great and makes the point in a nutshell with a simple and useful example.</p>\n"},{"tags":[],"owner":{"account_id":18127988,"reputation":1,"user_id":13183356,"display_name":"Steve Aston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701025738,"creation_date":1701025738,"answer_id":77553097,"question_id":9186604,"body_markdown":"In my case, I had to attach the  attach the Mockito extension to the Class \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class pcUserService{\r\n     ... \r\n    }","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>In my case, I had to attach the  attach the Mockito extension to the Class</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass pcUserService{\n ... \n}\n</code></pre>\n"}],"owner":{"account_id":936447,"reputation":2921,"user_id":965294,"accept_rate":32,"display_name":"jsf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190193,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":9188823,"answer_count":17,"score":75,"last_activity_date":1701025738,"creation_date":1328664249,"question_id":9186604,"body_markdown":"I have a very simple test case that is using Mockito and Spring Test framework. When I do \r\n\r\n    when(pcUserService.read(&quot;1&quot;)).thenReturn(pcUser);\r\n\r\nI get this exception. \r\n\r\n    org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n    when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n    For example:\r\n        when(mock.getArticles()).thenReturn(articles);\r\n    \r\n    Also, this error might show up because:\r\n    1. you stub either of: final/private/equals()/hashCode() methods.\r\n       Those methods *cannot* be stubbed/verified.\r\n    2. inside when() you don&#39;t call method on mock but on some other object.\r\n    \r\n    \tat com.project.cleaner.controller.test.PcUserControllerTest.shouldGetPcUser(PcUserControllerTest.java:93)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n\r\nI have tried with different methods but keep on getting this error message. I am using Spring 3.1.0.RELEASE with Mockito. Please share and guide me in the right direction.","title":"Mockito Exception - when() requires an argument which has to be a method call on a mock","body":"<p>I have a very simple test case that is using Mockito and Spring Test framework. When I do </p>\n\n<pre><code>when(pcUserService.read(\"1\")).thenReturn(pcUser);\n</code></pre>\n\n<p>I get this exception. </p>\n\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n\nAlso, this error might show up because:\n1. you stub either of: final/private/equals()/hashCode() methods.\n   Those methods *cannot* be stubbed/verified.\n2. inside when() you don't call method on mock but on some other object.\n\n    at com.project.cleaner.controller.test.PcUserControllerTest.shouldGetPcUser(PcUserControllerTest.java:93)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n</code></pre>\n\n<p>I have tried with different methods but keep on getting this error message. I am using Spring 3.1.0.RELEASE with Mockito. Please share and guide me in the right direction.</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1701027518,"post_id":77553032,"comment_id":136721259,"body_markdown":"Set `spring.servlet.multipart.max-file-size=-1` and `spring.servlet.multipart.max-request-size=-1`.","body":"Set <code>spring.servlet.multipart.max-file-size=-1</code> and <code>spring.servlet.multipart.max-request-size=-1</code>."}],"owner":{"account_id":20695800,"reputation":1,"user_id":15355420,"display_name":"Bence H&#233;rincs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701031248,"answer_count":0,"score":0,"last_activity_date":1701024675,"creation_date":1701024483,"question_id":77553032,"body_markdown":"I am currently making a backend for my fileShare client, which is according to my plans would be something like onedrive or nextcloud in the end.\r\nI am creating the backend in Spring Boot 3.1.4 under Java 17. I have made an entry point like this:\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n        public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile multipartFile,\r\n                                                 @RequestParam(&quot;isFolder&quot;) Boolean isFolder,\r\n                                                 @RequestParam(&quot;destFolder&quot;) String destFolder){\r\n            try{\r\n                Path path = fileAccessService.uploadFile(multipartFile, isFolder.booleanValue(), destFolder);\r\n                if(path == null){\r\n                    return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;The file or folder already exists&quot;);\r\n                }\r\n                return ResponseEntity.status(HttpStatus.OK).body(&quot;The upload was successful. The file has been uploaded to: &quot; + path);\r\n            }\r\n            catch (IOException ex){\r\n                log.error(&quot;There was an error while trying to transfer file to the server: &quot; + ex.getMessage());\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n            }\r\n        }\r\n\r\nBut whenever I try to test this using either my half done application or postman with a kinda large file (around 400kB) I get this exception:\r\n\r\n`org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (414187747) exceeds the configured maximum (10485760)`\r\n\r\nI have NOT configured this at all, so I am guessing this is a default value.\r\n\r\nMy question is how can I configure either tomcat or Spring Boot to accept (ideally) infintely large files.\r\n\r\nP.S.: I have not installed tomcat spearately, I am running the program in IntelliJ&#39;s debugger, and planning to deploy it onto a Linux based server using maven (which server also doesn&#39;t have a tomcat installed separatelly). I already have other Spring Boot apps running on the said server.\r\n\r\nMy first atempt was to try and configure this from the properties file:\r\n`server.tomcat.max-swallow-size=1000GB\r\nserver.tomcat.max-http-post-size=1000GB`\r\nWithout any luck.","title":"Spring Boot 3, tomcat SizeLimitExceededException","body":"<p>I am currently making a backend for my fileShare client, which is according to my plans would be something like onedrive or nextcloud in the end.\nI am creating the backend in Spring Boot 3.1.4 under Java 17. I have made an entry point like this:</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile multipartFile,\n                                             @RequestParam(&quot;isFolder&quot;) Boolean isFolder,\n                                             @RequestParam(&quot;destFolder&quot;) String destFolder){\n        try{\n            Path path = fileAccessService.uploadFile(multipartFile, isFolder.booleanValue(), destFolder);\n            if(path == null){\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;The file or folder already exists&quot;);\n            }\n            return ResponseEntity.status(HttpStatus.OK).body(&quot;The upload was successful. The file has been uploaded to: &quot; + path);\n        }\n        catch (IOException ex){\n            log.error(&quot;There was an error while trying to transfer file to the server: &quot; + ex.getMessage());\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n</code></pre>\n<p>But whenever I try to test this using either my half done application or postman with a kinda large file (around 400kB) I get this exception:</p>\n<p><code>org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (414187747) exceeds the configured maximum (10485760)</code></p>\n<p>I have NOT configured this at all, so I am guessing this is a default value.</p>\n<p>My question is how can I configure either tomcat or Spring Boot to accept (ideally) infintely large files.</p>\n<p>P.S.: I have not installed tomcat spearately, I am running the program in IntelliJ's debugger, and planning to deploy it onto a Linux based server using maven (which server also doesn't have a tomcat installed separatelly). I already have other Spring Boot apps running on the said server.</p>\n<p>My first atempt was to try and configure this from the properties file:\n<code>server.tomcat.max-swallow-size=1000GB server.tomcat.max-http-post-size=1000GB</code>\nWithout any luck.</p>\n"},{"tags":["java","android","service","android-11","caller-id"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701024315,"post_id":77552971,"comment_id":136720947,"body_markdown":"Don&#39;t assume we have any idea what those apps are.  Explain what functionality in them you&#39;re trying to emulate.","body":"Don&#39;t assume we have any idea what those apps are.  Explain what functionality in them you&#39;re trying to emulate."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701024382,"post_id":77552971,"comment_id":136720955,"body_markdown":"Also, even with a foreground service you cannot assure your app will always run.  So it&#39;s unlikely to be the correct solution for whatever you&#39;re trying to do.","body":"Also, even with a foreground service you cannot assure your app will always run.  So it&#39;s unlikely to be the correct solution for whatever you&#39;re trying to do."},{"owner":{"account_id":12821764,"reputation":1662,"user_id":9885352,"display_name":"Sandeep Pareek"},"score":0,"creation_date":1701024658,"post_id":77552971,"comment_id":136720979,"body_markdown":"@GabeSechan please check my question again i have updated and what do u think how should i fix my problem.","body":"@GabeSechan please check my question again i have updated and what do u think how should i fix my problem."}],"owner":{"account_id":12821764,"reputation":1662,"user_id":9885352,"display_name":"Sandeep Pareek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701024401,"creation_date":1701023615,"question_id":77552971,"body_markdown":"Actually i&#39;m working on a application like Truecaller and Whoscall that&#39;s why i want to setup foreground service.\r\nand i got good code [Git Repo robertohuertasm][1] but it not work **After mobile Boot (restart)** without Auto Run (Auto launch) permission.\r\n\r\nand same developer maybe say it&#39;s mandatory but TrueCaller, WhosCall and also many popular app work really good without give background and Auto launch permission.\r\n\r\n**What should I do to run my foreground service without use Auto Run permission.**\r\n\r\n            &lt;receiver android:enabled=&quot;true&quot; android:name=&quot;.StartReceiver&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**StartReceiver class**\r\n\r\n    class StartReceiver : BroadcastReceiver() {\r\n\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        Toast.makeText(context,&quot;StartReceiver&quot;, Toast.LENGTH_LONG).show();\r\n        if (true//intent.action == Intent.ACTION_BOOT_COMPLETED\r\n\r\n            ) {\r\n            if (!isServiceRunning(context, EndlessService::class.java)) {\r\n                Intent(context, EndlessService::class.java).also {\r\n                    it.action = Actions.START.name\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                        log(&quot;Starting the service in &gt;=26 Mode from a BroadcastReceiver&quot;)\r\n                        context.startForegroundService(it)\r\n                        return\r\n                    }\r\n                    log(&quot;Starting the service in &lt; 26 Mode from a BroadcastReceiver&quot;)\r\n                    context.startService(it)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    fun isServiceRunning(context: Context, serviceClass: Class&lt;*&gt;): Boolean {\r\n        val manager = context.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager\r\n        for (service in manager.getRunningServices(Int.MAX_VALUE)) {\r\n            if (serviceClass.name == service.service.className) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Logs**\r\n\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n\r\n\r\nplease help and happy coding.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/robertohuertasm/endless-service","title":"Endless service in android 11 without auto launch or extra background permission","body":"<p>Actually i'm working on a application like Truecaller and Whoscall that's why i want to setup foreground service.\nand i got good code <a href=\"https://github.com/robertohuertasm/endless-service\" rel=\"nofollow noreferrer\">Git Repo robertohuertasm</a> but it not work <strong>After mobile Boot (restart)</strong> without Auto Run (Auto launch) permission.</p>\n<p>and same developer maybe say it's mandatory but TrueCaller, WhosCall and also many popular app work really good without give background and Auto launch permission.</p>\n<p><strong>What should I do to run my foreground service without use Auto Run permission.</strong></p>\n<pre><code>        &lt;receiver android:enabled=&quot;true&quot; android:name=&quot;.StartReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p><strong>StartReceiver class</strong></p>\n<pre><code>class StartReceiver : BroadcastReceiver() {\n\noverride fun onReceive(context: Context, intent: Intent) {\n    Toast.makeText(context,&quot;StartReceiver&quot;, Toast.LENGTH_LONG).show();\n    if (true//intent.action == Intent.ACTION_BOOT_COMPLETED\n\n        ) {\n        if (!isServiceRunning(context, EndlessService::class.java)) {\n            Intent(context, EndlessService::class.java).also {\n                it.action = Actions.START.name\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    log(&quot;Starting the service in &gt;=26 Mode from a BroadcastReceiver&quot;)\n                    context.startForegroundService(it)\n                    return\n                }\n                log(&quot;Starting the service in &lt; 26 Mode from a BroadcastReceiver&quot;)\n                context.startService(it)\n            }\n        }\n    }\n}\n\nfun isServiceRunning(context: Context, serviceClass: Class&lt;*&gt;): Boolean {\n    val manager = context.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager\n    for (service in manager.getRunningServices(Int.MAX_VALUE)) {\n        if (serviceClass.name == service.service.className) {\n            return true\n        }\n    }\n    return false\n}\n</code></pre>\n<p>}</p>\n<p><strong>Logs</strong></p>\n<pre><code>BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\nBroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\nBroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\nBroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\n</code></pre>\n<p>please help and happy coding.</p>\n"},{"tags":["java","maven","google-cloud-firestore"],"comments":[{"owner":{"account_id":25241637,"reputation":1294,"user_id":19075433,"display_name":"Vaidehi Jamankar"},"score":2,"creation_date":1700981435,"post_id":77550226,"comment_id":136717034,"body_markdown":"Are you getting an error for missing dependencies, if yes please share.\nAlso check this [Link](https://stackoverflow.com/questions/55463978/is-it-possible-to-use-apifuture-in-gradle-android-project)and [Thread](https://github.com/googleapis/java-pubsub)","body":"Are you getting an error for missing dependencies, if yes please share. Also check this <a href=\"https://stackoverflow.com/questions/55463978/is-it-possible-to-use-apifuture-in-gradle-android-project\">Link</a>and <a href=\"https://github.com/googleapis/java-pubsub\" rel=\"nofollow noreferrer\">Thread</a>"}],"answers":[{"tags":[],"owner":{"account_id":16425630,"reputation":55,"user_id":14330199,"display_name":"Phillip Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701024340,"creation_date":1701024340,"answer_id":77553023,"question_id":77550226,"body_markdown":"I realized that the `com.google.api.core` module was actually found in the `com.google.api.apicommon` module https://cloud.google.com/java/docs/reference/api-common/latest/overview). I needed to add `requires com.google.api.apicommon;` to my `module-info.java` package. ","title":"Reading data from Firestore. Resolving the ApiFuture import","body":"<p>I realized that the <code>com.google.api.core</code> module was actually found in the <code>com.google.api.apicommon</code> module <a href=\"https://cloud.google.com/java/docs/reference/api-common/latest/overview\" rel=\"nofollow noreferrer\">https://cloud.google.com/java/docs/reference/api-common/latest/overview</a>). I needed to add <code>requires com.google.api.apicommon;</code> to my <code>module-info.java</code> package.</p>\n"}],"owner":{"account_id":16425630,"reputation":55,"user_id":14330199,"display_name":"Phillip Ng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77553023,"answer_count":1,"score":0,"last_activity_date":1701024340,"creation_date":1700965185,"question_id":77550226,"body_markdown":"I want to read from a Firestore database in a Java application. I am following the guide here: https://firebase.google.com/docs/firestore/quickstart#read_data.\r\n\r\nIn order to read documents, I need to declare the type `ApiFuture`, which is found in the following import, `import com.google.api.core.ApiFuture`. In order to import it, I need to add the Google API Client, found here: https://developers.google.com/api-client-library/java/. \r\n\r\nI followed the instructions for Maven, adding the following dependencies in my `pom.xml` file:\r\n ```xml\r\n &lt;project&gt;\r\n  &lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n     &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n     &lt;version&gt;1.32.1&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n &lt;/project&gt;\r\n```\r\n\r\nI have added the following modules in my `module-info.java` file:\r\n```\r\nrequires google.api.client;\r\nrequires google.cloud.core;\r\nrequires com.google.api.core;\r\n```\r\n\r\nIn the `ApiFuture.class` file, it defines the package as:\r\n```\r\npackage com.google.api.core;\r\n\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Future;\r\n\r\n/**\r\n * A Future that can have a listener added.\r\n *\r\n * &lt;p&gt;Similar to Guava&#39;s {@code ListenableFuture}, but redeclared so that Guava could be shaded.\r\n */\r\npublic interface ApiFuture&lt;V&gt; extends Future&lt;V&gt; {\r\n  void addListener(Runnable listener, Executor executor);\r\n}\r\n```\r\n\r\nBut none of them seem to work. What is the correct way to require the module? Where can I find it? \r\n","title":"Reading data from Firestore. Resolving the ApiFuture import","body":"<p>I want to read from a Firestore database in a Java application. I am following the guide here: <a href=\"https://firebase.google.com/docs/firestore/quickstart#read_data\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/quickstart#read_data</a>.</p>\n<p>In order to read documents, I need to declare the type <code>ApiFuture</code>, which is found in the following import, <code>import com.google.api.core.ApiFuture</code>. In order to import it, I need to add the Google API Client, found here: <a href=\"https://developers.google.com/api-client-library/java/\" rel=\"nofollow noreferrer\">https://developers.google.com/api-client-library/java/</a>.</p>\n<p>I followed the instructions for Maven, adding the following dependencies in my <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n &lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.32.1&lt;/version&gt;\n  &lt;/dependency&gt;\n &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have added the following modules in my <code>module-info.java</code> file:</p>\n<pre><code>requires google.api.client;\nrequires google.cloud.core;\nrequires com.google.api.core;\n</code></pre>\n<p>In the <code>ApiFuture.class</code> file, it defines the package as:</p>\n<pre><code>package com.google.api.core;\n\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Future;\n\n/**\n * A Future that can have a listener added.\n *\n * &lt;p&gt;Similar to Guava's {@code ListenableFuture}, but redeclared so that Guava could be shaded.\n */\npublic interface ApiFuture&lt;V&gt; extends Future&lt;V&gt; {\n  void addListener(Runnable listener, Executor executor);\n}\n</code></pre>\n<p>But none of them seem to work. What is the correct way to require the module? Where can I find it?</p>\n"},{"tags":["java","android","nullpointerexception"],"owner":{"account_id":21251407,"reputation":1,"user_id":15633580,"display_name":"Muhammad Usman Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701021247,"answer_count":0,"score":-2,"last_activity_date":1701024186,"creation_date":1701021139,"question_id":77552837,"body_markdown":"here is my java code:\r\n\r\n\r\n`Java File Named: Looper.Java`\r\n\r\n    private static final String TAG = &quot;Looper&quot;;\r\n\r\n    // sThreadLocal.get() will return null unless you&#39;ve called prepare().\r\n    @UnsupportedAppUsage\r\n    static final ThreadLocal&lt;Looper&gt; sThreadLocal = new ThreadLocal&lt;Looper&gt;();\r\n    @UnsupportedAppUsage\r\n    private static Looper sMainLooper;  // guarded by Looper.class\r\n    private static Observer sObserver;\r\n\r\n    @UnsupportedAppUsage\r\n    final MessageQueue mQueue;\r\n    final Thread mThread;\r\n    private boolean mInLoop;\r\n\r\n    @UnsupportedAppUsage\r\n    private Printer mLogging;\r\n    private long mTraceTag;\r\n\r\n    /**\r\n     * If set, the looper will show a warning log if a message dispatch takes longer than this.\r\n     */\r\n    private long mSlowDispatchThresholdMs;\r\n\r\n    /**\r\n     * If set, the looper will show a warning log if a message delivery (actual delivery time -\r\n     * post time) takes longer than this.\r\n     */\r\n    private long mSlowDeliveryThresholdMs;\r\n\r\n    /**\r\n     * True if a message delivery takes longer than {@link #mSlowDeliveryThresholdMs}.\r\n     */\r\n    private boolean mSlowDeliveryDetected;\r\n\r\n    /** Initialize the current thread as a looper.\r\n      * This gives you a chance to create handlers that then reference\r\n      * this looper, before actually starting the loop. Be sure to call\r\n      * {@link #loop()} after calling this method, and end it by calling\r\n      * {@link #quit()}.\r\n      */\r\n    public static void prepare() {\r\n        prepare(true);\r\n    }\r\n\r\n    private static void prepare(boolean quitAllowed) {\r\n        if (sThreadLocal.get() != null) {\r\n            throw new RuntimeException(&quot;Only one Looper may be created per thread&quot;);\r\n        }\r\n        sThreadLocal.set(new Looper(quitAllowed));\r\n    }\r\n\r\n    /**\r\n     * Initialize the current thread as a looper, marking it as an\r\n     * application&#39;s main looper. See also: {@link #prepare()}\r\n     *\r\n     * @deprecated The main looper for your application is created by the Android environment,\r\n     *   so you should never need to call this function yourself.\r\n     */\r\n    @Deprecated\r\n    public static void prepareMainLooper() {\r\n        prepare(false);\r\n        synchronized (Looper.class) {\r\n            if (sMainLooper != null) {\r\n                throw new IllegalStateException(&quot;The main Looper has already been prepared.&quot;);\r\n            }\r\n            sMainLooper = myLooper();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the application&#39;s main looper, which lives in the main thread of the application.\r\n     */\r\n    public static Looper getMainLooper() {\r\n        synchronized (Looper.class) {\r\n            return sMainLooper;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set the transaction observer for all Loopers in this process.\r\n     *\r\n     * @hide\r\n     */\r\n    public static void setObserver(@Nullable Observer observer) {\r\n        sObserver = observer;\r\n    }\r\n\r\n    /**\r\n     * Poll and deliver single message, return true if the outer loop should continue.\r\n     */\r\n    @SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\r\n            &quot;ClearIdentityCallNotFollowedByTryFinally&quot;})\r\n    private static boolean loopOnce(final Looper me,\r\n            final long ident, final int thresholdOverride) {\r\n        Message msg = me.mQueue.next(); // might block\r\n        if (msg == null) {\r\n            // No message indicates that the message queue is quitting.\r\n            return false;\r\n        }\r\n\r\n        // This must be in a local variable, in case a UI event sets the logger\r\n        final Printer logging = me.mLogging;\r\n        if (logging != null) {\r\n            logging.println(&quot;&gt;&gt;&gt;&gt;&gt; Dispatching to &quot; + msg.target + &quot; &quot;\r\n                    + msg.callback + &quot;: &quot; + msg.what);\r\n        }\r\n        // Make sure the observer won&#39;t change while processing a transaction.\r\n        final Observer observer = sObserver;\r\n\r\n        final long traceTag = me.mTraceTag;\r\n        long slowDispatchThresholdMs = me.mSlowDispatchThresholdMs;\r\n        long slowDeliveryThresholdMs = me.mSlowDeliveryThresholdMs;\r\n\r\n        final boolean hasOverride = thresholdOverride &gt;= 0;\r\n        if (hasOverride) {\r\n            slowDispatchThresholdMs = thresholdOverride;\r\n            slowDeliveryThresholdMs = thresholdOverride;\r\n        }\r\n        final boolean logSlowDelivery = (slowDeliveryThresholdMs &gt; 0 || hasOverride)\r\n                &amp;&amp; (msg.when &gt; 0);\r\n        final boolean logSlowDispatch = (slowDispatchThresholdMs &gt; 0 || hasOverride);\r\n\r\n        final boolean needStartTime = logSlowDelivery || logSlowDispatch;\r\n        final boolean needEndTime = logSlowDispatch;\r\n\r\n        if (traceTag != 0 &amp;&amp; Trace.isTagEnabled(traceTag)) {\r\n            Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\r\n        }\r\n\r\n        final long dispatchStart = needStartTime ? SystemClock.uptimeMillis() : 0;\r\n        final long dispatchEnd;\r\n        Object token = null;\r\n        if (observer != null) {\r\n            token = observer.messageDispatchStarting();\r\n        }\r\n        long origWorkSource = ThreadLocalWorkSource.setUid(msg.workSourceUid);\r\n        try {\r\n            msg.target.dispatchMessage(msg);\r\n            if (observer != null) {\r\n                observer.messageDispatched(token, msg);\r\n            }\r\n            dispatchEnd = needEndTime ? SystemClock.uptimeMillis() : 0;\r\n        } catch (Exception exception) {\r\n            if (observer != null) {\r\n                observer.dispatchingThrewException(token, msg, exception);\r\n            }\r\n            throw exception;\r\n        } finally {\r\n            ThreadLocalWorkSource.restore(origWorkSource);\r\n            if (traceTag != 0) {\r\n                Trace.traceEnd(traceTag);\r\n            }\r\n        }\r\n        if (logSlowDelivery) {\r\n            if (me.mSlowDeliveryDetected) {\r\n                if ((dispatchStart - msg.when) &lt;= 10) {\r\n                    Slog.w(TAG, &quot;Drained&quot;);\r\n                    me.mSlowDeliveryDetected = false;\r\n                }\r\n            } else {\r\n                if (showSlowLog(slowDeliveryThresholdMs, msg.when, dispatchStart, &quot;delivery&quot;,\r\n                        msg)) {\r\n                    // Once we write a slow delivery log, suppress until the queue drains.\r\n                    me.mSlowDeliveryDetected = true;\r\n                }\r\n            }\r\n        }\r\n        if (logSlowDispatch) {\r\n            showSlowLog(slowDispatchThresholdMs, dispatchStart, dispatchEnd, &quot;dispatch&quot;, msg);\r\n        }\r\n\r\n        if (logging != null) {\r\n            logging.println(&quot;&lt;&lt;&lt;&lt;&lt; Finished to &quot; + msg.target + &quot; &quot; + msg.callback);\r\n        }\r\n\r\n        // Make sure that during the course of dispatching the\r\n        // identity of the thread wasn&#39;t corrupted.\r\n        final long newIdent = Binder.clearCallingIdentity();\r\n        if (ident != newIdent) {\r\n            Log.wtf(TAG, &quot;Thread identity changed from 0x&quot;\r\n                    + Long.toHexString(ident) + &quot; to 0x&quot;\r\n                    + Long.toHexString(newIdent) + &quot; while dispatching to &quot;\r\n                    + msg.target.getClass().getName() + &quot; &quot;\r\n                    + msg.callback + &quot; what=&quot; + msg.what);\r\n        }\r\n\r\n        msg.recycleUnchecked();\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Run the message queue in this thread. Be sure to call\r\n     * {@link #quit()} to end the loop.\r\n     */\r\n    @SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\r\n            &quot;ClearIdentityCallNotFollowedByTryFinally&quot;,\r\n            &quot;ResultOfClearIdentityCallNotStoredInVariable&quot;})\r\n    public static void loop() {\r\n        final Looper me = myLooper();\r\n        if (me == null) {\r\n            throw new RuntimeException(&quot;No Looper; Looper.prepare() wasn&#39;t called on this thread.&quot;);\r\n        }\r\n        if (me.mInLoop) {\r\n            Slog.w(TAG, &quot;Loop again would have the queued messages be executed&quot;\r\n                    + &quot; before this one completed.&quot;);\r\n        }\r\n\r\n        me.mInLoop = true;\r\n\r\n        // Make sure the identity of this thread is that of the local process,\r\n        // and keep track of what that identity token actually is.\r\n        Binder.clearCallingIdentity();\r\n        final long ident = Binder.clearCallingIdentity();\r\n\r\n        // Allow overriding a threshold with a system prop. e.g.\r\n        // adb shell &#39;setprop log.looper.1000.main.slow 1 &amp;&amp; stop &amp;&amp; start&#39;\r\n        final int thresholdOverride =\r\n                SystemProperties.getInt(&quot;log.looper.&quot;\r\n                        + Process.myUid() + &quot;.&quot;\r\n                        + Thread.currentThread().getName()\r\n                        + &quot;.slow&quot;, -1);\r\n\r\n        me.mSlowDeliveryDetected = false;\r\n\r\n        for (;;) {\r\n            if (!loopOnce(me, ident, thresholdOverride)) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n`Further`\r\n\r\n    private static boolean showSlowLog(long threshold, long measureStart, long measureEnd,\r\n            String what, Message msg) {\r\n        final long actualTime = measureEnd - measureStart;\r\n        if (actualTime &lt; threshold) {\r\n            return false;\r\n        }\r\n        // For slow delivery, the current message isn&#39;t really important, but log it anyway.\r\n        Slog.w(TAG, &quot;Slow &quot; + what + &quot; took &quot; + actualTime + &quot;ms &quot;\r\n                + Thread.currentThread().getName() + &quot; h=&quot;\r\n                + msg.target.getClass().getName() + &quot; c=&quot; + msg.callback + &quot; m=&quot; + msg.what);\r\n        return true;\r\n    }\r\n\r\n    public static @NonNull MessageQueue myQueue() {\r\n        return myLooper().mQueue;\r\n    }\r\n\r\n    private Looper(boolean quitAllowed) {\r\n        mQueue = new MessageQueue(quitAllowed);\r\n        mThread = Thread.currentThread();\r\n    }\r\n\r\n    /**\r\n     * Returns true if the current thread is this looper&#39;s thread.\r\n     */\r\n    public boolean isCurrentThread() {\r\n        return Thread.currentThread() == mThread;\r\n    }\r\n\r\n    /**\r\n     * Control logging of messages as they are processed by this Looper.  If\r\n     * enabled, a log message will be written to &lt;var&gt;printer&lt;/var&gt;\r\n     * at the beginning and ending of each message dispatch, identifying the\r\n     * target Handler and message contents.\r\n     *\r\n     * @param printer A Printer object that will receive log messages, or\r\n     * null to disable message logging.\r\n     */\r\n    public void setMessageLogging(@Nullable Printer printer) {\r\n        mLogging = printer;\r\n    }\r\n\r\n    /** {@hide} */\r\n    @UnsupportedAppUsage\r\n    public void setTraceTag(long traceTag) {\r\n        mTraceTag = traceTag;\r\n    }\r\n\r\n    /**\r\n     * Set a thresholds for slow dispatch/delivery log.\r\n     * {@hide}\r\n     */\r\n    public void setSlowLogThresholdMs(long slowDispatchThresholdMs, long slowDeliveryThresholdMs) {\r\n        mSlowDispatchThresholdMs = slowDispatchThresholdMs;\r\n        mSlowDeliveryThresholdMs = slowDeliveryThresholdMs;\r\n    }\r\n\r\n    /**\r\n     * Quits the looper.\r\n     * &lt;p&gt;\r\n     * Causes the {@link #loop} method to terminate without processing any\r\n     * more messages in the message queue.\r\n     * &lt;/p&gt;&lt;p&gt;\r\n     * Any attempt to post messages to the queue after the looper is asked to quit will fail.\r\n     * For example, the {@link Handler#sendMessage(Message)} method will return false.\r\n     * &lt;/p&gt;&lt;p class=&quot;note&quot;&gt;\r\n     * Using this method may be unsafe because some messages may not be delivered\r\n     * before the looper terminates.  Consider using {@link #quitSafely} instead to ensure\r\n     * that all pending work is completed in an orderly manner.\r\n     * &lt;/p&gt;\r\n     *\r\n     * @see #quitSafely\r\n     */\r\n    public void quit() {\r\n        mQueue.quit(false);\r\n    }\r\n\r\n    /**\r\n     * Quits the looper safely.\r\n     * &lt;p&gt;\r\n     * Causes the {@link #loop} method to terminate as soon as all remaining messages\r\n     * in the message queue that are already due to be delivered have been handled.\r\n     * However pending delayed messages with due times in the future will not be\r\n     * delivered before the loop terminates.\r\n     * &lt;/p&gt;&lt;p&gt;\r\n     * Any attempt to post messages to the queue after the looper is asked to quit will fail.\r\n     * For example, the {@link Handler#sendMessage(Message)} method will return false.\r\n     * &lt;/p&gt;\r\n     */\r\n    public void quitSafely() {\r\n        mQueue.quit(true);\r\n    }\r\n\r\n    /**\r\n     * Gets the Thread associated with this Looper.\r\n     *\r\n     * @return The looper&#39;s thread.\r\n     */\r\n    public @NonNull Thread getThread() {\r\n        return mThread;\r\n    }\r\n\r\n    /**\r\n     * Gets this looper&#39;s message queue.\r\n     *\r\n     * @return The looper&#39;s message queue.\r\n     */\r\n    public @NonNull MessageQueue getQueue() {\r\n        return mQueue;\r\n    }\r\n\r\n    /**\r\n     * Dumps the state of the looper for debugging purposes.\r\n     *\r\n     * @param pw A printer to receive the contents of the dump.\r\n     * @param prefix A prefix to prepend to each line which is printed.\r\n     */\r\n    public void dump(@NonNull Printer pw, @NonNull String prefix) {\r\n        pw.println(prefix + toString());\r\n        mQueue.dump(pw, prefix + &quot;  &quot;, null);\r\n    }\r\n\r\n    /**\r\n     * Dumps the state of the looper for debugging purposes.\r\n     *\r\n     * @param pw A printer to receive the contents of the dump.\r\n     * @param prefix A prefix to prepend to each line which is printed.\r\n     * @param handler Only dump messages for this Handler.\r\n     * @hide\r\n     */\r\n    public void dump(@NonNull Printer pw, @NonNull String prefix, Handler handler) {\r\n        pw.println(prefix + toString());\r\n        mQueue.dump(pw, prefix + &quot;  &quot;, handler);\r\n    }\r\n\r\n    /** @hide */\r\n    public void dumpDebug(ProtoOutputStream proto, long fieldId) {\r\n        final long looperToken = proto.start(fieldId);\r\n        proto.write(LooperProto.THREAD_NAME, mThread.getName());\r\n        proto.write(LooperProto.THREAD_ID, mThread.getId());\r\n        if (mQueue != null) {\r\n            mQueue.dumpDebug(proto, LooperProto.QUEUE);\r\n        }\r\n        proto.end(looperToken);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Looper (&quot; + mThread.getName() + &quot;, tid &quot; + mThread.getId()\r\n                + &quot;) {&quot; + Integer.toHexString(System.identityHashCode(this)) + &quot;}&quot;;\r\n    }\r\n\r\n    /** {@hide} */\r\n    public interface Observer {\r\n        /**\r\n         * Called right before a message is dispatched.\r\n         *\r\n         * &lt;p&gt; The token type is not specified to allow the implementation to specify its own type.\r\n         *\r\n         * @return a token used for collecting telemetry when dispatching a single message.\r\n         *         The token token must be passed back exactly once to either\r\n         *         {@link Observer#messageDispatched} or {@link Observer#dispatchingThrewException}\r\n         *         and must not be reused again.\r\n         *\r\n         */\r\n        Object messageDispatchStarting();\r\n\r\n        /**\r\n         * Called when a message was processed by a Handler.\r\n         *\r\n         * @param token Token obtained by previously calling\r\n         *              {@link Observer#messageDispatchStarting} on the same Observer instance.\r\n         * @param msg The message that was dispatched.\r\n         */\r\n        void messageDispatched(Object token, Message msg);\r\n\r\n        /**\r\n         * Called when an exception was thrown while processing a message.\r\n         *\r\n         * @param token Token obtained by previously calling\r\n         *              {@link Observer#messageDispatchStarting} on the same Observer instance.\r\n         * @param msg The message that was dispatched and caused an exception.\r\n         * @param exception The exception that was thrown.\r\n         */\r\n        void dispatchingThrewException(Object token, Message msg, Exception exception);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nand here is my stack trace file:\r\n`Got from Firebase`\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String a.all.tvlive.Models.ChildModel.getName()&#39; on a null object reference\r\n    a.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:76)\r\n    a.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:42)\r\n    androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n    androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n`Next Part`\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n    androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n    androidx.recyclerview.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:561)\r\n    androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n    androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n    androidx.recyclerview.widget.GridLayoutManager.onLayoutChildren(GridLayoutManager.java:170)\r\n    androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n    androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)","title":"I am facing an issue with null pointer exception in Java I","body":"<p>here is my java code:</p>\n<p><code>Java File Named: Looper.Java</code></p>\n<pre><code>private static final String TAG = &quot;Looper&quot;;\n\n// sThreadLocal.get() will return null unless you've called prepare().\n@UnsupportedAppUsage\nstatic final ThreadLocal&lt;Looper&gt; sThreadLocal = new ThreadLocal&lt;Looper&gt;();\n@UnsupportedAppUsage\nprivate static Looper sMainLooper;  // guarded by Looper.class\nprivate static Observer sObserver;\n\n@UnsupportedAppUsage\nfinal MessageQueue mQueue;\nfinal Thread mThread;\nprivate boolean mInLoop;\n\n@UnsupportedAppUsage\nprivate Printer mLogging;\nprivate long mTraceTag;\n\n/**\n * If set, the looper will show a warning log if a message dispatch takes longer than this.\n */\nprivate long mSlowDispatchThresholdMs;\n\n/**\n * If set, the looper will show a warning log if a message delivery (actual delivery time -\n * post time) takes longer than this.\n */\nprivate long mSlowDeliveryThresholdMs;\n\n/**\n * True if a message delivery takes longer than {@link #mSlowDeliveryThresholdMs}.\n */\nprivate boolean mSlowDeliveryDetected;\n\n/** Initialize the current thread as a looper.\n  * This gives you a chance to create handlers that then reference\n  * this looper, before actually starting the loop. Be sure to call\n  * {@link #loop()} after calling this method, and end it by calling\n  * {@link #quit()}.\n  */\npublic static void prepare() {\n    prepare(true);\n}\n\nprivate static void prepare(boolean quitAllowed) {\n    if (sThreadLocal.get() != null) {\n        throw new RuntimeException(&quot;Only one Looper may be created per thread&quot;);\n    }\n    sThreadLocal.set(new Looper(quitAllowed));\n}\n\n/**\n * Initialize the current thread as a looper, marking it as an\n * application's main looper. See also: {@link #prepare()}\n *\n * @deprecated The main looper for your application is created by the Android environment,\n *   so you should never need to call this function yourself.\n */\n@Deprecated\npublic static void prepareMainLooper() {\n    prepare(false);\n    synchronized (Looper.class) {\n        if (sMainLooper != null) {\n            throw new IllegalStateException(&quot;The main Looper has already been prepared.&quot;);\n        }\n        sMainLooper = myLooper();\n    }\n}\n\n/**\n * Returns the application's main looper, which lives in the main thread of the application.\n */\npublic static Looper getMainLooper() {\n    synchronized (Looper.class) {\n        return sMainLooper;\n    }\n}\n\n/**\n * Set the transaction observer for all Loopers in this process.\n *\n * @hide\n */\npublic static void setObserver(@Nullable Observer observer) {\n    sObserver = observer;\n}\n\n/**\n * Poll and deliver single message, return true if the outer loop should continue.\n */\n@SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\n        &quot;ClearIdentityCallNotFollowedByTryFinally&quot;})\nprivate static boolean loopOnce(final Looper me,\n        final long ident, final int thresholdOverride) {\n    Message msg = me.mQueue.next(); // might block\n    if (msg == null) {\n        // No message indicates that the message queue is quitting.\n        return false;\n    }\n\n    // This must be in a local variable, in case a UI event sets the logger\n    final Printer logging = me.mLogging;\n    if (logging != null) {\n        logging.println(&quot;&gt;&gt;&gt;&gt;&gt; Dispatching to &quot; + msg.target + &quot; &quot;\n                + msg.callback + &quot;: &quot; + msg.what);\n    }\n    // Make sure the observer won't change while processing a transaction.\n    final Observer observer = sObserver;\n\n    final long traceTag = me.mTraceTag;\n    long slowDispatchThresholdMs = me.mSlowDispatchThresholdMs;\n    long slowDeliveryThresholdMs = me.mSlowDeliveryThresholdMs;\n\n    final boolean hasOverride = thresholdOverride &gt;= 0;\n    if (hasOverride) {\n        slowDispatchThresholdMs = thresholdOverride;\n        slowDeliveryThresholdMs = thresholdOverride;\n    }\n    final boolean logSlowDelivery = (slowDeliveryThresholdMs &gt; 0 || hasOverride)\n            &amp;&amp; (msg.when &gt; 0);\n    final boolean logSlowDispatch = (slowDispatchThresholdMs &gt; 0 || hasOverride);\n\n    final boolean needStartTime = logSlowDelivery || logSlowDispatch;\n    final boolean needEndTime = logSlowDispatch;\n\n    if (traceTag != 0 &amp;&amp; Trace.isTagEnabled(traceTag)) {\n        Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\n    }\n\n    final long dispatchStart = needStartTime ? SystemClock.uptimeMillis() : 0;\n    final long dispatchEnd;\n    Object token = null;\n    if (observer != null) {\n        token = observer.messageDispatchStarting();\n    }\n    long origWorkSource = ThreadLocalWorkSource.setUid(msg.workSourceUid);\n    try {\n        msg.target.dispatchMessage(msg);\n        if (observer != null) {\n            observer.messageDispatched(token, msg);\n        }\n        dispatchEnd = needEndTime ? SystemClock.uptimeMillis() : 0;\n    } catch (Exception exception) {\n        if (observer != null) {\n            observer.dispatchingThrewException(token, msg, exception);\n        }\n        throw exception;\n    } finally {\n        ThreadLocalWorkSource.restore(origWorkSource);\n        if (traceTag != 0) {\n            Trace.traceEnd(traceTag);\n        }\n    }\n    if (logSlowDelivery) {\n        if (me.mSlowDeliveryDetected) {\n            if ((dispatchStart - msg.when) &lt;= 10) {\n                Slog.w(TAG, &quot;Drained&quot;);\n                me.mSlowDeliveryDetected = false;\n            }\n        } else {\n            if (showSlowLog(slowDeliveryThresholdMs, msg.when, dispatchStart, &quot;delivery&quot;,\n                    msg)) {\n                // Once we write a slow delivery log, suppress until the queue drains.\n                me.mSlowDeliveryDetected = true;\n            }\n        }\n    }\n    if (logSlowDispatch) {\n        showSlowLog(slowDispatchThresholdMs, dispatchStart, dispatchEnd, &quot;dispatch&quot;, msg);\n    }\n\n    if (logging != null) {\n        logging.println(&quot;&lt;&lt;&lt;&lt;&lt; Finished to &quot; + msg.target + &quot; &quot; + msg.callback);\n    }\n\n    // Make sure that during the course of dispatching the\n    // identity of the thread wasn't corrupted.\n    final long newIdent = Binder.clearCallingIdentity();\n    if (ident != newIdent) {\n        Log.wtf(TAG, &quot;Thread identity changed from 0x&quot;\n                + Long.toHexString(ident) + &quot; to 0x&quot;\n                + Long.toHexString(newIdent) + &quot; while dispatching to &quot;\n                + msg.target.getClass().getName() + &quot; &quot;\n                + msg.callback + &quot; what=&quot; + msg.what);\n    }\n\n    msg.recycleUnchecked();\n\n    return true;\n}\n\n/**\n * Run the message queue in this thread. Be sure to call\n * {@link #quit()} to end the loop.\n */\n@SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\n        &quot;ClearIdentityCallNotFollowedByTryFinally&quot;,\n        &quot;ResultOfClearIdentityCallNotStoredInVariable&quot;})\npublic static void loop() {\n    final Looper me = myLooper();\n    if (me == null) {\n        throw new RuntimeException(&quot;No Looper; Looper.prepare() wasn't called on this thread.&quot;);\n    }\n    if (me.mInLoop) {\n        Slog.w(TAG, &quot;Loop again would have the queued messages be executed&quot;\n                + &quot; before this one completed.&quot;);\n    }\n\n    me.mInLoop = true;\n\n    // Make sure the identity of this thread is that of the local process,\n    // and keep track of what that identity token actually is.\n    Binder.clearCallingIdentity();\n    final long ident = Binder.clearCallingIdentity();\n\n    // Allow overriding a threshold with a system prop. e.g.\n    // adb shell 'setprop log.looper.1000.main.slow 1 &amp;&amp; stop &amp;&amp; start'\n    final int thresholdOverride =\n            SystemProperties.getInt(&quot;log.looper.&quot;\n                    + Process.myUid() + &quot;.&quot;\n                    + Thread.currentThread().getName()\n                    + &quot;.slow&quot;, -1);\n\n    me.mSlowDeliveryDetected = false;\n\n    for (;;) {\n        if (!loopOnce(me, ident, thresholdOverride)) {\n            return;\n        }\n    }\n}\n</code></pre>\n<p><code>Further</code></p>\n<pre><code>private static boolean showSlowLog(long threshold, long measureStart, long measureEnd,\n        String what, Message msg) {\n    final long actualTime = measureEnd - measureStart;\n    if (actualTime &lt; threshold) {\n        return false;\n    }\n    // For slow delivery, the current message isn't really important, but log it anyway.\n    Slog.w(TAG, &quot;Slow &quot; + what + &quot; took &quot; + actualTime + &quot;ms &quot;\n            + Thread.currentThread().getName() + &quot; h=&quot;\n            + msg.target.getClass().getName() + &quot; c=&quot; + msg.callback + &quot; m=&quot; + msg.what);\n    return true;\n}\n\npublic static @NonNull MessageQueue myQueue() {\n    return myLooper().mQueue;\n}\n\nprivate Looper(boolean quitAllowed) {\n    mQueue = new MessageQueue(quitAllowed);\n    mThread = Thread.currentThread();\n}\n\n/**\n * Returns true if the current thread is this looper's thread.\n */\npublic boolean isCurrentThread() {\n    return Thread.currentThread() == mThread;\n}\n\n/**\n * Control logging of messages as they are processed by this Looper.  If\n * enabled, a log message will be written to &lt;var&gt;printer&lt;/var&gt;\n * at the beginning and ending of each message dispatch, identifying the\n * target Handler and message contents.\n *\n * @param printer A Printer object that will receive log messages, or\n * null to disable message logging.\n */\npublic void setMessageLogging(@Nullable Printer printer) {\n    mLogging = printer;\n}\n\n/** {@hide} */\n@UnsupportedAppUsage\npublic void setTraceTag(long traceTag) {\n    mTraceTag = traceTag;\n}\n\n/**\n * Set a thresholds for slow dispatch/delivery log.\n * {@hide}\n */\npublic void setSlowLogThresholdMs(long slowDispatchThresholdMs, long slowDeliveryThresholdMs) {\n    mSlowDispatchThresholdMs = slowDispatchThresholdMs;\n    mSlowDeliveryThresholdMs = slowDeliveryThresholdMs;\n}\n\n/**\n * Quits the looper.\n * &lt;p&gt;\n * Causes the {@link #loop} method to terminate without processing any\n * more messages in the message queue.\n * &lt;/p&gt;&lt;p&gt;\n * Any attempt to post messages to the queue after the looper is asked to quit will fail.\n * For example, the {@link Handler#sendMessage(Message)} method will return false.\n * &lt;/p&gt;&lt;p class=&quot;note&quot;&gt;\n * Using this method may be unsafe because some messages may not be delivered\n * before the looper terminates.  Consider using {@link #quitSafely} instead to ensure\n * that all pending work is completed in an orderly manner.\n * &lt;/p&gt;\n *\n * @see #quitSafely\n */\npublic void quit() {\n    mQueue.quit(false);\n}\n\n/**\n * Quits the looper safely.\n * &lt;p&gt;\n * Causes the {@link #loop} method to terminate as soon as all remaining messages\n * in the message queue that are already due to be delivered have been handled.\n * However pending delayed messages with due times in the future will not be\n * delivered before the loop terminates.\n * &lt;/p&gt;&lt;p&gt;\n * Any attempt to post messages to the queue after the looper is asked to quit will fail.\n * For example, the {@link Handler#sendMessage(Message)} method will return false.\n * &lt;/p&gt;\n */\npublic void quitSafely() {\n    mQueue.quit(true);\n}\n\n/**\n * Gets the Thread associated with this Looper.\n *\n * @return The looper's thread.\n */\npublic @NonNull Thread getThread() {\n    return mThread;\n}\n\n/**\n * Gets this looper's message queue.\n *\n * @return The looper's message queue.\n */\npublic @NonNull MessageQueue getQueue() {\n    return mQueue;\n}\n\n/**\n * Dumps the state of the looper for debugging purposes.\n *\n * @param pw A printer to receive the contents of the dump.\n * @param prefix A prefix to prepend to each line which is printed.\n */\npublic void dump(@NonNull Printer pw, @NonNull String prefix) {\n    pw.println(prefix + toString());\n    mQueue.dump(pw, prefix + &quot;  &quot;, null);\n}\n\n/**\n * Dumps the state of the looper for debugging purposes.\n *\n * @param pw A printer to receive the contents of the dump.\n * @param prefix A prefix to prepend to each line which is printed.\n * @param handler Only dump messages for this Handler.\n * @hide\n */\npublic void dump(@NonNull Printer pw, @NonNull String prefix, Handler handler) {\n    pw.println(prefix + toString());\n    mQueue.dump(pw, prefix + &quot;  &quot;, handler);\n}\n\n/** @hide */\npublic void dumpDebug(ProtoOutputStream proto, long fieldId) {\n    final long looperToken = proto.start(fieldId);\n    proto.write(LooperProto.THREAD_NAME, mThread.getName());\n    proto.write(LooperProto.THREAD_ID, mThread.getId());\n    if (mQueue != null) {\n        mQueue.dumpDebug(proto, LooperProto.QUEUE);\n    }\n    proto.end(looperToken);\n}\n\n@Override\npublic String toString() {\n    return &quot;Looper (&quot; + mThread.getName() + &quot;, tid &quot; + mThread.getId()\n            + &quot;) {&quot; + Integer.toHexString(System.identityHashCode(this)) + &quot;}&quot;;\n}\n\n/** {@hide} */\npublic interface Observer {\n    /**\n     * Called right before a message is dispatched.\n     *\n     * &lt;p&gt; The token type is not specified to allow the implementation to specify its own type.\n     *\n     * @return a token used for collecting telemetry when dispatching a single message.\n     *         The token token must be passed back exactly once to either\n     *         {@link Observer#messageDispatched} or {@link Observer#dispatchingThrewException}\n     *         and must not be reused again.\n     *\n     */\n    Object messageDispatchStarting();\n\n    /**\n     * Called when a message was processed by a Handler.\n     *\n     * @param token Token obtained by previously calling\n     *              {@link Observer#messageDispatchStarting} on the same Observer instance.\n     * @param msg The message that was dispatched.\n     */\n    void messageDispatched(Object token, Message msg);\n\n    /**\n     * Called when an exception was thrown while processing a message.\n     *\n     * @param token Token obtained by previously calling\n     *              {@link Observer#messageDispatchStarting} on the same Observer instance.\n     * @param msg The message that was dispatched and caused an exception.\n     * @param exception The exception that was thrown.\n     */\n    void dispatchingThrewException(Object token, Message msg, Exception exception);\n}\n</code></pre>\n<p>}</p>\n<p>and here is my stack trace file:\n<code>Got from Firebase</code></p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String a.all.tvlive.Models.ChildModel.getName()' on a null object reference\na.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:76)\na.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:42)\nandroidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\nandroidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\nandroidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n<code>Next Part</code>\nandroidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\nandroidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\nandroidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\nandroidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\nandroidx.recyclerview.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:561)\nandroidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\nandroidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\nandroidx.recyclerview.widget.GridLayoutManager.onLayoutChildren(GridLayoutManager.java:170)\nandroidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\nandroidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)</p>\n"},{"tags":["java","barcode","barcode-printing"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694189358,"post_id":77067963,"comment_id":135863263,"body_markdown":"Do you really need to program that yourself?  When I wanted to print barcodes, I found it was a simple matter of selecting the appropriate barcode font. Of course, that meant the barcode fonts had to be installed on the machine I was using.","body":"Do you really need to program that yourself?  When I wanted to print barcodes, I found it was a simple matter of selecting the appropriate barcode font. Of course, that meant the barcode fonts had to be installed on the machine I was using."}],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8883,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701023641,"creation_date":1694230210,"answer_id":77070735,"question_id":77067963,"body_markdown":"Barcode 128 is an oddity for programming as it is non-conventional encoding in its application. Let&#39;s start with the output. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can check that is correct here https://zxing.org/w/decode?u=https%3A%2F%2Fi.stack.imgur.com%2F8tQm7.png  \r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can also see to get that font as output we need in PDF binary terms an input of `0110100100001110000000010001001001101010` which does not match the pixel output. However 01101001 00001110 00000001 00010010 01101010 as hex is `69 0e 01 12 6a` which as ASCII / ANSI = `&#210;.!2&#211;`.\r\n\r\nSo the rules of generation are\r\n\r\n- Use the start numeric character `&#210;`\r\n- add a ligature glyph for 14 = `.`\r\n- add a ligature glyph for 01 = `!`\r\n- add the calculated check character `2`\r\n- round of with a stop character `&#211;`\r\n\r\nwrite those 5 characters using any of several Code 128 fonts.\r\n\r\nIt is a lot easier if you use a cut and paste tool that calculates ligatures and Mod 103 check bytes.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHere we see it as text in a PDF where the text is now `6C 11 04 15 6D` since it gets remapped characters (by the MS PDF generator) which in this case seems to have added +3 to each glyph!\r\n\r\n[![enter image description here][4]][4]\r\n\r\n```\r\n13 0 obj\r\n&lt;&lt;/Length 158&gt;&gt;\r\nstream\r\nq\r\nq\r\n.75 0 0 -.75 0 841.92007 cm\r\n0 0 0 rg\r\nBT\r\n/F1 96.0037 Tf\r\n1 0 0 -1 94.56 150.4 Tm\r\n[&lt;006C&gt;-.695313&lt;0011&gt;-.554688&lt;0004&gt;-.554688&lt;0015&gt;-.554688&lt;006D&gt;] TJ\r\nET\r\nQ\r\nQ\r\n```\r\n\r\nCalculations in Excel (see https://en.wikipedia.org/wiki/Code_128#Bar_code_widths)\r\n\r\n[![enter image description here][5]][5]\r\n\r\nWhat is odd is that the concept of using Code128 is compaction yet that method of fonts requires many times the resources compared to pixels\r\n\r\nHere even with overheads the 54 bars (I added extra 4 white `&#255;` bars each end, for guarding) is a total file size of just over 750 bytes, but as a font embedded file it is heading for 4 times bigger e.g. 3,199 bytes for the bars without the normal embedded 1401 text.\r\n\r\n```\r\n%PDF-1.3\r\n1 0 obj &lt;&lt;/Pages 2 0 R/Type/Catalog&gt;&gt; endobj\r\n2 0 obj &lt;&lt;/Count 1/Kids[3 0 R]/Type/Pages&gt;&gt; endobj\r\n3 0 obj &lt;&lt;/Contents 5 0 R/CropBox[0 0 595.32 841.92]/MediaBox[0 0 595.32 841.92]/Parent 2 0 R/Resources&lt;&lt;/XObject&lt;&lt;/Image1 4 0 R&gt;&gt;&gt;&gt;/Rotate 0/Type/Page&gt;&gt; endobj\r\n4 0 obj &lt;&lt;/BitsPerComponent 8/ColorSpace/DeviceGray/Width 54/Height 1/Length 54/Subtype/Image/Type/XObject&gt;&gt;\r\nstream\r\n&#255;&#255;&#255;&#255;  &#255; &#255;&#255;   &#255;&#255; &#255;&#255;  &#255;&#255;   &#255;  &#255;&#255;  &#255;  &#255;&#255;  &#255;&#255;&#255;   &#255; &#255;  &#255;&#255;&#255;&#255;\r\nendstream\r\nendobj\r\n5 0 obj &lt;&lt;/Length 81&gt;&gt;\r\nstream\r\nq 0 g 108 0 0 60 160 700 cm /Image1 Do Q\r\nq BT /F1 18 Tf 195 675 Td (1401) Tj ET Q\r\nendstream\r\nendobj\r\n\r\nxref\r\n0 6\r\n0000000000 65536 f \r\n0000000009 00000 n \r\n0000000054 00000 n \r\n0000000105 00000 n \r\n0000000266 00000 n \r\n0000000454 00000 n \r\n\r\ntrailer\r\n&lt;&lt;/Size 6/Root 1 0 R&gt;&gt;\r\nstartxref\r\n584\r\n%%EOF\r\n```\r\nNote cut and paste above will usually distort the bars due to bitrot(ation).\r\n\r\n[![enter image description here][6]][6]\r\n\r\nSo it will be cleaner white than this (ensure you save as ANSI NOT UTF-8).\r\n\r\nSo here is how the binary pattern looks as binary on off values, top is the odds and even pairing then shown using * as whitespace for convenience where the black1 will be nul and the white * will become &#255;\r\n\r\n[![enter image description here][7]][7]\r\n\r\n  [1]: https://i.stack.imgur.com/8tQm7.png\r\n  [2]: https://i.stack.imgur.com/t43TS.png\r\n  [3]: https://i.stack.imgur.com/6c7N8.png\r\n  [4]: https://i.stack.imgur.com/5gr3T.png\r\n  [5]: https://i.stack.imgur.com/xcuUA.png\r\n  [6]: https://i.stack.imgur.com/Ovryk.png\r\n  [7]: https://i.stack.imgur.com/TVLBK.png","title":"How to convert a string to a barcode code 128","body":"<p>Barcode 128 is an oddity for programming as it is non-conventional encoding in its application. Let's start with the output.</p>\n<p><a href=\"https://i.stack.imgur.com/8tQm7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tQm7.png\" alt=\"enter image description here\" /></a></p>\n<p>You can check that is correct here <a href=\"https://zxing.org/w/decode?u=https%3A%2F%2Fi.stack.imgur.com%2F8tQm7.png\" rel=\"nofollow noreferrer\">https://zxing.org/w/decode?u=https%3A%2F%2Fi.stack.imgur.com%2F8tQm7.png</a></p>\n<p><a href=\"https://i.stack.imgur.com/t43TS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t43TS.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also see to get that font as output we need in PDF binary terms an input of <code>0110100100001110000000010001001001101010</code> which does not match the pixel output. However 01101001 00001110 00000001 00010010 01101010 as hex is <code>69 0e 01 12 6a</code> which as ASCII / ANSI = <code>Ò.!2Ó</code>.</p>\n<p>So the rules of generation are</p>\n<ul>\n<li>Use the start numeric character <code>Ò</code></li>\n<li>add a ligature glyph for 14 = <code>.</code></li>\n<li>add a ligature glyph for 01 = <code>!</code></li>\n<li>add the calculated check character <code>2</code></li>\n<li>round of with a stop character <code>Ó</code></li>\n</ul>\n<p>write those 5 characters using any of several Code 128 fonts.</p>\n<p>It is a lot easier if you use a cut and paste tool that calculates ligatures and Mod 103 check bytes.</p>\n<p><a href=\"https://i.stack.imgur.com/6c7N8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6c7N8.png\" alt=\"enter image description here\" /></a></p>\n<p>Here we see it as text in a PDF where the text is now <code>6C 11 04 15 6D</code> since it gets remapped characters (by the MS PDF generator) which in this case seems to have added +3 to each glyph!</p>\n<p><a href=\"https://i.stack.imgur.com/5gr3T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5gr3T.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>13 0 obj\n&lt;&lt;/Length 158&gt;&gt;\nstream\nq\nq\n.75 0 0 -.75 0 841.92007 cm\n0 0 0 rg\nBT\n/F1 96.0037 Tf\n1 0 0 -1 94.56 150.4 Tm\n[&lt;006C&gt;-.695313&lt;0011&gt;-.554688&lt;0004&gt;-.554688&lt;0015&gt;-.554688&lt;006D&gt;] TJ\nET\nQ\nQ\n</code></pre>\n<p>Calculations in Excel (see <a href=\"https://en.wikipedia.org/wiki/Code_128#Bar_code_widths\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Code_128#Bar_code_widths</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/xcuUA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xcuUA.png\" alt=\"enter image description here\" /></a></p>\n<p>What is odd is that the concept of using Code128 is compaction yet that method of fonts requires many times the resources compared to pixels</p>\n<p>Here even with overheads the 54 bars (I added extra 4 white <code>ÿ</code> bars each end, for guarding) is a total file size of just over 750 bytes, but as a font embedded file it is heading for 4 times bigger e.g. 3,199 bytes for the bars without the normal embedded 1401 text.</p>\n<pre><code>%PDF-1.3\n1 0 obj &lt;&lt;/Pages 2 0 R/Type/Catalog&gt;&gt; endobj\n2 0 obj &lt;&lt;/Count 1/Kids[3 0 R]/Type/Pages&gt;&gt; endobj\n3 0 obj &lt;&lt;/Contents 5 0 R/CropBox[0 0 595.32 841.92]/MediaBox[0 0 595.32 841.92]/Parent 2 0 R/Resources&lt;&lt;/XObject&lt;&lt;/Image1 4 0 R&gt;&gt;&gt;&gt;/Rotate 0/Type/Page&gt;&gt; endobj\n4 0 obj &lt;&lt;/BitsPerComponent 8/ColorSpace/DeviceGray/Width 54/Height 1/Length 54/Subtype/Image/Type/XObject&gt;&gt;\nstream\nÿÿÿÿ  ÿ ÿÿ   ÿÿ ÿÿ  ÿÿ   ÿ  ÿÿ  ÿ  ÿÿ  ÿÿÿ   ÿ ÿ  ÿÿÿÿ\nendstream\nendobj\n5 0 obj &lt;&lt;/Length 81&gt;&gt;\nstream\nq 0 g 108 0 0 60 160 700 cm /Image1 Do Q\nq BT /F1 18 Tf 195 675 Td (1401) Tj ET Q\nendstream\nendobj\n\nxref\n0 6\n0000000000 65536 f \n0000000009 00000 n \n0000000054 00000 n \n0000000105 00000 n \n0000000266 00000 n \n0000000454 00000 n \n\ntrailer\n&lt;&lt;/Size 6/Root 1 0 R&gt;&gt;\nstartxref\n584\n%%EOF\n</code></pre>\n<p>Note cut and paste above will usually distort the bars due to bitrot(ation).</p>\n<p><a href=\"https://i.stack.imgur.com/Ovryk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ovryk.png\" alt=\"enter image description here\" /></a></p>\n<p>So it will be cleaner white than this (ensure you save as ANSI NOT UTF-8).</p>\n<p>So here is how the binary pattern looks as binary on off values, top is the odds and even pairing then shown using * as whitespace for convenience where the black1 will be nul and the white * will become ÿ</p>\n<p><a href=\"https://i.stack.imgur.com/TVLBK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVLBK.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22218962,"reputation":229,"user_id":16456978,"display_name":"Nicola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1694394575,"answer_count":1,"score":1,"last_activity_date":1701023641,"creation_date":1694185262,"question_id":77067963,"body_markdown":"I need to convert a string to a barcode Code 128\r\nI found a procedure which converts the original string into the formatted string, including the special characters of the Code 128 [From Here][1]. I didn&#39;t directly use the code on this page, but I translated it into the language used by genexus, maybe there was some error in this conversion?\r\n\r\nBy doing a test, the string &quot;1401&quot; is converted into &quot;&#210;QPL&#211;&quot; but when I go to print the string setting the code128 font, it is badly formatted, in particular the initial and final characters remain untranslated. I tested this both in word and in a pdf document generated with the genexus program and I get this barcode\r\n\r\n[![enter image description here][2]][2]\r\n\r\n(word add the three line after the second O too, I don&#39;t know why)\r\nI believe that the two accented O&#39;s are the characters set by the procedure with the ASCII codes (210 for example is the first O), perhaps there was a misunderstanding here?\r\nWhat am I doing wrong? Is the procedure incorrect? Is it a character set problem? Or what else? Did I misunderstand those lines and don&#39;t they represent ASCII codes?\r\n\r\nI tried with a barcode reader and there is no way to read this. If I generate the barcode with an [online generator][3] everything works fine\r\n\r\n\r\n  [1]: http://www.java2s.com/example/csharp/system/convert-a-string-to-a-bar-code-that-can-be-printed-with-code128ttf-fo.html\r\n  [2]: https://i.stack.imgur.com/ejvdS.png\r\n  [3]: https://barcode.tec-it.com/it/Code128?data=1401","title":"How to convert a string to a barcode code 128","body":"<p>I need to convert a string to a barcode Code 128\nI found a procedure which converts the original string into the formatted string, including the special characters of the Code 128 <a href=\"http://www.java2s.com/example/csharp/system/convert-a-string-to-a-bar-code-that-can-be-printed-with-code128ttf-fo.html\" rel=\"nofollow noreferrer\">From Here</a>. I didn't directly use the code on this page, but I translated it into the language used by genexus, maybe there was some error in this conversion?</p>\n<p>By doing a test, the string &quot;1401&quot; is converted into &quot;ÒQPLÓ&quot; but when I go to print the string setting the code128 font, it is badly formatted, in particular the initial and final characters remain untranslated. I tested this both in word and in a pdf document generated with the genexus program and I get this barcode</p>\n<p><a href=\"https://i.stack.imgur.com/ejvdS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejvdS.png\" alt=\"enter image description here\" /></a></p>\n<p>(word add the three line after the second O too, I don't know why)\nI believe that the two accented O's are the characters set by the procedure with the ASCII codes (210 for example is the first O), perhaps there was a misunderstanding here?\nWhat am I doing wrong? Is the procedure incorrect? Is it a character set problem? Or what else? Did I misunderstand those lines and don't they represent ASCII codes?</p>\n<p>I tried with a barcode reader and there is no way to read this. If I generate the barcode with an <a href=\"https://barcode.tec-it.com/it/Code128?data=1401\" rel=\"nofollow noreferrer\">online generator</a> everything works fine</p>\n"},{"tags":["java","spring-boot","java-time"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700949859,"post_id":77549703,"comment_id":136715352,"body_markdown":"Not an expert on JPA, but what version of JPA are you using?  This [webpage suggest](https://www.baeldung.com/jpa-java-time) that you should be using `java.sql.Time` or `java.sql.Date` as the type.","body":"Not an expert on JPA, but what version of JPA are you using?  This <a href=\"https://www.baeldung.com/jpa-java-time\" rel=\"nofollow noreferrer\">webpage suggest</a> that you should be using <code>java.sql.Time</code> or <code>java.sql.Date</code> as the type."},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1700950562,"post_id":77549703,"comment_id":136715403,"body_markdown":"spring-boot-starter-data-jpa-2.1.3.RELEASE.jar","body":"spring-boot-starter-data-jpa-2.1.3.RELEASE.jar"},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1700950887,"post_id":77549703,"comment_id":136715428,"body_markdown":"I changed it to 2.2.2.RELEASE. maven update. build. Still returning null","body":"I changed it to 2.2.2.RELEASE. maven update. build. Still returning null"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700956518,"post_id":77549703,"comment_id":136715766,"body_markdown":"What database engine? And *exactly* what data type of the column? (Likely you should be using `OffsetDateTime` rather than `LocalDateTime`.)","body":"What database engine? And <i>exactly</i> what data type of the column? (Likely you should be using <code>OffsetDateTime</code> rather than <code>LocalDateTime</code>.)"},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1700956899,"post_id":77549703,"comment_id":136715794,"body_markdown":"Database is mysql version 8. Column datatype is datetime.","body":"Database is mysql version 8. Column datatype is datetime."},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1700956956,"post_id":77549703,"comment_id":136715800,"body_markdown":"POM file dependency is `\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;`","body":"POM file dependency is `\t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; \t\t&lt;/dependency&gt;`"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700957210,"post_id":77549703,"comment_id":136715820,"body_markdown":"Post those details as edits to your Question rather than as Comments.","body":"Post those details as edits to your Question rather than as Comments."}],"answers":[{"tags":[],"owner":{"account_id":4971007,"reputation":321,"user_id":5614211,"display_name":"LiveNLearn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700956358,"creation_date":1700956358,"answer_id":77549976,"question_id":77549703,"body_markdown":"    @Column(name = &quot;otp_validity&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\r\n    private LocalDateTime getOptValidity() {\r\n        return this.otpValidity;\r\n    }\r\n\r\n","title":"getting null value for java.time.LocalDateTime defined in jpa entity class","body":"<pre><code>@Column(name = &quot;otp_validity&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\nprivate LocalDateTime getOptValidity() {\n    return this.otpValidity;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700961072,"creation_date":1700961072,"answer_id":77550116,"question_id":77549703,"body_markdown":"You need an `AttributeConverter` since your field in the database is `TIMESTAMP`.\r\n\r\n```java\r\nimport java.sql.Timestamp;\r\nimport java.time.LocalDateTime;\r\n\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\n@Converter(autoApply = true)\r\npublic class TimestampToLocalDateTimeAttributeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt; {\r\n\r\n\t@Override\r\n\tpublic Timestamp convertToDatabaseColumn(final LocalDateTime localDateTime) {\r\n\t\treturn localDateTime == null ? null : Timestamp.valueOf(localDateTime);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic LocalDateTime convertToEntityAttribute(final Timestamp sqlTimestamp) {\r\n\t\treturn sqlTimestamp == null ? null : sqlTimestamp.toLocalDateTime();\r\n\t}\r\n}\r\n```\r\n\r\nThis will automatically convert all your `LocalDateTime` fields in your entities to their corresponding `TIMESTAMP` in the database and vice-versa (for read/write).","title":"getting null value for java.time.LocalDateTime defined in jpa entity class","body":"<p>You need an <code>AttributeConverter</code> since your field in the database is <code>TIMESTAMP</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Timestamp;\nimport java.time.LocalDateTime;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = true)\npublic class TimestampToLocalDateTimeAttributeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt; {\n\n    @Override\n    public Timestamp convertToDatabaseColumn(final LocalDateTime localDateTime) {\n        return localDateTime == null ? null : Timestamp.valueOf(localDateTime);\n    }\n\n    @Override\n    public LocalDateTime convertToEntityAttribute(final Timestamp sqlTimestamp) {\n        return sqlTimestamp == null ? null : sqlTimestamp.toLocalDateTime();\n    }\n}\n</code></pre>\n<p>This will automatically convert all your <code>LocalDateTime</code> fields in your entities to their corresponding <code>TIMESTAMP</code> in the database and vice-versa (for read/write).</p>\n"}],"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701023330,"creation_date":1700949212,"question_id":77549703,"body_markdown":"From my `JpaRepository` method, I am getting `null` as value for `java.time.LocalDateTime` defined in `jpa` entity class.\r\n\r\n**Entity class**\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;cust_detail&quot;)\r\n    public class CustDetail implements java.io.Serializable {\r\n    \r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate Integer id;\r\n    \tprivate String name;\r\n    \tprivate String address;\r\n    \t@Column(name = &quot;dob&quot;, nullable = false,columnDefinition = &quot;TIMESTAMP&quot;)\r\n    \tprivate java.time.LocalDateTime dob;\r\n    \tprivate String city;\r\n    \tprivate String state;\r\n    \tprivate String country;\r\n    \tpublic CustDetail() {\r\n    \t}\r\n    \r\n\r\n    }\r\n\r\n**repository**\r\n\r\n    public interface CustDetailRepository extends JpaRepository&lt;CustDetail, Integer&gt;{\r\n    \t\tCustDetail findByCity(String city);\r\n    }\r\n\r\n**controller**\r\n\r\n    @Autowired\r\n    CustDetailRepository custRepo;\r\n    @GetMapping(value=&quot;test&quot;)\r\n    public CustDetail test(){\r\n    \r\n    \tCustDetail custObj=  custRepo.findByCity(&quot;JK&quot;);\r\n    \treturn custObj;\r\n    }\r\n\r\n**Response**\r\n\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;city&quot;: &quot;jk&quot;,\r\n        &quot;state&quot;: &quot;CALF&quot;,\r\n        &quot;dob&quot;: null //Why am I getting null here?\r\n     \r\n    }\r\n\r\n","title":"getting null value for java.time.LocalDateTime defined in jpa entity class","body":"<p>From my <code>JpaRepository</code> method, I am getting <code>null</code> as value for <code>java.time.LocalDateTime</code> defined in <code>jpa</code> entity class.</p>\n<p><strong>Entity class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;cust_detail&quot;)\npublic class CustDetail implements java.io.Serializable {\n\n\n    private static final long serialVersionUID = 1L;\n    private Integer id;\n    private String name;\n    private String address;\n    @Column(name = &quot;dob&quot;, nullable = false,columnDefinition = &quot;TIMESTAMP&quot;)\n    private java.time.LocalDateTime dob;\n    private String city;\n    private String state;\n    private String country;\n    public CustDetail() {\n    }\n\n\n}\n</code></pre>\n<p><strong>repository</strong></p>\n<pre><code>public interface CustDetailRepository extends JpaRepository&lt;CustDetail, Integer&gt;{\n        CustDetail findByCity(String city);\n}\n</code></pre>\n<p><strong>controller</strong></p>\n<pre><code>@Autowired\nCustDetailRepository custRepo;\n@GetMapping(value=&quot;test&quot;)\npublic CustDetail test(){\n\n    CustDetail custObj=  custRepo.findByCity(&quot;JK&quot;);\n    return custObj;\n}\n</code></pre>\n<p><strong>Response</strong></p>\n<pre><code>{\n    &quot;id&quot;: 3,\n    &quot;city&quot;: &quot;jk&quot;,\n    &quot;state&quot;: &quot;CALF&quot;,\n    &quot;dob&quot;: null //Why am I getting null here?\n \n}\n</code></pre>\n"},{"tags":["java","python","pdf","jupyter-notebook"],"answers":[{"tags":[],"owner":{"account_id":5052173,"reputation":381,"user_id":4056398,"accept_rate":63,"display_name":"Hazim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550788655,"creation_date":1550788433,"answer_id":54817295,"question_id":54817211,"body_markdown":"You need to add Java to the `path` variable (look at [this question][1] in Java Help Center), not create a new one. Also, make sure you&#39;re properly referencing a file to read, looks like your log threw a FileNotFound exception.\r\n\r\n\r\n  [1]: https://www.java.com/en/download/help/path.xml","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>You need to add Java to the <code>path</code> variable (look at <a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"noreferrer\">this question</a> in Java Help Center), not create a new one. Also, make sure you're properly referencing a file to read, looks like your log threw a FileNotFound exception.</p>\n"},{"tags":[],"owner":{"account_id":16134443,"reputation":111,"user_id":11647224,"display_name":"geo s"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1560507490,"creation_date":1560506574,"answer_id":56595881,"question_id":54817211,"body_markdown":"Under the `System Variables` click `Path` and then press the `Edit...` instead of `New`. Then in the next screen (`Edit environment variable` for the Path variable) click `New` and add the address, e.g. `C:\\Program Files (x86)\\Java\\jre1.8.0_201\\bin`. Press `OK` and the Path variable will be appended/updated.\r\n\r\nYou will need to restart your environment (e.g. Chrome, Anaconda, etc) for the path to have effect.","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>Under the <code>System Variables</code> click <code>Path</code> and then press the <code>Edit...</code> instead of <code>New</code>. Then in the next screen (<code>Edit environment variable</code> for the Path variable) click <code>New</code> and add the address, e.g. <code>C:\\Program Files (x86)\\Java\\jre1.8.0_201\\bin</code>. Press <code>OK</code> and the Path variable will be appended/updated.</p>\n\n<p>You will need to restart your environment (e.g. Chrome, Anaconda, etc) for the path to have effect.</p>\n"},{"tags":[],"owner":{"account_id":19617342,"reputation":11,"user_id":14358505,"display_name":"pybanker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602539569,"creation_date":1602539569,"answer_id":64325795,"question_id":54817211,"body_markdown":"Note that if you do not already have Java installed on your computer, this code will not work. i can confirm as i was previously not running Java and experiencing the issue, then when i downloaded Java and added it to PATH (as described in the solution above), it worked. \r\n\r\nSummary:\r\n1. download &amp; install java (copying the install location)\r\n2. add install location to the PATH variable in advanced system settings","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>Note that if you do not already have Java installed on your computer, this code will not work. i can confirm as i was previously not running Java and experiencing the issue, then when i downloaded Java and added it to PATH (as described in the solution above), it worked.</p>\n<p>Summary:</p>\n<ol>\n<li>download &amp; install java (copying the install location)</li>\n<li>add install location to the PATH variable in advanced system settings</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11102236,"reputation":123,"user_id":8150584,"display_name":"Deepak Harish"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626934097,"creation_date":1626933436,"answer_id":68479840,"question_id":54817211,"body_markdown":"I too faced the same issue on my work PC while trying to read table data from a PDF, using `tabula`. The following process helped me overcome this issue.\r\n\r\nI also used [amazon corretto][1], which is basically an openJDK. Free to use and install, maintained by Amazon. \r\n\r\nInstall it in `C:\\` drive. \r\n\r\nNow, go to `environment variables` in system properties. Under `system variables`, double click `Path` and click `New` add the path like this `C:\\Users\\20195579\\amazon-corretto-11.0.12.7.1-windows-x64-jdk\\jdk11.0.12_7`\r\n\r\nAlso add new variable in `system variables`. `Variable Name: JAVA_HOME` `variable value: C:\\Users\\20195579\\amazon-corretto-11.0.12.7.1-windows-x64-jdk\\jdk11.0.12_7` See below images.\r\n[![enter image description here][2]][2]\r\n\r\nShould look like this after adding:\r\n[![enter image description here][3]][3]\r\n\r\nIncase still facing issue, add Oracle javapath to `Path` in `system variables`. like this `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath`\r\n\r\nchecked both on work PC and personal PC, worked well.\r\n\r\n\r\n  [1]: https://aws.amazon.com/corretto/\r\n  [2]: https://i.stack.imgur.com/Bpyn3.png\r\n  [3]: https://i.stack.imgur.com/k0SX7.png","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>I too faced the same issue on my work PC while trying to read table data from a PDF, using <code>tabula</code>. The following process helped me overcome this issue.</p>\n<p>I also used <a href=\"https://aws.amazon.com/corretto/\" rel=\"noreferrer\">amazon corretto</a>, which is basically an openJDK. Free to use and install, maintained by Amazon.</p>\n<p>Install it in <code>C:\\</code> drive.</p>\n<p>Now, go to <code>environment variables</code> in system properties. Under <code>system variables</code>, double click <code>Path</code> and click <code>New</code> add the path like this <code>C:\\Users\\20195579\\amazon-corretto-11.0.12.7.1-windows-x64-jdk\\jdk11.0.12_7</code></p>\n<p>Also add new variable in <code>system variables</code>. <code>Variable Name: JAVA_HOME</code> <code>variable value: C:\\Users\\20195579\\amazon-corretto-11.0.12.7.1-windows-x64-jdk\\jdk11.0.12_7</code> See below images.\n<a href=\"https://i.stack.imgur.com/Bpyn3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Bpyn3.png\" alt=\"enter image description here\" /></a></p>\n<p>Should look like this after adding:\n<a href=\"https://i.stack.imgur.com/k0SX7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k0SX7.png\" alt=\"enter image description here\" /></a></p>\n<p>Incase still facing issue, add Oracle javapath to <code>Path</code> in <code>system variables</code>. like this <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code></p>\n<p>checked both on work PC and personal PC, worked well.</p>\n"},{"tags":[],"owner":{"account_id":20698897,"reputation":97,"user_id":15198476,"display_name":"Rabiyulfahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653969640,"creation_date":1644158773,"answer_id":71008269,"question_id":54817211,"body_markdown":"I am also facing the same issue based on my experience, I am sharing here.\r\n\r\nStep 1 - After download and completed installation of Java (copy a bin path location and add into environment variables)\r\n[![bin location][1]][1]\r\n\r\nStep2 - Add Java PATH location in the environment variable.[![enter image description here][2]][2]\r\n\r\nStill you are getting same error restart your anaconda and Chrome or restart you pc.\r\n\r\nCheck below code in command prompt\r\n\r\n```\r\njava --version\r\n```\r\n\r\nComplete Java installation and environment variable path setting up guidance video - [link][3].\r\n\r\n  [1]: https://i.stack.imgur.com/I4LIZ.png\r\n  [2]: https://i.stack.imgur.com/xS4Cg.png\r\n  [3]: https://www.youtube.com/watch?v=IJ-PJbvJBGs","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>I am also facing the same issue based on my experience, I am sharing here.</p>\n<p>Step 1 - After download and completed installation of Java (copy a bin path location and add into environment variables)\n<a href=\"https://i.stack.imgur.com/I4LIZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I4LIZ.png\" alt=\"bin location\" /></a></p>\n<p>Step2 - Add Java PATH location in the environment variable.<a href=\"https://i.stack.imgur.com/xS4Cg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xS4Cg.png\" alt=\"enter image description here\" /></a></p>\n<p>Still you are getting same error restart your anaconda and Chrome or restart you pc.</p>\n<p>Check below code in command prompt</p>\n<pre><code>java --version\n</code></pre>\n<p>Complete Java installation and environment variable path setting up guidance video - <a href=\"https://www.youtube.com/watch?v=IJ-PJbvJBGs\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":17597521,"reputation":37,"user_id":12768167,"display_name":"yellowFlower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651695411,"creation_date":1651695411,"answer_id":72118994,"question_id":54817211,"body_markdown":"on linux distribution\r\ntype in console:\r\n`&gt;sudo apt install openjdk-8-jdk`\r\nthat work for me.","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>on linux distribution\ntype in console:\n<code>&gt;sudo apt install openjdk-8-jdk</code>\nthat work for me.</p>\n"},{"tags":[],"owner":{"account_id":29082251,"reputation":1,"user_id":22278022,"display_name":"Hasaan Ijaz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701022045,"creation_date":1701021703,"answer_id":77552864,"question_id":54817211,"body_markdown":"The following video is a tutorial that addresses this issue: https://youtu.be/Sbic3aMCwhY?si=swWMwYUwoxU8ekSR. \r\n\r\nNote: \r\n 1. I downloaded Amazon Corretto as recommended by Deepak Harish&#39;s comment. You can download this at the official website: https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/windows-7-install.html. \r\n 2. I did not refer to any .bin files. Referring to the folder containing Amazon Corretto worked fine.\r\n\r\nHope this helps. Good luck!","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>The following video is a tutorial that addresses this issue: <a href=\"https://youtu.be/Sbic3aMCwhY?si=swWMwYUwoxU8ekSR\" rel=\"nofollow noreferrer\">https://youtu.be/Sbic3aMCwhY?si=swWMwYUwoxU8ekSR</a>.</p>\n<p>Note:</p>\n<ol>\n<li>I downloaded Amazon Corretto as recommended by Deepak Harish's comment. You can download this at the official website: <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/windows-7-install.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/windows-7-install.html</a>.</li>\n<li>I did not refer to any .bin files. Referring to the folder containing Amazon Corretto worked fine.</li>\n</ol>\n<p>Hope this helps. Good luck!</p>\n"}],"owner":{"account_id":15343151,"reputation":172,"user_id":11069507,"display_name":"Ryan Ni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63053,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":7,"score":10,"last_activity_date":1701022045,"creation_date":1550788003,"question_id":54817211,"body_markdown":"I don&#39;t know how to fix this error when I&#39;m trying to run the following code:    \r\n\r\n    df = wrapper.read_pdf(r&#39;C:\\End_to_End\\1902\\PN\\Scenario1_AllCorrectMin\\EPR.pdf&#39;)\r\n\r\nLog:\r\n\r\n    FileNotFoundError                         Traceback (most recent call last)\r\n    ~\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\tabula\\wrapper.py in read_pdf(input_path, output_format, encoding, java_options, pandas_options, multiple_tables, **kwargs)\r\n        107     try:\r\n    --&gt; 108         output = subprocess.check_output(args)\r\n        109 \r\n    \r\n    ~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in check_output(timeout, *popenargs, **kwargs)\r\n        335     return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\r\n    --&gt; 336                **kwargs).stdout\r\n        337 \r\n    \r\n    ~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in run(input, timeout, check, *popenargs, **kwargs)\r\n        402 \r\n    --&gt; 403     with Popen(*popenargs, **kwargs) as process:\r\n        404         try:\r\n    \r\n    ~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in __init__(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds, encoding, errors)\r\n        708                                 errread, errwrite,\r\n    --&gt; 709                                 restore_signals, start_new_session)\r\n        710         except:\r\n    \r\n    ~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in _execute_child(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, unused_restore_signals, unused_start_new_session)\r\n        996                                          os.fspath(cwd) if cwd is not None else None,\r\n    --&gt; 997                                          startupinfo)\r\n        998             finally:\r\n    \r\n    FileNotFoundError: [WinError 2] The system cannot find the file specified\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    JavaNotFoundError                         Traceback (most recent call last)\r\n    &lt;ipython-input-3-010e34a004ec&gt; in &lt;module&gt;()\r\n    ----&gt; 1 df = wrapper.read_pdf(r&#39;C:\\End_to_End\\1902\\PN\\Scenario1_AllCorrectMin\\EPR.pdf&#39;)\r\n    \r\n    ~\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\tabula\\wrapper.py in read_pdf(input_path, output_format, encoding, java_options, pandas_options, multiple_tables, **kwargs)\r\n        109 \r\n        110     except FileNotFoundError as e:\r\n    --&gt; 111         raise JavaNotFoundError(JAVA_NOT_FOUND_ERROR)\r\n        112 \r\n        113     except subprocess.CalledProcessError as e:\r\n    \r\n    JavaNotFoundError: `java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`\r\n\r\nI tried changing and creating the path in the environmental variables but did not work. Here is the screenshot:\r\n\r\n[![System_Properties][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hl48o.jpg\r\nDoes anyone know how to fix this? I have java version 8 (Checked through about java)","title":"`java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`","body":"<p>I don't know how to fix this error when I'm trying to run the following code:    </p>\n\n<pre><code>df = wrapper.read_pdf(r'C:\\End_to_End\\1902\\PN\\Scenario1_AllCorrectMin\\EPR.pdf')\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>FileNotFoundError                         Traceback (most recent call last)\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\tabula\\wrapper.py in read_pdf(input_path, output_format, encoding, java_options, pandas_options, multiple_tables, **kwargs)\n    107     try:\n--&gt; 108         output = subprocess.check_output(args)\n    109 \n\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in check_output(timeout, *popenargs, **kwargs)\n    335     return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\n--&gt; 336                **kwargs).stdout\n    337 \n\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in run(input, timeout, check, *popenargs, **kwargs)\n    402 \n--&gt; 403     with Popen(*popenargs, **kwargs) as process:\n    404         try:\n\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in __init__(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds, encoding, errors)\n    708                                 errread, errwrite,\n--&gt; 709                                 restore_signals, start_new_session)\n    710         except:\n\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\subprocess.py in _execute_child(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, unused_restore_signals, unused_start_new_session)\n    996                                          os.fspath(cwd) if cwd is not None else None,\n--&gt; 997                                          startupinfo)\n    998             finally:\n\nFileNotFoundError: [WinError 2] The system cannot find the file specified\n\nDuring handling of the above exception, another exception occurred:\n\nJavaNotFoundError                         Traceback (most recent call last)\n&lt;ipython-input-3-010e34a004ec&gt; in &lt;module&gt;()\n----&gt; 1 df = wrapper.read_pdf(r'C:\\End_to_End\\1902\\PN\\Scenario1_AllCorrectMin\\EPR.pdf')\n\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\tabula\\wrapper.py in read_pdf(input_path, output_format, encoding, java_options, pandas_options, multiple_tables, **kwargs)\n    109 \n    110     except FileNotFoundError as e:\n--&gt; 111         raise JavaNotFoundError(JAVA_NOT_FOUND_ERROR)\n    112 \n    113     except subprocess.CalledProcessError as e:\n\nJavaNotFoundError: `java` command is not found from this Python process. Please ensure Java is installed and PATH is set for `java`\n</code></pre>\n\n<p>I tried changing and creating the path in the environmental variables but did not work. Here is the screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hl48o.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Hl48o.jpg\" alt=\"System_Properties\"></a></p>\n\n<p>Does anyone know how to fix this? I have java version 8 (Checked through about java)</p>\n"},{"tags":["java","unix"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":2,"creation_date":1626814312,"post_id":68461093,"comment_id":120992437,"body_markdown":"If it&#39;s an image, then its file executable permissions are irrelevant. [This](https://stackoverflow.com/a/11329587/1707353) will probably be of some use. The `ImageIO` class is what you&#39;re looking for. And if it&#39;s an image file, then your question&#39;s title is not exactly appropriate.","body":"If it&#39;s an image, then its file executable permissions are irrelevant. <a href=\"https://stackoverflow.com/a/11329587/1707353\">This</a> will probably be of some use. The <code>ImageIO</code> class is what you&#39;re looking for. And if it&#39;s an image file, then your question&#39;s title is not exactly appropriate."},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1626815821,"post_id":68461093,"comment_id":120992868,"body_markdown":"Are you asking how to upload a file to S3? Or how to convert your PNG file to jpeg? Or how to rename the file so that it has the correct extension?","body":"Are you asking how to upload a file to S3? Or how to convert your PNG file to jpeg? Or how to rename the file so that it has the correct extension?"},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1626815920,"post_id":68461093,"comment_id":120992890,"body_markdown":"Question is convert Unix executable file to a PNG file.","body":"Question is convert Unix executable file to a PNG file."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1626816167,"post_id":68461093,"comment_id":120992945,"body_markdown":"You say you can see the content in preview mode. What do you see there? Take a screenshot and show it to us, because converting a &quot;Unix executable file&quot; to a &quot;PNG file&quot; (which is an *image* file) doesn&#39;t make any sense to us. A Unix executable file is normally a binary file (shows as garbage) or a shell script (text file), it is not an image file.","body":"You say you can see the content in preview mode. What do you see there? Take a screenshot and show it to us, because converting a &quot;Unix executable file&quot; to a &quot;PNG file&quot; (which is an <i>image</i> file) doesn&#39;t make any sense to us. A Unix executable file is normally a binary file (shows as garbage) or a shell script (text file), it is not an image file."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1626817203,"post_id":68461093,"comment_id":120993216,"body_markdown":"@JeffHolt Your answer helped me.","body":"@JeffHolt Your answer helped me."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626824327,"creation_date":1626824327,"answer_id":68462469,"question_id":68461093,"body_markdown":"1. Whatever is reporting &#39;unix executable file&#39; is oversimplifying things. It&#39;s simply &#39;a file&#39; (unix has sod all to do with it), and the file system has the concept of an &#39;executable&#39; flag, which you can set or clear on any file and is utterly unrelated to whether the file&#39;s contents are executable. You can set any file executable, or not, and especially considering that e.g. macs and linux can mount DOS file systems (Which most USB sticks use because every OS can deal with these file systems), which do not have this flag, and &#39;for convenience&#39; that means the OS acts as if ALL files have that flag and you can&#39;t remove it. In other words, it&#39;s a lie, forget about that part.\r\n\r\n2. `file` is just guessing. This is no blame on `file` and the authors of that tool are by no means lazy. It&#39;s __mathematically impossible__ - the disk system doesn&#39;t know what kind of data a file contains, it just knows: This file has these bytes, and it ends there. `file` just looks at the contents and takes a wild stab in the dark. Its wild stabs are decent, but no guarantee. I can make you a file that is _BOTH_ a legal zip file (will `unzip` and everything just fine), _AND_ is a PNG image equally well (renders in browsers, preview, etc). What could `file` possibly tell you here? Literally completely random garbage is _ALSO_ a valid `ISO-8859-1` formatted text file. The only way to know that this is clearly not the intended purpose of the file is to use Artificial Intelligence algorithms to realize that the contents in no way form legible words in any language on the planet. That&#39;s a very hard problem and `file` doesn&#39;t try to solve it.\r\n\r\n3. Thus, there&#39;s no real way to know if it is a PNG file, if all you have is a file on disk. The file extension is a good hint, but if it&#39;s missing, you&#39;re just guessing. You can toss it through a PNG reader, and if it doesn&#39;t crash, it probably is, but it could just be a picture with random static because it isn&#39;t really a PNG file.\r\n\r\n4. If you want to convert PNG files, `ImageIO` can do that.\r\n\r\n5. Generally, the process that got you that file usually DOES know the format. For example, if you download it over the web, the web server didn&#39;t JUST send those bytes over. It also sent this header: `Content-Type: image/png`. _THAT_ (and not the file extension) is what is the webserver&#39;s canonical truth. If the process that saves this file to disk elected to take that information and toss it in the garbage, well, now you&#39;re stuck guessing. If possible, go back to that part of the process and fix it so this info is no longer tossed in the bin. For example, if you have a shell script that uses `wget` to download a resource and then later on you have no idea if it&#39;s a PNG, or a JPG, or the output of a &#39;file not found&#39; explanatory page in HTML, then fix wget to save that header and react accordingly.\r\n","title":"Reading Unix executable file","body":"<ol>\n<li><p>Whatever is reporting 'unix executable file' is oversimplifying things. It's simply 'a file' (unix has sod all to do with it), and the file system has the concept of an 'executable' flag, which you can set or clear on any file and is utterly unrelated to whether the file's contents are executable. You can set any file executable, or not, and especially considering that e.g. macs and linux can mount DOS file systems (Which most USB sticks use because every OS can deal with these file systems), which do not have this flag, and 'for convenience' that means the OS acts as if ALL files have that flag and you can't remove it. In other words, it's a lie, forget about that part.</p>\n</li>\n<li><p><code>file</code> is just guessing. This is no blame on <code>file</code> and the authors of that tool are by no means lazy. It's <strong>mathematically impossible</strong> - the disk system doesn't know what kind of data a file contains, it just knows: This file has these bytes, and it ends there. <code>file</code> just looks at the contents and takes a wild stab in the dark. Its wild stabs are decent, but no guarantee. I can make you a file that is <em>BOTH</em> a legal zip file (will <code>unzip</code> and everything just fine), <em>AND</em> is a PNG image equally well (renders in browsers, preview, etc). What could <code>file</code> possibly tell you here? Literally completely random garbage is <em>ALSO</em> a valid <code>ISO-8859-1</code> formatted text file. The only way to know that this is clearly not the intended purpose of the file is to use Artificial Intelligence algorithms to realize that the contents in no way form legible words in any language on the planet. That's a very hard problem and <code>file</code> doesn't try to solve it.</p>\n</li>\n<li><p>Thus, there's no real way to know if it is a PNG file, if all you have is a file on disk. The file extension is a good hint, but if it's missing, you're just guessing. You can toss it through a PNG reader, and if it doesn't crash, it probably is, but it could just be a picture with random static because it isn't really a PNG file.</p>\n</li>\n<li><p>If you want to convert PNG files, <code>ImageIO</code> can do that.</p>\n</li>\n<li><p>Generally, the process that got you that file usually DOES know the format. For example, if you download it over the web, the web server didn't JUST send those bytes over. It also sent this header: <code>Content-Type: image/png</code>. <em>THAT</em> (and not the file extension) is what is the webserver's canonical truth. If the process that saves this file to disk elected to take that information and toss it in the garbage, well, now you're stuck guessing. If possible, go back to that part of the process and fix it so this info is no longer tossed in the bin. For example, if you have a shell script that uses <code>wget</code> to download a resource and then later on you have no idea if it's a PNG, or a JPG, or the output of a 'file not found' explanatory page in HTML, then fix wget to save that header and react accordingly.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68462469,"answer_count":1,"score":0,"last_activity_date":1701021939,"creation_date":1626813755,"question_id":68461093,"body_markdown":"I have &quot;Unix Executable file&quot; with no file extension. \r\nIn Mac, I am able to see the content in preview mode but not sure about any other way to see the content. \r\n\r\nLooking for a way to read the content and store in some other file location as JPG file or PNG file format. \r\n\r\nNot sure how to read this thru Java.\r\n\r\nIn Mac terminal, I tried &quot;file filename&quot; and got the following output.\r\n\r\n&gt; PNG image data, 110 x 103, 8-bit/color RGB, non-interlaced","title":"Reading Unix executable file","body":"<p>I have &quot;Unix Executable file&quot; with no file extension.\nIn Mac, I am able to see the content in preview mode but not sure about any other way to see the content.</p>\n<p>Looking for a way to read the content and store in some other file location as JPG file or PNG file format.</p>\n<p>Not sure how to read this thru Java.</p>\n<p>In Mac terminal, I tried &quot;file filename&quot; and got the following output.</p>\n<blockquote>\n<p>PNG image data, 110 x 103, 8-bit/color RGB, non-interlaced</p>\n</blockquote>\n"},{"tags":["java","eclipse","drools"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701021001,"post_id":77552818,"comment_id":136720575,"body_markdown":"Can you please show the full stack trace?","body":"Can you please show the full stack trace?"},{"owner":{"account_id":28598866,"reputation":11,"user_id":21896290,"display_name":"THESKRILL"},"score":0,"creation_date":1701021361,"post_id":77552818,"comment_id":136720611,"body_markdown":"Ok, I&#39;ve just updated the question","body":"Ok, I&#39;ve just updated the question"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701022090,"post_id":77552818,"comment_id":136720687,"body_markdown":"Can you try either updating your dependencies or using Java 8 for _executing_ your application?","body":"Can you try either updating your dependencies or using Java 8 for <i>executing</i> your application?"},{"owner":{"account_id":28598866,"reputation":11,"user_id":21896290,"display_name":"THESKRILL"},"score":0,"creation_date":1701022940,"post_id":77552818,"comment_id":136720776,"body_markdown":"Running as Java 8 doesn&#39;t help and I don&#39;t know where to find my dependencies since I was required to select &quot;Build the project using Java and Drools Runtime Classes&quot; instead of maven and therefore i dont see the dependency xml file","body":"Running as Java 8 doesn&#39;t help and I don&#39;t know where to find my dependencies since I was required to select &quot;Build the project using Java and Drools Runtime Classes&quot; instead of maven and therefore i dont see the dependency xml file"},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1701091367,"post_id":77552818,"comment_id":136728141,"body_markdown":"If you are still getting `InaccessibleObjectException` you are not using Java 8 as that exception didn&#39;t exist in Java 8.","body":"If you are still getting <code>InaccessibleObjectException</code> you are not using Java 8 as that exception didn&#39;t exist in Java 8."}],"owner":{"account_id":28598866,"reputation":11,"user_id":21896290,"display_name":"THESKRILL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701021312,"creation_date":1701020866,"question_id":77552818,"body_markdown":"I have an academic task focused on rule generation models that necessitates working within the Eclipse environment. I&#39;ve followed the provided instructions as directed.\r\n\r\n1. Install eclipse ( I use 2023-09)\r\n\r\n2. Install JBoss Drools plugin (Hel -\\&gt; Install new software)\r\n\r\n3. Add it to the Eclipse ( Window -\\&gt; Preferences -\\&gt; Drools -\\&gt; Installed Drools Runtimes)\r\n\r\n4. Create a new Drools project.\r\n\r\nUnfortunately when i try to run it I get this error:\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\njava.lang.ExceptionInInitializerError\r\n\tat com.thoughtworks.xstream.XStream.setupConverters(XStream.java:832)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\r\n\tat org.kie.internal.xstream.XStreamUtils.createXStream(XStreamUtils.java:30)\r\n\tat org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:170)\r\n\tat org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:169)\r\n\tat org.drools.compiler.kproject.models.KieModuleModelImpl.&lt;clinit&gt;(KieModuleModelImpl.java:167)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:179)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:141)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.discoverKieModules(ClasspathKieProject.java:112)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.init(ClasspathKieProject.java:84)\r\n\tat org.drools.compiler.kie.builder.impl.KieContainerImpl.&lt;init&gt;(KieContainerImpl.java:142)\r\n\tat org.drools.compiler.kie.builder.impl.KieServicesImpl.newKieClasspathContainer(KieServicesImpl.java:135)\r\n\tat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:101)\r\n\tat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:79)\r\n\tat com.sample.DroolsTest.main(DroolsTest.java:16)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3f191845\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40)\r\n\tat com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n\t... 19 more\r\n\r\n```\r\n\r\nI tried different compiler compliance level and downloading both slf4j-api-2.0.9.jar and logback-classic-1.4.11.jar and adding it to classpath in java build path but I still get this error.\r\n\r\nCan you help me build my program so that I can start doing my academic assignments? If it&#39;s possible explain it like I&#39;m 5, because I have never worked with drools or eclipse before. I&#39;m just beginning to learn about it.","title":"Can&#39;t run Drools project on Eclipse","body":"<p>I have an academic task focused on rule generation models that necessitates working within the Eclipse environment. I've followed the provided instructions as directed.</p>\n<ol>\n<li><p>Install eclipse ( I use 2023-09)</p>\n</li>\n<li><p>Install JBoss Drools plugin (Hel -&gt; Install new software)</p>\n</li>\n<li><p>Add it to the Eclipse ( Window -&gt; Preferences -&gt; Drools -&gt; Installed Drools Runtimes)</p>\n</li>\n<li><p>Create a new Drools project.</p>\n</li>\n</ol>\n<p>Unfortunately when i try to run it I get this error:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\njava.lang.ExceptionInInitializerError\n    at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:832)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\n    at org.kie.internal.xstream.XStreamUtils.createXStream(XStreamUtils.java:30)\n    at org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:170)\n    at org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:169)\n    at org.drools.compiler.kproject.models.KieModuleModelImpl.&lt;clinit&gt;(KieModuleModelImpl.java:167)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:179)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:141)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.discoverKieModules(ClasspathKieProject.java:112)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.init(ClasspathKieProject.java:84)\n    at org.drools.compiler.kie.builder.impl.KieContainerImpl.&lt;init&gt;(KieContainerImpl.java:142)\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.newKieClasspathContainer(KieServicesImpl.java:135)\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:101)\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:79)\n    at com.sample.DroolsTest.main(DroolsTest.java:16)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3f191845\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40)\n    at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n    ... 19 more\n\n</code></pre>\n<p>I tried different compiler compliance level and downloading both slf4j-api-2.0.9.jar and logback-classic-1.4.11.jar and adding it to classpath in java build path but I still get this error.</p>\n<p>Can you help me build my program so that I can start doing my academic assignments? If it's possible explain it like I'm 5, because I have never worked with drools or eclipse before. I'm just beginning to learn about it.</p>\n"},{"tags":["java","scala","maven","apache-spark"],"comments":[{"owner":{"account_id":516334,"reputation":4798,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"score":0,"creation_date":1701075185,"post_id":77552820,"comment_id":136725325,"body_markdown":"Shouldn&#39;t your scala code reside in `src/main/scala` directory instead of just `src/`? To my knowledge that&#39;s the maven&#39;s defaults and also what you configured in `pom.xml`","body":"Shouldn&#39;t your scala code reside in <code>src&#47;main&#47;scala</code> directory instead of just <code>src&#47;</code>? To my knowledge that&#39;s the maven&#39;s defaults and also what you configured in <code>pom.xml</code>"}],"owner":{"account_id":21976965,"reputation":27,"user_id":20160957,"display_name":"Felipe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701020900,"creation_date":1701020900,"question_id":77552820,"body_markdown":"I&#39;m encountering an issue while attempting to execute spark-submit for my Scala application. I&#39;m receiving an error indicating that the Application.scala file cannot be found, even though it exists within my project. I&#39;d like to understand why this error is occurring and how I can rectify it.\r\n\r\nMy directory structure and files are as follows:\r\n\r\n``` \r\ngit-scala-streaming\r\n|\r\n| src/streaming/Tools/Tools.scala\r\n| src/streaming/Application.scala\r\n| execute_spark_streaming.sh\r\n| pom.xml \r\n```\r\n\r\n\r\nHere&#39;s the content of the relevant files:\r\n\r\npom.xml:\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;debug.spark-example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-example&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1-&lt;/version&gt;\r\n    &lt;inceptionYear&gt;2015&lt;/inceptionYear&gt;\r\n    &lt;properties&gt;\r\n        &lt;scala.majorVersion&gt;2.11&lt;/scala.majorVersion&gt;\r\n        &lt;scala.minorVersion&gt;.2&lt;/scala.minorVersion&gt;\r\n        &lt;spark.version&gt;1.4.1&lt;/spark.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\r\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\r\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\r\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\r\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;${scala.majorVersion}${scala.minorVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_${scala.majorVersion}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                    &lt;buildcommands&gt;\r\n                        &lt;buildcommand&gt;ch.epfl.lamp.sdt.core.scalabuilder&lt;/buildcommand&gt;\r\n                    &lt;/buildcommands&gt;\r\n                    &lt;additionalProjectnatures&gt;\r\n                        &lt;projectnature&gt;ch.epfl.lamp.sdt.core.scalanature&lt;/projectnature&gt;\r\n                    &lt;/additionalProjectnatures&gt;\r\n                    &lt;classpathContainers&gt;\r\n                        &lt;classpathContainer&gt;org.eclipse.jdt.launching.JRE_CONTAINER&lt;/classpathContainer&gt;\r\n                        &lt;classpathContainer&gt;ch.epfl.lamp.sdt.launching.SCALA_CONTAINER&lt;/classpathContainer&gt;\r\n                    &lt;/classpathContainers&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;attached&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;tarLongFileMode&gt;gnu&lt;/tarLongFileMode&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;minimizeJar&gt;false&lt;/minimizeJar&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;!-- Include here the dependencies you want to be packed in your fat jar --&gt;\r\n                                    &lt;include&gt;*:*&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nApplication.scala:\r\n\r\n```\r\npackage streaming\r\n\r\nimport org.apache.spark.sql.SparkSession\r\n\r\nobject Application {\r\n\r\n  def main(args: Array[String]): Unit = {\r\n    val app = new Application()\r\n    app.run()\r\n  }\r\n}\r\n\r\nclass Application {\r\n\r\n  lazy private val conf = ConfigFactory.load\r\n  lazy private val spark = getSession\r\n\r\n  private def run(): Unit = {\r\n    // Your application code can be called here\r\n    val versionInfo = this.versionInfo\r\n    versionInfo.foreach(println)\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nexecute_spark_streaming.sh:\r\n```\r\n#!/bin/bash\r\n\r\n\r\nspark-submit --master local[*] --class streaming.Application /home/myprofile/IdeaProjects/git-scala-streaming/target/spark-example-0.1--jar-with-dependencies.jar\r\n\r\n```\r\nI&#39;ve tried checking the directory structure, executed mvn clean package to compile the project, and verified that the path to the JAR file in the execute_spark_streaming.sh script is correct. However, I continue to receive the error when running spark-submit.\r\n\r\nI&#39;d appreciate any guidance on how to troubleshoot this issue.\r\n\r\nError:\r\n\r\n```\r\nError: Failed to load class streaming.Application.\r\n23/11/26 14:41:05 INFO ShutdownHookManager: Shutdown hook called\r\n23/11/26 14:41:05 INFO ShutdownHookManager: Deleting directory /tmp/spark-f5493a3b-f207-41bf-8b9b-737ab90ca80e\r\n\r\n```\r\n","title":"Error running spark-submit - Unable to locate Application.scala file","body":"<p>I'm encountering an issue while attempting to execute spark-submit for my Scala application. I'm receiving an error indicating that the Application.scala file cannot be found, even though it exists within my project. I'd like to understand why this error is occurring and how I can rectify it.</p>\n<p>My directory structure and files are as follows:</p>\n<pre><code>git-scala-streaming\n|\n| src/streaming/Tools/Tools.scala\n| src/streaming/Application.scala\n| execute_spark_streaming.sh\n| pom.xml \n</code></pre>\n<p>Here's the content of the relevant files:</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;debug.spark-example&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-example&lt;/artifactId&gt;\n    &lt;version&gt;0.1-&lt;/version&gt;\n    &lt;inceptionYear&gt;2015&lt;/inceptionYear&gt;\n    &lt;properties&gt;\n        &lt;scala.majorVersion&gt;2.11&lt;/scala.majorVersion&gt;\n        &lt;scala.minorVersion&gt;.2&lt;/scala.minorVersion&gt;\n        &lt;spark.version&gt;1.4.1&lt;/spark.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;${scala.majorVersion}${scala.minorVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_${scala.majorVersion}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;buildcommands&gt;\n                        &lt;buildcommand&gt;ch.epfl.lamp.sdt.core.scalabuilder&lt;/buildcommand&gt;\n                    &lt;/buildcommands&gt;\n                    &lt;additionalProjectnatures&gt;\n                        &lt;projectnature&gt;ch.epfl.lamp.sdt.core.scalanature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                    &lt;classpathContainers&gt;\n                        &lt;classpathContainer&gt;org.eclipse.jdt.launching.JRE_CONTAINER&lt;/classpathContainer&gt;\n                        &lt;classpathContainer&gt;ch.epfl.lamp.sdt.launching.SCALA_CONTAINER&lt;/classpathContainer&gt;\n                    &lt;/classpathContainers&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;attached&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;tarLongFileMode&gt;gnu&lt;/tarLongFileMode&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;minimizeJar&gt;false&lt;/minimizeJar&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;!-- Include here the dependencies you want to be packed in your fat jar --&gt;\n                                    &lt;include&gt;*:*&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Application.scala:</p>\n<pre><code>package streaming\n\nimport org.apache.spark.sql.SparkSession\n\nobject Application {\n\n  def main(args: Array[String]): Unit = {\n    val app = new Application()\n    app.run()\n  }\n}\n\nclass Application {\n\n  lazy private val conf = ConfigFactory.load\n  lazy private val spark = getSession\n\n  private def run(): Unit = {\n    // Your application code can be called here\n    val versionInfo = this.versionInfo\n    versionInfo.foreach(println)\n  }\n\n}\n\n</code></pre>\n<p>execute_spark_streaming.sh:</p>\n<pre><code>#!/bin/bash\n\n\nspark-submit --master local[*] --class streaming.Application /home/myprofile/IdeaProjects/git-scala-streaming/target/spark-example-0.1--jar-with-dependencies.jar\n\n</code></pre>\n<p>I've tried checking the directory structure, executed mvn clean package to compile the project, and verified that the path to the JAR file in the execute_spark_streaming.sh script is correct. However, I continue to receive the error when running spark-submit.</p>\n<p>I'd appreciate any guidance on how to troubleshoot this issue.</p>\n<p>Error:</p>\n<pre><code>Error: Failed to load class streaming.Application.\n23/11/26 14:41:05 INFO ShutdownHookManager: Shutdown hook called\n23/11/26 14:41:05 INFO ShutdownHookManager: Deleting directory /tmp/spark-f5493a3b-f207-41bf-8b9b-737ab90ca80e\n\n</code></pre>\n"},{"tags":["java","asynchronous","nfc","smartcardio"],"owner":{"account_id":16425630,"reputation":55,"user_id":14330199,"display_name":"Phillip Ng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701020836,"creation_date":1701020836,"question_id":77552815,"body_markdown":"I am trying to accomplish something similar to the post here: https://stackoverflow.com/questions/18516946/reading-events-from-javax-smartcardio-to-detect-presence-of-nfc-tag, where an action is performed only when an NFC card is tapped to the reader.  Ideally, it would be something like:\r\n```\r\nnfcReader.onTap(()-&gt;{\r\n    //do something for that NFC card\r\n})\r\n\r\n``` \r\nBut the SmartCardIO library doesn&#39;t have anything like that. \r\n\r\nI&#39;ve tried using the `waitForCardPresent` and `waitForCardAbsent` method (https://docs.oracle.com/javase/8/docs/jre/api/security/smartcardio/spec/javax/smartcardio/CardTerminal.html), which blocks the code until a card is placed/removed, but unfortunately it stops the application while it&#39;s waiting. Additionally, I am leveraging a for loop, where unique data is written to each card, and the application is unresponsive until the loop finishes. The logic is as below:\r\n```\r\nfor (String customData : data){\r\n     mPresenter.iSmartCardManager.waitForCardPresent();\r\n    // Write customData to card\r\n    mPresenter.iSmartCardManager.waitForCardAbsent();\r\n}\r\n``` \r\n\r\nDuring the entire time the code above is executing, I am unable to interface with the application. I am using a JavaFX library (leveraging the TapLinx sample application https://www.mifare.net/developer/home/), and the application is unable to have buttons pressed or logs updated in this non-responsive state. This isn&#39;t ideal when I have multiple cards that need to be read/written, with logs that need to be updated for each card. \r\n\r\nIn order to overcome the blocking nature of the `waitForCardPresent` method, I&#39;ve tried multiple async options so that the application won&#39;t wait on the `waitForCardPresent` method, from this doc: https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2. \r\n\r\n```\r\nThread thread = Thread.ofVirtual().start(() -&gt; {\r\n\ttagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\r\n\t});\r\nthread.join();\r\n```\r\n```\r\ntry (ExecutorService myExecutor =\r\n\tExecutors.newVirtualThreadPerTaskExecutor()) {\r\n\tFuture&lt;?&gt; future = myExecutor.submit(() -&gt; {\r\n\ttagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\r\n\t});\r\n\tfuture.get();\r\n} catch (Exception e) {\r\n\tLOG.error(&quot;Error in thread&quot;, e);\r\n}\r\n```\r\n```\r\nThread t = new Thread(new Runnable() {\r\n\tpublic void run() {\r\n\t\ttagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\r\n\r\n\t}\r\n\t});\r\nt.start();\r\n```\r\n\r\nNone of these work, the application still blocks and is unresponsive. Is it possible to have an `onTap()` method that triggers when an NFC tag is placed on the reader? Or, to have a running for-loop that waits for the card to be placed/removed without causing the application to be unresponsive?\r\n\r\nThanks!","title":"Java SmartCardIO and JavaFX: NFC On-Tap Functionality or Non-Blocking Waiting for Card Present","body":"<p>I am trying to accomplish something similar to the post here: <a href=\"https://stackoverflow.com/questions/18516946/reading-events-from-javax-smartcardio-to-detect-presence-of-nfc-tag\">Reading events from javax.smartcardio to detect presence of NFC tag</a>, where an action is performed only when an NFC card is tapped to the reader.  Ideally, it would be something like:</p>\n<pre><code>nfcReader.onTap(()-&gt;{\n    //do something for that NFC card\n})\n\n</code></pre>\n<p>But the SmartCardIO library doesn't have anything like that.</p>\n<p>I've tried using the <code>waitForCardPresent</code> and <code>waitForCardAbsent</code> method (<a href=\"https://docs.oracle.com/javase/8/docs/jre/api/security/smartcardio/spec/javax/smartcardio/CardTerminal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/jre/api/security/smartcardio/spec/javax/smartcardio/CardTerminal.html</a>), which blocks the code until a card is placed/removed, but unfortunately it stops the application while it's waiting. Additionally, I am leveraging a for loop, where unique data is written to each card, and the application is unresponsive until the loop finishes. The logic is as below:</p>\n<pre><code>for (String customData : data){\n     mPresenter.iSmartCardManager.waitForCardPresent();\n    // Write customData to card\n    mPresenter.iSmartCardManager.waitForCardAbsent();\n}\n</code></pre>\n<p>During the entire time the code above is executing, I am unable to interface with the application. I am using a JavaFX library (leveraging the TapLinx sample application <a href=\"https://www.mifare.net/developer/home/\" rel=\"nofollow noreferrer\">https://www.mifare.net/developer/home/</a>), and the application is unable to have buttons pressed or logs updated in this non-responsive state. This isn't ideal when I have multiple cards that need to be read/written, with logs that need to be updated for each card.</p>\n<p>In order to overcome the blocking nature of the <code>waitForCardPresent</code> method, I've tried multiple async options so that the application won't wait on the <code>waitForCardPresent</code> method, from this doc: <a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2</a>.</p>\n<pre><code>Thread thread = Thread.ofVirtual().start(() -&gt; {\n    tagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\n    });\nthread.join();\n</code></pre>\n<pre><code>try (ExecutorService myExecutor =\n    Executors.newVirtualThreadPerTaskExecutor()) {\n    Future&lt;?&gt; future = myExecutor.submit(() -&gt; {\n    tagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\n    });\n    future.get();\n} catch (Exception e) {\n    LOG.error(&quot;Error in thread&quot;, e);\n}\n</code></pre>\n<pre><code>Thread t = new Thread(new Runnable() {\n    public void run() {\n        tagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\n\n    }\n    });\nt.start();\n</code></pre>\n<p>None of these work, the application still blocks and is unresponsive. Is it possible to have an <code>onTap()</code> method that triggers when an NFC tag is placed on the reader? Or, to have a running for-loop that waits for the card to be placed/removed without causing the application to be unresponsive?</p>\n<p>Thanks!</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":29851412,"reputation":9,"user_id":22877199,"display_name":"Dinanath Salunke"},"score":0,"creation_date":1701013886,"post_id":77551810,"comment_id":136719773,"body_markdown":"When i am trying to run the program it shows me an error on localhost server:-  java.lang.Error: Unresolved compilation problem: \n\tThe method getSubmittedFileName() is undefined for the type Part.","body":"When i am trying to run the program it shows me an error on localhost server:-  java.lang.Error: Unresolved compilation problem:  \tThe method getSubmittedFileName() is undefined for the type Part."},{"owner":{"account_id":29851412,"reputation":9,"user_id":22877199,"display_name":"Dinanath Salunke"},"score":0,"creation_date":1701019412,"post_id":77551810,"comment_id":136720371,"body_markdown":"well i am using servlet version :- 4.0 ....tomcat apache server:- 9.0.82  ......i am trying to build dynamic web project and want to fetch userinput data into server, for that i am using javax.servlet ..i tried jakarta.servlet as well, but it throwing me error of /path not found. so i went back to javax.servlet.","body":"well i am using servlet version :- 4.0 ....tomcat apache server:- 9.0.82  ......i am trying to build dynamic web project and want to fetch userinput data into server, for that i am using javax.servlet ..i tried jakarta.servlet as well, but it throwing me error of /path not found. so i went back to javax.servlet."},{"owner":{"account_id":29851412,"reputation":9,"user_id":22877199,"display_name":"Dinanath Salunke"},"score":0,"creation_date":1701020437,"post_id":77551810,"comment_id":136720513,"body_markdown":"hi, i&#39;ve added dependencies in my question, plz help me","body":"hi, i&#39;ve added dependencies in my question, plz help me"}],"owner":{"account_id":29851412,"reputation":9,"user_id":22877199,"display_name":"Dinanath Salunke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701020400,"creation_date":1701004323,"question_id":77551810,"body_markdown":"Here&#39;s the code snippet of .java file...I&#39;ve imported javax.servlet.http.part to use getsubmittedFileName method, but it&#39;s not working. \r\nEven i have servlet version 4.0..\r\ntomcat version 9.0.82..\r\nHow can i fix the problem?\r\n\r\n\r\n\r\n```\r\npackage com.admin.servlet;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.MultipartConfig;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.Part;\r\n\r\n\r\n@WebServlet(&quot;/add_books&quot;)\r\n@MultipartConfig\r\npublic class BooksAdd  extends HttpServlet{\r\n\r\n\t@Override\r\n\tprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tString bookName=req.getParameter(&quot;bname&quot;);\r\n\t\t\tString author=req.getParameter(&quot;author&quot;);\r\n\t\t\tDouble price=Double.parseDouble(req.getParameter(&quot;price&quot;));\r\n\t\t\tString categories=req.getParameter(&quot;btype&quot;);\r\n\t\t\tString status=req.getParameter(&quot;bstatus&quot;);\r\n\t\t\tPart part=req.getPart(&quot;bimg&quot;);\r\n\t\t\tString fileName=part.getSubmittedFileName();\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\nnote:- it&#39;s a maven project.......\r\nhere are the dependencies which are in the project....\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n```","title":"The method getSubmittedFileName is undefined for the type Part","body":"<p>Here's the code snippet of .java file...I've imported javax.servlet.http.part to use getsubmittedFileName method, but it's not working.\nEven i have servlet version 4.0..\ntomcat version 9.0.82..\nHow can i fix the problem?</p>\n<pre><code>package com.admin.servlet;\n\nimport java.io.IOException;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.MultipartConfig;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.Part;\n\n\n@WebServlet(&quot;/add_books&quot;)\n@MultipartConfig\npublic class BooksAdd  extends HttpServlet{\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        \n        try {\n            \n            String bookName=req.getParameter(&quot;bname&quot;);\n            String author=req.getParameter(&quot;author&quot;);\n            Double price=Double.parseDouble(req.getParameter(&quot;price&quot;));\n            String categories=req.getParameter(&quot;btype&quot;);\n            String status=req.getParameter(&quot;bstatus&quot;);\n            Part part=req.getPart(&quot;bimg&quot;);\n            String fileName=part.getSubmittedFileName();\n            \n        \n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    \n    \n\n}\n\n</code></pre>\n<p>note:- it's a maven project.......\nhere are the dependencies which are in the project....</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n                &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n        \n\n            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.22&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n</code></pre>\n"},{"tags":["java","css","vaadin","production","brotli"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1700138157,"post_id":77490856,"comment_id":136619228,"body_markdown":"I suppose the most straightforward way would be to set up a reverse proxy for that?","body":"I suppose the most straightforward way would be to set up a reverse proxy for that?"},{"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"score":0,"creation_date":1701019970,"post_id":77490856,"comment_id":136720450,"body_markdown":"Thank you good idea, but I like to keep for all kind of locations of my static images the same concept. I found in the meanwhile a solution.","body":"Thank you good idea, but I like to keep for all kind of locations of my static images the same concept. I found in the meanwhile a solution."}],"answers":[{"tags":[],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701020366,"creation_date":1701020366,"answer_id":77552786,"question_id":77490856,"body_markdown":"Vaadin offers to overwrite the vite config in `vite.config.ts`. There I could add a plugin to compress the additional files.\r\n\r\ne.g. `vite.config.ts` :\r\n\r\n```\r\nimport brotli from &quot;rollup-plugin-brotli&quot;;\r\nimport {readdir, readFile} from &#39;node:fs/promises&#39;;\r\nimport {resolve} from &#39;node:path&#39;;\r\n\r\n// helper function to read files recursively\r\nasync function * getFiles(dir) {\r\n    for (const dirent of await readdir(dir, {withFileTypes: true})) {\r\n        const res = resolve(dir, dirent.name);\r\n        if (dirent.isDirectory()) {\r\n            yield * getFiles(res);\r\n        } else {\r\n            yield res;\r\n        }\r\n    }\r\n}\r\n\r\nlet targetfiles : string[] = []; \r\n// read the additional css file directory recursively \r\n// and add it as absolute file paths to the target files list.\r\nfor await (const file of getFiles(myAdditionalCSSFilesPath)) {\r\n    if (file.endsWith(&quot;.css&quot;)) {\r\n       targetfiles.push(file);\r\n    }\r\n}\r\n\r\nconst customConfig: UserConfigFn = (env) =&gt; ({\r\n  // Here you can add custom Vite parameters\r\n  // https://vitejs.dev/config/\r\n\tplugins: [\r\n      brotli({\r\n\t\tadditional : targetfiles,\r\n\t  }),\r\n    ]\r\n});\r\n```","title":"How to enable brotli compression for static resources in Vaadin?","body":"<p>Vaadin offers to overwrite the vite config in <code>vite.config.ts</code>. There I could add a plugin to compress the additional files.</p>\n<p>e.g. <code>vite.config.ts</code> :</p>\n<pre><code>import brotli from &quot;rollup-plugin-brotli&quot;;\nimport {readdir, readFile} from 'node:fs/promises';\nimport {resolve} from 'node:path';\n\n// helper function to read files recursively\nasync function * getFiles(dir) {\n    for (const dirent of await readdir(dir, {withFileTypes: true})) {\n        const res = resolve(dir, dirent.name);\n        if (dirent.isDirectory()) {\n            yield * getFiles(res);\n        } else {\n            yield res;\n        }\n    }\n}\n\nlet targetfiles : string[] = []; \n// read the additional css file directory recursively \n// and add it as absolute file paths to the target files list.\nfor await (const file of getFiles(myAdditionalCSSFilesPath)) {\n    if (file.endsWith(&quot;.css&quot;)) {\n       targetfiles.push(file);\n    }\n}\n\nconst customConfig: UserConfigFn = (env) =&gt; ({\n  // Here you can add custom Vite parameters\n  // https://vitejs.dev/config/\n    plugins: [\n      brotli({\n        additional : targetfiles,\n      }),\n    ]\n});\n</code></pre>\n"}],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701020366,"creation_date":1700081674,"question_id":77490856,"body_markdown":"I like to put some of the CSS file under the static java resources folder `${project}/src/main/resources/META-INF/resources` in Vaadin so I can share it across the different themes and can be loaded and exchanged dynamically at runtime when needed. See also \r\nhttps://vaadin.com/docs/latest/styling/advanced/loading-styles-dynamically \r\n\r\nMy Problem: When I do now a production build I noticed that these css files in the resource folder get not compressed for brotli.Only those which are in the `${project}/frontend/themes` folder seems to be picked up. Any idea what can be done so these css files will also be prepared?\r\n","title":"How to enable brotli compression for static resources in Vaadin?","body":"<p>I like to put some of the CSS file under the static java resources folder <code>${project}/src/main/resources/META-INF/resources</code> in Vaadin so I can share it across the different themes and can be loaded and exchanged dynamically at runtime when needed. See also\n<a href=\"https://vaadin.com/docs/latest/styling/advanced/loading-styles-dynamically\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/styling/advanced/loading-styles-dynamically</a></p>\n<p>My Problem: When I do now a production build I noticed that these css files in the resource folder get not compressed for brotli.Only those which are in the <code>${project}/frontend/themes</code> folder seems to be picked up. Any idea what can be done so these css files will also be prepared?</p>\n"},{"tags":["java","apache-spark","hadoop","apache-spark-sql"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1700423578,"post_id":77512237,"comment_id":136649664,"body_markdown":"Provide evidence that file exists and that code has permissions to use it.","body":"Provide evidence that file exists and that code has permissions to use it."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1700424992,"post_id":77512237,"comment_id":136649805,"body_markdown":"@possum updated with evidence that file exists and stack trace contains the dataframe ```show()``` output that confirms the code has permission to use the input csv file","body":"@possum updated with evidence that file exists and stack trace contains the dataframe <code>show()</code> output that confirms the code has permission to use the input csv file"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701019880,"creation_date":1700984112,"answer_id":77550839,"question_id":77512237,"body_markdown":"Update your logic to this:\r\n\r\n    import org.apache.spark.api.java.JavaSparkContext;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.RowFactory;\r\n    import org.apache.spark.sql.SparkSession;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    public class InsertApp {\r\n    \r\n        public static void main(String[] args) {\r\n            InsertApp inApp = new InsertApp();\r\n            inApp.append();\r\n        }\r\n    \r\n        private void append() {\r\n            SparkSession spark = SparkSession.builder()\r\n                    .appName(&quot;InsertProcessor&quot;)\r\n                    .master(&quot;local[*]&quot;).getOrCreate();\r\n            Dataset&lt;Row&gt; df = spark.read()\r\n                    .option(&quot;inferSchema&quot;, true)\r\n                    .option(&quot;header&quot;, true)\r\n                    .csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\r\n    \r\n            df.createOrReplaceTempView(&quot;order_view&quot;);\r\n            try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\r\n                Dataset&lt;Row&gt; newDf = spark.createDataFrame(\r\n                        jsc.parallelize(\r\n                                Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\r\n                        ),\r\n                        df.schema()\r\n                );\r\n                newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\r\n                Dataset&lt;Row&gt; df1 = spark.sql(&quot;SELECT * from order_view&quot;);\r\n                System.out.println(&quot;Data From Order View:&quot;);\r\n                df1.show();\r\n                Dataset&lt;Row&gt; df2 = spark.sql(&quot;SELECT * from new_order_view&quot;);\r\n                System.out.println(&quot;Data From New Order View:&quot;);\r\n                df2.show();\r\n                Dataset&lt;Row&gt; mergedDf = df1.union(df2).distinct();\r\n                mergedDf.createOrReplaceTempView(&quot;order_view&quot;);\r\n                Dataset&lt;Row&gt; df3 = spark.sql(&quot;SELECT * from order_view&quot;);\r\n                System.out.println(&quot;Data From Order View After Merging:&quot;);\r\n                df3.show();\r\n                df3.write().mode(SaveMode.Overwrite)\r\n                    .option(&quot;inferSchema&quot;, true)\r\n                    .option(&quot;header&quot;, true).csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput :\r\n\r\n\r\n    Data From Order View:\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |   firstName|lastName|state|quantity|revenue| timestamp|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |Jean Georges|  Perrin|   NC|       1|    300|1551903533|\r\n    |Jean Georges|  Perrin|   NC|       2|    120|1551903567|\r\n    |Jean Georges|  Perrin|   CA|       4|     75|1551903599|\r\n    |      Holden|   Karau|   CA|       6|     37|1551904299|\r\n    |       Ginni| Rometty|   NY|       7|     91|1551916792|\r\n    |      Holden|   Karau|   CA|       4|    153|1552876129|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    \r\n    Data From New Order View:\r\n    +---------+--------+-----+--------+-------+----------+\r\n    |firstName|lastName|state|quantity|revenue| timestamp|\r\n    +---------+--------+-----+--------+-------+----------+\r\n    |        V|       S|   TN|      10|     20|1551904299|\r\n    +---------+--------+-----+--------+-------+----------+\r\n    \r\n    Data From Order View After Merging:\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |   firstName|lastName|state|quantity|revenue| timestamp|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |Jean Georges|  Perrin|   CA|       4|     75|1551903599|\r\n    |       Ginni| Rometty|   NY|       7|     91|1551916792|\r\n    |Jean Georges|  Perrin|   NC|       1|    300|1551903533|\r\n    |      Holden|   Karau|   CA|       4|    153|1552876129|\r\n    |Jean Georges|  Perrin|   NC|       2|    120|1551903567|\r\n    |      Holden|   Karau|   CA|       6|     37|1551904299|\r\n    |           V|       S|   TN|      10|     20|1551904299|\r\n    +------------+--------+-----+--------+-------+----------+\r\n\r\nFew points to mention:\r\n\r\n- Use `csv` method to load `.csv` files instead of `load` method.\r\n- I have used `union` method to combine both rows from two different table views and taken the distinct of it by using `distinct` method and then replaced the existing data of **order_view** by newly created merged data to get the job done.\r\n\r\nHadoop UI Output (containing new merged data):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2] \r\n\r\nI guess this will be an easier way to approach. See if this helps. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7sY7Q.png\r\n  [2]: https://i.stack.imgur.com/ilYZW.png","title":"org.apache.hadoop.fs.ParentNotDirectoryException - is not a directory","body":"<p>Update your logic to this:</p>\n<pre><code>import org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\n\nimport java.util.Collections;\n\npublic class InsertApp {\n\n    public static void main(String[] args) {\n        InsertApp inApp = new InsertApp();\n        inApp.append();\n    }\n\n    private void append() {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;InsertProcessor&quot;)\n                .master(&quot;local[*]&quot;).getOrCreate();\n        Dataset&lt;Row&gt; df = spark.read()\n                .option(&quot;inferSchema&quot;, true)\n                .option(&quot;header&quot;, true)\n                .csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\n\n        df.createOrReplaceTempView(&quot;order_view&quot;);\n        try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\n            Dataset&lt;Row&gt; newDf = spark.createDataFrame(\n                    jsc.parallelize(\n                            Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\n                    ),\n                    df.schema()\n            );\n            newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\n            Dataset&lt;Row&gt; df1 = spark.sql(&quot;SELECT * from order_view&quot;);\n            System.out.println(&quot;Data From Order View:&quot;);\n            df1.show();\n            Dataset&lt;Row&gt; df2 = spark.sql(&quot;SELECT * from new_order_view&quot;);\n            System.out.println(&quot;Data From New Order View:&quot;);\n            df2.show();\n            Dataset&lt;Row&gt; mergedDf = df1.union(df2).distinct();\n            mergedDf.createOrReplaceTempView(&quot;order_view&quot;);\n            Dataset&lt;Row&gt; df3 = spark.sql(&quot;SELECT * from order_view&quot;);\n            System.out.println(&quot;Data From Order View After Merging:&quot;);\n            df3.show();\n            df3.write().mode(SaveMode.Overwrite)\n                .option(&quot;inferSchema&quot;, true)\n                .option(&quot;header&quot;, true).csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>Data From Order View:\n+------------+--------+-----+--------+-------+----------+\n|   firstName|lastName|state|quantity|revenue| timestamp|\n+------------+--------+-----+--------+-------+----------+\n|Jean Georges|  Perrin|   NC|       1|    300|1551903533|\n|Jean Georges|  Perrin|   NC|       2|    120|1551903567|\n|Jean Georges|  Perrin|   CA|       4|     75|1551903599|\n|      Holden|   Karau|   CA|       6|     37|1551904299|\n|       Ginni| Rometty|   NY|       7|     91|1551916792|\n|      Holden|   Karau|   CA|       4|    153|1552876129|\n+------------+--------+-----+--------+-------+----------+\n\nData From New Order View:\n+---------+--------+-----+--------+-------+----------+\n|firstName|lastName|state|quantity|revenue| timestamp|\n+---------+--------+-----+--------+-------+----------+\n|        V|       S|   TN|      10|     20|1551904299|\n+---------+--------+-----+--------+-------+----------+\n\nData From Order View After Merging:\n+------------+--------+-----+--------+-------+----------+\n|   firstName|lastName|state|quantity|revenue| timestamp|\n+------------+--------+-----+--------+-------+----------+\n|Jean Georges|  Perrin|   CA|       4|     75|1551903599|\n|       Ginni| Rometty|   NY|       7|     91|1551916792|\n|Jean Georges|  Perrin|   NC|       1|    300|1551903533|\n|      Holden|   Karau|   CA|       4|    153|1552876129|\n|Jean Georges|  Perrin|   NC|       2|    120|1551903567|\n|      Holden|   Karau|   CA|       6|     37|1551904299|\n|           V|       S|   TN|      10|     20|1551904299|\n+------------+--------+-----+--------+-------+----------+\n</code></pre>\n<p>Few points to mention:</p>\n<ul>\n<li>Use <code>csv</code> method to load <code>.csv</code> files instead of <code>load</code> method.</li>\n<li>I have used <code>union</code> method to combine both rows from two different table views and taken the distinct of it by using <code>distinct</code> method and then replaced the existing data of <strong>order_view</strong> by newly created merged data to get the job done.</li>\n</ul>\n<p>Hadoop UI Output (containing new merged data):</p>\n<p><a href=\"https://i.stack.imgur.com/7sY7Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7sY7Q.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ilYZW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilYZW.png\" alt=\"enter image description here\" /></a></p>\n<p>I guess this will be an easier way to approach. See if this helps.</p>\n"}],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77550839,"answer_count":1,"score":0,"last_activity_date":1701019880,"creation_date":1700423237,"question_id":77512237,"body_markdown":"I am trying to append new records into existing csv file using Spark SQL. \r\n\r\nGetting ```Exception in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)``` as the input is a File and not a directory.\r\n\r\nSpark (Java) code and exception stack trace mentioned below.\r\n\r\nHow to resolve this?\r\n\r\n**Environment Info - Mac OS**\r\n\r\n    MyiCloud@MyMC someDir % uname -a\r\n    Darwin MyMC.local 21.6.0 Darwin Kernel Version 21.6.0: Fri Sep 15 16:17:23 PDT 2023; root:xnu-8020.240.18.703.5~1/RELEASE_X86_64 x86_64\r\n\r\n**Hadoop Environment Info**\r\n\r\n    MyiCloud@MyMC someDir % hadoop version\r\n\r\n    Hadoop 3.3.6\r\n    Source code repository https://github.com/apache/hadoop.git -r 1be78238728da9266a4f88195058f08fd012bf9c\r\n    Compiled by ubuntu on 2023-06-18T08:22Z\r\n    Compiled on platform linux-x86_64\r\n    Compiled with protoc 3.7.1\r\n    From source with checksum 5652179ad55f76cb287d9c633bb53bbd\r\n    This command was run using /usr/local/Cellar/hadoop/3.3.6/libexec/share/hadoop/common/hadoop-common-3.3.6.jar\r\n\r\n**File Permission - HDFS**\r\n\r\n    MyiCloud@MyMC sbin % hdfs dfs -ls /tmp/spark/input/csv/\r\n    2023-11-20 01:35:51,752 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    Found 1 items\r\n    -rwxr-xr-x   1 MyiCloud supergroup        268 2023-11-20 00:58 /tmp/spark/input/csv/orders.csv\r\n\r\n**Input file - orders.csv**\r\n\r\n    firstName,lastName,state,quantity,revenue,timestamp\r\n    Jean Georges,Perrin,NC,1,300,1551903533\r\n    Jean Georges,Perrin,NC,2,120,1551903567\r\n    Jean Georges,Perrin,CA,4,75,1551903599\r\n    Holden,Karau,CA,6,37,1551904299\r\n    Ginni,Rometty,NY,7,91,1551916792\r\n    Holden,Karau,CA,4,153,1552876129\r\n\r\n**Apache Spark with Java Code**\r\n\r\n    package org.example.ch11;\r\n    \r\n    import org.apache.spark.api.java.JavaSparkContext;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.RowFactory;\r\n    import org.apache.spark.sql.SparkSession;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    public class InsertApp {\r\n    \r\n        public static void main(String[] args) {\r\n            InsertApp inApp = new InsertApp();\r\n            inApp.append();\r\n        }\r\n    \r\n        private void append() {\r\n            SparkSession spark = SparkSession.builder()\r\n                    .appName(&quot;InsertProcessor&quot;)\r\n                    .master(&quot;local[*]&quot;).getOrCreate();\r\n            Dataset&lt;Row&gt; df = spark.read().format(&quot;csv&quot;)\r\n                    .option(&quot;inferSchema&quot;, true)\r\n                    .option(&quot;header&quot;, true)\r\n                    .load(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\r\n            System.out.println(&quot;Printing csv content..&quot;);\r\n            df.show();\r\n    \r\n            df.createOrReplaceTempView(&quot;orders_view&quot;);\r\n            try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\r\n                Dataset&lt;Row&gt; newDf = spark.createDataFrame(\r\n                        jsc.parallelize(\r\n                                Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\r\n                        ),\r\n                        df.schema()\r\n                );\r\n                newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\r\n    \r\n                System.out.println(&quot;Inserting data into orders_view view from new_order_view view...&quot;);\r\n                Dataset&lt;Row&gt; mergedDf = spark.sql(&quot;INSERT INTO orders_view SELECT * FROM new_order_view&quot;);\r\n                mergedDf.show();\r\n                System.out.println(&quot;Completed...&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Exception - Stack Trace**\r\n\r\n    Printing csv content..\r\n    23/11/20 01:38:10 INFO FileSourceStrategy: Pushed Filters: \r\n    23/11/20 01:38:10 INFO FileSourceStrategy: Post-Scan Filters: \r\n    23/11/20 01:38:10 INFO FileSourceStrategy: Output Data Schema: struct&lt;firstName: string, lastName: string, state: string, quantity: int, revenue: int ... 1 more field&gt;\r\n    23/11/20 01:38:10 INFO CodeGenerator: Code generated in 22.283375 ms\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4 stored as values in memory (estimated size 302.5 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4_piece0 stored as bytes in memory (estimated size 27.3 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_4_piece0 in memory on 192.168.0.6:49627 (size: 27.3 KiB, free: 2004.5 MiB)\r\n    23/11/20 01:38:10 INFO SparkContext: Created broadcast 4 from show at InsertApp.java:27\r\n    23/11/20 01:38:10 INFO FileSourceScanExec: Planning scan with bin packing, max size: 4194304 bytes, open cost is considered as scanning 4194304 bytes.\r\n    23/11/20 01:38:10 INFO SparkContext: Starting job: show at InsertApp.java:27\r\n    23/11/20 01:38:10 INFO DAGScheduler: Got job 2 (show at InsertApp.java:27) with 1 output partitions\r\n    23/11/20 01:38:10 INFO DAGScheduler: Final stage: ResultStage 2 (show at InsertApp.java:27)\r\n    23/11/20 01:38:10 INFO DAGScheduler: Parents of final stage: List()\r\n    23/11/20 01:38:10 INFO DAGScheduler: Missing parents: List()\r\n    23/11/20 01:38:10 INFO DAGScheduler: Submitting ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27), which has no missing parents\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5 stored as values in memory (estimated size 14.4 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5_piece0 stored as bytes in memory (estimated size 6.8 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_5_piece0 in memory on 192.168.0.6:49627 (size: 6.8 KiB, free: 2004.5 MiB)\r\n    23/11/20 01:38:10 INFO SparkContext: Created broadcast 5 from broadcast at DAGScheduler.scala:1388\r\n    23/11/20 01:38:10 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27) (first 15 tasks are for partitions Vector(0))\r\n    23/11/20 01:38:10 INFO TaskSchedulerImpl: Adding task set 2.0 with 1 tasks resource profile 0\r\n    23/11/20 01:38:10 INFO TaskSetManager: Starting task 0.0 in stage 2.0 (TID 2) (192.168.0.6, executor driver, partition 0, NODE_LOCAL, 4877 bytes) taskResourceAssignments Map()\r\n    23/11/20 01:38:10 INFO Executor: Running task 0.0 in stage 2.0 (TID 2)\r\n    23/11/20 01:38:10 INFO BlockManagerInfo: Removed broadcast_3_piece0 on 192.168.0.6:49627 in memory (size: 7.7 KiB, free: 2004.5 MiB)\r\n    23/11/20 01:38:10 INFO FileScanRDD: Reading File path: hdfs://localhost:8020/tmp/spark/input/csv/orders.csv, range: 0-268, partition values: [empty row]\r\n    23/11/20 01:38:10 INFO CodeGenerator: Code generated in 19.008744 ms\r\n    23/11/20 01:38:10 INFO Executor: Finished task 0.0 in stage 2.0 (TID 2). 1789 bytes result sent to driver\r\n    23/11/20 01:38:10 INFO TaskSetManager: Finished task 0.0 in stage 2.0 (TID 2) in 115 ms on 192.168.0.6 (executor driver) (1/1)\r\n    23/11/20 01:38:10 INFO TaskSchedulerImpl: Removed TaskSet 2.0, whose tasks have all completed, from pool \r\n    23/11/20 01:38:10 INFO DAGScheduler: ResultStage 2 (show at InsertApp.java:27) finished in 0.141 s\r\n    23/11/20 01:38:10 INFO DAGScheduler: Job 2 is finished. Cancelling potential speculative or zombie tasks for this job\r\n    23/11/20 01:38:10 INFO TaskSchedulerImpl: Killing all running tasks in stage 2: Stage finished\r\n    23/11/20 01:38:10 INFO DAGScheduler: Job 2 finished: show at InsertApp.java:27, took 0.150319 s\r\n    23/11/20 01:38:10 INFO CodeGenerator: Code generated in 40.368014 ms\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |   firstName|lastName|state|quantity|revenue| timestamp|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |Jean Georges|  Perrin|   NC|       1|    300|1551903533|\r\n    |Jean Georges|  Perrin|   NC|       2|    120|1551903567|\r\n    |Jean Georges|  Perrin|   CA|       4|     75|1551903599|\r\n    |      Holden|   Karau|   CA|       6|     37|1551904299|\r\n    |       Ginni| Rometty|   NY|       7|     91|1551916792|\r\n    |      Holden|   Karau|   CA|       4|    153|1552876129|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    \r\n    Inserting data into orders_view view from new_order_view view...\r\n    23/11/20 01:38:10 INFO FileOutputCommitter: File Output Committer Algorithm version is 1\r\n    23/11/20 01:38:10 INFO FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\r\n    23/11/20 01:38:10 INFO SQLHadoopMapReduceCommitProtocol: Using output committer class org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\r\n    23/11/20 01:38:10 INFO SparkUI: Stopped Spark web UI at http://192.168.0.6:4040\r\n    23/11/20 01:38:10 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n    23/11/20 01:38:10 INFO MemoryStore: MemoryStore cleared\r\n    23/11/20 01:38:10 INFO BlockManager: BlockManager stopped\r\n    23/11/20 01:38:10 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n    23/11/20 01:38:10 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n    23/11/20 01:38:10 INFO SparkContext: Successfully stopped SparkContext\r\n    Exception in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\r\n    \tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\r\n    \tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\r\n    \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\r\n    \r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:121)\r\n    \tat org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:88)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2426)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.mkdirs(DFSClient.java:2400)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1324)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1321)\r\n    \tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem.mkdirsInternal(DistributedFileSystem.java:1338)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem.mkdirs(DistributedFileSystem.java:1313)\r\n    \tat org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:2275)\r\n    \tat org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter.setupJob(FileOutputCommitter.java:354)\r\n    \tat org.apache.spark.internal.io.HadoopMapReduceCommitProtocol.setupJob(HadoopMapReduceCommitProtocol.scala:178)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:173)\r\n    \tat org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\r\n    \tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\r\n    \tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\r\n    \tat org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:120)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:228)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n    \tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\r\n    \tat org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:228)\r\n    \tat org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:99)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:96)\r\n    \tat org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:618)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.SparkSession.sql(SparkSession.scala:613)\r\n    \tat org.example.ch11.InsertApp.append(InsertApp.java:40)\r\n    \tat org.example.ch11.InsertApp.main(InsertApp.java:15)\r\n    Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.fs.ParentNotDirectoryException): /tmp/spark/input/csv/orders.csv (is not a directory)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\r\n    \tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\r\n    \tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\r\n    \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\r\n    \r\n    \tat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)\r\n    \tat org.apache.hadoop.ipc.Client.call(Client.java:1457)\r\n    \tat org.apache.hadoop.ipc.Client.call(Client.java:1367)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\r\n    \tat com.sun.proxy.$Proxy18.mkdirs(Unknown Source)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.mkdirs(ClientNamenodeProtocolTranslatorPB.java:656)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\r\n    \tat com.sun.proxy.$Proxy19.mkdirs(Unknown Source)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2424)\r\n    \t... 31 more\r\n    23/11/20 01:38:11 INFO ShutdownHookManager: Shutdown hook called\r\n    23/11/20 01:38:11 INFO ShutdownHookManager: Deleting directory /private/var/folders/6w/v2bcqfkd6kl5ylt9k5_q0lb80000gn/T/spark-cf226489-3921-439a-9653-b33159d3a230\r\n    \r\n    Process finished with exit code 1","title":"org.apache.hadoop.fs.ParentNotDirectoryException - is not a directory","body":"<p>I am trying to append new records into existing csv file using Spark SQL.</p>\n<p>Getting <code>Exception in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)</code> as the input is a File and not a directory.</p>\n<p>Spark (Java) code and exception stack trace mentioned below.</p>\n<p>How to resolve this?</p>\n<p><strong>Environment Info - Mac OS</strong></p>\n<pre><code>MyiCloud@MyMC someDir % uname -a\nDarwin MyMC.local 21.6.0 Darwin Kernel Version 21.6.0: Fri Sep 15 16:17:23 PDT 2023; root:xnu-8020.240.18.703.5~1/RELEASE_X86_64 x86_64\n</code></pre>\n<p><strong>Hadoop Environment Info</strong></p>\n<pre><code>MyiCloud@MyMC someDir % hadoop version\n\nHadoop 3.3.6\nSource code repository https://github.com/apache/hadoop.git -r 1be78238728da9266a4f88195058f08fd012bf9c\nCompiled by ubuntu on 2023-06-18T08:22Z\nCompiled on platform linux-x86_64\nCompiled with protoc 3.7.1\nFrom source with checksum 5652179ad55f76cb287d9c633bb53bbd\nThis command was run using /usr/local/Cellar/hadoop/3.3.6/libexec/share/hadoop/common/hadoop-common-3.3.6.jar\n</code></pre>\n<p><strong>File Permission - HDFS</strong></p>\n<pre><code>MyiCloud@MyMC sbin % hdfs dfs -ls /tmp/spark/input/csv/\n2023-11-20 01:35:51,752 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nFound 1 items\n-rwxr-xr-x   1 MyiCloud supergroup        268 2023-11-20 00:58 /tmp/spark/input/csv/orders.csv\n</code></pre>\n<p><strong>Input file - orders.csv</strong></p>\n<pre><code>firstName,lastName,state,quantity,revenue,timestamp\nJean Georges,Perrin,NC,1,300,1551903533\nJean Georges,Perrin,NC,2,120,1551903567\nJean Georges,Perrin,CA,4,75,1551903599\nHolden,Karau,CA,6,37,1551904299\nGinni,Rometty,NY,7,91,1551916792\nHolden,Karau,CA,4,153,1552876129\n</code></pre>\n<p><strong>Apache Spark with Java Code</strong></p>\n<pre><code>package org.example.ch11;\n\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\n\nimport java.util.Collections;\n\npublic class InsertApp {\n\n    public static void main(String[] args) {\n        InsertApp inApp = new InsertApp();\n        inApp.append();\n    }\n\n    private void append() {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;InsertProcessor&quot;)\n                .master(&quot;local[*]&quot;).getOrCreate();\n        Dataset&lt;Row&gt; df = spark.read().format(&quot;csv&quot;)\n                .option(&quot;inferSchema&quot;, true)\n                .option(&quot;header&quot;, true)\n                .load(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\n        System.out.println(&quot;Printing csv content..&quot;);\n        df.show();\n\n        df.createOrReplaceTempView(&quot;orders_view&quot;);\n        try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\n            Dataset&lt;Row&gt; newDf = spark.createDataFrame(\n                    jsc.parallelize(\n                            Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\n                    ),\n                    df.schema()\n            );\n            newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\n\n            System.out.println(&quot;Inserting data into orders_view view from new_order_view view...&quot;);\n            Dataset&lt;Row&gt; mergedDf = spark.sql(&quot;INSERT INTO orders_view SELECT * FROM new_order_view&quot;);\n            mergedDf.show();\n            System.out.println(&quot;Completed...&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Exception - Stack Trace</strong></p>\n<pre><code>Printing csv content..\n23/11/20 01:38:10 INFO FileSourceStrategy: Pushed Filters: \n23/11/20 01:38:10 INFO FileSourceStrategy: Post-Scan Filters: \n23/11/20 01:38:10 INFO FileSourceStrategy: Output Data Schema: struct&lt;firstName: string, lastName: string, state: string, quantity: int, revenue: int ... 1 more field&gt;\n23/11/20 01:38:10 INFO CodeGenerator: Code generated in 22.283375 ms\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4 stored as values in memory (estimated size 302.5 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4_piece0 stored as bytes in memory (estimated size 27.3 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_4_piece0 in memory on 192.168.0.6:49627 (size: 27.3 KiB, free: 2004.5 MiB)\n23/11/20 01:38:10 INFO SparkContext: Created broadcast 4 from show at InsertApp.java:27\n23/11/20 01:38:10 INFO FileSourceScanExec: Planning scan with bin packing, max size: 4194304 bytes, open cost is considered as scanning 4194304 bytes.\n23/11/20 01:38:10 INFO SparkContext: Starting job: show at InsertApp.java:27\n23/11/20 01:38:10 INFO DAGScheduler: Got job 2 (show at InsertApp.java:27) with 1 output partitions\n23/11/20 01:38:10 INFO DAGScheduler: Final stage: ResultStage 2 (show at InsertApp.java:27)\n23/11/20 01:38:10 INFO DAGScheduler: Parents of final stage: List()\n23/11/20 01:38:10 INFO DAGScheduler: Missing parents: List()\n23/11/20 01:38:10 INFO DAGScheduler: Submitting ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27), which has no missing parents\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5 stored as values in memory (estimated size 14.4 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5_piece0 stored as bytes in memory (estimated size 6.8 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_5_piece0 in memory on 192.168.0.6:49627 (size: 6.8 KiB, free: 2004.5 MiB)\n23/11/20 01:38:10 INFO SparkContext: Created broadcast 5 from broadcast at DAGScheduler.scala:1388\n23/11/20 01:38:10 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27) (first 15 tasks are for partitions Vector(0))\n23/11/20 01:38:10 INFO TaskSchedulerImpl: Adding task set 2.0 with 1 tasks resource profile 0\n23/11/20 01:38:10 INFO TaskSetManager: Starting task 0.0 in stage 2.0 (TID 2) (192.168.0.6, executor driver, partition 0, NODE_LOCAL, 4877 bytes) taskResourceAssignments Map()\n23/11/20 01:38:10 INFO Executor: Running task 0.0 in stage 2.0 (TID 2)\n23/11/20 01:38:10 INFO BlockManagerInfo: Removed broadcast_3_piece0 on 192.168.0.6:49627 in memory (size: 7.7 KiB, free: 2004.5 MiB)\n23/11/20 01:38:10 INFO FileScanRDD: Reading File path: hdfs://localhost:8020/tmp/spark/input/csv/orders.csv, range: 0-268, partition values: [empty row]\n23/11/20 01:38:10 INFO CodeGenerator: Code generated in 19.008744 ms\n23/11/20 01:38:10 INFO Executor: Finished task 0.0 in stage 2.0 (TID 2). 1789 bytes result sent to driver\n23/11/20 01:38:10 INFO TaskSetManager: Finished task 0.0 in stage 2.0 (TID 2) in 115 ms on 192.168.0.6 (executor driver) (1/1)\n23/11/20 01:38:10 INFO TaskSchedulerImpl: Removed TaskSet 2.0, whose tasks have all completed, from pool \n23/11/20 01:38:10 INFO DAGScheduler: ResultStage 2 (show at InsertApp.java:27) finished in 0.141 s\n23/11/20 01:38:10 INFO DAGScheduler: Job 2 is finished. Cancelling potential speculative or zombie tasks for this job\n23/11/20 01:38:10 INFO TaskSchedulerImpl: Killing all running tasks in stage 2: Stage finished\n23/11/20 01:38:10 INFO DAGScheduler: Job 2 finished: show at InsertApp.java:27, took 0.150319 s\n23/11/20 01:38:10 INFO CodeGenerator: Code generated in 40.368014 ms\n+------------+--------+-----+--------+-------+----------+\n|   firstName|lastName|state|quantity|revenue| timestamp|\n+------------+--------+-----+--------+-------+----------+\n|Jean Georges|  Perrin|   NC|       1|    300|1551903533|\n|Jean Georges|  Perrin|   NC|       2|    120|1551903567|\n|Jean Georges|  Perrin|   CA|       4|     75|1551903599|\n|      Holden|   Karau|   CA|       6|     37|1551904299|\n|       Ginni| Rometty|   NY|       7|     91|1551916792|\n|      Holden|   Karau|   CA|       4|    153|1552876129|\n+------------+--------+-----+--------+-------+----------+\n\nInserting data into orders_view view from new_order_view view...\n23/11/20 01:38:10 INFO FileOutputCommitter: File Output Committer Algorithm version is 1\n23/11/20 01:38:10 INFO FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\n23/11/20 01:38:10 INFO SQLHadoopMapReduceCommitProtocol: Using output committer class org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\n23/11/20 01:38:10 INFO SparkUI: Stopped Spark web UI at http://192.168.0.6:4040\n23/11/20 01:38:10 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/11/20 01:38:10 INFO MemoryStore: MemoryStore cleared\n23/11/20 01:38:10 INFO BlockManager: BlockManager stopped\n23/11/20 01:38:10 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/11/20 01:38:10 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/11/20 01:38:10 INFO SparkContext: Successfully stopped SparkContext\nException in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\n    at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\n    at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\n    at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\n    at org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:121)\n    at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:88)\n    at org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2426)\n    at org.apache.hadoop.hdfs.DFSClient.mkdirs(DFSClient.java:2400)\n    at org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1324)\n    at org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1321)\n    at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.mkdirsInternal(DistributedFileSystem.java:1338)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.mkdirs(DistributedFileSystem.java:1313)\n    at org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:2275)\n    at org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter.setupJob(FileOutputCommitter.java:354)\n    at org.apache.spark.internal.io.HadoopMapReduceCommitProtocol.setupJob(HadoopMapReduceCommitProtocol.scala:178)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:173)\n    at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:120)\n    at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:228)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\n    at org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:228)\n    at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:99)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:96)\n    at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:618)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:613)\n    at org.example.ch11.InsertApp.append(InsertApp.java:40)\n    at org.example.ch11.InsertApp.main(InsertApp.java:15)\nCaused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.fs.ParentNotDirectoryException): /tmp/spark/input/csv/orders.csv (is not a directory)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\n    at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\n    at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\n    at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\n    at org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\n\n    at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)\n    at org.apache.hadoop.ipc.Client.call(Client.java:1457)\n    at org.apache.hadoop.ipc.Client.call(Client.java:1367)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\n    at com.sun.proxy.$Proxy18.mkdirs(Unknown Source)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.mkdirs(ClientNamenodeProtocolTranslatorPB.java:656)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\n    at com.sun.proxy.$Proxy19.mkdirs(Unknown Source)\n    at org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2424)\n    ... 31 more\n23/11/20 01:38:11 INFO ShutdownHookManager: Shutdown hook called\n23/11/20 01:38:11 INFO ShutdownHookManager: Deleting directory /private/var/folders/6w/v2bcqfkd6kl5ylt9k5_q0lb80000gn/T/spark-cf226489-3921-439a-9653-b33159d3a230\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","javascript","oop","uml"],"answers":[{"tags":[],"owner":{"account_id":3325791,"reputation":5521,"user_id":2795909,"accept_rate":60,"display_name":"Gerd Wagner"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1701019112,"creation_date":1393279999,"answer_id":22000255,"question_id":22000241,"body_markdown":"JavaScript objects are different from classical OO/UML (C++/Java/C# etc.) objects. In particular, they ***need not instantiate a class***. And they can have their own (instance-level) methods in the form of method slots, so they do not only have (ordinary) ***property slots***, but also ***method slots***. In addition they may also have ***key-value slots***. So, they may have three different kinds of slots, while classical objects (called &quot;instance specifications&quot; in UML) only have property slots.\r\n\r\nJavaScript objects can be used in many different ways for different purposes. Here are five different use cases for, or possible meanings of, JavaScript objects:\r\n\r\n 1. A &lt;em&gt;&lt;strong&gt;record&lt;/strong&gt;&lt;/em&gt; is a set of property slots like, for instance,\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        var myRecord = { firstName:&quot;Tom&quot;, lastName:&quot;Smith&quot;, age:26}\r\n\r\n 2. An &lt;em&gt;&lt;strong&gt;associative array&lt;/strong&gt;&lt;/em&gt; (or &#39;hash map&#39;) is a set of key-value slots. It supports look-ups of &lt;em&gt;values&lt;/em&gt; based on &lt;em&gt;keys&lt;/em&gt; like, for instance,\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        var numeral2number = { &quot;one&quot;:&quot;1&quot;, &quot;two&quot;:&quot;2&quot;, &quot;three&quot;:&quot;3&quot;}\r\nwhich associates the value &quot;1&quot; with the key &quot;one&quot;, &quot;2&quot; with &quot;two&quot;, etc. A key need not be a valid JavaScript identifier, but can be any kind of string (e.g. it may contain blank spaces).\r\n\r\n 3. An &lt;em&gt;&lt;strong&gt;untyped object&lt;/strong&gt;&lt;/em&gt; does not instantiate a class. It may have property slots and method slots like, for instance,\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        var person1 = {  \r\n          lastName: &quot;Smith&quot;,  \r\n          firstName: &quot;Tom&quot;,\r\n          getInitials: function () {\r\n            return this.firstName.charAt(0) + this.lastName.charAt(0); \r\n          }  \r\n        };\r\n\r\n 4. A &lt;em&gt;&lt;strong&gt;namespace&lt;/strong&gt;&lt;/em&gt; may be defined in the form of an untyped object referenced by a global object variable, the name of which represents a namespace prefix. For instance, the following object variable provides the main namespace of an application based on the Model-View-Controller (MVC) architecture paradigm where we have three subnamespaces corresponding to the three parts of an MVC application:\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        var myApp = { model:{}, view:{}, ctrl:{} };\r\n\r\n 5. A &lt;em&gt;&lt;strong&gt;typed object&lt;/strong&gt;&lt;/em&gt; &lt;code&gt;o&lt;/code&gt; that instantiates a class defined by a JavaScript constructor function &lt;code&gt;C&lt;/code&gt; is created with the expression  \r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        var o = new C(...)\r\nThe type/class of such a typed object can be retrieved with the introspective expression\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        o.constructor.name  // returns &quot;C&quot;\r\n\r\nSee my [JavaScript Summary](http://web-engineering.info/SummariesCheatsheetsPosters) for more on JavaScript objects.","title":"What&#39;s the difference between a JavaScript object and an OO/UML/Java object?","body":"<p>JavaScript objects are different from classical OO/UML (C++/Java/C# etc.) objects. In particular, they <em><strong>need not instantiate a class</strong></em>. And they can have their own (instance-level) methods in the form of method slots, so they do not only have (ordinary) <em><strong>property slots</strong></em>, but also <em><strong>method slots</strong></em>. In addition they may also have <em><strong>key-value slots</strong></em>. So, they may have three different kinds of slots, while classical objects (called &quot;instance specifications&quot; in UML) only have property slots.</p>\n<p>JavaScript objects can be used in many different ways for different purposes. Here are five different use cases for, or possible meanings of, JavaScript objects:</p>\n<ol>\n<li>A <em><strong>record</strong></em> is a set of property slots like, for instance,</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    var myRecord = { firstName:&quot;Tom&quot;, lastName:&quot;Smith&quot;, age:26}\n</code></pre>\n<ol start=\"2\">\n<li>An <em><strong>associative array</strong></em> (or 'hash map') is a set of key-value slots. It supports look-ups of <em>values</em> based on <em>keys</em> like, for instance,</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    var numeral2number = { &quot;one&quot;:&quot;1&quot;, &quot;two&quot;:&quot;2&quot;, &quot;three&quot;:&quot;3&quot;}\n</code></pre>\n<p>which associates the value &quot;1&quot; with the key &quot;one&quot;, &quot;2&quot; with &quot;two&quot;, etc. A key need not be a valid JavaScript identifier, but can be any kind of string (e.g. it may contain blank spaces).</p>\n<ol start=\"3\">\n<li>An <em><strong>untyped object</strong></em> does not instantiate a class. It may have property slots and method slots like, for instance,</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    var person1 = {  \n      lastName: &quot;Smith&quot;,  \n      firstName: &quot;Tom&quot;,\n      getInitials: function () {\n        return this.firstName.charAt(0) + this.lastName.charAt(0); \n      }  \n    };\n</code></pre>\n<ol start=\"4\">\n<li>A <em><strong>namespace</strong></em> may be defined in the form of an untyped object referenced by a global object variable, the name of which represents a namespace prefix. For instance, the following object variable provides the main namespace of an application based on the Model-View-Controller (MVC) architecture paradigm where we have three subnamespaces corresponding to the three parts of an MVC application:</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    var myApp = { model:{}, view:{}, ctrl:{} };\n</code></pre>\n<ol start=\"5\">\n<li>A <em><strong>typed object</strong></em> <code>o</code> that instantiates a class defined by a JavaScript constructor function <code>C</code> is created with the expression</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    var o = new C(...)\n</code></pre>\n<p>The type/class of such a typed object can be retrieved with the introspective expression</p>\n<pre class=\"lang-js prettyprint-override\"><code>    o.constructor.name  // returns &quot;C&quot;\n</code></pre>\n<p>See my <a href=\"http://web-engineering.info/SummariesCheatsheetsPosters\" rel=\"nofollow noreferrer\">JavaScript Summary</a> for more on JavaScript objects.</p>\n"},{"tags":[],"owner":{"account_id":6586440,"reputation":656,"user_id":5089072,"display_name":"raj240"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542203996,"creation_date":1542201984,"answer_id":53301333,"question_id":22000241,"body_markdown":"Along with the above you can add the below mentioned point:\r\n\r\n 1. Javascript Objects are mutable(we can add properties) where as Java Objects are immutable(we cannot add properties but we can change the value of the property by means of setters). When i say mutable one can add some additional property to the Javascript object. Say for example.\r\n\r\n    `var person = \r\n{\r\n  firstName: &quot;John&quot;,\r\n  secondName: &quot;Deer&quot;,\r\n}`\r\n\r\nlater on we can change it by adding additional properties. Say\r\n\r\n    Person.age = 25;\r\nafter this step Person will change to \r\n\r\n   `{firstName: &quot;John&quot;, secondName: &quot;Deer&quot;, age: 25}` \r\n\r\nWhere as this way of adding properties to the instantiated object is not possible in the case of Java.\r\n\r\n 2. Javascript Objects can be instantiated in many ways \r\n\r\n\r\n\r\n**Using Literals**\r\n\r\n    var person = {firstName:&quot;Deen&quot;,lastName:&quot;Deer&quot;}\r\n\r\n**Using Javascripts new Object**\r\n\r\n    var person = new Object();\r\n    person.firstName = &quot;John&quot;;\r\n    erson.lastName = &quot;Deer&quot;;\r\n\r\n**Using Function**\r\n\r\n    function Person(firstName, lastName){\r\n    this.firstName = firstName;\r\n    this.lastName = lastName;\r\n    }\r\nand you can create person object as \r\n\r\n    var person = new Person(&quot;John&quot;,&quot;Deer&quot;);","title":"What&#39;s the difference between a JavaScript object and an OO/UML/Java object?","body":"<p>Along with the above you can add the below mentioned point:</p>\n\n<ol>\n<li><p>Javascript Objects are mutable(we can add properties) where as Java Objects are immutable(we cannot add properties but we can change the value of the property by means of setters). When i say mutable one can add some additional property to the Javascript object. Say for example.</p>\n\n<p><code>var person = \n{\nfirstName: \"John\",\nsecondName: \"Deer\",\n}</code></p></li>\n</ol>\n\n<p>later on we can change it by adding additional properties. Say</p>\n\n<pre><code>Person.age = 25;\n</code></pre>\n\n<p>after this step Person will change to </p>\n\n<p><code>{firstName: \"John\", secondName: \"Deer\", age: 25}</code> </p>\n\n<p>Where as this way of adding properties to the instantiated object is not possible in the case of Java.</p>\n\n<ol start=\"2\">\n<li>Javascript Objects can be instantiated in many ways </li>\n</ol>\n\n<p><strong>Using Literals</strong></p>\n\n<pre><code>var person = {firstName:\"Deen\",lastName:\"Deer\"}\n</code></pre>\n\n<p><strong>Using Javascripts new Object</strong></p>\n\n<pre><code>var person = new Object();\nperson.firstName = \"John\";\nerson.lastName = \"Deer\";\n</code></pre>\n\n<p><strong>Using Function</strong></p>\n\n<pre><code>function Person(firstName, lastName){\nthis.firstName = firstName;\nthis.lastName = lastName;\n}\n</code></pre>\n\n<p>and you can create person object as </p>\n\n<pre><code>var person = new Person(\"John\",\"Deer\");\n</code></pre>\n"}],"owner":{"account_id":3325791,"reputation":5521,"user_id":2795909,"accept_rate":60,"display_name":"Gerd Wagner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8339,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":22000255,"answer_count":2,"score":11,"last_activity_date":1701019112,"creation_date":1393279999,"question_id":22000241,"body_markdown":"In standard OO, as defined by UML, and instantiated, e.g., by Java and C#, there is a certain concept of objects as instances of classes. What&#39;s the difference between this classical concept of objects and a JavaScript object?","title":"What&#39;s the difference between a JavaScript object and an OO/UML/Java object?","body":"<p>In standard OO, as defined by UML, and instantiated, e.g., by Java and C#, there is a certain concept of objects as instances of classes. What's the difference between this classical concept of objects and a JavaScript object?</p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701018825,"creation_date":1701018825,"answer_id":77552684,"question_id":77551820,"body_markdown":"The [example](https://junit.org/junit5/docs/current/user-guide/#extensions-execution-order-wrapping-behavior) using an `AbstractDatabaseTest` is there to demonstrate that &quot;JUnit Jupiter also [in addition to registered extensions] guarantees wrapping behavior within class and interface hierarchies […]&quot;.\r\n\r\nFrom the [user guide](https://junit.org/junit5/docs/snapshot/user-guide/#overview-what-is-junit-5):\r\n\r\n&gt;**JUnit Jupiter** is the combination of the [programming model](https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests) and [extension model](https://junit.org/junit5/docs/snapshot/user-guide/#extensions) for writing tests […]\r\n\r\nExtensions are a core JUnit Jupiter feature and are considered more idiomatic than using inheritance.\r\n\r\nWhile JUnit Jupiter also supports inheritance (many annotations are [`@Inherited`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html)), the extensions mechanism follows the principle of [composition over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance). This gives you, for instance, more flexibility as you can use multiple extensions, whereas inheritance is limited to a single class.","title":"junit 5 code/configuration reuse. should i use abstract test class or an extension?","body":"<p>The <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-execution-order-wrapping-behavior\" rel=\"nofollow noreferrer\">example</a> using an <code>AbstractDatabaseTest</code> is there to demonstrate that &quot;JUnit Jupiter also [in addition to registered extensions] guarantees wrapping behavior within class and interface hierarchies […]&quot;.</p>\n<p>From the <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#overview-what-is-junit-5\" rel=\"nofollow noreferrer\">user guide</a>:</p>\n<blockquote>\n<p><strong>JUnit Jupiter</strong> is the combination of the <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests\" rel=\"nofollow noreferrer\">programming model</a> and <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#extensions\" rel=\"nofollow noreferrer\">extension model</a> for writing tests […]</p>\n</blockquote>\n<p>Extensions are a core JUnit Jupiter feature and are considered more idiomatic than using inheritance.</p>\n<p>While JUnit Jupiter also supports inheritance (many annotations are <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html\" rel=\"nofollow noreferrer\"><code>@Inherited</code></a>), the extensions mechanism follows the principle of <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">composition over inheritance</a>. This gives you, for instance, more flexibility as you can use multiple extensions, whereas inheritance is limited to a single class.</p>\n"}],"owner":{"account_id":18669874,"reputation":17,"user_id":13608960,"display_name":"duckydude20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77552684,"answer_count":1,"score":1,"last_activity_date":1701018825,"creation_date":1701004507,"question_id":77551820,"body_markdown":"junit 5 docs is using [AbstractDatabaseTests](https://junit.org/junit5/docs/current/user-guide/#:~:text=AbstractDatabaseTests)  \r\n\r\nbut i remember recommended way for junit 4 was to use rules rather than extending classes.","title":"junit 5 code/configuration reuse. should i use abstract test class or an extension?","body":"<p>junit 5 docs is using <a href=\"https://junit.org/junit5/docs/current/user-guide/#:%7E:text=AbstractDatabaseTests\" rel=\"nofollow noreferrer\">AbstractDatabaseTests</a></p>\n<p>but i remember recommended way for junit 4 was to use rules rather than extending classes.</p>\n"},{"tags":["java","android","android-camerax"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1700130811,"post_id":77493976,"comment_id":136617987,"body_markdown":"Can you share the crash log with us?","body":"Can you share the crash log with us?"}],"answers":[{"tags":[],"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701017868,"creation_date":1701017868,"answer_id":77552623,"question_id":77493976,"body_markdown":"You are trying to get the display rotation before the display is ready. Usually, you don&#39;t even have to set the target rotation. If absent, CameraX will use the default display&#39;s rotation.\r\n\r\nOtherwise, there are 2 ways that you can try:\r\n\r\n1) You can handle it yourself by waiting until the display is ready, or\r\n\r\n2) You can use the high level API [CameraController](https://developer.android.com/reference/androidx/camera/view/CameraController) which handles the rotation for you.","title":"Android CameraX crahses on second launch of the intent on physical devices but it works fine on the emulator. What could be the issues here?","body":"<p>You are trying to get the display rotation before the display is ready. Usually, you don't even have to set the target rotation. If absent, CameraX will use the default display's rotation.</p>\n<p>Otherwise, there are 2 ways that you can try:</p>\n<ol>\n<li><p>You can handle it yourself by waiting until the display is ready, or</p>\n</li>\n<li><p>You can use the high level API <a href=\"https://developer.android.com/reference/androidx/camera/view/CameraController\" rel=\"nofollow noreferrer\">CameraController</a> which handles the rotation for you.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18558416,"reputation":1,"user_id":13996391,"display_name":"정민재"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701017868,"creation_date":1700130039,"question_id":77493976,"body_markdown":"I was implementing CameraX into camera class and cameraAcvitity class such as    \r\n\r\nThis is the activity launches the cameraX\r\n```\r\n\r\n/**\r\n * Represents a custom camera activity. This activity allows the user to capture images using the device&#39;s camera.\r\n */\r\npublic class CustomCameraActivity extends AppCompatActivity {\r\n    private CustomCamera customCamera;\r\n    private PreviewView previewView;\r\n    private ImageView capturedImage;\r\n    private Button okButton;\r\n    private Button reTryButton;\r\n\r\n    private ImageButton captureBtn,flipCameraBtn;\r\n\r\n    // Asking for Permission to capture Camera\r\n    private final ActivityResultLauncher&lt;String&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\r\n        if (result) {\r\n            startCamera();\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Initializes the activity, sets up the camera and the buttons.\r\n     *\r\n     * @param savedInstanceState If the activity is being re-initialized after previously being shut down, this contains the data it most recently supplied in onSaveInstanceState(Bundle). Otherwise, it is null.\r\n     */\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_custom_camera);\r\n        int cameraFacing = CameraSelector.LENS_FACING_BACK;\r\n        previewView = findViewById(R.id.customPreview);\r\n        captureBtn = findViewById(R.id.capture_btn);\r\n        okButton = findViewById(R.id.ok_btn);\r\n        reTryButton = findViewById(R.id.retry_btn);\r\n        capturedImage = findViewById(R.id.capture_image);\r\n        flipCameraBtn = findViewById(R.id.flipCamera_btn);\r\n        if (ContextCompat.checkSelfPermission(CustomCameraActivity.this, android.Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            activityResultLauncher.launch(android.Manifest.permission.CAMERA);\r\n        } else {\r\n            startCamera();\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Starts the camera and sets up the capture and flip camera buttons.\r\n     */\r\n    private void startCamera() {\r\n        // Initialize your custom CameraX instance\r\n        previewView.setVisibility(View.VISIBLE);\r\n        captureBtn.setVisibility(View.VISIBLE);\r\n        flipCameraBtn.setVisibility(View.VISIBLE);\r\n        okButton.setVisibility(View.INVISIBLE);\r\n        reTryButton.setVisibility(View.INVISIBLE);\r\n        capturedImage.setVisibility(View.INVISIBLE);\r\n        customCamera = new CustomCamera(previewView);\r\n        customCamera.startCamera(this);\r\n        captureBtn.setOnClickListener(v -&gt; captureImage());\r\n        flipCameraBtn.setOnClickListener(view -&gt; {\r\n            customCamera.flipCamera();\r\n            customCamera.startCamera(CustomCameraActivity.this);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * Starts the camera and sets up the capture and flip camera buttons.\r\n     *\r\n     */\r\n    private void captureImage() {\r\n        final File photoFile = new File(getExternalFilesDir(null), System.currentTimeMillis() + &quot;.jpg&quot;);\r\n        //File photoFile = createImageFile();\r\n\r\n        ImageCapture.OnImageSavedCallback callback = new ImageCapture.OnImageSavedCallback() {\r\n               /**\r\n                 * Sets buttons to visible or invisible for an image\r\n                 * @param outputFileResults the image that was taken\r\n                 */\r\n\r\n            @Override\r\n            public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                runOnUiThread(() -&gt; {\r\n                    Uri imageUri = outputFileResults.getSavedUri();\r\n                    previewView.setVisibility(View.INVISIBLE);\r\n                    captureBtn.setVisibility(View.INVISIBLE);\r\n                    flipCameraBtn.setVisibility(View.INVISIBLE);\r\n                    okButton.setVisibility(View.VISIBLE);\r\n                    reTryButton.setVisibility(View.VISIBLE);\r\n                    capturedImage.setVisibility(View.VISIBLE);\r\n                    capturedImage.setImageURI(imageUri);\r\n                    okButton.setOnClickListener(v -&gt; {\r\n                        Toast.makeText(CustomCameraActivity.this, &quot;ImageSaved: &quot;, Toast.LENGTH_SHORT).show();\r\n                        Uri imageUri1 = outputFileResults.getSavedUri();\r\n                        Intent resultIntent = new Intent();\r\n                        resultIntent.setData(imageUri1);\r\n                        setResult(Activity.RESULT_OK, resultIntent);\r\n                        finish();\r\n                    });\r\n                    reTryButton.setOnClickListener(v -&gt; startCamera());\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull ImageCaptureException exception) {\r\n                // Handle error\r\n                runOnUiThread(() -&gt; Toast.makeText(CustomCameraActivity.this, &quot;Image saved at: &quot; + photoFile.getPath(), Toast.LENGTH_SHORT).show());\r\n\r\n            }\r\n        };\r\n        customCamera.captureImage(photoFile, callback);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param height the height of the screen on camera(Y axis)\r\n     * @param width the width of the screen on camera(X axis)\r\n     * @return AspectRatio that the ratio of camera in scale\r\n     */\r\n    private int aspectRatio(int width, int height) {\r\n        double previewRatio = (double) Math.max(width, height) / Math.min(width, height);\r\n        if (Math.abs(previewRatio - 4.0 / 3.0) &lt;= Math.abs(previewRatio - 16.0 / 9.0)) {\r\n            return AspectRatio.RATIO_4_3;\r\n        }\r\n        return AspectRatio.RATIO_16_9;\r\n    }\r\n\r\n    /**\r\n     * Creates an image file with a unique name in the &quot;CameraXImages&quot; directory.\r\n     *\r\n     * @return The created image file.\r\n     */\r\n    private File createImageFile() {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = new File(getExternalFilesDir(null), &quot;CameraXImages&quot;);\r\n\r\n        try {\r\n            File image = File.createTempFile(\r\n                    imageFileName,  /* prefix */\r\n                    &quot;.jpg&quot;,         /* suffix */\r\n                    storageDir      /* directory */\r\n            );\r\n\r\n            String currentPhotoPath = image.getAbsolutePath();\r\n            return image;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nThe customCameraX class is:\r\n```\r\n\r\n\r\n/**\r\n * Represents a custom camera that can capture images and switch between front and back camera.\r\n */\r\npublic class CustomCamera {\r\n\r\n    private PreviewView previewView;\r\n    private ImageCapture imageCapture;\r\n    private Executor executor = Executors.newSingleThreadExecutor();\r\n    private int cameraFacing;\r\n    ProcessCameraProvider cameraProvider;\r\n\r\n    /**\r\n     * Constructs a new CustomCamera with the given PreviewView.\r\n     *\r\n     * @param previewView The PreviewView where the camera preview will be displayed.\r\n     */\r\n    public CustomCamera(PreviewView previewView) {\r\n        this.previewView = previewView;\r\n        this.cameraFacing=CameraSelector.LENS_FACING_BACK;\r\n    }\r\n\r\n    /**\r\n     * Flips the camera from back to front, or from front to back.\r\n     */\r\n    public void flipCamera(){\r\n        if(this.cameraFacing == CameraSelector.LENS_FACING_BACK){\r\n            this.cameraFacing= CameraSelector.LENS_FACING_FRONT;\r\n        }\r\n        else{\r\n            this.cameraFacing=CameraSelector.LENS_FACING_BACK;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Starts the camera and binds it to the lifecycle of the given LifecycleOwner.\r\n     *\r\n     * @param lifecycleOwner The LifecycleOwner that the camera is bound to.\r\n     */\r\n    public void startCamera(LifecycleOwner lifecycleOwner) {\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(previewView.getContext());\r\n\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                 cameraProvider = cameraProviderFuture.get();\r\n\r\n                // Set up the camera use cases\r\n                bindCameraUseCases(lifecycleOwner);\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, ContextCompat.getMainExecutor(previewView.getContext()));\r\n    }\r\n\r\n    /**\r\n     * Binds the camera use cases to the given ProcessCameraProvider and LifecycleOwner.\r\n     * @param lifecycleOwner The LifecycleOwner that the camera use cases are bound to.\r\n     */\r\n    private void bindCameraUseCases(LifecycleOwner lifecycleOwner) {\r\n        Preview preview = new Preview.Builder().build();\r\n        CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                .requireLensFacing(cameraFacing)\r\n                .build();\r\n\r\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n\r\n        imageCapture = new ImageCapture.Builder()\r\n                .setTargetRotation(previewView.getDisplay().getRotation())\r\n                .build();\r\n\r\n        cameraProvider.unbindAll();\r\n        cameraProvider.bindToLifecycle(lifecycleOwner, cameraSelector, preview, imageCapture);\r\n    }\r\n    /**\r\n     * Captures an image and saves it to the given file. If the image capture is not initialized, this method does nothing.\r\n     *\r\n     * @param outputFile The file where the image will be saved.\r\n     * @param callback The callback that will be invoked after the image has been captured.\r\n     */\r\n    public void captureImage(File outputFile, ImageCapture.OnImageSavedCallback callback) {\r\n        if (imageCapture != null) {\r\n            ImageCapture.OutputFileOptions outputOptions = new ImageCapture.OutputFileOptions.Builder(outputFile).build();\r\n            imageCapture.takePicture(outputOptions, executor, callback);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI am starting this activity as `pictureActivityResultLauncher.launch(cameraIntent)` and recieve the data as\r\n```\r\n  ActivityResultLauncher&lt;Intent&gt; pictureActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // There are no request codes\r\n                        Intent data = result.getData();\r\n                        ......\r\n                      }\r\n            });\r\n       \r\n```\r\nWhen I run on the android emulator on android studio, it worked fine. However when I connect to the actual devices and first picture works fine but it crashes on the second launch of camera intent.\r\nI tried to solve it by creating releasing methods that unbinds the cameraProvider in camera class and release it when the the camera activity closes but it does not make any changes. I am still quite not sure why it crashes on physical devices only not in the emulator the log says\r\n\r\n&gt; FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.team29project, PID: 29992\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.view.Display.getRotation()&#39; on a null object reference\r\n                                                                                                    \tat com.example.team29project.Model.CustomCamera.bindCameraUseCases(CustomCamera.java:85)\r\n                                                                                                    \tat com.example.team29project.Model.CustomCamera.lambda$startCamera$0$com-example-team29project-Model-CustomCamera(CustomCamera.java:65)\r\n                                                                                                    \tat com.example.team29project.Model.CustomCamera$$ExternalSyntheticLambda0.run(Unknown Source:6)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:942)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:226)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:313)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8762)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n\r\n\r\n\r\nEdit: I figured it out. It was the setTargetRotation from bindCamerauUseCases methods. I removed it and it works fine now.","title":"Android CameraX crahses on second launch of the intent on physical devices but it works fine on the emulator. What could be the issues here?","body":"<p>I was implementing CameraX into camera class and cameraAcvitity class such as</p>\n<p>This is the activity launches the cameraX</p>\n<pre><code>\n/**\n * Represents a custom camera activity. This activity allows the user to capture images using the device's camera.\n */\npublic class CustomCameraActivity extends AppCompatActivity {\n    private CustomCamera customCamera;\n    private PreviewView previewView;\n    private ImageView capturedImage;\n    private Button okButton;\n    private Button reTryButton;\n\n    private ImageButton captureBtn,flipCameraBtn;\n\n    // Asking for Permission to capture Camera\n    private final ActivityResultLauncher&lt;String&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\n        if (result) {\n            startCamera();\n        }\n    });\n\n\n    /**\n     * Initializes the activity, sets up the camera and the buttons.\n     *\n     * @param savedInstanceState If the activity is being re-initialized after previously being shut down, this contains the data it most recently supplied in onSaveInstanceState(Bundle). Otherwise, it is null.\n     */\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_custom_camera);\n        int cameraFacing = CameraSelector.LENS_FACING_BACK;\n        previewView = findViewById(R.id.customPreview);\n        captureBtn = findViewById(R.id.capture_btn);\n        okButton = findViewById(R.id.ok_btn);\n        reTryButton = findViewById(R.id.retry_btn);\n        capturedImage = findViewById(R.id.capture_image);\n        flipCameraBtn = findViewById(R.id.flipCamera_btn);\n        if (ContextCompat.checkSelfPermission(CustomCameraActivity.this, android.Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            activityResultLauncher.launch(android.Manifest.permission.CAMERA);\n        } else {\n            startCamera();\n        }\n\n    }\n\n    /**\n     * Starts the camera and sets up the capture and flip camera buttons.\n     */\n    private void startCamera() {\n        // Initialize your custom CameraX instance\n        previewView.setVisibility(View.VISIBLE);\n        captureBtn.setVisibility(View.VISIBLE);\n        flipCameraBtn.setVisibility(View.VISIBLE);\n        okButton.setVisibility(View.INVISIBLE);\n        reTryButton.setVisibility(View.INVISIBLE);\n        capturedImage.setVisibility(View.INVISIBLE);\n        customCamera = new CustomCamera(previewView);\n        customCamera.startCamera(this);\n        captureBtn.setOnClickListener(v -&gt; captureImage());\n        flipCameraBtn.setOnClickListener(view -&gt; {\n            customCamera.flipCamera();\n            customCamera.startCamera(CustomCameraActivity.this);\n        });\n\n    }\n\n    /**\n     *\n     * Starts the camera and sets up the capture and flip camera buttons.\n     *\n     */\n    private void captureImage() {\n        final File photoFile = new File(getExternalFilesDir(null), System.currentTimeMillis() + &quot;.jpg&quot;);\n        //File photoFile = createImageFile();\n\n        ImageCapture.OnImageSavedCallback callback = new ImageCapture.OnImageSavedCallback() {\n               /**\n                 * Sets buttons to visible or invisible for an image\n                 * @param outputFileResults the image that was taken\n                 */\n\n            @Override\n            public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                runOnUiThread(() -&gt; {\n                    Uri imageUri = outputFileResults.getSavedUri();\n                    previewView.setVisibility(View.INVISIBLE);\n                    captureBtn.setVisibility(View.INVISIBLE);\n                    flipCameraBtn.setVisibility(View.INVISIBLE);\n                    okButton.setVisibility(View.VISIBLE);\n                    reTryButton.setVisibility(View.VISIBLE);\n                    capturedImage.setVisibility(View.VISIBLE);\n                    capturedImage.setImageURI(imageUri);\n                    okButton.setOnClickListener(v -&gt; {\n                        Toast.makeText(CustomCameraActivity.this, &quot;ImageSaved: &quot;, Toast.LENGTH_SHORT).show();\n                        Uri imageUri1 = outputFileResults.getSavedUri();\n                        Intent resultIntent = new Intent();\n                        resultIntent.setData(imageUri1);\n                        setResult(Activity.RESULT_OK, resultIntent);\n                        finish();\n                    });\n                    reTryButton.setOnClickListener(v -&gt; startCamera());\n                });\n            }\n\n            @Override\n            public void onError(@NonNull ImageCaptureException exception) {\n                // Handle error\n                runOnUiThread(() -&gt; Toast.makeText(CustomCameraActivity.this, &quot;Image saved at: &quot; + photoFile.getPath(), Toast.LENGTH_SHORT).show());\n\n            }\n        };\n        customCamera.captureImage(photoFile, callback);\n    }\n\n    /**\n     *\n     * @param height the height of the screen on camera(Y axis)\n     * @param width the width of the screen on camera(X axis)\n     * @return AspectRatio that the ratio of camera in scale\n     */\n    private int aspectRatio(int width, int height) {\n        double previewRatio = (double) Math.max(width, height) / Math.min(width, height);\n        if (Math.abs(previewRatio - 4.0 / 3.0) &lt;= Math.abs(previewRatio - 16.0 / 9.0)) {\n            return AspectRatio.RATIO_4_3;\n        }\n        return AspectRatio.RATIO_16_9;\n    }\n\n    /**\n     * Creates an image file with a unique name in the &quot;CameraXImages&quot; directory.\n     *\n     * @return The created image file.\n     */\n    private File createImageFile() {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = new File(getExternalFilesDir(null), &quot;CameraXImages&quot;);\n\n        try {\n            File image = File.createTempFile(\n                    imageFileName,  /* prefix */\n                    &quot;.jpg&quot;,         /* suffix */\n                    storageDir      /* directory */\n            );\n\n            String currentPhotoPath = image.getAbsolutePath();\n            return image;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;\n        }\n\n    }\n\n\n}\n</code></pre>\n<p>The customCameraX class is:</p>\n<pre><code>\n\n/**\n * Represents a custom camera that can capture images and switch between front and back camera.\n */\npublic class CustomCamera {\n\n    private PreviewView previewView;\n    private ImageCapture imageCapture;\n    private Executor executor = Executors.newSingleThreadExecutor();\n    private int cameraFacing;\n    ProcessCameraProvider cameraProvider;\n\n    /**\n     * Constructs a new CustomCamera with the given PreviewView.\n     *\n     * @param previewView The PreviewView where the camera preview will be displayed.\n     */\n    public CustomCamera(PreviewView previewView) {\n        this.previewView = previewView;\n        this.cameraFacing=CameraSelector.LENS_FACING_BACK;\n    }\n\n    /**\n     * Flips the camera from back to front, or from front to back.\n     */\n    public void flipCamera(){\n        if(this.cameraFacing == CameraSelector.LENS_FACING_BACK){\n            this.cameraFacing= CameraSelector.LENS_FACING_FRONT;\n        }\n        else{\n            this.cameraFacing=CameraSelector.LENS_FACING_BACK;\n        }\n    }\n\n    /**\n     * Starts the camera and binds it to the lifecycle of the given LifecycleOwner.\n     *\n     * @param lifecycleOwner The LifecycleOwner that the camera is bound to.\n     */\n    public void startCamera(LifecycleOwner lifecycleOwner) {\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(previewView.getContext());\n\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                 cameraProvider = cameraProviderFuture.get();\n\n                // Set up the camera use cases\n                bindCameraUseCases(lifecycleOwner);\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, ContextCompat.getMainExecutor(previewView.getContext()));\n    }\n\n    /**\n     * Binds the camera use cases to the given ProcessCameraProvider and LifecycleOwner.\n     * @param lifecycleOwner The LifecycleOwner that the camera use cases are bound to.\n     */\n    private void bindCameraUseCases(LifecycleOwner lifecycleOwner) {\n        Preview preview = new Preview.Builder().build();\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(cameraFacing)\n                .build();\n\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n        imageCapture = new ImageCapture.Builder()\n                .setTargetRotation(previewView.getDisplay().getRotation())\n                .build();\n\n        cameraProvider.unbindAll();\n        cameraProvider.bindToLifecycle(lifecycleOwner, cameraSelector, preview, imageCapture);\n    }\n    /**\n     * Captures an image and saves it to the given file. If the image capture is not initialized, this method does nothing.\n     *\n     * @param outputFile The file where the image will be saved.\n     * @param callback The callback that will be invoked after the image has been captured.\n     */\n    public void captureImage(File outputFile, ImageCapture.OnImageSavedCallback callback) {\n        if (imageCapture != null) {\n            ImageCapture.OutputFileOptions outputOptions = new ImageCapture.OutputFileOptions.Builder(outputFile).build();\n            imageCapture.takePicture(outputOptions, executor, callback);\n        }\n    }\n}\n\n\n</code></pre>\n<p>I am starting this activity as <code>pictureActivityResultLauncher.launch(cameraIntent)</code> and recieve the data as</p>\n<pre><code>  ActivityResultLauncher&lt;Intent&gt; pictureActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // There are no request codes\n                        Intent data = result.getData();\n                        ......\n                      }\n            });\n       \n</code></pre>\n<p>When I run on the android emulator on android studio, it worked fine. However when I connect to the actual devices and first picture works fine but it crashes on the second launch of camera intent.\nI tried to solve it by creating releasing methods that unbinds the cameraProvider in camera class and release it when the the camera activity closes but it does not make any changes. I am still quite not sure why it crashes on physical devices only not in the emulator the log says</p>\n<blockquote>\n<p>FATAL EXCEPTION: main\nProcess: com.example.team29project, PID: 29992\njava.lang.NullPointerException: Attempt to invoke virtual method 'int android.view.Display.getRotation()' on a null object reference\nat com.example.team29project.Model.CustomCamera.bindCameraUseCases(CustomCamera.java:85)\nat com.example.team29project.Model.CustomCamera.lambda$startCamera$0$com-example-team29project-Model-CustomCamera(CustomCamera.java:65)\nat com.example.team29project.Model.CustomCamera$$ExternalSyntheticLambda0.run(Unknown Source:6)\nat android.os.Handler.handleCallback(Handler.java:942)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8762)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)</p>\n</blockquote>\n<p>Edit: I figured it out. It was the setTargetRotation from bindCamerauUseCases methods. I removed it and it works fine now.</p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":214579,"reputation":1377,"user_id":468639,"accept_rate":66,"display_name":"Tharaka Deshan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459843212,"creation_date":1459843212,"answer_id":36420405,"question_id":36419200,"body_markdown":"Yes you can.\r\n\r\n    String your_title = &quot;This is the Title&quot;;\r\n    String currentWindow = driver.getWindowHandle();  //will keep current window to switch back\r\n    for(String winHandle : driver.getWindowHandles()){\r\n       if (driver.switchTo().window(winHandle).getTitle().equals(your_title)) {\r\n         //This is the one you&#39;re looking for\r\n         break;\r\n       } \r\n       else {\r\n          driver.switchTo().window(currentWindow);\r\n       } \r\n    }","title":"Can I switch between windows by their page title using selenium webdriver in java?","body":"<p>Yes you can.</p>\n\n<pre><code>String your_title = \"This is the Title\";\nString currentWindow = driver.getWindowHandle();  //will keep current window to switch back\nfor(String winHandle : driver.getWindowHandles()){\n   if (driver.switchTo().window(winHandle).getTitle().equals(your_title)) {\n     //This is the one you're looking for\n     break;\n   } \n   else {\n      driver.switchTo().window(currentWindow);\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5738169,"reputation":2858,"user_id":4531601,"accept_rate":56,"display_name":"Rajnish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459844667,"creation_date":1459844667,"answer_id":36420903,"question_id":36419200,"body_markdown":"Hi you can try like below \r\n\r\n    driver.get(&quot;http://www.seleniumhq.com&quot;);\r\n    // for understanding point please open a new tab\r\n    driver.findElement(By.tagName(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n    // note new tab title will be blank as we have not opened anything in it.\r\n    \t\t\r\n    // Store the current window handle- the parent one\r\n    String winHandleBefore = driver.getWindowHandle();\r\n    // store all the windows \r\n    Set&lt;String&gt; handle= driver.getWindowHandles();\r\n    // iterate over window handles\r\n    for(String mywindows : handle){\r\n    // store window title\r\n     String myTitle = driver.switchTo().window(mywindows).getTitle();\r\n     // now apply the condition - moving to the window with blank title\r\n      if(myTitle.equals(&quot;&quot;)){\r\n      // perform some action - as here m openning a new url\r\n      driver.get(&quot;http://docs.seleniumhq.org/download/&quot;);\r\n    }else{\r\n    \tdriver.switchTo().window(winHandleBefore);\r\n    }\r\n    }\r\n\r\nHope this helps what you are looking for.","title":"Can I switch between windows by their page title using selenium webdriver in java?","body":"<p>Hi you can try like below </p>\n\n<pre><code>driver.get(\"http://www.seleniumhq.com\");\n// for understanding point please open a new tab\ndriver.findElement(By.tagName(\"body\")).sendKeys(Keys.CONTROL + \"t\");\n// note new tab title will be blank as we have not opened anything in it.\n\n// Store the current window handle- the parent one\nString winHandleBefore = driver.getWindowHandle();\n// store all the windows \nSet&lt;String&gt; handle= driver.getWindowHandles();\n// iterate over window handles\nfor(String mywindows : handle){\n// store window title\n String myTitle = driver.switchTo().window(mywindows).getTitle();\n // now apply the condition - moving to the window with blank title\n  if(myTitle.equals(\"\")){\n  // perform some action - as here m openning a new url\n  driver.get(\"http://docs.seleniumhq.org/download/\");\n}else{\n    driver.switchTo().window(winHandleBefore);\n}\n}\n</code></pre>\n\n<p>Hope this helps what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":6184254,"reputation":472,"user_id":4818807,"display_name":"Tom Trumper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459935760,"creation_date":1459866978,"answer_id":36429462,"question_id":36419200,"body_markdown":"If you have the exact title of the window you want to switch focus to (i.e. the exact content of the top-level `&lt;title&gt;` tag of the window), then you can simply do the following:\r\n\r\n    driver.switchTo().window(&quot;Whatever the title is, as a String&quot;);\r\n\r\nIf you only have the partial title of the window you want to switch focus to, then you should iterate over the available windows by their handles as the other answers suggest.","title":"Can I switch between windows by their page title using selenium webdriver in java?","body":"<p>If you have the exact title of the window you want to switch focus to (i.e. the exact content of the top-level <code>&lt;title&gt;</code> tag of the window), then you can simply do the following:</p>\n\n<pre><code>driver.switchTo().window(\"Whatever the title is, as a String\");\n</code></pre>\n\n<p>If you only have the partial title of the window you want to switch focus to, then you should iterate over the available windows by their handles as the other answers suggest.</p>\n"},{"tags":[],"owner":{"account_id":11159993,"reputation":31,"user_id":8190468,"display_name":"Arpan Singh Kushwaha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620665316,"creation_date":1620665316,"answer_id":67474513,"question_id":36419200,"body_markdown":"Reference: Code to switch back to parent window in case the window with title is not found.\r\n````\r\n\tpublic void switchToParentWindowHandle() {\r\n\t\tdriver.switchTo().window(parentWindowHandle);\r\n\t}\r\n````\r\nReference: Code to get the original window handle in case the window with the title is not found.\r\n````\r\n\tpublic void getParentWindowHandle() {\r\n\t\tparentWindowHandle = driver.getWindowHandle();\r\n\t}\r\n\r\n````\r\n**Code that will try to switch based on the title of the window.**\r\n````\r\nprivate String parentWindowHandle;\r\n\r\n\tpublic void switchToWindow(String title) {\r\n\t\tboolean foundWindow = false;\r\n        getParentWindowHandle(); //See above reference\r\n\r\n\t\tfor (String handle : driver.getWindowHandles()) {\r\n\t\t\tif (driver.switchTo().window(handle).getTitle().contains(title)) {\r\n\t\t\t\tSystem.out.println(&quot;Switched to window with title:&quot; + title);\r\n\t\t\t\tfoundWindow = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (foundWindow) {\r\n            System.out.println(&quot;Couldn&#39;t find the window with title -&gt; &quot; + title +  &quot;\\nSwitching to parent window.&quot;);\r\n\t\t\tswitchToParentWindowHandle(); //See above reference\r\n\t\t}\r\n\t}\r\n````","title":"Can I switch between windows by their page title using selenium webdriver in java?","body":"<p>Reference: Code to switch back to parent window in case the window with title is not found.</p>\n<pre><code>    public void switchToParentWindowHandle() {\n        driver.switchTo().window(parentWindowHandle);\n    }\n</code></pre>\n<p>Reference: Code to get the original window handle in case the window with the title is not found.</p>\n<pre><code>    public void getParentWindowHandle() {\n        parentWindowHandle = driver.getWindowHandle();\n    }\n\n</code></pre>\n<p><strong>Code that will try to switch based on the title of the window.</strong></p>\n<pre><code>private String parentWindowHandle;\n\n    public void switchToWindow(String title) {\n        boolean foundWindow = false;\n        getParentWindowHandle(); //See above reference\n\n        for (String handle : driver.getWindowHandles()) {\n            if (driver.switchTo().window(handle).getTitle().contains(title)) {\n                System.out.println(&quot;Switched to window with title:&quot; + title);\n                foundWindow = true;\n                break;\n            }\n        }\n        if (foundWindow) {\n            System.out.println(&quot;Couldn't find the window with title -&gt; &quot; + title +  &quot;\\nSwitching to parent window.&quot;);\n            switchToParentWindowHandle(); //See above reference\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20378513,"reputation":147,"user_id":14949132,"display_name":"Brayan Montoya Osorio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672680121,"creation_date":1672680121,"answer_id":74985315,"question_id":36419200,"body_markdown":"if you are using xpath expressions like this:\r\n\r\n    $x(&quot;//*[@id=\\&quot;cbenef\\&quot;]&quot;).click();\r\n\r\nWhere the `click()` method opens a window. You can switch to that new window with the title of the page. The title is present in headers, like this: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Amazing&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;h1&gt;Heading&lt;/h1&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn this case you can switch to this window using:\r\n\r\n    switchTo().window(&quot;Amazing&quot;);\r\n\r\n","title":"Can I switch between windows by their page title using selenium webdriver in java?","body":"<p>if you are using xpath expressions like this:</p>\n<pre><code>$x(&quot;//*[@id=\\&quot;cbenef\\&quot;]&quot;).click();\n</code></pre>\n<p>Where the <code>click()</code> method opens a window. You can switch to that new window with the title of the page. The title is present in headers, like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Amazing&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h1&gt;Heading&lt;/h1&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In this case you can switch to this window using:</p>\n<pre><code>switchTo().window(&quot;Amazing&quot;);\n</code></pre>\n"}],"owner":{"account_id":4463120,"reputation":496,"user_id":3631398,"accept_rate":44,"display_name":"Chandni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1701017366,"creation_date":1459839411,"question_id":36419200,"body_markdown":"I found answers related to switching between windows using `getDriver().getWindowHandles()` and iterating through it.\r\n\r\nBut I would like to know if there is any way to switch between windows using page title in selenium webdriver using java.","title":"Can I switch between windows by their page title using selenium webdriver in java?","body":"<p>I found answers related to switching between windows using <code>getDriver().getWindowHandles()</code> and iterating through it.</p>\n<p>But I would like to know if there is any way to switch between windows using page title in selenium webdriver using java.</p>\n"},{"tags":["java","windows","certificate","client-certificates","mscapi"],"comments":[{"owner":{"account_id":470927,"reputation":369,"user_id":5366706,"display_name":"oddbjorn"},"score":1,"creation_date":1533560891,"post_id":51205158,"comment_id":90377760,"body_markdown":"See my answer here: https://stackoverflow.com/questions/3612962/access-local-machine-certificate-store-in-java/51708360#51708360","body":"See my answer here: <a href=\"https://stackoverflow.com/questions/3612962/access-local-machine-certificate-store-in-java/51708360#51708360\" title=\"access local machine certificate store in java\">stackoverflow.com/questions/3612962/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690138809,"creation_date":1534322182,"answer_id":51855449,"question_id":51205158,"body_markdown":"## Update\r\nAfter fourteen years in the bug tracker, [JDK-6782021][2] was finally fixed in Java 19 (Spring 2022). This means this is no longer an issue.\r\n\r\n---\r\n## Original answer\r\n\r\nYes *and* no. You can use [the `wcsa` utility][1], which will intercept JVM calls to the Windows Crypto API and let you access the local machine credentials. This is of course a hack around the real problem, [JDK-6782021][2], which was reported ten years ago. But it does let you access the local machine certificates in a pretty painless way!\r\n\r\nSo yes, it is possible to access them, but no, it&#39;s not possible to access them using the plain Java API. You *can* access them using normal Java using the commercial product [JCAPI][3], though, but for most uses the `wcsa` util is fine.\r\n\r\n[The Open JDK maintainers are willing to take a patch, though][2], so maybe you can have a stab at fixing it using the code provided in the `wcsa` repo :)\r\n\r\n\r\n  [1]: https://github.com/oddbjornkvalsund/wcsa\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-6782021\r\n  [3]: https://pheox.com/products/jcapi/","title":"Access Windows Local Machine Personal Keystore with Java (SunMSCAPI)","body":"<h2>Update</h2>\n<p>After fourteen years in the bug tracker, <a href=\"https://bugs.openjdk.java.net/browse/JDK-6782021\" rel=\"nofollow noreferrer\">JDK-6782021</a> was finally fixed in Java 19 (Spring 2022). This means this is no longer an issue.</p>\n<hr />\n<h2>Original answer</h2>\n<p>Yes <em>and</em> no. You can use <a href=\"https://github.com/oddbjornkvalsund/wcsa\" rel=\"nofollow noreferrer\">the <code>wcsa</code> utility</a>, which will intercept JVM calls to the Windows Crypto API and let you access the local machine credentials. This is of course a hack around the real problem, <a href=\"https://bugs.openjdk.java.net/browse/JDK-6782021\" rel=\"nofollow noreferrer\">JDK-6782021</a>, which was reported ten years ago. But it does let you access the local machine certificates in a pretty painless way!</p>\n<p>So yes, it is possible to access them, but no, it's not possible to access them using the plain Java API. You <em>can</em> access them using normal Java using the commercial product <a href=\"https://pheox.com/products/jcapi/\" rel=\"nofollow noreferrer\">JCAPI</a>, though, but for most uses the <code>wcsa</code> util is fine.</p>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-6782021\" rel=\"nofollow noreferrer\">The Open JDK maintainers are willing to take a patch, though</a>, so maybe you can have a stab at fixing it using the code provided in the <code>wcsa</code> repo :)</p>\n"},{"tags":[],"owner":{"account_id":2856379,"reputation":364,"user_id":2452569,"display_name":"mpderbec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701016846,"creation_date":1701016322,"answer_id":77552537,"question_id":51205158,"body_markdown":"Here&#39;s an alternative that works independent of the Java version and whether or not https://bugs.openjdk.org/browse/JDK-6782021 or https://bugs.openjdk.org/browse/JDK-8313367 are fixed. It uses a small Powershell script to dump the certificates to a temp folder where Java can read them in easily.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic class WindowsCertificateService {\r\n    private static List&lt;X509Certificate&gt; getWindowsLocalMachineCertificates(String certType) {\r\n        // Theoretically we could use KeyStore.getInstance(&quot;Windows-ROOT-LOCALMACHINE&quot;) and\r\n        // KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;) to accomplish this, which were added as part of\r\n        // https://bugs.openjdk.org/browse/JDK-6782021. Unfortunately, we&#39;ll get an Access Denied error due to\r\n        // https://bugs.openjdk.org/browse/JDK-8313367.\r\n\r\n        Path tempFolder;\r\n        List&lt;X509Certificate&gt; certificates = new ArrayList&lt;&gt;();\r\n        try {\r\n            tempFolder = Files.createTempDirectory(&quot;seeq-link-getWindowsLocalMachineCertificates&quot;);\r\n        } catch (Throwable e) {\r\n            // Log an error if desired\r\n            return Collections.emptyList();\r\n        }\r\n\r\n        try {\r\n            String powershellScript = String.format(&quot;dir cert:\\\\localmachine\\\\%s | Foreach-Object { [system.IO&quot; +\r\n                    &quot;.file]::WriteAllBytes(\\&quot;.\\\\$($_.Thumbprint).cer\\&quot;, ($_.Export(&#39;CERT&#39;, &#39;secret&#39;)) ) }&quot;, certType);\r\n            Path scriptLocation = tempFolder.resolve(&quot;getWindowsLocalMachineCertificates.ps1&quot;);\r\n            Files.write(scriptLocation, powershellScript.getBytes());\r\n            ProcessBuilder processBuilder = new ProcessBuilder(\r\n                    &quot;powershell.exe&quot;, &quot;-ExecutionPolicy&quot;, &quot;Bypass&quot;, &quot;-File&quot;, scriptLocation.toString());\r\n            processBuilder.directory(tempFolder.toFile());\r\n            processBuilder.redirectErrorStream(true);\r\n            Process process = processBuilder.start();\r\n            process.waitFor();\r\n            if (process.exitValue() != 0) {\r\n                // Log an error if desired\r\n                return Collections.emptyList();\r\n            }\r\n\r\n            Collection&lt;File&gt; cerFiles = FileUtils.listFiles(tempFolder.toFile(), new String[] { &quot;cer&quot; }, false);\r\n            for (File cerFile : cerFiles) {\r\n                try (FileInputStream fis = new FileInputStream(cerFile)) {\r\n                    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                    Certificate cert = cf.generateCertificate(fis);\r\n                    if (cert instanceof X509Certificate) {\r\n                        certificates.add((X509Certificate) cert);\r\n                    }\r\n                } catch (Exception e) {\r\n                    // Log an error if desired\r\n                }\r\n            }\r\n            return certificates;\r\n        } catch (Throwable e) {\r\n            // Log an error if desired\r\n            return Collections.emptyList();\r\n        } finally {\r\n            if (tempFolder != null) {\r\n                try {\r\n                    FileUtils.deleteDirectory(tempFolder.toFile());\r\n                } catch (Exception e) {\r\n                    // Log an error if desired\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe `certType` argument can be either `&quot;root&quot;` or `&quot;my&quot;`.","title":"Access Windows Local Machine Personal Keystore with Java (SunMSCAPI)","body":"<p>Here's an alternative that works independent of the Java version and whether or not <a href=\"https://bugs.openjdk.org/browse/JDK-6782021\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6782021</a> or <a href=\"https://bugs.openjdk.org/browse/JDK-8313367\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8313367</a> are fixed. It uses a small Powershell script to dump the certificates to a temp folder where Java can read them in easily.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class WindowsCertificateService {\n    private static List&lt;X509Certificate&gt; getWindowsLocalMachineCertificates(String certType) {\n        // Theoretically we could use KeyStore.getInstance(&quot;Windows-ROOT-LOCALMACHINE&quot;) and\n        // KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;) to accomplish this, which were added as part of\n        // https://bugs.openjdk.org/browse/JDK-6782021. Unfortunately, we'll get an Access Denied error due to\n        // https://bugs.openjdk.org/browse/JDK-8313367.\n\n        Path tempFolder;\n        List&lt;X509Certificate&gt; certificates = new ArrayList&lt;&gt;();\n        try {\n            tempFolder = Files.createTempDirectory(&quot;seeq-link-getWindowsLocalMachineCertificates&quot;);\n        } catch (Throwable e) {\n            // Log an error if desired\n            return Collections.emptyList();\n        }\n\n        try {\n            String powershellScript = String.format(&quot;dir cert:\\\\localmachine\\\\%s | Foreach-Object { [system.IO&quot; +\n                    &quot;.file]::WriteAllBytes(\\&quot;.\\\\$($_.Thumbprint).cer\\&quot;, ($_.Export('CERT', 'secret')) ) }&quot;, certType);\n            Path scriptLocation = tempFolder.resolve(&quot;getWindowsLocalMachineCertificates.ps1&quot;);\n            Files.write(scriptLocation, powershellScript.getBytes());\n            ProcessBuilder processBuilder = new ProcessBuilder(\n                    &quot;powershell.exe&quot;, &quot;-ExecutionPolicy&quot;, &quot;Bypass&quot;, &quot;-File&quot;, scriptLocation.toString());\n            processBuilder.directory(tempFolder.toFile());\n            processBuilder.redirectErrorStream(true);\n            Process process = processBuilder.start();\n            process.waitFor();\n            if (process.exitValue() != 0) {\n                // Log an error if desired\n                return Collections.emptyList();\n            }\n\n            Collection&lt;File&gt; cerFiles = FileUtils.listFiles(tempFolder.toFile(), new String[] { &quot;cer&quot; }, false);\n            for (File cerFile : cerFiles) {\n                try (FileInputStream fis = new FileInputStream(cerFile)) {\n                    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n                    Certificate cert = cf.generateCertificate(fis);\n                    if (cert instanceof X509Certificate) {\n                        certificates.add((X509Certificate) cert);\n                    }\n                } catch (Exception e) {\n                    // Log an error if desired\n                }\n            }\n            return certificates;\n        } catch (Throwable e) {\n            // Log an error if desired\n            return Collections.emptyList();\n        } finally {\n            if (tempFolder != null) {\n                try {\n                    FileUtils.deleteDirectory(tempFolder.toFile());\n                } catch (Exception e) {\n                    // Log an error if desired\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The <code>certType</code> argument can be either <code>&quot;root&quot;</code> or <code>&quot;my&quot;</code>.</p>\n"}],"owner":{"account_id":10553411,"reputation":25,"user_id":7775394,"display_name":"P. Ekin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2022,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51855449,"answer_count":2,"score":2,"last_activity_date":1701016846,"creation_date":1530862167,"question_id":51205158,"body_markdown":"Is there a way to access the windows **local machine** personal key storage with Java using *SunMSCAPI*?\r\n\r\nUsually, you can use either &lt;b&gt;WINDOWS-ROOT&lt;/b&gt; (which is roughly the equivalent to the trusted storage in Java) or &lt;b&gt;WINDOWS-MY&lt;/b&gt; (which contains the personal certificates which is roughly equivalent to the key storage in Java) to retrieve certificates from the windows certificate storage.\r\n\r\nThis works fine for users, but even when impersonating the SYSTEM user, I was not able to retrieve the local machine&#39;s personal certificates.\r\n\r\nThere exist [some][1] questions regarding this that [use JNA][2] (which I would like to avoid, especially since it seems to be complicated to retrieve the private key from there).&lt;br&gt;\r\nAlso, someone [used psexec][3] to impersonate the SYSTEM user (using *psexec -s*). I also tried this, but have not been successful.&lt;br&gt;\r\nIn the end, there is also an [open bug][4] in the Java Bug System.\r\n\r\nIf anyone has an idea on how to retrieve certificates from the local machine personal storage in windows using Java, I would be grateful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51193143/use-jna-to-get-local-machine-certificate\r\n  [2]: https://stackoverflow.com/questions/3612962/access-local-machine-certificate-store-in-java\r\n  [3]: https://stackoverflow.com/questions/33788143/possible-to-access-localmachine-cetificates-in-my-store-using-sunmscapi\r\n  [4]: https://bugs.openjdk.java.net/browse/JDK-6782021","title":"Access Windows Local Machine Personal Keystore with Java (SunMSCAPI)","body":"<p>Is there a way to access the windows <strong>local machine</strong> personal key storage with Java using <em>SunMSCAPI</em>?</p>\n\n<p>Usually, you can use either <b>WINDOWS-ROOT</b> (which is roughly the equivalent to the trusted storage in Java) or <b>WINDOWS-MY</b> (which contains the personal certificates which is roughly equivalent to the key storage in Java) to retrieve certificates from the windows certificate storage.</p>\n\n<p>This works fine for users, but even when impersonating the SYSTEM user, I was not able to retrieve the local machine's personal certificates.</p>\n\n<p>There exist <a href=\"https://stackoverflow.com/questions/51193143/use-jna-to-get-local-machine-certificate\">some</a> questions regarding this that <a href=\"https://stackoverflow.com/questions/3612962/access-local-machine-certificate-store-in-java\">use JNA</a> (which I would like to avoid, especially since it seems to be complicated to retrieve the private key from there).<br>\nAlso, someone <a href=\"https://stackoverflow.com/questions/33788143/possible-to-access-localmachine-cetificates-in-my-store-using-sunmscapi\">used psexec</a> to impersonate the SYSTEM user (using <em>psexec -s</em>). I also tried this, but have not been successful.<br>\nIn the end, there is also an <a href=\"https://bugs.openjdk.java.net/browse/JDK-6782021\" rel=\"nofollow noreferrer\">open bug</a> in the Java Bug System.</p>\n\n<p>If anyone has an idea on how to retrieve certificates from the local machine personal storage in windows using Java, I would be grateful.</p>\n"},{"tags":["java","permissions","keystore"],"answers":[{"tags":[],"owner":{"account_id":6380665,"reputation":39,"user_id":4950224,"display_name":"Snaps-a-Lot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691507495,"creation_date":1689885618,"answer_id":76733561,"question_id":75255985,"body_markdown":"I have experienced the same issue with accessing a code signing certificate deployed to the Windows-MY-LOCALMACHINE key store using the OpenJDK `jarsigner` utility.   I have concluded that the SunMSCAPI provider enhancement created to resolve [JDK-6782021][1] is incomplete, since it fails to work for a user who has read access to the private key but is not in the local Administrators group.\r\n\r\n&gt; *A post from 2019 explains how Microsoft&#39;s singtool can access a Local Machine code signing certificate from a non-elevated prompt.   But it\r\n&gt; did not discuss the similar issue with the OpenJDK&#39;s SunMSCAPI key\r\n&gt; store access provider:*\r\n&gt; \r\n&gt; [Why does signtool.exe only find certificate when run as admin?][2]\r\n&gt; \r\n&gt; *Note also that the user in that case was granted Full Control access to the private key, whereas only Read is access is needed if the use\r\n&gt; is strictly for signing code.*\r\n\r\nTo demonstrate the unfinished work in the JDK-6782021 enhancement, first create a self signed code signing certificate in the Local Computer&#39;s Personal certificate store from an elevated PowerShell:\r\n\r\n    $cert = New-SelfSignedCertificate -DNSName &quot;JDK-6782021 Read Only Test&quot; -CertStoreLocation Cert:\\LocalMachine\\My -Type CodeSigningCert -FriendlyName &quot;JDK-6782021&quot;\r\n&gt; Here is Microsoft&#39;s reference on how this works:\r\n&gt; \r\n&gt; [Powershell New-SelfSignedCert cmdlet][3]\r\n\r\nFrom a non-elevated command prompt, if you attempt to sign an EXE file with your new certificate using signtool.exe, it will fail.  This is because the user does not yet have read access to the private key.  Likewise, an attempt to sign a JAR file using jarsigner.exe will fail for the same underlying reason.  For example:\r\n\r\n    C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /sm /i &quot;JDK-6782021 Read Only Test&quot; MyApp.exe\r\n    SignTool Error: No certificates were found that met all the given criteria.\r\n    \r\n    C:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LocalMachine -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\r\n    jarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\r\n\r\nRunning the same commands from an elevated prompt results in success because, as we&#39;ll see below, the Administrators group was granted Full Control access when the certificate was created:\r\n\r\n    C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\r\n    Done Adding Additional Store\r\n    Successfully signed: MyApp.exe\r\n    \r\n    C:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\r\n    jar signed.\r\n\r\nTo grant access from the non-elevated prompt, launch the MMC, add the Certificates snap-in, select the Computer account, select the Local Computer, click Finish, and click Okay. Expand Certificates(Local Computer), expand Personal, and click Certificates.   Select the certificate issues to/by &quot;JDK-6782021 Read Only Test&quot;.   From the right click menu, select &quot;All Tasks / Manage Private Keys ...&quot;.   A Permissions dialog will pop up.  From there, Add your user to the list, and Allow only Read access.  Here is how it should should look:\r\n\r\n\r\n[![enter image description here][4]][4]\r\n \r\nOnce again test the code signing commands from the non-elevated command prompt:\r\n\r\n    C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\r\n    Done Adding Additional Store\r\n    Successfully signed: MyApp.exe\r\n    \r\n    C:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\r\n    jarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\r\n\r\nThe failure of the jarsigner in this circumstance was not expected.  Since `signtool` succeeded, `jarsigner` should also have succeeded.  If elevation is required for the SunMSCAPI key store access provider to access a Local Machine certificate, then `jarsigner` should have self-elevated.\r\n\r\nThe test case covering a non-administrative user, including read-only access to the private key of the certificate being accessed, may have been omitted in the testing of JDK-6782021.  It might also have been inadvertently tested from an elevated prompt.  Whatever the cause, the net result is that this functionality will fail for users forbidden from being members of a local Administrators group.\r\n\r\n**Update**:  A simple Java application can be used to trigger the exception reported by the OP.  For example:\r\n\r\n&gt; To prove the issue is with the SunMSCAPI provider, and not with\r\n&gt; jarsigner, run the following Java code in place of jarsigner in the\r\n&gt; test above:\r\n&gt; \r\n&gt;         try {\r\n&gt;             Security.addProvider(new SunMSCAPI());\r\n&gt;             KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;);\r\n&gt; \t\t\tkeyStore.load(null, null);\r\n&gt;             Enumeration&lt;String&gt; aliases = keyStore.aliases();\r\n&gt;             for (int i = 0 ; aliases.hasMoreElements() ; i++) {\r\n&gt; \t\t\t\tSystem.out.println( aliases.nextElement() );\r\n&gt;             }\r\n&gt;         } catch (Exception e) {\r\n&gt;             throw new RuntimeException(e);\r\n&gt;         }\r\n&gt; \r\n&gt; When executed without elevation, executing this code will also output\r\n&gt; the same stack trace reported above.  Otherwise, when executed with\r\n&gt; elevation, it will list the friendly names (aliases) of all\r\n&gt; certificates in the Windows Local Computer&#39;s personal certificates\r\n&gt; keystore, including &quot;JDK-6782021&quot;.\r\n\r\n\r\n**Update 2**:  This issue was opened as bug report for OpenJDK 17 and 20 on July 26, 2023:\r\n\r\n&gt; [**JDK-8313367** SunMSCAPI cannot read Local Computer certs w/o\r\n&gt; Windows elevation][5]\r\n\r\nTools used:\r\n - signtool.exe version 10.0.17763.0\r\n - jarsigner.exe and java.exe from OpenJDK 17.0.8 or 20.0.2\r\n\r\nOperating systems used:\r\n - Windows Server 2019\r\n - Windows 11 version 22H2\r\n\r\n \r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-6782021\r\n  [2]: https://stackoverflow.com/questions/56563732\r\n  [3]: https://learn.microsoft.com/en-us/powershell/module/pki/new-selfsignedcertificate?view=windowsserver2022-ps\r\n  [4]: https://i.stack.imgur.com/CixpL.png\r\n  [5]: https://bugs.openjdk.org/browse/JDK-8313367\r\n\r\n\r\n\r\n","title":"Java Keystore type Windows-MY/ROOT-LOCALMACHINE requires administrator permissions","body":"<p>I have experienced the same issue with accessing a code signing certificate deployed to the Windows-MY-LOCALMACHINE key store using the OpenJDK <code>jarsigner</code> utility.   I have concluded that the SunMSCAPI provider enhancement created to resolve <a href=\"https://bugs.openjdk.org/browse/JDK-6782021\" rel=\"nofollow noreferrer\">JDK-6782021</a> is incomplete, since it fails to work for a user who has read access to the private key but is not in the local Administrators group.</p>\n<blockquote>\n<p><em>A post from 2019 explains how Microsoft's singtool can access a Local Machine code signing certificate from a non-elevated prompt.   But it\ndid not discuss the similar issue with the OpenJDK's SunMSCAPI key\nstore access provider:</em></p>\n<p><a href=\"https://stackoverflow.com/questions/56563732\">Why does signtool.exe only find certificate when run as admin?</a></p>\n<p><em>Note also that the user in that case was granted Full Control access to the private key, whereas only Read is access is needed if the use\nis strictly for signing code.</em></p>\n</blockquote>\n<p>To demonstrate the unfinished work in the JDK-6782021 enhancement, first create a self signed code signing certificate in the Local Computer's Personal certificate store from an elevated PowerShell:</p>\n<pre><code>$cert = New-SelfSignedCertificate -DNSName &quot;JDK-6782021 Read Only Test&quot; -CertStoreLocation Cert:\\LocalMachine\\My -Type CodeSigningCert -FriendlyName &quot;JDK-6782021&quot;\n</code></pre>\n<blockquote>\n<p>Here is Microsoft's reference on how this works:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/powershell/module/pki/new-selfsignedcertificate?view=windowsserver2022-ps\" rel=\"nofollow noreferrer\">Powershell New-SelfSignedCert cmdlet</a></p>\n</blockquote>\n<p>From a non-elevated command prompt, if you attempt to sign an EXE file with your new certificate using signtool.exe, it will fail.  This is because the user does not yet have read access to the private key.  Likewise, an attempt to sign a JAR file using jarsigner.exe will fail for the same underlying reason.  For example:</p>\n<pre><code>C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /sm /i &quot;JDK-6782021 Read Only Test&quot; MyApp.exe\nSignTool Error: No certificates were found that met all the given criteria.\n\nC:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LocalMachine -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\njarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\n</code></pre>\n<p>Running the same commands from an elevated prompt results in success because, as we'll see below, the Administrators group was granted Full Control access when the certificate was created:</p>\n<pre><code>C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\nDone Adding Additional Store\nSuccessfully signed: MyApp.exe\n\nC:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\njar signed.\n</code></pre>\n<p>To grant access from the non-elevated prompt, launch the MMC, add the Certificates snap-in, select the Computer account, select the Local Computer, click Finish, and click Okay. Expand Certificates(Local Computer), expand Personal, and click Certificates.   Select the certificate issues to/by &quot;JDK-6782021 Read Only Test&quot;.   From the right click menu, select &quot;All Tasks / Manage Private Keys ...&quot;.   A Permissions dialog will pop up.  From there, Add your user to the list, and Allow only Read access.  Here is how it should should look:</p>\n<p><a href=\"https://i.stack.imgur.com/CixpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CixpL.png\" alt=\"enter image description here\" /></a></p>\n<p>Once again test the code signing commands from the non-elevated command prompt:</p>\n<pre><code>C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\nDone Adding Additional Store\nSuccessfully signed: MyApp.exe\n\nC:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\njarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\n</code></pre>\n<p>The failure of the jarsigner in this circumstance was not expected.  Since <code>signtool</code> succeeded, <code>jarsigner</code> should also have succeeded.  If elevation is required for the SunMSCAPI key store access provider to access a Local Machine certificate, then <code>jarsigner</code> should have self-elevated.</p>\n<p>The test case covering a non-administrative user, including read-only access to the private key of the certificate being accessed, may have been omitted in the testing of JDK-6782021.  It might also have been inadvertently tested from an elevated prompt.  Whatever the cause, the net result is that this functionality will fail for users forbidden from being members of a local Administrators group.</p>\n<p><strong>Update</strong>:  A simple Java application can be used to trigger the exception reported by the OP.  For example:</p>\n<blockquote>\n<p>To prove the issue is with the SunMSCAPI provider, and not with\njarsigner, run the following Java code in place of jarsigner in the\ntest above:</p>\n<pre><code>    try {\n        Security.addProvider(new SunMSCAPI());\n        KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;);\n      keyStore.load(null, null);\n        Enumeration&lt;String&gt; aliases = keyStore.aliases();\n        for (int i = 0 ; aliases.hasMoreElements() ; i++) {\n          System.out.println( aliases.nextElement() );\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>When executed without elevation, executing this code will also output\nthe same stack trace reported above.  Otherwise, when executed with\nelevation, it will list the friendly names (aliases) of all\ncertificates in the Windows Local Computer's personal certificates\nkeystore, including &quot;JDK-6782021&quot;.</p>\n</blockquote>\n<p><strong>Update 2</strong>:  This issue was opened as bug report for OpenJDK 17 and 20 on July 26, 2023:</p>\n<blockquote>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8313367\" rel=\"nofollow noreferrer\"><strong>JDK-8313367</strong> SunMSCAPI cannot read Local Computer certs w/o\nWindows elevation</a></p>\n</blockquote>\n<p>Tools used:</p>\n<ul>\n<li>signtool.exe version 10.0.17763.0</li>\n<li>jarsigner.exe and java.exe from OpenJDK 17.0.8 or 20.0.2</li>\n</ul>\n<p>Operating systems used:</p>\n<ul>\n<li>Windows Server 2019</li>\n<li>Windows 11 version 22H2</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2856379,"reputation":364,"user_id":2452569,"display_name":"mpderbec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701016526,"creation_date":1701016526,"answer_id":77552557,"question_id":75255985,"body_markdown":"If it helps to have code that works independent of whether any of the JDK bugs (mentioned elsewhere on this page) are fixed, consider this alternative: https://stackoverflow.com/a/77552537/2452569","title":"Java Keystore type Windows-MY/ROOT-LOCALMACHINE requires administrator permissions","body":"<p>If it helps to have code that works independent of whether any of the JDK bugs (mentioned elsewhere on this page) are fixed, consider this alternative: <a href=\"https://stackoverflow.com/a/77552537/2452569\">https://stackoverflow.com/a/77552537/2452569</a></p>\n"}],"owner":{"account_id":15134083,"reputation":11,"user_id":10921069,"display_name":"Andreas Gusenbauer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701016526,"creation_date":1674810527,"question_id":75255985,"body_markdown":"Last year they finally fixed the issue with accessing certificates from the local machine (https://bugs.openjdk.org/browse/JDK-6782021).\r\nBut it seems that accessing these certificates requires local administrator permissions - even if the user has the permission for certain certificates. How does this make sense?\r\nSo I can automatically deploy certificates to certain machines via a certificate template and grant &quot;Local service&quot; users permissions to the private key, but I&#39;m not able to get these certificates! I would understand that I cann&#39;t change/store certificates, but why cann&#39;t I read them?\r\nIf i run the application as administrator or the used service user is a local administrator everything works fine. But I don&#39;t want to use such users due security reasons.\r\n\r\nI don&#39;t want to use this hack anymore ;)\r\nhttps://stackoverflow.com/questions/51205158/access-windows-local-machine-personal-keystore-with-java-sunmscapi/51855449\r\n\r\nfinal KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;, &quot;SunMSCAPI&quot;);\r\nkeyStore.load(null, null);\r\n\r\njava.io.IOException: java.security.KeyStoreException: Access is denied\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:737)\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore$MYLocalMachine.engineLoad(CKeyStore.java:72)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1473)\r\n\tat KeyStoreUtil.main(KeyStoreUtil.java:65)\r\nCaused by: java.security.KeyStoreException: Access is denied\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.loadKeysOrCertificateChains(Native Method)\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:734)\r\n\t... 3 more","title":"Java Keystore type Windows-MY/ROOT-LOCALMACHINE requires administrator permissions","body":"<p>Last year they finally fixed the issue with accessing certificates from the local machine (<a href=\"https://bugs.openjdk.org/browse/JDK-6782021\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6782021</a>).\nBut it seems that accessing these certificates requires local administrator permissions - even if the user has the permission for certain certificates. How does this make sense?\nSo I can automatically deploy certificates to certain machines via a certificate template and grant &quot;Local service&quot; users permissions to the private key, but I'm not able to get these certificates! I would understand that I cann't change/store certificates, but why cann't I read them?\nIf i run the application as administrator or the used service user is a local administrator everything works fine. But I don't want to use such users due security reasons.</p>\n<p>I don't want to use this hack anymore ;)\n<a href=\"https://stackoverflow.com/questions/51205158/access-windows-local-machine-personal-keystore-with-java-sunmscapi/51855449\">Access Windows Local Machine Personal Keystore with Java (SunMSCAPI)</a></p>\n<p>final KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;, &quot;SunMSCAPI&quot;);\nkeyStore.load(null, null);</p>\n<p>java.io.IOException: java.security.KeyStoreException: Access is denied\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:737)\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore$MYLocalMachine.engineLoad(CKeyStore.java:72)\nat java.base/java.security.KeyStore.load(KeyStore.java:1473)\nat KeyStoreUtil.main(KeyStoreUtil.java:65)\nCaused by: java.security.KeyStoreException: Access is denied\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.loadKeysOrCertificateChains(Native Method)\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:734)\n... 3 more</p>\n"},{"tags":["java","amazon-cognito","custom-authentication"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700990460,"post_id":77550958,"comment_id":136717634,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19635603,"reputation":1,"user_id":14372935,"display_name":"User123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701015848,"creation_date":1700987172,"question_id":77550958,"body_markdown":"I&#39;m trying to automate the login of my application but it uses AWS cognito service for authentication and the auth flow is CUSTOM_AUTH. Is it possible to automate this login using the initiateAuth if I just have the username, clientId and user pool id   along with the AWS java SDK without the access key and client secret?I&#39;m trying to get the accessToken and ID token as the the response of initiateAuth.\r\n\r\nTried out the below code but getting error &#39;com.amazonaws.services.cognitoidp.model.UserLambdaValidationException: DefineAuthChallenge failed with error Cannot read properties of undefined (reading &#39;challengeName&#39;)&#39;\r\n\r\n    final String clientId = &quot;clientId&quot;;\r\n        final String region = &quot;region&quot;;\r\n        final String username = &quot;username&quot;;\r\n        final String password = &quot;pwd&quot;;\r\n\r\n        AWSCognitoIdentityProvider cognitoClient = AWSCognitoIdentityProviderClientBuilder.standard()\r\n                .withRegion(region)\r\n                .build();\r\n        final Map&lt;String, String&gt; authParams = new HashMap&lt;&gt;();\r\n        authParams.put(&quot;USERNAME&quot;, username);\r\n        authParams.put(&quot;PASSWORD&quot;, password);\r\n        final InitiateAuthRequest authRequest = new InitiateAuthRequest();\r\n        authRequest.withAuthFlow(AuthFlowType.CUSTOM_AUTH)\r\n                .withClientId(clientId)\r\n                .withAuthParameters(authParams);\r\n        InitiateAuthResult result = cognitoClient.initiateAuth(authRequest);\r\n","title":"Automate login of application that uses AWS cognito with CUSTOM_AUTH authentication flow","body":"<p>I'm trying to automate the login of my application but it uses AWS cognito service for authentication and the auth flow is CUSTOM_AUTH. Is it possible to automate this login using the initiateAuth if I just have the username, clientId and user pool id   along with the AWS java SDK without the access key and client secret?I'm trying to get the accessToken and ID token as the the response of initiateAuth.</p>\n<p>Tried out the below code but getting error 'com.amazonaws.services.cognitoidp.model.UserLambdaValidationException: DefineAuthChallenge failed with error Cannot read properties of undefined (reading 'challengeName')'</p>\n<pre><code>final String clientId = &quot;clientId&quot;;\n    final String region = &quot;region&quot;;\n    final String username = &quot;username&quot;;\n    final String password = &quot;pwd&quot;;\n\n    AWSCognitoIdentityProvider cognitoClient = AWSCognitoIdentityProviderClientBuilder.standard()\n            .withRegion(region)\n            .build();\n    final Map&lt;String, String&gt; authParams = new HashMap&lt;&gt;();\n    authParams.put(&quot;USERNAME&quot;, username);\n    authParams.put(&quot;PASSWORD&quot;, password);\n    final InitiateAuthRequest authRequest = new InitiateAuthRequest();\n    authRequest.withAuthFlow(AuthFlowType.CUSTOM_AUTH)\n            .withClientId(clientId)\n            .withAuthParameters(authParams);\n    InitiateAuthResult result = cognitoClient.initiateAuth(authRequest);\n</code></pre>\n"},{"tags":["java","intellij-idea","java.util.concurrent","java-21"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1701000292,"post_id":77551293,"comment_id":136718447,"body_markdown":"Looks like an IntelliJ cache problem. Try removing the out directory and rebuild it again, if that doesn&#39;t help try to invalidate the IntelliJ cache and restart.","body":"Looks like an IntelliJ cache problem. Try removing the out directory and rebuild it again, if that doesn&#39;t help try to invalidate the IntelliJ cache and restart."},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1701095097,"post_id":77551293,"comment_id":136728880,"body_markdown":"Actually, I&#39;ve tried to invalidate caches and recreated .idea folder, but it didn&#39;t help. As I mentioned in the answer, only IntelliJ update to the last version fixed this issue.","body":"Actually, I&#39;ve tried to invalidate caches and recreated .idea folder, but it didn&#39;t help. As I mentioned in the answer, only IntelliJ update to the last version fixed this issue."}],"answers":[{"tags":[],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700994896,"creation_date":1700994896,"answer_id":77551294,"question_id":77551293,"body_markdown":"While searching, I found a solution. \r\n\r\nFollowing [the same kind of issue discussed in this topic][1], I manually updated IntelliJ to version 2023.2.5 one more time, and now the issue is resolved.\r\n\r\n**It appears that when updating IntelliJ, it may be necessary to perform the update process multiple times consecutively.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77141340/cant-use-latest-java-version-jdk-21-in-intellij-idea","title":"IntelliJ IDEA + JDK 21 issue with java.util.concurrent package - TimeUnit class not available","body":"<p>While searching, I found a solution.</p>\n<p>Following <a href=\"https://stackoverflow.com/questions/77141340/cant-use-latest-java-version-jdk-21-in-intellij-idea\">the same kind of issue discussed in this topic</a>, I manually updated IntelliJ to version 2023.2.5 one more time, and now the issue is resolved.</p>\n<p><strong>It appears that when updating IntelliJ, it may be necessary to perform the update process multiple times consecutively.</strong></p>\n"}],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77551294,"answer_count":1,"score":1,"last_activity_date":1701015406,"creation_date":1700994896,"question_id":77551293,"body_markdown":"I have an issue when I am trying to use TimeUnit class from java.util.concurrent. It happens with **Oracle JDK 21.0.1** (configurations are below) + **IntelliJ IDEA 2023.1.5** (Community Edition) - *the latest update at the current moment (UPDATE: As I thought in the beginning since I&#39;ve run update - look a solution below).*\r\n\r\nConfiguration on my computer (get by *java -version* in console):\r\n\r\n&gt; java version &quot;21.0.1&quot; 2023-10-17 LTS \r\n\r\n&gt; Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29) \r\n\r\n&gt; Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\r\n\r\nAnd I&#39;ve checked that I set up JDK 21 in IntelliJ Project Structure menu including Project and Modules sections.\r\n\r\nOn the screenshot below you can see a basic class created for test purposes. Some concurrent package classes are imported fine, but not `TimeUnit` class for some reason.\r\n\r\n[![The issue screenshot][1]][1]\r\n\r\nMeanwhile you can see on the screenshot that app works despite the issue when I run it.\r\n\r\nWhen I am using java 17 in IDE configurations, I don&#39;t see the issue.\r\n\r\n**Could you please help to understand why this issue happens and how to fix it?**\r\n\r\nOne more thing. When I go to &quot;About IntelliJ IDEA&quot; menu, I see the next configuration:\r\n&gt; Runtime version: 17.0.7+10-b829.16 aarch64 VM: OpenJDK 64-Bit Server\r\n&gt; VM by JetBrains s.r.o.\r\n\r\nI am not sure why it says version 17, **could it be a reason of the issue?**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PCU1D.png","title":"IntelliJ IDEA + JDK 21 issue with java.util.concurrent package - TimeUnit class not available","body":"<p>I have an issue when I am trying to use TimeUnit class from java.util.concurrent. It happens with <strong>Oracle JDK 21.0.1</strong> (configurations are below) + <strong>IntelliJ IDEA 2023.1.5</strong> (Community Edition) - <em>the latest update at the current moment (UPDATE: As I thought in the beginning since I've run update - look a solution below).</em></p>\n<p>Configuration on my computer (get by <em>java -version</em> in console):</p>\n<blockquote>\n<p>java version &quot;21.0.1&quot; 2023-10-17 LTS</p>\n</blockquote>\n<blockquote>\n<p>Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)</p>\n</blockquote>\n<blockquote>\n<p>Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)</p>\n</blockquote>\n<p>And I've checked that I set up JDK 21 in IntelliJ Project Structure menu including Project and Modules sections.</p>\n<p>On the screenshot below you can see a basic class created for test purposes. Some concurrent package classes are imported fine, but not <code>TimeUnit</code> class for some reason.</p>\n<p><a href=\"https://i.stack.imgur.com/PCU1D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PCU1D.png\" alt=\"The issue screenshot\" /></a></p>\n<p>Meanwhile you can see on the screenshot that app works despite the issue when I run it.</p>\n<p>When I am using java 17 in IDE configurations, I don't see the issue.</p>\n<p><strong>Could you please help to understand why this issue happens and how to fix it?</strong></p>\n<p>One more thing. When I go to &quot;About IntelliJ IDEA&quot; menu, I see the next configuration:</p>\n<blockquote>\n<p>Runtime version: 17.0.7+10-b829.16 aarch64 VM: OpenJDK 64-Bit Server\nVM by JetBrains s.r.o.</p>\n</blockquote>\n<p>I am not sure why it says version 17, <strong>could it be a reason of the issue?</strong></p>\n"},{"tags":["java","intellij-idea","plugins"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701016806,"post_id":77551813,"comment_id":136720083,"body_markdown":"Did you try contacting the maintainer of that plugin/creating an issue in the corresponding issue tracker?","body":"Did you try contacting the maintainer of that plugin/creating an issue in the corresponding issue tracker?"},{"owner":{"account_id":29996424,"reputation":11,"user_id":22987690,"display_name":"Ivan Kazantsev"},"score":0,"creation_date":1701036894,"post_id":77551813,"comment_id":136722156,"body_markdown":"Earlier did not write, now sent an email, will wait for a response, but in any case if anyone has encountered such a problem and can explain the reasons why the plugin may not work, would be grateful.","body":"Earlier did not write, now sent an email, will wait for a response, but in any case if anyone has encountered such a problem and can explain the reasons why the plugin may not work, would be grateful."}],"owner":{"account_id":29996424,"reputation":11,"user_id":22987690,"display_name":"Ivan Kazantsev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701014824,"creation_date":1701004336,"question_id":77551813,"body_markdown":"I have installed the &#39;Thread Access Info&#39; plugin in IntelliJ IDEA, but it seems not to be working. Ideally, when debugging code, a separate &#39;Thread Access&#39; tab should appear, showing what&#39;s happening with the thread, but it&#39;s not showing up for me. I&#39;m coding in Java.\r\n\r\nCould you please help me understand why it&#39;s not working?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nInstalled the plugin, tried reinstalling, nothing helped\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WHXff.jpg\r\n  [2]: https://i.stack.imgur.com/OXvV5.jpg","title":"Thread access info plugin for Inteliji Idea","body":"<p>I have installed the 'Thread Access Info' plugin in IntelliJ IDEA, but it seems not to be working. Ideally, when debugging code, a separate 'Thread Access' tab should appear, showing what's happening with the thread, but it's not showing up for me. I'm coding in Java.</p>\n<p>Could you please help me understand why it's not working?</p>\n<p><a href=\"https://i.stack.imgur.com/WHXff.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHXff.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OXvV5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OXvV5.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Installed the plugin, tried reinstalling, nothing helped</p>\n"},{"tags":["java","apache","ssl","handshake"],"answers":[{"tags":[],"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467163659,"creation_date":1467155830,"answer_id":38087789,"question_id":38082320,"body_markdown":"&gt; What makes the server send the certificate request, causing the ouput &quot;*** CertificateRequest&quot; on the client? \r\n\r\nA call to `SSL_CTX_set_client_CA_list` at the server. Its a list of distinguished names. Also see the [`SSL_CTX_set_client_CA_list` man page](http://www.openssl.org/docs/manmaster/ssl/SSL_add_client_CA.html).\r\n\r\nThe server will also need to call `SSL_CTX_load_verify_locations` to establish the trust in the CAs. Also see [`SSL_CTX_load_verify_locations` man page](http://www.openssl.org/docs/manmaster/ssl/SSL_CTX_load_verify_locations.html).\r\n\r\n-----\r\n\r\n&gt; Is the setting &quot;SSLVerifyClient none&quot; not preventing the certificate request?\r\n\r\nPossibly. From the [`SSL_CTX_set_verify` man page](http://www.openssl.org/docs/manmaster/ssl/SSL_CTX_set_verify.html), you need `SSL_VERIFY_PEER` and possibly `SSL_VERIFY_FAIL_IF_NO_PEER_CERT`.\r\n\r\n-----\r\n\r\n&gt; Any suggestions on what to look at next?\r\n\r\nYou should show your relevant Java code.\r\n\r\nYou should state the OpenSSL version used by the server and the client.","title":"Intermittent SSL handshake error with Apache HTTP Server","body":"<blockquote>\n  <p>What makes the server send the certificate request, causing the ouput \"*** CertificateRequest\" on the client? </p>\n</blockquote>\n\n<p>A call to <code>SSL_CTX_set_client_CA_list</code> at the server. Its a list of distinguished names. Also see the <a href=\"http://www.openssl.org/docs/manmaster/ssl/SSL_add_client_CA.html\" rel=\"nofollow\"><code>SSL_CTX_set_client_CA_list</code> man page</a>.</p>\n\n<p>The server will also need to call <code>SSL_CTX_load_verify_locations</code> to establish the trust in the CAs. Also see <a href=\"http://www.openssl.org/docs/manmaster/ssl/SSL_CTX_load_verify_locations.html\" rel=\"nofollow\"><code>SSL_CTX_load_verify_locations</code> man page</a>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Is the setting \"SSLVerifyClient none\" not preventing the certificate request?</p>\n</blockquote>\n\n<p>Possibly. From the <a href=\"http://www.openssl.org/docs/manmaster/ssl/SSL_CTX_set_verify.html\" rel=\"nofollow\"><code>SSL_CTX_set_verify</code> man page</a>, you need <code>SSL_VERIFY_PEER</code> and possibly <code>SSL_VERIFY_FAIL_IF_NO_PEER_CERT</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Any suggestions on what to look at next?</p>\n</blockquote>\n\n<p>You should show your relevant Java code.</p>\n\n<p>You should state the OpenSSL version used by the server and the client.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467163203,"creation_date":1467163203,"answer_id":38088772,"question_id":38082320,"body_markdown":"&gt; What makes the server send the certificate request, causing the ouput &quot;*** CertificateRequest&quot; on the client?\r\n\r\nSomewhere you have `SSLVerifyClient` set to &#39;optional&#39; or higher, possibly in a .htaccess file, which is why you can&#39;t find it in the configuration files. This overrides `SSLVerifyClient none&#39; set globally.","title":"Intermittent SSL handshake error with Apache HTTP Server","body":"<blockquote>\n  <p>What makes the server send the certificate request, causing the ouput \"*** CertificateRequest\" on the client?</p>\n</blockquote>\n\n<p>Somewhere you have <code>SSLVerifyClient</code> set to 'optional' or higher, possibly in a .htaccess file, which is why you can't find it in the configuration files. This overrides `SSLVerifyClient none' set globally.</p>\n"},{"tags":[],"owner":{"account_id":1153544,"reputation":404,"user_id":1134748,"display_name":"JanDasWiesel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467825777,"creation_date":1467825777,"answer_id":38230024,"question_id":38082320,"body_markdown":"After long and tedious debugging and analysis I would like to report the findings. The problem is related to the first `ClientHello` message of the TLS handshake as sent by the client.\r\n\r\nJava 7 and Java 8 clients (and probably all modern browsers) use the &quot;Server Name Indication&quot; (SNI) extension. The problem only occurs when this extension is used. Java 6 clients don&#39;t send it, and the problem never occurred there. The problem occurred with TLSv1 and TLSv1.2 - we never observed TLSv1.1 requests so I cannot comment.\r\n\r\nFor Java 7 and 8 clients to prevent the issue we can set `-Djsse.enableSNIExtension=false` which stops the client sending the SNI extension.\r\n\r\nWe will try to change the `httpd.conf` configuration (and included files) to see if we can get the server to behave well. I may post information if we&#39;re successful, i.e. if there is a server-side workaround for this. The above mentioned Java switch is a client-side workaround which is at least good enough for our nightly builds.","title":"Intermittent SSL handshake error with Apache HTTP Server","body":"<p>After long and tedious debugging and analysis I would like to report the findings. The problem is related to the first <code>ClientHello</code> message of the TLS handshake as sent by the client.</p>\n\n<p>Java 7 and Java 8 clients (and probably all modern browsers) use the \"Server Name Indication\" (SNI) extension. The problem only occurs when this extension is used. Java 6 clients don't send it, and the problem never occurred there. The problem occurred with TLSv1 and TLSv1.2 - we never observed TLSv1.1 requests so I cannot comment.</p>\n\n<p>For Java 7 and 8 clients to prevent the issue we can set <code>-Djsse.enableSNIExtension=false</code> which stops the client sending the SNI extension.</p>\n\n<p>We will try to change the <code>httpd.conf</code> configuration (and included files) to see if we can get the server to behave well. I may post information if we're successful, i.e. if there is a server-side workaround for this. The above mentioned Java switch is a client-side workaround which is at least good enough for our nightly builds.</p>\n"}],"owner":{"account_id":1153544,"reputation":404,"user_id":1134748,"display_name":"JanDasWiesel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9620,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1701014805,"creation_date":1467133711,"question_id":38082320,"body_markdown":"I am seeing intermittent SSL handshake errors with Java clients and browsers accessing a site through an Apache HTTP server. This happens rarely, but it breaks builds and impacts user experience every day. The server is configured to establish a secure connection, but to not require a certificate from the client.\r\n\r\nI&#39;ve turned on SSL debug output on both a Java test client and the server (see below). What I am observing is that whenever the handshake exception occurs the server seems to have sent a request for a client certificate. I do not understand why it would ever do so, and why this only happens sporadically. When it does send the certificate request, the error occurs almost always, however I have also captured requests where this succeeded (maybe 1% of the time, with 99% failing).\r\n\r\nThe client uses Java 8 (1.8.0_31-b13), the Apache HTTP server version is 2.2.19.\r\n\r\nHere are snippets from the logs:\r\n\r\n1) Apache config excerpt\r\n\r\n    SSLProtocol ALL -SSLv2 -SSLv3\r\n    SSLCertificateFile &lt;path-to-pem1&gt;\r\n    SSLCertificateChainFile &lt;path-to-pem2&gt;\r\n    SSLCACertificateFile &lt;path-to-pem3&gt;\r\n    SSLVerifyDepth 10\r\n    SSLVerifyClient none\r\n\r\nThe .pem files are world-readable.\r\n\r\n2) Client log (severly abbreviated)\r\n\r\n    *** ClientHello, TLSv1.2\r\n    ***\r\n    *** ServerHello, TLSv1\r\n    ***\r\n    *** Certificate chain\r\n    ***\r\n    *** Diffie-Hellman ServerKeyExchange\r\n    *** CertificateRequest\r\n    *** ServerHelloDone\r\n    *** Certificate chain\r\n    ***\r\n    *** ClientKeyExchange, DH\r\n    *** Finished\r\n    ***\r\n    ...\r\n    main, WRITE: TLSv1 Handshake, length = 48\r\n    main, waiting for close_notify or alert: state 1\r\n    main, Exception while waiting for close java.net.SocketException: Software caused connection abort: recv failed\r\n    main, handling exception: java.net.SocketException: Software caused connection abort: recv failed\r\n    %% Invalidated:  [Session-1, TLS_DHE_RSA_WITH_AES_128_CBC_SHA]\r\n    main, SEND TLSv1 ALERT:  fatal, description = unexpected_message\r\n    ...\r\n    main, WRITE: TLSv1 Alert, length = 32\r\n    main, Exception sending alert: java.net.SocketException: Software caused connection abort: socket write error\r\n    main, called closeSocket()\r\n\r\n3) Server log (abbreviated)\r\n\r\n    [info] [client x.x.x.x] Connection to child 1 established (server XXX:443)\r\n    [info] Seeding PRNG with 0 bytes of entropy\r\n    [debug] ssl_engine_kernel.c(1866): OpenSSL: Handshake: start\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: before/accept initialization\r\n    [debug] ssl_engine_io.c(1897): OpenSSL: read 11/11 bytes from BIO#82f6820 [mem: 82c5290] (BIO dump follows)\r\n    [debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX                 ...........      |\r\n    [debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1897): OpenSSL: read 245/245 bytes from BIO#82f6820 [mem: 82c529b] (BIO dump follows)\r\n    [debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX XX XX XX XX XX  ................ |\r\n    ...\r\n    [debug] ssl_engine_io.c(1869): | 00f0: XX XX XX XX XX                                   .....            |\r\n    [debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_kernel.c(1987): [client x.x.x.x] SSL virtual host for servername XXX found\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 read client hello A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write server hello A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write certificate A\r\n    [debug] ssl_engine_kernel.c(1274): [client x.x.x.x] handing out temporary 1024 bit DH key\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write key exchange A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write certificate request A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 flush data\r\n    [debug] ssl_engine_io.c(1897): OpenSSL: read 5/5 bytes from BIO#82f6820 [mem: 82c5290] (BIO dump follows)\r\n    [debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1869): | 0000: 16 03 01 00 8d                                   .....            |\r\n    [debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1897): OpenSSL: read 141/141 bytes from BIO#82f6820 [mem: 82c5295] (BIO dump follows)\r\n    [debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX XX XX XX XX XX  ................ |\r\n    ...\r\n    [debug] ssl_engine_io.c(1869): | 0080: XX XX XX XX XX XX XX XX-XX XX XX XX XX           .............    |\r\n    [debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_kernel.c(1884): OpenSSL: Write: SSLv3 read client certificate B\r\n    [debug] ssl_engine_kernel.c(1903): OpenSSL: Exit: error in SSLv3 read client certificate B\r\n    [debug] ssl_engine_kernel.c(1903): OpenSSL: Exit: error in SSLv3 read client certificate B\r\n    [info] [client x.x.x.x] SSL library error 1 in handshake (server XXX:443)\r\n    [info] SSL Library Error: 336105671 error:140890C7:SSL routines:SSL3_GET_CLIENT_CERTIFICATE:peer did not return a certificate No CAs known to server for verification?\r\n    [info] [client x.x.x.x] Connection closed to child 1 with abortive shutdown (server XXX:443)\r\n\r\nIn good cases we consistently see no &quot;*** CertificateRequest&quot; on the client and output like this on the server\r\n\r\n    [debug] ssl_engine_kernel.c(1987): [client x.x.x.x] SSL virtual host for servername XXX found\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 read client hello A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write server hello A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write certificate A\r\n    [debug] ssl_engine_kernel.c(1274): [client x.x.x.x] handing out temporary 1024 bit DH key\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write key exchange A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write server done A\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 flush data\r\n    [debug] ssl_engine_io.c(1897): OpenSSL: read 5/5 bytes from BIO#82d82d8 [mem: 82c8790] (BIO dump follows)\r\n    [debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1869): | 0000: 16 03 01 00 86                                   .....            |\r\n    [debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1897): OpenSSL: read 134/134 bytes from BIO#82d82d8 [mem: 82c8795] (BIO dump follows)\r\n    [debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX XX XX XX XX XX  ................ |\r\n    ...\r\n    [debug] ssl_engine_io.c(1869): | 0080: XX XX XX XX XX XX                                ......           |\r\n    [debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\r\n    [debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 read client key exchange A\r\n\r\nJava client code outline:\r\n\r\n    URL url = new URL(&quot;https://...&quot;);\r\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + DatatypeConverter.printBase64Binary((user + &quot;:&quot; + pass).getBytes(Charset.forName(&quot;UTF-8&quot;))));\r\n    connection.setReadTimeout(60*1000);\r\n    connection.setUseCaches(false);\r\n    connection.connect();\r\n\r\nRun with\r\n\r\n    java -Djavax.net.ssl.trustStore=... -Djavax.net.ssl.trustStoreType=jks -Djavax.net.ssl.trustStorePassword=... -Djavax.net.debug=all ...\r\n\r\nQuestions:\r\n\r\n 1. What makes the server send the certificate request, causing the\r\n    ouput &quot;*** CertificateRequest&quot; on the client? \r\n 1. Is the setting &quot;SSLVerifyClient none&quot; not preventing the certificate request?\r\n 1. Any suggestions on what to look at next?\r\n\r\n\r\n**Update**: I noticed that the Java client never shows the error when Java 6 is used. The problem occurs with Java 7 and 8, and in Chrome, Internet Explorer and Firefox. This seems to point to an issue with TLSv1.1 or TLSv1.2 (see also https://serverfault.com/questions/513961/how-to-disable-tls-1-1-1-2-in-apache &quot;OpenSSL v1.0.1 has some known issues with TLSv1.2&quot;). I will try to at least check if disabling TLSv1.1/2 in the Java client will make the problem go away.","title":"Intermittent SSL handshake error with Apache HTTP Server","body":"<p>I am seeing intermittent SSL handshake errors with Java clients and browsers accessing a site through an Apache HTTP server. This happens rarely, but it breaks builds and impacts user experience every day. The server is configured to establish a secure connection, but to not require a certificate from the client.</p>\n\n<p>I've turned on SSL debug output on both a Java test client and the server (see below). What I am observing is that whenever the handshake exception occurs the server seems to have sent a request for a client certificate. I do not understand why it would ever do so, and why this only happens sporadically. When it does send the certificate request, the error occurs almost always, however I have also captured requests where this succeeded (maybe 1% of the time, with 99% failing).</p>\n\n<p>The client uses Java 8 (1.8.0_31-b13), the Apache HTTP server version is 2.2.19.</p>\n\n<p>Here are snippets from the logs:</p>\n\n<p>1) Apache config excerpt</p>\n\n<pre><code>SSLProtocol ALL -SSLv2 -SSLv3\nSSLCertificateFile &lt;path-to-pem1&gt;\nSSLCertificateChainFile &lt;path-to-pem2&gt;\nSSLCACertificateFile &lt;path-to-pem3&gt;\nSSLVerifyDepth 10\nSSLVerifyClient none\n</code></pre>\n\n<p>The .pem files are world-readable.</p>\n\n<p>2) Client log (severly abbreviated)</p>\n\n<pre><code>*** ClientHello, TLSv1.2\n***\n*** ServerHello, TLSv1\n***\n*** Certificate chain\n***\n*** Diffie-Hellman ServerKeyExchange\n*** CertificateRequest\n*** ServerHelloDone\n*** Certificate chain\n***\n*** ClientKeyExchange, DH\n*** Finished\n***\n...\nmain, WRITE: TLSv1 Handshake, length = 48\nmain, waiting for close_notify or alert: state 1\nmain, Exception while waiting for close java.net.SocketException: Software caused connection abort: recv failed\nmain, handling exception: java.net.SocketException: Software caused connection abort: recv failed\n%% Invalidated:  [Session-1, TLS_DHE_RSA_WITH_AES_128_CBC_SHA]\nmain, SEND TLSv1 ALERT:  fatal, description = unexpected_message\n...\nmain, WRITE: TLSv1 Alert, length = 32\nmain, Exception sending alert: java.net.SocketException: Software caused connection abort: socket write error\nmain, called closeSocket()\n</code></pre>\n\n<p>3) Server log (abbreviated)</p>\n\n<pre><code>[info] [client x.x.x.x] Connection to child 1 established (server XXX:443)\n[info] Seeding PRNG with 0 bytes of entropy\n[debug] ssl_engine_kernel.c(1866): OpenSSL: Handshake: start\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: before/accept initialization\n[debug] ssl_engine_io.c(1897): OpenSSL: read 11/11 bytes from BIO#82f6820 [mem: 82c5290] (BIO dump follows)\n[debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX                 ...........      |\n[debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1897): OpenSSL: read 245/245 bytes from BIO#82f6820 [mem: 82c529b] (BIO dump follows)\n[debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX XX XX XX XX XX  ................ |\n...\n[debug] ssl_engine_io.c(1869): | 00f0: XX XX XX XX XX                                   .....            |\n[debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\n[debug] ssl_engine_kernel.c(1987): [client x.x.x.x] SSL virtual host for servername XXX found\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 read client hello A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write server hello A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write certificate A\n[debug] ssl_engine_kernel.c(1274): [client x.x.x.x] handing out temporary 1024 bit DH key\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write key exchange A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write certificate request A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 flush data\n[debug] ssl_engine_io.c(1897): OpenSSL: read 5/5 bytes from BIO#82f6820 [mem: 82c5290] (BIO dump follows)\n[debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1869): | 0000: 16 03 01 00 8d                                   .....            |\n[debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1897): OpenSSL: read 141/141 bytes from BIO#82f6820 [mem: 82c5295] (BIO dump follows)\n[debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX XX XX XX XX XX  ................ |\n...\n[debug] ssl_engine_io.c(1869): | 0080: XX XX XX XX XX XX XX XX-XX XX XX XX XX           .............    |\n[debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\n[debug] ssl_engine_kernel.c(1884): OpenSSL: Write: SSLv3 read client certificate B\n[debug] ssl_engine_kernel.c(1903): OpenSSL: Exit: error in SSLv3 read client certificate B\n[debug] ssl_engine_kernel.c(1903): OpenSSL: Exit: error in SSLv3 read client certificate B\n[info] [client x.x.x.x] SSL library error 1 in handshake (server XXX:443)\n[info] SSL Library Error: 336105671 error:140890C7:SSL routines:SSL3_GET_CLIENT_CERTIFICATE:peer did not return a certificate No CAs known to server for verification?\n[info] [client x.x.x.x] Connection closed to child 1 with abortive shutdown (server XXX:443)\n</code></pre>\n\n<p>In good cases we consistently see no \"*** CertificateRequest\" on the client and output like this on the server</p>\n\n<pre><code>[debug] ssl_engine_kernel.c(1987): [client x.x.x.x] SSL virtual host for servername XXX found\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 read client hello A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write server hello A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write certificate A\n[debug] ssl_engine_kernel.c(1274): [client x.x.x.x] handing out temporary 1024 bit DH key\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write key exchange A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 write server done A\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 flush data\n[debug] ssl_engine_io.c(1897): OpenSSL: read 5/5 bytes from BIO#82d82d8 [mem: 82c8790] (BIO dump follows)\n[debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1869): | 0000: 16 03 01 00 86                                   .....            |\n[debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1897): OpenSSL: read 134/134 bytes from BIO#82d82d8 [mem: 82c8795] (BIO dump follows)\n[debug] ssl_engine_io.c(1830): +-------------------------------------------------------------------------+\n[debug] ssl_engine_io.c(1869): | 0000: XX XX XX XX XX XX XX XX-XX XX XX XX XX XX XX XX  ................ |\n...\n[debug] ssl_engine_io.c(1869): | 0080: XX XX XX XX XX XX                                ......           |\n[debug] ssl_engine_io.c(1875): +-------------------------------------------------------------------------+\n[debug] ssl_engine_kernel.c(1874): OpenSSL: Loop: SSLv3 read client key exchange A\n</code></pre>\n\n<p>Java client code outline:</p>\n\n<pre><code>URL url = new URL(\"https://...\");\nHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\nconnection.setRequestProperty(\"Authorization\", \"Basic \" + DatatypeConverter.printBase64Binary((user + \":\" + pass).getBytes(Charset.forName(\"UTF-8\"))));\nconnection.setReadTimeout(60*1000);\nconnection.setUseCaches(false);\nconnection.connect();\n</code></pre>\n\n<p>Run with</p>\n\n<pre><code>java -Djavax.net.ssl.trustStore=... -Djavax.net.ssl.trustStoreType=jks -Djavax.net.ssl.trustStorePassword=... -Djavax.net.debug=all ...\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>What makes the server send the certificate request, causing the\nouput \"*** CertificateRequest\" on the client? </li>\n<li>Is the setting \"SSLVerifyClient none\" not preventing the certificate request?</li>\n<li>Any suggestions on what to look at next?</li>\n</ol>\n\n<p><strong>Update</strong>: I noticed that the Java client never shows the error when Java 6 is used. The problem occurs with Java 7 and 8, and in Chrome, Internet Explorer and Firefox. This seems to point to an issue with TLSv1.1 or TLSv1.2 (see also <a href=\"https://serverfault.com/questions/513961/how-to-disable-tls-1-1-1-2-in-apache\">https://serverfault.com/questions/513961/how-to-disable-tls-1-1-1-2-in-apache</a> \"OpenSSL v1.0.1 has some known issues with TLSv1.2\"). I will try to at least check if disabling TLSv1.1/2 in the Java client will make the problem go away.</p>\n"},{"tags":["java","maven","cxf","jax-ws","weblogic-10.x"],"comments":[{"owner":{"account_id":271676,"reputation":176,"user_id":562340,"display_name":"Deep Saurabh"},"score":1,"creation_date":1410018733,"post_id":24974380,"comment_id":40174173,"body_markdown":"Check the link:\r\nhttp://stackoverflow.com/questions/16903216/cxf-2-7-x-woodstox-compatibility-via-maven","body":"Check the link:  <a href=\"http://stackoverflow.com/questions/16903216/cxf-2-7-x-woodstox-compatibility-via-maven\" title=\"cxf 2 7 x woodstox compatibility via maven\">stackoverflow.com/questions/16903216/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":155336,"reputation":24,"user_id":371934,"display_name":"upson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1432776578,"creation_date":1432776578,"answer_id":30495756,"question_id":24974380,"body_markdown":"I have the same problem with CXF 3.0, and fixed in this way:\r\n\r\nhttps://stackoverflow.com/questions/20114945/cxf-web-service-client-cannot-create-a-secure-xmlinputfactory\r\n\r\n    &lt;prefer-application-packages&gt;\r\n           &lt;package-name&gt;com.ctc.wstx.*&lt;/package-name&gt;\r\n    &lt;/prefer-application-packages&gt;","title":"JaxWsDynamicClientfactory + java.lang.RuntimeException: Cannot create a secure XMLInputFactory","body":"<p>I have the same problem with CXF 3.0, and fixed in this way:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/20114945/cxf-web-service-client-cannot-create-a-secure-xmlinputfactory\">CXF web service client: &quot;Cannot create a secure XMLInputFactory&quot;</a></p>\n\n<pre><code>&lt;prefer-application-packages&gt;\n       &lt;package-name&gt;com.ctc.wstx.*&lt;/package-name&gt;\n&lt;/prefer-application-packages&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":317178,"reputation":1139,"user_id":633714,"display_name":"wbdarby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468432876,"creation_date":1468432876,"answer_id":38358762,"question_id":24974380,"body_markdown":"You need an javax.xml.stream.XMLInputFactory service provider. The woodstox-core-asl package provides this (package com.ctc.wstx). This is the default implementation for Wildfly and packaged with Apache CXF.\r\nI don&#39;t use Maven, but this should work:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;woodstox-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"JaxWsDynamicClientfactory + java.lang.RuntimeException: Cannot create a secure XMLInputFactory","body":"<p>You need an javax.xml.stream.XMLInputFactory service provider. The woodstox-core-asl package provides this (package com.ctc.wstx). This is the default implementation for Wildfly and packaged with Apache CXF.\nI don't use Maven, but this should work:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\n    &lt;artifactId&gt;woodstox-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;4.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2752699,"reputation":1598,"user_id":2371715,"accept_rate":49,"display_name":"Divs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701014805,"creation_date":1406400463,"question_id":24974380,"body_markdown":"My CXF JaxWs Endpoint is hosted on a weblogic through a war. I&#39;m trying to access an operation from a Stand-alone JaxWsDynamicClient. The Client is getting created but the following exception is thrown while trying o access the operation.\r\n\r\nI&#39;ve pasted the Server Side and Client Side Exception, SEI, client code and the respective Service and Client pom(s). Didn&#39;t find any luck researching over this issue, mostly there seems to be no answer.\r\n\r\nServer Exception\r\n=======================\r\n\r\n    java.lang.RuntimeException: Cannot create a secure XMLInputFactory\r\n        at org.apache.cxf.staxutils.StaxUtils.createXMLInputFactory(StaxUtils.java:314) ~[cxf-core-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.staxutils.StaxUtils.getXMLInputFactory(StaxUtils.java:264) ~[cxf-core-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:1443) ~[cxf-core-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.interceptor.StaxInInterceptor.handleMessage(StaxInInterceptor.java:123) ~[cxf-core-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121) [cxf-core-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:243) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) [javax.servlet_1.0.0.0_2-5.jar:2.5]\r\n        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227) [weblogic.jar:10.3.6.0]\r\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125) [weblogic.jar:10.3.6.0]\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:301) [weblogic.jar:10.3.6.0]\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:184) [weblogic.jar:10.3.6.0]\r\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3732) [weblogic.jar:10.3.6.0]\r\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3696) [weblogic.jar:10.3.6.0]\r\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321) [com.bea.core.weblogic.security.identity_1.2.0.0.jar:1.2.0.0]\r\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120) [com.bea.core.weblogic.security.wls_1.0.0.0_6-2-0-0.jar:6.2.0.0]\r\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2273) [weblogic.jar:10.3.6.0]\r\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179) [weblogic.jar:10.3.6.0]\r\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1490) [weblogic.jar:10.3.6.0]\r\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:256) [com.bea.core.weblogic.workmanager_1.11.0.0.jar:1.11.0.0]\r\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:221) [com.bea.core.weblogic.workmanager_1.11.0.0.jar:1.11.0.0]\r\n\r\nClient exception\r\n=================\r\n\r\n    org.apache.cxf.binding.soap.SoapFault: Cannot create a secure XMLInputFactory\r\n    \tat org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.unmarshalFault(Soap11FaultInInterceptor.java:84)\r\n    \tat org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:51)\r\n    \tat org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:40)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n    \tat org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:113)\r\n    \tat org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:69)\r\n    \tat org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:34)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:798)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1636)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1525)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1330)\r\n    \tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:638)\r\n    \tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invokeWrapped(ClientImpl.java:314)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invokeWrapped(ClientImpl.java:305)\r\n    \tat com.learn.ws.client.LibraryServiceClient.main(LibraryServiceClient.java:40)\r\n\r\nSEI\r\n==========\r\n\r\n    @WebService(name=&quot;library&quot;,\ttargetNamespace=&quot;http://service.ws.learn.com&quot;)\t\r\n    @BindingType(value=&quot;http://www.w3.org/2003/05/soap/bindings/HTTP/&quot;)\r\n        \r\n    public interface LibraryService {\r\n        \r\n        \t@WebMethod(operationName=&quot;getBooks&quot;)\r\n        \t@ResponseWrapper(className=&quot;com.learn.ws.model.BookList&quot;, targetNamespace=&quot;http://service.ws.learn.com&quot;)\r\n        \t@WebResult(name=&quot;bookList&quot;)\r\n        \tpublic BookList getBooks();\r\n    }\r\n\r\nService pom\r\n=============\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.learn.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;LibraryWeb&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      \r\n        &lt;properties&gt;\r\n    \r\n    \t\t&lt;!-- Generic properties --&gt;\r\n    \t\t&lt;java.version&gt;1.6&lt;/java.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t\r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;spring-framework.version&gt;3.2.3.RELEASE&lt;/spring-framework.version&gt;\r\n    \r\n    \t\t&lt;!-- Logging --&gt;\r\n    \t\t&lt;logback.version&gt;1.0.13&lt;/logback.version&gt;\r\n    \t\t&lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\r\n    \r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t&lt;finalName&gt;LibraryWeb&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;webXml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\t&lt;!-- Other Web dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Logging with SLF4J &amp; LogBack --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${logback.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- C X F --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\t\r\n    &lt;/project&gt;\r\n\r\n\t\r\n\r\nClient Code\r\n============\r\n\r\n            JaxWsDynamicClientFactory dcf = JaxWsDynamicClientFactory.newInstance();\r\n    \t\tClient client = dcf.createClient(&quot;http://localhost:7001/LibraryWeb/services/library?wsdl&quot;);\r\n    \t\t \r\n    \t\tObject[] res;\r\n    \t\ttry {\r\n    \t\t\tres = client.invokeWrapped(&quot;getBooks&quot;);\r\n    \t\t\tSystem.out.println(&quot;List Of Books \\n&quot;+res[0]);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nClient pom\r\n============\r\n\r\n    &lt;project \r\n    \t\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    \t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    \t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.springframework.samples&lt;/groupId&gt;\r\n      &lt;artifactId&gt;LibraryWebClientSpring&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n      &lt;properties&gt;\r\n    \r\n    \t\t&lt;!-- Generic properties --&gt;\r\n    \t\t&lt;java.version&gt;1.6&lt;/java.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;spring-framework.version&gt;3.2.3.RELEASE&lt;/spring-framework.version&gt;\r\n    \r\n    \t\t&lt;!-- Logging --&gt;\r\n    \t\t&lt;logback.version&gt;1.0.13&lt;/logback.version&gt;\r\n    \t\t&lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\r\n    \r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Spring and Transactions --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \r\n    \t\t&lt;!-- Logging with SLF4J &amp; LogBack --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${logback.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\t\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n","title":"JaxWsDynamicClientfactory + java.lang.RuntimeException: Cannot create a secure XMLInputFactory","body":"<p>My CXF JaxWs Endpoint is hosted on a weblogic through a war. I'm trying to access an operation from a Stand-alone JaxWsDynamicClient. The Client is getting created but the following exception is thrown while trying o access the operation.</p>\n\n<p>I've pasted the Server Side and Client Side Exception, SEI, client code and the respective Service and Client pom(s). Didn't find any luck researching over this issue, mostly there seems to be no answer.</p>\n\n<h1>Server Exception</h1>\n\n<pre><code>java.lang.RuntimeException: Cannot create a secure XMLInputFactory\n    at org.apache.cxf.staxutils.StaxUtils.createXMLInputFactory(StaxUtils.java:314) ~[cxf-core-3.0.0.jar:3.0.0]\n    at org.apache.cxf.staxutils.StaxUtils.getXMLInputFactory(StaxUtils.java:264) ~[cxf-core-3.0.0.jar:3.0.0]\n    at org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:1443) ~[cxf-core-3.0.0.jar:3.0.0]\n    at org.apache.cxf.interceptor.StaxInInterceptor.handleMessage(StaxInInterceptor.java:123) ~[cxf-core-3.0.0.jar:3.0.0]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121) [cxf-core-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:243) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) [javax.servlet_1.0.0.0_2-5.jar:2.5]\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262) [cxf-rt-transports-http-3.0.0.jar:3.0.0]\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227) [weblogic.jar:10.3.6.0]\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125) [weblogic.jar:10.3.6.0]\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:301) [weblogic.jar:10.3.6.0]\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:184) [weblogic.jar:10.3.6.0]\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3732) [weblogic.jar:10.3.6.0]\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3696) [weblogic.jar:10.3.6.0]\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321) [com.bea.core.weblogic.security.identity_1.2.0.0.jar:1.2.0.0]\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120) [com.bea.core.weblogic.security.wls_1.0.0.0_6-2-0-0.jar:6.2.0.0]\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2273) [weblogic.jar:10.3.6.0]\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179) [weblogic.jar:10.3.6.0]\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1490) [weblogic.jar:10.3.6.0]\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:256) [com.bea.core.weblogic.workmanager_1.11.0.0.jar:1.11.0.0]\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:221) [com.bea.core.weblogic.workmanager_1.11.0.0.jar:1.11.0.0]\n</code></pre>\n\n<h1>Client exception</h1>\n\n<pre><code>org.apache.cxf.binding.soap.SoapFault: Cannot create a secure XMLInputFactory\n    at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.unmarshalFault(Soap11FaultInInterceptor.java:84)\n    at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:51)\n    at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:40)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:113)\n    at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:69)\n    at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:34)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:798)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1636)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1525)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1330)\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:638)\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279)\n    at org.apache.cxf.endpoint.ClientImpl.invokeWrapped(ClientImpl.java:314)\n    at org.apache.cxf.endpoint.ClientImpl.invokeWrapped(ClientImpl.java:305)\n    at com.learn.ws.client.LibraryServiceClient.main(LibraryServiceClient.java:40)\n</code></pre>\n\n<h1>SEI</h1>\n\n<pre><code>@WebService(name=\"library\", targetNamespace=\"http://service.ws.learn.com\")  \n@BindingType(value=\"http://www.w3.org/2003/05/soap/bindings/HTTP/\")\n\npublic interface LibraryService {\n\n        @WebMethod(operationName=\"getBooks\")\n        @ResponseWrapper(className=\"com.learn.ws.model.BookList\", targetNamespace=\"http://service.ws.learn.com\")\n        @WebResult(name=\"bookList\")\n        public BookList getBooks();\n}\n</code></pre>\n\n<h1>Service pom</h1>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.learn.ws&lt;/groupId&gt;\n  &lt;artifactId&gt;LibraryWeb&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n\n        &lt;!-- Generic properties --&gt;\n        &lt;java.version&gt;1.6&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n        &lt;!-- Spring --&gt;\n        &lt;spring-framework.version&gt;3.2.3.RELEASE&lt;/spring-framework.version&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;logback.version&gt;1.0.13&lt;/logback.version&gt;\n        &lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n    &lt;finalName&gt;LibraryWeb&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webXml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Other Web dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging with SLF4J &amp; LogBack --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${logback.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- C X F --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt; \n&lt;/project&gt;\n</code></pre>\n\n<h1>Client Code</h1>\n\n<pre><code>        JaxWsDynamicClientFactory dcf = JaxWsDynamicClientFactory.newInstance();\n        Client client = dcf.createClient(\"http://localhost:7001/LibraryWeb/services/library?wsdl\");\n\n        Object[] res;\n        try {\n            res = client.invokeWrapped(\"getBooks\");\n            System.out.println(\"List Of Books \\n\"+res[0]);\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<h1>Client pom</h1>\n\n<pre><code>&lt;project \n        xmlns=\"http://maven.apache.org/POM/4.0.0\" \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.springframework.samples&lt;/groupId&gt;\n  &lt;artifactId&gt;LibraryWebClientSpring&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n\n        &lt;!-- Generic properties --&gt;\n        &lt;java.version&gt;1.6&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n        &lt;!-- Spring --&gt;\n        &lt;spring-framework.version&gt;3.2.3.RELEASE&lt;/spring-framework.version&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;logback.version&gt;1.0.13&lt;/logback.version&gt;\n        &lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Spring and Transactions --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- Logging with SLF4J &amp; LogBack --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${logback.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","user-interface","netbeans","drag-and-drop"],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701005165,"creation_date":1701004524,"answer_id":77551823,"question_id":77551725,"body_markdown":"What you are doing wrong\r\n------------------------\r\n\r\nOn line 75 in the `initComponents` method you are using `setEnabled(false)` **this disables the window and all of its children** (all of the components on the frame) hence it feels like your window is frozen.\r\n\r\nTo fix this issue simply remove the line `setEnabled(false)` **from the following code**\r\n```\r\n/* Rest of your code */\r\n\r\njRadioButton2.setText(&quot;jRadioButton2&quot;);\r\n\r\nsetDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\nsetTitle(&quot;Auto Tech and Mech Services&quot;);\r\nsetEnabled(false); //Line causing this issue\r\n\r\njLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\r\n\r\n/* Rest of your code */\r\n```\r\n***\r\n\r\nA few more important things to remember\r\n---------------------------------------\r\n\r\n• Remember [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)! Avoid naming your class `demo.java` instead use `Demo.java`.\r\n\r\n• Secondly you don&#39;t need a seperate method to process the action performed just move it directly into the `button.addActionListener`&#39;s action listener.\r\n\r\n• Thirdly (It is personal preference), you don&#39;t need to use -\r\n```\r\njava.awt.EventQueue.invokeLater(new Runnable() {\r\n    public void run() {\r\n         new Demo().setVisible(true);\r\n    }\r\n});\r\n```\r\nYou can use lambdas to shorten this code (learn more about that [here](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)) and make the code only one line as demonstrated below.\r\n```\r\njava.awt.EventQueue.invokeLater(() -&gt; new Demo().setVisible(true));\r\n```","title":"Java GUI window would freeeze in start","body":"<h2>What you are doing wrong</h2>\n<p>On line 75 in the <code>initComponents</code> method you are using <code>setEnabled(false)</code> <strong>this disables the window and all of its children</strong> (all of the components on the frame) hence it feels like your window is frozen.</p>\n<p>To fix this issue simply remove the line <code>setEnabled(false)</code> <strong>from the following code</strong></p>\n<pre><code>/* Rest of your code */\n\njRadioButton2.setText(&quot;jRadioButton2&quot;);\n\nsetDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\nsetTitle(&quot;Auto Tech and Mech Services&quot;);\nsetEnabled(false); //Line causing this issue\n\njLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\n\n/* Rest of your code */\n</code></pre>\n<hr />\n<h2>A few more important things to remember</h2>\n<p>• Remember <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>! Avoid naming your class <code>demo.java</code> instead use <code>Demo.java</code>.</p>\n<p>• Secondly you don't need a seperate method to process the action performed just move it directly into the <code>button.addActionListener</code>'s action listener.</p>\n<p>• Thirdly (It is personal preference), you don't need to use -</p>\n<pre><code>java.awt.EventQueue.invokeLater(new Runnable() {\n    public void run() {\n         new Demo().setVisible(true);\n    }\n});\n</code></pre>\n<p>You can use lambdas to shorten this code (learn more about that <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">here</a>) and make the code only one line as demonstrated below.</p>\n<pre><code>java.awt.EventQueue.invokeLater(() -&gt; new Demo().setVisible(true));\n</code></pre>\n"}],"owner":{"account_id":26719426,"reputation":3,"user_id":20323540,"display_name":"Muzammil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77551823,"answer_count":1,"score":0,"last_activity_date":1701014436,"creation_date":1701002906,"question_id":77551725,"body_markdown":"This a gui program of a car wash. consists of two class demo and total that would display total in a new window after calculations. everything was working fine, dicided to run it one more time for screenshot to sumbit but it stucks, like program is running but window freezes. I am using net bean drag and drop method.\r\n[enter image description here](https://i.stack.imgur.com/4dGqO.png)\r\ndemo class\r\n```\r\npackage car.wash_05;\r\n\r\npublic class demo extends javax.swing.JFrame {\r\n    private double small_Engine = 100.0;\r\n    private double big_engine = 200.0;\r\n    private double battery = 100.0;\r\n    private double oi_filter = 70.0;\r\n    private double brakes = 100.0;\r\n    private double gears = 100.0;\r\n    private double regular_wash = 50.0;\r\n    private double wash_Compound = 100.0;\r\n\r\n    // Declare variables to store the selected services\r\n    private boolean smallEngineSelected = false;\r\n    private boolean bigEngineSelected = false;\r\n    private boolean batterySelected = false;\r\n    private boolean oilAndFilterSelected = false;\r\n    private boolean brakesSelected = false;\r\n    private boolean gearsSelected = false;\r\n    private boolean regularWashSelected = false;\r\n    private boolean washAndCompoundSelected = false;\r\n\r\n    // Declare a variable to store the subtotal price\r\n    private double subtotal = 0.0;\r\n    \r\n    public demo() {\r\n        System.out.println(&quot;Before GUI initialization&quot;);\r\ninitComponents();\r\nSystem.out.println(&quot;After GUI initialization&quot;);\r\n    }\r\n    \r\n     private void updateSubtotal() {\r\n        subtotal = 0.0;\r\n\r\n        if (smallEngineSelected) \r\n            subtotal += small_Engine;\r\n\r\n        if (bigEngineSelected)\r\n            subtotal += big_engine;\r\n\r\n        if (batterySelected) \r\n            subtotal += battery;\r\n\r\n        if (oilAndFilterSelected)\r\n            subtotal += oi_filter;\r\n\r\n        if (brakesSelected) \r\n            subtotal += brakes;\r\n\r\n        if (gearsSelected) \r\n            subtotal += gears;\r\n     }\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jRadioButton2 = new javax.swing.JRadioButton();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jPanel1 = new javax.swing.JPanel();\r\n        jRadioButton1 = new javax.swing.JRadioButton();\r\n        jRadioButton3 = new javax.swing.JRadioButton();\r\n        jPanel2 = new javax.swing.JPanel();\r\n        jRadioButton4 = new javax.swing.JRadioButton();\r\n        jRadioButton5 = new javax.swing.JRadioButton();\r\n        jRadioButton6 = new javax.swing.JRadioButton();\r\n        jPanel3 = new javax.swing.JPanel();\r\n        jCheckBox1 = new javax.swing.JCheckBox();\r\n        jCheckBox2 = new javax.swing.JCheckBox();\r\n        jCheckBox3 = new javax.swing.JCheckBox();\r\n        jCheckBox4 = new javax.swing.JCheckBox();\r\n        jButton1 = new javax.swing.JButton();\r\n        jButton2 = new javax.swing.JButton();\r\n\r\n        jRadioButton2.setText(&quot;jRadioButton2&quot;);\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setTitle(&quot;Auto Tech and Mech Services&quot;);\r\n        setEnabled(false);\r\n\r\n        jLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\r\n\r\n        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n        jPanel1.setToolTipText(&quot;&quot;);\r\n\r\n        jRadioButton1.setText(&quot;Small&quot;);\r\n        jRadioButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jRadioButton3.setText(&quot;Big&quot;);\r\n        jRadioButton3.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton3ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n        jPanel1.setLayout(jPanel1Layout);\r\n        jPanel1Layout.setHorizontalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jRadioButton1)\r\n                    .addComponent(jRadioButton3))\r\n                .addContainerGap(10, Short.MAX_VALUE))\r\n        );\r\n        jPanel1Layout.setVerticalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(39, 39, 39)\r\n                .addComponent(jRadioButton1)\r\n                .addGap(29, 29, 29)\r\n                .addComponent(jRadioButton3)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n        jPanel2.setName(&quot;&quot;); // NOI18N\r\n\r\n        jRadioButton4.setText(&quot;None&quot;);\r\n        jRadioButton4.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton4ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jRadioButton5.setText(&quot;Regular Wash&quot;);\r\n        jRadioButton5.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton5ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jRadioButton6.setText(&quot;Wash &amp; Compound&quot;);\r\n        jRadioButton6.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton6ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\r\n        jPanel2.setLayout(jPanel2Layout);\r\n        jPanel2Layout.setHorizontalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel2Layout.createSequentialGroup()\r\n                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jRadioButton4)\r\n                    .addComponent(jRadioButton5)\r\n                    .addComponent(jRadioButton6))\r\n                .addGap(0, 0, Short.MAX_VALUE))\r\n        );\r\n        jPanel2Layout.setVerticalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel2Layout.createSequentialGroup()\r\n                .addGap(28, 28, 28)\r\n                .addComponent(jRadioButton4)\r\n                .addGap(28, 28, 28)\r\n                .addComponent(jRadioButton5)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addComponent(jRadioButton6)\r\n                .addGap(14, 14, 14))\r\n        );\r\n\r\n        jPanel3.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n        jPanel3.setToolTipText(&quot;&quot;);\r\n        jPanel3.setName(&quot;&quot;); // NOI18N\r\n\r\n        jCheckBox1.setText(&quot;Battery&quot;);\r\n        jCheckBox1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jCheckBox2.setText(&quot;Oil Filters&quot;);\r\n        jCheckBox2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jCheckBox3.setText(&quot;Brakes&quot;);\r\n        jCheckBox3.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox3ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jCheckBox4.setText(&quot;Gear&quot;);\r\n        jCheckBox4.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox4ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\r\n        jPanel3.setLayout(jPanel3Layout);\r\n        jPanel3Layout.setHorizontalGroup(\r\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel3Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jCheckBox1)\r\n                    .addComponent(jCheckBox2)\r\n                    .addComponent(jCheckBox3)\r\n                    .addComponent(jCheckBox4))\r\n                .addContainerGap(105, Short.MAX_VALUE))\r\n        );\r\n        jPanel3Layout.setVerticalGroup(\r\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel3Layout.createSequentialGroup()\r\n                .addGap(19, 19, 19)\r\n                .addComponent(jCheckBox1)\r\n                .addGap(18, 18, 18)\r\n                .addComponent(jCheckBox2)\r\n                .addGap(18, 18, 18)\r\n                .addComponent(jCheckBox3)\r\n                .addGap(18, 18, 18)\r\n                .addComponent(jCheckBox4)\r\n                .addContainerGap(8, Short.MAX_VALUE))\r\n        );\r\n\r\n        jButton1.setText(&quot;Calculate&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton2.setText(&quot;Exit&quot;);\r\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jLabel1)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addComponent(jButton1)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                                .addComponent(jButton2))\r\n                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(12, 12, 12)\r\n                .addComponent(jLabel1)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\r\n                    .addComponent(jPanel3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jButton1)\r\n                    .addComponent(jButton2))\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        jPanel1.getAccessibleContext().setAccessibleName(&quot;&quot;);\r\n        jPanel2.getAccessibleContext().setAccessibleName(&quot;&quot;);\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n    //Small engine ratio button\r\n    private void jRadioButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n\r\n                smallEngineSelected = true;\r\n                bigEngineSelected = false;\r\n                jRadioButton3.setSelected(false);\r\n                updateSubtotal();\r\n    }                                             \r\n    \r\n    //big engine ratio button\r\n    private void jRadioButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n        bigEngineSelected = true;\r\n        smallEngineSelected = false;\r\n        jRadioButton1.setSelected(false);\r\n        updateSubtotal();\r\n    }                                             \r\n\r\n    //Oil filter check button\r\n    private void jCheckBox2ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n       oilAndFilterSelected = jCheckBox2.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n\r\n    //none ration button\r\n    private void jRadioButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\nwashAndCompoundSelected = false;\r\n         regularWashSelected = false ; \r\n         jRadioButton5.setSelected(false);\r\n         jRadioButton6.setSelected(false);\r\n    }                                             \r\n    \r\n    //battery check button\r\n    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        batterySelected = jCheckBox1.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n\r\n    //Brakes check button\r\n    private void jCheckBox3ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        brakesSelected = jCheckBox3.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n    \r\n    //gear check button\r\n    private void jCheckBox4ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        gearsSelected = jCheckBox4.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n\r\n    //rugular was ration button\r\n    private void jRadioButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n        regularWashSelected = true;\r\n        washAndCompoundSelected =false;\r\n        jRadioButton6.setSelected(false);\r\n                updateSubtotal();\r\n    }                                             \r\n\r\n    //Wash and compound ration button\r\n    private void jRadioButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n         washAndCompoundSelected = true;\r\n         regularWashSelected = false;\r\n         jRadioButton5.setSelected(false);\r\n                updateSubtotal();\r\n    }                                             \r\n    \r\n    //calculate button\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        double total = subtotal + (subtotal * 0.1);\r\n        double tax=subtotal * 0.1;\r\n        Total totalFrame = new Total(total, subtotal, tax);\r\n        totalFrame.setVisible(true);\r\n        \r\n    }                                        \r\n\r\n    //exit button\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        System.exit(0);\r\n    }                                        \r\n\r\n    public static void main(String args[]) {\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new demo().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JButton jButton2;\r\n    private javax.swing.JCheckBox jCheckBox1;\r\n    private javax.swing.JCheckBox jCheckBox2;\r\n    private javax.swing.JCheckBox jCheckBox3;\r\n    private javax.swing.JCheckBox jCheckBox4;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel2;\r\n    private javax.swing.JPanel jPanel3;\r\n    private javax.swing.JRadioButton jRadioButton1;\r\n    private javax.swing.JRadioButton jRadioButton2;\r\n    private javax.swing.JRadioButton jRadioButton3;\r\n    private javax.swing.JRadioButton jRadioButton4;\r\n    private javax.swing.JRadioButton jRadioButton5;\r\n    private javax.swing.JRadioButton jRadioButton6;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\ntotal class\r\n```\r\n\r\npackage car.wash_05;\r\npublic class Total extends javax.swing.JFrame {\r\n\r\n    public Total() {\r\n        \r\n    }\r\n\r\n    public Total(double tota, double subtota, double ta) {\r\n        initComponents();\r\n        jLabel1.setText(&quot;Subtotal: $&quot; + subtota);\r\n        jLabel2.setText(&quot;tax: $&quot; + ta);\r\n        jLabel3.setText(&quot;Total: $&quot; + tota);\r\n        \r\n    }\r\n\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jButton1 = new javax.swing.JButton();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setTitle(&quot;Total&quot;);\r\n\r\n        jButton1.setText(&quot;Ok&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel1.setText(&quot;jLabel1&quot;);\r\n\r\n        jLabel2.setText(&quot;jLabel2&quot;);\r\n\r\n        jLabel3.setText(&quot;jLabel3&quot;);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(32, 32, 32)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n                            .addComponent(jLabel2)\r\n                            .addComponent(jLabel1)\r\n                            .addComponent(jLabel3)))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(101, 101, 101)\r\n                        .addComponent(jButton1)))\r\n                .addContainerGap(105, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                .addContainerGap(20, Short.MAX_VALUE)\r\n                .addComponent(jLabel1)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jLabel2)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jLabel3)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addComponent(jButton1)\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n//ok button\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n         this.dispose();\r\n    }                                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Total().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI trid adding check, restarting the system and reinstalling java. it wouldn&#39;t work.it just freezes, not even the close and other buttons would work, have to force chose it from task manager.","title":"Java GUI window would freeeze in start","body":"<p>This a gui program of a car wash. consists of two class demo and total that would display total in a new window after calculations. everything was working fine, dicided to run it one more time for screenshot to sumbit but it stucks, like program is running but window freezes. I am using net bean drag and drop method.\n<a href=\"https://i.stack.imgur.com/4dGqO.png\" rel=\"nofollow noreferrer\">enter image description here</a>\ndemo class</p>\n<pre><code>package car.wash_05;\n\npublic class demo extends javax.swing.JFrame {\n    private double small_Engine = 100.0;\n    private double big_engine = 200.0;\n    private double battery = 100.0;\n    private double oi_filter = 70.0;\n    private double brakes = 100.0;\n    private double gears = 100.0;\n    private double regular_wash = 50.0;\n    private double wash_Compound = 100.0;\n\n    // Declare variables to store the selected services\n    private boolean smallEngineSelected = false;\n    private boolean bigEngineSelected = false;\n    private boolean batterySelected = false;\n    private boolean oilAndFilterSelected = false;\n    private boolean brakesSelected = false;\n    private boolean gearsSelected = false;\n    private boolean regularWashSelected = false;\n    private boolean washAndCompoundSelected = false;\n\n    // Declare a variable to store the subtotal price\n    private double subtotal = 0.0;\n    \n    public demo() {\n        System.out.println(&quot;Before GUI initialization&quot;);\ninitComponents();\nSystem.out.println(&quot;After GUI initialization&quot;);\n    }\n    \n     private void updateSubtotal() {\n        subtotal = 0.0;\n\n        if (smallEngineSelected) \n            subtotal += small_Engine;\n\n        if (bigEngineSelected)\n            subtotal += big_engine;\n\n        if (batterySelected) \n            subtotal += battery;\n\n        if (oilAndFilterSelected)\n            subtotal += oi_filter;\n\n        if (brakesSelected) \n            subtotal += brakes;\n\n        if (gearsSelected) \n            subtotal += gears;\n     }\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jRadioButton2 = new javax.swing.JRadioButton();\n        jLabel1 = new javax.swing.JLabel();\n        jPanel1 = new javax.swing.JPanel();\n        jRadioButton1 = new javax.swing.JRadioButton();\n        jRadioButton3 = new javax.swing.JRadioButton();\n        jPanel2 = new javax.swing.JPanel();\n        jRadioButton4 = new javax.swing.JRadioButton();\n        jRadioButton5 = new javax.swing.JRadioButton();\n        jRadioButton6 = new javax.swing.JRadioButton();\n        jPanel3 = new javax.swing.JPanel();\n        jCheckBox1 = new javax.swing.JCheckBox();\n        jCheckBox2 = new javax.swing.JCheckBox();\n        jCheckBox3 = new javax.swing.JCheckBox();\n        jCheckBox4 = new javax.swing.JCheckBox();\n        jButton1 = new javax.swing.JButton();\n        jButton2 = new javax.swing.JButton();\n\n        jRadioButton2.setText(&quot;jRadioButton2&quot;);\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setTitle(&quot;Auto Tech and Mech Services&quot;);\n        setEnabled(false);\n\n        jLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\n\n        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n        jPanel1.setToolTipText(&quot;&quot;);\n\n        jRadioButton1.setText(&quot;Small&quot;);\n        jRadioButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton1ActionPerformed(evt);\n            }\n        });\n\n        jRadioButton3.setText(&quot;Big&quot;);\n        jRadioButton3.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton3ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jRadioButton1)\n                    .addComponent(jRadioButton3))\n                .addContainerGap(10, Short.MAX_VALUE))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(39, 39, 39)\n                .addComponent(jRadioButton1)\n                .addGap(29, 29, 29)\n                .addComponent(jRadioButton3)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n        jPanel2.setName(&quot;&quot;); // NOI18N\n\n        jRadioButton4.setText(&quot;None&quot;);\n        jRadioButton4.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton4ActionPerformed(evt);\n            }\n        });\n\n        jRadioButton5.setText(&quot;Regular Wash&quot;);\n        jRadioButton5.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton5ActionPerformed(evt);\n            }\n        });\n\n        jRadioButton6.setText(&quot;Wash &amp; Compound&quot;);\n        jRadioButton6.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton6ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\n        jPanel2.setLayout(jPanel2Layout);\n        jPanel2Layout.setHorizontalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel2Layout.createSequentialGroup()\n                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jRadioButton4)\n                    .addComponent(jRadioButton5)\n                    .addComponent(jRadioButton6))\n                .addGap(0, 0, Short.MAX_VALUE))\n        );\n        jPanel2Layout.setVerticalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel2Layout.createSequentialGroup()\n                .addGap(28, 28, 28)\n                .addComponent(jRadioButton4)\n                .addGap(28, 28, 28)\n                .addComponent(jRadioButton5)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(jRadioButton6)\n                .addGap(14, 14, 14))\n        );\n\n        jPanel3.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n        jPanel3.setToolTipText(&quot;&quot;);\n        jPanel3.setName(&quot;&quot;); // NOI18N\n\n        jCheckBox1.setText(&quot;Battery&quot;);\n        jCheckBox1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox1ActionPerformed(evt);\n            }\n        });\n\n        jCheckBox2.setText(&quot;Oil Filters&quot;);\n        jCheckBox2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox2ActionPerformed(evt);\n            }\n        });\n\n        jCheckBox3.setText(&quot;Brakes&quot;);\n        jCheckBox3.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox3ActionPerformed(evt);\n            }\n        });\n\n        jCheckBox4.setText(&quot;Gear&quot;);\n        jCheckBox4.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox4ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\n        jPanel3.setLayout(jPanel3Layout);\n        jPanel3Layout.setHorizontalGroup(\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel3Layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jCheckBox1)\n                    .addComponent(jCheckBox2)\n                    .addComponent(jCheckBox3)\n                    .addComponent(jCheckBox4))\n                .addContainerGap(105, Short.MAX_VALUE))\n        );\n        jPanel3Layout.setVerticalGroup(\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel3Layout.createSequentialGroup()\n                .addGap(19, 19, 19)\n                .addComponent(jCheckBox1)\n                .addGap(18, 18, 18)\n                .addComponent(jCheckBox2)\n                .addGap(18, 18, 18)\n                .addComponent(jCheckBox3)\n                .addGap(18, 18, 18)\n                .addComponent(jCheckBox4)\n                .addContainerGap(8, Short.MAX_VALUE))\n        );\n\n        jButton1.setText(&quot;Calculate&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jButton2.setText(&quot;Exit&quot;);\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jLabel1)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                            .addGroup(layout.createSequentialGroup()\n                                .addComponent(jButton1)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                .addComponent(jButton2))\n                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(12, 12, 12)\n                .addComponent(jLabel1)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                    .addComponent(jPanel3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton1)\n                    .addComponent(jButton2))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        jPanel1.getAccessibleContext().setAccessibleName(&quot;&quot;);\n        jPanel2.getAccessibleContext().setAccessibleName(&quot;&quot;);\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n    //Small engine ratio button\n    private void jRadioButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n\n                smallEngineSelected = true;\n                bigEngineSelected = false;\n                jRadioButton3.setSelected(false);\n                updateSubtotal();\n    }                                             \n    \n    //big engine ratio button\n    private void jRadioButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n        bigEngineSelected = true;\n        smallEngineSelected = false;\n        jRadioButton1.setSelected(false);\n        updateSubtotal();\n    }                                             \n\n    //Oil filter check button\n    private void jCheckBox2ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n       oilAndFilterSelected = jCheckBox2.isSelected();\n                updateSubtotal();\n    }                                          \n\n    //none ration button\n    private void jRadioButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                              \nwashAndCompoundSelected = false;\n         regularWashSelected = false ; \n         jRadioButton5.setSelected(false);\n         jRadioButton6.setSelected(false);\n    }                                             \n    \n    //battery check button\n    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        batterySelected = jCheckBox1.isSelected();\n                updateSubtotal();\n    }                                          \n\n    //Brakes check button\n    private void jCheckBox3ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        brakesSelected = jCheckBox3.isSelected();\n                updateSubtotal();\n    }                                          \n    \n    //gear check button\n    private void jCheckBox4ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        gearsSelected = jCheckBox4.isSelected();\n                updateSubtotal();\n    }                                          \n\n    //rugular was ration button\n    private void jRadioButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n        regularWashSelected = true;\n        washAndCompoundSelected =false;\n        jRadioButton6.setSelected(false);\n                updateSubtotal();\n    }                                             \n\n    //Wash and compound ration button\n    private void jRadioButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n         washAndCompoundSelected = true;\n         regularWashSelected = false;\n         jRadioButton5.setSelected(false);\n                updateSubtotal();\n    }                                             \n    \n    //calculate button\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        double total = subtotal + (subtotal * 0.1);\n        double tax=subtotal * 0.1;\n        Total totalFrame = new Total(total, subtotal, tax);\n        totalFrame.setVisible(true);\n        \n    }                                        \n\n    //exit button\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        System.exit(0);\n    }                                        \n\n    public static void main(String args[]) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new demo().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JCheckBox jCheckBox1;\n    private javax.swing.JCheckBox jCheckBox2;\n    private javax.swing.JCheckBox jCheckBox3;\n    private javax.swing.JCheckBox jCheckBox4;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel2;\n    private javax.swing.JPanel jPanel3;\n    private javax.swing.JRadioButton jRadioButton1;\n    private javax.swing.JRadioButton jRadioButton2;\n    private javax.swing.JRadioButton jRadioButton3;\n    private javax.swing.JRadioButton jRadioButton4;\n    private javax.swing.JRadioButton jRadioButton5;\n    private javax.swing.JRadioButton jRadioButton6;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>total class</p>\n<pre><code>\npackage car.wash_05;\npublic class Total extends javax.swing.JFrame {\n\n    public Total() {\n        \n    }\n\n    public Total(double tota, double subtota, double ta) {\n        initComponents();\n        jLabel1.setText(&quot;Subtotal: $&quot; + subtota);\n        jLabel2.setText(&quot;tax: $&quot; + ta);\n        jLabel3.setText(&quot;Total: $&quot; + tota);\n        \n    }\n\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jButton1 = new javax.swing.JButton();\n        jLabel1 = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setTitle(&quot;Total&quot;);\n\n        jButton1.setText(&quot;Ok&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jLabel1.setText(&quot;jLabel1&quot;);\n\n        jLabel2.setText(&quot;jLabel2&quot;);\n\n        jLabel3.setText(&quot;jLabel3&quot;);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(32, 32, 32)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n                            .addComponent(jLabel2)\n                            .addComponent(jLabel1)\n                            .addComponent(jLabel3)))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(101, 101, 101)\n                        .addComponent(jButton1)))\n                .addContainerGap(105, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addContainerGap(20, Short.MAX_VALUE)\n                .addComponent(jLabel1)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jLabel2)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jLabel3)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addComponent(jButton1)\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n//ok button\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n         this.dispose();\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Total().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>I trid adding check, restarting the system and reinstalling java. it wouldn't work.it just freezes, not even the close and other buttons would work, have to force chose it from task manager.</p>\n"},{"tags":["java","datetime"],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1253204733,"creation_date":1253203490,"answer_id":1439790,"question_id":1439779,"body_markdown":"My preference would be to use the [Joda][1] library insetad of `java.util.Date` directly, as Joda makes a distinction between date and time (see [YearMonthDay][2] and [DateTime][3] classes).\r\n\r\nHowever, if you do wish to use `java.util.Date` I would suggest writing a utility method; e.g.\r\n\r\n    public static Date setTimeToMidnight(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n\r\n        calendar.setTime( date );\r\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n\r\n        return calendar.getTime();\r\n    }\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/YearMonthDay.html\r\n  [3]: http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html","title":"How to compare two Dates without the time portion?","body":"<p>My preference would be to use the <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda</a> library insetad of <code>java.util.Date</code> directly, as Joda makes a distinction between date and time (see <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/YearMonthDay.html\" rel=\"noreferrer\">YearMonthDay</a> and <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html\" rel=\"noreferrer\">DateTime</a> classes).</p>\n\n<p>However, if you do wish to use <code>java.util.Date</code> I would suggest writing a utility method; e.g.</p>\n\n<pre><code>public static Date setTimeToMidnight(Date date) {\n    Calendar calendar = Calendar.getInstance();\n\n    calendar.setTime( date );\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n\n    return calendar.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":229,"is_accepted":true,"score":227,"last_activity_date":1527068957,"creation_date":1253203505,"answer_id":1439792,"question_id":1439779,"body_markdown":"Update: while Joda Time was a fine recommendation at the time, use the [`java.time`](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) library from Java 8+ instead where possible.\r\n\r\n---\r\n\r\nMy preference is to use [Joda Time][1] which makes this incredibly easy:\r\n\r\n    DateTime first = ...;\r\n    DateTime second = ...;\r\n\r\n    LocalDate firstDate = first.toLocalDate();\r\n    LocalDate secondDate = second.toLocalDate();\r\n\r\n    return firstDate.compareTo(secondDate);\r\n\r\nEDIT: As noted in comments, if you use [`DateTimeComparator.getDateOnlyInstance()`][2] it&#39;s even simpler :)\r\n\r\n    // TODO: consider extracting the comparator to a field.\r\n    return DateTimeComparator.getDateOnlyInstance().compare(first, second);\r\n\r\n(&quot;Use Joda Time&quot; is the basis of almost all SO questions which ask about `java.util.Date` or `java.util.Calendar`. It&#39;s a thoroughly superior API. If you&#39;re doing *anything* significant with dates/times, you should really use it if you possibly can.)\r\n\r\nIf you&#39;re absolutely *forced* to use the built in API, you should create an instance of `Calendar` with the appropriate date and using the appropriate time zone. You could then set each field in each calendar out of hour, minute, second and millisecond to 0, and compare the resulting times. Definitely icky compared with the Joda solution though :)\r\n\r\nThe time zone part is important: `java.util.Date` is *always* based on UTC. In most cases where I&#39;ve been interested in a date, that&#39;s been a date *in a specific time zone*. That on its own will force you to use `Calendar` or Joda Time (unless you want to account for the time zone yourself, which I don&#39;t recommend.)\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/DateTimeComparator.html#getDateOnlyInstance%28%29\r\n\r\nQuick reference for android developers  \r\n\r\n    //Add joda library dependency to your build.gradle file\r\n    dependencies {\r\n         ...\r\n         implementation &#39;joda-time:joda-time:2.9.9&#39;\r\n    }\r\n\r\nSample code (example)\r\n\r\n    DateTimeComparator dateTimeComparator = DateTimeComparator.getDateOnlyInstance();\r\n  \r\n    Date myDateOne = ...;\r\n    Date myDateTwo = ...;\r\n\r\n    int retVal = dateTimeComparator.compare(myDateOne, myDateTwo);\r\n\r\n    if(retVal == 0)\r\n       //both dates are equal\r\n    else if(retVal &lt; 0)\r\n       //myDateOne is before myDateTwo\r\n    else if(retVal &gt; 0)\r\n       //myDateOne is after myDateTwo\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<p>Update: while Joda Time was a fine recommendation at the time, use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><code>java.time</code></a> library from Java 8+ instead where possible.</p>\n\n<hr>\n\n<p>My preference is to use <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda Time</a> which makes this incredibly easy:</p>\n\n<pre><code>DateTime first = ...;\nDateTime second = ...;\n\nLocalDate firstDate = first.toLocalDate();\nLocalDate secondDate = second.toLocalDate();\n\nreturn firstDate.compareTo(secondDate);\n</code></pre>\n\n<p>EDIT: As noted in comments, if you use <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTimeComparator.html#getDateOnlyInstance%28%29\" rel=\"noreferrer\"><code>DateTimeComparator.getDateOnlyInstance()</code></a> it's even simpler :)</p>\n\n<pre><code>// TODO: consider extracting the comparator to a field.\nreturn DateTimeComparator.getDateOnlyInstance().compare(first, second);\n</code></pre>\n\n<p>(\"Use Joda Time\" is the basis of almost all SO questions which ask about <code>java.util.Date</code> or <code>java.util.Calendar</code>. It's a thoroughly superior API. If you're doing <em>anything</em> significant with dates/times, you should really use it if you possibly can.)</p>\n\n<p>If you're absolutely <em>forced</em> to use the built in API, you should create an instance of <code>Calendar</code> with the appropriate date and using the appropriate time zone. You could then set each field in each calendar out of hour, minute, second and millisecond to 0, and compare the resulting times. Definitely icky compared with the Joda solution though :)</p>\n\n<p>The time zone part is important: <code>java.util.Date</code> is <em>always</em> based on UTC. In most cases where I've been interested in a date, that's been a date <em>in a specific time zone</em>. That on its own will force you to use <code>Calendar</code> or Joda Time (unless you want to account for the time zone yourself, which I don't recommend.)</p>\n\n<p>Quick reference for android developers  </p>\n\n<pre><code>//Add joda library dependency to your build.gradle file\ndependencies {\n     ...\n     implementation 'joda-time:joda-time:2.9.9'\n}\n</code></pre>\n\n<p>Sample code (example)</p>\n\n<pre><code>DateTimeComparator dateTimeComparator = DateTimeComparator.getDateOnlyInstance();\n\nDate myDateOne = ...;\nDate myDateTwo = ...;\n\nint retVal = dateTimeComparator.compare(myDateOne, myDateTwo);\n\nif(retVal == 0)\n   //both dates are equal\nelse if(retVal &lt; 0)\n   //myDateOne is before myDateTwo\nelse if(retVal &gt; 0)\n   //myDateOne is after myDateTwo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1317486210,"creation_date":1253204159,"answer_id":1439845,"question_id":1439779,"body_markdown":"If you really want to use the java.util.Date, you would do something like this:\r\n\r\n    public class TimeIgnoringComparator implements Comparator&lt;Date&gt; {\r\n      public int compare(Date d1, Date d2) {\r\n        if (d1.getYear() != d2.getYear()) \r\n            return d1.getYear() - d2.getYear();\r\n        if (d1.getMonth() != d2.getMonth()) \r\n            return d1.getMonth() - d2.getMonth();\r\n        return d1.getDate() - d2.getDate();\r\n      }\r\n    }\r\n\r\nor, using a Calendar instead (preferred, since getYear() and such are deprecated)\r\n\r\n    public class TimeIgnoringComparator implements Comparator&lt;Calendar&gt; {\r\n      public int compare(Calendar c1, Calendar c2) {\r\n        if (c1.get(Calendar.YEAR) != c2.get(Calendar.YEAR)) \r\n            return c1.get(Calendar.YEAR) - c2.get(Calendar.YEAR);\r\n        if (c1.get(Calendar.MONTH) != c2.get(Calendar.MONTH)) \r\n            return c1.get(Calendar.MONTH) - c2.get(Calendar.MONTH);\r\n        return c1.get(Calendar.DAY_OF_MONTH) - c2.get(Calendar.DAY_OF_MONTH);\r\n      }\r\n    }","title":"How to compare two Dates without the time portion?","body":"<p>If you really want to use the java.util.Date, you would do something like this:</p>\n\n<pre><code>public class TimeIgnoringComparator implements Comparator&lt;Date&gt; {\n  public int compare(Date d1, Date d2) {\n    if (d1.getYear() != d2.getYear()) \n        return d1.getYear() - d2.getYear();\n    if (d1.getMonth() != d2.getMonth()) \n        return d1.getMonth() - d2.getMonth();\n    return d1.getDate() - d2.getDate();\n  }\n}\n</code></pre>\n\n<p>or, using a Calendar instead (preferred, since getYear() and such are deprecated)</p>\n\n<pre><code>public class TimeIgnoringComparator implements Comparator&lt;Calendar&gt; {\n  public int compare(Calendar c1, Calendar c2) {\n    if (c1.get(Calendar.YEAR) != c2.get(Calendar.YEAR)) \n        return c1.get(Calendar.YEAR) - c2.get(Calendar.YEAR);\n    if (c1.get(Calendar.MONTH) != c2.get(Calendar.MONTH)) \n        return c1.get(Calendar.MONTH) - c2.get(Calendar.MONTH);\n    return c1.get(Calendar.DAY_OF_MONTH) - c2.get(Calendar.DAY_OF_MONTH);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1253206253,"creation_date":1253204367,"answer_id":1439867,"question_id":1439779,"body_markdown":"I too prefer [Joda Time][1], but here&#39;s an alternative:\r\n\r\n    long oneDay = 24 * 60 * 60 * 1000\r\n    long d1 = first.getTime() / oneDay\r\n    long d2 = second.getTime() / oneDay\r\n    d1 == d2\r\n\r\n**EDIT**\r\n\r\nI put the UTC thingy below in case you need to compare dates for a specific timezone other than UTC. If you do have such a need, though, then I really advise going for Joda.\r\n\r\n    long oneDay = 24 * 60 * 60 * 1000\r\n    long hoursFromUTC = -4 * 60 * 60 * 1000 // EST with Daylight Time Savings\r\n    long d1 = (first.getTime() + hoursFromUTC) / oneDay\r\n    long d2 = (second.getTime() + hoursFromUTC) / oneDay\r\n    d1 == d2\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n","title":"How to compare two Dates without the time portion?","body":"<p>I too prefer <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda Time</a>, but here's an alternative:</p>\n\n<pre><code>long oneDay = 24 * 60 * 60 * 1000\nlong d1 = first.getTime() / oneDay\nlong d2 = second.getTime() / oneDay\nd1 == d2\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I put the UTC thingy below in case you need to compare dates for a specific timezone other than UTC. If you do have such a need, though, then I really advise going for Joda.</p>\n\n<pre><code>long oneDay = 24 * 60 * 60 * 1000\nlong hoursFromUTC = -4 * 60 * 60 * 1000 // EST with Daylight Time Savings\nlong d1 = (first.getTime() + hoursFromUTC) / oneDay\nlong d2 = (second.getTime() + hoursFromUTC) / oneDay\nd1 == d2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1285,"reputation":8351,"user_id":1712,"accept_rate":84,"display_name":"Roland Tepp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1256772847,"creation_date":1256772847,"answer_id":1640824,"question_id":1439779,"body_markdown":"I am afraid there is no method of comparing two dates that could be called &quot;easy&quot; or &quot;simple&quot;.\r\n\r\nWhen comparing two time instances with any sort of reduced precision (e.g. just comparing dates), you must always take into account how time zone affects the comparison.\r\n\r\nIf `date1` is specifying an event that occurred in +2 timezone and `date2` is specifying an event that occurred in EST, for example, you must take care to properly understand the implications of the comparison.\r\n\r\nIs your purpose to figure out if the two events occurred in the same calendar date in their own respective time zones? Or do You need to know if the two dates fall into the same calendar date in a specific time zone (UTC or your local TZ, for example).\r\n\r\nOnce you figure out what it is actually that You are trying to compare, it is just a matter of getting the year-month-date triple in an appropriate time zone and do the comparison.\r\n\r\nJoda time might make the actual comparison operation look much cleaner, but the semantics of the comparison are still something You need to figure out yourself.","title":"How to compare two Dates without the time portion?","body":"<p>I am afraid there is no method of comparing two dates that could be called \"easy\" or \"simple\".</p>\n\n<p>When comparing two time instances with any sort of reduced precision (e.g. just comparing dates), you must always take into account how time zone affects the comparison.</p>\n\n<p>If <code>date1</code> is specifying an event that occurred in +2 timezone and <code>date2</code> is specifying an event that occurred in EST, for example, you must take care to properly understand the implications of the comparison.</p>\n\n<p>Is your purpose to figure out if the two events occurred in the same calendar date in their own respective time zones? Or do You need to know if the two dates fall into the same calendar date in a specific time zone (UTC or your local TZ, for example).</p>\n\n<p>Once you figure out what it is actually that You are trying to compare, it is just a matter of getting the year-month-date triple in an appropriate time zone and do the comparison.</p>\n\n<p>Joda time might make the actual comparison operation look much cleaner, but the semantics of the comparison are still something You need to figure out yourself.</p>\n"},{"tags":[],"owner":{"account_id":8324,"reputation":10946,"user_id":14952,"accept_rate":83,"display_name":"Robert Brown"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1257908376,"creation_date":1257899890,"answer_id":1712255,"question_id":1439779,"body_markdown":"Any opinions on this alternative?\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    sdf.format(date1).equals(sdf.format(date2));\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<p>Any opinions on this alternative?</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMdd\");\nsdf.format(date1).equals(sdf.format(date2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95106,"reputation":12577,"user_id":259237,"accept_rate":67,"display_name":"Andr&#233;"},"down_vote_count":0,"up_vote_count":142,"is_accepted":false,"score":142,"last_activity_date":1334037368,"creation_date":1264512539,"answer_id":2139614,"question_id":1439779,"body_markdown":"[Apache commons-lang][1] is almost ubiquitous. So what about this?\r\n\r\n    if (DateUtils.isSameDay(date1, date2)) {\r\n        // it&#39;s same\r\n    } else if (date1.before(date2)) {\r\n       // it&#39;s before\r\n    } else {\r\n       // it&#39;s after\r\n    }\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/commons-lang/commons-lang","title":"How to compare two Dates without the time portion?","body":"<p><a href=\"http://mvnrepository.com/artifact/commons-lang/commons-lang\" rel=\"noreferrer\">Apache commons-lang</a> is almost ubiquitous. So what about this?</p>\n\n<pre><code>if (DateUtils.isSameDay(date1, date2)) {\n    // it's same\n} else if (date1.before(date2)) {\n   // it's before\n} else {\n   // it's after\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234646,"reputation":1628,"user_id":500936,"accept_rate":23,"display_name":"Jean-Pierre Schnyder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298584081,"creation_date":1298584081,"answer_id":5110897,"question_id":1439779,"body_markdown":"My proposition:\r\n\r\n    \tCalendar cal = Calendar.getInstance();\r\n        cal.set(1999,10,01);   // nov 1st, 1999\r\n\t\tcal.set(Calendar.AM_PM,Calendar.AM);\r\n        cal.set(Calendar.HOUR,0);\r\n        cal.set(Calendar.MINUTE,0);\r\n        cal.set(Calendar.SECOND,0);\r\n        cal.set(Calendar.MILLISECOND,0);\r\n\r\n\t\t// date column in the Thought table is of type sql date\r\n\t\tThought thought = thoughtDao.getThought(date, language);\r\n\r\n\t\tAssert.assertEquals(cal.getTime(), thought.getDate());","title":"How to compare two Dates without the time portion?","body":"<p>My proposition:</p>\n\n<pre><code>    Calendar cal = Calendar.getInstance();\n    cal.set(1999,10,01);   // nov 1st, 1999\n    cal.set(Calendar.AM_PM,Calendar.AM);\n    cal.set(Calendar.HOUR,0);\n    cal.set(Calendar.MINUTE,0);\n    cal.set(Calendar.SECOND,0);\n    cal.set(Calendar.MILLISECOND,0);\n\n    // date column in the Thought table is of type sql date\n    Thought thought = thoughtDao.getThought(date, language);\n\n    Assert.assertEquals(cal.getTime(), thought.getDate());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":717379,"reputation":1,"user_id":634511,"display_name":"technomama"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1320874431,"creation_date":1298652215,"answer_id":5119965,"question_id":1439779,"body_markdown":"This is what worked for me:\r\n\r\n    var Date1 = new Date(dateObject1.toDateString()); //this sets time to 00:00:00\r\n    var Date2 = new Date(dateObject2.toDateString()); \r\n    //do a normal compare\r\n    if(Date1 &gt; Date2){ //do something }","title":"How to compare two Dates without the time portion?","body":"<p>This is what worked for me:</p>\n\n<pre><code>var Date1 = new Date(dateObject1.toDateString()); //this sets time to 00:00:00\nvar Date2 = new Date(dateObject2.toDateString()); \n//do a normal compare\nif(Date1 &gt; Date2){ //do something }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1030684,"reputation":41,"user_id":1039031,"display_name":"wilbert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345118138,"creation_date":1320901661,"answer_id":8075245,"question_id":1439779,"body_markdown":"Here is a solution from this blog: http://brigitzblog.blogspot.com/2011/10/java-compare-dates.html\r\n\r\n    long milliseconds1 = calendar1.getTimeInMillis();\r\n    long milliseconds2 = calendar2.getTimeInMillis();\r\n    long diff = milliseconds2 - milliseconds1;\r\n    long diffDays = diff / (24 * 60 * 60 * 1000);\r\n    System.out.println(&quot;Time in days: &quot; + diffDays  + &quot; days.&quot;);\r\n\r\ni.e. you can see if the time difference in milliseconds is less than the length of one day.\r\n","title":"How to compare two Dates without the time portion?","body":"<p>Here is a solution from this blog: <a href=\"http://brigitzblog.blogspot.com/2011/10/java-compare-dates.html\" rel=\"noreferrer\">http://brigitzblog.blogspot.com/2011/10/java-compare-dates.html</a></p>\n\n<pre><code>long milliseconds1 = calendar1.getTimeInMillis();\nlong milliseconds2 = calendar2.getTimeInMillis();\nlong diff = milliseconds2 - milliseconds1;\nlong diffDays = diff / (24 * 60 * 60 * 1000);\nSystem.out.println(\"Time in days: \" + diffDays  + \" days.\");\n</code></pre>\n\n<p>i.e. you can see if the time difference in milliseconds is less than the length of one day.</p>\n"},{"tags":[],"owner":{"account_id":1510438,"reputation":857,"user_id":1412709,"display_name":"Pritesh Shah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359626677,"creation_date":1338042519,"answer_id":10767076,"question_id":1439779,"body_markdown":"If you just want to compare only two dates without time, then following code might help you:\r\n\r\n    final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    Date dLastUpdateDate = dateFormat.parse(20111116);\r\n    Date dCurrentDate = dateFormat.parse(dateFormat.format(new Date()));\r\n    if (dCurrentDate.after(dLastUpdateDate))\r\n    {\r\n       add your logic\r\n    }","title":"How to compare two Dates without the time portion?","body":"<p>If you just want to compare only two dates without time, then following code might help you:</p>\n\n<pre><code>final SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyyMMdd\");\nDate dLastUpdateDate = dateFormat.parse(20111116);\nDate dCurrentDate = dateFormat.parse(dateFormat.format(new Date()));\nif (dCurrentDate.after(dLastUpdateDate))\n{\n   add your logic\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2154748,"reputation":309,"user_id":1910245,"display_name":"Dellanio"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1382347382,"creation_date":1359116153,"answer_id":14521632,"question_id":1439779,"body_markdown":"If you want to compare only the month, day and year of two dates, following code works for me:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    sdf.format(date1).equals(sdf.format(date2));\r\n\r\nThanks Rob.","title":"How to compare two Dates without the time portion?","body":"<p>If you want to compare only the month, day and year of two dates, following code works for me:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMdd\");\nsdf.format(date1).equals(sdf.format(date2));\n</code></pre>\n\n<p>Thanks Rob.</p>\n"},{"tags":[],"owner":{"account_id":253331,"reputation":22630,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1359117971,"creation_date":1359117971,"answer_id":14522101,"question_id":1439779,"body_markdown":"Already mentioned **apache commons-utils**:\r\n\r\n    org.apache.commons.lang.time.DateUtils.truncate(date, Calendar.DAY_OF_MONTH)\r\n\r\ngives you Date object containing only date, without time, and you can compare it with `Date.compareTo`","title":"How to compare two Dates without the time portion?","body":"<p>Already mentioned <strong>apache commons-utils</strong>:</p>\n\n<pre><code>org.apache.commons.lang.time.DateUtils.truncate(date, Calendar.DAY_OF_MONTH)\n</code></pre>\n\n<p>gives you Date object containing only date, without time, and you can compare it with <code>Date.compareTo</code></p>\n"},{"tags":[],"owner":{"account_id":3725014,"reputation":11,"user_id":3099126,"display_name":"Senthil Eswaramoorthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386933086,"creation_date":1386933086,"answer_id":20565083,"question_id":1439779,"body_markdown":"Using the getDateInstance of SimpleDateFormat, we can compare only two date object without time. Execute the below code.\r\n\r\n    public static void main(String[] args) {\t\t\r\n    \t\tDate date1  = new Date();\r\n    \t\tDate date2  = new Date();\r\n    \t\tDateFormat dfg = SimpleDateFormat.getDateInstance(DateFormat.DATE_FIELD);\r\n    \t\tString dateDtr1 = dfg.format(date1);\r\n    \t\tString dateDtr2 = dfg.format(date2);\r\n    \t\tSystem.out.println(dateDtr1+&quot; : &quot;+dateDtr2);\r\n    \t\tSystem.out.println(dateDtr1.equals(dateDtr2));\t\r\n    \t\t\r\n    \t}\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<p>Using the getDateInstance of SimpleDateFormat, we can compare only two date object without time. Execute the below code.</p>\n\n<pre><code>public static void main(String[] args) {        \n        Date date1  = new Date();\n        Date date2  = new Date();\n        DateFormat dfg = SimpleDateFormat.getDateInstance(DateFormat.DATE_FIELD);\n        String dateDtr1 = dfg.format(date1);\n        String dateDtr2 = dfg.format(date2);\n        System.out.println(dateDtr1+\" : \"+dateDtr2);\n        System.out.println(dateDtr1.equals(dateDtr2));  \n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455733,"reputation":3107,"user_id":854084,"display_name":"Simon K. Gerges"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1537095016,"creation_date":1425808417,"answer_id":28925153,"question_id":1439779,"body_markdown":"Simply Check DAY_OF_YEAR in combination with YEAR property\r\n\r\n    boolean isSameDay = \r\n    firstCal.get(Calendar.YEAR) == secondCal.get(Calendar.YEAR) &amp;&amp;\r\n    firstCal.get(Calendar.DAY_OF_YEAR) == secondCal.get(Calendar.DAY_OF_YEAR)\r\n\r\nEDIT:\r\n\r\nNow we can use the power of Kotlin extension functions\r\n\r\n    fun Calendar.isSameDay(second: Calendar): Boolean {\r\n        \r\n        return this[Calendar.YEAR] == second[Calendar.YEAR] &amp;&amp; this[Calendar.DAY_OF_YEAR] == second[Calendar.DAY_OF_YEAR]\r\n    }\r\n        \r\n    fun Calendar.compareDatesOnly(other: Calendar): Int {\r\n    \r\n        return when {\r\n            isSameDay(other) -&gt; 0\r\n            before(other) -&gt; -1\r\n            else -&gt; 1\r\n        }\r\n    }\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<p>Simply Check DAY_OF_YEAR in combination with YEAR property</p>\n\n<pre><code>boolean isSameDay = \nfirstCal.get(Calendar.YEAR) == secondCal.get(Calendar.YEAR) &amp;&amp;\nfirstCal.get(Calendar.DAY_OF_YEAR) == secondCal.get(Calendar.DAY_OF_YEAR)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Now we can use the power of Kotlin extension functions</p>\n\n<pre><code>fun Calendar.isSameDay(second: Calendar): Boolean {\n\n    return this[Calendar.YEAR] == second[Calendar.YEAR] &amp;&amp; this[Calendar.DAY_OF_YEAR] == second[Calendar.DAY_OF_YEAR]\n}\n\nfun Calendar.compareDatesOnly(other: Calendar): Int {\n\n    return when {\n        isSameDay(other) -&gt; 0\n        before(other) -&gt; -1\n        else -&gt; 1\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6000099,"reputation":41,"user_id":4713640,"display_name":"zakir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427310176,"creation_date":1427310176,"answer_id":29264325,"question_id":1439779,"body_markdown":"`  \r\n\r\n   \r\n\r\n    SimpleDateFormat sdf= new SimpleDateFormat(&quot;MM/dd/yyyy&quot;)\r\n\r\n       Date date1=sdf.parse(&quot;03/25/2015&quot;);\r\n\r\n \r\n\r\n      Date currentDate= sdf.parse(sdf.format(new Date()));\r\n\r\n       return date1.compareTo(currentDate);\r\n\r\n\r\n\r\n`\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<p>`  </p>\n\n<pre><code>SimpleDateFormat sdf= new SimpleDateFormat(\"MM/dd/yyyy\")\n\n   Date date1=sdf.parse(\"03/25/2015\");\n\n\n\n  Date currentDate= sdf.parse(sdf.format(new Date()));\n\n   return date1.compareTo(currentDate);\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":6381351,"reputation":1,"user_id":4950684,"display_name":"Jules"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1432884881,"creation_date":1432841644,"answer_id":30515608,"question_id":1439779,"body_markdown":"How about `DateUtil.daysBetween()`. It&#39;s Java and it returns a number (difference in days).","title":"How to compare two Dates without the time portion?","body":"<p>How about <code>DateUtil.daysBetween()</code>. It's Java and it returns a number (difference in days).</p>\n"},{"tags":[],"owner":{"account_id":292903,"reputation":1827,"user_id":595943,"display_name":"habsq"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434886310,"creation_date":1434886310,"answer_id":30964036,"question_id":1439779,"body_markdown":"In Java 8 you can use LocalDate which is very similar to the one from Joda Time.","title":"How to compare two Dates without the time portion?","body":"<p>In Java 8 you can use LocalDate which is very similar to the one from Joda Time.</p>\n"},{"tags":[],"owner":{"account_id":2755644,"reputation":1830,"user_id":2373821,"display_name":"Matrix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485249753,"creation_date":1440938205,"answer_id":32296643,"question_id":1439779,"body_markdown":"Another Simple compare method based on the answers here and my mentor guidance\r\n \r\n    public static int compare(Date d1, Date d2) {\r\n    \tCalendar c1 = Calendar.getInstance();\r\n    \tCalendar c2 = Calendar.getInstance();\r\n    \tc1.setTime(d1);\r\n    \tc1.set(Calendar.MILLISECOND, 0);\r\n    \tc1.set(Calendar.SECOND, 0);\r\n    \tc1.set(Calendar.MINUTE, 0);\r\n    \tc1.set(Calendar.HOUR_OF_DAY, 0);\r\n    \tc2.setTime(d2);\r\n    \tc2.set(Calendar.MILLISECOND, 0);\r\n    \tc2.set(Calendar.SECOND, 0);\r\n    \tc2.set(Calendar.MINUTE, 0);\r\n    \tc2.set(Calendar.HOUR_OF_DAY, 0);\r\n        return c1.getTime().compareTo(c2.getTime());\r\n      }\r\n\t\r\n**EDIT**: \r\nAccording to @Jonathan Drapeau, the code above fail some cases *(I would like to see those cases, please)* and he suggested the following as I understand:\r\n\r\n    public static int compare2(Date d1, Date d2) {\r\n\t    Calendar c1 = Calendar.getInstance();\r\n\t    Calendar c2 = Calendar.getInstance();\r\n\t    c1.clear();\r\n\t    c2.clear();\r\n\t    c1.set(Calendar.YEAR, d1.getYear());\r\n\t    c1.set(Calendar.MONTH, d1.getMonth());\r\n\t    c1.set(Calendar.DAY_OF_MONTH, d1.getDay());\r\n\t    c2.set(Calendar.YEAR, d2.getYear());\r\n\t    c2.set(Calendar.MONTH, d2.getMonth());\r\n\t    c2.set(Calendar.DAY_OF_MONTH, d2.getDay());\r\n\t    return c1.getTime().compareTo(c2.getTime());\r\n\t}\r\n\r\nPlease notice that, the Date class is deprecated cause it was not amenable to internationalization. The Calendar class is used instead!","title":"How to compare two Dates without the time portion?","body":"<p>Another Simple compare method based on the answers here and my mentor guidance</p>\n\n<pre><code>public static int compare(Date d1, Date d2) {\n    Calendar c1 = Calendar.getInstance();\n    Calendar c2 = Calendar.getInstance();\n    c1.setTime(d1);\n    c1.set(Calendar.MILLISECOND, 0);\n    c1.set(Calendar.SECOND, 0);\n    c1.set(Calendar.MINUTE, 0);\n    c1.set(Calendar.HOUR_OF_DAY, 0);\n    c2.setTime(d2);\n    c2.set(Calendar.MILLISECOND, 0);\n    c2.set(Calendar.SECOND, 0);\n    c2.set(Calendar.MINUTE, 0);\n    c2.set(Calendar.HOUR_OF_DAY, 0);\n    return c1.getTime().compareTo(c2.getTime());\n  }\n</code></pre>\n\n<p><strong>EDIT</strong>: \nAccording to @Jonathan Drapeau, the code above fail some cases <em>(I would like to see those cases, please)</em> and he suggested the following as I understand:</p>\n\n<pre><code>public static int compare2(Date d1, Date d2) {\n    Calendar c1 = Calendar.getInstance();\n    Calendar c2 = Calendar.getInstance();\n    c1.clear();\n    c2.clear();\n    c1.set(Calendar.YEAR, d1.getYear());\n    c1.set(Calendar.MONTH, d1.getMonth());\n    c1.set(Calendar.DAY_OF_MONTH, d1.getDay());\n    c2.set(Calendar.YEAR, d2.getYear());\n    c2.set(Calendar.MONTH, d2.getMonth());\n    c2.set(Calendar.DAY_OF_MONTH, d2.getDay());\n    return c1.getTime().compareTo(c2.getTime());\n}\n</code></pre>\n\n<p>Please notice that, the Date class is deprecated cause it was not amenable to internationalization. The Calendar class is used instead!</p>\n"},{"tags":[],"owner":{"account_id":2736975,"reputation":1201,"user_id":2359447,"display_name":"Federico Traiman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452690277,"creation_date":1450723634,"answer_id":34402361,"question_id":1439779,"body_markdown":"Using **http://mvnrepository.com/artifact/commons-lang/commons-lang**\r\n\r\n    Date date1 = new Date();\r\n\r\n    Date date2 = new Date();\r\n\r\n    if (DateUtils.truncatedCompareTo(date1, date2, Calendar.DAY_OF_MONTH) == 0)\r\n        // TRUE\r\n    else\r\n        // FALSE\r\n","title":"How to compare two Dates without the time portion?","body":"<p>Using <strong><a href=\"http://mvnrepository.com/artifact/commons-lang/commons-lang\" rel=\"nofollow\">http://mvnrepository.com/artifact/commons-lang/commons-lang</a></strong></p>\n\n<pre><code>Date date1 = new Date();\n\nDate date2 = new Date();\n\nif (DateUtils.truncatedCompareTo(date1, date2, Calendar.DAY_OF_MONTH) == 0)\n    // TRUE\nelse\n    // FALSE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1373175,"reputation":3363,"user_id":1448512,"display_name":"Lorcan O&#39;Neill"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1455545777,"creation_date":1455545777,"answer_id":35411693,"question_id":1439779,"body_markdown":"If you&#39;re using Java 8, you should use the `java.time.*` classes to compare dates - it&#39;s preferred to the various `java.util.*` classes\r\n\r\neg; https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n\r\n    LocalDate date1 = LocalDate.of(2016, 2, 14);\r\n    LocalDate date2 = LocalDate.of(2015, 5, 23);\r\n    date1.isAfter(date2);\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<p>If you're using Java 8, you should use the <code>java.time.*</code> classes to compare dates - it's preferred to the various <code>java.util.*</code> classes</p>\n\n<p>eg; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a></p>\n\n<pre><code>LocalDate date1 = LocalDate.of(2016, 2, 14);\nLocalDate date2 = LocalDate.of(2015, 5, 23);\ndate1.isAfter(date2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":276924,"reputation":6181,"user_id":570612,"accept_rate":50,"display_name":"unify"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480461975,"creation_date":1480461975,"answer_id":40877664,"question_id":1439779,"body_markdown":"Using Apache commons you can do:\r\n\r\n    import org.apache.commons.lang3.time.DateUtils\r\n\r\n    DateUtils.truncatedEquals(first, second, Calendar.DAY_OF_MONTH)","title":"How to compare two Dates without the time portion?","body":"<p>Using Apache commons you can do:</p>\n\n<pre><code>import org.apache.commons.lang3.time.DateUtils\n\nDateUtils.truncatedEquals(first, second, Calendar.DAY_OF_MONTH)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4062001,"reputation":1226,"user_id":3338287,"accept_rate":43,"display_name":"rana_sadam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480586388,"creation_date":1480586388,"answer_id":40907535,"question_id":1439779,"body_markdown":"    public static Date getZeroTimeDate(Date fecha) {\r\n        Date res = fecha;\r\n        Calendar calendar = Calendar.getInstance();\r\n    \r\n        calendar.setTime( fecha );\r\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n    \r\n        res = calendar.getTime();\r\n    \r\n        return res;\r\n    }\r\n    \r\n    Date currentDate = getZeroTimeDate(new Date());// get current date   \r\n        \r\n this is the simplest way to solve this problem.","title":"How to compare two Dates without the time portion?","body":"<pre><code>public static Date getZeroTimeDate(Date fecha) {\n    Date res = fecha;\n    Calendar calendar = Calendar.getInstance();\n\n    calendar.setTime( fecha );\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n\n    res = calendar.getTime();\n\n    return res;\n}\n\nDate currentDate = getZeroTimeDate(new Date());// get current date   \n</code></pre>\n\n<p>this is the simplest way to solve this problem.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490396308,"creation_date":1490393805,"answer_id":43010035,"question_id":1439779,"body_markdown":"First, be aware that this operation depends on the time zone. So choose whether you want to do it in UTC, in the computer’s time zone, in your own favourite time zone or where. If you are not yet convinced it matters, see my example at the bottom of this answer.\r\n\r\nSince your question isn’t quite clear about this, I am assuming that you have a class with an instance field representing a point in time and implementing `Comparable`, and you want the natural ordering of your objects to be by the date, but not the time, of that field. For example:\r\n\r\n    public class ArnesClass implements Comparable&lt;ArnesClass&gt; {\r\n    \r\n    \tprivate static final ZoneId arnesTimeZone = ZoneId.systemDefault();\r\n    \t\r\n    \tprivate Instant when;\r\n    \r\n    \t@Override\r\n    \tpublic int compareTo(ArnesClass o) {\r\n    \t\t// question is what to put here\r\n    \t}\r\n    \t\r\n    }\r\n\r\n# Java 8 `java.time` classes\r\n\r\nI have taken the freedom of changing the type of your instance field from `Date` to `Instant`, the corresponding class in Java 8. I promise to return to the treatment of `Date` below. I have also added a time zone constant. You may set it to `ZoneOffset.UTC` or `ZoneId.of(&quot;Europe/Stockholm&quot;)` or what you find appropriate (setting it to a `ZoneOffset` works because `ZoneOffset` is a subclass of `ZoneId`).\r\n\r\nI have chosen to show the solution using the Java 8 classes. You asked for the simplest way, right? :-) Here’s the `compareTo` method you asked for:\r\n\r\n\tpublic int compareTo(ArnesClass o) {\r\n\t\tLocalDate dateWithoutTime = when.atZone(arnesTimeZone).toLocalDate();\r\n\t\tLocalDate otherDateWithoutTime = o.when.atZone(arnesTimeZone).toLocalDate();\r\n\t\treturn dateWithoutTime.compareTo(otherDateWithoutTime);\r\n\t}\r\n\r\nIf you never need the time part of `when`, it is of course easier to declare `when` a `LocalDate` and skip all conversions. Then we don’t have to worry about the time zone anymore either.\r\n\r\nNow suppose that for some reason you cannot declare your `when` field an `Instant` or you want to keep it an old-fashioned `Date`. If you can still use Java 8, just convert it to `Instant`, then do as before:\r\n\r\n\t\tLocalDate dateWithoutTime = when.toInstant().atZone(arnesTimeZone).toLocalDate();\r\n\r\nSimilarly for `o.when`.\r\n\r\n# No Java 8?\r\n\r\nIf you cannot use java 8, there are two options:\r\n\r\n 1. Solve it using one of the old classes, either `Calendar` or `SimpleDateFormat`.\r\n 2. Use the backport of the Java 8 date and time classes to Java 6 and 7, then just do as above. I include a link at the bottom. Do not use JodaTime. JodaTime was probably a good suggestion when the answers recommending it were written; but JodaTime is now in maintenance mode, so the ThreeTen backport is a better and more futureproof option.\r\n\r\n# The old-fashioned ways\r\n\r\n[Adamski’s answer](https://stackoverflow.com/a/1439790/5772882) shows you how to strip the time part off a `Date` using the `Calendar` class. I suggest you use `getInstance(TimeZone)` to obtain the `Calendar` instance for the time zone you want. As an alternative you may use the idea from the second half of [Jorn’s answer](https://stackoverflow.com/a/1439845/5772882).\r\n\r\nUsing `SimpleDateFormat` is really an indirect way of using `Calendar` since a `SimpleDateFormat` contains a `Calendar` object. However, you may find it less troublesome than using `Calendar` directly:\r\n\r\n\tprivate static final TimeZone arnesTimeZone = TimeZone.getTimeZone(&quot;Europe/Stockholm&quot;);\r\n\tprivate static final DateFormat formatter = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n\tstatic {\r\n\t\tformatter.setTimeZone(arnesTimeZone);\r\n\t}\r\n\t\r\n\tprivate Date when;\r\n\r\n\t@Override\r\n\tpublic int compareTo(ArnesClass o) {\r\n\t\treturn formatter.format(when).compareTo(formatter.format(o.when));\r\n\t}\r\n\r\nThis was inspired by [Rob’s answer](https://stackoverflow.com/a/1712255/5772882).\r\n\r\n# Time zone dependency\r\n\r\nWhy do we have to pick a specific time zone? Say that we want to compare two times that in UTC are March 24 0:00 (midnight) and 12:00 (noon). If you do that in CET (say, Europe/Paris), they are 1 am and 1 pm on March 24, that is, the same date. In New York (Eastern Daylight Time), they are 20:00 on March 23 and 8:00 on March 24, that is, not the same date. So it makes a difference which time zone you pick. If you just rely on the computer’s default, you may be in for surprises when someone tries to run your code on a computer in another place in this globalized world.\r\n\r\n# Link\r\n\r\nLink to ThreeTen Backport, the backport of the Java 8 date and time classes to Java 6 and 7: http://www.threeten.org/threetenbp/.\r\n","title":"How to compare two Dates without the time portion?","body":"<p>First, be aware that this operation depends on the time zone. So choose whether you want to do it in UTC, in the computer’s time zone, in your own favourite time zone or where. If you are not yet convinced it matters, see my example at the bottom of this answer.</p>\n\n<p>Since your question isn’t quite clear about this, I am assuming that you have a class with an instance field representing a point in time and implementing <code>Comparable</code>, and you want the natural ordering of your objects to be by the date, but not the time, of that field. For example:</p>\n\n<pre><code>public class ArnesClass implements Comparable&lt;ArnesClass&gt; {\n\n    private static final ZoneId arnesTimeZone = ZoneId.systemDefault();\n\n    private Instant when;\n\n    @Override\n    public int compareTo(ArnesClass o) {\n        // question is what to put here\n    }\n\n}\n</code></pre>\n\n<h1>Java 8 <code>java.time</code> classes</h1>\n\n<p>I have taken the freedom of changing the type of your instance field from <code>Date</code> to <code>Instant</code>, the corresponding class in Java 8. I promise to return to the treatment of <code>Date</code> below. I have also added a time zone constant. You may set it to <code>ZoneOffset.UTC</code> or <code>ZoneId.of(\"Europe/Stockholm\")</code> or what you find appropriate (setting it to a <code>ZoneOffset</code> works because <code>ZoneOffset</code> is a subclass of <code>ZoneId</code>).</p>\n\n<p>I have chosen to show the solution using the Java 8 classes. You asked for the simplest way, right? :-) Here’s the <code>compareTo</code> method you asked for:</p>\n\n<pre><code>public int compareTo(ArnesClass o) {\n    LocalDate dateWithoutTime = when.atZone(arnesTimeZone).toLocalDate();\n    LocalDate otherDateWithoutTime = o.when.atZone(arnesTimeZone).toLocalDate();\n    return dateWithoutTime.compareTo(otherDateWithoutTime);\n}\n</code></pre>\n\n<p>If you never need the time part of <code>when</code>, it is of course easier to declare <code>when</code> a <code>LocalDate</code> and skip all conversions. Then we don’t have to worry about the time zone anymore either.</p>\n\n<p>Now suppose that for some reason you cannot declare your <code>when</code> field an <code>Instant</code> or you want to keep it an old-fashioned <code>Date</code>. If you can still use Java 8, just convert it to <code>Instant</code>, then do as before:</p>\n\n<pre><code>    LocalDate dateWithoutTime = when.toInstant().atZone(arnesTimeZone).toLocalDate();\n</code></pre>\n\n<p>Similarly for <code>o.when</code>.</p>\n\n<h1>No Java 8?</h1>\n\n<p>If you cannot use java 8, there are two options:</p>\n\n<ol>\n<li>Solve it using one of the old classes, either <code>Calendar</code> or <code>SimpleDateFormat</code>.</li>\n<li>Use the backport of the Java 8 date and time classes to Java 6 and 7, then just do as above. I include a link at the bottom. Do not use JodaTime. JodaTime was probably a good suggestion when the answers recommending it were written; but JodaTime is now in maintenance mode, so the ThreeTen backport is a better and more futureproof option.</li>\n</ol>\n\n<h1>The old-fashioned ways</h1>\n\n<p><a href=\"https://stackoverflow.com/a/1439790/5772882\">Adamski’s answer</a> shows you how to strip the time part off a <code>Date</code> using the <code>Calendar</code> class. I suggest you use <code>getInstance(TimeZone)</code> to obtain the <code>Calendar</code> instance for the time zone you want. As an alternative you may use the idea from the second half of <a href=\"https://stackoverflow.com/a/1439845/5772882\">Jorn’s answer</a>.</p>\n\n<p>Using <code>SimpleDateFormat</code> is really an indirect way of using <code>Calendar</code> since a <code>SimpleDateFormat</code> contains a <code>Calendar</code> object. However, you may find it less troublesome than using <code>Calendar</code> directly:</p>\n\n<pre><code>private static final TimeZone arnesTimeZone = TimeZone.getTimeZone(\"Europe/Stockholm\");\nprivate static final DateFormat formatter = new SimpleDateFormat(\"yyyyMMdd\");\nstatic {\n    formatter.setTimeZone(arnesTimeZone);\n}\n\nprivate Date when;\n\n@Override\npublic int compareTo(ArnesClass o) {\n    return formatter.format(when).compareTo(formatter.format(o.when));\n}\n</code></pre>\n\n<p>This was inspired by <a href=\"https://stackoverflow.com/a/1712255/5772882\">Rob’s answer</a>.</p>\n\n<h1>Time zone dependency</h1>\n\n<p>Why do we have to pick a specific time zone? Say that we want to compare two times that in UTC are March 24 0:00 (midnight) and 12:00 (noon). If you do that in CET (say, Europe/Paris), they are 1 am and 1 pm on March 24, that is, the same date. In New York (Eastern Daylight Time), they are 20:00 on March 23 and 8:00 on March 24, that is, not the same date. So it makes a difference which time zone you pick. If you just rely on the computer’s default, you may be in for surprises when someone tries to run your code on a computer in another place in this globalized world.</p>\n\n<h1>Link</h1>\n\n<p>Link to ThreeTen Backport, the backport of the Java 8 date and time classes to Java 6 and 7: <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">http://www.threeten.org/threetenbp/</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1490415324,"creation_date":1490413889,"answer_id":43012329,"question_id":1439779,"body_markdown":"# tl;dr\r\n\r\n    myJavaUtilDate1.toInstant()\r\n                   .atZone( ZoneId.of( &quot;America/Montreal&quot; ) )\r\n                   .toLocalDate()\r\n                   .isEqual (\r\n                       myJavaUtilDate2.toInstant()\r\n                                      .atZone( ZoneId.of( &quot;America/Montreal&quot; ) )\r\n                                      .toLocalDate()\r\n                   )\r\n\r\n# Avoid legacy date-time classes\r\n\r\nAvoid the troublesome old legacy date-time classes such as `Date` &amp; `Calendar`, now supplanted by the java.time classes.\r\n\r\n# Using java.time\r\n\r\nA `java.util.Date` represents a moment on the timeline in UTC. The equivalent in java.time is `Instant`. You may convert using new methods added to the legacy class.\r\n\r\n    Instant instant1 = myJavaUtilDate1.toInstant();\r\n    Instant instant2 = myJavaUtilDate2.toInstant();\r\n\r\nYou want to compare by date. A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n\r\nApply the `ZoneId` to the `Instant` to get a `ZonedDateTime`.\r\n\r\n    ZonedDateTime zdt1 = instant1.atZone( z );\r\n    ZonedDateTime zdt2 = instant2.atZone( z );\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone. We can extract a `LocalDate` from a `ZonedDateTime`, effectively eliminating the time-of-day portion.\r\n\r\n    LocalDate localDate1 = zdt1.toLocalDate();\r\n    LocalDate localDate2 = zdt2.toLocalDate();\r\n\r\nNow compare, using methods such as `isEqual`, `isBefore`, and `isAfter`.\r\n\r\n    Boolean sameDate = localDate1.isEqual( localDate2 );\r\n\r\nSee [this code run live at IdeOne.com][1].\r\n\r\n&gt;instant1: 2017-03-25T04:13:10.971Z | instant2: 2017-03-24T22:13:10.972Z\r\n\r\n&gt;zdt1: 2017-03-25T00:13:10.971-04:00[America/Montreal] | zdt2: 2017-03-24T18:13:10.972-04:00[America/Montreal]\r\n\r\n&gt;localDate1: 2017-03-25 | localDate2: 2017-03-24\r\n\r\n&gt;sameDate: false\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://ideone.com/bCc7pU","title":"How to compare two Dates without the time portion?","body":"<h1>tl;dr</h1>\n\n<pre><code>myJavaUtilDate1.toInstant()\n               .atZone( ZoneId.of( \"America/Montreal\" ) )\n               .toLocalDate()\n               .isEqual (\n                   myJavaUtilDate2.toInstant()\n                                  .atZone( ZoneId.of( \"America/Montreal\" ) )\n                                  .toLocalDate()\n               )\n</code></pre>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>Avoid the troublesome old legacy date-time classes such as <code>Date</code> &amp; <code>Calendar</code>, now supplanted by the java.time classes.</p>\n\n<h1>Using java.time</h1>\n\n<p>A <code>java.util.Date</code> represents a moment on the timeline in UTC. The equivalent in java.time is <code>Instant</code>. You may convert using new methods added to the legacy class.</p>\n\n<pre><code>Instant instant1 = myJavaUtilDate1.toInstant();\nInstant instant2 = myJavaUtilDate2.toInstant();\n</code></pre>\n\n<p>You want to compare by date. A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\n</code></pre>\n\n<p>Apply the <code>ZoneId</code> to the <code>Instant</code> to get a <code>ZonedDateTime</code>.</p>\n\n<pre><code>ZonedDateTime zdt1 = instant1.atZone( z );\nZonedDateTime zdt2 = instant2.atZone( z );\n</code></pre>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone. We can extract a <code>LocalDate</code> from a <code>ZonedDateTime</code>, effectively eliminating the time-of-day portion.</p>\n\n<pre><code>LocalDate localDate1 = zdt1.toLocalDate();\nLocalDate localDate2 = zdt2.toLocalDate();\n</code></pre>\n\n<p>Now compare, using methods such as <code>isEqual</code>, <code>isBefore</code>, and <code>isAfter</code>.</p>\n\n<pre><code>Boolean sameDate = localDate1.isEqual( localDate2 );\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/bCc7pU\" rel=\"noreferrer\">this code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>instant1: 2017-03-25T04:13:10.971Z | instant2: 2017-03-24T22:13:10.972Z</p>\n  \n  <p>zdt1: 2017-03-25T00:13:10.971-04:00[America/Montreal] | zdt2: 2017-03-24T18:13:10.972-04:00[America/Montreal]</p>\n  \n  <p>localDate1: 2017-03-25 | localDate2: 2017-03-24</p>\n  \n  <p>sameDate: false</p>\n</blockquote>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":10550035,"reputation":2579,"user_id":7773009,"display_name":"Fathima km"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497858279,"creation_date":1497858279,"answer_id":44624865,"question_id":1439779,"body_markdown":"    public Date saveDateWithoutTime(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n    \r\n        calendar.setTime( date );\r\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n        calendar.set(Calendar.HOUR, 0);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n    \r\n        return calendar.getTime();\r\n    }\r\n\r\nThis will help you to compare dates without considering the time.","title":"How to compare two Dates without the time portion?","body":"<pre><code>public Date saveDateWithoutTime(Date date) {\n    Calendar calendar = Calendar.getInstance();\n\n    calendar.setTime( date );\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\n    calendar.set(Calendar.HOUR, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n\n    return calendar.getTime();\n}\n</code></pre>\n\n<p>This will help you to compare dates without considering the time.</p>\n"},{"tags":[],"owner":{"account_id":2768658,"reputation":414,"user_id":2383723,"display_name":"Oscar Josue Alvrez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506107400,"creation_date":1506107400,"answer_id":46371688,"question_id":1439779,"body_markdown":"I solved this by comparing by timestamp:\r\n\r\n        Calendar last = Calendar.getInstance();\r\n\r\n        last.setTimeInMillis(firstTimeInMillis);\r\n    \r\n        Calendar current = Calendar.getInstance();\r\n    \r\n        if (last.get(Calendar.DAY_OF_MONTH) != current.get(Calendar.DAY_OF_MONTH)) {\r\n            //not the same day\r\n        }\r\n\r\nI avoid to use Joda Time because on Android uses a huge space. Size matters. ;)","title":"How to compare two Dates without the time portion?","body":"<p>I solved this by comparing by timestamp:</p>\n\n<pre><code>    Calendar last = Calendar.getInstance();\n\n    last.setTimeInMillis(firstTimeInMillis);\n\n    Calendar current = Calendar.getInstance();\n\n    if (last.get(Calendar.DAY_OF_MONTH) != current.get(Calendar.DAY_OF_MONTH)) {\n        //not the same day\n    }\n</code></pre>\n\n<p>I avoid to use Joda Time because on Android uses a huge space. Size matters. ;)</p>\n"},{"tags":[],"owner":{"account_id":10959307,"reputation":170,"user_id":8558398,"display_name":"13hola"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512041986,"creation_date":1512041986,"answer_id":47572614,"question_id":1439779,"body_markdown":"I don&#39;t know it is new think or else, but i show you as i done\r\n\r\n    SimpleDateFormat dtf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\tDate td_date = new Date();\r\n\tString first_date = dtf.format(td_date);\t//First seted in String \r\n\tString second_date = &quot;30/11/2020&quot;;  \t\t//Second date you can set hear in String\r\n  \t\t\r\n    String result = (first_date.equals(second_date)) ? &quot;Yes, Its Equals&quot;:&quot;No, It is not Equals&quot;;\r\n    System.out.println(result);","title":"How to compare two Dates without the time portion?","body":"<p>I don't know it is new think or else, but i show you as i done</p>\n\n<pre><code>SimpleDateFormat dtf = new SimpleDateFormat(\"dd/MM/yyyy\");\nDate td_date = new Date();\nString first_date = dtf.format(td_date);    //First seted in String \nString second_date = \"30/11/2020\";          //Second date you can set hear in String\n\nString result = (first_date.equals(second_date)) ? \"Yes, Its Equals\":\"No, It is not Equals\";\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214333,"reputation":1988,"user_id":468249,"accept_rate":50,"display_name":"rince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513186758,"creation_date":1513186758,"answer_id":47799172,"question_id":1439779,"body_markdown":"Another solution using Java 8 and Instant, is using the [truncatedTo][1] method\r\n\r\n&gt; Returns a copy of this Instant truncated to the specified unit.\r\n\r\nExample:\r\n\r\n    @Test\r\n    public void dateTruncate() throws InterruptedException {\r\n        Instant now = Instant.now();\r\n        Thread.sleep(1000*5);\r\n        Instant later = Instant.now();\r\n        assertThat(now, not(equalTo(later)));\r\n        assertThat(now.truncatedTo(ChronoUnit.DAYS), equalTo(later.truncatedTo(ChronoUnit.DAYS)));\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#truncatedTo-java.time.temporal.TemporalUnit-","title":"How to compare two Dates without the time portion?","body":"<p>Another solution using Java 8 and Instant, is using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#truncatedTo-java.time.temporal.TemporalUnit-\" rel=\"nofollow noreferrer\">truncatedTo</a> method</p>\n\n<blockquote>\n  <p>Returns a copy of this Instant truncated to the specified unit.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>@Test\npublic void dateTruncate() throws InterruptedException {\n    Instant now = Instant.now();\n    Thread.sleep(1000*5);\n    Instant later = Instant.now();\n    assertThat(now, not(equalTo(later)));\n    assertThat(now.truncatedTo(ChronoUnit.DAYS), equalTo(later.truncatedTo(ChronoUnit.DAYS)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11430824,"reputation":108,"user_id":8379581,"display_name":"yaslam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523020341,"creation_date":1523020341,"answer_id":49693647,"question_id":1439779,"body_markdown":"    // Create one day 00:00:00 calendar\r\n    int oneDayTimeStamp = 1523017440;\r\n    Calendar oneDayCal = Calendar.getInstance();\r\n    oneDayCal.setTimeInMillis(oneDayTimeStamp * 1000L);\r\n    oneDayCal.set(Calendar.HOUR_OF_DAY, 0);\r\n    oneDayCal.set(Calendar.MINUTE, 0);\r\n    oneDayCal.set(Calendar.SECOND, 0);\r\n    oneDayCal.set(Calendar.MILLISECOND, 0);\r\n    \r\n    // Create current day 00:00:00 calendar\r\n    Calendar currentCal = Calendar.getInstance();\r\n    currentCal.set(Calendar.HOUR_OF_DAY, 0);\r\n    currentCal.set(Calendar.MINUTE, 0);\r\n    currentCal.set(Calendar.SECOND, 0);\r\n    currentCal.set(Calendar.MILLISECOND, 0);\r\n    \r\n    if (oneDayCal.compareTo(currentCal) == 0) {\r\n        // Same day (excluding time)\r\n    }\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<pre><code>// Create one day 00:00:00 calendar\nint oneDayTimeStamp = 1523017440;\nCalendar oneDayCal = Calendar.getInstance();\noneDayCal.setTimeInMillis(oneDayTimeStamp * 1000L);\noneDayCal.set(Calendar.HOUR_OF_DAY, 0);\noneDayCal.set(Calendar.MINUTE, 0);\noneDayCal.set(Calendar.SECOND, 0);\noneDayCal.set(Calendar.MILLISECOND, 0);\n\n// Create current day 00:00:00 calendar\nCalendar currentCal = Calendar.getInstance();\ncurrentCal.set(Calendar.HOUR_OF_DAY, 0);\ncurrentCal.set(Calendar.MINUTE, 0);\ncurrentCal.set(Calendar.SECOND, 0);\ncurrentCal.set(Calendar.MILLISECOND, 0);\n\nif (oneDayCal.compareTo(currentCal) == 0) {\n    // Same day (excluding time)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14456773,"reputation":440,"user_id":10442757,"display_name":"Raj Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611950750,"creation_date":1611950750,"answer_id":65961015,"question_id":1439779,"body_markdown":"If you strictly want to use Date ( `java.util.Date` ), or without any use of external Library. Use this :\r\n\r\n    public Boolean compareDateWithoutTime(Date d1, Date d2) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n        return sdf.format(d1).equals(sdf.format(d2));\r\n    }","title":"How to compare two Dates without the time portion?","body":"<p>If you strictly want to use Date ( <code>java.util.Date</code> ), or without any use of external Library. Use this :</p>\n<pre><code>public Boolean compareDateWithoutTime(Date d1, Date d2) {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n    return sdf.format(d1).equals(sdf.format(d2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641466621,"creation_date":1641466621,"answer_id":70606055,"question_id":1439779,"body_markdown":"        Date today = new Date();\r\n        Date endDate = new Date();//this\r\n        endDate.setTime(endDate.getTime() - ((endDate.getHours()*60*60*1000) + (endDate.getMinutes()*60*1000) + (endDate.getSeconds()*1000)));\r\n        today.setTime(today.getTime() - ((today.getHours()*60*60*1000) + (today.getMinutes()*60*1000) + (today.getSeconds()*1000)));\r\n\r\n        System.out.println(endDate.compareTo(today) &lt;= 0);\r\n\r\nI am simply setting hours/minutes/second to 0 so no issue with the time as time will be same now for both dates. now you simply use compareTo. This method helped to find &quot;if dueDate is today&quot; where true means Yes.","title":"How to compare two Dates without the time portion?","body":"<pre><code>    Date today = new Date();\n    Date endDate = new Date();//this\n    endDate.setTime(endDate.getTime() - ((endDate.getHours()*60*60*1000) + (endDate.getMinutes()*60*1000) + (endDate.getSeconds()*1000)));\n    today.setTime(today.getTime() - ((today.getHours()*60*60*1000) + (today.getMinutes()*60*1000) + (today.getSeconds()*1000)));\n\n    System.out.println(endDate.compareTo(today) &lt;= 0);\n</code></pre>\n<p>I am simply setting hours/minutes/second to 0 so no issue with the time as time will be same now for both dates. now you simply use compareTo. This method helped to find &quot;if dueDate is today&quot; where true means Yes.</p>\n"},{"tags":[],"owner":{"account_id":21999164,"reputation":1,"user_id":16271123,"display_name":"Abdulkarim G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662813140,"creation_date":1662813140,"answer_id":73671838,"question_id":1439779,"body_markdown":"If you are looking for a **simple solution** and yet you do not want to change the deprecated `java.util.Date` class from your project, you can just add this method to your project and continue your quest:\r\n\r\n# Using `java.util.concurrent.TimeUnit` #\r\n\r\n`\r\n\r\n    public boolean isSameDay(Date first, Date second) {\r\n        long difference_In_Time = first.getTime() - second.getTime();\r\n            // calculate difference in days\r\n            long difference_In_Days = \r\n            TimeUnit\r\n                  .MILLISECONDS\r\n                  .toDays(difference_In_Time);\r\n            if (difference_In_Days == 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n`\r\n\r\nImplement it like: \r\n\r\n`\r\n\r\n    Date first = ...;\r\n    Date second = ...;\r\n    if (isSameDay(first, second)) {\r\n        // congratulations, they are the same\r\n    }\r\n    else {\r\n       // heads up champ, they are not the same\r\n    }\r\n\r\n`\r\n\r\n\r\n\r\n","title":"How to compare two Dates without the time portion?","body":"<p>If you are looking for a <strong>simple solution</strong> and yet you do not want to change the deprecated <code>java.util.Date</code> class from your project, you can just add this method to your project and continue your quest:</p>\n<h1>Using <code>java.util.concurrent.TimeUnit</code></h1>\n<p>`</p>\n<pre><code>public boolean isSameDay(Date first, Date second) {\n    long difference_In_Time = first.getTime() - second.getTime();\n        // calculate difference in days\n        long difference_In_Days = \n        TimeUnit\n              .MILLISECONDS\n              .toDays(difference_In_Time);\n        if (difference_In_Days == 0) {\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>`</p>\n<p>Implement it like:</p>\n<p>`</p>\n<pre><code>Date first = ...;\nDate second = ...;\nif (isSameDay(first, second)) {\n    // congratulations, they are the same\n}\nelse {\n   // heads up champ, they are not the same\n}\n</code></pre>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701014238,"creation_date":1701014238,"answer_id":77552402,"question_id":1439779,"body_markdown":"java.time\r\n---\r\n\r\nJava-8 introduced the modern, [`java.time` Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) which supplanted the outdated and error-prone legacy `java.util` Date-Time API. Since then it has been highly recommended to switch to the modern API.\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; **Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this project.**\r\n\r\nLuckily, Java-8 architects made it easy to switch to the `java.time` API\r\n---  \r\n\r\nUse [`Date#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--) to convert a `java.util.Date` object into an [`java.time.Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) which represents an instantaneous point on the timeline in the `java.time` API. You can derive [other `java.time` types](https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html) from an `Instant` as per your requirement.\r\n\r\nSolution using `java.time`, the modern Date-Time API:\r\n--- \r\n\r\n    import java.time.*;\r\n    \r\n    java.util.Date first = ...;\r\n    java.util.Date second = ...;\r\n    \r\n    // Change the ZoneId as per your requirement e.g. ZoneId.of(&quot;Europe/London&quot;)\r\n    ZoneId zoneId = ZoneId.systemDefault();\r\n    LocalDate firstDate = LocalDate.from(first.toInstant().atZone(zoneId));\r\n    LocalDate secondDate = LocalDate.from(second.toInstant().atZone(zoneId));\r\n    \r\n    return firstDate.compareTo(secondDate);\r\n    \r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to compare two Dates without the time portion?","body":"<h2>java.time</h2>\n<p>Java-8 introduced the modern, <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\"><code>java.time</code> Date-Time API</a> which supplanted the outdated and error-prone legacy <code>java.util</code> Date-Time API. Since then it has been highly recommended to switch to the modern API.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p><strong>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this project.</strong></p>\n</blockquote>\n<h2>Luckily, Java-8 architects made it easy to switch to the <code>java.time</code> API</h2>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Date#toInstant</code></a> to convert a <code>java.util.Date</code> object into an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a> which represents an instantaneous point on the timeline in the <code>java.time</code> API. You can derive <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"nofollow noreferrer\">other <code>java.time</code> types</a> from an <code>Instant</code> as per your requirement.</p>\n<h2>Solution using <code>java.time</code>, the modern Date-Time API:</h2>\n<pre><code>import java.time.*;\n\njava.util.Date first = ...;\njava.util.Date second = ...;\n\n// Change the ZoneId as per your requirement e.g. ZoneId.of(&quot;Europe/London&quot;)\nZoneId zoneId = ZoneId.systemDefault();\nLocalDate firstDate = LocalDate.from(first.toInstant().atZone(zoneId));\nLocalDate secondDate = LocalDate.from(second.toInstant().atZone(zoneId));\n\nreturn firstDate.compareTo(secondDate);\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":9111,"reputation":19723,"user_id":16686,"accept_rate":35,"display_name":"Arne Evertsson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367441,"favorite_count":0,"down_vote_count":0,"up_vote_count":233,"accepted_answer_id":1439792,"answer_count":34,"score":233,"last_activity_date":1701014238,"creation_date":1253203376,"question_id":1439779,"body_markdown":"I would like to have a compareTo method that ignores the time portion of a java.util.Date. I guess there are a number of ways to solve this. What&#39;s the simplest way?","title":"How to compare two Dates without the time portion?","body":"<p>I would like to have a compareTo method that ignores the time portion of a java.util.Date. I guess there are a number of ways to solve this. What's the simplest way?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692620943,"post_id":76945106,"comment_id":135644069,"body_markdown":"[Migration Guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html)","body":"<a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Migration Guide</a>"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692621379,"post_id":76945106,"comment_id":135644171,"body_markdown":"[Securing-web](https://spring.io/guides/gs/securing-web/), this 2 resources will be enough to cover this topic","body":"<a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">Securing-web</a>, this 2 resources will be enough to cover this topic"},{"owner":{"account_id":9293314,"reputation":2267,"user_id":6901081,"display_name":"jsotola"},"score":0,"creation_date":1692641364,"post_id":76945106,"comment_id":135648539,"body_markdown":"please do not post any pictures of text ... post text itself","body":"please do not post any pictures of text ... post text itself"}],"answers":[{"tags":[],"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697122299,"creation_date":1697122299,"answer_id":77281672,"question_id":76945106,"body_markdown":"Try this \r\n```\r\n  @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n\r\n\r\n    } ","title":"Springboot SecurityFilterChain","body":"<p>Try this</p>\n<pre><code>  @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n\n\n    } \n</code></pre>\n"}],"owner":{"account_id":26622628,"reputation":11,"user_id":20241183,"display_name":"zayedh80"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701012896,"creation_date":1692619379,"question_id":76945106,"body_markdown":"im just tryna to learn springbootsecurity and in this bloc there s many error &#39;csrf()&#39; and &#39;authorizeHttpRequests()&#39; are deprecated and marked for removal  and theres also problem in JwtAuthenticationFilter it said \r\nCannot resolve symbol &#39;JwtAuthenticationFilter&#39;\r\n\r\n![enter image description here](https://i.stack.imgur.com/H4b2K.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/JV92o.png) \r\n\r\ncould someone help me  for solving this \r\npublic class SecurityConfig {\r\n\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    //les listes n est authentifies mais les autres doivent etres authentication\r\n    @Bean\r\n    public SecurityFilterChain SecurityFilterChain(HttpSecurity http)throws Exception{\r\n\r\n        http\r\n              .csrf()\r\n              .disable()\r\n              .authorizeHttpRequests()\r\n            \r\n              .authenticated()\r\n              .and()\r\n              .sessionManagement()\r\n              .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n          \r\n              .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n\r\n        return http.build();\r\n","title":"Springboot SecurityFilterChain","body":"<p>im just tryna to learn springbootsecurity and in this bloc there s many error 'csrf()' and 'authorizeHttpRequests()' are deprecated and marked for removal  and theres also problem in JwtAuthenticationFilter it said\nCannot resolve symbol 'JwtAuthenticationFilter'</p>\n<p><img src=\"https://i.stack.imgur.com/H4b2K.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/JV92o.png\" alt=\"enter image description here\" /></p>\n<p>could someone help me  for solving this\npublic class SecurityConfig {</p>\n<pre><code>private final JwtAuthenticationFilter jwtAuthFilter;\nprivate final AuthenticationProvider authenticationProvider;\n\n//les listes n est authentifies mais les autres doivent etres authentication\n@Bean\npublic SecurityFilterChain SecurityFilterChain(HttpSecurity http)throws Exception{\n\n    http\n          .csrf()\n          .disable()\n          .authorizeHttpRequests()\n        \n          .authenticated()\n          .and()\n          .sessionManagement()\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n      \n          .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n\n    return http.build();\n</code></pre>\n"},{"tags":["java","eclipse"],"owner":{"account_id":22190463,"reputation":315,"user_id":16432742,"display_name":"Vinayak Sutar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700986066,"answer_count":0,"score":0,"last_activity_date":1701012339,"creation_date":1700984568,"question_id":77550859,"body_markdown":"When I create a new project in Eclipse 2019, I always get this error. Tried changing workspace, but nothing worked for me. What to do now?\r\n\r\n[![Ecplise IDE Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ai7yC.png","title":"Getting error when creating a new Dynamic Project in JSP using Ecplise IDE 2019","body":"<p>When I create a new project in Eclipse 2019, I always get this error. Tried changing workspace, but nothing worked for me. What to do now?</p>\n<p><a href=\"https://i.stack.imgur.com/ai7yC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ai7yC.png\" alt=\"Ecplise IDE Error\" /></a></p>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701011371,"post_id":77552205,"comment_id":136719481,"body_markdown":"You need to change the file association to java.exe *from* javaw.exe","body":"You need to change the file association to java.exe <i>from</i> javaw.exe"},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1701011571,"post_id":77552205,"comment_id":136719504,"body_markdown":"Thanks for your answer. Yes, this works on my computer. But I want to be able to deploy the app without forcing others to change their associations. That&#39;s why I am looking for a different approach.","body":"Thanks for your answer. Yes, this works on my computer. But I want to be able to deploy the app without forcing others to change their associations. That&#39;s why I am looking for a different approach."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701011845,"post_id":77552205,"comment_id":136719535,"body_markdown":"If you want to deploy and share a program that requires user interaction, then don&#39;t create and deploy a console app. Instead, create a GUI with your choice of GUI library, e.g., Swing, JavaFX, and then the problem is solved with no need to change association.","body":"If you want to deploy and share a program that requires user interaction, then don&#39;t create and deploy a console app. Instead, create a GUI with your choice of GUI library, e.g., Swing, JavaFX, and then the problem is solved with no need to change association."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1701012019,"post_id":77552205,"comment_id":136719562,"body_markdown":"Thanks for your comment. I am learning how to create a GUI and you are right. I just thought that there has to be a simple way of doing what I want to do. Because I would literally use JavaFX to build a cmd.exe clone.","body":"Thanks for your comment. I am learning how to create a GUI and you are right. I just thought that there has to be a simple way of doing what I want to do. Because I would literally use JavaFX to build a cmd.exe clone."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701012160,"post_id":77552205,"comment_id":136719578,"body_markdown":"What? No, don&#39;t build a command-line clone. There are much cleaner ways of interacting with the user that you should be learning and using.","body":"What? No, don&#39;t build a command-line clone. There are much cleaner ways of interacting with the user that you should be learning and using."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701014765,"post_id":77552205,"comment_id":136719857,"body_markdown":"The other way to make a Java app easy for non-technical people to install and use is to create an installer that will setup and install the app an embedded Java installation, wrapper scripts and anything else it needs.  That should be able to deal with the &quot;launch with a console&quot; problem.  (But apps that use the console for ... anything ... are very non-Windows.)","body":"The other way to make a Java app easy for non-technical people to install and use is to create an installer that will setup and install the app an embedded Java installation, wrapper scripts and anything else it needs.  That should be able to deal with the &quot;launch with a console&quot; problem.  (But apps that use the console for ... anything ... are very non-Windows.)"}],"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701012246,"answer_count":0,"score":-2,"last_activity_date":1701012334,"creation_date":1701010882,"question_id":77552205,"body_markdown":"I have got a simple java app. If I run this app from cmd.exe everything works fine. The console then is use for input and output.\r\n\r\nNow I made an execute jar out of this app. If I start this jar from cmd.exe everything works fine again.\r\n\r\nBut I want to start the app by double clicking the jar file. In this case there is no console and no input or output.\r\n\r\nI am now looking for a way to fix it.\r\n\r\nI figured out, that the problem occurres because when starting the jar with a double click results in usage if javaw.exe instead of java.exe wich lacks a console.\r\n\r\nOne way to fix this would be changing the systems behaviour to start jars with java.exe instead of javaw.exe. Except from the problem that the console won&#39;t stay open in this case, this works.\r\n\r\nI still want to find another way because I want to be able to deploy my app without the need of changing the .jar association.\r\n\r\nThis leads me to the question if there&#39;s a simple way to make a executable jar that has been started by a double click behave like it had been start from a console.\r\n\r\nAny help is much appreciated!","title":"How to make an executable jar use the console?","body":"<p>I have got a simple java app. If I run this app from cmd.exe everything works fine. The console then is use for input and output.</p>\n<p>Now I made an execute jar out of this app. If I start this jar from cmd.exe everything works fine again.</p>\n<p>But I want to start the app by double clicking the jar file. In this case there is no console and no input or output.</p>\n<p>I am now looking for a way to fix it.</p>\n<p>I figured out, that the problem occurres because when starting the jar with a double click results in usage if javaw.exe instead of java.exe wich lacks a console.</p>\n<p>One way to fix this would be changing the systems behaviour to start jars with java.exe instead of javaw.exe. Except from the problem that the console won't stay open in this case, this works.</p>\n<p>I still want to find another way because I want to be able to deploy my app without the need of changing the .jar association.</p>\n<p>This leads me to the question if there's a simple way to make a executable jar that has been started by a double click behave like it had been start from a console.</p>\n<p>Any help is much appreciated!</p>\n"},{"tags":["java","encryption","aes","encryption-symmetric","pbkdf2"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1674837892,"post_id":75260818,"comment_id":132805337,"body_markdown":"Decryption fails because a different IV is used than in encryption (since `getInitializationVector()` generates a random IV). The correct way is to pass the IV used during encryption together with the ciphertext to the decrypting side (note that the IV is not secret).","body":"Decryption fails because a different IV is used than in encryption (since <code>getInitializationVector()</code> generates a random IV). The correct way is to pass the IV used during encryption together with the ciphertext to the decrypting side (note that the IV is not secret)."}],"answers":[{"tags":[],"owner":{"account_id":1689409,"reputation":1059,"user_id":1552080,"accept_rate":64,"display_name":"WolfiG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675086700,"creation_date":1675086700,"answer_id":75285369,"question_id":75260818,"body_markdown":"Solved the problem above with the help of Topaco&#39;s comment. Instead of picking a new random number each time I run through method:\r\n\r\n    public static IvParameterSpec getInitializationVector() {\r\n        byte[] iv = new byte[16];\r\n        new SecureRandom().nextBytes(iv);\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\nI am using a hard coded byte array now:\r\n\r\n    public static IvParameterSpec getInitializationVector() {\r\n        byte[] iv = {1, 2, 3, ... 16};\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\nPlease note that this solution is not exactly safe, was the IV is hard coded and can be extracted from source code. However, I choose not to pass it to the outside as my application is not very critical. I a proper solution, the random number needs to be returned together with the IvParameterSpec.","title":"Encryption/decryption fails","body":"<p>Solved the problem above with the help of Topaco's comment. Instead of picking a new random number each time I run through method:</p>\n<pre><code>public static IvParameterSpec getInitializationVector() {\n    byte[] iv = new byte[16];\n    new SecureRandom().nextBytes(iv);\n    return new IvParameterSpec(iv);\n}\n</code></pre>\n<p>I am using a hard coded byte array now:</p>\n<pre><code>public static IvParameterSpec getInitializationVector() {\n    byte[] iv = {1, 2, 3, ... 16};\n    return new IvParameterSpec(iv);\n}\n</code></pre>\n<p>Please note that this solution is not exactly safe, was the IV is hard coded and can be extracted from source code. However, I choose not to pass it to the outside as my application is not very critical. I a proper solution, the random number needs to be returned together with the IvParameterSpec.</p>\n"},{"tags":[],"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701011142,"creation_date":1675196993,"answer_id":75302791,"question_id":75260818,"body_markdown":"Here is my attempt at solving this problem and also removing other security problems I&#39;ve noticed in your code. It is obvious you just copied the code without understanding the underlying concepts behind it.\r\n\r\nFirst things first, you need to differentiate between encryption and hashing. \r\n\r\nIn cryptography domain, one of the usage of hashing is to store user passwords in a form which isn&#39;t a plaintext. This is possible because the hash function are a one way functions, meaning that you cannot derive a password from a hash. Usually when hashing, a password&#39;s salt is used. Salt should be random bits of data that are unique for every hash you create. Also, there are security guidelines when it comes to salt sizes. I think the current recommended length of a salt should be at least 32 bits according to [NIST](https://www.nist.gov).\r\n\r\n`hashing_function(input, salt) -&gt; hashed_input`\r\n\r\nWhen using symmetric encryption, you will need to choose an algorithm, mode and a padding schema alongside a unique IV value. In your code you have chosen AES algorithm with CBC mode and PKCS5 padding. If you reuse an IV, you open yourself up to attacks which are easier to execute than those when you use a unique IV. Every time you encrypt a new sequence, you should use a new IV value. For example, you will use one, unique, IV value when encrypting one file or a message, but as soon as you want to encrypt another one you should use a new IV value. The main difference between hashing and encrypting is that encryption is not a one way function, meaning that with a proper key and iv you can decrypt your encrypted data.\r\n\r\n```\r\nk - encryption key\r\niv - initialization vector\r\np - plaintext\r\nc - ciphertext\r\nE - encryption function\r\nD - decryption function\r\n\r\n=&gt; E(p, k, iv) = c\r\n=&gt; D(c, k, iv) = p\r\n```\r\n\r\nThe reason why you are hashing your password is because you want to transform your text password into an encryption key. This is known as key stretching. You are using PBKDF2 algorithm with HMAC-SHA1 with 65,536 iterations. I think the current NIST recommendation is to use over 70,000 iterations with HMAC-SHA256. Keep in mind this is a recommendation, the combination of algorithms, iterations and other parameters depend on your desired level of security.\r\n\r\nIn this example, the reason why your unit test fails is that you are using different IV values for encryption and decryption. Once you fix this, your test will pass. However, in your code, your salt value, which you use for password hashing which is then used as a key for your symmetric encryption isn&#39;t correct. The salt should be unique and in the code snipped you provided you are hashing your password by using your own password as a salt. Essentially, you have this: `hashing_function(input, input) -&gt; hashed_input`, where input in this case is your password.\r\n\r\nI would solve this problem by adding another method called `getSalt()` and I would update the encryption and decryption methods, by adding an IV to methods parameters.\r\n```\r\n    public static byte[] getSalt() {\r\n        byte[] salt = new byte[32];\r\n        new SecureRandom().nextBytes(salt);\r\n        return salt;\r\n    }\r\n\r\n    public static String encrypt(String input, String password, byte[] salt, IvParameterSpec iv)\r\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n\r\n        SecretKey secretKey = null;\r\n        try {\r\n            secretKey = getSecretKey(password, salt);\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            // code\r\n        }\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, iv);\r\n        byte[] cipherText = cipher.doFinal(input.getBytes());\r\n        return Base64.getEncoder().encodeToString(cipherText);\r\n    }\r\n\r\n    public static String decrypt(String encryptedText, String password, byte[] salt, IvParameterSpec iv)\r\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n        SecretKey secretKey = null;\r\n        try {\r\n            secretKey = getSecretKey(password, salt);\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            // code\r\n        }\r\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, iv);\r\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\r\n        return new String(plainText);\r\n    }\r\n```\r\nThen I would use/test the code like this:\r\n```\r\n@Test\r\npublic void testDecrypt() {\r\n    String encryptedString;\r\n    String decryptedString;\r\n    String plaintext = &quot;some string&quot;;\r\n    String password = &quot;password&quot;;\r\n    byte[] salt = CryptoHelper.getSalt();\r\n    IvParameterSpec iv = CryptoHelper.getInitializationVector();\r\n\r\n    encryptedString = CryptoHelper.encrypt(plaintext, password, salt, iv);\r\n    decryptedString = CryptoHelper.decrypt(encryptedString, password, salt, iv);\r\n\r\n    assertEquals(plaintext,decryptedString)\r\n}\r\n```\r\nFinally, I would consider removing the try-catch from your test code as it doesn&#39;t, in its current form, provide any value. If an exception is thrown from the code being tested then the test will fail and that is normally what you want to happen. One exception would be when your test wants to provoke an exception.","title":"Encryption/decryption fails","body":"<p>Here is my attempt at solving this problem and also removing other security problems I've noticed in your code. It is obvious you just copied the code without understanding the underlying concepts behind it.</p>\n<p>First things first, you need to differentiate between encryption and hashing.</p>\n<p>In cryptography domain, one of the usage of hashing is to store user passwords in a form which isn't a plaintext. This is possible because the hash function are a one way functions, meaning that you cannot derive a password from a hash. Usually when hashing, a password's salt is used. Salt should be random bits of data that are unique for every hash you create. Also, there are security guidelines when it comes to salt sizes. I think the current recommended length of a salt should be at least 32 bits according to <a href=\"https://www.nist.gov\" rel=\"nofollow noreferrer\">NIST</a>.</p>\n<p><code>hashing_function(input, salt) -&gt; hashed_input</code></p>\n<p>When using symmetric encryption, you will need to choose an algorithm, mode and a padding schema alongside a unique IV value. In your code you have chosen AES algorithm with CBC mode and PKCS5 padding. If you reuse an IV, you open yourself up to attacks which are easier to execute than those when you use a unique IV. Every time you encrypt a new sequence, you should use a new IV value. For example, you will use one, unique, IV value when encrypting one file or a message, but as soon as you want to encrypt another one you should use a new IV value. The main difference between hashing and encrypting is that encryption is not a one way function, meaning that with a proper key and iv you can decrypt your encrypted data.</p>\n<pre><code>k - encryption key\niv - initialization vector\np - plaintext\nc - ciphertext\nE - encryption function\nD - decryption function\n\n=&gt; E(p, k, iv) = c\n=&gt; D(c, k, iv) = p\n</code></pre>\n<p>The reason why you are hashing your password is because you want to transform your text password into an encryption key. This is known as key stretching. You are using PBKDF2 algorithm with HMAC-SHA1 with 65,536 iterations. I think the current NIST recommendation is to use over 70,000 iterations with HMAC-SHA256. Keep in mind this is a recommendation, the combination of algorithms, iterations and other parameters depend on your desired level of security.</p>\n<p>In this example, the reason why your unit test fails is that you are using different IV values for encryption and decryption. Once you fix this, your test will pass. However, in your code, your salt value, which you use for password hashing which is then used as a key for your symmetric encryption isn't correct. The salt should be unique and in the code snipped you provided you are hashing your password by using your own password as a salt. Essentially, you have this: <code>hashing_function(input, input) -&gt; hashed_input</code>, where input in this case is your password.</p>\n<p>I would solve this problem by adding another method called <code>getSalt()</code> and I would update the encryption and decryption methods, by adding an IV to methods parameters.</p>\n<pre><code>    public static byte[] getSalt() {\n        byte[] salt = new byte[32];\n        new SecureRandom().nextBytes(salt);\n        return salt;\n    }\n\n    public static String encrypt(String input, String password, byte[] salt, IvParameterSpec iv)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, iv);\n        byte[] cipherText = cipher.doFinal(input.getBytes());\n        return Base64.getEncoder().encodeToString(cipherText);\n    }\n\n    public static String decrypt(String encryptedText, String password, byte[] salt, IvParameterSpec iv)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, iv);\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\n        return new String(plainText);\n    }\n</code></pre>\n<p>Then I would use/test the code like this:</p>\n<pre><code>@Test\npublic void testDecrypt() {\n    String encryptedString;\n    String decryptedString;\n    String plaintext = &quot;some string&quot;;\n    String password = &quot;password&quot;;\n    byte[] salt = CryptoHelper.getSalt();\n    IvParameterSpec iv = CryptoHelper.getInitializationVector();\n\n    encryptedString = CryptoHelper.encrypt(plaintext, password, salt, iv);\n    decryptedString = CryptoHelper.decrypt(encryptedString, password, salt, iv);\n\n    assertEquals(plaintext,decryptedString)\n}\n</code></pre>\n<p>Finally, I would consider removing the try-catch from your test code as it doesn't, in its current form, provide any value. If an exception is thrown from the code being tested then the test will fail and that is normally what you want to happen. One exception would be when your test wants to provoke an exception.</p>\n"}],"owner":{"account_id":1689409,"reputation":1059,"user_id":1552080,"accept_rate":64,"display_name":"WolfiG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75302791,"answer_count":2,"score":0,"last_activity_date":1701011142,"creation_date":1674836915,"question_id":75260818,"body_markdown":"I have a helper class AES encrypting/decrypting a String which is mostly a clone of the code provided in [Baeldung AES encryption example][1]\r\n\r\nThe code looks as follows:\r\n\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class CryptoHelper {\r\n    \r\n        private static final String CIPHER_ALGORITM_NAME = &quot;AES/CBC/PKCS5Padding&quot;;\r\n        private static final String HASHING_ALGO_NAME = &quot;PBKDF2WithHmacSHA1&quot;;\r\n        private static final int KEY_TARGET_LENGTH = 256;\r\n        private static final int HASHING_ITERATIONS = 65536;\r\n    \r\n        public static SecretKey getSecretKey(String string, byte[] salt)\r\n                throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            KeySpec spec = new PBEKeySpec(string.toCharArray(), salt, HASHING_ITERATIONS, KEY_TARGET_LENGTH);\r\n    \r\n            try {\r\n                SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(HASHING_ALGO_NAME);\r\n                SecretKey encryptedPassword = new SecretKeySpec(keyFactory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n                return encryptedPassword;\r\n            } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                throw e;\r\n            }\r\n    \r\n        }\r\n    \r\n        public static IvParameterSpec getInitializationVector() {\r\n            byte[] iv = new byte[16];\r\n            new SecureRandom().nextBytes(iv);\r\n            return new IvParameterSpec(iv);\r\n        }\r\n    \r\n        public static String encrypt(String input, String password, byte[] salt)\r\n                throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n                InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n    \r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n    \r\n            SecretKey secretKey = null;\r\n            try {\r\n                secretKey = getSecretKey(password, salt);\r\n            } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                // code\r\n            }\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, getInitializationVector());\r\n            byte[] cipherText = cipher.doFinal(input.getBytes());\r\n            return Base64.getEncoder().encodeToString(cipherText);\r\n        }\r\n    \r\n        public static String decrypt(String encryptedText, String password, byte[] salt)\r\n                throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n                InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n    \r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n            SecretKey secretKey = null;\r\n            try {\r\n                secretKey = getSecretKey(password, salt);\r\n            } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                // code\r\n            }\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, getInitializationVector());\r\n            byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\r\n            return new String(plainText);\r\n        }\r\n    }\r\n\r\n\r\nNow I test this with a unit test, but this test fails with\r\n\r\n&gt; javax.crypto.BadPaddingException: Given final block not properly\r\n&gt; padded. Such issues can arise if a bad key is used during decryption.\r\n\r\n    @Test\r\n    public void testDecrypt() {\r\n        String encryptedString = &quot;&quot;;\r\n        String password = &quot;password&quot;;\r\n\r\n        try {\r\n            encryptedString = CryptoHelper.encrypt(&quot;some string&quot;, password, password.getBytes());\r\n        } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\r\n                | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\r\n            e.printStackTrace();\r\n            assertNull(e);\r\n        }\r\n\r\n        try {\r\n            CryptoHelper.decrypt(encryptedString, password, password.getBytes());\r\n        } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\r\n                | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWhat is wrong here?\r\n\r\n  [1]: https://www.baeldung.com/java-aes-encryption-decryption","title":"Encryption/decryption fails","body":"<p>I have a helper class AES encrypting/decrypting a String which is mostly a clone of the code provided in <a href=\"https://www.baeldung.com/java-aes-encryption-decryption\" rel=\"nofollow noreferrer\">Baeldung AES encryption example</a></p>\n<p>The code looks as follows:</p>\n<pre><code>import java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class CryptoHelper {\n\n    private static final String CIPHER_ALGORITM_NAME = &quot;AES/CBC/PKCS5Padding&quot;;\n    private static final String HASHING_ALGO_NAME = &quot;PBKDF2WithHmacSHA1&quot;;\n    private static final int KEY_TARGET_LENGTH = 256;\n    private static final int HASHING_ITERATIONS = 65536;\n\n    public static SecretKey getSecretKey(String string, byte[] salt)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        KeySpec spec = new PBEKeySpec(string.toCharArray(), salt, HASHING_ITERATIONS, KEY_TARGET_LENGTH);\n\n        try {\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(HASHING_ALGO_NAME);\n            SecretKey encryptedPassword = new SecretKeySpec(keyFactory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n            return encryptedPassword;\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            throw e;\n        }\n\n    }\n\n    public static IvParameterSpec getInitializationVector() {\n        byte[] iv = new byte[16];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n\n    public static String encrypt(String input, String password, byte[] salt)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, getInitializationVector());\n        byte[] cipherText = cipher.doFinal(input.getBytes());\n        return Base64.getEncoder().encodeToString(cipherText);\n    }\n\n    public static String decrypt(String encryptedText, String password, byte[] salt)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, getInitializationVector());\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\n        return new String(plainText);\n    }\n}\n</code></pre>\n<p>Now I test this with a unit test, but this test fails with</p>\n<blockquote>\n<p>javax.crypto.BadPaddingException: Given final block not properly\npadded. Such issues can arise if a bad key is used during decryption.</p>\n</blockquote>\n<pre><code>@Test\npublic void testDecrypt() {\n    String encryptedString = &quot;&quot;;\n    String password = &quot;password&quot;;\n\n    try {\n        encryptedString = CryptoHelper.encrypt(&quot;some string&quot;, password, password.getBytes());\n    } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\n            | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\n        e.printStackTrace();\n        assertNull(e);\n    }\n\n    try {\n        CryptoHelper.decrypt(encryptedString, password, password.getBytes());\n    } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\n            | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>What is wrong here?</p>\n"},{"tags":["java","swing","animation","button"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1700962989,"post_id":77550070,"comment_id":136716158,"body_markdown":"You REALLY should be making use of the `ButtonUI` as a starting point for [example](https://stackoverflow.com/questions/47339013/why-paintcomponent-is-defined-on-jcomponent/47341727#47341727), [example](https://stackoverflow.com/questions/76151080/how-do-i-extend-jbutton-but-modify-actionperformed/76151919#76151919), [example](https://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325)","body":"You REALLY should be making use of the <code>ButtonUI</code> as a starting point for <a href=\"https://stackoverflow.com/questions/47339013/why-paintcomponent-is-defined-on-jcomponent/47341727#47341727\">example</a>, <a href=\"https://stackoverflow.com/questions/76151080/how-do-i-extend-jbutton-but-modify-actionperformed/76151919#76151919\">example</a>, <a href=\"https://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325\">example</a>"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700978003,"post_id":77550070,"comment_id":136716843,"body_markdown":"Always remember [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)!","body":"Always remember <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>!"}],"owner":{"account_id":27912718,"reputation":1,"user_id":22985351,"display_name":"mgcv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701010970,"creation_date":1700959342,"question_id":77550070,"body_markdown":"I am making a Java Swing program, and created a special class for creating a customized button with rounded corners and a drop shadow. However, when I click it, it just uses its default animation, which is completely off with the button&#39;s look. How can I change that?\r\n\r\nHere is the code with the class i created:\r\n```\r\n    class RoundedButton extends JButton {\r\n\r\n        public RoundedButton(String text){\r\n            setText(text);\r\n            setContentAreaFilled(false);\r\n            setBorder(new EmptyBorder(8, 8, 8, 8));\r\n            setForeground(Color.WHITE);\r\n        }\r\n        \r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g){\r\n            Graphics2D g2d = (Graphics2D) g.create();\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            int x=0, y=0, width=getWidth(), height=getHeight();\r\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\r\n            g2d.setColor(new Color(70, 70, 70));\r\n            g2d.fill(area);\r\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height-4, 10, 10)));\r\n            g2d.setColor(new Color(60, 60, 60));\r\n            g2d.fill(area);\r\n            g2d.dispose();\r\n            super.paintComponent(g);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nSo far I&#39;ve tried to add a mouse listener to the button, and make it so that it reruns the paintComponent function differently, changing the button&#39;s look accordingly, but even though it worked, it has quite a lot of delay, and still doesn&#39;t get rid of the old animation.\r\n\r\n```\r\n\r\n    applyButton.addMouseListener(new MouseAdapter() {\r\n       @Override\r\n       public void mousePressed(MouseEvent e) {\r\n           applyButton.setClicked(true);\r\n           applyButton.paintComponent(applyB.getGraphics());\r\n           super.mousePressed(e);\r\n       }\r\n\r\n       @Override\r\n       public void mouseReleased(MouseEvent e) {\r\n           applyButton.setClicked(false);\r\n           applyButton.paintComponent(applyB.getGraphics());\r\n           super.mouseReleased(e);\r\n       }\r\n   });\r\n```\r\n\r\n```class RoundedButton extends JButton {\r\n\r\n    public RoundedButton(String text){\r\n        setText(text);\r\n        setContentAreaFilled(false);\r\n        setBorder(new EmptyBorder(8, 8, 8, 8));\r\n        setForeground(Color.WHITE);\r\n    }\r\n\r\n    boolean c=false;\r\n\r\n    public void setClicked(boolean c){\r\n        this.c = c;\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g){\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        int x=0, y=0, width=getWidth(), height=getHeight();\r\n        if(!c) {\r\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\r\n            g2d.setColor(new Color(70, 70, 70));\r\n            g2d.fill(area);\r\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height - 4, 10, 10)));\r\n            g2d.setColor(new Color(60, 60, 60));\r\n            g2d.fill(area);\r\n            g2d.dispose();\r\n        }else{\r\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\r\n            g2d.setColor(new Color(50, 50, 50));\r\n            g2d.fill(area);\r\n            g2d.dispose();\r\n        }\r\n        super.paintComponent(g);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThanks in advance!\r\n\r\n","title":"How can I change the button pressing animation in Java Swing?","body":"<p>I am making a Java Swing program, and created a special class for creating a customized button with rounded corners and a drop shadow. However, when I click it, it just uses its default animation, which is completely off with the button's look. How can I change that?</p>\n<p>Here is the code with the class i created:</p>\n<pre><code>    class RoundedButton extends JButton {\n\n        public RoundedButton(String text){\n            setText(text);\n            setContentAreaFilled(false);\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            setForeground(Color.WHITE);\n        }\n        \n\n        @Override\n        protected void paintComponent(Graphics g){\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            int x=0, y=0, width=getWidth(), height=getHeight();\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\n            g2d.setColor(new Color(70, 70, 70));\n            g2d.fill(area);\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height-4, 10, 10)));\n            g2d.setColor(new Color(60, 60, 60));\n            g2d.fill(area);\n            g2d.dispose();\n            super.paintComponent(g);\n        }\n\n    }\n</code></pre>\n<p>So far I've tried to add a mouse listener to the button, and make it so that it reruns the paintComponent function differently, changing the button's look accordingly, but even though it worked, it has quite a lot of delay, and still doesn't get rid of the old animation.</p>\n<pre><code>\n    applyButton.addMouseListener(new MouseAdapter() {\n       @Override\n       public void mousePressed(MouseEvent e) {\n           applyButton.setClicked(true);\n           applyButton.paintComponent(applyB.getGraphics());\n           super.mousePressed(e);\n       }\n\n       @Override\n       public void mouseReleased(MouseEvent e) {\n           applyButton.setClicked(false);\n           applyButton.paintComponent(applyB.getGraphics());\n           super.mouseReleased(e);\n       }\n   });\n</code></pre>\n<pre><code>\n    public RoundedButton(String text){\n        setText(text);\n        setContentAreaFilled(false);\n        setBorder(new EmptyBorder(8, 8, 8, 8));\n        setForeground(Color.WHITE);\n    }\n\n    boolean c=false;\n\n    public void setClicked(boolean c){\n        this.c = c;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g){\n        Graphics2D g2d = (Graphics2D) g.create();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        int x=0, y=0, width=getWidth(), height=getHeight();\n        if(!c) {\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\n            g2d.setColor(new Color(70, 70, 70));\n            g2d.fill(area);\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height - 4, 10, 10)));\n            g2d.setColor(new Color(60, 60, 60));\n            g2d.fill(area);\n            g2d.dispose();\n        }else{\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\n            g2d.setColor(new Color(50, 50, 50));\n            g2d.fill(area);\n            g2d.dispose();\n        }\n        super.paintComponent(g);\n    }\n\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":2041117,"reputation":1765,"user_id":1822278,"display_name":"Akber Choudhry"},"score":1,"creation_date":1468062567,"post_id":38281137,"comment_id":63980876,"body_markdown":"Maybe one of the two: 1) each part of the group id needs to be its own folder. 2) the pom.xml of the dependency should exist int the same folder in the repo","body":"Maybe one of the two: 1) each part of the group id needs to be its own folder. 2) the pom.xml of the dependency should exist int the same folder in the repo"},{"owner":{"account_id":1510327,"reputation":1374,"user_id":1412628,"accept_rate":61,"display_name":"Robert3452"},"score":0,"creation_date":1468063639,"post_id":38281137,"comment_id":63981184,"body_markdown":"Thanks. That response helped see update to question","body":"Thanks. That response helped see update to question"}],"answers":[{"tags":[],"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468063386,"creation_date":1468063386,"answer_id":38281298,"question_id":38281137,"body_markdown":"you need to install the jar via maven into your local repo. maven does other things too except for just placing the jar into the respective folder.\r\n\r\nplease see [here][1]\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-install-plugin/examples/specific-local-repo.html","title":"Maven failing to find jar from Project Repository","body":"<p>you need to install the jar via maven into your local repo. maven does other things too except for just placing the jar into the respective folder.</p>\n\n<p>please see <a href=\"http://maven.apache.org/plugins/maven-install-plugin/examples/specific-local-repo.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1510327,"reputation":1374,"user_id":1412628,"accept_rate":61,"display_name":"Robert3452"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468063953,"creation_date":1468063953,"answer_id":38281371,"question_id":38281137,"body_markdown":"To fix this I had to:\n\n1. Change the directory structure. I had the group ID of &quot;metcarob.com.lib&quot; and had that as a single directory. I had to change that to 3 directories. metcarob/com/lib\n\n2. I quit eclipse, deleted the directory ~/.m2 and restarted eclipse. When I did a build it built fine.\n\n   Akber&#39;s comment was the key but I can&#39;t mark a comment as correct to give him credit.\n\nThanks everyone for the help","title":"Maven failing to find jar from Project Repository","body":"<p>To fix this I had to:</p>\n<ol>\n<li><p>Change the directory structure. I had the group ID of &quot;metcarob.com.lib&quot; and had that as a single directory. I had to change that to 3 directories. metcarob/com/lib</p>\n</li>\n<li><p>I quit eclipse, deleted the directory ~/.m2 and restarted eclipse. When I did a build it built fine.</p>\n<p>Akber's comment was the key but I can't mark a comment as correct to give him credit.</p>\n</li>\n</ol>\n<p>Thanks everyone for the help</p>\n"},{"tags":[],"owner":{"account_id":2041117,"reputation":1765,"user_id":1822278,"display_name":"Akber Choudhry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1468069008,"creation_date":1468069008,"answer_id":38282046,"question_id":38281137,"body_markdown":"Most likely, one of two problems: \r\n\r\n 1. Each part of the group id needs to be its own folder.  \r\n 2. The pom.xml of the dependency should exist int the same folder in the repo.\r\n\r\n","title":"Maven failing to find jar from Project Repository","body":"<p>Most likely, one of two problems: </p>\n\n<ol>\n<li>Each part of the group id needs to be its own folder.  </li>\n<li>The pom.xml of the dependency should exist int the same folder in the repo.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27387330,"reputation":1,"user_id":20890895,"display_name":"warrenc5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701010376,"creation_date":1701010376,"answer_id":77552175,"question_id":38281137,"body_markdown":"To follow up on this. If you copy a fragment of another localRepository to your localRepository\r\n\r\nYou need to remove the old repo tag from the repository key in _remote.repositories or delete the file entirely.\r\n\r\nThe Maven DefaultArtifactResolver using EnhancedLocalRepositoryManager will only resolve artifacts from _remote.repositories which are coming from one of the list of repositories in your current settings.xml","title":"Maven failing to find jar from Project Repository","body":"<p>To follow up on this. If you copy a fragment of another localRepository to your localRepository</p>\n<p>You need to remove the old repo tag from the repository key in _remote.repositories or delete the file entirely.</p>\n<p>The Maven DefaultArtifactResolver using EnhancedLocalRepositoryManager will only resolve artifacts from _remote.repositories which are coming from one of the list of repositories in your current settings.xml</p>\n"}],"owner":{"account_id":1510327,"reputation":1374,"user_id":1412628,"accept_rate":61,"display_name":"Robert3452"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3668,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":38282046,"answer_count":4,"score":-2,"last_activity_date":1701010376,"creation_date":1468062150,"question_id":38281137,"body_markdown":"I have a jar file which I need to include in my project. \r\nI am using eclipse with Maven\r\n\r\nI created the following folder in my project on my computer:\r\n\r\n    /home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository/metcarob.com.lib/nachocalendar/0.23\r\n\r\nand I placed a file there called:\r\n\r\n    nachocalendar-0.23.jar\r\n\r\nI then added the dependancy to my POM file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;metcarob.com.lib&lt;/groupId&gt;\r\n      &lt;artifactId&gt;nachocalendar&lt;/artifactId&gt;\r\n      &lt;version&gt;0.23&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI also added the Repo into my pom file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;repository&gt;\r\n          &lt;id&gt;in-project&lt;/id&gt;\r\n          &lt;name&gt;In Project Repo&lt;/name&gt;\r\n          &lt;url&gt;file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nfrom what I understand this should work.\r\nWhen I right click on my project select run as and maven install I get the following error:\r\n\r\n    [ERROR] Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository was cached in the local repository, resolution will not be reattempted until the update interval of in-project has elapsed or updates are forced -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/\r\n\r\nI have followed all the steps I can see for creating an in project repository but it still seems to not be able to find the file.\r\n\r\nDoes anyone know of a step I am missing?\r\n\r\nThanks\r\nRobert\r\n\r\nUpdate:\r\nI must have made mutiple mistakes. Akber found my first mistake:\r\nI have changed the folder so the group ID is in seperate folders:\r\n(metcarob.com.lib is now metcarob.com.lib) The jar file is now in:\r\n/home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository/metcarob/com/lib/nachocalendar/0.23\r\n\r\nI have verified this because the following directory exists in my machine:\r\n~/.m2/repository/metcarob/com/lib/nachocalendar/0.23\r\n\r\nI have moved the file, restarted eclipse and re-ran maven clean and maven install.\r\n\r\nThe error is now:\r\n\r\n    [ERROR] Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository was cached in the local repository, resolution will not be reattempted until the update interval of in-project has elapsed or updates are forced -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository was cached in the local repository, resolution will not be reattempted until the update interval of in-project has elapsed or updates are forced\r\n\r\nHowever I also put this project into gitlab and use CI to compile it there with the command mvn install -B\r\nMy project now finds the dependency and compiles on the gitlab CI server.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven failing to find jar from Project Repository","body":"<p>I have a jar file which I need to include in my project. \nI am using eclipse with Maven</p>\n\n<p>I created the following folder in my project on my computer:</p>\n\n<pre><code>/home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository/metcarob.com.lib/nachocalendar/0.23\n</code></pre>\n\n<p>and I placed a file there called:</p>\n\n<pre><code>nachocalendar-0.23.jar\n</code></pre>\n\n<p>I then added the dependancy to my POM file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\r\n  &lt;groupId&gt;metcarob.com.lib&lt;/groupId&gt;\r\n  &lt;artifactId&gt;nachocalendar&lt;/artifactId&gt;\r\n  &lt;version&gt;0.23&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I also added the Repo into my pom file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;repository&gt;\r\n      &lt;id&gt;in-project&lt;/id&gt;\r\n      &lt;name&gt;In Project Repo&lt;/name&gt;\r\n      &lt;url&gt;file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository&lt;/url&gt;\r\n    &lt;/repository&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>from what I understand this should work.\nWhen I right click on my project select run as and maven install I get the following error:</p>\n\n<pre><code>[ERROR] Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository was cached in the local repository, resolution will not be reattempted until the update interval of in-project has elapsed or updates are forced -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/\n</code></pre>\n\n<p>I have followed all the steps I can see for creating an in project repository but it still seems to not be able to find the file.</p>\n\n<p>Does anyone know of a step I am missing?</p>\n\n<p>Thanks\nRobert</p>\n\n<p>Update:\nI must have made mutiple mistakes. Akber found my first mistake:\nI have changed the folder so the group ID is in seperate folders:\n(metcarob.com.lib is now metcarob.com.lib) The jar file is now in:\n/home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository/metcarob/com/lib/nachocalendar/0.23</p>\n\n<p>I have verified this because the following directory exists in my machine:\n~/.m2/repository/metcarob/com/lib/nachocalendar/0.23</p>\n\n<p>I have moved the file, restarted eclipse and re-ran maven clean and maven install.</p>\n\n<p>The error is now:</p>\n\n<pre><code>[ERROR] Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository was cached in the local repository, resolution will not be reattempted until the update interval of in-project has elapsed or updates are forced -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project BobDiary: Could not resolve dependencies for project metcarob.com.BobDiary:BobDiary:jar:0.0.1-SNAPSHOT: Failure to find metcarob.com.lib:nachocalendar:jar:0.23 in file:///home/robert/eclipse/BobProjects/BobDiary/in_project_maven_repository was cached in the local repository, resolution will not be reattempted until the update interval of in-project has elapsed or updates are forced\n</code></pre>\n\n<p>However I also put this project into gitlab and use CI to compile it there with the command mvn install -B\nMy project now finds the dependency and compiles on the gitlab CI server.</p>\n"},{"tags":["java","spring","spring-security","auth0"],"comments":[{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1701034740,"post_id":77552167,"comment_id":136721975,"body_markdown":"`I&#39;ve searched across the web and went deeply into documentations but there seem to be something I&#39;m missing` this is obviously not true, if that was in case the facts, then why have you posted code that contains some home made security filter taken from a random poorly written blog. Handing out jwt tokens to browsers is not recommended and there is reason to why this type of security does not exist in spring security. So delete that filter, and actually read the architecture chapters in the spring security docs.","body":"<code>I&#39;ve searched across the web and went deeply into documentations but there seem to be something I&#39;m missing</code> this is obviously not true, if that was in case the facts, then why have you posted code that contains some home made security filter taken from a random poorly written blog. Handing out jwt tokens to browsers is not recommended and there is reason to why this type of security does not exist in spring security. So delete that filter, and actually read the architecture chapters in the spring security docs."},{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1701035008,"post_id":77552167,"comment_id":136721996,"body_markdown":"what you are looking for is called the _resource server_ part of the aouth2 specification. You clearly did not read docs, because its all in the oauth2 rfc. There is an entire chapter in spring security docs on it https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html and there are several blogs about it https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1","body":"what you are looking for is called the <i>resource server</i> part of the aouth2 specification. You clearly did not read docs, because its all in the oauth2 rfc. There is an entire chapter in spring security docs on it <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a> and there are several blogs about it <a href=\"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1\" rel=\"nofollow noreferrer\">thomasandolf.medium.com/&hellip;</a>"},{"owner":{"account_id":2743354,"reputation":111,"user_id":2364312,"display_name":"Zivxx"},"score":0,"creation_date":1701088065,"post_id":77552167,"comment_id":136727540,"body_markdown":"I don&#39;t know why me saying I read docs and actually researched touched such a sensitive spot for you, but I literally spent hours reading through Java class docs (Like HttpSecurity, FilterChain,, Auth0&#39;s jwt etc.) but clearly I was looking at the wrong place. My mistakes were rooted in misunderstanding the flow and architecture rather than missing the right functions in Java.\n\nEither way your answer was helpful and sent me on the right direction to research so even though it was unnecessarily hostile, I appreciate it and thank you for your time and wisdom you shared","body":"I don&#39;t know why me saying I read docs and actually researched touched such a sensitive spot for you, but I literally spent hours reading through Java class docs (Like HttpSecurity, FilterChain,, Auth0&#39;s jwt etc.) but clearly I was looking at the wrong place. My mistakes were rooted in misunderstanding the flow and architecture rather than missing the right functions in Java.  Either way your answer was helpful and sent me on the right direction to research so even though it was unnecessarily hostile, I appreciate it and thank you for your time and wisdom you shared"}],"owner":{"account_id":2743354,"reputation":111,"user_id":2364312,"display_name":"Zivxx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701010274,"creation_date":1701010274,"question_id":77552167,"body_markdown":"I&#39;m having a hard time building a working security flow on our Java backend (using Spring, and specifically Spring Security). I&#39;ve searched across the web and went deeply into documentations but there seem to be something I&#39;m missing.\r\n\r\nHere&#39;s the problem - \r\nWe have a nodejs backend that handles all our api calls, we implemented Auth0 successfully on that backend. Now that backend need to make some calls to our Java backend and here&#39;s where things get weird.\r\nThe flow in my head is something along the lines of nodeJs authenticates against auth0 service, gets authorization token -&gt; nodejs makes API call to Java providing that token -&gt; Java validates that token using Auth0 -&gt; responses accordingly\r\nNow I had that working by doing something like this in my security config:\r\n\r\n        @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(&quot;/my-api&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class)\r\n        return http.build();\r\n    }\r\n\r\nAnd it worked fine for a while, but now we want to add Swagger to the project that is not secured by that filter, or any filter for that matter.\r\nI&#39;ve tried editing my security config in so many ways it&#39;ll hours to just list them here, but I keep running into issues where either everything is secured with my JwtTokenFilter, or nothing is, or I got it to work where swagger wasn&#39;t protected, my API was protected but it was also protected by the normal filter chain so even after providing valid token I was sent to the login page to authenticate. \r\nI&#39;ve tried replacing the Spring Security&#39;s default security chain with my own filter chain but I did not success in doing so.\r\n\r\nCan anyone shed some light on how to do that? Or otherwise provide reasonable explanation why this is bad practice and I shouldn&#39;t do it?\r\nI just want swagger to not be protected, then in the API call require Authorization header, and then run my filter on that header and accept/reject the request based just on that.\r\n\r\nThanks and sorry for the incredibly long post. If there is any more information needed please let me know.\r\n","title":"m2m between nodejs, Java and auth0","body":"<p>I'm having a hard time building a working security flow on our Java backend (using Spring, and specifically Spring Security). I've searched across the web and went deeply into documentations but there seem to be something I'm missing.</p>\n<p>Here's the problem -\nWe have a nodejs backend that handles all our api calls, we implemented Auth0 successfully on that backend. Now that backend need to make some calls to our Java backend and here's where things get weird.\nThe flow in my head is something along the lines of nodeJs authenticates against auth0 service, gets authorization token -&gt; nodejs makes API call to Java providing that token -&gt; Java validates that token using Auth0 -&gt; responses accordingly\nNow I had that working by doing something like this in my security config:</p>\n<pre><code>    @Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests(authorize -&gt; authorize\n                    .requestMatchers(&quot;/my-api&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class)\n    return http.build();\n}\n</code></pre>\n<p>And it worked fine for a while, but now we want to add Swagger to the project that is not secured by that filter, or any filter for that matter.\nI've tried editing my security config in so many ways it'll hours to just list them here, but I keep running into issues where either everything is secured with my JwtTokenFilter, or nothing is, or I got it to work where swagger wasn't protected, my API was protected but it was also protected by the normal filter chain so even after providing valid token I was sent to the login page to authenticate.\nI've tried replacing the Spring Security's default security chain with my own filter chain but I did not success in doing so.</p>\n<p>Can anyone shed some light on how to do that? Or otherwise provide reasonable explanation why this is bad practice and I shouldn't do it?\nI just want swagger to not be protected, then in the API call require Authorization header, and then run my filter on that header and accept/reject the request based just on that.</p>\n<p>Thanks and sorry for the incredibly long post. If there is any more information needed please let me know.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701014278,"post_id":77550995,"comment_id":136719814,"body_markdown":"*to select rows one by one and if I click button...* - It would seem to me that you need two buttons. The first button (&quot;Add to List&quot;) would be to add the selected row(s) to a List to allow you to select multiple items. Then you need a second button (&quot;Generate Billk&quot;) to generate the bill once you are finished with the selections.","body":"<i>to select rows one by one and if I click button...</i> - It would seem to me that you need two buttons. The first button (&quot;Add to List&quot;) would be to add the selected row(s) to a List to allow you to select multiple items. Then you need a second button (&quot;Generate Billk&quot;) to generate the bill once you are finished with the selections."}],"owner":{"account_id":29939440,"reputation":1,"user_id":22944356,"display_name":"victoire giraneza kanyana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701010271,"creation_date":1700988008,"question_id":77550995,"body_markdown":"```\r\npublic void bill() {\r\n    int[] selectedRows = jTable2.getSelectedRows();\r\n\r\n    // Initialize total amount\r\n    double totalAmount = 0.0;\r\n\r\n    // Use a StringBuilder to construct the entire bill content\r\n    StringBuilder billContent = new StringBuilder();\r\n\r\n    // Append &quot;THE BILL&quot; header only if there are selected rows and the header hasn&#39;t been added\r\n    if (selectedRows.length &gt; 0 &amp;&amp; !headerAdded) {\r\n        billContent.append(&quot;==================================\\n&quot;);\r\n        billContent.append(&quot;\\t THE BILL \\n&quot;);\r\n        billContent.append(&quot;==================================\\n&quot;);\r\n        billContent.append(&quot;\\t&quot; + &quot;Prod_name&quot; + &quot;\\t&quot; + &quot;price&quot; + &quot;\\n&quot;);\r\n\r\n        // Update the flag after adding the header\r\n        headerAdded = true;\r\n    }\r\n\r\n    // Append selected rows in the order they are selected\r\n    for (int i : selectedRows) {\r\n        String prodName = jTable2.getValueAt(i, 0).toString();\r\n        String priceStr = jTable2.getValueAt(i, 1).toString();\r\n\r\n        // Extract numerical part of the price string\r\n        String priceValue = extractNumericValue(priceStr);\r\n\r\n        billContent.append(&quot;\\t&quot; + prodName + &quot;\\t&quot; + priceValue + &quot;\\n&quot;);\r\n\r\n        // Update the total amount\r\n        totalAmount += Double.parseDouble(priceValue);\r\n    }\r\n\r\n    // Additional formatting and display the total amount only once\r\n    if (selectedRows.length &gt; 0 &amp;&amp; !footerAdded) {\r\n        // Append the footer to the StringBuilder\r\n        billContent.append(&quot;\\n&quot;);\r\n        billContent.append(&quot;==================================\\n&quot;);\r\n        billContent.append(&quot;\\t TOTAL: \\t&quot; + totalAmount + &quot;\\n&quot;);\r\n        billContent.append(&quot;\\t THANK YOU!!!! \\n&quot;);\r\n\r\n        // Set the content of the text area with the entire bill\r\n        Area.setText(billContent.toString());\r\n\r\n        // Update the total amount in jTextField1\r\n        jTextField1.setText(String.valueOf(totalAmount));\r\n\r\n        // Update the flag after adding the footer\r\n        footerAdded = true;\r\n    }\r\n}\r\n```\r\nthis is my code but it does not work as I want it to.\r\n\r\nI am trying to get something like this\r\n```\r\n\t THE BILL \r\n==================================\r\n\tProd_name\tprice\r\n\tcake1\t500\r\n\tcapucino\t500\r\n\tbiscuit\t100\r\n\tcafe\t300\r\n\r\n==================================\r\n\t TOTAL: \t1400.0\r\n\t THANK YOU!!!!  \r\n```\r\n In the code I provided, I am just getting the provided output once I select multiple rows at once and click the JButton to achieve it and what I want is to select rows one by one and if I click button I get the desired output as provided.\r\n","title":"I want to select multiple rows from JTable and get them on JTextArea to generate the bill","body":"<pre><code>public void bill() {\n    int[] selectedRows = jTable2.getSelectedRows();\n\n    // Initialize total amount\n    double totalAmount = 0.0;\n\n    // Use a StringBuilder to construct the entire bill content\n    StringBuilder billContent = new StringBuilder();\n\n    // Append &quot;THE BILL&quot; header only if there are selected rows and the header hasn't been added\n    if (selectedRows.length &gt; 0 &amp;&amp; !headerAdded) {\n        billContent.append(&quot;==================================\\n&quot;);\n        billContent.append(&quot;\\t THE BILL \\n&quot;);\n        billContent.append(&quot;==================================\\n&quot;);\n        billContent.append(&quot;\\t&quot; + &quot;Prod_name&quot; + &quot;\\t&quot; + &quot;price&quot; + &quot;\\n&quot;);\n\n        // Update the flag after adding the header\n        headerAdded = true;\n    }\n\n    // Append selected rows in the order they are selected\n    for (int i : selectedRows) {\n        String prodName = jTable2.getValueAt(i, 0).toString();\n        String priceStr = jTable2.getValueAt(i, 1).toString();\n\n        // Extract numerical part of the price string\n        String priceValue = extractNumericValue(priceStr);\n\n        billContent.append(&quot;\\t&quot; + prodName + &quot;\\t&quot; + priceValue + &quot;\\n&quot;);\n\n        // Update the total amount\n        totalAmount += Double.parseDouble(priceValue);\n    }\n\n    // Additional formatting and display the total amount only once\n    if (selectedRows.length &gt; 0 &amp;&amp; !footerAdded) {\n        // Append the footer to the StringBuilder\n        billContent.append(&quot;\\n&quot;);\n        billContent.append(&quot;==================================\\n&quot;);\n        billContent.append(&quot;\\t TOTAL: \\t&quot; + totalAmount + &quot;\\n&quot;);\n        billContent.append(&quot;\\t THANK YOU!!!! \\n&quot;);\n\n        // Set the content of the text area with the entire bill\n        Area.setText(billContent.toString());\n\n        // Update the total amount in jTextField1\n        jTextField1.setText(String.valueOf(totalAmount));\n\n        // Update the flag after adding the footer\n        footerAdded = true;\n    }\n}\n</code></pre>\n<p>this is my code but it does not work as I want it to.</p>\n<p>I am trying to get something like this</p>\n<pre><code>     THE BILL \n==================================\n    Prod_name   price\n    cake1   500\n    capucino    500\n    biscuit 100\n    cafe    300\n\n==================================\n     TOTAL:     1400.0\n     THANK YOU!!!!  \n</code></pre>\n<p>In the code I provided, I am just getting the provided output once I select multiple rows at once and click the JButton to achieve it and what I want is to select rows one by one and if I click button I get the desired output as provided.</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","android-bluetooth"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701005283,"post_id":77551814,"comment_id":136718910,"body_markdown":"&quot;the App crashes&quot; -- [use Logcat to examine the stack trace](https://commonsware.com/Jetpack/pages/chap-debug-001.html). Also, please get rid of that `Toast` -- use `Log.e()` to log the exception to Logcat, so you can see it.","body":"&quot;the App crashes&quot; -- <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">use Logcat to examine the stack trace</a>. Also, please get rid of that <code>Toast</code> -- use <code>Log.e()</code> to log the exception to Logcat, so you can see it."}],"answers":[{"tags":[],"owner":{"account_id":29776118,"reputation":271,"user_id":22820043,"display_name":"Cloverleaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701009385,"creation_date":1701009385,"answer_id":77552108,"question_id":77551814,"body_markdown":"Your code is outdated: Replace the two lines\r\n\r\n    PendingIntent pendingIntent = ...\r\n    Notification n = ...\r\n\r\nby\r\n\r\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n    NotificationChannel notificationChannel = new NotificationChannel(&quot;your_Channel_ID&quot;, &quot;your channel name&quot;, NotificationManager.IMPORTANCE_LOW);\r\n    getSystemService(NotificationManager.class).createNotificationChannel(notificationChannel);\r\n    Notification n = new Notification.Builder(this, &quot;your_Channel_ID&quot;)\r\n\r\n","title":"StartForeground_Service still does not work","body":"<p>Your code is outdated: Replace the two lines</p>\n<pre><code>PendingIntent pendingIntent = ...\nNotification n = ...\n</code></pre>\n<p>by</p>\n<pre><code>PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\nNotificationChannel notificationChannel = new NotificationChannel(&quot;your_Channel_ID&quot;, &quot;your channel name&quot;, NotificationManager.IMPORTANCE_LOW);\ngetSystemService(NotificationManager.class).createNotificationChannel(notificationChannel);\nNotification n = new Notification.Builder(this, &quot;your_Channel_ID&quot;)\n</code></pre>\n"}],"owner":{"account_id":29809297,"reputation":5,"user_id":22845123,"display_name":"BuePhil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77552108,"answer_count":1,"score":0,"last_activity_date":1701009855,"creation_date":1701004351,"question_id":77551814,"body_markdown":"I&#39;m working on a Bluetooth Advertisement Program. It compiles in SDK 28. As required by the documentation I added the permission android.permission.FOREGROUND. But even now, if the button for BluetoothAdvertisements is clicked and startForeground() gets called the App crashes.\r\n\r\nAfter i added the permission the catch is never reached. Before i added the permission i would still reach the catch sequence and the message told me, that I have to add the FOREGROUND_SERVICE permission as mentioned above.\r\n\r\nFor this App I&#39;m using Java.\r\n\r\n    `/**\r\n         * Starts BLE Advertising.\r\n         */\r\n        private void startAdvertising() {\r\n            goForeground();\r\n\r\n        Log.d(TAG, &quot;Service: Starting Advertising&quot;);\r\n\r\n        if (mAdvertiseCallback == null) {\r\n            AdvertiseSettings settings = buildAdvertiseSettings();\r\n            AdvertiseData data = buildAdvertiseData();\r\n            mAdvertiseCallback = new SampleAdvertiseCallback();\r\n\r\n            if (mBluetoothLeAdvertiser != null) {\r\n                mBluetoothLeAdvertiser.startAdvertising(settings, data,\r\n                        mAdvertiseCallback);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Move service to the foreground, to avoid execution limits on background processes.\r\n     *\r\n     * Callers should call stopForeground(true) when background work is complete.\r\n     */\r\n    private void goForeground() {\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,\r\n                notificationIntent, 0);\r\n        Notification n = new Notification.Builder(this)\r\n                .setContentTitle(&quot;Advertising device via Bluetooth&quot;)\r\n                .setContentText(&quot;This device is discoverable to others nearby.&quot;)\r\n                .setSmallIcon(R.drawable.ic_launcher)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n        //TODO: startForeground throws Exception. Has to be Fixed\r\n        try{\r\n            startForeground(FOREGROUND_NOTIFICATION_ID, n);\r\n        } catch (SecurityException e) {\r\n            Toast toast = Toast.makeText(this, e.getMessage() + &quot; Exception Throwed&quot;, Toast.LENGTH_SHORT);\r\n            toast.getView().setBackgroundColor(Color.parseColor(&quot;#FF0FF0&quot;));\r\n            toast.show();\r\n        }\r\n\r\n    }`\r\n\r\n\r\nI was asked for Stack Trace, so here is it:\r\n\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.android.bluetoothadvertisements, PID: 9760\r\n                                                                                                    android.app.RemoteServiceException$CannotPostForegroundServiceNotificationException: Bad notification for startForeground\r\n                                                                                                    \tat android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1983)\r\n                                                                                                    \tat android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2242)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7898)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)","title":"StartForeground_Service still does not work","body":"<p>I'm working on a Bluetooth Advertisement Program. It compiles in SDK 28. As required by the documentation I added the permission android.permission.FOREGROUND. But even now, if the button for BluetoothAdvertisements is clicked and startForeground() gets called the App crashes.</p>\n<p>After i added the permission the catch is never reached. Before i added the permission i would still reach the catch sequence and the message told me, that I have to add the FOREGROUND_SERVICE permission as mentioned above.</p>\n<p>For this App I'm using Java.</p>\n<pre><code>`/**\n     * Starts BLE Advertising.\n     */\n    private void startAdvertising() {\n        goForeground();\n\n    Log.d(TAG, &quot;Service: Starting Advertising&quot;);\n\n    if (mAdvertiseCallback == null) {\n        AdvertiseSettings settings = buildAdvertiseSettings();\n        AdvertiseData data = buildAdvertiseData();\n        mAdvertiseCallback = new SampleAdvertiseCallback();\n\n        if (mBluetoothLeAdvertiser != null) {\n            mBluetoothLeAdvertiser.startAdvertising(settings, data,\n                    mAdvertiseCallback);\n        }\n    }\n}\n\n/**\n * Move service to the foreground, to avoid execution limits on background processes.\n *\n * Callers should call stopForeground(true) when background work is complete.\n */\nprivate void goForeground() {\n    Intent notificationIntent = new Intent(this, MainActivity.class);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,\n            notificationIntent, 0);\n    Notification n = new Notification.Builder(this)\n            .setContentTitle(&quot;Advertising device via Bluetooth&quot;)\n            .setContentText(&quot;This device is discoverable to others nearby.&quot;)\n            .setSmallIcon(R.drawable.ic_launcher)\n            .setContentIntent(pendingIntent)\n            .build();\n    //TODO: startForeground throws Exception. Has to be Fixed\n    try{\n        startForeground(FOREGROUND_NOTIFICATION_ID, n);\n    } catch (SecurityException e) {\n        Toast toast = Toast.makeText(this, e.getMessage() + &quot; Exception Throwed&quot;, Toast.LENGTH_SHORT);\n        toast.getView().setBackgroundColor(Color.parseColor(&quot;#FF0FF0&quot;));\n        toast.show();\n    }\n\n}`\n</code></pre>\n<p>I was asked for Stack Trace, so here is it:</p>\n<p>FATAL EXCEPTION: main\nProcess: com.example.android.bluetoothadvertisements, PID: 9760\nandroid.app.RemoteServiceException$CannotPostForegroundServiceNotificationException: Bad notification for startForeground\nat android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1983)\nat android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2242)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7898)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10018665,"reputation":193,"user_id":7409103,"display_name":"Bharat Gadde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701009781,"creation_date":1701009781,"answer_id":77552134,"question_id":74787201,"body_markdown":"Opentelemetry supports span propogation from a remote span. the caller can use OtelPropogator Inject to create a traceId string and the callee can use OtelPropogator extract.\r\n\r\nexample from Opentelemetry: [Context Propogation][1] \r\n\r\n\r\n  [1]: https://opentelemetry.io/docs/instrumentation/java/manual/#context-propagation","title":"Get a span using the span ID in Open Telemetry","body":"<p>Opentelemetry supports span propogation from a remote span. the caller can use OtelPropogator Inject to create a traceId string and the callee can use OtelPropogator extract.</p>\n<p>example from Opentelemetry: <a href=\"https://opentelemetry.io/docs/instrumentation/java/manual/#context-propagation\" rel=\"nofollow noreferrer\">Context Propogation</a></p>\n"}],"owner":{"account_id":2638162,"reputation":11,"user_id":2282368,"display_name":"Dana Mora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701009781,"creation_date":1670945226,"question_id":74787201,"body_markdown":"Is there any way in Open telemetry to get a span when you have the span ID? I am using Java and \r\nI want to set the parent  , but I receive only the spanID of the parent in my method , so I wonder if there is a way to get the parent span. \r\n\r\n\r\n```\r\n   Span span = tracer.spanBuilder(name)\r\n\t    \t\t.setParent(Context.current().with(parentspan))\r\n                .startSpan();\r\n```\r\n\r\n\r\nI didn&#39;t find any method that allows you to get the span based on the span ID.","title":"Get a span using the span ID in Open Telemetry","body":"<p>Is there any way in Open telemetry to get a span when you have the span ID? I am using Java and\nI want to set the parent  , but I receive only the spanID of the parent in my method , so I wonder if there is a way to get the parent span.</p>\n<pre><code>   Span span = tracer.spanBuilder(name)\n                .setParent(Context.current().with(parentspan))\n                .startSpan();\n</code></pre>\n<p>I didn't find any method that allows you to get the span based on the span ID.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25285238,"reputation":405,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1701013776,"post_id":77552035,"comment_id":136719762,"body_markdown":"May you have set `inset` in your XML Button and As far as I can see, there is no public method to set `insets` runtime","body":"May you have set <code>inset</code> in your XML Button and As far as I can see, there is no public method to set <code>insets</code> runtime"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701044447,"post_id":77552035,"comment_id":136722717,"body_markdown":"I would really not recommend creating a button in this way.  If you really need to create a layout at runtime, put it into a xml file and inflate the xml.  You&#39;ll have more easily maintained code by removing the layout information from the java/kotlin.","body":"I would really not recommend creating a button in this way.  If you really need to create a layout at runtime, put it into a xml file and inflate the xml.  You&#39;ll have more easily maintained code by removing the layout information from the java/kotlin."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1701067166,"post_id":77552035,"comment_id":136724309,"body_markdown":"What use case are you trying to achieve? Why do you want to create a button in this way? If you can update your question with this information, I think there will be a better way to do the same, as suggested by @GabeSechan also.","body":"What use case are you trying to achieve? Why do you want to create a button in this way? If you can update your question with this information, I think there will be a better way to do the same, as suggested by @GabeSechan also."}],"owner":{"account_id":29709826,"reputation":1,"user_id":22769771,"display_name":"Koteczek Polski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701009435,"creation_date":1701008168,"question_id":77552035,"body_markdown":"I honestly have no idea why, but when i copy the LayoutParams from the original button, it comes out diffrent in the copied button. I just want to copy a button, and it has already taken me a week. I can&#39;t use setBackground() because it will delete the ripple animation (for some reason).\r\n\r\nHere is the problem:\r\n\r\n[The current state of the application](https://i.stack.imgur.com/x3MSt.png)\r\n\r\nXML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;coś tam&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.366&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/Frame&quot;\r\n        android:layout_width=&quot;340dp&quot;\r\n        android:layout_height=&quot;519dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.491&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.057&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Nazwa&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:text=&quot;Nazwa&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/godzinyOtwarcia&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;70dp&quot;\r\n            android:text=&quot;godziny otwarcia&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/ulica&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;35dp&quot;\r\n            android:text=&quot;ulica&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/but&quot;\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:contextClickable=&quot;true&quot;\r\n            android:insetLeft=&quot;-13dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:insetTop=&quot;0dp&quot;\r\n            android:insetRight=&quot;-13dp&quot;\r\n            android:insetBottom=&quot;0dp&quot;\r\n            android:onClick=&quot;butClick&quot;\r\n            android:text=&quot;Szczeg&#243;ły&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            app:rippleColor=&quot;#000000&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nThe button copying thing:\r\n\r\n\r\n```\r\npackage com.example.aplikacjakolejna;\r\n\r\nimport android.content.Context;\r\nimport android.content.res.ColorStateList;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.graphics.drawable.RippleDrawable;\r\nimport android.view.Gravity;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.ScaleAnimation;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.constraintlayout.widget.ConstraintSet;\r\n\r\npublic class CreateFrame extends AppCompatActivity {\r\n    private Context context;\r\n\r\n    private ViewGroup parentLayout;\r\n\r\n    public CreateFrame(Context context, ViewGroup parentLayout) {\r\n        this.context = context;\r\n        this.parentLayout = parentLayout;\r\n    }\r\n\r\n    public void LumpexCreateFrame(Button but){   // This is a constructor so the button is somewhere else...\r\n\r\n        Button Newbut = new Button(context);\r\n\r\n\r\n        Drawable buttonDrawable = Newbut.getBackground();\r\n        if (buttonDrawable instanceof RippleDrawable) {\r\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable;\r\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\r\n        }\r\n\r\n        Drawable buttonDrawable1 = but.getBackground();\r\n        if (buttonDrawable1 instanceof RippleDrawable) {\r\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable1;\r\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\r\n        }\r\n\r\n        Newbut.setBackground(buttonDrawable);\r\n        but.setBackground(buttonDrawable1);\r\n\r\n        Newbut.setText(but.getText());\r\n        Newbut.setTextColor(but.getCurrentTextColor());\r\n        Newbut.setTextSize(14);\r\n        Newbut.setAllCaps(false);\r\n        Newbut.setBottom(but.getBottom());\r\n        Newbut.setTop(but.getTop());\r\n        Newbut.setScaleX(but.getScaleX());\r\n        Newbut.setScaleY(but.getScaleY());\r\n        Newbut.setId(Lumpex.getId());\r\n        Newbut.setElevation(0f);\r\n        Newbut.setStateListAnimator(null);\r\n        Newbut.setGravity(but.getGravity());\r\n        Newbut.setMinimumHeight(but.getMinimumHeight());\r\n        Newbut.setBackgroundTintList(but.getBackgroundTintList());\r\n        Newbut.setLayoutParams(but.getLayoutParams());\r\n        Newbut.setPadding(but.getPaddingLeft(), but.getPaddingTop(), but.getPaddingRight(), but.getBottom());\r\n\r\n        parentLayout.addView(Newbut);\r\n\r\n        Newbut.setX(but.getX());\r\n        Newbut.setY(but.getY());\r\n        Newbut.setTranslationY(Lumpex.getId() * 300 - 300);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nAlso the X coordinate of the button moved for some reason too.\r\n\r\n","title":"Copying a button - Problems with size","body":"<p>I honestly have no idea why, but when i copy the LayoutParams from the original button, it comes out diffrent in the copied button. I just want to copy a button, and it has already taken me a week. I can't use setBackground() because it will delete the ripple animation (for some reason).</p>\n<p>Here is the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/x3MSt.png\" rel=\"nofollow noreferrer\">The current state of the application</a></p>\n<p>XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;coś tam&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.366&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/Frame&quot;\n        android:layout_width=&quot;340dp&quot;\n        android:layout_height=&quot;519dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.491&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n        app:layout_constraintVertical_bias=&quot;0.057&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/Nazwa&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;0dp&quot;\n            android:text=&quot;Nazwa&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/godzinyOtwarcia&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;70dp&quot;\n            android:text=&quot;godziny otwarcia&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/ulica&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;35dp&quot;\n            android:text=&quot;ulica&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/but&quot;\n            android:layout_width=&quot;100dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_marginTop=&quot;100dp&quot;\n            android:contextClickable=&quot;true&quot;\n            android:insetLeft=&quot;-13dp&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:insetTop=&quot;0dp&quot;\n            android:insetRight=&quot;-13dp&quot;\n            android:insetBottom=&quot;0dp&quot;\n            android:onClick=&quot;butClick&quot;\n            android:text=&quot;Szczegóły&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;14sp&quot;\n            app:rippleColor=&quot;#000000&quot; /&gt;\n\n    &lt;/FrameLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The button copying thing:</p>\n<pre><code>package com.example.aplikacjakolejna;\n\nimport android.content.Context;\nimport android.content.res.ColorStateList;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.graphics.drawable.RippleDrawable;\nimport android.view.Gravity;\nimport android.view.ViewGroup;\nimport android.view.animation.Animation;\nimport android.view.animation.ScaleAnimation;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.constraintlayout.widget.ConstraintSet;\n\npublic class CreateFrame extends AppCompatActivity {\n    private Context context;\n\n    private ViewGroup parentLayout;\n\n    public CreateFrame(Context context, ViewGroup parentLayout) {\n        this.context = context;\n        this.parentLayout = parentLayout;\n    }\n\n    public void LumpexCreateFrame(Button but){   // This is a constructor so the button is somewhere else...\n\n        Button Newbut = new Button(context);\n\n\n        Drawable buttonDrawable = Newbut.getBackground();\n        if (buttonDrawable instanceof RippleDrawable) {\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable;\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\n        }\n\n        Drawable buttonDrawable1 = but.getBackground();\n        if (buttonDrawable1 instanceof RippleDrawable) {\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable1;\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\n        }\n\n        Newbut.setBackground(buttonDrawable);\n        but.setBackground(buttonDrawable1);\n\n        Newbut.setText(but.getText());\n        Newbut.setTextColor(but.getCurrentTextColor());\n        Newbut.setTextSize(14);\n        Newbut.setAllCaps(false);\n        Newbut.setBottom(but.getBottom());\n        Newbut.setTop(but.getTop());\n        Newbut.setScaleX(but.getScaleX());\n        Newbut.setScaleY(but.getScaleY());\n        Newbut.setId(Lumpex.getId());\n        Newbut.setElevation(0f);\n        Newbut.setStateListAnimator(null);\n        Newbut.setGravity(but.getGravity());\n        Newbut.setMinimumHeight(but.getMinimumHeight());\n        Newbut.setBackgroundTintList(but.getBackgroundTintList());\n        Newbut.setLayoutParams(but.getLayoutParams());\n        Newbut.setPadding(but.getPaddingLeft(), but.getPaddingTop(), but.getPaddingRight(), but.getBottom());\n\n        parentLayout.addView(Newbut);\n\n        Newbut.setX(but.getX());\n        Newbut.setY(but.getY());\n        Newbut.setTranslationY(Lumpex.getId() * 300 - 300);\n    }\n\n\n}\n\n</code></pre>\n<p>Also the X coordinate of the button moved for some reason too.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1701001723,"post_id":77551154,"comment_id":136718607,"body_markdown":"&quot;Questions seeking debugging help (&#39;**why isn&#39;t this code working?**&#39;) must include the desired behavior, a *specific problem or error* and *the shortest code necessary* to reproduce it **in the question itself**. Questions without **a clear problem statement** are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example.](http://stackoverflow.com/help/mcve)&quot; and [Build a minimal, complete, reproducible example](https://overflow.tips/write-good-question/minimal-complete-reproducible-example)","body":"&quot;Questions seeking debugging help (&#39;<b>why isn&#39;t this code working?</b>&#39;) must include the desired behavior, a <i>specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example.</a>&quot; and <a href=\"https://overflow.tips/write-good-question/minimal-complete-reproducible-example\" rel=\"nofollow noreferrer\">Build a minimal, complete, reproducible example</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701003661,"post_id":77551154,"comment_id":136718764,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1701007433,"post_id":77551154,"comment_id":136719138,"body_markdown":"What you&#39;re after is pretty clear but we need to see the code you attempted. Additionally, be sure to tag the question with the Firebase product you&#39;re using as there are many. You are likely using Firestore or the Realtime Database, so add the tag (and perhaps your coding platform as well).","body":"What you&#39;re after is pretty clear but we need to see the code you attempted. Additionally, be sure to tag the question with the Firebase product you&#39;re using as there are many. You are likely using Firestore or the Realtime Database, so add the tag (and perhaps your coding platform as well)."},{"owner":{"account_id":29995399,"reputation":9,"user_id":22986914,"display_name":"Edwin R"},"score":0,"creation_date":1701008633,"post_id":77551154,"comment_id":136719248,"body_markdown":"I&#39;ve made the necessary changes and updated the question with a sample of the code that I was using kindly assist. @AlexMamo","body":"I&#39;ve made the necessary changes and updated the question with a sample of the code that I was using kindly assist. @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701071330,"post_id":77551154,"comment_id":136724801,"body_markdown":"Is your `onDataChange` even triggered?","body":"Is your <code>onDataChange</code> even triggered?"}],"owner":{"account_id":29995399,"reputation":9,"user_id":22986914,"display_name":"Edwin R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701008690,"creation_date":1700991718,"question_id":77551154,"body_markdown":"I have been trying to access values or data from a checkbox in which the user selected courses. I am trying to access this data from firebase to Android Studio and it is posing a challenge. I can access the student Id from the database, but not the selected courses of the user under the user information. \r\n\r\nHere is a description of my Firebase real-time database.\r\n```\r\n├── userId1\r\n│   ├── studentId: &quot;someStudentId1&quot;\r\n│   ├── email: &quot;user1@example.com&quot;\r\n│   ├── role: &quot;student&quot;\r\n│   └── selectedCourses\r\n│       ├── MTH1010: true\r\n│       ├── ENG1020: true\r\n│       └── ...\r\n├── userId2\r\n│   ├── studentId: &quot;someStudentId2&quot;\r\n│   ├── email: &quot;user2@example.com&quot;\r\n│   ├── role: &quot;student&quot;\r\n│   └── selectedCourses\r\n│       ├── MTH1010: true\r\n│       ├── ENG1020: true\r\n│       └── ...\r\n└── ...\r\n\r\nAnd here is my code to access the selectedCourses \r\n\r\n private void populateSpinner2(String userId) {\r\n        Log.d(&quot;Firebase&quot;, &quot;Fetching selected courses for user: &quot; + userId);\r\n        DatabaseReference userSelectedCoursesRef = FirebaseDatabase.getInstance()\r\n                .getReference(&quot;users&quot;).child(userId)\r\n                .child(&quot;selectedCourses&quot;);\r\n\r\n        userSelectedCoursesRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                List&lt;String&gt; selectedCourses = new ArrayList&lt;&gt;();\r\n\r\n                for (DataSnapshot courseSnapshot : dataSnapshot.getChildren()) {\r\n                    // Use boolean value directly instead of getValue(Boolean.class)\r\n                    boolean isSelected = courseSnapshot.getValue(Boolean.class);\r\n\r\n                    // Check if the course is selected (true)\r\n                    if (isSelected) {\r\n                        // Add the course ID to the list\r\n                        selectedCourses.add(courseSnapshot.getKey());\r\n                    }\r\n                }\r\n\r\n                // populate spinner2 with these course IDs\r\n                populateSpinner2WithCourses(selectedCourses);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Toast.makeText(GRADE.this, &quot;Failed to fetch selected courses: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void populateSpinner2WithCourses(List&lt;String&gt; selectedCourses) {\r\n        // Use the course IDs from selectedCourses to populate spinner2\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(GRADE.this, android.R.layout.simple_spinner_item, selectedCourses);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner2.setAdapter(adapter);\r\n    }\r\n\r\n\r\n```\r\nI am expecting to access the users selected courses and display them in a dropdown menu. ","title":"is it possible to read or fetch checkbox data from firebase to android studio","body":"<p>I have been trying to access values or data from a checkbox in which the user selected courses. I am trying to access this data from firebase to Android Studio and it is posing a challenge. I can access the student Id from the database, but not the selected courses of the user under the user information.</p>\n<p>Here is a description of my Firebase real-time database.</p>\n<pre><code>├── userId1\n│   ├── studentId: &quot;someStudentId1&quot;\n│   ├── email: &quot;user1@example.com&quot;\n│   ├── role: &quot;student&quot;\n│   └── selectedCourses\n│       ├── MTH1010: true\n│       ├── ENG1020: true\n│       └── ...\n├── userId2\n│   ├── studentId: &quot;someStudentId2&quot;\n│   ├── email: &quot;user2@example.com&quot;\n│   ├── role: &quot;student&quot;\n│   └── selectedCourses\n│       ├── MTH1010: true\n│       ├── ENG1020: true\n│       └── ...\n└── ...\n\nAnd here is my code to access the selectedCourses \n\n private void populateSpinner2(String userId) {\n        Log.d(&quot;Firebase&quot;, &quot;Fetching selected courses for user: &quot; + userId);\n        DatabaseReference userSelectedCoursesRef = FirebaseDatabase.getInstance()\n                .getReference(&quot;users&quot;).child(userId)\n                .child(&quot;selectedCourses&quot;);\n\n        userSelectedCoursesRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                List&lt;String&gt; selectedCourses = new ArrayList&lt;&gt;();\n\n                for (DataSnapshot courseSnapshot : dataSnapshot.getChildren()) {\n                    // Use boolean value directly instead of getValue(Boolean.class)\n                    boolean isSelected = courseSnapshot.getValue(Boolean.class);\n\n                    // Check if the course is selected (true)\n                    if (isSelected) {\n                        // Add the course ID to the list\n                        selectedCourses.add(courseSnapshot.getKey());\n                    }\n                }\n\n                // populate spinner2 with these course IDs\n                populateSpinner2WithCourses(selectedCourses);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Toast.makeText(GRADE.this, &quot;Failed to fetch selected courses: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void populateSpinner2WithCourses(List&lt;String&gt; selectedCourses) {\n        // Use the course IDs from selectedCourses to populate spinner2\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(GRADE.this, android.R.layout.simple_spinner_item, selectedCourses);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner2.setAdapter(adapter);\n    }\n\n\n</code></pre>\n<p>I am expecting to access the users selected courses and display them in a dropdown menu.</p>\n"},{"tags":["java","typescript","spring","vue.js","jwt"],"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1701010925,"post_id":77552044,"comment_id":136719444,"body_markdown":"I&#39;m confused: you&#39;re sending accesstokens for every REST call, so you keep your accesstoken in the browser obviously. Don&#39;t you keep your refresh token in the browser too? Why do you need a tokenRepository in the server? Is your server not completely stateless?","body":"I&#39;m confused: you&#39;re sending accesstokens for every REST call, so you keep your accesstoken in the browser obviously. Don&#39;t you keep your refresh token in the browser too? Why do you need a tokenRepository in the server? Is your server not completely stateless?"},{"owner":{"account_id":28884536,"reputation":13,"user_id":22123207,"display_name":"강찬욱"},"score":0,"creation_date":1701012833,"post_id":77552044,"comment_id":136719665,"body_markdown":"@GeertPt Now I see. The approach to access token (i.e. axiso interceptor) seems to be wrong. Whenever the router changes, it is issued an access token using the refresh token, but the interpreter seems to have tried to access the access token without changing the router. So where should I set the refresh step? I don&#39;t think I can refresh it anymore on the router. If you import the authStore from the p.s interceptor and refresh it, it takes infinite loading.","body":"@GeertPt Now I see. The approach to access token (i.e. axiso interceptor) seems to be wrong. Whenever the router changes, it is issued an access token using the refresh token, but the interpreter seems to have tried to access the access token without changing the router. So where should I set the refresh step? I don&#39;t think I can refresh it anymore on the router. If you import the authStore from the p.s interceptor and refresh it, it takes infinite loading."}],"owner":{"account_id":28884536,"reputation":13,"user_id":22123207,"display_name":"강찬욱"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701008301,"creation_date":1701008301,"question_id":77552044,"body_markdown":"I&#39;m developing the front end using Vue.js, and processing authentication using JWT tokens. The current logout processing logic is as follows.\r\n\r\n 1. The client sends a logout request.\r\n 2. The server uses the access token to identify the user, and invalidates all tokens(AT and RT) of the user stored in the DB.\r\n\r\nIn this process, if the client has an expired token, the server will experience an error when trying to extract the username from the expired token. I thought of two ways to deal with this.\r\n\r\n 1. It checks whether the token has expired, and if it has expired, logout processing is performed immediately without extracting the user name.\r\n 2. Process the expiration of tokens within the extractUsername function. Even if the token expires, the payload is still valid, so it ignores the expiration of the token and extracts the user name from the payload.\r\n\r\nThe first method is a good security method, but there is a problem that a user with expired tokens cannot handle logouts when they request them to log out. The second method can handle logouts, but using expired tokens can be a bad security method.\r\n\r\nI&#39;d like to hear what you think of this problem, or if there&#39;s any other good solution. Thank you.\r\n\r\nLogoutService\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class LogoutService implements LogoutHandler {\r\n\r\n\tprivate final JwtService jwtService;\r\n\tprivate final TokenRepository tokenRepository;\r\n\r\n\t@Override\r\n\tpublic void logout(HttpServletRequest request, HttpServletResponse response, Authentication authentication) {\r\n\t\tfinal String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tfinal String accessToken;\r\n\t\tif (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\taccessToken = authHeader.substring(7);\r\n\t\tif (StringUtils.hasText(accessToken)) {\r\n\t\t\tfinal String username = jwtService.extractUsername(accessToken);\r\n\t\t\trevokeAllTokensByUsername(username);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void revokeAllTokensByUsername(String username) {\r\n\t\tList&lt;Tokens&gt; validTokens = tokenRepository.findAllValidTokenByUsername(username);\r\n\t\tif (!validTokens.isEmpty()) {\r\n\t\t\tvalidTokens.forEach(t -&gt; {\r\n\t\t\t\tt.setExpired(true);\r\n\t\t\t\tt.setRevoked(true);\r\n\t\t\t\ttokenRepository.save(t);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nJwtService\r\n```java\r\nprivate Claims extractAllClaims(String token) {\r\n\t\treturn Jwts.parser()\r\n\t\t\t\t.verifyWith(getSignInKey()).build()\r\n\t\t\t\t.parseSignedClaims(token)\r\n\t\t\t\t.getPayload();\r\n\t}\r\n\t\r\n\tpublic String extractUsername(String token) {\r\n\t\treturn extrectClaim(token, Claims::getSubject);\r\n\t}\r\n\r\n\tprivate Date extractExpiration(String token) {\r\n\t\treturn extrectClaim(token, Claims::getExpiration);\r\n\t}\r\n\r\n\tpublic &lt;T&gt; T extrectClaim(String token, Function&lt;Claims, T&gt; claimResolver) {\r\n\t\tfinal Claims claims = extractAllClaims(token);\r\n\t\treturn claimResolver.apply(claims);\r\n\t}\r\n```\r\n\r\nAuthStore.ts\r\n```typescript\r\n  async function logout() {\r\n    await instance.post(&quot;/auth/logout&quot;);\r\n    token.value = &quot;&quot;;\r\n    user.value = &quot;&quot;;\r\n    await router.push(&quot;/auth/login&quot;);\r\n  }\r\n\r\n  return {\r\n    user,\r\n    token,\r\n    returnURL,\r\n    getUser,\r\n    getToken,\r\n    login,\r\n    refresh,\r\n    logout,\r\n  };\r\n```\r\n\r\nAxios-interceptors.ts\r\n```typescript\r\ninstance.interceptors.request.use(\r\n  (config) =&gt; {\r\n    const auth = useAuthStore();\r\n    config.headers[&quot;Content-Type&quot;] = &quot;application/json&quot;;\r\n    config.headers[&quot;Authorization&quot;] = `Bearer ${auth.getToken}`;\r\n    return config;\r\n  },\r\n  (error) =&gt; {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n```\r\n\r\nview.vue\r\n```vue\r\n&lt;script lang=&quot;ts&quot; setup&gt;\r\nasync function logout() {\r\n  authStore.logout();\r\n}\r\n&lt;/script&gt;\r\n\r\n...\r\n&lt;v-sheet class=&quot;ma-3&quot;&gt;\r\n        &lt;v-btn size=&quot;small&quot; @click=&quot;logout&quot;&gt;logout&lt;/v-btn&gt;\r\n&lt;/v-sheet&gt;\r\n...\r\n```","title":"How to handle expired tokens when logging out using Vue.js and JWT?","body":"<p>I'm developing the front end using Vue.js, and processing authentication using JWT tokens. The current logout processing logic is as follows.</p>\n<ol>\n<li>The client sends a logout request.</li>\n<li>The server uses the access token to identify the user, and invalidates all tokens(AT and RT) of the user stored in the DB.</li>\n</ol>\n<p>In this process, if the client has an expired token, the server will experience an error when trying to extract the username from the expired token. I thought of two ways to deal with this.</p>\n<ol>\n<li>It checks whether the token has expired, and if it has expired, logout processing is performed immediately without extracting the user name.</li>\n<li>Process the expiration of tokens within the extractUsername function. Even if the token expires, the payload is still valid, so it ignores the expiration of the token and extracts the user name from the payload.</li>\n</ol>\n<p>The first method is a good security method, but there is a problem that a user with expired tokens cannot handle logouts when they request them to log out. The second method can handle logouts, but using expired tokens can be a bad security method.</p>\n<p>I'd like to hear what you think of this problem, or if there's any other good solution. Thank you.</p>\n<p>LogoutService</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class LogoutService implements LogoutHandler {\n\n    private final JwtService jwtService;\n    private final TokenRepository tokenRepository;\n\n    @Override\n    public void logout(HttpServletRequest request, HttpServletResponse response, Authentication authentication) {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String accessToken;\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            return;\n        }\n        accessToken = authHeader.substring(7);\n        if (StringUtils.hasText(accessToken)) {\n            final String username = jwtService.extractUsername(accessToken);\n            revokeAllTokensByUsername(username);\n        }\n    }\n\n    private void revokeAllTokensByUsername(String username) {\n        List&lt;Tokens&gt; validTokens = tokenRepository.findAllValidTokenByUsername(username);\n        if (!validTokens.isEmpty()) {\n            validTokens.forEach(t -&gt; {\n                t.setExpired(true);\n                t.setRevoked(true);\n                tokenRepository.save(t);\n            });\n        }\n    }\n}\n</code></pre>\n<p>JwtService</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Claims extractAllClaims(String token) {\n        return Jwts.parser()\n                .verifyWith(getSignInKey()).build()\n                .parseSignedClaims(token)\n                .getPayload();\n    }\n    \n    public String extractUsername(String token) {\n        return extrectClaim(token, Claims::getSubject);\n    }\n\n    private Date extractExpiration(String token) {\n        return extrectClaim(token, Claims::getExpiration);\n    }\n\n    public &lt;T&gt; T extrectClaim(String token, Function&lt;Claims, T&gt; claimResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimResolver.apply(claims);\n    }\n</code></pre>\n<p>AuthStore.ts</p>\n<pre class=\"lang-js prettyprint-override\"><code>  async function logout() {\n    await instance.post(&quot;/auth/logout&quot;);\n    token.value = &quot;&quot;;\n    user.value = &quot;&quot;;\n    await router.push(&quot;/auth/login&quot;);\n  }\n\n  return {\n    user,\n    token,\n    returnURL,\n    getUser,\n    getToken,\n    login,\n    refresh,\n    logout,\n  };\n</code></pre>\n<p>Axios-interceptors.ts</p>\n<pre class=\"lang-js prettyprint-override\"><code>instance.interceptors.request.use(\n  (config) =&gt; {\n    const auth = useAuthStore();\n    config.headers[&quot;Content-Type&quot;] = &quot;application/json&quot;;\n    config.headers[&quot;Authorization&quot;] = `Bearer ${auth.getToken}`;\n    return config;\n  },\n  (error) =&gt; {\n    return Promise.reject(error);\n  }\n);\n</code></pre>\n<p>view.vue</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script lang=&quot;ts&quot; setup&gt;\nasync function logout() {\n  authStore.logout();\n}\n&lt;/script&gt;\n\n...\n&lt;v-sheet class=&quot;ma-3&quot;&gt;\n        &lt;v-btn size=&quot;small&quot; @click=&quot;logout&quot;&gt;logout&lt;/v-btn&gt;\n&lt;/v-sheet&gt;\n...\n</code></pre>\n"},{"tags":["java","testing","mockito","junit5","powermock"],"comments":[{"owner":{"account_id":4189805,"reputation":3365,"user_id":3432678,"accept_rate":100,"display_name":"Lorelorelore"},"score":0,"creation_date":1653465318,"post_id":72373741,"comment_id":127856257,"body_markdown":"What exactly is prefs?","body":"What exactly is prefs?"},{"owner":{"account_id":12363440,"reputation":15,"user_id":9016655,"display_name":"Eri_JW"},"score":0,"creation_date":1653466579,"post_id":72373741,"comment_id":127856706,"body_markdown":"Just an argument passed to the constructor. Does it matter?","body":"Just an argument passed to the constructor. Does it matter?"},{"owner":{"account_id":3303451,"reputation":515,"user_id":2778987,"accept_rate":25,"display_name":"user7"},"score":0,"creation_date":1679605735,"post_id":72373741,"comment_id":133756365,"body_markdown":"@malevolence109 How have you resolved the same ? Trying to understand same, for a similar situation. :)","body":"@malevolence109 How have you resolved the same ? Trying to understand same, for a similar situation. :)"}],"answers":[{"tags":[],"owner":{"account_id":87402,"reputation":4211,"user_id":242388,"accept_rate":85,"display_name":"maximus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701007717,"creation_date":1701007717,"answer_id":77552015,"question_id":72373741,"body_markdown":"Probably there is a field in your test class, such as:\r\n\r\n    ExpressCreditCardClient expressClient = ...creation of mock...\r\n\r\nor \r\n\r\n    @Mock\r\n    ExpressCreditCardClient expressClient\r\n\r\n**Regarding powermockito code that you shared:**\r\n&gt; whenNew(ExpressCreditCardClient.class).withArguments(prefs).thenReturn(expressClient);\r\n\r\nShortly, what it does is: stub specific constructor of `ExpressCreditCardClient` class with certain argument value passed.\r\n\r\nIf `ExpressCreditCardClient` class is instantiated through a constructor that takes a single argument, and that argument is equal to `prefs`, then instead of executing actual code it will return a mocked instance of the `ExpressCreditCardClient` class (the `expressClient`).\r\n\r\n**Regarding junit5/mockito approach:**\r\n\r\n    MockedConstruction&lt;ExpressCreditCardClient&gt; mockedExpressCreditCardClient = mockConstruction(ExpressCreditCardClient.class);\r\n\r\nThis one mocks any constructor with any argument values passed.","title":"PowerMock whenNew, thenReturn equivalent in Mockito and JUnit5","body":"<p>Probably there is a field in your test class, such as:</p>\n<pre><code>ExpressCreditCardClient expressClient = ...creation of mock...\n</code></pre>\n<p>or</p>\n<pre><code>@Mock\nExpressCreditCardClient expressClient\n</code></pre>\n<p><strong>Regarding powermockito code that you shared:</strong></p>\n<blockquote>\n<p>whenNew(ExpressCreditCardClient.class).withArguments(prefs).thenReturn(expressClient);</p>\n</blockquote>\n<p>Shortly, what it does is: stub specific constructor of <code>ExpressCreditCardClient</code> class with certain argument value passed.</p>\n<p>If <code>ExpressCreditCardClient</code> class is instantiated through a constructor that takes a single argument, and that argument is equal to <code>prefs</code>, then instead of executing actual code it will return a mocked instance of the <code>ExpressCreditCardClient</code> class (the <code>expressClient</code>).</p>\n<p><strong>Regarding junit5/mockito approach:</strong></p>\n<pre><code>MockedConstruction&lt;ExpressCreditCardClient&gt; mockedExpressCreditCardClient = mockConstruction(ExpressCreditCardClient.class);\n</code></pre>\n<p>This one mocks any constructor with any argument values passed.</p>\n"}],"owner":{"account_id":12363440,"reputation":15,"user_id":9016655,"display_name":"Eri_JW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701007717,"creation_date":1653464759,"question_id":72373741,"body_markdown":"We are migrating from `PowerMock` and `JUnit` 4 to `Mockito` and `JUnit5`. I have a very simple setup class.\r\n\r\n```java\r\n    @BeforeEach\r\n    public void setUp() throws Exception {\r\n\tservice = new ExpressProcessorService&lt;&gt;(prefs);\r\n\t\r\n\t//whenNew(ExpressCreditCardClient.class).withArguments(prefs).thenReturn(expressClient);\r\n\tMockedConstruction&lt;ExpressCreditCardClient&gt; mockedExpressCreditCardClient = mockConstruction(ExpressCreditCardClient.class);\r\n\r\n    }\r\n```\r\n\r\nI know about inline mock dependency and already have it and I have seen a few answers in so that I unfortunately did not understand. \r\n\r\nCould somebody explain what exactly the commented whenNew line does, and how to do the exact same in `Junit5` + `Mockito`?  \r\n","title":"PowerMock whenNew, thenReturn equivalent in Mockito and JUnit5","body":"<p>We are migrating from <code>PowerMock</code> and <code>JUnit</code> 4 to <code>Mockito</code> and <code>JUnit5</code>. I have a very simple setup class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @BeforeEach\n    public void setUp() throws Exception {\n    service = new ExpressProcessorService&lt;&gt;(prefs);\n    \n    //whenNew(ExpressCreditCardClient.class).withArguments(prefs).thenReturn(expressClient);\n    MockedConstruction&lt;ExpressCreditCardClient&gt; mockedExpressCreditCardClient = mockConstruction(ExpressCreditCardClient.class);\n\n    }\n</code></pre>\n<p>I know about inline mock dependency and already have it and I have seen a few answers in so that I unfortunately did not understand.</p>\n<p>Could somebody explain what exactly the commented whenNew line does, and how to do the exact same in <code>Junit5</code> + <code>Mockito</code>?</p>\n"},{"tags":["java","spring","image","jpa"],"comments":[{"owner":{"account_id":261049,"reputation":1639,"user_id":544987,"accept_rate":82,"display_name":"Stephan"},"score":0,"creation_date":1551193524,"post_id":54888379,"comment_id":96546030,"body_markdown":"do you mean &quot;compress&quot;?","body":"do you mean &quot;compress&quot;?"},{"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"score":0,"creation_date":1551193557,"post_id":54888379,"comment_id":96546061,"body_markdown":"ah yes, corrected it","body":"ah yes, corrected it"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1551194228,"post_id":54888379,"comment_id":96546470,"body_markdown":"if image quality doesn&#39;t matter: compress the image before saving it by using e.g. Imagemagick","body":"if image quality doesn&#39;t matter: compress the image before saving it by using e.g. Imagemagick"},{"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"score":0,"creation_date":1551194285,"post_id":54888379,"comment_id":96546499,"body_markdown":"that&#39;s the question, how to I compress a byte array","body":"that&#39;s the question, how to I compress a byte array"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1551194506,"post_id":54888379,"comment_id":96546672,"body_markdown":"you can pipe the byte array through a ZipOutputStream to compress it, but you&#39;ll have to uncompress it again on reading. So perhaps no performance gain","body":"you can pipe the byte array through a ZipOutputStream to compress it, but you&#39;ll have to uncompress it again on reading. So perhaps no performance gain"},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":1,"creation_date":1551194605,"post_id":54888379,"comment_id":96546739,"body_markdown":"If you&#39;re storing images as their on-disk files (jpeg, png, tiff or whatever) then they are already compressed and you will just burn CPU cycles trying to get more compression. Better to change your API to ask for the available images then query them one at a time, displaying to the user as they arrive.","body":"If you&#39;re storing images as their on-disk files (jpeg, png, tiff or whatever) then they are already compressed and you will just burn CPU cycles trying to get more compression. Better to change your API to ask for the available images then query them one at a time, displaying to the user as they arrive."}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1551196255,"creation_date":1551196255,"answer_id":54889357,"question_id":54888379,"body_markdown":"I assume that the problem you face is that you read many images in the same query and that they take too much memory, leading to garbage collection and other problems. Compressing the images would not help as you will want to decompress them again before returning them to the client, plus most image formats are already compressed.\r\n\r\nYou could look into [streaming][1] instead, where you don&#39;t read all the matching images from the database into memory, but process them one at a time. Make sure that you stream the data you send to the client as well. If you get it right you can keep the memory usage down and you can send the first image to the client before you have read the others, reducing the time to first byte and making the response appear quick.\r\n\r\nAlternatively do as one of the comments suggested and read the meta data first, then read the full image data for one image at a time.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-streaming","title":"Compress Image as Byte Array","body":"<p>I assume that the problem you face is that you read many images in the same query and that they take too much memory, leading to garbage collection and other problems. Compressing the images would not help as you will want to decompress them again before returning them to the client, plus most image formats are already compressed.</p>\n\n<p>You could look into <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-streaming\" rel=\"nofollow noreferrer\">streaming</a> instead, where you don't read all the matching images from the database into memory, but process them one at a time. Make sure that you stream the data you send to the client as well. If you get it right you can keep the memory usage down and you can send the first image to the client before you have read the others, reducing the time to first byte and making the response appear quick.</p>\n\n<p>Alternatively do as one of the comments suggested and read the meta data first, then read the full image data for one image at a time.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551197000,"creation_date":1551197000,"answer_id":54889584,"question_id":54888379,"body_markdown":"If the images are in JPEG there is photo quality compression at every level desired: high compression &amp; low quality to the reversed. You could/should restrict image sizes (width and height). See ImageIO&#39;s ImageWriter and quality settings.\r\n\r\nFor BLOBs you should add:\r\n\r\n    @Lob\r\n    @Column(columnDefinition = &quot;MEDIUMBLOB&quot;)\r\n    private byte[] photo;\r\n\r\nIt may be the case that it is better to have the image field in its own database table, so the original table is queried much faster.\r\n\r\nAs mentioned one could also store the images on the file system, maybe under a generated unique ID:\r\n\r\n    UUID uuid = UUID.randomUUID();\r\n    String fileName = uuid.toString() + &quot;.jpg&quot;;\r\n\r\nIn general using a `byte[]` field or local object is suboptimal, as it unnecessarily charges the server with memory. Immediately reading and writing to the response is better - outside JPA. Maybe a native query if you want things in the database.","title":"Compress Image as Byte Array","body":"<p>If the images are in JPEG there is photo quality compression at every level desired: high compression &amp; low quality to the reversed. You could/should restrict image sizes (width and height). See ImageIO's ImageWriter and quality settings.</p>\n\n<p>For BLOBs you should add:</p>\n\n<pre><code>@Lob\n@Column(columnDefinition = \"MEDIUMBLOB\")\nprivate byte[] photo;\n</code></pre>\n\n<p>It may be the case that it is better to have the image field in its own database table, so the original table is queried much faster.</p>\n\n<p>As mentioned one could also store the images on the file system, maybe under a generated unique ID:</p>\n\n<pre><code>UUID uuid = UUID.randomUUID();\nString fileName = uuid.toString() + \".jpg\";\n</code></pre>\n\n<p>In general using a <code>byte[]</code> field or local object is suboptimal, as it unnecessarily charges the server with memory. Immediately reading and writing to the response is better - outside JPA. Maybe a native query if you want things in the database.</p>\n"},{"tags":[],"owner":{"account_id":25956024,"reputation":41,"user_id":19673374,"display_name":"marcobsidian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701007675,"creation_date":1701007675,"answer_id":77552010,"question_id":54888379,"body_markdown":"It&#39;s been 4 years and noone actually answered this question.\r\n\r\nThis is how to do it using the &quot;Thumbnails&quot;-Library (net.coobird.thumbnailator).\r\n\r\n    public static byte[] compress(byte[] binaryData, double scale, double quality) {\r\n        if (binaryData != null) {\r\n            try {\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                Thumbnails.of(new ByteArrayInputStream(binaryData)).scale(scale).outputQuality(quality)\r\n                    .toOutputStream(baos);\r\n                return baos.toByteArray();\r\n            }\r\n            catch (Exception e) {\r\n                // handle Exceptions\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Compress Image as Byte Array","body":"<p>It's been 4 years and noone actually answered this question.</p>\n<p>This is how to do it using the &quot;Thumbnails&quot;-Library (net.coobird.thumbnailator).</p>\n<pre><code>public static byte[] compress(byte[] binaryData, double scale, double quality) {\n    if (binaryData != null) {\n        try {\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            Thumbnails.of(new ByteArrayInputStream(binaryData)).scale(scale).outputQuality(quality)\n                .toOutputStream(baos);\n            return baos.toByteArray();\n        }\n        catch (Exception e) {\n            // handle Exceptions\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54889357,"answer_count":3,"score":0,"last_activity_date":1701007675,"creation_date":1551193197,"question_id":54888379,"body_markdown":"After a while and after a stresstest of my database and it&#39;s REST Api the following Problem occurred.\r\n\r\nWe save images as **byte array in an Mysql Database via JPA/Hibernate** annotated like this:\r\n\r\n    @Column(columnDefinition = &quot;MEDIUMBLOB&quot;)\r\n    private byte[] photo;\r\n\r\nWorks as it should except when there are much high quality images and I want to retrieve all of them. Then the **Response takes too long** and event **Postman gets stuck**.\r\n \r\nSo I am **searching for a solution** to make those **byte Arrays smaller**.\r\nIs there a way to **compress the image as byte array?** \r\nOr would another approach be better, **maybe paging** (Not my the best approach in my opinion for the task we have to solve)?\r\n\r\nThanks in advance.\r\n\r\n ","title":"Compress Image as Byte Array","body":"<p>After a while and after a stresstest of my database and it's REST Api the following Problem occurred.</p>\n\n<p>We save images as <strong>byte array in an Mysql Database via JPA/Hibernate</strong> annotated like this:</p>\n\n<pre><code>@Column(columnDefinition = \"MEDIUMBLOB\")\nprivate byte[] photo;\n</code></pre>\n\n<p>Works as it should except when there are much high quality images and I want to retrieve all of them. Then the <strong>Response takes too long</strong> and event <strong>Postman gets stuck</strong>.</p>\n\n<p>So I am <strong>searching for a solution</strong> to make those <strong>byte Arrays smaller</strong>.\nIs there a way to <strong>compress the image as byte array?</strong> \nOr would another approach be better, <strong>maybe paging</strong> (Not my the best approach in my opinion for the task we have to solve)?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1701005408,"post_id":77551875,"comment_id":136718927,"body_markdown":"Try using `String.split()` to separate the tokens.","body":"Try using <code>String.split()</code> to separate the tokens."},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1701005825,"post_id":77551875,"comment_id":136718966,"body_markdown":"&quot;stores it [a string] in a **collection**.&quot; As an _array_ is fixed length, use for instance a growing `ArrayList&lt;String&gt;`. A List is a Collection.","body":"&quot;stores it [a string] in a <b>collection</b>.&quot; As an <i>array</i> is fixed length, use for instance a growing <code>ArrayList&lt;String&gt;</code>. A List is a Collection."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701039214,"post_id":77551875,"comment_id":136722359,"body_markdown":"Regarding, _&quot;... stores it in the collection.&quot;_, I imagine it&#39;s a generalization; an _array_ is technically a collection.  In other words they don&#39;t want you to use a _List_, which would be much more convenient.","body":"Regarding, <i>&quot;... stores it in the collection.&quot;</i>, I imagine it&#39;s a generalization; an <i>array</i> is technically a collection.  In other words they don&#39;t want you to use a <i>List</i>, which would be much more convenient."}],"answers":[{"tags":[],"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701007017,"creation_date":1701007017,"answer_id":77551963,"question_id":77551875,"body_markdown":"I suggest you address your problem in two steps.\r\n\r\nFirst, the ingest part: you need to accept input words from the user and store each word in a `ArrayList&lt;String&gt;` instead of a fixed-size array, since you do not know in advance how many inputs you will get.\r\n\r\nAn example code could look like the following.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String input;\r\n    List&lt;String&gt; ingestWords = new ArrayList&lt;&gt;();\r\n\r\n    Scanner sentence = new Scanner(System.in);\r\n        \r\n    while (sentence.hasNext()) {\r\n        input = sentence.next();\r\n            \r\n        if (input.equals(&quot;exit&quot;)) { // To stop receiving input\r\n            break;\r\n        }\r\n            \r\n        ingestWords.add(input);         \r\n    }\r\n    sentence.close();\r\n}\r\n```\r\n\r\nSecond, the appearance part: given a string, you need to iterate over your list of words from the ingest part, and check which ones start with the given string.\r\n\r\nFor example, you can make a helper function like so.\r\n\r\n```java\r\nvoid hasPrefix(String word, String str) {\r\n    return word.startsWith(str);\r\n}\r\n```\r\n\r\nApplying this function to each word in `ingestWords` will give you the number of words that have `str` as a prefix. And you can figure out the percentage of appearance from it.\r\n","title":"How to store string tokens into array","body":"<p>I suggest you address your problem in two steps.</p>\n<p>First, the ingest part: you need to accept input words from the user and store each word in a <code>ArrayList&lt;String&gt;</code> instead of a fixed-size array, since you do not know in advance how many inputs you will get.</p>\n<p>An example code could look like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String input;\n    List&lt;String&gt; ingestWords = new ArrayList&lt;&gt;();\n\n    Scanner sentence = new Scanner(System.in);\n        \n    while (sentence.hasNext()) {\n        input = sentence.next();\n            \n        if (input.equals(&quot;exit&quot;)) { // To stop receiving input\n            break;\n        }\n            \n        ingestWords.add(input);         \n    }\n    sentence.close();\n}\n</code></pre>\n<p>Second, the appearance part: given a string, you need to iterate over your list of words from the ingest part, and check which ones start with the given string.</p>\n<p>For example, you can make a helper function like so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void hasPrefix(String word, String str) {\n    return word.startsWith(str);\n}\n</code></pre>\n<p>Applying this function to each word in <code>ingestWords</code> will give you the number of words that have <code>str</code> as a prefix. And you can figure out the percentage of appearance from it.</p>\n"}],"owner":{"account_id":29197510,"reputation":15,"user_id":22368287,"display_name":"Matthew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701007017,"creation_date":1701005193,"question_id":77551875,"body_markdown":"I reference to some sample to extract each part of the user input successfully. However, it can only extract 1 times. There should be 2 loop for extracting multiple input and saving the tokens in array. I am stuck on the array, how could I do it?\r\n\r\n&gt;  Question:\r\n&gt; \r\n&gt;   Write a program that accepts string tokens in the format of token1:token2:token3:token4 , where : is used as delimiter to separate tokens. There should be two functions, ingest and appearance.\r\n&gt;     \r\n&gt; - ingest takes a string, and stores it in the collection.\r\n&gt;     \r\n&gt; - appearance takes a string as input . It returns a normalized value\r\n&gt;        between 0 to 1,  where the value represents the percentage of\r\n&gt;        appearances of stored tokens which have input as the prefix.\r\n&gt;     \r\n&gt;  - State the space and time complexity of your solution.\r\n\r\nExpected Result:\r\n\r\n    ingest(&#39;McDonal:uk:employeeA&#39;)\r\n    ingest(&#39;McDonal:hk:employeeA&#39;)\r\n    ingest(&#39;McDonal:hk:employeeB&#39;)\r\n    ingest(&#39;McDonal:hk:employeeC&#39;)\r\n    ingest(&#39;fastfood&#39;)\r\n\r\n    appearance(&#39;McDonal&#39;)\r\n    # &gt; 0.8\r\n    appearance(&#39;McDonal:hk&#39;)\r\n    # &gt; 0.6\r\n\r\nMy Code:\r\n\r\n     String input;\r\n       \r\n            \r\n     // For user input\r\n     Scanner sentense = new Scanner(System.in);\r\n     input = sentense.nextLine();   \r\n     String[] ingestWords = {};\r\n           \r\n                 \r\n     // Use &#39;:&#39; to seperate input\r\n     StringTokenizer st = new StringTokenizer(input, &quot;:&quot;);\r\n     while(st.hasMoreTokens()) { \r\n       System.out.println(st.nextToken());\r\n     }","title":"How to store string tokens into array","body":"<p>I reference to some sample to extract each part of the user input successfully. However, it can only extract 1 times. There should be 2 loop for extracting multiple input and saving the tokens in array. I am stuck on the array, how could I do it?</p>\n<blockquote>\n<p>Question:</p>\n<p>Write a program that accepts string tokens in the format of token1:token2:token3:token4 , where : is used as delimiter to separate tokens. There should be two functions, ingest and appearance.</p>\n<ul>\n<li><p>ingest takes a string, and stores it in the collection.</p>\n</li>\n<li><p>appearance takes a string as input . It returns a normalized value\nbetween 0 to 1,  where the value represents the percentage of\nappearances of stored tokens which have input as the prefix.</p>\n</li>\n<li><p>State the space and time complexity of your solution.</p>\n</li>\n</ul>\n</blockquote>\n<p>Expected Result:</p>\n<pre><code>ingest('McDonal:uk:employeeA')\ningest('McDonal:hk:employeeA')\ningest('McDonal:hk:employeeB')\ningest('McDonal:hk:employeeC')\ningest('fastfood')\n\nappearance('McDonal')\n# &gt; 0.8\nappearance('McDonal:hk')\n# &gt; 0.6\n</code></pre>\n<p>My Code:</p>\n<pre><code> String input;\n   \n        \n // For user input\n Scanner sentense = new Scanner(System.in);\n input = sentense.nextLine();   \n String[] ingestWords = {};\n       \n             \n // Use ':' to seperate input\n StringTokenizer st = new StringTokenizer(input, &quot;:&quot;);\n while(st.hasMoreTokens()) { \n   System.out.println(st.nextToken());\n }\n</code></pre>\n"},{"tags":["java","data-structures","breadth-first-search"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1700992839,"post_id":77551196,"comment_id":136717834,"body_markdown":"Maybe removing some of the large whitespaces from your code could help in reading it more easily (its kinda annoying ;))","body":"Maybe removing some of the large whitespaces from your code could help in reading it more easily (its kinda annoying ;))"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700992842,"post_id":77551196,"comment_id":136717836,"body_markdown":"So what does this have to do with `[artificial-intelligence]` ?","body":"So what does this have to do with <code>[artificial-intelligence]</code> ?"},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700993298,"post_id":77551196,"comment_id":136717868,"body_markdown":"Because AIs use blind search algorithms.","body":"Because AIs use blind search algorithms."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700994089,"post_id":77551196,"comment_id":136717933,"body_markdown":"1) No they don&#39;t.  Or at least ... not if they are &quot;intelligent&quot;.  2) Even if they did, that doesn&#39;t  make this question relevant to AI&#39;s.","body":"1) No they don&#39;t.  Or at least ... not if they are &quot;intelligent&quot;.  2) Even if they did, that doesn&#39;t  make this question relevant to AI&#39;s."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700994244,"post_id":77551196,"comment_id":136717941,"body_markdown":"But either way, I&#39;m not going to try to read your code in its current (hard to read) state.","body":"But either way, I&#39;m not going to try to read your code in its current (hard to read) state."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700995242,"post_id":77551196,"comment_id":136718017,"body_markdown":"@GrindingForReputation there are not more than 2-3 empty lines in my code imo.","body":"@GrindingForReputation there are not more than 2-3 empty lines in my code imo."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700995314,"post_id":77551196,"comment_id":136718028,"body_markdown":"@StephenC funny because the class im taking in my university is called &quot;Artificial Intelligence&quot; and we are being taught these in the first 3 chapters.So I guess universities teach the wrong things , hmm ?","body":"@StephenC funny because the class im taking in my university is called &quot;Artificial Intelligence&quot; and we are being taught these in the first 3 chapters.So I guess universities teach the wrong things , hmm ?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700995513,"post_id":77551196,"comment_id":136718041,"body_markdown":"@RootGroves if you&#39;re using eclipse use ctrl+shift+f to format your code I&#39;m not joking when i say its annoying to read.","body":"@RootGroves if you&#39;re using eclipse use ctrl+shift+f to format your code I&#39;m not joking when i say its annoying to read."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700995671,"post_id":77551196,"comment_id":136718054,"body_markdown":"You want every line to have code?","body":"You want every line to have code?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700996016,"post_id":77551196,"comment_id":136718074,"body_markdown":"Not exactly, what I am asking you to do is to change the following in your code -&gt; Remove 2-3 empty lines, one works fine. Secondly fix the indentation (1 indent = 4 spaces). Remove unnecessary empty lines, you dont need an empty line after     `int[] e = i;` and `e[1]++;`","body":"Not exactly, what I am asking you to do is to change the following in your code -&gt; Remove 2-3 empty lines, one works fine. Secondly fix the indentation (1 indent = 4 spaces). Remove unnecessary empty lines, you dont need an empty line after     <code>int[] e = i;</code> and <code>e[1]++;</code>"},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700996062,"post_id":77551196,"comment_id":136718080,"body_markdown":"You have already said :&quot; Go and ask your AI course lecturer if they think that a question about debugging a BFS code is about artificial intelligence&quot; and &quot;1) No they don&#39;t. Or at least ... not if they are &quot;intelligent&quot;. 2) Even if they did, that doesn&#39;t make this question relevant to AI&#39;s.&quot;","body":"You have already said :&quot; Go and ask your AI course lecturer if they think that a question about debugging a BFS code is about artificial intelligence&quot; and &quot;1) No they don&#39;t. Or at least ... not if they are &quot;intelligent&quot;. 2) Even if they did, that doesn&#39;t make this question relevant to AI&#39;s.&quot;"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700996070,"post_id":77551196,"comment_id":136718081,"body_markdown":"No.  I&#39;m trying to get you to &gt;fix&lt; your question.  So is Grinding.  And all you are doing is wasting everyone&#39;s time by arguing about stupid things and calling people names an.","body":"No.  I&#39;m trying to get you to &gt;fix&lt; your question.  So is Grinding.  And all you are doing is wasting everyone&#39;s time by arguing about stupid things and calling people names an."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700996111,"post_id":77551196,"comment_id":136718083,"body_markdown":"Ok I will remove off the tag artificial intelligence, ok?","body":"Ok I will remove off the tag artificial intelligence, ok?"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700996137,"post_id":77551196,"comment_id":136718088,"body_markdown":"[PLONK](https://news.ycombinator.com/item?id=26890646)","body":"<a href=\"https://news.ycombinator.com/item?id=26890646\" rel=\"nofollow noreferrer\">PLONK</a>"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700996150,"post_id":77551196,"comment_id":136718092,"body_markdown":"@RootGroves Stephen is not wrong, this is a simple program that is not related with artificial intelligence at all (or at least not directly), you think this program is directly related to something as complicated as ai? Maybe it is but could be a really really small portion of what ai needs to make decisions.","body":"@RootGroves Stephen is not wrong, this is a simple program that is not related with artificial intelligence at all (or at least not directly), you think this program is directly related to something as complicated as ai? Maybe it is but could be a really really small portion of what ai needs to make decisions."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700996317,"post_id":77551196,"comment_id":136718103,"body_markdown":"I would post an edit but I have too many pending edits currently so I cannot format the code myself.","body":"I would post an edit but I have too many pending edits currently so I cannot format the code myself."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700996512,"post_id":77551196,"comment_id":136718113,"body_markdown":"Its been done!No need of worries.","body":"Its been done!No need of worries."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1701005648,"post_id":77551196,"comment_id":136718946,"body_markdown":"Please provide enough code for us to be able to copy &amp; run it. As it stands now, your question lists several pieces of code, with references to variables that are not known. Although a link to your previous question is informative, it does not mean you don&#39;t have to provide the code necessary to understand the current question. Each question should be self-contained, and we should be able to run the code without having to invent stuff to make it compile. And when we run it, it should produce the problem.","body":"Please provide enough code for us to be able to copy &amp; run it. As it stands now, your question lists several pieces of code, with references to variables that are not known. Although a link to your previous question is informative, it does not mean you don&#39;t have to provide the code necessary to understand the current question. Each question should be self-contained, and we should be able to run the code without having to invent stuff to make it compile. And when we run it, it should produce the problem."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701007834,"post_id":77551196,"comment_id":136719173,"body_markdown":"Please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/) as well as the [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) links. They won&#39;t solve the actual problem but can give you steps that help you either solve it, or help you to focus the issue more which can help you improve this question. Otherwise, you&#39;re learning how to dump work for others to solve and not how solve code problems yourself.","body":"Please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a> as well as the <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a> links. They won&#39;t solve the actual problem but can give you steps that help you either solve it, or help you to focus the issue more which can help you improve this question. Otherwise, you&#39;re learning how to dump work for others to solve and not how solve code problems yourself."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701006770,"creation_date":1701006770,"answer_id":77551946,"question_id":77551196,"body_markdown":"Your are not dealing correctly with the positions. This code mutates `i`:\r\n\r\n```\r\n    int[] c = i;\r\n    c[0]++;\r\n```\r\n\r\nYou seem to think that `c` is a *copy* of the *array*, but it is not. It merely references the array that `i` references, and so when you do `c[0]++`, that *single* array now has that incremented value. The next time you apply this kind of code (in one of the next `if` blocks), you&#39;ll not start with the original position, but with the already mutated `i`, and so your &quot;steps&quot; are going astray.\r\n\r\nHonestly, I had already indicated in [my answer to your previous question](https://stackoverflow.com/a/77541631/5459839) that working with the idea of array-type positions leads to less elegant code, and now we see how easy it is to introduce bugs with it.\r\n\r\nIf you work with such arrays, you&#39;ll have to really construct new arrays and copy the contents of the original array.\r\n\r\nHere is the correction of that part of your code:\r\n\r\n```\r\n        if (i[0] &lt; gridLength - 1) {\r\n            arrayDeque.add(new int[] {i[0]+1, i[1]});\r\n        }\r\n        if (i[0] &gt; 0) {\r\n            arrayDeque.add(new int[] {i[0]-1, i[1]});\r\n        }\r\n        if (i[1] &lt; gridLength - 1) {\r\n            arrayDeque.add(new int[] {i[0], i[1]+1});\r\n        }\r\n        if (i[1] &gt; 0) {\r\n            arrayDeque.add(new int[] {i[0], i[1]-1});\r\n        }\r\n```  \r\n","title":"Breadth first search algorithm is wrong","body":"<p>Your are not dealing correctly with the positions. This code mutates <code>i</code>:</p>\n<pre><code>    int[] c = i;\n    c[0]++;\n</code></pre>\n<p>You seem to think that <code>c</code> is a <em>copy</em> of the <em>array</em>, but it is not. It merely references the array that <code>i</code> references, and so when you do <code>c[0]++</code>, that <em>single</em> array now has that incremented value. The next time you apply this kind of code (in one of the next <code>if</code> blocks), you'll not start with the original position, but with the already mutated <code>i</code>, and so your &quot;steps&quot; are going astray.</p>\n<p>Honestly, I had already indicated in <a href=\"https://stackoverflow.com/a/77541631/5459839\">my answer to your previous question</a> that working with the idea of array-type positions leads to less elegant code, and now we see how easy it is to introduce bugs with it.</p>\n<p>If you work with such arrays, you'll have to really construct new arrays and copy the contents of the original array.</p>\n<p>Here is the correction of that part of your code:</p>\n<pre><code>        if (i[0] &lt; gridLength - 1) {\n            arrayDeque.add(new int[] {i[0]+1, i[1]});\n        }\n        if (i[0] &gt; 0) {\n            arrayDeque.add(new int[] {i[0]-1, i[1]});\n        }\n        if (i[1] &lt; gridLength - 1) {\n            arrayDeque.add(new int[] {i[0], i[1]+1});\n        }\n        if (i[1] &gt; 0) {\n            arrayDeque.add(new int[] {i[0], i[1]-1});\n        }\n</code></pre>\n"}],"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"comment_count":19,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701010413,"accepted_answer_id":77551946,"answer_count":1,"score":-3,"last_activity_date":1701006770,"creation_date":1700992587,"question_id":77551196,"body_markdown":"[Yesterday](https://stackoverflow.com/questions/77541166/depth-first-search-implementation-algorithm-keeps-on-searching-out-only-to-the) I asked a question on the DFS. Today I am trying to implement the BFS.\r\n\r\nThe .java classes not given out in this thread are taken from the previous question.\r\n\r\nI have written this class:\r\n\r\n`BreadthFirstSearch.java`\r\n```\r\nimport java.util.ArrayDeque;\r\nimport java.lang.System;\r\n\r\npublic class BreadthFirstSearch extends SearchAlgorithm{\r\n\r\n    public BreadthFirstSearch(int gridSize)\r\n    {\r\n        super(gridSize);\r\n    }\r\n\r\n    public void calc(int[]pos)\r\n    {\r\n        ArrayDeque&lt;int[]&gt;arrayDeque = new ArrayDeque&lt;&gt;();\r\n        arrayDeque.add(pos);\r\n        while(!arrayDeque.isEmpty())\r\n        {\r\n            for(int[]i:arrayDeque) {\r\n                System.out.println(grid[i[0]][i[1]].getPosition());\r\n                if (grid[i[0]][i[1]].getIsExit()) {\r\n                    System.out.println(&quot;Path been found!&quot;);\r\n                    arrayDeque.remove(i);\r\n                } else if (grid[i[0]][i[1]].getType() == 1) {\r\n                    System.out.println(&quot;Path been blocked!&quot;);\r\n                    arrayDeque.remove(i);\r\n                } else if (grid[i[0]][i[1]].getIsVisited()) {\r\n                    arrayDeque.remove(i);\r\n                }\r\n                else\r\n                {\r\n                    grid[i[0]][i[1]].setIsVisited(true);\r\n                    if (i[0] &lt; gridLength - 1) {\r\n                        int[] c = i;\r\n                        c[0]++;\r\n                        arrayDeque.add(c);\r\n                    }\r\n                    if (i[0] &gt; 0) {\r\n                        int[] d = i;\r\n                        d[0]--;\r\n                        arrayDeque.add(d);\r\n                    }\r\n                    if (i[1] &lt; gridLength - 1) {\r\n                        int[] e = i;\r\n                        e[1]++;\r\n                        arrayDeque.add(e);\r\n                    }\r\n                    if (i[1] &gt; 0) {\r\n                        int[] f = i;\r\n                        f[1]--;\r\n                        arrayDeque.add(f);\r\n                    }\r\n                    arrayDeque.remove(i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand I have added in the Main.java class this:\r\n\r\n```\r\nBreadthFirstSearch bfs = new BreadthFirstSearch(9);\r\nbfs.print();\r\nbfs.calc(pos);\r\n```\r\n\r\nFor the constructor of `BreadthFirstSearch.java` I get this matrix:\r\n```none\r\nPosition:0 Type:0 Position:1 Type:0 Position:2 Type:1 \r\nPosition:3 Type:0 Position:4 Type:1 Position:5 Type:1 \r\nPosition:6 Type:1 Position:7 Type:0 Position:8 Type:0\r\n```\r\n```\r\nwhile(!arrayDeque.isEmpty())\r\n{\r\n    for(int[]i:arrayDeque) {\r\n        System.out.println(grid[i[0]][i[1]].getPosition());\r\n        if (grid[i[0]][i[1]].getIsExit()) {\r\n            System.out.println(&quot;Path been found!&quot;);\r\n            arrayDeque.remove(i);\r\n        } else if (grid[i[0]][i[1]].getType() == 1) {\r\n            System.out.println(&quot;Path been blocked!&quot;);\r\n            arrayDeque.remove(i);\r\n        } else if (grid[i[0]][i[1]].getIsVisited()) {\r\n            arrayDeque.remove(i);\r\n        }\r\n```\r\nnone of these conditions are true in the beginning so we can skip them.\r\n\r\n```\r\nelse\r\n{\r\n    grid[i[0]][i[1]].setIsVisited(true);\r\n```\r\nI set the node with position = visited, so I don&#39;t get to check it out again.\r\n\r\nOut of these conditions only (1) and (3) are true, so we add 2 int[] arrays to the deque:\r\n\r\n```\r\nif (i[0] &lt; gridLength - 1) {\r\n    int[] c = i;\r\n    c[0]++;\r\n    arrayDeque.add(c);\r\n}\r\nif (i[0] &gt; 0) {\r\n    int[] d = i;\r\n    d[0]--;\r\n    arrayDeque.add(d);\r\n}\r\nif (i[1] &lt; gridLength - 1) {\r\n    int[] e = i;\r\n    e[1]++;\r\n    arrayDeque.add(e);\r\n}\r\nif (i[1] &gt; 0) {\r\n    int[] f = i;\r\n    f[1]--;\r\n    arrayDeque.add(f);\r\n}\r\n```\r\n\r\nLastly, we remove the visited node:\r\n\r\n```\r\narrayDeque.remove(i);\r\n```\r\n\r\nWhat I get in the output is:\r\n\r\n```none\r\n0\r\n0\r\n0\r\n0\r\n0\r\n```\r\nSo where is the code off?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Breadth first search algorithm is wrong","body":"<p><a href=\"https://stackoverflow.com/questions/77541166/depth-first-search-implementation-algorithm-keeps-on-searching-out-only-to-the\">Yesterday</a> I asked a question on the DFS. Today I am trying to implement the BFS.</p>\n<p>The .java classes not given out in this thread are taken from the previous question.</p>\n<p>I have written this class:</p>\n<p><code>BreadthFirstSearch.java</code></p>\n<pre><code>import java.util.ArrayDeque;\nimport java.lang.System;\n\npublic class BreadthFirstSearch extends SearchAlgorithm{\n\n    public BreadthFirstSearch(int gridSize)\n    {\n        super(gridSize);\n    }\n\n    public void calc(int[]pos)\n    {\n        ArrayDeque&lt;int[]&gt;arrayDeque = new ArrayDeque&lt;&gt;();\n        arrayDeque.add(pos);\n        while(!arrayDeque.isEmpty())\n        {\n            for(int[]i:arrayDeque) {\n                System.out.println(grid[i[0]][i[1]].getPosition());\n                if (grid[i[0]][i[1]].getIsExit()) {\n                    System.out.println(&quot;Path been found!&quot;);\n                    arrayDeque.remove(i);\n                } else if (grid[i[0]][i[1]].getType() == 1) {\n                    System.out.println(&quot;Path been blocked!&quot;);\n                    arrayDeque.remove(i);\n                } else if (grid[i[0]][i[1]].getIsVisited()) {\n                    arrayDeque.remove(i);\n                }\n                else\n                {\n                    grid[i[0]][i[1]].setIsVisited(true);\n                    if (i[0] &lt; gridLength - 1) {\n                        int[] c = i;\n                        c[0]++;\n                        arrayDeque.add(c);\n                    }\n                    if (i[0] &gt; 0) {\n                        int[] d = i;\n                        d[0]--;\n                        arrayDeque.add(d);\n                    }\n                    if (i[1] &lt; gridLength - 1) {\n                        int[] e = i;\n                        e[1]++;\n                        arrayDeque.add(e);\n                    }\n                    if (i[1] &gt; 0) {\n                        int[] f = i;\n                        f[1]--;\n                        arrayDeque.add(f);\n                    }\n                    arrayDeque.remove(i);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>and I have added in the Main.java class this:</p>\n<pre><code>BreadthFirstSearch bfs = new BreadthFirstSearch(9);\nbfs.print();\nbfs.calc(pos);\n</code></pre>\n<p>For the constructor of <code>BreadthFirstSearch.java</code> I get this matrix:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Position:0 Type:0 Position:1 Type:0 Position:2 Type:1 \nPosition:3 Type:0 Position:4 Type:1 Position:5 Type:1 \nPosition:6 Type:1 Position:7 Type:0 Position:8 Type:0\n</code></pre>\n<pre><code>while(!arrayDeque.isEmpty())\n{\n    for(int[]i:arrayDeque) {\n        System.out.println(grid[i[0]][i[1]].getPosition());\n        if (grid[i[0]][i[1]].getIsExit()) {\n            System.out.println(&quot;Path been found!&quot;);\n            arrayDeque.remove(i);\n        } else if (grid[i[0]][i[1]].getType() == 1) {\n            System.out.println(&quot;Path been blocked!&quot;);\n            arrayDeque.remove(i);\n        } else if (grid[i[0]][i[1]].getIsVisited()) {\n            arrayDeque.remove(i);\n        }\n</code></pre>\n<p>none of these conditions are true in the beginning so we can skip them.</p>\n<pre><code>else\n{\n    grid[i[0]][i[1]].setIsVisited(true);\n</code></pre>\n<p>I set the node with position = visited, so I don't get to check it out again.</p>\n<p>Out of these conditions only (1) and (3) are true, so we add 2 int[] arrays to the deque:</p>\n<pre><code>if (i[0] &lt; gridLength - 1) {\n    int[] c = i;\n    c[0]++;\n    arrayDeque.add(c);\n}\nif (i[0] &gt; 0) {\n    int[] d = i;\n    d[0]--;\n    arrayDeque.add(d);\n}\nif (i[1] &lt; gridLength - 1) {\n    int[] e = i;\n    e[1]++;\n    arrayDeque.add(e);\n}\nif (i[1] &gt; 0) {\n    int[] f = i;\n    f[1]--;\n    arrayDeque.add(f);\n}\n</code></pre>\n<p>Lastly, we remove the visited node:</p>\n<pre><code>arrayDeque.remove(i);\n</code></pre>\n<p>What I get in the output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0\n0\n0\n0\n0\n</code></pre>\n<p>So where is the code off?</p>\n"},{"tags":["java","android","google-maps","maps","google-maps-android-api-2"],"owner":{"account_id":29996603,"reputation":1,"user_id":22987811,"display_name":"amitav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701006400,"creation_date":1701006400,"question_id":77551927,"body_markdown":"I&#39;m facing an unusual issue in my Android application where the initial GPS location doesn&#39;t update properly when the app is loaded for the first time. Here&#39;s the relevant code snippet:\r\n\r\n```\r\npublic class MapFragment extends Fragment implements OnMapReadyCallback {\r\n    private final int LOCATION_PERMISSION_REQUEST_CODE = 1;\r\n    private boolean firstFetch = true;\r\n    private boolean recenterOnLocationChange = false;\r\n    private Location currentLocation;\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n    private CameraPosition prevCameraPosition;\r\n\r\n\r\n    private GoogleMap mMap;\r\n\r\n    private final ActivityResultLauncher&lt;String[]&gt; requestPermissionLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), isGranted -&gt; {\r\n                boolean allPermissionsGranted = true;\r\n                for (Boolean granted : isGranted.values()) {\r\n                    if (!granted) {\r\n                        allPermissionsGranted = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (allPermissionsGranted) {\r\n                    getLastLocation();\r\n                    System.out.println(&quot;!!!!!!!!!!!!!!!Here!!!!!!!!!!!!!!!!!&quot;);\r\n                } else {\r\n                    // Permission is denied, handle it\r\n                }\r\n            });\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_map, container, false);\r\n        // FrameLayout mapContainer = rootView.findViewById(R.id.mapContainer);\r\n       // mapContainer.addView(super.onCreateView(inflater, container, savedInstanceState));\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(getContext());\r\n        SupportMapFragment supportMapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.mapContainer);\r\n        supportMapFragment.getMapAsync(this);\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.setPadding(0, 200, 0, 0);\r\n        requestPermissions();\r\n    }\r\n    private void requestPermissions() {\r\n        String[] permissions = {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION};\r\n        if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            getLastLocation();\r\n        } else {\r\n            // Request permissions\r\n            requestPermissionLauncher.launch(permissions);\r\n        }\r\n    }\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void getLastLocation(){\r\n        mMap.setMyLocationEnabled(true);\r\n        fusedLocationProviderClient.requestLocationUpdates(\r\n                new LocationRequest()\r\n                        .setInterval(1000) // Update every second\r\n                        .setFastestInterval(500), // Update as often as possible\r\n                new LocationCallback() {\r\n                    @Override\r\n                    public void onLocationResult(LocationResult locationResult) {\r\n                        currentLocation = locationResult.getLastLocation();\r\n                        if (currentLocation != null) {\r\n                            LatLng myLocation = new LatLng(currentLocation.getLatitude(),currentLocation.getLongitude());\r\n                            if(firstFetch) {\r\n                                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\r\n                                prevCameraPosition = mMap.getCameraPosition();\r\n                                firstFetch = false;\r\n                            }else{\r\n                                if(prevCameraPosition.equals(mMap.getCameraPosition())){\r\n                                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\r\n                                    prevCameraPosition = mMap.getCameraPosition();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }, Looper.myLooper()\r\n        );\r\n        // Set a click listener for the &quot;My Location&quot; button\r\n        mMap.setOnMyLocationButtonClickListener(() -&gt; {\r\n            if (currentLocation != null) {\r\n                LatLng myLocation = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\r\n            }\r\n            prevCameraPosition = mMap.getCameraPosition();\r\n            return true; // Indicates that the listener has consumed the event\r\n        });\r\n    }\r\n    public Location getCurrentLocation() {\r\n        return currentLocation;\r\n    }\r\n}\r\n```\r\nThe issue is that the initial GPS location doesn&#39;t update properly when the app is launched. However, if I navigate to another fragment and then return, the new location updates correctly. Subsequent location changes also work as expected. I&#39;ve tried introducing a delay of 1 second before calling getLastLocation(), but the problem persists.\r\n\r\nI&#39;d appreciate any insights or suggestions on how to resolve this issue. Thank you!\r\n\r\nIssue video:\r\n[text](https://streamable.com/q4v87m)\r\n\r\n\r\nI&#39;ve tried introducing a delay of 1 second before calling getLastLocation().","title":"Track my location only when I&#39;m load this app / fragment at the second time","body":"<p>I'm facing an unusual issue in my Android application where the initial GPS location doesn't update properly when the app is loaded for the first time. Here's the relevant code snippet:</p>\n<pre><code>public class MapFragment extends Fragment implements OnMapReadyCallback {\n    private final int LOCATION_PERMISSION_REQUEST_CODE = 1;\n    private boolean firstFetch = true;\n    private boolean recenterOnLocationChange = false;\n    private Location currentLocation;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    private CameraPosition prevCameraPosition;\n\n\n    private GoogleMap mMap;\n\n    private final ActivityResultLauncher&lt;String[]&gt; requestPermissionLauncher =\n            registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), isGranted -&gt; {\n                boolean allPermissionsGranted = true;\n                for (Boolean granted : isGranted.values()) {\n                    if (!granted) {\n                        allPermissionsGranted = false;\n                        break;\n                    }\n                }\n                if (allPermissionsGranted) {\n                    getLastLocation();\n                    System.out.println(&quot;!!!!!!!!!!!!!!!Here!!!!!!!!!!!!!!!!!&quot;);\n                } else {\n                    // Permission is denied, handle it\n                }\n            });\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_map, container, false);\n        // FrameLayout mapContainer = rootView.findViewById(R.id.mapContainer);\n       // mapContainer.addView(super.onCreateView(inflater, container, savedInstanceState));\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(getContext());\n        SupportMapFragment supportMapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.mapContainer);\n        supportMapFragment.getMapAsync(this);\n        return rootView;\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.setPadding(0, 200, 0, 0);\n        requestPermissions();\n    }\n    private void requestPermissions() {\n        String[] permissions = {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION};\n        if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            getLastLocation();\n        } else {\n            // Request permissions\n            requestPermissionLauncher.launch(permissions);\n        }\n    }\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void getLastLocation(){\n        mMap.setMyLocationEnabled(true);\n        fusedLocationProviderClient.requestLocationUpdates(\n                new LocationRequest()\n                        .setInterval(1000) // Update every second\n                        .setFastestInterval(500), // Update as often as possible\n                new LocationCallback() {\n                    @Override\n                    public void onLocationResult(LocationResult locationResult) {\n                        currentLocation = locationResult.getLastLocation();\n                        if (currentLocation != null) {\n                            LatLng myLocation = new LatLng(currentLocation.getLatitude(),currentLocation.getLongitude());\n                            if(firstFetch) {\n                                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\n                                prevCameraPosition = mMap.getCameraPosition();\n                                firstFetch = false;\n                            }else{\n                                if(prevCameraPosition.equals(mMap.getCameraPosition())){\n                                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\n                                    prevCameraPosition = mMap.getCameraPosition();\n                                }\n                            }\n                        }\n                    }\n                }, Looper.myLooper()\n        );\n        // Set a click listener for the &quot;My Location&quot; button\n        mMap.setOnMyLocationButtonClickListener(() -&gt; {\n            if (currentLocation != null) {\n                LatLng myLocation = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\n            }\n            prevCameraPosition = mMap.getCameraPosition();\n            return true; // Indicates that the listener has consumed the event\n        });\n    }\n    public Location getCurrentLocation() {\n        return currentLocation;\n    }\n}\n</code></pre>\n<p>The issue is that the initial GPS location doesn't update properly when the app is launched. However, if I navigate to another fragment and then return, the new location updates correctly. Subsequent location changes also work as expected. I've tried introducing a delay of 1 second before calling getLastLocation(), but the problem persists.</p>\n<p>I'd appreciate any insights or suggestions on how to resolve this issue. Thank you!</p>\n<p>Issue video:\n<a href=\"https://streamable.com/q4v87m\" rel=\"nofollow noreferrer\">text</a></p>\n<p>I've tried introducing a delay of 1 second before calling getLastLocation().</p>\n"},{"tags":["java",".net","installation","java-11","maui"],"comments":[{"owner":{"account_id":4365279,"reputation":14457,"user_id":3561275,"display_name":"omajid"},"score":3,"creation_date":1632164034,"post_id":69259265,"comment_id":122414558,"body_markdown":"The screenshot shows &quot;1.8.0.25&quot;. That&#39;s not 17. The error says you need 11 or newer, 1.8 is too old.","body":"The screenshot shows &quot;1.8.0.25&quot;. That&#39;s not 17. The error says you need 11 or newer, 1.8 is too old."},{"owner":{"account_id":16984003,"reputation":941,"user_id":12285843,"display_name":"Frank"},"score":0,"creation_date":1661438166,"post_id":69259265,"comment_id":129777328,"body_markdown":"I just get this  &quot;warning XA0033: Failed to get the Java SDK version because the returned value does not appear&quot; and the it fails to deploy","body":"I just get this  &quot;warning XA0033: Failed to get the Java SDK version because the returned value does not appear&quot; and the it fails to deploy"}],"answers":[{"tags":[],"owner":{"account_id":22759079,"reputation":1254,"user_id":16918183,"display_name":"Juan Sturla"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1632163237,"creation_date":1632163237,"answer_id":69259373,"question_id":69259265,"body_markdown":"When I installed VS2022 preview 4, my configuration became `C:\\Program Files\\Microsoft\\jdk-11.0.10.9-hotspot`\r\n\r\nThis can be fixed for you if you run the `maui-check` command (if you installed that component during visual studio installation).\r\n\r\nIf you don&#39;t have the `maui-check` tool, you can get it by running the `dotnet tool install -g Redth.Net.Maui.Check` command\r\n\r\nMaybe you skipped a step during installation and that&#39;s why you get the error.","title":"Java SDK 11.0 or above is required when using .NET 6 or higher","body":"<p>When I installed VS2022 preview 4, my configuration became <code>C:\\Program Files\\Microsoft\\jdk-11.0.10.9-hotspot</code></p>\n<p>This can be fixed for you if you run the <code>maui-check</code> command (if you installed that component during visual studio installation).</p>\n<p>If you don't have the <code>maui-check</code> tool, you can get it by running the <code>dotnet tool install -g Redth.Net.Maui.Check</code> command</p>\n<p>Maybe you skipped a step during installation and that's why you get the error.</p>\n"},{"tags":[],"owner":{"account_id":12601494,"reputation":4078,"user_id":9164071,"display_name":"Themelis"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1632939943,"creation_date":1632172620,"answer_id":69260921,"question_id":69259265,"body_markdown":"Installing Microsoft&#39;s [OpenJDK 11][1] did the job for me.\r\n\r\n&gt; *You may notice that Visual Studio installs a version of Microsoft*\r\n&gt; *OpenJDK, **however, you need to install the Microsoft OpenJDK 11***\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/openjdk/download","title":"Java SDK 11.0 or above is required when using .NET 6 or higher","body":"<p>Installing Microsoft's <a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"noreferrer\">OpenJDK 11</a> did the job for me.</p>\n<blockquote>\n<p><em>You may notice that Visual Studio installs a version of Microsoft</em>\n<em>OpenJDK, <strong>however, you need to install the Microsoft OpenJDK 11</strong></em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7878772,"reputation":13882,"user_id":5953643,"accept_rate":100,"display_name":"Brandon Minnick"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1635627443,"creation_date":1635627443,"answer_id":69782094,"question_id":69259265,"body_markdown":"# Visual Studio for Mac\r\n\r\nHere&#39;s how I got it working on macOS with Visual Studio for Mac.\r\n\r\n## Install Microsoft Open JDK\r\n\r\nOn macOS, [install the Microsoft Open JDK](https://learn.microsoft.com/java/openjdk/install#install-on-macos?WT.mc_id=mobile-0000-bramin) using HomeBrew:\r\n\r\n```bash\r\nbrew install --cask microsoft-openjdk\r\n```\r\n\r\n## Configure Visual Studio for Mac\r\n\r\n1. In Visual Studio for Mac, select **Visual Studio** -&gt; **Preferences**.\r\n\r\n2. In the **Preferences** window, navigate to **SDK Locations** -&gt; **Android** -&gt; **Locations**.\r\n\r\n3. In the **Java SDK (JDK) Location:** text box, enter the following:\r\n```bash\r\n/Library/Java/JavaVirtualMachines/jdk-13.0.1.jdk/Contents/Home\r\n```\r\n\r\n4. Click **OK**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j38PD.png","title":"Java SDK 11.0 or above is required when using .NET 6 or higher","body":"<h1>Visual Studio for Mac</h1>\n<p>Here's how I got it working on macOS with Visual Studio for Mac.</p>\n<h2>Install Microsoft Open JDK</h2>\n<p>On macOS, <a href=\"https://learn.microsoft.com/java/openjdk/install#install-on-macos?WT.mc_id=mobile-0000-bramin\" rel=\"noreferrer\">install the Microsoft Open JDK</a> using HomeBrew:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>brew install --cask microsoft-openjdk\n</code></pre>\n<h2>Configure Visual Studio for Mac</h2>\n<ol>\n<li><p>In Visual Studio for Mac, select <strong>Visual Studio</strong> -&gt; <strong>Preferences</strong>.</p>\n</li>\n<li><p>In the <strong>Preferences</strong> window, navigate to <strong>SDK Locations</strong> -&gt; <strong>Android</strong> -&gt; <strong>Locations</strong>.</p>\n</li>\n<li><p>In the <strong>Java SDK (JDK) Location:</strong> text box, enter the following:</p>\n</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>/Library/Java/JavaVirtualMachines/jdk-13.0.1.jdk/Contents/Home\n</code></pre>\n<ol start=\"4\">\n<li>Click <strong>OK</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/j38PD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j38PD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6430069,"reputation":376,"user_id":4983630,"display_name":"Mohammad-R"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1664880608,"creation_date":1664880608,"answer_id":73946764,"question_id":69259265,"body_markdown":"For those who have the same problem in **Jetbrains Rider** :\r\n\r\n1. **Install OpenJDK 11** (**Microsoft&#39;s OpenJDK 11** seems to be better) as mentioned by @themelis\r\n2. Press **Ctrl + Shift + A** and search **MSBuild global properties** or go to **File &gt; Settings &gt; Build, Execution, Deployment &gt; Toolset and Build**\r\n3. **Edit** the **MSBuild global properties** and **add** the following property:\r\n\r\n&lt;code&gt;Name: **JavaSdkDirectory**\r\nValue: {**OpenJDK installation directory**} (mine is **C:\\Program Files\\Microsoft\\jdk-11.0.16.101-hotspot**)&lt;/code&gt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3SrCU.png\r\n\r\n\r\n4. **Save** and **Enjoy**!","title":"Java SDK 11.0 or above is required when using .NET 6 or higher","body":"<p>For those who have the same problem in <strong>Jetbrains Rider</strong> :</p>\n<ol>\n<li><strong>Install OpenJDK 11</strong> (<strong>Microsoft's OpenJDK 11</strong> seems to be better) as mentioned by @themelis</li>\n<li>Press <strong>Ctrl + Shift + A</strong> and search <strong>MSBuild global properties</strong> or go to <strong>File &gt; Settings &gt; Build, Execution, Deployment &gt; Toolset and Build</strong></li>\n<li><strong>Edit</strong> the <strong>MSBuild global properties</strong> and <strong>add</strong> the following property:</li>\n</ol>\n<p><code>Name: <strong>JavaSdkDirectory</strong>\nValue: {<strong>OpenJDK installation directory</strong>} (mine is <strong>C:\\Program Files\\Microsoft\\jdk-11.0.16.101-hotspot</strong>)</code></p>\n<p><a href=\"https://i.stack.imgur.com/3SrCU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3SrCU.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li><strong>Save</strong> and <strong>Enjoy</strong>!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27294,"reputation":9436,"user_id":71906,"accept_rate":91,"display_name":"James McCormack"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700731938,"creation_date":1700516592,"answer_id":77519085,"question_id":69259265,"body_markdown":"You may start getting this error on Azure DevOps build pipelines for MAUI/Xamarin using the new MSBuild 17.8.3 that started rolling out over the last couple of days (20 Nov 2023). Same with Github Actions.\r\n\r\nSolution detailed here: https://stackoverflow.com/questions/77519046/maui-build-failing-with-microsoft-android-sdk-tooling-targets20-5-error-xa00/77519051#77519051","title":"Java SDK 11.0 or above is required when using .NET 6 or higher","body":"<p>You may start getting this error on Azure DevOps build pipelines for MAUI/Xamarin using the new MSBuild 17.8.3 that started rolling out over the last couple of days (20 Nov 2023). Same with Github Actions.</p>\n<p>Solution detailed here: <a href=\"https://stackoverflow.com/questions/77519046/maui-build-failing-with-microsoft-android-sdk-tooling-targets20-5-error-xa00/77519051#77519051\">MAUI / Xamarin build failing with &quot;Microsoft.Android.Sdk.Tooling.targets(20,5): error XA0031: Java SDK 11.0 or above is required when using .NET 6&quot;</a></p>\n"},{"tags":[],"owner":{"account_id":1993010,"reputation":5694,"user_id":1786596,"accept_rate":49,"display_name":"Dbl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701005910,"creation_date":1701005910,"answer_id":77551898,"question_id":69259265,"body_markdown":"For those here who use github actions:\r\n\r\n      \r\n      - name: Install .NET MAUI\r\n        shell: pwsh\r\n        run: |\r\n          dotnet workload install maui --source https://aka.ms/dotnet6/nuget/index.json --source https://api.nuget.org/v3/index.json\r\n          dotnet workload install android maui wasm-tools --source https://aka.ms/dotnet6/nuget/index.json --source https://api.nuget.org/v3/index.json\r\n          \r\n      - uses: actions/setup-java@v2\r\n        with:\r\n          distribution: &#39;microsoft&#39;\r\n          java-version: &#39;11&#39;","title":"Java SDK 11.0 or above is required when using .NET 6 or higher","body":"<p>For those here who use github actions:</p>\n<pre><code>  - name: Install .NET MAUI\n    shell: pwsh\n    run: |\n      dotnet workload install maui --source https://aka.ms/dotnet6/nuget/index.json --source https://api.nuget.org/v3/index.json\n      dotnet workload install android maui wasm-tools --source https://aka.ms/dotnet6/nuget/index.json --source https://api.nuget.org/v3/index.json\n      \n  - uses: actions/setup-java@v2\n    with:\n      distribution: 'microsoft'\n      java-version: '11'\n</code></pre>\n"}],"owner":{"account_id":12601494,"reputation":4078,"user_id":9164071,"display_name":"Themelis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25142,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":69260921,"answer_count":6,"score":19,"last_activity_date":1701005910,"creation_date":1632162542,"question_id":69259265,"body_markdown":"I&#39;ve installed .NET 6 (version *6.0.100-rc.1.21458.32*) and Visual Studio 2020 Preview (although it might be not a prerequisite).\r\n\r\nI am trying to debug a hello-world application but I am getting a **build error regarding  Java**.\r\n\r\n```\r\nC:\\Program Files\\dotnet\\packs\\Microsoft.Android.Sdk.Windows\\31.0.100-rc.1.12\\targets\\Microsoft.Android.Sdk.Tooling.targets(20,5): error XA0031: \r\nJava SDK 11.0 or above is required when using .NET 6 or higher. \r\n```\r\n\r\nI&#39;ve installed Java 17 setting `Path` as well as pointing to the Java Development Kit Location in Visual Studio settings (tools-&gt;options-&gt;Xamarin-&gt;Android Settings). Because that didn&#39;t work I&#39;ve set the JDK location to Microsoft&#39;s openjdk, but it still doesn&#39;t work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dNfnN.png\r\n\r\nWhat&#39;s wrong here?","title":"Java SDK 11.0 or above is required when using .NET 6 or higher","body":"<p>I've installed .NET 6 (version <em>6.0.100-rc.1.21458.32</em>) and Visual Studio 2020 Preview (although it might be not a prerequisite).</p>\n<p>I am trying to debug a hello-world application but I am getting a <strong>build error regarding  Java</strong>.</p>\n<pre><code>C:\\Program Files\\dotnet\\packs\\Microsoft.Android.Sdk.Windows\\31.0.100-rc.1.12\\targets\\Microsoft.Android.Sdk.Tooling.targets(20,5): error XA0031: \nJava SDK 11.0 or above is required when using .NET 6 or higher. \n</code></pre>\n<p>I've installed Java 17 setting <code>Path</code> as well as pointing to the Java Development Kit Location in Visual Studio settings (tools-&gt;options-&gt;Xamarin-&gt;Android Settings). Because that didn't work I've set the JDK location to Microsoft's openjdk, but it still doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/dNfnN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dNfnN.png\" alt=\"enter image description here\" /></a></p>\n<p>What's wrong here?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1441414827,"creation_date":1441414827,"answer_id":32408508,"question_id":32398885,"body_markdown":"I also couldn&#39;t find a Jackson property or annotation for this. So I&#39;ll have to answer no to the first question. But I would recommend a simple setter instead of the special deserializer :\r\n\r\n    public class Entity {\r\n    \r\n        @JsonDeserialize(contentAs = HomeImpl.class)\r\n        private Collection&lt;Home&gt; homes = new ArrayList&lt;&gt;();\r\n    \r\n        public void setHomes(List&lt;Home&gt; homes) {\r\n            if (homes != null)\r\n                this.homes = homes;\r\n        }\r\n    }\r\n\r\nThis is generic as it only uses the `Home` interface instead of `HomeImpl`. You don&#39;t need `@JsonProperty` as Jackson will associate `setHomes` and `homes`.","title":"Jackson deserializer - change null collection to empty one","body":"<p>I also couldn't find a Jackson property or annotation for this. So I'll have to answer no to the first question. But I would recommend a simple setter instead of the special deserializer :</p>\n\n<pre><code>public class Entity {\n\n    @JsonDeserialize(contentAs = HomeImpl.class)\n    private Collection&lt;Home&gt; homes = new ArrayList&lt;&gt;();\n\n    public void setHomes(List&lt;Home&gt; homes) {\n        if (homes != null)\n            this.homes = homes;\n    }\n}\n</code></pre>\n\n<p>This is generic as it only uses the <code>Home</code> interface instead of <code>HomeImpl</code>. You don't need <code>@JsonProperty</code> as Jackson will associate <code>setHomes</code> and <code>homes</code>.</p>\n"},{"tags":[],"owner":{"account_id":4854469,"reputation":193,"user_id":3915866,"accept_rate":50,"display_name":"Malik Atalla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518565225,"creation_date":1518565225,"answer_id":48777460,"question_id":32398885,"body_markdown":"What worked for me was simply to remove the setter and make the attribute final. jackson 2 will then use the getter to modify the list.\r\n\r\n    public class Entity {\r\n\r\n      @JsonProperty(value=&quot;homes&quot;)\r\n      @JsonDeserialize(as=HashSet.class, contentAs=HomeImpl.class)\r\n      private final Collection&lt;Home&gt; homes = new ArrayList&lt;Home&gt;();\r\n\r\n      public List&lt;Home&gt; getHomes() {\r\n         return homes;\r\n      }\r\n    }\r\nThe responsible feature is USE_GETTERS_AS_SETTERS which is turned on by default: https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features","title":"Jackson deserializer - change null collection to empty one","body":"<p>What worked for me was simply to remove the setter and make the attribute final. jackson 2 will then use the getter to modify the list.</p>\n\n<pre><code>public class Entity {\n\n  @JsonProperty(value=\"homes\")\n  @JsonDeserialize(as=HashSet.class, contentAs=HomeImpl.class)\n  private final Collection&lt;Home&gt; homes = new ArrayList&lt;Home&gt;();\n\n  public List&lt;Home&gt; getHomes() {\n     return homes;\n  }\n}\n</code></pre>\n\n<p>The responsible feature is USE_GETTERS_AS_SETTERS which is turned on by default: <a href=\"https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features</a></p>\n"},{"tags":[],"owner":{"account_id":184894,"reputation":5187,"user_id":421245,"accept_rate":100,"display_name":"Mike Partridge"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1532089956,"creation_date":1532089956,"answer_id":51442640,"question_id":32398885,"body_markdown":"As of Jackson 2.9, it looks like null-handling for specific properties can be configured with [`@JsonSetter`][1], for example:\r\n\r\n    @JsonSetter(nulls = Nulls.AS_EMPTY)\r\n    public void setStrings(List&lt;String&gt; strings) {\r\n        this.strings = strings;\r\n    }\r\n\r\nSimilar configuration can also be applied globally for collections:\r\n\r\n    ObjectMapper mapper = objectMapperBuilder()\r\n        .changeDefaultNullHandling(n -&gt; n.withContentNulls(Nulls.AS_EMPTY))\r\n        .build();\r\n\r\nOr by type:\r\n\r\n    ObjectMapper mapper = objectMapperBuilder()\r\n        .withConfigOverride(List.class,\r\n            o -&gt; o.setNullHandling(JsonSetter.Value.forContentNulls(Nulls.AS_EMPTY)))\r\n        .build();\r\n\r\nI haven&#39;t been able to try the feature out, so this is based on the [feature discussion][2] and examination of [unit tests][3]. YMMV.\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.9/index.html?com/fasterxml/jackson/annotation/JsonSetter.html\r\n  [2]: https://github.com/FasterXML/jackson-databind/issues/1402\r\n  [3]: https://github.com/FasterXML/jackson-databind/blob/master/src/test/java/com/fasterxml/jackson/databind/deser/filter/NullConversionsForContentTest.java","title":"Jackson deserializer - change null collection to empty one","body":"<p>As of Jackson 2.9, it looks like null-handling for specific properties can be configured with <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.9/index.html?com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"noreferrer\"><code>@JsonSetter</code></a>, for example:</p>\n\n<pre><code>@JsonSetter(nulls = Nulls.AS_EMPTY)\npublic void setStrings(List&lt;String&gt; strings) {\n    this.strings = strings;\n}\n</code></pre>\n\n<p>Similar configuration can also be applied globally for collections:</p>\n\n<pre><code>ObjectMapper mapper = objectMapperBuilder()\n    .changeDefaultNullHandling(n -&gt; n.withContentNulls(Nulls.AS_EMPTY))\n    .build();\n</code></pre>\n\n<p>Or by type:</p>\n\n<pre><code>ObjectMapper mapper = objectMapperBuilder()\n    .withConfigOverride(List.class,\n        o -&gt; o.setNullHandling(JsonSetter.Value.forContentNulls(Nulls.AS_EMPTY)))\n    .build();\n</code></pre>\n\n<p>I haven't been able to try the feature out, so this is based on the <a href=\"https://github.com/FasterXML/jackson-databind/issues/1402\" rel=\"noreferrer\">feature discussion</a> and examination of <a href=\"https://github.com/FasterXML/jackson-databind/blob/master/src/test/java/com/fasterxml/jackson/databind/deser/filter/NullConversionsForContentTest.java\" rel=\"noreferrer\">unit tests</a>. YMMV.</p>\n"},{"tags":[],"owner":{"account_id":738442,"reputation":868,"user_id":871653,"accept_rate":90,"display_name":"sasynkamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671700016,"creation_date":1671700016,"answer_id":74886289,"question_id":32398885,"body_markdown":"I think the cleanest solution in my case which is working as expected (get empty list instead of null after deserialization) in both cases:\r\n\r\n 1. property is omitted in the json (request)\r\n 2. property is explicitly set to null in the json (request)\r\n\r\nis:\r\n\r\n    @Valid // javax.validation\r\n    @Schema(required = false) // swagger.v3 \r\n    @JsonProperty(required = false, defaultValue = &quot;&quot;) // jackson 2.13\r\n    private List&lt;@NotEmpty @Size(max = 100) String&gt; actions = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;String&gt; getActions() {\r\n        return actions;\r\n    }\r\n\r\n    @JsonSetter(nulls = Nulls.AS_EMPTY)\r\n    public void setActions(List&lt;String&gt; actions) {\r\n        this.actions = actions;\r\n    }\r\n\r\n\r\nNotes:\r\n - when property explicitly set to null: used default annotations\r\n - when property omitted: added initialization `= new ArrayList&lt;&gt;();`\r\n - when used e.g. java validation, then this solution is needed just for optional (`required = false`) lists","title":"Jackson deserializer - change null collection to empty one","body":"<p>I think the cleanest solution in my case which is working as expected (get empty list instead of null after deserialization) in both cases:</p>\n<ol>\n<li>property is omitted in the json (request)</li>\n<li>property is explicitly set to null in the json (request)</li>\n</ol>\n<p>is:</p>\n<pre><code>@Valid // javax.validation\n@Schema(required = false) // swagger.v3 \n@JsonProperty(required = false, defaultValue = &quot;&quot;) // jackson 2.13\nprivate List&lt;@NotEmpty @Size(max = 100) String&gt; actions = new ArrayList&lt;&gt;();\n\npublic List&lt;String&gt; getActions() {\n    return actions;\n}\n\n@JsonSetter(nulls = Nulls.AS_EMPTY)\npublic void setActions(List&lt;String&gt; actions) {\n    this.actions = actions;\n}\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>when property explicitly set to null: used default annotations</li>\n<li>when property omitted: added initialization <code>= new ArrayList&lt;&gt;();</code></li>\n<li>when used e.g. java validation, then this solution is needed just for optional (<code>required = false</code>) lists</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18798959,"reputation":191,"user_id":13709749,"display_name":"wrongwrong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701005712,"creation_date":1701005712,"answer_id":77551891,"question_id":32398885,"body_markdown":"At least in 2.16, this can be set by using `configOverride`.\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonSetter;\r\nimport com.fasterxml.jackson.annotation.Nulls;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.cfg.MutableConfigOverride;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\n\r\npublic class Temp {\r\n    static class Dto {\r\n        public List&lt;Object&gt; list;\r\n    }\r\n\r\n    @Test\r\n    void test() throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        MutableConfigOverride override = mapper.configOverride(List.class);\r\n        override.setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\r\n\r\n        Dto temp = mapper.readValue(&quot;{\\&quot;list\\&quot;:null}&quot;, Dto.class);\r\n        System.out.println(temp.list.size()); // -&gt; 0\r\n    }\r\n}\r\n```","title":"Jackson deserializer - change null collection to empty one","body":"<p>At least in 2.16, this can be set by using <code>configOverride</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonSetter;\nimport com.fasterxml.jackson.annotation.Nulls;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.cfg.MutableConfigOverride;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\n\npublic class Temp {\n    static class Dto {\n        public List&lt;Object&gt; list;\n    }\n\n    @Test\n    void test() throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        MutableConfigOverride override = mapper.configOverride(List.class);\n        override.setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n\n        Dto temp = mapper.readValue(&quot;{\\&quot;list\\&quot;:null}&quot;, Dto.class);\n        System.out.println(temp.list.size()); // -&gt; 0\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2363085,"reputation":6406,"user_id":2069368,"accept_rate":60,"display_name":"pepuch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49806,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":32408508,"answer_count":5,"score":38,"last_activity_date":1701005712,"creation_date":1441372096,"question_id":32398885,"body_markdown":"I have an entity that contains collection as attribute:\r\n\r\n    public class Entity {\r\n        \r\n        @JsonProperty(value=&quot;homes&quot;)\r\n        @JsonDeserialize(as=HashSet.class, contentAs=HomeImpl.class)\r\n        private Collection&lt;Home&gt; homes = new ArrayList&lt;Home&gt;();\r\n    \r\n    }\r\n\r\nIf request contains null as request property:\r\n\r\n    {\r\n      &quot;homes&quot;: null\r\n    }\r\n\r\nthen homes is set to null. What I want to do is to set homes to empty list. Do I need to write special deserializer for this or is there one for collections? What I tried is this deserializer but it looks ugly (it&#39;s not generic and uses implementation instead of interface).\r\n\r\n    public class NotNullCollectionDeserializer extends JsonDeserializer&lt;Collection&lt;HomeImpl&gt;&gt; {\r\n    \r\n      @Override\r\n      public Collection&lt;HomeImpl&gt; deserialize(final JsonParser jsonParser, final DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        return jsonParser.readValueAs(new TypeReference&lt;Collection&lt;HomeImpl&gt;&gt;(){});\r\n      }\r\n    \r\n      @Override\r\n      public Collection&lt;HomeImpl&gt; getNullValue() {\r\n        return Collections.emptyList();\r\n      }\r\n    }\r\n\r\nSo few questions:\r\n\r\n 1. Is there some jackson property that changes null to empty collection during deserialization?\r\n 2. If no for the first point - do I need to write deserializer for this? If yes, can I write generic one?","title":"Jackson deserializer - change null collection to empty one","body":"<p>I have an entity that contains collection as attribute:</p>\n\n<pre><code>public class Entity {\n\n    @JsonProperty(value=\"homes\")\n    @JsonDeserialize(as=HashSet.class, contentAs=HomeImpl.class)\n    private Collection&lt;Home&gt; homes = new ArrayList&lt;Home&gt;();\n\n}\n</code></pre>\n\n<p>If request contains null as request property:</p>\n\n<pre><code>{\n  \"homes\": null\n}\n</code></pre>\n\n<p>then homes is set to null. What I want to do is to set homes to empty list. Do I need to write special deserializer for this or is there one for collections? What I tried is this deserializer but it looks ugly (it's not generic and uses implementation instead of interface).</p>\n\n<pre><code>public class NotNullCollectionDeserializer extends JsonDeserializer&lt;Collection&lt;HomeImpl&gt;&gt; {\n\n  @Override\n  public Collection&lt;HomeImpl&gt; deserialize(final JsonParser jsonParser, final DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n    return jsonParser.readValueAs(new TypeReference&lt;Collection&lt;HomeImpl&gt;&gt;(){});\n  }\n\n  @Override\n  public Collection&lt;HomeImpl&gt; getNullValue() {\n    return Collections.emptyList();\n  }\n}\n</code></pre>\n\n<p>So few questions:</p>\n\n<ol>\n<li>Is there some jackson property that changes null to empty collection during deserialization?</li>\n<li>If no for the first point - do I need to write deserializer for this? If yes, can I write generic one?</li>\n</ol>\n"},{"tags":["java","kotlin","junit5","resource-leak"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695985992,"creation_date":1695985992,"answer_id":77201466,"question_id":77199575,"body_markdown":"### General resource leaks ###\r\nConsider static code analysis for the problem of detecting resource leaks generally.  For instance Sonar has some help: https://rules.sonarsource.com/java/tag/leak/RSPEC-2095/\r\n\r\n### Leaks specific to JUnit ###\r\nSure, static code analysers may not spot problems where the resource is undetectable, e.g. in the case of `@TempDir`, so you should suggest this directly the JUnit team... provide a PR even!","title":"detecting resource leak in production code via tests","body":"<h3>General resource leaks</h3>\n<p>Consider static code analysis for the problem of detecting resource leaks generally.  For instance Sonar has some help: <a href=\"https://rules.sonarsource.com/java/tag/leak/RSPEC-2095/\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/tag/leak/RSPEC-2095/</a></p>\n<h3>Leaks specific to JUnit</h3>\n<p>Sure, static code analysers may not spot problems where the resource is undetectable, e.g. in the case of <code>@TempDir</code>, so you should suggest this directly the JUnit team... provide a PR even!</p>\n"},{"tags":[],"owner":{"account_id":18669874,"reputation":17,"user_id":13608960,"display_name":"duckydude20"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701005657,"creation_date":1701005657,"answer_id":77551889,"question_id":77199575,"body_markdown":"recently found a great tool, rather than tests it&#39;s more of a linter. or static analyzer as they say.\r\n\r\nhttps://checkerframework.org/\r\n\r\ni have not tried it, but it seems good.","title":"detecting resource leak in production code via tests","body":"<p>recently found a great tool, rather than tests it's more of a linter. or static analyzer as they say.</p>\n<p><a href=\"https://checkerframework.org/\" rel=\"nofollow noreferrer\">https://checkerframework.org/</a></p>\n<p>i have not tried it, but it seems good.</p>\n"}],"owner":{"account_id":18669874,"reputation":17,"user_id":13608960,"display_name":"duckydude20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1701005657,"creation_date":1695964709,"question_id":77199575,"body_markdown":"i am trying to find if there&#39;s a way to detect resource leak in tests. with junit or any other library.\r\n\r\nlast time, i was using junit5 @TempDir and i had my outputstream not closed it was throwing unable to delete temporary folder. it didn&#39;t listed the correct reason, nor i could find online. i just guessed and i checked if i am close my FileOutputStream and it was it. then it started working. no exception by junit.\r\n\r\nbut this is not very useful. is there a good way to find in tests if any resource is not closed.\r\n","title":"detecting resource leak in production code via tests","body":"<p>i am trying to find if there's a way to detect resource leak in tests. with junit or any other library.</p>\n<p>last time, i was using junit5 @TempDir and i had my outputstream not closed it was throwing unable to delete temporary folder. it didn't listed the correct reason, nor i could find online. i just guessed and i checked if i am close my FileOutputStream and it was it. then it started working. no exception by junit.</p>\n<p>but this is not very useful. is there a good way to find in tests if any resource is not closed.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":24743445,"reputation":1,"user_id":18629913,"display_name":"Octavian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701005096,"creation_date":1701005096,"answer_id":77551866,"question_id":77551806,"body_markdown":"I wouldn&#39;t use a `do...while` loop for this. You could easily do this by making an infinite loop that stops if the answer is not &quot;Y&quot;. I am assuming that you want to loop on user input `Y` and stop on anything else. If it&#39;s the opposite, just flip the boolean in the if statement. Try something like this:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            while (true) {\r\n                System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\r\n                String[] tempArr = sc.nextLine().split(&quot; &quot;);\r\n                System.out.println(&quot;Hello &quot; + tempArr[0]);\r\n                System.out.println(&quot;Do you want to do it again Y/N&quot;);\r\n                String answer = sc.nextLine();\r\n                if (!answer.equalsIgnoreCase(&quot;Y&quot;)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"I don&#39;t know how to resolve this nextLine thing and make it work","body":"<p>I wouldn't use a <code>do...while</code> loop for this. You could easily do this by making an infinite loop that stops if the answer is not &quot;Y&quot;. I am assuming that you want to loop on user input <code>Y</code> and stop on anything else. If it's the opposite, just flip the boolean in the if statement. Try something like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\n            String[] tempArr = sc.nextLine().split(&quot; &quot;);\n            System.out.println(&quot;Hello &quot; + tempArr[0]);\n            System.out.println(&quot;Do you want to do it again Y/N&quot;);\n            String answer = sc.nextLine();\n            if (!answer.equalsIgnoreCase(&quot;Y&quot;)) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11037133,"reputation":23,"user_id":8106471,"display_name":"Vikki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701005545,"answer_count":1,"score":0,"last_activity_date":1701005096,"creation_date":1701004237,"question_id":77551806,"body_markdown":"```\r\n    do {\r\n        System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\r\n            \r\n        //just want to scan a sentence with spaces\r\n        String[] tempArr = sc.nextLine().split(&quot; &quot;);\r\n            \r\n        System.out.println(&quot;Hello &quot; + tempArr[0]);\r\n\r\n        System.out.println(&quot;Do you want to do it again Y/N&quot;);\r\n\r\n    }while(sc.next().equals(&quot;Y&quot;));\r\n```\r\n\r\nI don&#39;t know to how to prevent the nextline scanner to scan the blank after first iteration\r\n\r\nI want the loop to run until anything other than &quot;Y&quot; is being entered","title":"I don&#39;t know how to resolve this nextLine thing and make it work","body":"<pre><code>    do {\n        System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\n            \n        //just want to scan a sentence with spaces\n        String[] tempArr = sc.nextLine().split(&quot; &quot;);\n            \n        System.out.println(&quot;Hello &quot; + tempArr[0]);\n\n        System.out.println(&quot;Do you want to do it again Y/N&quot;);\n\n    }while(sc.next().equals(&quot;Y&quot;));\n</code></pre>\n<p>I don't know to how to prevent the nextline scanner to scan the blank after first iteration</p>\n<p>I want the loop to run until anything other than &quot;Y&quot; is being entered</p>\n"},{"tags":["java","maven","selenium","pom.xml","maven-surefire-plugin"],"comments":[{"owner":{"account_id":2472947,"reputation":3401,"user_id":2154300,"accept_rate":94,"display_name":"bish"},"score":1,"creation_date":1538463210,"post_id":52603204,"comment_id":92140715,"body_markdown":"Make sure the directory-structure fits the expression. With this expression the file must be at root level in sry/test/java (meaning no packages) as far as I know.","body":"Make sure the directory-structure fits the expression. With this expression the file must be at root level in sry/test/java (meaning no packages) as far as I know."},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1538463701,"post_id":52603204,"comment_id":92140905,"body_markdown":"@bish If I define it as like : &lt;include&gt;src/main/java/pg01/App.java&lt;/include&gt; than also its not working.","body":"@bish If I define it as like : &lt;include&gt;src/main/java/pg01/App.java&lt;/include&gt; than also its not working."},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1538463896,"post_id":52603204,"comment_id":92140991,"body_markdown":"@glytching I have tried that also, but its not working.","body":"@glytching I have tried that also, but its not working."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1538466195,"post_id":52603204,"comment_id":92141985,"body_markdown":"If you like to execute a single test this can be achieved by giving on command like `mvn -Dtest=FirstTest test` no need to change the pom file for such things.","body":"If you like to execute a single test this can be achieved by giving on command like <code>mvn -Dtest=FirstTest test</code> no need to change the pom file for such things."},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1538466308,"post_id":52603204,"comment_id":92142041,"body_markdown":"@khmarbaise  Thank you. But, I am Executing in Jenkins, from POM.XML","body":"@khmarbaise  Thank you. But, I am Executing in Jenkins, from POM.XML"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1538467004,"post_id":52603204,"comment_id":92142358,"body_markdown":"You can of course give the command line parameters in Jenkins as well. apart from that if you run Jenkins than why do you like to limit the unit tests.? Better is to run all tests..","body":"You can of course give the command line parameters in Jenkins as well. apart from that if you run Jenkins than why do you like to limit the unit tests.? Better is to run all tests.."},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1538467177,"post_id":52603204,"comment_id":92142451,"body_markdown":"@khmarbaise Yes I know there is provision of mvn command too. I do Unit test for some of the Long execution, based on chain flow.","body":"@khmarbaise Yes I know there is provision of mvn command too. I do Unit test for some of the Long execution, based on chain flow."}],"answers":[{"tags":[],"owner":{"account_id":6356905,"reputation":11,"user_id":4933845,"display_name":"Rohit Goel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538463836,"creation_date":1538463836,"answer_id":52603436,"question_id":52603204,"body_markdown":"You need to provide full qualified class name to include it by surefire plugin.\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\r\n\r\nAlternatively you can use regex like &quot;&lt;include&gt;**/*App.java&lt;/include&gt;&quot;","title":"maven-surefire-plugin inclusion of Single test is not working","body":"<p>You need to provide full qualified class name to include it by surefire plugin.\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html</a></p>\n\n<p>Alternatively you can use regex like \"**/*App.java\"</p>\n"},{"tags":[],"owner":{"display_name":"user9640289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538464511,"creation_date":1538464511,"answer_id":52603573,"question_id":52603204,"body_markdown":"Add below plugins to your POM file.\r\n\r\n\r\n    &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;","title":"maven-surefire-plugin inclusion of Single test is not working","body":"<p>Add below plugins to your POM file.</p>\n\n<pre><code>&lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538465116,"creation_date":1538464599,"answer_id":52603603,"question_id":52603204,"body_markdown":"I have found that, **Maven test only runs it from src/test/java package**\r\n\r\n**It does not consider to run it from src/main/java**\r\n\r\nIf it need to consider src/main/java, We have to add `&lt;testSourceDirectory&gt;` element\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;testSourceDirectory&gt;src/main/java&lt;/testSourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/app.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n","title":"maven-surefire-plugin inclusion of Single test is not working","body":"<p>I have found that, <strong>Maven test only runs it from src/test/java package</strong></p>\n\n<p><strong>It does not consider to run it from src/main/java</strong></p>\n\n<p>If it need to consider src/main/java, We have to add <code>&lt;testSourceDirectory&gt;</code> element</p>\n\n<pre><code>&lt;build&gt;\n    &lt;testSourceDirectory&gt;src/main/java&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/app.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701004905,"creation_date":1538462694,"question_id":52603204,"body_markdown":"To execute single Test from Maven pom.xml, we can executed it from maven surefire plugin.  \r\n\r\nhttp://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;App.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nBut, Its not working as of now. Something is missing to declare ? I remember, before few months once I have execute it and it worked. \r\n\r\nConsole :\r\n\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] --------------&lt; mavenSampleProject01:mavenSampleProjects &gt;--------------\r\n    [INFO] Building mavenSampleProjects 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenSampleProjects ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\Desktop-pc\\eclipse-workspace\\mavenSampleProjects\\src\\main\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenSampleProjects ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenSampleProjects ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\Desktop-pc\\eclipse-workspace\\mavenSampleProjects\\src\\test\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenSampleProjects ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.22.0:test (default-test) @ mavenSampleProjects ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.371 s\r\n    [INFO] Finished at: 2018-10-02T11:58:27+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n","title":"maven-surefire-plugin inclusion of Single test is not working","body":"<p>To execute single Test from Maven pom.xml, we can executed it from maven surefire plugin.  </p>\n\n<p><a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html</a></p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;App.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>But, Its not working as of now. Something is missing to declare ? I remember, before few months once I have execute it and it worked. </p>\n\n<p>Console :</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------&lt; mavenSampleProject01:mavenSampleProjects &gt;--------------\n[INFO] Building mavenSampleProjects 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenSampleProjects ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\Desktop-pc\\eclipse-workspace\\mavenSampleProjects\\src\\main\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenSampleProjects ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenSampleProjects ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\Desktop-pc\\eclipse-workspace\\mavenSampleProjects\\src\\test\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenSampleProjects ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-surefire-plugin:2.22.0:test (default-test) @ mavenSampleProjects ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.371 s\n[INFO] Finished at: 2018-10-02T11:58:27+05:30\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","spring","spring-boot","enums"],"answers":[{"tags":[],"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545049777,"creation_date":1545049777,"answer_id":53815293,"question_id":53814770,"body_markdown":"Well what you can do is the following:\r\n\r\n1. Create a new class: **MyEnumProperties** \r\n\r\n        @ConfigurationProperties(prefix = &quot;enumProperties&quot;)\r\n        @Getter\r\n        public class MyEnumProperties {\r\n        \r\n            private Map&lt;String, Long&gt; enumMapping;\r\n    \r\n        }\r\n\r\n2. Enable ConfigurationProperties to your SpringBootApplication/ any Spring Config via \r\n\r\n        @EnableConfigurationProperties(value = MyEnumProperties.class)\r\n\r\n3. Now add your numbers in **application.properties** file like this:\r\n\r\n        enumProperties.enumMapping.NAME=123\r\n        enumProperties.enumMapping.FAME=456\r\n\r\n4. In your application code autowire your properties like this:\r\n\r\n        @Autowired\r\n        private MyEnumProperties properties;\r\n\r\n5. Now here is **one way** to fetch the ids:\r\n\r\n        properties.getEnumMapping().get(MyEnum.NAME.name()); //should return 123\r\n\r\nYou can fetch this way for each Enum value the values defined in your `application.properties`\r\n","title":"Configuring an enum in Spring using application.properties","body":"<p>Well what you can do is the following:</p>\n\n<ol>\n<li><p>Create a new class: <strong>MyEnumProperties</strong> </p>\n\n<pre><code>@ConfigurationProperties(prefix = \"enumProperties\")\n@Getter\npublic class MyEnumProperties {\n\n    private Map&lt;String, Long&gt; enumMapping;\n\n}\n</code></pre></li>\n<li><p>Enable ConfigurationProperties to your SpringBootApplication/ any Spring Config via </p>\n\n<pre><code>@EnableConfigurationProperties(value = MyEnumProperties.class)\n</code></pre></li>\n<li><p>Now add your numbers in <strong>application.properties</strong> file like this:</p>\n\n<pre><code>enumProperties.enumMapping.NAME=123\nenumProperties.enumMapping.FAME=456\n</code></pre></li>\n<li><p>In your application code autowire your properties like this:</p>\n\n<pre><code>@Autowired\nprivate MyEnumProperties properties;\n</code></pre></li>\n<li><p>Now here is <strong>one way</strong> to fetch the ids:</p>\n\n<pre><code>properties.getEnumMapping().get(MyEnum.NAME.name()); //should return 123\n</code></pre></li>\n</ol>\n\n<p>You can fetch this way for each Enum value the values defined in your <code>application.properties</code></p>\n"},{"tags":[],"owner":{"account_id":3072980,"reputation":56,"user_id":2603129,"display_name":"danielh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1545051108,"creation_date":1545050306,"answer_id":53815432,"question_id":53814770,"body_markdown":"You can&#39;t/shouldn&#39;t change values of a enum in Java. Try using a class instead:\r\n\r\n    public class MyCustomProperty { \r\n        // can&#39;t change this in application.properties\r\n        private final String lowerCase;\r\n        // can change this in application.properties\r\n        private String atitude;\r\n        private long someNumber;\r\n\r\n        public MyCustomProperty (String lowerCase, String atitude, long someNumber) {\r\n            this.lowerCase = lowerCase;\r\n            this.atitude = atitude;\r\n            this.someNumber = someNumber;\r\n        }\r\n        // getter and Setters\r\n    }\r\n\r\nThan create a custom [ConfigurationProperties][1]:\r\n\r\n    @ConfigurationProperties(prefix=&quot;my.config&quot;)\r\n    public class MyConfigConfigurationProperties {\r\n        MyCustomProperty name = new MyCustomProperty(&quot;name&quot;, &quot;good&quot;, 100);\r\n        MyCustomProperty fame = new MyCustomProperty(&quot;fame&quot;, &quot;good&quot;, 100);\r\n\r\n        // getter and Setters\r\n\r\n        // You can also embed the class MyCustomProperty here as a static class. \r\n        // For details/example look at the linked SpringBoot Documentation\r\n    }\r\n\r\nNow you can change the values of `my.config.name.someNumber` and `my.config.fame.someNumber` in the application.properties file. If you want to disallow the change of lowercase/atitude make them final.\r\n\r\nBefore you can use it you have to annotate a `@Configuration` class with **`@EnableConfigurationProperties(MyConfigConfigurationProperties.class)`**. Also add the `org.springframework.boot:spring-boot-configuration-processor` as an optional dependency for a better IDE Support.\r\n\r\nIf you want to access the values:\r\n\r\n    @Autowired\r\n    MyConfigConfigurationProperties config;\r\n    ...\r\n    config.getName().getSumeNumber();\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties","title":"Configuring an enum in Spring using application.properties","body":"<p>You can't/shouldn't change values of a enum in Java. Try using a class instead:</p>\n\n<pre><code>public class MyCustomProperty { \n    // can't change this in application.properties\n    private final String lowerCase;\n    // can change this in application.properties\n    private String atitude;\n    private long someNumber;\n\n    public MyCustomProperty (String lowerCase, String atitude, long someNumber) {\n        this.lowerCase = lowerCase;\n        this.atitude = atitude;\n        this.someNumber = someNumber;\n    }\n    // getter and Setters\n}\n</code></pre>\n\n<p>Than create a custom <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\" rel=\"nofollow noreferrer\">ConfigurationProperties</a>:</p>\n\n<pre><code>@ConfigurationProperties(prefix=\"my.config\")\npublic class MyConfigConfigurationProperties {\n    MyCustomProperty name = new MyCustomProperty(\"name\", \"good\", 100);\n    MyCustomProperty fame = new MyCustomProperty(\"fame\", \"good\", 100);\n\n    // getter and Setters\n\n    // You can also embed the class MyCustomProperty here as a static class. \n    // For details/example look at the linked SpringBoot Documentation\n}\n</code></pre>\n\n<p>Now you can change the values of <code>my.config.name.someNumber</code> and <code>my.config.fame.someNumber</code> in the application.properties file. If you want to disallow the change of lowercase/atitude make them final.</p>\n\n<p>Before you can use it you have to annotate a <code>@Configuration</code> class with <strong><code>@EnableConfigurationProperties(MyConfigConfigurationProperties.class)</code></strong>. Also add the <code>org.springframework.boot:spring-boot-configuration-processor</code> as an optional dependency for a better IDE Support.</p>\n\n<p>If you want to access the values:</p>\n\n<pre><code>@Autowired\nMyConfigConfigurationProperties config;\n...\nconfig.getName().getSumeNumber();\n</code></pre>\n"}],"owner":{"account_id":8384414,"reputation":1048,"user_id":6295272,"display_name":"D.Tomov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23843,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":53815432,"answer_count":2,"score":9,"last_activity_date":1701004869,"creation_date":1545047834,"question_id":53814770,"body_markdown":"I have the following enum:\r\n\r\n    public enum MyEnum {\r\n        NAME(&quot;Name&quot;, &quot;Good&quot;, 100),\r\n        FAME(&quot;Fame&quot;, &quot;Bad&quot;, 200);\r\n    \r\n        private String lowerCase;\r\n        private String atitude;\r\n        private long someNumber;\r\n    \r\n        MyEnum(String lowerCase, String atitude, long someNumber) {\r\n            this.lowerCase = lowerCase;\r\n            this.atitude = atitude;\r\n            this.someNumber = someNumber;\r\n        }\r\n    }\r\n\r\nI want to set up the `someNumber` variable differently for both instances of the enum using `application.properties` file.\r\n\r\nIs this possible and if not, should I split it into two classes using an abstract class/interface for the abstraction?","title":"Configuring an enum in Spring using application.properties","body":"<p>I have the following enum:</p>\n<pre><code>public enum MyEnum {\n    NAME(&quot;Name&quot;, &quot;Good&quot;, 100),\n    FAME(&quot;Fame&quot;, &quot;Bad&quot;, 200);\n\n    private String lowerCase;\n    private String atitude;\n    private long someNumber;\n\n    MyEnum(String lowerCase, String atitude, long someNumber) {\n        this.lowerCase = lowerCase;\n        this.atitude = atitude;\n        this.someNumber = someNumber;\n    }\n}\n</code></pre>\n<p>I want to set up the <code>someNumber</code> variable differently for both instances of the enum using <code>application.properties</code> file.</p>\n<p>Is this possible and if not, should I split it into two classes using an abstract class/interface for the abstraction?</p>\n"},{"tags":["java","spring-boot","guava"],"comments":[{"owner":{"account_id":9141547,"reputation":573,"user_id":6799230,"display_name":"Pierre Janineh"},"score":0,"creation_date":1701001636,"post_id":77548188,"comment_id":136718596,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":26244172,"reputation":19,"user_id":19917972,"display_name":"MrCrobben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700923365,"creation_date":1700923262,"answer_id":77548281,"question_id":77548188,"body_markdown":"You can add `refreshAfterWrite` to the cache builder so it automatically refreshes the cache after certain time period.\r\n\r\n     LoadingCache&lt;String, List&lt;String&gt;&gt; cache = CacheBuilder.newBuilder()\r\n                .refreshAfterWrite(5, TimeUnit.MINUTES) // Set a refresh interval, e.g., every 5 minutes\r\n                .build(new CacheLoader&lt;String, List&lt;String&gt;&gt;() {\r\n                    @Override\r\n                    public List&lt;String&gt; load(String key) {\r\n                        // Load the list of values for the given key from the database\r\n                        List&lt;String&gt; valuesFromDB = loadValuesFromDB(key);\r\n\r\n                        // Return the loaded values\r\n                        return valuesFromDB;\r\n                    }\r\n     });\r\n\r\nBut the best option would be if you have access to the part of code that does value update in DB to update the cache after it.","title":"Guava cache, one to many key-values","body":"<p>You can add <code>refreshAfterWrite</code> to the cache builder so it automatically refreshes the cache after certain time period.</p>\n<pre><code> LoadingCache&lt;String, List&lt;String&gt;&gt; cache = CacheBuilder.newBuilder()\n            .refreshAfterWrite(5, TimeUnit.MINUTES) // Set a refresh interval, e.g., every 5 minutes\n            .build(new CacheLoader&lt;String, List&lt;String&gt;&gt;() {\n                @Override\n                public List&lt;String&gt; load(String key) {\n                    // Load the list of values for the given key from the database\n                    List&lt;String&gt; valuesFromDB = loadValuesFromDB(key);\n\n                    // Return the loaded values\n                    return valuesFromDB;\n                }\n });\n</code></pre>\n<p>But the best option would be if you have access to the part of code that does value update in DB to update the cache after it.</p>\n"}],"owner":{"account_id":29990525,"reputation":1,"user_id":22983328,"display_name":"Ben Weis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701004259,"creation_date":1700921658,"question_id":77548188,"body_markdown":"This is my first time posting a question here,and I&#39;m new to Guava Cache, so please bare with me :).\r\n\r\nRegarding the cache keys - In the DB itself the relation between my key to the values I&#39;m extracting is one-to-many.\r\n\r\nLet&#39;s say I have the following scenario when my cache is configured as &lt;String, List&lt;OBJ&gt;&gt; - \r\nLooking for &quot;key1&quot;.\r\n\r\nIn a given cache state I have:\r\n\r\n    &quot;key1&quot; -&gt; (val1, val2, val3,...).\r\n\r\nAnd in the DB I have in addition:\r\n\r\n     &quot;key1&quot; - val4, &quot;key1&quot; - val5.\r\n\r\nNow, as I understand it, only if the LoadingCache will notice there&#39;s a missing key it&#39;ll query the db. So in this scenario It won&#39;t load the missing values I need, as it sees the keys in the cache - resulting in missing data loading.\r\n\r\n\r\n\r\n","title":"Guava cache, one to many key-values","body":"<p>This is my first time posting a question here,and I'm new to Guava Cache, so please bare with me :).</p>\n<p>Regarding the cache keys - In the DB itself the relation between my key to the values I'm extracting is one-to-many.</p>\n<p>Let's say I have the following scenario when my cache is configured as &lt;String, List&gt; -\nLooking for &quot;key1&quot;.</p>\n<p>In a given cache state I have:</p>\n<pre><code>&quot;key1&quot; -&gt; (val1, val2, val3,...).\n</code></pre>\n<p>And in the DB I have in addition:</p>\n<pre><code> &quot;key1&quot; - val4, &quot;key1&quot; - val5.\n</code></pre>\n<p>Now, as I understand it, only if the LoadingCache will notice there's a missing key it'll query the db. So in this scenario It won't load the missing values I need, as it sees the keys in the cache - resulting in missing data loading.</p>\n"},{"tags":["java","android","imageview","ontouchlistener"],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701003598,"creation_date":1700948722,"question_id":77549680,"body_markdown":"I&#39;m trying to implement a feature in my Android app where users can pan and zoom images within an ImageView that has its scaleType set to centerCrop and loading image by `Glide` into `ImageView`. The goal is to allow users to view the entire image, even though it may be larger than the ImageView itself. When the user lifts their finger, the image should smoothly snap back to its original position.\r\n\r\nI&#39;ve provided the XML code for the ImageView and the Java code for handling touch events, but the image is not moving or zooming. Can anyone help me fix the code so that the user can move image inside imageview to view complete center-crop image?\r\n\r\n**XML Code:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;androidx.core.widget.NestedScrollView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;&gt;\r\n    \r\n    \r\n    \r\n    \r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/newPost_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/newPost_preview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:minHeight=&quot;300dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/newPost_statusText&quot;\r\n    \r\n            /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n**Java Code:**\r\n\r\n    preview.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent event) {\r\n                    // Switch based on the touch event action\r\n                    switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\r\n                        case MotionEvent.ACTION_DOWN: // When finger is pressed down\r\n                            // Save the current image transformation matrix\r\n                            matrix.set(preview.getImageMatrix());\r\n                            // Record the touch position for later calculation\r\n                            lastTouchX = event.getX();\r\n                            lastTouchY = event.getY();\r\n    \r\n                            // Set the active pointer ID for tracking subsequent moves\r\n                            activePointerId = event.getPointerId(0);\r\n                            break;\r\n    \r\n                        case MotionEvent.ACTION_MOVE: // When finger is moving\r\n                            // Find the index of the active pointer\r\n                            int pointerIndex = event.findPointerIndex(activePointerId);\r\n    \r\n                            // Check if the active pointer is still valid\r\n                            if (pointerIndex != -1) {\r\n                                // Calculate the difference between the current touch position and the previous touch position\r\n                                float dx = event.getX(pointerIndex) - lastTouchX;\r\n                                float dy = event.getY(pointerIndex) - lastTouchY;\r\n    \r\n                                // Apply the translation to the image transformation matrix\r\n                                matrix.postTranslate(dx, dy);\r\n    \r\n                                // Update the image view with the transformed matrix\r\n                                preview.setImageMatrix(matrix);\r\n    \r\n                                // Update the last touch position for the next move\r\n                                lastTouchX = event.getX(pointerIndex);\r\n                                lastTouchY = event.getY(pointerIndex);\r\n                            }\r\n                            break;\r\n    \r\n                        case MotionEvent.ACTION_UP: // When finger is lifted up\r\n                            // Reset the active pointer ID\r\n                            activePointerId = INVALID_POINTER_ID;\r\n    \r\n                            // Apply any remaining translation to the image view\r\n                            preview.setImageMatrix(matrix);\r\n    \r\n                            break;\r\n    \r\n                        case MotionEvent.ACTION_POINTER_UP: // When a second finger is lifted up\r\n                            // Find the index of the pointer that was lifted up\r\n                            int pointerIndexUP = (event.getAction() &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;\r\n                            int pointerId = event.getPointerId(pointerIndexUP);\r\n    \r\n                            // Check if the lifted pointer is the active pointer\r\n                            if (pointerId == activePointerId) {\r\n                                // Update the active pointer ID to the remaining finger\r\n                                int newPointerIndex = pointerIndexUP == 0 ? 1 : 0;\r\n                                lastTouchX = event.getX(newPointerIndex);\r\n                                lastTouchY = event.getY(newPointerIndex);\r\n                                activePointerId = event.getPointerId(newPointerIndex);\r\n                            }\r\n                            break;\r\n                    }\r\n    \r\n                    return true;\r\n                }\r\n            });","title":"Panning and Zooming Images with CenterCrop in Android","body":"<p>I'm trying to implement a feature in my Android app where users can pan and zoom images within an ImageView that has its scaleType set to centerCrop and loading image by <code>Glide</code> into <code>ImageView</code>. The goal is to allow users to view the entire image, even though it may be larger than the ImageView itself. When the user lifts their finger, the image should smoothly snap back to its original position.</p>\n<p>I've provided the XML code for the ImageView and the Java code for handling touch events, but the image is not moving or zooming. Can anyone help me fix the code so that the user can move image inside imageview to view complete center-crop image?</p>\n<p><strong>XML Code:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:fillViewport=&quot;true&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_width=&quot;match_parent&quot;&gt;\n\n\n\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/newPost_parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:clickable=&quot;true&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:focusableInTouchMode=&quot;true&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/newPost_preview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:minHeight=&quot;300dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/newPost_statusText&quot;\n\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p><strong>Java Code:</strong></p>\n<pre><code>preview.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent event) {\n                // Switch based on the touch event action\n                switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\n                    case MotionEvent.ACTION_DOWN: // When finger is pressed down\n                        // Save the current image transformation matrix\n                        matrix.set(preview.getImageMatrix());\n                        // Record the touch position for later calculation\n                        lastTouchX = event.getX();\n                        lastTouchY = event.getY();\n\n                        // Set the active pointer ID for tracking subsequent moves\n                        activePointerId = event.getPointerId(0);\n                        break;\n\n                    case MotionEvent.ACTION_MOVE: // When finger is moving\n                        // Find the index of the active pointer\n                        int pointerIndex = event.findPointerIndex(activePointerId);\n\n                        // Check if the active pointer is still valid\n                        if (pointerIndex != -1) {\n                            // Calculate the difference between the current touch position and the previous touch position\n                            float dx = event.getX(pointerIndex) - lastTouchX;\n                            float dy = event.getY(pointerIndex) - lastTouchY;\n\n                            // Apply the translation to the image transformation matrix\n                            matrix.postTranslate(dx, dy);\n\n                            // Update the image view with the transformed matrix\n                            preview.setImageMatrix(matrix);\n\n                            // Update the last touch position for the next move\n                            lastTouchX = event.getX(pointerIndex);\n                            lastTouchY = event.getY(pointerIndex);\n                        }\n                        break;\n\n                    case MotionEvent.ACTION_UP: // When finger is lifted up\n                        // Reset the active pointer ID\n                        activePointerId = INVALID_POINTER_ID;\n\n                        // Apply any remaining translation to the image view\n                        preview.setImageMatrix(matrix);\n\n                        break;\n\n                    case MotionEvent.ACTION_POINTER_UP: // When a second finger is lifted up\n                        // Find the index of the pointer that was lifted up\n                        int pointerIndexUP = (event.getAction() &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;\n                        int pointerId = event.getPointerId(pointerIndexUP);\n\n                        // Check if the lifted pointer is the active pointer\n                        if (pointerId == activePointerId) {\n                            // Update the active pointer ID to the remaining finger\n                            int newPointerIndex = pointerIndexUP == 0 ? 1 : 0;\n                            lastTouchX = event.getX(newPointerIndex);\n                            lastTouchY = event.getY(newPointerIndex);\n                            activePointerId = event.getPointerId(newPointerIndex);\n                        }\n                        break;\n                }\n\n                return true;\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":0,"creation_date":1423047071,"post_id":28319384,"comment_id":44987599,"body_markdown":"The configuration file itself is correct. What is your Spring (MVC) version?","body":"The configuration file itself is correct. What is your Spring (MVC) version?"},{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1423047360,"post_id":28319384,"comment_id":44987765,"body_markdown":"Which spring jars do you have in your application?","body":"Which spring jars do you have in your application?"},{"owner":{"account_id":3168045,"reputation":163,"user_id":2677600,"display_name":"user2677600"},"score":0,"creation_date":1423047566,"post_id":28319384,"comment_id":44987891,"body_markdown":"its spring-webmvc-4.1.1.RELEASE-sources and all others jars are of same version too.","body":"its spring-webmvc-4.1.1.RELEASE-sources and all others jars are of same version too."},{"owner":{"account_id":3168045,"reputation":163,"user_id":2677600,"display_name":"user2677600"},"score":0,"creation_date":1423057415,"post_id":28319384,"comment_id":44993634,"body_markdown":"Now Running\nThe problem was with the ips ie blocking the request for \nhttp://www.springframework.org/schema/mvc/spring-mvc.xsd file. \nThere are two solutions for it either download it on local and include it on classpath or ask network engineer for not blocking the request.","body":"Now Running The problem was with the ips ie blocking the request for  <a href=\"http://www.springframework.org/schema/mvc/spring-mvc.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/mvc/spring-mvc.xsd</a> file.  There are two solutions for it either download it on local and include it on classpath or ask network engineer for not blocking the request."},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1423126161,"post_id":28319384,"comment_id":45024443,"body_markdown":"This file is included in spring jars already. You most likely have a dependency issue in your project.","body":"This file is included in spring jars already. You most likely have a dependency issue in your project."}],"answers":[{"tags":[],"owner":{"account_id":3567366,"reputation":2573,"user_id":2978544,"accept_rate":78,"display_name":"Sumeet Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1423054199,"creation_date":1423048015,"answer_id":28319798,"question_id":28319384,"body_markdown":"change to `spring-mvc.xsd` to `spring-mvc-3.0.xsd` .Similarly change at all the remaining places too.\r\n\r\nRefer [here][1]\r\n\r\n**Edit**\r\n\r\n  \r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\r\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;context:component-scan base-package=&quot;report.frontcontroller&quot; /&gt;\r\n    \t&lt;mvc:annotation-driven/&gt;\r\n    \t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt; \r\n       &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n          &lt;property name=&quot;prefix&quot; value=&quot;/views/&quot; /&gt;\r\n          &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n       &lt;/bean&gt;\r\n    &lt;/beans&gt; \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7436224/spring-v3-no-declaration-can-be-found-for-element-mvcresources\r\n","title":"Spring MVC is not recognizing mvc:resource in config file","body":"<p>change to <code>spring-mvc.xsd</code> to <code>spring-mvc-3.0.xsd</code> .Similarly change at all the remaining places too.</p>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/7436224/spring-v3-no-declaration-can-be-found-for-element-mvcresources\">here</a></p>\n\n<p><strong>Edit</strong></p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"report.frontcontroller\" /&gt;\n    &lt;mvc:annotation-driven/&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt; \n   &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n      &lt;property name=\"prefix\" value=\"/views/\" /&gt;\n      &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n   &lt;/bean&gt;\n&lt;/beans&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423049097,"creation_date":1423049097,"answer_id":28320175,"question_id":28319384,"body_markdown":"can you try below configuration that is copied from [GIT - spring-mvc-showcase](https://github.com/spring-projects/spring-mvc-showcase/tree/master/src/main/webapp/WEB-INF/spring/appServlet)\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\t\txsi:schemaLocation=&quot;\r\n\t\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n\t\t\thttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd\r\n\t\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n\t\t&lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n\r\n\t\t&lt;beans:bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t\t&lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t\t&lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t\t&lt;/beans:bean&gt;\r\n\r\n\t\t&lt;task:annotation-driven /&gt;\r\n\t\t\r\n\t&lt;/beans:beans&gt;\r\n","title":"Spring MVC is not recognizing mvc:resource in config file","body":"<p>can you try below configuration that is copied from <a href=\"https://github.com/spring-projects/spring-mvc-showcase/tree/master/src/main/webapp/WEB-INF/spring/appServlet\" rel=\"nofollow\">GIT - spring-mvc-showcase</a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:task=\"http://www.springframework.org/schema/task\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n    &lt;beans:bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;task:annotation-driven /&gt;\n\n&lt;/beans:beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29996382,"reputation":1,"user_id":22987658,"display_name":"Mr.K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701002747,"creation_date":1701002747,"answer_id":77551717,"question_id":28319384,"body_markdown":"don&#39;t use the version number just do the following steps.\r\nIn eclipse we didn&#39;t enable the download package option.\r\neclipse download packages option is in disable, to enable that follow these\r\nwindows menu - &gt; preferences -&gt; maven\r\nthere check(enable) the &#39;download artifact javadoc&#39; option\r\n\r\n","title":"Spring MVC is not recognizing mvc:resource in config file","body":"<p>don't use the version number just do the following steps.\nIn eclipse we didn't enable the download package option.\neclipse download packages option is in disable, to enable that follow these\nwindows menu - &gt; preferences -&gt; maven\nthere check(enable) the 'download artifact javadoc' option</p>\n"}],"owner":{"account_id":3168045,"reputation":163,"user_id":2677600,"display_name":"user2677600"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701002747,"creation_date":1423046753,"question_id":28319384,"body_markdown":"Update :Now Working properly. Kindly follow the comments. &lt;br/&gt;\r\nThis is my Spring configuration file:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context\r\n    \t\thttp://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\thttp://www.springframework.org/schema/mvc\r\n    \t\thttp://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n        &quot;&gt;\r\n        &lt;context:component-scan  base-package=&quot;report.frontcontroller&quot;/&gt;\r\n        &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n        &lt;mvc:annotation-driven /&gt;\r\n        &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;prefix&quot;&gt; &lt;value&gt;/WEB-INF/&lt;/value&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;suffix&quot;&gt; &lt;value&gt;.jsp&lt;/value&gt;&lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\nAll jars are included in this project, and the configuration file is shown above. I get errors for this part:\r\n\r\n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n\r\n &gt; **Errors:**  * Matching wildcard is strict but no declaration is found for `mvc:resource` and `mvc:annotation`\r\n  *** Multiple annotations found at this line:***\r\n\t- cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:resources&#39;.\r\n\t- schema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/mvc/spring-\r\n\t mvc-3.0.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document \r\n\t is not &lt;xsd:schema&gt;.\r\n*** Multiple annotations found at this line:***\r\n\t- cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:resources&#39;.\r\n\t- schema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/mvc/spring-\r\n\t mvc.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document \r\n\t is not &lt;xsd:schema&gt;.\r\n","title":"Spring MVC is not recognizing mvc:resource in config file","body":"<p>Update :Now Working properly. Kindly follow the comments. <br/>\nThis is my Spring configuration file:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n    \"&gt;\n    &lt;context:component-scan  base-package=\"report.frontcontroller\"/&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n    &lt;mvc:annotation-driven /&gt;\n    &lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\"&gt; &lt;value&gt;/WEB-INF/&lt;/value&gt;&lt;/property&gt;\n        &lt;property name=\"suffix\"&gt; &lt;value&gt;.jsp&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>All jars are included in this project, and the configuration file is shown above. I get errors for this part:</p>\n\n<pre><code>&lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n&lt;mvc:annotation-driven /&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>Errors:</strong>  * Matching wildcard is strict but no declaration is found for <code>mvc:resource</code> and <code>mvc:annotation</code>\n    <strong>* Multiple annotations found at this line:<em></strong>\n      - cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'mvc:resources'.\n      - schema_reference.4: Failed to read schema document '<a href=\"http://www.springframework.org/schema/mvc/spring-\" rel=\"nofollow\">http://www.springframework.org/schema/mvc/spring-</a>\n       mvc-3.0.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document \n       is not .\n  <strong></em> Multiple annotations found at this line:*</strong>\n      - cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'mvc:resources'.\n      - schema_reference.4: Failed to read schema document '<a href=\"http://www.springframework.org/schema/mvc/spring-\" rel=\"nofollow\">http://www.springframework.org/schema/mvc/spring-</a>\n       mvc.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document \n       is not .</p>\n</blockquote>\n"},{"tags":["java","dependency-inversion"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1700958131,"post_id":77550025,"comment_id":136715890,"body_markdown":"When you need a sword to sharpen it then change the parameter type to `Sword`.  Or use a new interface to describe something that can be sharpened. What exactly seems to be the problem?","body":"When you need a sword to sharpen it then change the parameter type to <code>Sword</code>.  Or use a new interface to describe something that can be sharpened. What exactly seems to be the problem?"},{"owner":{"account_id":29993367,"reputation":1,"user_id":22985414,"display_name":"colin"},"score":0,"creation_date":1700965140,"post_id":77550025,"comment_id":136716269,"body_markdown":"The derived class inherited from the interface (parent class) can be expanded than the parent class. According to the based on  dependency inversion if we are to access the child classes through the interface, I wonder how we approach functions that are only available to the child class, not in the interface?","body":"The derived class inherited from the interface (parent class) can be expanded than the parent class. According to the based on  dependency inversion if we are to access the child classes through the interface, I wonder how we approach functions that are only available to the child class, not in the interface?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1700992100,"post_id":77550025,"comment_id":136717773,"body_markdown":"You can&#39;t, unless you cast the object or use reflection. If you have other requirement to the value of the parameter, you can use a different type of interface which has the `sharpen()` method. Please [edit] your question to include a detailed description of what you want to do, what you have tried and what the problems are.","body":"You can&#39;t, unless you cast the object or use reflection. If you have other requirement to the value of the parameter, you can use a different type of interface which has the <code>sharpen()</code> method. Please <a href=\"https://stackoverflow.com/posts/77550025/edit\">edit</a> your question to include a detailed description of what you want to do, what you have tried and what the problems are."},{"owner":{"account_id":29993367,"reputation":1,"user_id":22985414,"display_name":"colin"},"score":0,"creation_date":1701002099,"post_id":77550025,"comment_id":136718650,"body_markdown":"I have revised my question in accordance with your advice, aligning it with my intentions and what I wish to achieve, most respectfully.","body":"I have revised my question in accordance with your advice, aligning it with my intentions and what I wish to achieve, most respectfully."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1701002783,"post_id":77550025,"comment_id":136718702,"body_markdown":"You can cast your object, see https://stackoverflow.com/questions/2701182/call-a-method-of-subclass-in-java or https://stackoverflow.com/questions/35140291/proper-way-of-calling-a-method-in-a-subclass-if-its-referenced-as-a-super-class","body":"You can cast your object, see <a href=\"https://stackoverflow.com/questions/2701182/call-a-method-of-subclass-in-java\" title=\"call a method of subclass in java\">stackoverflow.com/questions/2701182/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/35140291/proper-way-of-calling-a-method-in-a-subclass-if-its-referenced-as-a-super-class\" title=\"proper way of calling a method in a subclass if its referenced as a super class\">stackoverflow.com/questions/35140291/&hellip;</a>"},{"owner":{"account_id":29993367,"reputation":1,"user_id":22985414,"display_name":"colin"},"score":0,"creation_date":1701044405,"post_id":77550025,"comment_id":136722711,"body_markdown":"The first method I know of is to create an object of the subclass and access it from BattleService. However, dependency inversion is not about depending on a low-level module, but rather about writing code that depends on an abstracted Interface or other high-level modules. If we call functions directly in the BattleService from the low-level module (sword, bow class), doesn&#39;t this violate the principle of dependency inversion? In other words, shouldn&#39;t we access through the Weapon Interface to adhere to the principle?","body":"The first method I know of is to create an object of the subclass and access it from BattleService. However, dependency inversion is not about depending on a low-level module, but rather about writing code that depends on an abstracted Interface or other high-level modules. If we call functions directly in the BattleService from the low-level module (sword, bow class), doesn&#39;t this violate the principle of dependency inversion? In other words, shouldn&#39;t we access through the Weapon Interface to adhere to the principle?"},{"owner":{"account_id":29993367,"reputation":1,"user_id":22985414,"display_name":"colin"},"score":0,"creation_date":1701044440,"post_id":77550025,"comment_id":136722716,"body_markdown":"The second method involves creating a separate interface for functions only available in the subclass and registering it. However, this also seems to violate dependency inversion, as it makes the high-level module dependent on the low-level module, doesn&#39;t it?","body":"The second method involves creating a separate interface for functions only available in the subclass and registering it. However, this also seems to violate dependency inversion, as it makes the high-level module dependent on the low-level module, doesn&#39;t it?"}],"owner":{"account_id":29993367,"reputation":1,"user_id":22985414,"display_name":"colin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701002627,"creation_date":1700957791,"question_id":77550025,"body_markdown":"How to access A and B function that is only in a sword class and is not in Weapon interface. \r\nBecause the sword, bow class are child so that they can be more extended than the weapon class.\r\n\r\nThe parent class &#39;Weapon&#39; has the abstract function A from its child classes &#39;Sword&#39; and &#39;Bow&#39;. However, due to the unique characteristics of &#39;Sword&#39; and &#39;Bow&#39;, &#39;Sword&#39; possesses function B, while &#39;Bow&#39; possesses function C.&quot;\r\n\r\nThe client can access the &#39;Weapon&#39; class through the &#39;BattleService&#39; class, which takes it as an argument in function A. However, it cannot access functions B and C, which are exclusive to the &#39;Sword&#39; and &#39;Bow&#39; classes respectively, as they are not part of the interface. How can access be granted in such cases based on dependency Inversion?\r\n\r\nI want to output functions B and C from BattleService while adhering to the principle of dependency inversion.\r\n\r\n``` \r\npublic interface Weapon {\r\n  void A();\r\n}\r\n\r\n\r\npublic class Sword implements Weapon {\r\n  @Override\r\n  public void A() {\r\n    System.out.println(&quot;Sword A&quot;);\r\n  }\r\n   public void B() {\r\n      System.out.println(&quot;Sword B&quot;);\r\n}\r\n\r\n\r\npublic class Bow implements Weapon {\r\n  @Override\r\n  public void A() {\r\n    System.out.println(&quot;Bow A&quot;);\r\n  }\r\n  public void C() {\r\n    System.out.println(&quot;Bow C&quot;);\r\n  }\r\n}\r\n\r\npublic class BattleService {\r\n\r\n  private Weapon weapon;\r\n\r\n  public BattleService(Weapon weapon) {\r\n    this.weapon = weapon;\r\n  }\r\n\r\n  public void A() {\r\n    weapon.A();\r\n  }\r\n}\r\n\r\n\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    Weapon sword = new Sword();\r\n    Weapon bow = new Bow();\r\n\r\n    BattleService battleService = new BattleService(sword);\r\n    battleService.A(); \r\n\r\n    battleService = new BattleService(bow);\r\n    battleService.A(); \r\n  }\r\n}\r\n```","title":"based on dependency inversion principle, How do I access functions that are only in my child class and not in my interface?","body":"<p>How to access A and B function that is only in a sword class and is not in Weapon interface.\nBecause the sword, bow class are child so that they can be more extended than the weapon class.</p>\n<p>The parent class 'Weapon' has the abstract function A from its child classes 'Sword' and 'Bow'. However, due to the unique characteristics of 'Sword' and 'Bow', 'Sword' possesses function B, while 'Bow' possesses function C.&quot;</p>\n<p>The client can access the 'Weapon' class through the 'BattleService' class, which takes it as an argument in function A. However, it cannot access functions B and C, which are exclusive to the 'Sword' and 'Bow' classes respectively, as they are not part of the interface. How can access be granted in such cases based on dependency Inversion?</p>\n<p>I want to output functions B and C from BattleService while adhering to the principle of dependency inversion.</p>\n<pre><code>public interface Weapon {\n  void A();\n}\n\n\npublic class Sword implements Weapon {\n  @Override\n  public void A() {\n    System.out.println(&quot;Sword A&quot;);\n  }\n   public void B() {\n      System.out.println(&quot;Sword B&quot;);\n}\n\n\npublic class Bow implements Weapon {\n  @Override\n  public void A() {\n    System.out.println(&quot;Bow A&quot;);\n  }\n  public void C() {\n    System.out.println(&quot;Bow C&quot;);\n  }\n}\n\npublic class BattleService {\n\n  private Weapon weapon;\n\n  public BattleService(Weapon weapon) {\n    this.weapon = weapon;\n  }\n\n  public void A() {\n    weapon.A();\n  }\n}\n\n\n\npublic class Main {\n  public static void main(String[] args) {\n    Weapon sword = new Sword();\n    Weapon bow = new Bow();\n\n    BattleService battleService = new BattleService(sword);\n    battleService.A(); \n\n    battleService = new BattleService(bow);\n    battleService.A(); \n  }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1700977943,"post_id":77550529,"comment_id":136716840,"body_markdown":"Provide any error messages.","body":"Provide any error messages."},{"owner":{"account_id":29938804,"reputation":1,"user_id":22943868,"display_name":"Uday Makwana"},"score":0,"creation_date":1701001122,"post_id":77550529,"comment_id":136718545,"body_markdown":"NOT SHOWING ANY ERROR WHEN I CLICK SAVE BUTTON THEN AUTOMATIC SHOW TOAST AND INTENT GOING TO NEXT ACTIVITY AFTER WHEN I SEE REALTIME DATABSE DO NOT SHOW ANY KIND OF DATA","body":"NOT SHOWING ANY ERROR WHEN I CLICK SAVE BUTTON THEN AUTOMATIC SHOW TOAST AND INTENT GOING TO NEXT ACTIVITY AFTER WHEN I SEE REALTIME DATABSE DO NOT SHOW ANY KIND OF DATA"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1701001361,"post_id":77550529,"comment_id":136718566,"body_markdown":"I see. you dont have to write in capital letters!!","body":"I see. you dont have to write in capital letters!!"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":2,"creation_date":1701001633,"post_id":77550529,"comment_id":136718595,"body_markdown":"double check your document name id. check if the user is authenticated.","body":"double check your document name id. check if the user is authenticated."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701002467,"creation_date":1701002467,"answer_id":77551696,"question_id":77550529,"body_markdown":"The security rules you set on your database require that the user is signed in to Firebase Authentication. Yet in the code for your application, you don&#39;t check that - nor do you check whether the write operation succeeds.\r\n```\r\nfirebaseAuth = FirebaseAuth.getInstance();\r\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\nif (firebaseAuth.getCurrentUser() != null) { // &#128072; Check if the user is signed in\r\n    String userId = firebaseAuth.getCurrentUser().getUid(); // &#128072; Use the user&#39;s UID\r\n    User user = new User(username, profession);\r\n    \r\n    databaseReference.child(userId).setValue(user)\r\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() { // &#128072; Handle success\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        })\r\n        .addOnFailureListener(new OnFailureListener() { // &#128072; Handle failure\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                // Write failed\r\n                Log.e(&quot;Database&quot;, &quot;Write failed&quot;, e);\r\n            }\r\n        });\r\n    \r\n    ...\r\n}\r\nelse {\r\n    Log.w(&quot;Database&quot;, &quot;No user was signed in&quot;); // &#128072; No user was signed in, write to logcat\r\n}\r\n```\r\n","title":"Data not save in realtime database in firebase","body":"<p>The security rules you set on your database require that the user is signed in to Firebase Authentication. Yet in the code for your application, you don't check that - nor do you check whether the write operation succeeds.</p>\n<pre><code>firebaseAuth = FirebaseAuth.getInstance();\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\nif (firebaseAuth.getCurrentUser() != null) { // 👈 Check if the user is signed in\n    String userId = firebaseAuth.getCurrentUser().getUid(); // 👈 Use the user's UID\n    User user = new User(username, profession);\n    \n    databaseReference.child(userId).setValue(user)\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() { // 👈 Handle success\n            @Override\n            public void onSuccess(Void aVoid) {\n                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n            }\n        })\n        .addOnFailureListener(new OnFailureListener() { // 👈 Handle failure\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                // Write failed\n                Log.e(&quot;Database&quot;, &quot;Write failed&quot;, e);\n            }\n        });\n    \n    ...\n}\nelse {\n    Log.w(&quot;Database&quot;, &quot;No user was signed in&quot;); // 👈 No user was signed in, write to logcat\n}\n</code></pre>\n"}],"owner":{"account_id":29938804,"reputation":1,"user_id":22943868,"display_name":"Uday Makwana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701002467,"creation_date":1700975533,"question_id":77550529,"body_markdown":"I have created a user profile and connected with Firebase, but after save button the data is not shown in realtime database.\r\n\r\nI have try many times and this is the realtime database rules, which are:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: &quot;auth != null&quot;,\r\n    &quot;.write&quot;: &quot;auth != null&quot;\r\n  }\r\n}\r\n```\r\n\r\n```\r\nbtnsaveprofile.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        username = edtxtusername.getText().toString().trim();\r\n        profession = spinnerprofession.getSelectedItem().toString();\r\n\r\n        if (username.isEmpty()){\r\n            Toast.makeText(getApplicationContext(), &quot;Please Enter Your Name&quot;, Toast.LENGTH_SHORT).show();\r\n        } else if (profession.equals(getString(R.string.select_profession))) {\r\n            Toast.makeText(getApplicationContext(), &quot;Please Select Your Profession&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n\r\n            mprogressbarofsaveprofile.setVisibility(View.VISIBLE);\r\n            btnsaveprofile.setVisibility(View.INVISIBLE);\r\n\r\n            firebaseAuth = FirebaseAuth.getInstance();\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n            String userId = databaseReference.push().getKey();\r\n            User user = new User(username, profession);\r\n            \r\n            databaseReference.child(userId).setValue(user);\r\n\r\n            Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n            Intent intent = new Intent(getApplicationContext(), NexusHome.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            startActivity(intent);\r\n\r\n            btnsaveprofile.setVisibility(View.VISIBLE);\r\n            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n\r\nand this is User.class java code\r\n\r\n```\r\npublic class User {\r\n    private String username;\r\n    private String profession;\r\n\r\n    public User() {\r\n    }\r\n    public User(String username, String profession) {\r\n        this.username = username;\r\n        this.profession = profession;\r\n\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getProfession() {\r\n        return profession;\r\n    }\r\n    public void setProfession(String profession) {\r\n        this.profession = profession;\r\n    }\r\n}\r\n```\r\n\r\n\r\nPlease help me to correct this code and so can i save data in firebase.","title":"Data not save in realtime database in firebase","body":"<p>I have created a user profile and connected with Firebase, but after save button the data is not shown in realtime database.</p>\n<p>I have try many times and this is the realtime database rules, which are:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;auth != null&quot;,\n    &quot;.write&quot;: &quot;auth != null&quot;\n  }\n}\n</code></pre>\n<pre><code>btnsaveprofile.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        username = edtxtusername.getText().toString().trim();\n        profession = spinnerprofession.getSelectedItem().toString();\n\n        if (username.isEmpty()){\n            Toast.makeText(getApplicationContext(), &quot;Please Enter Your Name&quot;, Toast.LENGTH_SHORT).show();\n        } else if (profession.equals(getString(R.string.select_profession))) {\n            Toast.makeText(getApplicationContext(), &quot;Please Select Your Profession&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n\n            mprogressbarofsaveprofile.setVisibility(View.VISIBLE);\n            btnsaveprofile.setVisibility(View.INVISIBLE);\n\n            firebaseAuth = FirebaseAuth.getInstance();\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n            String userId = databaseReference.push().getKey();\n            User user = new User(username, profession);\n            \n            databaseReference.child(userId).setValue(user);\n\n            Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n            Intent intent = new Intent(getApplicationContext(), NexusHome.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            startActivity(intent);\n\n            btnsaveprofile.setVisibility(View.VISIBLE);\n            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\n        }\n    }\n});\n</code></pre>\n<p>and this is User.class java code</p>\n<pre><code>public class User {\n    private String username;\n    private String profession;\n\n    public User() {\n    }\n    public User(String username, String profession) {\n        this.username = username;\n        this.profession = profession;\n\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n    public String getProfession() {\n        return profession;\n    }\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n}\n</code></pre>\n<p>Please help me to correct this code and so can i save data in firebase.</p>\n"},{"tags":["java","java.util.scanner"],"owner":{"account_id":28390907,"reputation":1,"user_id":21716694,"display_name":"Samir Mikayılov"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1700859281,"answer_count":0,"score":-4,"last_activity_date":1701002244,"creation_date":1700858565,"question_id":77545587,"body_markdown":"I am new to java, there is no problem with the scanner in the first cycle, but in the second cycle, the first scanner goes to the second one without working. I don&#39;t understand what the problem is\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        Student[] arr = {new Student(), new Student()};\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.println(&quot;name&quot;);\r\n            arr[i].name = sc.nextLine();\r\n\r\n           System.out.println(&quot;age&quot;);\r\n            arr[i].age = sc.nextInt();\r\n\r\n            System.out.println(&quot;surname&quot;);\r\n            arr[i].surname = sc.nextLine();\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class Student {\r\n\r\n    public String name;\r\n    public String surname;\r\n    public int age;\r\n}\r\n```","title":"i can not use Scanner","body":"<p>I am new to java, there is no problem with the scanner in the first cycle, but in the second cycle, the first scanner goes to the second one without working. I don't understand what the problem is</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        Student[] arr = {new Student(), new Student()};\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(&quot;name&quot;);\n            arr[i].name = sc.nextLine();\n\n           System.out.println(&quot;age&quot;);\n            arr[i].age = sc.nextInt();\n\n            System.out.println(&quot;surname&quot;);\n            arr[i].surname = sc.nextLine();\n\n        }\n\n    }\n\n}\n</code></pre>\n<pre><code>public class Student {\n\n    public String name;\n    public String surname;\n    public int age;\n}\n</code></pre>\n"},{"tags":["java","math","curve"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700920883,"post_id":77547769,"comment_id":136712535,"body_markdown":"A curve between two points can be almost anything.  Assuming that you want the starting and ending of the curve to be perpendicular, you can easily calculate the two center points, as you have done.  Using your example of 50,50 and 100,0, assuming drawing coordinates, one curve starts at 0 degrees and curves to 90 degrees while the other starts at 90 degrees and curves to 0 degrees, with 0 degrees as north and clockwise positive degrees.  I made so many assumptions in this comment, as you haven&#39;t defined your coordinate system in your question.","body":"A curve between two points can be almost anything.  Assuming that you want the starting and ending of the curve to be perpendicular, you can easily calculate the two center points, as you have done.  Using your example of 50,50 and 100,0, assuming drawing coordinates, one curve starts at 0 degrees and curves to 90 degrees while the other starts at 90 degrees and curves to 0 degrees, with 0 degrees as north and clockwise positive degrees.  I made so many assumptions in this comment, as you haven&#39;t defined your coordinate system in your question."}],"answers":[{"tags":[],"owner":{"account_id":29986393,"reputation":34,"user_id":22980205,"display_name":"Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700921081,"creation_date":1700921081,"answer_id":77548157,"question_id":77547769,"body_markdown":"You can use trigonometric calculations to find the center of the circle that forms the curve.\r\n\r\n    public static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\r\n        // Calculate the angle between the two vectors\r\n        double angle = Math.abs(alpha - startingAlpha);\r\n    \r\n        // Calculate the direction of the curve (right or left)\r\n        int direction = (startingAlpha + angle &lt;= 360) ? 1 : -1;\r\n    \r\n        // Calculate the center of the curve using trigonometry\r\n        double centerX = vectors[0].getX() + direction * vectors[0].distanceTo(vectors[1]) / Math.tan(Math.toRadians(angle / 2));\r\n        double centerY = vectors[0].getY() - direction * vectors[0].distanceTo(vectors[1]) / Math.sin(Math.toRadians(angle / 2));\r\n    \r\n        return new Vector2D(centerX, centerY);\r\n    }","title":"Finding the correct intersection point for a right-hand bend","body":"<p>You can use trigonometric calculations to find the center of the circle that forms the curve.</p>\n<pre><code>public static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\n    // Calculate the angle between the two vectors\n    double angle = Math.abs(alpha - startingAlpha);\n\n    // Calculate the direction of the curve (right or left)\n    int direction = (startingAlpha + angle &lt;= 360) ? 1 : -1;\n\n    // Calculate the center of the curve using trigonometry\n    double centerX = vectors[0].getX() + direction * vectors[0].distanceTo(vectors[1]) / Math.tan(Math.toRadians(angle / 2));\n    double centerY = vectors[0].getY() - direction * vectors[0].distanceTo(vectors[1]) / Math.sin(Math.toRadians(angle / 2));\n\n    return new Vector2D(centerX, centerY);\n}\n</code></pre>\n"}],"owner":{"account_id":29989845,"reputation":1,"user_id":22982822,"display_name":"Powershooter83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701002111,"creation_date":1700913734,"question_id":77547769,"body_markdown":"I am trying to calculate curves (their coordinates), for this I have the start point and the end point. I need the center so that I can draw the curve in the right direction. Now the question is, how do I get the correct center?\r\n\r\nI have the intersection points of the two circles, and one of these intersection points would be the correct center. But which one is it?\r\n\r\nFor example, if I have a start point at (50, 50) and an end point at (100, 0), the lower intersection point would be the correct one for a curve to the right.\r\n\r\n\r\n```\r\npublic static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\r\n\r\n    if (startingAlpha == 0 &amp;&amp; alpha &lt; 180) {\r\n        return getLower(vectors);\r\n    }\r\n\r\n    if (startingAlpha == 0 &amp;&amp; alpha == 180) {\r\n        return getLeft(vectors);\r\n    }\r\n\r\n    if (startingAlpha == 0 &amp;&amp; alpha &gt; 180) {\r\n        return getHigher(vectors);\r\n    }\r\n\r\n    if (startingAlpha == 90 &amp;&amp; alpha &lt; 180) {\r\n        return getHigher(vectors);\r\n    }\r\n\r\n    return null;\r\n\r\n}\r\n```\r\nThe variable `alpha` is the new angle, `startingalpha` is the angle it already has and vectors is the array with the two points.\r\n\r\nI have made an example with the `startingAlpha` of 0&#176;.\r\n`Startingalpha` can be between 0&#176; and 360&#176;.\r\n\r\n\r\n\r\nThe simple addition of `startingAlpha` and `alpha` would not work either, for example, because in the case of 90&#176; starting and 90&#176; alpha 180&#176; would result and then the left angle would have to be taken. However, since the curve is not 180&#176; but only 90&#176;, **this is wrong.**\r\n\r\n","title":"Finding the correct intersection point for a right-hand bend","body":"<p>I am trying to calculate curves (their coordinates), for this I have the start point and the end point. I need the center so that I can draw the curve in the right direction. Now the question is, how do I get the correct center?</p>\n<p>I have the intersection points of the two circles, and one of these intersection points would be the correct center. But which one is it?</p>\n<p>For example, if I have a start point at (50, 50) and an end point at (100, 0), the lower intersection point would be the correct one for a curve to the right.</p>\n<pre><code>public static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\n\n    if (startingAlpha == 0 &amp;&amp; alpha &lt; 180) {\n        return getLower(vectors);\n    }\n\n    if (startingAlpha == 0 &amp;&amp; alpha == 180) {\n        return getLeft(vectors);\n    }\n\n    if (startingAlpha == 0 &amp;&amp; alpha &gt; 180) {\n        return getHigher(vectors);\n    }\n\n    if (startingAlpha == 90 &amp;&amp; alpha &lt; 180) {\n        return getHigher(vectors);\n    }\n\n    return null;\n\n}\n</code></pre>\n<p>The variable <code>alpha</code> is the new angle, <code>startingalpha</code> is the angle it already has and vectors is the array with the two points.</p>\n<p>I have made an example with the <code>startingAlpha</code> of 0°.\n<code>Startingalpha</code> can be between 0° and 360°.</p>\n<p>The simple addition of <code>startingAlpha</code> and <code>alpha</code> would not work either, for example, because in the case of 90° starting and 90° alpha 180° would result and then the left angle would have to be taken. However, since the curve is not 180° but only 90°, <strong>this is wrong.</strong></p>\n"},{"tags":["java","memory-management","profiling"],"answers":[{"tags":[],"owner":{"account_id":6887,"reputation":36377,"user_id":11721,"accept_rate":60,"display_name":"Stephen Denne"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1258769310,"creation_date":1258769310,"answer_id":1774275,"question_id":1774240,"body_markdown":"YourKit can [compare heap dumps][1].\r\n\r\n\r\n  [1]: http://www.yourkit.com/docs/80/help/compare_snapshots.jsp","title":"Comparing Java memory heap dumps: Memory profiling for Java desktop application","body":"<p>YourKit can <a href=\"http://www.yourkit.com/docs/80/help/compare_snapshots.jsp\" rel=\"nofollow noreferrer\">compare heap dumps</a>.</p>\n"},{"tags":[],"owner":{"account_id":30553,"reputation":4986,"user_id":83354,"accept_rate":88,"display_name":"broschb"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1258775297,"creation_date":1258775297,"answer_id":1774442,"question_id":1774240,"body_markdown":"You could use [jhat][1].  Specifically look at the option(-baseline baseline-dump-file)  on the page I reference it says the following:\r\n\r\n&quot;Specify a baseline heap dump. Objects in both heap dumps with the same object ID will be marked as not being &quot;new&quot;. Other objects will be marked as &quot;new&quot;. This is useful while comparing two different heap dumps.&quot;\r\n\r\nthis may help when comparing the two heap dumps.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html","title":"Comparing Java memory heap dumps: Memory profiling for Java desktop application","body":"<p>You could use <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\" rel=\"noreferrer\">jhat</a>.  Specifically look at the option(-baseline baseline-dump-file)  on the page I reference it says the following:</p>\n\n<p>\"Specify a baseline heap dump. Objects in both heap dumps with the same object ID will be marked as not being \"new\". Other objects will be marked as \"new\". This is useful while comparing two different heap dumps.\"</p>\n\n<p>this may help when comparing the two heap dumps.</p>\n"},{"tags":[],"owner":{"account_id":2607059,"reputation":425,"user_id":2258012,"display_name":"Daniel Warmuth"},"down_vote_count":3,"up_vote_count":33,"is_accepted":false,"score":30,"last_activity_date":1570724537,"creation_date":1365439398,"answer_id":15884523,"question_id":1774240,"body_markdown":"There is also a **free, GUI** tool for this task: [VisualVM](https://visualvm.github.io/). It lets you take several heap dumps and then tell it to compare one with another, displaying the differing contents as a list, with a **graphical representation of each element&#39;s share of used memory**. Also, interactively browsing the heap dump difference is much **more comfortable than with jhat**.\r\n\r\n\r\n[![VisualVM 1.4.4 compare capability][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hz2JM.png","title":"Comparing Java memory heap dumps: Memory profiling for Java desktop application","body":"<p>There is also a <strong>free, GUI</strong> tool for this task: <a href=\"https://visualvm.github.io/\" rel=\"noreferrer\">VisualVM</a>. It lets you take several heap dumps and then tell it to compare one with another, displaying the differing contents as a list, with a <strong>graphical representation of each element's share of used memory</strong>. Also, interactively browsing the heap dump difference is much <strong>more comfortable than with jhat</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hz2JM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Hz2JM.png\" alt=\"VisualVM 1.4.4 compare capability\"></a></p>\n"}],"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14393,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1774442,"answer_count":3,"score":10,"last_activity_date":1701002099,"creation_date":1258768358,"question_id":1774240,"body_markdown":"This is a more specific question to follow up on [another question that I have asked recently] [1]. A correct answer for this question will earn a correct answer for that previous question too (since that is still in limbo)!\r\n\r\nBasically I have a Java desktop application with a memory leak issue. I am using the memory profiler in NetBeans IDE to profile the memory issue. These are the steps that I have taken done so far:\r\n\r\n1. Attach a new memory profiler to the NetBeans project\r\n2. Define profiling points at several careful chosen lines of code, and set them to trigger a memory heap dump\r\n3. Run the application in profiling mode\r\n\r\nThe end result of this is that I have several memory dumps saved to disk in `*.hprof` files. NetBeans IDE lets me peruse the contents (basic sort and search) of these memory dumps, and even lets me *walk the heap*, by seeing what the references contained within each instance,  and what other objects reference each instance. That is all good, and I have been able to identify 1 or 2 fairly obvious memory leaks and rectify about 15% of the problem thus far.\r\n\r\nHowever, right now the method I am using relies on creating **hypotheses about which objects should NOT be in memory** at a particular point of time, and then investigating those. What I am after now is a **way to compare two separate heap dumps**: Basically I have two heap dumps that should be almost the same, because the application has been restored to the same state.\r\n\r\nHowever, one is before the memory leak, and the other after the memory leak, and so they are obviously different. If I am able to **compare these two heaps using a of tool**, instead of manually as I am doing now, then I need not rely on hypotheses to identify where the leaks are occurring, and can just have the tool identify them for me.  \r\n\r\nThis is important for me because of the the sheer number of classes and instances involved for this particular application (700+ and millions, respectively)\r\n\r\nIs the NetBeans IDE&#39;s profiler capable of doing this?\r\n\r\nIf not, is there a tool out there that is able to perform this task?\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1752714/memory-profiling-for-java-desktop-application","title":"Comparing Java memory heap dumps: Memory profiling for Java desktop application","body":"<p>This is a more specific question to follow up on [another question that I have asked recently] <a href=\"https://stackoverflow.com/questions/1752714/memory-profiling-for-java-desktop-application\">1</a>. A correct answer for this question will earn a correct answer for that previous question too (since that is still in limbo)!</p>\n<p>Basically I have a Java desktop application with a memory leak issue. I am using the memory profiler in NetBeans IDE to profile the memory issue. These are the steps that I have taken done so far:</p>\n<ol>\n<li>Attach a new memory profiler to the NetBeans project</li>\n<li>Define profiling points at several careful chosen lines of code, and set them to trigger a memory heap dump</li>\n<li>Run the application in profiling mode</li>\n</ol>\n<p>The end result of this is that I have several memory dumps saved to disk in <code>*.hprof</code> files. NetBeans IDE lets me peruse the contents (basic sort and search) of these memory dumps, and even lets me <em>walk the heap</em>, by seeing what the references contained within each instance,  and what other objects reference each instance. That is all good, and I have been able to identify 1 or 2 fairly obvious memory leaks and rectify about 15% of the problem thus far.</p>\n<p>However, right now the method I am using relies on creating <strong>hypotheses about which objects should NOT be in memory</strong> at a particular point of time, and then investigating those. What I am after now is a <strong>way to compare two separate heap dumps</strong>: Basically I have two heap dumps that should be almost the same, because the application has been restored to the same state.</p>\n<p>However, one is before the memory leak, and the other after the memory leak, and so they are obviously different. If I am able to <strong>compare these two heaps using a of tool</strong>, instead of manually as I am doing now, then I need not rely on hypotheses to identify where the leaks are occurring, and can just have the tool identify them for me.</p>\n<p>This is important for me because of the the sheer number of classes and instances involved for this particular application (700+ and millions, respectively)</p>\n<p>Is the NetBeans IDE's profiler capable of doing this?</p>\n<p>If not, is there a tool out there that is able to perform this task?</p>\n"},{"tags":["java","swing","look-and-feel"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":3,"creation_date":1340728168,"post_id":11211808,"comment_id":14721347,"body_markdown":"bug???, can you please add BugParades link to your question","body":"bug???, can you please add BugParades link to your question"}],"answers":[{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1340739730,"creation_date":1340738102,"answer_id":11214424,"question_id":11211808,"body_markdown":"&gt; Yes one can resize a window BUT one has to know where the task bar is,\r\n&gt; or the size of the screen minus the taskbar - know how to do that?\r\n\r\nYes:\r\n\r\n1.Look up the graphic device you are on (assuming p is a `Point` of the Screen you are looking for):\r\n\r\n    GraphicsConfiguration graphicsConfiguration = null;\r\n    for (GraphicsDevice gd : GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()) {\r\n    \tif (gd.getDefaultConfiguration().getBounds().contains(p)) {\r\n    \t\tgraphicsConfiguration = gd.getDefaultConfiguration();\r\n    \t\tbreak;\r\n    \t}\r\n    }\r\n\r\n2.Look at the screen bounds (watch out that some bounds location are negative with multiple screens - for example, if you have a secondary screen which is on the left of your main screen), the screen size and the &quot;Insets&quot; of the screen which are usually the taskbar and/or other graphical artifacts:\r\n\r\n    Rectangle screenBounds = graphicsConfiguration.getBounds();\r\n    Dimension screenSize = screenBounds.getSize();\r\n    Insets screenInsets = Toolkit.getDefaultToolkit()\r\n         .getScreenInsets(graphicsConfiguration);\r\n\r\n","title":"Java - How to avoid covering the taskbar with undecorated or custom LookAndFeel Window?","body":"<blockquote>\n  <p>Yes one can resize a window BUT one has to know where the task bar is,\n  or the size of the screen minus the taskbar - know how to do that?</p>\n</blockquote>\n\n<p>Yes:</p>\n\n<p>1.Look up the graphic device you are on (assuming p is a <code>Point</code> of the Screen you are looking for):</p>\n\n<pre><code>GraphicsConfiguration graphicsConfiguration = null;\nfor (GraphicsDevice gd : GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()) {\n    if (gd.getDefaultConfiguration().getBounds().contains(p)) {\n        graphicsConfiguration = gd.getDefaultConfiguration();\n        break;\n    }\n}\n</code></pre>\n\n<p>2.Look at the screen bounds (watch out that some bounds location are negative with multiple screens - for example, if you have a secondary screen which is on the left of your main screen), the screen size and the \"Insets\" of the screen which are usually the taskbar and/or other graphical artifacts:</p>\n\n<pre><code>Rectangle screenBounds = graphicsConfiguration.getBounds();\nDimension screenSize = screenBounds.getSize();\nInsets screenInsets = Toolkit.getDefaultToolkit()\n     .getScreenInsets(graphicsConfiguration);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280629,"reputation":5218,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340819191,"creation_date":1340816680,"answer_id":11231496,"question_id":11211808,"body_markdown":"Thanks\r\n\r\nHere is the code made from above which is calls immediately after the window is maximized by the system. It checks for the taskbars and resizes the window accordinly.\r\n\r\nnote that the setBounds will &quot;un-maximize&quot; the window as far as Java is concerned so the &quot;getExtendedState()&quot; will return un maximized and I need to maintain my own flag.  I also have to cache the last pre-maximized window size so I know where to restore the window to later - all way too messy but it works.\r\n\r\n    Rectangle bounds;\r\n    Rectangle fbounds = frame.getBounds();\r\n    GraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n\r\n    // as system maximized this at this point we test the center of the window\r\n    // as it should be on the proper screen.\r\n    Point p = new Point(fbounds.x + (fbounds.width/2),fbounds.y + (fbounds.height/2));\r\n    GraphicsConfiguration graphicsConfiguration = null;\r\n    for (GraphicsDevice gd : GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices())\r\n    {\r\n        if (gd.getDefaultConfiguration().getBounds().contains(p)) {\r\n            graphicsConfiguration = gd.getDefaultConfiguration();\r\n            break;\r\n        }\r\n    }\r\n    if(graphicsConfiguration != null)\r\n    {\r\n        bounds = graphicsConfiguration.getBounds();\r\n        Insets screenInsets = Toolkit.getDefaultToolkit().getScreenInsets(graphicsConfiguration);\r\n\r\n        bounds.x += screenInsets.left;\r\n        bounds.y += screenInsets.top;\r\n        bounds.height -= screenInsets.bottom;\r\n        bounds.width -= screenInsets.right;\r\n    } else {\r\n        bounds = env.getMaximumWindowBounds();\r\n    }\r\n    if(fbounds.equals(bounds)) {\r\n        bounds.height -= 1;\r\n    }\r\n    frame.setBounds(bounds);\r\n","title":"Java - How to avoid covering the taskbar with undecorated or custom LookAndFeel Window?","body":"<p>Thanks</p>\n\n<p>Here is the code made from above which is calls immediately after the window is maximized by the system. It checks for the taskbars and resizes the window accordinly.</p>\n\n<p>note that the setBounds will \"un-maximize\" the window as far as Java is concerned so the \"getExtendedState()\" will return un maximized and I need to maintain my own flag.  I also have to cache the last pre-maximized window size so I know where to restore the window to later - all way too messy but it works.</p>\n\n<pre><code>Rectangle bounds;\nRectangle fbounds = frame.getBounds();\nGraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\n\n// as system maximized this at this point we test the center of the window\n// as it should be on the proper screen.\nPoint p = new Point(fbounds.x + (fbounds.width/2),fbounds.y + (fbounds.height/2));\nGraphicsConfiguration graphicsConfiguration = null;\nfor (GraphicsDevice gd : GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices())\n{\n    if (gd.getDefaultConfiguration().getBounds().contains(p)) {\n        graphicsConfiguration = gd.getDefaultConfiguration();\n        break;\n    }\n}\nif(graphicsConfiguration != null)\n{\n    bounds = graphicsConfiguration.getBounds();\n    Insets screenInsets = Toolkit.getDefaultToolkit().getScreenInsets(graphicsConfiguration);\n\n    bounds.x += screenInsets.left;\n    bounds.y += screenInsets.top;\n    bounds.height -= screenInsets.bottom;\n    bounds.width -= screenInsets.right;\n} else {\n    bounds = env.getMaximumWindowBounds();\n}\nif(fbounds.equals(bounds)) {\n    bounds.height -= 1;\n}\nframe.setBounds(bounds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701001995,"creation_date":1701001995,"answer_id":77551670,"question_id":11211808,"body_markdown":"    Rectangle rec = GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\r\n    frmMain.setSize(rec.width, rec.height);\r\n\r\nFound that snippet elsewhere. Works well for me!\r\nCheers!","title":"Java - How to avoid covering the taskbar with undecorated or custom LookAndFeel Window?","body":"<pre><code>Rectangle rec = GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\nfrmMain.setSize(rec.width, rec.height);\n</code></pre>\n<p>Found that snippet elsewhere. Works well for me!\nCheers!</p>\n"}],"owner":{"account_id":280629,"reputation":5218,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11214424,"answer_count":3,"score":1,"last_activity_date":1701001995,"creation_date":1340728023,"question_id":11211808,"body_markdown":"Yes some questions get close :)\r\n\r\nThere is a Bug in Java ( been around and reported since 2011, seems like there is no effort being made to fix it either - should be handled on the native side of the VM)\r\n\r\nThat is when you maximize an &quot;undecorated&quot; window, or a window drawn wihth a PLAF look and feel, it will cover the windows taskbar. Fine - desirable *when you want it*, but when you do want the taskbar maximized windows cover it. setting the &quot;always on top&quot; proerty doesn make any difference.\r\n\r\nYes one can resize a window BUT one has to know where the task bar is, or the size of the screen minus the taskbar - know how to do that?\r\n\r\nand one needs to know you are maximizing on a screen without a taskbar if that is being done.  and if on a multimonitor virtual desktop ...\r\n\r\nAny ideas :)\r\n\r\n","title":"Java - How to avoid covering the taskbar with undecorated or custom LookAndFeel Window?","body":"<p>Yes some questions get close :)</p>\n\n<p>There is a Bug in Java ( been around and reported since 2011, seems like there is no effort being made to fix it either - should be handled on the native side of the VM)</p>\n\n<p>That is when you maximize an \"undecorated\" window, or a window drawn wihth a PLAF look and feel, it will cover the windows taskbar. Fine - desirable <em>when you want it</em>, but when you do want the taskbar maximized windows cover it. setting the \"always on top\" proerty doesn make any difference.</p>\n\n<p>Yes one can resize a window BUT one has to know where the task bar is, or the size of the screen minus the taskbar - know how to do that?</p>\n\n<p>and one needs to know you are maximizing on a screen without a taskbar if that is being done.  and if on a multimonitor virtual desktop ...</p>\n\n<p>Any ideas :)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29776118,"reputation":271,"user_id":22820043,"display_name":"Cloverleaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701000149,"creation_date":1700957711,"answer_id":77550019,"question_id":77549565,"body_markdown":"In my opinion, you missunderstand the role of the second argument of\r\n\r\n    score = settings.getInt(&quot;score&quot;,score);\r\n\r\n(see [here](https://developer.android.com/reference/android/content/SharedPreferences#getInt(java.lang.String,%20int))). You should use it like this\r\n\r\n    score = settings.getInt(&quot;score&quot;, -1);\r\n    if (score==-1) {\r\n      //there is no &quot;score&quot; entry in the settings\r\n    } else {\r\n      //continue with the loaded value for score\r\n    }\r\n\r\nThe line\r\n \r\n    editor.commit();\r\n\r\nmust be deleted. `.apply()` already does the same thing, `.commit()` is the outdated version of it.\r\n\r\nEDIT: And did you write the line \r\n\r\n    score = settings.getInt(&quot;score&quot;, -1);\r\n\r\nat the beginning of `onCreate` and **not** the Activity? It is not clear what you mean by &quot;these lines are at the top&quot;.","title":"Data extracted from memory using SharedPreferences not displaying","body":"<p>In my opinion, you missunderstand the role of the second argument of</p>\n<pre><code>score = settings.getInt(&quot;score&quot;,score);\n</code></pre>\n<p>(see <a href=\"https://developer.android.com/reference/android/content/SharedPreferences#getInt(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">here</a>). You should use it like this</p>\n<pre><code>score = settings.getInt(&quot;score&quot;, -1);\nif (score==-1) {\n  //there is no &quot;score&quot; entry in the settings\n} else {\n  //continue with the loaded value for score\n}\n</code></pre>\n<p>The line</p>\n<pre><code>editor.commit();\n</code></pre>\n<p>must be deleted. <code>.apply()</code> already does the same thing, <code>.commit()</code> is the outdated version of it.</p>\n<p>EDIT: And did you write the line</p>\n<pre><code>score = settings.getInt(&quot;score&quot;, -1);\n</code></pre>\n<p>at the beginning of <code>onCreate</code> and <strong>not</strong> the Activity? It is not clear what you mean by &quot;these lines are at the top&quot;.</p>\n"}],"owner":{"account_id":29050830,"reputation":15,"user_id":22253699,"display_name":"Hi there"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77550019,"answer_count":1,"score":0,"last_activity_date":1701000149,"creation_date":1700945511,"question_id":77549565,"body_markdown":"I have an Android game.Evertime the user matches the &#39;Power Rating&#39; on the right block with the one on the left block,they get 10 points.The score is saved at every operation,meaning that at each +10 score,the score is saved with SharedPreferences on the memory.&lt;br/&gt;\r\nSaving the data works just fine but when I close the app and reopen it,something is off:&lt;br/&gt;\r\nthe saved score does not display right away,instead it displays only when it increases by 10 (when the user gets 10 points,i.e. if I have 60 saved score and reopen the app,it displays 0 initially and if I get another 10 points,it shows 70,meaning that the 60 was loaded later and it is weird given that score is not initialised as 0).&lt;br/&gt;\r\nHere is code:&lt;br/&gt;\r\n```\r\n//--------------------------------\r\npublic static final String PREFS_NAME = &quot;MyPrefsFile&quot;;\r\n\r\nSharedPreferences settings = getSharedPreferences(PREFS_NAME,0);\r\nSharedPreferences.Editor editor = settings.edit();\r\n\r\nscore = settings.getInt(&quot;score&quot;,score);\r\n/*---------------------------------\r\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nthese lines are at the top where I declare the other variables for the game\r\n*/\r\n\r\n//----------------------\r\neditor.putInt(&quot;score&quot;,score).apply();\r\neditor.commit();\r\n//^^^^^^^^^^^^^^^^^\r\n//this code is in the submit event listener,where &#39;score&#39; is also calculated\r\n```","title":"Data extracted from memory using SharedPreferences not displaying","body":"<p>I have an Android game.Evertime the user matches the 'Power Rating' on the right block with the one on the left block,they get 10 points.The score is saved at every operation,meaning that at each +10 score,the score is saved with SharedPreferences on the memory.<br/>\nSaving the data works just fine but when I close the app and reopen it,something is off:<br/>\nthe saved score does not display right away,instead it displays only when it increases by 10 (when the user gets 10 points,i.e. if I have 60 saved score and reopen the app,it displays 0 initially and if I get another 10 points,it shows 70,meaning that the 60 was loaded later and it is weird given that score is not initialised as 0).<br/>\nHere is code:<br/></p>\n<pre><code>//--------------------------------\npublic static final String PREFS_NAME = &quot;MyPrefsFile&quot;;\n\nSharedPreferences settings = getSharedPreferences(PREFS_NAME,0);\nSharedPreferences.Editor editor = settings.edit();\n\nscore = settings.getInt(&quot;score&quot;,score);\n/*---------------------------------\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nthese lines are at the top where I declare the other variables for the game\n*/\n\n//----------------------\neditor.putInt(&quot;score&quot;,score).apply();\neditor.commit();\n//^^^^^^^^^^^^^^^^^\n//this code is in the submit event listener,where 'score' is also calculated\n</code></pre>\n"},{"tags":["java","mysql","hibernate","session","hibernate-mapping"],"comments":[{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1382862280,"post_id":19615847,"comment_id":29119241,"body_markdown":"Are you using Spring?","body":"Are you using Spring?"},{"owner":{"account_id":2845354,"reputation":1905,"user_id":2443922,"accept_rate":50,"display_name":"Bourne"},"score":0,"creation_date":1382869207,"post_id":19615847,"comment_id":29120705,"body_markdown":"No i&#39;m not using Spring.","body":"No i&#39;m not using Spring."},{"owner":{"account_id":2845354,"reputation":1905,"user_id":2443922,"accept_rate":50,"display_name":"Bourne"},"score":0,"creation_date":1382873128,"post_id":19615847,"comment_id":29121607,"body_markdown":"Any idea why I&#39;m getting this error?","body":"Any idea why I&#39;m getting this error?"}],"answers":[{"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382874269,"creation_date":1382874269,"answer_id":19617683,"question_id":19615847,"body_markdown":"Calling `openSession()` does not associate the resulting Session object with Hibernate&#39;s current session context.  However, if you call `getCurrentSession()` and no session exists, then Hibernate will open a new session and associate it with the context.\r\n\r\nIn other words, you need to replace your call to `openSession()` with a call to `getCurrentSession()`.","title":"&quot;org.hibernate.HibernateException: Illegal attempt to associate a collection with two open sessions&quot; even when the context is Thread","body":"<p>Calling <code>openSession()</code> does not associate the resulting Session object with Hibernate's current session context.  However, if you call <code>getCurrentSession()</code> and no session exists, then Hibernate will open a new session and associate it with the context.</p>\n\n<p>In other words, you need to replace your call to <code>openSession()</code> with a call to <code>getCurrentSession()</code>.</p>\n"}],"owner":{"account_id":2845354,"reputation":1905,"user_id":2443922,"accept_rate":50,"display_name":"Bourne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701000040,"creation_date":1382860487,"question_id":19615847,"body_markdown":"In my application(server) I create a Hibernate session in the beginning of request processing using &quot;`sessionFactory.openSession()`&quot;. I retrieve the object make some changes to it in some other class and then do a `saveOrUpdate` as follows:\r\n    \r\n    Session session = sessionFactory.getCurrentSession();\r\n    Transaction dbTransaction = session.getTransaction();\r\n    dbTransaction.begin();\r\n    session.saveOrUpdate(entity);\r\n    dbTransaction.commit()\r\n    \r\nI have also set the below property in the configuration file.   \r\n\r\n    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\nHowever when I do a `session.saveOrUpdate(entity)` I get the below exception. I think the reason for the below exception is &quot;`getCurrentSession()`&quot; is not getting the session which I opened using &quot;`sessionFactory.openSession()`&quot;  but I am not able to understand why it is not getting the currentSession which I opened using &quot;`sessionFactory.openSession()`&quot; when the request processing begins in the server.   \r\n\r\n**Error stack trace:**\r\n\r\n        org.hibernate.HibernateException: Illegal attempt to associate a collection with\r\n     two open sessions at org.hibernate.collection.internal.AbstractPersistentCollection.setCurrentSession(AbstractPersistentCollection.java:638)\r\n    \tat org.hibernate.event.internal.OnUpdateVisitor.processCollection(OnUpdateVisitor.java:65)\r\n    \tat org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:121)\r\n    \tat org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:82)\r\n    \tat org.hibernate.event.internal.AbstractVisitor.processEntityPropertyValues(AbstractVisitor.java:76)\r\n    \tat org.hibernate.event.internal.AbstractVisitor.process(AbstractVisitor.java:143)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performUpdate(DefaultSaveOrUpdateEventListener.java:305)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsDetached(DefaultSaveOrUpdateEventListener.java:241)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:109)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:90)\r\n    \tat org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:735)\r\n    \tat org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:727)\r\n    \tat org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:723)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352)\r\n    \tat com.sun.proxy.$Proxy24.saveOrUpdate(Unknown Source)\r\n    \tat org.app.purchase.utils.PurchaseUtils.saveOrUpdateTransactionNew(PurchaseUtils.java:46)\r\n    \tat org.app.purchase.model.Transaction.createRefundTransaction(Transaction.java:422)\r\n    \tat org.app.purchase.application.RefundTransaction.refundTransaction(RefundTransaction.java:64)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.restlet.resource.ServerResource.doHandle(ServerResource.java:449)\r\n    \tat org.restlet.resource.ServerResource.get(ServerResource.java:645)\r\n    \tat org.restlet.resource.ServerResource.doHandle(ServerResource.java:527)\r\n    \tat org.restlet.resource.ServerResource.doNegotiatedHandle(ServerResource.java:587)\r\n    \tat org.restlet.resource.ServerResource.doConditionalHandle(ServerResource.java:299)\r\n    \tat org.restlet.resource.ServerResource.handle(ServerResource.java:846)\r\n    \tat org.restlet.resource.Finder.handle(Finder.java:510)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.routing.Router.doHandle(Router.java:497)\r\n    \tat org.restlet.routing.Router.handle(Router.java:737)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:151)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.engine.ChainHelper.handle(ChainHelper.java:111)\r\n    \tat org.restlet.engine.application.ApplicationHelper.handle(ApplicationHelper.java:72)\r\n    \tat org.restlet.Application.handle(Application.java:388)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.routing.Router.doHandle(Router.java:497)\r\n    \tat org.restlet.routing.Router.handle(Router.java:737)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.routing.Router.doHandle(Router.java:497)\r\n    \tat org.restlet.routing.Router.handle(Router.java:737)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:151)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.routing.Filter.doHandle(Filter.java:156)\r\n    \tat org.restlet.routing.Filter.handle(Filter.java:203)\r\n    \tat org.restlet.engine.ChainHelper.handle(ChainHelper.java:111)\r\n    \tat org.restlet.Component.handle(Component.java:388)\r\n    \tat org.restlet.Server.handle(Server.java:488)\r\n    \tat org.restlet.engine.http.connector.BaseServerHelper.handle(BaseServerHelper.java:158)\r\n    \tat org.restlet.engine.http.connector.BaseServerHelper.handleInbound(BaseServerHelper.java:167)\r\n    \tat org.restlet.engine.http.connector.BaseHelper.handleNextInbound(BaseHelper.java:418)\r\n    \tat org.restlet.engine.http.connector.Connection.readMessages(Connection.java:695)\r\n    \tat org.restlet.engine.http.connector.Controller$2.run(Controller.java:95)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:722)\r\n\r\n","title":"&quot;org.hibernate.HibernateException: Illegal attempt to associate a collection with two open sessions&quot; even when the context is Thread","body":"<p>In my application(server) I create a Hibernate session in the beginning of request processing using \"<code>sessionFactory.openSession()</code>\". I retrieve the object make some changes to it in some other class and then do a <code>saveOrUpdate</code> as follows:</p>\n\n<pre><code>Session session = sessionFactory.getCurrentSession();\nTransaction dbTransaction = session.getTransaction();\ndbTransaction.begin();\nsession.saveOrUpdate(entity);\ndbTransaction.commit()\n</code></pre>\n\n<p>I have also set the below property in the configuration file.   </p>\n\n<pre><code>&lt;property name=\"hibernate.current_session_context_class\"&gt;thread&lt;/property&gt;\n</code></pre>\n\n<p>However when I do a <code>session.saveOrUpdate(entity)</code> I get the below exception. I think the reason for the below exception is \"<code>getCurrentSession()</code>\" is not getting the session which I opened using \"<code>sessionFactory.openSession()</code>\"  but I am not able to understand why it is not getting the currentSession which I opened using \"<code>sessionFactory.openSession()</code>\" when the request processing begins in the server.   </p>\n\n<p><strong>Error stack trace:</strong></p>\n\n<pre><code>    org.hibernate.HibernateException: Illegal attempt to associate a collection with\n two open sessions at org.hibernate.collection.internal.AbstractPersistentCollection.setCurrentSession(AbstractPersistentCollection.java:638)\n    at org.hibernate.event.internal.OnUpdateVisitor.processCollection(OnUpdateVisitor.java:65)\n    at org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:121)\n    at org.hibernate.event.internal.AbstractVisitor.processValue(AbstractVisitor.java:82)\n    at org.hibernate.event.internal.AbstractVisitor.processEntityPropertyValues(AbstractVisitor.java:76)\n    at org.hibernate.event.internal.AbstractVisitor.process(AbstractVisitor.java:143)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performUpdate(DefaultSaveOrUpdateEventListener.java:305)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsDetached(DefaultSaveOrUpdateEventListener.java:241)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:109)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:90)\n    at org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:735)\n    at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:727)\n    at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:723)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352)\n    at com.sun.proxy.$Proxy24.saveOrUpdate(Unknown Source)\n    at org.app.purchase.utils.PurchaseUtils.saveOrUpdateTransactionNew(PurchaseUtils.java:46)\n    at org.app.purchase.model.Transaction.createRefundTransaction(Transaction.java:422)\n    at org.app.purchase.application.RefundTransaction.refundTransaction(RefundTransaction.java:64)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.restlet.resource.ServerResource.doHandle(ServerResource.java:449)\n    at org.restlet.resource.ServerResource.get(ServerResource.java:645)\n    at org.restlet.resource.ServerResource.doHandle(ServerResource.java:527)\n    at org.restlet.resource.ServerResource.doNegotiatedHandle(ServerResource.java:587)\n    at org.restlet.resource.ServerResource.doConditionalHandle(ServerResource.java:299)\n    at org.restlet.resource.ServerResource.handle(ServerResource.java:846)\n    at org.restlet.resource.Finder.handle(Finder.java:510)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.routing.Router.doHandle(Router.java:497)\n    at org.restlet.routing.Router.handle(Router.java:737)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:151)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.engine.ChainHelper.handle(ChainHelper.java:111)\n    at org.restlet.engine.application.ApplicationHelper.handle(ApplicationHelper.java:72)\n    at org.restlet.Application.handle(Application.java:388)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.routing.Router.doHandle(Router.java:497)\n    at org.restlet.routing.Router.handle(Router.java:737)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.routing.Router.doHandle(Router.java:497)\n    at org.restlet.routing.Router.handle(Router.java:737)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:151)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.routing.Filter.doHandle(Filter.java:156)\n    at org.restlet.routing.Filter.handle(Filter.java:203)\n    at org.restlet.engine.ChainHelper.handle(ChainHelper.java:111)\n    at org.restlet.Component.handle(Component.java:388)\n    at org.restlet.Server.handle(Server.java:488)\n    at org.restlet.engine.http.connector.BaseServerHelper.handle(BaseServerHelper.java:158)\n    at org.restlet.engine.http.connector.BaseServerHelper.handleInbound(BaseServerHelper.java:167)\n    at org.restlet.engine.http.connector.BaseHelper.handleNextInbound(BaseHelper.java:418)\n    at org.restlet.engine.http.connector.Connection.readMessages(Connection.java:695)\n    at org.restlet.engine.http.connector.Controller$2.run(Controller.java:95)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","fragment"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1607959041,"post_id":65291229,"comment_id":115428359,"body_markdown":"Can you include your `fragment_identity_list` layout too?","body":"Can you include your <code>fragment_identity_list</code> layout too?"},{"owner":{"account_id":14540252,"reputation":21,"user_id":14824034,"display_name":"QuantumBinary"},"score":0,"creation_date":1607959734,"post_id":65291229,"comment_id":115428663,"body_markdown":"Yes I did an edit.","body":"Yes I did an edit."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1607959865,"post_id":65291229,"comment_id":115428735,"body_markdown":"IIRC RecyclerView works better if it&#39;s inside another layout (say a FrameLayout) and it&#39;s not the top-level element in fragment layout XML.","body":"IIRC RecyclerView works better if it&#39;s inside another layout (say a FrameLayout) and it&#39;s not the top-level element in fragment layout XML."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1607960829,"post_id":65291229,"comment_id":115429175,"body_markdown":"@laalto I haven&#39;t had any issue using RV as the root view of a Fragment.","body":"@laalto I haven&#39;t had any issue using RV as the root view of a Fragment."},{"owner":{"account_id":14540252,"reputation":21,"user_id":14824034,"display_name":"QuantumBinary"},"score":0,"creation_date":1607961505,"post_id":65291229,"comment_id":115429563,"body_markdown":"Thank you, it is no more crashing. However it is empty now","body":"Thank you, it is no more crashing. However it is empty now"},{"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"score":0,"creation_date":1607964170,"post_id":65291229,"comment_id":115430843,"body_markdown":"You didn&#39;t impelement `onBindViewHolder` in adapter","body":"You didn&#39;t impelement <code>onBindViewHolder</code> in adapter"},{"owner":{"account_id":14540252,"reputation":21,"user_id":14824034,"display_name":"QuantumBinary"},"score":0,"creation_date":1607966409,"post_id":65291229,"comment_id":115431904,"body_markdown":"I did. it wasn&quot;t showing because of the instanceof condition in onCreateView, it checked for a recycler view but it was a frameLayout.","body":"I did. it wasn&quot;t showing because of the instanceof condition in onCreateView, it checked for a recycler view but it was a frameLayout."},{"owner":{"account_id":14540252,"reputation":21,"user_id":14824034,"display_name":"QuantumBinary"},"score":0,"creation_date":1607966578,"post_id":65291229,"comment_id":115431979,"body_markdown":"It now works except I have a duplicate recycler view. I have a phantom one acting like a background. I think it is because onCreateView is called twice for some reason","body":"It now works except I have a duplicate recycler view. I have a phantom one acting like a background. I think it is because onCreateView is called twice for some reason"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1607998205,"post_id":65291229,"comment_id":115442156,"body_markdown":"If you fixed the problem yourself, please either delete your question or answer your own question if you think it is valuable to future readers.","body":"If you fixed the problem yourself, please either delete your question or answer your own question if you think it is valuable to future readers."}],"answers":[{"tags":[],"owner":{"account_id":14540252,"reputation":21,"user_id":14824034,"display_name":"QuantumBinary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608159909,"creation_date":1608159909,"answer_id":65332418,"question_id":65291229,"body_markdown":"The fix is putting the recycler view inside a frame layout.\r\n\r\nNB: I also inflated the fragment in Activity#onCreate, although it was already automatically inflated with the xml &lt;fragment/&gt;, which caused a &quot;phantom&quot; list behind the first one.\r\n\r\n\r\nfragment_identity_list:\r\n```\r\n&lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.activity.IdentityFragment&quot;&gt;\r\n\r\n    &lt;!--PUT RECYCLER VIEW IN A FRAME LAYOUT--&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/identityRecycler&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:listitem=&quot;@layout/fragment_identity&quot; /&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\nActivity onCreateView\r\n```\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n    {\r\n        View view = inflater.inflate(R.layout.fragment_identity_list, container, false);\r\n\r\n        RecyclerView recyclerView = view.findViewById(R.id.identityRecycler);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        recyclerView.setAdapter(new IdentityRecyclerViewAdapter(DummyContent.ITEMS, mListener))\r\n\r\n        return view;\r\n    }\r\n```","title":"Default android RecyclerView ViewHolder NPE shouldIgnore()","body":"<p>The fix is putting the recycler view inside a frame layout.</p>\n<p>NB: I also inflated the fragment in Activity#onCreate, although it was already automatically inflated with the xml , which caused a &quot;phantom&quot; list behind the first one.</p>\n<p>fragment_identity_list:</p>\n<pre><code>&lt;FrameLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.activity.IdentityFragment&quot;&gt;\n\n    &lt;!--PUT RECYCLER VIEW IN A FRAME LAYOUT--&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/identityRecycler&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:listitem=&quot;@layout/fragment_identity&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Activity onCreateView</p>\n<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n    {\n        View view = inflater.inflate(R.layout.fragment_identity_list, container, false);\n\n        RecyclerView recyclerView = view.findViewById(R.id.identityRecycler);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n        recyclerView.setAdapter(new IdentityRecyclerViewAdapter(DummyContent.ITEMS, mListener))\n\n        return view;\n    }\n</code></pre>\n"}],"owner":{"account_id":14540252,"reputation":21,"user_id":14824034,"display_name":"QuantumBinary"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65332418,"answer_count":1,"score":0,"last_activity_date":1700999543,"creation_date":1607957945,"question_id":65291229,"body_markdown":"I&#39;m using the default list fragment from android studio and it crashes when I use it in my activity. I saw similar errors but I found  no useful fix (I tried changing adapter getItemCount and recyclerView layoutManager)\r\n\r\nCrash log:\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean androidx.recyclerview.widget.RecyclerView$ViewHolder.shouldIgnore()&#39; on a null object reference\r\n        at androidx.recyclerview.widget.RecyclerView.findMinMaxChildLayoutPositions(RecyclerView.java:4311)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4045)\r\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3534)\r\n        at android.view.View.measure(View.java:26415)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7845)\r\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n```\r\n\r\n\r\nFragment onCreateView:\r\n```\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n    {\r\n        View view = inflater.inflate(R.layout.fragment_identity_list, container, false);\r\n\r\n        if (view instanceof RecyclerView)\r\n        {\r\n            RecyclerView recyclerView = (RecyclerView) view;\r\n\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n            recyclerView.setAdapter(new IdentityRecyclerViewAdapter(DummyContent.ITEMS, mListener)); \r\n        }\r\n\r\n        return view;\r\n    }\r\n```\r\n\r\nfragment_identity_list:\r\n```\r\n&lt;androidx.recyclerview.widget.RecyclerView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/identityRecycler&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    app:layoutManager=&quot;LinearLayoutManager&quot;\r\n    tools:context=&quot;.activity.IdentityFragment&quot;\r\n    tools:listitem=&quot;@layout/fragment_identity&quot; /&gt;\r\n```\r\n\r\nRecyclerViewAdapter:\r\n```\r\npublic class IdentityRecyclerViewAdapter extends RecyclerView.Adapter&lt;IdentityRecyclerViewAdapter.IdentityViewHolder&gt;\r\n{\r\n    private final List&lt;DummyItem&gt; mValues;\r\n    private final IdentityListFragmentInteractionListener mListener;\r\n\r\n    public IdentityRecyclerViewAdapter(List&lt;DummyItem&gt; items, IdentityListFragmentInteractionListener listener)\r\n    {\r\n        mValues = items;\r\n        mListener = listener;\r\n    }\r\n\r\n    @Override\r\n    public IdentityViewHolder onCreateViewHolder(ViewGroup parent, int viewType)\r\n    {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_identity, parent, false);\r\n        return new IdentityViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount()\r\n    {\r\n        return mValues.size();\r\n    }\r\n\r\n    public class IdentityViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        public final View mView;\r\n        public final TextView mIdView;\r\n        public final TextView mContentView;\r\n        public DummyItem mItem;\r\n\r\n        public IdentityViewHolder(View view)\r\n        {\r\n            super(view);\r\n            mView = view;\r\n            mIdView = view.findViewById(R.id.item_number);\r\n            mContentView = view.findViewById(R.id.content);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nActivity onCreate:\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_list);\r\n\r\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n        transaction.add(R.id.identityList, IdentityFragment.newInstance(ListType.ALL), &quot;List&quot;);\r\n        transaction.commit();\r\n    }\r\n```\r\n\r\nThe dummyContent.ITEMS is just a list of 25 elements &quot;item i&quot;.","title":"Default android RecyclerView ViewHolder NPE shouldIgnore()","body":"<p>I'm using the default list fragment from android studio and it crashes when I use it in my activity. I saw similar errors but I found  no useful fix (I tried changing adapter getItemCount and recyclerView layoutManager)</p>\n<p>Crash log:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean androidx.recyclerview.widget.RecyclerView$ViewHolder.shouldIgnore()' on a null object reference\n        at androidx.recyclerview.widget.RecyclerView.findMinMaxChildLayoutPositions(RecyclerView.java:4311)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4045)\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3534)\n        at android.view.View.measure(View.java:26415)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7845)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n</code></pre>\n<p>Fragment onCreateView:</p>\n<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n    {\n        View view = inflater.inflate(R.layout.fragment_identity_list, container, false);\n\n        if (view instanceof RecyclerView)\n        {\n            RecyclerView recyclerView = (RecyclerView) view;\n\n            recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n            recyclerView.setAdapter(new IdentityRecyclerViewAdapter(DummyContent.ITEMS, mListener)); \n        }\n\n        return view;\n    }\n</code></pre>\n<p>fragment_identity_list:</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/identityRecycler&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layoutManager=&quot;LinearLayoutManager&quot;\n    tools:context=&quot;.activity.IdentityFragment&quot;\n    tools:listitem=&quot;@layout/fragment_identity&quot; /&gt;\n</code></pre>\n<p>RecyclerViewAdapter:</p>\n<pre><code>public class IdentityRecyclerViewAdapter extends RecyclerView.Adapter&lt;IdentityRecyclerViewAdapter.IdentityViewHolder&gt;\n{\n    private final List&lt;DummyItem&gt; mValues;\n    private final IdentityListFragmentInteractionListener mListener;\n\n    public IdentityRecyclerViewAdapter(List&lt;DummyItem&gt; items, IdentityListFragmentInteractionListener listener)\n    {\n        mValues = items;\n        mListener = listener;\n    }\n\n    @Override\n    public IdentityViewHolder onCreateViewHolder(ViewGroup parent, int viewType)\n    {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_identity, parent, false);\n        return new IdentityViewHolder(view);\n    }\n\n    @Override\n    public int getItemCount()\n    {\n        return mValues.size();\n    }\n\n    public class IdentityViewHolder extends RecyclerView.ViewHolder\n    {\n        public final View mView;\n        public final TextView mIdView;\n        public final TextView mContentView;\n        public DummyItem mItem;\n\n        public IdentityViewHolder(View view)\n        {\n            super(view);\n            mView = view;\n            mIdView = view.findViewById(R.id.item_number);\n            mContentView = view.findViewById(R.id.content);\n        }\n    }\n}\n</code></pre>\n<p>Activity onCreate:</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_list);\n\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.add(R.id.identityList, IdentityFragment.newInstance(ListType.ALL), &quot;List&quot;);\n        transaction.commit();\n    }\n</code></pre>\n<p>The dummyContent.ITEMS is just a list of 25 elements &quot;item i&quot;.</p>\n"},{"tags":["java","spring","spring-boot","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":520031,"reputation":482,"user_id":2258090,"display_name":"Finbar Good"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700999067,"creation_date":1700999067,"answer_id":77551513,"question_id":77546470,"body_markdown":"If you want the count of nodes to which the `SET` was applied, return the count of rows:\r\n\r\n```sql\r\nMATCH (n:Student) WHERE n.id IN $idList \r\nSET n.isRegistered = true\r\nRETURN count(*) AS numAffected\r\n```\r\n\r\nIf you want the count of nodes whose value of `isRegistered` was changed, remove nodes that already have `isRegistered = true` with the `WHERE` clause:\r\n\r\n```sql\r\nMATCH (n:Student) \r\nWHERE n.id IN $idList AND NOT coalesce(n.isRegistered, false) \r\nSET n.isRegistered = true\r\nRETURN count(*) AS numAffected\r\n```\r\n\r\n(I&#39;ve just formatted as stand-alone Cypher to make it easier read.)","title":"Spring Data Neo4j return count of affected nodes after update operation","body":"<p>If you want the count of nodes to which the <code>SET</code> was applied, return the count of rows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>MATCH (n:Student) WHERE n.id IN $idList \nSET n.isRegistered = true\nRETURN count(*) AS numAffected\n</code></pre>\n<p>If you want the count of nodes whose value of <code>isRegistered</code> was changed, remove nodes that already have <code>isRegistered = true</code> with the <code>WHERE</code> clause:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>MATCH (n:Student) \nWHERE n.id IN $idList AND NOT coalesce(n.isRegistered, false) \nSET n.isRegistered = true\nRETURN count(*) AS numAffected\n</code></pre>\n<p>(I've just formatted as stand-alone Cypher to make it easier read.)</p>\n"}],"owner":{"account_id":18625023,"reputation":27,"user_id":13574344,"display_name":"stackoverflow_user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700999067,"creation_date":1700880286,"question_id":77546470,"body_markdown":"Is there any way to return the count of affected nodes after doing the update operation with Spring Data Neo4j repository?\r\n\r\ne.g\r\n```\r\n@Query(&quot;MATCH (n:Student) WHERE n.id IN $idList SET n.isRegistered = true&quot;)\r\nInteger updateRegisterInfo(@Param(&quot;idList&quot;) List&lt;String&gt; idList);\r\n```\r\n\r\nBut sdn can only return void/null value for such operation.\r\n\r\nThanks","title":"Spring Data Neo4j return count of affected nodes after update operation","body":"<p>Is there any way to return the count of affected nodes after doing the update operation with Spring Data Neo4j repository?</p>\n<p>e.g</p>\n<pre><code>@Query(&quot;MATCH (n:Student) WHERE n.id IN $idList SET n.isRegistered = true&quot;)\nInteger updateRegisterInfo(@Param(&quot;idList&quot;) List&lt;String&gt; idList);\n</code></pre>\n<p>But sdn can only return void/null value for such operation.</p>\n<p>Thanks</p>\n"},{"tags":["java","date","datetime","time"],"comments":[{"owner":{"account_id":3629749,"reputation":24724,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":1,"creation_date":1623318857,"post_id":67918780,"comment_id":120047605,"body_markdown":"You can use `LocalDate` class.","body":"You can use <code>LocalDate</code> class."},{"owner":{"account_id":8273106,"reputation":1428,"user_id":6220223,"display_name":"Beshambher Chaukhwan"},"score":2,"creation_date":1623319062,"post_id":67918780,"comment_id":120047699,"body_markdown":"Does this answer your question? [How to compare two Dates without the time portion?](https://stackoverflow.com/questions/1439779/how-to-compare-two-dates-without-the-time-portion)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1439779/how-to-compare-two-dates-without-the-time-portion\">How to compare two Dates without the time portion?</a>"},{"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1623323140,"post_id":67918780,"comment_id":120049367,"body_markdown":"Reopened it as the duplicate target was not an exact match.  This question differs from the duplicate target for two things: (1) It requires converting the epoch seconds to `Instant`. (2) The duplicate target talks only about the before/after scenario whereas this question also requires finding whether the timestamp refers to ***Yesterday***.","body":"Reopened it as the duplicate target was not an exact match.  This question differs from the duplicate target for two things: (1) It requires converting the epoch seconds to <code>Instant</code>. (2) The duplicate target talks only about the before/after scenario whereas this question also requires finding whether the timestamp refers to <b><i>Yesterday</i></b>."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1623354106,"post_id":67918780,"comment_id":120063152,"body_markdown":"I recommend you don’t use `Date` and `Calendar`. Those classes are poorly designed and long outdated. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Date</code> and <code>Calendar</code>. Those classes are poorly designed and long outdated. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623319258,"creation_date":1623318908,"answer_id":67918837,"question_id":67918780,"body_markdown":"The `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;, released in March 2014.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong timestampDate = 1623307684L;\r\n    \t\tInstant instant = Instant.ofEpochSecond(timestampDate);\r\n    \r\n    \t\t// Replace JVM&#39;s timezone, ZoneId.systemDefault() with the applicable timezone\r\n    \t\t// e.g. ZoneId.of(&quot;Etc/UTC&quot;)\r\n    \t\tLocalDate date = instant.atZone(ZoneId.systemDefault()).toLocalDate();\r\n    \t\tLocalDate today = LocalDate.now(ZoneId.systemDefault());\r\n    \t\tif (date.isBefore(today)) {\r\n    \t\t\tSystem.out.println(&quot;The given timestamp is for a date in the past.&quot;);\r\n    \t\t\t// ...\r\n    \t\t}\r\n    \r\n    \t\tif (date.equals(today.minusDays(1))) {\r\n    \t\t\tSystem.out.println(&quot;Yesterday&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;","title":"Check if Date is before today regardless hour","body":"<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>, released in March 2014.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        long timestampDate = 1623307684L;\n        Instant instant = Instant.ofEpochSecond(timestampDate);\n\n        // Replace JVM's timezone, ZoneId.systemDefault() with the applicable timezone\n        // e.g. ZoneId.of(&quot;Etc/UTC&quot;)\n        LocalDate date = instant.atZone(ZoneId.systemDefault()).toLocalDate();\n        LocalDate today = LocalDate.now(ZoneId.systemDefault());\n        if (date.isBefore(today)) {\n            System.out.println(&quot;The given timestamp is for a date in the past.&quot;);\n            // ...\n        }\n\n        if (date.equals(today.minusDays(1))) {\n            System.out.println(&quot;Yesterday&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":21776650,"reputation":19,"user_id":16078969,"display_name":"Toast Bread"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7971,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1700998178,"creation_date":1623318663,"question_id":67918780,"body_markdown":"I&#39;m trying to compare two Dates in Java, to know if one is before the actual day, but it compares the time too, so regardless is the same day, it says it&#39;s before because compares them with the time. Is there any way to just know if the date is before the current day, not the time?\r\n\r\nHere is the code I&#39;m using (the date comes from a times\r\n\r\n    long timestampDate = 1623307684;\r\n    Date date = new Date((long)timestampDate*1000);\r\n    if(date.before(Calendar.getInstance().getTime()))\r\n    {\r\n        System.out.println(&quot;Was yesterday&quot;);\r\n    }\r\n    else\r\n    {\r\n        System.out.println(&quot;Is today&quot;);\r\n    }","title":"Check if Date is before today regardless hour","body":"<p>I'm trying to compare two Dates in Java, to know if one is before the actual day, but it compares the time too, so regardless is the same day, it says it's before because compares them with the time. Is there any way to just know if the date is before the current day, not the time?</p>\n<p>Here is the code I'm using (the date comes from a times</p>\n<pre><code>long timestampDate = 1623307684;\nDate date = new Date((long)timestampDate*1000);\nif(date.before(Calendar.getInstance().getTime()))\n{\n    System.out.println(&quot;Was yesterday&quot;);\n}\nelse\n{\n    System.out.println(&quot;Is today&quot;);\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","overriding","look-and-feel"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1700983197,"post_id":77550771,"comment_id":136717140,"body_markdown":"The biggest thing I see wrong in your code fragment is using one character field names.  You haven&#39;t provided enough context to your question for anyone to comment.  Are you developing a [look and feel](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html)?","body":"The biggest thing I see wrong in your code fragment is using one character field names.  You haven&#39;t provided enough context to your question for anyone to comment.  Are you developing a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\" rel=\"nofollow noreferrer\">look and feel</a>?"},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1700987956,"post_id":77550771,"comment_id":136717452,"body_markdown":"The answer to the question _How to override a method of an already existing instance_ is: __You cannot do that__. There _might_ be a way to accomplish the goal your body text asks, so I&#39;m posting this as a comment and not an answer, but going by the question asked by the title? Nope.","body":"The answer to the question <i>How to override a method of an already existing instance</i> is: <b>You cannot do that</b>. There <i>might</i> be a way to accomplish the goal your body text asks, so I&#39;m posting this as a comment and not an answer, but going by the question asked by the title? Nope."},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700989909,"post_id":77550771,"comment_id":136717603,"body_markdown":"@GilbertLeBlanc yea i am trying to work on a look and feel","body":"@GilbertLeBlanc yea i am trying to work on a look and feel"},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700989968,"post_id":77550771,"comment_id":136717607,"body_markdown":"@rzwitserloot what would you think is a more appropriate title for my current question?","body":"@rzwitserloot what would you think is a more appropriate title for my current question?"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701105436,"post_id":77550771,"comment_id":136731160,"body_markdown":"Do you know about [`JFrame.setDefaultLookAndFeelDecorated(…)`](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultLookAndFeelDecorated(boolean))? If an application developer still changes `setUndecorated` explicitly for a specific window, you probably should respect that they want this window not to be look &amp; feel decorated…","body":"Do you know about <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultLookAndFeelDecorated(boolean)\" rel=\"nofollow noreferrer\"><code>JFrame.setDefaultLookAndFeelDecorated(…)</code></a>? If an application developer still changes <code>setUndecorated</code> explicitly for a specific window, you probably should respect that they want this window not to be look &amp; feel decorated…"}],"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700997999,"creation_date":1700982191,"question_id":77550771,"body_markdown":"I was working on JRootPaneUI (I am trying to develop a look and feel), and I was making a window with rounded corners. The issue is if I do not use `setShape`, it would leave some artifacts on the corner of the window. However to do so I should set the window to undecorated, and if someone decides to make their window decorated, it would break the UI. So, I was wondering how I could override the JFrame&#39;s `setUndecorated` method.\r\n\r\nCurrently this is the code I came up with.\r\n```\r\n@Override\r\npublic void installUI(JComponent component) {\r\n\t\t\r\n\tJRootPane rootPane = (JRootPane) component;\r\n\tJFrame frame = (JFrame) rootPane.getParent();\r\n\t\r\n    // Override instance frame&#39;s setUndecorated method here\r\n}\r\n```\r\nThere probably is something wrong about using the following method to get the JFrame, so if there is a better method to do so, please consider including it.","title":"How to prevent JFrame from being decorated","body":"<p>I was working on JRootPaneUI (I am trying to develop a look and feel), and I was making a window with rounded corners. The issue is if I do not use <code>setShape</code>, it would leave some artifacts on the corner of the window. However to do so I should set the window to undecorated, and if someone decides to make their window decorated, it would break the UI. So, I was wondering how I could override the JFrame's <code>setUndecorated</code> method.</p>\n<p>Currently this is the code I came up with.</p>\n<pre><code>@Override\npublic void installUI(JComponent component) {\n        \n    JRootPane rootPane = (JRootPane) component;\n    JFrame frame = (JFrame) rootPane.getParent();\n    \n    // Override instance frame's setUndecorated method here\n}\n</code></pre>\n<p>There probably is something wrong about using the following method to get the JFrame, so if there is a better method to do so, please consider including it.</p>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam"],"owner":{"account_id":9790557,"reputation":85,"user_id":10217464,"display_name":"Plus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700997336,"creation_date":1700997336,"question_id":77551417,"body_markdown":"Let&#39;s say we have a simple Apache Beam batch pipeline,  \r\nit reads a TSV file, parse it to a Java Record, and convert it to a TableRow for inserting into BigQuery:\r\n\r\n```java\r\npipeline.apply(TextIO.read().from(file))\r\n        .apply(ParDo.of(parseToRecord()))\r\n        .apply(ParDo.of(convertToTableRow()));\r\n```\r\n\r\n```java\r\npublic static DoFn&lt;String, Dummy&gt; parseToRecord() {\r\n    return new DoFn&lt;String, Dummy&gt;() {\r\n        @ProcessElement\r\n        public void processElement(ProcessContext context) {\r\n            context.output(new Dummy(context.element()));\r\n        }\r\n    };\r\n}\r\n\r\npublic static DoFn&lt;Dummy, TableRow&gt; convertToTableRow() {\r\n    return new DoFn&lt;Dummy,TableRow&gt;() {\r\n        @ProcessElement\r\n        public void processElement(ProcessContext context) {\r\n            Dummy dummy = context.element();\r\n            TableRow row = new TableRow()\r\n                    .set(&quot;id&quot;, dummy.id())\r\n                    .set(&quot;value&quot;, dummy.value());\r\n            context.output(row);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nThe code above works, but I want to reduce some boilerplates.  \r\nSo I created a method to generate DoFn using generics:\r\n\r\n```java\r\nprivate static &lt;T, R&gt; DoFn&lt;T, R&gt; process(Function&lt;T, R&gt; function) {\r\n    return new DoFn&lt;T, R&gt;() {\r\n        @ProcessElement\r\n        public void processElement(ProcessContext context) {\r\n            context.output(function.apply(context.element()));\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nand rewrote the pipeline like this:\r\n\r\n```java\r\npipeline.apply(TextIO.read().from(file))\r\n        .apply(ParDo.of(process(Dummy::new)))\r\n        .apply(ParDo.of(process(Dummy::toTableRow)));\r\n```\r\n\r\nIt compiles but failed to start:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Parse to Record/ParMultiDo(Anonymous).output [PCollection@2099348779]. Correct one of the following root causes:\r\n  No Coder has been manually specified;  you may do so using .setCoder().\r\n  Inferring a Coder from the CoderRegistry failed: Unable to provide a Coder for R.\r\n  Building a Coder using a registered CoderProvider failed.\r\n  See suppressed exceptions for detailed failures.\r\n  Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.\r\n        at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\r\n        at org.apache.beam.sdk.values.PCollection.getCoder(PCollection.java:282)\r\n        at org.apache.beam.sdk.values.PCollection.finishSpecifying(PCollection.java:113)\r\n        at org.apache.beam.sdk.runners.TransformHierarchy.finishSpecifyingInput(TransformHierarchy.java:154)\r\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:544)\r\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:496)\r\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:365)\r\n        at batch.Main.main(Main.java:28)\r\n```\r\n\r\nIt says &quot;you may do so using .setCoder()&quot;,  \r\nso I added 2 `.setCoder(AvroCoder.of(?.class))` for `Dummy.class` and `TableRow.class` but ends up with NotSerializableException:\r\n\r\n```\r\nCaused by: java.io.NotSerializableException: batch.Main$$Lambda$209/0x00000001013b3728\r\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\r\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\r\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\r\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\r\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\r\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\r\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\r\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\r\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\r\n        at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\r\n        at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\r\n        ... 21 more\r\n```\r\n\r\nHere&#39;s the record:\r\n\r\n```java\r\npublic record Dummy(String id, String value) implements Serializable {\r\n    Dummy(String line) { this(line.split(&quot;\\t&quot;)); }\r\n    Dummy(String[] array) { this(array[0], array[1]); }\r\n\r\n    public static TableRow toTableRow(Dummy dummy) {\r\n        return new TableRow()\r\n                .set(&quot;id&quot;, dummy.id())\r\n                .set(&quot;value&quot;, dummy.value());\r\n    }\r\n}\r\n```\r\n\r\nChanging it with generics essentially does not change any thing, doesn&#39;t it?  \r\nAll the Classes are determined while compile time so it was quite confused. \r\n\r\nAnd please tell me if I am doing the wrong thing (e.g. violating Apache Beam&#39;s concepts)","title":"Coder issue while generating DoFn with generics","body":"<p>Let's say we have a simple Apache Beam batch pipeline,<br />\nit reads a TSV file, parse it to a Java Record, and convert it to a TableRow for inserting into BigQuery:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pipeline.apply(TextIO.read().from(file))\n        .apply(ParDo.of(parseToRecord()))\n        .apply(ParDo.of(convertToTableRow()));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static DoFn&lt;String, Dummy&gt; parseToRecord() {\n    return new DoFn&lt;String, Dummy&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext context) {\n            context.output(new Dummy(context.element()));\n        }\n    };\n}\n\npublic static DoFn&lt;Dummy, TableRow&gt; convertToTableRow() {\n    return new DoFn&lt;Dummy,TableRow&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext context) {\n            Dummy dummy = context.element();\n            TableRow row = new TableRow()\n                    .set(&quot;id&quot;, dummy.id())\n                    .set(&quot;value&quot;, dummy.value());\n            context.output(row);\n        }\n    };\n}\n</code></pre>\n<p>The code above works, but I want to reduce some boilerplates.<br />\nSo I created a method to generate DoFn using generics:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T, R&gt; DoFn&lt;T, R&gt; process(Function&lt;T, R&gt; function) {\n    return new DoFn&lt;T, R&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext context) {\n            context.output(function.apply(context.element()));\n        }\n    };\n}\n</code></pre>\n<p>and rewrote the pipeline like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pipeline.apply(TextIO.read().from(file))\n        .apply(ParDo.of(process(Dummy::new)))\n        .apply(ParDo.of(process(Dummy::toTableRow)));\n</code></pre>\n<p>It compiles but failed to start:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Parse to Record/ParMultiDo(Anonymous).output [PCollection@2099348779]. Correct one of the following root causes:\n  No Coder has been manually specified;  you may do so using .setCoder().\n  Inferring a Coder from the CoderRegistry failed: Unable to provide a Coder for R.\n  Building a Coder using a registered CoderProvider failed.\n  See suppressed exceptions for detailed failures.\n  Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.\n        at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\n        at org.apache.beam.sdk.values.PCollection.getCoder(PCollection.java:282)\n        at org.apache.beam.sdk.values.PCollection.finishSpecifying(PCollection.java:113)\n        at org.apache.beam.sdk.runners.TransformHierarchy.finishSpecifyingInput(TransformHierarchy.java:154)\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:544)\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:496)\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:365)\n        at batch.Main.main(Main.java:28)\n</code></pre>\n<p>It says &quot;you may do so using .setCoder()&quot;,<br />\nso I added 2 <code>.setCoder(AvroCoder.of(?.class))</code> for <code>Dummy.class</code> and <code>TableRow.class</code> but ends up with NotSerializableException:</p>\n<pre><code>Caused by: java.io.NotSerializableException: batch.Main$$Lambda$209/0x00000001013b3728\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\n        at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\n        at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\n        ... 21 more\n</code></pre>\n<p>Here's the record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Dummy(String id, String value) implements Serializable {\n    Dummy(String line) { this(line.split(&quot;\\t&quot;)); }\n    Dummy(String[] array) { this(array[0], array[1]); }\n\n    public static TableRow toTableRow(Dummy dummy) {\n        return new TableRow()\n                .set(&quot;id&quot;, dummy.id())\n                .set(&quot;value&quot;, dummy.value());\n    }\n}\n</code></pre>\n<p>Changing it with generics essentially does not change any thing, doesn't it?<br />\nAll the Classes are determined while compile time so it was quite confused.</p>\n<p>And please tell me if I am doing the wrong thing (e.g. violating Apache Beam's concepts)</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":27259982,"reputation":36,"user_id":20782957,"display_name":"bunicu2k4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700994126,"creation_date":1700994126,"answer_id":77551256,"question_id":77551118,"body_markdown":"Try using @JsonDeserialize [Jackson annotation][1] on your class members that can be null in json and you want to have value &quot;false&quot; instead of null, like this:\r\n\r\n    public class MyJsonClass {\r\n        @JsonDeserialize(using = CustomDeserializer.class)\r\n        public String nullableMember;\r\n    }\r\n    \r\n    public class CustomDeserializer\r\n      extends StdDeserializer&lt;String&gt; {\r\n    \r\n        public CustomDeserializer() { \r\n            this(null); \r\n        } \r\n    \r\n        public CustomDeserializer(Class&lt;?&gt; vc) { \r\n            super(vc); \r\n        }\r\n    \r\n        @Override\r\n        public String deserialize(JsonParser jsonparser, DeserializationContext context) {\r\n            String text = jsonparser.getText();\r\n            if (null == text) {\r\n              text = &quot;false&quot;;\r\n            }\r\n            return text;\r\n        }\r\n    }\r\n  [1]: https://www.baeldung.com/jackson-annotations\r\n\r\n","title":"JsonNullable object is always has isPresent value = true","body":"<p>Try using @JsonDeserialize <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">Jackson annotation</a> on your class members that can be null in json and you want to have value &quot;false&quot; instead of null, like this:</p>\n<pre><code>public class MyJsonClass {\n    @JsonDeserialize(using = CustomDeserializer.class)\n    public String nullableMember;\n}\n\npublic class CustomDeserializer\n  extends StdDeserializer&lt;String&gt; {\n\n    public CustomDeserializer() { \n        this(null); \n    } \n\n    public CustomDeserializer(Class&lt;?&gt; vc) { \n        super(vc); \n    }\n\n    @Override\n    public String deserialize(JsonParser jsonparser, DeserializationContext context) {\n        String text = jsonparser.getText();\n        if (null == text) {\n          text = &quot;false&quot;;\n        }\n        return text;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7782088,"reputation":1,"user_id":5888200,"display_name":"linkforget"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700994126,"creation_date":1700991009,"question_id":77551118,"body_markdown":"I have a file with a json format. It stores the json object that I use in my tests. I convert this file to an object using objectmapper and it converts fine, but there is one problem. All fields in the object have a wrapper type of JsonNullabel. The problem is the following - all JsonNullabel objects even if they contain the null property value IsPresent = true. Because of this, the &quot;orElse&quot; and &quot;isPresent&quot; methods do not work correctly. And I get NPE. How can I make sure that when converting from a string or a file with json, these fields are equal to &quot;false&quot; if there is a null value inside?\r\n\r\nJson example:\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 12345,\r\n  &quot;mdmCode&quot;: 12345,\r\n  &quot;mdmLegalStatusCode&quot;: &quot;Enterprise&quot;,\r\n  .......................\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried this config for objectMapper:\r\nObjectMapper config:\r\n\r\n```\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new JavaTimeModule());\r\n    objectMapper.registerModule(new Jdk8Module());\r\n    objectMapper.registerModule(new JsonNullableModule());\r\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    objectMapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, false);\r\n```","title":"JsonNullable object is always has isPresent value = true","body":"<p>I have a file with a json format. It stores the json object that I use in my tests. I convert this file to an object using objectmapper and it converts fine, but there is one problem. All fields in the object have a wrapper type of JsonNullabel. The problem is the following - all JsonNullabel objects even if they contain the null property value IsPresent = true. Because of this, the &quot;orElse&quot; and &quot;isPresent&quot; methods do not work correctly. And I get NPE. How can I make sure that when converting from a string or a file with json, these fields are equal to &quot;false&quot; if there is a null value inside?</p>\n<p>Json example:</p>\n<pre><code>{\n  &quot;id&quot;: 12345,\n  &quot;mdmCode&quot;: 12345,\n  &quot;mdmLegalStatusCode&quot;: &quot;Enterprise&quot;,\n  .......................\n}\n</code></pre>\n<p>I've tried this config for objectMapper:\nObjectMapper config:</p>\n<pre><code>    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    objectMapper.registerModule(new Jdk8Module());\n    objectMapper.registerModule(new JsonNullableModule());\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    objectMapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, false);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jpa","javabeans"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1700974954,"post_id":77550474,"comment_id":136716685,"body_markdown":"It appears spring RUNTIME does not know the package is there, perhaps if it is &quot;jar&quot; ed the packaging mechanism is not aware of either the class or the code package to jar package. it probably could not pick up either the class file itself or the whole package for entities during buils.","body":"It appears spring RUNTIME does not know the package is there, perhaps if it is &quot;jar&quot; ed the packaging mechanism is not aware of either the class or the code package to jar package. it probably could not pick up either the class file itself or the whole package for entities during buils."},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1700975787,"post_id":77550474,"comment_id":136716739,"body_markdown":"Entities are not beans.  They are runtime pojo&#39;s that hold data from a database.","body":"Entities are not beans.  They are runtime pojo&#39;s that hold data from a database."},{"owner":{"account_id":29994150,"reputation":1,"user_id":22985970,"display_name":"Neeraj Yadav"},"score":0,"creation_date":1700976246,"post_id":77550474,"comment_id":136716760,"body_markdown":"yes , i agree with you but the error shows bean not found, how should i handle that?","body":"yes , i agree with you but the error shows bean not found, how should i handle that?"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700988181,"creation_date":1700988181,"answer_id":77550999,"question_id":77550474,"body_markdown":"Since you are targeting SpringBoot 3, you should change from `javax.persistence` to `jakarta.persistence` imports in your `Users` class.\r\n\r\nSpringBoot 3 major change is the adoption of JakartaEE 9 (with dropping jdk8 / jdk11 support to have jdk17 baseline), which leads to have to migrate from `javax` to `jakarta` for many JavaEE feature, including JPA.\r\n\r\nSince your code compile, I&#39;d also suggest to clean up your `pom.xml` to remove old JPA dependencies in order to drop `javax.persistence` recognized package (and so old JavaEE8 jpa support). ","title":"bean not getting created even after using @entity","body":"<p>Since you are targeting SpringBoot 3, you should change from <code>javax.persistence</code> to <code>jakarta.persistence</code> imports in your <code>Users</code> class.</p>\n<p>SpringBoot 3 major change is the adoption of JakartaEE 9 (with dropping jdk8 / jdk11 support to have jdk17 baseline), which leads to have to migrate from <code>javax</code> to <code>jakarta</code> for many JavaEE feature, including JPA.</p>\n<p>Since your code compile, I'd also suggest to clean up your <code>pom.xml</code> to remove old JPA dependencies in order to drop <code>javax.persistence</code> recognized package (and so old JavaEE8 jpa support).</p>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700994105,"creation_date":1700994105,"answer_id":77551255,"question_id":77550474,"body_markdown":"Based on version of `spring-boot`(3.2.0) that you are using I see some miss configuration to fix it\r\n\r\nRemove next one dependency from `pom.xml`\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso be sure that you will do replace in your project on imports from `javax.` to `jakarta.`. More details about it check [preparing-for-spring-boot-3-0][1]\r\n\r\nAs an example:\r\n Instead of \r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\nIt have to be:\r\n\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"bean not getting created even after using @entity","body":"<p>Based on version of <code>spring-boot</code>(3.2.0) that you are using I see some miss configuration to fix it</p>\n<p>Remove next one dependency from <code>pom.xml</code></p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also be sure that you will do replace in your project on imports from <code>javax.</code> to <code>jakarta.</code>. More details about it check <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">preparing-for-spring-boot-3-0</a></p>\n<p>As an example:\nInstead of</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n</code></pre>\n<p>It have to be:</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n</code></pre>\n"}],"owner":{"account_id":29994150,"reputation":1,"user_id":22985970,"display_name":"Neeraj Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700994105,"creation_date":1700973732,"question_id":77550474,"body_markdown":"I am not able to run my Spring Boot application, because there is an issue with JPA. But I am not able to find the problem and resolve it. I searched for a solution on several stack overflow topics, but not even one solution was helpful for me. I defined the following model:\r\n\r\ncode of my entity class- \r\n\r\n\r\n```\r\npackage com.ncu.legalVise.entities;\r\n\r\n\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@Entity\r\n@Table(name =&quot;users&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Users {\r\n\r\n\t\r\n//\tpublic Users(String username, String password, int enabled) {\r\n//\t\tsuper();\r\n//\t\tthis.username = username;\r\n//\t\tthis.password = password;\r\n//\t\tthis.enabled = enabled;\r\n//\t}\r\n//\r\n//\tpublic Users() {\r\n//\t\tsuper();\r\n//\t}\r\n\r\n\t@Id\r\n\tprivate String username;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate String password;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate int enabled;\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic int getEnabled() {\r\n\t\treturn enabled;\r\n\t}\r\n\r\n\tpublic void setEnabled(int enabled) {\r\n\t\tthis.enabled = enabled;\r\n\t}\r\n\r\n\t\r\n\t\r\n}\r\n```\r\nMy pom file -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ncu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;LegalVise&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;LegalVise&lt;/name&gt;\r\n\t&lt;description&gt;Legal Vise&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nmy controller - \r\n\r\n\r\n```\r\npackage com.ncu.legalVise.controller;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.ncu.legalVise.entities.Authorities;\r\nimport com.ncu.legalVise.entities.Users;\r\nimport com.ncu.legalVise.repository.AuthoritiesRepository;\r\nimport com.ncu.legalVise.repository.UsersRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/public/security&quot;)\r\npublic class SecurityController {\r\n\t\r\n\tUsers user;\r\n\tAuthorities authority;\r\n\tUsersRepository usersRepository;\r\n\tAuthoritiesRepository authoritiesRepository;\r\n\t\r\n\t@Autowired\r\n\tSecurityController(Users user, Authorities authority,UsersRepository usersRepository,AuthoritiesRepository authoritiesRepository)\r\n\t{\r\n\t\tuser = this.user;\r\n\t\tauthority= this.authority;\r\n\t\tusersRepository=this.usersRepository;\r\n\t\tauthoritiesRepository=this.authoritiesRepository;\r\n\t\t\r\n\t}\r\n\t@PostMapping(&quot;/register&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; register(@RequestBody String userName, @RequestBody String password, @RequestBody String authorities)\r\n\t{\r\n\t\tuser.setUsername(userName);\r\n\t\tuser.setPassword(password);\r\n\t\tuser.setEnabled(1);\r\n\t\tauthority.setUsername(userName);\r\n\t\tauthority.setAuthority(authorities);\r\n\t\tif(!usersRepository.existsById(userName))\r\n\t\t{\r\n\t\t\tusersRepository.save(user);\r\n\t\t\tauthoritiesRepository.save(authority);\r\n\t\t\treturn ResponseEntity.ok(usersRepository.findById(userName));\r\n\t\t}\r\n\t\treturn ResponseEntity.notFound().build();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nthe error message -\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.ncu.legalVise.controller.SecurityController required a bean of type &#39;com.ncu.legalVise.entities.Users&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.ncu.legalVise.entities.Users&#39; in your configuration.\r\n\r\nkindly help me solve this \r\n\r\n\r\n\r\n\r\ni tried changing dependencies but nothing worked","title":"bean not getting created even after using @entity","body":"<p>I am not able to run my Spring Boot application, because there is an issue with JPA. But I am not able to find the problem and resolve it. I searched for a solution on several stack overflow topics, but not even one solution was helpful for me. I defined the following model:</p>\n<p>code of my entity class-</p>\n<pre><code>package com.ncu.legalVise.entities;\n\n\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.springframework.stereotype.Service;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Entity\n@Table(name =&quot;users&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Users {\n\n    \n//  public Users(String username, String password, int enabled) {\n//      super();\n//      this.username = username;\n//      this.password = password;\n//      this.enabled = enabled;\n//  }\n//\n//  public Users() {\n//      super();\n//  }\n\n    @Id\n    private String username;\n    \n    @Column(nullable = false)\n    private String password;\n    \n    @Column(nullable = false)\n    private int enabled;\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public int getEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(int enabled) {\n        this.enabled = enabled;\n    }\n\n    \n    \n}\n</code></pre>\n<p>My pom file -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ncu&lt;/groupId&gt;\n    &lt;artifactId&gt;LegalVise&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;LegalVise&lt;/name&gt;\n    &lt;description&gt;Legal Vise&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        \n        \n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            \n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>my controller -</p>\n<pre><code>package com.ncu.legalVise.controller;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.ncu.legalVise.entities.Authorities;\nimport com.ncu.legalVise.entities.Users;\nimport com.ncu.legalVise.repository.AuthoritiesRepository;\nimport com.ncu.legalVise.repository.UsersRepository;\n\n@RestController\n@RequestMapping(&quot;/api/public/security&quot;)\npublic class SecurityController {\n    \n    Users user;\n    Authorities authority;\n    UsersRepository usersRepository;\n    AuthoritiesRepository authoritiesRepository;\n    \n    @Autowired\n    SecurityController(Users user, Authorities authority,UsersRepository usersRepository,AuthoritiesRepository authoritiesRepository)\n    {\n        user = this.user;\n        authority= this.authority;\n        usersRepository=this.usersRepository;\n        authoritiesRepository=this.authoritiesRepository;\n        \n    }\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;Object&gt; register(@RequestBody String userName, @RequestBody String password, @RequestBody String authorities)\n    {\n        user.setUsername(userName);\n        user.setPassword(password);\n        user.setEnabled(1);\n        authority.setUsername(userName);\n        authority.setAuthority(authorities);\n        if(!usersRepository.existsById(userName))\n        {\n            usersRepository.save(user);\n            authoritiesRepository.save(authority);\n            return ResponseEntity.ok(usersRepository.findById(userName));\n        }\n        return ResponseEntity.notFound().build();\n    }\n}\n\n</code></pre>\n<p>the error message -</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.ncu.legalVise.controller.SecurityController required a bean of type 'com.ncu.legalVise.entities.Users' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.ncu.legalVise.entities.Users' in your configuration.</p>\n<p>kindly help me solve this</p>\n<p>i tried changing dependencies but nothing worked</p>\n"},{"tags":["java","image-processing","raster","rgb","bufferedimage"],"comments":[{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":1,"creation_date":1701076961,"post_id":77550890,"comment_id":136725711,"body_markdown":"Do not put external images in the question. Most of us will not open random links from random people, and in any case this is a reference site, so we need all relevant information in the question, also in 10 or more years from now. -- So I do not know what you want, but you need to use only one component per time to build an image. Use H (or S, or L) and display only such component. How to map in RGB a single component it is about your choice of what you want to describe.","body":"Do not put external images in the question. Most of us will not open random links from random people, and in any case this is a reference site, so we need all relevant information in the question, also in 10 or more years from now. -- So I do not know what you want, but you need to use only one component per time to build an image. Use H (or S, or L) and display only such component. How to map in RGB a single component it is about your choice of what you want to describe."}],"owner":{"account_id":29914211,"reputation":1,"user_id":22924800,"display_name":"Michael243"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700993943,"creation_date":1700985590,"question_id":77550890,"body_markdown":"[Here is the experiment I am trying to emulate](https://i.stack.imgur.com/RdBjf.png)\r\n\r\nI am stuck on the first part and that is displaying the individual components of the HSB image like the ones shown in the experiment. \r\n\r\nI have extracted the HSB components for my RGB image, but I do not know how to display those components **individually**. I have however tried to convert the HSB values to RGB by multiplying with 255 and displaying them. the result is not what I wanted [result](https://i.stack.imgur.com/pNGhW.png). I wish to obtain the images shown in the experiment. I have studied the `BufferedImage`, `WritableRaster`, and `Color` class in Java but I don&#39;t see how I can do that. What am I missing here?\r\n\r\n\r\n```\r\npublic class HSBandHSL {\r\n\r\n\tpublic static int WIDTH = 450;\r\n\tpublic static int HEIGHT = 390;\r\n\r\n    //function to display an image to the screen\r\n\tpublic static void showImage(Image img, String label) throws IOException {\r\n\t\tImageIcon icon=new ImageIcon(img);\r\n\t\tJFrame frame=new JFrame(label);\r\n\t\tframe.setLayout(new FlowLayout());\r\n\t\tframe.setSize(WIDTH,HEIGHT);\r\n\t\tJLabel lbl=new JLabel();\r\n\t\tlbl.setIcon(icon);\r\n\t\tframe.add(lbl);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\r\n    //function to apply Color.RGBtoHSB to every pixel in the RGB image and construct s corresponding HSB image\r\n\tpublic static void myRGB2HSB(BufferedImage img) {\r\n\t\tfor(int i=0; i&lt;WIDTH;i++) {\r\n\t\t\tfor(int j=0;j&lt;HEIGHT;j++) {\r\n\t\t\t\tint pixel=img.getRGB(i,j);\r\n\t\t\t\tColor color = new Color(pixel);\r\n\t\t\t\tint red = color.getRed();\r\n\t\t\t\tint green = color.getGreen();\r\n\t\t\t\tint blue = color.getBlue();\r\n\t\t\t\tfloat [] hsbvals = new float[3];\r\n\t\t\t\tcolor.RGBtoHSB(red, green, blue, hsbvals);\r\n\t\t\t\thsbvals[0]=hsbvals[0]*255;\r\n\t\t\t\thsbvals[1]=hsbvals[1]*255;\r\n\t\t\t\thsbvals[2]=hsbvals[2]*255;\t\t\t\r\n\t\t\t\tWritableRaster imgRaster = img.getRaster();\r\n\t\t\t\timgRaster.setPixel(i, j, hsbvals);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\r\n        //read new image as RGB and display to screen\r\n\t\tBufferedImage img = null;\r\n\t\timg = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\r\n\t\tshowImage(img,&quot;RGB image&quot;);\r\n                \r\n        //read new image as RGB, convert it to HSB and display to screen\r\n\t\timg = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\r\n\t\tmyRGB2HSB(img);\r\n\t\tshowImage(img,&quot;HSB image&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n","title":"How do I dispaly individual components such as saturation in HSV and HLS models?","body":"<p><a href=\"https://i.stack.imgur.com/RdBjf.png\" rel=\"nofollow noreferrer\">Here is the experiment I am trying to emulate</a></p>\n<p>I am stuck on the first part and that is displaying the individual components of the HSB image like the ones shown in the experiment.</p>\n<p>I have extracted the HSB components for my RGB image, but I do not know how to display those components <strong>individually</strong>. I have however tried to convert the HSB values to RGB by multiplying with 255 and displaying them. the result is not what I wanted <a href=\"https://i.stack.imgur.com/pNGhW.png\" rel=\"nofollow noreferrer\">result</a>. I wish to obtain the images shown in the experiment. I have studied the <code>BufferedImage</code>, <code>WritableRaster</code>, and <code>Color</code> class in Java but I don't see how I can do that. What am I missing here?</p>\n<pre><code>public class HSBandHSL {\n\n    public static int WIDTH = 450;\n    public static int HEIGHT = 390;\n\n    //function to display an image to the screen\n    public static void showImage(Image img, String label) throws IOException {\n        ImageIcon icon=new ImageIcon(img);\n        JFrame frame=new JFrame(label);\n        frame.setLayout(new FlowLayout());\n        frame.setSize(WIDTH,HEIGHT);\n        JLabel lbl=new JLabel();\n        lbl.setIcon(icon);\n        frame.add(lbl);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    //function to apply Color.RGBtoHSB to every pixel in the RGB image and construct s corresponding HSB image\n    public static void myRGB2HSB(BufferedImage img) {\n        for(int i=0; i&lt;WIDTH;i++) {\n            for(int j=0;j&lt;HEIGHT;j++) {\n                int pixel=img.getRGB(i,j);\n                Color color = new Color(pixel);\n                int red = color.getRed();\n                int green = color.getGreen();\n                int blue = color.getBlue();\n                float [] hsbvals = new float[3];\n                color.RGBtoHSB(red, green, blue, hsbvals);\n                hsbvals[0]=hsbvals[0]*255;\n                hsbvals[1]=hsbvals[1]*255;\n                hsbvals[2]=hsbvals[2]*255;          \n                WritableRaster imgRaster = img.getRaster();\n                imgRaster.setPixel(i, j, hsbvals);\n                }\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        //read new image as RGB and display to screen\n        BufferedImage img = null;\n        img = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\n        showImage(img,&quot;RGB image&quot;);\n                \n        //read new image as RGB, convert it to HSB and display to screen\n        img = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\n        myRGB2HSB(img);\n        showImage(img,&quot;HSB image&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1700990158,"post_id":77551072,"comment_id":136717615,"body_markdown":"Pretty sure Guava can do this out of the box.","body":"Pretty sure Guava can do this out of the box."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700993141,"creation_date":1700993141,"answer_id":77551218,"question_id":77551072,"body_markdown":"[Guava][1]&#39;s `TypeToken` supports this. Use the `getSupertype` method on a `TypeToken` representing `Impl` to get the parameterised version of `AbstractClass3` with all the actual type parameters.\r\n\r\n```\r\nvar token = TypeToken.of(Impl.class);\r\nvar supertype = token.getSupertype(AbstractClass3.class).getType();\r\nvar typeArgs = ((ParameterizedType)supertype).getActualTypeArguments();\r\nSystem.out.println(Arrays.toString(typeArgs));\r\n// output: \r\n// [class java.lang.Boolean, interface java.util.Map, class java.lang.String]\r\n```\r\n\r\n  [1]: https://github.com/google/guava","title":"How resolve all actual types of an implementation class relative to a generic class or interface in java?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a>'s <code>TypeToken</code> supports this. Use the <code>getSupertype</code> method on a <code>TypeToken</code> representing <code>Impl</code> to get the parameterised version of <code>AbstractClass3</code> with all the actual type parameters.</p>\n<pre><code>var token = TypeToken.of(Impl.class);\nvar supertype = token.getSupertype(AbstractClass3.class).getType();\nvar typeArgs = ((ParameterizedType)supertype).getActualTypeArguments();\nSystem.out.println(Arrays.toString(typeArgs));\n// output: \n// [class java.lang.Boolean, interface java.util.Map, class java.lang.String]\n</code></pre>\n"}],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77551218,"answer_count":1,"score":-1,"last_activity_date":1700993141,"creation_date":1700989904,"question_id":77551072,"body_markdown":"I&#39;m trying to resolve all actual types of an implementation class relative to a generic class or interface.\r\n\r\nI have written an `ActualTypeArgumentsResolver` for this, but it only works when the TypeName remains consistent. I want to ignore the `TypeName` and get all the actual types. \r\nHow can I achieve this?\r\n\r\nAny help would be greatly appreciated. Thank you!\r\n\r\n```\t\r\n@Test\r\npublic void testIndirectlyExtendedGenericSuperclassWithDiffTypeName() {\r\n\r\n\tabstract class AbstractClass3&lt;AAA, BBB, CCC&gt; { }\r\n\r\n\tabstract class AbstractClass2&lt;AA, BB, CC&gt; extends AbstractClass3&lt;CC, Map, BB&gt; { }\r\n\r\n\tabstract class AbstractClass1&lt;A, B&gt; extends AbstractClass2&lt;Long, A, Boolean&gt; { }\r\n\r\n\tclass Impl extends AbstractClass1&lt;String, Integer&gt; {}\r\n\r\n\tType[] arr = ActualTypeArgumentsResolver.resolve(Impl.class, AbstractClass3.class);\r\n\r\n\tAssert.assertTrue(arr.length == 3);\r\n\tAssert.assertEquals(arr[0], Boolean.class);\r\n\tAssert.assertEquals(arr[1], Map.class);\r\n\tAssert.assertEquals(arr[2], String.class);\r\n}\r\n```\r\n\r\n","title":"How resolve all actual types of an implementation class relative to a generic class or interface in java?","body":"<p>I'm trying to resolve all actual types of an implementation class relative to a generic class or interface.</p>\n<p>I have written an <code>ActualTypeArgumentsResolver</code> for this, but it only works when the TypeName remains consistent. I want to ignore the <code>TypeName</code> and get all the actual types.\nHow can I achieve this?</p>\n<p>Any help would be greatly appreciated. Thank you!</p>\n<pre><code>@Test\npublic void testIndirectlyExtendedGenericSuperclassWithDiffTypeName() {\n\n    abstract class AbstractClass3&lt;AAA, BBB, CCC&gt; { }\n\n    abstract class AbstractClass2&lt;AA, BB, CC&gt; extends AbstractClass3&lt;CC, Map, BB&gt; { }\n\n    abstract class AbstractClass1&lt;A, B&gt; extends AbstractClass2&lt;Long, A, Boolean&gt; { }\n\n    class Impl extends AbstractClass1&lt;String, Integer&gt; {}\n\n    Type[] arr = ActualTypeArgumentsResolver.resolve(Impl.class, AbstractClass3.class);\n\n    Assert.assertTrue(arr.length == 3);\n    Assert.assertEquals(arr[0], Boolean.class);\n    Assert.assertEquals(arr[1], Map.class);\n    Assert.assertEquals(arr[2], String.class);\n}\n</code></pre>\n"},{"tags":["java","output","stdout"],"comments":[{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":1,"creation_date":1472165250,"post_id":39053801,"comment_id":65655187,"body_markdown":"You&#39;re getting your arguments via `args` (command line arguments) instead of STDIN (standard input).","body":"You&#39;re getting your arguments via <code>args</code> (command line arguments) instead of STDIN (standard input)."}],"answers":[{"tags":[],"owner":{"account_id":1252374,"reputation":1102,"user_id":1212526,"display_name":"Tan&#233; Tachyon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472165015,"creation_date":1472165015,"answer_id":39155862,"question_id":39053801,"body_markdown":"You&#39;re not reading from STDIN the way HackerRank wants you to. Instead of getting your input from args, you should be doing this kind of thing:\r\n\r\n      Scanner sc = new Scanner(System.in);\r\n      int numberOfTestCases = sc.nextInt();\r\n\r\nand so on.","title":"HackerRank says ~ no response on stdout ~","body":"<p>You're not reading from STDIN the way HackerRank wants you to. Instead of getting your input from args, you should be doing this kind of thing:</p>\n\n<pre><code>  Scanner sc = new Scanner(System.in);\n  int numberOfTestCases = sc.nextInt();\n</code></pre>\n\n<p>and so on.</p>\n"},{"tags":[],"owner":{"account_id":3160267,"reputation":633,"user_id":2671590,"display_name":"DoesEatOats"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554911687,"creation_date":1554909922,"answer_id":55616235,"question_id":39053801,"body_markdown":"I just ran this code, compiled fine and submitted it.\r\n\r\n    import java.io.*;\r\n    \r\n    public class Solution{\r\n        \r\n        public static void main(String[] args) throws IOException   \r\n       {\r\n            \r\n            //Input\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            int T = Integer.parseInt(br.readLine());\r\n            int[] N = new int[T];\r\n            for(int t = 0; t &lt; T; N[t++] = Integer.parseInt(br.readLine())){\r\n            }\r\n            br.close();\r\n            br = null;\r\n            \r\n            //Solve\r\n            long[] V = new long[T];\r\n            for(int t = 0; t &lt; T; ++t){\r\n                int n = N[t] - 1;\r\n                V[t] = 3*nSum(n/3) + 5*nSum(n/5) - 15*nSum(n/15);\r\n            }\r\n            \r\n            //Print\r\n            StringBuilder sb = new StringBuilder();\r\n            for(int t = 0; t &lt; T; sb.append(V[t++]).append(&quot;\\n&quot;)){\r\n            }\r\n            System.out.print(sb);\r\n        }\r\n        \r\n        public static long nSum(int n){\r\n            long v = n;\r\n            return (v*v + v) &gt;&gt; 1;\r\n        }\r\n    }\r\n\r\n   \r\n\r\n","title":"HackerRank says ~ no response on stdout ~","body":"<p>I just ran this code, compiled fine and submitted it.</p>\n\n<pre><code>import java.io.*;\n\npublic class Solution{\n\n    public static void main(String[] args) throws IOException   \n   {\n\n        //Input\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        int T = Integer.parseInt(br.readLine());\n        int[] N = new int[T];\n        for(int t = 0; t &lt; T; N[t++] = Integer.parseInt(br.readLine())){\n        }\n        br.close();\n        br = null;\n\n        //Solve\n        long[] V = new long[T];\n        for(int t = 0; t &lt; T; ++t){\n            int n = N[t] - 1;\n            V[t] = 3*nSum(n/3) + 5*nSum(n/5) - 15*nSum(n/15);\n        }\n\n        //Print\n        StringBuilder sb = new StringBuilder();\n        for(int t = 0; t &lt; T; sb.append(V[t++]).append(\"\\n\")){\n        }\n        System.out.print(sb);\n    }\n\n    public static long nSum(int n){\n        long v = n;\n        return (v*v + v) &gt;&gt; 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7832060,"reputation":63,"user_id":5921655,"display_name":"J.Ongoma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1656404166,"creation_date":1656404166,"answer_id":72782970,"question_id":39053801,"body_markdown":"I had the same problem with a php code and I used return instead of echoing for your case replace sout with return","title":"HackerRank says ~ no response on stdout ~","body":"<p>I had the same problem with a php code and I used return instead of echoing for your case replace sout with return</p>\n"}],"owner":{"account_id":6356623,"reputation":61,"user_id":4933663,"accept_rate":60,"display_name":"Rohan Sampson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17997,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1700993130,"creation_date":1471693822,"question_id":39053801,"body_markdown":"So I was solving this Question on HackerRank (Project Euler Q1) [link here][1], and have used the following code to solve it\r\n\r\n  [1]: https://www.hackerrank.com/contests/projecteuler/challenges/euler001\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n\r\n        int T = 0;\r\n        ArrayList&lt;Integer&gt; N = new ArrayList&lt;Integer&gt;();\r\n        String[] Input = args;\r\n        if  (args.length&gt;1){\r\n            T = Integer.parseInt(args[0]);\r\n            if(T&lt;1||T&gt;Math.pow(10,6))\r\n                System.exit(0);\r\n        }\r\n        if (args.length-1 == T){\r\n            for (int i=1;i&lt;args.length;i++){\r\n                N.add(Integer.parseInt(args[i]));\r\n                int sum3=0,sum5=0,sum15=0;\r\n                int count=0;\r\n                while (count&lt;N.get(i-1)){\r\n                    sum3+=count;\r\n                    count+=3;\r\n                }\r\n                count =0;\r\n                while (count&lt;N.get(i-1)){\r\n                    sum5+=count;\r\n                    count+=5;\r\n                }\r\n                count =0;\r\n                while (count&lt;N.get(i-1)){\r\n                    sum15+=count;\r\n                    count+=15;\r\n                }\r\n                N.set(i-1,(sum3+sum5-sum15));\r\n            }\r\n        }\r\n        for(int j=0;j&lt;N.size();j++)\r\n            System.out.println(N.get(j));\r\n        }\r\n    }\r\n\r\nThis gives me the following output on an IDE :\r\n\r\n    23\r\n    2318\r\n\r\nWhile Inputting : \r\n\r\n    2\r\n    10\r\n    100\r\n\r\nAnd this matches the expected output on HackerRank, but however When I use this code on the website, It says :\r\n\r\nInput (stdin)\r\n\r\n    2\r\n    10\r\n    100\r\n\r\nYour Output (stdout)\r\n\r\n    ~ no response on stdout ~\r\n\r\nExpected Output\r\n\r\n    23\r\n    2318\r\n\r\nCompiler Message\r\n\r\n    Wrong Answer\r\n\r\n\r\nOne thing I could observe was I couldn&#39;t print anything from inside a loop on HackerRank. What would the solution to this be?","title":"HackerRank says ~ no response on stdout ~","body":"<p>So I was solving this Question on HackerRank (Project Euler Q1) <a href=\"https://www.hackerrank.com/contests/projecteuler/challenges/euler001\" rel=\"nofollow\">link here</a>, and have used the following code to solve it</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\npublic static void main(String[] args) {\n    /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n\n    int T = 0;\n    ArrayList&lt;Integer&gt; N = new ArrayList&lt;Integer&gt;();\n    String[] Input = args;\n    if  (args.length&gt;1){\n        T = Integer.parseInt(args[0]);\n        if(T&lt;1||T&gt;Math.pow(10,6))\n            System.exit(0);\n    }\n    if (args.length-1 == T){\n        for (int i=1;i&lt;args.length;i++){\n            N.add(Integer.parseInt(args[i]));\n            int sum3=0,sum5=0,sum15=0;\n            int count=0;\n            while (count&lt;N.get(i-1)){\n                sum3+=count;\n                count+=3;\n            }\n            count =0;\n            while (count&lt;N.get(i-1)){\n                sum5+=count;\n                count+=5;\n            }\n            count =0;\n            while (count&lt;N.get(i-1)){\n                sum15+=count;\n                count+=15;\n            }\n            N.set(i-1,(sum3+sum5-sum15));\n        }\n    }\n    for(int j=0;j&lt;N.size();j++)\n        System.out.println(N.get(j));\n    }\n}\n</code></pre>\n\n<p>This gives me the following output on an IDE :</p>\n\n<pre><code>23\n2318\n</code></pre>\n\n<p>While Inputting : </p>\n\n<pre><code>2\n10\n100\n</code></pre>\n\n<p>And this matches the expected output on HackerRank, but however When I use this code on the website, It says :</p>\n\n<p>Input (stdin)</p>\n\n<pre><code>2\n10\n100\n</code></pre>\n\n<p>Your Output (stdout)</p>\n\n<pre><code>~ no response on stdout ~\n</code></pre>\n\n<p>Expected Output</p>\n\n<pre><code>23\n2318\n</code></pre>\n\n<p>Compiler Message</p>\n\n<pre><code>Wrong Answer\n</code></pre>\n\n<p>One thing I could observe was I couldn't print anything from inside a loop on HackerRank. What would the solution to this be?</p>\n"},{"tags":["java","spring","hibernate","jpa","jdbc"],"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":1,"creation_date":1407917178,"post_id":25280815,"comment_id":39395872,"body_markdown":"If you need relation mapping, maybe better use some ORM framework, Hibernate for example. You can do mapping by hand in Spring JDBC but it may cause N+1 Select problem or you should rewrite carefully all queries and join entity with dependency, plus mapper will be much more complicated.","body":"If you need relation mapping, maybe better use some ORM framework, Hibernate for example. You can do mapping by hand in Spring JDBC but it may cause N+1 Select problem or you should rewrite carefully all queries and join entity with dependency, plus mapper will be much more complicated."},{"owner":{"account_id":4593498,"reputation":642,"user_id":3726217,"accept_rate":70,"display_name":"Engineering Machine"},"score":3,"creation_date":1407917478,"post_id":25280815,"comment_id":39396032,"body_markdown":"Thank you for your answer mate. I have used ORM frameworks before but now I am developing a more complex system and I have been advised to use Spring JDBC because of its performance.","body":"Thank you for your answer mate. I have used ORM frameworks before but now I am developing a more complex system and I have been advised to use Spring JDBC because of its performance."},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":1,"creation_date":1407919466,"post_id":25280815,"comment_id":39397204,"body_markdown":"@user1516873 the problem of N+1 select is a design problem that can occur with or without using an ORM. IMHO, it is much more common on quickly designed ORM requests than on JDBC ones because all has to be explicit.","body":"@user1516873 the problem of N+1 select is a design problem that can occur with or without using an ORM. IMHO, it is much more common on quickly designed ORM requests than on JDBC ones because all has to be explicit."},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":0,"creation_date":1407934693,"post_id":25280815,"comment_id":39406666,"body_markdown":"@VladMatvei I do not want to insist much, but I think you should consider other solutions. If your application have so many users that Hibernate is the bottleneck (and you optimized all its queries), than you could already think of using a scalable NoSQL database. Otherwise, simply enable Hibernate&#39;s caching mechanism OR change your queries.","body":"@VladMatvei I do not want to insist much, but I think you should consider other solutions. If your application have so many users that Hibernate is the bottleneck (and you optimized all its queries), than you could already think of using a scalable NoSQL database. Otherwise, simply enable Hibernate&#39;s caching mechanism OR change your queries."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1700993059,"creation_date":1407919780,"answer_id":25281889,"question_id":25280815,"body_markdown":"You can use Hibernate without affecting your application performance, just check out this [Hibernate tutorial][1] for hundreds of examples related to mapping entities.\r\n\r\nAs for doing that in JDBC, you need to do the following steps:\r\n\r\n1. You need to use aliases to all selected columns so that the IDs columns won&#39;t clash.\r\n\r\n2. You can define two row mappers and use a join from Advert to Account and pass it to the AccountMapper:\r\n\r\n\t\tpublic class AdvertMapper implements RowMapper&lt;Advert&gt; {\r\n\r\n\t\t\tpublic Advert mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n\t\t\t\tAdvert advert = new Advert();\r\n\t\t\t\tadvert.setId(rs.getLong(&quot;advert_id&quot;));\r\n\t\t\t\tadvert.setText(rs.getString(&quot;advert_text&quot;));\r\n\t\t\t\treturn advert;\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic class AccountMapper implements RowMapper&lt;Account&gt; {\r\n\r\n\t\t\tprivate final AdvertMapper advertMapper;\r\n\t\t\t\r\n\t\t\tpublic AccountMapper(AdvertMapper advertMapper) {\r\n\t\t\t\tthis.advertMapper = advertMapper;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic Account mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n\t\t\t\tAccount account = new Account();\r\n\t\t\t\taccount.setId(rs.getLong(&quot;account_id&quot;));\r\n\t\t\t\taccount.setUsername(rs.getString(&quot;account_username&quot;));\r\n\t\t\t\t\r\n\t\t\t\tAdvert advert = this.advertMapper.mapRow(rs, rowNum);\r\n\t\t\t\tadvert.setAccount(account);\r\n\t\t\t\taccount.getAdverts().add(advert);\r\n\t\t\t\t\r\n\t\t\t\treturn account;\r\n\t\t\t}\r\n\t\t}\r\n\r\nThe `AccountMapper` uses the `AdvertMapper` to create Adverts from the joined data.\r\n\r\nCompare this to Hibernate, where all these mappings are resolved for you.\r\n\r\n  [1]: http://vladmihalcea.com/tutorials/hibernate/","title":"How to create relationships between objects in Spring JDBC?","body":"<p>You can use Hibernate without affecting your application performance, just check out this <a href=\"http://vladmihalcea.com/tutorials/hibernate/\" rel=\"nofollow noreferrer\">Hibernate tutorial</a> for hundreds of examples related to mapping entities.</p>\n<p>As for doing that in JDBC, you need to do the following steps:</p>\n<ol>\n<li><p>You need to use aliases to all selected columns so that the IDs columns won't clash.</p>\n</li>\n<li><p>You can define two row mappers and use a join from Advert to Account and pass it to the AccountMapper:</p>\n<pre><code> public class AdvertMapper implements RowMapper&lt;Advert&gt; {\n\n     public Advert mapRow(ResultSet rs, int rowNum) throws SQLException {\n         Advert advert = new Advert();\n         advert.setId(rs.getLong(&quot;advert_id&quot;));\n         advert.setText(rs.getString(&quot;advert_text&quot;));\n         return advert;      \n     }\n }\n\n public class AccountMapper implements RowMapper&lt;Account&gt; {\n\n     private final AdvertMapper advertMapper;\n\n     public AccountMapper(AdvertMapper advertMapper) {\n         this.advertMapper = advertMapper;\n     }\n\n     public Account mapRow(ResultSet rs, int rowNum) throws SQLException {\n         Account account = new Account();\n         account.setId(rs.getLong(&quot;account_id&quot;));\n         account.setUsername(rs.getString(&quot;account_username&quot;));\n\n         Advert advert = this.advertMapper.mapRow(rs, rowNum);\n         advert.setAccount(account);\n         account.getAdverts().add(advert);\n\n         return account;\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>The <code>AccountMapper</code> uses the <code>AdvertMapper</code> to create Adverts from the joined data.</p>\n<p>Compare this to Hibernate, where all these mappings are resolved for you.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1407920410,"creation_date":1407920410,"answer_id":25282115,"question_id":25280815,"body_markdown":"Well if you do not use an ORM ... you have no object relation mapping ! After all the ORMs were created for that reason :-)\r\n\r\nMore seriously, ORM saves you from writing a lot of boilerplate code. Using direct JDBC instead of JPA is a code optimisation. Like any other code optimisation, it should be used when appropriate. It **is** relevant for :\r\n\r\n- libraries using few tables that do not want to rely on an ORM (ex: user, roles, and ACL in spring security)\r\n- identified bottlenecks in larger application\r\n\r\nMy advice should be to first use JPA or native hibernate hidden in a DAO layer. Then carefully analyze your performance problems and rewrite the most expensive parts in JDBC. \r\n\r\nOf course, you can directly code you DAO implementations in JDBC, but it will be much longer to write.\r\n\r\nI almost forgot the essential part : in an ORM you map classes and relations, in JDBC you write independant SQL queries.","title":"How to create relationships between objects in Spring JDBC?","body":"<p>Well if you do not use an ORM ... you have no object relation mapping ! After all the ORMs were created for that reason :-)</p>\n\n<p>More seriously, ORM saves you from writing a lot of boilerplate code. Using direct JDBC instead of JPA is a code optimisation. Like any other code optimisation, it should be used when appropriate. It <strong>is</strong> relevant for :</p>\n\n<ul>\n<li>libraries using few tables that do not want to rely on an ORM (ex: user, roles, and ACL in spring security)</li>\n<li>identified bottlenecks in larger application</li>\n</ul>\n\n<p>My advice should be to first use JPA or native hibernate hidden in a DAO layer. Then carefully analyze your performance problems and rewrite the most expensive parts in JDBC. </p>\n\n<p>Of course, you can directly code you DAO implementations in JDBC, but it will be much longer to write.</p>\n\n<p>I almost forgot the essential part : in an ORM you map classes and relations, in JDBC you write independant SQL queries.</p>\n"},{"tags":[],"owner":{"account_id":4968401,"reputation":342,"user_id":3996996,"display_name":"user3996996"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491988019,"creation_date":1491988019,"answer_id":43365102,"question_id":25280815,"body_markdown":"Solving the one to one case is easy with as Vlad answered, If you want to map a one to many as your Account - Advert suggest you can&#39;t do that\r\nwith a RowMapper because you will try to map multiple rows of your ResultSet to one Account, many Advert.\r\n\r\nYou can also do that manually or you can also use http://simpleflatmapper.org that provides mapping from ResultSet to POJO with one to many support.\r\nBeware that the bidirectional relationship is not great there if you really want those it&#39;s possible but they won&#39;t be the same instance.\r\n\r\nCheckout \r\nhttp://simpleflatmapper.org/0104-getting-started-springjdbc.html\r\nand \r\nhttps://arnaudroger.github.io/blog/2017/02/27/jooq-one-to-many.html\r\n\r\nyou will need to get a ResutlSetExtractor - it&#39;s thread safe so only need one instance -, \r\n \r\n        private final ResultSetExtractor&lt;List&lt;Account&gt;&gt; mapper = \r\n            JdbcTemplateMapperFactory\r\n                .newInstance()\r\n                .addKeys(&quot;id&quot;) // assuming the account id will be on that column \r\n                .newResultSetExtractor(Account.class);\r\n\r\n        // in the method\r\n        String query = \r\n            &quot;SELECT ac.id as id, ac.username, ad.id as adverts_id, ad.text as adverts_text&quot;\r\n            + &quot;FROM account ac LEFT OUTER JOIN advert ad ON ad.account_id = ac.id order by id &quot; \r\n            // the order by id is important here as it uses the break on id on the root object \r\n            // to detect new root object creation\r\n            \r\n        List&lt;Account&gt; results = template.query(query, mapper);\r\n\r\nwith that you should get a list of account with the list of adverts populated. but advert won&#39;t have the account.\r\n","title":"How to create relationships between objects in Spring JDBC?","body":"<p>Solving the one to one case is easy with as Vlad answered, If you want to map a one to many as your Account - Advert suggest you can't do that\nwith a RowMapper because you will try to map multiple rows of your ResultSet to one Account, many Advert.</p>\n\n<p>You can also do that manually or you can also use <a href=\"http://simpleflatmapper.org\" rel=\"nofollow noreferrer\">http://simpleflatmapper.org</a> that provides mapping from ResultSet to POJO with one to many support.\nBeware that the bidirectional relationship is not great there if you really want those it's possible but they won't be the same instance.</p>\n\n<p>Checkout \n<a href=\"http://simpleflatmapper.org/0104-getting-started-springjdbc.html\" rel=\"nofollow noreferrer\">http://simpleflatmapper.org/0104-getting-started-springjdbc.html</a>\nand \n<a href=\"https://arnaudroger.github.io/blog/2017/02/27/jooq-one-to-many.html\" rel=\"nofollow noreferrer\">https://arnaudroger.github.io/blog/2017/02/27/jooq-one-to-many.html</a></p>\n\n<p>you will need to get a ResutlSetExtractor - it's thread safe so only need one instance -, </p>\n\n<pre><code>    private final ResultSetExtractor&lt;List&lt;Account&gt;&gt; mapper = \n        JdbcTemplateMapperFactory\n            .newInstance()\n            .addKeys(\"id\") // assuming the account id will be on that column \n            .newResultSetExtractor(Account.class);\n\n    // in the method\n    String query = \n        \"SELECT ac.id as id, ac.username, ad.id as adverts_id, ad.text as adverts_text\"\n        + \"FROM account ac LEFT OUTER JOIN advert ad ON ad.account_id = ac.id order by id \" \n        // the order by id is important here as it uses the break on id on the root object \n        // to detect new root object creation\n\n    List&lt;Account&gt; results = template.query(query, mapper);\n</code></pre>\n\n<p>with that you should get a list of account with the list of adverts populated. but advert won't have the account.</p>\n"}],"owner":{"account_id":4593498,"reputation":642,"user_id":3726217,"accept_rate":70,"display_name":"Engineering Machine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8406,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25282115,"answer_count":3,"score":6,"last_activity_date":1700993059,"creation_date":1407916271,"question_id":25280815,"body_markdown":"I want to implement relationships from JPA to Spring JDBC. For instance, assume I have Account and Advert objects. The relationship between Account and Advert is *@OneToMany* according to JPA.\r\n\r\n**Account class:**\r\n\r\n    public class Account {\r\n\r\n    private Long id;\r\n    private String username;\r\n    private Set&lt;Advert&gt; adverts = new HashSet&lt;Advert&gt;();\r\n\r\n    // getters + setters\r\n    }\r\n\r\n**Advert class:**\r\n\r\n    public class Advert {\r\n\r\n    private Long id;\r\n    private String text;\r\n    private Account account;\r\n    \r\n    // getters + setters\r\n    }\r\n\r\n**AccountMapper:**\r\n\r\n    public class AccountMapper implements RowMapper&lt;Account&gt; {\r\n\r\n    public Account mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        Account account = new Account();\r\n        account.setId(rs.getLong(&quot;id&quot;));\r\n        account.setUsername(rs.getString(&quot;username&quot;));\r\n        return account;\r\n    }\r\n    }\r\n\r\nNow, I am trying to create a Mapper for the Advert class. How can I map the account variable from the Advert class to a row? Many thanks","title":"How to create relationships between objects in Spring JDBC?","body":"<p>I want to implement relationships from JPA to Spring JDBC. For instance, assume I have Account and Advert objects. The relationship between Account and Advert is <em>@OneToMany</em> according to JPA.</p>\n\n<p><strong>Account class:</strong></p>\n\n<pre><code>public class Account {\n\nprivate Long id;\nprivate String username;\nprivate Set&lt;Advert&gt; adverts = new HashSet&lt;Advert&gt;();\n\n// getters + setters\n}\n</code></pre>\n\n<p><strong>Advert class:</strong></p>\n\n<pre><code>public class Advert {\n\nprivate Long id;\nprivate String text;\nprivate Account account;\n\n// getters + setters\n}\n</code></pre>\n\n<p><strong>AccountMapper:</strong></p>\n\n<pre><code>public class AccountMapper implements RowMapper&lt;Account&gt; {\n\npublic Account mapRow(ResultSet rs, int rowNum) throws SQLException {\n    Account account = new Account();\n    account.setId(rs.getLong(\"id\"));\n    account.setUsername(rs.getString(\"username\"));\n    return account;\n}\n}\n</code></pre>\n\n<p>Now, I am trying to create a Mapper for the Advert class. How can I map the account variable from the Advert class to a row? Many thanks</p>\n"},{"tags":["java","gradle","build.gradle","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"score":0,"creation_date":1701002643,"post_id":77551182,"comment_id":136718691,"body_markdown":"Might help if you ran with the stacktrace option (./gradlew --stacktrace or gradle --stacktrace) to show exactly where the error&#39;s coming from. You could also try downgrading the jei versions (1.20.1/10.2.1.1005) to see if that helps.","body":"Might help if you ran with the stacktrace option (./gradlew --stacktrace or gradle --stacktrace) to show exactly where the error&#39;s coming from. You could also try downgrading the jei versions (1.20.1/10.2.1.1005) to see if that helps."}],"owner":{"account_id":25889881,"reputation":21,"user_id":19617459,"display_name":"vixitu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700992246,"creation_date":1700992246,"question_id":77551182,"body_markdown":"So I am trying to add JEI as a mod dependency, I did it exactly how the docs said I should do it, and it gives me this weird error:\r\n\r\n    Build file &#39;C:\\Users\\vixitu\\Desktop\\vixitumodfolder\\build.gradle&#39; line: 60\r\n\r\nA problem occurred evaluating root project &#39;vixitumodfolder&#39;.\r\n&gt; No signature of method: java.math.BigDecimal.call() is applicable for argument types: (BigDecimal) values: [0.1]\r\n  Possible solutions: scale(), add(java.math.BigDecimal), max(java.math.BigDecimal), wait(), abs(), ulp()\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\nBUILD FAILED in 204ms\r\n\r\nThis is what my build.gradle looks like:\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.4-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n}\r\n\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nbase {\r\n\tarchivesName = project.archives_base_name\r\n}\r\n\r\nrepositories {\r\n\tmaven {\r\n\t\t// location of the maven that hosts JEI files since January 2023\r\n\t\tname = &quot;Jared&#39;s maven&quot;\r\n\t\turl = &quot;https://maven.blamejared.com/&quot;\r\n\t}\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\nloom {\r\n    runs {\r\n\t\t// This adds a new gradle task that runs the datagen API: &quot;gradlew runDatagen&quot;\r\n\t\tdatagen {\r\n\t\t\tinherit server\r\n\t\t\tname &quot;Data Generation&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen.output-dir=${file(&quot;src/main/generated&quot;)}&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen.modid=vixitumod&quot;\r\n \r\n\t\t\trunDir &quot;build/datagen&quot;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Add the generated resources to the main source set\r\nsourceSets {\r\n\tmain {\r\n\t\tresources {\r\n\t\t\tsrcDirs += [\r\n\t\t\t\t\t&#39;src/main/generated&#39;\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n}\r\ndependencies {\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\r\n\r\n\tmodCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-common-api:${10.2.1.1005}&quot;)\r\n\tmodCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-fabric-api:${10.2.1.1005}&quot;)\r\n\r\n\tmodRuntimeOnly(&quot;mezz.jei:jei-${1.20.1}-fabric:${10.2.1.1005}&quot;)\r\n\t\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\t// modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n\r\nprocessResources {\r\n\tinputs.property &quot;version&quot;, project.version\r\n\r\n\tfilesMatching(&quot;fabric.mod.json&quot;) {\r\n\t\texpand &quot;version&quot;: project.version\r\n\t}\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n\tit.options.release = 17\r\n}\r\n\r\njava {\r\n\t// Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\r\n\t// if it is present.\r\n\t// If you remove this line, sources will not be generated.\r\n\twithSourcesJar()\r\n\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n\ttargetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\njar {\r\n\tfrom(&quot;LICENSE&quot;) {\r\n\t\trename { &quot;${it}_${project.base.archivesName.get()}&quot;}\r\n\t}\r\n}\r\n\r\n// configure the maven publication\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication) {\r\n\t\t\tfrom components.java\r\n\t\t}\r\n\t}\r\n\r\n\t// See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\r\n\trepositories {\r\n\t\t// Add repositories to publish to here.\r\n\t\t// Notice: This block does NOT have the same function as the block in the top level.\r\n\t\t// The repositories here will be used for publishing your artifact, not for\r\n\t\t// retrieving dependencies.\r\n\t}\r\n}\r\n```","title":"A problem occured evaluating root project","body":"<p>So I am trying to add JEI as a mod dependency, I did it exactly how the docs said I should do it, and it gives me this weird error:</p>\n<pre><code>Build file 'C:\\Users\\vixitu\\Desktop\\vixitumodfolder\\build.gradle' line: 60\n</code></pre>\n<p>A problem occurred evaluating root project 'vixitumodfolder'.</p>\n<blockquote>\n<p>No signature of method: java.math.BigDecimal.call() is applicable for argument types: (BigDecimal) values: [0.1]\nPossible solutions: scale(), add(java.math.BigDecimal), max(java.math.BigDecimal), wait(), abs(), ulp()</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\nGet more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>.\nBUILD FAILED in 204ms</p>\n</blockquote>\n<p>This is what my build.gradle looks like:</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.4-SNAPSHOT'\n    id 'maven-publish'\n}\n\nversion = project.mod_version\ngroup = project.maven_group\n\nbase {\n    archivesName = project.archives_base_name\n}\n\nrepositories {\n    maven {\n        // location of the maven that hosts JEI files since January 2023\n        name = &quot;Jared's maven&quot;\n        url = &quot;https://maven.blamejared.com/&quot;\n    }\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\nloom {\n    runs {\n        // This adds a new gradle task that runs the datagen API: &quot;gradlew runDatagen&quot;\n        datagen {\n            inherit server\n            name &quot;Data Generation&quot;\n            vmArg &quot;-Dfabric-api.datagen&quot;\n            vmArg &quot;-Dfabric-api.datagen.output-dir=${file(&quot;src/main/generated&quot;)}&quot;\n            vmArg &quot;-Dfabric-api.datagen.modid=vixitumod&quot;\n \n            runDir &quot;build/datagen&quot;\n        }\n    }\n}\n\n// Add the generated resources to the main source set\nsourceSets {\n    main {\n        resources {\n            srcDirs += [\n                    'src/main/generated'\n            ]\n        }\n    }\n}\ndependencies {\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n\n    modCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-common-api:${10.2.1.1005}&quot;)\n    modCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-fabric-api:${10.2.1.1005}&quot;)\n\n    modRuntimeOnly(&quot;mezz.jei:jei-${1.20.1}-fabric:${10.2.1.1005}&quot;)\n    \n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    // modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n\nprocessResources {\n    inputs.property &quot;version&quot;, project.version\n\n    filesMatching(&quot;fabric.mod.json&quot;) {\n        expand &quot;version&quot;: project.version\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    it.options.release = 17\n}\n\njava {\n    // Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\n    // if it is present.\n    // If you remove this line, sources will not be generated.\n    withSourcesJar()\n\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\njar {\n    from(&quot;LICENSE&quot;) {\n        rename { &quot;${it}_${project.base.archivesName.get()}&quot;}\n    }\n}\n\n// configure the maven publication\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n        }\n    }\n\n    // See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\n    repositories {\n        // Add repositories to publish to here.\n        // Notice: This block does NOT have the same function as the block in the top level.\n        // The repositories here will be used for publishing your artifact, not for\n        // retrieving dependencies.\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","webview","tor"],"owner":{"account_id":16302552,"reputation":59,"user_id":13591002,"display_name":"ALZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700991326,"creation_date":1700991326,"question_id":77551129,"body_markdown":"I have a project that needs to access websites on Tor and view them on webview. (not android) Even though I tried every solution on the internet, I could not reach a solution. I also tried the libraries, but they do not give me the results I want. Can you help me on this issue?\r\n\r\n\r\n```\r\npackage com.example.demo1;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.web.WebEngine;\r\nimport javafx.scene.web.WebView;\r\n\r\n\r\npublic class HelloController {\r\n\r\n    public Button backBtn;\r\n    public Button ForwardBtn;\r\n    @FXML\r\n    private TextField urlTxt;\r\n    @FXML\r\n    private WebView webView;\r\n\r\n    private WebEngine webEngine;\r\n\r\n    public void initialize() {\r\n        webEngine = webView.getEngine();\r\n        webEngine.locationProperty().addListener((observable, oldValue, newValue) -&gt; urlTxt.setText(newValue));\r\n    }\r\n\r\n\r\n    public void onGoBtnAction() {\r\n        webEngine.load(urlTxt.getText());\r\n    }\r\n\r\n    public void onUrlTxtKeyPressed(KeyEvent keyEvent) {\r\n        if (keyEvent.getCode() == KeyCode.ENTER) onGoBtnAction();\r\n    }\r\n\r\n    public void onBackBtnAction() {\r\n        webEngine.executeScript(&quot;history.back()&quot;);\r\n    }\r\n\r\n    public void onForwardBtnAction() {\r\n        webEngine.executeScript(&quot;history.forward()&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOnly thing I know is I don&#39;t want to save page with HttpConnection to loadContect, beacuse if I do that resources doesn&#39;t load correctly, so CSS&#39; are disappearing and makes websites unreadable.\r\n\r\n\r\nI tried setting SOCKS and HTTP proxy via setProperty.\r\nand various libraries.","title":"JavaFX WebView over Tor","body":"<p>I have a project that needs to access websites on Tor and view them on webview. (not android) Even though I tried every solution on the internet, I could not reach a solution. I also tried the libraries, but they do not give me the results I want. Can you help me on this issue?</p>\n<pre><code>package com.example.demo1;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\n\n\npublic class HelloController {\n\n    public Button backBtn;\n    public Button ForwardBtn;\n    @FXML\n    private TextField urlTxt;\n    @FXML\n    private WebView webView;\n\n    private WebEngine webEngine;\n\n    public void initialize() {\n        webEngine = webView.getEngine();\n        webEngine.locationProperty().addListener((observable, oldValue, newValue) -&gt; urlTxt.setText(newValue));\n    }\n\n\n    public void onGoBtnAction() {\n        webEngine.load(urlTxt.getText());\n    }\n\n    public void onUrlTxtKeyPressed(KeyEvent keyEvent) {\n        if (keyEvent.getCode() == KeyCode.ENTER) onGoBtnAction();\n    }\n\n    public void onBackBtnAction() {\n        webEngine.executeScript(&quot;history.back()&quot;);\n    }\n\n    public void onForwardBtnAction() {\n        webEngine.executeScript(&quot;history.forward()&quot;);\n    }\n}\n</code></pre>\n<p>Only thing I know is I don't want to save page with HttpConnection to loadContect, beacuse if I do that resources doesn't load correctly, so CSS' are disappearing and makes websites unreadable.</p>\n<p>I tried setting SOCKS and HTTP proxy via setProperty.\nand various libraries.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1700990863,"post_id":77547552,"comment_id":136717673,"body_markdown":"Please clarify what you mean by &quot;this happens 1 time&quot;. What&#39;s &quot;this&quot;? Note that you&#39;re not actually checking the result from `deleteTopicsResult.all().get()`","body":"Please clarify what you mean by &quot;this happens 1 time&quot;. What&#39;s &quot;this&quot;? Note that you&#39;re not actually checking the result from <code>deleteTopicsResult.all().get()</code>"},{"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"score":0,"creation_date":1701058361,"post_id":77547552,"comment_id":136723637,"body_markdown":"What I&#39;m trying to say is that there is about a 0.1% chance of this problem occurring. \nI realize I couldn&#39;t explain the problem well. However, I could not understand how this problem could occur. I am sorry","body":"What I&#39;m trying to say is that there is about a 0.1% chance of this problem occurring.  I realize I couldn&#39;t explain the problem well. However, I could not understand how this problem could occur. I am sorry"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1701091046,"post_id":77547552,"comment_id":136728095,"body_markdown":"1) broker file deletion, or metadata removal from Zookeeper isn&#39;t immediate. 2) There&#39;s an open Kafka jira regrading this exact issue. Why use old Confluent version?","body":"1) broker file deletion, or metadata removal from Zookeeper isn&#39;t immediate. 2) There&#39;s an open Kafka jira regrading this exact issue. Why use old Confluent version?"},{"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"score":0,"creation_date":1701093911,"post_id":77547552,"comment_id":136728625,"body_markdown":"Can you send the link of the issue? From which version was this problem solved? If there is a known problem, I can upgrade to the version of Kafka you mentioned.","body":"Can you send the link of the issue? From which version was this problem solved? If there is a known problem, I can upgrade to the version of Kafka you mentioned."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1701113503,"post_id":77547552,"comment_id":136732548,"body_markdown":"Not sure if it has been fixed, but [here](https://issues.apache.org/jira/browse/KAFKA-8064) is one about a flaky test around recreation, but in general, Kafka 3.x / Confluent 7.x releases are suggested and within current Confluent Support timeframes","body":"Not sure if it has been fixed, but <a href=\"https://issues.apache.org/jira/browse/KAFKA-8064\" rel=\"nofollow noreferrer\">here</a> is one about a flaky test around recreation, but in general, Kafka 3.x / Confluent 7.x releases are suggested and within current Confluent Support timeframes"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1701114318,"post_id":77547552,"comment_id":136732673,"body_markdown":"Also this https://issues.apache.org/jira/browse/KAFKA-15619","body":"Also this <a href=\"https://issues.apache.org/jira/browse/KAFKA-15619\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/KAFKA-15619</a>"}],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700990955,"creation_date":1700909422,"question_id":77547552,"body_markdown":"I need to delete some topics in my project at any time. \r\n\r\nI was able to achieve this using AdminClient. However, sometimes I have a problem. Let&#39;s say I want to delete topic &quot;xtopic&quot;. Kafka is really deleting this topic. Then I create it again programmatically. I also see that topic has been created. \r\n\r\nEven though I send no deletion request again, the relevant topic is deleted within a few seconds. Even if I create the topic over and over again, I experience the same situation. I manage to create the topic, but kafka deletes the topic within a few seconds.. If I want to delete 1000 topics, this happens 1 time. I couldn&#39;t understand the situation. Why might such a problem occur?\r\n\r\n - Kafka Server: cp-kafka:5.3.0-jmx-prometheus \r\n - Cluster: 6 Kafka Servers\r\n - Microservices: 70 Microservices\r\n - Kafka Client Version: 2.6.3\r\n - auto.create.topic : false\r\n\r\nTopic Configuration : \r\n\r\n    default-configuration:\r\n      kafka:\r\n        replication-factor: 6\r\n        partition-count: 8\r\n        min-insync-replicas: 3\r\n        retention-ms: 300000000\r\n        segment-bytes: 300000000\r\n\r\n\r\nDelete Topic Code : \r\n\r\n    private void deleteTopics(AdminClient adminClient, Collection&lt;String&gt; topicNameCollection) {\r\n        this.getRetryTemplate().execute((retryContext) -&gt; {\r\n            Set&lt;String&gt; allTopicSet = adminClient.listTopics().names().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\r\n            List&lt;String&gt; existingTopics = topicNameCollection.stream().filter(allTopicSet::contains).collect(Collectors.toList());\r\n            if (!existingTopics.isEmpty()) {\r\n                DeleteTopicsResult deleteTopicsResult = adminClient.deleteTopics(topicNameCollection);\r\n                try {\r\n                    deleteTopicsResult.all().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\r\n                } catch (Exception var6) {\r\n                    throw new CannotDeleteTopicException(&quot;An error occurred while deleting topic.&quot;, var6);\r\n                }\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n\r\nKafka Server Log : \r\n\r\n\r\n    [2023-11-25 14:09:21,396] INFO [Controller id=3] New partition creation callback for example-topic-live-321-0 (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from NonExistentPartition to NewPartition with assigned replicas 3 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NonExistentReplica to NewReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 from NewPartition to OnlinePartition with state LeaderAndIsr(leader=3, leaderEpoch=0, isr=List(3), zkVersion=0) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending become-leader LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) to broker 3 for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NewReplica to OnlineReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,428] TRACE [Broker id=3] Received LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) correlation id 3415 from controller 3 epoch 1 for partition example-topic-live-321-0 (state.change.logger)\r\n   \r\n    [2023-11-25 14:09:21,428] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3410 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,429] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,429] TRACE [Broker id=3] Handling LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 starting the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,429] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\r\n    \r\n    \r\n    [2023-11-25 14:09:21,431] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3407 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,433] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3415 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\r\n    \r\n    \r\n    [2023-11-25 14:09:21,436] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Loading producer state till offset 0 with message format version 2 (kafka.log.Log)\r\n    \r\n    [2023-11-25 14:09:21,437] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Completed load of log with 1 segments, log start offset 0 and log end offset 0 in 2 ms (kafka.log.Log)\r\n    \r\n    [2023-11-25 14:09:21,437] INFO Created log for partition example-topic-live-321-0 in /var/lib/kafka/data with properties {compression.type -&gt; producer, message.downconversion.enable -&gt; true, min.insync.replicas -&gt; 1, segment.jitter.ms -&gt; 0, cleanup.policy -&gt; [delete], flush.ms -&gt; 9223372036854775807, segment.bytes -&gt; 1073741824, retention.ms -&gt; 604800000, flush.messages -&gt; 9223372036854775807, message.format.version -&gt; 2.3-IV1, file.delete.delay.ms -&gt; 60000, max.compaction.lag.ms -&gt; 9223372036854775807, max.message.bytes -&gt; 20971520, min.compaction.lag.ms -&gt; 0, message.timestamp.type -&gt; CreateTime, preallocate -&gt; false, min.cleanable.dirty.ratio -&gt; 0.5, index.interval.bytes -&gt; 4096, unclean.leader.election.enable -&gt; false, retention.bytes -&gt; -1, delete.retention.ms -&gt; 86400000, segment.ms -&gt; 604800000, message.timestamp.difference.max.ms -&gt; 9223372036854775807, segment.index.bytes -&gt; 10485760}. (kafka.log.LogManager)\r\n    \r\n    [2023-11-25 14:09:21,439] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] No checkpointed highwatermark is found for partition example-topic-live-321-0 (kafka.cluster.Partition)\r\n    \r\n    [2023-11-25 14:09:21,469] INFO Replica loaded for partition example-topic-live-321-0 with initial high watermark 0 (kafka.cluster.Replica)\r\n    \r\n    [2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] example-topic-live-321-0 starts at Leader Epoch 0 from offset 0. Previous Leader Epoch was: -1 (kafka.cluster.Partition)\r\n    \r\n    [2023-11-25 14:09:21,473] TRACE [Broker id=3] Stopped fetchers as part of become-leader request from controller 3 epoch 1 with correlation id 3415 for partition example-topic-live-321-0 (last update controller epoch 1) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,473] TRACE [Broker id=3] Completed LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 for the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,474] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request LEADER_AND_ISR with correlation id 3415 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,475] TRACE [Broker id=3] Cached leader info PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) for partition example-topic-live-321-0 in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3416 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,476] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,613] DEBUG [Controller id=3] Delete topics listener fired for topics example-topic-live-321 to be deleted (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Controller id=3] Starting topic deletion for topics example-topic-live-321 (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 (re)started (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Topic deletion callback for example-topic-live-321 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OnlinePartition to OfflinePartition (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OfflinePartition to NonExistentPartition (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,614] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=-2, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,614] INFO [Topic Deletion Manager 3] Partition deletion callback for example-topic-live-321-0 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,617] TRACE [Broker id=3] Deleted partition example-topic-live-321-0 from metadata cache in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3417 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,618] INFO [GroupCoordinator 3]: Removed 0 offsets associated with deleted partitions: example-topic-live-321-0. (kafka.coordinator.group.GroupCoordinator)\r\n    \r\n    [2023-11-25 14:09:25,619] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3411 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,621] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3417 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,623] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3408 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,631] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OnlineReplica to OfflineReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,743] DEBUG The stop replica request (delete = false) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],false) (kafka.controller.ControllerBrokerRequestBatch)\r\n    \r\n    [2023-11-25 14:09:25,743] DEBUG [Topic Deletion Manager 3] Deletion started for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OfflineReplica to ReplicaDeletionStarted (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,744] DEBUG The stop replica request (delete = true) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],true) (kafka.controller.ControllerBrokerRequestBatch)\r\n    \r\n    [2023-11-25 14:09:25,748] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\r\n    \r\n    [2023-11-25 14:09:25,748] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\r\n    \r\n    [2023-11-25 14:09:25,749] TRACE [Broker id=3] Handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\r\n   \r\n    [2023-11-25 14:09:25,749] TRACE [Broker id=3] Finished handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,751] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3418 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,752] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\r\n    \r\n    [2023-11-25 14:09:25,752] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\r\n   \r\n    [2023-11-25 14:09:25,752] TRACE [Broker id=3] Handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted and paused (kafka.log.LogCleaner)\r\n    \r\n    [2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted (kafka.log.LogCleaner)\r\n    \r\n    [2023-11-25 14:09:25,863] INFO Log for partition example-topic-live-321-0 is renamed to /var/lib/kafka/data/example-topic-live-321-0.68e5c26ab83a4b8ba3424ef5178ff1ca-delete and is scheduled for deletion (kafka.log.LogManager)\r\n    \r\n    [2023-11-25 14:09:25,863] TRACE [Broker id=3] Finished handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3419 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,864] DEBUG [Controller id=3] Delete topic callback invoked on StopReplica response received from broker 3: request error = NONE, partition errors = Map(example-topic-live-321-0 -&gt; NONE) (kafka.controller.KafkaController)\r\n   \r\n    [2023-11-25 14:09:25,864] DEBUG [Topic Deletion Manager 3] Deletion successfully completed for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionStarted to ReplicaDeletionSuccessful (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,864] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionSuccessful to NonExistentReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,897] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 successfully completed (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,938] INFO [Controller id=3] New topics: [Set()], deleted topics: [Set()], new partition replica assignment [Map()] (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:25,964] DEBUG [Controller id=3] Delete topics listener fired for topics  to be deleted (kafka.controller.KafkaController)","title":"Kafka Topic Delete And Recreation Problem","body":"<p>I need to delete some topics in my project at any time.</p>\n<p>I was able to achieve this using AdminClient. However, sometimes I have a problem. Let's say I want to delete topic &quot;xtopic&quot;. Kafka is really deleting this topic. Then I create it again programmatically. I also see that topic has been created.</p>\n<p>Even though I send no deletion request again, the relevant topic is deleted within a few seconds. Even if I create the topic over and over again, I experience the same situation. I manage to create the topic, but kafka deletes the topic within a few seconds.. If I want to delete 1000 topics, this happens 1 time. I couldn't understand the situation. Why might such a problem occur?</p>\n<ul>\n<li>Kafka Server: cp-kafka:5.3.0-jmx-prometheus</li>\n<li>Cluster: 6 Kafka Servers</li>\n<li>Microservices: 70 Microservices</li>\n<li>Kafka Client Version: 2.6.3</li>\n<li>auto.create.topic : false</li>\n</ul>\n<p>Topic Configuration :</p>\n<pre><code>default-configuration:\n  kafka:\n    replication-factor: 6\n    partition-count: 8\n    min-insync-replicas: 3\n    retention-ms: 300000000\n    segment-bytes: 300000000\n</code></pre>\n<p>Delete Topic Code :</p>\n<pre><code>private void deleteTopics(AdminClient adminClient, Collection&lt;String&gt; topicNameCollection) {\n    this.getRetryTemplate().execute((retryContext) -&gt; {\n        Set&lt;String&gt; allTopicSet = adminClient.listTopics().names().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\n        List&lt;String&gt; existingTopics = topicNameCollection.stream().filter(allTopicSet::contains).collect(Collectors.toList());\n        if (!existingTopics.isEmpty()) {\n            DeleteTopicsResult deleteTopicsResult = adminClient.deleteTopics(topicNameCollection);\n            try {\n                deleteTopicsResult.all().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\n            } catch (Exception var6) {\n                throw new CannotDeleteTopicException(&quot;An error occurred while deleting topic.&quot;, var6);\n            }\n        }\n        return null;\n    });\n}\n</code></pre>\n<p>Kafka Server Log :</p>\n<pre><code>[2023-11-25 14:09:21,396] INFO [Controller id=3] New partition creation callback for example-topic-live-321-0 (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from NonExistentPartition to NewPartition with assigned replicas 3 (state.change.logger)\n\n[2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NonExistentReplica to NewReplica (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 from NewPartition to OnlinePartition with state LeaderAndIsr(leader=3, leaderEpoch=0, isr=List(3), zkVersion=0) (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending become-leader LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) to broker 3 for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NewReplica to OnlineReplica (state.change.logger)\n\n[2023-11-25 14:09:21,428] TRACE [Broker id=3] Received LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) correlation id 3415 from controller 3 epoch 1 for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,428] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3410 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,429] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,429] TRACE [Broker id=3] Handling LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 starting the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,429] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\n\n\n[2023-11-25 14:09:21,431] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3407 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,433] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3415 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\n\n\n[2023-11-25 14:09:21,436] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Loading producer state till offset 0 with message format version 2 (kafka.log.Log)\n\n[2023-11-25 14:09:21,437] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Completed load of log with 1 segments, log start offset 0 and log end offset 0 in 2 ms (kafka.log.Log)\n\n[2023-11-25 14:09:21,437] INFO Created log for partition example-topic-live-321-0 in /var/lib/kafka/data with properties {compression.type -&gt; producer, message.downconversion.enable -&gt; true, min.insync.replicas -&gt; 1, segment.jitter.ms -&gt; 0, cleanup.policy -&gt; [delete], flush.ms -&gt; 9223372036854775807, segment.bytes -&gt; 1073741824, retention.ms -&gt; 604800000, flush.messages -&gt; 9223372036854775807, message.format.version -&gt; 2.3-IV1, file.delete.delay.ms -&gt; 60000, max.compaction.lag.ms -&gt; 9223372036854775807, max.message.bytes -&gt; 20971520, min.compaction.lag.ms -&gt; 0, message.timestamp.type -&gt; CreateTime, preallocate -&gt; false, min.cleanable.dirty.ratio -&gt; 0.5, index.interval.bytes -&gt; 4096, unclean.leader.election.enable -&gt; false, retention.bytes -&gt; -1, delete.retention.ms -&gt; 86400000, segment.ms -&gt; 604800000, message.timestamp.difference.max.ms -&gt; 9223372036854775807, segment.index.bytes -&gt; 10485760}. (kafka.log.LogManager)\n\n[2023-11-25 14:09:21,439] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] No checkpointed highwatermark is found for partition example-topic-live-321-0 (kafka.cluster.Partition)\n\n[2023-11-25 14:09:21,469] INFO Replica loaded for partition example-topic-live-321-0 with initial high watermark 0 (kafka.cluster.Replica)\n\n[2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] example-topic-live-321-0 starts at Leader Epoch 0 from offset 0. Previous Leader Epoch was: -1 (kafka.cluster.Partition)\n\n[2023-11-25 14:09:21,473] TRACE [Broker id=3] Stopped fetchers as part of become-leader request from controller 3 epoch 1 with correlation id 3415 for partition example-topic-live-321-0 (last update controller epoch 1) (state.change.logger)\n\n[2023-11-25 14:09:21,473] TRACE [Broker id=3] Completed LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 for the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,474] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request LEADER_AND_ISR with correlation id 3415 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,475] TRACE [Broker id=3] Cached leader info PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) for partition example-topic-live-321-0 in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3416 (state.change.logger)\n\n[2023-11-25 14:09:21,476] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,613] DEBUG [Controller id=3] Delete topics listener fired for topics example-topic-live-321 to be deleted (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,613] INFO [Controller id=3] Starting topic deletion for topics example-topic-live-321 (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 (re)started (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Topic deletion callback for example-topic-live-321 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OnlinePartition to OfflinePartition (state.change.logger)\n\n[2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OfflinePartition to NonExistentPartition (state.change.logger)\n\n[2023-11-25 14:09:25,614] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=-2, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,614] INFO [Topic Deletion Manager 3] Partition deletion callback for example-topic-live-321-0 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,617] TRACE [Broker id=3] Deleted partition example-topic-live-321-0 from metadata cache in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3417 (state.change.logger)\n\n[2023-11-25 14:09:25,618] INFO [GroupCoordinator 3]: Removed 0 offsets associated with deleted partitions: example-topic-live-321-0. (kafka.coordinator.group.GroupCoordinator)\n\n[2023-11-25 14:09:25,619] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3411 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,621] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3417 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,623] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3408 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,631] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OnlineReplica to OfflineReplica (state.change.logger)\n\n[2023-11-25 14:09:25,743] DEBUG The stop replica request (delete = false) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],false) (kafka.controller.ControllerBrokerRequestBatch)\n\n[2023-11-25 14:09:25,743] DEBUG [Topic Deletion Manager 3] Deletion started for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OfflineReplica to ReplicaDeletionStarted (state.change.logger)\n\n[2023-11-25 14:09:25,744] DEBUG The stop replica request (delete = true) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],true) (kafka.controller.ControllerBrokerRequestBatch)\n\n[2023-11-25 14:09:25,748] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\n\n[2023-11-25 14:09:25,748] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\n\n[2023-11-25 14:09:25,749] TRACE [Broker id=3] Handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,749] TRACE [Broker id=3] Finished handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,751] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3418 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,752] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\n\n[2023-11-25 14:09:25,752] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\n\n[2023-11-25 14:09:25,752] TRACE [Broker id=3] Handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted and paused (kafka.log.LogCleaner)\n\n[2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted (kafka.log.LogCleaner)\n\n[2023-11-25 14:09:25,863] INFO Log for partition example-topic-live-321-0 is renamed to /var/lib/kafka/data/example-topic-live-321-0.68e5c26ab83a4b8ba3424ef5178ff1ca-delete and is scheduled for deletion (kafka.log.LogManager)\n\n[2023-11-25 14:09:25,863] TRACE [Broker id=3] Finished handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3419 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,864] DEBUG [Controller id=3] Delete topic callback invoked on StopReplica response received from broker 3: request error = NONE, partition errors = Map(example-topic-live-321-0 -&gt; NONE) (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,864] DEBUG [Topic Deletion Manager 3] Deletion successfully completed for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionStarted to ReplicaDeletionSuccessful (state.change.logger)\n\n[2023-11-25 14:09:25,864] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionSuccessful to NonExistentReplica (state.change.logger)\n\n[2023-11-25 14:09:25,897] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 successfully completed (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,938] INFO [Controller id=3] New topics: [Set()], deleted topics: [Set()], new partition replica assignment [Map()] (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,964] DEBUG [Controller id=3] Delete topics listener fired for topics  to be deleted (kafka.controller.KafkaController)\n</code></pre>\n"},{"tags":["java","spring","firebase","vaadin","vaadin-flow"],"owner":{"account_id":23490250,"reputation":1,"user_id":17541371,"display_name":"Nuyun Pabasara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700989867,"creation_date":1700989867,"question_id":77551071,"body_markdown":"My SecurityContextHolder reset after navigating to the new UI or refresh the page in my vaadin application. I have used the Firebase authentication successfully using JavaScript and then I got the token and Firebase user ID using the login method using ClientCallable annotation. Then I set the Authentication by getting the new authentication. after refresh the page or navigating to other view authentication log message is like below,\r\n\r\n&gt;Principal : anonymousUser\r\nCredentials : \r\nAuth : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5E5D572F6FF1ECAF2EC27CD086ACB6F6], Granted Authorities=[ROLE_ANONYMOUS]]\r\n\r\nLogin class :\r\n\r\n    @AnonymousAllowed\r\n    @PageTitle(&quot;Login&quot;)\r\n    @Route(value = &quot;login&quot;)\r\n    @JsModule(&quot;./JavaScripts/firebase.js&quot;)\r\n    public class LoginView extends VerticalLayout implements BeforeEnterObserver{\r\n      private static final String OAUTH_URL = &quot;/oauth2/authorization/google&quot;;\r\n      private final FirebaseService firebase;\r\n      public LoginView(FirebaseService firebaseService){\r\n        this.firebase = firebaseService;\r\n        // Header\r\n        Div header = new Div();\r\n        header.setText(&quot;Welcome to File Fortress&quot;);\r\n        header.getStyle().set(&quot;font-size&quot;, &quot;24px&quot;);\r\n        add(header);\r\n\r\n        // Slogan\r\n        Div slogan = new Div();\r\n        slogan.setText(&quot;LAN Exam File Transfer System&quot;);\r\n        slogan.getStyle().set(&quot;font-size&quot;, &quot;18px&quot;);\r\n        add(slogan);\r\n\r\n        // Description\r\n        Div description = new Div();\r\n        description.setText(&quot;Login with Your Google Account to Continue&quot;);\r\n        description.getStyle().set(&quot;font-size&quot;, &quot;16px&quot;);\r\n        add(description);\r\n\r\n        // Login button\r\n        Button loginButton = new Button(&quot;Login with Google&quot;);\r\n        loginButton.setTooltipText(&quot;You Can Sign In to Application using your Google Account&quot;);\r\n        loginButton.addClassName(&quot;login-button&quot;);\r\n        loginButton.addClickListener(event -&gt; {\r\n    //     UI.getCurrent().getPage().setLocation(OAUTH_URL);\r\n            UI.getCurrent().getPage().executeJs(&quot;ns.googleSignInPopup($0)&quot;, this);\r\n        });\r\n\r\n        add(loginButton);\r\n\r\n        // Styling\r\n        getStyle().set(&quot;padding&quot;, &quot;20px&quot;);\r\n        setAlignItems(FlexComponent.Alignment.CENTER);\r\n    }\r\n\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent event) {\r\n        if(SecurityContextHolder.getContext().getAuthentication().isAuthenticated())\r\n            UI.getCurrent().navigate(AboutView.class);\r\n    }\r\n    @ClientCallable\r\n    public void login(String token, String uid){\r\n        System.out.println(token);\r\n        User.getInstance().init(uid,token);\r\n        try {\r\n            // Validate the token at Firebase server  first and create\r\n            Authentication authentication = firebase.login(token);\r\n            // Save the authentication to context\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        } catch (FirebaseAuthException e) {\r\n            throw new RuntimeException(&quot;Invalid token!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\nFirebaseService class : \r\n\r\n    @Service\r\n    public class FirebaseService {\r\n\r\n    private FirebaseApp app;\r\n    @PostConstruct\r\n    void init() {\r\n        try {\r\n            FileInputStream serviceAccount = new FileInputStream(&quot;serviceAccountKey.json&quot;);\r\n\r\n            FirebaseOptions options = new FirebaseOptions.Builder()\r\n                    .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                    .build();\r\n            FirebaseApp.initializeApp(options);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n    public UserRecord findUserByEmail(String username) throws FirebaseAuthException {\r\n        return FirebaseAuth.getInstance().getUserByEmail(username);\r\n    }\r\n\r\n    public Authentication login(String token) throws FirebaseAuthException {\r\n        boolean checkRevoked = true;\r\n        FirebaseToken firebaseToken = FirebaseAuth.getInstance().verifyIdToken(token, checkRevoked);\r\n        // Note, before important actions, the token should be re-validate,\r\n        // it could be revoked or the user could be removed altogether,\r\n        // during their session\r\n\r\n        return new Authentication() {\r\n            @Override\r\n            public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n                Collection&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\r\n                updatedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n                return updatedAuthorities;\r\n            }\r\n\r\n            @Override\r\n            public Object getCredentials() {\r\n                return token;\r\n            }\r\n\r\n            @Override\r\n            public Object getDetails() {\r\n                return firebaseToken;\r\n            }\r\n\r\n            @Override\r\n            public Object getPrincipal() {\r\n                return firebaseToken.getUid();\r\n            }\r\n\r\n            @Override\r\n            public boolean isAuthenticated() {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\r\n\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return firebaseToken.getName();\r\n            }\r\n        };\r\n    }\r\n    }\r\n\r\n\r\nI want to Save the authentication to SecurityContextHolder but it has to be the same Authentication until the user is logged out. \r\n\r\n     SecurityContextHolder.getContext().setAuthentication(authentication);","title":"Why is my SecurityContextHolder resetting after navigating to the new UI in my vaadin application?","body":"<p>My SecurityContextHolder reset after navigating to the new UI or refresh the page in my vaadin application. I have used the Firebase authentication successfully using JavaScript and then I got the token and Firebase user ID using the login method using ClientCallable annotation. Then I set the Authentication by getting the new authentication. after refresh the page or navigating to other view authentication log message is like below,</p>\n<blockquote>\n<p>Principal : anonymousUser\nCredentials :\nAuth : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5E5D572F6FF1ECAF2EC27CD086ACB6F6], Granted Authorities=[ROLE_ANONYMOUS]]</p>\n</blockquote>\n<p>Login class :</p>\n<pre><code>@AnonymousAllowed\n@PageTitle(&quot;Login&quot;)\n@Route(value = &quot;login&quot;)\n@JsModule(&quot;./JavaScripts/firebase.js&quot;)\npublic class LoginView extends VerticalLayout implements BeforeEnterObserver{\n  private static final String OAUTH_URL = &quot;/oauth2/authorization/google&quot;;\n  private final FirebaseService firebase;\n  public LoginView(FirebaseService firebaseService){\n    this.firebase = firebaseService;\n    // Header\n    Div header = new Div();\n    header.setText(&quot;Welcome to File Fortress&quot;);\n    header.getStyle().set(&quot;font-size&quot;, &quot;24px&quot;);\n    add(header);\n\n    // Slogan\n    Div slogan = new Div();\n    slogan.setText(&quot;LAN Exam File Transfer System&quot;);\n    slogan.getStyle().set(&quot;font-size&quot;, &quot;18px&quot;);\n    add(slogan);\n\n    // Description\n    Div description = new Div();\n    description.setText(&quot;Login with Your Google Account to Continue&quot;);\n    description.getStyle().set(&quot;font-size&quot;, &quot;16px&quot;);\n    add(description);\n\n    // Login button\n    Button loginButton = new Button(&quot;Login with Google&quot;);\n    loginButton.setTooltipText(&quot;You Can Sign In to Application using your Google Account&quot;);\n    loginButton.addClassName(&quot;login-button&quot;);\n    loginButton.addClickListener(event -&gt; {\n//     UI.getCurrent().getPage().setLocation(OAUTH_URL);\n        UI.getCurrent().getPage().executeJs(&quot;ns.googleSignInPopup($0)&quot;, this);\n    });\n\n    add(loginButton);\n\n    // Styling\n    getStyle().set(&quot;padding&quot;, &quot;20px&quot;);\n    setAlignItems(FlexComponent.Alignment.CENTER);\n}\n\n@Override\npublic void beforeEnter(BeforeEnterEvent event) {\n    if(SecurityContextHolder.getContext().getAuthentication().isAuthenticated())\n        UI.getCurrent().navigate(AboutView.class);\n}\n@ClientCallable\npublic void login(String token, String uid){\n    System.out.println(token);\n    User.getInstance().init(uid,token);\n    try {\n        // Validate the token at Firebase server  first and create\n        Authentication authentication = firebase.login(token);\n        // Save the authentication to context\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n    } catch (FirebaseAuthException e) {\n        throw new RuntimeException(&quot;Invalid token!&quot;);\n    }\n}\n\n\n}\n</code></pre>\n<p>FirebaseService class :</p>\n<pre><code>@Service\npublic class FirebaseService {\n\nprivate FirebaseApp app;\n@PostConstruct\nvoid init() {\n    try {\n        FileInputStream serviceAccount = new FileInputStream(&quot;serviceAccountKey.json&quot;);\n\n        FirebaseOptions options = new FirebaseOptions.Builder()\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                .build();\n        FirebaseApp.initializeApp(options);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n}\n\npublic UserRecord findUserByEmail(String username) throws FirebaseAuthException {\n    return FirebaseAuth.getInstance().getUserByEmail(username);\n}\n\npublic Authentication login(String token) throws FirebaseAuthException {\n    boolean checkRevoked = true;\n    FirebaseToken firebaseToken = FirebaseAuth.getInstance().verifyIdToken(token, checkRevoked);\n    // Note, before important actions, the token should be re-validate,\n    // it could be revoked or the user could be removed altogether,\n    // during their session\n\n    return new Authentication() {\n        @Override\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n            Collection&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\n            updatedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n            return updatedAuthorities;\n        }\n\n        @Override\n        public Object getCredentials() {\n            return token;\n        }\n\n        @Override\n        public Object getDetails() {\n            return firebaseToken;\n        }\n\n        @Override\n        public Object getPrincipal() {\n            return firebaseToken.getUid();\n        }\n\n        @Override\n        public boolean isAuthenticated() {\n            return true;\n        }\n\n        @Override\n        public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\n\n        }\n\n        @Override\n        public String getName() {\n            return firebaseToken.getName();\n        }\n    };\n}\n}\n</code></pre>\n<p>I want to Save the authentication to SecurityContextHolder but it has to be the same Authentication until the user is logged out.</p>\n<pre><code> SecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n"},{"tags":["java","unit-testing","testing","testng","testng-dataprovider"],"answers":[{"tags":[],"owner":{"account_id":14431921,"reputation":119,"user_id":10425028,"display_name":"Alberto Mart&#237;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670933067,"creation_date":1670933067,"answer_id":74784602,"question_id":74719585,"body_markdown":"The output order depends on the priority. Did you check the same priority in both tests?","title":"How can I run the same test cases for all the data in a list using testng?","body":"<p>The output order depends on the priority. Did you check the same priority in both tests?</p>\n"}],"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700988895,"creation_date":1670429077,"question_id":74719585,"body_markdown":"I am using data provider and test ng to run the same test multiple times using different values from a list. However, I have several tests and I want them all to run one by one so Test 1 -&gt; Test 2 -&gt; Test 3, for each item in the list. Right now Test 1 is running 4 times for all 4 elements in the list, and then Test 2 -&gt;Test 3. \r\n\r\n\r\n\r\n```\r\n\t@DataProvider\r\n\tpublic Object[][] data() throws CsvValidationException, IOException, URISyntaxException {\r\n\t\t...get list..\r\n\t\tObject[][] element = new Object[list.size()][1];\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\telement[i][0] = list.get(i);\r\n\t\t}\r\n\t\treturn element;\r\n\r\n\t}\r\n\r\n\t@Test(dataProvider = &quot;data&quot;,priority = 1)\r\n\tpublic void test(Element element) {\r\n\t\tSystem.out.println(&quot;test1&quot;);\r\n\t}\r\n\t\r\n\t@Test(priority=2)\r\n\tpublic void test2() {\r\n\t\tSystem.out.println(&quot;test2&quot;);\r\n\r\n\t}\r\n\r\n```\r\nSo I want the output to be &#39;test1&#39; &#39;test2&#39;... &#39;test1&#39; &#39;test2&#39;...&#39;test1&#39;&#39;test2&#39; not &#39;test1&#39;..&#39;test1&#39;..&#39;test1&#39;..&#39;test2&#39;.","title":"How can I run the same test cases for all the data in a list using testng?","body":"<p>I am using data provider and test ng to run the same test multiple times using different values from a list. However, I have several tests and I want them all to run one by one so Test 1 -&gt; Test 2 -&gt; Test 3, for each item in the list. Right now Test 1 is running 4 times for all 4 elements in the list, and then Test 2 -&gt;Test 3.</p>\n<pre><code>    @DataProvider\n    public Object[][] data() throws CsvValidationException, IOException, URISyntaxException {\n        ...get list..\n        Object[][] element = new Object[list.size()][1];\n        for (int i = 0; i &lt; list.size(); i++) {\n            element[i][0] = list.get(i);\n        }\n        return element;\n\n    }\n\n    @Test(dataProvider = &quot;data&quot;,priority = 1)\n    public void test(Element element) {\n        System.out.println(&quot;test1&quot;);\n    }\n    \n    @Test(priority=2)\n    public void test2() {\n        System.out.println(&quot;test2&quot;);\n\n    }\n\n</code></pre>\n<p>So I want the output to be 'test1' 'test2'... 'test1' 'test2'...'test1''test2' not 'test1'..'test1'..'test1'..'test2'.</p>\n"},{"tags":["java","hystrix"],"answers":[{"tags":[],"owner":{"account_id":19776708,"reputation":11,"user_id":14482491,"display_name":"dKumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635685940,"creation_date":1635685940,"answer_id":69787217,"question_id":69760635,"body_markdown":"Your function is not being executed in 1500ms.\r\n\r\nChange EXECUTION_TIMEOUT_ENABLED to false, hystrix will not timeout your method.","title":"Getting HystrixRuntimeException: Function timed-out and fallback failed","body":"<p>Your function is not being executed in 1500ms.</p>\n<p>Change EXECUTION_TIMEOUT_ENABLED to false, hystrix will not timeout your method.</p>\n"},{"tags":[],"owner":{"account_id":12891416,"reputation":372,"user_id":9323284,"display_name":"Mr. N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700988574,"creation_date":1700986538,"answer_id":77550936,"question_id":69760635,"body_markdown":"EDIT: this also fails when running in debug-mode. Probably because the timeout is so low.\r\n\r\nFor me, it&#39;s a Spring project, the issue was that the commandKey (in this case `BookService.BookDetail`) was not defined in the `application.properties` file. 123 value below is a placeholder for any number:\r\n```\r\nhystrix.command.BookService.BookDetail.execution.isolation.thread.timeoutInMilliseconds=123\r\nhystrix.command.BookService.BookDetail.circuitBreaker.errorThresholdPercentage=123\r\nhystrix.command.BookService.BookDetail.circuitBreaker.requestVolumeThreshold=123\r\nhystrix.BookService.BookDetail.circuitBreaker.sleepWindowInMilliseconds=123\r\n```\r\n\r\nSeems like OP was trying to define these using `@HystrixProperty` instead of a `application.properties` file. Maybe there&#39;s a typo in the property names.","title":"Getting HystrixRuntimeException: Function timed-out and fallback failed","body":"<p>EDIT: this also fails when running in debug-mode. Probably because the timeout is so low.</p>\n<p>For me, it's a Spring project, the issue was that the commandKey (in this case <code>BookService.BookDetail</code>) was not defined in the <code>application.properties</code> file. 123 value below is a placeholder for any number:</p>\n<pre><code>hystrix.command.BookService.BookDetail.execution.isolation.thread.timeoutInMilliseconds=123\nhystrix.command.BookService.BookDetail.circuitBreaker.errorThresholdPercentage=123\nhystrix.command.BookService.BookDetail.circuitBreaker.requestVolumeThreshold=123\nhystrix.BookService.BookDetail.circuitBreaker.sleepWindowInMilliseconds=123\n</code></pre>\n<p>Seems like OP was trying to define these using <code>@HystrixProperty</code> instead of a <code>application.properties</code> file. Maybe there's a typo in the property names.</p>\n"}],"owner":{"account_id":23175568,"reputation":11,"user_id":17274148,"display_name":"R S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700988574,"creation_date":1635453481,"question_id":69760635,"body_markdown":"I am using hystrix 1.5.3 and running this piece of code in my local machine. \r\n```\r\n@HystrixCommand (groupKey = &quot;BookService&quot;, commandKey = &quot;BookService.BookDetail&quot;, commandProperties = {\r\n\t\t\t@HystrixProperty (name = EXECUTION_ISOLATION_STRATEGY, value = &quot;THREAD&quot;),\r\n\t\t\t@HystrixProperty (name = CIRCUIT_BREAKER_ENABLED, value = &quot;true&quot;),\r\n\t\t\t@HystrixProperty (name = EXECUTION_TIMEOUT_ENABLED, value = &quot;true&quot;),\r\n\t\t\t@HystrixProperty (name = EXECUTION_ISOLATION_THREAD_TIMEOUT_IN_MILLISECONDS, value = &quot;1500&quot;)}, threadPoolProperties = {\r\n\t\t\t@HystrixProperty (name = CORE_SIZE, value = &quot;60&quot;),\r\n\t\t\t@HystrixProperty (name = MAX_QUEUE_SIZE, value = &quot;60&quot;),\r\n\t\t\t@HystrixProperty (name = QUEUE_SIZE_REJECTION_THRESHOLD, value = &quot;60&quot;),\r\n\t\t\t@HystrixProperty (name = KEEP_ALIVE_TIME_MINUTES, value = &quot;1&quot;)\r\n\t})\r\n\tpublic String getBookDetail(String bookId)\r\n\t{\r\n       log.info(&quot;Getting details&quot;);\r\n       ...\r\n    }\r\n\r\n```\r\nOn our servers it works fine however I get this runtime exception on my local machine. My local server just waits for the timeout duration and in the end throws this HystrixRuntimeException. Also, I don&#39;t have any fallback defined but it should not be needed for my case. The expectation is it should work normally like in our production server. \r\n```\r\ncom.netflix.hystrix.exception.HystrixRuntimeException: BookService.BookDetail timed-out and fallback failed.\r\n\tat com.netflix.hystrix.AbstractCommand$21.call(AbstractCommand.java:793) ~[hystrix-core-1.5.3.jar:1.5.3]\r\n\tat com.netflix.hystrix.AbstractCommand$21.call(AbstractCommand.java:768) ~[hystrix-core-1.5.3.jar:1.5.3]\r\n\tat rx.internal.operators.OperatorOnErrorResumeNextViaFunction$1.onError(OperatorOnErrorResumeNextViaFunction.java:77) ~[rxjava-1.0.12.jar:1.0.12]\r\n\tat rx.internal.operators.OperatorDoOnEach$1.onError(OperatorDoOnEach.java:70) ~[rxjava-1.0.12.jar:1.0.12]\r\n\tat rx.internal.operators.OperatorDoOnEach$1.onError(OperatorDoOnEach.java:70) ~[rxjava-1.0.12.jar:1.0.12]\r\n\tat com.netflix.hystrix.AbstractCommand$DeprecatedOnFallbackHookApplication$1.onError(AbstractCommand.java:1448) ~[hystrix-core-1.5.3.jar:1.5.3]\r\n\tat com.netflix.hystrix.AbstractCommand$FallbackHookApplication$1.onError(AbstractCommand.java:1373) ~[hystrix-core-1.5.3.jar:1.5.3]\r\n\tat rx.internal.operators.OperatorDoOnEach$1.onError(OperatorDoOnEach.java:70) ~[rxjava-1.0.12.jar:1.0.12]\r\n```\r\n\r\n\r\n\r\nI checked the function is not being executed as the log is not getting printed.\r\nWhen I change the timeout by modifying `EXECUTION_ISOLATION_THREAD_TIMEOUT_IN_MILLISECONDS` similar behaviour happens just after the new timeout duration.\r\nWhen I remove the @HystrixCommand annotation it just works fine so it means there is some issue with Hystrix only. The hystrix properties seem is the one which is defined in the annotation which seem fine. Could this be because hystrix is not configured properly? Any help would be appreciated.","title":"Getting HystrixRuntimeException: Function timed-out and fallback failed","body":"<p>I am using hystrix 1.5.3 and running this piece of code in my local machine.</p>\n<pre><code>@HystrixCommand (groupKey = &quot;BookService&quot;, commandKey = &quot;BookService.BookDetail&quot;, commandProperties = {\n            @HystrixProperty (name = EXECUTION_ISOLATION_STRATEGY, value = &quot;THREAD&quot;),\n            @HystrixProperty (name = CIRCUIT_BREAKER_ENABLED, value = &quot;true&quot;),\n            @HystrixProperty (name = EXECUTION_TIMEOUT_ENABLED, value = &quot;true&quot;),\n            @HystrixProperty (name = EXECUTION_ISOLATION_THREAD_TIMEOUT_IN_MILLISECONDS, value = &quot;1500&quot;)}, threadPoolProperties = {\n            @HystrixProperty (name = CORE_SIZE, value = &quot;60&quot;),\n            @HystrixProperty (name = MAX_QUEUE_SIZE, value = &quot;60&quot;),\n            @HystrixProperty (name = QUEUE_SIZE_REJECTION_THRESHOLD, value = &quot;60&quot;),\n            @HystrixProperty (name = KEEP_ALIVE_TIME_MINUTES, value = &quot;1&quot;)\n    })\n    public String getBookDetail(String bookId)\n    {\n       log.info(&quot;Getting details&quot;);\n       ...\n    }\n\n</code></pre>\n<p>On our servers it works fine however I get this runtime exception on my local machine. My local server just waits for the timeout duration and in the end throws this HystrixRuntimeException. Also, I don't have any fallback defined but it should not be needed for my case. The expectation is it should work normally like in our production server.</p>\n<pre><code>com.netflix.hystrix.exception.HystrixRuntimeException: BookService.BookDetail timed-out and fallback failed.\n    at com.netflix.hystrix.AbstractCommand$21.call(AbstractCommand.java:793) ~[hystrix-core-1.5.3.jar:1.5.3]\n    at com.netflix.hystrix.AbstractCommand$21.call(AbstractCommand.java:768) ~[hystrix-core-1.5.3.jar:1.5.3]\n    at rx.internal.operators.OperatorOnErrorResumeNextViaFunction$1.onError(OperatorOnErrorResumeNextViaFunction.java:77) ~[rxjava-1.0.12.jar:1.0.12]\n    at rx.internal.operators.OperatorDoOnEach$1.onError(OperatorDoOnEach.java:70) ~[rxjava-1.0.12.jar:1.0.12]\n    at rx.internal.operators.OperatorDoOnEach$1.onError(OperatorDoOnEach.java:70) ~[rxjava-1.0.12.jar:1.0.12]\n    at com.netflix.hystrix.AbstractCommand$DeprecatedOnFallbackHookApplication$1.onError(AbstractCommand.java:1448) ~[hystrix-core-1.5.3.jar:1.5.3]\n    at com.netflix.hystrix.AbstractCommand$FallbackHookApplication$1.onError(AbstractCommand.java:1373) ~[hystrix-core-1.5.3.jar:1.5.3]\n    at rx.internal.operators.OperatorDoOnEach$1.onError(OperatorDoOnEach.java:70) ~[rxjava-1.0.12.jar:1.0.12]\n</code></pre>\n<p>I checked the function is not being executed as the log is not getting printed.\nWhen I change the timeout by modifying <code>EXECUTION_ISOLATION_THREAD_TIMEOUT_IN_MILLISECONDS</code> similar behaviour happens just after the new timeout duration.\nWhen I remove the @HystrixCommand annotation it just works fine so it means there is some issue with Hystrix only. The hystrix properties seem is the one which is defined in the annotation which seem fine. Could this be because hystrix is not configured properly? Any help would be appreciated.</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":29980351,"reputation":1,"user_id":22975498,"display_name":"huudusd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700985795,"creation_date":1700803976,"question_id":77540910,"body_markdown":"I want to pass location.locationId in my alias but the alias picks up the bases entity. any clue how to do it?\r\n\r\n```\r\nCriteria cri= session.createCriteria(User.class)\r\n\t\t\t\t.setFetchMode(&quot;class1&quot;,FetchMode.JOIN )\r\n\t\t\t\t.createAlias(&quot;class1&quot;, &quot;idmp&quot;).createAlias(&quot;idmp.class2&quot;, &quot;idm&quot;).setReadOnly(isreadonly);\r\n\r\n\t\tif(locationId != null){\r\n\t\t\tcri.setFetchMode(&quot;location&quot;,FetchMode.JOIN )\r\n\t\t\t\t\t.createAlias(&quot;idm.location&quot;, &quot;location&quot;);\r\n\t\t\tcri.add(Restrictions.sqlRestriction(&quot;GetAncestryOf({alias}.locationId) REGEXP CONCAT(&#39;(^|.*,)&#39;,&quot;+locationId+&quot;,&#39;(,.*|$)&#39;)&quot;));\r\n\r\n```\r\n\r\n\r\nI tried everything and nothing worked. \r\n\r\nThe outcome should be like\r\n\r\n```\r\nHibernate: select count(*) as y0_ from user this_ inner join idmapper idmp1_ on this_.mappedId=idmp1_.mappedId inner join identifier idm2_ on idmp1_.mappedId=idm2_.mappedId inner join location location3_ on idm2_.locationId=location3_.locationId inner join role role4_ on idmp1_.roleId=role4_.roleId where GetAncestryOf(location3_.locationId) REGEXP CONCAT(&#39;(^|.*,)&#39;,384949,&#39;(,.*|$)&#39;)\r\n```\r\n","title":"Hibernate alias issue","body":"<p>I want to pass location.locationId in my alias but the alias picks up the bases entity. any clue how to do it?</p>\n<pre><code>Criteria cri= session.createCriteria(User.class)\n                .setFetchMode(&quot;class1&quot;,FetchMode.JOIN )\n                .createAlias(&quot;class1&quot;, &quot;idmp&quot;).createAlias(&quot;idmp.class2&quot;, &quot;idm&quot;).setReadOnly(isreadonly);\n\n        if(locationId != null){\n            cri.setFetchMode(&quot;location&quot;,FetchMode.JOIN )\n                    .createAlias(&quot;idm.location&quot;, &quot;location&quot;);\n            cri.add(Restrictions.sqlRestriction(&quot;GetAncestryOf({alias}.locationId) REGEXP CONCAT('(^|.*,)',&quot;+locationId+&quot;,'(,.*|$)')&quot;));\n\n</code></pre>\n<p>I tried everything and nothing worked.</p>\n<p>The outcome should be like</p>\n<pre><code>Hibernate: select count(*) as y0_ from user this_ inner join idmapper idmp1_ on this_.mappedId=idmp1_.mappedId inner join identifier idm2_ on idmp1_.mappedId=idm2_.mappedId inner join location location3_ on idm2_.locationId=location3_.locationId inner join role role4_ on idmp1_.roleId=role4_.roleId where GetAncestryOf(location3_.locationId) REGEXP CONCAT('(^|.*,)',384949,'(,.*|$)')\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22107235,"reputation":5,"user_id":16362635,"display_name":"Mohamed E."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700985015,"creation_date":1700985015,"answer_id":77550869,"question_id":77367474,"body_markdown":"So I&#39;ve found the culprit behind the weirdness of the graph and honestly its a silly mistake. \r\n\r\nI have my spring applications running in a Kubernetes cluster. All of my spring applications have 1 instance, except the one shown in the erratic graph example. Essentially what was happening is spring admin&#39;s requests for health data for my application was getting load balanced between mulitple instances in the Kubernetes cluster, causing this very erratic graph. \r\n\r\nHopefully this helps anyone who encounters this silly mistake.","title":"What could be the cause of Erratic Heap Usage by a Spring Boot Micro-service?","body":"<p>So I've found the culprit behind the weirdness of the graph and honestly its a silly mistake.</p>\n<p>I have my spring applications running in a Kubernetes cluster. All of my spring applications have 1 instance, except the one shown in the erratic graph example. Essentially what was happening is spring admin's requests for health data for my application was getting load balanced between mulitple instances in the Kubernetes cluster, causing this very erratic graph.</p>\n<p>Hopefully this helps anyone who encounters this silly mistake.</p>\n"}],"owner":{"account_id":22107235,"reputation":5,"user_id":16362635,"display_name":"Mohamed E."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77550869,"answer_count":1,"score":0,"last_activity_date":1700985015,"creation_date":1698327346,"question_id":77367474,"body_markdown":"I am using spring-admin to monitor my spring micro-services and I found that one of them has a very weird and erratic heap usage graph.\r\n\r\n[Erratic Heap Graph](https://i.stack.imgur.com/x0xFb.png)\r\n\r\nFor comparison, here is what I would call &quot;normal&quot; heap usage, with the garbage collection happening at clear even intervals and no extreme volatility like the previous graph.\r\n\r\n[Normal Heap Graph](https://i.stack.imgur.com/EhinV.png)\r\n\r\nBoth applications have roughly the same amount of traffic (extremely low) since they are both still in development (maybe 10-20 requests per hour), so load should not be the cause here. What could be happening to create an unusual graph like that?\r\n\r\nI tried checking if the application has any leaks or anything but everything checks out.","title":"What could be the cause of Erratic Heap Usage by a Spring Boot Micro-service?","body":"<p>I am using spring-admin to monitor my spring micro-services and I found that one of them has a very weird and erratic heap usage graph.</p>\n<p><a href=\"https://i.stack.imgur.com/x0xFb.png\" rel=\"nofollow noreferrer\">Erratic Heap Graph</a></p>\n<p>For comparison, here is what I would call &quot;normal&quot; heap usage, with the garbage collection happening at clear even intervals and no extreme volatility like the previous graph.</p>\n<p><a href=\"https://i.stack.imgur.com/EhinV.png\" rel=\"nofollow noreferrer\">Normal Heap Graph</a></p>\n<p>Both applications have roughly the same amount of traffic (extremely low) since they are both still in development (maybe 10-20 requests per hour), so load should not be the cause here. What could be happening to create an unusual graph like that?</p>\n<p>I tried checking if the application has any leaks or anything but everything checks out.</p>\n"},{"tags":["java","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700391511,"creation_date":1700391511,"answer_id":77510486,"question_id":77509938,"body_markdown":"Your approach looks fine, there are a few improvements and considerations you might want to take into account:\r\n\r\n1. I didn’t notice where you are incrementing counter, so instead of `counter.get() &lt; MAX_RETRY` I&#39;ve taken `counter.getAndIncrement() &lt;= MAX_RETRY`. It will be first call of the method + 3 retry calls.\r\n\r\n2. It may be worth thinking about a specific exception in which a retry is possible, but if you really need it for any exception, then you can leave a general `Exception` in the catch block\r\n\r\n3. It&#39;s better to use `scheduler.shutdownNow()` instead of `scheduler.shutdown()` in the catch block to interrupt the thread immediately. This ensures that any pending tasks are canceled.\r\n\r\n4. You might want to consider **cleaning up resources** associated with the retry operation, especially if `runMyChoreTillItSucceeds` holds any resources that need proper cleanup.\r\n\r\n```\r\npublic static void retryIfAnyExceptionTillItSucceeds(PaymentDO pmDO, TransactionDO txnDO) {\r\n    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n    AtomicInteger counter = new AtomicInteger(1);\r\n    final int MAX_RETRY = 3;\r\n\r\n    scheduler.execute(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                runMyChoreTillItSucceeds(pmDO, txnDO);\r\n                scheduler.shutdownNow(); // Shutdownnow immediately on success\r\n            } catch (SpecificRuntimeException e) { // catch specific exception to retry\r\n                if (counter.getAndIncrement() &lt;= MAX_RETRY) {\r\n                    scheduler.schedule(this, 2, TimeUnit.SECONDS);\r\n                } else {\r\n                    scheduler.shutdownNow(); // Shutdown if max retries reached\r\n                }\r\n            } catch (Exception e) {\r\n                // Handle other exceptions if needed\r\n                scheduler.shutdownNow();\r\n            }\r\n        }\r\n    });\r\n}\r\n```","title":"ScheduledExecutorService asynchronously run task till it succeeds if there are any exceptions","body":"<p>Your approach looks fine, there are a few improvements and considerations you might want to take into account:</p>\n<ol>\n<li><p>I didn’t notice where you are incrementing counter, so instead of <code>counter.get() &lt; MAX_RETRY</code> I've taken <code>counter.getAndIncrement() &lt;= MAX_RETRY</code>. It will be first call of the method + 3 retry calls.</p>\n</li>\n<li><p>It may be worth thinking about a specific exception in which a retry is possible, but if you really need it for any exception, then you can leave a general <code>Exception</code> in the catch block</p>\n</li>\n<li><p>It's better to use <code>scheduler.shutdownNow()</code> instead of <code>scheduler.shutdown()</code> in the catch block to interrupt the thread immediately. This ensures that any pending tasks are canceled.</p>\n</li>\n<li><p>You might want to consider <strong>cleaning up resources</strong> associated with the retry operation, especially if <code>runMyChoreTillItSucceeds</code> holds any resources that need proper cleanup.</p>\n</li>\n</ol>\n<pre><code>public static void retryIfAnyExceptionTillItSucceeds(PaymentDO pmDO, TransactionDO txnDO) {\n    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\n    AtomicInteger counter = new AtomicInteger(1);\n    final int MAX_RETRY = 3;\n\n    scheduler.execute(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                runMyChoreTillItSucceeds(pmDO, txnDO);\n                scheduler.shutdownNow(); // Shutdownnow immediately on success\n            } catch (SpecificRuntimeException e) { // catch specific exception to retry\n                if (counter.getAndIncrement() &lt;= MAX_RETRY) {\n                    scheduler.schedule(this, 2, TimeUnit.SECONDS);\n                } else {\n                    scheduler.shutdownNow(); // Shutdown if max retries reached\n                }\n            } catch (Exception e) {\n                // Handle other exceptions if needed\n                scheduler.shutdownNow();\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77510486,"answer_count":1,"score":1,"last_activity_date":1700984529,"creation_date":1700377599,"question_id":77509938,"body_markdown":"I am trying to use ScheduledExecutorService to implement a retry mechanism in java, that asynchronously retries a function after 30 seconds in case of failure, and retries up to maximum 3 times. I haven&#39;t used ScheduledExecutorService so would really like to get some inputs if there is a better way to write this. My goal is to retry and execute the function runMyChoreTillItSucceeds if there are any exceptions till it succeeds. \r\n\r\n    public void retryIfAnyExceptionTillItSucceeds(CustomerDO pmDO, MemberDO mbrDO) {\r\n\t\tScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n\t\tAtomicInteger counter = new AtomicInteger(1);\r\n\t\tfinal int MAX_RETRY = 3;\r\n\t\tscheduler.execute(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run () {\r\n\t\t\t\ttry {\r\n\t\t\t\t\trunMyChoreTillItSucceeds(pmDO, mbrDO);\r\n\t\t\t\t\tscheduler.shutdown();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\tif (counter.get() &lt; MAX_RETRY) {\r\n\t\t\t\t\t\tscheduler.schedule(this, 30, TimeUnit.SECONDS);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tscheduler.shutdown();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"ScheduledExecutorService asynchronously run task till it succeeds if there are any exceptions","body":"<p>I am trying to use ScheduledExecutorService to implement a retry mechanism in java, that asynchronously retries a function after 30 seconds in case of failure, and retries up to maximum 3 times. I haven't used ScheduledExecutorService so would really like to get some inputs if there is a better way to write this. My goal is to retry and execute the function runMyChoreTillItSucceeds if there are any exceptions till it succeeds.</p>\n<pre><code>public void retryIfAnyExceptionTillItSucceeds(CustomerDO pmDO, MemberDO mbrDO) {\n    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\n    AtomicInteger counter = new AtomicInteger(1);\n    final int MAX_RETRY = 3;\n    scheduler.execute(new Runnable() {\n        @Override\n        public void run () {\n            try {\n                runMyChoreTillItSucceeds(pmDO, mbrDO);\n                scheduler.shutdown();\n            }\n            catch (Exception e) {\n                if (counter.get() &lt; MAX_RETRY) {\n                    scheduler.schedule(this, 30, TimeUnit.SECONDS);\n                }\n                else {\n                    scheduler.shutdown();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","arrays","system.out"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700988651,"post_id":77550059,"comment_id":136717503,"body_markdown":"Try `&quot;Please enter the integer for row: &quot; (+i+1)...`","body":"Try <code>&quot;Please enter the integer for row: &quot; (+i+1)...</code>"}],"answers":[{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700961585,"creation_date":1700959992,"answer_id":77550084,"question_id":77550059,"body_markdown":"In Java when you concatenate strings (or strings with other types that will be converted to strings) the concatenation goes one by one, from left to right.\r\n\r\n```java\r\nint i = 0;\r\nString s = &quot;Number: &quot; + i + 1;\r\n```\r\nThe string `s` will be `&quot;Number: 01&quot;` because this translates to:\r\n```java\r\nint i = 0;\r\nString s = &quot;Number: &quot;; // &quot;Number: &quot;\r\ns = s + i; // &quot;Number: 0&quot;\r\ns = s + 0; // &quot;Number: 01&quot;\r\n```\r\n\r\nWhat you really want to do is:\r\n```java\r\nint i = 0;\r\nString s = &quot;Number: &quot; + (i + 1); // &quot;Number: 1&quot;\r\n```\r\nbecause first you want to compute the value which you want to concatenate, so in your code:\r\n\r\n```java\r\nSystem.out.println(&quot;Please enter the integer for row: &quot; + (i + 1) + &quot; column: &quot; + (j + 1));\r\n```","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<p>In Java when you concatenate strings (or strings with other types that will be converted to strings) the concatenation goes one by one, from left to right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nString s = &quot;Number: &quot; + i + 1;\n</code></pre>\n<p>The string <code>s</code> will be <code>&quot;Number: 01&quot;</code> because this translates to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nString s = &quot;Number: &quot;; // &quot;Number: &quot;\ns = s + i; // &quot;Number: 0&quot;\ns = s + 0; // &quot;Number: 01&quot;\n</code></pre>\n<p>What you really want to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nString s = &quot;Number: &quot; + (i + 1); // &quot;Number: 1&quot;\n</code></pre>\n<p>because first you want to compute the value which you want to concatenate, so in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Please enter the integer for row: &quot; + (i + 1) + &quot; column: &quot; + (j + 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700967605,"creation_date":1700967605,"answer_id":77550284,"question_id":77550059,"body_markdown":"&gt; _&quot;... I do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps! ...&quot;_\r\n\r\nThe expression is being evaluated from left to right.\\\r\nIt is appending _i_ to your text, _&quot;Please enter the integer for row: &quot;_, and then appending _1_ to that, etc..\r\n\r\nYou can re-order the evaluation, by parenthesizing these expressions.\r\n\r\n```java\r\nSystem.out.println(&quot;Please enter the integer for row: &quot; +(i+1)+ &quot; column: &quot; +(j+1));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nHello! This program creates an array of numbers of your choosing and size!\r\nPlease enter the number of rows for your array!\r\n1\r\nPlease enter the number of columns for your array!\r\n1\r\n\r\nPlease enter the integer for row: 1 column: 1\r\n```","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<blockquote>\n<p><em>&quot;... I do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps! ...&quot;</em></p>\n</blockquote>\n<p>The expression is being evaluated from left to right.<br />\nIt is appending <em>i</em> to your text, <em>&quot;Please enter the integer for row: &quot;</em>, and then appending <em>1</em> to that, etc..</p>\n<p>You can re-order the evaluation, by parenthesizing these expressions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Please enter the integer for row: &quot; +(i+1)+ &quot; column: &quot; +(j+1));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello! This program creates an array of numbers of your choosing and size!\nPlease enter the number of rows for your array!\n1\nPlease enter the number of columns for your array!\n1\n\nPlease enter the integer for row: 1 column: 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700983820,"creation_date":1700983820,"answer_id":77550833,"question_id":77550059,"body_markdown":"Another approach would be to use `System.out.printf()`:\r\n\r\n    System.out.printf(&quot;Please enter the integer for row: %d column: %d%n&quot;, i+1, j+1);\r\n","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<p>Another approach would be to use <code>System.out.printf()</code>:</p>\n<pre><code>System.out.printf(&quot;Please enter the integer for row: %d column: %d%n&quot;, i+1, j+1);\n</code></pre>\n"}],"owner":{"account_id":29808000,"reputation":11,"user_id":22844106,"display_name":"jbjswim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700983820,"creation_date":1700958971,"question_id":77550059,"body_markdown":"I am trying to create a code to ask the user to specify the dimensions of an array, create the array, and fill each element with user input code. The line that is causing me issues is \r\n\r\nSystem.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);\r\n\r\nas I would like to specify which element the user is inputting, I have tried to include this. Without the +1 after &quot;i&quot; and &quot;j&quot; the output starts at 0 as it should. I am trying to add the +1 to make this easier for the user to understand.\r\n\r\nHere is the code below:\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class doubleArray{\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Hello! This program creates an array of numbers of your choosing and size!&quot;);\r\n        System.out.println(&quot;Please enter the number of rows for your array!&quot;);\r\n        \r\n        int rows = scanner.nextInt();\r\n        \r\n        System.out.println(&quot;Please enter the number of columns for your array!&quot;);\r\n        \r\n        int columns = scanner.nextInt();\r\n        \r\n        int storage[][] = new int[rows][columns];\r\n        \r\n        for(int i=0; i&lt;storage.length; i++) {\r\n            System.out.println();\r\n            for (int j=0; j&lt;storage[i].length; j++) {\r\n                System.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);\r\n                storage[i][j] = scanner.nextInt();\r\n            }\r\n        }\r\n        \r\n        for(int i=0; i&lt;storage.length; i++) {\r\n            System.out.println();\r\n            for(int j=0; j&lt;storage[i].length; j++) {\r\n                System.out.print(storage[i][j]+ &quot; &quot;);\r\n            }\r\n        }\r\n        \r\n        scanner.close();\r\n    } \r\n}\r\n```\r\n\r\nIt is intended to count up starting from 1 up until the what the user entered. ex).\r\n\r\nPlease enter the integer for row: 1 column: 1\r\n//user input\r\nPlease enter the integer for row: 1 column: 2\r\n//user input\r\n\r\nWhat actually happens is:\r\n\r\nPlease enter the integer for row: 01 column: 01\r\n//user input\r\nPlease enter the integer for row: 01 column: 11\r\n\r\nI do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps!","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<p>I am trying to create a code to ask the user to specify the dimensions of an array, create the array, and fill each element with user input code. The line that is causing me issues is</p>\n<p>System.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);</p>\n<p>as I would like to specify which element the user is inputting, I have tried to include this. Without the +1 after &quot;i&quot; and &quot;j&quot; the output starts at 0 as it should. I am trying to add the +1 to make this easier for the user to understand.</p>\n<p>Here is the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class doubleArray{\n    \n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n        \n        System.out.println(&quot;Hello! This program creates an array of numbers of your choosing and size!&quot;);\n        System.out.println(&quot;Please enter the number of rows for your array!&quot;);\n        \n        int rows = scanner.nextInt();\n        \n        System.out.println(&quot;Please enter the number of columns for your array!&quot;);\n        \n        int columns = scanner.nextInt();\n        \n        int storage[][] = new int[rows][columns];\n        \n        for(int i=0; i&lt;storage.length; i++) {\n            System.out.println();\n            for (int j=0; j&lt;storage[i].length; j++) {\n                System.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);\n                storage[i][j] = scanner.nextInt();\n            }\n        }\n        \n        for(int i=0; i&lt;storage.length; i++) {\n            System.out.println();\n            for(int j=0; j&lt;storage[i].length; j++) {\n                System.out.print(storage[i][j]+ &quot; &quot;);\n            }\n        }\n        \n        scanner.close();\n    } \n}\n</code></pre>\n<p>It is intended to count up starting from 1 up until the what the user entered. ex).</p>\n<p>Please enter the integer for row: 1 column: 1\n//user input\nPlease enter the integer for row: 1 column: 2\n//user input</p>\n<p>What actually happens is:</p>\n<p>Please enter the integer for row: 01 column: 01\n//user input\nPlease enter the integer for row: 01 column: 11</p>\n<p>I do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps!</p>\n"},{"tags":["java","arrays","max"],"comments":[{"owner":{"account_id":7773500,"reputation":5844,"user_id":5882307,"display_name":"OMi Shah"},"score":0,"creation_date":1598759944,"post_id":63653773,"comment_id":112561041,"body_markdown":"You&#39;re no where assigning to the ``max`` variable in your ``max`` method.","body":"You&#39;re no where assigning to the <code>max</code> variable in your <code>max</code> method."}],"answers":[{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598848704,"creation_date":1598760206,"answer_id":63653830,"question_id":63653773,"body_markdown":"The `max` method should be like:\r\n\r\n```java\r\n\r\npublic static Measurable max(Measurable[] objects) {\r\n   Measurable max = null;\r\n   for (Measurable obj : objects) {\r\n       if (max == null || obj.getMeasure() &gt; max.getMeasure()) {\r\n              max = obj;\r\n       }  \r\n    }\r\n       return max;\r\n}\r\n\r\n```\r\n\r\nIf you&#39;re using Java 8, you could do:\r\n\r\n```java\r\npublic static Measurable max(Measurable[] objects) {\r\n  return Arrays.stream(objects).max(Comparator.comparing(Measurable::getMeasure)).get();\r\n}\r\n```\r\n\r\n\r\nAlso, using \r\n```java \r\nfor (Measurable obj : objects){\r\n``` \r\nwithout `null` check is a recipe for `NullPointerException`.\r\n\r\n**---- Edit ------**&lt;br&gt;\r\nUsing the `max` method:\r\n```java\r\nMeasurable max = Data.max(countries) // gives max measure containing object\r\nSystem.out.println(max.getMeasure()) // prints the max measure value\r\n```\r\n\r\n","title":"Trying to write a method to find the largest object from an array","body":"<p>The <code>max</code> method should be like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static Measurable max(Measurable[] objects) {\n   Measurable max = null;\n   for (Measurable obj : objects) {\n       if (max == null || obj.getMeasure() &gt; max.getMeasure()) {\n              max = obj;\n       }  \n    }\n       return max;\n}\n\n</code></pre>\n<p>If you're using Java 8, you could do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Measurable max(Measurable[] objects) {\n  return Arrays.stream(objects).max(Comparator.comparing(Measurable::getMeasure)).get();\n}\n</code></pre>\n<p>Also, using</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Measurable obj : objects){\n</code></pre>\n<p>without <code>null</code> check is a recipe for <code>NullPointerException</code>.</p>\n<p><strong>---- Edit ------</strong><br>\nUsing the <code>max</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Measurable max = Data.max(countries) // gives max measure containing object\nSystem.out.println(max.getMeasure()) // prints the max measure value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700981324,"creation_date":1700981324,"answer_id":77550733,"question_id":63653773,"body_markdown":"One fairly idiomatic approach using the built-in Java libraries would be to use [`Stream.max`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)):\r\n\r\n```lang-java\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\npublic class Data {\r\n    private static final Comparator&lt;Measurable&gt; MEASURABLE_COMPARATOR =\r\n            Comparator.comparing(Measurable::getMeasure);\r\n\r\n    public static Measurable max(Measurable[] objects){\r\n        return Arrays.stream(objects).max(MEASURABLE_COMPARATOR).orElseThrow();\r\n    }\r\n}\r\n```","title":"Trying to write a method to find the largest object from an array","body":"<p>One fairly idiomatic approach using the built-in Java libraries would be to use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream.max</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Data {\n    private static final Comparator&lt;Measurable&gt; MEASURABLE_COMPARATOR =\n            Comparator.comparing(Measurable::getMeasure);\n\n    public static Measurable max(Measurable[] objects){\n        return Arrays.stream(objects).max(MEASURABLE_COMPARATOR).orElseThrow();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700982142,"creation_date":1700981715,"answer_id":77550749,"question_id":63653773,"body_markdown":"You were almost there. Initially set the `max` value to `object[0]` by `max =objects[0]` and then compare it with each iteration.\r\n\r\nRefer the below code:\r\n\r\n    public class Data {\r\n      public static Measurable max(Measurable[] objects){\r\n        Measurable max = objects[0];  \r\n        for (int i = 1; i &lt; objects.length; i++) {\r\n            if (objects[i] &gt; max) {\r\n                max = objects[i];\r\n            }\r\n        }\r\n       return max;\r\n      }\r\n    }","title":"Trying to write a method to find the largest object from an array","body":"<p>You were almost there. Initially set the <code>max</code> value to <code>object[0]</code> by <code>max =objects[0]</code> and then compare it with each iteration.</p>\n<p>Refer the below code:</p>\n<pre><code>public class Data {\n  public static Measurable max(Measurable[] objects){\n    Measurable max = objects[0];  \n    for (int i = 1; i &lt; objects.length; i++) {\n        if (objects[i] &gt; max) {\n            max = objects[i];\n        }\n    }\n   return max;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18723748,"reputation":41,"user_id":13650947,"display_name":"smasherCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1700982142,"creation_date":1598759434,"question_id":63653773,"body_markdown":"Add a method:\r\n```lang-java\r\npublic static Measurable max(Measurable[] objects)\r\n```\r\nto the `Data` class that returns the object with the largest measure.\r\n\r\nThis is what I have for code:\r\n\r\n```lang-java\r\npublic interface Measurable\r\n{\r\n    double getMeasure();\r\n}\r\n```\r\n\r\nAnd the part I am having problems with:\r\n\r\n```lang-java\r\npublic class Data {\r\n  //I am trying to come up with a method here\r\n\r\n  public static Measurable max(Measurable[] objects){\r\n    double max = 0;\r\n    for (Measurable obj : objects){\r\n      if (obj.getMeasure() &gt; max){\r\n          obj =  max;\r\n      }  \r\n    }\r\n   return max;\r\n  }\r\n}\r\n```","title":"Trying to write a method to find the largest object from an array","body":"<p>Add a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Measurable max(Measurable[] objects)\n</code></pre>\n<p>to the <code>Data</code> class that returns the object with the largest measure.</p>\n<p>This is what I have for code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Measurable\n{\n    double getMeasure();\n}\n</code></pre>\n<p>And the part I am having problems with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Data {\n  //I am trying to come up with a method here\n\n  public static Measurable max(Measurable[] objects){\n    double max = 0;\n    for (Measurable obj : objects){\n      if (obj.getMeasure() &gt; max){\n          obj =  max;\n      }  \n    }\n   return max;\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs","sqslistener"],"owner":{"account_id":2577522,"reputation":3155,"user_id":2234865,"accept_rate":100,"display_name":"Viraj Nalawade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700981017,"creation_date":1700981017,"question_id":77550723,"body_markdown":"As per [documentation][1] , The visibility timeout begins when Amazon SQS returns a message. During this time, the consumer processes and deletes the message. However, if the consumer fails before deleting the message and your system doesn&#39;t call the DeleteMessage action for that message before the visibility timeout expires, the message becomes visible.\r\n\r\nWhile using spring boot 3 `@SqsListener`, the default acknowledgement mode is ON_SUCCESS as [documentation][2].\r\n\r\nNow if the acknowledgement mode is `ON_SUCCESS` and visibility timeout is 30 minutes but the processing of message fails at 15 minutes. Will the message be immediately visible after failure or SQS will wait 30 minutes to make messages visible to other consumers.\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html\r\n  [2]: https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC2/reference/html/index.html#sqscontaineroptions-descriptions","title":"Spring boot SQS listener makes message visible if error/exception in processing","body":"<p>As per <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html\" rel=\"nofollow noreferrer\">documentation</a> , The visibility timeout begins when Amazon SQS returns a message. During this time, the consumer processes and deletes the message. However, if the consumer fails before deleting the message and your system doesn't call the DeleteMessage action for that message before the visibility timeout expires, the message becomes visible.</p>\n<p>While using spring boot 3 <code>@SqsListener</code>, the default acknowledgement mode is ON_SUCCESS as <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC2/reference/html/index.html#sqscontaineroptions-descriptions\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>Now if the acknowledgement mode is <code>ON_SUCCESS</code> and visibility timeout is 30 minutes but the processing of message fails at 15 minutes. Will the message be immediately visible after failure or SQS will wait 30 minutes to make messages visible to other consumers.</p>\n"},{"tags":["java","android","live-streaming","twitch","twitch-api"],"owner":{"account_id":25309640,"reputation":13,"user_id":19132550,"display_name":"htaapps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700979573,"creation_date":1700929424,"question_id":77548633,"body_markdown":"&gt;i want to try streaming a twitch live video in android app in java through webView but the stream is mute and not in full screen in landscape mode.\r\n\r\n**Twitch live Video Streaming is working fine but i want 2 changes.**\r\n\r\n*1. Stream start but on mute, but i have to unmute manually.*    \r\n*2. Stream not play in full screen even i add lanscape mode.*\r\n\r\n**If you have any idea to solve these problem help me, I will be very grateful to you**\r\n\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    WebView mWebView;\r\n    TextView textView;\r\n    String url;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_main);\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n\r\n        url = &quot;https://player.twitch.tv/?channel=jandarpan_news&amp;enableExtensions=true&amp;muted=false&amp;parent=twitch.tv&amp;player=popout&amp;quality=auto&amp;volume=1&quot;;\r\n\r\n        textView = (TextView) findViewById(R.id.textV);\r\n        mWebView = (WebView) findViewById(R.id.webview1);\r\n        mWebView.setWebChromeClient(new WebChromeClient());\r\n        mWebView.setWebViewClient(new WebViewClient());\r\n\r\n        WebSettings webSettings = mWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setUseWideViewPort(true);\r\n        webSettings.setLoadWithOverviewMode(true);\r\n        webSettings.setMediaPlaybackRequiresUserGesture(false);\r\n       \r\n        webSettings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&quot;;\r\n        webSettings.setUserAgentString(userAgent);\r\n        mWebView.setLayerType(WebView.LAYER_TYPE_HARDWARE, null);\r\n        mWebView.setWebChromeClient(new WebChromeClient() {\r\n            @Override\r\n            public void onPermissionRequest(final android.webkit.PermissionRequest request) {\r\n                request.grant(request.getResources());\r\n            }\r\n        });\r\n\r\n        mWebView.loadUrl(url);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"i want to try streaming a twitch live video in android app in java through webView but the stream is mute and not in full screen in landscape mode","body":"<blockquote>\n<p>i want to try streaming a twitch live video in android app in java through webView but the stream is mute and not in full screen in landscape mode.</p>\n</blockquote>\n<p><strong>Twitch live Video Streaming is working fine but i want 2 changes.</strong></p>\n<p><em>1. Stream start but on mute, but i have to unmute manually.</em><br />\n<em>2. Stream not play in full screen even i add lanscape mode.</em></p>\n<p><strong>If you have any idea to solve these problem help me, I will be very grateful to you</strong></p>\n<pre><code>\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.content.pm.ActivityInfo;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity {\n    WebView mWebView;\n    TextView textView;\n    String url;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_main);\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n\n        url = &quot;https://player.twitch.tv/?channel=jandarpan_news&amp;enableExtensions=true&amp;muted=false&amp;parent=twitch.tv&amp;player=popout&amp;quality=auto&amp;volume=1&quot;;\n\n        textView = (TextView) findViewById(R.id.textV);\n        mWebView = (WebView) findViewById(R.id.webview1);\n        mWebView.setWebChromeClient(new WebChromeClient());\n        mWebView.setWebViewClient(new WebViewClient());\n\n        WebSettings webSettings = mWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setUseWideViewPort(true);\n        webSettings.setLoadWithOverviewMode(true);\n        webSettings.setMediaPlaybackRequiresUserGesture(false);\n       \n        webSettings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&quot;;\n        webSettings.setUserAgentString(userAgent);\n        mWebView.setLayerType(WebView.LAYER_TYPE_HARDWARE, null);\n        mWebView.setWebChromeClient(new WebChromeClient() {\n            @Override\n            public void onPermissionRequest(final android.webkit.PermissionRequest request) {\n                request.grant(request.getResources());\n            }\n        });\n\n        mWebView.loadUrl(url);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700985561,"post_id":77550625,"comment_id":136717300,"body_markdown":"I can&#39;t reproduce. START does get printed for me. Please show a [mcve].","body":"I can&#39;t reproduce. START does get printed for me. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1700988041,"post_id":77550625,"comment_id":136717459,"body_markdown":"Your class is named `RestFootballStream2`, but the method references are `RestFootballStream::url2Json` and `RestFootballStream::goalsStream` which references methods from a different class. Are you sure you changed the correct`url2Json()` method to output &quot;START&quot;?","body":"Your class is named <code>RestFootballStream2</code>, but the method references are <code>RestFootballStream::url2Json</code> and <code>RestFootballStream::goalsStream</code> which references methods from a different class. Are you sure you changed the correct<code>url2Json()</code> method to output &quot;START&quot;?"},{"owner":{"account_id":16304270,"reputation":159,"user_id":11774608,"display_name":"nvn"},"score":0,"creation_date":1700992711,"post_id":77550625,"comment_id":136717823,"body_markdown":"That was it.I had the wrong class name.","body":"That was it.I had the wrong class name."}],"owner":{"account_id":16304270,"reputation":159,"user_id":11774608,"display_name":"nvn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700979381,"creation_date":1700978570,"question_id":77550625,"body_markdown":" - I&#39;m trying to debug a java program.\r\n - It is not calling the method url2Json .\r\n - I tried printing START at the begining of function url2Json.\r\n - The START doesn&#39;t get printed.\r\n - I tried settting breakpoint inside the function url2Json using\r\n   eclipse but it doesn&#39;t hit the breakpoint.\r\n - This has something to do with the streams and map.\r\n -  The .map(RestFootballStream::url2Json) in method totgoals is where it is not calling the function url2Json.\r\n\r\nIt works when i use map(s-&gt;url2Json(s)) . What is the problem with RestFootballStream::url2Json ?\r\n\r\nTo ensure everthing is allright in the functions i tried\r\n```\r\n    for each url in list\r\n          String ret=  url2json(url);\r\n          int curgoals = goalsStream(ret);\r\n```\r\nand everything worked fine in the above code.                         \r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\n\r\npublic class RestFootballStream2 {\r\n\tstatic int total_pages = 1;\r\n\tstatic String actualteam;\r\n\tstatic ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n\tstatic int goalsStream(String allLines) {\r\n\t\tint goals = 0;\r\n\t\tJsonObject response = new Gson().fromJson(allLines, JsonObject.class);\r\n\r\n\t\t// total_pages = response.get(&quot;total_pages&quot;).getAsInt();\r\n\t\tJsonArray arr = response.get(&quot;data&quot;).getAsJsonArray();\r\n\t\tfor (int i = 0; (arr != null) &amp;&amp; i &lt; arr.size(); i++) {\r\n\t\t\t// System.out.println(arr);\r\n\t\t\tString team1name = arr.get(i).getAsJsonObject().get(&quot;team1&quot;).getAsString();\r\n\t\t\tString team2name = arr.get(i).getAsJsonObject().get(&quot;team2&quot;).getAsString();\r\n\t\t\tint team1goals = arr.get(i).getAsJsonObject().get(&quot;team1goals&quot;).getAsInt();\r\n\t\t\tint team2goals = arr.get(i).getAsJsonObject().get(&quot;team2goals&quot;).getAsInt();\r\n\t\t\tif (team1name.equals(actualteam))\r\n\t\t\t\tgoals += team1goals;\r\n\t\t\tif (team2name.equals(actualteam))\r\n\t\t\t\tgoals += team2goals;\r\n\t\t}\r\n\t\treturn goals;\r\n\t}\r\n\r\n\tstatic String url2Json(String url) {\r\n\t\tSystem.out.println(&quot;START&quot;);\r\n\t\tStringBuilder allLines = new StringBuilder();\r\n\t\ttry {\r\n\t\t\tURL u = new URL(url);\r\n\t\t\ttry {\r\n\t\t\t\tInputStream is = u.openConnection().getInputStream();\r\n\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\t\t\tString line = &quot;&quot;;\r\n\t\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\t\tallLines.append(line);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn allLines.toString();\r\n\t}\r\n\r\n\tstatic void getgoals(int year) {\r\n\t\tStringBuilder allLines = new StringBuilder();\r\n\t\ttry {\r\n\t\t\tURL u = new URL(\r\n\t\t\t\t\tString.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, 1));\r\n\t\t\ttry {\r\n\t\t\t\tInputStream is = u.openConnection().getInputStream();\r\n\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\t\t\tString line = &quot;&quot;;\r\n\t\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\t\tallLines.append(line);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tJsonObject response = new Gson().fromJson(allLines.toString(), JsonObject.class);\r\n\t\ttotal_pages = response.get(&quot;total_pages&quot;).getAsInt();\r\n\t\tSystem.out.println(&quot;total_pages=&quot; + total_pages);\r\n\t\tfor (int page = 1; page &lt;= total_pages; page++) {\r\n\t\t\tlist.add(String.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, page));\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tstatic int totgoals(int year, String team) {\r\n\t\tactualteam = team;\r\n\t\tgetgoals(year);\r\n\r\n\t\tint t1 = 0;\r\n\t\ttry {\r\n\t\t\tt1 = list\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.map(RestFootballStream::url2Json)\r\n\t\t\t\t\t.mapToInt(RestFootballStream::goalsStream)\r\n\t\t\t\t\t.sum();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;******EXCEPTION*****&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn t1;\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\t// some time passes\r\n\t\tSystem.out.println(totgoals(2011, &quot;Chelsea&quot;));\r\n\t\tlong end = System.currentTimeMillis();\r\n\t\tlong elapsedTime = end - start;\r\n\t\tSystem.out.println(elapsedTime / 1000.0);\r\n\t}\r\n\r\n}\r\n\r\n```","title":"Map Method not called when using streams on Method reference but works as lambda","body":"<ul>\n<li>I'm trying to debug a java program.</li>\n<li>It is not calling the method url2Json .</li>\n<li>I tried printing START at the begining of function url2Json.</li>\n<li>The START doesn't get printed.</li>\n<li>I tried settting breakpoint inside the function url2Json using\neclipse but it doesn't hit the breakpoint.</li>\n<li>This has something to do with the streams and map.</li>\n<li>The .map(RestFootballStream::url2Json) in method totgoals is where it is not calling the function url2Json.</li>\n</ul>\n<p>It works when i use map(s-&gt;url2Json(s)) . What is the problem with RestFootballStream::url2Json ?</p>\n<p>To ensure everthing is allright in the functions i tried</p>\n<pre><code>    for each url in list\n          String ret=  url2json(url);\n          int curgoals = goalsStream(ret);\n</code></pre>\n<p>and everything worked fine in the above code.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\n\npublic class RestFootballStream2 {\n    static int total_pages = 1;\n    static String actualteam;\n    static ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    static int goalsStream(String allLines) {\n        int goals = 0;\n        JsonObject response = new Gson().fromJson(allLines, JsonObject.class);\n\n        // total_pages = response.get(&quot;total_pages&quot;).getAsInt();\n        JsonArray arr = response.get(&quot;data&quot;).getAsJsonArray();\n        for (int i = 0; (arr != null) &amp;&amp; i &lt; arr.size(); i++) {\n            // System.out.println(arr);\n            String team1name = arr.get(i).getAsJsonObject().get(&quot;team1&quot;).getAsString();\n            String team2name = arr.get(i).getAsJsonObject().get(&quot;team2&quot;).getAsString();\n            int team1goals = arr.get(i).getAsJsonObject().get(&quot;team1goals&quot;).getAsInt();\n            int team2goals = arr.get(i).getAsJsonObject().get(&quot;team2goals&quot;).getAsInt();\n            if (team1name.equals(actualteam))\n                goals += team1goals;\n            if (team2name.equals(actualteam))\n                goals += team2goals;\n        }\n        return goals;\n    }\n\n    static String url2Json(String url) {\n        System.out.println(&quot;START&quot;);\n        StringBuilder allLines = new StringBuilder();\n        try {\n            URL u = new URL(url);\n            try {\n                InputStream is = u.openConnection().getInputStream();\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\n                String line = &quot;&quot;;\n                while ((line = br.readLine()) != null) {\n                    allLines.append(line);\n                }\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return allLines.toString();\n    }\n\n    static void getgoals(int year) {\n        StringBuilder allLines = new StringBuilder();\n        try {\n            URL u = new URL(\n                    String.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, 1));\n            try {\n                InputStream is = u.openConnection().getInputStream();\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\n                String line = &quot;&quot;;\n                while ((line = br.readLine()) != null) {\n                    allLines.append(line);\n                }\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        JsonObject response = new Gson().fromJson(allLines.toString(), JsonObject.class);\n        total_pages = response.get(&quot;total_pages&quot;).getAsInt();\n        System.out.println(&quot;total_pages=&quot; + total_pages);\n        for (int page = 1; page &lt;= total_pages; page++) {\n            list.add(String.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, page));\n        }\n\n        return;\n    }\n\n    static int totgoals(int year, String team) {\n        actualteam = team;\n        getgoals(year);\n\n        int t1 = 0;\n        try {\n            t1 = list\n                    .stream()\n                    .map(RestFootballStream::url2Json)\n                    .mapToInt(RestFootballStream::goalsStream)\n                    .sum();\n        } catch (Exception e) {\n            System.out.println(&quot;******EXCEPTION*****&quot;);\n            e.printStackTrace();\n        }\n\n        return t1;\n\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        long start = System.currentTimeMillis();\n        // some time passes\n        System.out.println(totgoals(2011, &quot;Chelsea&quot;));\n        long end = System.currentTimeMillis();\n        long elapsedTime = end - start;\n        System.out.println(elapsedTime / 1000.0);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700937997,"post_id":77549050,"comment_id":136714254,"body_markdown":"Could you also share your DTO where you map the result of the query ?","body":"Could you also share your DTO where you map the result of the query ?"},{"owner":{"account_id":18614819,"reputation":13,"user_id":13566362,"display_name":"Feldwebel"},"score":0,"creation_date":1700938695,"post_id":77549050,"comment_id":136714327,"body_markdown":"in the DTO i just remove the player entity.","body":"in the DTO i just remove the player entity."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700994343,"post_id":77549050,"comment_id":136717950,"body_markdown":"you have got an answer to your question that I also meant to give you","body":"you have got an answer to your question that I also meant to give you"},{"owner":{"account_id":18614819,"reputation":13,"user_id":13566362,"display_name":"Feldwebel"},"score":0,"creation_date":1701121617,"post_id":77549050,"comment_id":136733740,"body_markdown":"Yeah i saw it. Does it help with performance. The whole point, why i want to do it like this. Is, when i call 1000 ratings from an player_id. I dont to call 1000times the same player object.","body":"Yeah i saw it. Does it help with performance. The whole point, why i want to do it like this. Is, when i call 1000 ratings from an player_id. I dont to call 1000times the same player object."},{"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"score":0,"creation_date":1701354636,"post_id":77549050,"comment_id":136767294,"body_markdown":"Why do you use **MapsId** in Rating class? It is used for **one-to-one** mapping.","body":"Why do you use <b>MapsId</b> in Rating class? It is used for <b>one-to-one</b> mapping."}],"answers":[{"tags":[],"owner":{"account_id":20832424,"reputation":1,"user_id":15301412,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700979072,"creation_date":1700979072,"answer_id":77550658,"question_id":77549050,"body_markdown":"You can use a custom query or projection in Spring Data JPA. One way to achieve this is by using a DTO (Data Transfer Object) projection to retrieve only the necessary information.\r\n\r\n```\r\npublic class RatingDTO {\r\n    private Long playerId;\r\n    private float points;\r\n    private Long startDate;\r\n    private Long endDate;\r\n    private Status status;\r\n\r\n    // Constructor, getters, and setters\r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\r\n\r\n    @Query(&quot;SELECT new com.example.dto.RatingDTO(r.player.id, r.points, r.startDate, r.endDate, r.status) FROM Rating r WHERE r.player.id = :playerId&quot;)\r\n    List&lt;RatingDTO&gt; findAllByPlayerId(Long playerId);\r\n}\r\n```\r\n\r\nNow, when you call `findAllByPlayerId` method, it will return a list of `RatingDTO` objects containing only the necessary information without fetching the complete `Player` entity.\r\n\r\nRemember to adjust the package name `(com.example.dto)` according to your project structure. Additionally, you may need to handle null values for optional associations, such as platform in the Rating entity, if they are nullable in the database.","title":"Spring Data JPA: How to get parent entity with childentity Ids only instead of whole child entity","body":"<p>You can use a custom query or projection in Spring Data JPA. One way to achieve this is by using a DTO (Data Transfer Object) projection to retrieve only the necessary information.</p>\n<pre><code>public class RatingDTO {\n    private Long playerId;\n    private float points;\n    private Long startDate;\n    private Long endDate;\n    private Status status;\n\n    // Constructor, getters, and setters\n}\n</code></pre>\n<pre><code>@Repository\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\n\n    @Query(&quot;SELECT new com.example.dto.RatingDTO(r.player.id, r.points, r.startDate, r.endDate, r.status) FROM Rating r WHERE r.player.id = :playerId&quot;)\n    List&lt;RatingDTO&gt; findAllByPlayerId(Long playerId);\n}\n</code></pre>\n<p>Now, when you call <code>findAllByPlayerId</code> method, it will return a list of <code>RatingDTO</code> objects containing only the necessary information without fetching the complete <code>Player</code> entity.</p>\n<p>Remember to adjust the package name <code>(com.example.dto)</code> according to your project structure. Additionally, you may need to handle null values for optional associations, such as platform in the Rating entity, if they are nullable in the database.</p>\n"}],"owner":{"account_id":18614819,"reputation":13,"user_id":13566362,"display_name":"Feldwebel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700979072,"creation_date":1700936015,"question_id":77549050,"body_markdown":"I have a Spring Data JPA setup with entities Player and Rating. In my use case, I want to retrieve all ratings for a specific user by their ID. However, I don&#39;t want to fetch the complete User entity for each rating; instead, I only need the user ID for example or nothing, similar to how it&#39;s stored in the database.\r\n\r\nIs there a way to achieve this in Spring Data JPA, perhaps through a custom query or projection, to optimize the performance by avoiding the unnecessary loading of the complete User entity for each rating?\r\n\r\nIs there an optimized way? At the moment it just maps to DTOs after the call, i think it&#39;s not well optimize.\r\n\r\n**Entities**\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Rating {\r\n\r\n    @EmbeddedId\r\n    private RatingId ratingId;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;playerId&quot;)\r\n    @NotNull\r\n    private Player player;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;gameId&quot;)\r\n    @NotNull\r\n    private Game game;\r\n\r\n    private float points;\r\n\r\n    @ManyToOne\r\n    private Platform platform;\r\n\r\n    private Long startDate;\r\n\r\n    private Long endDate;\r\n\r\n    private Status status;\r\n\r\n    public Rating(Player player, Game game) {\r\n        this.ratingId = new RatingId(player.getId(), game.getId());\r\n        this.player = player;\r\n        this.game = game;\r\n    }\r\n}\r\n\r\n@Entity\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Setter(AccessLevel.NONE)\r\n    @Column(updatable = false)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(max = 20)\r\n    @Column(unique = true)\r\n    private String username;\r\n\r\n    @NotBlank\r\n    @Size(max = 50)\r\n    @Email\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    @NotBlank\r\n    @Size(max = 120)\r\n    private String password;\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    public Player(String username, String email, String password) {\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n}\r\n\r\n@Embeddable\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class RatingId implements Serializable {\r\n\r\n    private Long playerId;\r\n    private Long gameId;\r\n}\r\n```\r\n\r\n**Repository**\r\n\r\n```\r\n@Repository\r\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\r\n    List&lt;Rating&gt; findAllByPlayerId(Long playerId);\r\n}\r\n```\r\n\r\nWhen i do it directly in the database:\r\n```\r\ndatabase=# select * from rating where rating.player_id = 1;\r\n\r\n end_date | points | start_date | status | player_id | game_id | platform_id\r\n----------+--------+------------+--------+-----------+---------+-------------\r\n          |    1.5 |            |      0 |         1 |    9174 |           6\r\n```","title":"Spring Data JPA: How to get parent entity with childentity Ids only instead of whole child entity","body":"<p>I have a Spring Data JPA setup with entities Player and Rating. In my use case, I want to retrieve all ratings for a specific user by their ID. However, I don't want to fetch the complete User entity for each rating; instead, I only need the user ID for example or nothing, similar to how it's stored in the database.</p>\n<p>Is there a way to achieve this in Spring Data JPA, perhaps through a custom query or projection, to optimize the performance by avoiding the unnecessary loading of the complete User entity for each rating?</p>\n<p>Is there an optimized way? At the moment it just maps to DTOs after the call, i think it's not well optimize.</p>\n<p><strong>Entities</strong></p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Rating {\n\n    @EmbeddedId\n    private RatingId ratingId;\n\n    @ManyToOne\n    @MapsId(&quot;playerId&quot;)\n    @NotNull\n    private Player player;\n\n    @ManyToOne\n    @MapsId(&quot;gameId&quot;)\n    @NotNull\n    private Game game;\n\n    private float points;\n\n    @ManyToOne\n    private Platform platform;\n\n    private Long startDate;\n\n    private Long endDate;\n\n    private Status status;\n\n    public Rating(Player player, Game game) {\n        this.ratingId = new RatingId(player.getId(), game.getId());\n        this.player = player;\n        this.game = game;\n    }\n}\n\n@Entity\n@EqualsAndHashCode\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Setter(AccessLevel.NONE)\n    @Column(updatable = false)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 20)\n    @Column(unique = true)\n    private String username;\n\n    @NotBlank\n    @Size(max = 50)\n    @Email\n    @Column(unique = true)\n    private String email;\n\n    @NotBlank\n    @Size(max = 120)\n    private String password;\n\n    @EqualsAndHashCode.Exclude\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    public Player(String username, String email, String password) {\n        this.username = username;\n        this.email = email;\n        this.password = password;\n    }\n\n}\n\n@Embeddable\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RatingId implements Serializable {\n\n    private Long playerId;\n    private Long gameId;\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\n    List&lt;Rating&gt; findAllByPlayerId(Long playerId);\n}\n</code></pre>\n<p>When i do it directly in the database:</p>\n<pre><code>database=# select * from rating where rating.player_id = 1;\n\n end_date | points | start_date | status | player_id | game_id | platform_id\n----------+--------+------------+--------+-----------+---------+-------------\n          |    1.5 |            |      0 |         1 |    9174 |           6\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson","openfeign"],"owner":{"account_id":14775762,"reputation":20,"user_id":10670746,"display_name":"Divyansh Rajput"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700978758,"creation_date":1700978758,"question_id":77550639,"body_markdown":"I have custompage class as follows\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(callSuper = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class DashboardResponseModel&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n  private Integer count;\r\n  private Integer totalCount;\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total) {\r\n    super(content, pageable, total);\r\n  }\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content) {\r\n    super(content);\r\n  }\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total, Integer count,\r\n      Integer totalCount) {\r\n    super(content, pageable, total);\r\n    this.count = count;\r\n    this.totalCount = totalCount;\r\n  }\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content, Integer count, Integer totalCount) {\r\n    super(content);\r\n    this.count = count;\r\n    this.totalCount = totalCount;\r\n  }\r\n```\r\n\r\nBelow is Fiegn configuration:\r\n\r\n```\r\npublic class OKHTTPWithFeignClientConfiguration {\r\n  @Value(&quot;${spring.application.name}&quot;)\r\n  private String appName;\r\n\r\n  @Bean\r\n  public Contract feignContract() {\r\n    return new SpringMvcContract();\r\n  }\r\n\r\n  @Bean\r\n  public RequestInterceptor requestStartInterceptor() {\r\n    return new FeignRequestStartLoggerInterceptor();\r\n  }\r\n\r\n  @Bean\r\n  public RequestInterceptor requestTrackerInterceptor() {\r\n    return new FeignRequestTrackerInterceptor();\r\n  }\r\n\r\n  @Bean\r\n  public RequestInterceptor userAgentInterceptor(@Autowired Client client) {\r\n    return new FeignUserAgentInterceptor(appName, client.getClass().getPackageName());\r\n  }\r\n\r\n  @Bean\r\n  public ResponseInterceptor requestEndInterceptor() {\r\n    return new FeignRequestEndLoggerInterceptor();\r\n  }\r\n\r\n  @Bean\r\n  public OkHttpClient client() {\r\n    return new OkHttpClient();\r\n  }\r\n\r\n  @Bean\r\n  public Encoder encoder() {\r\n    return new JacksonEncoder(objectMapper());\r\n  }\r\n\r\n  @Bean\r\n  public Decoder decoder() {\r\n    return new JacksonDecoder(objectMapper());\r\n  }\r\n\r\n  private ObjectMapper objectMapper() {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new PageJacksonModule());\r\n    objectMapper.registerModule(new SortJacksonModule());\r\n    return objectMapper;\r\n  }\r\n```\r\n\r\nI&#39;m using Fiegn client to call other application and in response, I&#39;m getting ```DashboardResponseModel``` but fiegn client is not able to deserialize the response.\r\n\r\nBelow is the error:\r\n\r\n&gt; Failed to narrow type [simple type, class com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;] with annotation (value org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl), from &#39;com.abc.xxyz.dashboard.model.DashboardResponseModel&#39;: Class `org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl` not subtype of `com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;` reading PUT http://127.0.0.1:8312/v1.0/customer/32/registered-entity/7437/dashboard/missing-information/details?size=6&amp;page=0\r\n\r\n**Is there any additional configuration needed for DashboardResponseModel to deserialize?**","title":"CustomPage class deserialization is not working with fiegn client","body":"<p>I have custompage class as follows</p>\n<pre><code>@Getter\n@Setter\n@EqualsAndHashCode(callSuper = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DashboardResponseModel&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n  private Integer count;\n  private Integer totalCount;\n\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total) {\n    super(content, pageable, total);\n  }\n\n  public DashboardResponseModel(List&lt;T&gt; content) {\n    super(content);\n  }\n\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total, Integer count,\n      Integer totalCount) {\n    super(content, pageable, total);\n    this.count = count;\n    this.totalCount = totalCount;\n  }\n\n  public DashboardResponseModel(List&lt;T&gt; content, Integer count, Integer totalCount) {\n    super(content);\n    this.count = count;\n    this.totalCount = totalCount;\n  }\n</code></pre>\n<p>Below is Fiegn configuration:</p>\n<pre><code>public class OKHTTPWithFeignClientConfiguration {\n  @Value(&quot;${spring.application.name}&quot;)\n  private String appName;\n\n  @Bean\n  public Contract feignContract() {\n    return new SpringMvcContract();\n  }\n\n  @Bean\n  public RequestInterceptor requestStartInterceptor() {\n    return new FeignRequestStartLoggerInterceptor();\n  }\n\n  @Bean\n  public RequestInterceptor requestTrackerInterceptor() {\n    return new FeignRequestTrackerInterceptor();\n  }\n\n  @Bean\n  public RequestInterceptor userAgentInterceptor(@Autowired Client client) {\n    return new FeignUserAgentInterceptor(appName, client.getClass().getPackageName());\n  }\n\n  @Bean\n  public ResponseInterceptor requestEndInterceptor() {\n    return new FeignRequestEndLoggerInterceptor();\n  }\n\n  @Bean\n  public OkHttpClient client() {\n    return new OkHttpClient();\n  }\n\n  @Bean\n  public Encoder encoder() {\n    return new JacksonEncoder(objectMapper());\n  }\n\n  @Bean\n  public Decoder decoder() {\n    return new JacksonDecoder(objectMapper());\n  }\n\n  private ObjectMapper objectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new PageJacksonModule());\n    objectMapper.registerModule(new SortJacksonModule());\n    return objectMapper;\n  }\n</code></pre>\n<p>I'm using Fiegn client to call other application and in response, I'm getting <code>DashboardResponseModel</code> but fiegn client is not able to deserialize the response.</p>\n<p>Below is the error:</p>\n<blockquote>\n<p>Failed to narrow type [simple type, class com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;] with annotation (value org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl), from 'com.abc.xxyz.dashboard.model.DashboardResponseModel': Class <code>org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl</code> not subtype of <code>com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;</code> reading PUT <a href=\"http://127.0.0.1:8312/v1.0/customer/32/registered-entity/7437/dashboard/missing-information/details?size=6&amp;page=0\" rel=\"nofollow noreferrer\">http://127.0.0.1:8312/v1.0/customer/32/registered-entity/7437/dashboard/missing-information/details?size=6&amp;page=0</a></p>\n</blockquote>\n<p><strong>Is there any additional configuration needed for DashboardResponseModel to deserialize?</strong></p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":1464652,"reputation":12313,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":3,"creation_date":1543405994,"post_id":53518664,"comment_id":93906252,"body_markdown":"`my_url` should start with either `http4` or `https4` as you use `camel-http4`. You can also register the `org.apache.camle.component.http4.HttpComponent` as `http` in Camel via `camleContext.addComponent(&quot;http&quot;, new HttpComponent());`","body":"<code>my_url</code> should start with either <code>http4</code> or <code>https4</code> as you use <code>camel-http4</code>. You can also register the <code>org.apache.camle.component.http4.HttpComponent</code> as <code>http</code> in Camel via <code>camleContext.addComponent(&quot;http&quot;, new HttpComponent());</code>"},{"owner":{"account_id":9766451,"reputation":29,"user_id":7239716,"display_name":"Muhammad Basim"},"score":0,"creation_date":1543406281,"post_id":53518664,"comment_id":93906416,"body_markdown":"Thanks @RomanVottner its working","body":"Thanks @RomanVottner its working"}],"owner":{"account_id":9766451,"reputation":29,"user_id":7239716,"display_name":"Muhammad Basim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700978721,"creation_date":1543405383,"question_id":53518664,"body_markdown":"I am trying to call REST API using apache camel but i got exception\r\n\r\norg.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: &gt;&gt;&gt; To[http://devloyalty.darkwing.io/api/test_loyalty] &lt;&lt;&lt; in route: Route(route1)[[From[direct:start]] -&gt; [SetHeader[CamelHttpMe... because of Failed to resolve endpoint: **&quot;my_url_here&quot;** due to: No component found with scheme: http\r\n\r\nSample Code is\r\n\r\n    public class RestApiRouteBuilder extends RouteBuilder {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void configure() throws Exception {\r\n\t\t\t\t\t\tfrom(&quot;direct:start&quot;).\r\n\t\t\t\t\t\tsetHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;)).\r\n\t\t\t\t\t\tsetHeader(Exchange.CONTENT_TYPE, constant(&quot;text/plain&quot;)).\r\n\t\t\t\t\t\tto(&quot;my_url&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\nand\r\n\r\n     public void restApiTest(){\r\n        RestApiRouteBuilder restApiRouteBuilder = new RestApiRouteBuilder();\r\n        CamelContext camelContext = new DefaultCamelContext();\r\n        try{\r\n            camelContext.addRoutes(restApiRouteBuilder);\r\n            camelContext.start();\r\n         \r\n            ProducerTemplate template = camelContext.createProducerTemplate();\r\n            String headerValue = &quot;text/plain&quot;;\r\n\r\n            Map&lt;String, Object&gt; headers = new HashMap&lt;String,Object&gt;();\r\n            headers.put(&quot;Content-Type&quot;, headerValue);\r\n\r\n            Object result = template.requestBodyAndHeaders(&quot;direct:start&quot;, null, headers, String.class);\r\n            Exchange exchange = new DefaultExchange(camelContext);\r\n            String response = ExchangeHelper.convertToType(exchange, String.class, result);\r\n            System.out.println(&quot;Response : &quot;+response);\r\n\r\n\r\n        } catch (Exception e){\r\n            System.out.println(&quot;The Exception is : &quot; + e);\r\n        }\r\n    }\r\n\r\nalso maven dependency for camel http\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-http4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Calling Rest API using Apache Camel","body":"<p>I am trying to call REST API using apache camel but i got exception</p>\n\n<p>org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> To[<a href=\"http://devloyalty.darkwing.io/api/test_loyalty]\" rel=\"nofollow noreferrer\">http://devloyalty.darkwing.io/api/test_loyalty]</a> &lt;&lt;&lt; in route: Route(route1)[[From[direct:start]] -> [SetHeader[CamelHttpMe... because of Failed to resolve endpoint: <strong>\"my_url_here\"</strong> due to: No component found with scheme: http</p>\n\n<p>Sample Code is</p>\n\n<pre><code>public class RestApiRouteBuilder extends RouteBuilder {\n                @Override\n                public void configure() throws Exception {\n                    from(\"direct:start\").\n                    setHeader(Exchange.HTTP_METHOD, constant(\"GET\")).\n                    setHeader(Exchange.CONTENT_TYPE, constant(\"text/plain\")).\n                    to(\"my_url\");\n                }\n            }\n</code></pre>\n\n<p>and</p>\n\n<pre><code> public void restApiTest(){\n    RestApiRouteBuilder restApiRouteBuilder = new RestApiRouteBuilder();\n    CamelContext camelContext = new DefaultCamelContext();\n    try{\n        camelContext.addRoutes(restApiRouteBuilder);\n        camelContext.start();\n\n        ProducerTemplate template = camelContext.createProducerTemplate();\n        String headerValue = \"text/plain\";\n\n        Map&lt;String, Object&gt; headers = new HashMap&lt;String,Object&gt;();\n        headers.put(\"Content-Type\", headerValue);\n\n        Object result = template.requestBodyAndHeaders(\"direct:start\", null, headers, String.class);\n        Exchange exchange = new DefaultExchange(camelContext);\n        String response = ExchangeHelper.convertToType(exchange, String.class, result);\n        System.out.println(\"Response : \"+response);\n\n\n    } catch (Exception e){\n        System.out.println(\"The Exception is : \" + e);\n    }\n}\n</code></pre>\n\n<p>also maven dependency for camel http</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-http4&lt;/artifactId&gt;\n        &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1684496395,"post_id":76278745,"comment_id":134529419,"body_markdown":"[How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a>"}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700978668,"creation_date":1700978668,"answer_id":77550632,"question_id":76278745,"body_markdown":"&gt; &quot;But when I set gbc.width = 1 instead of gbc.width = 2 for scrollPane, the femaleRadioButton will appear.&quot;\r\n\r\nIts not like you create a new `GridBagConstraint` each time, if you set a certain value once, it just stays the same unless you change it. So the way to solve this is simply by setting `gbc.width = 2`.","title":"GridBagLayout: Why is my femaleRadioButton can&#39;t be visible?","body":"<blockquote>\n<p>&quot;But when I set gbc.width = 1 instead of gbc.width = 2 for scrollPane, the femaleRadioButton will appear.&quot;</p>\n</blockquote>\n<p>Its not like you create a new <code>GridBagConstraint</code> each time, if you set a certain value once, it just stays the same unless you change it. So the way to solve this is simply by setting <code>gbc.width = 2</code>.</p>\n"}],"owner":{"account_id":26502034,"reputation":1,"user_id":20138812,"display_name":"Ph&#250; Huỳnh Gia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700978668,"creation_date":1684395922,"question_id":76278745,"body_markdown":"I used GridBagLayout to build a frame for my Swing Student form. This is my code:\r\n```\r\npackage layout;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Student extends JFrame implements ActionListener {\r\n    private JPanel panel;\r\n\r\n    private JLabel titleLabel, nameLabel, ageLabel, addressLabel, genderLabel, courseLabel, timeslotLabel;\r\n\r\n    private JTextField nameField, ageField;\r\n\r\n    private JTextArea addressArea;\r\n\r\n    private JRadioButton maleRadioButton, femaleRadioButton;\r\n\r\n    private JComboBox coursesComboBox;\r\n\r\n    public Student() {\r\n        setTitle(&quot;Đăng k&#253;&quot;);\r\n        setSize(500, 600);\r\n        setResizable(false);\r\n\r\n        titleLabel = new JLabel(&quot;Th&#244;ng tin sinh vi&#234;n&quot;);\r\n        titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\r\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n        nameLabel = new JLabel(&quot;Họ v&#224; t&#234;n&quot;);\r\n        nameField = new JTextField(30);\r\n\r\n        ageLabel = new JLabel(&quot;Tuổi&quot;);\r\n        ageField = new JTextField(30);\r\n\r\n        addressLabel = new JLabel(&quot;Địa chỉ&quot;);\r\n        addressArea = new JTextArea(3, 20);\r\n        addressArea.setLineWrap(true);\r\n        addressArea.setWrapStyleWord(true);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(addressArea);\r\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\r\n        genderLabel = new JLabel(&quot;Giới t&#237;nh&quot;);\r\n        maleRadioButton = new JRadioButton(&quot;Nam&quot;);\r\n        femaleRadioButton = new JRadioButton(&quot;Nữ&quot;);\r\n        ButtonGroup genderGroup = new ButtonGroup();\r\n        genderGroup.add(maleRadioButton);\r\n        genderGroup.add(femaleRadioButton);\r\n\r\n        courseLabel = new JLabel(&quot;Kh&#243;a học&quot;);\r\n        String[] courses = {&quot;Web Application Developer&quot;, &quot;Database Administrator&quot;, &quot;Network Administrator&quot;, &quot;Windows Application Developer&quot;};\r\n        coursesComboBox = new JComboBox&lt;&gt;(courses);\r\n\r\n        panel = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        gbc.insets = new Insets(10, 10, 10, 10);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.gridwidth = 3;\r\n        panel.add(titleLabel, gbc);\r\n\r\n        gbc.gridwidth = 1;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        panel.add(nameLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        gbc.gridwidth = 2;\r\n        panel.add(nameField, gbc);\r\n\r\n        gbc.gridwidth = 1;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        panel.add(ageLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 2;\r\n        gbc.gridwidth = 2;\r\n        panel.add(ageField, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 3;\r\n        panel.add(addressLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 3;\r\n        gbc.gridwidth = 2;\r\n        panel.add(scrollPane, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 4;\r\n        panel.add(genderLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 4;\r\n        panel.add(maleRadioButton, gbc);\r\n\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 4;\r\n        panel.add(femaleRadioButton, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 5;\r\n        gbc.gridwidth = 1;\r\n        panel.add(courseLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 5;\r\n        gbc.gridwidth = 2;\r\n        panel.add(coursesComboBox, gbc);\r\n\r\n        add(panel);\r\n\r\n        setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Student();\r\n    }\r\n}\r\n```\r\nAnd the result:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrEbW.png\r\n\r\nI do not understand why the femaleRadioButton is lost. \r\nBut when I set `gbc.width = 1` instead of `gbc.width = 2` for scrollPane, the femaleRadioButton will appear.\r\nWhy is this?","title":"GridBagLayout: Why is my femaleRadioButton can&#39;t be visible?","body":"<p>I used GridBagLayout to build a frame for my Swing Student form. This is my code:</p>\n<pre><code>package layout;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Student extends JFrame implements ActionListener {\n    private JPanel panel;\n\n    private JLabel titleLabel, nameLabel, ageLabel, addressLabel, genderLabel, courseLabel, timeslotLabel;\n\n    private JTextField nameField, ageField;\n\n    private JTextArea addressArea;\n\n    private JRadioButton maleRadioButton, femaleRadioButton;\n\n    private JComboBox coursesComboBox;\n\n    public Student() {\n        setTitle(&quot;Đăng ký&quot;);\n        setSize(500, 600);\n        setResizable(false);\n\n        titleLabel = new JLabel(&quot;Thông tin sinh viên&quot;);\n        titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\n\n        nameLabel = new JLabel(&quot;Họ và tên&quot;);\n        nameField = new JTextField(30);\n\n        ageLabel = new JLabel(&quot;Tuổi&quot;);\n        ageField = new JTextField(30);\n\n        addressLabel = new JLabel(&quot;Địa chỉ&quot;);\n        addressArea = new JTextArea(3, 20);\n        addressArea.setLineWrap(true);\n        addressArea.setWrapStyleWord(true);\n\n        JScrollPane scrollPane = new JScrollPane(addressArea);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n        genderLabel = new JLabel(&quot;Giới tính&quot;);\n        maleRadioButton = new JRadioButton(&quot;Nam&quot;);\n        femaleRadioButton = new JRadioButton(&quot;Nữ&quot;);\n        ButtonGroup genderGroup = new ButtonGroup();\n        genderGroup.add(maleRadioButton);\n        genderGroup.add(femaleRadioButton);\n\n        courseLabel = new JLabel(&quot;Khóa học&quot;);\n        String[] courses = {&quot;Web Application Developer&quot;, &quot;Database Administrator&quot;, &quot;Network Administrator&quot;, &quot;Windows Application Developer&quot;};\n        coursesComboBox = new JComboBox&lt;&gt;(courses);\n\n        panel = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(10, 10, 10, 10);\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 3;\n        panel.add(titleLabel, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        panel.add(nameLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        gbc.gridwidth = 2;\n        panel.add(nameField, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        panel.add(ageLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 2;\n        gbc.gridwidth = 2;\n        panel.add(ageField, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 3;\n        panel.add(addressLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 3;\n        gbc.gridwidth = 2;\n        panel.add(scrollPane, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 4;\n        panel.add(genderLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 4;\n        panel.add(maleRadioButton, gbc);\n\n        gbc.gridx = 2;\n        gbc.gridy = 4;\n        panel.add(femaleRadioButton, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 5;\n        gbc.gridwidth = 1;\n        panel.add(courseLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 5;\n        gbc.gridwidth = 2;\n        panel.add(coursesComboBox, gbc);\n\n        add(panel);\n\n        setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n    }\n\n    public static void main(String[] args) {\n        new Student();\n    }\n}\n</code></pre>\n<p>And the result:</p>\n<p><img src=\"https://i.stack.imgur.com/mrEbW.png\" alt=\"enter image description here\" /></p>\n<p>I do not understand why the femaleRadioButton is lost.\nBut when I set <code>gbc.width = 1</code> instead of <code>gbc.width = 2</code> for scrollPane, the femaleRadioButton will appear.\nWhy is this?</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":1,"creation_date":1700942938,"post_id":77549335,"comment_id":136714723,"body_markdown":"@RomanC what exactly do you not understand when I mention that my code is getting ignored? This is the problem. Please read again!","body":"@RomanC what exactly do you not understand when I mention that my code is getting ignored? This is the problem. Please read again!"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1700978067,"post_id":77549335,"comment_id":136716850,"body_markdown":"I&#39;d set an exception breakpoint on `AccessDeniedException` to see where it is thrown, and which exception handlers are on the stack at this point in time. That said, I think you&#39;re on the right track telling Spring Security about handling that exception rather than using an RestControllerAdvice, because the rest controller (and therefore it&#39;s advice) shouldn&#39;t be invoked if Spring Security denies access to that URL.","body":"I&#39;d set an exception breakpoint on <code>AccessDeniedException</code> to see where it is thrown, and which exception handlers are on the stack at this point in time. That said, I think you&#39;re on the right track telling Spring Security about handling that exception rather than using an RestControllerAdvice, because the rest controller (and therefore it&#39;s advice) shouldn&#39;t be invoked if Spring Security denies access to that URL."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700990497,"post_id":77549335,"comment_id":136717640,"body_markdown":"@xRay What do I read? You didn&#39;t explain your problem. Your question is a mistery of `AccedsDeniedException` which you can&#39;t handle? What did you try? *Read this*: Checked exception thrown when a file system operation is denied, typically due to a file permission or other access check.\nThis exception is not related to the `AccessControlException` or `SecurityException` thrown by access controllers or security managers when access to a file is denied.","body":"@xRay What do I read? You didn&#39;t explain your problem. Your question is a mistery of <code>AccedsDeniedException</code> which you can&#39;t handle? What did you try? <i>Read this</i>: Checked exception thrown when a file system operation is denied, typically due to a file permission or other access check. This exception is not related to the <code>AccessControlException</code> or <code>SecurityException</code> thrown by access controllers or security managers when access to a file is denied."}],"answers":[{"tags":[],"owner":{"account_id":20832424,"reputation":1,"user_id":15301412,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700976338,"creation_date":1700976338,"answer_id":77550557,"question_id":77549335,"body_markdown":"The issue here is that `AccessDeniedException` is not a subclass of `Exception`, and therefore, your `@ExceptionHandler` for Exception won&#39;t catch it directly. Spring Security&#39;s `AccessDeniedException` is a specialization of `RuntimeException`.\r\n\r\nTo handle `AccessDeniedException`, you need to specifically include it in the `@ExceptionHandler`. You can do this by adding a separate method for handling `AccessDeniedException` \r\n\r\n```\r\n@RestControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class RestExceptionHandler {\r\n\r\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class})\r\n    private ResponseEntity&lt;Object&gt; handleOtherExceptions(Exception exception) {\r\n        // Your existing logic for handling other exceptions\r\n    }\r\n\r\n    @ExceptionHandler(AccessDeniedException.class)\r\n    private ResponseEntity&lt;Object&gt; handleAccessDeniedException(AccessDeniedException exception) {\r\n        HttpStatus status = HttpStatus.UNAUTHORIZED;\r\n        List&lt;String&gt; errorList = Collections.singletonList(&quot;Access Denied&quot;);\r\n\r\n        Response response = Response.builder()\r\n                .code(status.name())\r\n                .status(status)\r\n                .timestamp(LocalDateTime.now())\r\n                .messages(errorList)\r\n                .build();\r\n\r\n        return ResponseEntity.status(status).body(response);\r\n    }\r\n}\r\n\r\n```","title":"Not able to customitze AccessDeniedException","body":"<p>The issue here is that <code>AccessDeniedException</code> is not a subclass of <code>Exception</code>, and therefore, your <code>@ExceptionHandler</code> for Exception won't catch it directly. Spring Security's <code>AccessDeniedException</code> is a specialization of <code>RuntimeException</code>.</p>\n<p>To handle <code>AccessDeniedException</code>, you need to specifically include it in the <code>@ExceptionHandler</code>. You can do this by adding a separate method for handling <code>AccessDeniedException</code></p>\n<pre><code>@RestControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class RestExceptionHandler {\n\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class})\n    private ResponseEntity&lt;Object&gt; handleOtherExceptions(Exception exception) {\n        // Your existing logic for handling other exceptions\n    }\n\n    @ExceptionHandler(AccessDeniedException.class)\n    private ResponseEntity&lt;Object&gt; handleAccessDeniedException(AccessDeniedException exception) {\n        HttpStatus status = HttpStatus.UNAUTHORIZED;\n        List&lt;String&gt; errorList = Collections.singletonList(&quot;Access Denied&quot;);\n\n        Response response = Response.builder()\n                .code(status.name())\n                .status(status)\n                .timestamp(LocalDateTime.now())\n                .messages(errorList)\n                .build();\n\n        return ResponseEntity.status(status).body(response);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1700976338,"creation_date":1700940697,"question_id":77549335,"body_markdown":"I get the exception `org.springframework.security.access.AccessDeniedException: Access Denied` but I would like to have my own custom exception.\r\n\r\nThis is what I have tried:\r\n\r\n```java\r\npackage com.example.dq.exception;\r\n\r\n@RestControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class RestExceptionHandler {\r\n\r\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class, AccessDeniedException.class})\r\n    private ResponseEntity&lt;Object&gt; handleExceptions(Exception exception) {\r\n        HttpStatus status;\r\n        List&lt;String&gt; errorList = new ArrayList&lt;&gt;();\r\n        System.out.println(&quot;Caught exception of type: &quot; + exception.getClass().getName());\r\n\r\n        switch (exception.getClass().getName()) {\r\n            case &quot;org.springframework.security.access.AccessDeniedException&quot; -&gt; {\r\n                status = HttpStatus.UNAUTHORIZED;\r\n                errorList.add(&quot;Access Denied&quot;);\r\n            }\r\n            case &quot;io.jsonwebtoken.security.SignatureException&quot; -&gt; {\r\n                status = HttpStatus.UNAUTHORIZED;\r\n                errorList.add(&quot;Invalid Token&quot;);\r\n            }\r\n            case &quot;java.lang.IllegalArgumentException&quot; -&gt; {\r\n                status = HttpStatus.BAD_REQUEST;\r\n                errorList.add(exception.getMessage());\r\n            }\r\n            case &quot;org.postgresql.util.PSQLException&quot; -&gt; {\r\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\r\n                errorList.add(exception.getMessage());\r\n            }\r\n            case &quot;io.jsonwebtoken.ExpiredJwtException&quot; -&gt; {\r\n                status = HttpStatus.UNAUTHORIZED;\r\n                errorList.add(&quot;Token has expired.&quot;);\r\n            }\r\n            case &quot;io.jsonwebtoken.MalformedJwtException&quot; -&gt; {\r\n                status = HttpStatus.BAD_REQUEST;\r\n                errorList.add(&quot;Malformed token.&quot;);\r\n            }\r\n            default -&gt; {\r\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\r\n                errorList.add(&quot;An unexpected error occurred.&quot;);\r\n                System.out.println(&quot;Unhandled exception of type: &quot; + exception.getClass().getName());\r\n            }\r\n        }\r\n\r\n        Response response = Response.builder()\r\n                .code(status.name())\r\n                .status(status)\r\n                .timestamp(LocalDateTime.now())\r\n                .messages(errorList)\r\n                .build();\r\n\r\n        return ResponseEntity.status(status).body(response);\r\n    }\r\n}\r\n```\r\nThis works for all exceptions but not for `org.springframework.security.access.AccessDeniedException`. In case I receive this exception, `handleExceptions()` will not even be invoked. \r\n\r\nSince that didn&#39;t work, I tried it through a different way, which is:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n    http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\r\n\r\n    // Authorization\r\n    http.authorizeHttpRequests(auth -&gt;\r\n            auth\r\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;, &quot;/api/user-profile/**&quot;).authenticated()\r\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/logout&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n    );\r\n\r\n    http.httpBasic(withDefaults());\r\n\r\n    http.exceptionHandling(e -&gt; e.accessDeniedHandler(new CustomAccessDeniedHandler())); // &lt;--\r\n\r\n    http.oauth2Login(withDefaults());\r\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    return http.build();\r\n}\r\n```\r\n```java\r\npublic class CustomAccessDeniedHandler implements AccessDeniedHandler {\r\n    @Override\r\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n        System.out.println(&quot;Yayyy, I&#39;ve been found!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, both of them do not work. My code is getting ignored.","title":"Not able to customitze AccessDeniedException","body":"<p>I get the exception <code>org.springframework.security.access.AccessDeniedException: Access Denied</code> but I would like to have my own custom exception.</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.dq.exception;\n\n@RestControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class RestExceptionHandler {\n\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class, AccessDeniedException.class})\n    private ResponseEntity&lt;Object&gt; handleExceptions(Exception exception) {\n        HttpStatus status;\n        List&lt;String&gt; errorList = new ArrayList&lt;&gt;();\n        System.out.println(&quot;Caught exception of type: &quot; + exception.getClass().getName());\n\n        switch (exception.getClass().getName()) {\n            case &quot;org.springframework.security.access.AccessDeniedException&quot; -&gt; {\n                status = HttpStatus.UNAUTHORIZED;\n                errorList.add(&quot;Access Denied&quot;);\n            }\n            case &quot;io.jsonwebtoken.security.SignatureException&quot; -&gt; {\n                status = HttpStatus.UNAUTHORIZED;\n                errorList.add(&quot;Invalid Token&quot;);\n            }\n            case &quot;java.lang.IllegalArgumentException&quot; -&gt; {\n                status = HttpStatus.BAD_REQUEST;\n                errorList.add(exception.getMessage());\n            }\n            case &quot;org.postgresql.util.PSQLException&quot; -&gt; {\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\n                errorList.add(exception.getMessage());\n            }\n            case &quot;io.jsonwebtoken.ExpiredJwtException&quot; -&gt; {\n                status = HttpStatus.UNAUTHORIZED;\n                errorList.add(&quot;Token has expired.&quot;);\n            }\n            case &quot;io.jsonwebtoken.MalformedJwtException&quot; -&gt; {\n                status = HttpStatus.BAD_REQUEST;\n                errorList.add(&quot;Malformed token.&quot;);\n            }\n            default -&gt; {\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\n                errorList.add(&quot;An unexpected error occurred.&quot;);\n                System.out.println(&quot;Unhandled exception of type: &quot; + exception.getClass().getName());\n            }\n        }\n\n        Response response = Response.builder()\n                .code(status.name())\n                .status(status)\n                .timestamp(LocalDateTime.now())\n                .messages(errorList)\n                .build();\n\n        return ResponseEntity.status(status).body(response);\n    }\n}\n</code></pre>\n<p>This works for all exceptions but not for <code>org.springframework.security.access.AccessDeniedException</code>. In case I receive this exception, <code>handleExceptions()</code> will not even be invoked.</p>\n<p>Since that didn't work, I tried it through a different way, which is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf(AbstractHttpConfigurer::disable);\n\n    http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\n\n    // Authorization\n    http.authorizeHttpRequests(auth -&gt;\n            auth\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;, &quot;/api/user-profile/**&quot;).authenticated()\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/logout&quot;).permitAll()\n                    .anyRequest().authenticated()\n    );\n\n    http.httpBasic(withDefaults());\n\n    http.exceptionHandling(e -&gt; e.accessDeniedHandler(new CustomAccessDeniedHandler())); // &lt;--\n\n    http.oauth2Login(withDefaults());\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAccessDeniedHandler implements AccessDeniedHandler {\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\n        System.out.println(&quot;Yayyy, I've been found!&quot;);\n    }\n}\n</code></pre>\n<p>However, both of them do not work. My code is getting ignored.</p>\n"},{"tags":["java","servlets","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258535,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700975293,"creation_date":1303780960,"answer_id":5784971,"question_id":5784928,"body_markdown":"You need to be able to capture the servlet&#39;s output in your filter.\r\n\r\nFor this, you need to inject a customized `HttpServletResponseWrapper` that collects all output sent to `getWriter().print()` somewhere so that you can hand it off to memcached.\r\n\r\n\r\nMaybe something along the lines of:\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(3000); \r\n    final PrintWriter w = new PrintWriter(new OutputStreamWriter(baos, &quot;UTF-8&quot;));\r\n    \r\n    HttpServletResponse wrapper = new HttpServletResponseWrapper(response) {\r\n    \r\n    \t@Override\r\n    \tpublic PrintWriter getWriter() throws IOException {\r\n    \t\treturn w;\r\n    \t}\r\n    \r\n    };\r\n\r\nIf this is a bigger project and you have more control over the network infrastructure, it might also be a good idea to not do this in Java, but just use a separate *proxy server* in front of the Servlet container. You can control what should be cached by the usual [`Cache-Control`][1] HTTP headers (which you can set using a filter if the servlet does not already do it).\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control","title":"Servlet filter for caching","body":"<p>You need to be able to capture the servlet's output in your filter.</p>\n<p>For this, you need to inject a customized <code>HttpServletResponseWrapper</code> that collects all output sent to <code>getWriter().print()</code> somewhere so that you can hand it off to memcached.</p>\n<p>Maybe something along the lines of:</p>\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream(3000); \nfinal PrintWriter w = new PrintWriter(new OutputStreamWriter(baos, &quot;UTF-8&quot;));\n\nHttpServletResponse wrapper = new HttpServletResponseWrapper(response) {\n\n    @Override\n    public PrintWriter getWriter() throws IOException {\n        return w;\n    }\n\n};\n</code></pre>\n<p>If this is a bigger project and you have more control over the network infrastructure, it might also be a good idea to not do this in Java, but just use a separate <em>proxy server</em> in front of the Servlet container. You can control what should be cached by the usual <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control\" rel=\"nofollow noreferrer\"><code>Cache-Control</code></a> HTTP headers (which you can set using a filter if the servlet does not already do it).</p>\n"}],"owner":{"account_id":374390,"reputation":43,"user_id":724564,"display_name":"dolphincody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2076,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5784971,"answer_count":1,"score":4,"last_activity_date":1700975293,"creation_date":1303780414,"question_id":5784928,"body_markdown":"I&#39;m creating a servlet filter for caching. The idea is to cache the response body to memcached. The response body is generated by (result is a string):\r\n   \r\n\r\n     response.getWriter().print(result);\r\n\r\nMy question is that, since the response body will be put into the memcached without modification, do I still need to create a customized HttpServletResponseWrapper? Can anyone provide any skeleton code for this filter?\r\n","title":"Servlet filter for caching","body":"<p>I'm creating a servlet filter for caching. The idea is to cache the response body to memcached. The response body is generated by (result is a string):</p>\n\n<pre><code> response.getWriter().print(result);\n</code></pre>\n\n<p>My question is that, since the response body will be put into the memcached without modification, do I still need to create a customized HttpServletResponseWrapper? Can anyone provide any skeleton code for this filter?</p>\n"},{"tags":["java","intellij-idea","console","flush"],"comments":[{"owner":{"account_id":9276229,"reputation":746,"user_id":6888816,"display_name":"Brion"},"score":0,"creation_date":1475265435,"post_id":39798849,"comment_id":66891078,"body_markdown":"I think the reason why it&#39;s happening is explained in this post. http://stackoverflow.com/questions/7166328/when-why-to-call-system-out-flush-in-java. However, it doesn&#39;t really explain how to fix the issue.","body":"I think the reason why it&#39;s happening is explained in this post. <a href=\"http://stackoverflow.com/questions/7166328/when-why-to-call-system-out-flush-in-java\" title=\"when why to call system out flush in java\">stackoverflow.com/questions/7166328/&hellip;</a>. However, it doesn&#39;t really explain how to fix the issue."},{"owner":{"account_id":8804845,"reputation":1,"user_id":6579871,"display_name":"Jo Rabin"},"score":1,"creation_date":1483288065,"post_id":39798849,"comment_id":70038851,"body_markdown":"Found the same when I recently updated to 2016.3 release. I was not able to find this as an issue on YouTrack so added it here https://youtrack.jetbrains.com/issue/IDEA-166108","body":"Found the same when I recently updated to 2016.3 release. I was not able to find this as an issue on YouTrack so added it here <a href=\"https://youtrack.jetbrains.com/issue/IDEA-166108\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-166108</a>"}],"answers":[{"tags":[],"owner":{"account_id":10441541,"reputation":255,"user_id":7698020,"display_name":"eos1d3"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1489429736,"creation_date":1489316892,"answer_id":42746633,"question_id":39798849,"body_markdown":"Tested on version 2016.3.5, the problem is still there.\r\n\r\nThe bug is caused by all characters **after** &quot;\\r&quot; will be cleared in the console. \r\n\r\nFor example, using a string &quot;Test\\r&quot; will be got &quot;Test&quot; written to console, after cursor is moved to the left by the &quot;\\r&quot;, all the characters &quot;Test&quot; is cleared. So you won&#39;t see anything.\r\n\r\nThe workaround is to move &quot;\\r&quot; to the beginning of the string. For example, &quot;\\rTest&quot; will see the output in console.\r\n\r\n\r\nThe following codes will illustrate the bug. You will see &quot;0000&quot; and &quot;111&quot; will appear for 1 second and then all are cleared by &quot;22&quot;.\r\n\r\n    System.out.print(&quot;0000\\r&quot;);\r\n    Thread.sleep(1000);\r\n    System.out.print(&quot;111\\r&quot;);\r\n    Thread.sleep(1000);\r\n    System.out.print(&quot;22\\r&quot;);\r\n\r\n","title":"IntelliJ Idea debug/run console; System.out.flush not flushing","body":"<p>Tested on version 2016.3.5, the problem is still there.</p>\n\n<p>The bug is caused by all characters <strong>after</strong> \"\\r\" will be cleared in the console. </p>\n\n<p>For example, using a string \"Test\\r\" will be got \"Test\" written to console, after cursor is moved to the left by the \"\\r\", all the characters \"Test\" is cleared. So you won't see anything.</p>\n\n<p>The workaround is to move \"\\r\" to the beginning of the string. For example, \"\\rTest\" will see the output in console.</p>\n\n<p>The following codes will illustrate the bug. You will see \"0000\" and \"111\" will appear for 1 second and then all are cleared by \"22\".</p>\n\n<pre><code>System.out.print(\"0000\\r\");\nThread.sleep(1000);\nSystem.out.print(\"111\\r\");\nThread.sleep(1000);\nSystem.out.print(\"22\\r\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":913285,"reputation":2408,"user_id":946635,"accept_rate":92,"display_name":"Stanislav Poslavsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498121426,"creation_date":1498121426,"answer_id":44694600,"question_id":39798849,"body_markdown":"Until this [issue][1] is not resolved, current workaround is to use \r\n`-Deditable.java.test.console=true` (specify it in `idea.properties`). \r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-148698","title":"IntelliJ Idea debug/run console; System.out.flush not flushing","body":"<p>Until this <a href=\"https://youtrack.jetbrains.com/issue/IDEA-148698\" rel=\"nofollow noreferrer\">issue</a> is not resolved, current workaround is to use \n<code>-Deditable.java.test.console=true</code> (specify it in <code>idea.properties</code>). </p>\n"},{"tags":[],"owner":{"account_id":29994256,"reputation":1,"user_id":22986044,"display_name":"snake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700975188,"creation_date":1700975188,"answer_id":77550523,"question_id":39798849,"body_markdown":"You can try to move your code to run the main function instead of junit&#39;s @Test function. I ran into this problem too, I moved it under the main function and it worked","title":"IntelliJ Idea debug/run console; System.out.flush not flushing","body":"<p>You can try to move your code to run the main function instead of junit's @Test function. I ran into this problem too, I moved it under the main function and it worked</p>\n"}],"owner":{"account_id":1571601,"reputation":311,"user_id":1459190,"display_name":"The Masked Crusader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2334,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1700975188,"creation_date":1475263922,"question_id":39798849,"body_markdown":"This has been bugging me for the last couple days, because it used to work. I upgraded my intellij and now it doesn&#39;t work. I don&#39;t want to go back, but I need an answer.\r\n\r\nSo, I&#39;m writing a console application, and while it runs, I want to have a shell&#39;d out display of progress. It works fine when it&#39;s running, but when I&#39;m debugging in IntelliJ Idea, the System.out.flush() won&#39;t flush to the console unless the buffer contains a newline. I wrote the following unit test to find out if it was me or my application.\r\n\r\n    @Test\r\n    public void flushTest() {\r\n        int loops = 100;\r\n        for (int i = 0 ; i &lt; 100 ; ++i) {\r\n            System.out.print(&quot;This is a print, does it flush : &quot; + i + &quot;\\r&quot;);\r\n            if (i %10 == 0) {\r\n                System.out.print(&quot;\\n&quot;);\r\n            }\r\n            System.out.flush();\r\n        }\r\n    }\r\n\r\nSpoiler, it is the application. I don&#39;t know what&#39;s changed, but it makes it very difficult to debug display issues without doing a full build and running on the command line. If someone can help me figure out why this changed and/or help me fix it so It&#39;ll flush properly, I&#39;d be very grateful.","title":"IntelliJ Idea debug/run console; System.out.flush not flushing","body":"<p>This has been bugging me for the last couple days, because it used to work. I upgraded my intellij and now it doesn't work. I don't want to go back, but I need an answer.</p>\n\n<p>So, I'm writing a console application, and while it runs, I want to have a shell'd out display of progress. It works fine when it's running, but when I'm debugging in IntelliJ Idea, the System.out.flush() won't flush to the console unless the buffer contains a newline. I wrote the following unit test to find out if it was me or my application.</p>\n\n<pre><code>@Test\npublic void flushTest() {\n    int loops = 100;\n    for (int i = 0 ; i &lt; 100 ; ++i) {\n        System.out.print(\"This is a print, does it flush : \" + i + \"\\r\");\n        if (i %10 == 0) {\n            System.out.print(\"\\n\");\n        }\n        System.out.flush();\n    }\n}\n</code></pre>\n\n<p>Spoiler, it is the application. I don't know what's changed, but it makes it very difficult to debug display issues without doing a full build and running on the command line. If someone can help me figure out why this changed and/or help me fix it so It'll flush properly, I'd be very grateful.</p>\n"},{"tags":["java","swing","paintcomponent","mouselistener"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1457187699,"post_id":35815064,"comment_id":59298110,"body_markdown":"Regarding: `&quot;And my(i think) only problem is repaint() method . Why i dont know&quot;` -- no, as we all have said, you&#39;re not adding a MouseListener to anything.","body":"Regarding: <code>&quot;And my(i think) only problem is repaint() method . Why i dont know&quot;</code> -- no, as we all have said, you&#39;re not adding a MouseListener to anything."},{"owner":{"account_id":7981074,"reputation":11,"user_id":6022398,"display_name":"Enis Licina"},"score":0,"creation_date":1457188326,"post_id":35815064,"comment_id":59298317,"body_markdown":"You have right , thanks .","body":"You have right , thanks ."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457188031,"creation_date":1457186813,"answer_id":35815097,"question_id":35815064,"body_markdown":"You&#39;ve several problems in that code:\r\n\r\n* You&#39;re sort of creating a MouseListener (you&#39;re still missing several of the interface&#39;s methods), but I don&#39;t see anywhere that you&#39;ve added it to your GUI. You must somewhere have `addMouseListener(this);` in your code for the listener to work.\r\n* Repaint by itself doesn&#39;t move the rectangle. Changing the X and Y does, but again, not without adding the MouseListener first.\r\n* You probably want to call `repaint();` without parameters to paint the whole component. Otherwise the old rectangle might not get erased.\r\n* Your paintComponent method should call the `super.paintComponent(g);` as the first method call of your override method. Without this you won&#39;t erase the old rectangle, and you break the painting chain which could have painting side effects in child components.\r\n\r\nFor example:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class Grafika extends JPanel {\r\n        private static final int RECT_W = 20;\r\n        private static final int RECT_H = 30;\r\n        private static final int PREF_W = 600;\r\n        private static final int PREF_H = PREF_W;\r\n        private static final Color MY_COLOR = Color.RED;    \r\n        private int myX = 0;\r\n        private int myY = 0;\r\n        \r\n        public Grafika() {\r\n            MyMouse myMouse = new MyMouse();\r\n            addMouseListener(myMouse);  // add MouseListener\r\n        }\r\n        \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);  // **MUST** call this \r\n            g.setColor(MY_COLOR);\r\n            g.fillRect(myX, myY, RECT_W, RECT_H);\r\n        }\r\n        \r\n        private class MyMouse extends MouseAdapter {\r\n            public void mousePressed(MouseEvent e) {\r\n                myX = e.getX();\r\n                myY = e.getY();\r\n                repaint(); // repaint the whole JPanel\r\n            }\r\n        }\r\n        \r\n        @Override  // to make the GUI larger\r\n        public Dimension getPreferredSize() {\r\n            if (isPreferredSizeSet()) {\r\n                return super.getPreferredSize();\r\n            }\r\n            return new Dimension(PREF_W, PREF_H);\r\n        }\r\n    \r\n        private static void createAndShowGui() {\r\n            Grafika mainPanel = new Grafika();\r\n    \r\n            JFrame frame = new JFrame(&quot;Grafika&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            frame.getContentPane().add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                createAndShowGui();\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\nIf you want to get fancier and start dragging the square around:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import javax.swing.*;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class Grafika extends JPanel {\r\n        private static final int RECT_W = 20;\r\n        private static final int RECT_H = RECT_W;\r\n        private static final int PREF_W = 600;\r\n        private static final int PREF_H = PREF_W;\r\n        private static final Color MY_COLOR = Color.RED;\r\n        private int myX = 0;\r\n        private int myY = 0;\r\n    \r\n        public Grafika() {\r\n            MyMouse myMouse = new MyMouse();\r\n            addMouseListener(myMouse);\r\n            addMouseMotionListener(myMouse);\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.setColor(MY_COLOR);\r\n            g.fillRect(myX, myY, RECT_W, RECT_H);\r\n        }\r\n    \r\n        private class MyMouse extends MouseAdapter {\r\n    \r\n            public void mousePressed(MouseEvent e) {\r\n                moveRect(e);\r\n            }\r\n    \r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                moveRect(e);\r\n            }\r\n    \r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n                moveRect(e);\r\n            }\r\n    \r\n            private void moveRect(MouseEvent e) {\r\n                myX = e.getX() - RECT_W / 2;\r\n                myY = e.getY() - RECT_H / 2;\r\n                repaint();\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            if (isPreferredSizeSet()) {\r\n                return super.getPreferredSize();\r\n            }\r\n            return new Dimension(PREF_W, PREF_H);\r\n        }\r\n    \r\n        private static void createAndShowGui() {\r\n            Grafika mainPanel = new Grafika();\r\n    \r\n            JFrame frame = new JFrame(&quot;Grafika&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            frame.getContentPane().add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                createAndShowGui();\r\n            });\r\n        }\r\n    \r\n    }\r\n","title":"Java repaint method do not working ,why?","body":"<p>You've several problems in that code:</p>\n\n<ul>\n<li>You're sort of creating a MouseListener (you're still missing several of the interface's methods), but I don't see anywhere that you've added it to your GUI. You must somewhere have <code>addMouseListener(this);</code> in your code for the listener to work.</li>\n<li>Repaint by itself doesn't move the rectangle. Changing the X and Y does, but again, not without adding the MouseListener first.</li>\n<li>You probably want to call <code>repaint();</code> without parameters to paint the whole component. Otherwise the old rectangle might not get erased.</li>\n<li>Your paintComponent method should call the <code>super.paintComponent(g);</code> as the first method call of your override method. Without this you won't erase the old rectangle, and you break the painting chain which could have painting side effects in child components.</li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.*;\n\npublic class Grafika extends JPanel {\n    private static final int RECT_W = 20;\n    private static final int RECT_H = 30;\n    private static final int PREF_W = 600;\n    private static final int PREF_H = PREF_W;\n    private static final Color MY_COLOR = Color.RED;    \n    private int myX = 0;\n    private int myY = 0;\n\n    public Grafika() {\n        MyMouse myMouse = new MyMouse();\n        addMouseListener(myMouse);  // add MouseListener\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);  // **MUST** call this \n        g.setColor(MY_COLOR);\n        g.fillRect(myX, myY, RECT_W, RECT_H);\n    }\n\n    private class MyMouse extends MouseAdapter {\n        public void mousePressed(MouseEvent e) {\n            myX = e.getX();\n            myY = e.getY();\n            repaint(); // repaint the whole JPanel\n        }\n    }\n\n    @Override  // to make the GUI larger\n    public Dimension getPreferredSize() {\n        if (isPreferredSizeSet()) {\n            return super.getPreferredSize();\n        }\n        return new Dimension(PREF_W, PREF_H);\n    }\n\n    private static void createAndShowGui() {\n        Grafika mainPanel = new Grafika();\n\n        JFrame frame = new JFrame(\"Grafika\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            createAndShowGui();\n        });\n    }\n\n}\n</code></pre>\n\n<p>If you want to get fancier and start dragging the square around:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.*;\n\n@SuppressWarnings(\"serial\")\npublic class Grafika extends JPanel {\n    private static final int RECT_W = 20;\n    private static final int RECT_H = RECT_W;\n    private static final int PREF_W = 600;\n    private static final int PREF_H = PREF_W;\n    private static final Color MY_COLOR = Color.RED;\n    private int myX = 0;\n    private int myY = 0;\n\n    public Grafika() {\n        MyMouse myMouse = new MyMouse();\n        addMouseListener(myMouse);\n        addMouseMotionListener(myMouse);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(MY_COLOR);\n        g.fillRect(myX, myY, RECT_W, RECT_H);\n    }\n\n    private class MyMouse extends MouseAdapter {\n\n        public void mousePressed(MouseEvent e) {\n            moveRect(e);\n        }\n\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            moveRect(e);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            moveRect(e);\n        }\n\n        private void moveRect(MouseEvent e) {\n            myX = e.getX() - RECT_W / 2;\n            myY = e.getY() - RECT_H / 2;\n            repaint();\n        }\n\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        if (isPreferredSizeSet()) {\n            return super.getPreferredSize();\n        }\n        return new Dimension(PREF_W, PREF_H);\n    }\n\n    private static void createAndShowGui() {\n        Grafika mainPanel = new Grafika();\n\n        JFrame frame = new JFrame(\"Grafika\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            createAndShowGui();\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2178400,"reputation":753,"user_id":1928525,"accept_rate":100,"display_name":"J&#225;n Яabčan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457354117,"creation_date":1457186860,"answer_id":35815106,"question_id":35815064,"body_markdown":"you have to add mouse listener to component porobably\r\n\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import javax.swing.*;\r\n    public class Grafika extends JPanel implements MouseListener{\r\n        static int x=0,y=0;\r\n       \r\n    public Grafika(){\r\n        super();\r\n        addMouseListener(this); // add to constructor\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g){\r\n        g.setColor(Color.BLACK);\r\n        g.fillRect(x, y, 20, 30);\r\n    }\r\n\r\n    public void mouseClicked(MouseEvent arg0) {\r\n        // TODO Auto-generated method stub``\r\n        x=arg0.getX();\r\n        y=arg0.getY();\r\n        this.repaint(x, y, 20, 30);\r\n    }","title":"Java repaint method do not working ,why?","body":"<p>you have to add mouse listener to component porobably</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport javax.swing.*;\npublic class Grafika extends JPanel implements MouseListener{\n    static int x=0,y=0;\n\npublic Grafika(){\n    super();\n    addMouseListener(this); // add to constructor\n}\n\n@Override\npublic void paintComponent(Graphics g){\n    g.setColor(Color.BLACK);\n    g.fillRect(x, y, 20, 30);\n}\n\npublic void mouseClicked(MouseEvent arg0) {\n    // TODO Auto-generated method stub``\n    x=arg0.getX();\n    y=arg0.getY();\n    this.repaint(x, y, 20, 30);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24149633,"reputation":31,"user_id":18114685,"display_name":"Music Lord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700975085,"creation_date":1700975085,"answer_id":77550520,"question_id":35815064,"body_markdown":"For me the problem was solved by changing background. Until then I didn&#39;t see any changes in repaint.\r\n\r\n    public void clear() {\r\n        setBackground(new Color(0, true));\r\n        repaint();\r\n    }","title":"Java repaint method do not working ,why?","body":"<p>For me the problem was solved by changing background. Until then I didn't see any changes in repaint.</p>\n<pre><code>public void clear() {\n    setBackground(new Color(0, true));\n    repaint();\n}\n</code></pre>\n"}],"owner":{"account_id":7981074,"reputation":11,"user_id":6022398,"display_name":"Enis Licina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700975085,"creation_date":1457186612,"question_id":35815064,"body_markdown":"Well my English is not so good but i will try to explain.\r\n\r\nI was make two class,First Class and Second Class(Second was named &quot;Grafika&quot;).\r\n\r\nI want that my rectangle move to position where i was clicked , but obviously he dont move and i cant understand why, please help .\r\n\r\n\r\n\r\n    import java.awt.*;\r\n        import java.awt.event.MouseEvent;\r\n        import java.awt.event.MouseListener;\r\n        import javax.swing.*;\r\n        public class Grafika extends JPanel implements MouseListener{\r\n        \tstatic int x=0,y=0;\r\n        \t@Override\r\n        public void paintComponent(Graphics g){\r\n        \tg.setColor(Color.BLACK);\r\n        \tg.fillRect(x, y, 20, 30);\r\n        }\r\n        \t\r\n        public void mouseClicked(MouseEvent arg0) {\r\n        \t// TODO Auto-generated method stub``\r\n        \tx=arg0.getX();\r\n        \ty=arg0.getY();\r\n        \tthis.repaint(x, y, 20, 30);\r\n        }\r\n\r\n________________________________________\r\n\r\ni will show you a full code, it was small .This was second class.And my(i think) only problem is repaint() method . Why i dont know :D .\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import javax.swing.*;\r\n    public class Grafika extends JPanel implements MouseListener{\r\n    \tstatic int x=0,y=0;\r\n    \t@Override\r\n    public void paintComponent(Graphics g){\r\n    \tg.setColor(Color.BLACK);\r\n    \tg.fillRect(x, y, 20, 30);\r\n    }\r\n    \t\r\n    public void mouseClicked(MouseEvent arg0) {\r\n    \t// TODO Auto-generated method stub\r\n    \tx=arg0.getX();\r\n    \ty=arg0.getY();\r\n    \tthis.repaint(x, y, 20, 30);\r\n    }\r\n    \r\n    public void mouseEntered(MouseEvent arg0) {\r\n    \t// TODO Auto-generated method stub\r\n    \t\r\n    }\r\n    \r\n    public void mouseExited(MouseEvent arg0) {\r\n    \t// TODO Auto-generated method stub\r\n    \t\r\n    }\r\n    \r\n    public void mousePressed(MouseEvent arg0) {\r\n    \t// TODO Auto-generated method stub\r\n    }\r\n    \r\n    public void mouseReleased(MouseEvent arg0) {\r\n    \t// TODO Auto-generated method stub\r\n    \t\r\n    }\r\n\r\n}\r\n\r\nNow i will show you first class from where i was calling second class.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    public class Glavna extends Grafika {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n         Grafika g=new Grafika();\r\n         JFrame wi=new JFrame(&quot;Grafika&quot;);\r\n         wi.setBounds(50, 50, 500, 600);\r\n         wi.add(g);\r\n         wi.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n         wi.setVisible(true);\r\n         \r\n    \r\n    \t}\r\n    \r\n    }","title":"Java repaint method do not working ,why?","body":"<p>Well my English is not so good but i will try to explain.</p>\n\n<p>I was make two class,First Class and Second Class(Second was named \"Grafika\").</p>\n\n<p>I want that my rectangle move to position where i was clicked , but obviously he dont move and i cant understand why, please help .</p>\n\n<pre><code>import java.awt.*;\n    import java.awt.event.MouseEvent;\n    import java.awt.event.MouseListener;\n    import javax.swing.*;\n    public class Grafika extends JPanel implements MouseListener{\n        static int x=0,y=0;\n        @Override\n    public void paintComponent(Graphics g){\n        g.setColor(Color.BLACK);\n        g.fillRect(x, y, 20, 30);\n    }\n\n    public void mouseClicked(MouseEvent arg0) {\n        // TODO Auto-generated method stub``\n        x=arg0.getX();\n        y=arg0.getY();\n        this.repaint(x, y, 20, 30);\n    }\n</code></pre>\n\n<hr>\n\n<p>i will show you a full code, it was small .This was second class.And my(i think) only problem is repaint() method . Why i dont know :D .</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport javax.swing.*;\npublic class Grafika extends JPanel implements MouseListener{\n    static int x=0,y=0;\n    @Override\npublic void paintComponent(Graphics g){\n    g.setColor(Color.BLACK);\n    g.fillRect(x, y, 20, 30);\n}\n\npublic void mouseClicked(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n    x=arg0.getX();\n    y=arg0.getY();\n    this.repaint(x, y, 20, 30);\n}\n\npublic void mouseEntered(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n\npublic void mouseExited(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n\npublic void mousePressed(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n}\n\npublic void mouseReleased(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now i will show you first class from where i was calling second class.</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\npublic class Glavna extends Grafika {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n     Grafika g=new Grafika();\n     JFrame wi=new JFrame(\"Grafika\");\n     wi.setBounds(50, 50, 500, 600);\n     wi.add(g);\n     wi.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n     wi.setVisible(true);\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","web"],"answers":[{"tags":[],"owner":{"account_id":9469812,"reputation":362,"user_id":7040964,"display_name":"MuhammedH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595223565,"creation_date":1595223565,"answer_id":62989242,"question_id":62986361,"body_markdown":"I am not sure with that but I think you can try this :\r\n```Java\r\n        HttpServletResponse res = (HttpServletResponse) response;\r\n        ContentCachingResponseWrapper ccrw= new ContentCachingResponseWrapper(res);\r\n        //old body:\r\n        String content=new String(ccrw.getContentAsByteArray(), &quot;utf-8&quot;);\r\n        //try this \r\n        HttpServletResponseWrapper hsrw=new HttpServletResponseWrapper(res);\r\n        hsrw.getOutputStream().write(/*new body*/);\r\n        //OR this \r\n        ServletResponseWrapper responseWrapper = (ServletResponseWrapper)response;\r\n        responseWrapper.getResponse().resetBuffer();\r\n        responseWrapper.getResponse().getOutputStream().write(/*new body*/);\r\n        \r\n```\r\n","title":"How can we get and set response body in Spring Boot Filter?","body":"<p>I am not sure with that but I think you can try this :</p>\n<pre><code>        HttpServletResponse res = (HttpServletResponse) response;\n        ContentCachingResponseWrapper ccrw= new ContentCachingResponseWrapper(res);\n        //old body:\n        String content=new String(ccrw.getContentAsByteArray(), &quot;utf-8&quot;);\n        //try this \n        HttpServletResponseWrapper hsrw=new HttpServletResponseWrapper(res);\n        hsrw.getOutputStream().write(/*new body*/);\n        //OR this \n        ServletResponseWrapper responseWrapper = (ServletResponseWrapper)response;\n        responseWrapper.getResponse().resetBuffer();\n        responseWrapper.getResponse().getOutputStream().write(/*new body*/);\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277335,"reputation":554,"user_id":3497657,"accept_rate":30,"display_name":"Subhomoy Sikdar"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1595518666,"creation_date":1595518300,"answer_id":63057859,"question_id":62986361,"body_markdown":"Not sure what you mean by get Response in Filter. In a filter the request is yet to be passed to controller, so there is no response yet. You can get the request though. But be careful not to read the request as in that case the request stream will be read in the filter and when it arrives at the controller the entire request stream will be already read. To set the response you can do the following:\r\n\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        response.resetBuffer();\r\n        response.setStatus(HttpStatus.OK);\r\n        response.setHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n        response.getOutputStream().print(new ObjectMapper().writeValueAsString(myData));\r\n        response.flushBuffer(); // marks response as committed -- if we don&#39;t do this the request will go through normally!\r\n    }\r\n\r\nyou can see here why you have to flush the response. You can also do ```sendError``` https://stackoverflow.com/questions/14459045/httpservletresponsesenderror-how-to-change-contenttype/14459290#14459290\r\n\r\nIf you don&#39;t flush the response, your request will continue down the filter chain (you have to add the ```chain.doFilter(request, response);``` of course!).\r\n","title":"How can we get and set response body in Spring Boot Filter?","body":"<p>Not sure what you mean by get Response in Filter. In a filter the request is yet to be passed to controller, so there is no response yet. You can get the request though. But be careful not to read the request as in that case the request stream will be read in the filter and when it arrives at the controller the entire request stream will be already read. To set the response you can do the following:</p>\n<pre><code>protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n    response.resetBuffer();\n    response.setStatus(HttpStatus.OK);\n    response.setHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n    response.getOutputStream().print(new ObjectMapper().writeValueAsString(myData));\n    response.flushBuffer(); // marks response as committed -- if we don't do this the request will go through normally!\n}\n</code></pre>\n<p>you can see here why you have to flush the response. You can also do <code>sendError</code> <a href=\"https://stackoverflow.com/questions/14459045/httpservletresponsesenderror-how-to-change-contenttype/14459290#14459290\">HttpServletResponse#sendError How to change ContentType</a></p>\n<p>If you don't flush the response, your request will continue down the filter chain (you have to add the <code>chain.doFilter(request, response);</code> of course!).</p>\n"}],"owner":{"account_id":19050781,"reputation":51,"user_id":13909016,"display_name":"lzkx1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18333,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1700974064,"creation_date":1595197646,"question_id":62986361,"body_markdown":"I have a Spring MVC application which return `ResponseEntity` and `clientResponse` object as response body:\r\n\r\n    @RestController\r\n    public class XxxController {\r\n\r\n        public void ResponseEntity(ClientRequest clientRequest) {\r\n             ...\r\n             return ResponseEntity.ok(clientResponse);\r\n        }\r\n    }\r\n\r\nBut how can we get the `clientResponse` object or set a new response body in Spring Boot filter?\r\n\r\n    @Component\r\n    public class MyClassFilter implements Filter {\r\n\r\n\r\n        @Override\r\n        public void doFilter( HttpServletRequest req,  HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n     \r\n        }\r\n\r\n        @Override\r\n        public void destroy() {}\r\n\r\n        @Override\r\n        public void init(FilterConfig arg0) throws ServletException {}\r\n\r\n    }","title":"How can we get and set response body in Spring Boot Filter?","body":"<p>I have a Spring MVC application which return <code>ResponseEntity</code> and <code>clientResponse</code> object as response body:</p>\n<pre><code>@RestController\npublic class XxxController {\n\n    public void ResponseEntity(ClientRequest clientRequest) {\n         ...\n         return ResponseEntity.ok(clientResponse);\n    }\n}\n</code></pre>\n<p>But how can we get the <code>clientResponse</code> object or set a new response body in Spring Boot filter?</p>\n<pre><code>@Component\npublic class MyClassFilter implements Filter {\n\n\n    @Override\n    public void doFilter( HttpServletRequest req,  HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\n \n    }\n\n    @Override\n    public void destroy() {}\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {}\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9824,"page":34,"page_size":100}
