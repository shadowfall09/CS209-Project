{"items":[{"tags":["java","tomcat","servlets","apache-camel","maven-jetty-plugin"],"comments":[{"owner":{"account_id":266034,"reputation":1712,"user_id":553385,"accept_rate":62,"display_name":"ShellDragon"},"score":0,"creation_date":1658177803,"post_id":72989687,"comment_id":128982635,"body_markdown":"What do you mean by doesn&#39;t work on Tomcat? Please provide specific information on what is failing, potentially with relevant logs. Do you see your war getting deployed when tomcat starts up? Do you see camel context starting up?","body":"What do you mean by doesn&#39;t work on Tomcat? Please provide specific information on what is failing, potentially with relevant logs. Do you see your war getting deployed when tomcat starts up? Do you see camel context starting up?"},{"owner":{"account_id":25813820,"reputation":1,"user_id":19554077,"display_name":"Riddhi Doshi"},"score":0,"creation_date":1658341335,"post_id":72989687,"comment_id":129030384,"body_markdown":"@ShellDragon I have added edits, did I miss anything out?","body":"@ShellDragon I have added edits, did I miss anything out?"}],"owner":{"account_id":25813820,"reputation":1,"user_id":19554077,"display_name":"Riddhi Doshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659355157,"creation_date":1657865277,"question_id":72989687,"body_markdown":"I have found several examples of camel servlet for tomcat server using spring DSL, I want to use Java DSL and create a RouteBuilder as shown below. This servlet works as expected on Jetty when I run using mvn jetty:run command, but doesn&#39;t work with tomcat server.\r\n\r\n```package org.apache.camel.servletlistener;\r\n\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Processor;\r\nimport org.apache.camel.builder.RouteBuilder;\r\n\r\npublic class DefaultRouteBuilder extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        \r\n    \tSystem.out.println(&quot;DefaultRouter&quot;);\r\n\t\tfrom(&quot;servlet:hello?matchOnUriPrefix=true&quot;).process(new Processor() {\r\n\t\t    public void process(Exchange exchange) throws Exception {\r\n\t\t        String contentType = exchange.getIn().getHeader(Exchange.CONTENT_TYPE, String.class);\r\n\t\t        String path = exchange.getIn().getHeader(Exchange.HTTP_URI, String.class);\r\n\t\t        path = path.substring(path.lastIndexOf(&quot;/&quot;));\r\n\t\t        exchange.getOut().setHeader(Exchange.CONTENT_TYPE, contentType + &quot;; charset=UTF-8&quot;);\r\n\t\t        exchange.getOut().setHeader(&quot;PATH&quot;, path);\r\n\t\t        exchange.getOut().setBody(&quot;&lt;b&gt;Hello World&lt;/b&gt;&quot;);\r\n\t\t    }\r\n\t\t});\r\n    }\r\n}\r\n    \r\n\r\n```\r\n\r\nAs per my understanding my web.xml looks like this\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n\r\n&lt;webapp&gt;\r\n  &lt;display-name&gt;camel-servlet&lt;/display-name&gt;\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;name&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;MyCamel&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;routeBuilder-MyRoute&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;org.apache.camel.community.so.servletlistener.DefaultRouteBuilder&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n  &lt;listener&gt;\r\n    &lt;listener-class&gt;org.apache.camel.component.servletlistener.JndiCamelServletContextListener&lt;/listener-class&gt;\r\n  &lt;/listener&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;CamelServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.apache.camel.component.servlet.CamelHttpTransportServlet&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;CamelServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/camel/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/webapp&gt;\r\n```\r\n\r\nEdit:\r\nLogs from mvn jetty:run command - \r\n```\r\n[INFO] Scanning elapsed time=1409ms\r\n[INFO] DefaultSessionIdManager workerName=node0\r\n[INFO] No SessionScavenger set, using defaults\r\n[INFO] node0 Scavenging every 660000ms\r\n2022-07-19 11:15:39,454 [main           ] INFO  CamelServletContextListener    - CamelContextServletListener initializing ...\r\nDefaultRouter\r\n2022-07-19 11:15:39,797 [main           ] INFO  ServletCamelContext            - Apache Camel 2.25.0 (CamelContext: MyCamel) is starting\r\n2022-07-19 11:15:39,804 [main           ] INFO  ManagedManagementStrategy      - JMX is enabled\r\n2022-07-19 11:15:40,094 [main           ] INFO  DefaultTypeConverter           - Type converters loaded (core: 195, classpath: 9)\r\n2022-07-19 11:15:40,233 [main           ] INFO  ServletCamelContext            - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html\r\n2022-07-19 11:15:40,272 [main           ] INFO  ServletCamelContext            - Route: route1 started and consuming from: servlet:/hello?matchOnUriPrefix=true\r\n2022-07-19 11:15:40,274 [main           ] INFO  ServletCamelContext            - Total 1 routes, of which 1 are started\r\n2022-07-19 11:15:40,276 [main           ] INFO  ServletCamelContext            - Apache Camel 2.25.0 (CamelContext: MyCamel) started in 0.483 seconds\r\n2022-07-19 11:15:40,277 [main           ] INFO  CamelServletContextListener    - CamelContextServletListener initialized\r\n2022-07-19 11:15:40,316 [main           ] INFO  CamelHttpTransportServlet      - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/camel-example-servlet]\r\n[INFO] Started o.e.j.m.p.JettyWebAppContext@2764c546{Camel Servlet Example,/camel-example-servlet,file:///C:/Users/rrdoshi/Downloads/camel-example-servlet/src/main/webapp/,AVAILABLE}{file:///C:/Users/rrdoshi/Downloads/camel-example-servlet/src/main/webapp/}\r\n[INFO] Started ServerConnector@2b73bd6b{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}\r\n[INFO] Started @8097ms\r\n[INFO] Started Jetty Server\r\n```\r\n\r\nFor tomcat deployment, I am placing the war file in tomcat webapps directory and executing startup.bat\r\n```\r\n19-Jul-2022 11:21:21.403 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n19-Jul-2022 11:21:21.576 WARNING [main] org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [146] milliseconds.\r\n19-Jul-2022 11:21:21.596 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ApacheCamelDemoServlet]\r\n19-Jul-2022 11:21:21.645 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ApacheCamelDemoServlet] has finished in [49] ms\r\n19-Jul-2022 11:21:21.646 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\docs]\r\n19-Jul-2022 11:21:21.671 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\docs] has finished in [25] ms\r\n19-Jul-2022 11:21:21.672 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\examples]\r\n19-Jul-2022 11:21:22.097 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\examples] has finished in [425] ms\r\n19-Jul-2022 11:21:22.099 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\host-manager]\r\n19-Jul-2022 11:21:22.135 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\host-manager] has finished in [36] ms\r\n19-Jul-2022 11:21:22.136 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\manager]\r\n19-Jul-2022 11:21:22.175 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\manager] has finished in [38] ms\r\n19-Jul-2022 11:21:22.175 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ROOT]\r\n19-Jul-2022 11:21:22.202 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ROOT] has finished in [26] ms\r\n19-Jul-2022 11:21:22.205 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8088&quot;]\r\n19-Jul-2022 11:21:22.224 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [2721] milliseconds\r\n\r\n```\r\naccess logs\r\n```\r\n127.0.0.1 - - [19/Jul/2022:11:23:51 +0530] &quot;GET /camel-servlet/ HTTP/1.1&quot; 200 1675\r\n127.0.0.1 - - [19/Jul/2022:11:24:01 +0530] &quot;GET /camel-servlet/camel/hello HTTP/1.1&quot; 404 784\r\n```\r\n\r\nlocalhost logs\r\n```\r\n19-Jul-2022 11:21:22.085 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()\r\n19-Jul-2022 11:21:22.085 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()\r\n19-Jul-2022 11:21:22.087 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded(&#39;StockTicker&#39;, &#39;async.Stockticker@68ab0936&#39;)\r\n\r\n```\r\n\r\n\r\nThe WAR file is getting deployed but there are no error logs. There are no logs regarding camelContext starting up.\r\n\r\n\r\n","title":"How to deploy a camel java DSL servlet on Tomcat server?","body":"<p>I have found several examples of camel servlet for tomcat server using spring DSL, I want to use Java DSL and create a RouteBuilder as shown below. This servlet works as expected on Jetty when I run using mvn jetty:run command, but doesn't work with tomcat server.</p>\n<pre><code>\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\nimport org.apache.camel.builder.RouteBuilder;\n\npublic class DefaultRouteBuilder extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        \n        System.out.println(&quot;DefaultRouter&quot;);\n        from(&quot;servlet:hello?matchOnUriPrefix=true&quot;).process(new Processor() {\n            public void process(Exchange exchange) throws Exception {\n                String contentType = exchange.getIn().getHeader(Exchange.CONTENT_TYPE, String.class);\n                String path = exchange.getIn().getHeader(Exchange.HTTP_URI, String.class);\n                path = path.substring(path.lastIndexOf(&quot;/&quot;));\n                exchange.getOut().setHeader(Exchange.CONTENT_TYPE, contentType + &quot;; charset=UTF-8&quot;);\n                exchange.getOut().setHeader(&quot;PATH&quot;, path);\n                exchange.getOut().setBody(&quot;&lt;b&gt;Hello World&lt;/b&gt;&quot;);\n            }\n        });\n    }\n}\n    \n\n</code></pre>\n<p>As per my understanding my web.xml looks like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\n\n&lt;webapp&gt;\n  &lt;display-name&gt;camel-servlet&lt;/display-name&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;name&lt;/param-name&gt;\n        &lt;param-value&gt;MyCamel&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;routeBuilder-MyRoute&lt;/param-name&gt;\n        &lt;param-value&gt;org.apache.camel.community.so.servletlistener.DefaultRouteBuilder&lt;/param-value&gt;\n    &lt;/context-param&gt;\n  &lt;listener&gt;\n    &lt;listener-class&gt;org.apache.camel.component.servletlistener.JndiCamelServletContextListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;CamelServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.camel.component.servlet.CamelHttpTransportServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;CamelServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/camel/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/webapp&gt;\n</code></pre>\n<p>Edit:\nLogs from mvn jetty:run command -</p>\n<pre><code>[INFO] Scanning elapsed time=1409ms\n[INFO] DefaultSessionIdManager workerName=node0\n[INFO] No SessionScavenger set, using defaults\n[INFO] node0 Scavenging every 660000ms\n2022-07-19 11:15:39,454 [main           ] INFO  CamelServletContextListener    - CamelContextServletListener initializing ...\nDefaultRouter\n2022-07-19 11:15:39,797 [main           ] INFO  ServletCamelContext            - Apache Camel 2.25.0 (CamelContext: MyCamel) is starting\n2022-07-19 11:15:39,804 [main           ] INFO  ManagedManagementStrategy      - JMX is enabled\n2022-07-19 11:15:40,094 [main           ] INFO  DefaultTypeConverter           - Type converters loaded (core: 195, classpath: 9)\n2022-07-19 11:15:40,233 [main           ] INFO  ServletCamelContext            - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html\n2022-07-19 11:15:40,272 [main           ] INFO  ServletCamelContext            - Route: route1 started and consuming from: servlet:/hello?matchOnUriPrefix=true\n2022-07-19 11:15:40,274 [main           ] INFO  ServletCamelContext            - Total 1 routes, of which 1 are started\n2022-07-19 11:15:40,276 [main           ] INFO  ServletCamelContext            - Apache Camel 2.25.0 (CamelContext: MyCamel) started in 0.483 seconds\n2022-07-19 11:15:40,277 [main           ] INFO  CamelServletContextListener    - CamelContextServletListener initialized\n2022-07-19 11:15:40,316 [main           ] INFO  CamelHttpTransportServlet      - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=/camel-example-servlet]\n[INFO] Started o.e.j.m.p.JettyWebAppContext@2764c546{Camel Servlet Example,/camel-example-servlet,file:///C:/Users/rrdoshi/Downloads/camel-example-servlet/src/main/webapp/,AVAILABLE}{file:///C:/Users/rrdoshi/Downloads/camel-example-servlet/src/main/webapp/}\n[INFO] Started ServerConnector@2b73bd6b{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}\n[INFO] Started @8097ms\n[INFO] Started Jetty Server\n</code></pre>\n<p>For tomcat deployment, I am placing the war file in tomcat webapps directory and executing startup.bat</p>\n<pre><code>19-Jul-2022 11:21:21.403 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n19-Jul-2022 11:21:21.576 WARNING [main] org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [146] milliseconds.\n19-Jul-2022 11:21:21.596 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ApacheCamelDemoServlet]\n19-Jul-2022 11:21:21.645 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ApacheCamelDemoServlet] has finished in [49] ms\n19-Jul-2022 11:21:21.646 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\docs]\n19-Jul-2022 11:21:21.671 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\docs] has finished in [25] ms\n19-Jul-2022 11:21:21.672 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\examples]\n19-Jul-2022 11:21:22.097 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\examples] has finished in [425] ms\n19-Jul-2022 11:21:22.099 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\host-manager]\n19-Jul-2022 11:21:22.135 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\host-manager] has finished in [36] ms\n19-Jul-2022 11:21:22.136 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\manager]\n19-Jul-2022 11:21:22.175 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\manager] has finished in [38] ms\n19-Jul-2022 11:21:22.175 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ROOT]\n19-Jul-2022 11:21:22.202 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Users\\rrdoshi\\Downloads\\apache-tomcat-9.0.64-windows-x64\\apache-tomcat-9.0.64\\webapps\\ROOT] has finished in [26] ms\n19-Jul-2022 11:21:22.205 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8088&quot;]\n19-Jul-2022 11:21:22.224 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [2721] milliseconds\n\n</code></pre>\n<p>access logs</p>\n<pre><code>127.0.0.1 - - [19/Jul/2022:11:23:51 +0530] &quot;GET /camel-servlet/ HTTP/1.1&quot; 200 1675\n127.0.0.1 - - [19/Jul/2022:11:24:01 +0530] &quot;GET /camel-servlet/camel/hello HTTP/1.1&quot; 404 784\n</code></pre>\n<p>localhost logs</p>\n<pre><code>19-Jul-2022 11:21:22.085 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()\n19-Jul-2022 11:21:22.085 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()\n19-Jul-2022 11:21:22.087 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded('StockTicker', 'async.Stockticker@68ab0936')\n\n</code></pre>\n<p>The WAR file is getting deployed but there are no error logs. There are no logs regarding camelContext starting up.</p>\n"},{"tags":["java","spring","rest","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":7,"creation_date":1503429364,"post_id":45825211,"comment_id":78608858,"body_markdown":"You&#39;re probably looking for `@ResponseBody`.","body":"You&#39;re probably looking for <code>@ResponseBody</code>."},{"owner":{"account_id":2910248,"reputation":179,"user_id":2494663,"accept_rate":83,"display_name":"user2494663"},"score":0,"creation_date":1503430571,"post_id":45825211,"comment_id":78609430,"body_markdown":"hmm. Yes. That&#39;s it","body":"hmm. Yes. That&#39;s it"}],"answers":[{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1659354405,"creation_date":1529773178,"answer_id":51003305,"question_id":45825211,"body_markdown":"As stated in the comments, you should use `@ResponseBody` annotation on your method.  \r\nThat&#39;s all you need.\r\n","title":"Is there a way to disable Thymeleaf, or only enable for certain REST calls?","body":"<p>As stated in the comments, you should use <code>@ResponseBody</code> annotation on your method.<br />\nThat's all you need.</p>\n"}],"owner":{"account_id":2910248,"reputation":179,"user_id":2494663,"accept_rate":83,"display_name":"user2494663"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1968,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51003305,"answer_count":1,"score":9,"last_activity_date":1659354882,"creation_date":1503428863,"question_id":45825211,"body_markdown":"For instance, I have a basic POST that returns an html called &quot;result&quot; using Thymeleaf. This works and is cool.\r\n\r\n```java\r\n@PostMapping(&quot;/greeting&quot;)\r\npublic String greetingSubmit(@ModelAttribute Greeting greeting) {\r\n    return &quot;result&quot;;\r\n}\r\n```\r\n\r\nBut I have another totally unrelated method, that does something different, and returns not a template.\r\n\r\n```java\r\n@PostMapping(value = &quot;/otherstuff&quot;, headers = &quot;content-type=multipart/*&quot;)\r\npublic Object otherStuff(@RequestParam(&quot;file&quot;) MultipartFile dataFile) {\r\n    // Totally unrelated stuff\r\n    return resultList;\r\n}\r\n```\r\n\r\nNaturally, I get an exception:\r\n        \r\n    org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;/otherstuff&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers \r\n\r\nbecause I&#39;m intentionally not resolving a template. Can I turn off ThymeLeaf for this method? My Rest API is multi-purpose, and it would be rather unhelpful if ThymeLeaf ends up disrupting the whole project.\r\n\r\nThanks.\r\n","title":"Is there a way to disable Thymeleaf, or only enable for certain REST calls?","body":"<p>For instance, I have a basic POST that returns an html called &quot;result&quot; using Thymeleaf. This works and is cool.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/greeting&quot;)\npublic String greetingSubmit(@ModelAttribute Greeting greeting) {\n    return &quot;result&quot;;\n}\n</code></pre>\n<p>But I have another totally unrelated method, that does something different, and returns not a template.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/otherstuff&quot;, headers = &quot;content-type=multipart/*&quot;)\npublic Object otherStuff(@RequestParam(&quot;file&quot;) MultipartFile dataFile) {\n    // Totally unrelated stuff\n    return resultList;\n}\n</code></pre>\n<p>Naturally, I get an exception:</p>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;/otherstuff&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers \n</code></pre>\n<p>because I'm intentionally not resolving a template. Can I turn off ThymeLeaf for this method? My Rest API is multi-purpose, and it would be rather unhelpful if ThymeLeaf ends up disrupting the whole project.</p>\n<p>Thanks.</p>\n"},{"tags":["java","botframework"],"answers":[{"tags":[],"owner":{"account_id":3691920,"reputation":1,"user_id":3074315,"display_name":"sav1t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659354770,"creation_date":1659354770,"answer_id":73193235,"question_id":73192222,"body_markdown":"I solved this.\r\n\r\nI had to use the Activity&#39;s property called [ReplyToId](https://learn.microsoft.com/en-us/dotnet/api/microsoft.bot.connector.activity.replytoid?view=botbuilder-dotnet-3.0) (which is the ID of the previous activity where my activity is a response to). \r\nI wish [the documentation](https://learn.microsoft.com/en-us/java/api/com.microsoft.bot.connector.rest.restconversations.updateactivity?view=botbuilder-java#com-microsoft-bot-connector-rest-restconversations-updateactivity(java-lang-string-java-lang-string-com-microsoft-bot-schema-activity):~:text=ResourceResponse%3E%20updateActivity(String%20conversationId%2C%20String-,activityId,-%2C%20Activity%20activity)) was more clear since I wasted so much time on this.","title":"Invalid Activity ID when updating an activity","body":"<p>I solved this.</p>\n<p>I had to use the Activity's property called <a href=\"https://learn.microsoft.com/en-us/dotnet/api/microsoft.bot.connector.activity.replytoid?view=botbuilder-dotnet-3.0\" rel=\"nofollow noreferrer\">ReplyToId</a> (which is the ID of the previous activity where my activity is a response to).\nI wish <a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.bot.connector.rest.restconversations.updateactivity?view=botbuilder-java#com-microsoft-bot-connector-rest-restconversations-updateactivity(java-lang-string-java-lang-string-com-microsoft-bot-schema-activity):%7E:text=ResourceResponse%3E%20updateActivity(String%20conversationId%2C%20String-,activityId,-%2C%20Activity%20activity)\" rel=\"nofollow noreferrer\">the documentation</a> was more clear since I wasted so much time on this.</p>\n"}],"owner":{"account_id":3691920,"reputation":1,"user_id":3074315,"display_name":"sav1t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659354770,"creation_date":1659348981,"question_id":73192222,"body_markdown":"I&#39;m trying to **update an existing Activity** that was previously sent to an MS Teams channel from my bot (for that I&#39;m using the activity that is triggered when the user clicks on a button on the Hero Card) but the SDK keeps telling me that **the activity ID is invalid**. (***Status code 400, Invalid Activity ID***.) I need to do that so I can update the message according to different outcomes of when the buttons are pressed.\r\n\r\nI&#39;m using the Java SDK&#39;s method called [updateActivity](https://learn.microsoft.com/en-us/java/api/com.microsoft.bot.connector.rest.restconversations.updateactivity?view=botbuilder-java#com-microsoft-bot-connector-rest-restconversations-updateactivity(java-lang-string-java-lang-string-com-microsoft-bot-schema-activity)) from `com.microsoft.bot.connector:bot-connector:4.0.0-a1` which calls this [Bot Framework REST API endpoint](https://learn.microsoft.com/en-us/azure/bot-service/rest-api/bot-framework-rest-connector-api-reference?view=azure-bot-service-4.0#update-activity).\r\n\r\nI&#39;ve tried as well with an `AdaptiveCard` (instead of `Hero Card`) with the latest version (`com.microsoft.connector:bot-connector:4.14.2`) but I get the same result back.\r\n\r\nSome observations I noticed while troubleshooting this: every time I click on a Hero Card button, my service receives an activity with type text which **has always a different ID**.\r\nAlso, when I create the initial Activity with the buttons, that does not have any ID set, so I assume that that autogenerated on MS Teams side.\r\n\r\nI hope this is clear, if not I can try to explain the issue further.\r\n\r\nDoes anyone know how to solve this? Any help is greatly appreciated.\r\n\r\nFullstack trace of the error:\r\n\r\n\r\n\r\n```\r\n2022-08-01T11:57:07,560 ERROR [http-nio-8089-exec-1] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is rx.exceptions.OnErrorNotImplementedException: Status code 400, {&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid activity ID 1:1V-DsOtKiIRLIEcpuZ-yTqfutdtrBN1346dtc-FWORtukjM-KyWqOEr-pbKgucf_tuMoutHkw66r7BTcMIjxI3Q&quot;}}] with root cause\r\ncom.microsoft.bot.connector.models.ErrorResponseException: Status code 400, {&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid activity ID 1:1V-DsOtKiIRLIEcpuZ-yTqfutdtrBN1346dtc-FWORtukjM-KyWqOEr-pbKgucf_tuMoutHkw66r7BTcMIjxI3Q&quot;}}\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat com.microsoft.rest.ServiceResponseBuilder.build(ServiceResponseBuilder.java:122)\r\n\tat com.microsoft.azure.AzureResponseBuilder.build(AzureResponseBuilder.java:56)\r\n\tat com.microsoft.bot.connector.implementation.ConversationsImpl.updateActivityDelegate(ConversationsImpl.java:612)\r\n\tat com.microsoft.bot.connector.implementation.ConversationsImpl.access$300(ConversationsImpl.java:48)\r\n\tat com.microsoft.bot.connector.implementation.ConversationsImpl$17.call(ConversationsImpl.java:597)\r\n\tat com.microsoft.bot.connector.implementation.ConversationsImpl$17.call(ConversationsImpl.java:593)\r\n\tat rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:69)\r\n\tat retrofit2.adapter.rxjava.RxJavaCallAdapterFactory$RequestArbiter.request(RxJavaCallAdapterFactory.java:173)\r\n\tat rx.Subscriber.setProducer(Subscriber.java:211)\r\n\tat rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\r\n\tat retrofit2.adapter.rxjava.RxJavaCallAdapterFactory$CallOnSubscribe.call(RxJavaCallAdapterFactory.java:152)\r\n\tat retrofit2.adapter.rxjava.RxJavaCallAdapterFactory$CallOnSubscribe.call(RxJavaCallAdapterFactory.java:138)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n\tat rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n\tat rx.Observable.subscribe(Observable.java:10423)\r\n\tat rx.Observable.subscribe(Observable.java:10390)\r\n\tat rx.Observable.subscribe(Observable.java:10195)\r\n\tat com.company.msbot.service.bot.BotServiceImpl.updateCard(BotServiceImpl.java:173)\r\n\tat com.company.msbot.controller.CommandsController.commands(CommandsController.java:74)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat com.company.msbot.util.HttpLoggingFilter.doFilterInternal(HttpLoggingFilter.java:34)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Invalid Activity ID when updating an activity","body":"<p>I'm trying to <strong>update an existing Activity</strong> that was previously sent to an MS Teams channel from my bot (for that I'm using the activity that is triggered when the user clicks on a button on the Hero Card) but the SDK keeps telling me that <strong>the activity ID is invalid</strong>. (<em><strong>Status code 400, Invalid Activity ID</strong></em>.) I need to do that so I can update the message according to different outcomes of when the buttons are pressed.</p>\n<p>I'm using the Java SDK's method called <a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.bot.connector.rest.restconversations.updateactivity?view=botbuilder-java#com-microsoft-bot-connector-rest-restconversations-updateactivity(java-lang-string-java-lang-string-com-microsoft-bot-schema-activity)\" rel=\"nofollow noreferrer\">updateActivity</a> from <code>com.microsoft.bot.connector:bot-connector:4.0.0-a1</code> which calls this <a href=\"https://learn.microsoft.com/en-us/azure/bot-service/rest-api/bot-framework-rest-connector-api-reference?view=azure-bot-service-4.0#update-activity\" rel=\"nofollow noreferrer\">Bot Framework REST API endpoint</a>.</p>\n<p>I've tried as well with an <code>AdaptiveCard</code> (instead of <code>Hero Card</code>) with the latest version (<code>com.microsoft.connector:bot-connector:4.14.2</code>) but I get the same result back.</p>\n<p>Some observations I noticed while troubleshooting this: every time I click on a Hero Card button, my service receives an activity with type text which <strong>has always a different ID</strong>.\nAlso, when I create the initial Activity with the buttons, that does not have any ID set, so I assume that that autogenerated on MS Teams side.</p>\n<p>I hope this is clear, if not I can try to explain the issue further.</p>\n<p>Does anyone know how to solve this? Any help is greatly appreciated.</p>\n<p>Fullstack trace of the error:</p>\n<pre><code>2022-08-01T11:57:07,560 ERROR [http-nio-8089-exec-1] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is rx.exceptions.OnErrorNotImplementedException: Status code 400, {&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid activity ID 1:1V-DsOtKiIRLIEcpuZ-yTqfutdtrBN1346dtc-FWORtukjM-KyWqOEr-pbKgucf_tuMoutHkw66r7BTcMIjxI3Q&quot;}}] with root cause\ncom.microsoft.bot.connector.models.ErrorResponseException: Status code 400, {&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid activity ID 1:1V-DsOtKiIRLIEcpuZ-yTqfutdtrBN1346dtc-FWORtukjM-KyWqOEr-pbKgucf_tuMoutHkw66r7BTcMIjxI3Q&quot;}}\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at com.microsoft.rest.ServiceResponseBuilder.build(ServiceResponseBuilder.java:122)\n    at com.microsoft.azure.AzureResponseBuilder.build(AzureResponseBuilder.java:56)\n    at com.microsoft.bot.connector.implementation.ConversationsImpl.updateActivityDelegate(ConversationsImpl.java:612)\n    at com.microsoft.bot.connector.implementation.ConversationsImpl.access$300(ConversationsImpl.java:48)\n    at com.microsoft.bot.connector.implementation.ConversationsImpl$17.call(ConversationsImpl.java:597)\n    at com.microsoft.bot.connector.implementation.ConversationsImpl$17.call(ConversationsImpl.java:593)\n    at rx.internal.operators.OnSubscribeMap$MapSubscriber.onNext(OnSubscribeMap.java:69)\n    at retrofit2.adapter.rxjava.RxJavaCallAdapterFactory$RequestArbiter.request(RxJavaCallAdapterFactory.java:173)\n    at rx.Subscriber.setProducer(Subscriber.java:211)\n    at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\n    at retrofit2.adapter.rxjava.RxJavaCallAdapterFactory$CallOnSubscribe.call(RxJavaCallAdapterFactory.java:152)\n    at retrofit2.adapter.rxjava.RxJavaCallAdapterFactory$CallOnSubscribe.call(RxJavaCallAdapterFactory.java:138)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\n    at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\n    at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\n    at rx.Observable.subscribe(Observable.java:10423)\n    at rx.Observable.subscribe(Observable.java:10390)\n    at rx.Observable.subscribe(Observable.java:10195)\n    at com.company.msbot.service.bot.BotServiceImpl.updateCard(BotServiceImpl.java:173)\n    at com.company.msbot.controller.CommandsController.commands(CommandsController.java:74)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.company.msbot.util.HttpLoggingFilter.doFilterInternal(HttpLoggingFilter.java:34)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","hibernate","bigdecimal","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659352597,"creation_date":1659352597,"answer_id":73192823,"question_id":73165036,"body_markdown":"This is because `org.hibernate.type.descriptor.java.BigDecimalTypeDescriptor#areEqual` considers two `BigDecimal` objects as equal if `compareTo` returns `0`, which is the case for `0` and `0.00`. So if you want to treat this kind of value change as a real value change, you will have to override the `JavaTypeDescriptor` for `BigDecimal` and also replace `org.hibernate.type.BigDecimalType` with a new version that uses that new `JavaTypeDescriptor`.","title":"Hibernate-envers - Big decimal field is not audited correctly","body":"<p>This is because <code>org.hibernate.type.descriptor.java.BigDecimalTypeDescriptor#areEqual</code> considers two <code>BigDecimal</code> objects as equal if <code>compareTo</code> returns <code>0</code>, which is the case for <code>0</code> and <code>0.00</code>. So if you want to treat this kind of value change as a real value change, you will have to override the <code>JavaTypeDescriptor</code> for <code>BigDecimal</code> and also replace <code>org.hibernate.type.BigDecimalType</code> with a new version that uses that new <code>JavaTypeDescriptor</code>.</p>\n"}],"owner":{"account_id":14631192,"reputation":43,"user_id":10566909,"display_name":"user10566909"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659354745,"creation_date":1659089452,"question_id":73165036,"body_markdown":"I am using `Hibernate envers 5.2.10.Final` version to audit any changes on entity.\r\nAnd in entity class, there is BigDecimal data type fields also exists (can&#39;t change to another data type like double because it needs to hold accurate precision)\r\n\r\nIssue is that BigDecimal value is tracked as modified in audit table even when there is no change in value\r\n\r\nLet&#39;s Say 0 (old value) and 0.00(new value) is tracked as modified and this is accepted but after stripping zeros means new value also 0 and this is also tracked as modified by hibernate envers.\r\n\r\nI tired few options as below but no use\r\n\r\n```\r\n@Audited(withModifiedFlag = true)\r\n@Entity\r\nclass SomeEntity {\r\nprivate Long id;\r\nprivate BigDecimal value;\r\n//getters and setters\r\n}\r\n```\r\nAnd Say there is some class that sets value\r\n```\r\nclass SomeClass{\r\nPublic void method(Foo foo) {\r\n...//First approach\r\nSomeEntity someEntity=newSomeEntity();\r\nsomeEntity.setId(foo.getId());\r\nsomeEntity.setValue(foo.getValue().stripTrailingZeros()); //still BigDecimal is tracked as modified in audit table\r\n\r\n//Second approach\r\nDecimalFormat decimalFormat.format(&quot;0.##&quot;);\r\nSomeEntity someEntity=newSomeEntity();\r\nsomeEntity.setId(foo.getId());\r\nsomeEntity.setValue(new BigDecimal(decimalFormat(foo.getValue()))); //still BigDecimal is tracked as modified in audit table\r\n//save to db\r\n}\r\n}\r\n```\r\nAny help is much appreciated.","title":"Hibernate-envers - Big decimal field is not audited correctly","body":"<p>I am using <code>Hibernate envers 5.2.10.Final</code> version to audit any changes on entity.\nAnd in entity class, there is BigDecimal data type fields also exists (can't change to another data type like double because it needs to hold accurate precision)</p>\n<p>Issue is that BigDecimal value is tracked as modified in audit table even when there is no change in value</p>\n<p>Let's Say 0 (old value) and 0.00(new value) is tracked as modified and this is accepted but after stripping zeros means new value also 0 and this is also tracked as modified by hibernate envers.</p>\n<p>I tired few options as below but no use</p>\n<pre><code>@Audited(withModifiedFlag = true)\n@Entity\nclass SomeEntity {\nprivate Long id;\nprivate BigDecimal value;\n//getters and setters\n}\n</code></pre>\n<p>And Say there is some class that sets value</p>\n<pre><code>class SomeClass{\nPublic void method(Foo foo) {\n...//First approach\nSomeEntity someEntity=newSomeEntity();\nsomeEntity.setId(foo.getId());\nsomeEntity.setValue(foo.getValue().stripTrailingZeros()); //still BigDecimal is tracked as modified in audit table\n\n//Second approach\nDecimalFormat decimalFormat.format(&quot;0.##&quot;);\nSomeEntity someEntity=newSomeEntity();\nsomeEntity.setId(foo.getId());\nsomeEntity.setValue(new BigDecimal(decimalFormat(foo.getValue()))); //still BigDecimal is tracked as modified in audit table\n//save to db\n}\n}\n</code></pre>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659066039,"creation_date":1659066039,"answer_id":73161388,"question_id":73154929,"body_markdown":"If this is your only code, then there is nothing here that will produce a NPE.  If you are calling something like `getHome().getStreet().length()` then it will if the field `street` was set to null based on the results of the query.  This is the correct behavior, and you shouldn&#39;t attempt to change it.  This way it&#39;s up to you to write your code in a manner that&#39;s null-safe.\r\n\r\nIf you still just want to have these fields as an empty String rather than Null, then you can create a custom type in Hibernate.  Implement `org.hibernate.usertype.UserType`, in the `nullSafeGet` and `nullSafeSet` methods, you&#39;ll return an empty String in place of any null values.  Then you&#39;d simply annotate your fields with `@Type()`\r\n\r\n    @Type(type = &quot;com.acme.MyCustomType&quot;)\r\n    private String street;\r\n\r\nAgain, I would highly recommend AGAINST taking this approach as you&#39;re going to end up with more headaches than just dealing with NPEs\r\n\r\n","title":"When all columns of an @Embedded field are NULL (JPA / Hibernate) - how to prevent null pointer?","body":"<p>If this is your only code, then there is nothing here that will produce a NPE.  If you are calling something like <code>getHome().getStreet().length()</code> then it will if the field <code>street</code> was set to null based on the results of the query.  This is the correct behavior, and you shouldn't attempt to change it.  This way it's up to you to write your code in a manner that's null-safe.</p>\n<p>If you still just want to have these fields as an empty String rather than Null, then you can create a custom type in Hibernate.  Implement <code>org.hibernate.usertype.UserType</code>, in the <code>nullSafeGet</code> and <code>nullSafeSet</code> methods, you'll return an empty String in place of any null values.  Then you'd simply annotate your fields with <code>@Type()</code></p>\n<pre><code>@Type(type = &quot;com.acme.MyCustomType&quot;)\nprivate String street;\n</code></pre>\n<p>Again, I would highly recommend AGAINST taking this approach as you're going to end up with more headaches than just dealing with NPEs</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659354448,"creation_date":1659354448,"answer_id":73193173,"question_id":73154929,"body_markdown":"You can control this with the `hibernate.create_empty_composites.enabled` configuration which you can read about in the documentation: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#_misc_options","title":"When all columns of an @Embedded field are NULL (JPA / Hibernate) - how to prevent null pointer?","body":"<p>You can control this with the <code>hibernate.create_empty_composites.enabled</code> configuration which you can read about in the documentation: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#_misc_options\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#_misc_options</a></p>\n"}],"owner":{"account_id":14647656,"reputation":71,"user_id":10578513,"display_name":"S. Shao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73193173,"answer_count":2,"score":2,"last_activity_date":1659354448,"creation_date":1659020311,"question_id":73154929,"body_markdown":"Is there any way to init a empty object, even if all values are null?\r\n\r\n    @Embeddable\r\n    public class Address {\r\n        private String street;\r\n        private String postalCode;\r\n        private String city;\r\n    }\r\n \r\n    @Entity\r\n    public class Person {\r\n      @Embedded\r\n      private final Address home = new Address();\r\n    }\r\n\r\nThe problem is, when you hydrate a Person, if all fields of the embedded Address are null, it seems like hibernate is initializing home to null.\r\n\r\nIt is not initializing it as a &quot;new Address()&quot;.\r\n\r\nIs there any way to force hibernate to initialize home as &quot;new Address()&quot; even with all fields null?\r\n\r\nTrying to avoid things like:\r\n\r\n    public Address getHome(){\r\n    if(home == null){\r\n        this.home = new Address();\r\n    }\r\n    return this.home;\r\n}","title":"When all columns of an @Embedded field are NULL (JPA / Hibernate) - how to prevent null pointer?","body":"<p>Is there any way to init a empty object, even if all values are null?</p>\n<pre><code>@Embeddable\npublic class Address {\n    private String street;\n    private String postalCode;\n    private String city;\n}\n\n@Entity\npublic class Person {\n  @Embedded\n  private final Address home = new Address();\n}\n</code></pre>\n<p>The problem is, when you hydrate a Person, if all fields of the embedded Address are null, it seems like hibernate is initializing home to null.</p>\n<p>It is not initializing it as a &quot;new Address()&quot;.</p>\n<p>Is there any way to force hibernate to initialize home as &quot;new Address()&quot; even with all fields null?</p>\n<p>Trying to avoid things like:</p>\n<pre><code>public Address getHome(){\nif(home == null){\n    this.home = new Address();\n}\nreturn this.home;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","linear-algebra","eigenvalue","eigenvector","lanczos"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1659344181,"post_id":73191145,"comment_id":129263965,"body_markdown":"can you like multiple it with -1 and the largest becomes the smallest?","body":"can you like multiple it with -1 and the largest becomes the smallest?"},{"owner":{"account_id":25945892,"reputation":11,"user_id":19664621,"display_name":"haganov"},"score":0,"creation_date":1659354168,"post_id":73191145,"comment_id":129267292,"body_markdown":"I&#39;m not sure if this is what you meant but I multiplied the Laplacian matrix by -1 and got what I wanted. So instead of solving:\nD^(-1/2) ( D - W ) D^(-1/2) x = lambda  x , I&#39;m solving:\nD^(-1/2) ( W - D ) D^(-1/2) x = lambda  x \nNow the k largest eigenvectors work for me","body":"I&#39;m not sure if this is what you meant but I multiplied the Laplacian matrix by -1 and got what I wanted. So instead of solving: D^(-1/2) ( D - W ) D^(-1/2) x = lambda  x , I&#39;m solving: D^(-1/2) ( W - D ) D^(-1/2) x = lambda  x  Now the k largest eigenvectors work for me"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659375019,"post_id":73191145,"comment_id":129274764,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25945892,"reputation":11,"user_id":19664621,"display_name":"haganov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659354319,"creation_date":1659354319,"answer_id":73193145,"question_id":73191145,"body_markdown":"The solution was simple. I just modified the eigensystem presented in the original paper by multiplying the Laplacian Matrix by -1, and now I can work with the k largest eigenvectors.\r\n\r\nSo instead of solving: &lt;br&gt;\r\n```D^(-1/2) ( D - W ) D^(-1/2) x = lambda x```\r\n&lt;br&gt; I solve: &lt;br&gt;\r\n```D^(-1/2) ( W - D ) D^(-1/2) x = lambda x```\r\n","title":"Finding first K smallest eigenvectors of Sparse Matrix","body":"<p>The solution was simple. I just modified the eigensystem presented in the original paper by multiplying the Laplacian Matrix by -1, and now I can work with the k largest eigenvectors.</p>\n<p>So instead of solving: <br>\n<code>D^(-1/2) ( D - W ) D^(-1/2) x = lambda x</code>\n<br> I solve: <br>\n<code>D^(-1/2) ( W - D ) D^(-1/2) x = lambda x</code></p>\n"}],"owner":{"account_id":25945892,"reputation":11,"user_id":19664621,"display_name":"haganov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659354319,"creation_date":1659343906,"question_id":73191145,"body_markdown":"I&#39;m trying to implement a segmentation algorithm in Java called Normalized Cuts. I am working with a Sparse Matrix and I need to compute its first k smallest eigenvectors. In the original paper (Shi &amp; Malik), they use the Lanczos eigensolver. \r\nI couldn&#39;t find any package in Java besides the Smile package but their Lanczos implementation solves the largest k eigenvectors while I need the opposite. Do you know of any other Java package that can be useful to me ? Whether implementing Lanczos or any other eigensolver. Also, any ideas on how to modify the Smile algorithm to compute the smallest values instead would be of great help.\r\n\r\nThe Smile implementation of Lanczos: https://www.javatips.net/api/smile-master/math/src/main/java/smile/math/matrix/Lanczos.java\r\n\r\nThanks","title":"Finding first K smallest eigenvectors of Sparse Matrix","body":"<p>I'm trying to implement a segmentation algorithm in Java called Normalized Cuts. I am working with a Sparse Matrix and I need to compute its first k smallest eigenvectors. In the original paper (Shi &amp; Malik), they use the Lanczos eigensolver.\nI couldn't find any package in Java besides the Smile package but their Lanczos implementation solves the largest k eigenvectors while I need the opposite. Do you know of any other Java package that can be useful to me ? Whether implementing Lanczos or any other eigensolver. Also, any ideas on how to modify the Smile algorithm to compute the smallest values instead would be of great help.</p>\n<p>The Smile implementation of Lanczos: <a href=\"https://www.javatips.net/api/smile-master/math/src/main/java/smile/math/matrix/Lanczos.java\" rel=\"nofollow noreferrer\">https://www.javatips.net/api/smile-master/math/src/main/java/smile/math/matrix/Lanczos.java</a></p>\n<p>Thanks</p>\n"},{"tags":["java","xslt-1.0","xslt-2.0","xmlunit","xmlunit-2"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659347243,"post_id":73191842,"comment_id":129265081,"body_markdown":"i think the message is clear: *Required attribute &#39;test&#39; is missing.*","body":"i think the message is clear: <i>Required attribute &#39;test&#39; is missing.</i>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659347307,"post_id":73191842,"comment_id":129265116,"body_markdown":"Which is line 18 in your xsl file?","body":"Which is line 18 in your xsl file?"},{"owner":{"account_id":14153122,"reputation":51,"user_id":10224595,"display_name":"KB1"},"score":0,"creation_date":1659347680,"post_id":73191842,"comment_id":129265245,"body_markdown":"Thanks @jens but i have already given attribute &#39;test&#39; on line 18.which is part of Syntex. &lt;xsl:when test=&quot;. castable as xs:boolean&quot;&gt;","body":"Thanks @jens but i have already given attribute &#39;test&#39; on line 18.which is part of Syntex. &lt;xsl:when test=&quot;. castable as xs:boolean&quot;&gt;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659347733,"post_id":73191842,"comment_id":129265268,"body_markdown":"Souds like you have edited the wrong file or you have not saved the changes","body":"Souds like you have edited the wrong file or you have not saved the changes"},{"owner":{"account_id":14153122,"reputation":51,"user_id":10224595,"display_name":"KB1"},"score":0,"creation_date":1659347959,"post_id":73191842,"comment_id":129265351,"body_markdown":"No, i am sure that i have edited and saved the correct  _ignoreText.xsl file","body":"No, i am sure that i have edited and saved the correct  _ignoreText.xsl file"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1659348799,"post_id":73191842,"comment_id":129265642,"body_markdown":"You use XPath 2 or 3 with your `castable`, so you need to make sure an XSLT 2 or 3 processor, which in the Java world means Saxon HE (use 11.4 for XSLT 3, use 9.7 for XSLT 2) is on the classpath.","body":"You use XPath 2 or 3 with your <code>castable</code>, so you need to make sure an XSLT 2 or 3 processor, which in the Java world means Saxon HE (use 11.4 for XSLT 3, use 9.7 for XSLT 2) is on the classpath."}],"answers":[{"tags":[],"owner":{"account_id":1387325,"reputation":493,"user_id":1319051,"display_name":"av1987"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659353607,"creation_date":1659353607,"answer_id":73192997,"question_id":73191842,"body_markdown":"Looks like you are trying to match the XML with node content&#39;s data type. \r\n\r\nIf that is the case you can use the custom ````DifferenceEvaluator```` as below. \r\n\r\n````\r\npublic class XMLUnitDiffDemo{\r\n\r\npublic static void main(String args[]) throws Exception {\r\n  String strSource = &quot;&lt;root&gt;&lt;test&gt;true&lt;/test&gt;&quot; +\r\n                &quot;&lt;test2&gt;2&lt;/test2&gt;&quot; +\r\n                &quot;&lt;test1&gt;1&lt;/test1&gt;&quot; +\r\n                &quot;&lt;/root&gt;&quot;;\r\n  String strTest = &quot;&lt;root&gt;&lt;test&gt;true&lt;/test&gt;&quot; +\r\n                &quot;&lt;test1&gt;1&lt;/test1&gt;&quot; +\r\n                &quot;&lt;test2&gt;2&lt;/test2&gt;&quot; +\r\n                &quot;&lt;/root&gt;&quot;;\r\n\r\n\r\n Diff myDiff = DiffBuilder.compare(xmlSource).withTest(xmlCompareWith)\r\n                .ignoreComments()\r\n                .ignoreWhitespace()\r\n                .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byName))\r\n                .withDifferenceEvaluator(new DataTypeElementDifferenceEvaluator())\r\n                .checkForSimilar().build();\r\n\r\nSystem.out.println(!myDiff.hasDifferences())\r\n}\r\n}\r\n````\r\n\r\nCustom implementation. \r\n\r\n````\r\n\r\nclass DataTypeElementDifferenceEvaluator implements DifferenceEvaluator {\r\n\r\n    @Override\r\n    public ComparisonResult evaluate(Comparison comparison, ComparisonResult outcome) {\r\n        if (outcome == ComparisonResult.EQUAL) return outcome; // only evaluate differences.\r\n        Node controlNode = comparison.getControlDetails().getTarget();\r\n        Node testNode = comparison.getTestDetails().getTarget();\r\n        String controlnodename = controlNode.getNodeName();\r\n        String testNodename = testNode.getNodeName();\r\n        String conCN = controlNode.getTextContent();\r\n        String conTN = testNode.getTextContent();\r\n        if(controlnodename.equalsIgnoreCase(testNodename)){\r\n            System.out.println(getDataType(conCN) + &quot; ==  &quot; + getDataType(conTN));\r\n            if(getDataType(conCN).equalsIgnoreCase(getDataType(conTN))) {\r\n                return ComparisonResult.SIMILAR;\r\n            }\r\n        }\r\n        return outcome;\r\n    }\r\n\r\npublic static String getDataType(String input) {\r\n\r\n        String dataType = null;\r\n        // checking for Integer\r\n        if (input.matches(&quot;\\\\d+&quot;)) {\r\n            dataType = &quot;java.lang.Integer&quot;;\r\n        }\r\n        // checking for floating point numbers\r\n        else if (input.matches(&quot;\\\\d*[.]\\\\d+&quot;)) {\r\n            dataType = &quot;java.lang.Double&quot;;\r\n        }\r\n        // checking for date format dd/mm/yyyy\r\n        else if (input.matches(\r\n                &quot;\\\\d{2}[/]\\\\d{2}[/]\\\\d{4}&quot;)) {\r\n            dataType = &quot;java.util.Date&quot;;\r\n        }\r\n        // checking for date format mm/dd/yyyy\r\n        else if (input.matches(\r\n                &quot;\\\\d{2}[/]\\\\d{2}[/]\\\\d{4}&quot;)) {\r\n            dataType = &quot;java.util.Date&quot;;\r\n        }\r\n        // checking for date format dd-mon-yy\r\n        else if (input.matches(\r\n                &quot;\\\\d{2}[-]\\\\w{3}[-]\\\\d{2}&quot;)) {\r\n            dataType = &quot;java.util.Date&quot;;\r\n        }\r\n        // checking for date format dd-mon-yyyy\r\n        else if (input.matches(\r\n                &quot;\\\\d{2}[-]\\\\w{3}[-]\\\\d{4}&quot;)) {\r\n            dataType = &quot;java.util.Date&quot;;\r\n        }\r\n        // checking for date format dd-month-yy\r\n        else if (input.matches(&quot;\\\\d{2}[-]\\\\w+[-]\\\\d{2}&quot;)) {\r\n            dataType = &quot;java.util.Date&quot;;\r\n        }\r\n        // checking for date format dd-month-yyyy\r\n        else if (input.matches(&quot;\\\\d{2}[-]\\\\w+[-]\\\\d{4}&quot;)) {\r\n            dataType = &quot;java.util.Date&quot;;\r\n        }\r\n        // checking for date format yyyy-mm-dd\r\n        else if (input.matches(\r\n                &quot;\\\\d{4}[-]\\\\d{2}[-]\\\\d{2}&quot;)) {\r\n            dataType = &quot;java.util.Date&quot;;\r\n        }\r\n        // checking for String\r\n        else {\r\n            dataType = &quot;java.lang.String&quot;;\r\n        }\r\n\r\n        return dataType;\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n````","title":"getting &#39;ERROR: &#39;Syntax error in &#39;. castable as xs:integer&#39; while Trying to transform xml, based on Data type of value the tag is containing","body":"<p>Looks like you are trying to match the XML with node content's data type.</p>\n<p>If that is the case you can use the custom <code>DifferenceEvaluator</code> as below.</p>\n<pre><code>public class XMLUnitDiffDemo{\n\npublic static void main(String args[]) throws Exception {\n  String strSource = &quot;&lt;root&gt;&lt;test&gt;true&lt;/test&gt;&quot; +\n                &quot;&lt;test2&gt;2&lt;/test2&gt;&quot; +\n                &quot;&lt;test1&gt;1&lt;/test1&gt;&quot; +\n                &quot;&lt;/root&gt;&quot;;\n  String strTest = &quot;&lt;root&gt;&lt;test&gt;true&lt;/test&gt;&quot; +\n                &quot;&lt;test1&gt;1&lt;/test1&gt;&quot; +\n                &quot;&lt;test2&gt;2&lt;/test2&gt;&quot; +\n                &quot;&lt;/root&gt;&quot;;\n\n\n Diff myDiff = DiffBuilder.compare(xmlSource).withTest(xmlCompareWith)\n                .ignoreComments()\n                .ignoreWhitespace()\n                .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byName))\n                .withDifferenceEvaluator(new DataTypeElementDifferenceEvaluator())\n                .checkForSimilar().build();\n\nSystem.out.println(!myDiff.hasDifferences())\n}\n}\n</code></pre>\n<p>Custom implementation.</p>\n<pre><code>\nclass DataTypeElementDifferenceEvaluator implements DifferenceEvaluator {\n\n    @Override\n    public ComparisonResult evaluate(Comparison comparison, ComparisonResult outcome) {\n        if (outcome == ComparisonResult.EQUAL) return outcome; // only evaluate differences.\n        Node controlNode = comparison.getControlDetails().getTarget();\n        Node testNode = comparison.getTestDetails().getTarget();\n        String controlnodename = controlNode.getNodeName();\n        String testNodename = testNode.getNodeName();\n        String conCN = controlNode.getTextContent();\n        String conTN = testNode.getTextContent();\n        if(controlnodename.equalsIgnoreCase(testNodename)){\n            System.out.println(getDataType(conCN) + &quot; ==  &quot; + getDataType(conTN));\n            if(getDataType(conCN).equalsIgnoreCase(getDataType(conTN))) {\n                return ComparisonResult.SIMILAR;\n            }\n        }\n        return outcome;\n    }\n\npublic static String getDataType(String input) {\n\n        String dataType = null;\n        // checking for Integer\n        if (input.matches(&quot;\\\\d+&quot;)) {\n            dataType = &quot;java.lang.Integer&quot;;\n        }\n        // checking for floating point numbers\n        else if (input.matches(&quot;\\\\d*[.]\\\\d+&quot;)) {\n            dataType = &quot;java.lang.Double&quot;;\n        }\n        // checking for date format dd/mm/yyyy\n        else if (input.matches(\n                &quot;\\\\d{2}[/]\\\\d{2}[/]\\\\d{4}&quot;)) {\n            dataType = &quot;java.util.Date&quot;;\n        }\n        // checking for date format mm/dd/yyyy\n        else if (input.matches(\n                &quot;\\\\d{2}[/]\\\\d{2}[/]\\\\d{4}&quot;)) {\n            dataType = &quot;java.util.Date&quot;;\n        }\n        // checking for date format dd-mon-yy\n        else if (input.matches(\n                &quot;\\\\d{2}[-]\\\\w{3}[-]\\\\d{2}&quot;)) {\n            dataType = &quot;java.util.Date&quot;;\n        }\n        // checking for date format dd-mon-yyyy\n        else if (input.matches(\n                &quot;\\\\d{2}[-]\\\\w{3}[-]\\\\d{4}&quot;)) {\n            dataType = &quot;java.util.Date&quot;;\n        }\n        // checking for date format dd-month-yy\n        else if (input.matches(&quot;\\\\d{2}[-]\\\\w+[-]\\\\d{2}&quot;)) {\n            dataType = &quot;java.util.Date&quot;;\n        }\n        // checking for date format dd-month-yyyy\n        else if (input.matches(&quot;\\\\d{2}[-]\\\\w+[-]\\\\d{4}&quot;)) {\n            dataType = &quot;java.util.Date&quot;;\n        }\n        // checking for date format yyyy-mm-dd\n        else if (input.matches(\n                &quot;\\\\d{4}[-]\\\\d{2}[-]\\\\d{2}&quot;)) {\n            dataType = &quot;java.util.Date&quot;;\n        }\n        // checking for String\n        else {\n            dataType = &quot;java.lang.String&quot;;\n        }\n\n        return dataType;\n\n    }\n\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":14153122,"reputation":51,"user_id":10224595,"display_name":"KB1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73192997,"answer_count":1,"score":3,"last_activity_date":1659353607,"creation_date":1659347158,"question_id":73191842,"body_markdown":"here is my _ignoreText.xsl file        \r\n\r\n    &lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;no&quot; /&gt;\r\n            &lt;xsl:template match=&quot;*|@*|text()|comment()|processing-instruction()&quot; &gt;\r\n        \r\n                &lt;xsl:if test=&quot;normalize-space(.) != &#39;&#39; or ./@* != &#39;&#39;&quot;&gt;\r\n                    &lt;xsl:copy&gt;\r\n                        &lt;xsl:apply-templates select=&quot;*|@*|text()|comment()|processing-instruction()&quot;/&gt;\r\n                    &lt;/xsl:copy&gt;\r\n                &lt;/xsl:if&gt;\r\n        \r\n                &lt;xsl:variable name=&quot;type&quot;&gt;\r\n                    &lt;xsl:choose&gt;\r\n                        &lt;xsl:when test=&quot;. castable as xs:integer&quot;&gt;\r\n                            &lt;xsl:text&gt;Integer&lt;/xsl:text&gt;\r\n                        &lt;/xsl:when&gt;\r\n                        &lt;xsl:when test=&quot;. castable as xs:boolean&quot;&gt;\r\n                            &lt;xsl:text&gt;Boolean&lt;/xsl:text&gt;\r\n                        &lt;/xsl:when&gt;\r\n                        &lt;xsl:otherwise&gt;\r\n                            &lt;xsl:text&gt;String&lt;/xsl:text&gt;\r\n                        &lt;/xsl:otherwise&gt;\r\n                    &lt;/xsl:choose&gt;\r\n                &lt;/xsl:variable&gt;\r\n        \r\n        \r\n            &lt;/xsl:template&gt;\r\n        \r\n        &lt;/xsl:stylesheet&gt;\r\n\r\nbelow is a java code in which i am using above _ignoreText.xsl file to transform xml\r\n\r\n    import org.custommonkey.xmlunit.Transform;\r\n    import java.io.File;\r\n    \r\n    \r\n    public class TransformDemo1 {\r\n        public static void main(String args[]) throws Exception {\r\n    \r\n            String xsltfilename=&quot;D:\\\\Demo\\\\src\\\\test\\\\java\\\\StringXml\\\\_ignoreText.xsl&quot;;\r\n            File xsltfile=new File(xsltfilename);\r\n    \r\n            String strSource = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;\\n&quot; +\r\n                    &quot;&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/1999/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/1999/XMLSchema-instance\\&quot;&gt;\\n&quot; +\r\n                    &quot;    &lt;SOAP-ENV:Body&gt;\\n&quot; +\r\n                    &quot;        &lt;return&gt;\\n&quot; +\r\n                    &quot;            &lt;ICD10Flag&gt;hello&lt;/ICD10Flag&gt;\\n&quot; +\r\n                    &quot;            &lt;status&gt;success&lt;/status&gt;\\n&quot; +\r\n                    &quot;        &lt;/return&gt;\\n&quot; +\r\n                    &quot;    &lt;/SOAP-ENV:Body&gt;\\n&quot; +\r\n                    &quot;&lt;/SOAP-ENV:Envelope&gt;\\n&quot;;\r\n            Transform docSource = new Transform(strSource, xsltfile);\r\n    \r\n        }\r\n    }\r\n\r\nfollowing is the Error i am getting.\r\n\r\n    ERROR:  &#39;Syntax error in &#39;. castable as xs:integer&#39;.&#39;\r\n    FATAL ERROR:  &#39;file:/D:/Demo/src/test/java/StringXml/_ignoreText.xsl: line 18: Required attribute &#39;test&#39; is missing.&#39;\r\n    Exception in thread &quot;main&quot; org.custommonkey.xmlunit.exceptions.ConfigurationException: file:/D:/RijvanPactPOC/2/DemoProjectPactConsumer/src/test/java/StringXml/_ignoreText.xsl: line 18: Required attribute &#39;test&#39; is missing.\r\n    \tat org.custommonkey.xmlunit.Transform.getTransformer(Transform.java:201)\r\n    \tat org.custommonkey.xmlunit.Transform.&lt;init&gt;(Transform.java:161)\r\n    \tat org.custommonkey.xmlunit.Transform.&lt;init&gt;(Transform.java:92)\r\n    \tat StringXml.TransformDemo1.main(TransformDemo1.java:31)\r\n    Caused by: javax.xml.transform.TransformerConfigurationException: file:/D:/Demo/src/test/java/StringXml/_ignoreText.xsl: line 18: Required attribute &#39;test&#39; is missing.\r\n    \tat java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1061)\r\n    \tat java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:817)\r\n    \tat org.custommonkey.xmlunit.Transform.getTransformer(Transform.java:196)\r\n    \t... 3 more\r\n    \r\n    Process finished with exit code 1\r\n\r\nplease suggest any solution or any other Library using that i can Transform the XML based the data type of the value the xml tag is containing\r\n\r\nEx. 1\r\n\r\n    &lt;status&gt;success&lt;/status&gt;\r\n\r\nshould be transformed to \r\n\r\n    &lt;status&gt;String&lt;/status&gt;\r\n\r\nEx. 2\r\n\r\n    &lt;status&gt;123&lt;/status&gt;\r\n\r\nshould be transformed to \r\n\r\n    &lt;status&gt;Integer&lt;/status&gt;\r\n\r\n\r\n","title":"getting &#39;ERROR: &#39;Syntax error in &#39;. castable as xs:integer&#39; while Trying to transform xml, based on Data type of value the tag is containing","body":"<p>here is my _ignoreText.xsl file</p>\n<pre><code>&lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;no&quot; /&gt;\n        &lt;xsl:template match=&quot;*|@*|text()|comment()|processing-instruction()&quot; &gt;\n    \n            &lt;xsl:if test=&quot;normalize-space(.) != '' or ./@* != ''&quot;&gt;\n                &lt;xsl:copy&gt;\n                    &lt;xsl:apply-templates select=&quot;*|@*|text()|comment()|processing-instruction()&quot;/&gt;\n                &lt;/xsl:copy&gt;\n            &lt;/xsl:if&gt;\n    \n            &lt;xsl:variable name=&quot;type&quot;&gt;\n                &lt;xsl:choose&gt;\n                    &lt;xsl:when test=&quot;. castable as xs:integer&quot;&gt;\n                        &lt;xsl:text&gt;Integer&lt;/xsl:text&gt;\n                    &lt;/xsl:when&gt;\n                    &lt;xsl:when test=&quot;. castable as xs:boolean&quot;&gt;\n                        &lt;xsl:text&gt;Boolean&lt;/xsl:text&gt;\n                    &lt;/xsl:when&gt;\n                    &lt;xsl:otherwise&gt;\n                        &lt;xsl:text&gt;String&lt;/xsl:text&gt;\n                    &lt;/xsl:otherwise&gt;\n                &lt;/xsl:choose&gt;\n            &lt;/xsl:variable&gt;\n    \n    \n        &lt;/xsl:template&gt;\n    \n    &lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>below is a java code in which i am using above _ignoreText.xsl file to transform xml</p>\n<pre><code>import org.custommonkey.xmlunit.Transform;\nimport java.io.File;\n\n\npublic class TransformDemo1 {\n    public static void main(String args[]) throws Exception {\n\n        String xsltfilename=&quot;D:\\\\Demo\\\\src\\\\test\\\\java\\\\StringXml\\\\_ignoreText.xsl&quot;;\n        File xsltfile=new File(xsltfilename);\n\n        String strSource = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;\\n&quot; +\n                &quot;&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/1999/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/1999/XMLSchema-instance\\&quot;&gt;\\n&quot; +\n                &quot;    &lt;SOAP-ENV:Body&gt;\\n&quot; +\n                &quot;        &lt;return&gt;\\n&quot; +\n                &quot;            &lt;ICD10Flag&gt;hello&lt;/ICD10Flag&gt;\\n&quot; +\n                &quot;            &lt;status&gt;success&lt;/status&gt;\\n&quot; +\n                &quot;        &lt;/return&gt;\\n&quot; +\n                &quot;    &lt;/SOAP-ENV:Body&gt;\\n&quot; +\n                &quot;&lt;/SOAP-ENV:Envelope&gt;\\n&quot;;\n        Transform docSource = new Transform(strSource, xsltfile);\n\n    }\n}\n</code></pre>\n<p>following is the Error i am getting.</p>\n<pre><code>ERROR:  'Syntax error in '. castable as xs:integer'.'\nFATAL ERROR:  'file:/D:/Demo/src/test/java/StringXml/_ignoreText.xsl: line 18: Required attribute 'test' is missing.'\nException in thread &quot;main&quot; org.custommonkey.xmlunit.exceptions.ConfigurationException: file:/D:/RijvanPactPOC/2/DemoProjectPactConsumer/src/test/java/StringXml/_ignoreText.xsl: line 18: Required attribute 'test' is missing.\n    at org.custommonkey.xmlunit.Transform.getTransformer(Transform.java:201)\n    at org.custommonkey.xmlunit.Transform.&lt;init&gt;(Transform.java:161)\n    at org.custommonkey.xmlunit.Transform.&lt;init&gt;(Transform.java:92)\n    at StringXml.TransformDemo1.main(TransformDemo1.java:31)\nCaused by: javax.xml.transform.TransformerConfigurationException: file:/D:/Demo/src/test/java/StringXml/_ignoreText.xsl: line 18: Required attribute 'test' is missing.\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1061)\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:817)\n    at org.custommonkey.xmlunit.Transform.getTransformer(Transform.java:196)\n    ... 3 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>please suggest any solution or any other Library using that i can Transform the XML based the data type of the value the xml tag is containing</p>\n<p>Ex. 1</p>\n<pre><code>&lt;status&gt;success&lt;/status&gt;\n</code></pre>\n<p>should be transformed to</p>\n<pre><code>&lt;status&gt;String&lt;/status&gt;\n</code></pre>\n<p>Ex. 2</p>\n<pre><code>&lt;status&gt;123&lt;/status&gt;\n</code></pre>\n<p>should be transformed to</p>\n<pre><code>&lt;status&gt;Integer&lt;/status&gt;\n</code></pre>\n"},{"tags":["java","filter","path-parameter"],"answers":[{"tags":[],"owner":{"account_id":1661788,"reputation":1025,"user_id":1529940,"accept_rate":100,"display_name":"bpawlowski"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1659353216,"creation_date":1659353216,"answer_id":73192938,"question_id":73192803,"body_markdown":"Actually, you can&#39;t do that easily using just servlet api. Frameworks are doing that for you, like spring web-mvc and dropwizard. You have to implement your servlet or servlets the way they can handle uris with specific structure and then extract desired path variables. That&#39;s pretty complex. I would suggest using some web framework for that or at least some library that will help you.\r\n\r\nGood luck.","title":"How can i get Url Path parameters in servlet-filter?","body":"<p>Actually, you can't do that easily using just servlet api. Frameworks are doing that for you, like spring web-mvc and dropwizard. You have to implement your servlet or servlets the way they can handle uris with specific structure and then extract desired path variables. That's pretty complex. I would suggest using some web framework for that or at least some library that will help you.</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73192938,"answer_count":1,"score":2,"last_activity_date":1659353216,"creation_date":1659352448,"question_id":73192803,"body_markdown":"```\r\nMap&lt;String, String&gt; pathVariables = (Map&lt;String, String&gt;) request\r\n                .getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\r\n```\r\nUsing above code, I was able to get the pathVariables but...  \r\nHow can i get these parameters in order, as this is unordered map so it will not provide me ordered keys according to the url?\r\nfor eg: i have &lt;a&gt;http://localhost:8080/url/123/234/xyz/123&lt;a&gt; which should map to &lt;a&gt;http://localhost:8080/url/{id}/{deptId}/{code}/{empId}&lt;a&gt;.\r\nNow how can i know that first 123 maps to id or empId ???\r\n\r\nI want this url path parameter in exact order so that i could map it for my usecase. Any help would be appreciated.\r\n","title":"How can i get Url Path parameters in servlet-filter?","body":"<pre><code>Map&lt;String, String&gt; pathVariables = (Map&lt;String, String&gt;) request\n                .getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\n</code></pre>\n<p>Using above code, I was able to get the pathVariables but...<br />\nHow can i get these parameters in order, as this is unordered map so it will not provide me ordered keys according to the url?\nfor eg: i have http://localhost:8080/url/123/234/xyz/123 which should map to http://localhost:8080/url/{id}/{deptId}/{code}/{empId}.\nNow how can i know that first 123 maps to id or empId ???</p>\n<p>I want this url path parameter in exact order so that i could map it for my usecase. Any help would be appreciated.</p>\n"},{"tags":["java","serialization","jackson","camel-jackson"],"answers":[{"tags":[],"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659352574,"creation_date":1659352192,"answer_id":73192752,"question_id":73191919,"body_markdown":"When you define `@JsonInclude` at attribute level, it overrides the value at class level. That the reason why in your code, for null `Room`, room attribute is coming in output json\r\n\r\n\r\nNow since we can define only one value, for our case either non_null or not_empty, we need to look for some other way.\r\n\r\nWith `JsonInclude.Include.CUSTOM`, we can define our own filter class and in that filter class we can define an `equals` method which our own logic to show in output json. \r\n\r\nFor ensuring non_null and not_empty, below is a simple code. You can update the logic as you like\r\n\r\n    class RoomFilter {\r\n     @Override\r\n     public boolean equals(Object obj) {\r\n        if(obj == null)\r\n            return  true;\r\n        else if(obj instanceof Room) {\r\n            if(((Room)obj).getName() == null)\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n        else\r\n            return false;\r\n      }\r\n    }\r\n\r\nIn your `School` class update as below and it should give you your desired result\r\n\r\n    @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = RoomFilter.class)\r\n    private Room room;","title":"Remove null and empty objects in nested classes during serialization with Jackson and Lombok","body":"<p>When you define <code>@JsonInclude</code> at attribute level, it overrides the value at class level. That the reason why in your code, for null <code>Room</code>, room attribute is coming in output json</p>\n<p>Now since we can define only one value, for our case either non_null or not_empty, we need to look for some other way.</p>\n<p>With <code>JsonInclude.Include.CUSTOM</code>, we can define our own filter class and in that filter class we can define an <code>equals</code> method which our own logic to show in output json.</p>\n<p>For ensuring non_null and not_empty, below is a simple code. You can update the logic as you like</p>\n<pre><code>class RoomFilter {\n @Override\n public boolean equals(Object obj) {\n    if(obj == null)\n        return  true;\n    else if(obj instanceof Room) {\n        if(((Room)obj).getName() == null)\n            return true;\n        else\n            return false;\n    }\n    else\n        return false;\n  }\n}\n</code></pre>\n<p>In your <code>School</code> class update as below and it should give you your desired result</p>\n<pre><code>@JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = RoomFilter.class)\nprivate Room room;\n</code></pre>\n"}],"owner":{"account_id":13497285,"reputation":127,"user_id":9737735,"display_name":"Joselo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659352574,"creation_date":1659347555,"question_id":73191919,"body_markdown":"I&#39;m trying to remove both null attributes and empty objects from a complex object during serialization using Camel-Jackson and Lombok. \r\n\r\nI checked [this answer][1] and it works, but they&#39;re accessing to the attributes directly without using getters or setters, so when I use Lombok&#39;s @Getter and @Setter it doesn&#39;t seem to work:\r\n\r\n\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n@Getter\r\n@Setter\r\npublic class School {\r\n    private String name;\r\n    @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = Room.class)\r\n    private Room room;\r\n}\r\n\r\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\nclass Room {\r\n    private String name;\r\n}\r\n```\r\n\r\nSo when I use this:\r\n\r\n```java\r\nSchool school = new School();\r\nschool.setRoom(new Room());\r\nString jsonPerson = mapper.writeValueAsString(school);\r\nSystem.out.println(&quot;Linearized json: &quot;+jsonPerson);\r\n```\r\n\r\nIt works \r\n\r\n`Linearized json: {}`\r\n\r\nHowever if I don&#39;t create a new Room object for the School instance \r\n\r\n```java\r\nSchool school = new School();\r\nString jsonPerson = mapper.writeValueAsString(school);\r\nSystem.out.println(&quot;Linearized json: &quot;+jsonPerson);\r\n```\r\n\r\nI&#39;m getting \r\n\r\n`{&quot;room&quot;:null}`\r\n\r\n\r\nSo what could be the problem here? I also tried with manual Getters and Setters instead of Lombok&#39;s and it doesn&#39;t work as I expect.\r\n\r\n\r\nI&#39;m using camel-jackson 3.3 and lombok 1.18.12.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53869126/jackson-ignore-empty-objects-without-custom-serializer","title":"Remove null and empty objects in nested classes during serialization with Jackson and Lombok","body":"<p>I'm trying to remove both null attributes and empty objects from a complex object during serialization using Camel-Jackson and Lombok.</p>\n<p>I checked <a href=\"https://stackoverflow.com/questions/53869126/jackson-ignore-empty-objects-without-custom-serializer\">this answer</a> and it works, but they're accessing to the attributes directly without using getters or setters, so when I use Lombok's @Getter and @Setter it doesn't seem to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@Getter\n@Setter\npublic class School {\n    private String name;\n    @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = Room.class)\n    private Room room;\n}\n\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@Getter\n@Setter\n@EqualsAndHashCode\nclass Room {\n    private String name;\n}\n</code></pre>\n<p>So when I use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>School school = new School();\nschool.setRoom(new Room());\nString jsonPerson = mapper.writeValueAsString(school);\nSystem.out.println(&quot;Linearized json: &quot;+jsonPerson);\n</code></pre>\n<p>It works</p>\n<p><code>Linearized json: {}</code></p>\n<p>However if I don't create a new Room object for the School instance</p>\n<pre class=\"lang-java prettyprint-override\"><code>School school = new School();\nString jsonPerson = mapper.writeValueAsString(school);\nSystem.out.println(&quot;Linearized json: &quot;+jsonPerson);\n</code></pre>\n<p>I'm getting</p>\n<p><code>{&quot;room&quot;:null}</code></p>\n<p>So what could be the problem here? I also tried with manual Getters and Setters instead of Lombok's and it doesn't work as I expect.</p>\n<p>I'm using camel-jackson 3.3 and lombok 1.18.12.</p>\n"},{"tags":["java","jackson","frameworks"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1659353473,"post_id":73192798,"comment_id":129267063,"body_markdown":"If you don&#39;t know the type at compile time, how will you write code which uses the data you read from the JSON? You need to explain in more detail what you are trying to do.","body":"If you don&#39;t know the type at compile time, how will you write code which uses the data you read from the JSON? You need to explain in more detail what you are trying to do."},{"owner":{"account_id":16315535,"reputation":23,"user_id":14828590,"display_name":"Bishal Ghosh"},"score":0,"creation_date":1659358554,"post_id":73192798,"comment_id":129268753,"body_markdown":"@tgdavies As I have said, I am a framework developer. So, How can I get the actual type from a Parameter and can pass it into the generics of the TypeReference?","body":"@tgdavies As I have said, I am a framework developer. So, How can I get the actual type from a Parameter and can pass it into the generics of the TypeReference?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1659391792,"post_id":73192798,"comment_id":129279386,"body_markdown":"You could require that the caller who is providing the JSON also provides a TypeReference, or something you can map to a TypeReference.","body":"You could require that the caller who is providing the JSON also provides a TypeReference, or something you can map to a TypeReference."},{"owner":{"account_id":16315535,"reputation":23,"user_id":14828590,"display_name":"Bishal Ghosh"},"score":0,"creation_date":1659417154,"post_id":73192798,"comment_id":129283285,"body_markdown":"Basically I have a method which has a parameter List&lt;List&lt;Dummy&gt;&gt; object. Now, I want this parameter type as List&lt;List&lt;Dummy&gt;&gt; to put it in the TypeReference&lt;List&lt;List&lt;Dummy&gt;&gt;&gt;and then I want to take the JSON and transform the JSON into the above type. How to do it in runtime?","body":"Basically I have a method which has a parameter List&lt;List&lt;Dummy&gt;&gt; object. Now, I want this parameter type as List&lt;List&lt;Dummy&gt;&gt; to put it in the TypeReference&lt;List&lt;List&lt;Dummy&gt;&gt;&gt;and then I want to take the JSON and transform the JSON into the above type. How to do it in runtime?"}],"owner":{"account_id":16315535,"reputation":23,"user_id":14828590,"display_name":"Bishal Ghosh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659352414,"creation_date":1659352414,"question_id":73192798,"body_markdown":"I have this java class as - \r\n```java\r\nimport lombok.Data;\r\n\r\nimport java.util.List;\r\n\r\n@Data\r\npublic class Dummy {\r\n    private int id;\r\n    private String name;\r\n}\r\n```\r\nI have this JSON as - \r\n```\r\n[\r\n    [\r\n        {\r\n            &quot;id&quot; : 1,\r\n            &quot;name&quot;: &quot;John&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : 2,\r\n            &quot;name&quot;: &quot;Maxwell&quot;\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            &quot;id&quot; : 3,\r\n            &quot;name&quot;: &quot;Bryan&quot;\r\n        }\r\n    ]\r\n]\r\n\r\n```\r\n\r\nI am currently developing a framework and I would not be knowing what would be the type of the collection that JSON fits in.\r\nI am currently using Jackson library to parse the JSON to Java object.\r\nThe main thing is I don&#39;t know the type at compile time. \r\nI would like to fit the json into **List&lt;List&lt;Dummy\\&gt;&gt;** but I don&#39;t know the type before hand. Is there any way to pass the generic in runtime?\r\n\r\n 1. `Object object  = new ObjectMapper().readValue(json, Collection.class);`\r\n 2. `List&lt;List&lt;Dummy&gt;&gt; l = new ObjectMapper().readValue(json, new TypeReference&lt;List&lt;List&lt;Dummy&gt;&gt;&gt;(){});`\r\n\r\nIn the first approach I am passing the **Collection.class** but it converts the json to List&lt;LinkedHashmap&lt;String, String&gt;&gt; which I don&#39;t want.\r\n\r\nBut, In the second approach I get the actual conversion but the problem is I don&#39;t know the type at compile time.\r\n\r\nCan I anyhow inject the generic dynamically or any other approach I would tackle this?\r\n\r\nAny suggestion/help would be very helpful for me :) ","title":"Can I pass a generic Type dynamically in Java?","body":"<p>I have this java class as -</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\nimport java.util.List;\n\n@Data\npublic class Dummy {\n    private int id;\n    private String name;\n}\n</code></pre>\n<p>I have this JSON as -</p>\n<pre><code>[\n    [\n        {\n            &quot;id&quot; : 1,\n            &quot;name&quot;: &quot;John&quot;\n        }, \n        {\n            &quot;id&quot; : 2,\n            &quot;name&quot;: &quot;Maxwell&quot;\n        }\n    ],\n    [\n        {\n            &quot;id&quot; : 3,\n            &quot;name&quot;: &quot;Bryan&quot;\n        }\n    ]\n]\n\n</code></pre>\n<p>I am currently developing a framework and I would not be knowing what would be the type of the collection that JSON fits in.\nI am currently using Jackson library to parse the JSON to Java object.\nThe main thing is I don't know the type at compile time.\nI would like to fit the json into <strong>List&lt;List&lt;Dummy&gt;&gt;</strong> but I don't know the type before hand. Is there any way to pass the generic in runtime?</p>\n<ol>\n<li><code>Object object  = new ObjectMapper().readValue(json, Collection.class);</code></li>\n<li><code>List&lt;List&lt;Dummy&gt;&gt; l = new ObjectMapper().readValue(json, new TypeReference&lt;List&lt;List&lt;Dummy&gt;&gt;&gt;(){});</code></li>\n</ol>\n<p>In the first approach I am passing the <strong>Collection.class</strong> but it converts the json to List&lt;LinkedHashmap&lt;String, String&gt;&gt; which I don't want.</p>\n<p>But, In the second approach I get the actual conversion but the problem is I don't know the type at compile time.</p>\n<p>Can I anyhow inject the generic dynamically or any other approach I would tackle this?</p>\n<p>Any suggestion/help would be very helpful for me :)</p>\n"},{"tags":["java","hibernate","spring-data-jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":25780380,"reputation":259,"user_id":19526090,"display_name":"Sandip Gadade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659260653,"creation_date":1659260653,"answer_id":73182196,"question_id":73171711,"body_markdown":"You have to get one more reference parameter in **Country Entity** of **Address Entity**\r\n\r\n*like this*\r\n\r\n    private Address address;\r\n    //getter and setter\r\n\r\n","title":"Hibernate Second Level Cache - Previously Cached Entities Still being Fetched from DB","body":"<p>You have to get one more reference parameter in <strong>Country Entity</strong> of <strong>Address Entity</strong></p>\n<p><em>like this</em></p>\n<pre><code>private Address address;\n//getter and setter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659351482,"creation_date":1659351482,"answer_id":73192711,"question_id":73171711,"body_markdown":"&gt;When I fetch the Address entity which has a @ManyToOne link back to a Country (the one in the level 2 cache) - the level 2 cache is not hit to fetch the previously cached Country, why is this?\r\n\r\nThis depends on a few things.\r\n\r\n1. How are you querying/fetching the `Address`? If you don&#39;t use `EntityManager#find`, you will have to configure the query cache hint: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching-query (for Spring Data, you need to annotate the method with `@QueryHint`\r\n2. Did you configure caching properly?\r\n3. If you use query caching, did you also configure query caching properly?","title":"Hibernate Second Level Cache - Previously Cached Entities Still being Fetched from DB","body":"<blockquote>\n<p>When I fetch the Address entity which has a @ManyToOne link back to a Country (the one in the level 2 cache) - the level 2 cache is not hit to fetch the previously cached Country, why is this?</p>\n</blockquote>\n<p>This depends on a few things.</p>\n<ol>\n<li>How are you querying/fetching the <code>Address</code>? If you don't use <code>EntityManager#find</code>, you will have to configure the query cache hint: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching-query\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching-query</a> (for Spring Data, you need to annotate the method with <code>@QueryHint</code></li>\n<li>Did you configure caching properly?</li>\n<li>If you use query caching, did you also configure query caching properly?</li>\n</ol>\n"}],"owner":{"account_id":2783611,"reputation":65,"user_id":2395608,"accept_rate":25,"display_name":"ScoobyShnacks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659351482,"creation_date":1659135538,"question_id":73171711,"body_markdown":"My application is using Hibernate and Hazelcast for the level 2 cache. My setup has two Entities: Country and Address, whereby an Address has a field of type Country. \r\n\r\nCountry is annotated with @Cache and I can see it is present in the level 2 cache after it has been initially fetched from the DB using findById().\r\n\r\nWhen I fetch the Address entity which has a @ManyToOne link back to a Country (the one in the level 2 cache) - the level 2 cache is not hit to fetch the previously cached Country, why is this?\r\n\r\n**Country Entity** \r\n\r\n```\r\n@Entity(name = &quot;country&quot;)\r\n@Cacheable\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Country implements Serializable {\r\n\r\n    private int countryId;\r\n    private String name;\r\n\r\n    @Id\r\n    @Column(name = &quot;country_id&quot;)\r\n    public int getCountryId() {\r\n        return countryId;\r\n    }\r\n\r\n    public void setCountryId(int countryId) {\r\n        this.countryId = countryId;\r\n    }\r\n\r\n    @Basic\r\n    @Column(name = &quot;name&quot;)\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Address Entity**\r\n\r\n```\r\n@Entity(name = &quot;address&quot;)\r\npublic class Address {\r\n\r\n    private int addressId;\r\n    private Country country;\r\n    \r\n    @Id\r\n    @Column(name = &quot;address_id&quot;)\r\n    public int getAddressId() {\r\n        return addressId;\r\n    }\r\n\r\n    public void setAddressId(int addressId) {\r\n        this.addressId = addressId;\r\n    }\r\n    \r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;country_id&quot;)\r\n    public Country getCountry() {\r\n        return country;\r\n    }\r\n\r\n    public void setCountry(Country country) {\r\n        this.country = country;\r\n    }\r\n    \r\n}\r\n```","title":"Hibernate Second Level Cache - Previously Cached Entities Still being Fetched from DB","body":"<p>My application is using Hibernate and Hazelcast for the level 2 cache. My setup has two Entities: Country and Address, whereby an Address has a field of type Country.</p>\n<p>Country is annotated with @Cache and I can see it is present in the level 2 cache after it has been initially fetched from the DB using findById().</p>\n<p>When I fetch the Address entity which has a @ManyToOne link back to a Country (the one in the level 2 cache) - the level 2 cache is not hit to fetch the previously cached Country, why is this?</p>\n<p><strong>Country Entity</strong></p>\n<pre><code>@Entity(name = &quot;country&quot;)\n@Cacheable\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Country implements Serializable {\n\n    private int countryId;\n    private String name;\n\n    @Id\n    @Column(name = &quot;country_id&quot;)\n    public int getCountryId() {\n        return countryId;\n    }\n\n    public void setCountryId(int countryId) {\n        this.countryId = countryId;\n    }\n\n    @Basic\n    @Column(name = &quot;name&quot;)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p><strong>Address Entity</strong></p>\n<pre><code>@Entity(name = &quot;address&quot;)\npublic class Address {\n\n    private int addressId;\n    private Country country;\n    \n    @Id\n    @Column(name = &quot;address_id&quot;)\n    public int getAddressId() {\n        return addressId;\n    }\n\n    public void setAddressId(int addressId) {\n        this.addressId = addressId;\n    }\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;country_id&quot;)\n    public Country getCountry() {\n        return country;\n    }\n\n    public void setCountry(Country country) {\n        this.country = country;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","communication","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":6751539,"reputation":7553,"user_id":5201431,"display_name":"Sean Wei"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1512301229,"creation_date":1512301229,"answer_id":47617961,"question_id":47617889,"body_markdown":"According to [Bots FAQ](https://core.telegram.org/bots/faq#why-doesn-39t-my-bot-see-messages-from-other-bots)\n\n&gt; Bots talking to each other could potentially get stuck in unwelcome loops.  \n&gt;To avoid this, we decided that bots will not be able to see messages from other bots regardless of mode.","title":"Telegram Bot send Message to bot","body":"<p>According to <a href=\"https://core.telegram.org/bots/faq#why-doesn-39t-my-bot-see-messages-from-other-bots\" rel=\"noreferrer\">Bots FAQ</a></p>\n\n<blockquote>\n  <p>Bots talking to each other could potentially get stuck in unwelcome loops.<br>\n  To avoid this, we decided that bots will not be able to see messages from other bots regardless of mode.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":474199,"reputation":2474,"user_id":883734,"accept_rate":71,"display_name":""},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1612249661,"creation_date":1612249661,"answer_id":66005051,"question_id":47617889,"body_markdown":"You can connect 2 (or more) bots with a private channel!\r\n\r\nJust prompt the bots as admin in the channel.\r\n\r\nThen when a bot send a post to the channel, other admin bots can see the message/file/...","title":"Telegram Bot send Message to bot","body":"<p>You can connect 2 (or more) bots with a private channel!</p>\n<p>Just prompt the bots as admin in the channel.</p>\n<p>Then when a bot send a post to the channel, other admin bots can see the message/file/...</p>\n"},{"tags":[],"owner":{"account_id":21215538,"reputation":151,"user_id":15603225,"display_name":"Muhammadyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659351118,"creation_date":1659351118,"answer_id":73192632,"question_id":47617889,"body_markdown":"Bot wouldn&#39;t be able to send message to other bots. in most platform APIs it return an error. kindly go through the documentation for the client(bot) and see its functionalities\r\n","title":"Telegram Bot send Message to bot","body":"<p>Bot wouldn't be able to send message to other bots. in most platform APIs it return an error. kindly go through the documentation for the client(bot) and see its functionalities</p>\n"}],"owner":{"account_id":7019340,"reputation":121,"user_id":5379434,"display_name":"RG01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16723,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1659351118,"creation_date":1512300588,"question_id":47617889,"body_markdown":"I have programmed a telegram bot. This works fine when sending to groups or to users. However I do a special requirement. I need to be able to send to another bot. When adding both bots to a group as administrators. I still cannot receive the message with my second bot. I only see it with my real user account, that is added to this group. \r\nWhat am I missing?\r\nI used OKHttp to send the message \r\n\r\n                Request request = new Request.Builder()\r\n                    .url(&quot;https://api.telegram.org/bot&quot;+telSetup.getToken()+&quot;/sendMessage?chat_id=&quot;+lAdr+&quot;&amp;parse_mode=HTML&amp;text=&quot;+strMessage)\r\n                    .build();\r\n                client.newCall(request).enqueue(new MyIPProcessing(request.toString()));\r\n\r\nand \r\n\r\n            if (response.message().equals(&quot;OK&quot;)){\r\n                List &lt;String&gt; lStr=response.request().url().encodedPathSegments(); \r\n...\r\n\r\nto receive messages ... which basically works for communication with &quot;real users&quot;. \r\n\r\nAny ideas welcome ....\r\n\r\n\r\n\r\n","title":"Telegram Bot send Message to bot","body":"<p>I have programmed a telegram bot. This works fine when sending to groups or to users. However I do a special requirement. I need to be able to send to another bot. When adding both bots to a group as administrators. I still cannot receive the message with my second bot. I only see it with my real user account, that is added to this group. \nWhat am I missing?\nI used OKHttp to send the message </p>\n\n<pre><code>            Request request = new Request.Builder()\n                .url(\"https://api.telegram.org/bot\"+telSetup.getToken()+\"/sendMessage?chat_id=\"+lAdr+\"&amp;parse_mode=HTML&amp;text=\"+strMessage)\n                .build();\n            client.newCall(request).enqueue(new MyIPProcessing(request.toString()));\n</code></pre>\n\n<p>and </p>\n\n<pre><code>        if (response.message().equals(\"OK\")){\n            List &lt;String&gt; lStr=response.request().url().encodedPathSegments(); \n</code></pre>\n\n<p>...</p>\n\n<p>to receive messages ... which basically works for communication with \"real users\". </p>\n\n<p>Any ideas welcome ....</p>\n"},{"tags":["java","gradle","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659349996,"creation_date":1659349996,"answer_id":73192436,"question_id":73014764,"body_markdown":"I have found a solution to the problem. \r\n\r\nIn new versions of gradle, this appeared as a built-in solution, and now spring dependency management plugin is not needed. In order to add a maven bom, it is enough just to write, and it will be correctly entered into the `module` file\r\n\r\n```groovy\r\ndependencies {\r\n    implementation(platform(&#39;org.springframework.boot:spring-boot-dependencies:2.7.0&#39;))\r\n    implementation(platform(&#39;org.springframework.cloud:spring-cloud-dependencies:2021.0.2&#39;))\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n}\r\n```","title":"Gradle spring dependency management plugin and publishing the library","body":"<p>I have found a solution to the problem.</p>\n<p>In new versions of gradle, this appeared as a built-in solution, and now spring dependency management plugin is not needed. In order to add a maven bom, it is enough just to write, and it will be correctly entered into the <code>module</code> file</p>\n<pre><code>dependencies {\n    implementation(platform('org.springframework.boot:spring-boot-dependencies:2.7.0'))\n    implementation(platform('org.springframework.cloud:spring-cloud-dependencies:2021.0.2'))\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n}\n</code></pre>\n"}],"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659349996,"creation_date":1658086266,"question_id":73014764,"body_markdown":"Im have my library, for help me with spring stuff, `build.gradle` looks like\r\n```groovy\r\nplugins {\r\n    id &#39;java-library&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &#39;org.springframework.boot:spring-boot-dependencies:2.7.0&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n}\r\n\r\npublishing {\r\n    // Default maven publish settings\r\n}\r\n```\r\nWhen publishing, Gradle generates `.module` files, and then if the library is used by gradle, it prioritizes `.module` files over `.pom` files\r\n\r\nThe problem is that no dependencyManagement information is written to the `.module` file, and so when I try to use the library in another project, I get\r\n\r\n```\r\nCould not determine the dependencies of task &#39;:shadowJar&#39;.\r\n&gt; Could not resolve all dependencies for configuration &#39;:runtimeClasspath&#39;.\r\n   &gt; Could not find org.springframework.boot:spring-boot-starter-data-mongodb:.\r\n     Required by:\r\n         project : &gt; project :database &gt; ru.spliterash:spcore-spring-database-mongo:1.0.0-SNAPSHOT:20220714.235637-1\r\n```\r\nI can solve this problem by disabling the generation of `.module` files, and gradle will have to use a pom file in which the version is written, but maybe if there is some more correct solution, because it seems to me that this is not entirely correct","title":"Gradle spring dependency management plugin and publishing the library","body":"<p>Im have my library, for help me with spring stuff, <code>build.gradle</code> looks like</p>\n<pre><code>plugins {\n    id 'java-library'\n    id 'maven-publish'\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'org.springframework.boot:spring-boot-dependencies:2.7.0'\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n}\n\npublishing {\n    // Default maven publish settings\n}\n</code></pre>\n<p>When publishing, Gradle generates <code>.module</code> files, and then if the library is used by gradle, it prioritizes <code>.module</code> files over <code>.pom</code> files</p>\n<p>The problem is that no dependencyManagement information is written to the <code>.module</code> file, and so when I try to use the library in another project, I get</p>\n<pre><code>Could not determine the dependencies of task ':shadowJar'.\n&gt; Could not resolve all dependencies for configuration ':runtimeClasspath'.\n   &gt; Could not find org.springframework.boot:spring-boot-starter-data-mongodb:.\n     Required by:\n         project : &gt; project :database &gt; ru.spliterash:spcore-spring-database-mongo:1.0.0-SNAPSHOT:20220714.235637-1\n</code></pre>\n<p>I can solve this problem by disabling the generation of <code>.module</code> files, and gradle will have to use a pom file in which the version is written, but maybe if there is some more correct solution, because it seems to me that this is not entirely correct</p>\n"},{"tags":["java","rest","postman","unirest"],"answers":[{"tags":[],"owner":{"account_id":11977011,"reputation":4967,"user_id":8763847,"display_name":"sayboras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535981303,"creation_date":1535980684,"answer_id":52150581,"question_id":52144721,"body_markdown":"Basically, you should use `buildBodyMessage` insteadly. Internally, all headers such as `Content-Type`, `Authorization` could be removed as well. Kindly note that the `Content-Type` is set internally while calling `client.accessToken` (e.g. `headers.put(OAuth.HeaderType.CONTENT_TYPE, OAuth.ContentType.URL_ENCODED);`), hence manually setting `Content-Type` will override its value, which causes request to fail.\r\n\r\n        try {\r\n            OAuthClient client = new OAuthClient(new URLConnectionClient());\r\n\r\n            OAuthClientRequest request = OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL)\r\n                    .setGrantType(GrantType.CLIENT_CREDENTIALS)\r\n                    .setClientId(CLIENT_ID)\r\n                    .setClientSecret(CLIENT_SECRET)\r\n                    .setScope(SCOPE)\r\n                    .buildBodyMessage();\r\n\r\n            System.out.println(request.getBody());\r\n\r\n            String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\r\n            System.out.println(token);\r\n        } catch (Exception exn) {\r\n            exn.printStackTrace();\r\n        }","title":"How to get Access Token using client_credentials using java code?","body":"<p>Basically, you should use <code>buildBodyMessage</code> insteadly. Internally, all headers such as <code>Content-Type</code>, <code>Authorization</code> could be removed as well. Kindly note that the <code>Content-Type</code> is set internally while calling <code>client.accessToken</code> (e.g. <code>headers.put(OAuth.HeaderType.CONTENT_TYPE, OAuth.ContentType.URL_ENCODED);</code>), hence manually setting <code>Content-Type</code> will override its value, which causes request to fail.</p>\n\n<pre><code>    try {\n        OAuthClient client = new OAuthClient(new URLConnectionClient());\n\n        OAuthClientRequest request = OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL)\n                .setGrantType(GrantType.CLIENT_CREDENTIALS)\n                .setClientId(CLIENT_ID)\n                .setClientSecret(CLIENT_SECRET)\n                .setScope(SCOPE)\n                .buildBodyMessage();\n\n        System.out.println(request.getBody());\n\n        String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\n        System.out.println(token);\n    } catch (Exception exn) {\n        exn.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16678930,"reputation":1,"user_id":12054602,"display_name":"Swami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568224497,"creation_date":1568224497,"answer_id":57894437,"question_id":52144721,"body_markdown":"Set the grant type in the request body by using below-mentioned line of code. It will work for sure\r\n\r\n    String grant_type = &quot;client_credentials&quot;;    \r\n    String scope = &quot;generate-ads-output&quot;;    \r\n\r\n    httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);    \r\n    StringEntity input = null;    \r\n\ttry {    \r\n    input = new StringEntity(&quot;grant_type=&quot; + grant_type);     \r\n\r\n\t\thttpPost.setEntity(input);    \r\n\t } \r\n     catch (UnsupportedEncodingException e) {    \r\n\t\t\te.printStackTrace();    \r\n\t   }","title":"How to get Access Token using client_credentials using java code?","body":"<p>Set the grant type in the request body by using below-mentioned line of code. It will work for sure</p>\n\n<pre><code>String grant_type = \"client_credentials\";    \nString scope = \"generate-ads-output\";    \n\nhttpPost.addHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");    \nStringEntity input = null;    \ntry {    \ninput = new StringEntity(\"grant_type=\" + grant_type);     \n\n    httpPost.setEntity(input);    \n } \n catch (UnsupportedEncodingException e) {    \n        e.printStackTrace();    \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11450238,"reputation":13,"user_id":8392822,"display_name":"ruhollah shafiee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578061317,"creation_date":1578061317,"answer_id":59580184,"question_id":52144721,"body_markdown":"**I write a code that works for me. this is :** \r\n\r\n    package fwutech.test;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.io.Reader;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Map;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    import java.lang.reflect.Type;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException, NoSuchAlgorithmException, KeyManagementException {\r\n    \t\t\r\n    \t\t// Create a trust manager that does not validate certificate chains\r\n    \t\tTrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\r\n    \t\t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t}\r\n    \t\t\t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\t// Install the all-trusting trust manager\r\n    \t\tSSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n    \t\tsc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    \t\tHttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n    \r\n    \t\t// Create all-trusting host name verifier\r\n    \t\tHostnameVerifier allHostsValid = new HostnameVerifier() {\r\n    \t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\t// Install the all-trusting host verifier\r\n    \t\tHttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n    \t\tStringBuilder data = new StringBuilder();\r\n            data.append(&quot;grant_type=client_credentials&quot;);\r\n            byte[] byteArray = data.toString().getBytes(&quot;UTF-8&quot;);\r\n    \t\tURL url = new URL(&quot;https://192.168.15.82:8243/token&quot;);\r\n    \t\tHttpsURLConnection con = (HttpsURLConnection)url.openConnection();\r\n    \t\tcon.setRequestMethod(&quot;POST&quot;);\r\n    \t\tcon.setConnectTimeout(5000);\r\n    \t\tcon\t.setDoOutput(true);\r\n    \t\tcon.setRequestProperty(&quot;Authorization&quot;,\r\n    \t\t        &quot;Basic WFFWWFh5dElKeHBvcGxBd3JieGFNTEZzUDQ4YTppWWZpakJTbEJJUkpGQ2Z2NndpR2VzNWdpYU1h&quot;);\r\n    \t\tOutputStream postStream = con.getOutputStream();\r\n            postStream.write(byteArray, 0, byteArray.length);\r\n            postStream.close();\r\n    //\t\tcurl -k -d &quot;grant_type=client_credentials&quot; -H &quot;Authorization: Basic WFFWWFh5dElKeHBvcGxBd3JieGFNTEZzUDQ4YTppWWZpakJTbEJJUkpGQ2Z2NndpR2VzNWdpYU1h&quot; https://192.168.15.82:8243/token\r\n            InputStreamReader reader = new InputStreamReader(con.getInputStream());\r\n            BufferedReader in = new BufferedReader(reader);\r\n            String json = in.readLine();\r\n            System.out.println(&quot;Json String = &quot; + json);\r\n    \r\n            // Parse the Json response and retrieve the Access Token\r\n            Gson gson = new Gson();\r\n            Type mapType  = new TypeToken&lt;Map&lt;String,String&gt;&gt;(){}.getType();\r\n            Map&lt;String,String&gt; ser = gson.fromJson(json, mapType);\r\n            String accessToken = ser.get(&quot;access_token&quot;);\r\n            System.out.println(&quot;Access Token = &quot; + accessToken);\r\n            in.close();\r\n            con.disconnect();\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"How to get Access Token using client_credentials using java code?","body":"<p><strong>I write a code that works for me. this is :</strong> </p>\n\n<pre><code>package fwutech.test;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.Reader;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.X509Certificate;\nimport java.util.Map;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport java.lang.reflect.Type;\n\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException, NoSuchAlgorithmException, KeyManagementException {\n\n        // Create a trust manager that does not validate certificate chains\n        TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                }\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                }\n            }\n        };\n\n        // Install the all-trusting trust manager\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n        // Create all-trusting host name verifier\n        HostnameVerifier allHostsValid = new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        };\n\n        // Install the all-trusting host verifier\n        HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n        StringBuilder data = new StringBuilder();\n        data.append(\"grant_type=client_credentials\");\n        byte[] byteArray = data.toString().getBytes(\"UTF-8\");\n        URL url = new URL(\"https://192.168.15.82:8243/token\");\n        HttpsURLConnection con = (HttpsURLConnection)url.openConnection();\n        con.setRequestMethod(\"POST\");\n        con.setConnectTimeout(5000);\n        con .setDoOutput(true);\n        con.setRequestProperty(\"Authorization\",\n                \"Basic WFFWWFh5dElKeHBvcGxBd3JieGFNTEZzUDQ4YTppWWZpakJTbEJJUkpGQ2Z2NndpR2VzNWdpYU1h\");\n        OutputStream postStream = con.getOutputStream();\n        postStream.write(byteArray, 0, byteArray.length);\n        postStream.close();\n//      curl -k -d \"grant_type=client_credentials\" -H \"Authorization: Basic WFFWWFh5dElKeHBvcGxBd3JieGFNTEZzUDQ4YTppWWZpakJTbEJJUkpGQ2Z2NndpR2VzNWdpYU1h\" https://192.168.15.82:8243/token\n        InputStreamReader reader = new InputStreamReader(con.getInputStream());\n        BufferedReader in = new BufferedReader(reader);\n        String json = in.readLine();\n        System.out.println(\"Json String = \" + json);\n\n        // Parse the Json response and retrieve the Access Token\n        Gson gson = new Gson();\n        Type mapType  = new TypeToken&lt;Map&lt;String,String&gt;&gt;(){}.getType();\n        Map&lt;String,String&gt; ser = gson.fromJson(json, mapType);\n        String accessToken = ser.get(\"access_token\");\n        System.out.println(\"Access Token = \" + accessToken);\n        in.close();\n        con.disconnect();\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13059720,"reputation":458,"user_id":9437342,"display_name":"deloyar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1592918278,"creation_date":1592914268,"answer_id":62534394,"question_id":52144721,"body_markdown":"The best way to get access token using JAVA 11 `java.net.http`.\r\n\r\nHere is the sample code:\r\n\r\n    //Cliend id and client secret\r\n\tvar keys = &quot;clientid goes here:Client secret goes here&quot;;\r\n    var URL = &quot;http://localhost:8080/api/token&quot;\r\n\r\n\tHashMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n\tparameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\n\tString form = parameters.keySet().stream()\r\n\t\t\t.map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\r\n\t\t\t.collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n\tString encoding = Base64.getEncoder().encodeToString(keys.getBytes());\r\n\tHttpClient client = HttpClient.newHttpClient();\r\n\r\n\tHttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\r\n\t\t\t.headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;, &quot;Authorization&quot;, &quot;Basic &quot;+encoding)\r\n\t\t\t.POST(BodyPublishers.ofString(form)).build();\r\n\tHttpResponse&lt;?&gt; response = client.send(request, BodyHandlers.ofString());\r\n\tSystem.out.println(response.statusCode() + response.body().toString());","title":"How to get Access Token using client_credentials using java code?","body":"<p>The best way to get access token using JAVA 11 <code>java.net.http</code>.</p>\n<p>Here is the sample code:</p>\n<pre><code>//Cliend id and client secret\nvar keys = &quot;clientid goes here:Client secret goes here&quot;;\nvar URL = &quot;http://localhost:8080/api/token&quot;\n\nHashMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\nparameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\nString form = parameters.keySet().stream()\n        .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\n        .collect(Collectors.joining(&quot;&amp;&quot;));\n\nString encoding = Base64.getEncoder().encodeToString(keys.getBytes());\nHttpClient client = HttpClient.newHttpClient();\n\nHttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\n        .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;, &quot;Authorization&quot;, &quot;Basic &quot;+encoding)\n        .POST(BodyPublishers.ofString(form)).build();\nHttpResponse&lt;?&gt; response = client.send(request, BodyHandlers.ofString());\nSystem.out.println(response.statusCode() + response.body().toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10336573,"reputation":31,"user_id":7624491,"display_name":"mayur patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659349923,"creation_date":1659349923,"answer_id":73192418,"question_id":52144721,"body_markdown":"**Add below dependency to pom.xml** \r\n\r\n   \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.oltu.oauth2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.apache.oltu.oauth2.client&lt;/artifactId&gt;\r\n        &lt;version&gt;0.31&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nadd below java code to our class in try catch block\r\n\r\n    OAuthClient client = new OAuthClient(new URLConnectionClient());\r\n    OAuthClientRequest request =\r\n                        OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL)\r\n                        .setGrantType(GrantType.CLIENT_CREDENTIALS)\r\n                        .setClientId(CLIENT_ID)\r\n                        .setClientSecret(CLIENT_SECRET)\r\n                        .setScope(SCOPE)\r\n                        .buildBodyMessage();\r\n                \r\n    \r\n            String token = client.accessToken(request, \r\n                           OAuth.HttpMethod.POST, \r\n                           OAuthJSONAccessTokenResponse.class).getAccessToken();\r\n                System.out.println(token);\r\n\r\n\r\n\r\n   \r\n","title":"How to get Access Token using client_credentials using java code?","body":"<p><strong>Add below dependency to pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.oltu.oauth2&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.oltu.oauth2.client&lt;/artifactId&gt;\n    &lt;version&gt;0.31&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>add below java code to our class in try catch block</p>\n<pre><code>OAuthClient client = new OAuthClient(new URLConnectionClient());\nOAuthClientRequest request =\n                    OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL)\n                    .setGrantType(GrantType.CLIENT_CREDENTIALS)\n                    .setClientId(CLIENT_ID)\n                    .setClientSecret(CLIENT_SECRET)\n                    .setScope(SCOPE)\n                    .buildBodyMessage();\n            \n\n        String token = client.accessToken(request, \n                       OAuth.HttpMethod.POST, \n                       OAuthJSONAccessTokenResponse.class).getAccessToken();\n            System.out.println(token);\n</code></pre>\n"}],"owner":{"account_id":8509502,"reputation":440,"user_id":9148820,"accept_rate":85,"display_name":"avidCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47892,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1659349923,"creation_date":1535958520,"question_id":52144721,"body_markdown":"I have some API which requires access token to get the response. In `postman` we use `OAuth 2.0` to get the access token by providing client username and password. In a similar way, I want to fetch the new access token.\r\n\r\n**Here is the sample code which I have tried so far.**\r\n\r\n    import java.io.*;\r\n    import java.net.URL;\r\n    import java.net.URLEncoder;\r\n    import java.util.Map;\r\n    import java.lang.reflect.Type;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n     \r\n    // Google Gson Libraries used for Json Parsing\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    \r\n    public class AuthGoogle {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws IOException \r\n    \t */\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t String grantType = &quot;client_credentials&quot;;\r\n    \t        String applicationID = &quot;application&quot;;\r\n    \t        String username = &quot;username&quot;;\r\n    \t        String password = &quot;password&quot;;\r\n    \t        String url = &quot;url_link&quot;;\r\n    \t        HttpsURLConnection httpConn = null;\r\n    \t        BufferedReader in = null;\r\n    \t \r\n    \t        try {\r\n    \t \r\n    \t            // Create the data to send\r\n    \t            StringBuilder data = new StringBuilder();\r\n    \t            data.append(&quot;grant_type=&quot; + URLEncoder.encode(grantType, &quot;UTF-8&quot;));\r\n    \t            data.append(&quot;&amp;amp;client_id=&quot; + URLEncoder.encode(applicationID, &quot;UTF-8&quot;));\r\n    \t            data.append(&quot;&amp;amp;username=&quot; + URLEncoder.encode(username, &quot;UTF-8&quot;));\r\n    \t            data.append(&quot;&amp;amp;password=&quot; + URLEncoder.encode(password, &quot;UTF-8&quot;));\r\n    \t \r\n    \t            // Create a byte array of the data to be sent\r\n    \t            byte[] byteArray = data.toString().getBytes(&quot;UTF-8&quot;);\r\n    \t            \r\n    \t            // Setup the Request\r\n    \t            URL request = new URL(null, url,  new sun.net.www.protocol.https.Handler());\r\n    \t            httpConn = (HttpsURLConnection)request.openConnection();\r\n    \t            httpConn.setRequestMethod(&quot;POST&quot;);\r\n    \t            httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \t            httpConn.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + byteArray.length);\r\n    \t            httpConn.setDoOutput(true);\r\n    \t \r\n    \t            // Write data\r\n    \t            OutputStream postStream = httpConn.getOutputStream();\r\n    \t            postStream.write(byteArray, 0, byteArray.length);\r\n    \t            postStream.close();\r\n    \t \r\n    \t            // Send Request &amp;amp; Get Response\r\n    \t            InputStreamReader reader = new InputStreamReader(httpConn.getInputStream());\r\n    \t            in = new BufferedReader(reader);\r\n    \t \r\n    \t            // Get the Json reponse containing the Access Token\r\n    \t            String json = in.readLine();\r\n    \t            System.out.println(&quot;Json String = &quot; + json);\r\n    \t \r\n    \t            // Parse the Json response and retrieve the Access Token\r\n    \t            Gson gson = new Gson();\r\n    \t            Type mapType  = new TypeToken&lt;Map&lt;String,String&gt;&gt;(){}.getType();\r\n    \t            Map&lt;String,String&gt; ser = gson.fromJson(json, mapType);\r\n    \t            String accessToken = ser.get(&quot;access_token&quot;);\r\n    \t            System.out.println(&quot;Access Token = &quot; + accessToken);\r\n    \t \r\n    \t        } catch (java.io.IOException e) {\r\n    \t \r\n    \t            // This exception will be raised if the server didn&#39;t return 200 - OK\r\n    \t            // Retrieve more information about the error\r\n    \t            System.out.println(e.getMessage());\r\n    \t \r\n    \t        } finally {\r\n    \t \r\n    \t            // Be sure to close out any resources or connections\r\n    \t            if (in != null) in.close();\r\n    \t            if (httpConn != null) httpConn.disconnect();\r\n    \t        }\r\n    \t    }\r\n    \r\n    }\r\n\r\nI am getting output as `Connection refused: connect.`\r\n\r\n**Another code I have tried is:-**\r\n\r\n    import org.apache.oltu.oauth2.client.OAuthClient;\r\n    import org.apache.oltu.oauth2.client.URLConnectionClient;\r\n    import org.apache.oltu.oauth2.client.request.OAuthClientRequest;\r\n    import org.apache.oltu.oauth2.client.response.OAuthJSONAccessTokenResponse;\r\n    import org.apache.oltu.oauth2.common.OAuth;\r\n    import org.apache.oltu.oauth2.common.message.types.GrantType;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    public class OltuJavaClient {\r\n       \r\n        public static final String TOKEN_REQUEST_URL = &quot;url_link&quot;;\r\n        public static final String CLIENT_ID = &quot;client_id&quot;;\r\n        public static final String CLIENT_SECRET = &quot;client_pass&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                OAuthClient client = new OAuthClient(new URLConnectionClient());\r\n    \r\n                OAuthClientRequest request =\r\n                        OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL)\r\n                        .setGrantType(GrantType.CLIENT_CREDENTIALS)\r\n                        .setClientId(CLIENT_ID)\r\n                        .setClientSecret(CLIENT_SECRET)\r\n                        // .setScope() here if you want to set the token scope\r\n                        .buildQueryMessage();\r\n                request.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n                request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                request.addHeader(&quot;Authorization&quot;, base64EncodedBasicAuthentication());\r\n    \r\n                String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\r\n                System.out.println(token.toString());\r\n    \r\n            } catch (Exception exn) {\r\n                exn.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \tprivate static String base64EncodedBasicAuthentication() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n**Here I am getting this error:-** `OAuthProblemException{error=&#39;unsupported_response_type&#39;, description=&#39;Invalid response! Response body is not application/json encoded&#39;, uri=&#39;null&#39;, state=&#39;null&#39;, scope=&#39;null&#39;, redirectUri=&#39;null&#39;, responseStatus=0, parameters={}}`\r\n\r\nCan we do this way? Any leads would be appreciated.","title":"How to get Access Token using client_credentials using java code?","body":"<p>I have some API which requires access token to get the response. In <code>postman</code> we use <code>OAuth 2.0</code> to get the access token by providing client username and password. In a similar way, I want to fetch the new access token.</p>\n\n<p><strong>Here is the sample code which I have tried so far.</strong></p>\n\n<pre><code>import java.io.*;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.util.Map;\nimport java.lang.reflect.Type;\nimport javax.net.ssl.HttpsURLConnection;\n\n// Google Gson Libraries used for Json Parsing\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\npublic class AuthGoogle {\n\n    /**\n     * @param args\n     * @throws IOException \n     */\n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n         String grantType = \"client_credentials\";\n            String applicationID = \"application\";\n            String username = \"username\";\n            String password = \"password\";\n            String url = \"url_link\";\n            HttpsURLConnection httpConn = null;\n            BufferedReader in = null;\n\n            try {\n\n                // Create the data to send\n                StringBuilder data = new StringBuilder();\n                data.append(\"grant_type=\" + URLEncoder.encode(grantType, \"UTF-8\"));\n                data.append(\"&amp;amp;client_id=\" + URLEncoder.encode(applicationID, \"UTF-8\"));\n                data.append(\"&amp;amp;username=\" + URLEncoder.encode(username, \"UTF-8\"));\n                data.append(\"&amp;amp;password=\" + URLEncoder.encode(password, \"UTF-8\"));\n\n                // Create a byte array of the data to be sent\n                byte[] byteArray = data.toString().getBytes(\"UTF-8\");\n\n                // Setup the Request\n                URL request = new URL(null, url,  new sun.net.www.protocol.https.Handler());\n                httpConn = (HttpsURLConnection)request.openConnection();\n                httpConn.setRequestMethod(\"POST\");\n                httpConn.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n                httpConn.setRequestProperty(\"Content-Length\", \"\" + byteArray.length);\n                httpConn.setDoOutput(true);\n\n                // Write data\n                OutputStream postStream = httpConn.getOutputStream();\n                postStream.write(byteArray, 0, byteArray.length);\n                postStream.close();\n\n                // Send Request &amp;amp; Get Response\n                InputStreamReader reader = new InputStreamReader(httpConn.getInputStream());\n                in = new BufferedReader(reader);\n\n                // Get the Json reponse containing the Access Token\n                String json = in.readLine();\n                System.out.println(\"Json String = \" + json);\n\n                // Parse the Json response and retrieve the Access Token\n                Gson gson = new Gson();\n                Type mapType  = new TypeToken&lt;Map&lt;String,String&gt;&gt;(){}.getType();\n                Map&lt;String,String&gt; ser = gson.fromJson(json, mapType);\n                String accessToken = ser.get(\"access_token\");\n                System.out.println(\"Access Token = \" + accessToken);\n\n            } catch (java.io.IOException e) {\n\n                // This exception will be raised if the server didn't return 200 - OK\n                // Retrieve more information about the error\n                System.out.println(e.getMessage());\n\n            } finally {\n\n                // Be sure to close out any resources or connections\n                if (in != null) in.close();\n                if (httpConn != null) httpConn.disconnect();\n            }\n        }\n\n}\n</code></pre>\n\n<p>I am getting output as <code>Connection refused: connect.</code></p>\n\n<p><strong>Another code I have tried is:-</strong></p>\n\n<pre><code>import org.apache.oltu.oauth2.client.OAuthClient;\nimport org.apache.oltu.oauth2.client.URLConnectionClient;\nimport org.apache.oltu.oauth2.client.request.OAuthClientRequest;\nimport org.apache.oltu.oauth2.client.response.OAuthJSONAccessTokenResponse;\nimport org.apache.oltu.oauth2.common.OAuth;\nimport org.apache.oltu.oauth2.common.message.types.GrantType;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport org.apache.commons.codec.binary.Base64;\n\npublic class OltuJavaClient {\n\n    public static final String TOKEN_REQUEST_URL = \"url_link\";\n    public static final String CLIENT_ID = \"client_id\";\n    public static final String CLIENT_SECRET = \"client_pass\";\n\n    public static void main(String[] args) {\n        try {\n            OAuthClient client = new OAuthClient(new URLConnectionClient());\n\n            OAuthClientRequest request =\n                    OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL)\n                    .setGrantType(GrantType.CLIENT_CREDENTIALS)\n                    .setClientId(CLIENT_ID)\n                    .setClientSecret(CLIENT_SECRET)\n                    // .setScope() here if you want to set the token scope\n                    .buildQueryMessage();\n            request.addHeader(\"Accept\", \"application/json\");\n            request.addHeader(\"Content-Type\", \"application/json\");\n            request.addHeader(\"Authorization\", base64EncodedBasicAuthentication());\n\n            String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\n            System.out.println(token.toString());\n\n        } catch (Exception exn) {\n            exn.printStackTrace();\n        }\n    }\n\n    private static String base64EncodedBasicAuthentication() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Here I am getting this error:-</strong> <code>OAuthProblemException{error='unsupported_response_type', description='Invalid response! Response body is not application/json encoded', uri='null', state='null', scope='null', redirectUri='null', responseStatus=0, parameters={}}</code></p>\n\n<p>Can we do this way? Any leads would be appreciated.</p>\n"},{"tags":["java","android","kotlin","retrofit2","okhttp"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1659348549,"post_id":73191998,"comment_id":129265562,"body_markdown":"You&#39;re using kotlin go with data class... Don&#39;t write pojo class... Var for kotlin","body":"You&#39;re using kotlin go with data class... Don&#39;t write pojo class... Var for kotlin"}],"answers":[{"tags":[],"owner":{"account_id":19921986,"reputation":36,"user_id":14597596,"display_name":"bobrusha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659349904,"creation_date":1659349904,"answer_id":73192415,"question_id":73191998,"body_markdown":"Yes, the problem is in the implementation of `UserResponse` class. In oder to see the response in Logcat you should override `toString()` method for your `UserResponse` class. \r\nDoing so in Java is quite straightforward, and you can easily find how to do it: https://stackoverflow.com/questions/10734106/how-to-override-tostring-properly-in-java\r\n\r\nBut, it&#39;s even more easier to do it in Koltin  just use data class. It&#39;s even more sensible, as you are already using Kotlin for other parts of your application. You can find details on how to use Kotlin classes in official documentation: https://kotlinlang.org/docs/data-classes.html\r\n\r\nMy recommendation would be make changes like this:\r\n\r\nUserResponse.**kt**\r\n```\r\ndata class UserResponse(\r\n    val id: String, \r\n    // list there other fields you get in response and you need for your application\r\n)\r\n```","title":"OkHttpClient get information from log","body":"<p>Yes, the problem is in the implementation of <code>UserResponse</code> class. In oder to see the response in Logcat you should override <code>toString()</code> method for your <code>UserResponse</code> class.\nDoing so in Java is quite straightforward, and you can easily find how to do it: <a href=\"https://stackoverflow.com/questions/10734106/how-to-override-tostring-properly-in-java\">How to override toString() properly in Java?</a></p>\n<p>But, it's even more easier to do it in Koltin  just use data class. It's even more sensible, as you are already using Kotlin for other parts of your application. You can find details on how to use Kotlin classes in official documentation: <a href=\"https://kotlinlang.org/docs/data-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/data-classes.html</a></p>\n<p>My recommendation would be make changes like this:</p>\n<p>UserResponse.<strong>kt</strong></p>\n<pre><code>data class UserResponse(\n    val id: String, \n    // list there other fields you get in response and you need for your application\n)\n</code></pre>\n"}],"owner":{"account_id":25906689,"reputation":5,"user_id":19631679,"display_name":"Helpred"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73192415,"answer_count":1,"score":-1,"last_activity_date":1659349904,"creation_date":1659347875,"question_id":73191998,"body_markdown":"i am try to make my app that send POST request on server, get response and work with it, but it get little hard to me, so i got a problem to get a response from OkHttpClient to local variable. My app work fine, it sending requests to server, gets a responses, but when i try to make it var i got link to local class. I can give to You my log screen: [Log][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S2pQx.png\r\n\r\nAs you can see from my logcat, i get a response, but when i try to use it in Var i got something like `com.example.composetest.UserResponse@8f0d356` . I guess, problem is in UserResponse.java file, but not sure about it, so, can You tell me how i can realise response from OkHttpClient to var? Also i add my files as a code, so you can see how i made POST requests to server:\r\n\r\n**Main Activity**:\r\n\r\n``` \r\n...\r\nprivate fun getClient(): Retrofit? {\r\n\r\n        val TEST_URL_API = &quot;https://jsonplaceholder.typicode.com/&quot;\r\n\r\n        val interceptor = HttpLoggingInterceptor()\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\r\n\r\n        val client: OkHttpClient = OkHttpClient.Builder()\r\n            .addInterceptor(interceptor)\r\n            .retryOnConnectionFailure(true)\r\n            .build()\r\n\r\n        return Retrofit.Builder()\r\n            .baseUrl(TEST_URL_API)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .client(client)\r\n            .build()\r\n\r\n\r\n    }\r\n\r\n    private fun apiCall() {\r\n\r\n        val firstname = &quot;123&quot;\r\n        val lastname = &quot;234&quot;\r\n        val email = &quot;345@6.com&quot;\r\n        val username = &quot;132456&quot;\r\n        val pw = &quot;12345678&quot;\r\n\r\n        val call = getClient()!!.create(Api::class.java).createUser(\r\n            firstname,\r\n            lastname,\r\n            email,\r\n            username,\r\n            pw\r\n        )\r\n\r\n\r\n        call.enqueue(object : Callback&lt;UserResponse&gt;  {\r\n            override fun onResponse(call: Call&lt;UserResponse&gt;, response: Response&lt;UserResponse&gt;) {\r\n\r\n\r\n                Log.v(TAG, &quot;RESULTS response.body = ${response.body()}&quot;)\r\n                \r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;UserResponse&gt;, t: Throwable) {\r\n                Toast.makeText(this@MainActivity, t.localizedMessage!!.toString(),\r\n                    Toast.LENGTH_SHORT).show()\r\n            }\r\n        })\r\n```\r\n\r\n**Api.kt**\r\n\r\n```\r\ninterface Api {\r\n\r\n    @Headers(&quot;Content-Type: application/x-www-form-urlencoded&quot;)\r\n    @POST(&quot;users&quot;)\r\n    @FormUrlEncoded\r\n    fun createUser(\r\n        @Field(&quot;first_name&quot;) fName: String,\r\n        @Field(&quot;last_name&quot;) lName: String,\r\n        @Field(&quot;email&quot;) email: String,\r\n        @Field(&quot;username&quot;) username: String,\r\n        @Field(&quot;password&quot;) password: String,\r\n    ) : Call&lt;UserResponse&gt;\r\n\r\n}\r\n```\r\n\r\n**UserResponse.java** \r\n\r\n```\r\npublic class UserResponse {\r\n}\r\n```\r\n\r\nI think, problem is in Response file, but not sure about it. And also, i&#39;m sorry if this question is already on site, i don&#39;t find something about it, if You saw something that can help give me link please. Thank you","title":"OkHttpClient get information from log","body":"<p>i am try to make my app that send POST request on server, get response and work with it, but it get little hard to me, so i got a problem to get a response from OkHttpClient to local variable. My app work fine, it sending requests to server, gets a responses, but when i try to make it var i got link to local class. I can give to You my log screen: <a href=\"https://i.stack.imgur.com/S2pQx.png\" rel=\"nofollow noreferrer\">Log</a></p>\n<p>As you can see from my logcat, i get a response, but when i try to use it in Var i got something like <code>com.example.composetest.UserResponse@8f0d356</code> . I guess, problem is in UserResponse.java file, but not sure about it, so, can You tell me how i can realise response from OkHttpClient to var? Also i add my files as a code, so you can see how i made POST requests to server:</p>\n<p><strong>Main Activity</strong>:</p>\n<pre><code>...\nprivate fun getClient(): Retrofit? {\n\n        val TEST_URL_API = &quot;https://jsonplaceholder.typicode.com/&quot;\n\n        val interceptor = HttpLoggingInterceptor()\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\n\n        val client: OkHttpClient = OkHttpClient.Builder()\n            .addInterceptor(interceptor)\n            .retryOnConnectionFailure(true)\n            .build()\n\n        return Retrofit.Builder()\n            .baseUrl(TEST_URL_API)\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(client)\n            .build()\n\n\n    }\n\n    private fun apiCall() {\n\n        val firstname = &quot;123&quot;\n        val lastname = &quot;234&quot;\n        val email = &quot;345@6.com&quot;\n        val username = &quot;132456&quot;\n        val pw = &quot;12345678&quot;\n\n        val call = getClient()!!.create(Api::class.java).createUser(\n            firstname,\n            lastname,\n            email,\n            username,\n            pw\n        )\n\n\n        call.enqueue(object : Callback&lt;UserResponse&gt;  {\n            override fun onResponse(call: Call&lt;UserResponse&gt;, response: Response&lt;UserResponse&gt;) {\n\n\n                Log.v(TAG, &quot;RESULTS response.body = ${response.body()}&quot;)\n                \n            }\n\n            override fun onFailure(call: Call&lt;UserResponse&gt;, t: Throwable) {\n                Toast.makeText(this@MainActivity, t.localizedMessage!!.toString(),\n                    Toast.LENGTH_SHORT).show()\n            }\n        })\n</code></pre>\n<p><strong>Api.kt</strong></p>\n<pre><code>interface Api {\n\n    @Headers(&quot;Content-Type: application/x-www-form-urlencoded&quot;)\n    @POST(&quot;users&quot;)\n    @FormUrlEncoded\n    fun createUser(\n        @Field(&quot;first_name&quot;) fName: String,\n        @Field(&quot;last_name&quot;) lName: String,\n        @Field(&quot;email&quot;) email: String,\n        @Field(&quot;username&quot;) username: String,\n        @Field(&quot;password&quot;) password: String,\n    ) : Call&lt;UserResponse&gt;\n\n}\n</code></pre>\n<p><strong>UserResponse.java</strong></p>\n<pre><code>public class UserResponse {\n}\n</code></pre>\n<p>I think, problem is in Response file, but not sure about it. And also, i'm sorry if this question is already on site, i don't find something about it, if You saw something that can help give me link please. Thank you</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1395458954,"post_id":22573054,"comment_id":34361038,"body_markdown":"I would believe the error mentioned. Are you connecting to right DB? To confirm, is nickname column available in ONLINE table?","body":"I would believe the error mentioned. Are you connecting to right DB? To confirm, is nickname column available in ONLINE table?"},{"owner":{"account_id":2244492,"reputation":685,"user_id":1978204,"accept_rate":68,"display_name":"Melodie Gauthier"},"score":0,"creation_date":1395459298,"post_id":22573054,"comment_id":34361099,"body_markdown":"yes, and its working for the first loop iteration... :S I really don&#39;t know whats wrong. The returned linkedlist contains one element containing the information of the first row of the online table","body":"yes, and its working for the first loop iteration... :S I really don&#39;t know whats wrong. The returned linkedlist contains one element containing the information of the first row of the online table"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1395459516,"post_id":22573054,"comment_id":34361138,"body_markdown":"how have you initialized the Statement object?","body":"how have you initialized the Statement object?"},{"owner":{"account_id":2244492,"reputation":685,"user_id":1978204,"accept_rate":68,"display_name":"Melodie Gauthier"},"score":0,"creation_date":1395459607,"post_id":22573054,"comment_id":34361153,"body_markdown":"In the class constructor","body":"In the class constructor"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1395459633,"post_id":22573054,"comment_id":34361171,"body_markdown":"Can you share that code as well? Is the statement object being reused for different query? where are you closing the statement? What is the datatype of nickname?","body":"Can you share that code as well? Is the statement object being reused for different query? where are you closing the statement? What is the datatype of nickname?"},{"owner":{"account_id":2244492,"reputation":685,"user_id":1978204,"accept_rate":68,"display_name":"Melodie Gauthier"},"score":0,"creation_date":1395460052,"post_id":22573054,"comment_id":34361243,"body_markdown":"Here is the code, I didnt include a couple of method but all the methods related to the problem are there.Nickname datatype is VARCHAR. I think it might be the fact that I call getCoorX and getCoorY?! Usign the statement in different method at the same time?! Im really new to mysql..","body":"Here is the code, I didnt include a couple of method but all the methods related to the problem are there.Nickname datatype is VARCHAR. I think it might be the fact that I call getCoorX and getCoorY?! Usign the statement in different method at the same time?! Im really new to mysql.."},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1395464856,"post_id":22573054,"comment_id":34362098,"body_markdown":"Did the answer given below help you?","body":"Did the answer given below help you?"}],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395460738,"creation_date":1395460352,"answer_id":22573224,"question_id":22573054,"body_markdown":"As per your code you are reusing the same Statement object in different methods. So after the first iteration the last method getFloor changes the st object to query on coordinate table. I suggest you initialize separate Statement objects in every method and close it in finally block.\r\n\r\n \r\n\r\n       import com.example.client.Mac;\r\n      import com.example.client.compMac;\r\n    \r\n    \r\n      public class DbConnect {\r\n    \r\n    private Connection con;\r\n    \r\n    public DbConnect(){\r\n    \r\n        try{\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n            con = DriverManager.getConnection(&quot;jdbc:mysql://melucio.no-ip.biz:3306/TOC&quot;,&quot;XXXXX&quot;,&quot;XXXXXXX&quot;);\r\n           \r\n    \r\n        }catch(Exception ex){\r\n            System.out.println(&quot;Error: &quot;+ex);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    /*This method returns the x coor. of mac address*/\r\n        public String getCoorX(String mac){\r\n        String cX = &quot;&quot;;\r\n        try{\r\n            String query = &quot;SELECT * FROM coordinate&quot;;\r\n    \t\tStatement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(query);\r\n            while(rs.next()){\r\n                if(rs.getString(&quot;mac&quot;).equals(mac)){\r\n                    return rs.getString(&quot;coorX&quot;);\r\n                }\r\n            }\r\n    \t\trs.close();\r\n    \t\tst.close();\r\n        }\r\n        catch(Exception e){}\r\n    \t\r\n        return cX;\r\n    \r\n    }\r\n    \r\n        /*This method returns the y coor. of mac address*/\r\n        public String getCoorY(String mac){\r\n        String cY = &quot;&quot;;\r\n        try{\r\n            String query = &quot;SELECT * FROM coordinate&quot;;\r\n            Statement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(query);\r\n            while(rs.next()){\r\n                if(rs.getString(&quot;mac&quot;).equals(mac)){\r\n                    return rs.getString(&quot;coorY&quot;);\r\n                }\r\n            }\r\n    \t\trs.close();\r\n    \t\tst.close();\r\n    \r\n        }\r\n        catch(Exception e){}\r\n        return cY;\r\n    \r\n    }   public String getBuilding(String mac){\r\n            String buil = &quot;&quot;;\r\n            try{\r\n                String query = &quot;SELECT * FROM coordinate&quot;;\r\n                Statement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(query);\r\n                while(rs.next()){\r\n                    if(rs.getString(&quot;mac&quot;).equals(mac)){\r\n                        return rs.getString(&quot;building&quot;);\r\n                    }\r\n                }\r\n    \t\trs.close();\r\n    \t\tst.close();\r\n    \r\n            }\r\n            catch(Exception e){}\r\n            return buil;\r\n    \r\n        }\r\n    \r\n        public String getFloor(String mac){\r\n            String fl = &quot;&quot;;\r\n            try{\r\n                String query = &quot;SELECT * FROM coordinate&quot;;\r\n                Statement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(query);\r\n                while(rs.next()){\r\n                    if(rs.getString(&quot;mac&quot;).equals(mac)){\r\n                        return rs.getString(&quot;floor&quot;);\r\n                    }\r\n                }\r\n      \t\trs.close();\r\n    \t\tst.close();\r\n          }\r\n            catch(Exception e){}\r\n            return fl;\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    /*Update the location table*/\r\n    public void updateLocation(String userNN,String location){//,long time){\r\n    \r\n        long time = System.currentTimeMillis();\r\n        if(!isOnline(userNN))\r\n        {System.out.println(&quot;not online&quot;);\r\n            setOnline(userNN,location);}\r\n        else{\r\n            try{\r\n                //String query =&quot;UPDATE online SET location = &#39;&quot; +location +&quot;&#39; WHERE nickname=&#39;&quot; +userNN +&quot;&#39;&quot;;\r\n                String query =&quot;UPDATE online SET location = &#39;&quot; +location +&quot;&#39;, lastSeen = &quot;+time +&quot;  WHERE nickname=&#39;&quot; +userNN +&quot;&#39;&quot;;\r\n    \r\n                st.executeUpdate(query);\r\n    \r\n            }   \r\n            catch(Exception e){System.out.println(&quot;ayayaya&quot;);}  \r\n        }\r\n    }\r\n    \r\n    \r\n    public LinkedList&lt;compMac&gt; getArray()\r\n    {\r\n        LinkedList&lt;compMac&gt; locArray = new LinkedList&lt;compMac&gt;();\r\n        try{\r\n            String query = &quot;SELECT * FROM online&quot;;\r\n            Statement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(query);\r\n            while(rs.next()){\r\n                String nn = rs.getString(&quot;nickname&quot;);\r\n                String loc = rs.getString(&quot;location&quot;);//mac addresses\r\n                String cX=getCoorX(loc);\r\n                String cY=getCoorY(loc);\r\n                String building=getBuilding(loc);\r\n                String floor=getFloor(loc);\r\n    \r\n                locArray.add(new compMac(nn,loc,cX,cY,building,floor));\r\n    \r\n                }\r\n      \t\trs.close();\r\n    \t\tst.close();\r\n      }\r\n        catch(Exception e){e.printStackTrace();}\r\n        return locArray;\r\n    \r\n    }\r\n    \r\n    public void clean()\r\n    {\r\n        long currentTime = System.currentTimeMillis();\r\n        long acceptableTime = currentTime-120000;\r\n        try{\r\n            String query = &quot;SELECT * FROM online&quot;;\r\n            Statement st = con.createStatement(); \r\n           ResultSet rs = st.executeQuery(query);\r\n            while(rs.next()){\r\n                String nn = rs.getString(&quot;nickname&quot;);\r\n                Long ls = rs.getLong(&quot;lastSeen&quot;);\r\n                if(ls&lt;acceptableTime)//{}\r\n                {stClean.executeUpdate(&quot;DELETE FROM online WHERE     nickname=&#39;&quot;+nn+&quot;&#39;&quot;);} \r\n    \r\n            }\r\n        }\r\n        catch(Exception e){e.printStackTrace();}\r\n    \r\n    }","title":"mysql Column not found loop","body":"<p>As per your code you are reusing the same Statement object in different methods. So after the first iteration the last method getFloor changes the st object to query on coordinate table. I suggest you initialize separate Statement objects in every method and close it in finally block.</p>\n\n<pre><code>   import com.example.client.Mac;\n  import com.example.client.compMac;\n\n\n  public class DbConnect {\n\nprivate Connection con;\n\npublic DbConnect(){\n\n    try{\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        con = DriverManager.getConnection(\"jdbc:mysql://melucio.no-ip.biz:3306/TOC\",\"XXXXX\",\"XXXXXXX\");\n\n\n    }catch(Exception ex){\n        System.out.println(\"Error: \"+ex);\n    }\n}\n\n\n\n\n\n\n/*This method returns the x coor. of mac address*/\n    public String getCoorX(String mac){\n    String cX = \"\";\n    try{\n        String query = \"SELECT * FROM coordinate\";\n        Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(query);\n        while(rs.next()){\n            if(rs.getString(\"mac\").equals(mac)){\n                return rs.getString(\"coorX\");\n            }\n        }\n        rs.close();\n        st.close();\n    }\n    catch(Exception e){}\n\n    return cX;\n\n}\n\n    /*This method returns the y coor. of mac address*/\n    public String getCoorY(String mac){\n    String cY = \"\";\n    try{\n        String query = \"SELECT * FROM coordinate\";\n        Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(query);\n        while(rs.next()){\n            if(rs.getString(\"mac\").equals(mac)){\n                return rs.getString(\"coorY\");\n            }\n        }\n        rs.close();\n        st.close();\n\n    }\n    catch(Exception e){}\n    return cY;\n\n}   public String getBuilding(String mac){\n        String buil = \"\";\n        try{\n            String query = \"SELECT * FROM coordinate\";\n            Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(query);\n            while(rs.next()){\n                if(rs.getString(\"mac\").equals(mac)){\n                    return rs.getString(\"building\");\n                }\n            }\n        rs.close();\n        st.close();\n\n        }\n        catch(Exception e){}\n        return buil;\n\n    }\n\n    public String getFloor(String mac){\n        String fl = \"\";\n        try{\n            String query = \"SELECT * FROM coordinate\";\n            Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(query);\n            while(rs.next()){\n                if(rs.getString(\"mac\").equals(mac)){\n                    return rs.getString(\"floor\");\n                }\n            }\n        rs.close();\n        st.close();\n      }\n        catch(Exception e){}\n        return fl;\n\n    }\n\n\n\n/*Update the location table*/\npublic void updateLocation(String userNN,String location){//,long time){\n\n    long time = System.currentTimeMillis();\n    if(!isOnline(userNN))\n    {System.out.println(\"not online\");\n        setOnline(userNN,location);}\n    else{\n        try{\n            //String query =\"UPDATE online SET location = '\" +location +\"' WHERE nickname='\" +userNN +\"'\";\n            String query =\"UPDATE online SET location = '\" +location +\"', lastSeen = \"+time +\"  WHERE nickname='\" +userNN +\"'\";\n\n            st.executeUpdate(query);\n\n        }   \n        catch(Exception e){System.out.println(\"ayayaya\");}  \n    }\n}\n\n\npublic LinkedList&lt;compMac&gt; getArray()\n{\n    LinkedList&lt;compMac&gt; locArray = new LinkedList&lt;compMac&gt;();\n    try{\n        String query = \"SELECT * FROM online\";\n        Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(query);\n        while(rs.next()){\n            String nn = rs.getString(\"nickname\");\n            String loc = rs.getString(\"location\");//mac addresses\n            String cX=getCoorX(loc);\n            String cY=getCoorY(loc);\n            String building=getBuilding(loc);\n            String floor=getFloor(loc);\n\n            locArray.add(new compMac(nn,loc,cX,cY,building,floor));\n\n            }\n        rs.close();\n        st.close();\n  }\n    catch(Exception e){e.printStackTrace();}\n    return locArray;\n\n}\n\npublic void clean()\n{\n    long currentTime = System.currentTimeMillis();\n    long acceptableTime = currentTime-120000;\n    try{\n        String query = \"SELECT * FROM online\";\n        Statement st = con.createStatement(); \n       ResultSet rs = st.executeQuery(query);\n        while(rs.next()){\n            String nn = rs.getString(\"nickname\");\n            Long ls = rs.getLong(\"lastSeen\");\n            if(ls&lt;acceptableTime)//{}\n            {stClean.executeUpdate(\"DELETE FROM online WHERE     nickname='\"+nn+\"'\");} \n\n        }\n    }\n    catch(Exception e){e.printStackTrace();}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2244492,"reputation":685,"user_id":1978204,"accept_rate":68,"display_name":"Melodie Gauthier"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22573224,"answer_count":1,"score":0,"last_activity_date":1659349750,"creation_date":1395458691,"question_id":22573054,"body_markdown":"Hi have a method that creates a LinkedList of compMac object. CompMac object contain elements from a mysql table row. Each row contain a nickname and a location so I use a loop to create a &#39;compMac&#39; for each row and add them in the linkedlist. I don&#39;t know why, but the first &#39;compMac&#39; is created and is being added to the linkedlist, but after that I get \r\n       \r\n\r\n    java.sql.SQLException: Column &#39;nickname&#39; not found.\r\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920)\r\n\tat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1163)\r\n\tat com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5729)\r\n\tat server.DbConnect.getArray(DbConnect.java:224)\r\n\tat server.doComms.sendArray(doComms.java:127)\r\n\tat server.doComms.whileChatting(doComms.java:107)\r\n\tat server.doComms.run(doComms.java:32)\r\n\tat java.lang.Thread.run(Thread.java:695)\r\n\r\nHere is my method:\r\n\r\n    public LinkedList&lt;compMac&gt; getArray()\r\n\t{\r\n\t\tLinkedList&lt;compMac&gt; locArray = new LinkedList&lt;compMac&gt;();\r\n\t\ttry{\r\n\t\t\tString query = &quot;SELECT * FROM online&quot;;\r\n\t\t\trs = st.executeQuery(query);\r\n\t\t\twhile(rs.next()){\r\n\t\t\t\tString nn = rs.getString(&quot;nickname&quot;);\r\n\t\t\t\tString loc = rs.getString(&quot;location&quot;);//mac addresses\r\n\t\t\t\tString cX=getCoorX(loc);\r\n\t\t\t\tString cY=getCoorY(loc);\r\n\t\t\t\tString building=getBuilding(loc);\r\n\t\t\t\tString floor=getFloor(loc);\r\n\t\t\t\t\r\n\t\t\t\tlocArray.add(new compMac(nn,loc,cX,cY,building,floor));\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){e.printStackTrace();}\r\n\t\treturn locArray;\r\n\t\r\n\t}\r\n\t\r\nBut I do have a nickname column, I like I said, the first compMac is created, when I pop the linkedlist I get the first row&#39;s informations.\r\n\r\nThanks to anyone having an idea whats wrong with my code.\r\n\r\nEDIT: Here the class code:\r\n      package server;\r\n      import java.sql.*;\r\n      import java.util.LinkedList;\r\n\r\n      import com.example.client.Mac;\r\n      import com.example.client.compMac;\r\n\r\n\r\n      public class DbConnect {\r\n\t\r\n\tprivate Connection con;\r\n\tprivate Statement st;\r\n\tprivate Statement stClean;\r\n\tprivate ResultSet rs;\r\n\r\n\tpublic DbConnect(){\r\n\t\t\r\n\t\ttry{\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\t\t\tcon = DriverManager.getConnection(&quot;jdbc:mysql://melucio.no-ip.biz:3306/TOC&quot;,&quot;XXXXX&quot;,&quot;XXXXXXX&quot;);\r\n\t\t\tst = con.createStatement();\r\n\t\t\tstClean = con.createStatement();\r\n\t\t\t\r\n\t\t}catch(Exception ex){\r\n\t\t\tSystem.out.println(&quot;Error: &quot;+ex);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\t\r\n\r\n\r\n\t/*This method returns the x coor. of mac address*/\r\n\t\tpublic String getCoorX(String mac){\r\n\t\tString cX = &quot;&quot;;\r\n\t\ttry{\r\n\t\t\tString query = &quot;SELECT * FROM coordinate&quot;;\r\n\t\t\trs = st.executeQuery(query);\r\n\t\t\twhile(rs.next()){\r\n\t\t\t\tif(rs.getString(&quot;mac&quot;).equals(mac)){\r\n\t\t\t\t\treturn rs.getString(&quot;coorX&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){}\r\n\t\treturn cX;\r\n\t\t\r\n\t}\r\n\t\t\r\n\t\t/*This method returns the y coor. of mac address*/\r\n\t\tpublic String getCoorY(String mac){\r\n\t\tString cY = &quot;&quot;;\r\n\t\ttry{\r\n\t\t\tString query = &quot;SELECT * FROM coordinate&quot;;\r\n\t\t\trs = st.executeQuery(query);\r\n\t\t\twhile(rs.next()){\r\n\t\t\t\tif(rs.getString(&quot;mac&quot;).equals(mac)){\r\n\t\t\t\t\treturn rs.getString(&quot;coorY&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){}\r\n\t\treturn cY;\r\n\t\t\r\n\t}\tpublic String getBuilding(String mac){\r\n\t\t\tString buil = &quot;&quot;;\r\n\t\t\ttry{\r\n\t\t\t\tString query = &quot;SELECT * FROM coordinate&quot;;\r\n\t\t\t\trs = st.executeQuery(query);\r\n\t\t\t\twhile(rs.next()){\r\n\t\t\t\t\tif(rs.getString(&quot;mac&quot;).equals(mac)){\r\n\t\t\t\t\t\treturn rs.getString(&quot;building&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(Exception e){}\r\n\t\t\treturn buil;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getFloor(String mac){\r\n\t\t\tString fl = &quot;&quot;;\r\n\t\t\ttry{\r\n\t\t\t\tString query = &quot;SELECT * FROM coordinate&quot;;\r\n\t\t\t\trs = st.executeQuery(query);\r\n\t\t\t\twhile(rs.next()){\r\n\t\t\t\t\tif(rs.getString(&quot;mac&quot;).equals(mac)){\r\n\t\t\t\t\t\treturn rs.getString(&quot;floor&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(Exception e){}\r\n\t\t\treturn fl;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\r\n\r\n\t/*Update the location table*/\r\n\tpublic void updateLocation(String userNN,String location){//,long time){\r\n\t\t\r\n\t\tlong time = System.currentTimeMillis();\r\n\t\tif(!isOnline(userNN))\r\n\t\t{System.out.println(&quot;not online&quot;);\r\n\t\t\tsetOnline(userNN,location);}\r\n\t\telse{\r\n\t\t\ttry{\r\n\t\t\t\t//String query =&quot;UPDATE online SET location = &#39;&quot; +location +&quot;&#39; WHERE nickname=&#39;&quot; +userNN +&quot;&#39;&quot;;\r\n\t\t\t\tString query =&quot;UPDATE online SET location = &#39;&quot; +location +&quot;&#39;, lastSeen = &quot;+time +&quot;  WHERE nickname=&#39;&quot; +userNN +&quot;&#39;&quot;;\r\n\t\t\t\t\r\n\t\t\t\tst.executeUpdate(query);\r\n\t\r\n\t\t\t}\t\r\n\t\t\tcatch(Exception e){System.out.println(&quot;ayayaya&quot;);}\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic LinkedList&lt;compMac&gt; getArray()\r\n\t{\r\n\t\tLinkedList&lt;compMac&gt; locArray = new LinkedList&lt;compMac&gt;();\r\n\t\ttry{\r\n\t\t\tString query = &quot;SELECT * FROM online&quot;;\r\n\t\t\trs = st.executeQuery(query);\r\n\t\t\twhile(rs.next()){\r\n\t\t\t\tString nn = rs.getString(&quot;nickname&quot;);\r\n\t\t\t\tString loc = rs.getString(&quot;location&quot;);//mac addresses\r\n\t\t\t\tString cX=getCoorX(loc);\r\n\t\t\t\tString cY=getCoorY(loc);\r\n\t\t\t\tString building=getBuilding(loc);\r\n\t\t\t\tString floor=getFloor(loc);\r\n\t\t\t\t\r\n\t\t\t\tlocArray.add(new compMac(nn,loc,cX,cY,building,floor));\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){e.printStackTrace();}\r\n\t\treturn locArray;\r\n\t\r\n\t}\r\n\t\r\n\tpublic void clean()\r\n\t{\r\n\t\tlong currentTime = System.currentTimeMillis();\r\n\t\tlong acceptableTime = currentTime-120000;\r\n\t\ttry{\r\n\t\t\tString query = &quot;SELECT * FROM online&quot;;\r\n\t\t\trs = st.executeQuery(query);\r\n\t\t\twhile(rs.next()){\r\n\t\t\t\tString nn = rs.getString(&quot;nickname&quot;);\r\n\t\t\t\tLong ls = rs.getLong(&quot;lastSeen&quot;);\r\n\t\t\t\tif(ls&lt;acceptableTime)//{}\r\n\t\t\t\t{stClean.executeUpdate(&quot;DELETE FROM online WHERE     nickname=&#39;&quot;+nn+&quot;&#39;&quot;);} \r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){e.printStackTrace();}\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\t\r\n\t\r\n\r\n}\r\n","title":"mysql Column not found loop","body":"<p>Hi have a method that creates a LinkedList of compMac object. CompMac object contain elements from a mysql table row. Each row contain a nickname and a location so I use a loop to create a 'compMac' for each row and add them in the linkedlist. I don't know why, but the first 'compMac' is created and is being added to the linkedlist, but after that I get </p>\n\n<pre><code>java.sql.SQLException: Column 'nickname' not found.\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920)\nat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1163)\nat com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5729)\nat server.DbConnect.getArray(DbConnect.java:224)\nat server.doComms.sendArray(doComms.java:127)\nat server.doComms.whileChatting(doComms.java:107)\nat server.doComms.run(doComms.java:32)\nat java.lang.Thread.run(Thread.java:695)\n</code></pre>\n\n<p>Here is my method:</p>\n\n<pre><code>public LinkedList&lt;compMac&gt; getArray()\n{\n    LinkedList&lt;compMac&gt; locArray = new LinkedList&lt;compMac&gt;();\n    try{\n        String query = \"SELECT * FROM online\";\n        rs = st.executeQuery(query);\n        while(rs.next()){\n            String nn = rs.getString(\"nickname\");\n            String loc = rs.getString(\"location\");//mac addresses\n            String cX=getCoorX(loc);\n            String cY=getCoorY(loc);\n            String building=getBuilding(loc);\n            String floor=getFloor(loc);\n\n            locArray.add(new compMac(nn,loc,cX,cY,building,floor));\n\n            }\n    }\n    catch(Exception e){e.printStackTrace();}\n    return locArray;\n\n}\n</code></pre>\n\n<p>But I do have a nickname column, I like I said, the first compMac is created, when I pop the linkedlist I get the first row's informations.</p>\n\n<p>Thanks to anyone having an idea whats wrong with my code.</p>\n\n<p>EDIT: Here the class code:\n      package server;\n      import java.sql.*;\n      import java.util.LinkedList;</p>\n\n<pre><code>  import com.example.client.Mac;\n  import com.example.client.compMac;\n\n\n  public class DbConnect {\n\nprivate Connection con;\nprivate Statement st;\nprivate Statement stClean;\nprivate ResultSet rs;\n\npublic DbConnect(){\n\n    try{\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        con = DriverManager.getConnection(\"jdbc:mysql://melucio.no-ip.biz:3306/TOC\",\"XXXXX\",\"XXXXXXX\");\n        st = con.createStatement();\n        stClean = con.createStatement();\n\n    }catch(Exception ex){\n        System.out.println(\"Error: \"+ex);\n    }\n}\n\n\n\n\n\n\n/*This method returns the x coor. of mac address*/\n    public String getCoorX(String mac){\n    String cX = \"\";\n    try{\n        String query = \"SELECT * FROM coordinate\";\n        rs = st.executeQuery(query);\n        while(rs.next()){\n            if(rs.getString(\"mac\").equals(mac)){\n                return rs.getString(\"coorX\");\n            }\n        }\n    }\n    catch(Exception e){}\n    return cX;\n\n}\n\n    /*This method returns the y coor. of mac address*/\n    public String getCoorY(String mac){\n    String cY = \"\";\n    try{\n        String query = \"SELECT * FROM coordinate\";\n        rs = st.executeQuery(query);\n        while(rs.next()){\n            if(rs.getString(\"mac\").equals(mac)){\n                return rs.getString(\"coorY\");\n            }\n        }\n    }\n    catch(Exception e){}\n    return cY;\n\n}   public String getBuilding(String mac){\n        String buil = \"\";\n        try{\n            String query = \"SELECT * FROM coordinate\";\n            rs = st.executeQuery(query);\n            while(rs.next()){\n                if(rs.getString(\"mac\").equals(mac)){\n                    return rs.getString(\"building\");\n                }\n            }\n        }\n        catch(Exception e){}\n        return buil;\n\n    }\n\n    public String getFloor(String mac){\n        String fl = \"\";\n        try{\n            String query = \"SELECT * FROM coordinate\";\n            rs = st.executeQuery(query);\n            while(rs.next()){\n                if(rs.getString(\"mac\").equals(mac)){\n                    return rs.getString(\"floor\");\n                }\n            }\n        }\n        catch(Exception e){}\n        return fl;\n\n    }\n\n\n\n/*Update the location table*/\npublic void updateLocation(String userNN,String location){//,long time){\n\n    long time = System.currentTimeMillis();\n    if(!isOnline(userNN))\n    {System.out.println(\"not online\");\n        setOnline(userNN,location);}\n    else{\n        try{\n            //String query =\"UPDATE online SET location = '\" +location +\"' WHERE nickname='\" +userNN +\"'\";\n            String query =\"UPDATE online SET location = '\" +location +\"', lastSeen = \"+time +\"  WHERE nickname='\" +userNN +\"'\";\n\n            st.executeUpdate(query);\n\n        }   \n        catch(Exception e){System.out.println(\"ayayaya\");}  \n    }\n}\n\n\npublic LinkedList&lt;compMac&gt; getArray()\n{\n    LinkedList&lt;compMac&gt; locArray = new LinkedList&lt;compMac&gt;();\n    try{\n        String query = \"SELECT * FROM online\";\n        rs = st.executeQuery(query);\n        while(rs.next()){\n            String nn = rs.getString(\"nickname\");\n            String loc = rs.getString(\"location\");//mac addresses\n            String cX=getCoorX(loc);\n            String cY=getCoorY(loc);\n            String building=getBuilding(loc);\n            String floor=getFloor(loc);\n\n            locArray.add(new compMac(nn,loc,cX,cY,building,floor));\n\n            }\n    }\n    catch(Exception e){e.printStackTrace();}\n    return locArray;\n\n}\n\npublic void clean()\n{\n    long currentTime = System.currentTimeMillis();\n    long acceptableTime = currentTime-120000;\n    try{\n        String query = \"SELECT * FROM online\";\n        rs = st.executeQuery(query);\n        while(rs.next()){\n            String nn = rs.getString(\"nickname\");\n            Long ls = rs.getLong(\"lastSeen\");\n            if(ls&lt;acceptableTime)//{}\n            {stClean.executeUpdate(\"DELETE FROM online WHERE     nickname='\"+nn+\"'\");} \n\n        }\n    }\n    catch(Exception e){e.printStackTrace();}\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","windows-7","classpath"],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395144084,"creation_date":1395144084,"answer_id":22478771,"question_id":22478680,"body_markdown":"Just do \r\n\r\n    Set CLASSPATH=correct/path/this/time;","title":"How to remove classpath in Windows7 enviroment","body":"<p>Just do </p>\n\n<pre><code>Set CLASSPATH=correct/path/this/time;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6007115,"reputation":1,"user_id":4718696,"display_name":"Astrotheque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462093934,"creation_date":1462093934,"answer_id":36964982,"question_id":22478680,"body_markdown":"If set through the command prompt CLASSPATH and %CLASSPATH% are instance only temporary variables. Just close the prompt and open a new window.\r\n\r\nIf they are set in the Environment Variables under the System settings they should be easily edited there in most Windows operating systems.","title":"How to remove classpath in Windows7 enviroment","body":"<p>If set through the command prompt CLASSPATH and %CLASSPATH% are instance only temporary variables. Just close the prompt and open a new window.</p>\n\n<p>If they are set in the Environment Variables under the System settings they should be easily edited there in most Windows operating systems.</p>\n"},{"tags":[],"owner":{"account_id":12891390,"reputation":108,"user_id":9323264,"display_name":"Mrunmay Deswandikar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517936032,"creation_date":1517936032,"answer_id":48648110,"question_id":22478680,"body_markdown":"Set blank classpath, and press Enter\r\n\r\nuse this command :\r\n&quot;set CLASSPATH= &quot;\r\n\r\nand press Enter.\r\n\r\nAnd try echo %CLASSPATH% to verify\r\n\r\nSetting blank value, automatically removes previously stored value.","title":"How to remove classpath in Windows7 enviroment","body":"<p>Set blank classpath, and press Enter</p>\n\n<p>use this command :\n\"set CLASSPATH= \"</p>\n\n<p>and press Enter.</p>\n\n<p>And try echo %CLASSPATH% to verify</p>\n\n<p>Setting blank value, automatically removes previously stored value.</p>\n"}],"owner":{"account_id":2982026,"reputation":653,"user_id":2531799,"accept_rate":62,"display_name":"Hitesh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659349709,"creation_date":1395143808,"question_id":22478680,"body_markdown":"I am trying to configure JBOSS 5.1.0 GA. While configuring, I by mistake added a wrong class path by using this command \r\n\r\n    Set CLASSPATH=%CLASSPATH%;some/wrong/path;/again/some/wrong/path/;Opps/Wrong/Path/Again;\r\n\r\nSo I need to remove these wrong class path; when I tried to add a correct class path in this variable like this \r\n    \r\n    Set CLASSPATH=%CLASSPATH%;correct/path/this/time;\r\n\r\nI got this output on echo command\r\n\r\n    echo &quot;%CLASSPATH%\r\n\r\noutput: -\r\n    \r\n     %CLASSPATH%;some/wrong/path;/again/some/wrong/path/;Opps/Wrong/Path/Again;correct/path/this/time;\r\n\r\nI thought setting a classpath again will overwrite the previous path I have added [Wrong once], but instead it added the correct classpath along with wrong class path&#39;s.\r\n\r\nSo, can someone provide me some example or command how to remove or overwrite Classpath.\r\n\r\nI am using Window 7 Enterprise addition and I have done this using command prompt.  \r\n\r\n    ","title":"How to remove classpath in Windows7 enviroment","body":"<p>I am trying to configure JBOSS 5.1.0 GA. While configuring, I by mistake added a wrong class path by using this command </p>\n\n<pre><code>Set CLASSPATH=%CLASSPATH%;some/wrong/path;/again/some/wrong/path/;Opps/Wrong/Path/Again;\n</code></pre>\n\n<p>So I need to remove these wrong class path; when I tried to add a correct class path in this variable like this </p>\n\n<pre><code>Set CLASSPATH=%CLASSPATH%;correct/path/this/time;\n</code></pre>\n\n<p>I got this output on echo command</p>\n\n<pre><code>echo \"%CLASSPATH%\n</code></pre>\n\n<p>output: -</p>\n\n<pre><code> %CLASSPATH%;some/wrong/path;/again/some/wrong/path/;Opps/Wrong/Path/Again;correct/path/this/time;\n</code></pre>\n\n<p>I thought setting a classpath again will overwrite the previous path I have added [Wrong once], but instead it added the correct classpath along with wrong class path's.</p>\n\n<p>So, can someone provide me some example or command how to remove or overwrite Classpath.</p>\n\n<p>I am using Window 7 Enterprise addition and I have done this using command prompt.  </p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"score":1,"creation_date":1568385608,"post_id":57923871,"comment_id":102268934,"body_markdown":"Please provide a complete, working code sample and the input you are providing that doesn&#39;t work as expected. But in general you should use `String.equals()` to compare Strings in Java, not the `==` operator. In your case you might consider using `String.equalsIgnoreCase()` as well.","body":"Please provide a complete, working code sample and the input you are providing that doesn&#39;t work as expected. But in general you should use <code>String.equals()</code> to compare Strings in Java, not the <code>==</code> operator. In your case you might consider using <code>String.equalsIgnoreCase()</code> as well."},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1568888186,"post_id":57923871,"comment_id":102421768,"body_markdown":"@CrEaTor VR did you tried my solution? If it helped you please mark it as accepted.","body":"@CrEaTor VR did you tried my solution? If it helped you please mark it as accepted."}],"answers":[{"tags":[],"owner":{"account_id":14612946,"reputation":817,"user_id":10553893,"display_name":"Raphael Tarita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568379291,"creation_date":1568379291,"answer_id":57924051,"question_id":57923871,"body_markdown":"First of all, I have no idea what your question is about exactly. I can&#39;t see any information on which programming language you are using (I suppose Java) or on which operating system you are working.\n\n But I&#39;ve got an idea what the problem might be: As you are using stdout, I suppose the program happens on a Console or Terminal. And in some environments, the cmd window will close after there program terminated (when working with an IDE like VS Community, which I don&#39;t know if you do or not, given no context). If this is the case, &quot;hello&quot; will be printed but you won&#39;t see it because the window closes immediately. Try to add some kind of getline at the end and try again.","title":"How to check if the input given by the user is Y or N","body":"<p>First of all, I have no idea what your question is about exactly. I can't see any information on which programming language you are using (I suppose Java) or on which operating system you are working.</p>\n\n<p>But I've got an idea what the problem might be: As you are using stdout, I suppose the program happens on a Console or Terminal. And in some environments, the cmd window will close after there program terminated (when working with an IDE like VS Community, which I don't know if you do or not, given no context). If this is the case, \"hello\" will be printed but you won't see it because the window closes immediately. Try to add some kind of getline at the end and try again.</p>\n"},{"tags":[],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568386411,"creation_date":1568386411,"answer_id":57925928,"question_id":57923871,"body_markdown":"Supposing `sc` is a `Scanner` object.\r\n\r\nString comparison must be done with the `equal` method instead of using `==` because by doing that you&#39;ll compare the object&#39;s referer in the memory instead of the String content, try this:\r\n\r\n    System.out.print(&quot;Want to continue Shopping or end your shopping spree and want the bill for your shopping (answer in Y or N)&quot;);\r\n    String end = sc.next();\r\n    if(end.equals(&quot;Y&quot;)) {\r\n        System.out.println(&quot;hello&quot;);\r\n    }","title":"How to check if the input given by the user is Y or N","body":"<p>Supposing <code>sc</code> is a <code>Scanner</code> object.</p>\n\n<p>String comparison must be done with the <code>equal</code> method instead of using <code>==</code> because by doing that you'll compare the object's referer in the memory instead of the String content, try this:</p>\n\n<pre><code>System.out.print(\"Want to continue Shopping or end your shopping spree and want the bill for your shopping (answer in Y or N)\");\nString end = sc.next();\nif(end.equals(\"Y\")) {\n    System.out.println(\"hello\");\n}\n</code></pre>\n"}],"owner":{"account_id":16002564,"reputation":9,"user_id":11978083,"display_name":"CrEaToR VR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1305,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659349672,"creation_date":1568378570,"question_id":57923871,"body_markdown":"to summarise it give me any idea or solution on how I could fix it.\r\n\r\nI tried what is given in the code below.\r\n\r\n    System.out.print(&quot;Want to continue Shopping or end your shopping spree and want the bill for your shopping (answer in Y or N)&quot;);\r\n                String end = sc.next();\r\n                if(end ==&quot;Y&quot;)\r\n                    System.out.println(&quot;hello&quot;);\r\n\r\nI expect the output hello in the above code, but the actual results are nothing the program just ends.","title":"How to check if the input given by the user is Y or N","body":"<p>to summarise it give me any idea or solution on how I could fix it.</p>\n\n<p>I tried what is given in the code below.</p>\n\n<pre><code>System.out.print(\"Want to continue Shopping or end your shopping spree and want the bill for your shopping (answer in Y or N)\");\n            String end = sc.next();\n            if(end ==\"Y\")\n                System.out.println(\"hello\");\n</code></pre>\n\n<p>I expect the output hello in the above code, but the actual results are nothing the program just ends.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea","configurationproperties"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1576863083,"post_id":59426567,"comment_id":105044404,"body_markdown":"your code perfectly works for me, can you show expected and actual output ?","body":"your code perfectly works for me, can you show expected and actual output ?"},{"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1576866212,"post_id":59426567,"comment_id":105045423,"body_markdown":"It works, yes, and properties are set correctly. But I was talking about code completion and highlighting wrong properties in `application.yml` as shown on the screenshot. For example, you cannot create a new `String` key (&quot;key3&quot; or smth) and then use `ctrl+space` in order to get possible values (`innerString` and `innerInt`). Also, `someInnerWrongProperty` is not defined inside `InnerConfigProperties` class, but it&#39;s not highlighted as the wrong value (like `someWrongProperty` for class `ConfigProperties`)","body":"It works, yes, and properties are set correctly. But I was talking about code completion and highlighting wrong properties in <code>application.yml</code> as shown on the screenshot. For example, you cannot create a new <code>String</code> key (&quot;key3&quot; or smth) and then use <code>ctrl+space</code> in order to get possible values (<code>innerString</code> and <code>innerInt</code>). Also, <code>someInnerWrongProperty</code> is not defined inside <code>InnerConfigProperties</code> class, but it&#39;s not highlighted as the wrong value (like <code>someWrongProperty</code> for class <code>ConfigProperties</code>)"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1576866284,"post_id":59426567,"comment_id":105045450,"body_markdown":"They will be ignored @amseager","body":"They will be ignored @amseager"},{"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1579174082,"post_id":59426567,"comment_id":105681109,"body_markdown":"Once again: I agree that the code works well. But I&#39;m asking about the usability in IDEA. I want to type props: -&gt; testMap -&gt; key , then press &quot;ctrl-space&quot; and see the possible values, in this case - only &quot;innerString&quot; and &quot;innerInt&quot;. If I type something else, it should be highlighted as the wrong property.","body":"Once again: I agree that the code works well. But I&#39;m asking about the usability in IDEA. I want to type props: -&gt; testMap -&gt; key , then press &quot;ctrl-space&quot; and see the possible values, in this case - only &quot;innerString&quot; and &quot;innerInt&quot;. If I type something else, it should be highlighted as the wrong property."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1579276401,"post_id":59426567,"comment_id":105723773,"body_markdown":"It&#39;s not a spring boot issue but an IntelliJ issue, please change question tags.","body":"It&#39;s not a spring boot issue but an IntelliJ issue, please change question tags."},{"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"score":2,"creation_date":1579276565,"post_id":59426567,"comment_id":105723845,"body_markdown":"@akuma8 I added intellij-idea tag (it was there initially but then removed by someone else)","body":"@akuma8 I added intellij-idea tag (it was there initially but then removed by someone else)"},{"owner":{"account_id":5041765,"reputation":837,"user_id":4048904,"display_name":"Amit Goldstein"},"score":0,"creation_date":1611586584,"post_id":59426567,"comment_id":116492711,"body_markdown":"Does this answer your question? [Spring configuration properties metadata json for nested list of Objects](https://stackoverflow.com/questions/41417933/spring-configuration-properties-metadata-json-for-nested-list-of-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41417933/spring-configuration-properties-metadata-json-for-nested-list-of-objects\">Spring configuration properties metadata json for nested list of Objects</a>"}],"answers":[{"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579283585,"creation_date":1579283585,"answer_id":59792579,"question_id":59426567,"body_markdown":"According to current [documentation for auto-completing-code][1], there is *no* such way that IntelliJ IDEA will suggest you the next possible key and will notify you for incorrect value such as *somWrongProperty* or *someInnerWrongProperty*\r\n\r\nWhat I found *somewhat related and useful* for the above *use-case* is [Expand a string at caret to an existing word\r\n][2]\r\n\r\n&gt; - Press Alt+/ or choose Code | Completion | Cyclic Expand Word to search for matching words before the caret.\r\n&gt; \r\n&gt; - Press Shift+Alt+/ or choose Code | Completion | Cyclic Expand Word (Backward) to search for matching words after the caret and in other\r\n&gt; open files.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n----------\r\n\r\n\r\n**[Code Style. YAML][4]**\r\nWe can customize the code style for YAML as following but however there is no option for auto-complete and error for above use-case \r\n\r\n*File | Settings | Editor | Code Style | YAML for Windows and Linux* &lt;br&gt;\r\n*IntelliJ IDEA | Preferences | Editor | Code Style | YAML for macOS*\r\n`Ctrl+Alt+S`\r\n\r\n\r\n----------\r\n**[Plugins][5]**\r\n\r\nFurther, I have gone through the plugins to achieve the use-case and there are some useful plugins that convert properties to yaml but nothing related to use-case. You might need to wait or create similar kinds of the plugin. You might find [this][6] helpful \r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/auto-completing-code.html\r\n  [2]: https://www.jetbrains.com/help/idea/auto-completing-code.html#expand-a-string-at-caret-to-an-existing-word\r\n  [3]: https://i.stack.imgur.com/6DJHk.gif\r\n  [4]: https://www.jetbrains.com/help/idea/code-style-yaml.html\r\n  [5]: https://www.jetbrains.com/help/idea/managing-plugins.html?_ga=2.204872592.1492835941.1579277578-1374021700.1560618252\r\n  [6]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000004110-IntelliJ-Spring-Boot-Yaml-Completion-not-working\r\n  [7]: https://i.stack.imgur.com/3hi93.png","title":"Is it possible to make Spring Boot Configuration Processor work correctly with maps which values are complex structures (in Intellij IDEA)?","body":"<p>According to current <a href=\"https://www.jetbrains.com/help/idea/auto-completing-code.html\" rel=\"nofollow noreferrer\">documentation for auto-completing-code</a>, there is <em>no</em> such way that IntelliJ IDEA will suggest you the next possible key and will notify you for incorrect value such as <em>somWrongProperty</em> or <em>someInnerWrongProperty</em></p>\n\n<p>What I found <em>somewhat related and useful</em> for the above <em>use-case</em> is <a href=\"https://www.jetbrains.com/help/idea/auto-completing-code.html#expand-a-string-at-caret-to-an-existing-word\" rel=\"nofollow noreferrer\">Expand a string at caret to an existing word\n</a></p>\n\n<blockquote>\n  <ul>\n  <li><p>Press Alt+/ or choose Code | Completion | Cyclic Expand Word to search for matching words before the caret.</p></li>\n  <li><p>Press Shift+Alt+/ or choose Code | Completion | Cyclic Expand Word (Backward) to search for matching words after the caret and in other\n  open files.</p></li>\n  </ul>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/6DJHk.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6DJHk.gif\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong><a href=\"https://www.jetbrains.com/help/idea/code-style-yaml.html\" rel=\"nofollow noreferrer\">Code Style. YAML</a></strong>\nWe can customize the code style for YAML as following but however there is no option for auto-complete and error for above use-case </p>\n\n<p><em>File | Settings | Editor | Code Style | YAML for Windows and Linux</em> <br>\n<em>IntelliJ IDEA | Preferences | Editor | Code Style | YAML for macOS</em>\n<code>Ctrl+Alt+S</code></p>\n\n<hr>\n\n<p><strong><a href=\"https://www.jetbrains.com/help/idea/managing-plugins.html?_ga=2.204872592.1492835941.1579277578-1374021700.1560618252\" rel=\"nofollow noreferrer\">Plugins</a></strong></p>\n\n<p>Further, I have gone through the plugins to achieve the use-case and there are some useful plugins that convert properties to yaml but nothing related to use-case. You might need to wait or create similar kinds of the plugin. You might find <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000004110-IntelliJ-Spring-Boot-Yaml-Completion-not-working\" rel=\"nofollow noreferrer\">this</a> helpful </p>\n\n<p><a href=\"https://i.stack.imgur.com/3hi93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3hi93.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1579847456,"creation_date":1579843144,"answer_id":59890717,"question_id":59426567,"body_markdown":"I believe you&#39;re asking about the added \r\n\r\n~~~\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n~~~\r\n\r\nThis is basically an annotation processor - a special hook into compilation process that can detect classes annotated with some annotation during **compile time** and generate some resources based on that definition.\r\nSome annotation processor generate other source files, this one however introspects the classes annotated with `@ConfigurationProperties` by reflection and based on the field names and types found in this classes it generates a special json file (META-INF/spring-configuration-metadata.json in the `target` build directory).\r\n\r\nYou can open it up and see how does it look like.\r\n\r\nNow a couple of notes on this process:\r\n\r\n1. Since it happens during the compilation - it doesn&#39;t look at `application.yaml`\r\n2. The generated JSON in general is not used by spring boot itself during the runtime but intended for IDEs so that they could build some nifty integrations. That&#39;s what IntelliJ basically does.\r\n\r\nNow, IntelliJ (Only Ultimate Edition, since community edition doesn&#39;t include any integration with spring) can indeed read this file, and provide some autocompletion features.\r\n\r\nBut **Based on the information provided in the configuration properties that include Maps** an annotation processor (that again runs during the compilation and has an access to the class only) merely cannot generate correct values of keys for example. So IntelliJ won&#39;t offer you to chose from `key1`, `key2`, since they do not exist in the configuration properties java files. That&#39;s why it doesn&#39;t work. \r\nBottom Line, IntelliJ is not guilty, it does the best it can :)\r\n\r\nIn terms of resolution:\r\n\r\nThere are two paths you can try:\r\n\r\n1. Instead of using Strings as keys, *use an enum*. Since it will have a finite and well defined set of values, probably the annotation processor will generate a better json (if it doesn&#39;t - its a bug or, rather a request for enhancement, in the annotation processor)\r\n\r\n2. Assuming, that the annotation processor does its best job, but not always succeeds, you can define the json manually as described in [Spring Boot Documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html","title":"Is it possible to make Spring Boot Configuration Processor work correctly with maps which values are complex structures (in Intellij IDEA)?","body":"<p>I believe you're asking about the added </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This is basically an annotation processor - a special hook into compilation process that can detect classes annotated with some annotation during <strong>compile time</strong> and generate some resources based on that definition.\nSome annotation processor generate other source files, this one however introspects the classes annotated with <code>@ConfigurationProperties</code> by reflection and based on the field names and types found in this classes it generates a special json file (META-INF/spring-configuration-metadata.json in the <code>target</code> build directory).</p>\n\n<p>You can open it up and see how does it look like.</p>\n\n<p>Now a couple of notes on this process:</p>\n\n<ol>\n<li>Since it happens during the compilation - it doesn't look at <code>application.yaml</code></li>\n<li>The generated JSON in general is not used by spring boot itself during the runtime but intended for IDEs so that they could build some nifty integrations. That's what IntelliJ basically does.</li>\n</ol>\n\n<p>Now, IntelliJ (Only Ultimate Edition, since community edition doesn't include any integration with spring) can indeed read this file, and provide some autocompletion features.</p>\n\n<p>But <strong>Based on the information provided in the configuration properties that include Maps</strong> an annotation processor (that again runs during the compilation and has an access to the class only) merely cannot generate correct values of keys for example. So IntelliJ won't offer you to chose from <code>key1</code>, <code>key2</code>, since they do not exist in the configuration properties java files. That's why it doesn't work. \nBottom Line, IntelliJ is not guilty, it does the best it can :)</p>\n\n<p>In terms of resolution:</p>\n\n<p>There are two paths you can try:</p>\n\n<ol>\n<li><p>Instead of using Strings as keys, <em>use an enum</em>. Since it will have a finite and well defined set of values, probably the annotation processor will generate a better json (if it doesn't - its a bug or, rather a request for enhancement, in the annotation processor)</p></li>\n<li><p>Assuming, that the annotation processor does its best job, but not always succeeds, you can define the json manually as described in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html\" rel=\"nofollow noreferrer\">Spring Boot Documentation</a></p></li>\n</ol>\n"}],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":59890717,"answer_count":2,"score":7,"last_activity_date":1659349607,"creation_date":1576850862,"question_id":59426567,"body_markdown":"Source code that reproduces the problem: [link][1].\r\n\r\nSuppose I have this kind of structure of configuration properties:\r\n\r\n```\r\n    @Data\r\n    @ConfigurationProperties(prefix = &quot;props&quot;)\r\n    public class ConfigProperties {\r\n    \r\n    \tprivate String testString;\r\n    \tprivate Map&lt;String, InnerConfigProperties&gt; testMap;\r\n    }\r\n```\r\n\r\n```\r\n    @Data\r\n    public class InnerConfigProperties {\r\n    \r\n    \tprivate String innerString;\r\n    \tprivate Integer innerInt;\r\n    }\r\n```\r\n\r\nIn `application.yml` I set them in this way:\r\n\r\n```\r\nprops:\r\n  testString: asdadasd\r\n  somWrongProperty: asdasd\r\n  testMap:\r\n    key1:\r\n      innerString: value1\r\n      innerInt: 1\r\n      someInnerWrongProperty: wrongvalue\r\n    key2:\r\n      innerString: value2\r\n      innerInt: 2\r\n```\r\n\r\nAfter launching annotation processing only the simple properties work correctly (you can navigate to their declaration by clicking with `ctrl`, also autocomplete for them works). Also, IDEA detects if the property is incorrect and highlights it.\r\n\r\nFor nested structures (which are map values) both of these features don&#39;t seem to work properly. You still can click on them but IDEA will navigate to the map declaration. Also, code completion for map values and highlighting of the wrong fields don&#39;t work.\r\n\r\nScreenshot from IDEA:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nDoes anybody know how to make it work correctly? Feel free to use the attached example code.\r\n\r\nThanks in advance.\r\n\r\n**UPDATE**\r\n\r\nSeems to be fixed in Intellij IDEA 2022.1.\r\nRelated issues: [IDEA-151708](https://youtrack.jetbrains.com/issue/IDEA-151708) and [IDEA-159276](https://youtrack.jetbrains.com/issue/IDEA-159276). \r\n\r\nNice bugfix productivity though.\r\n\r\n\r\n  [1]: https://github.com/amseager/confpropsdemo\r\n  [2]: https://i.stack.imgur.com/dCnNW.png","title":"Is it possible to make Spring Boot Configuration Processor work correctly with maps which values are complex structures (in Intellij IDEA)?","body":"<p>Source code that reproduces the problem: <a href=\"https://github.com/amseager/confpropsdemo\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Suppose I have this kind of structure of configuration properties:</p>\n<pre><code>    @Data\n    @ConfigurationProperties(prefix = &quot;props&quot;)\n    public class ConfigProperties {\n    \n        private String testString;\n        private Map&lt;String, InnerConfigProperties&gt; testMap;\n    }\n</code></pre>\n<pre><code>    @Data\n    public class InnerConfigProperties {\n    \n        private String innerString;\n        private Integer innerInt;\n    }\n</code></pre>\n<p>In <code>application.yml</code> I set them in this way:</p>\n<pre><code>props:\n  testString: asdadasd\n  somWrongProperty: asdasd\n  testMap:\n    key1:\n      innerString: value1\n      innerInt: 1\n      someInnerWrongProperty: wrongvalue\n    key2:\n      innerString: value2\n      innerInt: 2\n</code></pre>\n<p>After launching annotation processing only the simple properties work correctly (you can navigate to their declaration by clicking with <code>ctrl</code>, also autocomplete for them works). Also, IDEA detects if the property is incorrect and highlights it.</p>\n<p>For nested structures (which are map values) both of these features don't seem to work properly. You still can click on them but IDEA will navigate to the map declaration. Also, code completion for map values and highlighting of the wrong fields don't work.</p>\n<p>Screenshot from IDEA:</p>\n<p><a href=\"https://i.stack.imgur.com/dCnNW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dCnNW.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anybody know how to make it work correctly? Feel free to use the attached example code.</p>\n<p>Thanks in advance.</p>\n<p><strong>UPDATE</strong></p>\n<p>Seems to be fixed in Intellij IDEA 2022.1.\nRelated issues: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-151708\" rel=\"nofollow noreferrer\">IDEA-151708</a> and <a href=\"https://youtrack.jetbrains.com/issue/IDEA-159276\" rel=\"nofollow noreferrer\">IDEA-159276</a>.</p>\n<p>Nice bugfix productivity though.</p>\n"},{"tags":["java","arrays","algorithm","sorting","data-structures"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":7,"creation_date":1658229863,"post_id":73035944,"comment_id":128994735,"body_markdown":"My first idea would indeed also be to iterate once over the array and keep track of the K largest elements, which is O(N). Since sorting is generally slower than that, I would say it&#39;s a pretty optimal solution.","body":"My first idea would indeed also be to iterate once over the array and keep track of the K largest elements, which is O(N). Since sorting is generally slower than that, I would say it&#39;s a pretty optimal solution."},{"owner":{"account_id":3813614,"reputation":9747,"user_id":3163618,"accept_rate":82,"display_name":"qwr"},"score":0,"creation_date":1658341754,"post_id":73035944,"comment_id":129030524,"body_markdown":"@AdriaanKoster what is O(N)? keeping track of the K largest elements is a little more complicated than tracking the single largest element.","body":"@AdriaanKoster what is O(N)? keeping track of the K largest elements is a little more complicated than tracking the single largest element."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1658343062,"post_id":73035944,"comment_id":129030958,"body_markdown":"@AdriaanKoster: For small K (much less than N), yeah one pass with a heap or sorted array of candidates is a good bet.  You&#39;ll rarely see a new candidate greater than the current-Kth-largest seen (unless the array&#39;s initial order is trending towards increasing).   And each new candidate only takes O(log K) time to insert into a heap or tree, or O(K) to insert into a sorted array.  For small fixed K, O(N log K) as a worst case is basically O(N), and in practice fast.  (And read-only on the original array.)","body":"@AdriaanKoster: For small K (much less than N), yeah one pass with a heap or sorted array of candidates is a good bet.  You&#39;ll rarely see a new candidate greater than the current-Kth-largest seen (unless the array&#39;s initial order is trending towards increasing).   And each new candidate only takes O(log K) time to insert into a heap or tree, or O(K) to insert into a sorted array.  For small fixed K, O(N log K) as a worst case is basically O(N), and in practice fast.  (And read-only on the original array.)"},{"owner":{"account_id":1367769,"reputation":3933,"user_id":1303846,"display_name":"Remember Monica"},"score":2,"creation_date":1658352155,"post_id":73035944,"comment_id":129033540,"body_markdown":"The problem is a matter of confusion around big O notation: O(n) == O(n * k) for constant k. Clearly, using a priority queue or a simple array-search are both O(n) for constant k: twice the elements will take about twice the time. However, since a priority queue requires O(n log k) operations, it is asymptotically faster for large k and n (but might actually be slower for small k). The confusion is that it is subjective whether k is a constant or not, and big-O notation only categorizes asymptitic behaviour, not absolute runtime. In practise, there are other &quot;constants&quot; too.","body":"The problem is a matter of confusion around big O notation: O(n) == O(n * k) for constant k. Clearly, using a priority queue or a simple array-search are both O(n) for constant k: twice the elements will take about twice the time. However, since a priority queue requires O(n log k) operations, it is asymptotically faster for large k and n (but might actually be slower for small k). The confusion is that it is subjective whether k is a constant or not, and big-O notation only categorizes asymptitic behaviour, not absolute runtime. In practise, there are other &quot;constants&quot; too."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1658595321,"post_id":73035944,"comment_id":129092694,"body_markdown":"I would use a binary tree to store the largest items so far and I would loop the (unsorted) large array and for each item I would compare it with the smallest element in the tree, ignore it if it&#39;s even smaller and adjust the tree if it&#39;s not smaller. It would be a complexity of O(N log(k))","body":"I would use a binary tree to store the largest items so far and I would loop the (unsorted) large array and for each item I would compare it with the smallest element in the tree, ignore it if it&#39;s even smaller and adjust the tree if it&#39;s not smaller. It would be a complexity of O(N log(k))"}],"answers":[{"tags":[],"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1658233380,"creation_date":1658230610,"answer_id":73036179,"question_id":73035944,"body_markdown":"Another way of solving this is using [Quickselect][1]. This should give you a total average time complexity of ***O(n)***. Consider this:\r\n\r\n1. Find the *k*th largest number *x* using Quickselect (*O(n)*)\r\n2. Iterate through the array again (or just through the right-side partition) (*O(n)*) and save all elements * x*\r\n3. Return your saved elements\r\n\r\n(If there are repeated elements, you can avoid them by keeping count of how many duplicates of *x* you need to add to the result.)\r\n\r\nThe difference between your problem and the one in the SO question you linked to is that you have only one million elements, so they can definitely be kept in memory to allow normal use of Quickselect.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quickselect","title":"Best way to retrieve K largest elements from large unsorted arrays?","body":"<p>Another way of solving this is using <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"noreferrer\">Quickselect</a>. This should give you a total average time complexity of <em><strong>O(n)</strong></em>. Consider this:</p>\n<ol>\n<li>Find the <em>k</em>th largest number <em>x</em> using Quickselect (<em>O(n)</em>)</li>\n<li>Iterate through the array again (or just through the right-side partition) (<em>O(n)</em>) and save all elements <em> x</em></li>\n<li>Return your saved elements</li>\n</ol>\n<p>(If there are repeated elements, you can avoid them by keeping count of how many duplicates of <em>x</em> you need to add to the result.)</p>\n<p>The difference between your problem and the one in the SO question you linked to is that you have only one million elements, so they can definitely be kept in memory to allow normal use of Quickselect.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1659349450,"creation_date":1658232271,"answer_id":73036567,"question_id":73035944,"body_markdown":"&gt; There is a large unsorted array of one million ints. The user wants to retrieve the `K` largest elements.\r\n&gt; \r\n&gt; During this, I was strongly hinted that I needed to sort the array.\r\n&gt; \r\n&gt; So, I suggested using a built-in `sort()` or maybe a custom\r\n&gt; implementation\r\n\r\nThat wasn&#39;t really a *hint* I guess, but rather a sort of trick to deceive you (to test how strong your knowledge is).\r\n\r\nIf you choose to approach the problem by sorting the whole source array using the built-in *Dual-Pivot Quicksort*, you can&#39;t obtain time complexity better than **O(n log n)**.\r\n\r\nInstead, we can maintain a [`PriorytyQueue`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html) which would store the result. And while iterating over the source array for each element we need to check whether the queue has reached the size `K`, if **not** the element should be *added* to the queue, otherwise (is size equals to `K`) we need to compare the next element against the lowest element in the queue - if the next element is smaller or equal we should *ignore* it if it is greater the lowest element has to be *removed* and the new element needs to be *added*.\r\n\r\nThe time complexity of this approach would be **O(n log k)** because adding a new element into the `PriorytyQueue` of size `k` costs **O(k)** and in the worst-case scenario this operation can be performed `n` times (because we&#39;re iterating over the array of size `n`).\r\n\r\n*Note that the best case time complexity would be* **(n)**, *i.e. linear*.\r\n\r\nSo the difference between sorting and using a `PriorytyQueue` in terms of *Big O* boils down to the difference between **O(n log n)** and **O(n log k)**. When `k` is much smaller than `n` this approach would give a significant performance gain.\r\n\r\nHere&#39;s an implementation:\r\n\r\n    public static int[] getHighestK(int[] arr, int k) {\r\n        Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;();\r\n        \r\n        for (int next: arr) {\r\n            if (queue.size() == k &amp;&amp; queue.peek() &lt; next) queue.remove();\r\n            if (queue.size() &lt; k) queue.add(next);\r\n        }\r\n        \r\n        return toIntArray(queue);\r\n    }\r\n    \r\n    public static int[] toIntArray(Collection&lt;Integer&gt; source) {\r\n        return source.stream().mapToInt(Integer::intValue).toArray();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Arrays.toString(getHighestK(new int[]{3, -1, 3, 12, 7, 8, -5, 9, 27}, 3)));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[9, 12, 27]\r\n```\r\n&lt;h1&gt;Sorting in O(n)&lt;/h1&gt;\r\n\r\nWe can achieve *worst case time complexity* of **O(n)** when there are **some constraints** regarding the contents of the given array. Let&#39;s say it contains only numbers in the range `[-1000,1000]` (*sure, you haven&#39;t been told that, but it&#39;s always good to clarify the problem requirements during the interview*).\r\n\r\nIn this case, we can use [*Counting sort*](https://en.wikipedia.org/wiki/Counting_sort) which has linear time complexity.  Or better, just build a *histogram* (first step of Counting Sort) and look at the highest-valued buckets until you&#39;ve seen K counts.  (i.e. don&#39;t actually expand back to a fully sorted array, just expand counts back into the top K sorted elements.)  Creating a *histogram* is only efficient if the array of counts (possible input values) is smaller than the size of the input array.\r\n\r\nAnother possibility is when the given array is partially sorted, consisting of several *sorted chunks*. In this case, we can use [*Timsort*](https://en.wikipedia.org/wiki/Timsort) which is good at finding sorted runs. It will deal with them in a linear time.\r\n\r\nAnd *Timsort* is already implemented in Java, it&#39;s used to sort *objects* (not primitives). So we can take advantage of the well-optimized and thoroughly tested implementation instead of writing our own, which is great. But since we are given an array of primitives, using built-in *Timsort* would have an additional cost - we need to copy the contents of the array into a list (or array) of wrapper type.","title":"Best way to retrieve K largest elements from large unsorted arrays?","body":"<blockquote>\n<p>There is a large unsorted array of one million ints. The user wants to retrieve the <code>K</code> largest elements.</p>\n<p>During this, I was strongly hinted that I needed to sort the array.</p>\n<p>So, I suggested using a built-in <code>sort()</code> or maybe a custom\nimplementation</p>\n</blockquote>\n<p>That wasn't really a <em>hint</em> I guess, but rather a sort of trick to deceive you (to test how strong your knowledge is).</p>\n<p>If you choose to approach the problem by sorting the whole source array using the built-in <em>Dual-Pivot Quicksort</em>, you can't obtain time complexity better than <strong>O(n log n)</strong>.</p>\n<p>Instead, we can maintain a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorytyQueue</code></a> which would store the result. And while iterating over the source array for each element we need to check whether the queue has reached the size <code>K</code>, if <strong>not</strong> the element should be <em>added</em> to the queue, otherwise (is size equals to <code>K</code>) we need to compare the next element against the lowest element in the queue - if the next element is smaller or equal we should <em>ignore</em> it if it is greater the lowest element has to be <em>removed</em> and the new element needs to be <em>added</em>.</p>\n<p>The time complexity of this approach would be <strong>O(n log k)</strong> because adding a new element into the <code>PriorytyQueue</code> of size <code>k</code> costs <strong>O(k)</strong> and in the worst-case scenario this operation can be performed <code>n</code> times (because we're iterating over the array of size <code>n</code>).</p>\n<p><em>Note that the best case time complexity would be</em> <strong>(n)</strong>, <em>i.e. linear</em>.</p>\n<p>So the difference between sorting and using a <code>PriorytyQueue</code> in terms of <em>Big O</em> boils down to the difference between <strong>O(n log n)</strong> and <strong>O(n log k)</strong>. When <code>k</code> is much smaller than <code>n</code> this approach would give a significant performance gain.</p>\n<p>Here's an implementation:</p>\n<pre><code>public static int[] getHighestK(int[] arr, int k) {\n    Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;();\n    \n    for (int next: arr) {\n        if (queue.size() == k &amp;&amp; queue.peek() &lt; next) queue.remove();\n        if (queue.size() &lt; k) queue.add(next);\n    }\n    \n    return toIntArray(queue);\n}\n\npublic static int[] toIntArray(Collection&lt;Integer&gt; source) {\n    return source.stream().mapToInt(Integer::intValue).toArray();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Arrays.toString(getHighestK(new int[]{3, -1, 3, 12, 7, 8, -5, 9, 27}, 3)));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[9, 12, 27]\n</code></pre>\n<h1>Sorting in O(n)</h1>\n<p>We can achieve <em>worst case time complexity</em> of <strong>O(n)</strong> when there are <strong>some constraints</strong> regarding the contents of the given array. Let's say it contains only numbers in the range <code>[-1000,1000]</code> (<em>sure, you haven't been told that, but it's always good to clarify the problem requirements during the interview</em>).</p>\n<p>In this case, we can use <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\"><em>Counting sort</em></a> which has linear time complexity.  Or better, just build a <em>histogram</em> (first step of Counting Sort) and look at the highest-valued buckets until you've seen K counts.  (i.e. don't actually expand back to a fully sorted array, just expand counts back into the top K sorted elements.)  Creating a <em>histogram</em> is only efficient if the array of counts (possible input values) is smaller than the size of the input array.</p>\n<p>Another possibility is when the given array is partially sorted, consisting of several <em>sorted chunks</em>. In this case, we can use <a href=\"https://en.wikipedia.org/wiki/Timsort\" rel=\"nofollow noreferrer\"><em>Timsort</em></a> which is good at finding sorted runs. It will deal with them in a linear time.</p>\n<p>And <em>Timsort</em> is already implemented in Java, it's used to sort <em>objects</em> (not primitives). So we can take advantage of the well-optimized and thoroughly tested implementation instead of writing our own, which is great. But since we are given an array of primitives, using built-in <em>Timsort</em> would have an additional cost - we need to copy the contents of the array into a list (or array) of wrapper type.</p>\n"},{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658322827,"creation_date":1658234552,"answer_id":73037118,"question_id":73035944,"body_markdown":"Here is one idea. I will think for creating array (int) with max size (2147483647) as it is max value of int (2147483647). Then for every number in for-each that I get from the original array just put the same index (as the number) +1 inside the empty array that I created.\r\n\r\nSo in the end of this for each I will have something like `[1,0,2,0,3]` (array that I created) which represent numbers `[0, 2, 2, 4, 4, 4]` (initial array). \r\n\r\nSo to find the `K` biggest elements you can make backward `for` over the created array and count back from `K` to `0` every time when you have different element then 0. If you have for example 2 you have to count this number 2 times.\r\n\r\nThe limitation of this approach is that it works only with integers because of the nature of the array... \r\n\r\nAlso the representation of int in java is -2147483648 to 2147483647 which mean that in the array that need to be created only the positive numbers can be placed.\r\n\r\nNOTE: if you know that there is max number of the int then you can lower the created array size with that max number. For example if the max int is 1000 then your array which you need to create is with size 1000 and then this algorithm should perform very fast.\r\n   ","title":"Best way to retrieve K largest elements from large unsorted arrays?","body":"<p>Here is one idea. I will think for creating array (int) with max size (2147483647) as it is max value of int (2147483647). Then for every number in for-each that I get from the original array just put the same index (as the number) +1 inside the empty array that I created.</p>\n<p>So in the end of this for each I will have something like <code>[1,0,2,0,3]</code> (array that I created) which represent numbers <code>[0, 2, 2, 4, 4, 4]</code> (initial array).</p>\n<p>So to find the <code>K</code> biggest elements you can make backward <code>for</code> over the created array and count back from <code>K</code> to <code>0</code> every time when you have different element then 0. If you have for example 2 you have to count this number 2 times.</p>\n<p>The limitation of this approach is that it works only with integers because of the nature of the array...</p>\n<p>Also the representation of int in java is -2147483648 to 2147483647 which mean that in the array that need to be created only the positive numbers can be placed.</p>\n<p>NOTE: if you know that there is max number of the int then you can lower the created array size with that max number. For example if the max int is 1000 then your array which you need to create is with size 1000 and then this algorithm should perform very fast.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658766521,"creation_date":1658234832,"answer_id":73037195,"question_id":73035944,"body_markdown":"I think you misunderstood what you needed to sort.\r\n\r\nYou need to keep the K-sized list sorted, you don&#39;t need to sort the original N-sized input array. That way the time complexity would be O(N * log(K)) in the worst case (assuming you need to update the K-sized list almost every time). \r\n\r\nThe requirements said that N was very large, but K is much smaller, so O(N * log(K)) is also smaller than O(N * log(N)).\r\n\r\nYou  only need to update the K-sized list for each record that is larger than the K-th largest element before it. For a randomly distributed list with N much larger than K, that will be negligible, so the time complexity will be closer to O(N).\r\n\r\nFor the K-sized list, you can take a look at the implementation of https://stackoverflow.com/questions/7878026/is-there-a-priorityqueue-implementation-with-fixed-capacity-and-custom-comparato , which uses a PriorityQueue with some additional logic around it.\r\n","title":"Best way to retrieve K largest elements from large unsorted arrays?","body":"<p>I think you misunderstood what you needed to sort.</p>\n<p>You need to keep the K-sized list sorted, you don't need to sort the original N-sized input array. That way the time complexity would be O(N * log(K)) in the worst case (assuming you need to update the K-sized list almost every time).</p>\n<p>The requirements said that N was very large, but K is much smaller, so O(N * log(K)) is also smaller than O(N * log(N)).</p>\n<p>You  only need to update the K-sized list for each record that is larger than the K-th largest element before it. For a randomly distributed list with N much larger than K, that will be negligible, so the time complexity will be closer to O(N).</p>\n<p>For the K-sized list, you can take a look at the implementation of <a href=\"https://stackoverflow.com/questions/7878026/is-there-a-priorityqueue-implementation-with-fixed-capacity-and-custom-comparato\">Is there a PriorityQueue implementation with fixed capacity and custom comparator?</a> , which uses a PriorityQueue with some additional logic around it.</p>\n"},{"tags":[],"owner":{"account_id":6789440,"reputation":8118,"user_id":5227053,"accept_rate":29,"display_name":"AnoE"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659338736,"creation_date":1658316844,"answer_id":73050900,"question_id":73035944,"body_markdown":"There is an algorithm to do this in worst-case time complexity  _O(n*log(k))_ with very benign time constants (since there is just one pass through the original array, and the inner part that contributes to the _log(k)_ is only accessed _relatively_ seldomly if the input data is well-behaved).\r\n\r\n* Initialize a [priority queue implemented with a binary heap][1] _A_ of maximum size _k_ (internally using an array for storage). In the worst case, this has _O(log(k))_ for inserting, deleting and searching/manipulating the minimum element (in fact, retrieving the minimum is _O(1)_).\r\n* Iterate through the original unsorted array, and for each value _v_:  \r\n  * If _A_ is not yet full then \r\n    * insert _v_ into _A_, \r\n  * else, if _v&gt;min(A)_ then (*)\r\n    * insert _v_ into _A_,\r\n    * remove the lowest value from _A_.\r\n\r\n(*) Note that _A_ can return repeated values if some of the highest _k_ values occur repeatedly in the source set. You can avoid that by a search operation to make sure that _v_ is not yet in _A_. You&#39;d also want to find a suitable data structure for that (as the priority queue has linear complexity), i.e. a secondary hash table or balanced binary search tree or something like that, both of which are available in `java.util`.\r\n\r\nThe [java.util.PriorityQueue][2] helpfully guarantees the time complexity of its operations:\r\n\r\n&gt; this implementation provides O(log(n)) time for the enqueing and dequeing methods (offer, poll, remove() and add); linear time for the remove(Object) and contains(Object) methods; and constant time for the retrieval methods (peek, element, and size).\r\n\r\nNote that as laid out above, we only ever remove the lowest (first) element from _A_, so we enjoy the _O(log(k))_ for that. If you want to avoid duplicates as mentioned above, then you also need to search for any new value added to it (with _O(k)_), which opens you up to a worst-case overall scenario of _O(n*k)_ instead of _O(n*log(k))_ in case of a pre-sorted input array, where every single element _v_ causes the inner loop to fire.\r\n\r\n  [1]: https://bradfieldcs.com/algos/trees/priority-queues-with-binary-heaps/\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\r\n  [3]: https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree","title":"Best way to retrieve K largest elements from large unsorted arrays?","body":"<p>There is an algorithm to do this in worst-case time complexity  <em>O(n*log(k))</em> with very benign time constants (since there is just one pass through the original array, and the inner part that contributes to the <em>log(k)</em> is only accessed <em>relatively</em> seldomly if the input data is well-behaved).</p>\n<ul>\n<li>Initialize a <a href=\"https://bradfieldcs.com/algos/trees/priority-queues-with-binary-heaps/\" rel=\"nofollow noreferrer\">priority queue implemented with a binary heap</a> <em>A</em> of maximum size <em>k</em> (internally using an array for storage). In the worst case, this has <em>O(log(k))</em> for inserting, deleting and searching/manipulating the minimum element (in fact, retrieving the minimum is <em>O(1)</em>).</li>\n<li>Iterate through the original unsorted array, and for each value <em>v</em>:\n<ul>\n<li>If <em>A</em> is not yet full then\n<ul>\n<li>insert <em>v</em> into <em>A</em>,</li>\n</ul>\n</li>\n<li>else, if <em>v&gt;min(A)</em> then (*)\n<ul>\n<li>insert <em>v</em> into <em>A</em>,</li>\n<li>remove the lowest value from <em>A</em>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>(*) Note that <em>A</em> can return repeated values if some of the highest <em>k</em> values occur repeatedly in the source set. You can avoid that by a search operation to make sure that <em>v</em> is not yet in <em>A</em>. You'd also want to find a suitable data structure for that (as the priority queue has linear complexity), i.e. a secondary hash table or balanced binary search tree or something like that, both of which are available in <code>java.util</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">java.util.PriorityQueue</a> helpfully guarantees the time complexity of its operations:</p>\n<blockquote>\n<p>this implementation provides O(log(n)) time for the enqueing and dequeing methods (offer, poll, remove() and add); linear time for the remove(Object) and contains(Object) methods; and constant time for the retrieval methods (peek, element, and size).</p>\n</blockquote>\n<p>Note that as laid out above, we only ever remove the lowest (first) element from <em>A</em>, so we enjoy the <em>O(log(k))</em> for that. If you want to avoid duplicates as mentioned above, then you also need to search for any new value added to it (with <em>O(k)</em>), which opens you up to a worst-case overall scenario of <em>O(n*k)</em> instead of <em>O(n*log(k))</em> in case of a pre-sorted input array, where every single element <em>v</em> causes the inner loop to fire.</p>\n"},{"tags":[],"owner":{"account_id":3813614,"reputation":9747,"user_id":3163618,"accept_rate":82,"display_name":"qwr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658342557,"creation_date":1658341391,"answer_id":73056493,"question_id":73035944,"body_markdown":"This is a classic problem that can be solved with so-called heapselect, a simple variation on [heapsort](https://en.wikipedia.org/wiki/Heapsort). It also can be solved with quickselect, but like quicksort has poor quadratic *worst-case* time complexity. \r\n\r\nSimply keep a priority queue, implemented as binary heap, of size k of the k *smallest* values. Walk through the array, and insert values into the heap (worst case O(log k)). When the priority queue is too large, delete the minimum value at the root (worst case O(log k)). After going through the n array elements, you have removed the n-k smallest elements, so the k *largest* elements remain. It&#39;s easy to see the worst-case time complexity is O(n log k), which is faster than O(n log n) at the cost of only O(k) space for the heap. ","title":"Best way to retrieve K largest elements from large unsorted arrays?","body":"<p>This is a classic problem that can be solved with so-called heapselect, a simple variation on <a href=\"https://en.wikipedia.org/wiki/Heapsort\" rel=\"noreferrer\">heapsort</a>. It also can be solved with quickselect, but like quicksort has poor quadratic <em>worst-case</em> time complexity.</p>\n<p>Simply keep a priority queue, implemented as binary heap, of size k of the k <em>smallest</em> values. Walk through the array, and insert values into the heap (worst case O(log k)). When the priority queue is too large, delete the minimum value at the root (worst case O(log k)). After going through the n array elements, you have removed the n-k smallest elements, so the k <em>largest</em> elements remain. It's easy to see the worst-case time complexity is O(n log k), which is faster than O(n log n) at the cost of only O(k) space for the heap.</p>\n"}],"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4538,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"accepted_answer_id":73036179,"answer_count":6,"score":32,"last_activity_date":1659349450,"creation_date":1658229477,"question_id":73035944,"body_markdown":"I recently had a coding test during an interview. I was told:\r\n\r\n&gt; There is a large unsorted array of one million `int`s. User wants to retrieve `K` largest elements. What algorithm would you implement?\r\n\r\nDuring this, I was strongly hinted that I needed to sort the array.\r\n\r\nSo, I suggested to use built-in `sort()` or maybe a custom implementation if performance really mattered. I was then told that using a `Collection` or *array* to store the `k` largest and for-loop it is possible to achieve approximately `O(N)`, in hindsight, I think it&#39;s `O(N*k)` because each iteration needs to compare to the `K` sized array to find the smallest element to replace, while the need to sort the array would cause the code to be at least `O(N log N)`. \r\n\r\nI then reviewed this link on SO that suggests priority queue of `K` numbers, removing the smallest number every time a larger element is found, which would also give `O(N log N)`. https://stackoverflow.com/questions/19227698/write-a-program-to-find-100-largest-numbers-out-of-an-array-of-1-billion-numbers\r\n\r\nIs the for-loop method bad? How should I justify pros/cons of using the for-loop or the priorityqueue/sorting methods? I&#39;m thinking that if the array is already sorted, it could help by not needing to iterate through the whole array again, i.e. if some other method of retrieval is called on the sorted array, it should be constant time. Is there some performance factor when running the actual code that I didn&#39;t consider when theorizing pseudocode?\r\n","title":"Best way to retrieve K largest elements from large unsorted arrays?","body":"<p>I recently had a coding test during an interview. I was told:</p>\n<blockquote>\n<p>There is a large unsorted array of one million <code>int</code>s. User wants to retrieve <code>K</code> largest elements. What algorithm would you implement?</p>\n</blockquote>\n<p>During this, I was strongly hinted that I needed to sort the array.</p>\n<p>So, I suggested to use built-in <code>sort()</code> or maybe a custom implementation if performance really mattered. I was then told that using a <code>Collection</code> or <em>array</em> to store the <code>k</code> largest and for-loop it is possible to achieve approximately <code>O(N)</code>, in hindsight, I think it's <code>O(N*k)</code> because each iteration needs to compare to the <code>K</code> sized array to find the smallest element to replace, while the need to sort the array would cause the code to be at least <code>O(N log N)</code>.</p>\n<p>I then reviewed this link on SO that suggests priority queue of <code>K</code> numbers, removing the smallest number every time a larger element is found, which would also give <code>O(N log N)</code>. <a href=\"https://stackoverflow.com/questions/19227698/write-a-program-to-find-100-largest-numbers-out-of-an-array-of-1-billion-numbers\">Write a program to find 100 largest numbers out of an array of 1 billion numbers</a></p>\n<p>Is the for-loop method bad? How should I justify pros/cons of using the for-loop or the priorityqueue/sorting methods? I'm thinking that if the array is already sorted, it could help by not needing to iterate through the whole array again, i.e. if some other method of retrieval is called on the sorted array, it should be constant time. Is there some performance factor when running the actual code that I didn't consider when theorizing pseudocode?</p>\n"},{"tags":["java","kubernetes","mysql-cluster"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659349297,"creation_date":1659349297,"answer_id":73192294,"question_id":73189917,"body_markdown":"In your Java code, you are explicitly including double quotes in the string, `withCommand(&quot;bash&quot;, &quot;\\&quot;-c\\&quot;&quot;, ...)`.  That&#39;s causing the container command to execute something similar to `bash &#39;&quot;-c&quot;&#39; ...` where the quotes are part of the argument.  In turn, that doesn&#39;t start with a hyphen, so bash interprets it as a script to run, but when there isn&#39;t a local file named exactly `&quot;-c&quot;` including the quotes as part of the filename, you get that error.\r\n\r\nThe answer to your immediate question is just to remove those extra quotes\r\n\r\n```java\r\n.withCommand(&quot;bash&quot;,\r\n             &quot;-c&quot;,   // no extra quotes here\r\n             ...)\r\n```\r\n\r\nThere&#39;s a second half of your question about the YAML syntax: why does what you show work?  I believe it would also work to remove the double quotes here\r\n\r\n```yaml\r\ncommand:\r\n  - bash\r\n  - -c\r\n  - ...\r\n```\r\n\r\nThe trick here is that YAML has three different kinds of inline strings (&quot;flow scalars&quot;).  [Plain strings](https://yaml.org/spec/1.2.2/#733-plain-style) have no quotes but allow no escaping either; [single-quoted strings](https://yaml.org/spec/1.2.2/#732-single-quoted-style) have `&#39;single quotes&#39;` but very limited escaping options; and [double-quoted strings](https://yaml.org/spec/1.2.2/#731-double-quoted-style) have `&quot;double quotes&quot;` and also can represent any string through escaping.  [Block scalars](https://yaml.org/spec/1.2.2/#81-block-scalar-styles) provide a further kind of string for multi-line text.\r\n\r\n```yaml\r\nThese are all the same:\r\n  - the same\r\n  - &#39;the same&#39;\r\n  - &quot;the same&quot;\r\n  - &quot;the\\u0020same&quot;\r\n  - &gt;-\r\n    the same\r\n```\r\n\r\nIn some cases you need a particular quoting style to work around YAML syntax issues.  In your case, the `-c` option looks somewhat similar to the YAML `- item` list syntax (though the list syntax _requires_ a space after the hyphen) so perhaps the original YAML author chose to quote it to make it unambiguous.  It shouldn&#39;t be required here though.\r\n\r\nThe YAML parser will remove the quotes before the application sees them.  In the Kubernetes case, this means the quotes around `&quot;-c&quot;` are removed at the YAML layer and the actual command list contains `[bash, -c, ...]` with no quotes.","title":"how to ues kubernetes api for java to create mysql cluster","body":"<p>In your Java code, you are explicitly including double quotes in the string, <code>withCommand(&quot;bash&quot;, &quot;\\&quot;-c\\&quot;&quot;, ...)</code>.  That's causing the container command to execute something similar to <code>bash '&quot;-c&quot;' ...</code> where the quotes are part of the argument.  In turn, that doesn't start with a hyphen, so bash interprets it as a script to run, but when there isn't a local file named exactly <code>&quot;-c&quot;</code> including the quotes as part of the filename, you get that error.</p>\n<p>The answer to your immediate question is just to remove those extra quotes</p>\n<pre class=\"lang-java prettyprint-override\"><code>.withCommand(&quot;bash&quot;,\n             &quot;-c&quot;,   // no extra quotes here\n             ...)\n</code></pre>\n<p>There's a second half of your question about the YAML syntax: why does what you show work?  I believe it would also work to remove the double quotes here</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>command:\n  - bash\n  - -c\n  - ...\n</code></pre>\n<p>The trick here is that YAML has three different kinds of inline strings (&quot;flow scalars&quot;).  <a href=\"https://yaml.org/spec/1.2.2/#733-plain-style\" rel=\"nofollow noreferrer\">Plain strings</a> have no quotes but allow no escaping either; <a href=\"https://yaml.org/spec/1.2.2/#732-single-quoted-style\" rel=\"nofollow noreferrer\">single-quoted strings</a> have <code>'single quotes'</code> but very limited escaping options; and <a href=\"https://yaml.org/spec/1.2.2/#731-double-quoted-style\" rel=\"nofollow noreferrer\">double-quoted strings</a> have <code>&quot;double quotes&quot;</code> and also can represent any string through escaping.  <a href=\"https://yaml.org/spec/1.2.2/#81-block-scalar-styles\" rel=\"nofollow noreferrer\">Block scalars</a> provide a further kind of string for multi-line text.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>These are all the same:\n  - the same\n  - 'the same'\n  - &quot;the same&quot;\n  - &quot;the\\u0020same&quot;\n  - &gt;-\n    the same\n</code></pre>\n<p>In some cases you need a particular quoting style to work around YAML syntax issues.  In your case, the <code>-c</code> option looks somewhat similar to the YAML <code>- item</code> list syntax (though the list syntax <em>requires</em> a space after the hyphen) so perhaps the original YAML author chose to quote it to make it unambiguous.  It shouldn't be required here though.</p>\n<p>The YAML parser will remove the quotes before the application sees them.  In the Kubernetes case, this means the quotes around <code>&quot;-c&quot;</code> are removed at the YAML layer and the actual command list contains <code>[bash, -c, ...]</code> with no quotes.</p>\n"}],"owner":{"account_id":25944979,"reputation":13,"user_id":19663809,"display_name":"ice-sugar gourd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73192294,"answer_count":1,"score":1,"last_activity_date":1659349297,"creation_date":1659337497,"question_id":73189917,"body_markdown":"First, the yaml file is right,because I can use them directley create a mysql cluster in kubernetes.   \r\nbut when I try to create a mysql cluster by kubernetes api for java, an error occured  \r\nThe commond in yaml file cannot be recognized by the process.  \r\nThe key component of the yaml file is as follows\r\n```yaml\r\ninitContainers:\r\n      - name: init-mysql\r\n        image: mysql:5.7.33\r\n        env:\r\n        - name: MYSQL_ROOT_PASSWORD\r\n          valueFrom:\r\n            secretKeyRef:\r\n              name: mysql-secret\r\n              key: password\r\n        command:\r\n        - bash\r\n        - &quot;-c&quot;\r\n        - |\r\n          set -ex\r\n          [[ $(hostname) =~ -([0-9]+)$ ]] || exit 1\r\n          ordinal=${BASH_REMATCH[1]}\r\n          echo [mysqld] &gt; /mnt/conf.d/server-id.cnf\r\n          echo server-id=$((100 + $ordinal)) &gt;&gt; /mnt/conf.d/server-id.cnf\r\n          if [[ ${ordinal} -eq 0 ]]; then\r\n            cp /mnt/config-map/master.cnf /mnt/conf.d\r\n          else\r\n            cp /mnt/config-map/slave.cnf /mnt/conf.d\r\n          fi\r\n        volumeMounts:\r\n        - name: conf\r\n          mountPath: /mnt/conf.d\r\n        - name: config-map\r\n          mountPath: /mnt/config-map\r\n```\r\nand the java code is as follows\r\n```java\r\n........\r\n........\r\n.withInitContainers(new V1ContainerBuilder()\r\n        .withName(&quot;init-mysql&quot;)\r\n        .withImage(&quot;mysql:5.7.33&quot;)\r\n        .withEnv(env)\r\n        .withCommand(&quot;bash&quot;,\r\n                     &quot;\\&quot;-c\\&quot;&quot;,\r\n                     &quot;|&quot;,\r\n                     &quot;set -ex&quot;,\r\n                     &quot;[[ $(hostname) =~ -([0-9]+)$ ]] || exit 1&quot;,\r\n                     &quot;ordinal=${BASH_REMATCH[1]}&quot;,\r\n                     &quot;echo [mysqld] &gt; /mnt/conf.d/server-id.cnf&quot;,\r\n                     &quot;echo server-id=$((100 + $ordinal)) &gt;&gt; /mnt/conf.d/server-id.cnf&quot;,\r\n                     &quot;if [[ ${ordinal} -eq 0 ]]; then&quot;,\r\n                     &quot;  cp /mnt/config-map/master.cnf /mnt/conf.d&quot;,\r\n                     &quot;else&quot;,\r\n                     &quot;  cp /mnt/config-map/slave.cnf /mnt/conf.d&quot;,\r\n                     &quot;fi&quot;\r\n                     )\r\n         .withVolumeMounts(new V1VolumeMountBuilder()\r\n         .withName(&quot;conf&quot;)\r\n         .withMountPath(&quot;/mnt/conf.d&quot;)\r\n         .build(),\r\n         new V1VolumeMountBuilder()\r\n         .withName(&quot;config-map&quot;)\r\n         .withMountPath(&quot;/mnt/config-map&quot;)\r\n         .build()\r\n         )\r\n  .build(),\r\n  ......\r\n  ......\r\n```\r\nThe java code and the yaml file look the same, but when I execute it, an error occured. The result for kubectl logs is as follows\r\n```bash\r\nbash: &quot;-c&quot;: No such file or directory\r\n```\r\nso I think it may be caused by the uncorrect params of withCommand function.   \r\nHow can I fix it.Thank you.","title":"how to ues kubernetes api for java to create mysql cluster","body":"<p>First, the yaml file is right,because I can use them directley create a mysql cluster in kubernetes.<br />\nbut when I try to create a mysql cluster by kubernetes api for java, an error occured<br />\nThe commond in yaml file cannot be recognized by the process.<br />\nThe key component of the yaml file is as follows</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>initContainers:\n      - name: init-mysql\n        image: mysql:5.7.33\n        env:\n        - name: MYSQL_ROOT_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              name: mysql-secret\n              key: password\n        command:\n        - bash\n        - &quot;-c&quot;\n        - |\n          set -ex\n          [[ $(hostname) =~ -([0-9]+)$ ]] || exit 1\n          ordinal=${BASH_REMATCH[1]}\n          echo [mysqld] &gt; /mnt/conf.d/server-id.cnf\n          echo server-id=$((100 + $ordinal)) &gt;&gt; /mnt/conf.d/server-id.cnf\n          if [[ ${ordinal} -eq 0 ]]; then\n            cp /mnt/config-map/master.cnf /mnt/conf.d\n          else\n            cp /mnt/config-map/slave.cnf /mnt/conf.d\n          fi\n        volumeMounts:\n        - name: conf\n          mountPath: /mnt/conf.d\n        - name: config-map\n          mountPath: /mnt/config-map\n</code></pre>\n<p>and the java code is as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>........\n........\n.withInitContainers(new V1ContainerBuilder()\n        .withName(&quot;init-mysql&quot;)\n        .withImage(&quot;mysql:5.7.33&quot;)\n        .withEnv(env)\n        .withCommand(&quot;bash&quot;,\n                     &quot;\\&quot;-c\\&quot;&quot;,\n                     &quot;|&quot;,\n                     &quot;set -ex&quot;,\n                     &quot;[[ $(hostname) =~ -([0-9]+)$ ]] || exit 1&quot;,\n                     &quot;ordinal=${BASH_REMATCH[1]}&quot;,\n                     &quot;echo [mysqld] &gt; /mnt/conf.d/server-id.cnf&quot;,\n                     &quot;echo server-id=$((100 + $ordinal)) &gt;&gt; /mnt/conf.d/server-id.cnf&quot;,\n                     &quot;if [[ ${ordinal} -eq 0 ]]; then&quot;,\n                     &quot;  cp /mnt/config-map/master.cnf /mnt/conf.d&quot;,\n                     &quot;else&quot;,\n                     &quot;  cp /mnt/config-map/slave.cnf /mnt/conf.d&quot;,\n                     &quot;fi&quot;\n                     )\n         .withVolumeMounts(new V1VolumeMountBuilder()\n         .withName(&quot;conf&quot;)\n         .withMountPath(&quot;/mnt/conf.d&quot;)\n         .build(),\n         new V1VolumeMountBuilder()\n         .withName(&quot;config-map&quot;)\n         .withMountPath(&quot;/mnt/config-map&quot;)\n         .build()\n         )\n  .build(),\n  ......\n  ......\n</code></pre>\n<p>The java code and the yaml file look the same, but when I execute it, an error occured. The result for kubectl logs is as follows</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bash: &quot;-c&quot;: No such file or directory\n</code></pre>\n<p>so I think it may be caused by the uncorrect params of withCommand function.<br />\nHow can I fix it.Thank you.</p>\n"},{"tags":["javascript","java","spring","typescript","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1506020834,"post_id":46351096,"comment_id":79663150,"body_markdown":"What OS do you use? This option is not available on Windows, otherwise you can find it in the Tools menu.","body":"What OS do you use? This option is not available on Windows, otherwise you can find it in the Tools menu."},{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":0,"creation_date":1548697231,"post_id":46351096,"comment_id":95625774,"body_markdown":"I&#39;m in linux and it doesn&#39;t exist also. Version community 2019.1 EAP. If I try with find action, it is displayed grayed out.","body":"I&#39;m in linux and it doesn&#39;t exist also. Version community 2019.1 EAP. If I try with find action, it is displayed grayed out."},{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":2,"creation_date":1548701556,"post_id":46351096,"comment_id":95627729,"body_markdown":"Discovered that when using Jetbrains Toolbox, there is an official way to generate the script. Enter in the toolbox-&gt;settings (the gear next to the &#39;Log in&#39; button), there will be a &quot;Generate shell scripts&quot; option and location to set. However, even after setting that, and restarting the toobox, it did not generate the script in that path for me.","body":"Discovered that when using Jetbrains Toolbox, there is an official way to generate the script. Enter in the toolbox-&gt;settings (the gear next to the &#39;Log in&#39; button), there will be a &quot;Generate shell scripts&quot; option and location to set. However, even after setting that, and restarting the toobox, it did not generate the script in that path for me."},{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":1,"creation_date":1548702029,"post_id":46351096,"comment_id":95627940,"body_markdown":"Lol.. dumb me.. just take care not to set there a folder that you can only access with sudo. If you do that, it will fail silently the creation of the script. I have set /usr/local/bin and it failed... sorry","body":"Lol.. dumb me.. just take care not to set there a folder that you can only access with sudo. If you do that, it will fail silently the creation of the script. I have set /usr/local/bin and it failed... sorry"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1589679133,"creation_date":1506093848,"answer_id":46368157,"question_id":46351096,"body_markdown":"This option is not available on **Windows**, otherwise you can find it in the **Tools** menu.\r\n\r\n`Tools` | **Create Command-line Launcher** (available on Mac/Linux).\r\n\r\nIf IDE installation is managed by the [JetBrains Toolbox](https://www.jetbrains.com/toolbox/app/), launcher options will not be available in the IDE and you should use Toolbox settings to create a launcher instead.\r\n\r\n- [Shell scripts setting](https://i.stack.imgur.com/e5yzI.png)\r\n- [Per IDE script name](https://i.stack.imgur.com/7aXjl.png)","title":"Create Command-line Launcher Intellij not found","body":"<p>This option is not available on <strong>Windows</strong>, otherwise you can find it in the <strong>Tools</strong> menu.</p>\n\n<p><code>Tools</code> | <strong>Create Command-line Launcher</strong> (available on Mac/Linux).</p>\n\n<p>If IDE installation is managed by the <a href=\"https://www.jetbrains.com/toolbox/app/\" rel=\"nofollow noreferrer\">JetBrains Toolbox</a>, launcher options will not be available in the IDE and you should use Toolbox settings to create a launcher instead.</p>\n\n<ul>\n<li><a href=\"https://i.stack.imgur.com/e5yzI.png\" rel=\"nofollow noreferrer\">Shell scripts setting</a></li>\n<li><a href=\"https://i.stack.imgur.com/7aXjl.png\" rel=\"nofollow noreferrer\">Per IDE script name</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548702729,"creation_date":1548702729,"answer_id":54408762,"question_id":46351096,"body_markdown":"As I said in the comments of the question.\r\n\r\nAt least when using Idea Community 2019.1 EAP + Jetbrains Toolbox, even in Linux that option is disabled.\r\n\r\nYou must access the Jetbrains Toolbox-&gt;settings (the gear next to the &#39;Log in&#39; button), there will be a &quot;Generate shell scripts&quot; option and location to set.\r\nSet a location that you can access without sudo, and put that location on your PATH or copy the generated script to a path like /usr/local/bin.\r\n\r\nI needed that to be able to use kscript --idea xxxx.kts\r\n(putting this here so that the next person googling that finds the answer :) )","title":"Create Command-line Launcher Intellij not found","body":"<p>As I said in the comments of the question.</p>\n\n<p>At least when using Idea Community 2019.1 EAP + Jetbrains Toolbox, even in Linux that option is disabled.</p>\n\n<p>You must access the Jetbrains Toolbox->settings (the gear next to the 'Log in' button), there will be a \"Generate shell scripts\" option and location to set.\nSet a location that you can access without sudo, and put that location on your PATH or copy the generated script to a path like /usr/local/bin.</p>\n\n<p>I needed that to be able to use kscript --idea xxxx.kts\n(putting this here so that the next person googling that finds the answer :) )</p>\n"},{"tags":[],"owner":{"account_id":11479080,"reputation":31,"user_id":8413761,"display_name":"iftash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554173588,"creation_date":1554173588,"answer_id":55466278,"question_id":46351096,"body_markdown":"When installing the 2019.1 IDE version via toolbox, you need first to remove the previously generated Command-Line Launcher (e.g. via Tools | Create Command-line Launcher)\r\n\r\nThen Enable the Generate Shell script option ToolBox and specify the same path that was used before (e.g /use/local/bin/)\r\n\r\n ","title":"Create Command-line Launcher Intellij not found","body":"<p>When installing the 2019.1 IDE version via toolbox, you need first to remove the previously generated Command-Line Launcher (e.g. via Tools | Create Command-line Launcher)</p>\n\n<p>Then Enable the Generate Shell script option ToolBox and specify the same path that was used before (e.g /use/local/bin/)</p>\n"},{"tags":[],"owner":{"account_id":5239941,"reputation":647,"user_id":4187334,"display_name":"osuwireless"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1557364542,"creation_date":1557364542,"answer_id":56050914,"question_id":46351096,"body_markdown":"For **Mac OS** with +2019 Intellij:\r\n\r\n 1. You&#39;ll need [JetBrains ToolBox][1]\r\n 2. Turn on Generate shell scripts (no longer in tools &gt; create command line launcher)\r\n[![enter image description here][2]][2]\r\n 3. Set path to /usr/local/bin/ \r\n 4. Delete your old executable in /usr/local/bin/\r\n 5. Quit and re-launch toolbox \r\n\r\n\r\n  [1]: https://www.jetbrains.com/toolbox/app/\r\n  [2]: https://i.stack.imgur.com/w3m8d.png","title":"Create Command-line Launcher Intellij not found","body":"<p>For <strong>Mac OS</strong> with +2019 Intellij:</p>\n\n<ol>\n<li>You'll need <a href=\"https://www.jetbrains.com/toolbox/app/\" rel=\"noreferrer\">JetBrains ToolBox</a></li>\n<li>Turn on Generate shell scripts (no longer in tools > create command line launcher)\n<a href=\"https://i.stack.imgur.com/w3m8d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/w3m8d.png\" alt=\"enter image description here\"></a></li>\n<li>Set path to /usr/local/bin/ </li>\n<li>Delete your old executable in /usr/local/bin/</li>\n<li>Quit and re-launch toolbox </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576580648,"creation_date":1576580648,"answer_id":59372885,"question_id":46351096,"body_markdown":"On Linux, installing `IntelliJ IDEA` as a **snap** package automatically creates the command-line launcher named `intellij-idea-community` or `intellij-idea-ultimate`. The **Tools | Create Command-line** Launcher command is therefore **not** available.\r\n\r\nCheck [this link][1] for more information on enabling it on **Windows,macOS and Linux**.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/working-with-the-ide-features-from-command-line.html?keymap=primary_visual_studio","title":"Create Command-line Launcher Intellij not found","body":"<p>On Linux, installing <code>IntelliJ IDEA</code> as a <strong>snap</strong> package automatically creates the command-line launcher named <code>intellij-idea-community</code> or <code>intellij-idea-ultimate</code>. The <strong>Tools | Create Command-line</strong> Launcher command is therefore <strong>not</strong> available.</p>\n\n<p>Check <a href=\"https://www.jetbrains.com/help/idea/working-with-the-ide-features-from-command-line.html?keymap=primary_visual_studio\" rel=\"nofollow noreferrer\">this link</a> for more information on enabling it on <strong>Windows,macOS and Linux</strong>.</p>\n"},{"tags":[],"owner":{"account_id":907672,"reputation":668,"user_id":942223,"accept_rate":50,"display_name":"tiriana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659348251,"creation_date":1659348251,"answer_id":73192072,"question_id":46351096,"body_markdown":"For Toolbox version: after a long search I ended up writing this snippet and putting it in `~/.profile`\r\n\r\n    alias idea=&quot;$(find ~/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0 -maxdepth 1 -type d -name &quot;2*&quot; -not -name &quot;*plugins&quot; -printf &quot;%T@ %p\\n&quot; | sort -nr | head -n 1 | rev | cut -d &#39; &#39; -f &#39;1&#39; | rev)/bin/idea.sh&quot;\r\n\r\n\r\nHere&#39;s a gist with this command https://gist.github.com/tiriana/9a163cd5436158d93c89e0d20b99caa9.js","title":"Create Command-line Launcher Intellij not found","body":"<p>For Toolbox version: after a long search I ended up writing this snippet and putting it in <code>~/.profile</code></p>\n<pre><code>alias idea=&quot;$(find ~/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0 -maxdepth 1 -type d -name &quot;2*&quot; -not -name &quot;*plugins&quot; -printf &quot;%T@ %p\\n&quot; | sort -nr | head -n 1 | rev | cut -d ' ' -f '1' | rev)/bin/idea.sh&quot;\n</code></pre>\n<p>Here's a gist with this command <a href=\"https://gist.github.com/tiriana/9a163cd5436158d93c89e0d20b99caa9.js\" rel=\"nofollow noreferrer\">https://gist.github.com/tiriana/9a163cd5436158d93c89e0d20b99caa9.js</a></p>\n"}],"owner":{"account_id":2744987,"reputation":565,"user_id":2365595,"accept_rate":0,"display_name":"Aidoru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19771,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":6,"score":19,"last_activity_date":1659348251,"creation_date":1506019354,"question_id":46351096,"body_markdown":"I would like to use \r\n\r\n    idea pom.xml\r\n\r\nfrom command line to launch a simple Maven project, and so I think I need to configure using &quot;Create Command-line Launcher&quot; the script path, but I cannot find it in Intellij Ultimate, if I search it in File / Settings I can find it, but then if I add a keyboard shortcut it doesn&#39;t work.\r\n\r\nCould someone help me?\r\n\r\nThank you","title":"Create Command-line Launcher Intellij not found","body":"<p>I would like to use </p>\n\n<pre><code>idea pom.xml\n</code></pre>\n\n<p>from command line to launch a simple Maven project, and so I think I need to configure using \"Create Command-line Launcher\" the script path, but I cannot find it in Intellij Ultimate, if I search it in File / Settings I can find it, but then if I add a keyboard shortcut it doesn't work.</p>\n\n<p>Could someone help me?</p>\n\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":69659,"reputation":9188,"user_id":202553,"accept_rate":71,"display_name":"knb"},"score":0,"creation_date":1659344788,"post_id":73191309,"comment_id":129264198,"body_markdown":"Possible duplicate of [Generating the power set of a String](https://stackoverflow.com/questions/36296514/generating-the-power-set-of-a-string) (in Java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36296514/generating-the-power-set-of-a-string\">Generating the power set of a String</a> (in Java)"},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":1,"creation_date":1659345234,"post_id":73191309,"comment_id":129264364,"body_markdown":"You never remove anything from the string builder so it gets bigger and bigger. You can start with that.","body":"You never remove anything from the string builder so it gets bigger and bigger. You can start with that."},{"owner":{"account_id":17515040,"reputation":19,"user_id":12702181,"display_name":"Faiza Hafiz"},"score":0,"creation_date":1659366777,"post_id":73191309,"comment_id":129271988,"body_markdown":"@Dici Thanks. I messed up with the concepts a bit","body":"@Dici Thanks. I messed up with the concepts a bit"}],"answers":[{"tags":[],"owner":{"account_id":5913014,"reputation":31,"user_id":4652606,"display_name":"Gautam Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659345440,"creation_date":1659345440,"answer_id":73191501,"question_id":73191309,"body_markdown":"    \r\n    import java.util.*;\r\n    class SubSequences {\r\n    static void get_sequence(String str, String ans, int i) {\r\n        // Base condition\r\n        if (i == str.length()) {\r\n            System.out.println(&quot;&#39;&quot; + ans + &quot;&#39;&quot;);\r\n            return;\r\n        }\r\n        // Before character gets added to final\r\n        get_sequence(str, ans, i + 1);\r\n        // after character gets added to ans\r\n        get_sequence(str, ans + str.charAt(i), i + 1);\r\n\r\n    }\r\n\r\n    public static void main(String arg[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String str;\r\n        System.out.println(&quot;Enter the string&quot;);\r\n        str = sc.nextLine();\r\n\r\n        System.out.println(&quot;All possible subsequences are:&quot;);\r\n        get_sequence(str, &quot;&quot;, 0);\r\n    }\r\n}","title":"Find possible subsequences in java","body":"<pre><code>import java.util.*;\nclass SubSequences {\nstatic void get_sequence(String str, String ans, int i) {\n    // Base condition\n    if (i == str.length()) {\n        System.out.println(&quot;'&quot; + ans + &quot;'&quot;);\n        return;\n    }\n    // Before character gets added to final\n    get_sequence(str, ans, i + 1);\n    // after character gets added to ans\n    get_sequence(str, ans + str.charAt(i), i + 1);\n\n}\n\npublic static void main(String arg[]) {\n    Scanner sc = new Scanner(System.in);\n    String str;\n    System.out.println(&quot;Enter the string&quot;);\n    str = sc.nextLine();\n\n    System.out.println(&quot;All possible subsequences are:&quot;);\n    get_sequence(str, &quot;&quot;, 0);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":17515040,"reputation":19,"user_id":12702181,"display_name":"Faiza Hafiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659348051,"creation_date":1659348051,"answer_id":73192032,"question_id":73191309,"body_markdown":"Changed StringBuilder to String and its working now.\r\n```\r\nclass Solution\r\n{\r\n    public void helpr(String s,int ind,int n,String curr,List&lt;String&gt; res){\r\n        if(ind==n){\r\n            \r\n            res.add(curr);\r\n            return;\r\n        }\r\n        \r\n        helpr(s,ind+1,n,curr+s.charAt(ind),res);\r\n        \r\n        helpr(s,ind+1,n,curr,res);\r\n    }\r\n    public List&lt;String&gt; AllPossibleStrings(String s)\r\n    {\r\n        String curr =&quot;&quot; ;\r\n        List&lt;String&gt; res = new ArrayList&lt;String&gt;();\r\n        \r\n        helpr(s,0,s.length(),curr,res);\r\n        \r\n        Collections.sort(res);\r\n        res.remove(0);\r\n        return res;\r\n    }\r\n}\r\n```","title":"Find possible subsequences in java","body":"<p>Changed StringBuilder to String and its working now.</p>\n<pre><code>class Solution\n{\n    public void helpr(String s,int ind,int n,String curr,List&lt;String&gt; res){\n        if(ind==n){\n            \n            res.add(curr);\n            return;\n        }\n        \n        helpr(s,ind+1,n,curr+s.charAt(ind),res);\n        \n        helpr(s,ind+1,n,curr,res);\n    }\n    public List&lt;String&gt; AllPossibleStrings(String s)\n    {\n        String curr =&quot;&quot; ;\n        List&lt;String&gt; res = new ArrayList&lt;String&gt;();\n        \n        helpr(s,0,s.length(),curr,res);\n        \n        Collections.sort(res);\n        res.remove(0);\n        return res;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17515040,"reputation":19,"user_id":12702181,"display_name":"Faiza Hafiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659348051,"creation_date":1659344575,"question_id":73191309,"body_markdown":"Given a string S, find all the possible subsequences of the String in lexicographically-sorted order. I implemented in java but I am getting incorrect output. Please help\r\n```java\r\nclass Solution\r\n{\r\n    public void helpr(String s,int ind,int n,StringBuilder curr,List&lt;String&gt; res){\r\n        if(ind==n){\r\n            res.add(curr.toString());\r\n            return;\r\n        }\r\n        helpr(s,ind+1,n,curr.append(s.charAt(ind)),res);\r\n        helpr(s,ind+1,n,curr,res);\r\n    }\r\n\r\n    public List&lt;String&gt; AllPossibleStrings(String s)\r\n    {\r\n        StringBuilder curr = new StringBuilder(&quot;&quot;);\r\n        List&lt;String&gt; res = new ArrayList&lt;String&gt;();\r\n        helpr(s,0,s.length(),curr,res);\r\n        Collections.sort(res);\r\n        res.remove(0);\r\n        return res;\r\n    }\r\n}\r\n```\r\nfor input - `abc`  \r\nactual op: `abc abcc abcc abccbc abccbc abccbcc abccbcc`  \r\nrequired op: `a ab abc ac b bc c`","title":"Find possible subsequences in java","body":"<p>Given a string S, find all the possible subsequences of the String in lexicographically-sorted order. I implemented in java but I am getting incorrect output. Please help</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution\n{\n    public void helpr(String s,int ind,int n,StringBuilder curr,List&lt;String&gt; res){\n        if(ind==n){\n            res.add(curr.toString());\n            return;\n        }\n        helpr(s,ind+1,n,curr.append(s.charAt(ind)),res);\n        helpr(s,ind+1,n,curr,res);\n    }\n\n    public List&lt;String&gt; AllPossibleStrings(String s)\n    {\n        StringBuilder curr = new StringBuilder(&quot;&quot;);\n        List&lt;String&gt; res = new ArrayList&lt;String&gt;();\n        helpr(s,0,s.length(),curr,res);\n        Collections.sort(res);\n        res.remove(0);\n        return res;\n    }\n}\n</code></pre>\n<p>for input - <code>abc</code><br />\nactual op: <code>abc abcc abcc abccbc abccbc abccbcc abccbcc</code><br />\nrequired op: <code>a ab abc ac b bc c</code></p>\n"},{"tags":["java","xml","jackson","jackson-databind","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":1156433,"reputation":1407,"user_id":1136905,"accept_rate":83,"display_name":"swaechter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659347637,"creation_date":1659347637,"answer_id":73191937,"question_id":73187239,"body_markdown":"The solution is to move the `@JacksonXmlRootElement` class annotation from the `Item` class to the field variable `items` in `Frame`:\r\n\r\n```\r\n@JacksonXmlProperty(localName = &quot;item&quot;)\r\n@JacksonXmlElementWrapper(useWrapping = false)\r\nprivate List&lt;Item&gt; items;\r\n```\r\n\r\nAfterwards the child item are properly read.","title":"How to use Jackson to map XML child entries with a root element that has attributes","body":"<p>The solution is to move the <code>@JacksonXmlRootElement</code> class annotation from the <code>Item</code> class to the field variable <code>items</code> in <code>Frame</code>:</p>\n<pre><code>@JacksonXmlProperty(localName = &quot;item&quot;)\n@JacksonXmlElementWrapper(useWrapping = false)\nprivate List&lt;Item&gt; items;\n</code></pre>\n<p>Afterwards the child item are properly read.</p>\n"}],"owner":{"account_id":1156433,"reputation":1407,"user_id":1136905,"accept_rate":83,"display_name":"swaechter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73191937,"answer_count":1,"score":0,"last_activity_date":1659347637,"creation_date":1659305322,"question_id":73187239,"body_markdown":"Let&#39;s say we have the following XML file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;car&gt;\r\n    &lt;name&gt;Speedy VW Golf&lt;/name&gt;\r\n    &lt;tires&gt;\r\n        &lt;tire&gt;\r\n            &lt;value&gt;Michelin FL&lt;/value&gt;\r\n        &lt;/tire&gt;\r\n        &lt;tire&gt;\r\n            &lt;value&gt;Michelin FR&lt;/value&gt;\r\n        &lt;/tire&gt;\r\n        &lt;tire&gt;\r\n            &lt;value&gt;Michelin BL&lt;/value&gt;\r\n        &lt;/tire&gt;\r\n        &lt;tire&gt;\r\n            &lt;value&gt;Michelin BR&lt;/value&gt;\r\n        &lt;/tire&gt;\r\n    &lt;/tires&gt;\r\n    &lt;component componentId=&quot;compId&quot;, serialId=&quot;lalal&quot;&gt;\r\n        &lt;frame frameId=&quot;1234-56789-0&quot; vendor=&quot;Steel MC&quot;&gt;\r\n            &lt;item vendorName=&quot;Foo&quot; country=&quot;Italy&quot;/&gt;\r\n            &lt;item vendorName=&quot;Bar&quot; country=&quot;Germany&quot;/&gt;\r\n            &lt;item vendorName=&quot;Foobar&quot; country=&quot;China&quot;/&gt;\r\n        &lt;/frame&gt;\r\n    &lt;/component&gt;\r\n&lt;/car&gt;\r\n```\r\n\r\nHow can I map all `item` children? The following Java code:\r\n\r\n```java\r\npackage com.acme.carsample;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\n\r\nimport java.io.File;\r\nimport java.nio.file.Files;\r\nimport java.util.List;\r\n\r\npublic class CarReader {\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public static class Car {\r\n\r\n        private String name;\r\n\r\n        private List&lt;Tire&gt; tires;\r\n\r\n        private Component component;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;Tire&gt; getTires() {\r\n            return tires;\r\n        }\r\n\r\n        public void setTires(List&lt;Tire&gt; tires) {\r\n            this.tires = tires;\r\n        }\r\n\r\n        public Component getComponent() {\r\n            return component;\r\n        }\r\n\r\n        public void setComponent(Component component) {\r\n            this.component = component;\r\n        }\r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public static class Tire {\r\n\r\n        private String value;\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n\r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public static class Component {\r\n\r\n        private Frame frame;\r\n\r\n        public Frame getFrame() {\r\n            return frame;\r\n        }\r\n\r\n        public void setFrame(Frame frame) {\r\n            this.frame = frame;\r\n        }\r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public static class Frame {\r\n\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String frameId;\r\n\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String vendor;\r\n\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        private List&lt;Item&gt; items;\r\n\r\n        public String getFrameId() {\r\n            return frameId;\r\n        }\r\n\r\n        public void setFrameId(String frameId) {\r\n            this.frameId = frameId;\r\n        }\r\n\r\n        public String getVendor() {\r\n            return vendor;\r\n        }\r\n\r\n        public void setVendor(String vendor) {\r\n            this.vendor = vendor;\r\n        }\r\n\r\n        public List&lt;Item&gt; getItems() {\r\n            return items;\r\n        }\r\n\r\n        public void setItems(List&lt;Item&gt; items) {\r\n            this.items = items;\r\n        }\r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JacksonXmlRootElement(localName = &quot;item&quot;)\r\n    public static class Item {\r\n\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String vendorName;\r\n\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String country;\r\n\r\n        public String getVendorName() {\r\n            return vendorName;\r\n        }\r\n\r\n        public void setVendorName(String vendorName) {\r\n            this.vendorName = vendorName;\r\n        }\r\n\r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n\r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] arguments) {\r\n        try {\r\n            // Deserialize the car object (XML to Java)\r\n            String data = new String(Files.readAllBytes(new File(&quot;Car.xml&quot;).toPath()));\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            Car car = xmlMapper.readValue(data, Car.class);\r\n\r\n            // Serialize the car object (Java to json)\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            data = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(car);\r\n            System.out.println(data);\r\n\r\n        } catch (Exception exception) {\r\n            System.err.println(&quot;An error occurred: &quot; + exception.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nResults in the following JSON output (The `item` children attributes are not mapped as list, but are instead `null`:\r\n\r\n```json\r\n{\r\n  &quot;name&quot; : &quot;Speedy VW Golf&quot;,\r\n  &quot;tires&quot; : [ {\r\n    &quot;value&quot; : &quot;Michelin FL&quot;\r\n  }, {\r\n    &quot;value&quot; : &quot;Michelin FR&quot;\r\n  }, {\r\n    &quot;value&quot; : &quot;Michelin BL&quot;\r\n  }, {\r\n    &quot;value&quot; : &quot;Michelin BR&quot;\r\n  } ],\r\n  &quot;component&quot; : {\r\n    &quot;frame&quot; : {\r\n      &quot;frameId&quot; : &quot;1234-56789-0&quot;,\r\n      &quot;vendor&quot; : &quot;Steel MC&quot;,\r\n      &quot;items&quot; : null\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"How to use Jackson to map XML child entries with a root element that has attributes","body":"<p>Let's say we have the following XML file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;car&gt;\n    &lt;name&gt;Speedy VW Golf&lt;/name&gt;\n    &lt;tires&gt;\n        &lt;tire&gt;\n            &lt;value&gt;Michelin FL&lt;/value&gt;\n        &lt;/tire&gt;\n        &lt;tire&gt;\n            &lt;value&gt;Michelin FR&lt;/value&gt;\n        &lt;/tire&gt;\n        &lt;tire&gt;\n            &lt;value&gt;Michelin BL&lt;/value&gt;\n        &lt;/tire&gt;\n        &lt;tire&gt;\n            &lt;value&gt;Michelin BR&lt;/value&gt;\n        &lt;/tire&gt;\n    &lt;/tires&gt;\n    &lt;component componentId=&quot;compId&quot;, serialId=&quot;lalal&quot;&gt;\n        &lt;frame frameId=&quot;1234-56789-0&quot; vendor=&quot;Steel MC&quot;&gt;\n            &lt;item vendorName=&quot;Foo&quot; country=&quot;Italy&quot;/&gt;\n            &lt;item vendorName=&quot;Bar&quot; country=&quot;Germany&quot;/&gt;\n            &lt;item vendorName=&quot;Foobar&quot; country=&quot;China&quot;/&gt;\n        &lt;/frame&gt;\n    &lt;/component&gt;\n&lt;/car&gt;\n</code></pre>\n<p>How can I map all <code>item</code> children? The following Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.acme.carsample;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.util.List;\n\npublic class CarReader {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class Car {\n\n        private String name;\n\n        private List&lt;Tire&gt; tires;\n\n        private Component component;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public List&lt;Tire&gt; getTires() {\n            return tires;\n        }\n\n        public void setTires(List&lt;Tire&gt; tires) {\n            this.tires = tires;\n        }\n\n        public Component getComponent() {\n            return component;\n        }\n\n        public void setComponent(Component component) {\n            this.component = component;\n        }\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class Tire {\n\n        private String value;\n\n        public String getValue() {\n            return value;\n        }\n\n        public void setValue(String value) {\n            this.value = value;\n        }\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class Component {\n\n        private Frame frame;\n\n        public Frame getFrame() {\n            return frame;\n        }\n\n        public void setFrame(Frame frame) {\n            this.frame = frame;\n        }\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class Frame {\n\n        @JacksonXmlProperty(isAttribute = true)\n        private String frameId;\n\n        @JacksonXmlProperty(isAttribute = true)\n        private String vendor;\n\n        @JacksonXmlElementWrapper(useWrapping = false)\n        private List&lt;Item&gt; items;\n\n        public String getFrameId() {\n            return frameId;\n        }\n\n        public void setFrameId(String frameId) {\n            this.frameId = frameId;\n        }\n\n        public String getVendor() {\n            return vendor;\n        }\n\n        public void setVendor(String vendor) {\n            this.vendor = vendor;\n        }\n\n        public List&lt;Item&gt; getItems() {\n            return items;\n        }\n\n        public void setItems(List&lt;Item&gt; items) {\n            this.items = items;\n        }\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JacksonXmlRootElement(localName = &quot;item&quot;)\n    public static class Item {\n\n        @JacksonXmlProperty(isAttribute = true)\n        private String vendorName;\n\n        @JacksonXmlProperty(isAttribute = true)\n        private String country;\n\n        public String getVendorName() {\n            return vendorName;\n        }\n\n        public void setVendorName(String vendorName) {\n            this.vendorName = vendorName;\n        }\n\n        public String getCountry() {\n            return country;\n        }\n\n        public void setCountry(String country) {\n            this.country = country;\n        }\n    }\n\n    public static void main(String[] arguments) {\n        try {\n            // Deserialize the car object (XML to Java)\n            String data = new String(Files.readAllBytes(new File(&quot;Car.xml&quot;).toPath()));\n            XmlMapper xmlMapper = new XmlMapper();\n            Car car = xmlMapper.readValue(data, Car.class);\n\n            // Serialize the car object (Java to json)\n            ObjectMapper objectMapper = new ObjectMapper();\n            data = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(car);\n            System.out.println(data);\n\n        } catch (Exception exception) {\n            System.err.println(&quot;An error occurred: &quot; + exception.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Results in the following JSON output (The <code>item</code> children attributes are not mapped as list, but are instead <code>null</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; : &quot;Speedy VW Golf&quot;,\n  &quot;tires&quot; : [ {\n    &quot;value&quot; : &quot;Michelin FL&quot;\n  }, {\n    &quot;value&quot; : &quot;Michelin FR&quot;\n  }, {\n    &quot;value&quot; : &quot;Michelin BL&quot;\n  }, {\n    &quot;value&quot; : &quot;Michelin BR&quot;\n  } ],\n  &quot;component&quot; : {\n    &quot;frame&quot; : {\n      &quot;frameId&quot; : &quot;1234-56789-0&quot;,\n      &quot;vendor&quot; : &quot;Steel MC&quot;,\n      &quot;items&quot; : null\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-jpa"],"comments":[{"owner":{"account_id":10751880,"reputation":3351,"user_id":7910980,"display_name":"Amit Phaltankar"},"score":2,"creation_date":1520292341,"post_id":49121046,"comment_id":85247676,"body_markdown":"A simple `hack` is to while passing dates to the between method subtract 1 from smaller date  and add 1 to the bigger date","body":"A simple <code>hack</code> is to while passing dates to the between method subtract 1 from smaller date  and add 1 to the bigger date"},{"owner":{"account_id":140854,"reputation":1593,"user_id":347455,"accept_rate":100,"display_name":"pennstatephil"},"score":0,"creation_date":1520292440,"post_id":49121046,"comment_id":85247713,"body_markdown":"that&#39;s a decent idea for a workaround if I can&#39;t crack this error. thanks!","body":"that&#39;s a decent idea for a workaround if I can&#39;t crack this error. thanks!"}],"answers":[{"tags":[],"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1572219500,"creation_date":1572219500,"answer_id":58584304,"question_id":49121046,"body_markdown":"You have to make custom query:&lt;br&gt;\r\n\r\n    Query query = new Query(\r\n          new Criteria().andOperator(\r\n        Criteria.where(&quot;metadataStartTime&quot;).gte(start),\r\n        Criteria.where(&quot;metadataStartTime&quot;).lte(end)\r\n      )\r\n    );\r\n    \r\n    return mongoTemplate.find(query, EntityName.class);","title":"Spring JPA get dates between a range (inclusive) in mongo with LocalDateTime","body":"<p>You have to make custom query:<br></p>\n\n<pre><code>Query query = new Query(\n      new Criteria().andOperator(\n    Criteria.where(\"metadataStartTime\").gte(start),\n    Criteria.where(\"metadataStartTime\").lte(end)\n  )\n);\n\nreturn mongoTemplate.find(query, EntityName.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10361922,"reputation":103,"user_id":7642147,"display_name":"Mallikarjun Vishwanath"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1601279906,"creation_date":1601279906,"answer_id":64098113,"question_id":49121046,"body_markdown":"Try the below code. I am sure, works for inclusive\r\n\r\n    @Query(&quot;{&#39;dateTime&#39; : { $gte: ?0, $lte: ?1 } }&quot;)\r\n    List&lt;YourObject&gt; findByDateTimeBetween(Date from, Date to);\r\n\r\nSpring data method signature below works for exclusive\r\n\r\n    public List&lt;YourObject&gt; findByDateBetween(Date from, Date to);","title":"Spring JPA get dates between a range (inclusive) in mongo with LocalDateTime","body":"<p>Try the below code. I am sure, works for inclusive</p>\n<pre><code>@Query(&quot;{'dateTime' : { $gte: ?0, $lte: ?1 } }&quot;)\nList&lt;YourObject&gt; findByDateTimeBetween(Date from, Date to);\n</code></pre>\n<p>Spring data method signature below works for exclusive</p>\n<pre><code>public List&lt;YourObject&gt; findByDateBetween(Date from, Date to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11439506,"reputation":31,"user_id":8385622,"display_name":"Sami Belaid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659347472,"creation_date":1659347472,"answer_id":73191899,"question_id":49121046,"body_markdown":"JPA &quot;Between&quot; method is inclusive. The problem is probably with the precision of your Date Object.\r\n\r\nTry to make sure The compared start date has the **exact hours, minutes, seconds and milliseconds.** Even if is the searched data is some milliseconds ahead it won&#39;t be caught by the query.\r\n\r\nIn my case, when I set them all for start date to 00:00:00.000, and for the end date to 23:59:59.999  The JPA findAllByMetadataStartTimeBetween(start, end) **works fine and inclusive**.\r\n\r\n","title":"Spring JPA get dates between a range (inclusive) in mongo with LocalDateTime","body":"<p>JPA &quot;Between&quot; method is inclusive. The problem is probably with the precision of your Date Object.</p>\n<p>Try to make sure The compared start date has the <strong>exact hours, minutes, seconds and milliseconds.</strong> Even if is the searched data is some milliseconds ahead it won't be caught by the query.</p>\n<p>In my case, when I set them all for start date to 00:00:00.000, and for the end date to 23:59:59.999  The JPA findAllByMetadataStartTimeBetween(start, end) <strong>works fine and inclusive</strong>.</p>\n"}],"owner":{"account_id":140854,"reputation":1593,"user_id":347455,"accept_rate":100,"display_name":"pennstatephil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5988,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1659347472,"creation_date":1520291792,"question_id":49121046,"body_markdown":"Very similar to this question: https://stackoverflow.com/questions/39784344/check-date-between-two-other-dates-spring-data-jpa\r\n\r\nHowever, I am attempting to do this with MongoDB and `java.time.LocalDateTime`.\r\n\r\nI have tried: \r\n\r\n - `findAllByMetadataStartTimeBetween(start, end)` (works, but exclusive start/end)\r\n - `findAllByMetadataStartTimeGreaterThanEqual(start)` (works, but no end)\r\n\r\nHowever, when I try: `findAllByMetadataStartTimeGreaterThanEqualAndMetadataStartTimeLessThanEqual(start,end)`\r\n\r\nI get the error: `json can&#39;t serialize type : class java.time.LocalDateTime`\r\n\r\nAny idea why this particular combination throws this error, when the previous ones do not?","title":"Spring JPA get dates between a range (inclusive) in mongo with LocalDateTime","body":"<p>Very similar to this question: <a href=\"https://stackoverflow.com/questions/39784344/check-date-between-two-other-dates-spring-data-jpa\">Check date between two other dates spring data jpa</a></p>\n\n<p>However, I am attempting to do this with MongoDB and <code>java.time.LocalDateTime</code>.</p>\n\n<p>I have tried: </p>\n\n<ul>\n<li><code>findAllByMetadataStartTimeBetween(start, end)</code> (works, but exclusive start/end)</li>\n<li><code>findAllByMetadataStartTimeGreaterThanEqual(start)</code> (works, but no end)</li>\n</ul>\n\n<p>However, when I try: <code>findAllByMetadataStartTimeGreaterThanEqualAndMetadataStartTimeLessThanEqual(start,end)</code></p>\n\n<p>I get the error: <code>json can't serialize type : class java.time.LocalDateTime</code></p>\n\n<p>Any idea why this particular combination throws this error, when the previous ones do not?</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":4,"creation_date":1659322756,"post_id":73188413,"comment_id":129259474,"body_markdown":"Can you post the code? Screenshot of an error is not enough to help with a solution.","body":"Can you post the code? Screenshot of an error is not enough to help with a solution."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1659323936,"post_id":73188413,"comment_id":129259607,"body_markdown":"Now that [Nashorn has been removed](https://openjdk.org/jeps/372), I would use [Rhino](https://github.com/mozilla/rhino).","body":"Now that <a href=\"https://openjdk.org/jeps/372\" rel=\"nofollow noreferrer\">Nashorn has been removed</a>, I would use <a href=\"https://github.com/mozilla/rhino\" rel=\"nofollow noreferrer\">Rhino</a>."}],"answers":[{"tags":[],"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659324878,"creation_date":1659324878,"answer_id":73188604,"question_id":73188413,"body_markdown":"[According to MDN](https://developer.mozilla.org/en-US/docs/Glossary/Global_object), `global` is Node-specific, so you can&#39;t expect to be able to use it if you&#39;re not running under Node. They suggest [`globalThis`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis) as the portable replacement.","title":"Global not defined when running a JS script in a Java application","body":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Global_object\" rel=\"nofollow noreferrer\">According to MDN</a>, <code>global</code> is Node-specific, so you can't expect to be able to use it if you're not running under Node. They suggest <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis\" rel=\"nofollow noreferrer\"><code>globalThis</code></a> as the portable replacement.</p>\n"}],"owner":{"account_id":22352141,"reputation":3,"user_id":16570030,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73188604,"answer_count":1,"score":0,"last_activity_date":1659346637,"creation_date":1659322284,"question_id":73188413,"body_markdown":"I have a js script which I want to execute in my Java application.\r\n\r\nI have tried to use the `Chromedriver` API to do this\r\n\r\n\r\nBut it throws the following exception:\r\n\r\n[![global not defined][1]][1]\r\n\r\nI am so confused because the script can simply run with `node xx.js`\r\n\r\n**Does this mean the js which uses the `global` object cannot execute in a Java application?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/87gxS.png","title":"Global not defined when running a JS script in a Java application","body":"<p>I have a js script which I want to execute in my Java application.</p>\n<p>I have tried to use the <code>Chromedriver</code> API to do this</p>\n<p>But it throws the following exception:</p>\n<p><a href=\"https://i.stack.imgur.com/87gxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/87gxS.png\" alt=\"global not defined\" /></a></p>\n<p>I am so confused because the script can simply run with <code>node xx.js</code></p>\n<p><strong>Does this mean the js which uses the <code>global</code> object cannot execute in a Java application?</strong></p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1659345383,"post_id":73191460,"comment_id":129264423,"body_markdown":"I would consider a unit test sufficient if it calls `process` with proper input and then calls `getAnswer` corresponding to the input and asserts that the output of the second methods matches what you expect. At that point you have tested both methods since `getAnswer` cannot return valid output unless `process` also works properly. The only alternative I see would be to make *something* accessible for testing purposes, e.g. the `myMap` or a getter for it.","body":"I would consider a unit test sufficient if it calls <code>process</code> with proper input and then calls <code>getAnswer</code> corresponding to the input and asserts that the output of the second methods matches what you expect. At that point you have tested both methods since <code>getAnswer</code> cannot return valid output unless <code>process</code> also works properly. The only alternative I see would be to make <i>something</i> accessible for testing purposes, e.g. the <code>myMap</code> or a getter for it."},{"owner":{"account_id":9090068,"reputation":61,"user_id":6766329,"accept_rate":29,"display_name":"Satyam Raj"},"score":0,"creation_date":1659345456,"post_id":73191460,"comment_id":129264452,"body_markdown":"You can make the method return a boolean response instead of it being void, and then do an assertion.","body":"You can make the method return a boolean response instead of it being void, and then do an assertion."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":0,"creation_date":1659345527,"post_id":73191460,"comment_id":129264486,"body_markdown":"I made an initial answer, but if you share more code I can dive in more details","body":"I made an initial answer, but if you share more code I can dive in more details"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1659346263,"post_id":73191460,"comment_id":129264741,"body_markdown":"@SatyamRaj Unit tests are not a good reason for changing production APIs. And a simple boolean as a return value is almost completely useless regarding unit tests. It would make much more sense to just keep it void and throw an exception on errors. But even then you can only meaningfully tests failures. Positive tests still need a different way to verify the results.","body":"@SatyamRaj Unit tests are not a good reason for changing production APIs. And a simple boolean as a return value is almost completely useless regarding unit tests. It would make much more sense to just keep it void and throw an exception on errors. But even then you can only meaningfully tests failures. Positive tests still need a different way to verify the results."}],"answers":[{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659345459,"creation_date":1659345459,"answer_id":73191505,"question_id":73191460,"body_markdown":"We would need more code to answer you in details, but in short the answer is yes, you can and should definitely test it.\r\n\r\n`process` is going to make some side-effects somewhere, right? Either you inject Mockito mocks of the classes/interfaces these side-effects are effected upon, or if you have an in-memory version of them you inject that instead.\r\n\r\nIn the case of mocks, you&#39;ll want to carefully assert that the side-effect methods were called exactly with the right parameters. If you&#39;re using an in-memory simulation, you check the state of your in-memory object and check it conforms to what you expected.","title":"Unit testing void public methods","body":"<p>We would need more code to answer you in details, but in short the answer is yes, you can and should definitely test it.</p>\n<p><code>process</code> is going to make some side-effects somewhere, right? Either you inject Mockito mocks of the classes/interfaces these side-effects are effected upon, or if you have an in-memory version of them you inject that instead.</p>\n<p>In the case of mocks, you'll want to carefully assert that the side-effect methods were called exactly with the right parameters. If you're using an in-memory simulation, you check the state of your in-memory object and check it conforms to what you expected.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659346471,"creation_date":1659346471,"answer_id":73191722,"question_id":73191460,"body_markdown":"For unit testing of `process` method, I think you can do following:\r\n\r\n1. Verify input `bucket` can be able to parse based on your method comments.\r\n\r\n2. Exception handling -- if applicable --  if `bucket` is unable to parse.\r\n\r\n3. For map update / add, you can always check if initial size is changed &amp; valid bucket made successful attempt to add to map. If bucket key already present, you can also verify if size of map remains same.\r\n\r\nAll above points are based on information provided in original question &amp; it is independent of `getAnswer` method. ","title":"Unit testing void public methods","body":"<p>For unit testing of <code>process</code> method, I think you can do following:</p>\n<ol>\n<li><p>Verify input <code>bucket</code> can be able to parse based on your method comments.</p>\n</li>\n<li><p>Exception handling -- if applicable --  if <code>bucket</code> is unable to parse.</p>\n</li>\n<li><p>For map update / add, you can always check if initial size is changed &amp; valid bucket made successful attempt to add to map. If bucket key already present, you can also verify if size of map remains same.</p>\n</li>\n</ol>\n<p>All above points are based on information provided in original question &amp; it is independent of <code>getAnswer</code> method.</p>\n"}],"owner":{"account_id":1179355,"reputation":4521,"user_id":1154644,"accept_rate":52,"display_name":"user1154644"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659346471,"creation_date":1659345226,"question_id":73191460,"body_markdown":"I have a class that I am trying to write a few unit tests for, specifically, a void method within the class. Im not entirely sure whether or not the fact that the method is void is of any consequence here, but this is the basic structure of the class.\r\n\r\n    public class MyClass {\r\n       private Map&lt;String,Object&gt; myMap;\r\n\r\n       public void process(Bucket bucket){\r\n          //parses bucket, updates myMap\r\n       }\r\n\r\n       public int getAnswer(String input){\r\n          //searches map data\r\n       }\r\n \r\n\r\n    }\r\n\r\nThe basic usage of the class is that the process method is called for each bucket to ingest its data, and the getAnswer method returns a summation of sorts about the data that has been processed from the buckets.\r\n\r\nIve written a few unit tests for the getAnswer method, but since the process method doesnt return anything, but rather just updates the internal state of my object, is there a way to properly unit test it? Since its a public method, I figured that it needed to be unit tested, but havent figured out how to do so, independent of the getAnswer method.","title":"Unit testing void public methods","body":"<p>I have a class that I am trying to write a few unit tests for, specifically, a void method within the class. Im not entirely sure whether or not the fact that the method is void is of any consequence here, but this is the basic structure of the class.</p>\n<pre><code>public class MyClass {\n   private Map&lt;String,Object&gt; myMap;\n\n   public void process(Bucket bucket){\n      //parses bucket, updates myMap\n   }\n\n   public int getAnswer(String input){\n      //searches map data\n   }\n\n\n}\n</code></pre>\n<p>The basic usage of the class is that the process method is called for each bucket to ingest its data, and the getAnswer method returns a summation of sorts about the data that has been processed from the buckets.</p>\n<p>Ive written a few unit tests for the getAnswer method, but since the process method doesnt return anything, but rather just updates the internal state of my object, is there a way to properly unit test it? Since its a public method, I figured that it needed to be unit tested, but havent figured out how to do so, independent of the getAnswer method.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"display_name":"user647772"},"score":7,"creation_date":1343717460,"post_id":11734615,"comment_id":15572702,"body_markdown":"Welcome to Stack Overflow! We encourage you to [research your questions](http://stackoverflow.com/questions/how-to-ask). If you&#39;ve [tried something already](http://whathaveyoutried.com/), please add it to the question - if not, research and attempt your question first, and then come back.","body":"Welcome to Stack Overflow! We encourage you to <a href=\"http://stackoverflow.com/questions/how-to-ask\">research your questions</a>. If you&#39;ve <a href=\"http://whathaveyoutried.com/\" rel=\"nofollow noreferrer\">tried something already</a>, please add it to the question - if not, research and attempt your question first, and then come back."},{"owner":{"account_id":606321,"reputation":7777,"user_id":312161,"accept_rate":48,"display_name":"neworld"},"score":1,"creation_date":1343717569,"post_id":11734615,"comment_id":15572736,"body_markdown":"You can use: http://www.regexplanet.com/advanced/java/index.html","body":"You can use: <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">regexplanet.com/advanced/java/index.html</a>"},{"owner":{"account_id":7953,"reputation":5018,"user_id":14027,"accept_rate":73,"display_name":"Tobias"},"score":0,"creation_date":1343717572,"post_id":11734615,"comment_id":15572737,"body_markdown":"Regular expressions might help","body":"Regular expressions might help"},{"owner":{"account_id":1265147,"reputation":311,"user_id":1222588,"accept_rate":29,"display_name":"Ramkumar Kalirajan"},"score":0,"creation_date":1343717680,"post_id":11734615,"comment_id":15572775,"body_markdown":"String strWithNumber = &quot;&amp;#amp;#8226:","body":"String strWithNumber = &quot;&amp;#amp;#8226:"},{"owner":{"account_id":1265147,"reputation":311,"user_id":1222588,"accept_rate":29,"display_name":"Ramkumar Kalirajan"},"score":0,"creation_date":1343717716,"post_id":11734615,"comment_id":15572791,"body_markdown":"if(strWithNumber.matches(&quot;.*\\\\d:.*&quot;)){\n  System.out.println(&quot;Yes&quot;);\n}","body":"if(strWithNumber.matches(&quot;.*\\\\d:.*&quot;)){   System.out.println(&quot;Yes&quot;); }"}],"answers":[{"tags":[],"owner":{"account_id":32701,"reputation":7764,"user_id":90909,"accept_rate":89,"display_name":"qrtt1"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1343717620,"creation_date":1343717620,"answer_id":11734692,"question_id":11734615,"body_markdown":"It can be done with Regular Expression\r\n\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class FindPattern {\r\n        public static void main(String[] args) {\r\n            Pattern pattern = Pattern.compile(&quot;#[0-9]{4}:&quot;);\r\n    \r\n            String text = &quot;#1233:#3433:abc#3993: #a343:___#8888:ki&quot;;\r\n            Matcher matcher = pattern.matcher(text);\r\n            while (matcher.find()) {\r\n                System.out.println(matcher.group());\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\noutput is:\r\n\r\n    #1233:\r\n    #3433:\r\n    #3993:\r\n    #8888:\r\n\r\n","title":"Find a number of a given number of digits between given separators","body":"<p>It can be done with Regular Expression</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class FindPattern {\n    public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(\"#[0-9]{4}:\");\n\n        String text = \"#1233:#3433:abc#3993: #a343:___#8888:ki\";\n        Matcher matcher = pattern.matcher(text);\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n\n    }\n}\n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>#1233:\n#3433:\n#3993:\n#8888:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659346265,"creation_date":1659346265,"answer_id":73191672,"question_id":11734615,"body_markdown":"You have already a pattern: `#nnnn:`. The only problem is that this is not a java compatible regular expression. Let&#39;s convert.\r\n\r\n`#` and `:` are valid character literals, so let these untouched.\r\n\r\nAs you probably know (according to your solution), a number is denoted with the `\\d` sequence (note, there are some alternatives, e. g. `[0-9]`, `\\p{Digit}`). Just replace all `n`s with `\\d`:\r\n\r\n```\r\n#\\d\\d\\d\\d:\r\n``` \r\n\r\nThere are four equal subpatterns here, so we can shorten it with a fixed quantifier:\r\n\r\n```\r\n#\\d{4}:\r\n```\r\n\r\nYou can now write `string.matches(&quot;#\\\\d{4}:&quot;)`. Note that this is slow because compiles the given regex pattern every time. If this code is called frequently, I would consider using a precompiled `Pattern` like:\r\n\r\n```java\r\nPattern HASH_NUMBER_COLON_PATTERN = Pattern.compile(&quot;#\\\\d{4}:&quot;);\r\n// ...\r\nif (HASH_NUMBER_COLON_PATTERN.matcher(yourString).matches()) {\r\n    // ...\r\n}\r\n```\r\n\r\nEven better to use some regular expression builder library, such as [regex-builder][1], [JavaVerbalExpressions][2] or [RegexBee][3]. These tools can make your intention very clear. RegexBee example:\r\n\r\n```java\r\nPattern HASH_NUMBER_COLON_PATTERN = Bee\r\n        .then(Bee.fixedChar(&#39;#&#39;))\r\n        .then(Bee.intBetween(1000, 9999))\r\n        .then(Bee.fixedChar(&#39;:&#39;))\r\n        .toPattern()\r\n```\r\n\r\n\r\n  [1]: https://github.com/sgreben/regex-builder\r\n  [2]: https://github.com/VerbalExpressions/JavaVerbalExpressions\r\n  [3]: https://github.com/davidsusu/regexbee","title":"Find a number of a given number of digits between given separators","body":"<p>You have already a pattern: <code>#nnnn:</code>. The only problem is that this is not a java compatible regular expression. Let's convert.</p>\n<p><code>#</code> and <code>:</code> are valid character literals, so let these untouched.</p>\n<p>As you probably know (according to your solution), a number is denoted with the <code>\\d</code> sequence (note, there are some alternatives, e. g. <code>[0-9]</code>, <code>\\p{Digit}</code>). Just replace all <code>n</code>s with <code>\\d</code>:</p>\n<pre><code>#\\d\\d\\d\\d:\n</code></pre>\n<p>There are four equal subpatterns here, so we can shorten it with a fixed quantifier:</p>\n<pre><code>#\\d{4}:\n</code></pre>\n<p>You can now write <code>string.matches(&quot;#\\\\d{4}:&quot;)</code>. Note that this is slow because compiles the given regex pattern every time. If this code is called frequently, I would consider using a precompiled <code>Pattern</code> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern HASH_NUMBER_COLON_PATTERN = Pattern.compile(&quot;#\\\\d{4}:&quot;);\n// ...\nif (HASH_NUMBER_COLON_PATTERN.matcher(yourString).matches()) {\n    // ...\n}\n</code></pre>\n<p>Even better to use some regular expression builder library, such as <a href=\"https://github.com/sgreben/regex-builder\" rel=\"nofollow noreferrer\">regex-builder</a>, <a href=\"https://github.com/VerbalExpressions/JavaVerbalExpressions\" rel=\"nofollow noreferrer\">JavaVerbalExpressions</a> or <a href=\"https://github.com/davidsusu/regexbee\" rel=\"nofollow noreferrer\">RegexBee</a>. These tools can make your intention very clear. RegexBee example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern HASH_NUMBER_COLON_PATTERN = Bee\n        .then(Bee.fixedChar('#'))\n        .then(Bee.intBetween(1000, 9999))\n        .then(Bee.fixedChar(':'))\n        .toPattern()\n</code></pre>\n"}],"owner":{"account_id":1265147,"reputation":311,"user_id":1222588,"accept_rate":29,"display_name":"Ramkumar Kalirajan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"accepted_answer_id":11734692,"answer_count":2,"score":-2,"last_activity_date":1659346265,"creation_date":1343717349,"question_id":11734615,"body_markdown":"What `regex/pattern` can I use to find the following pattern in a string?\r\n\r\n```\r\n#nnnn:\r\n```\r\n\r\n`nnnn` can be any 4-digit long number as long as it is sorrounded by a hashtag and a colon.\r\n\r\nI have tried the code below:\r\n\r\n```java\r\nString string = &quot;#8226:&quot;;\r\nif(string.matches( &quot;.*\\\\d:.*&quot; )) {\r\n  System.out.println( &quot;Yes&quot; );\r\n}\r\n```\r\n\r\nIt DOES work, but it matches other strings like below:\r\n\r\n```java\r\n&quot;This is a string 1234: Hahaha!&quot; // Outputs &quot;Yes&quot;\r\n&quot;Hello 1834: World!!!&quot;           // Outputs &quot;Yes&quot;\r\n```\r\n\r\nI want it to only match the pattern at the top of the question.\r\n\r\nCan anybody tell me where did I go wrong?","title":"Find a number of a given number of digits between given separators","body":"<p>What <code>regex/pattern</code> can I use to find the following pattern in a string?</p>\n<pre><code>#nnnn:\n</code></pre>\n<p><code>nnnn</code> can be any 4-digit long number as long as it is sorrounded by a hashtag and a colon.</p>\n<p>I have tried the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;#8226:&quot;;\nif(string.matches( &quot;.*\\\\d:.*&quot; )) {\n  System.out.println( &quot;Yes&quot; );\n}\n</code></pre>\n<p>It DOES work, but it matches other strings like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;This is a string 1234: Hahaha!&quot; // Outputs &quot;Yes&quot;\n&quot;Hello 1834: World!!!&quot;           // Outputs &quot;Yes&quot;\n</code></pre>\n<p>I want it to only match the pattern at the top of the question.</p>\n<p>Can anybody tell me where did I go wrong?</p>\n"},{"tags":["java","sql","gridgain"],"comments":[{"owner":{"account_id":10364565,"reputation":4778,"user_id":7644018,"display_name":"Paul T."},"score":0,"creation_date":1659356793,"post_id":73191198,"comment_id":129268102,"body_markdown":"I don&#39;t know GridGain, but it looks like some VM config/tweaks may be needed? I found [this GridGain info](https://www.gridgain.com/docs/latest/perf-troubleshooting-guide/memory-tuning) if that may be helpful?","body":"I don&#39;t know GridGain, but it looks like some VM config/tweaks may be needed? I found <a href=\"https://www.gridgain.com/docs/latest/perf-troubleshooting-guide/memory-tuning\" rel=\"nofollow noreferrer\">this GridGain info</a> if that may be helpful?"},{"owner":{"account_id":5190889,"reputation":2147,"user_id":4153863,"display_name":"Stanislav Lukyanov"},"score":0,"creation_date":1661428455,"post_id":73191198,"comment_id":129773123,"body_markdown":"Could be a bug. Can you create a small reproducer program?","body":"Could be a bug. Can you create a small reproducer program?"}],"owner":{"account_id":25945899,"reputation":1,"user_id":19664626,"display_name":"Utkarsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659345968,"creation_date":1659344152,"question_id":73191198,"body_markdown":"```sql\r\nSELECT * from &lt;table_name&gt; WHERE CONTENT_ID = &#39;&lt;content_Id&gt;&#39; LIMIT 1000;\r\n```\r\n\r\nEarlier this query was running fine without LIMIT clause. But after adding the LIMIT after a few run we are getting: \r\n&gt; java.lang.OutOfMemoryError:Java heap space\r\n\r\nNote : Using GridGain\r\n\r\nHelp me understand this.","title":"java.lang.OutOfMemoryError:Java heap space after adding LIMIT in SQL query","body":"<pre class=\"lang-sql prettyprint-override\"><code>SELECT * from &lt;table_name&gt; WHERE CONTENT_ID = '&lt;content_Id&gt;' LIMIT 1000;\n</code></pre>\n<p>Earlier this query was running fine without LIMIT clause. But after adding the LIMIT after a few run we are getting:</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError:Java heap space</p>\n</blockquote>\n<p>Note : Using GridGain</p>\n<p>Help me understand this.</p>\n"},{"tags":["java","ssl","wsdl","cxf","client-certificates"],"comments":[{"owner":{"account_id":2404324,"reputation":2424,"user_id":2101242,"display_name":"DiogoSantana"},"score":0,"creation_date":1364872999,"post_id":15755293,"comment_id":22391626,"body_markdown":"@PaulProgrammer Please read more about SO policies. More specific about [etiquette](http://stackoverflow.com/faq#etiquette) and [its-ok-to-ask-and-answer-your-own-questions](http://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/)","body":"@PaulProgrammer Please read more about SO policies. More specific about <a href=\"http://stackoverflow.com/faq#etiquette\">etiquette</a> and <a href=\"http://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">its-ok-to-ask-and-answer-your-own-questions</a>"}],"answers":[{"tags":[],"owner":{"account_id":2404324,"reputation":2424,"user_id":2101242,"display_name":"DiogoSantana"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1367024815,"creation_date":1364872836,"answer_id":15755512,"question_id":15755293,"body_markdown":"After a lot of research on the web without success, I decide it is time to debug the cxf API. That is one of the points of open source, right?\r\n\r\nSo I found out that cxf don&#39;t download directly the wsdl. It delegates that to wsdl4j through the call of \r\n&lt;!-- language-all: java --&gt;\r\n\r\n    javax.wsdl.xml.WSDLReader.readWSDL(javax.wsdl.xml.WSDLLocator)\r\n\r\nwhich calls\r\n\r\n    javax.wsdl.xml.WSDLLocator.getBaseInputSource()\r\n\r\nwhich calls \r\n\r\n    org.apache.cxf.wsdl11.ResourceManagerWSDLLocator.getInputSource(String, String)\r\n\r\nbecause ResourceManagerWSDLLocator were the WSDLLocator of the first method call.\r\n\r\nResourceManagerWSDLLocator.getInputSource first line is:\r\n\r\n    InputStream ins = bus.getExtension(ResourceManager.class).getResourceAsStream(importLocation);\r\n\r\nNow as ResourceManager is a extension of xcf&#39;s Bus, and you can add more ResourceResolver to it and the DefaultResourceManager (implements ResourceManager) will loop through all registered resolvers and will use the first one resolving a non-null value, you just need add a ResourceResolver to the ResourceManager.\r\n\r\nMy final and working client application is:\r\n\r\n    package com.mycompany;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.UnrecoverableKeyException;\r\n    import java.security.cert.CertificateException;\r\n    \r\n    import javax.net.ssl.KeyManager;\r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    import org.apache.cxf.Bus;\r\n    import org.apache.cxf.BusFactory;\r\n    import org.apache.cxf.configuration.jsse.TLSClientParameters;\r\n    import org.apache.cxf.endpoint.Client;\r\n    import org.apache.cxf.frontend.ClientProxy;\r\n    import org.apache.cxf.resource.ResourceManager;\r\n    import org.apache.cxf.resource.ResourceResolver;\r\n    import org.apache.cxf.transport.http.HTTPConduit;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.conn.scheme.Scheme;\r\n    import org.apache.http.conn.scheme.SchemeRegistry;\r\n    import org.apache.http.conn.ssl.SSLSocketFactory;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.impl.conn.BasicClientConnectionManager;\r\n    import org.apache.http.params.BasicHttpParams;\r\n    import org.apache.http.params.HttpParams;\r\n        \r\n    public class CxfClientSslTest {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n    \r\n                Bus bus = BusFactory.getThreadDefaultBus();\r\n                ResourceManager extension = bus.getExtension(ResourceManager.class);\r\n    \r\n                extension.addResourceResolver(new ResourceResolver() {\r\n                    @Override\r\n                    public &lt;T&gt; T resolve(String resourceName, Class&lt;T&gt; resourceType) {\r\n                        System.out.println(&quot;resourceName: &quot; + resourceName + &quot; - resourceType: &quot; + resourceType);\r\n                        return null;\r\n                    }\r\n    \r\n                    @Override\r\n                    public InputStream getAsStream(String name) {\r\n                        try {\r\n                            if (!name.startsWith(&quot;https&quot;)) {\r\n                                return null;\r\n                            }\r\n                            SSLSocketFactory sslSocketFactory = SslUtil.getSslSocketFactory();\r\n                            SchemeRegistry schemeRegistry = new SchemeRegistry();\r\n                            schemeRegistry.register(new Scheme(&quot;https&quot;, 8443, sslSocketFactory));\r\n    \r\n                            final HttpParams httpParams = new BasicHttpParams();\r\n                            DefaultHttpClient httpClient = new DefaultHttpClient(new BasicClientConnectionManager(schemeRegistry), httpParams);\r\n    \r\n                            HttpGet get = new HttpGet(name);\r\n                            HttpResponse response = httpClient.execute(get);\r\n                            return response.getEntity().getContent();\r\n                        } catch (Exception e) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                });\r\n                \r\n                QName SERVICE_NAME = new QName(&quot;http://server/schemas/services&quot;, &quot;MyService&quot;);\r\n                URL wsdlURL = new URL(&quot;https://localhost:8443/services/MyService?wsdl&quot;);\r\n                MyService ss = new MyService(wsdlURL, SERVICE_NAME);\r\n                MyServicePortType port = ss.getMyServicePort();\r\n    \r\n                tslIt(port);\r\n    \r\n                IdHolder mensagem = new IdHolder();\r\n                mensagem.setId(1L);\r\n                MyDataObject dataObject = port.getById(mensagem);\r\n    \r\n                System.out.println(&quot;Id: &quot; + dataObject.getId());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void tslIt(MyServicePortType port) throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException,\r\n                UnrecoverableKeyException {\r\n            Client client = ClientProxy.getClient(port);\r\n            HTTPConduit http = (HTTPConduit) client.getConduit();\r\n    \r\n            TLSClientParameters tlsClientParameters = http.getTlsClientParameters();\r\n    \r\n            KeyStore keyStore = getKeyStore();\r\n            KeyStore trustStore = getTrustStore();\r\n    \r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n    \r\n            keyManagerFactory.init(keyStore, &quot;123456&quot;.toCharArray());\r\n            KeyManager[] keyMgrs = keyManagerFactory.getKeyManagers();\r\n            tlsClientParameters.setKeyManagers(keyMgrs);\r\n    \r\n            trustManagerFactory.init(trustStore);\r\n            TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n            tlsClientParameters.setTrustManagers(trustManagers);\r\n    \r\n            tlsClientParameters.setDisableCNCheck(true);\r\n        }\r\n    \r\n        public static KeyStore getKeyStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\r\n            URL keyStoreUrl = CxfClientSslTest.class.getResource(&quot;/certs/client.jks&quot;);\r\n            File keystoreFile = new File(keyStoreUrl.getPath());\r\n            if (!keystoreFile.exists()) {\r\n                throw new RuntimeException(&quot;keystore doesn&#39;t exists: &quot; + keystoreFile.getAbsolutePath());\r\n            }\r\n    \r\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            InputStream keystoreInput = new FileInputStream(keystoreFile.getAbsolutePath());\r\n            keystore.load(keystoreInput, &quot;changeit&quot;.toCharArray());\r\n            keystoreInput.close();\r\n            return keystore;\r\n        }\r\n    \r\n        public static KeyStore getTrustStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\r\n            URL trustStoreUrl = CxfClientSslTest.class.getResource(&quot;/certs/client-trust.jks&quot;);\r\n            File trustStoreFile = new File(trustStoreUrl.getPath());\r\n            if (!trustStoreFile.exists()) {\r\n                throw new RuntimeException(&quot;truststore doesn&#39;t exists: &quot; + trustStoreFile.getAbsolutePath());\r\n            }\r\n    \r\n            KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            InputStream trustStoreInput = new FileInputStream(trustStoreFile.getAbsolutePath());\r\n            trustStore.load(trustStoreInput, &quot;changeit&quot;.toCharArray());\r\n            trustStoreInput.close();\r\n            return trustStore;\r\n        }\r\n    }\r\n\r\n","title":"Apache CXF wsdl download via SSL/TLS","body":"<p>After a lot of research on the web without success, I decide it is time to debug the cxf API. That is one of the points of open source, right?</p>\n\n<p>So I found out that cxf don't download directly the wsdl. It delegates that to wsdl4j through the call of \n</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>javax.wsdl.xml.WSDLReader.readWSDL(javax.wsdl.xml.WSDLLocator)\n</code></pre>\n\n<p>which calls</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>javax.wsdl.xml.WSDLLocator.getBaseInputSource()\n</code></pre>\n\n<p>which calls </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>org.apache.cxf.wsdl11.ResourceManagerWSDLLocator.getInputSource(String, String)\n</code></pre>\n\n<p>because ResourceManagerWSDLLocator were the WSDLLocator of the first method call.</p>\n\n<p>ResourceManagerWSDLLocator.getInputSource first line is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>InputStream ins = bus.getExtension(ResourceManager.class).getResourceAsStream(importLocation);\n</code></pre>\n\n<p>Now as ResourceManager is a extension of xcf's Bus, and you can add more ResourceResolver to it and the DefaultResourceManager (implements ResourceManager) will loop through all registered resolvers and will use the first one resolving a non-null value, you just need add a ResourceResolver to the ResourceManager.</p>\n\n<p>My final and working client application is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateException;\n\nimport javax.net.ssl.KeyManager;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.xml.namespace.QName;\n\nimport org.apache.cxf.Bus;\nimport org.apache.cxf.BusFactory;\nimport org.apache.cxf.configuration.jsse.TLSClientParameters;\nimport org.apache.cxf.endpoint.Client;\nimport org.apache.cxf.frontend.ClientProxy;\nimport org.apache.cxf.resource.ResourceManager;\nimport org.apache.cxf.resource.ResourceResolver;\nimport org.apache.cxf.transport.http.HTTPConduit;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.conn.scheme.Scheme;\nimport org.apache.http.conn.scheme.SchemeRegistry;\nimport org.apache.http.conn.ssl.SSLSocketFactory;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.impl.conn.BasicClientConnectionManager;\nimport org.apache.http.params.BasicHttpParams;\nimport org.apache.http.params.HttpParams;\n\npublic class CxfClientSslTest {\n\n    public static void main(String[] args) {\n        try {\n\n            Bus bus = BusFactory.getThreadDefaultBus();\n            ResourceManager extension = bus.getExtension(ResourceManager.class);\n\n            extension.addResourceResolver(new ResourceResolver() {\n                @Override\n                public &lt;T&gt; T resolve(String resourceName, Class&lt;T&gt; resourceType) {\n                    System.out.println(\"resourceName: \" + resourceName + \" - resourceType: \" + resourceType);\n                    return null;\n                }\n\n                @Override\n                public InputStream getAsStream(String name) {\n                    try {\n                        if (!name.startsWith(\"https\")) {\n                            return null;\n                        }\n                        SSLSocketFactory sslSocketFactory = SslUtil.getSslSocketFactory();\n                        SchemeRegistry schemeRegistry = new SchemeRegistry();\n                        schemeRegistry.register(new Scheme(\"https\", 8443, sslSocketFactory));\n\n                        final HttpParams httpParams = new BasicHttpParams();\n                        DefaultHttpClient httpClient = new DefaultHttpClient(new BasicClientConnectionManager(schemeRegistry), httpParams);\n\n                        HttpGet get = new HttpGet(name);\n                        HttpResponse response = httpClient.execute(get);\n                        return response.getEntity().getContent();\n                    } catch (Exception e) {\n                        return null;\n                    }\n                }\n            });\n\n            QName SERVICE_NAME = new QName(\"http://server/schemas/services\", \"MyService\");\n            URL wsdlURL = new URL(\"https://localhost:8443/services/MyService?wsdl\");\n            MyService ss = new MyService(wsdlURL, SERVICE_NAME);\n            MyServicePortType port = ss.getMyServicePort();\n\n            tslIt(port);\n\n            IdHolder mensagem = new IdHolder();\n            mensagem.setId(1L);\n            MyDataObject dataObject = port.getById(mensagem);\n\n            System.out.println(\"Id: \" + dataObject.getId());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void tslIt(MyServicePortType port) throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException,\n            UnrecoverableKeyException {\n        Client client = ClientProxy.getClient(port);\n        HTTPConduit http = (HTTPConduit) client.getConduit();\n\n        TLSClientParameters tlsClientParameters = http.getTlsClientParameters();\n\n        KeyStore keyStore = getKeyStore();\n        KeyStore trustStore = getTrustStore();\n\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n\n        keyManagerFactory.init(keyStore, \"123456\".toCharArray());\n        KeyManager[] keyMgrs = keyManagerFactory.getKeyManagers();\n        tlsClientParameters.setKeyManagers(keyMgrs);\n\n        trustManagerFactory.init(trustStore);\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n        tlsClientParameters.setTrustManagers(trustManagers);\n\n        tlsClientParameters.setDisableCNCheck(true);\n    }\n\n    public static KeyStore getKeyStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\n        URL keyStoreUrl = CxfClientSslTest.class.getResource(\"/certs/client.jks\");\n        File keystoreFile = new File(keyStoreUrl.getPath());\n        if (!keystoreFile.exists()) {\n            throw new RuntimeException(\"keystore doesn't exists: \" + keystoreFile.getAbsolutePath());\n        }\n\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n        InputStream keystoreInput = new FileInputStream(keystoreFile.getAbsolutePath());\n        keystore.load(keystoreInput, \"changeit\".toCharArray());\n        keystoreInput.close();\n        return keystore;\n    }\n\n    public static KeyStore getTrustStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\n        URL trustStoreUrl = CxfClientSslTest.class.getResource(\"/certs/client-trust.jks\");\n        File trustStoreFile = new File(trustStoreUrl.getPath());\n        if (!trustStoreFile.exists()) {\n            throw new RuntimeException(\"truststore doesn't exists: \" + trustStoreFile.getAbsolutePath());\n        }\n\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        InputStream trustStoreInput = new FileInputStream(trustStoreFile.getAbsolutePath());\n        trustStore.load(trustStoreInput, \"changeit\".toCharArray());\n        trustStoreInput.close();\n        return trustStore;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":917384,"reputation":104,"user_id":993979,"accept_rate":20,"display_name":"java specialist"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1364874446,"creation_date":1364874446,"answer_id":15755718,"question_id":15755293,"body_markdown":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\r\n\r\nAbove exception happens When you create your self-signed certificate with your name,\r\nTo resolve this exception, you need to add `&quot;localhost&quot;` on the following step\r\n\r\n    What is your first and last name?\r\n     [Unknown]:  localhost","title":"Apache CXF wsdl download via SSL/TLS","body":"<p>javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found</p>\n\n<p>Above exception happens When you create your self-signed certificate with your name,\nTo resolve this exception, you need to add <code>\"localhost\"</code> on the following step</p>\n\n<pre><code>What is your first and last name?\n [Unknown]:  localhost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5983132,"reputation":9,"user_id":4701411,"display_name":"Phillip.Liu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1427262917,"creation_date":1427254877,"answer_id":29247021,"question_id":15755293,"body_markdown":"    tlsClientParameters.setUseHttpsURLConnectionDefaultSslSocketFactory(false);\r\n\r\nAbove line is required to disable default SslSocketFactory (which will ignore the keyStore and trustStore configured in tlsClientParamters)","title":"Apache CXF wsdl download via SSL/TLS","body":"<pre><code>tlsClientParameters.setUseHttpsURLConnectionDefaultSslSocketFactory(false);\n</code></pre>\n\n<p>Above line is required to disable default SslSocketFactory (which will ignore the keyStore and trustStore configured in tlsClientParamters)</p>\n"},{"tags":[],"owner":{"account_id":2971678,"reputation":41,"user_id":2523605,"display_name":"forgacan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450915660,"creation_date":1450915660,"answer_id":34445576,"question_id":15755293,"body_markdown":"I think the standard way in *apache cxf* is to set-up an `http conduit` in your cxf.xml refering to your jks keystore:\r\n\r\n    &lt;http:conduit id=&quot;{Namespace}PortName.http-conduit&quot;&gt; \r\n    &lt;http:tlsClientParameters&gt;\r\n    ...\r\n    &lt;sec:trustManagers&gt;\r\n      &lt;sec:keyStore type=&quot;JKS&quot;\r\n                    password=&quot;StorePass&quot;\r\n                    file=&quot;certs/truststore.jks&quot;/&gt;\r\n    &lt;/sec:trustManagers&gt;\r\n     ...\r\n    &lt;/http:tlsClientParameters&gt;\r\n    &lt;/http:conduit&gt;\r\n\r\nMore information here: [Configuring SSL support][1]\r\n\r\n \r\n\r\n\r\n  [1]: http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport(includingSSLsupport)-ConfiguringSSLSupport%20ConfiguringSSLSupport","title":"Apache CXF wsdl download via SSL/TLS","body":"<p>I think the standard way in <em>apache cxf</em> is to set-up an <code>http conduit</code> in your cxf.xml refering to your jks keystore:</p>\n\n<pre><code>&lt;http:conduit id=\"{Namespace}PortName.http-conduit\"&gt; \n&lt;http:tlsClientParameters&gt;\n...\n&lt;sec:trustManagers&gt;\n  &lt;sec:keyStore type=\"JKS\"\n                password=\"StorePass\"\n                file=\"certs/truststore.jks\"/&gt;\n&lt;/sec:trustManagers&gt;\n ...\n&lt;/http:tlsClientParameters&gt;\n&lt;/http:conduit&gt;\n</code></pre>\n\n<p>More information here: <a href=\"http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport(includingSSLsupport)-ConfiguringSSLSupport%20ConfiguringSSLSupport\" rel=\"nofollow\">Configuring SSL support</a></p>\n"},{"tags":[],"owner":{"account_id":25945949,"reputation":1,"user_id":19664676,"display_name":"mkp246"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659345896,"creation_date":1659345896,"answer_id":73191586,"question_id":15755293,"body_markdown":"Adding to reply https://stackoverflow.com/a/15755512/19664676\r\nby @DiogoSantana\r\n\r\nOne can simply add HTTPConduitConfigurer extension to bus like this.\r\n```\r\npackage com.mycompany;\r\n\r\nimport com.mycompany.IdHolder;\r\nimport com.mycompany.MyDataObject;\r\nimport org.apache.cxf.Bus;\r\nimport org.apache.cxf.BusFactory;\r\nimport org.apache.cxf.configuration.jsse.TLSClientParameters;\r\nimport org.apache.cxf.transport.http.HTTPConduit;\r\nimport org.apache.cxf.transport.http.HTTPConduitConfigurer;\r\n\r\nimport java.net.URL;\r\nimport java.security.SecureRandom;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.xml.namespace.QName;\r\n\r\npublic class CxfClientSslTest {\r\n    public static void main(String[] args) {\r\n        Bus bus = BusFactory.getThreadDefaultBus();\r\n        bus.setExtension(new HTTPConduitConfigurer() {\r\n            @Override\r\n            public void configure(String name, String address, HTTPConduit c) {\r\n                //crate and configure sslcontext\r\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(getKeyManagers(), getTrustManagers(), new SecureRandom());\r\n\r\n                TLSClientParameters tls = new TLSClientParameters();\r\n                //configure tls client params here\r\n                tls.setSSLSocketFactory(sslContext.getSocketFactory());\r\n                //set tls client params\r\n                c.setTlsClientParameters(tls);\r\n            }\r\n        }, HTTPConduitConfigurer.class);\r\n\r\n        QName SERVICE_NAME = new QName(&quot;http://server/schemas/services&quot;, &quot;MyService&quot;);\r\n        URL wsdlURL = new URL(&quot;https://localhost:8443/services/MyService?wsdl&quot;);\r\n        MyService ss = new MyService(wsdlURL, SERVICE_NAME);\r\n        MyServicePortType port = ss.getMyServicePort();\r\n\r\n        IdHolder mensagem = new IdHolder();\r\n        mensagem.setId(1L);\r\n        MyDataObject dataObject = port.getById(mensagem);\r\n\r\n        System.out.println(&quot;Id: &quot; + dataObject.getId());\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Apache CXF wsdl download via SSL/TLS","body":"<p>Adding to reply <a href=\"https://stackoverflow.com/a/15755512/19664676\">https://stackoverflow.com/a/15755512/19664676</a>\nby @DiogoSantana</p>\n<p>One can simply add HTTPConduitConfigurer extension to bus like this.</p>\n<pre><code>package com.mycompany;\n\nimport com.mycompany.IdHolder;\nimport com.mycompany.MyDataObject;\nimport org.apache.cxf.Bus;\nimport org.apache.cxf.BusFactory;\nimport org.apache.cxf.configuration.jsse.TLSClientParameters;\nimport org.apache.cxf.transport.http.HTTPConduit;\nimport org.apache.cxf.transport.http.HTTPConduitConfigurer;\n\nimport java.net.URL;\nimport java.security.SecureRandom;\nimport javax.net.ssl.SSLContext;\nimport javax.xml.namespace.QName;\n\npublic class CxfClientSslTest {\n    public static void main(String[] args) {\n        Bus bus = BusFactory.getThreadDefaultBus();\n        bus.setExtension(new HTTPConduitConfigurer() {\n            @Override\n            public void configure(String name, String address, HTTPConduit c) {\n                //crate and configure sslcontext\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n                sslContext.init(getKeyManagers(), getTrustManagers(), new SecureRandom());\n\n                TLSClientParameters tls = new TLSClientParameters();\n                //configure tls client params here\n                tls.setSSLSocketFactory(sslContext.getSocketFactory());\n                //set tls client params\n                c.setTlsClientParameters(tls);\n            }\n        }, HTTPConduitConfigurer.class);\n\n        QName SERVICE_NAME = new QName(&quot;http://server/schemas/services&quot;, &quot;MyService&quot;);\n        URL wsdlURL = new URL(&quot;https://localhost:8443/services/MyService?wsdl&quot;);\n        MyService ss = new MyService(wsdlURL, SERVICE_NAME);\n        MyServicePortType port = ss.getMyServicePort();\n\n        IdHolder mensagem = new IdHolder();\n        mensagem.setId(1L);\n        MyDataObject dataObject = port.getById(mensagem);\n\n        System.out.println(&quot;Id: &quot; + dataObject.getId());\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2404324,"reputation":2424,"user_id":2101242,"display_name":"DiogoSantana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10641,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":15755512,"answer_count":5,"score":4,"last_activity_date":1659345896,"creation_date":1364871255,"question_id":15755293,"body_markdown":"I have a cxf service running at \r\n\r\n    https://localhost:8443/services/MyService?wsdl\r\n\r\nwith client certificate required. The WSDL is not important here.\r\n\r\nI am able to invoke the service when I remove the client certificate or https requirement.\r\n\r\nThe service and client classes were generated with cxf wsdl2java utility.\r\n&lt;!-- language-all: java --&gt;\r\n\r\nHere is MyService.class:\r\n\r\n    package com.mycompany;\r\n    \r\n    import java.net.URL;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.ws.Service;\r\n    import javax.xml.ws.WebEndpoint;\r\n    import javax.xml.ws.WebServiceClient;\r\n    import javax.xml.ws.WebServiceFeature;\r\n    \r\n    /**\r\n     * This class was generated by Apache CXF 2.7.3 2013-03-29T13:59:37.423-03:00 Generated source version: 2.7.3\r\n     */\r\n    @WebServiceClient(name = &quot;MyService&quot;, wsdlLocation = &quot;myservice.wsdl&quot;, targetNamespace = &quot;http://server/schemas/services&quot;)\r\n    public class MyService extends Service {\r\n    \r\n        public final static URL WSDL_LOCATION;\r\n    \r\n        public final static QName SERVICE = new QName(&quot;http://server/schemas/services&quot;, &quot;MyService&quot;);\r\n        public final static QName MyServicePort = new QName(&quot;http://server/schemas/services&quot;, &quot;MyServicePort&quot;);\r\n        static {\r\n            URL url = MyService.class.getResource(&quot;myservice.wsdl&quot;);\r\n            if (url == null) {\r\n                Logger.getLogger(MyService.class.getName()).log(Level.INFO, &quot;Can not initialize the default wsdl from {0}&quot;, &quot;myservice.wsdl&quot;);\r\n            }\r\n            WSDL_LOCATION = url;\r\n        }\r\n    \r\n        public MyService(URL wsdlLocation) {\r\n            super(wsdlLocation, SERVICE);\r\n        }\r\n    \r\n        public MyService(URL wsdlLocation, QName serviceName) {\r\n            super(wsdlLocation, serviceName);\r\n        }\r\n    \r\n        public MyService() {\r\n            super(WSDL_LOCATION, SERVICE);\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @return returns EncaminharMensagemPortType\r\n         */\r\n        @WebEndpoint(name = &quot;MyServicePort&quot;)\r\n        public MyServicePortType getMyServicePort() {\r\n            return super.getPort(MyServicePort, MyServicePortType.class);\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @param features\r\n         *            A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy. Supported features not in the\r\n         *            &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\r\n         * @return returns EncaminharMensagemPortType\r\n         */\r\n        @WebEndpoint(name = &quot;MyServicePort&quot;)\r\n        public MyServicePortType getMyServicePort(WebServiceFeature... features) {\r\n            return super.getPort(MyServicePort, MyServicePortType.class, features);\r\n        }\r\n    \r\n    }\r\n\r\nHere is my client without client certificate requirement: (that work fine)\r\n\r\n    package com.mycompany;\r\n    \r\n    import java.net.URL;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import com.mycompany.IdHolder;\r\n    import com.mycompany.MyDataObject;\r\n    \r\n    public class CxfClientSslTest {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n    \r\n                QName SERVICE_NAME = new QName(&quot;http://server/schemas/services&quot;, &quot;MyService&quot;);\r\n                URL wsdlURL = new URL(&quot;https://localhost:8443/services/MyService?wsdl&quot;);\r\n                MyService ss = new MyService(wsdlURL, SERVICE_NAME);\r\n                MyServicePortType port = ss.getMyServicePort();\r\n    \r\n                IdHolder mensagem = new IdHolder();\r\n                mensagem.setId(1L);\r\n                MyDataObject dataObject = port.getById(mensagem);\r\n    \r\n                System.out.println(&quot;Id: &quot; + dataObject.getId());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here is my client send his certificate:\r\n\r\n    package com.mycompany;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.UnrecoverableKeyException;\r\n    import java.security.cert.CertificateException;\r\n    \r\n    import javax.net.ssl.KeyManager;\r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    import org.apache.cxf.configuration.jsse.TLSClientParameters;\r\n    import org.apache.cxf.endpoint.Client;\r\n    import org.apache.cxf.frontend.ClientProxy;\r\n    import org.apache.cxf.transport.http.HTTPConduit;\r\n    \r\n    public class CxfClientSslTest {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n    \r\n                QName SERVICE_NAME = new QName(&quot;http://server/schemas/services&quot;, &quot;MyService&quot;);\r\n                URL wsdlURL = new URL(&quot;https://localhost:8443/services/MyService?wsdl&quot;);\r\n                MyService ss = new MyService(wsdlURL, SERVICE_NAME);\r\n                MyServicePortType port = ss.getMyServicePort();\r\n    \r\n                tslIt(port);\r\n    \r\n                IdHolder mensagem = new IdHolder();\r\n                mensagem.setId(1L);\r\n                MyDataObject dataObject = port.getById(mensagem);\r\n    \r\n                System.out.println(&quot;Id: &quot; + dataObject.getId());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void tslIt(MyServicePortType port) throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException,\r\n                UnrecoverableKeyException {\r\n            Client client = ClientProxy.getClient(port);\r\n            HTTPConduit http = (HTTPConduit) client.getConduit();\r\n    \r\n            TLSClientParameters tlsClientParameters = http.getTlsClientParameters();\r\n    \r\n            KeyStore keyStore = getKeyStore();\r\n            KeyStore trustStore = getTrustStore();\r\n    \r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n    \r\n            keyManagerFactory.init(keyStore, &quot;123456&quot;.toCharArray());\r\n            KeyManager[] keyMgrs = keyManagerFactory.getKeyManagers();\r\n            tlsClientParameters.setKeyManagers(keyMgrs);\r\n    \r\n            trustManagerFactory.init(trustStore);\r\n            TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n            tlsClientParameters.setTrustManagers(trustManagers);\r\n    \r\n            tlsClientParameters.setDisableCNCheck(true);\r\n        }\r\n    \r\n        public static KeyStore getKeyStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\r\n            URL keyStoreUrl = CxfClientSslTest.class.getResource(&quot;/certs/client.jks&quot;);\r\n            File keystoreFile = new File(keyStoreUrl.getPath());\r\n            if (!keystoreFile.exists()) {\r\n                throw new RuntimeException(&quot;keystore doesn&#39;t exists: &quot; + keystoreFile.getAbsolutePath());\r\n            }\r\n    \r\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            InputStream keystoreInput = new FileInputStream(keystoreFile.getAbsolutePath());\r\n            keystore.load(keystoreInput, &quot;changeit&quot;.toCharArray());\r\n            keystoreInput.close();\r\n            return keystore;\r\n        }\r\n    \r\n        public static KeyStore getTrustStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\r\n            URL trustStoreUrl = CxfClientSslTest.class.getResource(&quot;/certs/client-trust.jks&quot;);\r\n            File trustStoreFile = new File(trustStoreUrl.getPath());\r\n            if (!trustStoreFile.exists()) {\r\n                throw new RuntimeException(&quot;truststore doesn&#39;t exists: &quot; + trustStoreFile.getAbsolutePath());\r\n            }\r\n    \r\n            KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            InputStream trustStoreInput = new FileInputStream(trustStoreFile.getAbsolutePath());\r\n            trustStore.load(trustStoreInput, &quot;changeit&quot;.toCharArray());\r\n            trustStoreInput.close();\r\n            return trustStore;\r\n        }\r\n    \r\n    }\r\n\r\nThe TLS configuration both from client and server were checked and are ok. But when I run the program I get this:\r\n\r\n    Information: Can not initialize the default wsdl from myservice.wsdl\r\n    javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\r\n        at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:149)\r\n        at org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:98)\r\n        at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\r\n        at com.mycompany.MyService.&lt;init&gt;(MyService.java:36)\r\n        at com.mycompany.CxfClientSslTest.main(CxfClientSslTest.java:32)\r\n    Caused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\r\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:100)\r\n        at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:199)\r\n        at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:147)\r\n        ... 4 more\r\n    Caused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: Problem parsing &#39;https://localhost:8443/services/MyService?wsdl&#39;.: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\r\n        at com.ibm.wsdl.xml.WSDLReaderImpl.getDocument(Unknown Source)\r\n        at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)\r\n        at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)\r\n        at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:262)\r\n        at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:205)\r\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:98)\r\n        ... 6 more\r\n    Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\r\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n        at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1868)\r\n        at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\r\n        at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\r\n        at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1337)\r\n        at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:154)\r\n        at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\r\n        at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\r\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:998)\r\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\r\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\r\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\r\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:653)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:799)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\r\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\r\n        at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:240)\r\n        at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:300)\r\n        ... 12 more\r\n    Caused by: java.security.cert.CertificateException: No name matching localhost found\r\n        at sun.security.util.HostnameChecker.matchDNS(HostnameChecker.java:208)\r\n        at sun.security.util.HostnameChecker.match(HostnameChecker.java:93)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:347)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:203)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\r\n        at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1319)\r\n        ... 30 more\r\n\r\nI can see that the problem is happening before my https configuration get done, when cxf tries to download the wsdl.\r\n\r\nI made a research on how to make cxf use that https configuration to download the wsdl. It take me a lot of time, but I can&#39;t find the answer out there.\r\n\r\nSo my question is: how to make cxf use the https configuration to download the wsdl?\r\n\r\nPlease, I have the answer already and I intend to put it here. So, if you don&#39;t have a good answer, or better the answer, please don&#39;t post one.","title":"Apache CXF wsdl download via SSL/TLS","body":"<p>I have a cxf service running at </p>\n\n<pre><code>https://localhost:8443/services/MyService?wsdl\n</code></pre>\n\n<p>with client certificate required. The WSDL is not important here.</p>\n\n<p>I am able to invoke the service when I remove the client certificate or https requirement.</p>\n\n<p>The service and client classes were generated with cxf wsdl2java utility.\n</p>\n\n<p>Here is MyService.class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany;\n\nimport java.net.URL;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport javax.xml.namespace.QName;\nimport javax.xml.ws.Service;\nimport javax.xml.ws.WebEndpoint;\nimport javax.xml.ws.WebServiceClient;\nimport javax.xml.ws.WebServiceFeature;\n\n/**\n * This class was generated by Apache CXF 2.7.3 2013-03-29T13:59:37.423-03:00 Generated source version: 2.7.3\n */\n@WebServiceClient(name = \"MyService\", wsdlLocation = \"myservice.wsdl\", targetNamespace = \"http://server/schemas/services\")\npublic class MyService extends Service {\n\n    public final static URL WSDL_LOCATION;\n\n    public final static QName SERVICE = new QName(\"http://server/schemas/services\", \"MyService\");\n    public final static QName MyServicePort = new QName(\"http://server/schemas/services\", \"MyServicePort\");\n    static {\n        URL url = MyService.class.getResource(\"myservice.wsdl\");\n        if (url == null) {\n            Logger.getLogger(MyService.class.getName()).log(Level.INFO, \"Can not initialize the default wsdl from {0}\", \"myservice.wsdl\");\n        }\n        WSDL_LOCATION = url;\n    }\n\n    public MyService(URL wsdlLocation) {\n        super(wsdlLocation, SERVICE);\n    }\n\n    public MyService(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n\n    public MyService() {\n        super(WSDL_LOCATION, SERVICE);\n    }\n\n    /**\n     * \n     * @return returns EncaminharMensagemPortType\n     */\n    @WebEndpoint(name = \"MyServicePort\")\n    public MyServicePortType getMyServicePort() {\n        return super.getPort(MyServicePort, MyServicePortType.class);\n    }\n\n    /**\n     * \n     * @param features\n     *            A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy. Supported features not in the\n     *            &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\n     * @return returns EncaminharMensagemPortType\n     */\n    @WebEndpoint(name = \"MyServicePort\")\n    public MyServicePortType getMyServicePort(WebServiceFeature... features) {\n        return super.getPort(MyServicePort, MyServicePortType.class, features);\n    }\n\n}\n</code></pre>\n\n<p>Here is my client without client certificate requirement: (that work fine)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany;\n\nimport java.net.URL;\n\nimport javax.xml.namespace.QName;\n\nimport com.mycompany.IdHolder;\nimport com.mycompany.MyDataObject;\n\npublic class CxfClientSslTest {\n\n    public static void main(String[] args) {\n        try {\n\n            QName SERVICE_NAME = new QName(\"http://server/schemas/services\", \"MyService\");\n            URL wsdlURL = new URL(\"https://localhost:8443/services/MyService?wsdl\");\n            MyService ss = new MyService(wsdlURL, SERVICE_NAME);\n            MyServicePortType port = ss.getMyServicePort();\n\n            IdHolder mensagem = new IdHolder();\n            mensagem.setId(1L);\n            MyDataObject dataObject = port.getById(mensagem);\n\n            System.out.println(\"Id: \" + dataObject.getId());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>And here is my client send his certificate:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateException;\n\nimport javax.net.ssl.KeyManager;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.xml.namespace.QName;\n\nimport org.apache.cxf.configuration.jsse.TLSClientParameters;\nimport org.apache.cxf.endpoint.Client;\nimport org.apache.cxf.frontend.ClientProxy;\nimport org.apache.cxf.transport.http.HTTPConduit;\n\npublic class CxfClientSslTest {\n\n    public static void main(String[] args) {\n        try {\n\n            QName SERVICE_NAME = new QName(\"http://server/schemas/services\", \"MyService\");\n            URL wsdlURL = new URL(\"https://localhost:8443/services/MyService?wsdl\");\n            MyService ss = new MyService(wsdlURL, SERVICE_NAME);\n            MyServicePortType port = ss.getMyServicePort();\n\n            tslIt(port);\n\n            IdHolder mensagem = new IdHolder();\n            mensagem.setId(1L);\n            MyDataObject dataObject = port.getById(mensagem);\n\n            System.out.println(\"Id: \" + dataObject.getId());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void tslIt(MyServicePortType port) throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException,\n            UnrecoverableKeyException {\n        Client client = ClientProxy.getClient(port);\n        HTTPConduit http = (HTTPConduit) client.getConduit();\n\n        TLSClientParameters tlsClientParameters = http.getTlsClientParameters();\n\n        KeyStore keyStore = getKeyStore();\n        KeyStore trustStore = getTrustStore();\n\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n\n        keyManagerFactory.init(keyStore, \"123456\".toCharArray());\n        KeyManager[] keyMgrs = keyManagerFactory.getKeyManagers();\n        tlsClientParameters.setKeyManagers(keyMgrs);\n\n        trustManagerFactory.init(trustStore);\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n        tlsClientParameters.setTrustManagers(trustManagers);\n\n        tlsClientParameters.setDisableCNCheck(true);\n    }\n\n    public static KeyStore getKeyStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\n        URL keyStoreUrl = CxfClientSslTest.class.getResource(\"/certs/client.jks\");\n        File keystoreFile = new File(keyStoreUrl.getPath());\n        if (!keystoreFile.exists()) {\n            throw new RuntimeException(\"keystore doesn't exists: \" + keystoreFile.getAbsolutePath());\n        }\n\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n        InputStream keystoreInput = new FileInputStream(keystoreFile.getAbsolutePath());\n        keystore.load(keystoreInput, \"changeit\".toCharArray());\n        keystoreInput.close();\n        return keystore;\n    }\n\n    public static KeyStore getTrustStore() throws KeyStoreException, NoSuchAlgorithmException, CertificateException, IOException {\n        URL trustStoreUrl = CxfClientSslTest.class.getResource(\"/certs/client-trust.jks\");\n        File trustStoreFile = new File(trustStoreUrl.getPath());\n        if (!trustStoreFile.exists()) {\n            throw new RuntimeException(\"truststore doesn't exists: \" + trustStoreFile.getAbsolutePath());\n        }\n\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        InputStream trustStoreInput = new FileInputStream(trustStoreFile.getAbsolutePath());\n        trustStore.load(trustStoreInput, \"changeit\".toCharArray());\n        trustStoreInput.close();\n        return trustStore;\n    }\n\n}\n</code></pre>\n\n<p>The TLS configuration both from client and server were checked and are ok. But when I run the program I get this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Information: Can not initialize the default wsdl from myservice.wsdl\njavax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\n    at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:149)\n    at org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:98)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\n    at com.mycompany.MyService.&lt;init&gt;(MyService.java:36)\n    at com.mycompany.CxfClientSslTest.main(CxfClientSslTest.java:32)\nCaused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\n    at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:100)\n    at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:199)\n    at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:147)\n    ... 4 more\nCaused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: Problem parsing 'https://localhost:8443/services/MyService?wsdl'.: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\n    at com.ibm.wsdl.xml.WSDLReaderImpl.getDocument(Unknown Source)\n    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)\n    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)\n    at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:262)\n    at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:205)\n    at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:98)\n    ... 6 more\nCaused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1868)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1337)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:154)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:998)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:653)\n    at com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:799)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:240)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:300)\n    ... 12 more\nCaused by: java.security.cert.CertificateException: No name matching localhost found\n    at sun.security.util.HostnameChecker.matchDNS(HostnameChecker.java:208)\n    at sun.security.util.HostnameChecker.match(HostnameChecker.java:93)\n    at sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:347)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:203)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1319)\n    ... 30 more\n</code></pre>\n\n<p>I can see that the problem is happening before my https configuration get done, when cxf tries to download the wsdl.</p>\n\n<p>I made a research on how to make cxf use that https configuration to download the wsdl. It take me a lot of time, but I can't find the answer out there.</p>\n\n<p>So my question is: how to make cxf use the https configuration to download the wsdl?</p>\n\n<p>Please, I have the answer already and I intend to put it here. So, if you don't have a good answer, or better the answer, please don't post one.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":10333792,"reputation":183,"user_id":7622687,"display_name":"NiksVij"},"score":1,"creation_date":1561750097,"post_id":56812212,"comment_id":100178743,"body_markdown":"I mean, why cant you use , System.currentTimeMillis() at the beginning and at the end of the program . Simply subtract these values to get execution time","body":"I mean, why cant you use , System.currentTimeMillis() at the beginning and at the end of the program . Simply subtract these values to get execution time"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1561750230,"post_id":56812212,"comment_id":100178787,"body_markdown":"Honestly, you do not **time** java applications. If you perceive a performance problem, you **benchmark** them. https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java ...","body":"Honestly, you do not <b>time</b> java applications. If you perceive a performance problem, you <b>benchmark</b> them. <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a> ..."},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1561752014,"post_id":56812212,"comment_id":100179396,"body_markdown":"@NiksVij I can definitely do that and I use `System.nanoTime()` instead of `System.currentTimeMillis()` to get more accurate results whenever required, I just want to know if there is a way to specify time command in IntelliJ. Nothing less nothing more.","body":"@NiksVij I can definitely do that and I use <code>System.nanoTime()</code> instead of <code>System.currentTimeMillis()</code> to get more accurate results whenever required, I just want to know if there is a way to specify time command in IntelliJ. Nothing less nothing more."},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1561752070,"post_id":56812212,"comment_id":100179412,"body_markdown":"@GhostCat I just want to know if there is a way to add the &quot;time&quot;  command from IntelliJ configurations. I don&#39;t want to debug any performance problem as of now.","body":"@GhostCat I just want to know if there is a way to add the &quot;time&quot;  command from IntelliJ configurations. I don&#39;t want to debug any performance problem as of now."},{"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"score":1,"creation_date":1659291846,"post_id":56812212,"comment_id":129254808,"body_markdown":"Does this answer your question? [Checking Run time in IntelliJ IDEA](https://stackoverflow.com/questions/1210081/checking-run-time-in-intellij-idea)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1210081/checking-run-time-in-intellij-idea\">Checking Run time in IntelliJ IDEA</a>"}],"answers":[{"tags":[],"owner":{"account_id":16153429,"reputation":23,"user_id":11661243,"display_name":"vtboyarc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561809442,"creation_date":1561809442,"answer_id":56817358,"question_id":56812212,"body_markdown":"Youd need a profiler. I believe the plugin VisualVM Profiler for IntelliJ might be what youre looking for. \r\nHeres the link to it: https://plugins.jetbrains.com/plugin/3749-visualvm-profiler/","title":"How to &quot;time&quot; a Java Program in Intellij","body":"<p>Youd need a profiler. I believe the plugin VisualVM Profiler for IntelliJ might be what youre looking for. \nHeres the link to it: <a href=\"https://plugins.jetbrains.com/plugin/3749-visualvm-profiler/\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/3749-visualvm-profiler/</a></p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659345473,"creation_date":1659345473,"answer_id":73191507,"question_id":56812212,"body_markdown":"To open the terminal window in Intellij, \r\n\r\nFrom the main menu, select **View** | **Tool Windows** | **Terminal** or press `Alt+F12`.\r\n\r\nSee https://www.jetbrains.com/help/idea/terminal-emulator.html#open-terminal\r\n\r\nOnce you opened the terminal window in the IDE, you can run any command you like, including, but not limited to\r\n\r\n    time java  -Djava.util.concurrent.ForkJoinPool.common.parallelism=40 TestingNumberOfThreads\r\n\r\nYou can even separate this terminal command into its own file, named to something like **mycommand.sh**. And, assuming that this file contains the command above, you can simplify your command to\r\n\r\n    sh &lt;yourpath&gt;/mycommand.sh","title":"How to &quot;time&quot; a Java Program in Intellij","body":"<p>To open the terminal window in Intellij,</p>\n<p>From the main menu, select <strong>View</strong> | <strong>Tool Windows</strong> | <strong>Terminal</strong> or press <code>Alt+F12</code>.</p>\n<p>See <a href=\"https://www.jetbrains.com/help/idea/terminal-emulator.html#open-terminal\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/terminal-emulator.html#open-terminal</a></p>\n<p>Once you opened the terminal window in the IDE, you can run any command you like, including, but not limited to</p>\n<pre><code>time java  -Djava.util.concurrent.ForkJoinPool.common.parallelism=40 TestingNumberOfThreads\n</code></pre>\n<p>You can even separate this terminal command into its own file, named to something like <strong>mycommand.sh</strong>. And, assuming that this file contains the command above, you can simplify your command to</p>\n<pre><code>sh &lt;yourpath&gt;/mycommand.sh\n</code></pre>\n"}],"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1381,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1659345473,"creation_date":1561749593,"question_id":56812212,"body_markdown":"I am currently using [time](https://linux.die.net/man/1/time) command from the terminal to check how much time my java program took, using the following command.\r\n\r\n```\r\ntime java  -Djava.util.concurrent.ForkJoinPool.common.parallelism=40 TestingNumberOfThreads\r\n\r\n// Result\r\nreal\t0m4.356s\r\nuser\t0m46.273s\r\nsys\t0m0.702s\r\n```\r\n\r\nIs there a way I can achieve the same from IntelliJ?","title":"How to &quot;time&quot; a Java Program in Intellij","body":"<p>I am currently using <a href=\"https://linux.die.net/man/1/time\" rel=\"nofollow noreferrer\">time</a> command from the terminal to check how much time my java program took, using the following command.</p>\n\n<pre><code>time java  -Djava.util.concurrent.ForkJoinPool.common.parallelism=40 TestingNumberOfThreads\n\n// Result\nreal    0m4.356s\nuser    0m46.273s\nsys 0m0.702s\n</code></pre>\n\n<p>Is there a way I can achieve the same from IntelliJ?</p>\n"},{"tags":["java","android","api","httpurlconnection","filenotfoundexception"],"comments":[{"owner":{"account_id":293330,"reputation":788,"user_id":596566,"display_name":"DearDhruv"},"score":0,"creation_date":1659352452,"post_id":73191497,"comment_id":129266739,"body_markdown":"You can try using &quot;FileOutputStream&quot; since the URL response is file.","body":"You can try using &quot;FileOutputStream&quot; since the URL response is file."},{"owner":{"account_id":25829620,"reputation":5,"user_id":19567069,"display_name":"Weber Hwang"},"score":0,"creation_date":1659441720,"post_id":73191497,"comment_id":129291063,"body_markdown":"I have tried to use FileOutputStream to process, but found that the problem may be with https authentication. Anyway, thank you very much.","body":"I have tried to use FileOutputStream to process, but found that the problem may be with https authentication. Anyway, thank you very much."}],"owner":{"account_id":25829620,"reputation":5,"user_id":19567069,"display_name":"Weber Hwang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659345424,"creation_date":1659345424,"question_id":73191497,"body_markdown":"Please help ~\r\n\r\nThere is DailyForeignExchangeRates opendata on\r\nhttps://openapi.taifex.com.tw/v1/DailyForeignExchangeRates\r\n\r\nWhen I browse it from chrome, I will get a file as follows.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BnGLm.png\r\n\r\nBut when I using HttpURLConnection to get data in Android Studio,\r\nI always get FileNotFoundException. Why ?\r\n\r\n    D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\n    W/System.err: java.io.FileNotFoundException: https://openapi.taifex.com.tw/v1/DailyForeignExchangeRates\r\n    W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\r\n    W/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\r\n    W/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\r\n    W/System.err:     at com.weberhwang.testfirebase.MainActivity.lambda$catchData$0(MainActivity.java:115)\r\n    W/System.err:     at com.weberhwang.testfirebase.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:2)\r\n    W/System.err:     at java.lang.Thread.run(Thread.java:923)\r\n\r\nBelow is my code\r\n\r\n[AndroidManifest.xml]\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.weberhwang.testfirebase&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TestFireBase&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n[MainActivity.java]\r\n\r\n    package com.weberhwang.testfirebase;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    import com.weberhwang.testfirebase.databinding.ActivityMainBinding;\r\n    \r\n    import android.Manifest;\r\n    import android.app.AlertDialog;\r\n    import android.content.DialogInterface;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private ActivityMainBinding binding;\r\n        private TextView textViewResult;\r\n        private FirebaseAuth mAuth;\r\n        private AlertDialog.Builder alertDialog;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            catchData();\r\n        }\r\n    \r\n        private void catchData() {\r\n            String catchData = &quot;https://openapi.taifex.com.tw/v1/DailyForeignExchangeRates&quot;;\r\n            new Thread(()-&gt;{\r\n                try {\r\n                    URL url = new URL(catchData);\r\n                    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                    InputStream is = connection.getInputStream();\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(is));\r\n                    String line = in.readLine();\r\n                    StringBuffer json = new StringBuffer();\r\n                    while (line != null) {\r\n                        json.append(line);\r\n                        line = in.readLine();\r\n                    }\r\n                    Log.d(&quot;MyLog&quot;,json.toString());\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (connection != null) {\r\n                        connection.disconnect();\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n    }","title":"Why is there java.io.FileNotFoundException when I use HttpURLConnection to get data via api?","body":"<p>Please help ~</p>\n<p>There is DailyForeignExchangeRates opendata on\n<a href=\"https://openapi.taifex.com.tw/v1/DailyForeignExchangeRates\" rel=\"nofollow noreferrer\">https://openapi.taifex.com.tw/v1/DailyForeignExchangeRates</a></p>\n<p>When I browse it from chrome, I will get a file as follows.</p>\n<p><a href=\"https://i.stack.imgur.com/BnGLm.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But when I using HttpURLConnection to get data in Android Studio,\nI always get FileNotFoundException. Why ?</p>\n<pre><code>D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \nW/System.err: java.io.FileNotFoundException: https://openapi.taifex.com.tw/v1/DailyForeignExchangeRates\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\nW/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\nW/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\nW/System.err:     at com.weberhwang.testfirebase.MainActivity.lambda$catchData$0(MainActivity.java:115)\nW/System.err:     at com.weberhwang.testfirebase.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:2)\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>Below is my code</p>\n<p>[AndroidManifest.xml]</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.weberhwang.testfirebase&quot;&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:usesCleartextTraffic=&quot;true&quot;\n    android:theme=&quot;@style/Theme.TestFireBase&quot;&gt;\n\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>[MainActivity.java]</p>\n<pre><code>package com.weberhwang.testfirebase;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.weberhwang.testfirebase.databinding.ActivityMainBinding;\n\nimport android.Manifest;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport javax.net.ssl.HttpsURLConnection;\n\npublic class MainActivity extends AppCompatActivity {\n    private ActivityMainBinding binding;\n    private TextView textViewResult;\n    private FirebaseAuth mAuth;\n    private AlertDialog.Builder alertDialog;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        catchData();\n    }\n\n    private void catchData() {\n        String catchData = &quot;https://openapi.taifex.com.tw/v1/DailyForeignExchangeRates&quot;;\n        new Thread(()-&gt;{\n            try {\n                URL url = new URL(catchData);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                InputStream is = connection.getInputStream();\n                BufferedReader in = new BufferedReader(new InputStreamReader(is));\n                String line = in.readLine();\n                StringBuffer json = new StringBuffer();\n                while (line != null) {\n                    json.append(line);\n                    line = in.readLine();\n                }\n                Log.d(&quot;MyLog&quot;,json.toString());\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                if (connection != null) {\n                    connection.disconnect();\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","liquibase","liquibase-hibernate","liquibase-sql"],"answers":[{"tags":[],"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638782133,"creation_date":1638782133,"answer_id":70243161,"question_id":70217772,"body_markdown":"It looks like as of version 3.6 Liquibase supports UUIDs:\r\n\r\nhttps://docs.liquibase.com/workflows/liquibase-community/working-with-uuids.html","title":"liquibase maven plugin UUID vs BINARY(255)","body":"<p>It looks like as of version 3.6 Liquibase supports UUIDs:</p>\n<p><a href=\"https://docs.liquibase.com/workflows/liquibase-community/working-with-uuids.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/workflows/liquibase-community/working-with-uuids.html</a></p>\n"},{"tags":[],"owner":{"account_id":25946132,"reputation":26,"user_id":19664840,"display_name":"Dmitry Fatyanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659345297,"creation_date":1659345297,"answer_id":73191478,"question_id":70217772,"body_markdown":"Faced the same problem when using PostgreSQL. I decided by specifying an explicit dialect in the liquibase-maven-plugin settings.\r\n\r\n    &lt;referenceUrl&gt;hibernate:spring:ru.mts.iot.core.metainvsrv.entity?dialect=org.hibernate.dialect.PostgreSQL95Dialect&lt;/referenceUrl&gt;","title":"liquibase maven plugin UUID vs BINARY(255)","body":"<p>Faced the same problem when using PostgreSQL. I decided by specifying an explicit dialect in the liquibase-maven-plugin settings.</p>\n<pre><code>&lt;referenceUrl&gt;hibernate:spring:ru.mts.iot.core.metainvsrv.entity?dialect=org.hibernate.dialect.PostgreSQL95Dialect&lt;/referenceUrl&gt;\n</code></pre>\n"}],"owner":{"account_id":11713219,"reputation":441,"user_id":8574536,"display_name":"aminator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73191478,"answer_count":2,"score":2,"last_activity_date":1659345297,"creation_date":1638549486,"question_id":70217772,"body_markdown":" - I use the liquibase-maven-plugin to generate the database migration scripts.\r\n - But liquibase generates the UUID id fields as BINARY(255).\r\n - This in itself is not a problem as the IDs for new entities are generated by hibernate.\r\nSo database support for uuid is not required.\r\n - but my problem now are the sample data in csv files, in which I have to insert the uuid as binary.\r\n\r\nSo I see 2 possible solutions for my problem:\r\n 1. let liquibase-maven-plugin generate the UUID fields as real UUID database fields.\r\n 2. tell liquibase to transform the uuid in my csv files into binary before inserting.\r\n\r\n**Does anyone know how to perform either 1. or 2. ?**\r\n\r\n**Or is there even a 3. option I am not aware of ?**\r\n\r\njava entity\r\n\r\n    @Entity\r\n    public class TestEntity {\r\n      @Id\r\n      @GeneratedValue\r\n      private UUID id;\r\n      @Column\r\n      private String name;\r\n    }\r\n\r\nchange set generated by liquibase-maven-plugin\r\n\r\n    - changeSet:\r\n        id: 1638440755794-7\r\n        changes:\r\n        - createTable:\r\n            columns:\r\n            - column:\r\n                constraints:\r\n                  nullable: false\r\n                  primaryKey: true\r\n                name: id\r\n                type: BINARY(255)\r\n            - column:\r\n                name: name\r\n                type: VARCHAR(255)\r\n            tableName: test_entity\r\n\r\nsample-data.csv - *NOT WORKING*\r\n\r\n    id,name\r\n    0da87def-2d39-47f1-ae4a-310fc37a8aa0,meinName\r\n\r\nsample-data.csv - *WORKING*\r\n\r\n    id,name\r\n    Dah97y05R/GuSjEPw3qKoA==,meinName\r\n","title":"liquibase maven plugin UUID vs BINARY(255)","body":"<ul>\n<li>I use the liquibase-maven-plugin to generate the database migration scripts.</li>\n<li>But liquibase generates the UUID id fields as BINARY(255).</li>\n<li>This in itself is not a problem as the IDs for new entities are generated by hibernate.\nSo database support for uuid is not required.</li>\n<li>but my problem now are the sample data in csv files, in which I have to insert the uuid as binary.</li>\n</ul>\n<p>So I see 2 possible solutions for my problem:</p>\n<ol>\n<li>let liquibase-maven-plugin generate the UUID fields as real UUID database fields.</li>\n<li>tell liquibase to transform the uuid in my csv files into binary before inserting.</li>\n</ol>\n<p><strong>Does anyone know how to perform either 1. or 2. ?</strong></p>\n<p><strong>Or is there even a 3. option I am not aware of ?</strong></p>\n<p>java entity</p>\n<pre><code>@Entity\npublic class TestEntity {\n  @Id\n  @GeneratedValue\n  private UUID id;\n  @Column\n  private String name;\n}\n</code></pre>\n<p>change set generated by liquibase-maven-plugin</p>\n<pre><code>- changeSet:\n    id: 1638440755794-7\n    changes:\n    - createTable:\n        columns:\n        - column:\n            constraints:\n              nullable: false\n              primaryKey: true\n            name: id\n            type: BINARY(255)\n        - column:\n            name: name\n            type: VARCHAR(255)\n        tableName: test_entity\n</code></pre>\n<p>sample-data.csv - <em>NOT WORKING</em></p>\n<pre><code>id,name\n0da87def-2d39-47f1-ae4a-310fc37a8aa0,meinName\n</code></pre>\n<p>sample-data.csv - <em>WORKING</em></p>\n<pre><code>id,name\nDah97y05R/GuSjEPw3qKoA==,meinName\n</code></pre>\n"},{"tags":["java","duplicates","find-occurrences"],"comments":[{"owner":{"account_id":8238621,"reputation":557,"user_id":6196911,"accept_rate":17,"display_name":"CS_noob"},"score":3,"creation_date":1481908287,"post_id":41189214,"comment_id":69578397,"body_markdown":"Use a HashMap and try if it suits your requirement.","body":"Use a HashMap and try if it suits your requirement."}],"answers":[{"tags":[],"owner":{"account_id":9482427,"reputation":665,"user_id":7049894,"accept_rate":100,"display_name":"A Sdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482158100,"creation_date":1481913472,"answer_id":41190515,"question_id":41189214,"body_markdown":"I will do it this way\r\n\r\n    String s = &quot;mississippi&quot;;\r\n    List&lt;String&gt; original = Arrays.stream(s.split(&quot;&quot;))\r\n    \t\t             .collect(Collectors.toList());\r\n    List&lt;String&gt; duplicateRemoved = Arrays.stream(s.split(&quot;&quot;))\r\n    \t\t              .distinct()\r\n    \t\t              .collect(Collectors.toList());\r\n    ArrayList&lt;Integer&gt; Occurrences = new ArrayList&lt;&gt;();\r\n    int counter = 1;\r\n    \t\t\r\n    for (String aList : duplicateRemoved) {\r\n    \tcounter = (int) original.stream().filter(s1 -&gt; s1.equals(aList)).count();\r\n    \t\t\tOccurrences.add(counter);\r\n    \t\t}\r\n    System.out.println(duplicateRemoved);\r\n    System.out.println(Occurrences);\r\n\r\n \r\nand the output\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aSZa4.png","title":"Count occurrences and remove duplicates from a String","body":"<p>I will do it this way</p>\n\n<pre><code>String s = \"mississippi\";\nList&lt;String&gt; original = Arrays.stream(s.split(\"\"))\n                     .collect(Collectors.toList());\nList&lt;String&gt; duplicateRemoved = Arrays.stream(s.split(\"\"))\n                      .distinct()\n                      .collect(Collectors.toList());\nArrayList&lt;Integer&gt; Occurrences = new ArrayList&lt;&gt;();\nint counter = 1;\n\nfor (String aList : duplicateRemoved) {\n    counter = (int) original.stream().filter(s1 -&gt; s1.equals(aList)).count();\n            Occurrences.add(counter);\n        }\nSystem.out.println(duplicateRemoved);\nSystem.out.println(Occurrences);\n</code></pre>\n\n<p>and the output</p>\n\n<p><a href=\"https://i.stack.imgur.com/aSZa4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSZa4.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659345182,"creation_date":1659345182,"answer_id":73191445,"question_id":41189214,"body_markdown":"    String s = &quot;Navnath Jadhav&quot;;\r\n    Function&lt;Map&lt;Character, Long&gt;, Map&lt;Character, Long&gt;&gt; filterDuplicates = (m) -&gt; m.entrySet()\r\n            .stream()\r\n            .filter(e -&gt; e.getValue() == 1)\r\n            .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n    \r\n    final Map&lt;Character, Long&gt; collect = s.chars().mapToObj(c -&gt; (char) c).collect(\r\n            collectingAndThen(\r\n                    groupingBy(c -&gt; c, LinkedHashMap::new, counting()),\r\n                    filterDuplicates\r\n            )\r\n    );\r\n\r\nUsing Java 8 :\r\n1. `chars()` method of String returns us [surrogate code point][1] of each character in String \r\n2. Using [mapToObject][2] map those code point to character `c -&gt; (char) c`\r\n3. using [Collectors.groupingBy][3] and [Collectors.counting()][4] we will calculate occurrences of each character in string\r\n4. After counting occurrences we want to remove duplicate characters.[collectingAndThen][5] help us to do some computation on the final result, It accepts first parameter as Collector so we will provide groupingBy and second parameter as a Function which accepts result generated by groupingBy and returns new result\r\n\r\n    Function&lt;Map&lt;Character, Long&gt;, Map&lt;Character, Long&gt;&gt;\r\nThis function will drop characters which are duplicate and only allow character which has occurred only once `filter(e -&gt; e.getValue() == 1)`\r\n\r\n*If you don&#39;t want to preserve order of character then you can remove `LinkedHashMap`, So it will be like `toMap(Map.Entry::getKey, Map.Entry::getValue)` and `groupingBy(c -&gt; c, counting())`\r\n\r\n[Demo][6]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/23979676/6099811\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.function.Supplier-java.util.stream.Collector-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#collectingAndThen-java.util.stream.Collector-java.util.function.Function-\r\n  [6]: https://www.online-java.com/jzUVSmX16C","title":"Count occurrences and remove duplicates from a String","body":"<pre><code>String s = &quot;Navnath Jadhav&quot;;\nFunction&lt;Map&lt;Character, Long&gt;, Map&lt;Character, Long&gt;&gt; filterDuplicates = (m) -&gt; m.entrySet()\n        .stream()\n        .filter(e -&gt; e.getValue() == 1)\n        .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n\nfinal Map&lt;Character, Long&gt; collect = s.chars().mapToObj(c -&gt; (char) c).collect(\n        collectingAndThen(\n                groupingBy(c -&gt; c, LinkedHashMap::new, counting()),\n                filterDuplicates\n        )\n);\n</code></pre>\n<p>Using Java 8 :</p>\n<ol>\n<li><p><code>chars()</code> method of String returns us <a href=\"https://stackoverflow.com/q/23979676/6099811\">surrogate code point</a> of each character in String</p>\n</li>\n<li><p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-\" rel=\"nofollow noreferrer\">mapToObject</a> map those code point to character <code>c -&gt; (char) c</code></p>\n</li>\n<li><p>using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.function.Supplier-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">Collectors.groupingBy</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--\" rel=\"nofollow noreferrer\">Collectors.counting()</a> we will calculate occurrences of each character in string</p>\n</li>\n<li><p>After counting occurrences we want to remove duplicate characters.<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#collectingAndThen-java.util.stream.Collector-java.util.function.Function-\" rel=\"nofollow noreferrer\">collectingAndThen</a> help us to do some computation on the final result, It accepts first parameter as Collector so we will provide groupingBy and second parameter as a Function which accepts result generated by groupingBy and returns new result</p>\n<p>Function&lt;Map&lt;Character, Long&gt;, Map&lt;Character, Long&gt;&gt;\nThis function will drop characters which are duplicate and only allow character which has occurred only once <code>filter(e -&gt; e.getValue() == 1)</code></p>\n</li>\n</ol>\n<p>*If you don't want to preserve order of character then you can remove <code>LinkedHashMap</code>, So it will be like <code>toMap(Map.Entry::getKey, Map.Entry::getValue)</code> and <code>groupingBy(c -&gt; c, counting())</code></p>\n<p><a href=\"https://www.online-java.com/jzUVSmX16C\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}],"owner":{"account_id":9866501,"reputation":1,"user_id":7307792,"display_name":"gorillaBilla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659345182,"creation_date":1481908076,"question_id":41189214,"body_markdown":"So I am building a huffman tree and I am in need of taking a String as input, and then create 2 arrays containing each letter and the number of occurrences of that letter in the original string, like this:\r\n\r\n    String s = &quot;mississippi&quot;\r\n\r\nShould result in:\r\n\r\n    char[] charArr = {&#39;m&#39;,&#39;i&#39;, &#39;s&#39;, &#39;p&#39;};\r\n    int[] count = {1,4,4,2};\r\n\r\nThere are alot of question regarding this and alot of examples on how to solve this, especially here on stackoverflow but the only one that I managed to get working was this:\r\n\r\n    private void findOccurences(String s) {\r\n    \t\tList&lt;Character&gt; original = new ArrayList&lt;Character&gt;(s.length());\r\n    \t\tList&lt;Character&gt; duplicateRemoved;\r\n    \r\n    \t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \t\t\toriginal.add(s.charAt(i));\r\n    \t\t}\r\n    \t\tduplicateRemoved = new ArrayList&lt;Character&gt;(original);\r\n    \r\n    \t\t// Remove duplicates from second list.\r\n    \t\tSet&lt;Character&gt; hs = new HashSet&lt;Character&gt;();\r\n    \t\ths.addAll(duplicateRemoved);\r\n    \t\tduplicateRemoved.clear();\r\n    \t\tduplicateRemoved.addAll(hs);\r\n    \r\n    \t\tcharFreqs = new int[duplicateRemoved.size()];\r\n    \t\tcharArr = new char[duplicateRemoved.size()];\r\n    \r\n    \t\tfor (int i = 0; i &lt; charArr.length; i++) {\r\n    \t\t\tchar c = duplicateRemoved.get(i);\r\n    \t\t\tint count = Collections.frequency(original, c);\r\n    \t\t\tcharArr[i] = c;\r\n    \t\t\tcharFreqs[i] = count;\r\n    \t\t}\r\n    \t}\r\n\r\nBut it feels very cumberstone and it also scrambles the order of the letters in the array. If I use this my resulting array is as follows:\r\n\r\n    char[] charArr = {&#39;p&#39;,&#39;s&#39;, &#39;i&#39;, &#39;m&#39;};\r\n\r\nAre there any better way to do what I want?","title":"Count occurrences and remove duplicates from a String","body":"<p>So I am building a huffman tree and I am in need of taking a String as input, and then create 2 arrays containing each letter and the number of occurrences of that letter in the original string, like this:</p>\n\n<pre><code>String s = \"mississippi\"\n</code></pre>\n\n<p>Should result in:</p>\n\n<pre><code>char[] charArr = {'m','i', 's', 'p'};\nint[] count = {1,4,4,2};\n</code></pre>\n\n<p>There are alot of question regarding this and alot of examples on how to solve this, especially here on stackoverflow but the only one that I managed to get working was this:</p>\n\n<pre><code>private void findOccurences(String s) {\n        List&lt;Character&gt; original = new ArrayList&lt;Character&gt;(s.length());\n        List&lt;Character&gt; duplicateRemoved;\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            original.add(s.charAt(i));\n        }\n        duplicateRemoved = new ArrayList&lt;Character&gt;(original);\n\n        // Remove duplicates from second list.\n        Set&lt;Character&gt; hs = new HashSet&lt;Character&gt;();\n        hs.addAll(duplicateRemoved);\n        duplicateRemoved.clear();\n        duplicateRemoved.addAll(hs);\n\n        charFreqs = new int[duplicateRemoved.size()];\n        charArr = new char[duplicateRemoved.size()];\n\n        for (int i = 0; i &lt; charArr.length; i++) {\n            char c = duplicateRemoved.get(i);\n            int count = Collections.frequency(original, c);\n            charArr[i] = c;\n            charFreqs[i] = count;\n        }\n    }\n</code></pre>\n\n<p>But it feels very cumberstone and it also scrambles the order of the letters in the array. If I use this my resulting array is as follows:</p>\n\n<pre><code>char[] charArr = {'p','s', 'i', 'm'};\n</code></pre>\n\n<p>Are there any better way to do what I want?</p>\n"},{"tags":["java","visual-studio-code","vscode-code-runner"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656974427,"post_id":72859749,"comment_id":128695379,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657002195,"creation_date":1657002195,"answer_id":72864795,"question_id":72859749,"body_markdown":"As a test, I created the following directory structure:\r\n\r\n```\r\nTest\r\n Test1.java\r\n Test2\r\n    Test2.java\r\n```\r\n\r\nAs you described, the compilation runs normally in the first-level directory, but an error occurs in the second-level directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt&#39;s not entirely a matter of **Code Runner** extensions, there are also language specifications for the **Java** language itself.\r\n\r\nAs a test, you can run the program directly from the command line using the `javac` and `java` commands.\r\n\r\nWe can see that in the secondary directory, the compilation is successful, but the operation fails.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nUse the **run** button on the code block to run successfully. We observed the command line code and found that it is not running the code in the secondary directory, and it specifies the classpath path.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nLooking back, we return to the first level directory on the command line, run the `java` command again, and the operation is successful.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nSo we see that the command executed by the code runner is to simply run the javac and java commands directly in the current directory, so the operation fails.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nAlso as you said, languages like **python** don&#39;t have this problem. Because they don&#39;t have this language specification.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zZW7T.png\r\n  [2]: https://i.stack.imgur.com/427UU.png\r\n  [3]: https://i.stack.imgur.com/zfGcH.png\r\n  [4]: https://i.stack.imgur.com/Rjfek.png\r\n  [5]: https://i.stack.imgur.com/FsfuP.png","title":"&#39;Code Runner&#39; extension shows &quot;Could not find or load main class&quot; when running Java programs inside a package/folder. (VScode)","body":"<p>As a test, I created the following directory structure:</p>\n<pre><code>Test\n Test1.java\n Test2\n    Test2.java\n</code></pre>\n<p>As you described, the compilation runs normally in the first-level directory, but an error occurs in the second-level directory.</p>\n<p><a href=\"https://i.stack.imgur.com/zZW7T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zZW7T.png\" alt=\"enter image description here\" /></a></p>\n<p>It's not entirely a matter of <strong>Code Runner</strong> extensions, there are also language specifications for the <strong>Java</strong> language itself.</p>\n<p>As a test, you can run the program directly from the command line using the <code>javac</code> and <code>java</code> commands.</p>\n<p>We can see that in the secondary directory, the compilation is successful, but the operation fails.</p>\n<p><a href=\"https://i.stack.imgur.com/427UU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/427UU.png\" alt=\"enter image description here\" /></a></p>\n<p>Use the <strong>run</strong> button on the code block to run successfully. We observed the command line code and found that it is not running the code in the secondary directory, and it specifies the classpath path.</p>\n<p><a href=\"https://i.stack.imgur.com/zfGcH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zfGcH.png\" alt=\"enter image description here\" /></a></p>\n<p>Looking back, we return to the first level directory on the command line, run the <code>java</code> command again, and the operation is successful.</p>\n<p><a href=\"https://i.stack.imgur.com/Rjfek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rjfek.png\" alt=\"enter image description here\" /></a></p>\n<p>So we see that the command executed by the code runner is to simply run the javac and java commands directly in the current directory, so the operation fails.</p>\n<p><a href=\"https://i.stack.imgur.com/FsfuP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FsfuP.png\" alt=\"enter image description here\" /></a></p>\n<p>Also as you said, languages like <strong>python</strong> don't have this problem. Because they don't have this language specification.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659344973,"creation_date":1659344973,"answer_id":73191397,"question_id":72859749,"body_markdown":"The problem arises from the java _packages_ which are a means to organize sources,\r\nactual a very useful feature considering easily dealing with hundreds of sources.\r\n\r\nJava uses a folder tree = package hierarchy.\r\n(Package names (directories) by convention are in small letters.)\r\n\r\n- C:\\Users\\Me\\JavaProject&gt; javac foo/bar/Hello.java\r\n- C:\\Users\\Me\\JavaProject&gt;\r\n  - foo\\\r\n    - baz\\\r\n      - World.java\r\n\r\n            package foo.baz;\r\n            public class World {\r\n                public static final WORLD = &quot;World&quot;;\r\n            }\r\n\r\n    - bar\\\r\n      - Hello.java\r\n\r\n            package foo.bar;\r\n            import foo.baz.World;\r\n            public class Hello {\r\n                public static void main(String[] args) {\r\n                    System.out.println(&quot;Hello &quot; + World.WORLD + &quot;!&quot;);\r\n                }\r\n            }\r\n\r\n      - Hello.class\r\n\r\n- C:\\Users\\Me\\JavaProject&gt; java foo/bar/Hello\r\n\r\n    Hello World!\r\n\r\nThe consequence of having packages means that you must compile and execute in the root directory. When packing the .class files in a .jar file (a zip format) it becomes easier, the directories are inside the jar file.\r\n\r\nAn IDE will help with all this.\r\nA build infrastructure could be _maven_ (or _gradle_). A maven project provides a conventional directory layout, and so on.","title":"&#39;Code Runner&#39; extension shows &quot;Could not find or load main class&quot; when running Java programs inside a package/folder. (VScode)","body":"<p>The problem arises from the java <em>packages</em> which are a means to organize sources,\nactual a very useful feature considering easily dealing with hundreds of sources.</p>\n<p>Java uses a folder tree = package hierarchy.\n(Package names (directories) by convention are in small letters.)</p>\n<ul>\n<li><p>C:\\Users\\Me\\JavaProject&gt; javac foo/bar/Hello.java</p>\n</li>\n<li><p>C:\\Users\\Me\\JavaProject&gt;</p>\n<ul>\n<li>foo\\\n<ul>\n<li><p>baz\\</p>\n<ul>\n<li><p>World.java</p>\n<pre><code>package foo.baz;\npublic class World {\n    public static final WORLD = &quot;World&quot;;\n}\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>bar\\</p>\n<ul>\n<li><p>Hello.java</p>\n<pre><code>package foo.bar;\nimport foo.baz.World;\npublic class Hello {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello &quot; + World.WORLD + &quot;!&quot;);\n    }\n}\n</code></pre>\n</li>\n<li><p>Hello.class</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>C:\\Users\\Me\\JavaProject&gt; java foo/bar/Hello</p>\n<p>Hello World!</p>\n</li>\n</ul>\n<p>The consequence of having packages means that you must compile and execute in the root directory. When packing the .class files in a .jar file (a zip format) it becomes easier, the directories are inside the jar file.</p>\n<p>An IDE will help with all this.\nA build infrastructure could be <em>maven</em> (or <em>gradle</em>). A maven project provides a conventional directory layout, and so on.</p>\n"}],"owner":{"account_id":23385332,"reputation":1,"user_id":17450791,"display_name":"Mahwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659344973,"creation_date":1656952263,"question_id":72859749,"body_markdown":"When I try to run my Java program through &quot;Code Runner&quot; extension while it is inside a package/folder, it shows error &quot;Could not find or load main class&quot;.\r\n\r\nBut if I run same program through marked &quot;Run | Debug&quot; , the programs runs successfully. it also runs succesfully on code runner if the class is outside the folder.\r\n\r\n\r\n\r\nHere are pictures to visualize my problem more clearly.\r\n\r\n[This one is run through code runner when the classes are inside the folder][1]\r\n\r\nIt doesn&#39;t work here\r\n\r\n[This one is run through code runner when the classes are outside the folder][2]\r\n\r\nIt works here\r\n\r\n[This one is run through the run button over the main function, it runs the program through the terminal.][3]\r\n\r\nIt works here\r\n\r\nthe white and black lines are drawn to hide some personal information.\r\n\r\nIs something wrong with &#39;Code Runner&#39; extension? Btw, &#39;Code Runner&#39; runs Python, C, C++ without any problem. even if they are inside a folder in these languages, it works perfectly fine.\r\n\r\n  [1]: https://i.stack.imgur.com/HiVDs.png\r\n  [2]: https://i.stack.imgur.com/Bgfpz.png\r\n  [3]: https://i.stack.imgur.com/NkKji.png","title":"&#39;Code Runner&#39; extension shows &quot;Could not find or load main class&quot; when running Java programs inside a package/folder. (VScode)","body":"<p>When I try to run my Java program through &quot;Code Runner&quot; extension while it is inside a package/folder, it shows error &quot;Could not find or load main class&quot;.</p>\n<p>But if I run same program through marked &quot;Run | Debug&quot; , the programs runs successfully. it also runs succesfully on code runner if the class is outside the folder.</p>\n<p>Here are pictures to visualize my problem more clearly.</p>\n<p><a href=\"https://i.stack.imgur.com/HiVDs.png\" rel=\"nofollow noreferrer\">This one is run through code runner when the classes are inside the folder</a></p>\n<p>It doesn't work here</p>\n<p><a href=\"https://i.stack.imgur.com/Bgfpz.png\" rel=\"nofollow noreferrer\">This one is run through code runner when the classes are outside the folder</a></p>\n<p>It works here</p>\n<p><a href=\"https://i.stack.imgur.com/NkKji.png\" rel=\"nofollow noreferrer\">This one is run through the run button over the main function, it runs the program through the terminal.</a></p>\n<p>It works here</p>\n<p>the white and black lines are drawn to hide some personal information.</p>\n<p>Is something wrong with 'Code Runner' extension? Btw, 'Code Runner' runs Python, C, C++ without any problem. even if they are inside a folder in these languages, it works perfectly fine.</p>\n"},{"tags":["javascript","java","jquery","ajax","spring"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659342063,"post_id":73190589,"comment_id":129263278,"body_markdown":"Can you please let us know why you have `private List&lt;BoardVo&gt; BoardVoList;\n` within same `BoardVo` class?, You might need to have another class which might hold list of `BoardVo`","body":"Can you please let us know why you have <code>private List&lt;BoardVo&gt; BoardVoList; </code> within same <code>BoardVo</code> class?, You might need to have another class which might hold list of <code>BoardVo</code>"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659342371,"post_id":73190589,"comment_id":129263382,"body_markdown":"Simple solution for your problem is move your `private List&lt;BoardVo&gt; BoardVoList; ` to some other class say -- BoardCollection. Now, in your `boardWriteAction` method, you can add each input `BoardVo` to this list which you can able to return back. Currently not sure what your `callbackMsg = commonUtil.getJsonCallBackString(&quot; &quot;, result);` call is doing, but seems you are doing some sort of hashmap to json conversion here. So please check if returning List is compatible with this or not.","body":"Simple solution for your problem is move your <code>private List&lt;BoardVo&gt; BoardVoList; </code> to some other class say -- BoardCollection. Now, in your <code>boardWriteAction</code> method, you can add each input <code>BoardVo</code> to this list which you can able to return back. Currently not sure what your <code>callbackMsg = commonUtil.getJsonCallBackString(&quot; &quot;, result);</code> call is doing, but seems you are doing some sort of hashmap to json conversion here. So please check if returning List is compatible with this or not."}],"owner":{"account_id":25945485,"reputation":1,"user_id":19664252,"display_name":"Yulha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659344651,"creation_date":1659341058,"question_id":73190589,"body_markdown":"Can I ask you a question?\r\n\r\n![1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3WMFj.png\r\n\r\nIf there&#39;s only one screen, insert correct but,\r\nIf i add a line like above,\r\ntitle A,B\r\ncomment C,D\r\nThis is how the data is transmitted and entered.\r\nSo I&#39;ll cut it in commas\r\nI extracted the data in an array\r\nI don&#39;t know how to put each of them in boardvo.\r\nI&#39;ve looked for a way to put it in List&lt;BoardVo&gt;, but I don&#39;t know how to write it on the controller\r\n\r\nhelp me, senior..!\r\n\r\nhere is controller\r\n\r\n    @RequestMapping(value = &quot;/board/boardWriteAction.do&quot;, method = RequestMethod.POST)\r\n\t@ResponseBody\r\n\tpublic String boardWriteAction(Locale locale, BoardVo boardVo) throws Exception {\r\n\t\t\r\n\t\tSystem.out.println(boardVo.toString()); \r\n\t\t\r\n\t\tString callbackMsg = &quot;&quot;;\r\n\t\tHashMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\r\n\t\tCommonUtil commonUtil = new CommonUtil();\r\n\t\t\r\n\t\tint resultCnt = boardService.boardInsert(boardVo);\r\n\r\n\t\tresult.put(&quot;success&quot;, (resultCnt &gt; 0) ? &quot;Y&quot; : &quot;N&quot;);\r\n\t\tcallbackMsg = commonUtil.getJsonCallBackString(&quot; &quot;, result);\r\n\t\t\r\n\t\tSystem.out.println(&quot;callbackMsg::&quot; + callbackMsg);\r\n\r\n\t\treturn callbackMsg;\r\n\t}\r\n\r\nhere is BoardVo\r\n\r\n    public class BoardVo {\r\n\t\r\n\tprivate String \tboardType;\r\n\tprivate int \tboardNum;\r\n\tprivate String \tboardTitle;\r\n\tprivate String \tboardComment;\r\n\tprivate String \tcreator;\r\n\tprivate String\tmodifier;\r\n\tprivate int totalCnt;\r\n\t\r\n\tprivate List&lt;BoardVo&gt; BoardVoList;\r\n\t\r\n\tpublic List&lt;BoardVo&gt; getBoardVoList() {\r\n\t\treturn BoardVoList;\r\n\t}\r\n\tpublic void setBoardVoList(List&lt;BoardVo&gt; boardVoList) {\r\n\t\tthis.BoardVoList = boardVoList;\r\n\t}\r\n\t\r\nhere is boardServiceImpl\r\n\r\n    @Override\r\n\tpublic int boardInsert(BoardVo boardVo) throws Exception {\r\n\t\tint resultCnt=0;\r\n\t\t\r\n\t\t// title value 111, 222, 333 \r\n\t\tString title = boardVo.getBoardTitle();\r\n\t\t// comment value 111, 222, 333 \r\n\t\tString comment = boardVo.getBoardComment();\r\n\t\t\r\n\t\t// title , \r\n\t\tif (title.contains(&quot;,&quot;)) {\r\n\t\t\t// split ,\r\n\t\t\tString[] arrayTitle = title.split(&quot;,&quot;);\r\n\t\t\tString[] arrayComment = comment.split(&quot;,&quot;);\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; arrayTitle.length; i++) {\r\n\t\t\t\tBoardVo newBoardVo = new BoardVo();\r\n\t\t\t\tnewBoardVo.setBoardTitle(arrayTitle[i]);\r\n\t\t\t\tnewBoardVo.setBoardComment(arrayComment[i]);\r\n\t\t\t\t\r\n\t\t\t\tresultCnt += boardDao.boardInsert(newBoardVo);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tresultCnt += boardDao.boardInsert(boardVo);\r\n\t\t}\r\n\t\t\r\n\t\treturn resultCnt++;\r\n\t}\r\nhere is boardWrite / ajax\r\n\r\n    $j(document).ready(function(){\r\n\t\t$j(&quot;#submit&quot;).on(&quot;click&quot;,function(){\r\n\t\t\tvar $frm = $j(&#39;.boardWrite :input&#39;);\r\n\t\t\tvar param = $frm.serialize();\r\n\t\t\t\r\n\t\t\talert(param);\r\n\t\t\t\r\n\t\t\t$j.ajax({\r\n\t\t\t    url : &quot;/board/boardWriteAction.do&quot;,\r\n\t\t\t    dataType: &quot;json&quot;,\r\n\t\t\t    type: &quot;POST&quot;,\r\n\t\t\t    data : param, //JSON.stringify(param),\r\n\t\t\t    traditional: true,\r\n\t\t\t    success: function(data, textStatus, jqXHR)\r\n\t\t\t    {\r\n\t\t\t\t\talert(&quot;writeSuccess&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\talert(&quot;message:&quot; + data.success);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlocation.href = &quot;/board/boardList.do?pageNo=1&quot;;\r\n\t\t\t    },\r\n\t\t\t    error: function (jqXHR, textStatus, errorThrown)\r\n\t\t\t    {\r\n\t\t\t    \talert(&quot;failed&quot;);\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t});\r\n\t});","title":"How to display List&lt;BoardVo&gt; to controller with ajax","body":"<p>Can I ask you a question?</p>\n<p><img src=\"https://i.stack.imgur.com/3WMFj.png\" alt=\"1\" /></p>\n<p>If there's only one screen, insert correct but,\nIf i add a line like above,\ntitle A,B\ncomment C,D\nThis is how the data is transmitted and entered.\nSo I'll cut it in commas\nI extracted the data in an array\nI don't know how to put each of them in boardvo.\nI've looked for a way to put it in List, but I don't know how to write it on the controller</p>\n<p>help me, senior..!</p>\n<p>here is controller</p>\n<pre><code>@RequestMapping(value = &quot;/board/boardWriteAction.do&quot;, method = RequestMethod.POST)\n@ResponseBody\npublic String boardWriteAction(Locale locale, BoardVo boardVo) throws Exception {\n    \n    System.out.println(boardVo.toString()); \n    \n    String callbackMsg = &quot;&quot;;\n    HashMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\n    CommonUtil commonUtil = new CommonUtil();\n    \n    int resultCnt = boardService.boardInsert(boardVo);\n\n    result.put(&quot;success&quot;, (resultCnt &gt; 0) ? &quot;Y&quot; : &quot;N&quot;);\n    callbackMsg = commonUtil.getJsonCallBackString(&quot; &quot;, result);\n    \n    System.out.println(&quot;callbackMsg::&quot; + callbackMsg);\n\n    return callbackMsg;\n}\n</code></pre>\n<p>here is BoardVo</p>\n<pre><code>public class BoardVo {\n\nprivate String  boardType;\nprivate int     boardNum;\nprivate String  boardTitle;\nprivate String  boardComment;\nprivate String  creator;\nprivate String  modifier;\nprivate int totalCnt;\n\nprivate List&lt;BoardVo&gt; BoardVoList;\n\npublic List&lt;BoardVo&gt; getBoardVoList() {\n    return BoardVoList;\n}\npublic void setBoardVoList(List&lt;BoardVo&gt; boardVoList) {\n    this.BoardVoList = boardVoList;\n}\n</code></pre>\n<p>here is boardServiceImpl</p>\n<pre><code>@Override\npublic int boardInsert(BoardVo boardVo) throws Exception {\n    int resultCnt=0;\n    \n    // title value 111, 222, 333 \n    String title = boardVo.getBoardTitle();\n    // comment value 111, 222, 333 \n    String comment = boardVo.getBoardComment();\n    \n    // title , \n    if (title.contains(&quot;,&quot;)) {\n        // split ,\n        String[] arrayTitle = title.split(&quot;,&quot;);\n        String[] arrayComment = comment.split(&quot;,&quot;);\n        \n        for (int i = 0; i &lt; arrayTitle.length; i++) {\n            BoardVo newBoardVo = new BoardVo();\n            newBoardVo.setBoardTitle(arrayTitle[i]);\n            newBoardVo.setBoardComment(arrayComment[i]);\n            \n            resultCnt += boardDao.boardInsert(newBoardVo);\n        }\n    } else {\n        resultCnt += boardDao.boardInsert(boardVo);\n    }\n    \n    return resultCnt++;\n}\n</code></pre>\n<p>here is boardWrite / ajax</p>\n<pre><code>$j(document).ready(function(){\n    $j(&quot;#submit&quot;).on(&quot;click&quot;,function(){\n        var $frm = $j('.boardWrite :input');\n        var param = $frm.serialize();\n        \n        alert(param);\n        \n        $j.ajax({\n            url : &quot;/board/boardWriteAction.do&quot;,\n            dataType: &quot;json&quot;,\n            type: &quot;POST&quot;,\n            data : param, //JSON.stringify(param),\n            traditional: true,\n            success: function(data, textStatus, jqXHR)\n            {\n                alert(&quot;writeSuccess&quot;);\n                \n                alert(&quot;message:&quot; + data.success);\n                \n                location.href = &quot;/board/boardList.do?pageNo=1&quot;;\n            },\n            error: function (jqXHR, textStatus, errorThrown)\n            {\n                alert(&quot;failed&quot;);\n            }\n        });\n    });\n});\n</code></pre>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"account_id":14194697,"reputation":148,"user_id":10254341,"display_name":"Daniele Affinita"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659343989,"creation_date":1659174726,"answer_id":73174570,"question_id":73173964,"body_markdown":"Your code never executes the for loop when the linked list has 2 elements ( i starts from 1 and the condition is `i &lt; 2-1` ). In order to execute it properly you have to change the break condition as \r\n\r\n    for(int i = 1; i &lt; myList.size(); i++) //not myList.size()-1\r\nfurthermore you have to exit from loop when the element has been added to the list otherwise `myList.size()` raises by 1 and the loop never exits.\r\n\r\n    if(names.compareTo(myList.get(i)) &lt;= 0 &amp;&amp; names.compareTo(myList.get(i - 1)) &gt;= 0)\r\n    {\r\n        myList.add(i,names);\r\n        break;\r\n    }","title":"How to turn a linked list into a priority queue?","body":"<p>Your code never executes the for loop when the linked list has 2 elements ( i starts from 1 and the condition is <code>i &lt; 2-1</code> ). In order to execute it properly you have to change the break condition as</p>\n<pre><code>for(int i = 1; i &lt; myList.size(); i++) //not myList.size()-1\n</code></pre>\n<p>furthermore you have to exit from loop when the element has been added to the list otherwise <code>myList.size()</code> raises by 1 and the loop never exits.</p>\n<pre><code>if(names.compareTo(myList.get(i)) &lt;= 0 &amp;&amp; names.compareTo(myList.get(i - 1)) &gt;= 0)\n{\n    myList.add(i,names);\n    break;\n}\n</code></pre>\n"}],"owner":{"account_id":23822387,"reputation":17,"user_id":17829901,"display_name":"theClawistheLaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73174570,"answer_count":1,"score":0,"last_activity_date":1659343989,"creation_date":1659168910,"question_id":73173964,"body_markdown":"I&#39;m trying to take a linked list and have it mimic a priority queue. I&#39;m trying to add names alphabetically to my list and I&#39;m able to add them correctly to the very front and back of the list, but I can&#39;t get them to fill in anywhere else. \r\n\r\n```\r\npublic static void myPush(String names)\r\n\t{\r\n\t\tif(myList.isEmpty())\r\n\t\t{\r\n\t\t\tmyList.add(names);\r\n\t\t}\r\n\t\telse if(myList.size() == 1)\r\n\t\t{\r\n\t\t\tif(names.compareTo(myList.get(0)) &lt; 0)\r\n\t\t\t{\r\n\t\t\t\tmyList.push(names);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tmyList.add(names);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//checks the first name\r\n\t\telse if(names.compareTo(myList.get(0)) &lt; 0)\r\n\t\t\t{\r\n\t\t\t\tmyList.push(names);\r\n\t\t\t}\r\n\t\t//checks the last name\r\n\t\telse if(names.compareTo(myList.get(myList.size() - 1)) &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tmyList.add(names);\r\n\t\t\t}\r\n\t\t\t//checks the rest of the queue\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tfor(int i = 1; i &lt; myList.size() - 1; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(names.compareTo(myList.get(i)) &lt;= 0 &amp;&amp; names.compareTo(myList.get(i - 1)) &gt;= 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmyList.add(i,names);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n```\r\nThe above code will run, but won&#39;t add the name to the list if it isn&#39;t being added to the front or back. For example, if I add bob and ann to my list, it works fine, but if I try to add the name art, which should go in between the two names, I end up with just bob and ann being printed. I&#39;m not sure what I&#39;m doing wrong, but how can I fix my code so names can be added to the middle of the list?\r\n\r\n\r\nHere&#39;s the rest of the code for reference:\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.LinkedList;\r\nimport java.util.Scanner;\r\nimport java.util.Iterator;\r\n\r\npublic class Lab05MU {\r\n\r\n\tstatic LinkedList&lt;String&gt; myList = new LinkedList&lt;String&gt;();\r\n\tstatic ArrayList&lt;String&gt; myarrayList = new ArrayList&lt;String&gt;();\r\n\tstatic Object[] myArray = myList.toArray();\r\n\tstatic Iterator&lt;String&gt; it = myList.iterator();\r\n\t\r\n\t\r\n\t\r\n\t//convert from linkedlist to arraylist\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t//pushes a name in the correct order\r\n\tpublic static void myPush(String names)\r\n\t{\r\n\t\tif(myList.isEmpty())\r\n\t\t{\r\n\t\t\tmyList.add(names);\r\n\t\t}\r\n\t\telse if(myList.size() == 1)\r\n\t\t{\r\n\t\t\tif(names.compareTo(myList.get(0)) &lt; 0)\r\n\t\t\t{\r\n\t\t\t\tmyList.push(names);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tmyList.add(names);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//checks the first name\r\n\t\telse if(names.compareTo(myList.get(0)) &lt; 0)\r\n\t\t\t{\r\n\t\t\t\tmyList.push(names);\r\n\t\t\t}\r\n\t\t//checks the last name\r\n\t\telse if(names.compareTo(myList.get(myList.size() - 1)) &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tmyList.add(names);\r\n\t\t\t}\r\n\t\t\t//checks the rest of the queue\r\n\t\telse\r\n\t\t\t{\r\n\t\t\t\tfor(int i = 1; i &lt; myList.size() - 1; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(names.compareTo(myList.get(i)) &lt;= 0 &amp;&amp; names.compareTo(myList.get(i - 1)) &gt;= 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmyList.add(i,names);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\r\n\t\r\n\t//prints the current list\r\n\tpublic static void printList()\r\n\t{\r\n\t\t\r\n\t\tif(myList.isEmpty())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;The queue is empty&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tString list = &quot;&quot;;\r\n\t\t\tfor(int i = 0; i &lt; myList.size(); i++)\r\n\t\t\t{\r\n\t\t\t\tlist += myList.get(i) + &quot; -&gt; &quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlist = list.substring(0,list.length() - 4);\r\n\t\t\tSystem.out.println(list);\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint choice;\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Welcome to the Priority Queue System&quot;);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tdo \r\n\t\t{\r\n\t\t\t\r\n\t\t\r\n\t\t\tSystem.out.println(&quot;Select an Option&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Push an element on the priority queue&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Peek at an element on the priority queue&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Pop an element from the priority queue&quot;);\r\n\t\t\tSystem.out.println(&quot;4. Check if the priority queue is empty&quot;);\r\n\t\t\tSystem.out.println(&quot;5. Get the size of the priority queue&quot;);\r\n\t\t\tSystem.out.println(&quot;6. Print the contents of the priority queue&quot;);\r\n\t\t\tSystem.out.println(&quot;7. Quit&quot;);\r\n\t\t\t\r\n\t\t\tScanner scn = new Scanner(System.in);\r\n\t\t\tchoice = scn.nextInt();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tswitch(choice)\r\n\t\t\t{\r\n\t\t\tcase 1:\r\n\t\t\t\t//push\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Enter a name to add to the priority queue.&quot;);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tString name = scn.next();\r\n\t\t\t\tmyPush(name);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\t//peek\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\t//pop\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 4:\r\n\t\t\t\t//isempty\r\n\t\t\t\tSystem.out.println(myList.isEmpty()?&quot;The queue is empty&quot;:&quot;The queue is not empty&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 5:\r\n\t\t\t\t//getsize\r\n\t\t\t\tSystem.out.println(&quot;The size of the queue is &quot; + myList.size());\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 6:\r\n\t\t\t\t//print\r\n\t\t\t\tprintList();\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 7:\r\n\t\t\t\t//quit\r\n\t\t\t\tSystem.out.println(&quot;Goodbye&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t}\r\n\t\twhile(choice != 7);\r\n\t}\r\n}\r\n\r\n\r\n","title":"How to turn a linked list into a priority queue?","body":"<p>I'm trying to take a linked list and have it mimic a priority queue. I'm trying to add names alphabetically to my list and I'm able to add them correctly to the very front and back of the list, but I can't get them to fill in anywhere else.</p>\n<pre><code>public static void myPush(String names)\n    {\n        if(myList.isEmpty())\n        {\n            myList.add(names);\n        }\n        else if(myList.size() == 1)\n        {\n            if(names.compareTo(myList.get(0)) &lt; 0)\n            {\n                myList.push(names);\n            }\n            else \n            {\n                myList.add(names);\n            }\n        }\n        //checks the first name\n        else if(names.compareTo(myList.get(0)) &lt; 0)\n            {\n                myList.push(names);\n            }\n        //checks the last name\n        else if(names.compareTo(myList.get(myList.size() - 1)) &gt; 0)\n            {\n                myList.add(names);\n            }\n            //checks the rest of the queue\n            else\n            {\n                for(int i = 1; i &lt; myList.size() - 1; i++)\n                {\n                    if(names.compareTo(myList.get(i)) &lt;= 0 &amp;&amp; names.compareTo(myList.get(i - 1)) &gt;= 0)\n                    {\n                        myList.add(i,names);\n                    }\n                }\n            }\n        }\n\n</code></pre>\n<p>The above code will run, but won't add the name to the list if it isn't being added to the front or back. For example, if I add bob and ann to my list, it works fine, but if I try to add the name art, which should go in between the two names, I end up with just bob and ann being printed. I'm not sure what I'm doing wrong, but how can I fix my code so names can be added to the middle of the list?</p>\n<p>Here's the rest of the code for reference:</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.Scanner;\nimport java.util.Iterator;\n\npublic class Lab05MU {\n\n    static LinkedList&lt;String&gt; myList = new LinkedList&lt;String&gt;();\n    static ArrayList&lt;String&gt; myarrayList = new ArrayList&lt;String&gt;();\n    static Object[] myArray = myList.toArray();\n    static Iterator&lt;String&gt; it = myList.iterator();\n    \n    \n    \n    //convert from linkedlist to arraylist\n    \n    \n    \n    \n    \n    \n    \n    //pushes a name in the correct order\n    public static void myPush(String names)\n    {\n        if(myList.isEmpty())\n        {\n            myList.add(names);\n        }\n        else if(myList.size() == 1)\n        {\n            if(names.compareTo(myList.get(0)) &lt; 0)\n            {\n                myList.push(names);\n            }\n            else \n            {\n                myList.add(names);\n            }\n        }\n        //checks the first name\n        else if(names.compareTo(myList.get(0)) &lt; 0)\n            {\n                myList.push(names);\n            }\n        //checks the last name\n        else if(names.compareTo(myList.get(myList.size() - 1)) &gt; 0)\n            {\n                myList.add(names);\n            }\n            //checks the rest of the queue\n        else\n            {\n                for(int i = 1; i &lt; myList.size() - 1; i++)\n                {\n                    if(names.compareTo(myList.get(i)) &lt;= 0 &amp;&amp; names.compareTo(myList.get(i - 1)) &gt;= 0)\n                    {\n                        myList.add(i,names);\n                    }\n                }\n            }\n        }\n        \n                    \n                        \n                \n                \n            \n        \n            \n        \n            \n    \n    \n    //prints the current list\n    public static void printList()\n    {\n        \n        if(myList.isEmpty())\n        {\n            System.out.println(&quot;The queue is empty&quot;);\n        }\n        else\n        {\n            String list = &quot;&quot;;\n            for(int i = 0; i &lt; myList.size(); i++)\n            {\n                list += myList.get(i) + &quot; -&gt; &quot;;\n            }\n            \n            list = list.substring(0,list.length() - 4);\n            System.out.println(list);\n            System.out.println();\n        }\n        \n    }\n    \n    \n    public static void main(String[] args) {\n        \n        int choice;\n        \n        \n        System.out.println(&quot;Welcome to the Priority Queue System&quot;);\n        \n        \n        \n        do \n        {\n            \n        \n            System.out.println(&quot;Select an Option&quot;);\n            System.out.println(&quot;1. Push an element on the priority queue&quot;);\n            System.out.println(&quot;2. Peek at an element on the priority queue&quot;);\n            System.out.println(&quot;3. Pop an element from the priority queue&quot;);\n            System.out.println(&quot;4. Check if the priority queue is empty&quot;);\n            System.out.println(&quot;5. Get the size of the priority queue&quot;);\n            System.out.println(&quot;6. Print the contents of the priority queue&quot;);\n            System.out.println(&quot;7. Quit&quot;);\n            \n            Scanner scn = new Scanner(System.in);\n            choice = scn.nextInt();\n            \n            \n            switch(choice)\n            {\n            case 1:\n                //push\n                \n                System.out.println(&quot;Enter a name to add to the priority queue.&quot;);\n                System.out.println();\n                String name = scn.next();\n                myPush(name);\n                \n                break;\n                \n            case 2:\n                //peek\n                break;\n                \n            case 3:\n                //pop\n                break;\n                \n            case 4:\n                //isempty\n                System.out.println(myList.isEmpty()?&quot;The queue is empty&quot;:&quot;The queue is not empty&quot;);\n                break;\n                \n            case 5:\n                //getsize\n                System.out.println(&quot;The size of the queue is &quot; + myList.size());\n                break;\n                \n            case 6:\n                //print\n                printList();\n                \n                break;\n                \n            case 7:\n                //quit\n                System.out.println(&quot;Goodbye&quot;);\n                break;\n            }\n\n    }\n        while(choice != 7);\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","mysql","jooq","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659218828,"creation_date":1659218828,"answer_id":73179356,"question_id":73179157,"body_markdown":"Turns out, I was running a statement without a call to `fetch` and Jooq does not issue any warnings about that. That statement was executed for lots of data items, which caused a fresh connection acquisition on each item.\r\n\r\n```java\r\nreturn dslContext.selectFrom(TWITTER_DIRECT_MESSAGE)\r\n            .where(\r\n                TWITTER_DIRECT_MESSAGE.SENDER_ID.eq(senderId)\r\n                    .and(TWITTER_DIRECT_MESSAGE.RECIPIENT_ID.eq(recipientId))\r\n            ).orderBy(TWITTER_DIRECT_MESSAGE.CREATED_AT.desc())\r\n            .limit(1)\r\n            .fetch() //this was missing!!!\r\n            .stream()\r\n            .map(TwitterDirectMessageRecord::getCreatedAt)\r\n            .findFirst();\r\n```","title":"Jooq consumes all available DB connections from Hikari CP","body":"<p>Turns out, I was running a statement without a call to <code>fetch</code> and Jooq does not issue any warnings about that. That statement was executed for lots of data items, which caused a fresh connection acquisition on each item.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return dslContext.selectFrom(TWITTER_DIRECT_MESSAGE)\n            .where(\n                TWITTER_DIRECT_MESSAGE.SENDER_ID.eq(senderId)\n                    .and(TWITTER_DIRECT_MESSAGE.RECIPIENT_ID.eq(recipientId))\n            ).orderBy(TWITTER_DIRECT_MESSAGE.CREATED_AT.desc())\n            .limit(1)\n            .fetch() //this was missing!!!\n            .stream()\n            .map(TwitterDirectMessageRecord::getCreatedAt)\n            .findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659343512,"creation_date":1659343512,"answer_id":73191064,"question_id":73179157,"body_markdown":"The jOOQ manual shows examples on [how to correctly stream results with jOOQ][1]. The [`ResultQuery::stream` method][2] mentions it too. The method returns a *resourceful* stream, which you have to close yourself:\r\n\r\n```java\r\ntry (Stream&lt;R&gt; stream = query.stream()) {\r\n    // Do things with stream\r\n}\r\n```\r\n\r\nThere is no other way. See also this rejected feature request about returning auto-closing streams: [#4932][3], which was rejected because of various reasons listed here: http://stackoverflow.com/q/34753078/521799\r\n\r\nIf you don&#39;t really need resourceful (lazy) streams, then [you already found the solution][4]: call `fetch()` to eagerly fetch all data into memory first, and stream the resulting list.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/lazy-fetching-with-streams/\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ResultQuery.html#stream()\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/4932\r\n  [4]: https://stackoverflow.com/a/73179356/521799","title":"Jooq consumes all available DB connections from Hikari CP","body":"<p>The jOOQ manual shows examples on <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/lazy-fetching-with-streams/\" rel=\"nofollow noreferrer\">how to correctly stream results with jOOQ</a>. The <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ResultQuery.html#stream()\" rel=\"nofollow noreferrer\"><code>ResultQuery::stream</code> method</a> mentions it too. The method returns a <em>resourceful</em> stream, which you have to close yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;R&gt; stream = query.stream()) {\n    // Do things with stream\n}\n</code></pre>\n<p>There is no other way. See also this rejected feature request about returning auto-closing streams: <a href=\"https://github.com/jOOQ/jOOQ/issues/4932\" rel=\"nofollow noreferrer\">#4932</a>, which was rejected because of various reasons listed here: <a href=\"http://stackoverflow.com/q/34753078/521799\">Register a Stream &quot;completion&quot; hook</a></p>\n<p>If you don't really need resourceful (lazy) streams, then <a href=\"https://stackoverflow.com/a/73179356/521799\">you already found the solution</a>: call <code>fetch()</code> to eagerly fetch all data into memory first, and stream the resulting list.</p>\n"}],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659343512,"creation_date":1659216350,"question_id":73179157,"body_markdown":"I&#39;m writing a MySQL based app using Jooq and Hikari:\r\n\r\n```java\r\nfinal HikariConfig config = new HikariConfig();\r\nconfig.setMinimumIdle(10);\r\nconfig.setMaximumPoolSize(100);\r\nconfig.setConnectionTimeout(10000);\r\nconfig.setMinimumIdle(10);\r\nconfig.setJdbcUrl(AppConfig2.getMySqlUrl());\r\nconfig.setUsername(AppConfig2.getMySqlUser());\r\nconfig.setPassword(AppConfig2.getMySqlPassword());\r\nfinal HikariDataSource dataSource = new HikariDataSource(config);\r\ndslContext = DSL.using(dataSource, SQLDialect.MYSQL, settings);\r\n```\r\nThen I use this dslContext in my code to read data from the database. Problem is, after one or two calls, all 100 connections are consumed which is unexpected.\r\n\r\nAfter a few initial DB calls, I get `HikariPool-1 - Connection is not available, request timed out after 10007ms.` error and with Hikari stats it telle me:\r\n\r\n```\r\nHikariPool-1 - Before cleanup stats (total=100, active=100, idle=0, waiting=0)\r\nHikariPool-1 - After cleanup  stats (total=100, active=100, idle=0, waiting=0) \r\n```\r\n\r\nTo me it seems like Jooq is greedily creating and keeping DB connections open and does not return them to the connection pool.\r\n\r\nThe commands in my code are simple `fetchOne`s like:\r\n```java\r\nvar twitterUser = dslContext.fetchOne(TWITTER_USER, TWITTER_USER.ID.eq(currentUserId));\r\nvar inboxUser = dslContext.fetchOne(INBOX_USER, INBOX_USER.TWITTER_USER_ID.eq(currentUserId));\r\n```\r\n","title":"Jooq consumes all available DB connections from Hikari CP","body":"<p>I'm writing a MySQL based app using Jooq and Hikari:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final HikariConfig config = new HikariConfig();\nconfig.setMinimumIdle(10);\nconfig.setMaximumPoolSize(100);\nconfig.setConnectionTimeout(10000);\nconfig.setMinimumIdle(10);\nconfig.setJdbcUrl(AppConfig2.getMySqlUrl());\nconfig.setUsername(AppConfig2.getMySqlUser());\nconfig.setPassword(AppConfig2.getMySqlPassword());\nfinal HikariDataSource dataSource = new HikariDataSource(config);\ndslContext = DSL.using(dataSource, SQLDialect.MYSQL, settings);\n</code></pre>\n<p>Then I use this dslContext in my code to read data from the database. Problem is, after one or two calls, all 100 connections are consumed which is unexpected.</p>\n<p>After a few initial DB calls, I get <code>HikariPool-1 - Connection is not available, request timed out after 10007ms.</code> error and with Hikari stats it telle me:</p>\n<pre><code>HikariPool-1 - Before cleanup stats (total=100, active=100, idle=0, waiting=0)\nHikariPool-1 - After cleanup  stats (total=100, active=100, idle=0, waiting=0) \n</code></pre>\n<p>To me it seems like Jooq is greedily creating and keeping DB connections open and does not return them to the connection pool.</p>\n<p>The commands in my code are simple <code>fetchOne</code>s like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var twitterUser = dslContext.fetchOne(TWITTER_USER, TWITTER_USER.ID.eq(currentUserId));\nvar inboxUser = dslContext.fetchOne(INBOX_USER, INBOX_USER.TWITTER_USER_ID.eq(currentUserId));\n</code></pre>\n"},{"tags":["java","unit-testing","concurrency","mockito"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659343276,"creation_date":1659343276,"answer_id":73191017,"question_id":73166429,"body_markdown":"You&#39;re creating the `RecovererThread` object instance using `new` in your code:\r\n```\r\nscheduledExecutorService.scheduleWithFixedDelay(new RecovererThread(...))\r\n```\r\nThe mock instance in your test (`Runnable recovererThread = mock(Runnable.class)`) is not injected into your actual code. The mock is a separate object, which is not interacted with in any way, so Mockito does not register the call.\r\n\r\nTo actually verify the call on the mocked thread you would have to pass it to the `RecovererService` and use it there or define a factory class that would be used to create threads (actually Runnables) instead of using `new`. That way you could use a default implementation in the production code and a mocked implementation in the test code.\r\n","title":"How to correctly mock class with Runnable implements","body":"<p>You're creating the <code>RecovererThread</code> object instance using <code>new</code> in your code:</p>\n<pre><code>scheduledExecutorService.scheduleWithFixedDelay(new RecovererThread(...))\n</code></pre>\n<p>The mock instance in your test (<code>Runnable recovererThread = mock(Runnable.class)</code>) is not injected into your actual code. The mock is a separate object, which is not interacted with in any way, so Mockito does not register the call.</p>\n<p>To actually verify the call on the mocked thread you would have to pass it to the <code>RecovererService</code> and use it there or define a factory class that would be used to create threads (actually Runnables) instead of using <code>new</code>. That way you could use a default implementation in the production code and a mocked implementation in the test code.</p>\n"}],"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73191017,"answer_count":1,"score":0,"last_activity_date":1659343276,"creation_date":1659096221,"question_id":73166429,"body_markdown":"**Hi!** \r\n\r\nI have a class:\r\n\r\n    public class RecovererService {\r\n        private final ConfigServiceProvider serviceProvider;\r\n        private final ErrorRecordRepository recordRepository;\r\n        private final SimpleWriterTest simpleWriterTest;\r\n        private final AuditRecordProcessor itemProcessor;\r\n        private ScheduledExecutorService scheduledExecutorService;\r\n    \r\n        private boolean isRunning;\r\n    \r\n        @Override\r\n        public void startService() {\r\n            if (serviceProvider.isRecoveryServiceAllowed()) {\r\n                log.info(&quot;========================== Starting Recoverer process ==========================&quot;);\r\n                isRunning = true;\r\n                scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n                scheduledExecutorService.scheduleWithFixedDelay(new RecovererThread(recordRepository,\r\n                        simpleWriterTest,\r\n                        itemProcessor),\r\n                        0,\r\n                        5000L,\r\n                        TimeUnit.MILLISECONDS);\r\n            }\r\n\r\n\r\nAs a parameter in the singleThreadScheduleExecutor, I pass the following class, which implements the Runnable interface:\r\n\r\n    public class RecovererThread implements Runnable {\r\n    \r\n        @Override\r\n        public void run() {\r\n                    deleteFailedRowFromDb(&quot;id&quot;);\r\n        }\r\n    \r\n        private AuditRecordDto getFailedRowFromDb(String id) {\r\n            return null;\r\n        }\r\n\r\nTo check the correct operation of the class, I wrote a unit test:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class RecovererServiceTest {\r\n        private final ConfigServiceProvider serviceProvider = mock(ConfigServiceProvider.class);\r\n        private final ErrorRecordRepository recordRepository = mock(ErrorRecordRepository.class);\r\n        private final SimpleWriterTest simpleWriterTest = mock(SimpleWriterTest.class);\r\n        private final AuditRecordProcessor itemProcessor = mock(AuditRecordProcessor.class);\r\n        private final Runnable recovererThread = mock(Runnable.class);\r\n        ThreadFactory mock = mock(ThreadFactory.class);\r\n        private final ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(mock);\r\n        private final RecovererService recovererService = new RecovererService(serviceProvider, recordRepository, simpleWriterTest, itemProcessor);\r\n    \r\n        @Test\r\n        public void testRecovererServiceStart() {\r\n            doReturn(true).when(serviceProvider).isRecoveryServiceAllowed();\r\n            recovererService.startService();\r\n            verify(recovererThread, timeout(6000)).run();\r\n        }\r\n    }\r\n\r\nBut I get an error in the test:\r\n\r\n    Wanted but not invoked:\r\n    recovererThread.run();\r\n\r\nAt the same time, in the unit test logs, I see that this method is called\r\n\r\n**Thanks!**","title":"How to correctly mock class with Runnable implements","body":"<p><strong>Hi!</strong></p>\n<p>I have a class:</p>\n<pre><code>public class RecovererService {\n    private final ConfigServiceProvider serviceProvider;\n    private final ErrorRecordRepository recordRepository;\n    private final SimpleWriterTest simpleWriterTest;\n    private final AuditRecordProcessor itemProcessor;\n    private ScheduledExecutorService scheduledExecutorService;\n\n    private boolean isRunning;\n\n    @Override\n    public void startService() {\n        if (serviceProvider.isRecoveryServiceAllowed()) {\n            log.info(&quot;========================== Starting Recoverer process ==========================&quot;);\n            isRunning = true;\n            scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\n            scheduledExecutorService.scheduleWithFixedDelay(new RecovererThread(recordRepository,\n                    simpleWriterTest,\n                    itemProcessor),\n                    0,\n                    5000L,\n                    TimeUnit.MILLISECONDS);\n        }\n</code></pre>\n<p>As a parameter in the singleThreadScheduleExecutor, I pass the following class, which implements the Runnable interface:</p>\n<pre><code>public class RecovererThread implements Runnable {\n\n    @Override\n    public void run() {\n                deleteFailedRowFromDb(&quot;id&quot;);\n    }\n\n    private AuditRecordDto getFailedRowFromDb(String id) {\n        return null;\n    }\n</code></pre>\n<p>To check the correct operation of the class, I wrote a unit test:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class RecovererServiceTest {\n    private final ConfigServiceProvider serviceProvider = mock(ConfigServiceProvider.class);\n    private final ErrorRecordRepository recordRepository = mock(ErrorRecordRepository.class);\n    private final SimpleWriterTest simpleWriterTest = mock(SimpleWriterTest.class);\n    private final AuditRecordProcessor itemProcessor = mock(AuditRecordProcessor.class);\n    private final Runnable recovererThread = mock(Runnable.class);\n    ThreadFactory mock = mock(ThreadFactory.class);\n    private final ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(mock);\n    private final RecovererService recovererService = new RecovererService(serviceProvider, recordRepository, simpleWriterTest, itemProcessor);\n\n    @Test\n    public void testRecovererServiceStart() {\n        doReturn(true).when(serviceProvider).isRecoveryServiceAllowed();\n        recovererService.startService();\n        verify(recovererThread, timeout(6000)).run();\n    }\n}\n</code></pre>\n<p>But I get an error in the test:</p>\n<pre><code>Wanted but not invoked:\nrecovererThread.run();\n</code></pre>\n<p>At the same time, in the unit test logs, I see that this method is called</p>\n<p><strong>Thanks!</strong></p>\n"},{"tags":["java","spring","jpa","junit4","testcontainers"],"comments":[{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1659343687,"post_id":73168380,"comment_id":129263804,"body_markdown":"See and check against this tutorial: https://howtodoinjava.com/spring-boot2/testing/springboot-test-configuration/","body":"See and check against this tutorial: <a href=\"https://howtodoinjava.com/spring-boot2/testing/springboot-test-configuration/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-boot2/testing/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659268426,"creation_date":1659268045,"answer_id":73183036,"question_id":73168380,"body_markdown":"It seems, you forgot to annotate the class `MyService` with [`@Service`][1]. \n\nWith this annotation being made at that class, the *Spring* framework will recognize it:\n\n&gt; This annotation serves as a specialization of @Component, allowing for\n&gt; implementation classes to be autodetected through classpath scanning.\n\nGiven that the rest of the configuration is working, the `@Autowired` dependency injection mechanism will hereby provide you with an instance of the [`@Repository`][2] you requested, at runtime, here your test setup. \n\n\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Service.html\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Repository.html","title":"Why does autowired repository result in a NullPointerException in Junit4 context?","body":"<p>It seems, you forgot to annotate the class <code>MyService</code> with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Service.html\" rel=\"nofollow noreferrer\"><code>@Service</code></a>.</p>\n<p>With this annotation being made at that class, the <em>Spring</em> framework will recognize it:</p>\n<blockquote>\n<p>This annotation serves as a specialization of @Component, allowing for\nimplementation classes to be autodetected through classpath scanning.</p>\n</blockquote>\n<p>Given that the rest of the configuration is working, the <code>@Autowired</code> dependency injection mechanism will hereby provide you with an instance of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Repository.html\" rel=\"nofollow noreferrer\"><code>@Repository</code></a> you requested, at runtime, here your test setup.</p>\n"}],"owner":{"account_id":25926942,"reputation":13,"user_id":19648690,"display_name":"Jaimeleflan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73183036,"answer_count":1,"score":1,"last_activity_date":1659342885,"creation_date":1659112169,"question_id":73168380,"body_markdown":"I&#39;m new to Java development so sorry in advance if I&#39;m not using the appropriate terms.\r\n\r\nWhenever I run a test on a class that needs to save something in my database, I face a NullPointerException on the Autowired repository.\r\n\r\nI use Junit4, here are code snippets : \r\n\r\n***application-test.properties***\r\n```\r\nspring.datasource.url=jdbc:tc:mysql:8.0.29://localhost:3306/MYSERVICE\r\n```\r\n\r\n***MyService.java***\r\n```\r\n@Component\r\nclass MyService {\r\n    @Autowired MyRepository myRepository;\r\n    \r\n    public void mainFunction() {\r\n        myRepository.saveSomething();\r\n    }\r\n}\r\n```\r\n\r\n***MyRepository.java***\r\n```\r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;T, Long&gt; {\r\n    \r\n    void saveSomething();\r\n}\r\n```\r\n\r\n***MyServiceTest.java***\r\n```\r\npublic class myServiceTest extends  TestConfiguration {\r\n    @Rule\r\n\tpublic MySQLContainer mysql = new MySQLContainer();\r\n\r\n    @InjectMocks MyService myService;\r\n\r\n    @Test\r\n\tpublic void mainFunctionTest() {\r\n        myService.mainFunction()\r\n    }\r\n}\r\n```\r\n\r\n***MyServiceTestApplication.java***\r\n```\r\n@SpringBootApplication(exclude = {\r\n        DataSourceAutoConfiguration.class\r\n})\r\npublic class MyServiceTestApplication{\r\n}\r\n```\r\n\r\n***TestConfiguration.java***\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = MyServiceTestApplication.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic abstract class TestConfiguration {\r\n\r\n}\r\n```\r\n\r\n\r\nWhen I run the test in debug mode, I can see that myRepository is null\r\n\r\nAny help would be highly appreciated \r\n\r\nThanks :)\r\n\r\nEdit 01/08/2022 : Add @Component on MyService\r\n\r\nEdit 01/08/2022 (2) : Add MyServiceTestApplication.java and TestConfiguration.java","title":"Why does autowired repository result in a NullPointerException in Junit4 context?","body":"<p>I'm new to Java development so sorry in advance if I'm not using the appropriate terms.</p>\n<p>Whenever I run a test on a class that needs to save something in my database, I face a NullPointerException on the Autowired repository.</p>\n<p>I use Junit4, here are code snippets :</p>\n<p><em><strong>application-test.properties</strong></em></p>\n<pre><code>spring.datasource.url=jdbc:tc:mysql:8.0.29://localhost:3306/MYSERVICE\n</code></pre>\n<p><em><strong>MyService.java</strong></em></p>\n<pre><code>@Component\nclass MyService {\n    @Autowired MyRepository myRepository;\n    \n    public void mainFunction() {\n        myRepository.saveSomething();\n    }\n}\n</code></pre>\n<p><em><strong>MyRepository.java</strong></em></p>\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;T, Long&gt; {\n    \n    void saveSomething();\n}\n</code></pre>\n<p><em><strong>MyServiceTest.java</strong></em></p>\n<pre><code>public class myServiceTest extends  TestConfiguration {\n    @Rule\n    public MySQLContainer mysql = new MySQLContainer();\n\n    @InjectMocks MyService myService;\n\n    @Test\n    public void mainFunctionTest() {\n        myService.mainFunction()\n    }\n}\n</code></pre>\n<p><em><strong>MyServiceTestApplication.java</strong></em></p>\n<pre><code>@SpringBootApplication(exclude = {\n        DataSourceAutoConfiguration.class\n})\npublic class MyServiceTestApplication{\n}\n</code></pre>\n<p><em><strong>TestConfiguration.java</strong></em></p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = MyServiceTestApplication.class)\n@ActiveProfiles(&quot;test&quot;)\npublic abstract class TestConfiguration {\n\n}\n</code></pre>\n<p>When I run the test in debug mode, I can see that myRepository is null</p>\n<p>Any help would be highly appreciated</p>\n<p>Thanks :)</p>\n<p>Edit 01/08/2022 : Add @Component on MyService</p>\n<p>Edit 01/08/2022 (2) : Add MyServiceTestApplication.java and TestConfiguration.java</p>\n"},{"tags":["javascript","java","string","frontend","backend"],"comments":[{"owner":{"display_name":"user5734311"},"score":0,"creation_date":1658877770,"post_id":73130661,"comment_id":129160099,"body_markdown":"You mean you want to load a string from the backend at some point after the page has loaded? That is done using fetch(). If however you want this to happen when some event happens on the *backend*, you need socket.io or a similar solution that allows messages to be sent from the backend (because the backend is usually passive only, waiting for requests from the frontend)","body":"You mean you want to load a string from the backend at some point after the page has loaded? That is done using fetch(). If however you want this to happen when some event happens on the <i>backend</i>, you need socket.io or a similar solution that allows messages to be sent from the backend (because the backend is usually passive only, waiting for requests from the frontend)"},{"owner":{"account_id":25408582,"reputation":1,"user_id":19216846,"display_name":"Johny Leo"},"score":0,"creation_date":1658878059,"post_id":73130661,"comment_id":129160140,"body_markdown":"&quot;If however you want this to happen when some event happens on the backend&quot;..... This is the train of thought Im on. I input some text in a textbox. The front end (typescript) sends it to the backend via the controller in the backend. The backend (java) receives the data and completes a segment of code and outputs a string. And now I want to take that string in the back end and return it back to the front end to be displayed on the front page. Know any projects on github or general tutorials that walk me through how to do that last sentence specifically?","body":"&quot;If however you want this to happen when some event happens on the backend&quot;..... This is the train of thought Im on. I input some text in a textbox. The front end (typescript) sends it to the backend via the controller in the backend. The backend (java) receives the data and completes a segment of code and outputs a string. And now I want to take that string in the back end and return it back to the front end to be displayed on the front page. Know any projects on github or general tutorials that walk me through how to do that last sentence specifically?"},{"owner":{"display_name":"user5734311"},"score":0,"creation_date":1658878492,"post_id":73130661,"comment_id":129160204,"body_markdown":"What you describe is a frontend event (submitting a form). Which means you use fetch(). For simple text you can use a GET param. Basic example: https://jsfiddle.net/L81to3ag/","body":"What you describe is a frontend event (submitting a form). Which means you use fetch(). For simple text you can use a GET param. Basic example: <a href=\"https://jsfiddle.net/L81to3ag/\" rel=\"nofollow noreferrer\">jsfiddle.net/L81to3ag</a>"}],"answers":[{"tags":[],"owner":{"account_id":4944718,"reputation":26362,"user_id":4116300,"accept_rate":82,"display_name":"Roh&#236;t J&#237;ndal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659342654,"creation_date":1659342654,"answer_id":73190893,"question_id":73130661,"body_markdown":"As you just want to understand the direction/Suggestion on How to achieve the requirement. Few things you need to consider **:**\r\n\r\n - You have to make a decision that you require to use any frontend related frameworks/libraries or you want to do that in pure JavaScript ?\r\n - To get the data from Java backend you have to make an AJAX call from the page and simply bind that in UI DOM.\r\n\r\nIn pure JS, You can bind the string with the help of element ID.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const str = &#39;This string is coming from API&#39;;\r\n\r\n    document.getElementById(&#39;resultDiv&#39;).innerHTML = str;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div id=&quot;resultDiv&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you are going to use any `library/framework` then there is a way `one-way`/`two-way` data binding. I am just showing an example based on `Vue.js` for the demo purpose.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    new Vue({\r\n      el: &#39;#app&#39;,\r\n      data: {\r\n        message: null\r\n      },\r\n      mounted() {\r\n        const str = &#39;This string is coming from API&#39;;\r\n      \tthis.message = str;\r\n      }\r\n    })\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js&quot;&gt;&lt;/script&gt;\r\n    &lt;div id=&quot;app&quot;&gt;\r\n      &lt;p&gt;{{ message }}&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to pass a string from back end (java) to the front end(typescript) and have it appear on UI?","body":"<p>As you just want to understand the direction/Suggestion on How to achieve the requirement. Few things you need to consider <strong>:</strong></p>\n<ul>\n<li>You have to make a decision that you require to use any frontend related frameworks/libraries or you want to do that in pure JavaScript ?</li>\n<li>To get the data from Java backend you have to make an AJAX call from the page and simply bind that in UI DOM.</li>\n</ul>\n<p>In pure JS, You can bind the string with the help of element ID.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const str = 'This string is coming from API';\n\ndocument.getElementById('resultDiv').innerHTML = str;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"resultDiv\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you are going to use any <code>library/framework</code> then there is a way <code>one-way</code>/<code>two-way</code> data binding. I am just showing an example based on <code>Vue.js</code> for the demo purpose.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\n  el: '#app',\n  data: {\n    message: null\n  },\n  mounted() {\n    const str = 'This string is coming from API';\n    this.message = str;\n  }\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\n&lt;div id=\"app\"&gt;\n  &lt;p&gt;{{ message }}&lt;/p&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":25408582,"reputation":1,"user_id":19216846,"display_name":"Johny Leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659342688,"creation_date":1658877288,"question_id":73130661,"body_markdown":"Simply put, I&#39;m trying to pass a string from my java back end to my typescript front end so that this same string will display in the UI. Neatly below the purple bar like so:\r\n[Image][1]\r\n\r\n  [1]: https://i.stack.imgur.com/AUBJZ.png\r\n\r\nI think in the back end I have to return a string, send it through a controller, and have the front end receive the string from there but I&#39;ve had limited success doing that so far. \r\n\r\nRather than debug my code, I was wondering if anyone here could point me to a simple tutorial or project that does exactly what I&#39;m trying to do: Take a string from the back end, return it, have it received by the front end, then have that same string displayed on the UI. That way I can just mirror the implementation. I&#39;ve tried googling for simple examples like that but I&#39;ve come up empty so far.","title":"How to pass a string from back end (java) to the front end(typescript) and have it appear on UI?","body":"<p>Simply put, I'm trying to pass a string from my java back end to my typescript front end so that this same string will display in the UI. Neatly below the purple bar like so:\n<a href=\"https://i.stack.imgur.com/AUBJZ.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I think in the back end I have to return a string, send it through a controller, and have the front end receive the string from there but I've had limited success doing that so far.</p>\n<p>Rather than debug my code, I was wondering if anyone here could point me to a simple tutorial or project that does exactly what I'm trying to do: Take a string from the back end, return it, have it received by the front end, then have that same string displayed on the UI. That way I can just mirror the implementation. I've tried googling for simple examples like that but I've come up empty so far.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":1,"creation_date":1659096430,"post_id":73166422,"comment_id":129220209,"body_markdown":"Isn&#39;t it simply the duration between the minimum start time and the maximum end time?","body":"Isn&#39;t it simply the duration between the minimum start time and the maximum end time?"},{"owner":{"account_id":17264622,"reputation":13,"user_id":17562709,"display_name":"Berkan Aslan"},"score":1,"creation_date":1659096505,"post_id":73166422,"comment_id":129220239,"body_markdown":"@KlitosKyriacou Unfortunately no. Please check the last two lines. There are 18 idle minutes between two dates.","body":"@KlitosKyriacou Unfortunately no. Please check the last two lines. There are 18 idle minutes between two dates."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1659096507,"post_id":73166422,"comment_id":129220240,"body_markdown":"Loop over all resulting rows, find out the smallest start time and the biggest end time.","body":"Loop over all resulting rows, find out the smallest start time and the biggest end time."},{"owner":{"account_id":17264622,"reputation":13,"user_id":17562709,"display_name":"Berkan Aslan"},"score":0,"creation_date":1659096629,"post_id":73166422,"comment_id":129220284,"body_markdown":"@f1sh Unfortunately it&#39;s not the right approach. There may be idle date times between dates. It even exists between the last two example rows.","body":"@f1sh Unfortunately it&#39;s not the right approach. There may be idle date times between dates. It even exists between the last two example rows."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1659097069,"post_id":73166422,"comment_id":129220450,"body_markdown":"Maybe something like this would work: 1. Put all starting times and end times in a List (or similar). 2. Sort that list by starting time. 3. Iterate over List and for each element A check if another following element B starting time is between starting and end time of A. If yes combine those 2 values to a new range with starting time of A and end time of the maximum of either A or B (whichever is bigger/later). 4. Continue until no overlaps are found. 5. Now just sum up the duration of all ranges in your new list with the combined ranges.","body":"Maybe something like this would work: 1. Put all starting times and end times in a List (or similar). 2. Sort that list by starting time. 3. Iterate over List and for each element A check if another following element B starting time is between starting and end time of A. If yes combine those 2 values to a new range with starting time of A and end time of the maximum of either A or B (whichever is bigger/later). 4. Continue until no overlaps are found. 5. Now just sum up the duration of all ranges in your new list with the combined ranges."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1659098186,"post_id":73166422,"comment_id":129220893,"body_markdown":"@BerkanAslan but what about the first example row? That ranges from 8:30 to 19:56, so it includes all the other rows. So this is not the best example.","body":"@BerkanAslan but what about the first example row? That ranges from 8:30 to 19:56, so it includes all the other rows. So this is not the best example."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1659098410,"post_id":73166422,"comment_id":129220971,"body_markdown":"@f1sh In the question he wrote &quot;I want to calculate the total elapsed time for rows with type = 0&quot;. The first row has type 1, so you should ignore it.","body":"@f1sh In the question he wrote &quot;I want to calculate the total elapsed time for rows with type = 0&quot;. The first row has type 1, so you should ignore it."},{"owner":{"account_id":17264622,"reputation":13,"user_id":17562709,"display_name":"Berkan Aslan"},"score":0,"creation_date":1659098872,"post_id":73166422,"comment_id":129221151,"body_markdown":"@OHGODSPIDERS I would like to let you know that I am not able to simulate your approach. Is there only one list that contains start times and end times?","body":"@OHGODSPIDERS I would like to let you know that I am not able to simulate your approach. Is there only one list that contains start times and end times?"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659342624,"creation_date":1659099157,"answer_id":73167063,"question_id":73166422,"body_markdown":"Here&#39;s my approach:\r\n\r\n - by iterating over the rows from the database, create a list of job durations that take the overlaps into account\r\n   - if a new row overlaps an existing JobDuration in the list, the existing element will be modified with the new start and/or end date\r\n - this list can now be turned into duration values\r\n\r\nTake a look at this code:\r\n\r\n```\r\nclass Scratch {\r\n\r\n  static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\r\n\r\n  public static void main(String[] args) {\r\n    List&lt;JobDuration&gt; durations = new ArrayList&lt;&gt;();\r\n    List&lt;JobDuration&gt; newJobs = List.of(\r\n            //commented because it has type=1\r\n            /*JobDuration.of(&quot;2022-07-29 08:30:00.414000&quot;, &quot;2022-07-29 19:56:33.414000&quot;),*/\r\n            JobDuration.of(&quot;2022-07-29 15:30:03.412754&quot;, &quot;2022-07-29 15:57:03.965432&quot;),\r\n            JobDuration.of(&quot;2022-07-29 15:40:03.414000&quot;, &quot;2022-07-29 16:32:03.004323&quot;),\r\n            JobDuration.of(&quot;2022-07-29 16:50:03.643231&quot;, &quot;2022-07-29 17:35:03.234562&quot;)\r\n    );\r\n    newJobs.stream().forEach(d -&gt; addDuration(durations, d));\r\n\r\n    Collections.sort(durations, Comparator.comparing(JobDuration::getStart));\r\n    System.out.println(durations);\r\n    durations.stream().map(JobDuration::getDuration).forEach(System.out::println);\r\n  }\r\n\r\n  private static void addDuration(List&lt;JobDuration&gt; durations, JobDuration newJdr) {\r\n    if(durations.isEmpty()) {\r\n      durations.add(newJdr);\r\n      return;\r\n    }\r\n    boolean overlap = false;\r\n    for(JobDuration j:durations) {\r\n      //overlaps at the start?\r\n      if(newJdr.start.isBefore(j.start) &amp;&amp; newJdr.end.isAfter(j.start)) {\r\n        j.start = newJdr.start;\r\n        overlap = true;\r\n      }\r\n      //overlaps at the end?\r\n      if(newJdr.start.isBefore(j.end) &amp;&amp; newJdr.end.isAfter(j.end)) {\r\n        j.end = newJdr.end;\r\n        overlap = true;\r\n      }\r\n      //is completely inside?\r\n      if(newJdr.start.isAfter(j.start) &amp;&amp; newJdr.end.isBefore(j.end)){\r\n        overlap = true;\r\n      }\r\n    }\r\n    if(!overlap) {\r\n      //it did not overlap anywhere, so it&#39;s a new entry in the list\r\n      durations.add(newJdr);\r\n    }\r\n  }\r\n\r\n\r\n  public static class JobDuration {\r\n    LocalDateTime start;\r\n    LocalDateTime end;\r\n\r\n    @Override\r\n    public String toString() {\r\n      return &quot;JobDuration{&quot; +\r\n              &quot;start=&quot; + start +\r\n              &quot;, end=&quot; + end +\r\n              &#39;}&#39;;\r\n    }\r\n\r\n    public JobDuration(LocalDateTime pStart, LocalDateTime pEnd) {\r\n      start = pStart;\r\n      end = pEnd;\r\n    }\r\n\r\n    public LocalDateTime getStart() {\r\n      return start;\r\n    }\r\n\r\n    public static JobDuration of(String sStart, String sEnd) {\r\n      return new JobDuration(LocalDateTime.parse(sStart, FORMATTER), LocalDateTime.parse(sEnd, FORMATTER));\r\n    }\r\n\r\n    public Duration getDuration() {\r\n      return Duration.between(start, end);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nRunning this code prints the list (with the 2 non-overlapping time frame) and the Duration of each one.\r\n&lt;pre&gt;\r\n[JobDuration{start=2022-07-29T15:30:03.412754, end=2022-07-29T16:32:03.004323}, JobDuration{start=2022-07-29T16:50:03.643231, end=2022-07-29T17:35:03.234562}]\r\nPT1H1M59.591569S\r\nPT44M59.591331S\r\n&lt;/pre&gt;\r\n\r\nThis means this code combines the first two entries, because they overlap. The third entry does not overlap anywhere, so it results in its own duration.","title":"Calculate duration between multiple date ranges without overlapping date time","body":"<p>Here's my approach:</p>\n<ul>\n<li>by iterating over the rows from the database, create a list of job durations that take the overlaps into account\n<ul>\n<li>if a new row overlaps an existing JobDuration in the list, the existing element will be modified with the new start and/or end date</li>\n</ul>\n</li>\n<li>this list can now be turned into duration values</li>\n</ul>\n<p>Take a look at this code:</p>\n<pre><code>class Scratch {\n\n  static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\n\n  public static void main(String[] args) {\n    List&lt;JobDuration&gt; durations = new ArrayList&lt;&gt;();\n    List&lt;JobDuration&gt; newJobs = List.of(\n            //commented because it has type=1\n            /*JobDuration.of(&quot;2022-07-29 08:30:00.414000&quot;, &quot;2022-07-29 19:56:33.414000&quot;),*/\n            JobDuration.of(&quot;2022-07-29 15:30:03.412754&quot;, &quot;2022-07-29 15:57:03.965432&quot;),\n            JobDuration.of(&quot;2022-07-29 15:40:03.414000&quot;, &quot;2022-07-29 16:32:03.004323&quot;),\n            JobDuration.of(&quot;2022-07-29 16:50:03.643231&quot;, &quot;2022-07-29 17:35:03.234562&quot;)\n    );\n    newJobs.stream().forEach(d -&gt; addDuration(durations, d));\n\n    Collections.sort(durations, Comparator.comparing(JobDuration::getStart));\n    System.out.println(durations);\n    durations.stream().map(JobDuration::getDuration).forEach(System.out::println);\n  }\n\n  private static void addDuration(List&lt;JobDuration&gt; durations, JobDuration newJdr) {\n    if(durations.isEmpty()) {\n      durations.add(newJdr);\n      return;\n    }\n    boolean overlap = false;\n    for(JobDuration j:durations) {\n      //overlaps at the start?\n      if(newJdr.start.isBefore(j.start) &amp;&amp; newJdr.end.isAfter(j.start)) {\n        j.start = newJdr.start;\n        overlap = true;\n      }\n      //overlaps at the end?\n      if(newJdr.start.isBefore(j.end) &amp;&amp; newJdr.end.isAfter(j.end)) {\n        j.end = newJdr.end;\n        overlap = true;\n      }\n      //is completely inside?\n      if(newJdr.start.isAfter(j.start) &amp;&amp; newJdr.end.isBefore(j.end)){\n        overlap = true;\n      }\n    }\n    if(!overlap) {\n      //it did not overlap anywhere, so it's a new entry in the list\n      durations.add(newJdr);\n    }\n  }\n\n\n  public static class JobDuration {\n    LocalDateTime start;\n    LocalDateTime end;\n\n    @Override\n    public String toString() {\n      return &quot;JobDuration{&quot; +\n              &quot;start=&quot; + start +\n              &quot;, end=&quot; + end +\n              '}';\n    }\n\n    public JobDuration(LocalDateTime pStart, LocalDateTime pEnd) {\n      start = pStart;\n      end = pEnd;\n    }\n\n    public LocalDateTime getStart() {\n      return start;\n    }\n\n    public static JobDuration of(String sStart, String sEnd) {\n      return new JobDuration(LocalDateTime.parse(sStart, FORMATTER), LocalDateTime.parse(sEnd, FORMATTER));\n    }\n\n    public Duration getDuration() {\n      return Duration.between(start, end);\n    }\n  }\n}\n</code></pre>\n<p>Running this code prints the list (with the 2 non-overlapping time frame) and the Duration of each one.</p>\n<pre>\n[JobDuration{start=2022-07-29T15:30:03.412754, end=2022-07-29T16:32:03.004323}, JobDuration{start=2022-07-29T16:50:03.643231, end=2022-07-29T17:35:03.234562}]\nPT1H1M59.591569S\nPT44M59.591331S\n</pre>\n<p>This means this code combines the first two entries, because they overlap. The third entry does not overlap anywhere, so it results in its own duration.</p>\n"}],"owner":{"account_id":17264622,"reputation":13,"user_id":17562709,"display_name":"Berkan Aslan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1659113468,"accepted_answer_id":73167063,"answer_count":1,"score":-1,"last_activity_date":1659342624,"creation_date":1659096196,"question_id":73166422,"body_markdown":"Please see below SQL codes. There are multiple start dates and end dates aggregated for the same job.\r\n\r\nOn the Java side, I want to calculate the total elapsed time for rows with type = 0. It&#39;s easy to achieve this with Duration.between(start, end) but I can&#39;t get rid of the overlapped time between the lines. How can I get rid of overlapsed times? \r\n\r\n```\r\ncreate table timeline\r\n(\r\n    start_time datetime(6) null,\r\n\r\n    end_time   datetime(6) null,\r\n    type       int         null,\r\n);\r\n```\r\n\r\n```\r\nINSERT INTO timeline (start_time, end_time, type)\r\nVALUES (&#39;2022-07-29 08:30:00.414000&#39;, &#39;2022-07-29 19:56:33.414000&#39;, 1);\r\n\r\nINSERT INTO timeline (start_time, end_time, type)\r\nVALUES (&#39;2022-07-29 15:30:03.412754&#39;, &#39;2022-07-29 15:57:03.965432&#39;, 0);\r\n\r\nINSERT INTO timeline (start_time, end_time, type)\r\nVALUES (&#39;2022-07-29 15:40:03.414000&#39;, &#39;2022-07-29 16:32:03.004323&#39;, 0);\r\n\r\nINSERT INTO timeline (start_time, end_time, type)\r\nVALUES (&#39;2022-07-29 16:50:03.643231&#39;, &#39;2022-07-29 17:35:03.234562&#39;, 0);\r\n```\r\n\r\nBased on this data at hand, there are two things to consider:\r\n1. Overlap time\r\n2. Idle time\r\n\r\nConclusion, the 3 rows with type = 0, should give us two lines after the conversion:\r\n\r\n 1. **Start Time:** 2022-07-29 15:30:03.412754 - **End Time:** 2022-07-29 16:32:03.004323\r\n 2. **Start Time:** 2022-07-29 16:50:03.643231 - **End Time:** 2022-07-29 17:35:03.234562\r\n ","title":"Calculate duration between multiple date ranges without overlapping date time","body":"<p>Please see below SQL codes. There are multiple start dates and end dates aggregated for the same job.</p>\n<p>On the Java side, I want to calculate the total elapsed time for rows with type = 0. It's easy to achieve this with Duration.between(start, end) but I can't get rid of the overlapped time between the lines. How can I get rid of overlapsed times?</p>\n<pre><code>create table timeline\n(\n    start_time datetime(6) null,\n\n    end_time   datetime(6) null,\n    type       int         null,\n);\n</code></pre>\n<pre><code>INSERT INTO timeline (start_time, end_time, type)\nVALUES ('2022-07-29 08:30:00.414000', '2022-07-29 19:56:33.414000', 1);\n\nINSERT INTO timeline (start_time, end_time, type)\nVALUES ('2022-07-29 15:30:03.412754', '2022-07-29 15:57:03.965432', 0);\n\nINSERT INTO timeline (start_time, end_time, type)\nVALUES ('2022-07-29 15:40:03.414000', '2022-07-29 16:32:03.004323', 0);\n\nINSERT INTO timeline (start_time, end_time, type)\nVALUES ('2022-07-29 16:50:03.643231', '2022-07-29 17:35:03.234562', 0);\n</code></pre>\n<p>Based on this data at hand, there are two things to consider:</p>\n<ol>\n<li>Overlap time</li>\n<li>Idle time</li>\n</ol>\n<p>Conclusion, the 3 rows with type = 0, should give us two lines after the conversion:</p>\n<ol>\n<li><strong>Start Time:</strong> 2022-07-29 15:30:03.412754 - <strong>End Time:</strong> 2022-07-29 16:32:03.004323</li>\n<li><strong>Start Time:</strong> 2022-07-29 16:50:03.643231 - <strong>End Time:</strong> 2022-07-29 17:35:03.234562</li>\n</ol>\n"},{"tags":["java","maven","intellij-idea","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":6285811,"reputation":451,"user_id":4885112,"display_name":"Gregzki"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1498636341,"creation_date":1498636341,"answer_id":44796635,"question_id":38100537,"body_markdown":"I just hit similar error with `maven-resources-test:...:java.lang.NegativeArraySizeException` but I haven&#39;t found any solution anywhere.\r\n\r\nMaven *compile* worked ok, only **build** from IntelliJ was throwing such error.\r\n\r\nTried to:\r\n\r\n- maven *clean* - didn&#39;t help\r\n- invalidating cache and restart - didn&#39;t help\r\n- removing whole .idea folder and iml files and creating project again - didn&#39;t help\r\n- change codebase to older - didn&#39;t help - reverted\r\n- removing test folder - didn&#39;t help - reverted\r\n\r\nWhat solved my issue was **Build-&gt;Rebuild Project** (maybe together with some of above)","title":"Error:maven-resources-test:twitter_storm_new: java.lang.NegativeArraySizeException","body":"<p>I just hit similar error with <code>maven-resources-test:...:java.lang.NegativeArraySizeException</code> but I haven't found any solution anywhere.</p>\n\n<p>Maven <em>compile</em> worked ok, only <strong>build</strong> from IntelliJ was throwing such error.</p>\n\n<p>Tried to:</p>\n\n<ul>\n<li>maven <em>clean</em> - didn't help</li>\n<li>invalidating cache and restart - didn't help</li>\n<li>removing whole .idea folder and iml files and creating project again - didn't help</li>\n<li>change codebase to older - didn't help - reverted</li>\n<li>removing test folder - didn't help - reverted</li>\n</ul>\n\n<p>What solved my issue was <strong>Build->Rebuild Project</strong> (maybe together with some of above)</p>\n"},{"tags":[],"owner":{"account_id":8065312,"reputation":530,"user_id":6079673,"display_name":"Lakshi"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1517497716,"creation_date":1517497716,"answer_id":48565930,"question_id":38100537,"body_markdown":"I was having that issue too. As @Grx explained , Build-&gt;Rebuild Project solved the problem","title":"Error:maven-resources-test:twitter_storm_new: java.lang.NegativeArraySizeException","body":"<p>I was having that issue too. As @Grx explained , Build->Rebuild Project solved the problem</p>\n"},{"tags":[],"owner":{"account_id":19238934,"reputation":11,"user_id":14168084,"display_name":"Shahbazyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659342261,"creation_date":1659342261,"answer_id":73190820,"question_id":38100537,"body_markdown":"I deleted the **.idea** folder after that the error was fixed.","title":"Error:maven-resources-test:twitter_storm_new: java.lang.NegativeArraySizeException","body":"<p>I deleted the <strong>.idea</strong> folder after that the error was fixed.</p>\n"}],"owner":{"account_id":4770372,"reputation":151,"user_id":3855292,"accept_rate":0,"display_name":"cy_sar_0001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6173,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1659342261,"creation_date":1467205694,"question_id":38100537,"body_markdown":"I&#39;m trying to run a storm topology using intellij. Up until today, the topology ran perfectly fine but today everytime I try to run it I keep getting the following error: \r\n\r\n    Error:maven-resources-test:twitter_storm_new: java.lang.NegativeArraySizeException\r\n\r\nCan anyone tell if there is a way to resolve it and how? \r\n\r\nHere&#39;s my code for the topology: \r\n\r\n    public class AuthorsAndFeaturesTopology {\r\n       public static final String PATH_TO_AUTHORS_AND_FEATURES_FILE=&quot;/home/christina/twitter_storm_new/CSV/features.csv&quot;;\r\n    public static final String PATH_TO_AUTHORS_AND_NEW_FEATURES_FILE=&quot;/home/christina/twitter_storm_new/CSV/featuresnew.csv&quot;;\r\n\r\n    public static final String keyword1=&quot;#blacklivesmatter&quot;;\r\n    public static final String keyword2=&quot;#germanwings&quot;;\r\n    public static final String keyword3=&quot;#bigdata&quot;;\r\n\r\n    public static void main(String[]args ) throws Exception {\r\n        TopologyBuilder topologyBuilder = new TopologyBuilder();\r\n\r\n        //topologyBuilder.setSpout(&quot;PROCESS_AUTHORS_AND_FEATURES_FILE&quot;, new ProcessAuthorsAndFeaturesFromCSVFileSpout(PATH_TO_AUTHORS_AND_FEATURES_FILE,keyword1,keyword2,keyword3),4);\r\n\r\n\r\n\r\n\r\n        Config config = new Config();\r\n        if (args != null &amp;&amp; args.length &gt; 0) {\r\n            config.setNumWorkers(10);\r\n            config.setMaxSpoutPending(100);\r\n            StormSubmitter.submitTopology(args[0], config, topologyBuilder.createTopology());\r\n        } else {\r\n            LocalCluster localCluster = new LocalCluster();\r\n            localCluster.submitTopology(&quot;Test&quot;, config, topologyBuilder.createTopology());\r\n            Utils.sleep(2*10000);\r\n            localCluster.killTopology(&quot;Test&quot;);\r\n            localCluster.shutdown();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error:maven-resources-test:twitter_storm_new: java.lang.NegativeArraySizeException","body":"<p>I'm trying to run a storm topology using intellij. Up until today, the topology ran perfectly fine but today everytime I try to run it I keep getting the following error: </p>\n\n<pre><code>Error:maven-resources-test:twitter_storm_new: java.lang.NegativeArraySizeException\n</code></pre>\n\n<p>Can anyone tell if there is a way to resolve it and how? </p>\n\n<p>Here's my code for the topology: </p>\n\n<pre><code>public class AuthorsAndFeaturesTopology {\n   public static final String PATH_TO_AUTHORS_AND_FEATURES_FILE=\"/home/christina/twitter_storm_new/CSV/features.csv\";\npublic static final String PATH_TO_AUTHORS_AND_NEW_FEATURES_FILE=\"/home/christina/twitter_storm_new/CSV/featuresnew.csv\";\n\npublic static final String keyword1=\"#blacklivesmatter\";\npublic static final String keyword2=\"#germanwings\";\npublic static final String keyword3=\"#bigdata\";\n\npublic static void main(String[]args ) throws Exception {\n    TopologyBuilder topologyBuilder = new TopologyBuilder();\n\n    //topologyBuilder.setSpout(\"PROCESS_AUTHORS_AND_FEATURES_FILE\", new ProcessAuthorsAndFeaturesFromCSVFileSpout(PATH_TO_AUTHORS_AND_FEATURES_FILE,keyword1,keyword2,keyword3),4);\n\n\n\n\n    Config config = new Config();\n    if (args != null &amp;&amp; args.length &gt; 0) {\n        config.setNumWorkers(10);\n        config.setMaxSpoutPending(100);\n        StormSubmitter.submitTopology(args[0], config, topologyBuilder.createTopology());\n    } else {\n        LocalCluster localCluster = new LocalCluster();\n        localCluster.submitTopology(\"Test\", config, topologyBuilder.createTopology());\n        Utils.sleep(2*10000);\n        localCluster.killTopology(\"Test\");\n        localCluster.shutdown();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","class","extension-methods"],"answers":[{"tags":[],"owner":{"account_id":22478656,"reputation":53,"user_id":18235324,"display_name":"NumericPrime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658927668,"creation_date":1658926681,"answer_id":73138395,"question_id":73135188,"body_markdown":"It might be better if you were to implement the next() method to the DecreasingCarousel method. Then you could override the next() method in the HalvingCarousel.\r\n\r\nA much less elegant method that doesn&#39;t require you to rewrite your code though would be if you were to include a check for wich class is used in the .run() method and pass it onto the CarouselRun.\r\nThe check would look like this:\r\n```java\r\npublic boolean checkClass(){\r\n   return getClass()==DecrementingCarousel.class;\r\n}\r\n```\r\nThis returns true if the object is an instance of the &quot;original&quot; class and false if it is part of a subclass or an unrelated class.\r\n\r\nThis however is not how subclasses are supposed to be used.","title":"Class extension implementation in Java","body":"<p>It might be better if you were to implement the next() method to the DecreasingCarousel method. Then you could override the next() method in the HalvingCarousel.</p>\n<p>A much less elegant method that doesn't require you to rewrite your code though would be if you were to include a check for wich class is used in the .run() method and pass it onto the CarouselRun.\nThe check would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean checkClass(){\n   return getClass()==DecrementingCarousel.class;\n}\n</code></pre>\n<p>This returns true if the object is an instance of the &quot;original&quot; class and false if it is part of a subclass or an unrelated class.</p>\n<p>This however is not how subclasses are supposed to be used.</p>\n"}],"owner":{"account_id":25672834,"reputation":21,"user_id":19436803,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659341886,"creation_date":1658913072,"question_id":73135188,"body_markdown":"I need help how to make lass extension implementation work in different cases.\r\n\r\nDuring the training, I completed next task:\r\n\r\n\r\n*Decrementing Carousel is a container, accepting int elements. DecrementingCarousel has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the addElement method and can produce a CarouselRun object via the run method. Once the run method is called, DecrementingCarousel is in running state: it refuses adding more elements.\r\nThe CarouselRun allows to iterate over elements of the carousel decrementing them one by one with the next method. The next returns the value of the current element.  \r\nThen it decreases the current element by one and switches to the next element.\r\n\r\nThe CarouselRun iterates over elements in the order of their insertion.\r\nWhen an element is decreased to zero, the CarouselRun will skip it in further iterations. When there are no more elements available for decrementing, the CarouselRun returns -1.\r\n\r\nThe CarouselRun also has the isFinished method, which indicates, if the carousel has run out of the lements to decrement.\r\n\r\nSpecification Details\r\nDecrementingCarousel has two public methods:\r\n\r\nboolean addElement(int element) - adds an element. If element is negative or zero, do not add the element. If container is full, do not add the element. If the run method was called to create a CarouselRun, do not add the element. If element is added successfully, return true. Return false otherwise. \r\nCarouselRun run() - returns a CarouselRun to iterate over the elements. If the run method has already been called earlier, it must return null: DecrementingCarousel may generate only one CarouselRun object.\r\n\r\nCarouselRun has two public methods:\r\n\r\nint next() - returns the current value of the current element, then decreases the current element by one and switches to the next element in insertion order. Skips zero elements. When there is no more elements to decrease, returns -1.\r\n\r\nboolean isFinished() - when there is no more elements to decrease, returns true. Otherwise, returns false.\r\n\r\nExamples\r\n\r\nEmpty case:\r\n```\r\nCarouselRun run = new DecrementingCarousel(7).run();\r\nSystem.out.println(run.isFinished()); //true\r\nSystem.out.println(run.next()); //-1\r\n```\r\nRegular case:\r\n```\r\nDecrementingCarousel carousel = new DecrementingCarousel(7);\r\n\r\ncarousel.addElement(2);\r\ncarousel.addElement(3);\r\ncarousel.addElement(1);\r\n\r\nCarouselRun run = carousel.run();\r\n\r\nSystem.out.println(run.isFinished()); //false\r\n\r\nSystem.out.println(run.next()); //2\r\nSystem.out.println(run.next()); //3\r\nSystem.out.println(run.next()); //1\r\n\r\nSystem.out.println(run.next()); //1\r\nSystem.out.println(run.next()); //2\r\n\r\nSystem.out.println(run.next()); //1\r\n\r\nSystem.out.println(run.isFinished()); //true\r\nSystem.out.println(run.next()); //-1\r\n```\r\n\r\nMy implementation \r\n\r\nDecrementingCarousel\r\n\r\n```\r\npublic class DecrementingCarousel {\r\n    \r\n}\r\n```\r\nCarouselRun\r\n\r\n```\r\npublic class CarouselRun {\r\n    \r\n}\r\n  ```\r\nIn new exercise I need to extend **DecrementingCarousel**. I need to implement **HalvingCarousel**. This subclass must halve elements instead of decrementing it by one. Note that you need to apply regular integer division, discarding the remainder. For example, 5 / 2 = 2.\r\n\r\nExamples\r\n\r\nEmpty case:\r\n\r\n```\r\nCarouselRun run = new HalvingCarousel(7).run();\r\nSystem.out.println(run.isFinished()); //true\r\nSystem.out.println(run.next()); //-1\r\n```\r\n\r\nRegular case:\r\n\r\n```\r\nDecrementingCarousel carousel = new HalvingCarousel(7);\r\n\r\ncarousel.addElement(20);\r\ncarousel.addElement(30);\r\ncarousel.addElement(10);\r\n\r\nCarouselRun run = carousel.run();\r\n\r\nSystem.out.println(run.isFinished()); //false\r\n\r\nSystem.out.println(run.next()); //20\r\nSystem.out.println(run.next()); //30\r\nSystem.out.println(run.next()); //10\r\n\r\nSystem.out.println(run.next()); //10\r\nSystem.out.println(run.next()); //15\r\nSystem.out.println(run.next()); //5\r\n\r\nSystem.out.println(run.next()); //5\r\nSystem.out.println(run.next()); //7\r\nSystem.out.println(run.next()); //2\r\n\r\nSystem.out.println(run.next()); //2\r\nSystem.out.println(run.next()); //3\r\nSystem.out.println(run.next()); //1\r\n\r\nSystem.out.println(run.next()); //1\r\nSystem.out.println(run.next()); //1\r\n\r\nSystem.out.println(run.isFinished()); //true\r\nSystem.out.println(run.next()); //-1\r\n```\r\nAnother\r\n\r\n```\r\nHalvingCarousel carousel = new HalvingCarousel(6);\r\n\r\n        carousel.addElement(7);\r\n        carousel.addElement(2);\r\n        carousel.addElement(100);\r\n        carousel.addElement(3);\r\n        carousel.addElement(1);\r\n        carousel.addElement(4);\r\n        CarouselRun run = carousel.run();\r\n\r\n        System.out.println(run.next());// 7\r\n        System.out.println(run.next());// 2\r\n        System.out.println(run.next());// 100\r\n        System.out.println(run.next());// 3\r\n        System.out.println(run.next());// 1\r\n        System.out.println(run.next());// 4\r\n\r\n        System.out.println(run.next());// 3\r\n        System.out.println(run.next());// 1\r\n        System.out.println(run.next());// 50\r\n        System.out.println(run.next());// 1\r\n        System.out.println(run.next());// 2\r\n\r\n        System.out.println(run.next());// 1\r\n        System.out.println(run.next());// 25\r\n        System.out.println(run.next());// 1\r\n\r\n        System.out.println(run.next());// 12\r\n\r\n        System.out.println(run.next());// 6\r\n        System.out.println(run.next());// 3\r\n        System.out.println(run.next());// 1\r\n\r\n        System.out.println(run.next());// -1\r\n        System.out.println(run.isFinished()); //true\r\n```\r\nThe default extended class looks like this\r\n\r\n```\r\npublic class HalvingCarousel extends DecrementingCarousel {\r\n    public HalvingCarousel(final int capacity) {\r\n        super(capacity);    }\r\n}\r\n```\r\nMethods of DecrementingCarousel(addElement and run) is still working so i did not change it. \r\n\r\nI decided to change the CarouselRun methods to solve a new problem and this is what I got. It works with new task but not with old one. And on the task it is required that it works in both cases Decrementing and Halving. I need help how to make it work in both cases.\r\n\r\nMy code works with Halving. \r\n\r\n```\r\npublic class CarouselRun {\r\n}\r\n```","title":"Class extension implementation in Java","body":"<p>I need help how to make lass extension implementation work in different cases.</p>\n<p>During the training, I completed next task:</p>\n<p>*Decrementing Carousel is a container, accepting int elements. DecrementingCarousel has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the addElement method and can produce a CarouselRun object via the run method. Once the run method is called, DecrementingCarousel is in running state: it refuses adding more elements.\nThe CarouselRun allows to iterate over elements of the carousel decrementing them one by one with the next method. The next returns the value of the current element.<br />\nThen it decreases the current element by one and switches to the next element.</p>\n<p>The CarouselRun iterates over elements in the order of their insertion.\nWhen an element is decreased to zero, the CarouselRun will skip it in further iterations. When there are no more elements available for decrementing, the CarouselRun returns -1.</p>\n<p>The CarouselRun also has the isFinished method, which indicates, if the carousel has run out of the lements to decrement.</p>\n<p>Specification Details\nDecrementingCarousel has two public methods:</p>\n<p>boolean addElement(int element) - adds an element. If element is negative or zero, do not add the element. If container is full, do not add the element. If the run method was called to create a CarouselRun, do not add the element. If element is added successfully, return true. Return false otherwise.\nCarouselRun run() - returns a CarouselRun to iterate over the elements. If the run method has already been called earlier, it must return null: DecrementingCarousel may generate only one CarouselRun object.</p>\n<p>CarouselRun has two public methods:</p>\n<p>int next() - returns the current value of the current element, then decreases the current element by one and switches to the next element in insertion order. Skips zero elements. When there is no more elements to decrease, returns -1.</p>\n<p>boolean isFinished() - when there is no more elements to decrease, returns true. Otherwise, returns false.</p>\n<p>Examples</p>\n<p>Empty case:</p>\n<pre><code>CarouselRun run = new DecrementingCarousel(7).run();\nSystem.out.println(run.isFinished()); //true\nSystem.out.println(run.next()); //-1\n</code></pre>\n<p>Regular case:</p>\n<pre><code>DecrementingCarousel carousel = new DecrementingCarousel(7);\n\ncarousel.addElement(2);\ncarousel.addElement(3);\ncarousel.addElement(1);\n\nCarouselRun run = carousel.run();\n\nSystem.out.println(run.isFinished()); //false\n\nSystem.out.println(run.next()); //2\nSystem.out.println(run.next()); //3\nSystem.out.println(run.next()); //1\n\nSystem.out.println(run.next()); //1\nSystem.out.println(run.next()); //2\n\nSystem.out.println(run.next()); //1\n\nSystem.out.println(run.isFinished()); //true\nSystem.out.println(run.next()); //-1\n</code></pre>\n<p>My implementation</p>\n<p>DecrementingCarousel</p>\n<pre><code>public class DecrementingCarousel {\n    \n}\n</code></pre>\n<p>CarouselRun</p>\n<pre><code>public class CarouselRun {\n    \n}\n</code></pre>\n<p>In new exercise I need to extend <strong>DecrementingCarousel</strong>. I need to implement <strong>HalvingCarousel</strong>. This subclass must halve elements instead of decrementing it by one. Note that you need to apply regular integer division, discarding the remainder. For example, 5 / 2 = 2.</p>\n<p>Examples</p>\n<p>Empty case:</p>\n<pre><code>CarouselRun run = new HalvingCarousel(7).run();\nSystem.out.println(run.isFinished()); //true\nSystem.out.println(run.next()); //-1\n</code></pre>\n<p>Regular case:</p>\n<pre><code>DecrementingCarousel carousel = new HalvingCarousel(7);\n\ncarousel.addElement(20);\ncarousel.addElement(30);\ncarousel.addElement(10);\n\nCarouselRun run = carousel.run();\n\nSystem.out.println(run.isFinished()); //false\n\nSystem.out.println(run.next()); //20\nSystem.out.println(run.next()); //30\nSystem.out.println(run.next()); //10\n\nSystem.out.println(run.next()); //10\nSystem.out.println(run.next()); //15\nSystem.out.println(run.next()); //5\n\nSystem.out.println(run.next()); //5\nSystem.out.println(run.next()); //7\nSystem.out.println(run.next()); //2\n\nSystem.out.println(run.next()); //2\nSystem.out.println(run.next()); //3\nSystem.out.println(run.next()); //1\n\nSystem.out.println(run.next()); //1\nSystem.out.println(run.next()); //1\n\nSystem.out.println(run.isFinished()); //true\nSystem.out.println(run.next()); //-1\n</code></pre>\n<p>Another</p>\n<pre><code>HalvingCarousel carousel = new HalvingCarousel(6);\n\n        carousel.addElement(7);\n        carousel.addElement(2);\n        carousel.addElement(100);\n        carousel.addElement(3);\n        carousel.addElement(1);\n        carousel.addElement(4);\n        CarouselRun run = carousel.run();\n\n        System.out.println(run.next());// 7\n        System.out.println(run.next());// 2\n        System.out.println(run.next());// 100\n        System.out.println(run.next());// 3\n        System.out.println(run.next());// 1\n        System.out.println(run.next());// 4\n\n        System.out.println(run.next());// 3\n        System.out.println(run.next());// 1\n        System.out.println(run.next());// 50\n        System.out.println(run.next());// 1\n        System.out.println(run.next());// 2\n\n        System.out.println(run.next());// 1\n        System.out.println(run.next());// 25\n        System.out.println(run.next());// 1\n\n        System.out.println(run.next());// 12\n\n        System.out.println(run.next());// 6\n        System.out.println(run.next());// 3\n        System.out.println(run.next());// 1\n\n        System.out.println(run.next());// -1\n        System.out.println(run.isFinished()); //true\n</code></pre>\n<p>The default extended class looks like this</p>\n<pre><code>public class HalvingCarousel extends DecrementingCarousel {\n    public HalvingCarousel(final int capacity) {\n        super(capacity);    }\n}\n</code></pre>\n<p>Methods of DecrementingCarousel(addElement and run) is still working so i did not change it.</p>\n<p>I decided to change the CarouselRun methods to solve a new problem and this is what I got. It works with new task but not with old one. And on the task it is required that it works in both cases Decrementing and Halving. I need help how to make it work in both cases.</p>\n<p>My code works with Halving.</p>\n<pre><code>public class CarouselRun {\n}\n</code></pre>\n"},{"tags":["java","selenium","xpath","iframe","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636723880,"creation_date":1636723880,"answer_id":69943694,"question_id":69942775,"body_markdown":"The [_`iframe`_](https://stackoverflow.com/a/53276478/7429447) is clearly visible. You need to switch to the [iframe](https://stackoverflow.com/a/47472200/7429447) first to access the elements as follows:\r\n\r\n    driver.switchTo().frame(driver.findElement(By.xpath(&quot;//iframe[starts-with(@id, &#39;hipay-controller&#39;) and @data-hipay-id=&#39;hostedfield-iframe&#39;]&quot;)));\r\n\r\npreferably using [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) as follows:\r\n\r\n    new WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@id, &#39;hipay-controller&#39;) and @data-hipay-id=&#39;hostedfield-iframe&#39;]&quot;)));","title":"#document is not shown when accessing the iframe using Selenium","body":"<p>The <a href=\"https://stackoverflow.com/a/53276478/7429447\"><em><code>iframe</code></em></a> is clearly visible. You need to switch to the <a href=\"https://stackoverflow.com/a/47472200/7429447\">iframe</a> first to access the elements as follows:</p>\n<pre><code>driver.switchTo().frame(driver.findElement(By.xpath(&quot;//iframe[starts-with(@id, 'hipay-controller') and @data-hipay-id='hostedfield-iframe']&quot;)));\n</code></pre>\n<p>preferably using <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> as follows:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@id, 'hipay-controller') and @data-hipay-id='hostedfield-iframe']&quot;)));\n</code></pre>\n"}],"owner":{"account_id":23283096,"reputation":15,"user_id":17366301,"display_name":"Tester testing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659341254,"creation_date":1636719187,"question_id":69942775,"body_markdown":"I am trying to perform the payment by credit card using dummy data using Selenium. The problem I am having is that #document doesn&#39;t show when I run my selenium code when i do it manually it only shows after I refresh the page but when I try to do the same thing in selenium even though the page refreshes the `#document` doesn&#39;t show.\r\n\r\nHtml when done by selenium :\r\n\r\n    &lt;body class=&quot;script-body&quot;&gt;\r\n    &lt;div class=&quot;container&quot;&gt;&lt;/div&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    &lt;iframe src=&quot;https://libs.hipay.com/hostedfields/index.html#type=card&amp;amp;element=controller&amp;amp;instanceId=200803&amp;amp;referrer=https://stage-secure-gateway.hipay-tpp.com&quot; frameborder=&quot;0&quot; allowtransparency=&quot;true&quot; scrolling=&quot;no&quot; width=&quot;0&quot; height=&quot;0&quot; name=&quot;hipay-controller-200803&quot; title=&quot;hipay-controller-200803&quot; id=&quot;hipay-controller-200803&quot; data-hipay-id=&quot;hostedfield-iframe&quot;&gt;&lt;/iframe&gt;\r\n    &lt;/body&gt;\r\n\r\nWhen i do it manualy :\r\n\r\n![When done Manualy][1]\r\n\r\nMy code :\r\n\r\n    WebElement ClkPaiementByCard = driver.findElement(By.id(&quot;payed-cart&quot;));\r\n\tjs.executeScript(&quot;arguments[0].click();&quot;, ClkPaiementByCard);\r\n    driver.findElement(By.className(&quot;script-body&quot;)).sendKeys(Keys.F5);\r\n\tWebElement CardNumber = driver.findElement(By.xpath(\r\n\t\t\t&quot;//div[@id=\\&quot;root\\&quot;]/div/div/form/div/div/input[@name=\\&quot;cardnumber\\&quot;]&quot;));\r\n\tCardNumber.clear();\r\n\tCardNumber.sendKeys(&quot;4111 1111 1111 1111&quot;);\r\n\tWebElement ExpDate = driver.findElement(By.xpath(\r\n\t\t\t&quot;//div[@id=\\&quot;root\\&quot;]/div/div/input[@name=\\&quot;cc-exp\\&quot;]&quot;));\r\n\tExpDate.clear();\r\n\tExpDate.sendKeys(&quot;05/24&quot;);\r\n\tWebElement CVC = driver.findElement(By.xpath(\r\n\t\t\t&quot;//div[@id=\\&quot;root\\&quot;]/div/div/input[@name=\\&quot;cvc\\&quot;]&quot;));\r\n\tCVC.clear();\r\n\tCVC.sendKeys(&quot;123&quot;);\t\t\t\r\n\tWebElement SubmitPaiement = driver.findElement(By.id(&quot;submit-button&quot;));\r\n\tjs.executeScript(&quot;arguments[0].click();&quot;, SubmitPaiement);\r\n\r\nI tried to do the `switchto().frame()` but it never works I tried to perform an action that refreshes the page but it doesn&#39;t work neither can someone explain to me what I am doing wrong.\r\n\r\n  [1]: https://i.stack.imgur.com/5hmdk.png","title":"#document is not shown when accessing the iframe using Selenium","body":"<p>I am trying to perform the payment by credit card using dummy data using Selenium. The problem I am having is that #document doesn't show when I run my selenium code when i do it manually it only shows after I refresh the page but when I try to do the same thing in selenium even though the page refreshes the <code>#document</code> doesn't show.</p>\n<p>Html when done by selenium :</p>\n<pre><code>&lt;body class=&quot;script-body&quot;&gt;\n&lt;div class=&quot;container&quot;&gt;&lt;/div&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;iframe src=&quot;https://libs.hipay.com/hostedfields/index.html#type=card&amp;amp;element=controller&amp;amp;instanceId=200803&amp;amp;referrer=https://stage-secure-gateway.hipay-tpp.com&quot; frameborder=&quot;0&quot; allowtransparency=&quot;true&quot; scrolling=&quot;no&quot; width=&quot;0&quot; height=&quot;0&quot; name=&quot;hipay-controller-200803&quot; title=&quot;hipay-controller-200803&quot; id=&quot;hipay-controller-200803&quot; data-hipay-id=&quot;hostedfield-iframe&quot;&gt;&lt;/iframe&gt;\n&lt;/body&gt;\n</code></pre>\n<p>When i do it manualy :</p>\n<p><img src=\"https://i.stack.imgur.com/5hmdk.png\" alt=\"When done Manualy\" /></p>\n<p>My code :</p>\n<pre><code>WebElement ClkPaiementByCard = driver.findElement(By.id(&quot;payed-cart&quot;));\njs.executeScript(&quot;arguments[0].click();&quot;, ClkPaiementByCard);\ndriver.findElement(By.className(&quot;script-body&quot;)).sendKeys(Keys.F5);\nWebElement CardNumber = driver.findElement(By.xpath(\n        &quot;//div[@id=\\&quot;root\\&quot;]/div/div/form/div/div/input[@name=\\&quot;cardnumber\\&quot;]&quot;));\nCardNumber.clear();\nCardNumber.sendKeys(&quot;4111 1111 1111 1111&quot;);\nWebElement ExpDate = driver.findElement(By.xpath(\n        &quot;//div[@id=\\&quot;root\\&quot;]/div/div/input[@name=\\&quot;cc-exp\\&quot;]&quot;));\nExpDate.clear();\nExpDate.sendKeys(&quot;05/24&quot;);\nWebElement CVC = driver.findElement(By.xpath(\n        &quot;//div[@id=\\&quot;root\\&quot;]/div/div/input[@name=\\&quot;cvc\\&quot;]&quot;));\nCVC.clear();\nCVC.sendKeys(&quot;123&quot;);            \nWebElement SubmitPaiement = driver.findElement(By.id(&quot;submit-button&quot;));\njs.executeScript(&quot;arguments[0].click();&quot;, SubmitPaiement);\n</code></pre>\n<p>I tried to do the <code>switchto().frame()</code> but it never works I tried to perform an action that refreshes the page but it doesn't work neither can someone explain to me what I am doing wrong.</p>\n"},{"tags":["java","android","android-constraintlayout","android-snackbar"],"answers":[{"tags":[],"owner":{"account_id":20052037,"reputation":279,"user_id":14700539,"display_name":"Arsh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659340505,"creation_date":1659340505,"answer_id":73190485,"question_id":73190075,"body_markdown":"You can use the first piece of code and do the following:\r\n\r\nAdd this line to resolve the animation issue :\r\n```\r\nsnackbar.setAnimationMode(BaseTransientBottomBar.ANIMATION_MODE_FADE);\r\n```\r\n\r\nIf this doesn&#39;t works try this:\r\n\r\n```\r\nsnackbar.setAnchorView(*mention viewId above whom you want to show SnackBar*)\r\n```","title":"How to show a Snackbar in Android on the top when using ConstraintLayout in a nice way","body":"<p>You can use the first piece of code and do the following:</p>\n<p>Add this line to resolve the animation issue :</p>\n<pre><code>snackbar.setAnimationMode(BaseTransientBottomBar.ANIMATION_MODE_FADE);\n</code></pre>\n<p>If this doesn't works try this:</p>\n<pre><code>snackbar.setAnchorView(*mention viewId above whom you want to show SnackBar*)\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73190485,"answer_count":1,"score":1,"last_activity_date":1659340505,"creation_date":1659338391,"question_id":73190075,"body_markdown":"I am using ConstraintLayout in Android and I would like to display a Snackbar message at the top of the screen. I found this question on Stackoverflow: https://stackoverflow.com/questions/31746300/how-to-show-snackbar-at-top-of-the-screen \r\n\r\nThe answer with the most likes is quite bad as it looks horrible because you can see the Snackbar beeing animated to the top:\r\n\r\n    Snackbar snack = Snackbar.make(parentLayout, str, Snackbar.LENGTH_LONG);\r\n    View view = snack.getView();\r\n    FrameLayout.LayoutParams params =(FrameLayout.LayoutParams)view.getLayoutParams();\r\n    params.gravity = Gravity.TOP;\r\n    view.setLayoutParams(params);\r\n    snack.show();\r\n\r\nThe second answer assumes that you are using a CorrdinatorLayout which I don&#39;t do \r\n\r\n    CoordinatorLayout coordinatorLayout=(CoordinatorLayout)findViewById(R.id.coordinatorLayout);\r\n    Snackbar snackbar = Snackbar.make(coordinatorLayout, &quot;Text&quot;, Snackbar.LENGTH_LONG);\r\n    View view = snackbar.getView();\r\n    CoordinatorLayout.LayoutParams params=(CoordinatorLayout.LayoutParams)view.getLayoutParams();\r\n    params.gravity = Gravity.TOP;\r\n    view.setLayoutParams(params);\r\n    snackbar.show();\r\n\r\nDo you know how I can display the SnackBar in a ConstraintLayout on top in a nice way (meaning that it will just pop up at the top of the screen without being animated to the top)?","title":"How to show a Snackbar in Android on the top when using ConstraintLayout in a nice way","body":"<p>I am using ConstraintLayout in Android and I would like to display a Snackbar message at the top of the screen. I found this question on Stackoverflow: <a href=\"https://stackoverflow.com/questions/31746300/how-to-show-snackbar-at-top-of-the-screen\">How to show Snackbar at top of the screen</a></p>\n<p>The answer with the most likes is quite bad as it looks horrible because you can see the Snackbar beeing animated to the top:</p>\n<pre><code>Snackbar snack = Snackbar.make(parentLayout, str, Snackbar.LENGTH_LONG);\nView view = snack.getView();\nFrameLayout.LayoutParams params =(FrameLayout.LayoutParams)view.getLayoutParams();\nparams.gravity = Gravity.TOP;\nview.setLayoutParams(params);\nsnack.show();\n</code></pre>\n<p>The second answer assumes that you are using a CorrdinatorLayout which I don't do</p>\n<pre><code>CoordinatorLayout coordinatorLayout=(CoordinatorLayout)findViewById(R.id.coordinatorLayout);\nSnackbar snackbar = Snackbar.make(coordinatorLayout, &quot;Text&quot;, Snackbar.LENGTH_LONG);\nView view = snackbar.getView();\nCoordinatorLayout.LayoutParams params=(CoordinatorLayout.LayoutParams)view.getLayoutParams();\nparams.gravity = Gravity.TOP;\nview.setLayoutParams(params);\nsnackbar.show();\n</code></pre>\n<p>Do you know how I can display the SnackBar in a ConstraintLayout on top in a nice way (meaning that it will just pop up at the top of the screen without being animated to the top)?</p>\n"},{"tags":["java","jpa","persistence","optimistic-locking"],"comments":[{"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"score":0,"creation_date":1659334379,"post_id":73189402,"comment_id":129261139,"body_markdown":"Can you post your update method and maybe also your controller","body":"Can you post your update method and maybe also your controller"},{"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"score":0,"creation_date":1659337429,"post_id":73189402,"comment_id":129261901,"body_markdown":"thank you for adding. The problem here is, as you already mentioned, the null in version. It is a good practise to use DTO for the client (frontend) and hide unnecessary informations. You should load your city byId or something else, set the new updated values und save it. Its also kind of a security issue to have entities directly in the frontend because user could change some attributes they may cannot change in the current view. Without some checks you will also put this manipulated stuff in your DB.","body":"thank you for adding. The problem here is, as you already mentioned, the null in version. It is a good practise to use DTO for the client (frontend) and hide unnecessary informations. You should load your city byId or something else, set the new updated values und save it. Its also kind of a security issue to have entities directly in the frontend because user could change some attributes they may cannot change in the current view. Without some checks you will also put this manipulated stuff in your DB."}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659340324,"creation_date":1659336498,"answer_id":73189758,"question_id":73189402,"body_markdown":"The [JPA specification document][1] provides an important hint that you **must not** manipulate the `@Version` attribute, see section 3.4.2, on page 90\n\n&gt; An entity may access the state of its version field or property or\n&gt; export a method for use by the application to access the version,\n&gt; but must not modify the version value.\n\nand\n\n&gt; The version attribute is updated **by the persistence provider** runtime\n&gt; when the object is written to the database.\n\nSo the comment (No setter! JPA takes care of this.) you find in `VersionedEntity` is absolutely reasonable. In essence, you should not change (or `null`) the `@Version` attribute from higher application levels. \n\nIn your case, it seems, you must compensate the lost (=nulled) *version* effect, eg by introducing a DTO for `City`. Otherwise, you will always run into an `OptimisticLockException`.\n\n  [1]: https://github.com/javaee/jpa-spec/blob/master/jsr338-MR/JavaPersistence.pdf","title":"OmniPersistence: usage of VersionedEntity is producing OptimisticLockException","body":"<p>The <a href=\"https://github.com/javaee/jpa-spec/blob/master/jsr338-MR/JavaPersistence.pdf\" rel=\"nofollow noreferrer\">JPA specification document</a> provides an important hint that you <strong>must not</strong> manipulate the <code>@Version</code> attribute, see section 3.4.2, on page 90</p>\n<blockquote>\n<p>An entity may access the state of its version field or property or\nexport a method for use by the application to access the version,\nbut must not modify the version value.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The version attribute is updated <strong>by the persistence provider</strong> runtime\nwhen the object is written to the database.</p>\n</blockquote>\n<p>So the comment (No setter! JPA takes care of this.) you find in <code>VersionedEntity</code> is absolutely reasonable. In essence, you should not change (or <code>null</code>) the <code>@Version</code> attribute from higher application levels.</p>\n<p>In your case, it seems, you must compensate the lost (=nulled) <em>version</em> effect, eg by introducing a DTO for <code>City</code>. Otherwise, you will always run into an <code>OptimisticLockException</code>.</p>\n"}],"owner":{"account_id":6312698,"reputation":75,"user_id":4903755,"display_name":"JavaFan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73189758,"answer_count":1,"score":1,"last_activity_date":1659340324,"creation_date":1659333989,"question_id":73189402,"body_markdown":"I am experimenting with the library [OmniPersistence][1].\r\n\r\nI have a problem using the class `org.omnifaces.persistence.model.VersionedEntity`. In my code there is a simple entity class *City*.\r\n\r\n```\r\n@Entity\r\npublic class City extends VersionedEntity&lt;Long&gt; {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String postalCode;\r\n    private String name;\r\n\r\n    ... (getter + setter)\r\n}\r\n```\r\n\r\nThere is a REST-Service that exposes the Entity for some client-applications. But every time I want to update an object a `javax.persistence.OptimisticLockException` is thrown. The problem is that the version attribute is always `null`. A look in the [code of `VersionedEntity`][2] revealed that there is no setter method, but a comment \r\n\r\n&gt; // No setter! JPA takes care of this.\r\n\r\nI do understand the intention of the absence of the setter method but that is the reason for the exception.\n\nQuestion\n-\r\n\r\nIs my architecture so poor (exposing the entity class in a web-service) or is it maybe reasonable to add a setter method although JPA should handle the value/manipulation of the `@Version`ed attribute?\r\n\r\n---\r\n\r\n**Edit** (as requested by the comment)\r\n\r\nMy update method is basically the one in OmniPersistence&#39; [`BaseEntityService`][3]. My service class looks like the following.\r\n```\r\n@Stateless\r\npublic class CityService extends BaseEntityService&lt;Long, City&gt; {\r\n    public Long count() {\r\n        return super.createLongQuery(&quot;select count(c) from City c&quot;).getSingleResult();\r\n    }\r\n}\r\n```\r\n\r\nMy controller is the REST endpoint.\r\n\r\n```\r\n@Path(&quot;city&quot;)\r\npublic class CityEndpoint {\r\n    @Inject\r\n    private CityService cityService;\r\n\r\n    @GET @Produces(MediaType.APPLICATION_JSON)\r\n    public Response getAll() {\r\n        List&lt;City&gt; cities = cityService.list();\r\n        return Response.ok(cities).build();\r\n    }\r\n\r\n    @GET @Produces(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;{id}&quot;)\r\n    public Response get(@PathParam(&quot;id&quot;) Long id) {\r\n        return Response.ok(cityService.getById(id)).build();\r\n    }\r\n\r\n    @POST @Consumes(MediaType.APPLICATION_JSON)\r\n    public Response create(City city) {\r\n        cityService.persist(city);\r\n        return Response.created(URI.create(String.format(&quot;city/%s&quot;, Objects.toString(city.getId())))).build();\r\n    }\r\n\r\n    @POST @Consumes(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;update&quot;)\r\n    public Response update(City city) {\r\n        System.out.println(city);\r\n        City updated = cityService.update(city);\r\n        return Response.ok(updated).build();\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;count&quot;)\r\n    public Response count() {\r\n        return Response.ok(cityService.count()).build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/omnifaces/omnipersistence\r\n  [2]: https://github.com/omnifaces/omnipersistence/blob/develop/src/main/java/org/omnifaces/persistence/model/VersionedEntity.java\r\n  [3]: https://github.com/omnifaces/omnipersistence/blob/develop/src/main/java/org/omnifaces/persistence/service/BaseEntityService.java#L994","title":"OmniPersistence: usage of VersionedEntity is producing OptimisticLockException","body":"<p>I am experimenting with the library <a href=\"https://github.com/omnifaces/omnipersistence\" rel=\"nofollow noreferrer\">OmniPersistence</a>.</p>\n<p>I have a problem using the class <code>org.omnifaces.persistence.model.VersionedEntity</code>. In my code there is a simple entity class <em>City</em>.</p>\n<pre><code>@Entity\npublic class City extends VersionedEntity&lt;Long&gt; {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String postalCode;\n    private String name;\n\n    ... (getter + setter)\n}\n</code></pre>\n<p>There is a REST-Service that exposes the Entity for some client-applications. But every time I want to update an object a <code>javax.persistence.OptimisticLockException</code> is thrown. The problem is that the version attribute is always <code>null</code>. A look in the <a href=\"https://github.com/omnifaces/omnipersistence/blob/develop/src/main/java/org/omnifaces/persistence/model/VersionedEntity.java\" rel=\"nofollow noreferrer\">code of <code>VersionedEntity</code></a> revealed that there is no setter method, but a comment</p>\n<blockquote>\n<p>// No setter! JPA takes care of this.</p>\n</blockquote>\n<p>I do understand the intention of the absence of the setter method but that is the reason for the exception.</p>\n<h2>Question</h2>\n<p>Is my architecture so poor (exposing the entity class in a web-service) or is it maybe reasonable to add a setter method although JPA should handle the value/manipulation of the <code>@Version</code>ed attribute?</p>\n<hr />\n<p><strong>Edit</strong> (as requested by the comment)</p>\n<p>My update method is basically the one in OmniPersistence' <a href=\"https://github.com/omnifaces/omnipersistence/blob/develop/src/main/java/org/omnifaces/persistence/service/BaseEntityService.java#L994\" rel=\"nofollow noreferrer\"><code>BaseEntityService</code></a>. My service class looks like the following.</p>\n<pre><code>@Stateless\npublic class CityService extends BaseEntityService&lt;Long, City&gt; {\n    public Long count() {\n        return super.createLongQuery(&quot;select count(c) from City c&quot;).getSingleResult();\n    }\n}\n</code></pre>\n<p>My controller is the REST endpoint.</p>\n<pre><code>@Path(&quot;city&quot;)\npublic class CityEndpoint {\n    @Inject\n    private CityService cityService;\n\n    @GET @Produces(MediaType.APPLICATION_JSON)\n    public Response getAll() {\n        List&lt;City&gt; cities = cityService.list();\n        return Response.ok(cities).build();\n    }\n\n    @GET @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;{id}&quot;)\n    public Response get(@PathParam(&quot;id&quot;) Long id) {\n        return Response.ok(cityService.getById(id)).build();\n    }\n\n    @POST @Consumes(MediaType.APPLICATION_JSON)\n    public Response create(City city) {\n        cityService.persist(city);\n        return Response.created(URI.create(String.format(&quot;city/%s&quot;, Objects.toString(city.getId())))).build();\n    }\n\n    @POST @Consumes(MediaType.APPLICATION_JSON)\n    @Path(&quot;update&quot;)\n    public Response update(City city) {\n        System.out.println(city);\n        City updated = cityService.update(city);\n        return Response.ok(updated).build();\n    }\n\n    @GET\n    @Path(&quot;count&quot;)\n    public Response count() {\n        return Response.ok(cityService.count()).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","testcontainers"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659335314,"post_id":73189528,"comment_id":129261368,"body_markdown":"the solution is simple: build your own image and deploy it to registry/hub.","body":"the solution is simple: build your own image and deploy it to registry/hub."},{"owner":{"account_id":25495086,"reputation":53,"user_id":19289260,"display_name":"mkobylarz"},"score":0,"creation_date":1659337006,"post_id":73189528,"comment_id":129261771,"body_markdown":"Yeah, right that is one way, but let&#39;s assume I would rather not to have to depend on any preexisting images somewhere in the infrastructure, but to be as self-contained as possible. This is why I go toward the &#39;on-the-fly&#39; solution.","body":"Yeah, right that is one way, but let&#39;s assume I would rather not to have to depend on any preexisting images somewhere in the infrastructure, but to be as self-contained as possible. This is why I go toward the &#39;on-the-fly&#39; solution."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659340114,"creation_date":1659339498,"answer_id":73190309,"question_id":73189528,"body_markdown":"I believe the solution would be:\r\n\r\n```java\r\nimport org.testcontainers.containers.PostgreSQLContainer;\r\nimport org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy;\r\nimport org.testcontainers.images.builder.ImageFromDockerfile;\r\nimport org.testcontainers.utility.DockerImageName;\r\n\r\nimport java.net.URI;\r\nimport java.nio.file.Paths;\r\nimport java.time.Duration;\r\n\r\nimport static java.time.temporal.ChronoUnit.SECONDS;\r\n\r\npublic class Demo {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // the most buggy part - need to investigate\r\n        // how to work properly with ImageFromDockerfile\r\n        URI path = Demo.class.getResource(&quot;/PostgreSQLde&quot;).toURI();\r\n        ImageFromDockerfile image = new ImageFromDockerfile()\r\n                .withDockerfile(Paths.get(path));\r\n        DockerImageName imageName = DockerImageName.parse(image.get())\r\n                .asCompatibleSubstituteFor(PostgreSQLContainer.IMAGE);\r\n        new PostgreSQLContainer&lt;&gt;(imageName)\r\n                .waitingFor(new LogMessageWaitStrategy()\r\n                        // oops\r\n                        .withRegEx(&quot;.*Datenbanksystem ist bereit, um Verbindungen anzunehmen.*\\\\s&quot;)\r\n                        .withTimes(2)\r\n                        .withStartupTimeout(Duration.of(60, SECONDS)))\r\n                .start();\r\n    }\r\n\r\n}\r\n```","title":"Use PostgreSQLContainer with image on-the-fly in testcontainers","body":"<p>I believe the solution would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.testcontainers.containers.PostgreSQLContainer;\nimport org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy;\nimport org.testcontainers.images.builder.ImageFromDockerfile;\nimport org.testcontainers.utility.DockerImageName;\n\nimport java.net.URI;\nimport java.nio.file.Paths;\nimport java.time.Duration;\n\nimport static java.time.temporal.ChronoUnit.SECONDS;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        // the most buggy part - need to investigate\n        // how to work properly with ImageFromDockerfile\n        URI path = Demo.class.getResource(&quot;/PostgreSQLde&quot;).toURI();\n        ImageFromDockerfile image = new ImageFromDockerfile()\n                .withDockerfile(Paths.get(path));\n        DockerImageName imageName = DockerImageName.parse(image.get())\n                .asCompatibleSubstituteFor(PostgreSQLContainer.IMAGE);\n        new PostgreSQLContainer&lt;&gt;(imageName)\n                .waitingFor(new LogMessageWaitStrategy()\n                        // oops\n                        .withRegEx(&quot;.*Datenbanksystem ist bereit, um Verbindungen anzunehmen.*\\\\s&quot;)\n                        .withTimes(2)\n                        .withStartupTimeout(Duration.of(60, SECONDS)))\n                .start();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25495086,"reputation":53,"user_id":19289260,"display_name":"mkobylarz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73190309,"answer_count":1,"score":0,"last_activity_date":1659340114,"creation_date":1659334864,"question_id":73189528,"body_markdown":"Goal\r\n----\r\n\r\nI want to use customized PostgreSQL image with locale support with test containers.\r\n\r\nOn postgres side\r\n---------------\r\n\r\nI prepared `Dockerfile` as described in [postgres image documentation][1]:\r\n\r\n&gt; You can extend the Debian-based images with a simple Dockerfile to set a different  locale. The following example will set the default locale to de_DE.utf8:\r\n&gt;\r\n&gt; FROM postgres:14.3\r\n&gt;\r\n&gt; RUN localedef -i de_DE -c -f UTF-8 -A /usr/share/locale/locale.alias de_DE.UTF-8\r\n&gt;\r\n&gt; ENV LANG de_DE.utf8\r\n\r\nSo essentially nothing changes in the way this image works, but has some more capabilities in terms of locale support.\r\n\r\nOn testcontainers side\r\n----------------------\r\n\r\nI wanted to use it as described in [testcontainers documentation][2]:\r\n\r\n&gt; Simply pass a configured instance of ImageFromDockerfile as a constructor parameter to GenericContainer. Testcontainers will docker build a temporary container image, and will use it when creating the container.\r\n\r\n    public GenericContainer dslContainer = new GenericContainer(\r\n    new ImageFromDockerfile()\r\n            .withFileFromString(&quot;folder/someFile.txt&quot;, &quot;hello&quot;)\r\n            .withFileFromClasspath(&quot;test.txt&quot;, &quot;mappable-resource/test-resource.txt&quot;)\r\n            .withFileFromClasspath(&quot;Dockerfile&quot;, &quot;mappable-dockerfile/Dockerfile&quot;))\r\n\r\n\r\nProblem\r\n-------\r\n\r\nIn examples above testcontainers uses `GenericContainer`. `GenericContainer` exposes constructor `public GenericContainer(final Future&lt;String&gt; image)`, what allows it to be used with `ImageFromDockerfile`. Sadly `PostgreSQLContainer` does not provide such constructor but **I still want to use this class because it has several internal setups** to support postgres well. There are two constructors in `PostgreSQLContainer` but they only accept image name. \r\n\r\nOnly solution I could think of was to essentially make a local copy of original `PostgreSQLContainer` and add missing constructor. That seems to work fine but it is a dirty hack for obvious reasons. \r\n\r\nQuestion\r\n--------\r\n\r\nMy question is: am I missing some other way to accomplish the task with tools testcontainers provide? Or is it an area of improvement to add such public constructor in testcontainers?\r\n\r\n  [1]: https://hub.docker.com/_/postgres/\r\n  [2]: https://www.testcontainers.org/features/creating_images/","title":"Use PostgreSQLContainer with image on-the-fly in testcontainers","body":"<h2>Goal</h2>\n<p>I want to use customized PostgreSQL image with locale support with test containers.</p>\n<h2>On postgres side</h2>\n<p>I prepared <code>Dockerfile</code> as described in <a href=\"https://hub.docker.com/_/postgres/\" rel=\"nofollow noreferrer\">postgres image documentation</a>:</p>\n<blockquote>\n<p>You can extend the Debian-based images with a simple Dockerfile to set a different  locale. The following example will set the default locale to de_DE.utf8:</p>\n<p>FROM postgres:14.3</p>\n<p>RUN localedef -i de_DE -c -f UTF-8 -A /usr/share/locale/locale.alias de_DE.UTF-8</p>\n<p>ENV LANG de_DE.utf8</p>\n</blockquote>\n<p>So essentially nothing changes in the way this image works, but has some more capabilities in terms of locale support.</p>\n<h2>On testcontainers side</h2>\n<p>I wanted to use it as described in <a href=\"https://www.testcontainers.org/features/creating_images/\" rel=\"nofollow noreferrer\">testcontainers documentation</a>:</p>\n<blockquote>\n<p>Simply pass a configured instance of ImageFromDockerfile as a constructor parameter to GenericContainer. Testcontainers will docker build a temporary container image, and will use it when creating the container.</p>\n</blockquote>\n<pre><code>public GenericContainer dslContainer = new GenericContainer(\nnew ImageFromDockerfile()\n        .withFileFromString(&quot;folder/someFile.txt&quot;, &quot;hello&quot;)\n        .withFileFromClasspath(&quot;test.txt&quot;, &quot;mappable-resource/test-resource.txt&quot;)\n        .withFileFromClasspath(&quot;Dockerfile&quot;, &quot;mappable-dockerfile/Dockerfile&quot;))\n</code></pre>\n<h2>Problem</h2>\n<p>In examples above testcontainers uses <code>GenericContainer</code>. <code>GenericContainer</code> exposes constructor <code>public GenericContainer(final Future&lt;String&gt; image)</code>, what allows it to be used with <code>ImageFromDockerfile</code>. Sadly <code>PostgreSQLContainer</code> does not provide such constructor but <strong>I still want to use this class because it has several internal setups</strong> to support postgres well. There are two constructors in <code>PostgreSQLContainer</code> but they only accept image name.</p>\n<p>Only solution I could think of was to essentially make a local copy of original <code>PostgreSQLContainer</code> and add missing constructor. That seems to work fine but it is a dirty hack for obvious reasons.</p>\n<h2>Question</h2>\n<p>My question is: am I missing some other way to accomplish the task with tools testcontainers provide? Or is it an area of improvement to add such public constructor in testcontainers?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1659338869,"post_id":73190105,"comment_id":129262323,"body_markdown":"What exactly is wrong with that output? What is the expect values for the node?","body":"What exactly is wrong with that output? What is the expect values for the node?"},{"owner":{"account_id":25891896,"reputation":1,"user_id":19619164,"display_name":"nzhenzzz"},"score":0,"creation_date":1659339078,"post_id":73190105,"comment_id":129262377,"body_markdown":"???  have you ever tried it in your environment?   it should return &quot;12345&quot;, and it does return &quot;12345&quot; in run mode and debug mode without break point. But it return &quot;1&quot; in debug mode with break point. I attached debug screenshot above. Hope not confuse you.","body":"???  have you ever tried it in your environment?   it should return &quot;12345&quot;, and it does return &quot;12345&quot; in run mode and debug mode without break point. But it return &quot;1&quot; in debug mode with break point. I attached debug screenshot above. Hope not confuse you."},{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":3,"creation_date":1659339255,"post_id":73190105,"comment_id":129262434,"body_markdown":"You are changing the node&#39;s actual link in the toString, you should use a new variable so you actually save the links","body":"You are changing the node&#39;s actual link in the toString, you should use a new variable so you actually save the links"}],"answers":[{"tags":[],"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659339567,"creation_date":1659339567,"answer_id":73190321,"question_id":73190105,"body_markdown":"You break your link within the ListNode toString since you change the nodes link, which will make it eventually be just `null` and only be able to fetch it&#39;s own value.\r\n\r\nIntroducing a variable to store the link will keep the original value.\r\n\r\n```java\r\nclass ListNode {\r\n    int val;\r\n    ListNode next;\r\n    public ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String s = &quot;&quot; + val;\r\n        ListNode curr = this.next;\r\n        while(curr != null){\r\n            s = s + curr.val;\r\n            curr = curr.next;\r\n        }\r\n        return s;\r\n    }\r\n}\r\n```","title":"different result in debug and run mode in a simple Java program","body":"<p>You break your link within the ListNode toString since you change the nodes link, which will make it eventually be just <code>null</code> and only be able to fetch it's own value.</p>\n<p>Introducing a variable to store the link will keep the original value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ListNode {\n    int val;\n    ListNode next;\n    public ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n\n    @Override\n    public String toString() {\n        String s = &quot;&quot; + val;\n        ListNode curr = this.next;\n        while(curr != null){\n            s = s + curr.val;\n            curr = curr.next;\n        }\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23363710,"reputation":23,"user_id":17435560,"display_name":"Cells"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659339998,"creation_date":1659339998,"answer_id":73190399,"question_id":73190105,"body_markdown":"IDEA will call the `toString()` method when debugging, and will not enter the breakpoint.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b52oK.png","title":"different result in debug and run mode in a simple Java program","body":"<p>IDEA will call the <code>toString()</code> method when debugging, and will not enter the breakpoint.</p>\n<p><a href=\"https://i.stack.imgur.com/b52oK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":25891896,"reputation":1,"user_id":19619164,"display_name":"nzhenzzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73190321,"answer_count":2,"score":-2,"last_activity_date":1659339998,"creation_date":1659338540,"question_id":73190105,"body_markdown":"I have to ask this confused question again.\r\nMy simple program is listed below:\r\n```\r\npublic class App {\r\n    public static void main(String[] args){\r\n        ListNode target = init(new int[]{1,2,3,4,5});\r\n        System.out.println(target);\r\n    }\r\n\r\n    public static ListNode init(int[] value){\r\n        ListNode tail = null;\r\n        ListNode head = null;\r\n        for(int i=value.length-1; i&gt;=0; i--){\r\n            head = new ListNode(value[i], tail);\r\n            tail = head;\r\n        }\r\n        return head;\r\n    } \r\n}\r\n\r\n\r\nclass ListNode {\r\n    int val;\r\n    ListNode next;\r\n    public ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String s = &quot;&quot; + val;\r\n        while(this.next != null){\r\n            s = s + this.next.val;\r\n            this.next = this.next.next;\r\n        }\r\n        return s;\r\n    }\r\n}\r\n```\r\nI use JDK Temurin 17.0.4\r\nWhen I use run in the IDE, it returns correctly.\r\nWhen I use debug without any break point, it returns correctly.\r\nBut when I use debug with the break point, the result is not correct. \r\nMy program is just as simple as this, without any multi-threads features. \r\nAt the beginning, I thought it was the IDE behavior.\r\nBut I tried in both VSCode and IDEA, got the same results.\r\n[![debug in vscode][1]][1][![debug in idea][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/5JBgE.png\r\n  [2]: https://i.stack.imgur.com/QeThy.png\r\n\r\nNot sure if the information I provided is sufficient to raise a question in stackoverflow, if anything more I have to add, pls let me know, I will add anything I have, as long as this one won&#39;t be treated as simple and stupid question and was deleted as last time..:)\r\n\r\nAny help will be appreciated.\r\nThanks.","title":"different result in debug and run mode in a simple Java program","body":"<p>I have to ask this confused question again.\nMy simple program is listed below:</p>\n<pre><code>public class App {\n    public static void main(String[] args){\n        ListNode target = init(new int[]{1,2,3,4,5});\n        System.out.println(target);\n    }\n\n    public static ListNode init(int[] value){\n        ListNode tail = null;\n        ListNode head = null;\n        for(int i=value.length-1; i&gt;=0; i--){\n            head = new ListNode(value[i], tail);\n            tail = head;\n        }\n        return head;\n    } \n}\n\n\nclass ListNode {\n    int val;\n    ListNode next;\n    public ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n\n    @Override\n    public String toString() {\n        String s = &quot;&quot; + val;\n        while(this.next != null){\n            s = s + this.next.val;\n            this.next = this.next.next;\n        }\n        return s;\n    }\n}\n</code></pre>\n<p>I use JDK Temurin 17.0.4\nWhen I use run in the IDE, it returns correctly.\nWhen I use debug without any break point, it returns correctly.\nBut when I use debug with the break point, the result is not correct.\nMy program is just as simple as this, without any multi-threads features.\nAt the beginning, I thought it was the IDE behavior.\nBut I tried in both VSCode and IDEA, got the same results.\n<a href=\"https://i.stack.imgur.com/5JBgE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5JBgE.png\" alt=\"debug in vscode\" /></a><a href=\"https://i.stack.imgur.com/QeThy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QeThy.png\" alt=\"debug in idea\" /></a></p>\n<p>Not sure if the information I provided is sufficient to raise a question in stackoverflow, if anything more I have to add, pls let me know, I will add anything I have, as long as this one won't be treated as simple and stupid question and was deleted as last time..:)</p>\n<p>Any help will be appreciated.\nThanks.</p>\n"},{"tags":["java","android","android-service"],"answers":[{"tags":[],"owner":{"account_id":1791757,"reputation":22216,"user_id":1631967,"display_name":"aminography"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601271854,"creation_date":1601271854,"answer_id":64096535,"question_id":64094922,"body_markdown":"Here is some description why `startService` and `bindService` could be used together:\r\n\r\nhttps://developer.android.com/guide/components/bound-services#bind-started-service\r\n\r\nIt says:\r\n\r\n&gt; As discussed in the Services document, you can create a service that is both started and bound. That is, you can start a service by calling `startService()`, which allows the service to run indefinitely, and you can also allow a client to bind to the service by calling `bindService()`.\r\n\r\nAfter that:\r\n\r\n&gt; Although you usually implement either `onBind()` or `onStartCommand()`, it&#39;s sometimes necessary to implement both. For example, a music player might find it useful to allow its service to run indefinitely and also provide binding. This way, an activity can start the service to play some music and the music continues to play even if the user leaves the application. Then, when the user returns to the application, the activity can bind to the service to regain control of playback.","title":"Why is a service launched with both startService and bindService in Android Studio?","body":"<p>Here is some description why <code>startService</code> and <code>bindService</code> could be used together:</p>\n<p><a href=\"https://developer.android.com/guide/components/bound-services#bind-started-service\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/bound-services#bind-started-service</a></p>\n<p>It says:</p>\n<blockquote>\n<p>As discussed in the Services document, you can create a service that is both started and bound. That is, you can start a service by calling <code>startService()</code>, which allows the service to run indefinitely, and you can also allow a client to bind to the service by calling <code>bindService()</code>.</p>\n</blockquote>\n<p>After that:</p>\n<blockquote>\n<p>Although you usually implement either <code>onBind()</code> or <code>onStartCommand()</code>, it's sometimes necessary to implement both. For example, a music player might find it useful to allow its service to run indefinitely and also provide binding. This way, an activity can start the service to play some music and the music continues to play even if the user leaves the application. Then, when the user returns to the application, the activity can bind to the service to regain control of playback.</p>\n</blockquote>\n"}],"owner":{"account_id":439749,"reputation":1013,"user_id":828896,"accept_rate":76,"display_name":"HelloCW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64096535,"answer_count":1,"score":2,"last_activity_date":1659339882,"creation_date":1601257251,"question_id":64094922,"body_markdown":"The following code is from the [project][1].\r\n\r\nIn my mind, a service is launched using either `startService` or `bindService`.\r\n\r\nBut the following code use both `startService` and `bindService`, why?\r\n\r\n\r\n    public class RecordViewModel extends AndroidViewModel {\r\n    \r\n        public void connectService(Intent intent) {\r\n            getApplication().startService(intent);\r\n            getApplication().bindService(intent, serviceConnection, BIND_AUTO_CREATE);\r\n        }\r\n        \r\n        ...\r\n    }\r\n       \r\n    \r\n    public class RecordingService extends Service {\r\n    \r\n        public class LocalBinder extends Binder {\r\n            public RecordingService getService() {\r\n                return RecordingService.this;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return myBinder;\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            onStartCommandCalls++;\r\n            return START_NOT_STICKY;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\n  [1]: https://github.com/ranjithnaidu/AudioRecorder\r\n\r\n","title":"Why is a service launched with both startService and bindService in Android Studio?","body":"<p>The following code is from the <a href=\"https://github.com/ranjithnaidu/AudioRecorder\" rel=\"nofollow noreferrer\">project</a>.</p>\n<p>In my mind, a service is launched using either <code>startService</code> or <code>bindService</code>.</p>\n<p>But the following code use both <code>startService</code> and <code>bindService</code>, why?</p>\n<pre><code>public class RecordViewModel extends AndroidViewModel {\n\n    public void connectService(Intent intent) {\n        getApplication().startService(intent);\n        getApplication().bindService(intent, serviceConnection, BIND_AUTO_CREATE);\n    }\n    \n    ...\n}\n   \n\npublic class RecordingService extends Service {\n\n    public class LocalBinder extends Binder {\n        public RecordingService getService() {\n            return RecordingService.this;\n        }\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return myBinder;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        onStartCommandCalls++;\n        return START_NOT_STICKY;\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":["java","forms","liferay-7"],"owner":{"account_id":25471007,"reputation":13,"user_id":19269185,"display_name":"Pog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659339836,"creation_date":1659339781,"question_id":73190352,"body_markdown":"I have NullPointerExeption when i try to save a Form with grid like this:\r\n\r\n\r\n  [grid][1]\r\n\r\nBut only when i do not check all the rows. Below is the code for saving the form:\r\n\r\n    DDMFormValues ddmFormValues = null;\r\n        try {\r\n            ddmFormValues = _ddmFormValuesFactory.create(actionRequest, latestStructureVersion.getDDMForm());\r\n        }catch(Exception e){\r\n            addPortalExceptionErrorAndLog(actionRequest, String.format(&quot;The values in Form Instance named %s cannot be fully extract. It seems that some value needs to be filled.&quot;, formName));\r\n            return Optional.empty();\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U3rGE.png","title":"Saving Liferay Form","body":"<p>I have NullPointerExeption when i try to save a Form with grid like this:</p>\n<p><a href=\"https://i.stack.imgur.com/U3rGE.png\" rel=\"nofollow noreferrer\">grid</a></p>\n<p>But only when i do not check all the rows. Below is the code for saving the form:</p>\n<pre><code>DDMFormValues ddmFormValues = null;\n    try {\n        ddmFormValues = _ddmFormValuesFactory.create(actionRequest, latestStructureVersion.getDDMForm());\n    }catch(Exception e){\n        addPortalExceptionErrorAndLog(actionRequest, String.format(&quot;The values in Form Instance named %s cannot be fully extract. It seems that some value needs to be filled.&quot;, formName));\n        return Optional.empty();\n    }\n</code></pre>\n"},{"tags":["java","design-patterns","code-generation","compilation"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":3,"creation_date":1284364541,"post_id":3698645,"comment_id":3899414,"body_markdown":"You could always try to compile the code...","body":"You could always try to compile the code..."},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":4,"creation_date":1284364551,"post_id":3698645,"comment_id":3899417,"body_markdown":"What&#39;s wrong with using `javac` for the first 2 bullet points?","body":"What&#39;s wrong with using <code>javac</code> for the first 2 bullet points?"},{"owner":{"account_id":100826,"reputation":3491,"user_id":271586,"accept_rate":75,"display_name":"Pran"},"score":0,"creation_date":1284365347,"post_id":3698645,"comment_id":3899497,"body_markdown":"umm.. nothing is wrong with it. I never taught of compiling java code from java. I&#39;ll do some googling on it. thanks.","body":"umm.. nothing is wrong with it. I never taught of compiling java code from java. I&#39;ll do some googling on it. thanks."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1284365730,"post_id":3698645,"comment_id":3899540,"body_markdown":"You have to google about the compiler?","body":"You have to google about the compiler?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1636375555,"creation_date":1284366506,"answer_id":3698815,"question_id":3698645,"body_markdown":"&gt; * Is there any facility to test if the Java code contains errors?\r\n&gt;\r\n&gt; * Is there any facility to determine if the Java file will compile?\r\n&gt;\r\n&gt; * Is there a strategy that I should use for this kind of situation?\r\n\r\nYes - compile the file with the Java compiler.\r\n\r\nNote that you can call the Java compiler at runtime, either by using `Runtime.exec(...)` or the the `JavaCompiler` API.  The latter approach is described in:\r\n\r\n  - https://stackoverflow.com/questions/2946338 \r\n\r\nand there are lots of other resources on the subject.\r\n\r\nHowever, your primary goal seems to be to *check* that your generators are generating correct Java code; e.g. as part of your application tests.  For that, it would be simplest to off-load the problem to a shell script that uses `javac` to the compile the code with an appropriate classpath, checks the compiler&#39;s return code, and greps the compiler output for error and warning messages.\r\n\r\nBut ... as you are probably aware ... simply compiling the generated code doesn&#39;t guarantee that it will be correct.\r\n\r\n-----------------\r\n\r\n&gt; I was thinking of using `Class` class to get information about the class.  \r\n\r\nThat won&#39;t help.  The `Class` class is only relevant for classes that have been successfully compiled and successfully loaded by the JVM.  And even then it doesn&#39;t tell you if there were syntax (or other) errors in the original code.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jcomp/index.html","title":"How to validate generated Java code&#39;s syntax?","body":"<blockquote>\n<ul>\n<li><p>Is there any facility to test if the Java code contains errors?</p>\n</li>\n<li><p>Is there any facility to determine if the Java file will compile?</p>\n</li>\n<li><p>Is there a strategy that I should use for this kind of situation?</p>\n</li>\n</ul>\n</blockquote>\n<p>Yes - compile the file with the Java compiler.</p>\n<p>Note that you can call the Java compiler at runtime, either by using <code>Runtime.exec(...)</code> or the the <code>JavaCompiler</code> API.  The latter approach is described in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2946338\">How do I programmatically compile and instantiate a Java class?</a></li>\n</ul>\n<p>and there are lots of other resources on the subject.</p>\n<p>However, your primary goal seems to be to <em>check</em> that your generators are generating correct Java code; e.g. as part of your application tests.  For that, it would be simplest to off-load the problem to a shell script that uses <code>javac</code> to the compile the code with an appropriate classpath, checks the compiler's return code, and greps the compiler output for error and warning messages.</p>\n<p>But ... as you are probably aware ... simply compiling the generated code doesn't guarantee that it will be correct.</p>\n<hr />\n<blockquote>\n<p>I was thinking of using <code>Class</code> class to get information about the class.</p>\n</blockquote>\n<p>That won't help.  The <code>Class</code> class is only relevant for classes that have been successfully compiled and successfully loaded by the JVM.  And even then it doesn't tell you if there were syntax (or other) errors in the original code.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1284366756,"creation_date":1284366756,"answer_id":3698833,"question_id":3698645,"body_markdown":"Java 6 introduced the Compiler API. This can be used to to compile Java code without calling an external compiler. Here&#39;s a short [introduction][1].\r\n\r\n\r\n  [1]: http://juixe.com/techknow/index.php/2006/12/13/java-se-6-compiler-api/","title":"How to validate generated Java code&#39;s syntax?","body":"<p>Java 6 introduced the Compiler API. This can be used to to compile Java code without calling an external compiler. Here's a short <a href=\"http://juixe.com/techknow/index.php/2006/12/13/java-se-6-compiler-api/\" rel=\"nofollow noreferrer\">introduction</a>.</p>\n"}],"owner":{"account_id":100826,"reputation":3491,"user_id":271586,"accept_rate":75,"display_name":"Pran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3698815,"answer_count":2,"score":1,"last_activity_date":1659339739,"creation_date":1284364436,"question_id":3698645,"body_markdown":"I made a little app to generate Java test classes based on certain set of information. Basically, I am generating the boilerplate code needed for a library that we are using. \r\n\r\nI would like to test the generated code in better way than just comparing the output to an expected string.\r\n\r\n- Is there any facility to test if the Java code contains errors?\r\n- Is there any facility to determine if the Java file will compile?\r\n- Is there a strategy that I should use for this kind of situation (I was thinking of using Class class to get information about the class)?\r\n\r\n\r\n\r\n","title":"How to validate generated Java code&#39;s syntax?","body":"<p>I made a little app to generate Java test classes based on certain set of information. Basically, I am generating the boilerplate code needed for a library that we are using. </p>\n\n<p>I would like to test the generated code in better way than just comparing the output to an expected string.</p>\n\n<ul>\n<li>Is there any facility to test if the Java code contains errors?</li>\n<li>Is there any facility to determine if the Java file will compile?</li>\n<li>Is there a strategy that I should use for this kind of situation (I was thinking of using Class class to get information about the class)?</li>\n</ul>\n"},{"tags":["java","generics","type-parameter"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1658908628,"post_id":73133704,"comment_id":129165853,"body_markdown":"&quot;The compare method should receive two arguments of differing data types&quot; why? K and V are placeholders for K and V respectively. Nothing else. Unclear what you&#39;re asking.","body":"&quot;The compare method should receive two arguments of differing data types&quot; why? K and V are placeholders for K and V respectively. Nothing else. Unclear what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658907201,"creation_date":1658907201,"answer_id":73133884,"question_id":73133704,"body_markdown":"It&#39;s hard to understand what exactly you&#39;re asking and what exactly you are confused about; I&#39;ll try answering your questions anyway.\r\n\r\nType parameters are placeholders for actual types, no matter whether you use them on a class or on a method. Note that this is exactly the same idea as with regular value parameters: they are placeholders for actual values that you supply when you call a method.\r\n\r\n    public static &lt;K, V&gt; boolean compare(Pair&lt;K, V&gt; p1, Pair&lt;K, V&gt; p2)\r\n\r\nThis is a method with two type parameters, `K` and `V`, and two value parameters, `p1` and `p2`.\r\n\r\nWhen you call this method, you&#39;ll have to specify actual types for the type parameters, and actual values for the value parameters. In other words: you&#39;ll have to specify what types `K` and `V` are and you&#39;ll have to pass two instances of class `Pair` for `p1` and `p2`.\r\n\r\nThe type parameters are &quot;passed&quot; to the type `Pair` in this example. So, the declaration of method `compare` means: I have a method named `compare` which takes two `Pair` objects with type parameters `K` and `V`. Instead of specifying actual, concrete types, I leave those as parameters. By doing this, you can call `compare` with any `Pair` with specific types for `K` and `V`.\r\n\r\nFor example, you can call `compare` with two `Pair&lt;Integer, String&gt;` objects. Or two `Pair&lt;BigDecimal, Long&gt;` objects, etc.\r\n\r\n&gt; Are they placeholders for individual arguments passed into the method? \r\n\r\nThey are placeholders for types, just like regular parameters are placeholders for values.\r\n\r\n&gt; Are they placeholders for type parameters passed to the actual object-type arguments passed into the method(i.e. Pair&lt;K, V&gt; //I view this as one unique type: class Pair&lt;K, V&gt; that receives two unique type parameters, K and V)?\r\n\r\nYes... (if I understand your question correctly). The method signature means that the method takes two `Pair&lt;K, V&gt;` objects, where you leave specifying the actual types to use for `K` and `V` to the caller of the method.\r\n\r\n&gt; Or do generic methods require a unique type parameter for every variable they access whether they are passed as arguments to the method or arguments to an object, which is then passed into the method?\r\n\r\nI don&#39;t understand what you mean by this question.\r\n","title":"In java, what is the exact meaning of each type parameter of a generic method in a type introduction?","body":"<p>It's hard to understand what exactly you're asking and what exactly you are confused about; I'll try answering your questions anyway.</p>\n<p>Type parameters are placeholders for actual types, no matter whether you use them on a class or on a method. Note that this is exactly the same idea as with regular value parameters: they are placeholders for actual values that you supply when you call a method.</p>\n<pre><code>public static &lt;K, V&gt; boolean compare(Pair&lt;K, V&gt; p1, Pair&lt;K, V&gt; p2)\n</code></pre>\n<p>This is a method with two type parameters, <code>K</code> and <code>V</code>, and two value parameters, <code>p1</code> and <code>p2</code>.</p>\n<p>When you call this method, you'll have to specify actual types for the type parameters, and actual values for the value parameters. In other words: you'll have to specify what types <code>K</code> and <code>V</code> are and you'll have to pass two instances of class <code>Pair</code> for <code>p1</code> and <code>p2</code>.</p>\n<p>The type parameters are &quot;passed&quot; to the type <code>Pair</code> in this example. So, the declaration of method <code>compare</code> means: I have a method named <code>compare</code> which takes two <code>Pair</code> objects with type parameters <code>K</code> and <code>V</code>. Instead of specifying actual, concrete types, I leave those as parameters. By doing this, you can call <code>compare</code> with any <code>Pair</code> with specific types for <code>K</code> and <code>V</code>.</p>\n<p>For example, you can call <code>compare</code> with two <code>Pair&lt;Integer, String&gt;</code> objects. Or two <code>Pair&lt;BigDecimal, Long&gt;</code> objects, etc.</p>\n<blockquote>\n<p>Are they placeholders for individual arguments passed into the method?</p>\n</blockquote>\n<p>They are placeholders for types, just like regular parameters are placeholders for values.</p>\n<blockquote>\n<p>Are they placeholders for type parameters passed to the actual object-type arguments passed into the method(i.e. Pair&lt;K, V&gt; //I view this as one unique type: class Pair&lt;K, V&gt; that receives two unique type parameters, K and V)?</p>\n</blockquote>\n<p>Yes... (if I understand your question correctly). The method signature means that the method takes two <code>Pair&lt;K, V&gt;</code> objects, where you leave specifying the actual types to use for <code>K</code> and <code>V</code> to the caller of the method.</p>\n<blockquote>\n<p>Or do generic methods require a unique type parameter for every variable they access whether they are passed as arguments to the method or arguments to an object, which is then passed into the method?</p>\n</blockquote>\n<p>I don't understand what you mean by this question.</p>\n"},{"tags":[],"owner":{"account_id":12182703,"reputation":65,"user_id":8893685,"display_name":"bkomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658907410,"creation_date":1658907410,"answer_id":73133919,"question_id":73133704,"body_markdown":"I works, because compiler does something called type erasure. Basically, during compilation compiler translates generics into non-generic code.\r\nHere are docs explaining it in details: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"In java, what is the exact meaning of each type parameter of a generic method in a type introduction?","body":"<p>I works, because compiler does something called type erasure. Basically, during compilation compiler translates generics into non-generic code.\nHere are docs explaining it in details: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/erasure.html</a></p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659339629,"creation_date":1659339629,"answer_id":73190329,"question_id":73133704,"body_markdown":"First of all, when you say,\r\n\r\n&gt; When we define a generic class, in the type introduction, each type\r\n&gt; parameter acts as a placeholder for each unique type that will be\r\n&gt; passed to either the class initializer or a class method.\r\n\r\nThat is not true. The type variables do not have to be in types that are passed to a constructor or method. It&#39;s perfectly valid for the type variables to not be used in the declaration of any constructor or method at all (though they would be pretty useless in that case), or used only in a return type (rare), or the type could be embedded in a more complicated type that is used in a constructor or method. For example, it&#39;s perfectly reasonable for your generic class `BoxA&lt;T, S&gt;` to have a constructor\r\n\r\n    public BoxA(Pair&lt;T, S&gt; p1, Pair&lt;T, S&gt; p2) {\r\n        // ...\r\n    }\r\n\r\nA generic class promises that (and the compiler checks that) the class works correctly no matter what types are substituted for the type variables, and in fact the class instance doesn&#39;t need to know what the type argument is; it is guaranteed that the same code works for all types in the bounds. Similarly, a generic method is a method which has some type variables that are specific to that method itself, and not associated with the type variables of the class instance. It promises that (and the compiler checks that) the method works correctly no matter what types are substituted for the type variables, and the method doesn&#39;t need to know what the type argument is.\r\n\r\nWhen you create an instance of a generic class, you do `new BoxA&lt;Something, SomethingElse&gt;()`, or you use a diamond operator (`new BoxA&lt;&gt;()`), and the context must be such that the compiler can infer the type arguments. When you call a generic method, you can also explicitly specify the type arguments: `Util.&lt;String, Integer&gt;compare(pair1, pair2)`. However, 99% of the time, you would just write `Util.compare(pair1, pair2)`, and the compiler infers it for you (i.e. it verifies that there exists some choice of type arguments that makes the code valid). That is one of the cool things about generic methods. In rare cases, the inference will produce something that does not compile, and you have to explicitly specify the type arguments.","title":"In java, what is the exact meaning of each type parameter of a generic method in a type introduction?","body":"<p>First of all, when you say,</p>\n<blockquote>\n<p>When we define a generic class, in the type introduction, each type\nparameter acts as a placeholder for each unique type that will be\npassed to either the class initializer or a class method.</p>\n</blockquote>\n<p>That is not true. The type variables do not have to be in types that are passed to a constructor or method. It's perfectly valid for the type variables to not be used in the declaration of any constructor or method at all (though they would be pretty useless in that case), or used only in a return type (rare), or the type could be embedded in a more complicated type that is used in a constructor or method. For example, it's perfectly reasonable for your generic class <code>BoxA&lt;T, S&gt;</code> to have a constructor</p>\n<pre><code>public BoxA(Pair&lt;T, S&gt; p1, Pair&lt;T, S&gt; p2) {\n    // ...\n}\n</code></pre>\n<p>A generic class promises that (and the compiler checks that) the class works correctly no matter what types are substituted for the type variables, and in fact the class instance doesn't need to know what the type argument is; it is guaranteed that the same code works for all types in the bounds. Similarly, a generic method is a method which has some type variables that are specific to that method itself, and not associated with the type variables of the class instance. It promises that (and the compiler checks that) the method works correctly no matter what types are substituted for the type variables, and the method doesn't need to know what the type argument is.</p>\n<p>When you create an instance of a generic class, you do <code>new BoxA&lt;Something, SomethingElse&gt;()</code>, or you use a diamond operator (<code>new BoxA&lt;&gt;()</code>), and the context must be such that the compiler can infer the type arguments. When you call a generic method, you can also explicitly specify the type arguments: <code>Util.&lt;String, Integer&gt;compare(pair1, pair2)</code>. However, 99% of the time, you would just write <code>Util.compare(pair1, pair2)</code>, and the compiler infers it for you (i.e. it verifies that there exists some choice of type arguments that makes the code valid). That is one of the cool things about generic methods. In rare cases, the inference will produce something that does not compile, and you have to explicitly specify the type arguments.</p>\n"}],"owner":{"account_id":24888885,"reputation":31,"user_id":18761130,"display_name":"rasputin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73133884,"answer_count":3,"score":0,"last_activity_date":1659339629,"creation_date":1658906139,"question_id":73133704,"body_markdown":"When we define a generic class, in the type introduction, each type parameter acts as a placeholder for each unique type that will be passed to either the class initializer or a class method. This means I must pass at least two different data types to the `BoxA` class, defined below.\r\n```\r\nclass BoxA&lt;T, S&gt; {\r\n    private T t;\r\n    private S s;\r\n\r\n    public void add(T t, S s) {\r\n        this.t = t;\r\n        this.s = s;\r\n    }\r\n\r\n    public T getFirst() {\r\n        return t;\r\n    }\r\n\r\n    public S getSecond() {\r\n        return s;\r\n    }\r\n}\r\n```\r\nI have a very difficult time understanding exactly what type parameters mean for generic methods, because they act differently from generic class type parameters for type introduction. For instance:\r\n```\r\nclass Util {\r\n    public static &lt;K, V&gt; boolean compare(Pair&lt;K, V&gt; p1, Pair&lt;K, V&gt; p2) {\r\n        return p1.getKey().equals(p2.getKey()) &amp;&amp;\r\n                p1.getValue().equals(p2.getValue());\r\n    }\r\n}\r\n\r\nclass Pair&lt;K, V&gt; {\r\n\r\n    private K key;\r\n    private V value;\r\n\r\n    public Pair(K key, V value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public void setKey(K key) { this.key = key; }\r\n    public void setValue(V value) { this.value = value; }\r\n    public K getKey()   { return key; }\r\n    public V getValue() { return value; }\r\n}\r\n```\r\nI have no idea why the code above works, because if type parameters assume the same role as placeholders as they do for generic class definitions, then the compare method should receive two arguments of differing data types. Instead, each of them receives an argument of type `Pair&lt;K, V&gt;` which is also a generic class. What I find difficult to understand is the specific role of `K` and `V` within `public static &lt;K, V&gt; boolean compare(){}`. Are they placeholders for individual types of arguments passed into the method? Are they placeholders for type parameters passed to the actual object-type arguments, which is then passed into the method (i.e. `Pair&lt;K, V&gt;`: I view this as one unique type: `class Pair&lt;K, V&gt;` that receives two unique type parameters, `K` and `V`)? Or do generic methods require a unique type parameter for every variable they access whether they are passed as arguments to the method or arguments to an object, which is then passed into the method?","title":"In java, what is the exact meaning of each type parameter of a generic method in a type introduction?","body":"<p>When we define a generic class, in the type introduction, each type parameter acts as a placeholder for each unique type that will be passed to either the class initializer or a class method. This means I must pass at least two different data types to the <code>BoxA</code> class, defined below.</p>\n<pre><code>class BoxA&lt;T, S&gt; {\n    private T t;\n    private S s;\n\n    public void add(T t, S s) {\n        this.t = t;\n        this.s = s;\n    }\n\n    public T getFirst() {\n        return t;\n    }\n\n    public S getSecond() {\n        return s;\n    }\n}\n</code></pre>\n<p>I have a very difficult time understanding exactly what type parameters mean for generic methods, because they act differently from generic class type parameters for type introduction. For instance:</p>\n<pre><code>class Util {\n    public static &lt;K, V&gt; boolean compare(Pair&lt;K, V&gt; p1, Pair&lt;K, V&gt; p2) {\n        return p1.getKey().equals(p2.getKey()) &amp;&amp;\n                p1.getValue().equals(p2.getValue());\n    }\n}\n\nclass Pair&lt;K, V&gt; {\n\n    private K key;\n    private V value;\n\n    public Pair(K key, V value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public void setKey(K key) { this.key = key; }\n    public void setValue(V value) { this.value = value; }\n    public K getKey()   { return key; }\n    public V getValue() { return value; }\n}\n</code></pre>\n<p>I have no idea why the code above works, because if type parameters assume the same role as placeholders as they do for generic class definitions, then the compare method should receive two arguments of differing data types. Instead, each of them receives an argument of type <code>Pair&lt;K, V&gt;</code> which is also a generic class. What I find difficult to understand is the specific role of <code>K</code> and <code>V</code> within <code>public static &lt;K, V&gt; boolean compare(){}</code>. Are they placeholders for individual types of arguments passed into the method? Are they placeholders for type parameters passed to the actual object-type arguments, which is then passed into the method (i.e. <code>Pair&lt;K, V&gt;</code>: I view this as one unique type: <code>class Pair&lt;K, V&gt;</code> that receives two unique type parameters, <code>K</code> and <code>V</code>)? Or do generic methods require a unique type parameter for every variable they access whether they are passed as arguments to the method or arguments to an object, which is then passed into the method?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1659336685,"post_id":73189623,"comment_id":129261688,"body_markdown":"You could try to use a `referrer` (since API 22) as mentioned in [this answer to a similar question](https://stackoverflow.com/a/67552933/1712135)","body":"You could try to use a <code>referrer</code> (since API 22) as mentioned in <a href=\"https://stackoverflow.com/a/67552933/1712135\">this answer to a similar question</a>"},{"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"score":0,"creation_date":1659338434,"post_id":73189623,"comment_id":129262204,"body_markdown":"@deHaar I have updated my question, can u please suggest a solution for this, I am trying to access it inside a service and there is no getReferrer functionality available in there.","body":"@deHaar I have updated my question, can u please suggest a solution for this, I am trying to access it inside a service and there is no getReferrer functionality available in there."},{"owner":{"account_id":2130100,"reputation":5379,"user_id":1891118,"accept_rate":100,"display_name":"Oleksii K."},"score":0,"creation_date":1659338634,"post_id":73189623,"comment_id":129262263,"body_markdown":"Are you an owner of both apps?","body":"Are you an owner of both apps?"},{"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"score":0,"creation_date":1659339012,"post_id":73189623,"comment_id":129262359,"body_markdown":"@OleksiiK. , I own only App B, I need package name of caller(App A) for security purposes","body":"@OleksiiK. , I own only App B, I need package name of caller(App A) for security purposes"}],"answers":[{"tags":[],"owner":{"account_id":17262789,"reputation":1044,"user_id":12500284,"display_name":"Alireza Barakati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659339380,"creation_date":1659339380,"answer_id":73190285,"question_id":73189623,"body_markdown":"If you are using AIDL you can define your service so that it receives a name or secret key and check if the client is valid then respond to it.","title":"Get application name which invoked the intent in android","body":"<p>If you are using AIDL you can define your service so that it receives a name or secret key and check if the client is valid then respond to it.</p>\n"}],"owner":{"account_id":14794799,"reputation":714,"user_id":11225699,"display_name":"Vikram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659339380,"creation_date":1659335596,"question_id":73189623,"body_markdown":"I have two apps, say App A and App B, App A call tries to invoke a service in App B using intent, I don&#39;t want to allow App A if it does not belong to a certain list of allowed app names, is there a way to find out the name of the app which is calling my service in App B.\r\n\r\nPS: I am using AIDL bound service to communicate between the two apps, App A has an activity that calls upon service in App B, getReferrer() is not available in service, I have checked with API level 22 also.","title":"Get application name which invoked the intent in android","body":"<p>I have two apps, say App A and App B, App A call tries to invoke a service in App B using intent, I don't want to allow App A if it does not belong to a certain list of allowed app names, is there a way to find out the name of the app which is calling my service in App B.</p>\n<p>PS: I am using AIDL bound service to communicate between the two apps, App A has an activity that calls upon service in App B, getReferrer() is not available in service, I have checked with API level 22 also.</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658689696,"creation_date":1658689696,"answer_id":73101269,"question_id":73101178,"body_markdown":"you must create your query and add the @query annotation.\r\nSomething like this:\r\n\r\n    @Query(&quot;{&quot;query&quot;:{&quot;bool&quot;:{&quot;filter&quot;:[{&quot;range&quot;:{&quot;field_date&quot;:{&quot;gte&quot;:&quot;from&quot;,&quot;lte&quot;:&quot;to&quot;}}}],&quot;must&quot;:[{&quot;term&quot;:{&quot;authorId&quot;:{&quot;value&quot;:&quot;authorId&quot;}}},{&quot;terms&quot;:{&quot;bookId&quot;:&quot;booksId&quot;}}]}}}&quot;)\r\n    List&lt;Books&gt; findAllBooks (@Param(&quot;booksId&quot;) List&lt;Long&gt; booksId, @Param(&quot;authorId&quot;) Long authorId, @Param(&quot;from&quot;) Timestomp from, @Param(&quot;to&quot;) TimeStamp to)","title":"Custom query in elasticsearch with spring boot","body":"<p>you must create your query and add the @query annotation.\nSomething like this:</p>\n<pre><code>@Query(&quot;{&quot;query&quot;:{&quot;bool&quot;:{&quot;filter&quot;:[{&quot;range&quot;:{&quot;field_date&quot;:{&quot;gte&quot;:&quot;from&quot;,&quot;lte&quot;:&quot;to&quot;}}}],&quot;must&quot;:[{&quot;term&quot;:{&quot;authorId&quot;:{&quot;value&quot;:&quot;authorId&quot;}}},{&quot;terms&quot;:{&quot;bookId&quot;:&quot;booksId&quot;}}]}}}&quot;)\nList&lt;Books&gt; findAllBooks (@Param(&quot;booksId&quot;) List&lt;Long&gt; booksId, @Param(&quot;authorId&quot;) Long authorId, @Param(&quot;from&quot;) Timestomp from, @Param(&quot;to&quot;) TimeStamp to)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15683450,"reputation":47,"user_id":11791924,"display_name":"FPS Bard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659339254,"creation_date":1659339254,"answer_id":73190265,"question_id":73101178,"body_markdown":"BoolQueryBuilder and NativeSearchQuery Api helps me a lot. ","title":"Custom query in elasticsearch with spring boot","body":"<p>BoolQueryBuilder and NativeSearchQuery Api helps me a lot.</p>\n"}],"owner":{"account_id":15683450,"reputation":47,"user_id":11791924,"display_name":"FPS Bard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73190265,"answer_count":2,"score":0,"last_activity_date":1659339254,"creation_date":1658688984,"question_id":73101178,"body_markdown":"I am new at elasticsearch and I&#39;m trying to make a custom query with ElasticSearchRepository. \r\nInput Data : \r\n```\r\nList&lt;Long&gt; bookId;\r\nLong authorId;\r\nTimestamp from;\r\nTimestamp to;\r\n```\r\nHow could i find a number of books with **List&lt;Long&gt; bookId**, check that all of them has the same **authorId** and check that they were published between timestamp **from** ... **to** ...  ? \r\n\r\nFor example i think that it could look like \r\n```\r\nList&lt;Books&gt; findAllBooks (List&lt;Long&gt; booksId, Long authorId, Timestomp from, TimeStamp to); \r\n```\r\nI use spring-boot-starter-data-elasticsearch","title":"Custom query in elasticsearch with spring boot","body":"<p>I am new at elasticsearch and I'm trying to make a custom query with ElasticSearchRepository.\nInput Data :</p>\n<pre><code>List&lt;Long&gt; bookId;\nLong authorId;\nTimestamp from;\nTimestamp to;\n</code></pre>\n<p>How could i find a number of books with <strong>List bookId</strong>, check that all of them has the same <strong>authorId</strong> and check that they were published between timestamp <strong>from</strong> ... <strong>to</strong> ...  ?</p>\n<p>For example i think that it could look like</p>\n<pre><code>List&lt;Books&gt; findAllBooks (List&lt;Long&gt; booksId, Long authorId, Timestomp from, TimeStamp to); \n</code></pre>\n<p>I use spring-boot-starter-data-elasticsearch</p>\n"},{"tags":["java","spring-boot","vaadin","processbuilder"],"comments":[{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1641109324,"post_id":70554244,"comment_id":124720523,"body_markdown":"You should post your rest controller code as well.","body":"You should post your rest controller code as well."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1641118794,"post_id":70554244,"comment_id":124721916,"body_markdown":"changed the question focus a few times. first I thought it was about the processbuilder, but now looking at the full stack trace, it seems to be vaadin npm task related problem in the app. more information would be needed to reproduce or to comment.","body":"changed the question focus a few times. first I thought it was about the processbuilder, but now looking at the full stack trace, it seems to be vaadin npm task related problem in the app. more information would be needed to reproduce or to comment."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1641118942,"post_id":70554244,"comment_id":124721943,"body_markdown":"This might be related: [New Vaadin 14 app fails to run, error &quot;Failed to determine &#39;node&#39; tool.&quot; Missing Node.js and npm tools](https://stackoverflow.com/questions/57502852/new-vaadin-14-app-fails-to-run-error-failed-to-determine-node-tool-missing)","body":"This might be related: <a href=\"https://stackoverflow.com/questions/57502852/new-vaadin-14-app-fails-to-run-error-failed-to-determine-node-tool-missing\">New Vaadin 14 app fails to run, error &quot;Failed to determine &#39;node&#39; tool.&quot; Missing Node.js and npm tools</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641763024,"post_id":70554244,"comment_id":124885392,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18856332,"reputation":1,"user_id":13754169,"display_name":"Debanjan Kuri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659339253,"creation_date":1641107998,"question_id":70554244,"body_markdown":"I am a new Spring Boot Programmer and I got the below exception while running my spring boot program. I have made a rest controller and method in it.\r\n\r\n&gt; Cannot run program &quot;--no-update-notifier&quot; (in directory &quot;C:\\Users\\DEBANJAN KURI\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\FirstProj&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1142) ~[na:na]\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073) ~[na:na]\r\n\tat com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:364) ~[flow-server-2.7.2.jar:2.7.2]\r\n\tat com.vaadin.flow.server.frontend.TaskRunNpmInstall.execute(TaskRunNpmInstall.java:137) ~[flow-server-2.7.2.jar:2.7.2]\r\n\tat com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:529) ~[flow-server-2.7.2.jar:2.7.2]\r\n\tat com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:328) ~[flow-server-2.7.2.jar:2.7.2]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:440) ~[vaadin-spring-12.4.0.jar:na]\r\n\tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitia","title":"ProcessBuilder error with starting new Vaadin app","body":"<p>I am a new Spring Boot Programmer and I got the below exception while running my spring boot program. I have made a rest controller and method in it.</p>\n<blockquote>\n<p>Cannot run program &quot;--no-update-notifier&quot; (in directory &quot;C:\\Users\\DEBANJAN KURI\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\FirstProj&quot;): CreateProcess error=2, The system cannot find the file specified\nat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1142) ~[na:na]\nat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073) ~[na:na]\nat com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:364) ~[flow-server-2.7.2.jar:2.7.2]\nat com.vaadin.flow.server.frontend.TaskRunNpmInstall.execute(TaskRunNpmInstall.java:137) ~[flow-server-2.7.2.jar:2.7.2]\nat com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:529) ~[flow-server-2.7.2.jar:2.7.2]\nat com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:328) ~[flow-server-2.7.2.jar:2.7.2]\nat com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:440) ~[vaadin-spring-12.4.0.jar:na]\nat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitia</p>\n</blockquote>\n"},{"tags":["java","logback"],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1659339226,"creation_date":1659084063,"question_id":73163889,"body_markdown":"I&#39;m playing around with the logback patterns. I created a pattern that only prints the first three lines of the stack trace.\r\n\r\nNormally logback omitts duplicate stack traces. But when I use the ex{depth} pattern to limit the stack trace lines it does not. I couldn&#39;t find a configuration property for this.\r\n\r\nAny idea how I could omit duplicate stack trace lines when using the line-limit?\r\n\r\nI&#39;m using logback 1.2.11. Logback docs: https://logback.qos.ch/manual/layouts.html\r\n\r\nSimple example:\r\n\r\nJava Class:\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class TestLog {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(TestLog.class);\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            ex1();\r\n        } catch (Exception e) {\r\n            LOGGER.debug(&quot;foobar&quot;, e);\r\n        }\r\n    }\r\n\r\n    static void ex1() {\r\n        ex2();\r\n    }\r\n\r\n    static void ex2() {\r\n        ex3();\r\n    }\r\n\r\n    static void ex3() {\r\n        ex4();\r\n    }\r\n\r\n    static void ex4() {\r\n        throw new IllegalStateException(&quot;ex in 4&quot;, new IllegalArgumentException(&quot;cause of ex in 4&quot;));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nLogback config. Change the pattern for testing:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n\t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;encoder&gt;\r\n\t\t\t&lt;!-- pattern to limit stack-trace-lines per exception to three, but duplicate frames are not omitted --&gt;\r\n&lt;!--\t\t\t&lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%15.15thread] %-20.20logger{19} : %m %ex{3}%nopex%n&lt;/Pattern&gt;--&gt;\r\n\t\t\t&lt;!-- default pattern, omitts duplicate frames --&gt;\r\n\t\t\t&lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%15.15thread] %-20.20logger{19} : %m%n&lt;/Pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;root level=&quot;debug&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nPrints this in the default config:\r\n```\r\n2022-07-29 10:38:08.184 DEBUG [           main] TestLog              : foobar\r\njava.lang.IllegalStateException: ex in 4\r\n\tat TestLog.ex4(TestLog.java:29)\r\n\tat TestLog.ex3(TestLog.java:25)\r\n\tat TestLog.ex2(TestLog.java:21)\r\n\tat TestLog.ex1(TestLog.java:17)\r\n\tat TestLog.main(TestLog.java:10)\r\nCaused by: java.lang.IllegalArgumentException: cause of ex in 4\r\n\t... 5 common frames omitted\r\n```\r\n\r\nPrints this, when limit is enabled:\r\n```\r\n2022-07-29 10:37:45.002 DEBUG [           main] TestLog              : foobar java.lang.IllegalStateException: ex in 4\r\n\tat TestLog.ex4(TestLog.java:29)\r\n\tat TestLog.ex3(TestLog.java:25)\r\n\tat TestLog.ex2(TestLog.java:21)\r\nCaused by: java.lang.IllegalArgumentException: cause of ex in 4\r\n\tat TestLog.ex4(TestLog.java:29)\r\n\tat TestLog.ex3(TestLog.java:25)\r\n\tat TestLog.ex2(TestLog.java:21)\r\n```","title":"Logback - omit frames when limiting stack trace depth","body":"<p>I'm playing around with the logback patterns. I created a pattern that only prints the first three lines of the stack trace.</p>\n<p>Normally logback omitts duplicate stack traces. But when I use the ex{depth} pattern to limit the stack trace lines it does not. I couldn't find a configuration property for this.</p>\n<p>Any idea how I could omit duplicate stack trace lines when using the line-limit?</p>\n<p>I'm using logback 1.2.11. Logback docs: <a href=\"https://logback.qos.ch/manual/layouts.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/layouts.html</a></p>\n<p>Simple example:</p>\n<p>Java Class:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class TestLog {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(TestLog.class);\n\n    public static void main(String[] args) {\n        try {\n            ex1();\n        } catch (Exception e) {\n            LOGGER.debug(&quot;foobar&quot;, e);\n        }\n    }\n\n    static void ex1() {\n        ex2();\n    }\n\n    static void ex2() {\n        ex3();\n    }\n\n    static void ex3() {\n        ex4();\n    }\n\n    static void ex4() {\n        throw new IllegalStateException(&quot;ex in 4&quot;, new IllegalArgumentException(&quot;cause of ex in 4&quot;));\n    }\n\n}\n\n</code></pre>\n<p>Logback config. Change the pattern for testing:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;!-- pattern to limit stack-trace-lines per exception to three, but duplicate frames are not omitted --&gt;\n&lt;!--            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%15.15thread] %-20.20logger{19} : %m %ex{3}%nopex%n&lt;/Pattern&gt;--&gt;\n            &lt;!-- default pattern, omitts duplicate frames --&gt;\n            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%15.15thread] %-20.20logger{19} : %m%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;debug&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Prints this in the default config:</p>\n<pre><code>2022-07-29 10:38:08.184 DEBUG [           main] TestLog              : foobar\njava.lang.IllegalStateException: ex in 4\n    at TestLog.ex4(TestLog.java:29)\n    at TestLog.ex3(TestLog.java:25)\n    at TestLog.ex2(TestLog.java:21)\n    at TestLog.ex1(TestLog.java:17)\n    at TestLog.main(TestLog.java:10)\nCaused by: java.lang.IllegalArgumentException: cause of ex in 4\n    ... 5 common frames omitted\n</code></pre>\n<p>Prints this, when limit is enabled:</p>\n<pre><code>2022-07-29 10:37:45.002 DEBUG [           main] TestLog              : foobar java.lang.IllegalStateException: ex in 4\n    at TestLog.ex4(TestLog.java:29)\n    at TestLog.ex3(TestLog.java:25)\n    at TestLog.ex2(TestLog.java:21)\nCaused by: java.lang.IllegalArgumentException: cause of ex in 4\n    at TestLog.ex4(TestLog.java:29)\n    at TestLog.ex3(TestLog.java:25)\n    at TestLog.ex2(TestLog.java:21)\n</code></pre>\n"},{"tags":["java","jfoenix"],"owner":{"account_id":18005165,"reputation":11,"user_id":13086124,"display_name":"MorsH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659339077,"creation_date":1659339077,"question_id":73190216,"body_markdown":"Made a project with Maven with Javafx 17.0.1. I have tried adding the Jfoenix Dependencies to my `pom.xml` download the sources and refresh the project but when adding \r\n\r\nOpenJDK 17.0.1\r\n\r\n```\r\n@FXML\r\n    private JFXButton JFoenixbtn;\r\n```\r\nit don&#39;t know the right term to say but when there&#39;s a red line there&#39;s a problem\r\n\r\n i added this to my `pom.xml`\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.jfoenix/jfoenix --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n[Here is the Red line i mean][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aUDRG.png","title":"Jfoenix Elements is not working on my Javafx project","body":"<p>Made a project with Maven with Javafx 17.0.1. I have tried adding the Jfoenix Dependencies to my <code>pom.xml</code> download the sources and refresh the project but when adding</p>\n<p>OpenJDK 17.0.1</p>\n<pre><code>@FXML\n    private JFXButton JFoenixbtn;\n</code></pre>\n<p>it don't know the right term to say but when there's a red line there's a problem</p>\n<p>i added this to my <code>pom.xml</code></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.jfoenix/jfoenix --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\n            &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\n            &lt;version&gt;9.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aUDRG.png\" rel=\"nofollow noreferrer\">Here is the Red line i mean</a></p>\n"},{"tags":["java","csv","export-to-csv","dbeaver"],"answers":[{"tags":[],"owner":{"account_id":21667010,"reputation":11,"user_id":15985203,"display_name":"Mehmet Mirza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623355132,"creation_date":1623355132,"answer_id":67927764,"question_id":67927670,"body_markdown":"Try .strip(&#39;&quot;&quot;&#39;)\r\n\r\nExample:\r\n\r\na_string = &#39;&quot;ab&quot;cd&quot;&#39;\r\n\r\nstripped_string = a_string.strip(&#39;&quot;&#39;)\r\n\r\nprint(stripped_string)\r\n\r\nOUTPUT\r\n\r\nab&quot;cd","title":"How to exclude the quotes(&quot;) inside the columns of CSV exports generated from DBeaver","body":"<p>Try .strip('&quot;&quot;')</p>\n<p>Example:</p>\n<p>a_string = '&quot;ab&quot;cd&quot;'</p>\n<p>stripped_string = a_string.strip('&quot;')</p>\n<p>print(stripped_string)</p>\n<p>OUTPUT</p>\n<p>ab&quot;cd</p>\n"},{"tags":[],"owner":{"account_id":8252672,"reputation":21,"user_id":6206774,"display_name":"Noreen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659339014,"creation_date":1658935249,"answer_id":73140605,"question_id":67927670,"body_markdown":"![configuration setting][1]\r\n\r\n- Characters escape: `escape`\r\n- Quote character: ` `\r\n\r\nNotice that Quote character is not empty, it is a single space.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/agVMY.png","title":"How to exclude the quotes(&quot;) inside the columns of CSV exports generated from DBeaver","body":"<p><img src=\"https://i.stack.imgur.com/agVMY.png\" alt=\"configuration setting\" /></p>\n<ul>\n<li>Characters escape: <code>escape</code></li>\n<li>Quote character: <code> </code></li>\n</ul>\n<p>Notice that Quote character is not empty, it is a single space.</p>\n"}],"owner":{"account_id":3223395,"reputation":576,"user_id":2720250,"display_name":"Eshan Liyanagama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659339014,"creation_date":1623354705,"question_id":67927670,"body_markdown":"I tried to take a csv export of my database results set to a CSV from the Dbeaver.I want to get the output without any quotes inside the columns but there should be quotesand at the start of a row and at the end (including header).\r\n\r\ne.g - &quot;Header1|Header 2|Header 3|&quot;\r\n\r\nBut what I&#39;m getting from the DBeaver is either having quotes at the start of a row and also inside some of the columns(and not at the end) or get it without a single quote.Below mentioned are the two options that I have observed.\r\n\r\ne.g - \r\noption 1 -\r\n&quot;Header1|&quot;Header 2&quot;|Header 3|\r\n\r\noption 2 -\r\nHeader1|Header 2|Header 3|\r\n\r\n\r\n\r\nI couldn&#39;t find an option to remove the inside quotes. Any thoughts on this?\r\nShould I look for a different approach? I have attached a photo of the settings section.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mHany.png","title":"How to exclude the quotes(&quot;) inside the columns of CSV exports generated from DBeaver","body":"<p>I tried to take a csv export of my database results set to a CSV from the Dbeaver.I want to get the output without any quotes inside the columns but there should be quotesand at the start of a row and at the end (including header).</p>\n<p>e.g - &quot;Header1|Header 2|Header 3|&quot;</p>\n<p>But what I'm getting from the DBeaver is either having quotes at the start of a row and also inside some of the columns(and not at the end) or get it without a single quote.Below mentioned are the two options that I have observed.</p>\n<p>e.g -\noption 1 -\n&quot;Header1|&quot;Header 2&quot;|Header 3|</p>\n<p>option 2 -\nHeader1|Header 2|Header 3|</p>\n<p>I couldn't find an option to remove the inside quotes. Any thoughts on this?\nShould I look for a different approach? I have attached a photo of the settings section.</p>\n<p><a href=\"https://i.stack.imgur.com/mHany.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHany.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659338372,"creation_date":1659338372,"answer_id":73190068,"question_id":73189521,"body_markdown":"I am not aware of an in-built solution exactly for this problem, however, as far as I see, this should be solved by composable mappers and I assume they should work in layers. However, the mappings should be still implemented manually for each source.\r\n\r\n```\r\n@Retention(RetentionPolicy.CLASS)\r\n@Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n@Mapping(target = &quot;number&quot;, source = &quot;SAL.INF.HDR.NUM&quot;)\r\n@Mapping(target = &quot;tracking&quot;, source = &quot;SAL.INF.HDR.TRCNUM&quot;)\r\npublic @interface CarMapping {\r\n\r\n\t@Retention(RetentionPolicy.CLASS)\r\n\t@Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n\t@CarMapping\r\n\t@Mapping(target = &quot;hbl&quot;, source = &quot;.&quot;, qualifiedByName = &quot;toHbl1&quot;)\r\n\t@interface CarMapperToHbl1 {}\r\n\r\n\t@Retention(RetentionPolicy.CLASS)\r\n\t@Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n\t@CarMapping\r\n\t@Mapping(target = &quot;hbl&quot;, source = &quot;.&quot;, qualifiedByName = &quot;toHbl2&quot;)\r\n\t@interface CarMapperToHbl2 {}\r\n\r\n    // ... others\r\n}\r\n```\r\nThe application of this method would be the following:\r\n```\r\n@Mapper\r\npublic interface CarMapper {\r\n\r\n   @CarMapping.CarMapperToHbl1\r\n   CarDto entityToDto(CarEntity entity)\r\n\r\n   // ... others\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#shared-configurations","title":"Mapstruct one mapper method for multiple sources","body":"<p>I am not aware of an in-built solution exactly for this problem, however, as far as I see, this should be solved by composable mappers and I assume they should work in layers. However, the mappings should be still implemented manually for each source.</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Mapping(target = &quot;number&quot;, source = &quot;SAL.INF.HDR.NUM&quot;)\n@Mapping(target = &quot;tracking&quot;, source = &quot;SAL.INF.HDR.TRCNUM&quot;)\npublic @interface CarMapping {\n\n    @Retention(RetentionPolicy.CLASS)\n    @Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n    @CarMapping\n    @Mapping(target = &quot;hbl&quot;, source = &quot;.&quot;, qualifiedByName = &quot;toHbl1&quot;)\n    @interface CarMapperToHbl1 {}\n\n    @Retention(RetentionPolicy.CLASS)\n    @Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n    @CarMapping\n    @Mapping(target = &quot;hbl&quot;, source = &quot;.&quot;, qualifiedByName = &quot;toHbl2&quot;)\n    @interface CarMapperToHbl2 {}\n\n    // ... others\n}\n</code></pre>\n<p>The application of this method would be the following:</p>\n<pre><code>@Mapper\npublic interface CarMapper {\n\n   @CarMapping.CarMapperToHbl1\n   CarDto entityToDto(CarEntity entity)\n\n   // ... others\n}\n</code></pre>\n"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659338372,"creation_date":1659334832,"question_id":73189521,"body_markdown":"I have multiple sources, which are used conditionaly, for ex:\r\n\r\n    @Mapper(uses = CustomMapper.class)\r\n    public interface CarFilterMapper {\r\n     default CarFilterDTO toCarFilterDTO(Object obj) {\r\n            if (obj == null) {\r\n                return null;\r\n            }\r\n            if (obj instanceof com.model.cars.v1.car) {\r\n                com.model.cars.v1.CAR targetCar = (com.model.cars.v1.CAR) car;\r\n                return toCarFilterDTO(targetCar);\r\n            } else if (obj instanceof com.model.cars.v2.CAR) {\r\n                com.model.cars.v2.CAR targetCar = (com.model.cars.v2.CAR) car;\r\n                return toCarFilterDTO(targetCar);\r\n    \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t@CarMapping\r\n        CarFilterDTO toCarFilterDTO(com.model.cars.v1.CAR.SAL obj);\r\n    \t\r\n    \t@CarMapping\r\n        CarFilterDTO toCarFilterDTO(com.model.cars.v2.CAR.SAL obj);\r\nAlso I have CarMapping:\r\n\r\n    @Retention(RetentionPolicy.CLASS)\r\n    @Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n    @Mapping(target = &quot;number&quot;, source = &quot;SAL.INF.HDR.NUM&quot;)\r\n    @Mapping(target = &quot;tracking&quot;, source = &quot;SAL.INF.HDR.TRCNUM&quot;)\r\n    @Mapping(target = &quot;hbl&quot;, source = &quot;.&quot;, qualifiedByName = &quot;toHbl&quot;)\r\n    public @interface CarMapping {\r\n    }\r\n\r\nMy problem is I need to write multiple toHbl methods for all CAR versions(there are 5 versions). I want to avoit that. Is it possible?","title":"Mapstruct one mapper method for multiple sources","body":"<p>I have multiple sources, which are used conditionaly, for ex:</p>\n<pre><code>@Mapper(uses = CustomMapper.class)\npublic interface CarFilterMapper {\n default CarFilterDTO toCarFilterDTO(Object obj) {\n        if (obj == null) {\n            return null;\n        }\n        if (obj instanceof com.model.cars.v1.car) {\n            com.model.cars.v1.CAR targetCar = (com.model.cars.v1.CAR) car;\n            return toCarFilterDTO(targetCar);\n        } else if (obj instanceof com.model.cars.v2.CAR) {\n            com.model.cars.v2.CAR targetCar = (com.model.cars.v2.CAR) car;\n            return toCarFilterDTO(targetCar);\n\n            }\n            \n    @CarMapping\n    CarFilterDTO toCarFilterDTO(com.model.cars.v1.CAR.SAL obj);\n    \n    @CarMapping\n    CarFilterDTO toCarFilterDTO(com.model.cars.v2.CAR.SAL obj);\n</code></pre>\n<p>Also I have CarMapping:</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Target({ ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Mapping(target = &quot;number&quot;, source = &quot;SAL.INF.HDR.NUM&quot;)\n@Mapping(target = &quot;tracking&quot;, source = &quot;SAL.INF.HDR.TRCNUM&quot;)\n@Mapping(target = &quot;hbl&quot;, source = &quot;.&quot;, qualifiedByName = &quot;toHbl&quot;)\npublic @interface CarMapping {\n}\n</code></pre>\n<p>My problem is I need to write multiple toHbl methods for all CAR versions(there are 5 versions). I want to avoit that. Is it possible?</p>\n"},{"tags":["java","logstash","jruby"],"owner":{"account_id":19059142,"reputation":11,"user_id":13915625,"display_name":"Raj Priyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659338261,"creation_date":1658833396,"question_id":73122212,"body_markdown":"I am trying to run `logstash 7.16.3` with `jruby v9.2.20.1`. \r\n\r\n**Getting this error :**\r\n```\r\norg.jruby.exceptions.NameError: (NameError) cannot load Java class org.logstash.util.JavaVersion\r\n\tat org.jruby.javasupport.JavaClass.for_name(org/jruby/javasupport/JavaClass.java:292)\r\n\tat org.jruby.javasupport.JavaClass.for_name(org/jruby/javasupport/JavaClass.java:288)\r\n\tat org.jruby.javasupport.JavaUtilities.get_proxy_class(org/jruby/javasupport/JavaUtilities.java:39)\r\n\tat RUBY.java_import(uri:classloader:/jruby/java/core_ext/object.rb:44)\r\n\tat org.jruby.RubyArray.map(org/jruby/RubyArray.java:2589)\r\n\tat RUBY.java_import(uri:classloader:/jruby/java/core_ext/object.rb:37)\r\n\tat RUBY.&lt;main&gt;(/platform/bin/explorer230p7/lib/logstash/logstash-core/lib/logstash/runner.rb:17)\r\n\tat org.jruby.RubyKernel.require(org/jruby/RubyKernel.java:974)\r\n\tat platform.bin.explorer230p7.lib.logstash.lib.bootstrap.environment.&lt;main&gt;(/platform/bin/explorer230p7/lib/logstash/lib/bootstrap/environment.rb:92)\r\nCaused by: java.lang.ClassNotFoundException: org.logstash.util.JavaVersion\r\n\r\n```\r\nI checked the zip of `logstash` and it contains the class `JavaVersion.java`.\\\r\nWhy is it throwing `classNotFound` exception then?","title":"org.jruby.exceptions.NameError: (NameError) cannot load Java class org.logstash.util.JavaVersion","body":"<p>I am trying to run <code>logstash 7.16.3</code> with <code>jruby v9.2.20.1</code>.</p>\n<p><strong>Getting this error :</strong></p>\n<pre><code>org.jruby.exceptions.NameError: (NameError) cannot load Java class org.logstash.util.JavaVersion\n    at org.jruby.javasupport.JavaClass.for_name(org/jruby/javasupport/JavaClass.java:292)\n    at org.jruby.javasupport.JavaClass.for_name(org/jruby/javasupport/JavaClass.java:288)\n    at org.jruby.javasupport.JavaUtilities.get_proxy_class(org/jruby/javasupport/JavaUtilities.java:39)\n    at RUBY.java_import(uri:classloader:/jruby/java/core_ext/object.rb:44)\n    at org.jruby.RubyArray.map(org/jruby/RubyArray.java:2589)\n    at RUBY.java_import(uri:classloader:/jruby/java/core_ext/object.rb:37)\n    at RUBY.&lt;main&gt;(/platform/bin/explorer230p7/lib/logstash/logstash-core/lib/logstash/runner.rb:17)\n    at org.jruby.RubyKernel.require(org/jruby/RubyKernel.java:974)\n    at platform.bin.explorer230p7.lib.logstash.lib.bootstrap.environment.&lt;main&gt;(/platform/bin/explorer230p7/lib/logstash/lib/bootstrap/environment.rb:92)\nCaused by: java.lang.ClassNotFoundException: org.logstash.util.JavaVersion\n\n</code></pre>\n<p>I checked the zip of <code>logstash</code> and it contains the class <code>JavaVersion.java</code>.<br />\nWhy is it throwing <code>classNotFound</code> exception then?</p>\n"},{"tags":["java","gradle","dbutils"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1659296143,"post_id":73185424,"comment_id":129255717,"body_markdown":"Please [edit] your question and include all relevant code here, formatted as text (use the `{}` button) as a [mcve]. Links can break, or linked content can change (especially on github!), making the question useless for others with similar problems. Did you add the new dependency to your Gradle build script? Also, what&#39;s the point of using 3 build tools?","body":"Please <a href=\"https://stackoverflow.com/posts/73185424/edit\">edit</a> your question and include all relevant code here, formatted as text (use the <code>{}</code> button) as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Links can break, or linked content can change (especially on github!), making the question useless for others with similar problems. Did you add the new dependency to your Gradle build script? Also, what&#39;s the point of using 3 build tools?"},{"owner":{"account_id":25699874,"reputation":1,"user_id":19460060,"display_name":"hajscube"},"score":0,"creation_date":1659338050,"post_id":73185424,"comment_id":129262081,"body_markdown":"I want to make a comparison","body":"I want to make a comparison"}],"answers":[{"tags":[],"owner":{"display_name":"user19606762"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659292188,"creation_date":1659291804,"answer_id":73185906,"question_id":73185424,"body_markdown":"if that jar file are in any online repo it would be better to use it but in case you want to use this file then modify your repo as follow\r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    flatDir {\r\n        dirs &#39;lib&#39;\r\n    }\r\n\r\n```\r\nthis will look for the jar inside that folder\r\n\r\nand for your dependencies add this line to it\r\n\r\n```\r\nimplementation name:&#39;rs2xml&#39;\r\n```\r\n\r\nnotice name the file without the extension \r\n\r\nEdit: \r\n\r\nif there no certain rule that make you use gradle version 7.1 then it better to use the latest version 7.5 \r\nsimply run this \r\n```\r\n ./gradlew wrapper --gradle-version 7.5\r\n```\r\nfrom your project folder or even the ide terminal window\r\n\r\n\r\nhope that help and have a nice day :)","title":"net.proteanit.sql for gradle","body":"<p>if that jar file are in any online repo it would be better to use it but in case you want to use this file then modify your repo as follow</p>\n<pre><code>repositories {\n    mavenCentral()\n    flatDir {\n        dirs 'lib'\n    }\n\n</code></pre>\n<p>this will look for the jar inside that folder</p>\n<p>and for your dependencies add this line to it</p>\n<pre><code>implementation name:'rs2xml'\n</code></pre>\n<p>notice name the file without the extension</p>\n<p>Edit:</p>\n<p>if there no certain rule that make you use gradle version 7.1 then it better to use the latest version 7.5\nsimply run this</p>\n<pre><code> ./gradlew wrapper --gradle-version 7.5\n</code></pre>\n<p>from your project folder or even the ide terminal window</p>\n<p>hope that help and have a nice day :)</p>\n"}],"owner":{"account_id":25699874,"reputation":1,"user_id":19460060,"display_name":"hajscube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73185906,"answer_count":1,"score":-2,"last_activity_date":1659337952,"creation_date":1659287827,"question_id":73185424,"body_markdown":"I&#39;m trying to open same project in 3 build tools: Maven, Ant and Gradle.\r\nIt&#39;s simple project with sql database, I&#39;ve already done this via Ant and Maven, unfortunately after adding rs2xml.jar to project module(as I added in Ant and Maven), and import (import net.proteanit.sql.DbUtils;) project doesn&#39;t compile. I don&#39;t receive any errors from Intellij (no code is red), during gradle task - compileJava the message appears: \r\n\r\n&quot;error: package net.proteanit.sql does not exist\r\nimport net.proteanit.sql.DbUtils;&quot;\r\n\r\nIt points me to method: table.setModel(DbUtils.resultSetToTableModel(rs));\r\n\r\nIn build file I added dependecies like: open javafx, javafx graphics, java.swing, apche.ant.\r\n\r\n{\r\npublic class ExaminationDetails extends JFrame implements ActionListener {\r\n\r\n    private JPanel contentPane;\r\n    private JTable table;\r\n    private JTextField search;\r\n    private JButton b1, b2, b3;\r\n\r\n\r\n    public void Book() {\r\n        try {\r\n            conn con = new conn();\r\n            String sql = &quot;select * from student&quot;;\r\n            PreparedStatement st = con.c.prepareStatement(sql);\r\n            ResultSet rs = st.executeQuery();\r\n\r\n            ***table.setModel(DbUtils.resultSetToTableModel(rs));***\r\n            rs.close();\r\n            st.close();\r\n            con.c.close();\r\n        } catch (Exception e) {\r\n        }\r\n\r\n    }\r\n}\r\n\r\nAny help will be appreciated.\r\n\r\n\r\n","title":"net.proteanit.sql for gradle","body":"<p>I'm trying to open same project in 3 build tools: Maven, Ant and Gradle.\nIt's simple project with sql database, I've already done this via Ant and Maven, unfortunately after adding rs2xml.jar to project module(as I added in Ant and Maven), and import (import net.proteanit.sql.DbUtils;) project doesn't compile. I don't receive any errors from Intellij (no code is red), during gradle task - compileJava the message appears:</p>\n<p>&quot;error: package net.proteanit.sql does not exist\nimport net.proteanit.sql.DbUtils;&quot;</p>\n<p>It points me to method: table.setModel(DbUtils.resultSetToTableModel(rs));</p>\n<p>In build file I added dependecies like: open javafx, javafx graphics, java.swing, apche.ant.</p>\n<p>{\npublic class ExaminationDetails extends JFrame implements ActionListener {</p>\n<pre><code>private JPanel contentPane;\nprivate JTable table;\nprivate JTextField search;\nprivate JButton b1, b2, b3;\n\n\npublic void Book() {\n    try {\n        conn con = new conn();\n        String sql = &quot;select * from student&quot;;\n        PreparedStatement st = con.c.prepareStatement(sql);\n        ResultSet rs = st.executeQuery();\n\n        ***table.setModel(DbUtils.resultSetToTableModel(rs));***\n        rs.close();\n        st.close();\n        con.c.close();\n    } catch (Exception e) {\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","selenium-webdriver","jenkins-pipeline","maven-2","jenkins-groovy"],"comments":[{"owner":{"account_id":2760465,"reputation":790,"user_id":2377469,"accept_rate":23,"display_name":"stacktome"},"score":0,"creation_date":1582225877,"post_id":60326310,"comment_id":106713928,"body_markdown":"please share your work around.","body":"please share your work around."},{"owner":{"account_id":13919419,"reputation":63,"user_id":10050278,"display_name":"sudhir ranjan Swain"},"score":0,"creation_date":1582259954,"post_id":60326310,"comment_id":106723582,"body_markdown":"Hello. Work around is take the parameters in maven command and except the variables in pom.xml.","body":"Hello. Work around is take the parameters in maven command and except the variables in pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":5416010,"reputation":4353,"user_id":4311135,"display_name":"Yuri G."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582260731,"creation_date":1582237648,"answer_id":60329483,"question_id":60326310,"body_markdown":"Use [writeFile][1] step to write the file.\r\n\r\nThe following example writes and reads the file `config.properties`\r\n\r\n    pipeline {\r\n       agent any\r\n\r\n       stages{\r\n         stage(&quot;props file&quot;){\r\n            steps{\r\n                script {\r\n                    \r\n                    def props = &quot;&quot;&quot;Url=https://#########/login.jsp\r\n    Username=########\r\n    Password=########&quot;&quot;&quot;\r\n                    writeFile file: &quot;config.properties&quot;, text: props\r\n                    def str =  readFile file: &quot;config.properties&quot;\r\n                    echo str\r\n\r\n                }\r\n             }\r\n          }\r\n       }\r\n    }\r\n\r\n**Update:**\r\nIf the properties file already exists you can use the [readProperties][2] step to load the properties. \r\n\r\n\r\n  [1]: https://jenkins.io/doc/pipeline/steps/workflow-basic-steps/#writefile-write-file-to-workspace\r\n  [2]: https://jenkins.io/doc/pipeline/steps/pipeline-utility-steps/#readproperties-read-properties-from-files-in-the-workspace-or-text","title":"How to update config properties file from a Jenkin Pipeline groovy script?","body":"<p>Use <a href=\"https://jenkins.io/doc/pipeline/steps/workflow-basic-steps/#writefile-write-file-to-workspace\" rel=\"nofollow noreferrer\">writeFile</a> step to write the file.</p>\n\n<p>The following example writes and reads the file <code>config.properties</code></p>\n\n<pre><code>pipeline {\n   agent any\n\n   stages{\n     stage(\"props file\"){\n        steps{\n            script {\n\n                def props = \"\"\"Url=https://#########/login.jsp\nUsername=########\nPassword=########\"\"\"\n                writeFile file: \"config.properties\", text: props\n                def str =  readFile file: \"config.properties\"\n                echo str\n\n            }\n         }\n      }\n   }\n}\n</code></pre>\n\n<p><strong>Update:</strong>\nIf the properties file already exists you can use the <a href=\"https://jenkins.io/doc/pipeline/steps/pipeline-utility-steps/#readproperties-read-properties-from-files-in-the-workspace-or-text\" rel=\"nofollow noreferrer\">readProperties</a> step to load the properties. </p>\n"},{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659337828,"creation_date":1659337828,"answer_id":73189976,"question_id":60326310,"body_markdown":"If you want to update one property in a properties-file, I think it is easiest to:\r\n\r\n * Read the file as proprties.\r\n * Change the property.\r\n * Serialize to String.\r\n * Write that string to properties-file again.\r\n\r\nHere is an example updating `version` in `gradle.properties`:\r\n\r\n    HashMap&lt;String,String&gt; props = readProperties(file: &quot;gradle.properties&quot;)\r\n    props.version = newVersion\r\n\r\n    def propsString = props.\r\n        collect { k, v -&gt; &quot;$k=$v&quot;}\r\n        .join(&quot;\\n&quot;)\r\n\r\n    writeFile file: &quot;gradle.properties&quot;, text: propsString","title":"How to update config properties file from a Jenkin Pipeline groovy script?","body":"<p>If you want to update one property in a properties-file, I think it is easiest to:</p>\n<ul>\n<li>Read the file as proprties.</li>\n<li>Change the property.</li>\n<li>Serialize to String.</li>\n<li>Write that string to properties-file again.</li>\n</ul>\n<p>Here is an example updating <code>version</code> in <code>gradle.properties</code>:</p>\n<pre><code>HashMap&lt;String,String&gt; props = readProperties(file: &quot;gradle.properties&quot;)\nprops.version = newVersion\n\ndef propsString = props.\n    collect { k, v -&gt; &quot;$k=$v&quot;}\n    .join(&quot;\\n&quot;)\n\nwriteFile file: &quot;gradle.properties&quot;, text: propsString\n</code></pre>\n"}],"owner":{"account_id":13919419,"reputation":63,"user_id":10050278,"display_name":"sudhir ranjan Swain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659337828,"creation_date":1582222868,"question_id":60326310,"body_markdown":"I am new to Jenkin Pipeline. We have maven based selenium-java Automation framework.  I am creating a Jenkin Pipeline groovy script to invoke the Automation framework. \r\n\r\nIn the framework we have config.properties file in which Application url , username and password is stored.\r\n\r\nconfig.properties:\r\n\r\nUrl=https://#########/login.jsp\r\n\r\nUsername=########\r\n\r\nPassword=########\r\n\r\nRequirement: We need to take the Application URL , Username and Password as a Jenkin parameter , and run the automation suite accordingly.\r\n\r\nQuestion: From Pipeline groovy script  how can I update the config.properties file at runtime? Is there any possibility of creating a java class inside the framework to update config file and invoke the java class from groovy script.\r\n\r\nI&#39;ve tried the following code\r\n\r\n    node{ \r\n      stage(&quot;props file&quot;){ \r\n        script { \r\n          def props = &quot;&quot;&quot;Url=https://#########/login.jsp Username=######## \r\n                         Password=########&quot;&quot;&quot; \r\n          writeFile interpolate: true ,file: &#39;ui-automation/fw/config/config.properties&#39;, text: props \r\n          def str = readFile file: &#39;ui-automation-fw/config/config.properties&#39; \r\n          echo str\r\n        } \r\n       }\r\n     } \r\n\r\nAppreciate any help on how to fix the code to achieve the needed result  \r\n","title":"How to update config properties file from a Jenkin Pipeline groovy script?","body":"<p>I am new to Jenkin Pipeline. We have maven based selenium-java Automation framework.  I am creating a Jenkin Pipeline groovy script to invoke the Automation framework. </p>\n\n<p>In the framework we have config.properties file in which Application url , username and password is stored.</p>\n\n<p>config.properties:</p>\n\n<p>Url=<a href=\"https://#########/login.jsp\" rel=\"nofollow noreferrer\">https://#########/login.jsp</a></p>\n\n<p>Username=########</p>\n\n<p>Password=########</p>\n\n<p>Requirement: We need to take the Application URL , Username and Password as a Jenkin parameter , and run the automation suite accordingly.</p>\n\n<p>Question: From Pipeline groovy script  how can I update the config.properties file at runtime? Is there any possibility of creating a java class inside the framework to update config file and invoke the java class from groovy script.</p>\n\n<p>I've tried the following code</p>\n\n<pre><code>node{ \n  stage(\"props file\"){ \n    script { \n      def props = \"\"\"Url=https://#########/login.jsp Username=######## \n                     Password=########\"\"\" \n      writeFile interpolate: true ,file: 'ui-automation/fw/config/config.properties', text: props \n      def str = readFile file: 'ui-automation-fw/config/config.properties' \n      echo str\n    } \n   }\n } \n</code></pre>\n\n<p>Appreciate any help on how to fix the code to achieve the needed result  </p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1254882990,"creation_date":1254882990,"answer_id":1529217,"question_id":1528628,"body_markdown":"If the post is a form (application/x-www-urlencoded), you can use ExtendedAccessLogValve,\r\n\r\nhttp://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/valves/ExtendedAccessLogValve.html\r\n\r\nYou have to select individual parameters in the pattern like this,\r\n\r\n      x-P(param_name)\r\n\r\n\r\n","title":"Logging Payload of POSTs to Tomcat","body":"<p>If the post is a form (application/x-www-urlencoded), you can use ExtendedAccessLogValve,</p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/valves/ExtendedAccessLogValve.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/valves/ExtendedAccessLogValve.html</a></p>\n\n<p>You have to select individual parameters in the pattern like this,</p>\n\n<pre><code>  x-P(param_name)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3649,"reputation":6881,"user_id":5284,"accept_rate":79,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1659337752,"creation_date":1255457226,"answer_id":1561963,"question_id":1528628,"body_markdown":"Since there was not a suggestion of a built in way to get the POST payload, I went ahead and wrote a custom filter that dumps the contents of the payload. Specifically:\r\n```java\r\npublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse,\r\n                     FilterChain chain) throws IOException, ServletException {\r\n    HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n    LOG.debug(&quot;payload: &quot; + requestWrapper.getRequestBody());\r\n```\r\n\r\nand `web.xml`:\r\n```xml\r\n&lt;filter&gt;\r\n    &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;com.host.PayloadLoggingFilter&lt;/filter-class&gt;\r\n&lt;/filter&gt;\r\n\r\n&lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\r\n&lt;/filter-mapping&gt;\r\n```\r\n","title":"Logging Payload of POSTs to Tomcat","body":"<p>Since there was not a suggestion of a built in way to get the POST payload, I went ahead and wrote a custom filter that dumps the contents of the payload. Specifically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse,\n                     FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest request = (HttpServletRequest) servletRequest;\n    LOG.debug(&quot;payload: &quot; + requestWrapper.getRequestBody());\n</code></pre>\n<p>and <code>web.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.host.PayloadLoggingFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1291104708,"creation_date":1291104708,"answer_id":4311717,"question_id":1528628,"body_markdown":"See RequestDumperValve or RequestDumperFilter here:\r\nhttp://tomcat.apache.org/tomcat-5.5-doc/config/valve.html#Request_Dumper_Valve\r\nit does what you want.","title":"Logging Payload of POSTs to Tomcat","body":"<p>See RequestDumperValve or RequestDumperFilter here:\n<a href=\"http://tomcat.apache.org/tomcat-5.5-doc/config/valve.html#Request_Dumper_Valve\" rel=\"nofollow\">http://tomcat.apache.org/tomcat-5.5-doc/config/valve.html#Request_Dumper_Valve</a>\nit does what you want.</p>\n"},{"tags":[],"owner":{"account_id":1998033,"reputation":655,"user_id":1789767,"display_name":"Hao Deng"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484739537,"creation_date":1422966426,"answer_id":28298948,"question_id":1528628,"body_markdown":"1. In your webapp web.xml add:\r\n\r\n        &lt;filter&gt;\r\n          &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\r\n          &lt;filter-class&gt;your.MyLogFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n          &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\r\n          &lt;url-pattern&gt;/path/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n\r\n2. Create your Filter:\r\n\r\n\r\n        import java.io.BufferedReader;\r\n        import java.io.ByteArrayInputStream;\r\n        import java.io.ByteArrayOutputStream;\r\n        import java.io.IOException;\r\n        import java.io.InputStream;\r\n        import java.io.InputStreamReader;\r\n        import java.io.OutputStream;\r\n        import java.io.OutputStreamWriter;\r\n        import java.io.PrintWriter;\r\n        import java.util.Enumeration;\r\n        import java.util.HashMap;\r\n        import java.util.Locale;\r\n        import java.util.Map;\r\n\r\n        import javax.servlet.Filter;\r\n        import javax.servlet.FilterChain;\r\n        import javax.servlet.FilterConfig;\r\n        import javax.servlet.ServletException;\r\n        import javax.servlet.ServletInputStream;\r\n        import javax.servlet.ServletOutputStream;\r\n        import javax.servlet.ServletRequest;\r\n        import javax.servlet.ServletResponse;\r\n        import javax.servlet.http.Cookie;\r\n        import javax.servlet.http.HttpServletRequest;\r\n        import javax.servlet.http.HttpServletRequestWrapper;\r\n        import javax.servlet.http.HttpServletResponse;\r\n\r\n        import org.apache.commons.io.output.TeeOutputStream;\r\n\r\n        import com.liferay.portal.kernel.log.Log;\r\n        import com.liferay.portal.kernel.log.LogFactoryUtil;\r\n        import com.liferay.util.servlet.ServletInputStreamWrapper;\r\n\r\n        public class MyLogFilter implements Filter {\r\n\r\n        \tprivate static final Log logger = LogFactoryUtil.getLog(MyLogFilter.class);\r\n\r\n        \t@Override\r\n        \tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n        \t}\r\n\r\n        \t@Override\r\n        \tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n        \t\t\tFilterChain chain) throws IOException, ServletException {\r\n        \t\ttry {\r\n        \t\t\tHttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        \t\t\tHttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n\r\n        \t\t\tMap&lt;String, String&gt; requestMap = this.getTypesafeRequestMap(httpServletRequest);\r\n        \t\t\tBufferedRequestWrapper bufferedReqest = new BufferedRequestWrapper(httpServletRequest);\r\n        \t\t\tBufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper(httpServletResponse);\r\n\r\n        \t\t\tchain.doFilter(bufferedReqest, bufferedResponse);\r\n        \t\t\t\r\n        \t\t\tif(bufferedResponse.getContent()!=null){\t//Response\r\n        \t\t\t\tfinal StringBuilder resMessage = new StringBuilder();\r\n        \t\t\t\tresMessage.append(&quot; [RESPONSE:&quot;)\r\n        \t\t\t\t\t\t.append(bufferedResponse.getContent() )\r\n        \t\t\t\t\t\t.append(&quot;]&quot;);\r\n        \t\t\t\tlogger.info(resMessage);\r\n        \t\t\t}\r\n        \t\t\telse{ //Request\r\n        \t\t\t\tfinal StringBuilder reqMessage = new StringBuilder(\r\n        \t\t\t\t\t\t&quot;REST Request - &quot;).append(&quot;[HTTP METHOD:&quot;)\r\n        \t\t\t\t\t\t.append(httpServletRequest.getMethod())\r\n        \t\t\t\t\t\t.append(&quot;] [PATH INFO:&quot;)\r\n        \t\t\t\t\t\t.append(httpServletRequest.getPathInfo())\r\n        \t\t\t\t\t\t.append(&quot;] [REQUEST PARAMETERS:&quot;).append(requestMap)\r\n        \t\t\t\t\t\t.append(&quot;] [REQUEST BODY:&quot;)\r\n        \t\t\t\t\t\t.append(bufferedReqest.getRequestBody())\r\n        \t\t\t\t\t\t.append(&quot;] [REMOTE ADDRESS:&quot;)\r\n        \t\t\t\t\t\t.append(httpServletRequest.getRemoteAddr()).append(&quot;]&quot;);\r\n        \t\t\t\tlogger.info(reqMessage);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\t\r\n        \t\t} catch (Throwable a) {\r\n        \t\t\tlogger.error(a);\r\n        \t\t}\r\n        \t}\r\n\r\n        \tprivate Map&lt;String, String&gt; getTypesafeRequestMap(HttpServletRequest request) {\r\n        \t\tMap&lt;String, String&gt; typesafeRequestMap = new HashMap&lt;String, String&gt;();\r\n        \t\tEnumeration&lt;?&gt; requestParamNames = request.getParameterNames();\r\n        \t\twhile (requestParamNames.hasMoreElements()) {\r\n        \t\t\tString requestParamName = (String) requestParamNames.nextElement();\r\n        \t\t\tString requestParamValue = request.getParameter(requestParamName);\r\n        \t\t\ttypesafeRequestMap.put(requestParamName, requestParamValue);\r\n        \t\t}\r\n        \t\treturn typesafeRequestMap;\r\n        \t}\r\n\r\n        \t@Override\r\n        \tpublic void destroy() {\r\n        \t}\r\n\r\n        \tprivate static final class BufferedRequestWrapper extends\r\n        \t\t\tHttpServletRequestWrapper {\r\n\r\n        \t\tprivate ByteArrayInputStream bais = null;\r\n        \t\tprivate ByteArrayOutputStream baos = null;\r\n        \t\tprivate BufferedServletInputStream bsis = null;\r\n        \t\tprivate byte[] buffer = null;\r\n\r\n        \t\tpublic BufferedRequestWrapper(HttpServletRequest req)\r\n        \t\t\t\tthrows IOException {\r\n        \t\t\tsuper(req);\r\n        \t\t\t// Read InputStream and store its content in a buffer.\r\n        \t\t\tInputStream is = req.getInputStream();\r\n        \t\t\tthis.baos = new ByteArrayOutputStream();\r\n        \t\t\tbyte buf[] = new byte[1024];\r\n        \t\t\tint letti;\r\n        \t\t\twhile ((letti = is.read(buf)) &gt; 0) {\r\n        \t\t\t\tthis.baos.write(buf, 0, letti);\r\n        \t\t\t}\r\n        \t\t\tthis.buffer = this.baos.toByteArray();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic ServletInputStream getInputStream() {\r\n        \t\t\tthis.bais = new ByteArrayInputStream(this.buffer);\r\n        \t\t\tthis.bsis = new BufferedServletInputStream(this.bais);\r\n\r\n        \t\t\treturn this.bsis;\r\n        \t\t}\r\n        \t\t\r\n        \t\t@Override\r\n        \t\tpublic BufferedReader getReader() throws IOException {\r\n        \t\t\treturn new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n        \t\t}\r\n\r\n        \t\tString getRequestBody() throws IOException {\r\n        \t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n        \t\t\t\t\tthis.getInputStream()));\r\n        \t\t\tString line = null;\r\n        \t\t\tStringBuilder inputBuffer = new StringBuilder();\r\n        \t\t\tdo {\r\n        \t\t\t\tline = reader.readLine();\r\n        \t\t\t\tif (null != line) {\r\n        \t\t\t\t\tinputBuffer.append(line.trim());\r\n        \t\t\t\t}\r\n        \t\t\t} while (line != null);\r\n        \t\t\treader.close();\r\n        \t\t\treturn inputBuffer.toString().trim();\r\n        \t\t}\r\n\r\n        \t}\r\n\r\n        \tprivate static final class BufferedServletInputStream extends\r\n        \t\t\tServletInputStream {\r\n\r\n        \t\tprivate ByteArrayInputStream bais;\r\n\r\n        \t\tpublic BufferedServletInputStream(ByteArrayInputStream bais) {\r\n        \t\t\tthis.bais = bais;\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic int available() {\r\n        \t\t\treturn this.bais.available();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic int read() {\r\n        \t\t\treturn this.bais.read();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic int read(byte[] buf, int off, int len) {\r\n        \t\t\treturn this.bais.read(buf, off, len);\r\n        \t\t}\r\n\r\n        \t}\r\n\r\n        \tpublic class TeeServletOutputStream extends ServletOutputStream {\r\n\r\n        \t\tprivate final TeeOutputStream targetStream;\r\n\r\n        \t\tpublic TeeServletOutputStream(OutputStream one, OutputStream two) {\r\n        \t\t\ttargetStream = new TeeOutputStream(one, two);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void write(int arg0) throws IOException {\r\n        \t\t\tthis.targetStream.write(arg0);\r\n        \t\t}\r\n\r\n        \t\tpublic void flush() throws IOException {\r\n        \t\t\tsuper.flush();\r\n        \t\t\tthis.targetStream.flush();\r\n        \t\t}\r\n\r\n        \t\tpublic void close() throws IOException {\r\n        \t\t\tsuper.close();\r\n        \t\t\tthis.targetStream.close();\r\n        \t\t}\r\n        \t}\r\n\r\n        \tpublic class BufferedResponseWrapper implements HttpServletResponse {\r\n\r\n        \t\tHttpServletResponse original;\r\n        \t\tTeeServletOutputStream teeStream;\r\n        \t\tPrintWriter teeWriter;\r\n        \t\tByteArrayOutputStream bos;\r\n\r\n        \t\tpublic BufferedResponseWrapper(HttpServletResponse response) {\r\n        \t\t\toriginal = response;\r\n        \t\t}\r\n\r\n        \t\tpublic String getContent() {\r\n        \t\t\tif(bos == null){\r\n        \t\t\t\treturn null;\r\n        \t\t\t}\r\n        \t\t\treturn bos.toString();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic PrintWriter getWriter() throws IOException {\r\n\r\n        \t\t\tif (this.teeWriter == null) {\r\n        \t\t\t\tthis.teeWriter = new PrintWriter(new OutputStreamWriter(\r\n        \t\t\t\t\t\tgetOutputStream()));\r\n        \t\t\t}\r\n        \t\t\treturn this.teeWriter;\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic ServletOutputStream getOutputStream() throws IOException {\r\n\r\n        \t\t\tif (teeStream == null) {\r\n        \t\t\t\tbos = new ByteArrayOutputStream();\r\n        \t\t\t\tteeStream = new TeeServletOutputStream(\r\n        \t\t\t\t\t\toriginal.getOutputStream(), bos);\r\n        \t\t\t}\r\n        \t\t\treturn teeStream;\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic String getCharacterEncoding() {\r\n        \t\t\treturn original.getCharacterEncoding();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic String getContentType() {\r\n        \t\t\treturn original.getContentType();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setCharacterEncoding(String charset) {\r\n        \t\t\toriginal.setCharacterEncoding(charset);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setContentLength(int len) {\r\n        \t\t\toriginal.setContentLength(len);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setContentType(String type) {\r\n        \t\t\toriginal.setContentType(type);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setBufferSize(int size) {\r\n        \t\t\toriginal.setBufferSize(size);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic int getBufferSize() {\r\n        \t\t\treturn original.getBufferSize();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void flushBuffer() throws IOException {\r\n        \t\t\tif (teeStream != null) {\r\n        \t\t\t\tteeStream.flush();\r\n        \t\t\t}\r\n        \t\t\tif (this.teeWriter != null) {\r\n        \t\t\t\tthis.teeWriter.flush();\r\n        \t\t\t}\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void resetBuffer() {\r\n        \t\t\toriginal.resetBuffer();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic boolean isCommitted() {\r\n        \t\t\treturn original.isCommitted();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void reset() {\r\n        \t\t\toriginal.reset();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setLocale(Locale loc) {\r\n        \t\t\toriginal.setLocale(loc);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic Locale getLocale() {\r\n        \t\t\treturn original.getLocale();\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void addCookie(Cookie cookie) {\r\n        \t\t\toriginal.addCookie(cookie);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic boolean containsHeader(String name) {\r\n        \t\t\treturn original.containsHeader(name);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic String encodeURL(String url) {\r\n        \t\t\treturn original.encodeURL(url);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic String encodeRedirectURL(String url) {\r\n        \t\t\treturn original.encodeRedirectURL(url);\r\n        \t\t}\r\n\r\n        \t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n        \t\t@Override\r\n        \t\tpublic String encodeUrl(String url) {\r\n        \t\t\treturn original.encodeUrl(url);\r\n        \t\t}\r\n\r\n        \t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n        \t\t@Override\r\n        \t\tpublic String encodeRedirectUrl(String url) {\r\n        \t\t\treturn original.encodeRedirectUrl(url);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void sendError(int sc, String msg) throws IOException {\r\n        \t\t\toriginal.sendError(sc, msg);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void sendError(int sc) throws IOException {\r\n        \t\t\toriginal.sendError(sc);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void sendRedirect(String location) throws IOException {\r\n        \t\t\toriginal.sendRedirect(location);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setDateHeader(String name, long date) {\r\n        \t\t\toriginal.setDateHeader(name, date);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void addDateHeader(String name, long date) {\r\n        \t\t\toriginal.addDateHeader(name, date);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setHeader(String name, String value) {\r\n        \t\t\toriginal.setHeader(name, value);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void addHeader(String name, String value) {\r\n        \t\t\toriginal.addHeader(name, value);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setIntHeader(String name, int value) {\r\n        \t\t\toriginal.setIntHeader(name, value);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void addIntHeader(String name, int value) {\r\n        \t\t\toriginal.addIntHeader(name, value);\r\n        \t\t}\r\n\r\n        \t\t@Override\r\n        \t\tpublic void setStatus(int sc) {\r\n        \t\t\toriginal.setStatus(sc);\r\n        \t\t}\r\n\r\n        \t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n        \t\t@Override\r\n        \t\tpublic void setStatus(int sc, String sm) {\r\n        \t\t\toriginal.setStatus(sc, sm);\r\n        \t\t}\r\n\r\n        \t}\r\n\r\n        }","title":"Logging Payload of POSTs to Tomcat","body":"<ol>\n<li><p>In your webapp web.xml add:</p>\n\n<pre><code>&lt;filter&gt;\n  &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;your.MyLogFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;PayloadLoggingFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/path/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre></li>\n<li><p>Create your Filter:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.Locale;\nimport java.util.Map;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.apache.commons.io.output.TeeOutputStream;\n\nimport com.liferay.portal.kernel.log.Log;\nimport com.liferay.portal.kernel.log.LogFactoryUtil;\nimport com.liferay.util.servlet.ServletInputStreamWrapper;\n\npublic class MyLogFilter implements Filter {\n\n    private static final Log logger = LogFactoryUtil.getLog(MyLogFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n        try {\n            HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n            HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n\n            Map&lt;String, String&gt; requestMap = this.getTypesafeRequestMap(httpServletRequest);\n            BufferedRequestWrapper bufferedReqest = new BufferedRequestWrapper(httpServletRequest);\n            BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper(httpServletResponse);\n\n            chain.doFilter(bufferedReqest, bufferedResponse);\n\n            if(bufferedResponse.getContent()!=null){    //Response\n                final StringBuilder resMessage = new StringBuilder();\n                resMessage.append(\" [RESPONSE:\")\n                        .append(bufferedResponse.getContent() )\n                        .append(\"]\");\n                logger.info(resMessage);\n            }\n            else{ //Request\n                final StringBuilder reqMessage = new StringBuilder(\n                        \"REST Request - \").append(\"[HTTP METHOD:\")\n                        .append(httpServletRequest.getMethod())\n                        .append(\"] [PATH INFO:\")\n                        .append(httpServletRequest.getPathInfo())\n                        .append(\"] [REQUEST PARAMETERS:\").append(requestMap)\n                        .append(\"] [REQUEST BODY:\")\n                        .append(bufferedReqest.getRequestBody())\n                        .append(\"] [REMOTE ADDRESS:\")\n                        .append(httpServletRequest.getRemoteAddr()).append(\"]\");\n                logger.info(reqMessage);\n            }\n\n\n        } catch (Throwable a) {\n            logger.error(a);\n        }\n    }\n\n    private Map&lt;String, String&gt; getTypesafeRequestMap(HttpServletRequest request) {\n        Map&lt;String, String&gt; typesafeRequestMap = new HashMap&lt;String, String&gt;();\n        Enumeration&lt;?&gt; requestParamNames = request.getParameterNames();\n        while (requestParamNames.hasMoreElements()) {\n            String requestParamName = (String) requestParamNames.nextElement();\n            String requestParamValue = request.getParameter(requestParamName);\n            typesafeRequestMap.put(requestParamName, requestParamValue);\n        }\n        return typesafeRequestMap;\n    }\n\n    @Override\n    public void destroy() {\n    }\n\n    private static final class BufferedRequestWrapper extends\n            HttpServletRequestWrapper {\n\n        private ByteArrayInputStream bais = null;\n        private ByteArrayOutputStream baos = null;\n        private BufferedServletInputStream bsis = null;\n        private byte[] buffer = null;\n\n        public BufferedRequestWrapper(HttpServletRequest req)\n                throws IOException {\n            super(req);\n            // Read InputStream and store its content in a buffer.\n            InputStream is = req.getInputStream();\n            this.baos = new ByteArrayOutputStream();\n            byte buf[] = new byte[1024];\n            int letti;\n            while ((letti = is.read(buf)) &gt; 0) {\n                this.baos.write(buf, 0, letti);\n            }\n            this.buffer = this.baos.toByteArray();\n        }\n\n        @Override\n        public ServletInputStream getInputStream() {\n            this.bais = new ByteArrayInputStream(this.buffer);\n            this.bsis = new BufferedServletInputStream(this.bais);\n\n            return this.bsis;\n        }\n\n        @Override\n        public BufferedReader getReader() throws IOException {\n            return new BufferedReader(new InputStreamReader(this.getInputStream()));\n        }\n\n        String getRequestBody() throws IOException {\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\n                    this.getInputStream()));\n            String line = null;\n            StringBuilder inputBuffer = new StringBuilder();\n            do {\n                line = reader.readLine();\n                if (null != line) {\n                    inputBuffer.append(line.trim());\n                }\n            } while (line != null);\n            reader.close();\n            return inputBuffer.toString().trim();\n        }\n\n    }\n\n    private static final class BufferedServletInputStream extends\n            ServletInputStream {\n\n        private ByteArrayInputStream bais;\n\n        public BufferedServletInputStream(ByteArrayInputStream bais) {\n            this.bais = bais;\n        }\n\n        @Override\n        public int available() {\n            return this.bais.available();\n        }\n\n        @Override\n        public int read() {\n            return this.bais.read();\n        }\n\n        @Override\n        public int read(byte[] buf, int off, int len) {\n            return this.bais.read(buf, off, len);\n        }\n\n    }\n\n    public class TeeServletOutputStream extends ServletOutputStream {\n\n        private final TeeOutputStream targetStream;\n\n        public TeeServletOutputStream(OutputStream one, OutputStream two) {\n            targetStream = new TeeOutputStream(one, two);\n        }\n\n        @Override\n        public void write(int arg0) throws IOException {\n            this.targetStream.write(arg0);\n        }\n\n        public void flush() throws IOException {\n            super.flush();\n            this.targetStream.flush();\n        }\n\n        public void close() throws IOException {\n            super.close();\n            this.targetStream.close();\n        }\n    }\n\n    public class BufferedResponseWrapper implements HttpServletResponse {\n\n        HttpServletResponse original;\n        TeeServletOutputStream teeStream;\n        PrintWriter teeWriter;\n        ByteArrayOutputStream bos;\n\n        public BufferedResponseWrapper(HttpServletResponse response) {\n            original = response;\n        }\n\n        public String getContent() {\n            if(bos == null){\n                return null;\n            }\n            return bos.toString();\n        }\n\n        @Override\n        public PrintWriter getWriter() throws IOException {\n\n            if (this.teeWriter == null) {\n                this.teeWriter = new PrintWriter(new OutputStreamWriter(\n                        getOutputStream()));\n            }\n            return this.teeWriter;\n        }\n\n        @Override\n        public ServletOutputStream getOutputStream() throws IOException {\n\n            if (teeStream == null) {\n                bos = new ByteArrayOutputStream();\n                teeStream = new TeeServletOutputStream(\n                        original.getOutputStream(), bos);\n            }\n            return teeStream;\n        }\n\n        @Override\n        public String getCharacterEncoding() {\n            return original.getCharacterEncoding();\n        }\n\n        @Override\n        public String getContentType() {\n            return original.getContentType();\n        }\n\n        @Override\n        public void setCharacterEncoding(String charset) {\n            original.setCharacterEncoding(charset);\n        }\n\n        @Override\n        public void setContentLength(int len) {\n            original.setContentLength(len);\n        }\n\n        @Override\n        public void setContentType(String type) {\n            original.setContentType(type);\n        }\n\n        @Override\n        public void setBufferSize(int size) {\n            original.setBufferSize(size);\n        }\n\n        @Override\n        public int getBufferSize() {\n            return original.getBufferSize();\n        }\n\n        @Override\n        public void flushBuffer() throws IOException {\n            if (teeStream != null) {\n                teeStream.flush();\n            }\n            if (this.teeWriter != null) {\n                this.teeWriter.flush();\n            }\n        }\n\n        @Override\n        public void resetBuffer() {\n            original.resetBuffer();\n        }\n\n        @Override\n        public boolean isCommitted() {\n            return original.isCommitted();\n        }\n\n        @Override\n        public void reset() {\n            original.reset();\n        }\n\n        @Override\n        public void setLocale(Locale loc) {\n            original.setLocale(loc);\n        }\n\n        @Override\n        public Locale getLocale() {\n            return original.getLocale();\n        }\n\n        @Override\n        public void addCookie(Cookie cookie) {\n            original.addCookie(cookie);\n        }\n\n        @Override\n        public boolean containsHeader(String name) {\n            return original.containsHeader(name);\n        }\n\n        @Override\n        public String encodeURL(String url) {\n            return original.encodeURL(url);\n        }\n\n        @Override\n        public String encodeRedirectURL(String url) {\n            return original.encodeRedirectURL(url);\n        }\n\n        @SuppressWarnings(\"deprecation\")\n        @Override\n        public String encodeUrl(String url) {\n            return original.encodeUrl(url);\n        }\n\n        @SuppressWarnings(\"deprecation\")\n        @Override\n        public String encodeRedirectUrl(String url) {\n            return original.encodeRedirectUrl(url);\n        }\n\n        @Override\n        public void sendError(int sc, String msg) throws IOException {\n            original.sendError(sc, msg);\n        }\n\n        @Override\n        public void sendError(int sc) throws IOException {\n            original.sendError(sc);\n        }\n\n        @Override\n        public void sendRedirect(String location) throws IOException {\n            original.sendRedirect(location);\n        }\n\n        @Override\n        public void setDateHeader(String name, long date) {\n            original.setDateHeader(name, date);\n        }\n\n        @Override\n        public void addDateHeader(String name, long date) {\n            original.addDateHeader(name, date);\n        }\n\n        @Override\n        public void setHeader(String name, String value) {\n            original.setHeader(name, value);\n        }\n\n        @Override\n        public void addHeader(String name, String value) {\n            original.addHeader(name, value);\n        }\n\n        @Override\n        public void setIntHeader(String name, int value) {\n            original.setIntHeader(name, value);\n        }\n\n        @Override\n        public void addIntHeader(String name, int value) {\n            original.addIntHeader(name, value);\n        }\n\n        @Override\n        public void setStatus(int sc) {\n            original.setStatus(sc);\n        }\n\n        @SuppressWarnings(\"deprecation\")\n        @Override\n        public void setStatus(int sc, String sm) {\n            original.setStatus(sc, sm);\n        }\n\n    }\n\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":3649,"reputation":6881,"user_id":5284,"accept_rate":79,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45453,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":1561963,"answer_count":4,"score":22,"last_activity_date":1659337752,"creation_date":1254871270,"question_id":1528628,"body_markdown":"I&#39;ve managed to enable access logging in Tomcat by editing the conf/server.xml and uncommenting the entry for the org.apache.catalina.valves.AccessLogValve Valve. I&#39;d like to be able to dump the contents of POST&#39;s payload. It doesn&#39;t seem like any of the options in the pattern will do this. Is there a built in way to do this? Do I use the AccessLogValve?","title":"Logging Payload of POSTs to Tomcat","body":"<p>I've managed to enable access logging in Tomcat by editing the conf/server.xml and uncommenting the entry for the org.apache.catalina.valves.AccessLogValve Valve. I'd like to be able to dump the contents of POST's payload. It doesn't seem like any of the options in the pattern will do this. Is there a built in way to do this? Do I use the AccessLogValve?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1659275995,"post_id":73183829,"comment_id":129251135,"body_markdown":"Evidently you&#39;re trying to use the value before it was ever set.  Are you sure `saveChecklist` has ever been called?","body":"Evidently you&#39;re trying to use the value before it was ever set.  Are you sure <code>saveChecklist</code> has ever been called?"},{"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"score":0,"creation_date":1659276390,"post_id":73183829,"comment_id":129251210,"body_markdown":"Take a look at this line  items =  stringBuilderItem.toString(); by the way I am looking for a solution. Any idea?","body":"Take a look at this line  items =  stringBuilderItem.toString(); by the way I am looking for a solution. Any idea?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1659276513,"post_id":73183829,"comment_id":129251246,"body_markdown":"@accessviolation already gave you an idea. There is absolutely ***no*** guarantee in your code that saveChecklist is being called before the String in question is being accessed. Please re-read access&#39;s comment.","body":"@accessviolation already gave you an idea. There is absolutely <b><i>no</i></b> guarantee in your code that saveChecklist is being called before the String in question is being accessed. Please re-read access&#39;s comment."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659297370,"post_id":73183829,"comment_id":129255956,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659337643,"creation_date":1659337643,"answer_id":73189942,"question_id":73183829,"body_markdown":"That&#39;s a solution for After many tries I could rearrange the code and it gots working.\r\n\r\n    public class AddChecklist extends AppCompatActivity {\r\n\r\n    Toolbar toolbar;\r\n    Button btnAddItem;\r\n    public LinearLayout linearLayout;\r\n    DbHelper dbHelper;\r\n    String items;\r\n    ArrayList&lt;String&gt; itemList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_checklist);\r\n\r\n        toolbar = findViewById(R.id.tool_bar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        btnAddItem = findViewById(R.id.btn_add_item);\r\n        linearLayout = findViewById(R.id.linear_layout);\r\n\r\n        dbHelper = new DbHelper(this);\r\n\r\n        itemList = new ArrayList&lt;&gt;();\r\n\r\n        // this handler auto clicks btnAddItem button after the provided time;\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                btnAddItem.performClick();\r\n            }\r\n        },100);\r\n\r\n        btnAddItem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                addView();\r\n\r\n                }\r\n        });\r\n    }\r\n\r\n    public  void addView(){\r\n\r\n        View checklistView = getLayoutInflater().inflate(R.layout.checklist_view, null, false);\r\n        EditText etChecklistItem = checklistView.findViewById(R.id.et_checklist_item);\r\n        CheckBox checkBox = checklistView.findViewById(R.id.check_box);\r\n\r\n\r\n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                if(b)\r\n                    etChecklistItem.setText(strikeThrough(etChecklistItem.getText().toString()));\r\n              //  state = true;\r\n                else\r\n                    etChecklistItem.setText(etChecklistItem.getText().toString());\r\n            }\r\n        });\r\n\r\n        // This method makes the Action Button add new checkbox instead of press the BtnAdd every time but\r\n        // the editText must have imeOptions=&quot;actionDone in XML file\r\n        etChecklistItem.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {\r\n                if (i == EditorInfo.IME_ACTION_DONE) {\r\n                    btnAddItem.performClick();\r\n                    return true;\r\n                }\r\n                else\r\n                    return false;\r\n            }\r\n        });\r\n\r\n        etChecklistItem.requestFocus();\r\n        linearLayout.addView(checklistView);\r\n\r\n        // this handler makes the keyboard to popup on the Edittext and also\r\n        // the editText must requestFocus();\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                imm.showSoftInput(etChecklistItem, InputMethodManager.SHOW_IMPLICIT);\r\n            }\r\n        },200);\r\n\r\n        ImageView imgDelete = checklistView.findViewById(R.id.img_delete);\r\n\r\n        imgDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                removeView(checklistView);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void removeView(View view){\r\n        linearLayout.removeView(view);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater menuInflater = getMenuInflater();\r\n        menuInflater.inflate(R.menu.save_delete_share, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                saveChecklist();\r\n                return true;\r\n\r\n            case R.id.btn_save:\r\n\r\n                saveChecklist();\r\n               break;\r\n\r\n            case R.id.btn_delete:\r\n\r\n                deleteChecklist();\r\n                break;\r\n\r\n            case R.id.share_note:\r\n\r\n               shareNote();\r\n\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public void saveChecklist(){\r\n\r\n        Intent intent = new Intent();\r\n\r\n        ArrayList&lt;String&gt; itemList = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; statusList = new ArrayList&lt;&gt;();\r\n        String status;\r\n\r\n        for (int i = 0; i &lt; linearLayout.getChildCount(); i++) {\r\n            View v = linearLayout.getChildAt(i);\r\n            EditText etChecklistItem = v.findViewById(R.id.et_checklist_item);\r\n            CheckBox checkBox = v.findViewById(R.id.check_box);\r\n\r\n            if (checkBox.isChecked())\r\n                status = &quot;1&quot;;\r\n\r\n            else\r\n                status = &quot;0&quot;;\r\n\r\n            if(etChecklistItem.getText().toString().isEmpty())\r\n                etChecklistItem.setText(null);\r\n            itemList.add(etChecklistItem.getText().toString());\r\n            statusList.add(status);\r\n\r\n\r\n        }\r\n\r\n        StringBuilder stringBuilderItem = new StringBuilder();\r\n        for(String singleItem: itemList) {\r\n            stringBuilderItem.append(singleItem);\r\n            stringBuilderItem.append(&quot;\\n&quot;);\r\n        }\r\n\r\n        items =  stringBuilderItem.toString();\r\n\r\n\r\n        StringBuilder stringBuilderStatus = new StringBuilder();\r\n        for(String singleStatus: statusList){\r\n            stringBuilderStatus.append(singleStatus);\r\n            stringBuilderStatus.append(&quot;\\n&quot;);\r\n        }\r\n\r\n        String statuses = stringBuilderStatus.toString();\r\n\r\n        dbHelper.insertChecklist(statuses, items, DateTime.date(), DateTime.time(), System.currentTimeMillis());\r\n\r\n        setResult(RESULT_OK,intent);\r\n        Toast.makeText(this, &quot;Checklist saved...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        //  new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);\r\n        finish();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        super.onBackPressed();\r\n        saveChecklist();\r\n        overridePendingTransition(0, 0);\r\n    }\r\n\r\n    public SpannableString strikeThrough(String txt){\r\n\r\n        SpannableString spannableString = new SpannableString(txt);\r\n        StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\r\n        spannableString.setSpan(strikethroughSpan,0, txt.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        return spannableString;\r\n\r\n    }\r\n\r\n    public void deleteChecklist(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(&quot;Delete Checklist&quot;);\r\n        builder.setMessage(&quot;Are you sure?&quot;);\r\n        builder.setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n                finish();\r\n                Toast.makeText(getApplicationContext(), &quot;Checklist deleted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n            }\r\n        });\r\n        builder.show();\r\n    }\r\n\r\n    public void shareNote(){\r\n        ArrayList&lt;String&gt; itemList = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; linearLayout.getChildCount(); i++) {\r\n            View v = linearLayout.getChildAt(i);\r\n            EditText etChecklistItem = v.findViewById(R.id.et_checklist_item);\r\n\r\n            itemList.add(etChecklistItem.getText().toString());\r\n\r\n        }\r\n\r\n        StringBuilder stringBuilderItem = new StringBuilder();\r\n        for(String singleItem: itemList) {\r\n            stringBuilderItem.append(singleItem);\r\n            stringBuilderItem.append(&quot;\\n&quot;);\r\n        }\r\n\r\n        items =  stringBuilderItem.toString();\r\n\r\n\r\n        Share.shareNote(this, items);\r\n    }\r\n\r\n\r\n}","title":"How to access a variable value from a method to another method?","body":"<p>That's a solution for After many tries I could rearrange the code and it gots working.</p>\n<pre><code>public class AddChecklist extends AppCompatActivity {\n\nToolbar toolbar;\nButton btnAddItem;\npublic LinearLayout linearLayout;\nDbHelper dbHelper;\nString items;\nArrayList&lt;String&gt; itemList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_add_checklist);\n\n    toolbar = findViewById(R.id.tool_bar);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    btnAddItem = findViewById(R.id.btn_add_item);\n    linearLayout = findViewById(R.id.linear_layout);\n\n    dbHelper = new DbHelper(this);\n\n    itemList = new ArrayList&lt;&gt;();\n\n    // this handler auto clicks btnAddItem button after the provided time;\n    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            btnAddItem.performClick();\n        }\n    },100);\n\n    btnAddItem.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            addView();\n\n            }\n    });\n}\n\npublic  void addView(){\n\n    View checklistView = getLayoutInflater().inflate(R.layout.checklist_view, null, false);\n    EditText etChecklistItem = checklistView.findViewById(R.id.et_checklist_item);\n    CheckBox checkBox = checklistView.findViewById(R.id.check_box);\n\n\n    checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n            if(b)\n                etChecklistItem.setText(strikeThrough(etChecklistItem.getText().toString()));\n          //  state = true;\n            else\n                etChecklistItem.setText(etChecklistItem.getText().toString());\n        }\n    });\n\n    // This method makes the Action Button add new checkbox instead of press the BtnAdd every time but\n    // the editText must have imeOptions=&quot;actionDone in XML file\n    etChecklistItem.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n        @Override\n        public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {\n            if (i == EditorInfo.IME_ACTION_DONE) {\n                btnAddItem.performClick();\n                return true;\n            }\n            else\n                return false;\n        }\n    });\n\n    etChecklistItem.requestFocus();\n    linearLayout.addView(checklistView);\n\n    // this handler makes the keyboard to popup on the Edittext and also\n    // the editText must requestFocus();\n\n    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.showSoftInput(etChecklistItem, InputMethodManager.SHOW_IMPLICIT);\n        }\n    },200);\n\n    ImageView imgDelete = checklistView.findViewById(R.id.img_delete);\n\n    imgDelete.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            removeView(checklistView);\n        }\n    });\n\n\n}\n\npublic void removeView(View view){\n    linearLayout.removeView(view);\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater menuInflater = getMenuInflater();\n    menuInflater.inflate(R.menu.save_delete_share, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n    switch (item.getItemId()) {\n        case android.R.id.home:\n            saveChecklist();\n            return true;\n\n        case R.id.btn_save:\n\n            saveChecklist();\n           break;\n\n        case R.id.btn_delete:\n\n            deleteChecklist();\n            break;\n\n        case R.id.share_note:\n\n           shareNote();\n\n\n    }\n    return true;\n}\n\npublic void saveChecklist(){\n\n    Intent intent = new Intent();\n\n    ArrayList&lt;String&gt; itemList = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; statusList = new ArrayList&lt;&gt;();\n    String status;\n\n    for (int i = 0; i &lt; linearLayout.getChildCount(); i++) {\n        View v = linearLayout.getChildAt(i);\n        EditText etChecklistItem = v.findViewById(R.id.et_checklist_item);\n        CheckBox checkBox = v.findViewById(R.id.check_box);\n\n        if (checkBox.isChecked())\n            status = &quot;1&quot;;\n\n        else\n            status = &quot;0&quot;;\n\n        if(etChecklistItem.getText().toString().isEmpty())\n            etChecklistItem.setText(null);\n        itemList.add(etChecklistItem.getText().toString());\n        statusList.add(status);\n\n\n    }\n\n    StringBuilder stringBuilderItem = new StringBuilder();\n    for(String singleItem: itemList) {\n        stringBuilderItem.append(singleItem);\n        stringBuilderItem.append(&quot;\\n&quot;);\n    }\n\n    items =  stringBuilderItem.toString();\n\n\n    StringBuilder stringBuilderStatus = new StringBuilder();\n    for(String singleStatus: statusList){\n        stringBuilderStatus.append(singleStatus);\n        stringBuilderStatus.append(&quot;\\n&quot;);\n    }\n\n    String statuses = stringBuilderStatus.toString();\n\n    dbHelper.insertChecklist(statuses, items, DateTime.date(), DateTime.time(), System.currentTimeMillis());\n\n    setResult(RESULT_OK,intent);\n    Toast.makeText(this, &quot;Checklist saved...&quot;, Toast.LENGTH_SHORT).show();\n\n    //  new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);\n    finish();\n    overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\n}\n\n@Override\npublic void onBackPressed() {\n\n    super.onBackPressed();\n    saveChecklist();\n    overridePendingTransition(0, 0);\n}\n\npublic SpannableString strikeThrough(String txt){\n\n    SpannableString spannableString = new SpannableString(txt);\n    StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\n    spannableString.setSpan(strikethroughSpan,0, txt.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    return spannableString;\n\n}\n\npublic void deleteChecklist(){\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(&quot;Delete Checklist&quot;);\n    builder.setMessage(&quot;Are you sure?&quot;);\n    builder.setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialogInterface, int i) {\n            finish();\n            Toast.makeText(getApplicationContext(), &quot;Checklist deleted&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n    builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialogInterface, int i) {\n        }\n    });\n    builder.show();\n}\n\npublic void shareNote(){\n    ArrayList&lt;String&gt; itemList = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; linearLayout.getChildCount(); i++) {\n        View v = linearLayout.getChildAt(i);\n        EditText etChecklistItem = v.findViewById(R.id.et_checklist_item);\n\n        itemList.add(etChecklistItem.getText().toString());\n\n    }\n\n    StringBuilder stringBuilderItem = new StringBuilder();\n    for(String singleItem: itemList) {\n        stringBuilderItem.append(singleItem);\n        stringBuilderItem.append(&quot;\\n&quot;);\n    }\n\n    items =  stringBuilderItem.toString();\n\n\n    Share.shareNote(this, items);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1659337643,"creation_date":1659275091,"question_id":73183829,"body_markdown":"I need access `String items` inside `onOptionsItemSelected` I declared the `String items` globally inside the class and I can access the variable inside `onOptionsItemSelected` but I get null as a value. My problem is inside \r\n\r\n     case R.id.share_note:\r\n     Share.shareNote(this, items);\r\n\r\nWhen I share the text I get null. I tried and searched on SO a lot but in vain because in my case it is a little different.\r\n\r\n    public class AddChecklists extends AppCompatActivity {\r\n\r\n    Toolbar toolbar;\r\n    Button btnAddItem;\r\n    public LinearLayout linearLayout;\r\n    DbHelper dbHelper;\r\n    String items;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_checklist);\r\n\r\n        Toast.makeText(this, &quot;problem&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        toolbar = findViewById(R.id.tool_bar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        btnAddItem = findViewById(R.id.btn_add_item);\r\n        linearLayout = findViewById(R.id.linear_layout);\r\n\r\n        dbHelper = new DbHelper(this);\r\n\r\n        // this handler auto clicks btnAddItem button after the provided time;\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                btnAddItem.performClick();\r\n            }\r\n        },100);\r\n\r\n        btnAddItem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                addView();\r\n            }\r\n        });\r\n    }\r\n\r\n    public  void addView(){\r\n\r\n        View checklistView = getLayoutInflater().inflate(R.layout.checklist_view, null, false);\r\n        EditText etChecklistItem = checklistView.findViewById(R.id.et_checklist_item);\r\n        CheckBox checkBox = checklistView.findViewById(R.id.check_box);\r\n\r\n\r\n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                if(b)\r\n                    etChecklistItem.setText(strikeThrough(etChecklistItem.getText().toString()));\r\n                    //  state = true;\r\n                else\r\n                    etChecklistItem.setText(etChecklistItem.getText().toString());\r\n            }\r\n        });\r\n\r\n        // This method makes the Action Button add new checkbox instead of press the BtnAdd every time but\r\n        // the editText must have imeOptions=&quot;actionDone in XML file\r\n        etChecklistItem.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {\r\n                if (i == EditorInfo.IME_ACTION_DONE) {\r\n                    btnAddItem.performClick();\r\n                    return true;\r\n                }\r\n                else\r\n                    return false;\r\n            }\r\n        });\r\n\r\n        etChecklistItem.requestFocus();\r\n        linearLayout.addView(checklistView);\r\n\r\n        // this handler makes the keyboard to popup on the Edittext and also\r\n        // the editText must requestFocus();\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                imm.showSoftInput(etChecklistItem, InputMethodManager.SHOW_IMPLICIT);\r\n            }\r\n        },200);\r\n\r\n        ImageView imgDelete = checklistView.findViewById(R.id.img_delete);\r\n\r\n        imgDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                removeView(checklistView);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void removeView(View view){\r\n        linearLayout.removeView(view);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater menuInflater = getMenuInflater();\r\n        menuInflater.inflate(R.menu.save_delete_share, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                saveChecklist();\r\n                return true;\r\n\r\n            case R.id.btn_save:\r\n\r\n                saveChecklist();\r\n                break;\r\n\r\n            case R.id.btn_delete:\r\n\r\n                //not yet implemented\r\n                Toast.makeText(this, &quot;delete button clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                break;\r\n\r\n            case R.id.share_note:\r\n                Share.shareNote(this, items);\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public void saveChecklist(){\r\n\r\n        Intent intent = new Intent();\r\n\r\n        ArrayList&lt;String&gt; itemList = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; statusList = new ArrayList&lt;&gt;();\r\n        String status;\r\n\r\n        for (int i = 0; i &lt; linearLayout.getChildCount(); i++) {\r\n            View v = linearLayout.getChildAt(i);\r\n            EditText etChecklistItem = v.findViewById(R.id.et_checklist_item);\r\n            CheckBox checkBox = v.findViewById(R.id.check_box);\r\n\r\n            if (checkBox.isChecked())\r\n                status = &quot;1&quot;;\r\n\r\n            else\r\n                status = &quot;0&quot;;\r\n\r\n            if(etChecklistItem.getText().toString().isEmpty())\r\n                etChecklistItem.setText(null);\r\n            itemList.add(etChecklistItem.getText().toString());\r\n            statusList.add(status);\r\n\r\n\r\n        }\r\n\r\n        StringBuilder stringBuilderItem = new StringBuilder();\r\n        for(String singleItem: itemList) {\r\n            stringBuilderItem.append(singleItem);\r\n            stringBuilderItem.append(&quot;\\n&quot;);\r\n        }\r\n\r\n        items =  stringBuilderItem.toString();\r\n\r\n\r\n        StringBuilder stringBuilderStatus = new StringBuilder();\r\n        for(String singleStatus: statusList){\r\n            stringBuilderStatus.append(singleStatus);\r\n            stringBuilderStatus.append(&quot;\\n&quot;);\r\n        }\r\n\r\n        String statuses = stringBuilderStatus.toString();\r\n\r\n        dbHelper.insertChecklist(statuses, items, DateTime.date(), DateTime.time(), System.currentTimeMillis());\r\n\r\n        setResult(RESULT_OK,intent);\r\n        Toast.makeText(this, &quot;Checklist saved...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        //  new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);\r\n        finish();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        super.onBackPressed();\r\n        saveChecklist();\r\n        overridePendingTransition(0, 0);\r\n    }\r\n\r\n    public SpannableString strikeThrough(String txt){\r\n\r\n        SpannableString spannableString = new SpannableString(txt);\r\n        StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\r\n        spannableString.setSpan(strikethroughSpan,0, txt.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        return spannableString;\r\n\r\n      }\r\n    }","title":"How to access a variable value from a method to another method?","body":"<p>I need access <code>String items</code> inside <code>onOptionsItemSelected</code> I declared the <code>String items</code> globally inside the class and I can access the variable inside <code>onOptionsItemSelected</code> but I get null as a value. My problem is inside</p>\n<pre><code> case R.id.share_note:\n Share.shareNote(this, items);\n</code></pre>\n<p>When I share the text I get null. I tried and searched on SO a lot but in vain because in my case it is a little different.</p>\n<pre><code>public class AddChecklists extends AppCompatActivity {\n\nToolbar toolbar;\nButton btnAddItem;\npublic LinearLayout linearLayout;\nDbHelper dbHelper;\nString items;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_add_checklist);\n\n    Toast.makeText(this, &quot;problem&quot;, Toast.LENGTH_SHORT).show();\n\n    toolbar = findViewById(R.id.tool_bar);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    btnAddItem = findViewById(R.id.btn_add_item);\n    linearLayout = findViewById(R.id.linear_layout);\n\n    dbHelper = new DbHelper(this);\n\n    // this handler auto clicks btnAddItem button after the provided time;\n    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            btnAddItem.performClick();\n        }\n    },100);\n\n    btnAddItem.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            addView();\n        }\n    });\n}\n\npublic  void addView(){\n\n    View checklistView = getLayoutInflater().inflate(R.layout.checklist_view, null, false);\n    EditText etChecklistItem = checklistView.findViewById(R.id.et_checklist_item);\n    CheckBox checkBox = checklistView.findViewById(R.id.check_box);\n\n\n    checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n            if(b)\n                etChecklistItem.setText(strikeThrough(etChecklistItem.getText().toString()));\n                //  state = true;\n            else\n                etChecklistItem.setText(etChecklistItem.getText().toString());\n        }\n    });\n\n    // This method makes the Action Button add new checkbox instead of press the BtnAdd every time but\n    // the editText must have imeOptions=&quot;actionDone in XML file\n    etChecklistItem.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n        @Override\n        public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {\n            if (i == EditorInfo.IME_ACTION_DONE) {\n                btnAddItem.performClick();\n                return true;\n            }\n            else\n                return false;\n        }\n    });\n\n    etChecklistItem.requestFocus();\n    linearLayout.addView(checklistView);\n\n    // this handler makes the keyboard to popup on the Edittext and also\n    // the editText must requestFocus();\n\n    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.showSoftInput(etChecklistItem, InputMethodManager.SHOW_IMPLICIT);\n        }\n    },200);\n\n    ImageView imgDelete = checklistView.findViewById(R.id.img_delete);\n\n    imgDelete.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            removeView(checklistView);\n        }\n    });\n\n\n}\n\npublic void removeView(View view){\n    linearLayout.removeView(view);\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater menuInflater = getMenuInflater();\n    menuInflater.inflate(R.menu.save_delete_share, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n    switch (item.getItemId()) {\n        case android.R.id.home:\n            saveChecklist();\n            return true;\n\n        case R.id.btn_save:\n\n            saveChecklist();\n            break;\n\n        case R.id.btn_delete:\n\n            //not yet implemented\n            Toast.makeText(this, &quot;delete button clicked&quot;, Toast.LENGTH_SHORT).show();\n            break;\n\n        case R.id.share_note:\n            Share.shareNote(this, items);\n\n    }\n    return true;\n}\n\npublic void saveChecklist(){\n\n    Intent intent = new Intent();\n\n    ArrayList&lt;String&gt; itemList = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; statusList = new ArrayList&lt;&gt;();\n    String status;\n\n    for (int i = 0; i &lt; linearLayout.getChildCount(); i++) {\n        View v = linearLayout.getChildAt(i);\n        EditText etChecklistItem = v.findViewById(R.id.et_checklist_item);\n        CheckBox checkBox = v.findViewById(R.id.check_box);\n\n        if (checkBox.isChecked())\n            status = &quot;1&quot;;\n\n        else\n            status = &quot;0&quot;;\n\n        if(etChecklistItem.getText().toString().isEmpty())\n            etChecklistItem.setText(null);\n        itemList.add(etChecklistItem.getText().toString());\n        statusList.add(status);\n\n\n    }\n\n    StringBuilder stringBuilderItem = new StringBuilder();\n    for(String singleItem: itemList) {\n        stringBuilderItem.append(singleItem);\n        stringBuilderItem.append(&quot;\\n&quot;);\n    }\n\n    items =  stringBuilderItem.toString();\n\n\n    StringBuilder stringBuilderStatus = new StringBuilder();\n    for(String singleStatus: statusList){\n        stringBuilderStatus.append(singleStatus);\n        stringBuilderStatus.append(&quot;\\n&quot;);\n    }\n\n    String statuses = stringBuilderStatus.toString();\n\n    dbHelper.insertChecklist(statuses, items, DateTime.date(), DateTime.time(), System.currentTimeMillis());\n\n    setResult(RESULT_OK,intent);\n    Toast.makeText(this, &quot;Checklist saved...&quot;, Toast.LENGTH_SHORT).show();\n\n    //  new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);\n    finish();\n    overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\n}\n\n@Override\npublic void onBackPressed() {\n\n    super.onBackPressed();\n    saveChecklist();\n    overridePendingTransition(0, 0);\n}\n\npublic SpannableString strikeThrough(String txt){\n\n    SpannableString spannableString = new SpannableString(txt);\n    StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\n    spannableString.setSpan(strikethroughSpan,0, txt.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    return spannableString;\n\n  }\n}\n</code></pre>\n"},{"tags":["java","annotations","aspectj"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1346944378,"post_id":12303142,"comment_id":16507022,"body_markdown":"var-arg can only be the last argument (at the end) in Java.","body":"var-arg can only be the last argument (at the end) in Java."},{"owner":{"account_id":74439,"reputation":10875,"user_id":213901,"accept_rate":82,"display_name":"Mike Park"},"score":0,"creation_date":1346944457,"post_id":12303142,"comment_id":16507052,"body_markdown":"It would be very difficult/impossible for the compiler/interpreter to know which argument passed was actually `myArg` in your case.","body":"It would be very difficult/impossible for the compiler/interpreter to know which argument passed was actually <code>myArg</code> in your case."}],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1346951118,"creation_date":1346947017,"answer_id":12303934,"question_id":12303142,"body_markdown":"This is from AspectJ site: http://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html\r\n\r\n`*` represents any number of characters except &quot;.&quot;\r\n\r\n`..` represents any number of characters including any number of &quot;.&quot;\r\n\r\n**Update**\r\nFrom AspectJ in Action - for method signatures:\r\n\r\n&gt;  In method signatures, the wildcard .. is used to denote any type and number of arguments taken by a method\r\n\r\n`*` specifies a single argument","title":"What do .. and * mean in aspectj","body":"<p>This is from AspectJ site: <a href=\"http://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html\">http://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html</a></p>\n\n<p><code>*</code> represents any number of characters except \".\"</p>\n\n<p><code>..</code> represents any number of characters including any number of \".\"</p>\n\n<p><strong>Update</strong>\nFrom AspectJ in Action - for method signatures:</p>\n\n<blockquote>\n  <p>In method signatures, the wildcard .. is used to denote any type and number of arguments taken by a method</p>\n</blockquote>\n\n<p><code>*</code> specifies a single argument</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1659337125,"creation_date":1346954099,"answer_id":12305744,"question_id":12303142,"body_markdown":"Others have answered part of the question before me, so I will only amend:\r\n\r\n`.., bla, ..` does not work because if you bind parameter `bla` to a variable, there might be several matching combinations in case a matching type occurs multiple times in the parameter list. Example:\r\n\r\n`void foo(int a, String b, String c, File d)`\r\n\r\nNow what should happen if the advice is:\r\n\r\n`before(String bla) : call(void foo(.., bla, ..)) &amp;&amp; args(bla)`\r\n\r\nShould `bla` be bound to the `String` value of `b` or `c`?\r\n","title":"What do .. and * mean in aspectj","body":"<p>Others have answered part of the question before me, so I will only amend:</p>\n<p><code>.., bla, ..</code> does not work because if you bind parameter <code>bla</code> to a variable, there might be several matching combinations in case a matching type occurs multiple times in the parameter list. Example:</p>\n<p><code>void foo(int a, String b, String c, File d)</code></p>\n<p>Now what should happen if the advice is:</p>\n<p><code>before(String bla) : call(void foo(.., bla, ..)) &amp;&amp; args(bla)</code></p>\n<p>Should <code>bla</code> be bound to the <code>String</code> value of <code>b</code> or <code>c</code>?</p>\n"}],"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3426,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12303934,"answer_count":2,"score":7,"last_activity_date":1659337125,"creation_date":1346944310,"question_id":12303142,"body_markdown":"My understanding is that `..` is `0-Many` args and `*` is one arg of `any` name. Is this correct? \r\n\r\nDoes aspectj support syntax like `args(..,myArg,..)`? ","title":"What do .. and * mean in aspectj","body":"<p>My understanding is that <code>..</code> is <code>0-Many</code> args and <code>*</code> is one arg of <code>any</code> name. Is this correct? </p>\n\n<p>Does aspectj support syntax like <code>args(..,myArg,..)</code>? </p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3033996,"reputation":1064,"user_id":2572505,"accept_rate":56,"display_name":"Dut A."},"score":0,"creation_date":1659310839,"post_id":73187583,"comment_id":129258047,"body_markdown":"Check this: https://stackoverflow.com/questions/61157897/lombok-builder-does-not-create-immutable-objects and https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java","body":"Check this: <a href=\"https://stackoverflow.com/questions/61157897/lombok-builder-does-not-create-immutable-objects\" title=\"lombok builder does not create immutable objects\">stackoverflow.com/questions/61157897/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\" title=\"how do i copy an object in java\">stackoverflow.com/questions/869033/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659310950,"creation_date":1659310950,"answer_id":73187701,"question_id":73187583,"body_markdown":"Either with `@Singular`, or by not using lombok. There&#39;s nothing magical about `List` if you aren&#39;t using `@Singular`. It&#39;s a field. Like any other.\r\n\r\nIf you aren&#39;t using `@Singular`, and your list objects aren&#39;t immutable (both of these are the case in your pasted snippet), then this question generalizes to this:\r\n\r\n&quot;`toBuilder()` makes a shallow clone. However, given that my object&#39;s fields are themselves mutable, I need a deep clone. How do I make lombok create a deep clone?&quot;\r\n\r\nThe answer is: Lombok does not do that and there are no easy ways to make it do that; deep cloning in java land is in general quite the conundrum. There just aren&#39;t many easy ways to do it. It&#39;s either a lot of legwork (write copy constructors and `clone()` impls all over the place), or hackery (serialize it, then deserialize it), and has a lot of underspecced issues (is the point of the deep clone simply to avoid method callers messing with state they should not mess with, thus implying that immutable objects need not be deep-copied, for example).\r\n\r\nHence, a feature request to Project Lombok in the vein of: &quot;Please make deep copies a thing I can turn on&quot; is problematic. How would us maintainers of lombok possibly deliver on that request?\r\n\r\nWith `@Singular`, the list itself is now a known concept to lombok and lombok will act accordingly. It&#39;s still not a deep copy (i.e. if you have a `@Singular List&lt;List&lt;String&gt;&gt;`, you&#39;re still in trouble unless those inner lists are immutable), but the list WILL (or if not, should be, file a bug!) be copied when you use `toBuilder()` _and_ add something to it (the list you get when using `@Singular` is immutable. No need to copy it if it didn&#39;t change).\r\n\r\n&gt; I tried @Singular annotation but that generates builder method that accepts Task object rather than allowing me to construct it.\r\n\r\nThis sounds like you&#39;re making a mistake in how you&#39;re using the various lombok annotations here, or possibly, a bug in lombok. Can you elaborate? Because it sounds like the answer is simply &#39;toss `@Singular` at your `tasks` field - that&#39;s all you need. Except apparently you tried that and something didn&#39;t turn out the way you wanted.\r\n\r\nI suggest a new question for this, with code snippets showing what lombok ends up doing and what you wanted it to do.\r\n\r\n","title":"Lombok Builder with Immutable lists?","body":"<p>Either with <code>@Singular</code>, or by not using lombok. There's nothing magical about <code>List</code> if you aren't using <code>@Singular</code>. It's a field. Like any other.</p>\n<p>If you aren't using <code>@Singular</code>, and your list objects aren't immutable (both of these are the case in your pasted snippet), then this question generalizes to this:</p>\n<p>&quot;<code>toBuilder()</code> makes a shallow clone. However, given that my object's fields are themselves mutable, I need a deep clone. How do I make lombok create a deep clone?&quot;</p>\n<p>The answer is: Lombok does not do that and there are no easy ways to make it do that; deep cloning in java land is in general quite the conundrum. There just aren't many easy ways to do it. It's either a lot of legwork (write copy constructors and <code>clone()</code> impls all over the place), or hackery (serialize it, then deserialize it), and has a lot of underspecced issues (is the point of the deep clone simply to avoid method callers messing with state they should not mess with, thus implying that immutable objects need not be deep-copied, for example).</p>\n<p>Hence, a feature request to Project Lombok in the vein of: &quot;Please make deep copies a thing I can turn on&quot; is problematic. How would us maintainers of lombok possibly deliver on that request?</p>\n<p>With <code>@Singular</code>, the list itself is now a known concept to lombok and lombok will act accordingly. It's still not a deep copy (i.e. if you have a <code>@Singular List&lt;List&lt;String&gt;&gt;</code>, you're still in trouble unless those inner lists are immutable), but the list WILL (or if not, should be, file a bug!) be copied when you use <code>toBuilder()</code> <em>and</em> add something to it (the list you get when using <code>@Singular</code> is immutable. No need to copy it if it didn't change).</p>\n<blockquote>\n<p>I tried @Singular annotation but that generates builder method that accepts Task object rather than allowing me to construct it.</p>\n</blockquote>\n<p>This sounds like you're making a mistake in how you're using the various lombok annotations here, or possibly, a bug in lombok. Can you elaborate? Because it sounds like the answer is simply 'toss <code>@Singular</code> at your <code>tasks</code> field - that's all you need. Except apparently you tried that and something didn't turn out the way you wanted.</p>\n<p>I suggest a new question for this, with code snippets showing what lombok ends up doing and what you wanted it to do.</p>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659336868,"creation_date":1659336868,"answer_id":73189816,"question_id":73187583,"body_markdown":"You should check out @Builder.ObtainVia https://projectlombok.org/features/Builder\r\n\r\nObtainVia gives you the ability to create an instance with field value from other places like from another field or return of method\r\n\r\n```\r\n@Builder(toBuilder = true)\r\n@Data\r\npublic class TaskSettings {\r\n    @Builder.ObtainVia(method = &quot;initTask&quot;) // important\r\n    private List&lt;Task&gt; tasks;\r\n\r\n    private List&lt;Task&gt; initTask() {\r\n        return new ArrayList&lt;Task&gt;();\r\n    }\r\n//...\r\n}\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        TaskSettings ts = TaskSettings.builder()\r\n                .longLivedTask(Duration.ofDays(365))\r\n                .build();\r\n        System.out.println(ts.getTasks().size()); // 1 \r\n        TaskSettings ts2 = ts.toBuilder().shortLivedTask(Duration.ZERO).build();\r\n        System.out.println(ts.getTasks().size()); // without ObtainVia print 2, with ObtainVia print 1\r\n        System.out.println(ts2.getTasks().size());// without ObtainVia print 2, with ObtainVia print 1\r\n    }\r\n}\r\n\r\n\r\n\r\n```","title":"Lombok Builder with Immutable lists?","body":"<p>You should check out @Builder.ObtainVia <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Builder</a></p>\n<p>ObtainVia gives you the ability to create an instance with field value from other places like from another field or return of method</p>\n<pre><code>@Builder(toBuilder = true)\n@Data\npublic class TaskSettings {\n    @Builder.ObtainVia(method = &quot;initTask&quot;) // important\n    private List&lt;Task&gt; tasks;\n\n    private List&lt;Task&gt; initTask() {\n        return new ArrayList&lt;Task&gt;();\n    }\n//...\n}\n\nclass Main {\n    public static void main(String[] args) {\n        TaskSettings ts = TaskSettings.builder()\n                .longLivedTask(Duration.ofDays(365))\n                .build();\n        System.out.println(ts.getTasks().size()); // 1 \n        TaskSettings ts2 = ts.toBuilder().shortLivedTask(Duration.ZERO).build();\n        System.out.println(ts.getTasks().size()); // without ObtainVia print 2, with ObtainVia print 1\n        System.out.println(ts2.getTasks().size());// without ObtainVia print 2, with ObtainVia print 1\n    }\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":20053569,"reputation":141,"user_id":14701745,"display_name":"HelloWorld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659336868,"creation_date":1659309353,"question_id":73187583,"body_markdown":"I have the following class with Lombok builder:\r\n\r\n```java\r\n@Builder(toBuilder = true)\r\n@Data\r\npublic class TaskSettings {\r\n    private List&lt;Task&gt; tasks;\r\n    \r\n    public static class TaskSettingBuilder {\r\n        private List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n        \r\n        public TaskSettingBuilder longLivedTask(Duration duration) {\r\n            // construct long-lived task\r\n            tasks.add(new Task());\r\n            return this;\r\n        }\r\n\r\n        public TaskSettingBuilder shortLivedTask(Duration duration) {\r\n            // construct short-lived task\r\n            tasks.add(new Task());\r\n            return this;\r\n        }\r\n    }\r\n}\r\n```\r\nI have a custom builder which can take info for different types of tasks, construct and appropriate task to add to the list. This works fine but when I use the `toBuilder` implementation, it uses the original list instead of copying it. So if I add something to the new instance, old instance would be updated:\r\n\r\n```java\r\nTaskSettings ts = TaskSettings.builder()\r\n                .longLivedTask(Duration.ofDays(365))\r\n                .build();\r\nTaskSettings ts2 = ts.toBuilder().shortLivedTask(Duration.ZERO).build();\r\n```\r\n`ts` would now have the short-lived task. I tried `@Singular` annotation but that generates builder method that accepts `Task` object rather than allowing me to construct it. I know I can move the tasking building to a builder of the `Task` object instead, but I would like to do it as part of the `TaskSettings`. How do I accomplish this?","title":"Lombok Builder with Immutable lists?","body":"<p>I have the following class with Lombok builder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder(toBuilder = true)\n@Data\npublic class TaskSettings {\n    private List&lt;Task&gt; tasks;\n    \n    public static class TaskSettingBuilder {\n        private List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n        \n        public TaskSettingBuilder longLivedTask(Duration duration) {\n            // construct long-lived task\n            tasks.add(new Task());\n            return this;\n        }\n\n        public TaskSettingBuilder shortLivedTask(Duration duration) {\n            // construct short-lived task\n            tasks.add(new Task());\n            return this;\n        }\n    }\n}\n</code></pre>\n<p>I have a custom builder which can take info for different types of tasks, construct and appropriate task to add to the list. This works fine but when I use the <code>toBuilder</code> implementation, it uses the original list instead of copying it. So if I add something to the new instance, old instance would be updated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TaskSettings ts = TaskSettings.builder()\n                .longLivedTask(Duration.ofDays(365))\n                .build();\nTaskSettings ts2 = ts.toBuilder().shortLivedTask(Duration.ZERO).build();\n</code></pre>\n<p><code>ts</code> would now have the short-lived task. I tried <code>@Singular</code> annotation but that generates builder method that accepts <code>Task</code> object rather than allowing me to construct it. I know I can move the tasking building to a builder of the <code>Task</code> object instead, but I would like to do it as part of the <code>TaskSettings</code>. How do I accomplish this?</p>\n"},{"tags":["java","android","bluetooth-lowenergy","android-bluetooth"],"answers":[{"tags":[],"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659097094,"creation_date":1659086736,"answer_id":73164429,"question_id":73154400,"body_markdown":"The behavior you describe happens when an app scans too frequently i.e. more than 5 times per 30 seconds. It seems you are scanning too frequently for some reason... \r\n\r\nStopping and re-starting scan automatically after the 8 secs delay may solve the problem.\r\n \r\nAlso, from Android 12+, apps require `BLUETOOTH_SCAN` permission in order to scan for Bluetooth devices. \r\n\r\nAdd this line to your app manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n\r\nHere is a sample code to request the permission:\r\n\r\n    public void requestBluetoothPermissions() {\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n\r\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(),\r\n                        Manifest.permission.BLUETOOTH_SCAN)) {\r\n\r\n                     // display permission rationale in snackbar or dialog message \r\n                } else {\r\n\r\n                    this.requestPermissions(new String[]{\r\n                        Manifest.permission.BLUETOOTH_SCAN\r\n                        }, MyActivity.REQUEST_BLUETOOTH_PERMISSIONS);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Android - No BLE devices can be found after scanning a few times in a row","body":"<p>The behavior you describe happens when an app scans too frequently i.e. more than 5 times per 30 seconds. It seems you are scanning too frequently for some reason...</p>\n<p>Stopping and re-starting scan automatically after the 8 secs delay may solve the problem.</p>\n<p>Also, from Android 12+, apps require <code>BLUETOOTH_SCAN</code> permission in order to scan for Bluetooth devices.</p>\n<p>Add this line to your app manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n</code></pre>\n<p>Here is a sample code to request the permission:</p>\n<pre><code>public void requestBluetoothPermissions() {\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n\n        if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n\n            if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(),\n                    Manifest.permission.BLUETOOTH_SCAN)) {\n\n                 // display permission rationale in snackbar or dialog message \n            } else {\n\n                this.requestPermissions(new String[]{\n                    Manifest.permission.BLUETOOTH_SCAN\n                    }, MyActivity.REQUEST_BLUETOOTH_PERMISSIONS);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5475911,"reputation":23,"user_id":4353930,"display_name":"M.Sudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659336866,"creation_date":1659017973,"question_id":73154400,"body_markdown":"We have created an Android app which scans for specific manufacturer devices by using BLE (Bluetooth Low Energy). Actually everything is working fine, but we have one problem. Sometimes after a few scans the tablet can **no** longer find any devices in all scans that follow. The only one workaround is to turn Bluetooth off and on again, then the tablet can find devices again. The environment has about 30 BLE devices and 20 of them are the devices we would like to find and filter. The client can reproduce it but we unfortunately can not so it is hard to debug.\r\n\r\nThe scan should only work in foreground, there is not need to scan in background. The user can restart the scan just after the scan ends. I already know the 30 seconds / 5 scans limit, this is handled fine.\r\n\r\nThe target tablet is running Android 8.1, the project settings are:\r\n\r\n      compileSdkVersion = 28\r\n      buildToolsVersion = &#39;30.0.2&#39;\r\n      minSdkVersion = 17\r\n      targetSdkVersion = 28\r\nBLE Scan Settings:\r\n\r\n    ScanSettings.Builder()\r\n        .setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY)\r\n        .setCallbackType(ScanSettings.CALLBACK_TYPE_ALL_MATCHES)\r\n        .setMatchMode(ScanSettings.MATCH_MODE_AGGRESSIVE)\r\n        .setNumOfMatches(ScanSettings.MATCH_NUM_ONE_ADVERTISEMENT)\r\n        .setReportDelay(0L)\r\n        .build();\r\n\r\n    new ScanFilter.Builder().setManufacturerData(MANUFACTURE_ID, new byte[0]).build());\r\n\r\n\r\nWhen the Scan is working, Logs looks like this:\r\n\r\n    I/BleScanService: Start Scanning\r\n    D/Fragment: refreshUIElements true\r\n    D/BluetoothAdapter: isLeEnabled(): ON\r\n    D/BluetoothLeScanner: onScannerRegistered() - status=0 scannerId=7 mScannerId=0\r\n    I/Fragment$ScannerBroadcastReceiver: listing device BLE: deviceMacAddress:EC:A5:80:12:D4:1A, nwpBleMacAddress:XXXXXXXXXXEE, name:Device\r\n    I/Fragment$ScannerBroadcastReceiver: listing device BLE: deviceMacAddress:CE:A8:80:60:C9:A8, nwpBleMacAddress:XXXXXXXXXX08, name:Device\r\n    D/BluetoothAdapter: isLeEnabled(): ON\r\n    I/BleScanService: Stopped Scanning\r\n\r\nWhen the scan stops working, i get logs like this (interesting is that the isLeEnabled(): ON log entry no longer appears):\r\n\r\n    07-28 14:02:48:310 I/BleScanService(2) : Start Scanning\r\n    07-28 14:02:48:316 I/BleScanService(2) : Resume Scanning in 0 ms\r\n    07-28 14:02:48:324 D/Fragment(2) : refreshUIElements true\r\n    07-28 14:02:54:357 I/BleScanService(2) : Stopped Scanning\r\n\r\nThis is the ScanService class which does all the magic:\r\n```\r\npublic class BleScanService {\r\n\r\n    private final Handler scanHandler;\r\n    private final Context context;\r\n    private final Settings settings;\r\n    private BluetoothAdapter bluetoothAdapter;\r\n    private BluetoothLeScanner bluetoothLeScanner;\r\n\r\n    private final Set&lt;String&gt; discoveredDevices;\r\n    private final List&lt;Long&gt; scanTimestamps = new ArrayList&lt;&gt;(10);\r\n\r\n    private boolean scanning;\r\n\r\n    @Inject\r\n    public BleScanService(Context context, Settings settings) {\r\n        this.context = context;\r\n        this.settings = settings;\r\n        this.scanHandler = new Handler();\r\n    }\r\n\r\n    public BluetoothDevice getBluetoothDevice(String deviceMacAddress) {\r\n        return bluetoothAdapter.getRemoteDevice(deviceMacAddress);\r\n    }\r\n\r\n    public boolean isScanning() {\r\n        return scanning;\r\n    }\r\n\r\n    public void startScanning() {\r\n        if (scanning) {\r\n            Timber.i(&quot;Ignore start scanning request because scanning is already active&quot;);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            scanning = true;\r\n            discoveredDevices.clear();\r\n            initService();\r\n\r\n            long nextScannerAvailability = getNextScannerAvailability();\r\n            Timber.i(&quot;Resume Scanning in %s ms&quot;, nextScannerAvailability);\r\n\r\n            scanHandler.postDelayed(this::scan, nextScannerAvailability);\r\n\r\n        } catch (Exception e) {\r\n            Timber.e(e);\r\n            stopScanning();\r\n        }\r\n    }\r\n\r\n    private void scan() {\r\n        bluetoothLeScanner.startScan(BleScanSettings.getManufacturerScanFilter(), BleScanSettings.getScanSettings(), leScanCallback);\r\n        scanHandler.postDelayed(() -&gt; {\r\n            stopScanning();\r\n            Timber.i(&quot;Devices shown %s&quot;, String.join(&quot;, &quot;, discoveredDevices));\r\n        }, 8000);\r\n    }\r\n\r\n    private void initService() {\r\n        if (bluetoothAdapter == null) {\r\n            BluetoothManager bluetoothManager = (BluetoothManager) context.getSystemService(Context.BLUETOOTH_SERVICE);\r\n            if (bluetoothManager != null) {\r\n                bluetoothAdapter = bluetoothManager.getAdapter();\r\n            }\r\n            if (bluetoothLeScanner == null) {\r\n                bluetoothLeScanner = bluetoothAdapter.getBluetoothLeScanner();\r\n            }\r\n        }\r\n    }\r\n\r\n    private long getNextScannerAvailability() {\r\n        final long currentTimeMillis = System.currentTimeMillis();\r\n        scanTimestamps.removeIf(t -&gt; currentTimeMillis - t &gt; 30000);\r\n\r\n        if (scanTimestamps.size() &lt; 4) {\r\n            return 0;\r\n        }\r\n        long oldestActiveTimestamp = scanTimestamps.get(scanTimestamps.size() - 4);\r\n\r\n        return 30000 - (currentTimeMillis - oldestActiveTimestamp) + 500;\r\n    }\r\n\r\n    public void stopScanning() {\r\n        if (bluetoothAdapter == null) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            bluetoothLeScanner.stopScan(leScanCallback);\r\n        } catch (Exception e) {\r\n            Timber.w(e, &quot;Exception occurred while attempting to stop BLE scanning.&quot;);\r\n        }\r\n        if (scanning) {\r\n            scanTimestamps.add(System.currentTimeMillis());\r\n        }\r\n\r\n        scanHandler.removeCallbacksAndMessages(null);\r\n        scanning = false;\r\n        Timber.i(&quot;Stopped Scanning&quot;);\r\n    }\r\n\r\n    protected void broadcastDetectedDevice(Intent intent) {\r\n        context.sendBroadcast(intent);\r\n    }\r\n\r\n    private final ScanCallback leScanCallback = new ScanCallback() {\r\n        @Override\r\n        public void onScanResult(int callbackType, ScanResult result) {\r\n            super.onScanResult(callbackType, result);\r\n            if (!scanning) {\r\n                Timber.i(&quot;ignore scanning result because the scanning is paused&quot;);\r\n                return;\r\n            }\r\n\r\n            if (result.getScanRecord() == null) {\r\n                Timber.i(&quot;Skip unsupported device %s&quot;, result.getDevice().getName());\r\n                return;\r\n            }\r\n\r\n            BluetoothDevice device = result.getDevice();\r\n            String deviceMacAddress = device.getAddress();\r\n\r\n            if (isAlreadyDiscovered(deviceMacAddress)) {\r\n                return;\r\n            }\r\n\r\n            byte[] manufacturerSpecificData = result.getScanRecord().getManufacturerSpecificData(BleScanSettings.MANUFACTURE_ID);\r\n            final Optional&lt;Intent&gt; msdIntent = BleDetectedDeviceIntentHelper\r\n                    .getIntentFromManufacturerSpecificData(deviceMacAddress, manufacturerSpecificData);\r\n\r\n            if (msdIntent.isPresent()) {\r\n                handleManufacturerDataScan(deviceMacAddress, msdIntent.get());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onScanFailed(int errorCode) {\r\n            super.onScanFailed(errorCode);\r\n            Timber.i(&quot;SCAN FAILED&quot;);\r\n            stopScanning();\r\n        }\r\n```\r\nPermissions which are used and also requested:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n\r\nAny ideas? Thank you for your help!","title":"Android - No BLE devices can be found after scanning a few times in a row","body":"<p>We have created an Android app which scans for specific manufacturer devices by using BLE (Bluetooth Low Energy). Actually everything is working fine, but we have one problem. Sometimes after a few scans the tablet can <strong>no</strong> longer find any devices in all scans that follow. The only one workaround is to turn Bluetooth off and on again, then the tablet can find devices again. The environment has about 30 BLE devices and 20 of them are the devices we would like to find and filter. The client can reproduce it but we unfortunately can not so it is hard to debug.</p>\n<p>The scan should only work in foreground, there is not need to scan in background. The user can restart the scan just after the scan ends. I already know the 30 seconds / 5 scans limit, this is handled fine.</p>\n<p>The target tablet is running Android 8.1, the project settings are:</p>\n<pre><code>  compileSdkVersion = 28\n  buildToolsVersion = '30.0.2'\n  minSdkVersion = 17\n  targetSdkVersion = 28\n</code></pre>\n<p>BLE Scan Settings:</p>\n<pre><code>ScanSettings.Builder()\n    .setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY)\n    .setCallbackType(ScanSettings.CALLBACK_TYPE_ALL_MATCHES)\n    .setMatchMode(ScanSettings.MATCH_MODE_AGGRESSIVE)\n    .setNumOfMatches(ScanSettings.MATCH_NUM_ONE_ADVERTISEMENT)\n    .setReportDelay(0L)\n    .build();\n\nnew ScanFilter.Builder().setManufacturerData(MANUFACTURE_ID, new byte[0]).build());\n</code></pre>\n<p>When the Scan is working, Logs looks like this:</p>\n<pre><code>I/BleScanService: Start Scanning\nD/Fragment: refreshUIElements true\nD/BluetoothAdapter: isLeEnabled(): ON\nD/BluetoothLeScanner: onScannerRegistered() - status=0 scannerId=7 mScannerId=0\nI/Fragment$ScannerBroadcastReceiver: listing device BLE: deviceMacAddress:EC:A5:80:12:D4:1A, nwpBleMacAddress:XXXXXXXXXXEE, name:Device\nI/Fragment$ScannerBroadcastReceiver: listing device BLE: deviceMacAddress:CE:A8:80:60:C9:A8, nwpBleMacAddress:XXXXXXXXXX08, name:Device\nD/BluetoothAdapter: isLeEnabled(): ON\nI/BleScanService: Stopped Scanning\n</code></pre>\n<p>When the scan stops working, i get logs like this (interesting is that the isLeEnabled(): ON log entry no longer appears):</p>\n<pre><code>07-28 14:02:48:310 I/BleScanService(2) : Start Scanning\n07-28 14:02:48:316 I/BleScanService(2) : Resume Scanning in 0 ms\n07-28 14:02:48:324 D/Fragment(2) : refreshUIElements true\n07-28 14:02:54:357 I/BleScanService(2) : Stopped Scanning\n</code></pre>\n<p>This is the ScanService class which does all the magic:</p>\n<pre><code>public class BleScanService {\n\n    private final Handler scanHandler;\n    private final Context context;\n    private final Settings settings;\n    private BluetoothAdapter bluetoothAdapter;\n    private BluetoothLeScanner bluetoothLeScanner;\n\n    private final Set&lt;String&gt; discoveredDevices;\n    private final List&lt;Long&gt; scanTimestamps = new ArrayList&lt;&gt;(10);\n\n    private boolean scanning;\n\n    @Inject\n    public BleScanService(Context context, Settings settings) {\n        this.context = context;\n        this.settings = settings;\n        this.scanHandler = new Handler();\n    }\n\n    public BluetoothDevice getBluetoothDevice(String deviceMacAddress) {\n        return bluetoothAdapter.getRemoteDevice(deviceMacAddress);\n    }\n\n    public boolean isScanning() {\n        return scanning;\n    }\n\n    public void startScanning() {\n        if (scanning) {\n            Timber.i(&quot;Ignore start scanning request because scanning is already active&quot;);\n            return;\n        }\n\n        try {\n            scanning = true;\n            discoveredDevices.clear();\n            initService();\n\n            long nextScannerAvailability = getNextScannerAvailability();\n            Timber.i(&quot;Resume Scanning in %s ms&quot;, nextScannerAvailability);\n\n            scanHandler.postDelayed(this::scan, nextScannerAvailability);\n\n        } catch (Exception e) {\n            Timber.e(e);\n            stopScanning();\n        }\n    }\n\n    private void scan() {\n        bluetoothLeScanner.startScan(BleScanSettings.getManufacturerScanFilter(), BleScanSettings.getScanSettings(), leScanCallback);\n        scanHandler.postDelayed(() -&gt; {\n            stopScanning();\n            Timber.i(&quot;Devices shown %s&quot;, String.join(&quot;, &quot;, discoveredDevices));\n        }, 8000);\n    }\n\n    private void initService() {\n        if (bluetoothAdapter == null) {\n            BluetoothManager bluetoothManager = (BluetoothManager) context.getSystemService(Context.BLUETOOTH_SERVICE);\n            if (bluetoothManager != null) {\n                bluetoothAdapter = bluetoothManager.getAdapter();\n            }\n            if (bluetoothLeScanner == null) {\n                bluetoothLeScanner = bluetoothAdapter.getBluetoothLeScanner();\n            }\n        }\n    }\n\n    private long getNextScannerAvailability() {\n        final long currentTimeMillis = System.currentTimeMillis();\n        scanTimestamps.removeIf(t -&gt; currentTimeMillis - t &gt; 30000);\n\n        if (scanTimestamps.size() &lt; 4) {\n            return 0;\n        }\n        long oldestActiveTimestamp = scanTimestamps.get(scanTimestamps.size() - 4);\n\n        return 30000 - (currentTimeMillis - oldestActiveTimestamp) + 500;\n    }\n\n    public void stopScanning() {\n        if (bluetoothAdapter == null) {\n            return;\n        }\n\n        try {\n            bluetoothLeScanner.stopScan(leScanCallback);\n        } catch (Exception e) {\n            Timber.w(e, &quot;Exception occurred while attempting to stop BLE scanning.&quot;);\n        }\n        if (scanning) {\n            scanTimestamps.add(System.currentTimeMillis());\n        }\n\n        scanHandler.removeCallbacksAndMessages(null);\n        scanning = false;\n        Timber.i(&quot;Stopped Scanning&quot;);\n    }\n\n    protected void broadcastDetectedDevice(Intent intent) {\n        context.sendBroadcast(intent);\n    }\n\n    private final ScanCallback leScanCallback = new ScanCallback() {\n        @Override\n        public void onScanResult(int callbackType, ScanResult result) {\n            super.onScanResult(callbackType, result);\n            if (!scanning) {\n                Timber.i(&quot;ignore scanning result because the scanning is paused&quot;);\n                return;\n            }\n\n            if (result.getScanRecord() == null) {\n                Timber.i(&quot;Skip unsupported device %s&quot;, result.getDevice().getName());\n                return;\n            }\n\n            BluetoothDevice device = result.getDevice();\n            String deviceMacAddress = device.getAddress();\n\n            if (isAlreadyDiscovered(deviceMacAddress)) {\n                return;\n            }\n\n            byte[] manufacturerSpecificData = result.getScanRecord().getManufacturerSpecificData(BleScanSettings.MANUFACTURE_ID);\n            final Optional&lt;Intent&gt; msdIntent = BleDetectedDeviceIntentHelper\n                    .getIntentFromManufacturerSpecificData(deviceMacAddress, manufacturerSpecificData);\n\n            if (msdIntent.isPresent()) {\n                handleManufacturerDataScan(deviceMacAddress, msdIntent.get());\n            }\n        }\n\n        @Override\n        public void onScanFailed(int errorCode) {\n            super.onScanFailed(errorCode);\n            Timber.i(&quot;SCAN FAILED&quot;);\n            stopScanning();\n        }\n</code></pre>\n<p>Permissions which are used and also requested:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>Any ideas? Thank you for your help!</p>\n"},{"tags":["java","android","android-studio","push-notification","chat"],"answers":[{"tags":[],"owner":{"account_id":25944649,"reputation":1,"user_id":19663533,"display_name":"user19663533"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659336799,"creation_date":1659336799,"answer_id":73189804,"question_id":73188889,"body_markdown":"Setup Firebase Cloud Messaging in App\r\n\r\nGet a Firebase device token and associate it with a user on the server.\r\n\r\n\r\nGet your-app-firebase-adminsdk-aaaa-aaaaaaaaaa.json\r\nfrom Firebase Console and upload to your website\r\n\r\n\r\n\r\n\r\n\r\nPython Example for sending message by Firebase Device Token\r\n```\r\nimport firebase_admin  # pip3 install firebase-admin\r\nfrom firebase_admin import credentials, messaging\r\n\r\nfirebase_admin.initialize_app(credentials.Certificate(\r\n    &quot;./your-app-firebase-adminsdk-aaaa-aaaaaaaaaa.json&quot;))\r\n\r\n\r\ndef send_notification(token, title, message):\r\n    msg = messaging.Message(token=token, notification=messaging.Notification(title, message),\r\n                            data={&quot;title&quot;: title, &quot;message&quot;: message})\r\n    print(&#39;Done:&#39;, messaging.send(msg))\r\n\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    token = &quot;qwertyuiopasdfghjklzxc:Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;\r\n    send_notification(token, &quot;Title&quot;, &quot;Body&quot;)\r\n\r\n```\r\n\r\n\r\ndon&#39;t forget to add access to notifications in the app","title":"chat Push Notification webview in android studio","body":"<p>Setup Firebase Cloud Messaging in App</p>\n<p>Get a Firebase device token and associate it with a user on the server.</p>\n<p>Get your-app-firebase-adminsdk-aaaa-aaaaaaaaaa.json\nfrom Firebase Console and upload to your website</p>\n<p>Python Example for sending message by Firebase Device Token</p>\n<pre><code>import firebase_admin  # pip3 install firebase-admin\nfrom firebase_admin import credentials, messaging\n\nfirebase_admin.initialize_app(credentials.Certificate(\n    &quot;./your-app-firebase-adminsdk-aaaa-aaaaaaaaaa.json&quot;))\n\n\ndef send_notification(token, title, message):\n    msg = messaging.Message(token=token, notification=messaging.Notification(title, message),\n                            data={&quot;title&quot;: title, &quot;message&quot;: message})\n    print('Done:', messaging.send(msg))\n\n\nif __name__ == &quot;__main__&quot;:\n    token = &quot;qwertyuiopasdfghjklzxc:Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;\n    send_notification(token, &quot;Title&quot;, &quot;Body&quot;)\n\n</code></pre>\n<p>don't forget to add access to notifications in the app</p>\n"}],"owner":{"account_id":25944250,"reputation":1,"user_id":19663189,"display_name":"saf__dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659336799,"creation_date":1659328633,"question_id":73188889,"body_markdown":"I build WebView app using android studio. we can chat feature in my website. I want to get push notification for chat messages. How can I get? Please help me.\r\nThank you!","title":"chat Push Notification webview in android studio","body":"<p>I build WebView app using android studio. we can chat feature in my website. I want to get push notification for chat messages. How can I get? Please help me.\nThank you!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":2,"creation_date":1658800726,"post_id":73116937,"comment_id":129136153,"body_markdown":"I can&#39;t make sense of what you&#39;re trying to actually do, but it feels like you&#39;re headed in the wrong direction. This class definition is really something.. `abstract class KeyedBidirectionalStructure&lt;K, PARENT, CHILD extends KeyedStructure&lt;K, KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;&gt;\nextends KeyedStructure&lt;K, PARENT&gt; { }`","body":"I can&#39;t make sense of what you&#39;re trying to actually do, but it feels like you&#39;re headed in the wrong direction. This class definition is really something.. <code>abstract class KeyedBidirectionalStructure&lt;K, PARENT, CHILD extends KeyedStructure&lt;K, KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;&gt; extends KeyedStructure&lt;K, PARENT&gt; { }</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658806363,"post_id":73116937,"comment_id":129136853,"body_markdown":"Perhaps a simple implementation of the three classes would make things clearer?","body":"Perhaps a simple implementation of the three classes would make things clearer?"}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659336565,"creation_date":1659336565,"answer_id":73189775,"question_id":73116937,"body_markdown":"Your declaration of `Group` extends `KeyedBidirectionalStructure` with the third type argument (for `CHILD`) being `Group`. So this `Group` needs to satisfy the bound of `CHILD`, which, with everything substituted in, is `extends KeyedStructure&lt;String, KeyedBidirectionalStructure&lt;String, Group, Group&gt;&gt;`. But it doesn&#39;t satisfy this. `Group` extends `KeyedBidirectionalStructure&lt;String, Group, Group&gt;` which in turn extends `KeyedStructure&lt;String, Group&gt;`. Do you see the difference? In one case, the second type argument is `Group`, and in the other, the second type argument is `KeyedBidirectionalStructure&lt;String, Group, Group&gt;`. They don&#39;t match.\r\n\r\nGeneric type arguments are invariant. `List&lt;String&gt;` is not a subtype of `List&lt;Object&gt;` even though `String` is a subtype of `Object`. So similarly `KeyedStructure&lt;String, Group&gt;` is not a subtype of `KeyedStructure&lt;String, KeyedBidirectionalStructure&lt;String, Group, Group&gt;&gt;`, even though `Group` is a subtype of `KeyedBidirectionalStructure&lt;String, Group, Group&gt;`.\r\n\r\nIf you want polymorphism in the type arguments, you need to use a wildcard. So if you changed the bound to something like this, your declaration of `Group` should work:\r\n\r\n    public abstract class KeyedBidirectionalStructure&lt;K, PARENT,\r\n        CHILD extends KeyedStructure&lt;K, ? extends KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;&gt;\r\n        extends KeyedStructure&lt;K, PARENT&gt; {...}\r\n\r\nHowever, there are other consequences of using a wildcard, and I am not sure if it makes sense without understanding your full design.","title":"Java Generics not accepting class that extends parent with correct type","body":"<p>Your declaration of <code>Group</code> extends <code>KeyedBidirectionalStructure</code> with the third type argument (for <code>CHILD</code>) being <code>Group</code>. So this <code>Group</code> needs to satisfy the bound of <code>CHILD</code>, which, with everything substituted in, is <code>extends KeyedStructure&lt;String, KeyedBidirectionalStructure&lt;String, Group, Group&gt;&gt;</code>. But it doesn't satisfy this. <code>Group</code> extends <code>KeyedBidirectionalStructure&lt;String, Group, Group&gt;</code> which in turn extends <code>KeyedStructure&lt;String, Group&gt;</code>. Do you see the difference? In one case, the second type argument is <code>Group</code>, and in the other, the second type argument is <code>KeyedBidirectionalStructure&lt;String, Group, Group&gt;</code>. They don't match.</p>\n<p>Generic type arguments are invariant. <code>List&lt;String&gt;</code> is not a subtype of <code>List&lt;Object&gt;</code> even though <code>String</code> is a subtype of <code>Object</code>. So similarly <code>KeyedStructure&lt;String, Group&gt;</code> is not a subtype of <code>KeyedStructure&lt;String, KeyedBidirectionalStructure&lt;String, Group, Group&gt;&gt;</code>, even though <code>Group</code> is a subtype of <code>KeyedBidirectionalStructure&lt;String, Group, Group&gt;</code>.</p>\n<p>If you want polymorphism in the type arguments, you need to use a wildcard. So if you changed the bound to something like this, your declaration of <code>Group</code> should work:</p>\n<pre><code>public abstract class KeyedBidirectionalStructure&lt;K, PARENT,\n    CHILD extends KeyedStructure&lt;K, ? extends KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;&gt;\n    extends KeyedStructure&lt;K, PARENT&gt; {...}\n</code></pre>\n<p>However, there are other consequences of using a wildcard, and I am not sure if it makes sense without understanding your full design.</p>\n"}],"owner":{"account_id":25885887,"reputation":39,"user_id":19613998,"display_name":"omzz15"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73189775,"answer_count":1,"score":-1,"last_activity_date":1659336565,"creation_date":1658799780,"question_id":73116937,"body_markdown":"I&#39;m trying to create a few structure classes so I can easily build a structure but the generics don&#39;t accept the class even though it seems to have the right type.\r\n\r\nI have a basic `Structure` class that just stores a parent of the generic type `T`:\r\n\r\n    public abstract class Structure&lt;T&gt;{...}\r\n\r\nThen I have a `KeyedStructure` that stores both a key of type `K` and extends `Structure` with type `V`: \r\n\r\n    public abstract class KeyedStructure &lt;K, V&gt; extends  Structure&lt;V&gt;{...}\r\n\r\nFinally, I have a `KeyedBidirectionalStructure` class that has types `&lt;K, PARENT, CHILD&gt;` but the `CHILD` has to be able to store this class as its parent so it extends `KeyedStructure&lt;K, KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;`:\r\n\r\n    public abstract class KeyedBidirectionalStructure&lt;K, PARENT, CHILD extends KeyedStructure&lt;K, KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;&gt; extends KeyedStructure&lt;K, PARENT&gt;{...}\r\n\r\nBut when I try to implement it like this:\r\n\r\n    class Group extends KeyedBidirectionalStructure&lt;String, Group, Group&gt;{...}\r\n\r\nor even like this\r\n\r\n    class Task extends KeyedStructure&lt;String, Group&gt;{...}\r\n    class Group extends KeyedBidirectionalStructure&lt;String, Group, Task&gt;\r\n\r\nJava keeps complaining that the `CHILD` type does extend the right class but it seems to fit the generics. If anyone could help me that would be greatly appreciated. Thank you.","title":"Java Generics not accepting class that extends parent with correct type","body":"<p>I'm trying to create a few structure classes so I can easily build a structure but the generics don't accept the class even though it seems to have the right type.</p>\n<p>I have a basic <code>Structure</code> class that just stores a parent of the generic type <code>T</code>:</p>\n<pre><code>public abstract class Structure&lt;T&gt;{...}\n</code></pre>\n<p>Then I have a <code>KeyedStructure</code> that stores both a key of type <code>K</code> and extends <code>Structure</code> with type <code>V</code>:</p>\n<pre><code>public abstract class KeyedStructure &lt;K, V&gt; extends  Structure&lt;V&gt;{...}\n</code></pre>\n<p>Finally, I have a <code>KeyedBidirectionalStructure</code> class that has types <code>&lt;K, PARENT, CHILD&gt;</code> but the <code>CHILD</code> has to be able to store this class as its parent so it extends <code>KeyedStructure&lt;K, KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;</code>:</p>\n<pre><code>public abstract class KeyedBidirectionalStructure&lt;K, PARENT, CHILD extends KeyedStructure&lt;K, KeyedBidirectionalStructure&lt;K, PARENT, CHILD&gt;&gt;&gt; extends KeyedStructure&lt;K, PARENT&gt;{...}\n</code></pre>\n<p>But when I try to implement it like this:</p>\n<pre><code>class Group extends KeyedBidirectionalStructure&lt;String, Group, Group&gt;{...}\n</code></pre>\n<p>or even like this</p>\n<pre><code>class Task extends KeyedStructure&lt;String, Group&gt;{...}\nclass Group extends KeyedBidirectionalStructure&lt;String, Group, Task&gt;\n</code></pre>\n<p>Java keeps complaining that the <code>CHILD</code> type does extend the right class but it seems to fit the generics. If anyone could help me that would be greatly appreciated. Thank you.</p>\n"},{"tags":["java","android","android-recyclerview","refresh","presentation"],"answers":[{"tags":[],"owner":{"account_id":10041863,"reputation":1,"user_id":7424433,"display_name":"Manpreet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659332862,"creation_date":1659332862,"answer_id":73189261,"question_id":73189222,"body_markdown":"Make sure to clear background `mIV.setBackground(null);`\r\nin else statement.","title":"how to refresh a RecyclerView draw (not datas)?","body":"<p>Make sure to clear background <code>mIV.setBackground(null);</code>\nin else statement.</p>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659332876,"creation_date":1659332876,"answer_id":73189267,"question_id":73189222,"body_markdown":"Your onBindViewHolder is broken.  A properly written onBindViewHolder sets EVERY field of the view that could possibly change.  And in a proper RecyclerView implementation, non of the click handlers or other actions ever touch the view itself, they all change the model then notify the adapter an iten has changed.  Obviously you&#39;re not doing that-  you&#39;re inheriting some of the styling from the old view.  Fix your onBindViewHolder to specify all of the view information.","title":"how to refresh a RecyclerView draw (not datas)?","body":"<p>Your onBindViewHolder is broken.  A properly written onBindViewHolder sets EVERY field of the view that could possibly change.  And in a proper RecyclerView implementation, non of the click handlers or other actions ever touch the view itself, they all change the model then notify the adapter an iten has changed.  Obviously you're not doing that-  you're inheriting some of the styling from the old view.  Fix your onBindViewHolder to specify all of the view information.</p>\n"},{"tags":[],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659336305,"creation_date":1659333152,"answer_id":73189301,"question_id":73189222,"body_markdown":"It seems that just doing:\r\n\r\n    mStockRecyclerView.setAdapter(mAdapter);\r\n\r\nis enough.\r\n\r\nSorry for the noise.\r\n\r\n**Another solution**, found with the help of the answers here and there https://stackoverflow.com/questions/54065239/reset-button-to-default-background is to reset the background, using setTag() and getTag() like:\r\n\r\n\tif ( mIV.getTag() == null )\tmIV.setTag(mIV.getBackground());\r\n\tif (cellStockQty.getTag() == null ) cellStockQty.setTag(cellStockQty.getCurrentTextColor());\r\n\tif (stk.getQty() == 0) {    // mise en valeur des stocks &#224; 0 non purgeables\r\n\t\tcellStockQty.setTextColor(Color.RED);\r\n\t\tGradientDrawable border = new GradientDrawable();\r\n\t\tborder.setColor(mIV.getResources().getColor(R.color.colorAugment));  // white background\r\n\t\tborder.setStroke(1, mIV.getResources().getColor(R.color.colorAccent));  // black border with full\r\n\t\tmIV.setBackground(border);\r\n\t} else {\r\n\t\tcellStockQty.setTextColor((int)cellStockQty.getTag());\r\n\t\tmIV.setBackground((Drawable) mIV.getTag());\r\n\t}\r\n","title":"how to refresh a RecyclerView draw (not datas)?","body":"<p>It seems that just doing:</p>\n<pre><code>mStockRecyclerView.setAdapter(mAdapter);\n</code></pre>\n<p>is enough.</p>\n<p>Sorry for the noise.</p>\n<p><strong>Another solution</strong>, found with the help of the answers here and there <a href=\"https://stackoverflow.com/questions/54065239/reset-button-to-default-background\">Reset Button to default background</a> is to reset the background, using setTag() and getTag() like:</p>\n<pre><code>if ( mIV.getTag() == null ) mIV.setTag(mIV.getBackground());\nif (cellStockQty.getTag() == null ) cellStockQty.setTag(cellStockQty.getCurrentTextColor());\nif (stk.getQty() == 0) {    // mise en valeur des stocks  0 non purgeables\n    cellStockQty.setTextColor(Color.RED);\n    GradientDrawable border = new GradientDrawable();\n    border.setColor(mIV.getResources().getColor(R.color.colorAugment));  // white background\n    border.setStroke(1, mIV.getResources().getColor(R.color.colorAccent));  // black border with full\n    mIV.setBackground(border);\n} else {\n    cellStockQty.setTextColor((int)cellStockQty.getTag());\n    mIV.setBackground((Drawable) mIV.getTag());\n}\n</code></pre>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73189301,"answer_count":3,"score":0,"last_activity_date":1659336305,"creation_date":1659332534,"question_id":73189222,"body_markdown":"In a RecyclerView, I change the presentation for some items as follows:\r\n\r\n    \t\tif (stk.getQty() == 0) {    // mise en valeur des stocks &#224; 0 non purgeables\r\n\t\t\t\tcellStockQty.setTextColor(Color.RED);\r\n\t\t\t\tGradientDrawable border = new GradientDrawable();\r\n\t\t\t\tborder.setColor(mIV.getResources().getColor(R.color.colorAugment));  // white background\r\n\t\t\t\tborder.setStroke(1, mIV.getResources().getColor(R.color.colorAccent));  // black border with full\r\n\t\t\t\tmIV.setBackground(border);\r\n\t\t\t}\r\n\r\n\r\nWhen I delete an item, I manage to remove it from the display, with notifyItemRemoved(index); but the next item takes the presentation of the item that was deleted.\r\n\r\nOf course, if I leave this activity then come back, all is right.\r\n\r\nHow to make sure to refresh the display, depending on the data?\r\n\r\n[before deleting Jjjjjj item][1]\r\n\r\n[after deleting Jjjjjj item][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ChSfY.jpg\r\n  [2]: https://i.stack.imgur.com/zqsdi.jpg\r\n\r\n**Edit:**\r\n\r\nHere is my original layout\r\n\r\n\t&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:layout_margin=&quot;0dp&quot;\r\n\t\tandroid:foreground=&quot;@drawable/card_foreground&quot;\r\n\t\tapp:cardBackgroundColor=&quot;@color/stockRecyclerviewBackground&quot;\r\n\t\tapp:cardCornerRadius=&quot;6dp&quot;\r\n\t\tapp:cardElevation=&quot;4dp&quot;\r\n\t\tapp:cardMaxElevation=&quot;6dp&quot;\r\n\t\tapp:cardPreventCornerOverlap=&quot;false&quot;\r\n\t\tapp:cardUseCompatPadding=&quot;true&quot;&gt;\r\n\r\n\t\t&lt;include layout=&quot;@layout/recystock_cell_include&quot; /&gt;\r\n\r\n\t&lt;/androidx.cardview.widget.CardView&gt;","title":"how to refresh a RecyclerView draw (not datas)?","body":"<p>In a RecyclerView, I change the presentation for some items as follows:</p>\n<pre><code>        if (stk.getQty() == 0) {    // mise en valeur des stocks  0 non purgeables\n            cellStockQty.setTextColor(Color.RED);\n            GradientDrawable border = new GradientDrawable();\n            border.setColor(mIV.getResources().getColor(R.color.colorAugment));  // white background\n            border.setStroke(1, mIV.getResources().getColor(R.color.colorAccent));  // black border with full\n            mIV.setBackground(border);\n        }\n</code></pre>\n<p>When I delete an item, I manage to remove it from the display, with notifyItemRemoved(index); but the next item takes the presentation of the item that was deleted.</p>\n<p>Of course, if I leave this activity then come back, all is right.</p>\n<p>How to make sure to refresh the display, depending on the data?</p>\n<p><a href=\"https://i.stack.imgur.com/ChSfY.jpg\" rel=\"nofollow noreferrer\">before deleting Jjjjjj item</a></p>\n<p><a href=\"https://i.stack.imgur.com/zqsdi.jpg\" rel=\"nofollow noreferrer\">after deleting Jjjjjj item</a></p>\n<p><strong>Edit:</strong></p>\n<p>Here is my original layout</p>\n<pre><code>&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;0dp&quot;\n    android:foreground=&quot;@drawable/card_foreground&quot;\n    app:cardBackgroundColor=&quot;@color/stockRecyclerviewBackground&quot;\n    app:cardCornerRadius=&quot;6dp&quot;\n    app:cardElevation=&quot;4dp&quot;\n    app:cardMaxElevation=&quot;6dp&quot;\n    app:cardPreventCornerOverlap=&quot;false&quot;\n    app:cardUseCompatPadding=&quot;true&quot;&gt;\n\n    &lt;include layout=&quot;@layout/recystock_cell_include&quot; /&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","r","rjava"],"owner":{"account_id":6002930,"reputation":35,"user_id":4715636,"display_name":"Zdenek Skala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659335972,"creation_date":1658508493,"question_id":73083618,"body_markdown":"I am working with R 4.2.1, 64bit, Windows 10.\r\n\r\nwhile calling library rsubgroup, I get an error:\r\n\r\n&gt; library(rsubgroup)  \r\nLoading required package: foreign  \r\nError: package or namespace load failed for rsubgroup:  \r\n .onLoad failed in loadNamespace() for &#39;rsubgroup&#39;, details:  \r\n  call: .jinit(parameters = parameters)  \r\n  error: Unable to create a Java class loader.  \r\n\r\nrJava loads without problems.  \r\nI have installed Java 1.8.0_341 and JDK jdk-18.0.2  \r\nI have set-up manually JAVA_HOME and PATH variables.\r\n\r\nAny hints what can go wrong with .jinit?\r\nmany thanks!\r\n\r\nSolved, caused by my comp installation: R is installed in C:.../ProgramFiles that is write-protected (accessible only by &quot;admin&quot;); rJava and rsubgroup installed in the ...Users personal library. While moving all installation (core R, libraries) to writable disk, all starts to work. Apologies for this dumb question but I leave it here - perhaps could help somebody in future...","title":"Why does not rsubgroup initialize Java?","body":"<p>I am working with R 4.2.1, 64bit, Windows 10.</p>\n<p>while calling library rsubgroup, I get an error:</p>\n<blockquote>\n<p>library(rsubgroup)<br />\nLoading required package: foreign<br />\nError: package or namespace load failed for rsubgroup:<br />\n.onLoad failed in loadNamespace() for 'rsubgroup', details:<br />\ncall: .jinit(parameters = parameters)<br />\nerror: Unable to create a Java class loader.</p>\n</blockquote>\n<p>rJava loads without problems.<br />\nI have installed Java 1.8.0_341 and JDK jdk-18.0.2<br />\nI have set-up manually JAVA_HOME and PATH variables.</p>\n<p>Any hints what can go wrong with .jinit?\nmany thanks!</p>\n<p>Solved, caused by my comp installation: R is installed in C:.../ProgramFiles that is write-protected (accessible only by &quot;admin&quot;); rJava and rsubgroup installed in the ...Users personal library. While moving all installation (core R, libraries) to writable disk, all starts to work. Apologies for this dumb question but I leave it here - perhaps could help somebody in future...</p>\n"},{"tags":["java","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659335456,"creation_date":1659335456,"answer_id":73189603,"question_id":73189272,"body_markdown":"From what I can see in TestBean class, you use `writeDelimiter = &quot;,&quot;` to separate individual columns. This works, but does not exclude the delimiter (&#39;,&#39; in your case), so it tries to parse &quot;3.55,&quot; instead of &quot;3.55&quot;. The same names for earlier strings in your list are &quot;langez,&quot;, &quot;canou,&quot;, &quot;passen&quot; instead of &quot;langez&quot;, &quot;canou&quot;, &quot;passen&quot;. I suggest instead to use &quot;splitOn =&quot;, &quot;&quot; which excludes commas.\r\n\r\n       @CsvBindAndSplitByName(elementType = Double.class, column = &quot;values&quot;, splitOn = &quot;,&quot;)\r\n        private List&lt;Double&gt; values;\r\n\r\n","title":"Why does OpenCSV throw a CsvDataTypeMismatchException for a properly formatted CSV file with decimals?","body":"<p>From what I can see in TestBean class, you use <code>writeDelimiter = &quot;,&quot;</code> to separate individual columns. This works, but does not exclude the delimiter (',' in your case), so it tries to parse &quot;3.55,&quot; instead of &quot;3.55&quot;. The same names for earlier strings in your list are &quot;langez,&quot;, &quot;canou,&quot;, &quot;passen&quot; instead of &quot;langez&quot;, &quot;canou&quot;, &quot;passen&quot;. I suggest instead to use &quot;splitOn =&quot;, &quot;&quot; which excludes commas.</p>\n<pre><code>   @CsvBindAndSplitByName(elementType = Double.class, column = &quot;values&quot;, splitOn = &quot;,&quot;)\n    private List&lt;Double&gt; values;\n</code></pre>\n"}],"owner":{"account_id":25944592,"reputation":13,"user_id":19663484,"display_name":"Robert Fedden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73189603,"answer_count":1,"score":1,"last_activity_date":1659335456,"creation_date":1659332910,"question_id":73189272,"body_markdown":"I am attempting to use OpenCSV to process my CSV file delimited by semicolons, and I&#39;ve written my representative bean&#39;s fields with the relevant annotationswith `@CsvBindAndSplitByName`and it appears to fail on a list of `Double`s but not with a list of `String`s. Why is this?\r\n\r\nMy bean: \r\n```\r\nimport com.opencsv.bean.CsvBindAndSplitByName;\r\nimport com.opencsv.bean.CsvBindByName;\r\nimport java.util.List;\r\n\r\npublic class TestBean {\r\n\r\n    @CsvBindByName(column = &quot;name&quot;, required = true)\r\n    private String name;\r\n\r\n    @CsvBindAndSplitByName(elementType = String.class, column = &quot;desc&quot;, writeDelimiter = &quot;,&quot;)\r\n    private List&lt;String&gt; descriptions;\r\n\r\n    @CsvBindAndSplitByName(elementType = Double.class, column = &quot;values&quot;, writeDelimiter = &quot;,&quot;)\r\n    private List&lt;Double&gt; values;\r\n}\r\n```\r\n\r\nMy data(`test.csv`):\r\n```\r\nname; desc; values\r\npotato; langez, canou, passen; 3.55, 2.76, 1.92\r\n```\r\n\r\nAnd reading the file and processing it:\r\n```\r\nimport com.opencsv.bean.CsvToBeanBuilder;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.util.List;\r\nimport java.io.FileReader;\r\n\r\npublic class TestBeanReader {\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        List&lt;TestBean&gt; locations = new CsvToBeanBuilder&lt;TestBean&gt;(new FileReader(&quot;test.csv&quot;)).withSeparator(&#39;;&#39;).withType(TestBean.class).build().parse();\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nException in thread &quot;pool-1-thread-1&quot; Exception in thread &quot;main&quot; java.lang.RuntimeException: com.opencsv.exceptions.CsvDataTypeMismatchException: Conversion of 3.55, to java.lang.Double failed.\r\n\tat com.opencsv.bean.util.OpencsvUtils.handleException(OpencsvUtils.java:128)\r\n\tat com.opencsv.bean.concurrent.ProcessCsvLine.run(ProcessCsvLine.java:108)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.opencsv.exceptions.CsvDataTypeMismatchException: Conversion of 3.55, to java.lang.Double failed.\r\n\tat com.opencsv.bean.ConverterPrimitiveTypes.convertToRead(ConverterPrimitiveTypes.java:128)\r\n\tat com.opencsv.bean.BeanFieldSplit.convert(BeanFieldSplit.java:203)\r\n\tat com.opencsv.bean.AbstractBeanField.setFieldValue(AbstractBeanField.java:182)\r\n\tat com.opencsv.bean.AbstractMappingStrategy.setFieldValue(AbstractMappingStrategy.java:631)\r\n\tat com.opencsv.bean.AbstractMappingStrategy.populateNewBean(AbstractMappingStrategy.java:334)\r\n\tat com.opencsv.bean.concurrent.ProcessCsvLine.processLine(ProcessCsvLine.java:131)\r\n\tat com.opencsv.bean.concurrent.ProcessCsvLine.run(ProcessCsvLine.java:87)\r\n\t... 3 more\r\nCaused by: org.apache.commons.beanutils.ConversionException: Error converting from &#39;String&#39; to &#39;Double&#39; For input string: &quot;3.55,&quot;\r\n\tat org.apache.commons.beanutils.converters.AbstractConverter.handleError(AbstractConverter.java:282)\r\n\tat org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:177)\r\n\tat org.apache.commons.beanutils.converters.ConverterFacade.convert(ConverterFacade.java:61)\r\n\tat org.apache.commons.beanutils.ConvertUtilsBean.convert(ConvertUtilsBean.java:491)\r\n\tat com.opencsv.bean.ConverterPrimitiveTypes.convertToRead(ConverterPrimitiveTypes.java:118)\r\n\t... 9 more\r\n```","title":"Why does OpenCSV throw a CsvDataTypeMismatchException for a properly formatted CSV file with decimals?","body":"<p>I am attempting to use OpenCSV to process my CSV file delimited by semicolons, and I've written my representative bean's fields with the relevant annotationswith <code>@CsvBindAndSplitByName</code>and it appears to fail on a list of <code>Double</code>s but not with a list of <code>String</code>s. Why is this?</p>\n<p>My bean:</p>\n<pre><code>import com.opencsv.bean.CsvBindAndSplitByName;\nimport com.opencsv.bean.CsvBindByName;\nimport java.util.List;\n\npublic class TestBean {\n\n    @CsvBindByName(column = &quot;name&quot;, required = true)\n    private String name;\n\n    @CsvBindAndSplitByName(elementType = String.class, column = &quot;desc&quot;, writeDelimiter = &quot;,&quot;)\n    private List&lt;String&gt; descriptions;\n\n    @CsvBindAndSplitByName(elementType = Double.class, column = &quot;values&quot;, writeDelimiter = &quot;,&quot;)\n    private List&lt;Double&gt; values;\n}\n</code></pre>\n<p>My data(<code>test.csv</code>):</p>\n<pre><code>name; desc; values\npotato; langez, canou, passen; 3.55, 2.76, 1.92\n</code></pre>\n<p>And reading the file and processing it:</p>\n<pre><code>import com.opencsv.bean.CsvToBeanBuilder;\n\nimport java.io.FileNotFoundException;\nimport java.util.List;\nimport java.io.FileReader;\n\npublic class TestBeanReader {\n    public static void main(String[] args) throws FileNotFoundException {\n        List&lt;TestBean&gt; locations = new CsvToBeanBuilder&lt;TestBean&gt;(new FileReader(&quot;test.csv&quot;)).withSeparator(';').withType(TestBean.class).build().parse();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;pool-1-thread-1&quot; Exception in thread &quot;main&quot; java.lang.RuntimeException: com.opencsv.exceptions.CsvDataTypeMismatchException: Conversion of 3.55, to java.lang.Double failed.\n    at com.opencsv.bean.util.OpencsvUtils.handleException(OpencsvUtils.java:128)\n    at com.opencsv.bean.concurrent.ProcessCsvLine.run(ProcessCsvLine.java:108)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.opencsv.exceptions.CsvDataTypeMismatchException: Conversion of 3.55, to java.lang.Double failed.\n    at com.opencsv.bean.ConverterPrimitiveTypes.convertToRead(ConverterPrimitiveTypes.java:128)\n    at com.opencsv.bean.BeanFieldSplit.convert(BeanFieldSplit.java:203)\n    at com.opencsv.bean.AbstractBeanField.setFieldValue(AbstractBeanField.java:182)\n    at com.opencsv.bean.AbstractMappingStrategy.setFieldValue(AbstractMappingStrategy.java:631)\n    at com.opencsv.bean.AbstractMappingStrategy.populateNewBean(AbstractMappingStrategy.java:334)\n    at com.opencsv.bean.concurrent.ProcessCsvLine.processLine(ProcessCsvLine.java:131)\n    at com.opencsv.bean.concurrent.ProcessCsvLine.run(ProcessCsvLine.java:87)\n    ... 3 more\nCaused by: org.apache.commons.beanutils.ConversionException: Error converting from 'String' to 'Double' For input string: &quot;3.55,&quot;\n    at org.apache.commons.beanutils.converters.AbstractConverter.handleError(AbstractConverter.java:282)\n    at org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:177)\n    at org.apache.commons.beanutils.converters.ConverterFacade.convert(ConverterFacade.java:61)\n    at org.apache.commons.beanutils.ConvertUtilsBean.convert(ConvertUtilsBean.java:491)\n    at com.opencsv.bean.ConverterPrimitiveTypes.convertToRead(ConverterPrimitiveTypes.java:118)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","android","android-studio","java-8"],"comments":[{"owner":{"account_id":4255271,"reputation":870,"user_id":3481130,"display_name":"Mohammad Misbah"},"score":0,"creation_date":1660738098,"post_id":73187929,"comment_id":129602579,"body_markdown":"Did you got any solution for this ?","body":"Did you got any solution for this ?"}],"answers":[{"tags":[],"owner":{"account_id":22770629,"reputation":188,"user_id":16928120,"display_name":"Tablet1 User1"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1659334981,"creation_date":1659334199,"answer_id":73189430,"question_id":73187929,"body_markdown":"According to [this page](https://developer.android.com/studio/write/java8-support#library-desugaring), the minimum version of Android Gradle plugin required is `7.3.0-beta03` to be able to upgrade the desugar library to `1.2.0`, and `7.3.x` is not yet available for Android Studio Chipmunk.","title":"Android Studio Chipmunk (2021.2.1) Java 8 library desugaring in D8 and R8 Build Error: &quot;Unsupported desugared library configuration version&quot;","body":"<p>According to <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\">this page</a>, the minimum version of Android Gradle plugin required is <code>7.3.0-beta03</code> to be able to upgrade the desugar library to <code>1.2.0</code>, and <code>7.3.x</code> is not yet available for Android Studio Chipmunk.</p>\n"}],"owner":{"account_id":21933833,"reputation":113,"user_id":16215410,"display_name":"sundrycode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3467,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73189430,"answer_count":1,"score":7,"last_activity_date":1659334981,"creation_date":1659314525,"question_id":73187929,"body_markdown":"After updating my apps build gradle and dependencies (I did not update Android Studio itself), Android Studio is giving me this error: ```Error: Unsupported desugared library configuration version, please upgrade the D8/R8 compiler.```\r\nBefore the update everything compiled fine.\r\n\r\nI am using: \r\n- ```com.android.tools:desugar_jdk_libs:1.2.0``` (This was the newest version I could find)\r\n- Gradle plugin version ```7.2.0```\r\n- Gradle version ```7.5```\r\n- Android Studio version ```Chipmunk (2021.2.1)```\r\n\r\nDid I configuration something wrong? How can I fix this? Thanks in advance!\r\n\r\n","title":"Android Studio Chipmunk (2021.2.1) Java 8 library desugaring in D8 and R8 Build Error: &quot;Unsupported desugared library configuration version&quot;","body":"<p>After updating my apps build gradle and dependencies (I did not update Android Studio itself), Android Studio is giving me this error: <code>Error: Unsupported desugared library configuration version, please upgrade the D8/R8 compiler.</code>\nBefore the update everything compiled fine.</p>\n<p>I am using:</p>\n<ul>\n<li><code>com.android.tools:desugar_jdk_libs:1.2.0</code> (This was the newest version I could find)</li>\n<li>Gradle plugin version <code>7.2.0</code></li>\n<li>Gradle version <code>7.5</code></li>\n<li>Android Studio version <code>Chipmunk (2021.2.1)</code></li>\n</ul>\n<p>Did I configuration something wrong? How can I fix this? Thanks in advance!</p>\n"},{"tags":["java","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":1,"creation_date":1659334897,"post_id":73189470,"comment_id":129261271,"body_markdown":"Can you share the link to your code repository?","body":"Can you share the link to your code repository?"},{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1659337153,"post_id":73189470,"comment_id":129261809,"body_markdown":"Did you add an @Async(&quot;taskExecutor&quot;) to the controller?","body":"Did you add an @Async(&quot;taskExecutor&quot;) to the controller?"}],"owner":{"account_id":20413480,"reputation":1,"user_id":14976299,"display_name":"Ali Azizi Pour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659334503,"creation_date":1659334503,"question_id":73189470,"body_markdown":"I use spring-boot in micro service arch when i use @EnableAsync annotation in config like this\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfig implements AsyncConfigurer {\r\n        @Bean(&quot;taskExecutor&quot;)\r\n        public AsyncTaskExecutor taskExecutor() {\r\n            final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setCorePoolSize(16);\r\n            executor.setMaxPoolSize(1024 * 100);\r\n            executor.setQueueCapacity(1024 * 1000);whay\r\n            executor.setThreadNamePrefix(&quot;task-pool-&quot;);\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n    \r\n    }\r\nmy rest controllers won&#39;t detect anymore and get warn like this:\r\n```\r\n2022-08-01 10:32:03.086  WARN 1185196 --- [nio-1503-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /api/cycle/all/byYear\r\n```\r\n\r\nwhy?","title":"My Rest Mappings not found when use @EnableAsync","body":"<p>I use spring-boot in micro service arch when i use @EnableAsync annotation in config like this</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfig implements AsyncConfigurer {\n    @Bean(&quot;taskExecutor&quot;)\n    public AsyncTaskExecutor taskExecutor() {\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(16);\n        executor.setMaxPoolSize(1024 * 100);\n        executor.setQueueCapacity(1024 * 1000);whay\n        executor.setThreadNamePrefix(&quot;task-pool-&quot;);\n        executor.initialize();\n        return executor;\n    }\n\n}\n</code></pre>\n<p>my rest controllers won't detect anymore and get warn like this:</p>\n<pre><code>2022-08-01 10:32:03.086  WARN 1185196 --- [nio-1503-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /api/cycle/all/byYear\n</code></pre>\n<p>why?</p>\n"},{"tags":["java","android","android-glide"],"answers":[{"tags":[],"owner":{"account_id":9066591,"reputation":202,"user_id":6751183,"display_name":"Vincent Mungai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536852488,"creation_date":1536852488,"answer_id":52317006,"question_id":52314383,"body_markdown":"Try this\r\n\r\n    Glide\r\n        .with(ctx)\r\n        .load(url)\r\n        .apply(new RequestOptions().override(600, 200))\r\n        .into(imageView);","title":"How to Compress and reduce Quality of image using Glide for android","body":"<p>Try this</p>\n\n<pre><code>Glide\n    .with(ctx)\n    .load(url)\n    .apply(new RequestOptions().override(600, 200))\n    .into(imageView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13381081,"reputation":13847,"user_id":9656320,"display_name":"Son Truong"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1536890228,"creation_date":1536890228,"answer_id":52324002,"question_id":52314383,"body_markdown":"From [Glide official site][1]:\r\n\r\n&gt; By default Glide prefers RGB_565 because it requires only two bytes\r\n&gt; per pixel (16 bit) and therefore has half the memory footprint of the\r\n&gt; higher quality and system default ARGB_8888.\r\n\r\nSo you cannot reduce the quality of a bitmap anymore, but you have some another options.\r\n\r\n**Option 1**: Resizing image size with `override(x, y)`.\r\n\r\n    RequestOptions myOptions = new RequestOptions()\r\n        .override(100, 100);\r\n\r\n    Glide.with(fragment)\r\n        .asBitmap()\r\n        .apply(myOptions)\r\n        .load(url)\r\n        .into(bitmapView);\r\n\r\n**Option 2**: Scaling image with `centerCrop` or `fitCenter`\r\n\r\n&gt; centerCrop() is a cropping technique that scales the image so that it\r\n&gt; fills the requested bounds of the ImageView and then crops the extra.\r\n&gt; The ImageView will be filled completely, but the entire image might\r\n&gt; not be displayed.\r\n\r\n    RequestOptions myOptions = new RequestOptions()\r\n        .centerCrop();\r\n    \r\n    Glide.with(ctx)\r\n        .asBitmap()\r\n        .apply(myOptions)\r\n        .load(url)\r\n        .into(bitmapView);\r\n\r\n&gt; fitCenter() is a cropping technique that scales the image so that both\r\n&gt; dimensions are equal to or less than the requested bounds of the\r\n&gt; ImageView. The image will be displayed completely, but might not fill\r\n&gt; the entire ImageView.\r\n\r\n    RequestOptions myOptions = new RequestOptions()\r\n            .fitCenter();\r\n        \r\n        Glide.with(ctx)\r\n            .asBitmap()\r\n            .apply(myOptions)\r\n            .load(url)\r\n            .into(bitmapView);\r\n\r\n**Option 3**: Mix both of these solutions\r\n\r\n    RequestOptions myOptions = new RequestOptions()\r\n        .fitCenter() // or centerCrop\r\n        .override(100, 100);\r\n    \r\n     Glide.with(ctx)\r\n         .asBitmap()\r\n         .apply(myOptions)\r\n         .load(url)\r\n         .into(bitmapView);\r\n\r\n  [1]: https://github.com/bumptech/glide/wiki/Configuration#bitmap-format","title":"How to Compress and reduce Quality of image using Glide for android","body":"<p>From <a href=\"https://github.com/bumptech/glide/wiki/Configuration#bitmap-format\" rel=\"noreferrer\">Glide official site</a>:</p>\n\n<blockquote>\n  <p>By default Glide prefers RGB_565 because it requires only two bytes\n  per pixel (16 bit) and therefore has half the memory footprint of the\n  higher quality and system default ARGB_8888.</p>\n</blockquote>\n\n<p>So you cannot reduce the quality of a bitmap anymore, but you have some another options.</p>\n\n<p><strong>Option 1</strong>: Resizing image size with <code>override(x, y)</code>.</p>\n\n<pre><code>RequestOptions myOptions = new RequestOptions()\n    .override(100, 100);\n\nGlide.with(fragment)\n    .asBitmap()\n    .apply(myOptions)\n    .load(url)\n    .into(bitmapView);\n</code></pre>\n\n<p><strong>Option 2</strong>: Scaling image with <code>centerCrop</code> or <code>fitCenter</code></p>\n\n<blockquote>\n  <p>centerCrop() is a cropping technique that scales the image so that it\n  fills the requested bounds of the ImageView and then crops the extra.\n  The ImageView will be filled completely, but the entire image might\n  not be displayed.</p>\n</blockquote>\n\n<pre><code>RequestOptions myOptions = new RequestOptions()\n    .centerCrop();\n\nGlide.with(ctx)\n    .asBitmap()\n    .apply(myOptions)\n    .load(url)\n    .into(bitmapView);\n</code></pre>\n\n<blockquote>\n  <p>fitCenter() is a cropping technique that scales the image so that both\n  dimensions are equal to or less than the requested bounds of the\n  ImageView. The image will be displayed completely, but might not fill\n  the entire ImageView.</p>\n</blockquote>\n\n<pre><code>RequestOptions myOptions = new RequestOptions()\n        .fitCenter();\n\n    Glide.with(ctx)\n        .asBitmap()\n        .apply(myOptions)\n        .load(url)\n        .into(bitmapView);\n</code></pre>\n\n<p><strong>Option 3</strong>: Mix both of these solutions</p>\n\n<pre><code>RequestOptions myOptions = new RequestOptions()\n    .fitCenter() // or centerCrop\n    .override(100, 100);\n\n Glide.with(ctx)\n     .asBitmap()\n     .apply(myOptions)\n     .load(url)\n     .into(bitmapView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2531343,"reputation":522,"user_id":2199589,"accept_rate":38,"display_name":"Steve Cortis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587553729,"creation_date":1587382066,"answer_id":61321364,"question_id":52314383,"body_markdown":"My solution for this uses Kotlin&#39;s Extensions functions. Using the width and height of the image which makes it more efficient. In some cases you might need to add a multiplier to the width and height for better quality.\r\n\r\n        fun ImageView.loadImage(uri: String) {\r\n    \r\n            this.post {\r\n        \r\n                val myOptions = RequestOptions()\r\n                   .override(this.width, this.height)\r\n                   .centerCrop()\r\n        \r\n                Glide\r\n                   .with(this.context)\r\n                   .load(uri)\r\n                   .apply(myOptions)\r\n                   .into(this)\r\n    \r\n            }\r\n        \r\n        }","title":"How to Compress and reduce Quality of image using Glide for android","body":"<p>My solution for this uses Kotlin's Extensions functions. Using the width and height of the image which makes it more efficient. In some cases you might need to add a multiplier to the width and height for better quality.</p>\n\n<pre><code>    fun ImageView.loadImage(uri: String) {\n\n        this.post {\n\n            val myOptions = RequestOptions()\n               .override(this.width, this.height)\n               .centerCrop()\n\n            Glide\n               .with(this.context)\n               .load(uri)\n               .apply(myOptions)\n               .into(this)\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":13450936,"reputation":429,"user_id":9705786,"display_name":"Bir Nepali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19564,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":52324002,"answer_count":3,"score":5,"last_activity_date":1659334385,"creation_date":1536843899,"question_id":52314383,"body_markdown":"I&#39;m using Glide library to upload images.  In another app, I use this code\r\n\r\n\r\n  \r\n\r\n    void imageButtonclick() {\r\n            iv1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    CropImage.activity(filePath).setGuidelines(CropImageView.Guidelines.ON)\r\n                        .setAspectRatio(1,1).setOutputCompressQuality(50).start(UploadBook.this);\r\n    \r\n                    // Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                        //intent.putExtra(MediaStore.EXTRA_OUTPUT,imageuri);\r\n                        //startActivityForResult(intent, CAMERA_REQUEST_CODE);\r\n                }\r\n            });\r\n\r\n\r\nto decrease the size of the image by declaring `.setOutputCompressQuality(50)` But I don&#39;t know how to do the same with the Glide Image library.\r\n\r\nMy code is \r\n\r\n\r\n \r\n\r\n    public static void loadLocalImage(Context ctx, RequestOptions glideRequests, Uri uri, ImageView imageView,\r\n                                          RequestListener listener) {\r\n    \r\n            glideRequests.fitCenter()\r\n                    .skipMemoryCache(true)\r\n                    .diskCacheStrategy(DiskCacheStrategy.NONE);\r\n            Glide.with(ctx)\r\n                    .applyDefaultRequestOptions(glideRequests.placeholder(R.drawable.ic_stub).error(R.drawable.ic_stub))\r\n                    .asBitmap()\r\n                    .load(uri)\r\n                    .listener(listener)\r\n                    .into(imageView);\r\n    \r\n        }\r\n\r\n\r\n\r\n\r\n","title":"How to Compress and reduce Quality of image using Glide for android","body":"<p>I'm using Glide library to upload images.  In another app, I use this code</p>\n<pre><code>void imageButtonclick() {\n        iv1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                CropImage.activity(filePath).setGuidelines(CropImageView.Guidelines.ON)\n                    .setAspectRatio(1,1).setOutputCompressQuality(50).start(UploadBook.this);\n\n                // Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                    //intent.putExtra(MediaStore.EXTRA_OUTPUT,imageuri);\n                    //startActivityForResult(intent, CAMERA_REQUEST_CODE);\n            }\n        });\n</code></pre>\n<p>to decrease the size of the image by declaring <code>.setOutputCompressQuality(50)</code> But I don't know how to do the same with the Glide Image library.</p>\n<p>My code is</p>\n<pre><code>public static void loadLocalImage(Context ctx, RequestOptions glideRequests, Uri uri, ImageView imageView,\n                                      RequestListener listener) {\n\n        glideRequests.fitCenter()\n                .skipMemoryCache(true)\n                .diskCacheStrategy(DiskCacheStrategy.NONE);\n        Glide.with(ctx)\n                .applyDefaultRequestOptions(glideRequests.placeholder(R.drawable.ic_stub).error(R.drawable.ic_stub))\n                .asBitmap()\n                .load(uri)\n                .listener(listener)\n                .into(imageView);\n\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":25944501,"reputation":31,"user_id":19663406,"display_name":"Saurabh Jadhav"},"score":0,"creation_date":1659332555,"post_id":73189130,"comment_id":129260755,"body_markdown":"I tried using image in drawble , but when i tried to get image, liek resources.getDrawable(r.drawblle.name) it shows doesnt exist","body":"I tried using image in drawble , but when i tried to get image, liek resources.getDrawable(r.drawblle.name) it shows doesnt exist"},{"owner":{"account_id":25944501,"reputation":31,"user_id":19663406,"display_name":"Saurabh Jadhav"},"score":0,"creation_date":1659332621,"post_id":73189130,"comment_id":129260774,"body_markdown":"getResources().openRawResource(R.raw.filename) i know this fun, but how can i create path of it and use it for next time? what is proper way i dont know","body":"getResources().openRawResource(R.raw.filename) i know this fun, but how can i create path of it and use it for next time? what is proper way i dont know"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1659333082,"post_id":73189130,"comment_id":129260867,"body_markdown":"You don&#39;t create a path of it.  Resources don&#39;t have paths.","body":"You don&#39;t create a path of it.  Resources don&#39;t have paths."},{"owner":{"account_id":25944501,"reputation":31,"user_id":19663406,"display_name":"Saurabh Jadhav"},"score":0,"creation_date":1659333497,"post_id":73189130,"comment_id":129260947,"body_markdown":"yeah so what should i do? after all search of stackoverflow im only getting we cant create a path, then what should i do for model class of mp3 files? and how to retrive in recylerview what is good approach?","body":"yeah so what should i do? after all search of stackoverflow im only getting we cant create a path, then what should i do for model class of mp3 files? and how to retrive in recylerview what is good approach?"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659333488,"creation_date":1659333488,"answer_id":73189348,"question_id":73189130,"body_markdown":"Assets vs raw-  if you have lots of them, assets.  Raw would only be used if you have a very small set of them you never expect to change.  I&#39;d really only be using resources if there&#39;s some part of the resource system, like switching them out for different locales, that you need to take advantage of.\r\n\r\nWhat should your pojo have?  You need to explain that better-  what do you want a POJO for and how is it going to be used.  If you just want to reference an asset or resource you&#39;d use the name (for assets) or id (for resources).  No need to make a class for either.  \r\n\r\nWhat&#39;s the path?  Neither of them have a path.  WebViews have a hack in them that uses a path to assets and converts that into calls to asset manager, but by neither of them have paths that would be recognized if you tried to make a File() object.  For resources you just use R.raw.resource_name.  For assets you use AssetManager.open.\r\n\r\n\r\n","title":"How can create pojo class for mp3 files stored in assets android?","body":"<p>Assets vs raw-  if you have lots of them, assets.  Raw would only be used if you have a very small set of them you never expect to change.  I'd really only be using resources if there's some part of the resource system, like switching them out for different locales, that you need to take advantage of.</p>\n<p>What should your pojo have?  You need to explain that better-  what do you want a POJO for and how is it going to be used.  If you just want to reference an asset or resource you'd use the name (for assets) or id (for resources).  No need to make a class for either.</p>\n<p>What's the path?  Neither of them have a path.  WebViews have a hack in them that uses a path to assets and converts that into calls to asset manager, but by neither of them have paths that would be recognized if you tried to make a File() object.  For resources you just use R.raw.resource_name.  For assets you use AssetManager.open.</p>\n"}],"owner":{"account_id":25944501,"reputation":31,"user_id":19663406,"display_name":"Saurabh Jadhav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659334199,"creation_date":1659331584,"question_id":73189130,"body_markdown":" - Where should i store my mp3&#39;s assets or raw?\r\n - what my kotlin data/pojo class should have? filepath how to calculate?\r\n - how can i create path to be stored in data class and again retireve in recyler adapter with name pased in pojo class?\r\n\r\n\r\nI want to store multiple images and mp3 and want to use viewmodel too\r\n\r\nupdate:\r\n\r\nMy Pojo class:\r\n\r\n    data class SoundsModel(\r\n        var name: String,\r\n        var imagePath: String,\r\n        var filePath: String\r\n    )\r\n\r\nMy adapter binder:\r\n\r\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n\r\n\r\n    holder.binding.ivSound.setImageDrawable(context.resources.getDrawable(R.drawable.bg_mountains))\r\n    holder.binding.tvSound.text = modelList[position].name\r\n\r\n\r\n}\r\n\r\n\r\nMy array:\r\n\r\n    lateinit var soundList: ArrayList&lt;SoundsModel&gt;\r\n    soundList= arrayListOf()\r\n        soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\r\n        soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\r\n        soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\r\n        soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\r\n        soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\r\n        soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\r\n\r\n","title":"How can create pojo class for mp3 files stored in assets android?","body":"<ul>\n<li>Where should i store my mp3's assets or raw?</li>\n<li>what my kotlin data/pojo class should have? filepath how to calculate?</li>\n<li>how can i create path to be stored in data class and again retireve in recyler adapter with name pased in pojo class?</li>\n</ul>\n<p>I want to store multiple images and mp3 and want to use viewmodel too</p>\n<p>update:</p>\n<p>My Pojo class:</p>\n<pre><code>data class SoundsModel(\n    var name: String,\n    var imagePath: String,\n    var filePath: String\n)\n</code></pre>\n<p>My adapter binder:</p>\n<p>override fun onBindViewHolder(holder: ViewHolder, position: Int) {</p>\n<pre><code>holder.binding.ivSound.setImageDrawable(context.resources.getDrawable(R.drawable.bg_mountains))\nholder.binding.tvSound.text = modelList[position].name\n</code></pre>\n<p>}</p>\n<p>My array:</p>\n<pre><code>lateinit var soundList: ArrayList&lt;SoundsModel&gt;\nsoundList= arrayListOf()\n    soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\n    soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\n    soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\n    soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\n    soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\n    soundList.add(SoundsModel(&quot;Rain Sound&quot;,&quot;bg_mountains&quot;,&quot;name&quot;))\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659174637,"post_id":73174541,"comment_id":129234110,"body_markdown":"Please post the full exception stacktrace.","body":"Please post the full exception stacktrace."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659175965,"post_id":73174541,"comment_id":129234333,"body_markdown":"What does your package structure look like? (Include the `package` statements in code that you posted). Is class `UserService` in a package that Spring scans for components?","body":"What does your package structure look like? (Include the <code>package</code> statements in code that you posted). Is class <code>UserService</code> in a package that Spring scans for components?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1659178000,"post_id":73174541,"comment_id":129234706,"body_markdown":"This text indicate you need to define a bean more. `Parameter 0 of constructor in de.christoph.UserController required a bean of type &#39;de.christoph.Users&#39; that could not be found.\n`","body":"This text indicate you need to define a bean more. <code>Parameter 0 of constructor in de.christoph.UserController required a bean of type &#39;de.christoph.Users&#39; that could not be found. </code>"}],"answers":[{"tags":[],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659332864,"creation_date":1659332864,"answer_id":73189263,"question_id":73174541,"body_markdown":"You need to add `@Autowired` to your Users class in `UserController`.\r\n\r\n    \r\n    \r\n    public class UserController {\r\n    \r\n        private Logger logger = LogManager.getLogger();\r\n    \r\n    @Autowired\r\n        private final Users users;","title":"Spring Boot &quot;Could not Autowire&quot;","body":"<p>You need to add <code>@Autowired</code> to your Users class in <code>UserController</code>.</p>\n<pre><code>public class UserController {\n\n    private Logger logger = LogManager.getLogger();\n\n@Autowired\n    private final Users users;\n</code></pre>\n"}],"owner":{"account_id":25899662,"reputation":43,"user_id":19625767,"display_name":"Chrisy455"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73189263,"answer_count":1,"score":-1,"last_activity_date":1659332864,"creation_date":1659174484,"question_id":73174541,"body_markdown":"The Tomcat always crashes with the error &quot;Could not autowire...&quot;\r\nI dont have a database i&#39;m simulating with an ArrayList btw\r\n\r\nMy Interface for User:\r\n\r\n    public interface Users{\r\n    \r\n        Optional&lt;User&gt; findbyId(int id);\r\n    \r\n        void create(User user);\r\n    \r\n        void changesomething(User user);\r\n    }\r\n\r\nthe class User, with id, email, nutzername and password:\r\n\r\n    @Data\r\n    public class User{\r\n    \r\n        int id;\r\n    \r\n        String email;\r\n    \r\n        String nutzername;\r\n    \r\n        String password;\r\n        \r\n    }\r\n\r\nMy Service Class with the Service annotation:\r\n\r\n    @Service\r\n    public class UserService implements Users{\r\n    \r\n        private final ArrayList&lt;User&gt; userlist;\r\n    \r\n        public UserService(ArrayList&lt;User&gt; userlist) {\r\n            this.userlist = userlist;\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;User&gt; findbyId(int id) {\r\n            if(userlist.get(id) != null){\r\n                return Optional.of(userlist.get(id));\r\n            }else {\r\n                return Optional.empty();\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void create(User user) {\r\n            userlist.add(user);\r\n        }\r\n    \r\n        @Override\r\n        public void changesomething(User user) {\r\n            int id = user.getId();\r\n            findbyId(id).get().setPassword(user.getPassword());\r\n            findbyId(id).get().setEmail(user.getEmail());\r\n            findbyId(id).get().setPassword(user.getPassword());\r\n        }\r\n    }\r\n\r\nand the Rest Controller to handle the recieved JSON:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/users&quot;)\r\n    public class UserController {\r\n    \r\n        private Logger logger = LogManager.getLogger();\r\n        private final Users users;\r\n    \r\n        public UserController(Users users) {\r\n            this.users = users;\r\n        }\r\n    \r\n        @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity create(@RequestBody UserRepresentation userRepresentation){\r\n            try {\r\n                users.create(userRepresentation.toUser());\r\n                logger.info(&quot;User with id&quot; + userRepresentation.getId() + &quot; created!&quot;);\r\n                return ResponseEntity.ok().build();\r\n            }catch (Exception e){\r\n                logger.error(e.getMessage());\r\n                return ResponseEntity.internalServerError().build();\r\n            }\r\n        }\r\n    \r\n        @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;UserRepresentation&gt; findbyID(@RequestParam(&quot;id&quot;)int id){\r\n            try {\r\n                if(users.findbyId(id).isPresent()){\r\n                    logger.info(&quot;User with Id: &quot; + id + &quot; is Present&quot;);\r\n                    return ResponseEntity.ok(UserRepresentation.from(users.findbyId(id).get()));\r\n                } else {\r\n                    return ResponseEntity.notFound().build();\r\n                }\r\n            } catch (Exception e){\r\n                logger.error(e.getMessage());\r\n                return ResponseEntity.internalServerError().build();\r\n            }\r\n        }\r\n    \r\n        @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity updateUser(@RequestBody UserRepresentation userRepresentation){\r\n            try {\r\n                if(users.findbyId(userRepresentation.getId()).isPresent()){\r\n                    logger.info(&quot;User with Id: &quot; + userRepresentation.getId() + &quot; is Present&quot;);\r\n                    users.changesomething(userRepresentation.toUser());\r\n                    logger.info(&quot;User with Id: &quot; + userRepresentation.getId() + &quot; updated&quot;);\r\n                    return ResponseEntity.ok().build();\r\n                } else {\r\n                    return ResponseEntity.notFound().build();\r\n                }\r\n            } catch (Exception e){\r\n                logger.error(e.getMessage());\r\n                return ResponseEntity.internalServerError().build();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd here the displayed Error:\r\n\r\n    2022-07-30 11:38:36.455  INFO 22648 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1888 ms\r\n    2022-07-30 11:38:36.531  WARN 22648 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancellin\r\n    g refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39; defined in URL [jar:file:/C:/Use\r\n    rs/chris/Desktop/SWT-Programmieren/Users/rest-api/target/rest-api-1.0-SNAPSHOT.jar!/de/christoph/UserController.class]: Unsatisfied dependency expressed through con\r\n    structor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;de.christoph.Users&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    2022-07-30 11:38:36.538  INFO 22648 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\r\n    2022-07-30 11:38:36.569  INFO 22648 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-07-30 11:38:36.611 ERROR 22648 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in de.christoph.UserController required a bean of type &#39;de.christoph.Users&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;de.christoph.Users&#39; in your configuration.\r\n\r\nIf you need some more Information just text me \r\nThanks for help :)\r\n\r\n","title":"Spring Boot &quot;Could not Autowire&quot;","body":"<p>The Tomcat always crashes with the error &quot;Could not autowire...&quot;\nI dont have a database i'm simulating with an ArrayList btw</p>\n<p>My Interface for User:</p>\n<pre><code>public interface Users{\n\n    Optional&lt;User&gt; findbyId(int id);\n\n    void create(User user);\n\n    void changesomething(User user);\n}\n</code></pre>\n<p>the class User, with id, email, nutzername and password:</p>\n<pre><code>@Data\npublic class User{\n\n    int id;\n\n    String email;\n\n    String nutzername;\n\n    String password;\n    \n}\n</code></pre>\n<p>My Service Class with the Service annotation:</p>\n<pre><code>@Service\npublic class UserService implements Users{\n\n    private final ArrayList&lt;User&gt; userlist;\n\n    public UserService(ArrayList&lt;User&gt; userlist) {\n        this.userlist = userlist;\n    }\n\n    @Override\n    public Optional&lt;User&gt; findbyId(int id) {\n        if(userlist.get(id) != null){\n            return Optional.of(userlist.get(id));\n        }else {\n            return Optional.empty();\n        }\n\n    }\n\n    @Override\n    public void create(User user) {\n        userlist.add(user);\n    }\n\n    @Override\n    public void changesomething(User user) {\n        int id = user.getId();\n        findbyId(id).get().setPassword(user.getPassword());\n        findbyId(id).get().setEmail(user.getEmail());\n        findbyId(id).get().setPassword(user.getPassword());\n    }\n}\n</code></pre>\n<p>and the Rest Controller to handle the recieved JSON:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    private Logger logger = LogManager.getLogger();\n    private final Users users;\n\n    public UserController(Users users) {\n        this.users = users;\n    }\n\n    @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity create(@RequestBody UserRepresentation userRepresentation){\n        try {\n            users.create(userRepresentation.toUser());\n            logger.info(&quot;User with id&quot; + userRepresentation.getId() + &quot; created!&quot;);\n            return ResponseEntity.ok().build();\n        }catch (Exception e){\n            logger.error(e.getMessage());\n            return ResponseEntity.internalServerError().build();\n        }\n    }\n\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;UserRepresentation&gt; findbyID(@RequestParam(&quot;id&quot;)int id){\n        try {\n            if(users.findbyId(id).isPresent()){\n                logger.info(&quot;User with Id: &quot; + id + &quot; is Present&quot;);\n                return ResponseEntity.ok(UserRepresentation.from(users.findbyId(id).get()));\n            } else {\n                return ResponseEntity.notFound().build();\n            }\n        } catch (Exception e){\n            logger.error(e.getMessage());\n            return ResponseEntity.internalServerError().build();\n        }\n    }\n\n    @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity updateUser(@RequestBody UserRepresentation userRepresentation){\n        try {\n            if(users.findbyId(userRepresentation.getId()).isPresent()){\n                logger.info(&quot;User with Id: &quot; + userRepresentation.getId() + &quot; is Present&quot;);\n                users.changesomething(userRepresentation.toUser());\n                logger.info(&quot;User with Id: &quot; + userRepresentation.getId() + &quot; updated&quot;);\n                return ResponseEntity.ok().build();\n            } else {\n                return ResponseEntity.notFound().build();\n            }\n        } catch (Exception e){\n            logger.error(e.getMessage());\n            return ResponseEntity.internalServerError().build();\n        }\n    }\n}\n</code></pre>\n<p>And here the displayed Error:</p>\n<pre><code>2022-07-30 11:38:36.455  INFO 22648 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1888 ms\n2022-07-30 11:38:36.531  WARN 22648 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancellin\ng refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController' defined in URL [jar:file:/C:/Use\nrs/chris/Desktop/SWT-Programmieren/Users/rest-api/target/rest-api-1.0-SNAPSHOT.jar!/de/christoph/UserController.class]: Unsatisfied dependency expressed through con\nstructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'de.christoph.Users' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2022-07-30 11:38:36.538  INFO 22648 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\n2022-07-30 11:38:36.569  INFO 22648 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-30 11:38:36.611 ERROR 22648 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in de.christoph.UserController required a bean of type 'de.christoph.Users' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'de.christoph.Users' in your configuration.\n</code></pre>\n<p>If you need some more Information just text me\nThanks for help :)</p>\n"},{"tags":["java","set","benchmarking","hashset"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659078553,"post_id":73162834,"comment_id":129214068,"body_markdown":"What does your code look like?","body":"What does your code look like?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1659078765,"post_id":73162834,"comment_id":129214134,"body_markdown":"This will depend on lots of things, like the size, capacity or load factor of your collections, the quality of the hashes (frequency of collisions and distribution), and complexity of the hashcode and equals methods etc.","body":"This will depend on lots of things, like the size, capacity or load factor of your collections, the quality of the hashes (frequency of collisions and distribution), and complexity of the hashcode and equals methods etc."},{"owner":{"account_id":19945900,"reputation":135,"user_id":14616577,"display_name":"Korn Pisey"},"score":0,"creation_date":1659079584,"post_id":73162834,"comment_id":129214369,"body_markdown":"I&#39;ve just attached my benchmark code.","body":"I&#39;ve just attached my benchmark code."}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659332488,"creation_date":1659084337,"answer_id":73163954,"question_id":73162834,"body_markdown":"One essential aspect of HashMap/Set performance is the quality of the hashcode distribution, because bad distributions can lead to the map degrading to just a few large buckets, which leaves us with the bookkeeping overhead without getting any of the benefits.\r\n\r\nIt seems that the `Map.Entry` implementation returned by [Map.entry()][1] uses an implementation that always yields `0` when the hashcodes of key and value are equal, at least in the implementation I&#39;m currently using (see [Evgeniy Berezovsky&#39;s answer](https://stackoverflow.com/a/73188382/2513200) for details).\r\n\r\n    public static void main(String[] args) {\r\n\t\tint n = 1000;\r\n\t\tHashSet&lt;Map.Entry&lt;Integer, Integer&gt;&gt; set = new HashSet&lt;&gt;((int) (n / 0.75f + 1f), 0.75f);\r\n\t\tfor (int i = 0; i &lt; n; i++)\r\n\t\t\tset.add(Map.entry(i, i));\r\n\t\t\r\n\t\tset.forEach(e -&gt; System.out.println(e.hashCode()));\t        \r\n\t}\r\n\r\nOutput:\r\n\r\n    0\r\n    0\r\n    ...\r\n\r\nThis yields **worst-case performance** for any hash-based collection.\r\n\r\n\r\n----------\r\n\r\nThis is probably less of a problem when using it for the purpose it was designed for, i.e. (from the javaDocs):\r\n\r\n&gt; These entries are suitable for populating Map instances using the Map.ofEntries() method.\r\n\r\nbecause the Nodes and Map itself only use the hashcode of the keys and values, not that of the entries, but it is a problem when using them as keys themselves.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#entry(K,V)","title":"Why writing map entries to a HashSet is slower than to a CopyOnWriteArraySet in Java","body":"<p>One essential aspect of HashMap/Set performance is the quality of the hashcode distribution, because bad distributions can lead to the map degrading to just a few large buckets, which leaves us with the bookkeeping overhead without getting any of the benefits.</p>\n<p>It seems that the <code>Map.Entry</code> implementation returned by <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#entry(K,V)\" rel=\"nofollow noreferrer\">Map.entry()</a> uses an implementation that always yields <code>0</code> when the hashcodes of key and value are equal, at least in the implementation I'm currently using (see <a href=\"https://stackoverflow.com/a/73188382/2513200\">Evgeniy Berezovsky's answer</a> for details).</p>\n<pre><code>public static void main(String[] args) {\n    int n = 1000;\n    HashSet&lt;Map.Entry&lt;Integer, Integer&gt;&gt; set = new HashSet&lt;&gt;((int) (n / 0.75f + 1f), 0.75f);\n    for (int i = 0; i &lt; n; i++)\n        set.add(Map.entry(i, i));\n    \n    set.forEach(e -&gt; System.out.println(e.hashCode()));         \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>0\n0\n...\n</code></pre>\n<p>This yields <strong>worst-case performance</strong> for any hash-based collection.</p>\n<hr />\n<p>This is probably less of a problem when using it for the purpose it was designed for, i.e. (from the javaDocs):</p>\n<blockquote>\n<p>These entries are suitable for populating Map instances using the Map.ofEntries() method.</p>\n</blockquote>\n<p>because the Nodes and Map itself only use the hashcode of the keys and values, not that of the entries, but it is a problem when using them as keys themselves.</p>\n"},{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1659331445,"creation_date":1659321835,"answer_id":73188382,"question_id":73162834,"body_markdown":"Hulk&#39;s answer is very instructive. However the problem is not necessarily the `Map.entry()` hashCode implementation, which is this, at least in Java 11:\r\n\r\n```java\r\npublic int hashCode() {\r\n    return key.hashCode() ^ value.hashCode();\r\n}\r\n```\r\n\r\nThe problem is that the hash codes of key and value are always the same, both in the OP&#39;s test, and in Hulk&#39;s test, hence the hash codes combined via XOR will always end up as 0. Change it so that key and value are different, and performance will change.","title":"Why writing map entries to a HashSet is slower than to a CopyOnWriteArraySet in Java","body":"<p>Hulk's answer is very instructive. However the problem is not necessarily the <code>Map.entry()</code> hashCode implementation, which is this, at least in Java 11:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int hashCode() {\n    return key.hashCode() ^ value.hashCode();\n}\n</code></pre>\n<p>The problem is that the hash codes of key and value are always the same, both in the OP's test, and in Hulk's test, hence the hash codes combined via XOR will always end up as 0. Change it so that key and value are different, and performance will change.</p>\n"}],"owner":{"account_id":19945900,"reputation":135,"user_id":14616577,"display_name":"Korn Pisey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73188382,"answer_count":2,"score":6,"last_activity_date":1659332488,"creation_date":1659078494,"question_id":73162834,"body_markdown":"I think writing to a `HashSet` will be faster than to a `CopyOnWriteArraySet`; I&#39;m not doing multi threading here. However I surpisingly got benchmark results indicate writing map entries to a CopyOnWriteArraySet is faster.\r\n\r\nI did benchmarking on writing 1000 of Map.Entry&lt;Integer, Integer&gt; into a HashSet vs CopyOnWriteArraySet.\r\n\r\n```\r\nBenchmark          (n)   Mode  Cnt     Score    Error  Units\r\nA.writeToCOWAS    1000  thrpt    4  1269.214 &#177; 40.635  ops/s\r\nA.writeToHashSet  1000  thrpt    4   223.118 &#177; 34.955  ops/s\r\n```\r\n\r\nIn addition to that, I got benchmark results of equals() and hashCode() of `Map.Entry` reveal that the former is more expensive.\r\n```\r\nBenchmark           Mode  Cnt          Score          Error  Units\r\nMapEntry.equals    thrpt    4  177773394.054 &#177; 75436098.388  ops/s\r\nMapEntry.hashCode  thrpt    4  272240403.923 &#177; 38794396.671  ops/s\r\n```\r\nI believe writing to a HashSet calls to hashCode() while CopyOnWriteArraySet calls to equals(). \r\n\r\nIn the case of writing Integer or String,HashSet is way faster. Then I&#39;m wondering what happens with `Map.Entry` type and why CopyOnWriteArraySet is faster according to my analysis?\r\n\r\nMy perf test:\r\n```java\r\n@State(Scope.Benchmark)\r\n@Fork(value = 2)\r\n@Warmup(iterations = 2, time = 3)\r\n@Measurement(iterations = 2, time = 3)\r\npublic class A {\r\n    public Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; set;\r\n\r\n    @Param({&quot;1000&quot;})\r\n    public int n;\r\n\r\n    @Setup\r\n    public void setup() {\r\n        set = new HashSet&lt;&gt;((int) (n / 0.75f + 1f), 0.75f);\r\n        for (int i = 0; i &lt; n; i++)\r\n            set.add(Map.entry(i, i));\r\n    }\r\n\r\n    private void eliminateDeadCode(Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; out, Blackhole hole) {\r\n        int hash = 0;\r\n        for (Map.Entry&lt;Integer,Integer&gt; o : out)\r\n            hash += o.hashCode();\r\n        hole.consume(hash);\r\n        if (out.size() != set.size())\r\n            throw new RuntimeException(out.size() + &quot; != &quot; + set.size());\r\n    }\r\n\r\n    @Benchmark\r\n    public void writeToCOWAS(Blackhole hole) {\r\n        Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; out = new CopyOnWriteArraySet&lt;&gt;(set);\r\n        eliminateDeadCode(out, hole);\r\n    }\r\n\r\n    @Benchmark\r\n    public void writeToHashSet(Blackhole hole) {\r\n        Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; out = new HashSet&lt;&gt;(set);\r\n        eliminateDeadCode(out, hole);\r\n    }\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options opt = new OptionsBuilder()\r\n                .include(A.class.getSimpleName())\r\n                .build();\r\n        new Runner(opt).run();\r\n    }\r\n}\r\n```\r\n","title":"Why writing map entries to a HashSet is slower than to a CopyOnWriteArraySet in Java","body":"<p>I think writing to a <code>HashSet</code> will be faster than to a <code>CopyOnWriteArraySet</code>; I'm not doing multi threading here. However I surpisingly got benchmark results indicate writing map entries to a CopyOnWriteArraySet is faster.</p>\n<p>I did benchmarking on writing 1000 of Map.Entry&lt;Integer, Integer&gt; into a HashSet vs CopyOnWriteArraySet.</p>\n<pre><code>Benchmark          (n)   Mode  Cnt     Score    Error  Units\nA.writeToCOWAS    1000  thrpt    4  1269.214  40.635  ops/s\nA.writeToHashSet  1000  thrpt    4   223.118  34.955  ops/s\n</code></pre>\n<p>In addition to that, I got benchmark results of equals() and hashCode() of <code>Map.Entry</code> reveal that the former is more expensive.</p>\n<pre><code>Benchmark           Mode  Cnt          Score          Error  Units\nMapEntry.equals    thrpt    4  177773394.054  75436098.388  ops/s\nMapEntry.hashCode  thrpt    4  272240403.923  38794396.671  ops/s\n</code></pre>\n<p>I believe writing to a HashSet calls to hashCode() while CopyOnWriteArraySet calls to equals().</p>\n<p>In the case of writing Integer or String,HashSet is way faster. Then I'm wondering what happens with <code>Map.Entry</code> type and why CopyOnWriteArraySet is faster according to my analysis?</p>\n<p>My perf test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@State(Scope.Benchmark)\n@Fork(value = 2)\n@Warmup(iterations = 2, time = 3)\n@Measurement(iterations = 2, time = 3)\npublic class A {\n    public Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; set;\n\n    @Param({&quot;1000&quot;})\n    public int n;\n\n    @Setup\n    public void setup() {\n        set = new HashSet&lt;&gt;((int) (n / 0.75f + 1f), 0.75f);\n        for (int i = 0; i &lt; n; i++)\n            set.add(Map.entry(i, i));\n    }\n\n    private void eliminateDeadCode(Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; out, Blackhole hole) {\n        int hash = 0;\n        for (Map.Entry&lt;Integer,Integer&gt; o : out)\n            hash += o.hashCode();\n        hole.consume(hash);\n        if (out.size() != set.size())\n            throw new RuntimeException(out.size() + &quot; != &quot; + set.size());\n    }\n\n    @Benchmark\n    public void writeToCOWAS(Blackhole hole) {\n        Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; out = new CopyOnWriteArraySet&lt;&gt;(set);\n        eliminateDeadCode(out, hole);\n    }\n\n    @Benchmark\n    public void writeToHashSet(Blackhole hole) {\n        Set&lt;Map.Entry&lt;Integer,Integer&gt;&gt; out = new HashSet&lt;&gt;(set);\n        eliminateDeadCode(out, hole);\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(A.class.getSimpleName())\n                .build();\n        new Runner(opt).run();\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2936373,"reputation":25,"user_id":2515165,"display_name":"user2515165"},"score":0,"creation_date":1659326972,"post_id":73188665,"comment_id":129259955,"body_markdown":"@Basil do u mean that if thread calls startTime and then dies without calling endTime. In that case, threadId might be reused?","body":"@Basil do u mean that if thread calls startTime and then dies without calling endTime. In that case, threadId might be reused?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659327012,"post_id":73188665,"comment_id":129259962,"body_markdown":"I see that now. Thanks. I withdraw my Comment.","body":"I see that now. Thanks. I withdraw my Comment."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659327261,"post_id":73188665,"comment_id":129260003,"body_markdown":"By the way, I think youll want to replace the calls to `System.currentTimeMillis` with `System.nanoTime`. And I would return a `Duration` object from `endTime` rather than a mere `long`.","body":"By the way, I think youll want to replace the calls to <code>System.currentTimeMillis</code> with <code>System.nanoTime</code>. And I would return a <code>Duration</code> object from <code>endTime</code> rather than a mere <code>long</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659327717,"post_id":73188665,"comment_id":129260052,"body_markdown":"By the way Since you have to call this class from the beginning and ending of your code in each task, what does this class really gain you? Couldnt you just do `long start = System.nanoTime();` and `Duration d = Duration.ofNanos( start - System.nanoTime() ) ;` at the top and bottom of your task code?","body":"By the way Since you have to call this class from the beginning and ending of your code in each task, what does this class really gain you? Couldnt you just do <code>long start = System.nanoTime();</code> and <code>Duration d = Duration.ofNanos( start - System.nanoTime() ) ;</code> at the top and bottom of your task code?"},{"owner":{"account_id":2936373,"reputation":25,"user_id":2515165,"display_name":"user2515165"},"score":0,"creation_date":1659329614,"post_id":73188665,"comment_id":129260291,"body_markdown":"The profiling code is to used at many places. The whole purpose of writing the class is to encapsulate it and maybe if required enhance the class in future.","body":"The profiling code is to used at many places. The whole purpose of writing the class is to encapsulate it and maybe if required enhance the class in future."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659330371,"creation_date":1659326578,"answer_id":73188719,"question_id":73188665,"body_markdown":"As you are using the thread id as the key to the Map, you do *not* need to synchronise these methods, because two threads will never try to use the same key. You *do* need to use a `ConcurrentHashMap`, because two threads modifying a `HashMap` or other non thread safe `Map` concurrently is not safe.\r\n\r\nIf it was possible for two threads to have the same id, you would need to think about `endTime`.\r\n\r\nFor the sake of argument, imagine that two threads (thread1 and thread2), both having the same id, call `endTime` simultaneously.\r\n\r\nBoth threads can call `mp.containsKey(tId)` and see a return value of `true`.\r\n\r\nThen one thread might `get` and `remove` the value.\r\n\r\nThen the second thread will get a `NullPointerException` when it tries to unbox the result of `get`.","title":"ConcurrentHashMap - do we synchronize methods which access the map","body":"<p>As you are using the thread id as the key to the Map, you do <em>not</em> need to synchronise these methods, because two threads will never try to use the same key. You <em>do</em> need to use a <code>ConcurrentHashMap</code>, because two threads modifying a <code>HashMap</code> or other non thread safe <code>Map</code> concurrently is not safe.</p>\n<p>If it was possible for two threads to have the same id, you would need to think about <code>endTime</code>.</p>\n<p>For the sake of argument, imagine that two threads (thread1 and thread2), both having the same id, call <code>endTime</code> simultaneously.</p>\n<p>Both threads can call <code>mp.containsKey(tId)</code> and see a return value of <code>true</code>.</p>\n<p>Then one thread might <code>get</code> and <code>remove</code> the value.</p>\n<p>Then the second thread will get a <code>NullPointerException</code> when it tries to unbox the result of <code>get</code>.</p>\n"}],"owner":{"account_id":2936373,"reputation":25,"user_id":2515165,"display_name":"user2515165"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73188719,"answer_count":1,"score":-1,"last_activity_date":1659330371,"creation_date":1659325723,"question_id":73188665,"body_markdown":"I am new to java and Multithreading.\r\n\r\nI have created the below class where I am using `ConcurrentHashMap`. I understand that `ConcurrentHashMap` is thread safe. \r\nBut what about the `startTime` and `endTime` methods.\r\n\r\nDo I need to synchronize the `startTime` and `endTime` `APIs`?\r\n\r\n\r\n\r\n    class ProfileStatistics\r\n    {\r\n        private static final ProfileStatistics s_instance = new ProfileStatistics();\r\n        Map&lt;Long, Long&gt; mp                                = new ConcurrentHashMap&lt;&gt;();\r\n        static ProfileStatistics getInstance()\r\n        {\r\n            return s_instance;\r\n        }\r\n    \r\n        synchronized void startTime() throws InterruptedException\r\n        {\r\n            mp.put(Thread.currentThread().getId(), System.currentTimeMillis());\r\n        }\r\n    \r\n        synchronized long endTime()\r\n        {\r\n            long tId       = Thread.currentThread().getId();\r\n         \r\n            if(mp.containsKey(tId))\r\n            {\r\n                long start = mp.get(tId);\r\n                mp.remove(tId);\r\n             \r\n                return System.currentTimeMillis() - start;\r\n            }\r\n            return 0L;\r\n        }\r\n    }\r\n\r\n","title":"ConcurrentHashMap - do we synchronize methods which access the map","body":"<p>I am new to java and Multithreading.</p>\n<p>I have created the below class where I am using <code>ConcurrentHashMap</code>. I understand that <code>ConcurrentHashMap</code> is thread safe.\nBut what about the <code>startTime</code> and <code>endTime</code> methods.</p>\n<p>Do I need to synchronize the <code>startTime</code> and <code>endTime</code> <code>APIs</code>?</p>\n<pre><code>class ProfileStatistics\n{\n    private static final ProfileStatistics s_instance = new ProfileStatistics();\n    Map&lt;Long, Long&gt; mp                                = new ConcurrentHashMap&lt;&gt;();\n    static ProfileStatistics getInstance()\n    {\n        return s_instance;\n    }\n\n    synchronized void startTime() throws InterruptedException\n    {\n        mp.put(Thread.currentThread().getId(), System.currentTimeMillis());\n    }\n\n    synchronized long endTime()\n    {\n        long tId       = Thread.currentThread().getId();\n     \n        if(mp.containsKey(tId))\n        {\n            long start = mp.get(tId);\n            mp.remove(tId);\n         \n            return System.currentTimeMillis() - start;\n        }\n        return 0L;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1658067617,"post_id":73009668,"comment_id":128954092,"body_markdown":"why are you writing a custom security solution. Spring security comes with a set of predefined login solutions that you can customize. The tutorial you have been following is teaching bad practices. Please read the chapter on FormLogin which means you can basically remove 70% of your code including your custom filter. https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html also using JWTs as session tokens is very insecure","body":"why are you writing a custom security solution. Spring security comes with a set of predefined login solutions that you can customize. The tutorial you have been following is teaching bad practices. Please read the chapter on FormLogin which means you can basically remove 70% of your code including your custom filter. <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a> also using JWTs as session tokens is very insecure"},{"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"score":0,"creation_date":1658071132,"post_id":73009668,"comment_id":128954894,"body_markdown":"Yes got your point and it makes sense, but I was learning to customize things there","body":"Yes got your point and it makes sense, but I was learning to customize things there"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1658081825,"post_id":73009668,"comment_id":128957196,"body_markdown":"learn how to customize spring security correctly then by using the spring security built in JWTFilter and customize that. You have most likely been reading outdated blogs that havn&#39;t even read the spring security docs. For instance, spring security already has a jwt lib included called Nimbus, but you are adding yet another one (auth0) which is adding bloat to the application and jar. And as pointed out using JWTs as sessions is very insecure, because for instance in your solution now, you cant logout users, and if a token gets stolen you have no way of stopping malicious usage","body":"learn how to customize spring security correctly then by using the spring security built in JWTFilter and customize that. You have most likely been reading outdated blogs that havn&#39;t even read the spring security docs. For instance, spring security already has a jwt lib included called Nimbus, but you are adding yet another one (auth0) which is adding bloat to the application and jar. And as pointed out using JWTs as sessions is very insecure, because for instance in your solution now, you cant logout users, and if a token gets stolen you have no way of stopping malicious usage"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1658081860,"post_id":73009668,"comment_id":128957203,"body_markdown":"whats the point of using a security framework if you do not intend to use its features and instead write potentially insecure code.","body":"whats the point of using a security framework if you do not intend to use its features and instead write potentially insecure code."},{"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"score":0,"creation_date":1658113080,"post_id":73009668,"comment_id":128961833,"body_markdown":"Thanks @Toerktumlare, I will keep that in mind","body":"Thanks @Toerktumlare, I will keep that in mind"}],"answers":[{"tags":[],"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659330268,"creation_date":1659330268,"answer_id":73189018,"question_id":73009668,"body_markdown":"Have you tried adding component scan and added the package for the class where filter is defined?\r\n\r\nIf not try adding the base package, also alternatively try the configuration for filter chain proxy\r\n\r\n    &lt;bean id=&quot;filterChainProxy&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n      &lt;sec:filter-chain-map path-type=&quot;ant&quot;&gt;\r\n         &lt;sec:filter-chain pattern=&quot;/webServices/**&quot; filters=&quot;\r\n               securityContextPersistenceFilterWithASCFalse,\r\n               basicAuthenticationFilter,\r\n               exceptionTranslationFilter,\r\n               filterSecurityInterceptor&quot; /&gt;\r\n         &lt;sec:filter-chain pattern=&quot;/**&quot; filters=&quot;\r\n               securityContextPersistenceFilterWithASCTrue,\r\n               formLoginFilter,\r\n               exceptionTranslationFilter,\r\n               filterSecurityInterceptor&quot; /&gt;\r\n      &lt;/sec:filter-chain-map&gt;\r\n    &lt;/bean&gt;","title":"Spring boot Custom authentication filter is not applied","body":"<p>Have you tried adding component scan and added the package for the class where filter is defined?</p>\n<p>If not try adding the base package, also alternatively try the configuration for filter chain proxy</p>\n<pre><code>&lt;bean id=&quot;filterChainProxy&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\n  &lt;sec:filter-chain-map path-type=&quot;ant&quot;&gt;\n     &lt;sec:filter-chain pattern=&quot;/webServices/**&quot; filters=&quot;\n           securityContextPersistenceFilterWithASCFalse,\n           basicAuthenticationFilter,\n           exceptionTranslationFilter,\n           filterSecurityInterceptor&quot; /&gt;\n     &lt;sec:filter-chain pattern=&quot;/**&quot; filters=&quot;\n           securityContextPersistenceFilterWithASCTrue,\n           formLoginFilter,\n           exceptionTranslationFilter,\n           filterSecurityInterceptor&quot; /&gt;\n  &lt;/sec:filter-chain-map&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1490,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659330268,"creation_date":1658039512,"question_id":73009668,"body_markdown":"Hi I am learning about spring security, I am stuck in the custom authentication filter. I have the following files:\r\nThe main application file: `SpringAuthApplication.java`\r\n\r\n```\r\npackage com.example.jwtauth;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport com.example.jwtauth.models.Role;\r\nimport com.example.jwtauth.models.User;\r\nimport com.example.jwtauth.service.UserService;\r\n\r\n@SpringBootApplication\r\npublic class SpringAuthApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringAuthApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tCommandLineRunner run(UserService userService) {\r\n\t\treturn args -&gt; {\r\n\t\t\tuserService.saveRole(new Role(null, &quot;ROLE_USER&quot;));\r\n\t\t\tuserService.saveRole(new Role(null, &quot;ROLE_MANAGER&quot;));\r\n\t\t\tuserService.saveRole(new Role(null, &quot;ROLE_ADMIN&quot;));\r\n\t\t\tuserService.saveRole(new Role(null, &quot;ROLE_SUPER_ADMIN&quot;));\r\n\t\t\t\r\n\t\t\tuserService.saveUser(new User(null, &quot;Suvodip Mondal&quot;, &quot;s.mondal&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\r\n\t\t\tuserService.addRoleToUser(&quot;s.mondal&quot;, &quot;ROLE_SUPER_ADMIN&quot;);\r\n\t\t\t\r\n\t\t\tuserService.saveUser(new User(null, &quot;Akash Arora&quot;, &quot;a.arora&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\r\n\t\t\tuserService.addRoleToUser(&quot;a.arora&quot;, &quot;ROLE_ADMIN&quot;);\r\n\t\t\t\r\n\t\t\tuserService.saveUser(new User(null, &quot;Shubham Pathak&quot;, &quot;s.pathak&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\r\n\t\t\tuserService.addRoleToUser(&quot;s.pathak&quot;, &quot;ROLE_MANAGER&quot;);\r\n\t\t\t\r\n\t\t\tuserService.saveUser(new User(null, &quot;Karan Sharma&quot;, &quot;k.sharma&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\r\n\t\t\tuserService.addRoleToUser(&quot;k.sharma&quot;, &quot;ROLE_USER&quot;);\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n`UserController.java`:\r\n```\r\npackage com.example.jwtauth.controllers;\r\n\r\nimport java.net.URI;\r\nimport java.util.List;\r\n\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n\r\nimport com.example.jwtauth.models.User;\r\nimport com.example.jwtauth.service.UserService;\r\n\r\nimport lombok.Data;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\n@RequiredArgsConstructor\r\npublic class UserController {\r\n\tprivate final UserService userService;\r\n\r\n\t@GetMapping(&quot;&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {\r\n\t\treturn ResponseEntity.ok(userService.listAllUsers());\r\n\t}\r\n\r\n\t@PostMapping(&quot;/create&quot;)\r\n\tpublic ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\r\n\t\t// ServletUriComponentsBuilder.fromCurrentContextPath() - http://localhost:8080\r\n        URI uri=  URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/user/create&quot;).toUriString());\r\n        return ResponseEntity.created(uri).body(userService.saveUser(user));\r\n\t}\r\n\r\n\t@PostMapping(&quot;/add-role&quot;)\r\n\tpublic ResponseEntity&lt;User&gt; createRole(@RequestBody RoleToUserForm form) {\r\n\t\tuserService.addRoleToUser(form.getUsername(), form.getRoleName());\r\n\t\treturn ResponseEntity.ok().build();\r\n\t}\r\n\t\r\n}\r\n\r\n@Data\r\nclass RoleToUserForm {\r\n\tprivate String username;\r\n\tprivate String roleName;\r\n}\r\n```\r\nMy Security config file `SecurityConfig.java`:\r\n```\r\npackage com.example.jwtauth.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport com.example.jwtauth.service.filter.CustomAuthenticationFilter;\r\n\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\n\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\tprivate final BCryptPasswordEncoder encoder;\r\n\tprivate final UserDetailsService userDetailsService;\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(encoder);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\tSystem.out.println(&quot;-------------------Configure----------------------------------------&quot;);\r\n\t\tCustomAuthenticationFilter filter = new CustomAuthenticationFilter(authenticationManager());\r\n//\t\tfilter.setFilterProcessesUrl(&quot;/api/users/create&quot;);\r\n\t\thttp.csrf().disable();\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\thttp.authorizeRequests().anyRequest().permitAll();\r\n\t\thttp.addFilter(filter);\r\n\t}\r\n\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManager() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n}\r\n```\r\nAt last my CustomAuthentication filter file: `CustomAuthenticationFilter.java`:\r\n```\r\npackage com.example.jwtauth.service.filter;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.Date;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\r\n\r\n\r\npublic class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\tprivate final AuthenticationManager authenticationManager;\r\n\r\n\tpublic CustomAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n\t\tthis.authenticationManager = authenticationManager;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows AuthenticationException {\r\n\t\tSystem.out.println(&quot;---------------request------&quot;+request);\r\n\t\tString username = request.getParameter(&quot;username&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\tUsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password);\r\n\t\t\r\n\t\treturn authenticationManager.authenticate(token);\r\n\t}\t\r\n\r\n\t@Override\r\n\tprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n\t\t\tAuthentication authResult) throws IOException, ServletException {\r\n\t\tUser user = (User)authResult.getPrincipal();\r\n\t\tSystem.out.println(&quot;---------------user----------&quot;+user);\r\n\t\tAlgorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n\t\tString access_token = JWT.create()\r\n\t\t\t\t.withSubject(user.getUsername())\r\n\t\t\t\t.withExpiresAt(new Date(System.currentTimeMillis()+10*60*1000))\r\n\t\t\t\t.withIssuer(request.getRequestURI().toString())\r\n\t\t\t\t.sign(algorithm);\r\n\t\tString refresh_token = JWT.create()\r\n\t\t\t\t.withSubject(user.getUsername())\r\n\t\t\t\t.withExpiresAt(new Date(System.currentTimeMillis()+30*60*1000))\r\n\t\t\t\t.withIssuer(request.getRequestURI().toString())\r\n\t\t\t\t.sign(algorithm);\r\n\t\t\r\n\t\tSystem.out.println(&quot;---------------access token------------&quot;+access_token);\r\n\t\tSystem.out.println(&quot;---------------refresh token------------&quot;+refresh_token);\r\n\t\tresponse.setHeader(&quot;access_token&quot;, access_token);\r\n\t\tresponse.setHeader(&quot;refresh_token&quot;, refresh_token);\r\n\t\tresponse.setContentType(APPLICATION_JSON_VALUE);\r\n\t}\r\n}\r\n```\r\nSo I have put logs the `attemptAuthentication` method but it seems the request is not going there.\r\nAlso the tutorial I was following they were calling the API with `formurlencoded` but in my case  I am getting `HttpMediaTypeNotSupportedException` but `application/json` is working there. But I believe data type is not the problem, the request should go to `attemptAuthentication` method at least.\r\nI am not getting what is wrong there, for reference I am adding project github link: [https://github.com/smondal229/UserAuthService][1]\r\n\r\n\r\n  [1]: https://github.com/smondal229/UserAuthService","title":"Spring boot Custom authentication filter is not applied","body":"<p>Hi I am learning about spring security, I am stuck in the custom authentication filter. I have the following files:\nThe main application file: <code>SpringAuthApplication.java</code></p>\n<pre><code>package com.example.jwtauth;\n\nimport java.util.ArrayList;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport com.example.jwtauth.models.Role;\nimport com.example.jwtauth.models.User;\nimport com.example.jwtauth.service.UserService;\n\n@SpringBootApplication\npublic class SpringAuthApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringAuthApplication.class, args);\n    }\n    \n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    CommandLineRunner run(UserService userService) {\n        return args -&gt; {\n            userService.saveRole(new Role(null, &quot;ROLE_USER&quot;));\n            userService.saveRole(new Role(null, &quot;ROLE_MANAGER&quot;));\n            userService.saveRole(new Role(null, &quot;ROLE_ADMIN&quot;));\n            userService.saveRole(new Role(null, &quot;ROLE_SUPER_ADMIN&quot;));\n            \n            userService.saveUser(new User(null, &quot;Suvodip Mondal&quot;, &quot;s.mondal&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\n            userService.addRoleToUser(&quot;s.mondal&quot;, &quot;ROLE_SUPER_ADMIN&quot;);\n            \n            userService.saveUser(new User(null, &quot;Akash Arora&quot;, &quot;a.arora&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\n            userService.addRoleToUser(&quot;a.arora&quot;, &quot;ROLE_ADMIN&quot;);\n            \n            userService.saveUser(new User(null, &quot;Shubham Pathak&quot;, &quot;s.pathak&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\n            userService.addRoleToUser(&quot;s.pathak&quot;, &quot;ROLE_MANAGER&quot;);\n            \n            userService.saveUser(new User(null, &quot;Karan Sharma&quot;, &quot;k.sharma&quot;, &quot;1234&quot;, new ArrayList&lt;Role&gt;()));\n            userService.addRoleToUser(&quot;k.sharma&quot;, &quot;ROLE_USER&quot;);\n        };\n    }\n\n}\n</code></pre>\n<p><code>UserController.java</code>:</p>\n<pre><code>package com.example.jwtauth.controllers;\n\nimport java.net.URI;\nimport java.util.List;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport com.example.jwtauth.models.User;\nimport com.example.jwtauth.service.UserService;\n\nimport lombok.Data;\nimport lombok.RequiredArgsConstructor;\n\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\n@RequiredArgsConstructor\npublic class UserController {\n    private final UserService userService;\n\n    @GetMapping(&quot;&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {\n        return ResponseEntity.ok(userService.listAllUsers());\n    }\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\n        // ServletUriComponentsBuilder.fromCurrentContextPath() - http://localhost:8080\n        URI uri=  URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/user/create&quot;).toUriString());\n        return ResponseEntity.created(uri).body(userService.saveUser(user));\n    }\n\n    @PostMapping(&quot;/add-role&quot;)\n    public ResponseEntity&lt;User&gt; createRole(@RequestBody RoleToUserForm form) {\n        userService.addRoleToUser(form.getUsername(), form.getRoleName());\n        return ResponseEntity.ok().build();\n    }\n    \n}\n\n@Data\nclass RoleToUserForm {\n    private String username;\n    private String roleName;\n}\n</code></pre>\n<p>My Security config file <code>SecurityConfig.java</code>:</p>\n<pre><code>package com.example.jwtauth.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport com.example.jwtauth.service.filter.CustomAuthenticationFilter;\n\nimport org.springframework.security.config.http.SessionCreationPolicy;\n\n\nimport lombok.RequiredArgsConstructor;\n\n@SuppressWarnings(&quot;deprecation&quot;)\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final BCryptPasswordEncoder encoder;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(encoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        System.out.println(&quot;-------------------Configure----------------------------------------&quot;);\n        CustomAuthenticationFilter filter = new CustomAuthenticationFilter(authenticationManager());\n//      filter.setFilterProcessesUrl(&quot;/api/users/create&quot;);\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().anyRequest().permitAll();\n        http.addFilter(filter);\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManager() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>At last my CustomAuthentication filter file: <code>CustomAuthenticationFilter.java</code>:</p>\n<pre><code>package com.example.jwtauth.service.filter;\n\nimport java.io.IOException;\nimport java.sql.Date;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\n\n\npublic class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n    private final AuthenticationManager authenticationManager;\n\n    public CustomAuthenticationFilter(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException {\n        System.out.println(&quot;---------------request------&quot;+request);\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password);\n        \n        return authenticationManager.authenticate(token);\n    }   \n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n            Authentication authResult) throws IOException, ServletException {\n        User user = (User)authResult.getPrincipal();\n        System.out.println(&quot;---------------user----------&quot;+user);\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n        String access_token = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis()+10*60*1000))\n                .withIssuer(request.getRequestURI().toString())\n                .sign(algorithm);\n        String refresh_token = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis()+30*60*1000))\n                .withIssuer(request.getRequestURI().toString())\n                .sign(algorithm);\n        \n        System.out.println(&quot;---------------access token------------&quot;+access_token);\n        System.out.println(&quot;---------------refresh token------------&quot;+refresh_token);\n        response.setHeader(&quot;access_token&quot;, access_token);\n        response.setHeader(&quot;refresh_token&quot;, refresh_token);\n        response.setContentType(APPLICATION_JSON_VALUE);\n    }\n}\n</code></pre>\n<p>So I have put logs the <code>attemptAuthentication</code> method but it seems the request is not going there.\nAlso the tutorial I was following they were calling the API with <code>formurlencoded</code> but in my case  I am getting <code>HttpMediaTypeNotSupportedException</code> but <code>application/json</code> is working there. But I believe data type is not the problem, the request should go to <code>attemptAuthentication</code> method at least.\nI am not getting what is wrong there, for reference I am adding project github link: <a href=\"https://github.com/smondal229/UserAuthService\" rel=\"nofollow noreferrer\">https://github.com/smondal229/UserAuthService</a></p>\n"},{"tags":["java","spring","spring-boot","logging"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1619618195,"post_id":67300470,"comment_id":118959575,"body_markdown":"Your problems is fully not related to Spring Kafka. Please, be careful when you choose tags for your question.","body":"Your problems is fully not related to Spring Kafka. Please, be careful when you choose tags for your question."}],"answers":[{"tags":[],"owner":{"account_id":7618818,"reputation":731,"user_id":5777388,"display_name":"Vicky Ajmera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619619828,"creation_date":1619619828,"answer_id":67302099,"question_id":67300470,"body_markdown":"Inside ExchangeFilterFunction, you can access HTTP method, URL, headers, cookies but request or response body can not be accessed directly from this filter.\r\n\r\nRefer to the answer [here][1]. It provides a way to get access to the request and response body. It also provides a link to [This blog post][2]. It explains how to get the body in JSON/String format in Web Client.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62452584/5777388\r\n  [2]: https://andrew-flower.com/blog/webclient-body-logging","title":"WebClient Request and Response body logging","body":"<p>Inside ExchangeFilterFunction, you can access HTTP method, URL, headers, cookies but request or response body can not be accessed directly from this filter.</p>\n<p>Refer to the answer <a href=\"https://stackoverflow.com/a/62452584/5777388\">here</a>. It provides a way to get access to the request and response body. It also provides a link to <a href=\"https://andrew-flower.com/blog/webclient-body-logging\" rel=\"nofollow noreferrer\">This blog post</a>. It explains how to get the body in JSON/String format in Web Client.</p>\n"},{"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643927370,"creation_date":1643927370,"answer_id":70979195,"question_id":67300470,"body_markdown":"You can do tracing of request and response payloads with small manipulations with request and responses:\r\n\r\n        \r\n    public class TracingExchangeFilterFunction implements ExchangeFilterFunction {\r\n     \r\n     \r\n            return next.exchange(buildTraceableRequest(request))\r\n                    .flatMap(response -&gt;\r\n                            response.body(BodyExtractors.toDataBuffers())\r\n                                    .next()\r\n                                    .doOnNext(dataBuffer -&gt; traceResponse(response, dataBuffer))\r\n                                    .thenReturn(response)) ;\r\n        }\r\n    \r\n        private ClientRequest buildTraceableRequest( \r\n                final ClientRequest clientRequest) {\r\n            return ClientRequest.from(clientRequest).body(\r\n                    new BodyInserter&lt;&gt;() {\r\n                        @Override\r\n                        public Mono&lt;Void&gt; insert(\r\n                                final ClientHttpRequest outputMessage,\r\n                                final Context context) {\r\n                            return clientRequest.body().insert(\r\n                                    new ClientHttpRequestDecorator(outputMessage) {\r\n                                        @Override\r\n                                        public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\r\n                                            return super.writeWith(\r\n                                                    from(body).doOnNext(buffer -&gt;\r\n                                                            traceRequest(clientRequest, buffer)));\r\n                                        }\r\n                                    }, context);\r\n                        }\r\n                    }).build();\r\n        }\r\n    \r\n        private void traceRequest(ClientRequest clientRequest, DataBuffer buffer) {\r\n            final ByteBuf byteBuf = NettyDataBufferFactory.toByteBuf(buffer);\r\n            final byte[] bytes = ByteBufUtil.getBytes(byteBuf);\r\n            // do some tracing e.g. new String(bytes)\r\n        }\r\n    \r\n    \r\n        private void traceResponse(ClientResponse response, DataBuffer dataBuffer) {\r\n            final byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n            dataBuffer.read(bytes);\r\n            // do some tracing e.g. new String(bytes)\r\n        }\r\n    }","title":"WebClient Request and Response body logging","body":"<p>You can do tracing of request and response payloads with small manipulations with request and responses:</p>\n<pre><code>public class TracingExchangeFilterFunction implements ExchangeFilterFunction {\n \n \n        return next.exchange(buildTraceableRequest(request))\n                .flatMap(response -&gt;\n                        response.body(BodyExtractors.toDataBuffers())\n                                .next()\n                                .doOnNext(dataBuffer -&gt; traceResponse(response, dataBuffer))\n                                .thenReturn(response)) ;\n    }\n\n    private ClientRequest buildTraceableRequest( \n            final ClientRequest clientRequest) {\n        return ClientRequest.from(clientRequest).body(\n                new BodyInserter&lt;&gt;() {\n                    @Override\n                    public Mono&lt;Void&gt; insert(\n                            final ClientHttpRequest outputMessage,\n                            final Context context) {\n                        return clientRequest.body().insert(\n                                new ClientHttpRequestDecorator(outputMessage) {\n                                    @Override\n                                    public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\n                                        return super.writeWith(\n                                                from(body).doOnNext(buffer -&gt;\n                                                        traceRequest(clientRequest, buffer)));\n                                    }\n                                }, context);\n                    }\n                }).build();\n    }\n\n    private void traceRequest(ClientRequest clientRequest, DataBuffer buffer) {\n        final ByteBuf byteBuf = NettyDataBufferFactory.toByteBuf(buffer);\n        final byte[] bytes = ByteBufUtil.getBytes(byteBuf);\n        // do some tracing e.g. new String(bytes)\n    }\n\n\n    private void traceResponse(ClientResponse response, DataBuffer dataBuffer) {\n        final byte[] bytes = new byte[dataBuffer.readableByteCount()];\n        dataBuffer.read(bytes);\n        // do some tracing e.g. new String(bytes)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19411552,"reputation":15,"user_id":14195889,"display_name":"Theorem_101"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659330120,"creation_date":1659018901,"answer_id":73154616,"question_id":67300470,"body_markdown":"To add to Vicky Ajmera [answer][1] best way to get and log a request is with ExchangeFilterFunction. \r\n```\r\nprivate ExchangeFilterFunction logRequest() {\r\n        return (clientRequest, next) -&gt; {\r\n            logger.info(&quot;Request: {} {} {}&quot;, clientRequest.method(), clientRequest.url(), clientRequest.body());\r\n            clientRequest.headers()\r\n                    .forEach((name, values) -&gt; values.forEach(value -&gt; logger.info(&quot;{}={}&quot;, name, value)));\r\n            return next.exchange(clientRequest);\r\n        }; \r\n}\r\n```\r\n\r\nBut to log a response body you will have to go to the lower level of ClientHttpResponse which then allows you to intercept the body.\r\nFirst extend ClientHttpResponseDecorator like this:\r\n```\r\npublic class LoggingClientHttpResponse extends ClientHttpResponseDecorator {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(LoggingClientHttpResponse.class);\r\n    private static final DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\r\n    private final DataBuffer buffer = bufferFactory.allocateBuffer();\r\n\r\n\r\n    public LoggingClientHttpResponse(ClientHttpResponse delegate) {\r\n        super(delegate);\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; getBody() {\r\n        return super.getBody()\r\n                .doOnNext(this.buffer::write)\r\n                .doOnComplete(() -&gt; logger.info(&quot;Response Body: {}&quot;, buffer.toString(StandardCharsets.UTF_8)));\r\n    }\r\n}\r\n```\r\n\r\nThen create your implementation of ClientHttpConnector like this:\r\n\r\n```\r\npublic class LoggingClientHttpConnector implements ClientHttpConnector {\r\n    private final ClientHttpConnector delegate;\r\n\r\n    public LoggingClientHttpConnector(ClientHttpConnector delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;ClientHttpResponse&gt; connect(HttpMethod method, URI uri, Function&lt;? super ClientHttpRequest, Mono&lt;Void&gt;&gt; requestCallback) {\r\n        return this.delegate.connect(method, uri, requestCallback).map(LoggingClientHttpResponse::new);\r\n    }\r\n}\r\n```\r\nAnd last when building your WebClient add a connector:\r\n \r\n```\r\nHttpClient httpClient = HttpClient.create();\r\nClientHttpConnector connector = new ReactorClientHttpConnector(httpClient);\r\n\r\nWebClient.builder()\r\n         .baseUrl(&quot;http://localhost:8080&quot;)\r\n         .clientConnector(new LoggingClientHttpConnectorDecorator(connector))\r\n         .filter(logRequest())\r\n         .build();\r\n```\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67302099/14195889","title":"WebClient Request and Response body logging","body":"<p>To add to Vicky Ajmera <a href=\"https://stackoverflow.com/a/67302099/14195889\">answer</a> best way to get and log a request is with ExchangeFilterFunction.</p>\n<pre><code>private ExchangeFilterFunction logRequest() {\n        return (clientRequest, next) -&gt; {\n            logger.info(&quot;Request: {} {} {}&quot;, clientRequest.method(), clientRequest.url(), clientRequest.body());\n            clientRequest.headers()\n                    .forEach((name, values) -&gt; values.forEach(value -&gt; logger.info(&quot;{}={}&quot;, name, value)));\n            return next.exchange(clientRequest);\n        }; \n}\n</code></pre>\n<p>But to log a response body you will have to go to the lower level of ClientHttpResponse which then allows you to intercept the body.\nFirst extend ClientHttpResponseDecorator like this:</p>\n<pre><code>public class LoggingClientHttpResponse extends ClientHttpResponseDecorator {\n\n    private static final Logger logger = LoggerFactory.getLogger(LoggingClientHttpResponse.class);\n    private static final DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\n    private final DataBuffer buffer = bufferFactory.allocateBuffer();\n\n\n    public LoggingClientHttpResponse(ClientHttpResponse delegate) {\n        super(delegate);\n    }\n\n    @Override\n    public Flux&lt;DataBuffer&gt; getBody() {\n        return super.getBody()\n                .doOnNext(this.buffer::write)\n                .doOnComplete(() -&gt; logger.info(&quot;Response Body: {}&quot;, buffer.toString(StandardCharsets.UTF_8)));\n    }\n}\n</code></pre>\n<p>Then create your implementation of ClientHttpConnector like this:</p>\n<pre><code>public class LoggingClientHttpConnector implements ClientHttpConnector {\n    private final ClientHttpConnector delegate;\n\n    public LoggingClientHttpConnector(ClientHttpConnector delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public Mono&lt;ClientHttpResponse&gt; connect(HttpMethod method, URI uri, Function&lt;? super ClientHttpRequest, Mono&lt;Void&gt;&gt; requestCallback) {\n        return this.delegate.connect(method, uri, requestCallback).map(LoggingClientHttpResponse::new);\n    }\n}\n</code></pre>\n<p>And last when building your WebClient add a connector:</p>\n<pre><code>HttpClient httpClient = HttpClient.create();\nClientHttpConnector connector = new ReactorClientHttpConnector(httpClient);\n\nWebClient.builder()\n         .baseUrl(&quot;http://localhost:8080&quot;)\n         .clientConnector(new LoggingClientHttpConnectorDecorator(connector))\n         .filter(logRequest())\n         .build();\n</code></pre>\n"}],"owner":{"account_id":14327804,"reputation":11,"user_id":10349394,"display_name":"Mohd. Haider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1659330120,"creation_date":1619613717,"question_id":67300470,"body_markdown":"I am trying to make a POJO out of request and response data received when making WebClient calls. But I am not getting the request body in string/JSON readable form instead I am getting a BodyInsertor. I am making use of Exchange Filters. \r\n\r\n```\r\npublic ExchangeFilterFunction logWebRequest() {\r\n    return (request, next) -&gt; {\r\n      log.info(&quot;Entered in logWebRequest for WebClient&quot;);\r\n      long startTime = System.currentTimeMillis();\r\n      Mono&lt;ClientResponse&gt; response = next.exchange(request);\r\n      long processingTimeInMs = System.currentTimeMillis() - startTime;\r\n\r\n      // request.body() -&gt; Gives Body Insertor\r\n\r\n      WebRequestLog webRequestLog = webRequestService.makeWebRequestLog(request, response.block());\r\n      webRequestLog.setProcessingTimeInMs(processingTimeInMs);\r\n\r\n      log.info(&quot;WebRequest to be produced to kafka topic: &quot; + webRequestLog);\r\n      kafkaService.produceAuditLog(webRequestLog);\r\n      return response;\r\n    };\r\n  }\r\n```\r\n\r\nI followed some articles such as https://andrew-flower.com/blog/webclient-body-logging and https://www.gitmemory.com/issue/spring-projects/spring-framework/24262/570245788 but nothing worked for me. \r\n\r\nMy end goal is to capture requests and responses with their bodies and produce the data collected for Kafka.","title":"WebClient Request and Response body logging","body":"<p>I am trying to make a POJO out of request and response data received when making WebClient calls. But I am not getting the request body in string/JSON readable form instead I am getting a BodyInsertor. I am making use of Exchange Filters.</p>\n<pre><code>public ExchangeFilterFunction logWebRequest() {\n    return (request, next) -&gt; {\n      log.info(&quot;Entered in logWebRequest for WebClient&quot;);\n      long startTime = System.currentTimeMillis();\n      Mono&lt;ClientResponse&gt; response = next.exchange(request);\n      long processingTimeInMs = System.currentTimeMillis() - startTime;\n\n      // request.body() -&gt; Gives Body Insertor\n\n      WebRequestLog webRequestLog = webRequestService.makeWebRequestLog(request, response.block());\n      webRequestLog.setProcessingTimeInMs(processingTimeInMs);\n\n      log.info(&quot;WebRequest to be produced to kafka topic: &quot; + webRequestLog);\n      kafkaService.produceAuditLog(webRequestLog);\n      return response;\n    };\n  }\n</code></pre>\n<p>I followed some articles such as <a href=\"https://andrew-flower.com/blog/webclient-body-logging\" rel=\"nofollow noreferrer\">https://andrew-flower.com/blog/webclient-body-logging</a> and <a href=\"https://www.gitmemory.com/issue/spring-projects/spring-framework/24262/570245788\" rel=\"nofollow noreferrer\">https://www.gitmemory.com/issue/spring-projects/spring-framework/24262/570245788</a> but nothing worked for me.</p>\n<p>My end goal is to capture requests and responses with their bodies and produce the data collected for Kafka.</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1659328334,"post_id":73188826,"comment_id":129260131,"body_markdown":"Please post your code samples as text, please don&#39;t post images of code.  Especially terrible sideways images take at a bad angle with your phone.","body":"Please post your code samples as text, please don&#39;t post images of code.  Especially terrible sideways images take at a bad angle with your phone."},{"owner":{"account_id":25914443,"reputation":94,"user_id":19638034,"display_name":"anast3t"},"score":1,"creation_date":1659328407,"post_id":73188826,"comment_id":129260143,"body_markdown":"loop i N times where you add to arraylist a tupple of A and B where A = N - i and B = i","body":"loop i N times where you add to arraylist a tupple of A and B where A = N - i and B = i"}],"answers":[{"tags":[],"owner":{"account_id":23307615,"reputation":1,"user_id":17387368,"display_name":"Pyuan07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659329951,"creation_date":1659329951,"answer_id":73188997,"question_id":73188826,"body_markdown":"**The basic algorithm to solve this problem:**\r\n\r\nUsed two for loop for &quot;*a*&quot; and &quot;*b*&quot; to find the pairs where *a + b == N*\r\n\r\n    public static Map&lt;Integer,Integer&gt; getPossibleSum(Integer n){\r\n        Map&lt;Integer,Integer&gt; pair = new HashMap&lt;&gt;();\r\n        for(int a = 0; a &lt; n; a++){\r\n            for(int b = 0; b &lt;n; b++){\r\n                if(a + b == n){\r\n                    pair.put(a,b);\r\n                }\r\n            }\r\n        }\r\n        return pair;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;Integer,Integer&gt; pair = getPossibleSum(10);\r\n        for (Integer key : pair.keySet()) {\r\n            System.out.println(String.format(&quot;[a: %d; b: %d]&quot;, key, pair.get(key)));\r\n        }\r\n    }\r\n\r\n**OR**\r\n\r\nYou may only one for loop for &quot;*a*&quot;, and the &quot;*N - a*&quot; will be the value of &quot;*b*&quot;\r\n\r\n    public static Map&lt;Integer,Integer&gt; getPossibleSum(Integer n){\r\n        Map&lt;Integer,Integer&gt; pair = new HashMap&lt;&gt;();\r\n        for(int a = 1; a &lt; n; a++){\r\n            pair.put(a,n-a);\r\n        }\r\n        return pair;\r\n    }","title":"How to solve this Function problem with Java?","body":"<p><strong>The basic algorithm to solve this problem:</strong></p>\n<p>Used two for loop for &quot;<em>a</em>&quot; and &quot;<em>b</em>&quot; to find the pairs where <em>a + b == N</em></p>\n<pre><code>public static Map&lt;Integer,Integer&gt; getPossibleSum(Integer n){\n    Map&lt;Integer,Integer&gt; pair = new HashMap&lt;&gt;();\n    for(int a = 0; a &lt; n; a++){\n        for(int b = 0; b &lt;n; b++){\n            if(a + b == n){\n                pair.put(a,b);\n            }\n        }\n    }\n    return pair;\n}\n\npublic static void main(String[] args) {\n    Map&lt;Integer,Integer&gt; pair = getPossibleSum(10);\n    for (Integer key : pair.keySet()) {\n        System.out.println(String.format(&quot;[a: %d; b: %d]&quot;, key, pair.get(key)));\n    }\n}\n</code></pre>\n<p><strong>OR</strong></p>\n<p>You may only one for loop for &quot;<em>a</em>&quot;, and the &quot;<em>N - a</em>&quot; will be the value of &quot;<em>b</em>&quot;</p>\n<pre><code>public static Map&lt;Integer,Integer&gt; getPossibleSum(Integer n){\n    Map&lt;Integer,Integer&gt; pair = new HashMap&lt;&gt;();\n    for(int a = 1; a &lt; n; a++){\n        pair.put(a,n-a);\n    }\n    return pair;\n}\n</code></pre>\n"}],"owner":{"account_id":25401969,"reputation":1,"user_id":19211289,"display_name":"Kartik Pal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659329951,"creation_date":1659327832,"question_id":73188826,"body_markdown":"[enter image description here][2]Given an integer N, find all possible pairs of A, and B such that A + B = N and A and B both are natural numbers ??\r\n\r\nMy Code:-\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\n\r\nclass UserMainCode\r\n{\r\n\r\n    public int AllPair(int input1){\r\n          Int count0;\r\n       int N =  Input1;\r\n\r\n       if(N == A + B) {\r\n\r\n       System.out.println(Allpair);\r\n    }\r\n}\r\n```\r\n  [2]: https://i.stack.imgur.com/bJwnX.jpg","title":"How to solve this Function problem with Java?","body":"<p><a href=\"https://i.stack.imgur.com/bJwnX.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>Given an integer N, find all possible pairs of A, and B such that A + B = N and A and B both are natural numbers ??</p>\n<p>My Code:-</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\n\nclass UserMainCode\n{\n\n    public int AllPair(int input1){\n          Int count0;\n       int N =  Input1;\n\n       if(N == A + B) {\n\n       System.out.println(Allpair);\n    }\n}\n</code></pre>\n"},{"tags":["java","final","java-memory-model","jls","happens-before"],"comments":[{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1659309538,"post_id":73187553,"comment_id":129257867,"body_markdown":"Hi @poq, this is a really interesting although somewhat rarified line of questioning, but it seems too open-ended, asking several &quot;why&quot; questions that are hard to answer succinctly.  I am personally very interested in Java concurrency, so I&#39;d like to see this question improved so that it can be answered and be helpful to others.  IMHO, it would really help to include some code examples where you can point to a specific uncertainty in the specification, and ask &quot;is this specific sequence guaranteed to happen?&quot; or &quot;can this code break under certain circumstances?&quot;.  Thanks!","body":"Hi @poq, this is a really interesting although somewhat rarified line of questioning, but it seems too open-ended, asking several &quot;why&quot; questions that are hard to answer succinctly.  I am personally very interested in Java concurrency, so I&#39;d like to see this question improved so that it can be answered and be helpful to others.  IMHO, it would really help to include some code examples where you can point to a specific uncertainty in the specification, and ask &quot;is this specific sequence guaranteed to happen?&quot; or &quot;can this code break under certain circumstances?&quot;.  Thanks!"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1659310548,"post_id":73187553,"comment_id":129258005,"body_markdown":"@Wheezil I think the question, whilst its got plenty of question marks, is still effectively asking a single question, which is admittedly a bit vague (&quot;Given that the H-B guarantees for final fields listed in a separate chapter vs. all the other ones, explain what the differences are between &#167;17.5 H-B guarantees vs all the other ones in &#167;17.4?&quot; - that&#39;s the essential question here). However, I echo your request for code snippets, that would be a fantastic way to improve this question.","body":"@Wheezil I think the question, whilst its got plenty of question marks, is still effectively asking a single question, which is admittedly a bit vague (&quot;Given that the H-B guarantees for final fields listed in a separate chapter vs. all the other ones, explain what the differences are between &#167;17.5 H-B guarantees vs all the other ones in &#167;17.4?&quot; - that&#39;s the essential question here). However, I echo your request for code snippets, that would be a fantastic way to improve this question."},{"owner":{"account_id":25942637,"reputation":81,"user_id":19661861,"display_name":"poq"},"score":0,"creation_date":1659311151,"post_id":73187553,"comment_id":129258095,"body_markdown":"@Wheezil  I&#39;ve converted all the questions except the main one into normal sentences.","body":"@Wheezil  I&#39;ve converted all the questions except the main one into normal sentences."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1662468031,"post_id":73187553,"comment_id":130007912,"body_markdown":"@poq this is one part of the JMM that also isn&#39;t clear to me yet. This is an interesting read btw: https://shipilev.net/blog/2014/all-fields-are-final/","body":"@poq this is one part of the JMM that also isn&#39;t clear to me yet. This is an interesting read btw: <a href=\"https://shipilev.net/blog/2014/all-fields-are-final/\" rel=\"nofollow noreferrer\">shipilev.net/blog/2014/all-fields-are-final</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1669124715,"post_id":73187553,"comment_id":131568757,"body_markdown":"You are reading too much into the chapter structure of the specification. Being placed into a subsequent section instead of a subsection doesnt mean anything; its still part of the same specification and theres no semantic separation at all.","body":"You are reading too much into the chapter structure of the specification. Being placed into a subsequent section instead of a subsection doesnt mean anything; its still part of the same specification and theres no semantic separation at all."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1659310426,"creation_date":1659310426,"answer_id":73187655,"question_id":73187553,"body_markdown":"The special &#39;final field guarantees&#39; part was a later add-on. Documentation sometimes follows the quirks of history - possibly, had the &#39;final field guarantee&#39; issue been discovered prior to the first release of the JMM, the documentation would have been structured differently.\r\n\r\nIn other words, you&#39;re asking for &#39;why is this stuff in a separate chapter&#39; and perhaps the answer is: &quot;Because it was added in a later version of java, and therefore it was written at a completely different time; a new chapter is presumably the simplest way to add some more documentation&quot;. We&#39;re talking about decades ago at this point, of course.\r\n\r\n&#167;17.5 explains its purpose. Quote:\r\n\r\n&gt; The usage model for final fields is a simple one: Set the final fields for an object in that object&#39;s constructor; and do not write a reference to the object being constructed in a place where another thread can see it before the object&#39;s constructor is finished. If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object&#39;s final fields. It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nIn other words, in the distant past, you could do this:\r\n\r\nThread A:\r\n\r\n* Make a new object. The constructor is &#39;well behaved&#39; &lt;sup&gt;1&lt;/sup&gt;\r\n* Communicate the ref to this new object to another thread. Possibly in an unsafe way.\r\n\r\nThread B:\r\n* The receiving thread gets the correct ref (either because you did it safely with synchronization, i.e. happens-before relationship set up properly, or because you did it unsafely, but the JMM does not guarantee that unsafe code _fails_ to work: It may still work).\r\n* It calls a method of this object.\r\n* Said object witnesses a `final`-marked field that isn&#39;t initialized, because the initialization did occur in thread A, but no happens-before relationship exists, and re-ordering and other shenanigans means that _this_ thread doesn&#39;t see it yet.\r\n\r\nThis is extremely annoying. Part of the point of immutable classes is that you can more or less print out the JMM and set it on fire. You just don&#39;t need to care about virtually every tricky rule in it if your system is an amalgamation of immutable types. Except, it didn&#39;t actually work out that way prior to the existence of &#167;17.5\r\n\r\n\r\nThe JMM as a general principle is designed to give any JVM implementations as few &#39;handcuffs&#39; as possible whilst making developing for the JVM as uncomplicated as possible. It&#39;s a fine line - for example, had the JMM simply stated: &quot;The JVM is free to re-order whatever it wants at any time, and cache whatever it wants, at any time, for whatever duration it wants&quot;, then writing JVMs that run code quickly and according to spec would be &#39;easier&#39; (JVM impls would be faster), but, writing multithreaded code that actually does what you intended it to becomes borderline impossible. On the flipside, the JMM could also have guaranteed that re-ordering in the JVM is impossible to observe regardless of circumstance or architecture. But then JVMs would be slow as molasses, see Python and its much maligned global interpreter lock.\r\n\r\nThe JMM tries to be the happy compromise. And &#167;17.5 is written with the same spirit.\r\n\r\nIt basically says:\r\n\r\n* You CAN rely on the notion that any well-behaved construction means that `final` fields will just work out without having to worry about happens-before relationships whatsoever.\r\n* However, you CANNOT, at all, rely on _HOW_ the JVM implements the guarantee. In particular, we have defined what you can exactly rely on in terms of Happens-Before, but it&#39;s not the same H-B that the rest of the JMM talks about. We guarantee you that well-behaved construction means final fields won&#39;t be an issue but that&#39;s as far as our guarantee goes: You __cannot__ use this guarantee to then force other guarantees out of the JMM; you can&#39;t use this mechanism as a wonky way to establish H-B for other stuff, for example.\r\n\r\n\r\nThe JMM buys room to maneuver for JVM impls. Whether a JVM impl actually uses it, is up to the JVM implementor. In other words, a JVM implementor may well decide to implement &#167;17.5 by using the same locking mechanisms it uses to guarantee the H-B stuff in &#167;17.4, and thus effectively you _can_ apply properties like &#39;H-B relationships are transitive&#39;. The point of the JMM is partly to allow JVM impls to take some pretty drastically different approaches to _how_ the guarantees it dictates are in fact guaranteed. That&#39;s because JVMs have to be written so that they can run code about as fast as native code could on a wide variety of hardware, whilst still being a target platform that isn&#39;t impossible to develop for.\r\n\r\nQuite the tightrope walk. This is the primary underlying explanation for the JMM can be obtuse and bizarre at times.\r\n\r\n\r\n[1] A &#39;well behaved&#39; constructor:\r\n\r\n* Does not pass its own reference (`this`) to any code outside of its own class during construction.\r\n* Does not invoke any of its own instance methods that then read its own fields (or, especially problematic, which can be overridden by subclasses, whose implementation uses its own fields). Basically: Calling any non-final method is an instant &quot;You are not well behaved&quot; violation.\r\n* Does not send any object refs of things I wishes to store in fields to code in other classes during construction. Even if it has already assigned it to the final field before doing so.\r\n","title":"How are the final multi-threading guarantees and the memory model related in Java?","body":"<p>The special 'final field guarantees' part was a later add-on. Documentation sometimes follows the quirks of history - possibly, had the 'final field guarantee' issue been discovered prior to the first release of the JMM, the documentation would have been structured differently.</p>\n<p>In other words, you're asking for 'why is this stuff in a separate chapter' and perhaps the answer is: &quot;Because it was added in a later version of java, and therefore it was written at a completely different time; a new chapter is presumably the simplest way to add some more documentation&quot;. We're talking about decades ago at this point, of course.</p>\n<p>17.5 explains its purpose. Quote:</p>\n<blockquote>\n<p>The usage model for final fields is a simple one: Set the final fields for an object in that object's constructor; and do not write a reference to the object being constructed in a place where another thread can see it before the object's constructor is finished. If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object's final fields. It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>In other words, in the distant past, you could do this:</p>\n<p>Thread A:</p>\n<ul>\n<li>Make a new object. The constructor is 'well behaved' <sup>1</sup></li>\n<li>Communicate the ref to this new object to another thread. Possibly in an unsafe way.</li>\n</ul>\n<p>Thread B:</p>\n<ul>\n<li>The receiving thread gets the correct ref (either because you did it safely with synchronization, i.e. happens-before relationship set up properly, or because you did it unsafely, but the JMM does not guarantee that unsafe code <em>fails</em> to work: It may still work).</li>\n<li>It calls a method of this object.</li>\n<li>Said object witnesses a <code>final</code>-marked field that isn't initialized, because the initialization did occur in thread A, but no happens-before relationship exists, and re-ordering and other shenanigans means that <em>this</em> thread doesn't see it yet.</li>\n</ul>\n<p>This is extremely annoying. Part of the point of immutable classes is that you can more or less print out the JMM and set it on fire. You just don't need to care about virtually every tricky rule in it if your system is an amalgamation of immutable types. Except, it didn't actually work out that way prior to the existence of 17.5</p>\n<p>The JMM as a general principle is designed to give any JVM implementations as few 'handcuffs' as possible whilst making developing for the JVM as uncomplicated as possible. It's a fine line - for example, had the JMM simply stated: &quot;The JVM is free to re-order whatever it wants at any time, and cache whatever it wants, at any time, for whatever duration it wants&quot;, then writing JVMs that run code quickly and according to spec would be 'easier' (JVM impls would be faster), but, writing multithreaded code that actually does what you intended it to becomes borderline impossible. On the flipside, the JMM could also have guaranteed that re-ordering in the JVM is impossible to observe regardless of circumstance or architecture. But then JVMs would be slow as molasses, see Python and its much maligned global interpreter lock.</p>\n<p>The JMM tries to be the happy compromise. And 17.5 is written with the same spirit.</p>\n<p>It basically says:</p>\n<ul>\n<li>You CAN rely on the notion that any well-behaved construction means that <code>final</code> fields will just work out without having to worry about happens-before relationships whatsoever.</li>\n<li>However, you CANNOT, at all, rely on <em>HOW</em> the JVM implements the guarantee. In particular, we have defined what you can exactly rely on in terms of Happens-Before, but it's not the same H-B that the rest of the JMM talks about. We guarantee you that well-behaved construction means final fields won't be an issue but that's as far as our guarantee goes: You <strong>cannot</strong> use this guarantee to then force other guarantees out of the JMM; you can't use this mechanism as a wonky way to establish H-B for other stuff, for example.</li>\n</ul>\n<p>The JMM buys room to maneuver for JVM impls. Whether a JVM impl actually uses it, is up to the JVM implementor. In other words, a JVM implementor may well decide to implement 17.5 by using the same locking mechanisms it uses to guarantee the H-B stuff in 17.4, and thus effectively you <em>can</em> apply properties like 'H-B relationships are transitive'. The point of the JMM is partly to allow JVM impls to take some pretty drastically different approaches to <em>how</em> the guarantees it dictates are in fact guaranteed. That's because JVMs have to be written so that they can run code about as fast as native code could on a wide variety of hardware, whilst still being a target platform that isn't impossible to develop for.</p>\n<p>Quite the tightrope walk. This is the primary underlying explanation for the JMM can be obtuse and bizarre at times.</p>\n<p>[1] A 'well behaved' constructor:</p>\n<ul>\n<li>Does not pass its own reference (<code>this</code>) to any code outside of its own class during construction.</li>\n<li>Does not invoke any of its own instance methods that then read its own fields (or, especially problematic, which can be overridden by subclasses, whose implementation uses its own fields). Basically: Calling any non-final method is an instant &quot;You are not well behaved&quot; violation.</li>\n<li>Does not send any object refs of things I wishes to store in fields to code in other classes during construction. Even if it has already assigned it to the final field before doing so.</li>\n</ul>\n"}],"owner":{"account_id":25942637,"reputation":81,"user_id":19661861,"display_name":"poq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1659329787,"creation_date":1659308977,"question_id":73187553,"body_markdown":"The memory model is defined in [17.4. Memory Model](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4).\r\n\r\nThe `final` field multi-threading guarantees are given in [17.5. final Field Semantics](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5).\r\n\r\nI don&#39;t understand why these are separate sections.\r\n\r\nAFAIK both `final` and the memory model provide some guarantees.  \r\nAnd any real program execution must respect both guarantees.  \r\nBut it&#39;s now clear whether the `final` guarantees work for the intermediate executions used to validate causality requirements in [17.4.8. Executions and Causality Requirements](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8).\r\n\r\nAnother unclear moment is that [17.5.1. Semantics of final Fields](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5.1) defines a new &quot;special&quot; `happens-before`, which differs from the `happens-before` in the memory model:\r\n&gt; This _happens-before_ ordering does not transitively close with other _happens-before_ orderings.\r\n\r\nIf these are the same `happens-before`, then the `happens-before` isn&#39;t a partial order anymore (because it isn&#39;t transitive).  \r\nI don&#39;t understand how this doesn&#39;t break things.\r\n\r\nIf these are different `happens-before`, then it&#39;s not clear what the one in [17.5. final Field Semantics](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5) does.  \r\nThe `happens-before` in [17.4. Memory Model](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4) is used to restrict what a read can return:\r\n&gt; Informally, a read `r` is allowed to see the result of a write `w` if there is no happens-before ordering to prevent that read.\r\n\r\nBut [17.5. final Field Semantics](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5) is a different section.","title":"How are the final multi-threading guarantees and the memory model related in Java?","body":"<p>The memory model is defined in <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">17.4. Memory Model</a>.</p>\n<p>The <code>final</code> field multi-threading guarantees are given in <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">17.5. final Field Semantics</a>.</p>\n<p>I don't understand why these are separate sections.</p>\n<p>AFAIK both <code>final</code> and the memory model provide some guarantees.<br />\nAnd any real program execution must respect both guarantees.<br />\nBut it's now clear whether the <code>final</code> guarantees work for the intermediate executions used to validate causality requirements in <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.8\" rel=\"nofollow noreferrer\">17.4.8. Executions and Causality Requirements</a>.</p>\n<p>Another unclear moment is that <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5.1\" rel=\"nofollow noreferrer\">17.5.1. Semantics of final Fields</a> defines a new &quot;special&quot; <code>happens-before</code>, which differs from the <code>happens-before</code> in the memory model:</p>\n<blockquote>\n<p>This <em>happens-before</em> ordering does not transitively close with other <em>happens-before</em> orderings.</p>\n</blockquote>\n<p>If these are the same <code>happens-before</code>, then the <code>happens-before</code> isn't a partial order anymore (because it isn't transitive).<br />\nI don't understand how this doesn't break things.</p>\n<p>If these are different <code>happens-before</code>, then it's not clear what the one in <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">17.5. final Field Semantics</a> does.<br />\nThe <code>happens-before</code> in <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">17.4. Memory Model</a> is used to restrict what a read can return:</p>\n<blockquote>\n<p>Informally, a read <code>r</code> is allowed to see the result of a write <code>w</code> if there is no happens-before ordering to prevent that read.</p>\n</blockquote>\n<p>But <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">17.5. final Field Semantics</a> is a different section.</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1537357951,"post_id":52405219,"comment_id":91754215,"body_markdown":"what is *supposed* to happen on the second iteration of the outer loop? Read the second file completely a second time?","body":"what is <i>supposed</i> to happen on the second iteration of the outer loop? Read the second file completely a second time?"},{"owner":{"account_id":9790973,"reputation":282,"user_id":7255573,"display_name":"Pikappa"},"score":0,"creation_date":1537358204,"post_id":52405219,"comment_id":91754349,"body_markdown":"Yep, csvreader2 has just to loop and for each first element of csvreader&#39;s row i need to do a stringcompare. First time works, but when the outer loop start again, the inside loop is skipped","body":"Yep, csvreader2 has just to loop and for each first element of csvreader&#39;s row i need to do a stringcompare. First time works, but when the outer loop start again, the inside loop is skipped"}],"answers":[{"tags":[],"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537358161,"creation_date":1537358161,"answer_id":52405326,"question_id":52405219,"body_markdown":"When the inner loop has been completed for the first iteration of the outer loop the `cvsReader` will have reached EOF so any further calls `csvReader.readNext()` will return null.\r\n\r\nOne solution is to not nest the loops but first read one of the files into an array or other collection and then work against that array when reading the second array.","title":"While loop skipped for csvReader","body":"<p>When the inner loop has been completed for the first iteration of the outer loop the <code>cvsReader</code> will have reached EOF so any further calls <code>csvReader.readNext()</code> will return null.</p>\n\n<p>One solution is to not nest the loops but first read one of the files into an array or other collection and then work against that array when reading the second array.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537358331,"creation_date":1537358331,"answer_id":52405370,"question_id":52405219,"body_markdown":"The inner while loop will continue to read records from `csvReader` until there are no records left to read.\r\n\r\n`csvReader` does not &#39;reset&#39; just because the while loop ended: The reader is done. Therefore, the next time you try to read records from it, it immediately returns; `csvReader` is _still_ at the end.\r\n\r\nTo solve this problem, you would have to somehow reset `csvReader` back to the beginning. Most stream-style java APIs intentionally do not support `reset` (because many sources of data do not have the notion &#39;please start from the beginning again&#39;). Therefore, to &#39;reset&#39; it you would have to recreate it inside the outer loop, thus guaranteeing you have a fresh new `csvReader` _every time_ you loop.\r\n\r\nIf your source material is a file, this might be slow. If it&#39;s a network connection, this is not possible. But, there&#39;s another solution: You can read the records from `csvReader` once through and save these in memory, and then go by your memory copy. This is not feasible if the source is very large (you&#39;d need a lot of RAM), but assuming it isn&#39;t:\r\n\r\n    // Save all records in csvReader into a list.\r\n    List&lt;String[]&gt; allRecords = new ArrayList&lt;&gt;();\r\n    while ((String[] record = csvReader.readNext()) != null) allRecords.add(record);\r\n\r\nand then use this list in your inner loop:\r\n\r\n    while ((nextPM = csvReader2.readNext()) != null) {\r\n        System.out.println(nextPM[0]);\r\n        for (String[] nextRecord : allRecords) {\r\n            System.out.println(nextRecord[0] + &quot;asd&quot;);\r\n            if(nextRecord[0].equals(nextPM[0])) {\r\n                System.out.println(nextRecord[0] + &quot; &quot; + nextRecord[1] + &quot; &quot; + nextPM[2]);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"While loop skipped for csvReader","body":"<p>The inner while loop will continue to read records from <code>csvReader</code> until there are no records left to read.</p>\n\n<p><code>csvReader</code> does not 'reset' just because the while loop ended: The reader is done. Therefore, the next time you try to read records from it, it immediately returns; <code>csvReader</code> is <em>still</em> at the end.</p>\n\n<p>To solve this problem, you would have to somehow reset <code>csvReader</code> back to the beginning. Most stream-style java APIs intentionally do not support <code>reset</code> (because many sources of data do not have the notion 'please start from the beginning again'). Therefore, to 'reset' it you would have to recreate it inside the outer loop, thus guaranteeing you have a fresh new <code>csvReader</code> <em>every time</em> you loop.</p>\n\n<p>If your source material is a file, this might be slow. If it's a network connection, this is not possible. But, there's another solution: You can read the records from <code>csvReader</code> once through and save these in memory, and then go by your memory copy. This is not feasible if the source is very large (you'd need a lot of RAM), but assuming it isn't:</p>\n\n<pre><code>// Save all records in csvReader into a list.\nList&lt;String[]&gt; allRecords = new ArrayList&lt;&gt;();\nwhile ((String[] record = csvReader.readNext()) != null) allRecords.add(record);\n</code></pre>\n\n<p>and then use this list in your inner loop:</p>\n\n<pre><code>while ((nextPM = csvReader2.readNext()) != null) {\n    System.out.println(nextPM[0]);\n    for (String[] nextRecord : allRecords) {\n        System.out.println(nextRecord[0] + \"asd\");\n        if(nextRecord[0].equals(nextPM[0])) {\n            System.out.println(nextRecord[0] + \" \" + nextRecord[1] + \" \" + nextPM[2]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537360388,"creation_date":1537360388,"answer_id":52405969,"question_id":52405219,"body_markdown":"You can just move the declaration and initializiation of your `csvReader` in to the first while loop just above the inner loop starts. Doing so you create for each iteration of the inner loop a new reader:\r\n\r\n       while ((nextPM = csvReader2.readNext()) != null) {\r\n            System.out.println(nextPM[0]);\r\n            CSVReader csvReader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n            while ((nextRecord = csvReader.readNext()) != null) {\r\n                System.out.println(nextRecord[0] + &quot;asd&quot;);\r\n                if(nextRecord[0].equals(nextPM[0])) {\r\n                    System.out.println(nextRecord[0] + &quot; &quot; + nextRecord[1] + &quot; &quot; + nextPM[2]);\r\n                }\r\n            }\r\n        }","title":"While loop skipped for csvReader","body":"<p>You can just move the declaration and initializiation of your <code>csvReader</code> in to the first while loop just above the inner loop starts. Doing so you create for each iteration of the inner loop a new reader:</p>\n\n<pre><code>   while ((nextPM = csvReader2.readNext()) != null) {\n        System.out.println(nextPM[0]);\n        CSVReader csvReader = new CSVReader(new FileReader(\"yourfile.csv\"));\n        while ((nextRecord = csvReader.readNext()) != null) {\n            System.out.println(nextRecord[0] + \"asd\");\n            if(nextRecord[0].equals(nextPM[0])) {\n                System.out.println(nextRecord[0] + \" \" + nextRecord[1] + \" \" + nextPM[2]);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25922949,"reputation":1,"user_id":19645223,"display_name":"Nishant Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659329388,"creation_date":1659070505,"answer_id":73161811,"question_id":52405219,"body_markdown":"Store the data of 1st file in the ArrayList. Start iterating the 2nd file using the While loop and use the iteration of the ArrayList using the For-loop in the While loop. \r\n\r\nThis is what worked for me.","title":"While loop skipped for csvReader","body":"<p>Store the data of 1st file in the ArrayList. Start iterating the 2nd file using the While loop and use the iteration of the ArrayList using the For-loop in the While loop.</p>\n<p>This is what worked for me.</p>\n"}],"owner":{"account_id":9790973,"reputation":282,"user_id":7255573,"display_name":"Pikappa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1659329388,"creation_date":1537357860,"question_id":52405219,"body_markdown":"So, I have this situation: I have two .csv files and I need to read and save data for both of them.\r\n\r\nThe problem is here:\r\n\r\n    while ((nextPM = csvReader2.readNext()) != null) {\r\n        System.out.println(nextPM[0]);\r\n        while ((nextRecord = csvReader.readNext()) != null) {\r\n            System.out.println(nextRecord[0] + &quot;asd&quot;);\r\n            if(nextRecord[0].equals(nextPM[0])) {\r\n                System.out.println(nextRecord[0] + &quot; &quot; + nextRecord[1] + &quot; &quot; + nextPM[2]);\r\n            }\r\n        }\r\n    }\r\n\r\nFirst time works perfectly, but when the first while loop start again, the second while is just skipped. Any solution? Of course `nextPM` and `nextRecord` are `String[]` (initialized outside of the code I&#39;m showing to you)","title":"While loop skipped for csvReader","body":"<p>So, I have this situation: I have two .csv files and I need to read and save data for both of them.</p>\n\n<p>The problem is here:</p>\n\n<pre><code>while ((nextPM = csvReader2.readNext()) != null) {\n    System.out.println(nextPM[0]);\n    while ((nextRecord = csvReader.readNext()) != null) {\n        System.out.println(nextRecord[0] + \"asd\");\n        if(nextRecord[0].equals(nextPM[0])) {\n            System.out.println(nextRecord[0] + \" \" + nextRecord[1] + \" \" + nextPM[2]);\n        }\n    }\n}\n</code></pre>\n\n<p>First time works perfectly, but when the first while loop start again, the second while is just skipped. Any solution? Of course <code>nextPM</code> and <code>nextRecord</code> are <code>String[]</code> (initialized outside of the code I'm showing to you)</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658154885,"post_id":73023780,"comment_id":128974519,"body_markdown":"For your own custom exception, you could instead override `fillInStackTrace()` and just return `this`.","body":"For your own custom exception, you could instead override <code>fillInStackTrace()</code> and just return <code>this</code>."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1658234980,"post_id":73023780,"comment_id":128996857,"body_markdown":"The answer to this question might also depend on which specific logging framework you are using. Some of them allow setting a &quot;cooldown&quot; for specific log messages (but for the complete message). Additionally, what do you consider to be the &quot;same exception&quot;? Is only the location where it was thrown relevant, or the complete stack trace (in the latter case determining exception equality would also introduce some overhead).","body":"The answer to this question might also depend on which specific logging framework you are using. Some of them allow setting a &quot;cooldown&quot; for specific log messages (but for the complete message). Additionally, what do you consider to be the &quot;same exception&quot;? Is only the location where it was thrown relevant, or the complete stack trace (in the latter case determining exception equality would also introduce some overhead)."},{"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"score":0,"creation_date":1658247269,"post_id":73023780,"comment_id":129002178,"body_markdown":"@Marcono1234 It is a good idea to count log message frequency, and then &quot;cooldown&quot; to protect the system. With the same log message and the same type of throwable, we can omit calcLocation and traverse stacktrace. As for the implementation principle of JDK, I need to spend some time to learn.","body":"@Marcono1234 It is a good idea to count log message frequency, and then &quot;cooldown&quot; to protect the system. With the same log message and the same type of throwable, we can omit calcLocation and traverse stacktrace. As for the implementation principle of JDK, I need to spend some time to learn."},{"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"score":0,"creation_date":1658248177,"post_id":73023780,"comment_id":129002507,"body_markdown":"JDK count exception frequency and then recompile method using preallocated exceptions that do not provide a stack trace. To disable use this flag: -XX:-OmitStackTraceInFastThrow","body":"JDK count exception frequency and then recompile method using preallocated exceptions that do not provide a stack trace. To disable use this flag: -XX:-OmitStackTraceInFastThrow"},{"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"score":0,"creation_date":1659011148,"post_id":73023780,"comment_id":129197205,"body_markdown":"One choice to solve the problem is RateLimiter. Add RateLimit filter for error level log.","body":"One choice to solve the problem is RateLimiter. Add RateLimit filter for error level log."}],"answers":[{"tags":[],"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659326664,"creation_date":1659326664,"answer_id":73188724,"question_id":73023780,"body_markdown":"This can be avoid by current limiting. Add one log4j2 interceptor to limit error log printing. The limiter filter can be implemented by `guava`\r\n```\r\n&lt;configuration status=&quot;info&quot;&gt;\r\n    &lt;RateLimitFilter level=&quot;ERROR&quot; rate=&quot;10&quot;/&gt;\r\n    &lt;appenders&gt;\r\n    ...\r\n    &lt;/appenders&gt;\r\n    &lt;loggers&gt;\r\n    ...\r\n    &lt;/loggers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnother way, we can avoid this by circuit breaker(such as `resilience4j` or `Hystrix`).","title":"Omit stack trace after same exception is thrown several times","body":"<p>This can be avoid by current limiting. Add one log4j2 interceptor to limit error log printing. The limiter filter can be implemented by <code>guava</code></p>\n<pre><code>&lt;configuration status=&quot;info&quot;&gt;\n    &lt;RateLimitFilter level=&quot;ERROR&quot; rate=&quot;10&quot;/&gt;\n    &lt;appenders&gt;\n    ...\n    &lt;/appenders&gt;\n    &lt;loggers&gt;\n    ...\n    &lt;/loggers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Another way, we can avoid this by circuit breaker(such as <code>resilience4j</code> or <code>Hystrix</code>).</p>\n"}],"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659326664,"creation_date":1658153644,"question_id":73023780,"body_markdown":"Log error info as below:\r\n```\r\ntry {\r\n    invokeRomoteB();\r\n} catch (Exception e){\r\n    LOGGER.error(&quot;invoke B with exception!&quot;, e);\r\n}\r\n```\r\nThis will print error message and stack trace. We can find the cause easily.\r\n\r\nBut in high QPS situation, this will print lots of same stack info with huge CPU uses when many same exceptions occurred. \r\n\r\nI find JDK can omit stack trace after same exception is thrown several times for built-in exceptions: [JDK5.0 Release Notes](https://www.oracle.com/java/technologies/javase/release-notes-introduction.html#vm). \r\n\r\nIs it possible to omit stack trace (or limit frequency) after same common exception is thrown many times?\r\n\r\nReference:\r\n- https://stackoverflow.com/questions/2411487/nullpointerexception-in-java-with-no-stacktrace\r\n- https://stackoverflow.com/questions/4659151/recurring-exception-without-a-stack-trace-how-to-reset\r\n- [JDK5.0 Release Notes](https://www.oracle.com/java/technologies/javase/release-notes-introduction.html#vm)\r\n","title":"Omit stack trace after same exception is thrown several times","body":"<p>Log error info as below:</p>\n<pre><code>try {\n    invokeRomoteB();\n} catch (Exception e){\n    LOGGER.error(&quot;invoke B with exception!&quot;, e);\n}\n</code></pre>\n<p>This will print error message and stack trace. We can find the cause easily.</p>\n<p>But in high QPS situation, this will print lots of same stack info with huge CPU uses when many same exceptions occurred.</p>\n<p>I find JDK can omit stack trace after same exception is thrown several times for built-in exceptions: <a href=\"https://www.oracle.com/java/technologies/javase/release-notes-introduction.html#vm\" rel=\"nofollow noreferrer\">JDK5.0 Release Notes</a>.</p>\n<p>Is it possible to omit stack trace (or limit frequency) after same common exception is thrown many times?</p>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2411487/nullpointerexception-in-java-with-no-stacktrace\">NullPointerException in Java with no StackTrace</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4659151/recurring-exception-without-a-stack-trace-how-to-reset\">Recurring Exception without a stack trace - how to reset?</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/release-notes-introduction.html#vm\" rel=\"nofollow noreferrer\">JDK5.0 Release Notes</a></li>\n</ul>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5515004,"reputation":733,"user_id":4380048,"accept_rate":52,"display_name":"Forkmohit"},"score":0,"creation_date":1449811154,"post_id":30691884,"comment_id":56177610,"body_markdown":"hey can you help me with this? https://stackoverflow.com/questions/34176763/hibernate-text-search-unable-to-get-matched-items","body":"hey can you help me with this? <a href=\"https://stackoverflow.com/questions/34176763/hibernate-text-search-unable-to-get-matched-items\" title=\"hibernate text search unable to get matched items\">stackoverflow.com/questions/34176763/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4277851,"reputation":51792,"user_id":3498062,"display_name":"Andrei Stefan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1433675414,"creation_date":1433675414,"answer_id":30692829,"question_id":30691884,"body_markdown":"I don&#39;t have an answer for Spring Data Elasticsearch, but in ES itself you can bump up the default settings for slow query logging and see all the queries in the slow log. More details about slow log [here](https://www.elastic.co/guide/en/elasticsearch/reference/1.3/index-modules-slowlog.html).\r\n\r\nAs to how to change the thresholds, a command like this should be used:\r\n\r\n\r\n    PUT /_settings\r\n    {\r\n      &quot;index.search.slowlog.threshold.query.info&quot;: &quot;1ms&quot;\r\n    }\r\n\r\n`1ms` is kindof the smallest value you can set.","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>I don't have an answer for Spring Data Elasticsearch, but in ES itself you can bump up the default settings for slow query logging and see all the queries in the slow log. More details about slow log <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/1.3/index-modules-slowlog.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>As to how to change the thresholds, a command like this should be used:</p>\n\n<pre><code>PUT /_settings\n{\n  \"index.search.slowlog.threshold.query.info\": \"1ms\"\n}\n</code></pre>\n\n<p><code>1ms</code> is kindof the smallest value you can set.</p>\n"},{"tags":[],"owner":{"account_id":6099224,"reputation":364,"user_id":4758835,"accept_rate":33,"display_name":"Ren&#233; Reitmann"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1434643538,"creation_date":1434641955,"answer_id":30919880,"question_id":30691884,"body_markdown":"If you are using spring boot you can set the following in your application.properties:\r\n\r\n    logging.level.org.elasticsearch.index.search.slowlog.query=INFO\r\n    spring.data.elasticsearch.properties.index.search.slowlog.threshold.query.info=1ms","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>If you are using spring boot you can set the following in your application.properties:</p>\n\n<pre><code>logging.level.org.elasticsearch.index.search.slowlog.query=INFO\nspring.data.elasticsearch.properties.index.search.slowlog.threshold.query.info=1ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10711730,"reputation":41,"user_id":7883765,"display_name":"Hongliang Chen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492516168,"creation_date":1492516168,"answer_id":43471315,"question_id":30691884,"body_markdown":"\r\nI encountered the same problem, In the ElasticsearchTemplate only a few method have log debug level, E.g: \r\n\r\n    public &lt;T&gt; Page&lt;T&gt; queryForPage(CriteriaQuery criteriaQuery, Class&lt;T&gt; clazz) {\r\n\t\tQueryBuilder elasticsearchQuery = new CriteriaQueryProcessor().createQueryFromCriteria(criteriaQuery.getCriteria());\r\n\t\tQueryBuilder elasticsearchFilter = new CriteriaFilterProcessor().createFilterFromCriteria(criteriaQuery.getCriteria());\r\n\t\tSearchRequestBuilder searchRequestBuilder = prepareSearch(criteriaQuery, clazz);\r\n\r\n\t\tif (elasticsearchQuery != null) {\r\n\t\t\tsearchRequestBuilder.setQuery(elasticsearchQuery);\r\n\t\t} else {\r\n\t\t\tsearchRequestBuilder.setQuery(QueryBuilders.matchAllQuery());\r\n\t\t}\r\n\r\n\t\tif (criteriaQuery.getMinScore() &gt; 0) {\r\n\t\t\tsearchRequestBuilder.setMinScore(criteriaQuery.getMinScore());\r\n\t\t}\r\n\r\n\t\tif (elasticsearchFilter != null)\r\n\t\t\tsearchRequestBuilder.setPostFilter(elasticsearchFilter);\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;doSearch query:\\n&quot; + searchRequestBuilder.toString());\r\n\t\t}\r\n\r\n\t\tSearchResponse response = getSearchResponse(searchRequestBuilder\r\n\t\t\t\t.execute());\r\n\t\treturn resultsMapper.mapResults(response, clazz, criteriaQuery.getPageable());\r\n\t}\r\n\r\n","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>I encountered the same problem, In the ElasticsearchTemplate only a few method have log debug level, E.g: </p>\n\n<pre><code>public &lt;T&gt; Page&lt;T&gt; queryForPage(CriteriaQuery criteriaQuery, Class&lt;T&gt; clazz) {\n    QueryBuilder elasticsearchQuery = new CriteriaQueryProcessor().createQueryFromCriteria(criteriaQuery.getCriteria());\n    QueryBuilder elasticsearchFilter = new CriteriaFilterProcessor().createFilterFromCriteria(criteriaQuery.getCriteria());\n    SearchRequestBuilder searchRequestBuilder = prepareSearch(criteriaQuery, clazz);\n\n    if (elasticsearchQuery != null) {\n        searchRequestBuilder.setQuery(elasticsearchQuery);\n    } else {\n        searchRequestBuilder.setQuery(QueryBuilders.matchAllQuery());\n    }\n\n    if (criteriaQuery.getMinScore() &gt; 0) {\n        searchRequestBuilder.setMinScore(criteriaQuery.getMinScore());\n    }\n\n    if (elasticsearchFilter != null)\n        searchRequestBuilder.setPostFilter(elasticsearchFilter);\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"doSearch query:\\n\" + searchRequestBuilder.toString());\n    }\n\n    SearchResponse response = getSearchResponse(searchRequestBuilder\n            .execute());\n    return resultsMapper.mapResults(response, clazz, criteriaQuery.getPageable());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446461,"reputation":2991,"user_id":839518,"accept_rate":80,"display_name":"Vladimir Salin"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1546422844,"creation_date":1523630008,"answer_id":49819400,"question_id":30691884,"body_markdown":"This one is quite old, but I&#39;d still like to share the solution that worked for me. To log Spring Data Elasticsearch queries executed through the Repository, you need to enable `DEBUG` logging for the package `org.springframework.data.elasticsearch.core.*`, e.g. as follows:\r\n\r\n    logging:\r\n      level:\r\n        org:\r\n          springframework:\r\n            data:\r\n              elasticsearch:\r\n                core: DEBUG\r\n\r\nAfter that, queries will appear in logs:\r\n\r\n    {\r\n      &quot;from&quot; : 0,\r\n      &quot;size&quot; : 1,\r\n      &quot;query&quot; : {\r\n        &quot;bool&quot; : {\r\n          &quot;should&quot; : [ {\r\n            &quot;query_string&quot; : {\r\n              &quot;query&quot; : &quot;John Doe&quot;,\r\n              &quot;fields&quot; : [ &quot;entityName&quot; ],\r\n              &quot;default_operator&quot; : &quot;and&quot;\r\n            }\r\n          }, {\r\n            &quot;query_string&quot; : {\r\n              &quot;query&quot; : &quot;John Doe&quot;,\r\n              &quot;fields&quot; : [ &quot;alias&quot; ],\r\n              &quot;default_operator&quot; : &quot;and&quot;\r\n            }\r\n          } ]\r\n        }\r\n      },\r\n      &quot;post_filter&quot; : {\r\n        &quot;bool&quot; : { }\r\n      }\r\n    }\r\n\r\nOne would expect an elegant solution similar to JPA, but it seems that it doesn&#39;t simply exist.\r\n\r\nTested with Spring Boot 1.4.0 and Spring Data Elasticsearch 1.7.3.","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>This one is quite old, but I'd still like to share the solution that worked for me. To log Spring Data Elasticsearch queries executed through the Repository, you need to enable <code>DEBUG</code> logging for the package <code>org.springframework.data.elasticsearch.core.*</code>, e.g. as follows:</p>\n\n<pre><code>logging:\n  level:\n    org:\n      springframework:\n        data:\n          elasticsearch:\n            core: DEBUG\n</code></pre>\n\n<p>After that, queries will appear in logs:</p>\n\n<pre><code>{\n  \"from\" : 0,\n  \"size\" : 1,\n  \"query\" : {\n    \"bool\" : {\n      \"should\" : [ {\n        \"query_string\" : {\n          \"query\" : \"John Doe\",\n          \"fields\" : [ \"entityName\" ],\n          \"default_operator\" : \"and\"\n        }\n      }, {\n        \"query_string\" : {\n          \"query\" : \"John Doe\",\n          \"fields\" : [ \"alias\" ],\n          \"default_operator\" : \"and\"\n        }\n      } ]\n    }\n  },\n  \"post_filter\" : {\n    \"bool\" : { }\n  }\n}\n</code></pre>\n\n<p>One would expect an elegant solution similar to JPA, but it seems that it doesn't simply exist.</p>\n\n<p>Tested with Spring Boot 1.4.0 and Spring Data Elasticsearch 1.7.3.</p>\n"},{"tags":[],"owner":{"account_id":3065942,"reputation":365,"user_id":2597638,"display_name":"abenab"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1578412018,"creation_date":1578412018,"answer_id":59631655,"question_id":30691884,"body_markdown":"After digging through the spring data code i found this helpful little logger called &quot;tracer&quot; (name not very unique)\r\n\r\nBy setting the following in application.properties\r\n\r\n```logging.level.tracer=TRACE```\r\n\r\nIt will print out a full curl statement for the request along with full JSON the response from Elasticsearch.\r\n","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>After digging through the spring data code i found this helpful little logger called \"tracer\" (name not very unique)</p>\n\n<p>By setting the following in application.properties</p>\n\n<p><code>logging.level.tracer=TRACE</code></p>\n\n<p>It will print out a full curl statement for the request along with full JSON the response from Elasticsearch.</p>\n"},{"tags":[],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615358495,"creation_date":1615358495,"answer_id":66559589,"question_id":30691884,"body_markdown":"Just to add my two cents to @AndreiStefan: Now you can set `0ms` instead of `1ms`. It seems that some very fast queries can be captured using this method.\r\n\r\nSimply do:\r\n\r\n```\r\nPUT /_settings\r\n{\r\n  &quot;index.search.slowlog.threshold.query.info&quot;: &quot;0ms&quot;\r\n}\r\n```","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>Just to add my two cents to @AndreiStefan: Now you can set <code>0ms</code> instead of <code>1ms</code>. It seems that some very fast queries can be captured using this method.</p>\n<p>Simply do:</p>\n<pre><code>PUT /_settings\n{\n  &quot;index.search.slowlog.threshold.query.info&quot;: &quot;0ms&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1618260049,"creation_date":1618260049,"answer_id":67065405,"question_id":30691884,"body_markdown":"This works on Spring Boot `2.3.3.RELEASE`\r\n\r\n`logging.level.org.springframework.data.elasticsearch.client.WIRE=trace`","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>This works on Spring Boot <code>2.3.3.RELEASE</code></p>\n<p><code>logging.level.org.springframework.data.elasticsearch.client.WIRE=trace</code></p>\n"},{"tags":[],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659326480,"creation_date":1659326480,"answer_id":73188713,"question_id":30691884,"body_markdown":"@2280258 is correct, and here comes the official doc:\r\n- https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/index.html#elasticsearch.clients.logging\r\n\r\n```\r\n&lt;logger name=&quot;org.springframework.data.elasticsearch.client.WIRE&quot; level=&quot;trace&quot;/&gt;\r\n```\r\n\r\nHere is the reason: in `org.springframework.data.elasticsearch.client.ClientLogger`, spring data elasticsearch creates a logger named &quot;org.springframework.data.elasticsearch.client.WIRE&quot;\r\n```\r\n\tprivate static final Logger WIRE_LOGGER = LoggerFactory\r\n\t\t\t.getLogger(&quot;org.springframework.data.elasticsearch.client.WIRE&quot;);\r\n```","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>@2280258 is correct, and here comes the official doc:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/index.html#elasticsearch.clients.logging\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/index.html#elasticsearch.clients.logging</a></li>\n</ul>\n<pre><code>&lt;logger name=&quot;org.springframework.data.elasticsearch.client.WIRE&quot; level=&quot;trace&quot;/&gt;\n</code></pre>\n<p>Here is the reason: in <code>org.springframework.data.elasticsearch.client.ClientLogger</code>, spring data elasticsearch creates a logger named &quot;org.springframework.data.elasticsearch.client.WIRE&quot;</p>\n<pre><code>    private static final Logger WIRE_LOGGER = LoggerFactory\n            .getLogger(&quot;org.springframework.data.elasticsearch.client.WIRE&quot;);\n</code></pre>\n"}],"owner":{"account_id":2748512,"reputation":1589,"user_id":2368386,"accept_rate":64,"display_name":"fudy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23525,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":59631655,"answer_count":8,"score":28,"last_activity_date":1659326480,"creation_date":1433668590,"question_id":30691884,"body_markdown":"I use spring-data-elasticsearch framework to get query result from elasticsearch server, the java code like this:\r\n\r\n    SearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n    .withQuery(matchAllQuery()).withSearchType(SearchType.COUNT)\r\n    .addAggregation(new MinBuilder(&quot;min_createDate&quot;).field(&quot;createDate&quot;))\r\n    .build();\r\n    \r\n    List&lt;Entity&gt; list = template.queryForList(searchQuery, Entity.class);\r\n\r\nWhile how can I know the raw http query sent to elasticssearch server?\r\nHow can I enable the logging, I tried add log4j, but it seems the spring-data-elasticsearch doesn&#39;t log the query.\r\n","title":"How to enable query logging in Spring-data-elasticsearch","body":"<p>I use spring-data-elasticsearch framework to get query result from elasticsearch server, the java code like this:</p>\n\n<pre><code>SearchQuery searchQuery = new NativeSearchQueryBuilder()\n.withQuery(matchAllQuery()).withSearchType(SearchType.COUNT)\n.addAggregation(new MinBuilder(\"min_createDate\").field(\"createDate\"))\n.build();\n\nList&lt;Entity&gt; list = template.queryForList(searchQuery, Entity.class);\n</code></pre>\n\n<p>While how can I know the raw http query sent to elasticssearch server?\nHow can I enable the logging, I tried add log4j, but it seems the spring-data-elasticsearch doesn't log the query.</p>\n"},{"tags":["java","optimization","stack"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1563560095,"post_id":57117715,"comment_id":100753921,"body_markdown":"Your stack contains the unclosed brackets. The stack in the second example contains the *expected* brackets. That last `else if` just tests that the current character is the expected bracket.","body":"Your stack contains the unclosed brackets. The stack in the second example contains the <i>expected</i> brackets. That last <code>else if</code> just tests that the current character is the expected bracket."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1563560588,"post_id":57117715,"comment_id":100754139,"body_markdown":"Why do you think this solution is &quot;optimized&quot;? What is it optimized for?","body":"Why do you think this solution is &quot;optimized&quot;? What is it optimized for?"},{"owner":{"account_id":15696471,"reputation":81,"user_id":11325867,"display_name":"jignesh kumar"},"score":0,"creation_date":1563561023,"post_id":57117715,"comment_id":100754343,"body_markdown":"I called it optimized only because of the memory usage ....The memory usage of my code is 34.4MB while 34.2MB for this solution on the `LeetCode Platform`.","body":"I called it optimized only because of the memory usage ....The memory usage of my code is 34.4MB while 34.2MB for this solution on the <code>LeetCode Platform</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1563561223,"post_id":57117715,"comment_id":100754422,"body_markdown":"@jigneshkumar you would likely use a lot less memory if you used a `StringBuilder` (append/delete) instead of a `Stack` (push/pop), because you would avoid using autoboxed values.","body":"@jigneshkumar you would likely use a lot less memory if you used a <code>StringBuilder</code> (append/delete) instead of a <code>Stack</code> (push/pop), because you would avoid using autoboxed values."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1563562211,"post_id":57117715,"comment_id":100754844,"body_markdown":"Also: using an indexed for loop and `s.charAt(i)` is better than `toCharArray()`, since the latter copies the string&#39;s char array.","body":"Also: using an indexed for loop and <code>s.charAt(i)</code> is better than <code>toCharArray()</code>, since the latter copies the string&#39;s char array."},{"owner":{"account_id":15696471,"reputation":81,"user_id":11325867,"display_name":"jignesh kumar"},"score":0,"creation_date":1563562593,"post_id":57117715,"comment_id":100754969,"body_markdown":"Thanks for the help, `+Andy Turner` :)","body":"Thanks for the help, <code>+Andy Turner</code> :)"}],"answers":[{"tags":[],"owner":{"account_id":9134297,"reputation":12847,"user_id":6794568,"display_name":"Astik Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1563560084,"creation_date":1563560084,"answer_id":57117749,"question_id":57117715,"body_markdown":"You have pushed the `closing bracket` for all the `opening` brackets. So, that when closing brackets come, then it will match the character at the top of stack. If it doesn&#39;t match or stack becomes empty. That means **unbalanced**.\r\n\r\n```\r\nelse if(stack.isEmpty() || stack.pop()!=ch)\r\n    return false;\r\n```\r\nWhen you reach here, you have a `bracket` as ch but the stack is empty or the value from the stack doesn&#39;t match the incoming character. \r\n\r\nSo, the parantheses are **not balanced**.","title":"Optimized solution for Balanced Parentheses Problem","body":"<p>You have pushed the <code>closing bracket</code> for all the <code>opening</code> brackets. So, that when closing brackets come, then it will match the character at the top of stack. If it doesn't match or stack becomes empty. That means <strong>unbalanced</strong>.</p>\n\n<pre><code>else if(stack.isEmpty() || stack.pop()!=ch)\n    return false;\n</code></pre>\n\n<p>When you reach here, you have a <code>bracket</code> as ch but the stack is empty or the value from the stack doesn't match the incoming character. </p>\n\n<p>So, the parantheses are <strong>not balanced</strong>.</p>\n"},{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563560640,"creation_date":1563560300,"answer_id":57117783,"question_id":57117715,"body_markdown":"It is actually pretty similar to your own version.\r\n\r\nThe main difference is that you push the open brackets to the stack and in `isPair` check if the open bracket on top of the stack matches the closing one you&#39;re currently evaluating.\r\n\r\nThat solution skips it by directly pushing the expected closing bracket to the stack, but functionally it&#39;s the same.\r\n\r\nThat last `if else` does the exact same than your `else`:\r\n\r\n 1. If `stack.isEmpty()` returns false\r\n 2. If not empty and not matching the bracket on top of the stack, returns false\r\n 3. Otherwise pops the bracket on top\r\n\r\nThere is a slight difference that for case 2 that solution pops the stack while in yours you don&#39;t pop it. But it doesn&#39;t change anything as the function returns and that stack will not be used anymore.","title":"Optimized solution for Balanced Parentheses Problem","body":"<p>It is actually pretty similar to your own version.</p>\n\n<p>The main difference is that you push the open brackets to the stack and in <code>isPair</code> check if the open bracket on top of the stack matches the closing one you're currently evaluating.</p>\n\n<p>That solution skips it by directly pushing the expected closing bracket to the stack, but functionally it's the same.</p>\n\n<p>That last <code>if else</code> does the exact same than your <code>else</code>:</p>\n\n<ol>\n<li>If <code>stack.isEmpty()</code> returns false</li>\n<li>If not empty and not matching the bracket on top of the stack, returns false</li>\n<li>Otherwise pops the bracket on top</li>\n</ol>\n\n<p>There is a slight difference that for case 2 that solution pops the stack while in yours you don't pop it. But it doesn't change anything as the function returns and that stack will not be used anymore.</p>\n"},{"tags":[],"owner":{"account_id":6311180,"reputation":1121,"user_id":4902660,"accept_rate":100,"display_name":"Tal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653149949,"creation_date":1631276431,"answer_id":69132115,"question_id":57117715,"body_markdown":"Javascript solution to the problem\r\n\r\n```\r\n\r\nvar isValid = function (s) {\r\n    if (s.length % 2 !== 0) return false\r\n    // Stack to store left symbols\r\n    const leftSymbols = [];\r\n    // Loop for each character of the string\r\n    for (let i = 0; i &lt; s.length; i++) {\r\n        // If left symbol is encountered\r\n        if (s[i] === &#39;(&#39; || s[i] === &#39;{&#39; || s[i] === &#39;[&#39;) {\r\n            leftSymbols.push(s[i]);\r\n        }\r\n        // If right symbol is encountered\r\n        else if (s[i] === &#39;)&#39; &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === &#39;(&#39;) {\r\n            leftSymbols.pop();\r\n        } else if (s[i] === &#39;}&#39; &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === &#39;{&#39;) {\r\n            leftSymbols.pop();\r\n        } else if (s[i] === &#39;]&#39; &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === &#39;[&#39;) {\r\n            leftSymbols.pop();\r\n        }\r\n        // If none of the valid symbols is encountered\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    return leftSymbols.length === 0;\r\n};\r\n```","title":"Optimized solution for Balanced Parentheses Problem","body":"<p>Javascript solution to the problem</p>\n<pre><code>\nvar isValid = function (s) {\n    if (s.length % 2 !== 0) return false\n    // Stack to store left symbols\n    const leftSymbols = [];\n    // Loop for each character of the string\n    for (let i = 0; i &lt; s.length; i++) {\n        // If left symbol is encountered\n        if (s[i] === '(' || s[i] === '{' || s[i] === '[') {\n            leftSymbols.push(s[i]);\n        }\n        // If right symbol is encountered\n        else if (s[i] === ')' &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === '(') {\n            leftSymbols.pop();\n        } else if (s[i] === '}' &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === '{') {\n            leftSymbols.pop();\n        } else if (s[i] === ']' &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === '[') {\n            leftSymbols.pop();\n        }\n        // If none of the valid symbols is encountered\n        else {\n            return false;\n        }\n    }\n    return leftSymbols.length === 0;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11769583,"reputation":21,"user_id":8612994,"display_name":"MD ASIF ALAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659326319,"creation_date":1659326319,"answer_id":73188699,"question_id":57117715,"body_markdown":"I am adding my code here using *map in JavaScript*, Please add if you find a way better than it.\r\n\r\n    `   var isValid = function(s) {\r\n    let map={\r\n      &quot;)&quot;:&quot;(&quot;,\r\n      &quot;]&quot;:&quot;[&quot;,\r\n      &quot;}&quot;:&quot;{&quot;      \r\n    }\r\n    \r\n    let _stack = [];\r\n    for(let i=0;i&lt;s.length;i++)\r\n      {\r\n        if(s[i]===&quot;(&quot; || s[i]===&quot;[&quot; || s[i]===&quot;{&quot;)\r\n          {\r\n            _stack.push(s[i]);\r\n          }\r\n        else if(_stack[_stack.length-1]===map[s[i]])\r\n          {\r\n            _stack.pop();\r\n          }\r\n        else\r\n          return false;\r\n      }\r\n       return  _stack.length?false:true;\r\n      };\r\n`","title":"Optimized solution for Balanced Parentheses Problem","body":"<p>I am adding my code here using <em>map in JavaScript</em>, Please add if you find a way better than it.</p>\n<pre><code>`   var isValid = function(s) {\nlet map={\n  &quot;)&quot;:&quot;(&quot;,\n  &quot;]&quot;:&quot;[&quot;,\n  &quot;}&quot;:&quot;{&quot;      \n}\n\nlet _stack = [];\nfor(let i=0;i&lt;s.length;i++)\n  {\n    if(s[i]===&quot;(&quot; || s[i]===&quot;[&quot; || s[i]===&quot;{&quot;)\n      {\n        _stack.push(s[i]);\n      }\n    else if(_stack[_stack.length-1]===map[s[i]])\n      {\n        _stack.pop();\n      }\n    else\n      return false;\n  }\n   return  _stack.length?false:true;\n  };\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":15696471,"reputation":81,"user_id":11325867,"display_name":"jignesh kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57117749,"answer_count":4,"score":2,"last_activity_date":1659326319,"creation_date":1563559874,"question_id":57117715,"body_markdown":"Given a string containing just the characters `&#39;(&#39;`, `&#39;)&#39;`, `&#39;{&#39;`, `&#39;}&#39;`, `&#39;[&#39;` and `&#39;]&#39;`, determine if the input string is valid.\r\n\r\nAn input string is valid if:\r\n\r\n1. Open brackets must be closed by the same type of brackets.\r\n2. Open brackets must be closed in the correct order.\r\n3. Note that an empty string is also considered valid.\r\n\r\nExample 1:\r\n\r\n    Input: &quot;()[]{}&quot;\r\n    Output: true\r\n    Example 2:\r\n\r\nExample 2:\r\n\r\n    Input: &quot;{[(])}&quot;\r\n    Output: false\r\n\r\nMy solution for the above problem is:\r\n\r\n    static boolean isPair(char left,char right){\r\n            return left==&#39;{&#39; &amp;&amp; right==&#39;}&#39; || left==&#39;(&#39; &amp;&amp; right==&#39;)&#39; || left==&#39;[&#39; &amp;&amp; right==&#39;]&#39;; \r\n        }\r\n        public boolean isValid(String s) {\r\n            Stack&lt;Character&gt; stack= new Stack&lt;&gt;();\r\n            for(char ch: s.toCharArray()){\r\n                if(ch==&#39;(&#39; || ch==&#39;{&#39; || ch==&#39;[&#39;){\r\n                    stack.push(ch);\r\n                }\r\n                else{\r\n                    if(!stack.isEmpty() &amp;&amp; isPair(stack.peek(),ch))\r\n                        stack.pop();\r\n                    else\r\n                        return false;\r\n                }\r\n            }\r\n            return stack.isEmpty();\r\n    }\r\n\r\nI have found a much smarter solution somewhere but unable to understand it.\r\nHere&#39;s the code:\r\n\r\n    public boolean isValid(String s) {\r\n            Stack&lt;Character&gt; stack= new Stack&lt;&gt;();\r\n            for(char ch: s.toCharArray()){\r\n                if(ch==&#39;(&#39;)\r\n                    stack.push(&#39;)&#39;);\r\n                else if(ch==&#39;{&#39;)\r\n                    stack.push(&#39;}&#39;);\r\n                else if(ch==&#39;[&#39;)\r\n                    stack.push(&#39;]&#39;);\r\n                else if(stack.isEmpty() || stack.pop()!=ch)\r\n                    return false;\r\n            }\r\n            return stack.isEmpty();\r\n    }\r\n\r\nPlease help me to understand the working of last `else-if` block. ","title":"Optimized solution for Balanced Parentheses Problem","body":"<p>Given a string containing just the characters <code>'('</code>, <code>')'</code>, <code>'{'</code>, <code>'}'</code>, <code>'['</code> and <code>']'</code>, determine if the input string is valid.</p>\n\n<p>An input string is valid if:</p>\n\n<ol>\n<li>Open brackets must be closed by the same type of brackets.</li>\n<li>Open brackets must be closed in the correct order.</li>\n<li>Note that an empty string is also considered valid.</li>\n</ol>\n\n<p>Example 1:</p>\n\n<pre><code>Input: \"()[]{}\"\nOutput: true\nExample 2:\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>Input: \"{[(])}\"\nOutput: false\n</code></pre>\n\n<p>My solution for the above problem is:</p>\n\n<pre><code>static boolean isPair(char left,char right){\n        return left=='{' &amp;&amp; right=='}' || left=='(' &amp;&amp; right==')' || left=='[' &amp;&amp; right==']'; \n    }\n    public boolean isValid(String s) {\n        Stack&lt;Character&gt; stack= new Stack&lt;&gt;();\n        for(char ch: s.toCharArray()){\n            if(ch=='(' || ch=='{' || ch=='['){\n                stack.push(ch);\n            }\n            else{\n                if(!stack.isEmpty() &amp;&amp; isPair(stack.peek(),ch))\n                    stack.pop();\n                else\n                    return false;\n            }\n        }\n        return stack.isEmpty();\n}\n</code></pre>\n\n<p>I have found a much smarter solution somewhere but unable to understand it.\nHere's the code:</p>\n\n<pre><code>public boolean isValid(String s) {\n        Stack&lt;Character&gt; stack= new Stack&lt;&gt;();\n        for(char ch: s.toCharArray()){\n            if(ch=='(')\n                stack.push(')');\n            else if(ch=='{')\n                stack.push('}');\n            else if(ch=='[')\n                stack.push(']');\n            else if(stack.isEmpty() || stack.pop()!=ch)\n                return false;\n        }\n        return stack.isEmpty();\n}\n</code></pre>\n\n<p>Please help me to understand the working of last <code>else-if</code> block. </p>\n"},{"tags":["java","excel","nullpointerexception","apache-poi"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":3,"creation_date":1659321211,"post_id":73188330,"comment_id":129259292,"body_markdown":"You have only created a new `XSSFWorkbook`, you haven&#39;t loaded an existing one (the inputStream is completely ignored), so it won&#39;t have any data at all, and that is why you get the error. Change `XSSFWorkbook workbook = new XSSFWorkbook();` to be `XSSFWorkbook workbook = new XSSFWorkbook(inputStream);` I also recommend you do null checks any time you want to use the get methods for sheet, row, column, cell etc","body":"You have only created a new <code>XSSFWorkbook</code>, you haven&#39;t loaded an existing one (the inputStream is completely ignored), so it won&#39;t have any data at all, and that is why you get the error. Change <code>XSSFWorkbook workbook = new XSSFWorkbook();</code> to be <code>XSSFWorkbook workbook = new XSSFWorkbook(inputStream);</code> I also recommend you do null checks any time you want to use the get methods for sheet, row, column, cell etc"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1659322447,"post_id":73188330,"comment_id":129259440,"body_markdown":"@sorifriend If you put your solution in the &quot;answer&quot; box, then people will be able to vote on it.","body":"@sorifriend If you put your solution in the &quot;answer&quot; box, then people will be able to vote on it."},{"owner":{"account_id":25943643,"reputation":3,"user_id":19662682,"display_name":"Cutie Beans"},"score":0,"creation_date":1659326655,"post_id":73188330,"comment_id":129259905,"body_markdown":"Hello, thank you for this. I fixed that part of the code and my program is now printing the first row, but after printing the first row the program then throws another exception and doesnt print the second row\n Heres the exception:\n\ntesting | testing | testing |Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFCell.getCellType()&quot; because &quot;cell&quot; is null at excelOperations.readExcel.main(readExcel.java:28)\n\nit prints the first row &quot;testing | testing | testing |&quot; and then stops. I assume the program does not go to the second row","body":"Hello, thank you for this. I fixed that part of the code and my program is now printing the first row, but after printing the first row the program then throws another exception and doesnt print the second row  Heres the exception:  testing | testing | testing |Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFCell.getCellType()&quot; because &quot;cell&quot; is null at excelOperations.readExcel.main(readExcel.java:28)  it prints the first row &quot;testing | testing | testing |&quot; and then stops. I assume the program does not go to the second row"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659326680,"post_id":73188330,"comment_id":129259910,"body_markdown":"@CutieBeans See my answer below, note the comment at the end, and the link showing how to check for null values, you need to do this check before you even attempt to interact with a cell. You are currently trying to perform an action on a cell that does not exist or has null content.","body":"@CutieBeans See my answer below, note the comment at the end, and the link showing how to check for null values, you need to do this check before you even attempt to interact with a cell. You are currently trying to perform an action on a cell that does not exist or has null content."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659326785,"post_id":73188330,"comment_id":129259930,"body_markdown":"@CutieBeans The actual issue is that you are using `c&lt;=cols` in your loop, which will try and read the cell in the 4th column (which is empty/null). Change it to `c&lt;cols`, but also add the null check, otherwise, you will still have this issue for cells that have no data, because by default Apache POI will return them as null cells.","body":"@CutieBeans The actual issue is that you are using <code>c&lt;=cols</code> in your loop, which will try and read the cell in the 4th column (which is empty/null). Change it to <code>c&lt;cols</code>, but also add the null check, otherwise, you will still have this issue for cells that have no data, because by default Apache POI will return them as null cells."},{"owner":{"account_id":25943643,"reputation":3,"user_id":19662682,"display_name":"Cutie Beans"},"score":0,"creation_date":1659327136,"post_id":73188330,"comment_id":129259981,"body_markdown":"alright, I will fix the columns. I checked out the link on null checks and will try the code there too. Ill tell you how it goes","body":"alright, I will fix the columns. I checked out the link on null checks and will try the code there too. Ill tell you how it goes"},{"owner":{"account_id":25943643,"reputation":3,"user_id":19662682,"display_name":"Cutie Beans"},"score":0,"creation_date":1659327207,"post_id":73188330,"comment_id":129259997,"body_markdown":"@sorifiend Okay, I fixed the columns issue.\nI also added this null check:\n\nif (cell == null || cell.getCellType() == CellType.BLANK) {\n                System.out.println(&quot;&quot;);\n            }\nWould this null check work?","body":"@sorifiend Okay, I fixed the columns issue. I also added this null check:  if (cell == null || cell.getCellType() == CellType.BLANK) {                 System.out.println(&quot;&quot;);             } Would this null check work?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659327399,"post_id":73188330,"comment_id":129260018,"body_markdown":"@CutieBeans Using `if (cell == null || cell.getCellType() == CellType.BLANK) {System.out.println(&quot;&quot;);}` will not fix the issue, it only prints, and the cell will still be null. You should instead ignore the cell and move to the next iteration of the loop it by using `continue;`, or wrap the rest of the code in the method inside an else block `if (cell == null || cell.getCellType() == CellType.BLANK) {System.out.println(&quot;BLANK CELL&quot;);} else{...yourCodeHere...}`","body":"@CutieBeans Using <code>if (cell == null || cell.getCellType() == CellType.BLANK) {System.out.println(&quot;&quot;);}</code> will not fix the issue, it only prints, and the cell will still be null. You should instead ignore the cell and move to the next iteration of the loop it by using <code>continue;</code>, or wrap the rest of the code in the method inside an else block <code>if (cell == null || cell.getCellType() == CellType.BLANK) {System.out.println(&quot;BLANK CELL&quot;);} else{...yourCodeHere...}</code>"},{"owner":{"account_id":25943643,"reputation":3,"user_id":19662682,"display_name":"Cutie Beans"},"score":0,"creation_date":1659327607,"post_id":73188330,"comment_id":129260048,"body_markdown":"Okay, I added the null check you sent and tested it by putting blank cells in the excel file. It works! It prints BLANK CELL for every null value. Thank you so much.","body":"Okay, I added the null check you sent and tested it by putting blank cells in the excel file. It works! It prints BLANK CELL for every null value. Thank you so much."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659327752,"post_id":73188330,"comment_id":129260059,"body_markdown":"Good luck with your project.","body":"Good luck with your project."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659326224,"creation_date":1659326224,"answer_id":73188691,"question_id":73188330,"body_markdown":"A NullPointerException is thrown when you try and perform an action with a variable or object that has not yet been created. You can find some additional info here: [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)\r\n\r\nSpecifically in your case you have created a new `XSSFWorkbook()` but you haven&#39;t loaded a file into it (the inputStream you declare is completely ignored), so it won&#39;t have any data/content to read from, and that is why you get the error.\r\n\r\nThe easy solution is to change your existing line:\r\n\r\n    XSSFWorkbook workbook = new XSSFWorkbook();\r\n\r\nAnd instead use one of the [constructors](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#constructor.detail) shown in the documentation that accepts the document that you want to load as an input. You are in luck and can pass the FileInputStream directly into the constructor as follows:\r\n\r\n    XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n\r\nI also recommend you do null checks any time you want to use the `get` methods for sheet, row, cell etc, because typically a blank cell for example will give a null result but it can be [easily checked](https://stackoverflow.com/questions/15764417/how-to-check-if-an-excel-cell-is-empty-using-apache-poi) for.","title":"I am getting a java.lang.NullPointerException when using Apache POI","body":"<p>A NullPointerException is thrown when you try and perform an action with a variable or object that has not yet been created. You can find some additional info here: <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a></p>\n<p>Specifically in your case you have created a new <code>XSSFWorkbook()</code> but you haven't loaded a file into it (the inputStream you declare is completely ignored), so it won't have any data/content to read from, and that is why you get the error.</p>\n<p>The easy solution is to change your existing line:</p>\n<pre><code>XSSFWorkbook workbook = new XSSFWorkbook();\n</code></pre>\n<p>And instead use one of the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#constructor.detail\" rel=\"nofollow noreferrer\">constructors</a> shown in the documentation that accepts the document that you want to load as an input. You are in luck and can pass the FileInputStream directly into the constructor as follows:</p>\n<pre><code>XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n</code></pre>\n<p>I also recommend you do null checks any time you want to use the <code>get</code> methods for sheet, row, cell etc, because typically a blank cell for example will give a null result but it can be <a href=\"https://stackoverflow.com/questions/15764417/how-to-check-if-an-excel-cell-is-empty-using-apache-poi\">easily checked</a> for.</p>\n"}],"owner":{"account_id":25943643,"reputation":3,"user_id":19662682,"display_name":"Cutie Beans"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73188691,"answer_count":1,"score":0,"last_activity_date":1659326224,"creation_date":1659320886,"question_id":73188330,"body_markdown":"When I run my code, I am getting an exception saying that sheet is null even though when I open the sheet in excel, there is clearly values in those cells.\r\n\r\n[Click for image of excel file][2]\r\n\r\n**Here is the exception**: ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFSheet.getLastRowNum()&quot; because &quot;sheet&quot; is null\r\n        at excelOperations.readExcel.main(readExcel.java:20)\r\nPS C:\\Users\\noobe\\Downloads\\VSCODE\\ReadExcelFile&gt; \r\n\r\n```\r\npackage excelOperations;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\n\r\nimport org.apache.poi.xssf.usermodel.XSSFCell;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class readExcel {\r\n    public static void main(String[] args) throws FileNotFoundException{\r\n\r\n    String excelFilePath = &quot;C://Users//noobe//Downloads//test.xlsx&quot;;\r\n    FileInputStream inputStream = new FileInputStream(excelFilePath);\r\n\r\n    XSSFWorkbook workbook = new XSSFWorkbook();\r\n    XSSFSheet sheet = workbook.getSheetAt(0);\r\n    \r\n    int rows=sheet.getLastRowNum();\r\n    int cols =sheet.getRow(1).getLastCellNum();\r\n\r\n    for(int r=0 ; r&lt;rows;r++){\r\n        XSSFRow row = sheet.getRow(r);\r\n        for(int c=0; c&lt;=cols;c++){\r\n            XSSFCell cell=row.getCell(c);\r\n            switch(cell.getCellType()){\r\n                case STRING: System.out.print(cell.getStringCellValue()); break;\r\n                case NUMERIC: System.out.print(cell.getNumericCellValue());break;\r\n                case BOOLEAN: System.out.print(cell.getBooleanCellValue());break;\r\n\r\n            }\r\n            System.out.print(&quot; | &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8c40O.png\r\n  [2]: https://i.stack.imgur.com/RCrTl.png","title":"I am getting a java.lang.NullPointerException when using Apache POI","body":"<p>When I run my code, I am getting an exception saying that sheet is null even though when I open the sheet in excel, there is clearly values in those cells.</p>\n<p><a href=\"https://i.stack.imgur.com/RCrTl.png\" rel=\"nofollow noreferrer\">Click for image of excel file</a></p>\n<p><strong>Here is the exception</strong>: ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFSheet.getLastRowNum()&quot; because &quot;sheet&quot; is null\nat excelOperations.readExcel.main(readExcel.java:20)\nPS C:\\Users\\noobe\\Downloads\\VSCODE\\ReadExcelFile&gt;</p>\n<pre><code>package excelOperations;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\n\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class readExcel {\n    public static void main(String[] args) throws FileNotFoundException{\n\n    String excelFilePath = &quot;C://Users//noobe//Downloads//test.xlsx&quot;;\n    FileInputStream inputStream = new FileInputStream(excelFilePath);\n\n    XSSFWorkbook workbook = new XSSFWorkbook();\n    XSSFSheet sheet = workbook.getSheetAt(0);\n    \n    int rows=sheet.getLastRowNum();\n    int cols =sheet.getRow(1).getLastCellNum();\n\n    for(int r=0 ; r&lt;rows;r++){\n        XSSFRow row = sheet.getRow(r);\n        for(int c=0; c&lt;=cols;c++){\n            XSSFCell cell=row.getCell(c);\n            switch(cell.getCellType()){\n                case STRING: System.out.print(cell.getStringCellValue()); break;\n                case NUMERIC: System.out.print(cell.getNumericCellValue());break;\n                case BOOLEAN: System.out.print(cell.getBooleanCellValue());break;\n\n            }\n            System.out.print(&quot; | &quot;);\n        }\n        System.out.println();\n    }\n}\n}\n\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657919490,"creation_date":1657918147,"answer_id":72999463,"question_id":72934066,"body_markdown":" 1.  For `List&lt;Car&gt; vehicles = new ArrayList&lt;Car&gt;();` you could use simple the diamond operator like this `new ArrayList&lt;&gt;();`\r\n 2. Your `List&lt;? super BMW280&gt; bmws` means that you will have a list of BMW280 or any typ more specific than BMW280, what means subtypes of BMW280 like `public class BMW290 extends BMW280`. \r\n\r\nIf you are only pulling items from a generic collection, it is a producer and you should use extends; if you are only stuffing items in, it is a consumer and you should use super. From the name\r\n    of your list I assume that you intended to list all kind of BMWs.\r\n    You could do this instead: \r\n\r\n        public static void main(String[] args) {\r\n            List&lt;Car&gt; vehicles = new ArrayList&lt;&gt;();\r\n            vehicles.add(new BMW());\r\n            vehicles.add(new BMW240());\r\n            //&lt;? super BMW&gt; if you want to add also new BMW() \r\n            List&lt;? super BMW240&gt; bmws = vehicles;\r\n            bmws.add(new BMW240());\r\n            bmws.add(new BMW280());\r\n        }\r\n     \r\n\r\n   ","title":"Not able to add anything in the list of type wild card with super keyword","body":"<ol>\n<li>For <code>List&lt;Car&gt; vehicles = new ArrayList&lt;Car&gt;();</code> you could use simple the diamond operator like this <code>new ArrayList&lt;&gt;();</code></li>\n<li>Your <code>List&lt;? super BMW280&gt; bmws</code> means that you will have a list of BMW280 or any typ more specific than BMW280, what means subtypes of BMW280 like <code>public class BMW290 extends BMW280</code>.</li>\n</ol>\n<p>If you are only pulling items from a generic collection, it is a producer and you should use extends; if you are only stuffing items in, it is a consumer and you should use super. From the name\nof your list I assume that you intended to list all kind of BMWs.\nYou could do this instead:</p>\n<pre><code>    public static void main(String[] args) {\n        List&lt;Car&gt; vehicles = new ArrayList&lt;&gt;();\n        vehicles.add(new BMW());\n        vehicles.add(new BMW240());\n        //&lt;? super BMW&gt; if you want to add also new BMW() \n        List&lt;? super BMW240&gt; bmws = vehicles;\n        bmws.add(new BMW240());\n        bmws.add(new BMW280());\n    }\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10742473,"reputation":11,"user_id":8336145,"display_name":"butch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659324990,"creation_date":1659324990,"answer_id":73188614,"question_id":72934066,"body_markdown":"\r\n&lt;code&gt;List&lt;? super BMWS280&gt; bmws&lt;/code&gt; means &lt;b&gt;at runtime&lt;/b&gt; bmws will be some specified type either BMWS280 or its super type.\r\nLet&#39;s suppose it as type &lt;b&gt;SpecifiedType&lt;/b&gt;.\r\n##### Let&#39;s clarify why &lt;code&gt;bmws.add(new BMWS280())&lt;/code&gt; works\r\nWe don&#39;t know what actually the &lt;b&gt;SpecifiedType&lt;/b&gt; is.But what we can be sure is that BMWS280 (and its sub type) must be the sub type of the SpecifiedType,so you can add it to the bmws.\r\n##### Let&#39;s clarify why &lt;code&gt;bmws.add(new BMWS240())&lt;/code&gt; not works\r\nSince &lt;b&gt;SpecifiedType&lt;/b&gt; is either BMWS280 or its super type,it&#39;s not safe to add any instance which type is greater than BMWS280.\r\n\r\nFor example : what if the &lt;b&gt;SpecifiedType&lt;/b&gt; is BMWS280, obviously &lt;code&gt;bmws.add(new BMWS240())&lt;/code&gt; is not a type safe code.\r\n","title":"Not able to add anything in the list of type wild card with super keyword","body":"<p><code>List&lt;? super BMWS280&gt; bmws</code> means <b>at runtime</b> bmws will be some specified type either BMWS280 or its super type.\nLet's suppose it as type <b>SpecifiedType</b>.</p>\n<h5>Let's clarify why <code>bmws.add(new BMWS280())</code> works</h5>\n<p>We don't know what actually the <b>SpecifiedType</b> is.But what we can be sure is that BMWS280 (and its sub type) must be the sub type of the SpecifiedType,so you can add it to the bmws.</p>\n<h5>Let's clarify why <code>bmws.add(new BMWS240())</code> not works</h5>\n<p>Since <b>SpecifiedType</b> is either BMWS280 or its super type,it's not safe to add any instance which type is greater than BMWS280.</p>\n<p>For example : what if the <b>SpecifiedType</b> is BMWS280, obviously <code>bmws.add(new BMWS240())</code> is not a type safe code.</p>\n"}],"owner":{"account_id":470853,"reputation":29,"user_id":878273,"display_name":"Krish Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659324990,"creation_date":1657517108,"question_id":72934066,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q5tVb.png\r\n\r\nOn the left is the hierarchy of classes. bmws is a list of type anything which is either BMW280 or its super type. in this list ideally i should be able to add BMWS280 and above..\r\nPlease let me know what i am missing in my understanding.\r\n\r\n","title":"Not able to add anything in the list of type wild card with super keyword","body":"<p><a href=\"https://i.stack.imgur.com/q5tVb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q5tVb.png\" alt=\"enter image description here\" /></a></p>\n<p>On the left is the hierarchy of classes. bmws is a list of type anything which is either BMW280 or its super type. in this list ideally i should be able to add BMWS280 and above..\nPlease let me know what i am missing in my understanding.</p>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":16036243,"reputation":154,"user_id":11573887,"display_name":"Henry Xiloj Herrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659323154,"creation_date":1659323154,"answer_id":73188471,"question_id":73188004,"body_markdown":"Create two classes:\r\n\r\n```\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\n\r\n@JacksonXmlRootElement(localName = &quot;root&quot;)\r\npublic class Root {\r\n\r\n\t@JacksonXmlProperty(localName = &quot;row&quot;)\r\n\t@JacksonXmlElementWrapper(useWrapping = false)\r\n\tprivate Row[] row;\r\n\r\n\tpublic Row[] getRow() {\r\n\t\treturn row;\r\n\t}\r\n\r\n\tpublic void setRow(Row[] row) {\r\n\t\tthis.row = row;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\npublic class Row {\r\n\r\n\t@JacksonXmlProperty(localName = &quot;foo&quot;)\r\n\tprivate String foo;\r\n\t@JacksonXmlProperty(localName = &quot;bar&quot;)\r\n\tprivate String bar;\r\n\r\n\tpublic String getFoo() {\r\n\t\treturn foo;\r\n\t}\r\n\r\n\tpublic void setFoo(String foo) {\r\n\t\tthis.foo = foo;\r\n\t}\r\n\r\n\tpublic String getBar() {\r\n\t\treturn bar;\r\n\t}\r\n\r\n\tpublic void setBar(String bar) {\r\n\t\tthis.bar = bar;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nFor test: \r\n\r\n```\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n\r\nimport generated.Root; // your package\r\n\r\npublic class Demo {\r\n\r\n\tpublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n\t\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tXmlMapper xmlMapper = new XmlMapper();\r\n\r\n\t\tString xml = &quot;&lt;root&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;  &lt;row&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;    &lt;foo&gt;foo&lt;/foo&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;    &lt;bar&gt;bar&lt;/bar&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;  &lt;/row&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;  &lt;row&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;    &lt;foo&gt;foo2&lt;/foo&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;    &lt;bar&gt;bar2&lt;/bar&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;  &lt;/row&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;  &lt;row&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;    &lt;foo&gt;foo3&lt;/foo&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;    &lt;bar&gt;bar3&lt;/bar&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;  &lt;/row&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;&lt;/root&gt;&quot;;\r\n\t\tRoot map = xmlMapper.readValue(xml, Root.class);\r\n\t\t\r\n\t\tSystem.out.println(&quot;value &quot;+ mapper.writeValueAsString(map));\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nResul this:\r\n\r\n```\r\nvalue {&quot;row&quot;:[{&quot;foo&quot;:&quot;foo&quot;,&quot;bar&quot;:&quot;bar&quot;},{&quot;foo&quot;:&quot;foo2&quot;,&quot;bar&quot;:&quot;bar2&quot;},{&quot;foo&quot;:&quot;foo3&quot;,&quot;bar&quot;:&quot;bar3&quot;}]}\r\n```","title":"How to parse xml like below with jackson?","body":"<p>Create two classes:</p>\n<pre><code>import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n\n@JacksonXmlRootElement(localName = &quot;root&quot;)\npublic class Root {\n\n    @JacksonXmlProperty(localName = &quot;row&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private Row[] row;\n\n    public Row[] getRow() {\n        return row;\n    }\n\n    public void setRow(Row[] row) {\n        this.row = row;\n    }\n\n}\n</code></pre>\n<pre><code>import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\npublic class Row {\n\n    @JacksonXmlProperty(localName = &quot;foo&quot;)\n    private String foo;\n    @JacksonXmlProperty(localName = &quot;bar&quot;)\n    private String bar;\n\n    public String getFoo() {\n        return foo;\n    }\n\n    public void setFoo(String foo) {\n        this.foo = foo;\n    }\n\n    public String getBar() {\n        return bar;\n    }\n\n    public void setBar(String bar) {\n        this.bar = bar;\n    }\n\n}\n</code></pre>\n<p>For test:</p>\n<pre><code>\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\nimport generated.Root; // your package\n\npublic class Demo {\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n    \n        ObjectMapper mapper = new ObjectMapper();\n        XmlMapper xmlMapper = new XmlMapper();\n\n        String xml = &quot;&lt;root&gt;\\r\\n&quot;\n                + &quot;  &lt;row&gt;\\r\\n&quot;\n                + &quot;    &lt;foo&gt;foo&lt;/foo&gt;\\r\\n&quot;\n                + &quot;    &lt;bar&gt;bar&lt;/bar&gt;\\r\\n&quot;\n                + &quot;  &lt;/row&gt;\\r\\n&quot;\n                + &quot;  &lt;row&gt;\\r\\n&quot;\n                + &quot;    &lt;foo&gt;foo2&lt;/foo&gt;\\r\\n&quot;\n                + &quot;    &lt;bar&gt;bar2&lt;/bar&gt;\\r\\n&quot;\n                + &quot;  &lt;/row&gt;\\r\\n&quot;\n                + &quot;  &lt;row&gt;\\r\\n&quot;\n                + &quot;    &lt;foo&gt;foo3&lt;/foo&gt;\\r\\n&quot;\n                + &quot;    &lt;bar&gt;bar3&lt;/bar&gt;\\r\\n&quot;\n                + &quot;  &lt;/row&gt;\\r\\n&quot;\n                + &quot;&lt;/root&gt;&quot;;\n        Root map = xmlMapper.readValue(xml, Root.class);\n        \n        System.out.println(&quot;value &quot;+ mapper.writeValueAsString(map));\n        \n        \n    }\n\n}\n\n</code></pre>\n<p>Resul this:</p>\n<pre><code>value {&quot;row&quot;:[{&quot;foo&quot;:&quot;foo&quot;,&quot;bar&quot;:&quot;bar&quot;},{&quot;foo&quot;:&quot;foo2&quot;,&quot;bar&quot;:&quot;bar2&quot;},{&quot;foo&quot;:&quot;foo3&quot;,&quot;bar&quot;:&quot;bar3&quot;}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25933323,"reputation":76,"user_id":19654044,"display_name":"choco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659324663,"creation_date":1659324663,"answer_id":73188585,"question_id":73188004,"body_markdown":"I think you can change into \r\n\r\n    List list = xmlMapper.readValue(decodedXml, List.class)\r\n\r\nobjects in list is LinkedHashMap\r\n\r\n","title":"How to parse xml like below with jackson?","body":"<p>I think you can change into</p>\n<pre><code>List list = xmlMapper.readValue(decodedXml, List.class)\n</code></pre>\n<p>objects in list is LinkedHashMap</p>\n"}],"owner":{"account_id":15924438,"reputation":137,"user_id":11490407,"display_name":"Bill Billy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73188585,"answer_count":2,"score":0,"last_activity_date":1659324663,"creation_date":1659315625,"question_id":73188004,"body_markdown":"The input xml:\r\n```xml\r\n&lt;root&gt;\r\n  &lt;row&gt;\r\n    &lt;foo&gt;foo&lt;/foo&gt;\r\n    &lt;bar&gt;bar&lt;/bar&gt;\r\n  &lt;/row&gt;\r\n  &lt;row&gt;\r\n    &lt;foo&gt;foo2&lt;/foo&gt;\r\n    &lt;bar&gt;bar2&lt;/bar&gt;\r\n  &lt;/row&gt;\r\n  &lt;row&gt;\r\n    &lt;foo&gt;foo3&lt;/foo&gt;\r\n    &lt;bar&gt;bar3&lt;/bar&gt;\r\n  &lt;/row&gt;\r\n&lt;/root&gt;\r\n```\r\nIf I parse it like this:\r\n```java\r\nXmlMapper = new XmlMapper();\r\nMap map = xmlMapper.readValue(decodedXml, Map.class);\r\n```\r\nThe result map will only contain the last row.\r\n\r\nHow to make it parse rows into an ArrayList?\r\n","title":"How to parse xml like below with jackson?","body":"<p>The input xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n  &lt;row&gt;\n    &lt;foo&gt;foo&lt;/foo&gt;\n    &lt;bar&gt;bar&lt;/bar&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n    &lt;foo&gt;foo2&lt;/foo&gt;\n    &lt;bar&gt;bar2&lt;/bar&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n    &lt;foo&gt;foo3&lt;/foo&gt;\n    &lt;bar&gt;bar3&lt;/bar&gt;\n  &lt;/row&gt;\n&lt;/root&gt;\n</code></pre>\n<p>If I parse it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XmlMapper = new XmlMapper();\nMap map = xmlMapper.readValue(decodedXml, Map.class);\n</code></pre>\n<p>The result map will only contain the last row.</p>\n<p>How to make it parse rows into an ArrayList?</p>\n"},{"tags":["java","spring","jar","runtime","compatibility"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659007773,"post_id":73151186,"comment_id":129196011,"body_markdown":"Mixing jars from different versions of a framework in this case Spring. Or using an incompatible library with this version. However you haven&#39;t shown your dependencies (please include your pom.xml or build.gradle).","body":"Mixing jars from different versions of a framework in this case Spring. Or using an incompatible library with this version. However you haven&#39;t shown your dependencies (please include your pom.xml or build.gradle)."}],"owner":{"account_id":25916131,"reputation":1,"user_id":19639501,"display_name":"Yashodha K A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659324539,"creation_date":1659003613,"question_id":73151186,"body_markdown":"We are getting the below error, when we are trying to migrate to the srping version.\r\n\r\nCaused by: java.lang.NoSuchMethodError: org.springframework.beans.factory.config.ConfigurableListableBeanFactory.getApplicationStartup()Lorg/springframework/core/metrics/ApplicationStartup;\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context.jar:5.2.20.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context.jar:5.2.20.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context.jar:5.2.20.RELEASE]\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401) ~[spring-web.jar:5.2.20.RELEASE]\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292) ~[spring-web.jar:5.2.20.RELEASE]\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103) ~[spring-web.jar:5.2.20.RELEASE]\r\n        at com.liferay.portal.kernel.servlet.SecurePluginContextListener.instantiatingListener(SecurePluginContextListener.java:357) ~[portal-kernel.jar:?]\r\n        at com.liferay.portal.kernel.servlet.SecurePluginContextListener.instantiatingListeners(SecurePluginContextListener.java:164) ~[portal-kernel.jar:?]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]\r\n        at com.liferay.portal.deploy.hot.ServletContextListenerHotDeployListener.doInvokeDeploy(ServletContextListenerHotDeployListener.java:74) ~[portal-impl.jar:?]\r\n        at com.liferay.portal.deploy.hot.ServletContextListenerHotDeployListener.invokeDeploy(ServletContextListenerHotDeployListener.java:37) ~[portal-impl.jar:?]\r\n        ... 67 more\r\n\r\npom.xml\r\n\r\n  \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.liferay.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;liferay-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${liferay.maven.plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;autoDeployDir&gt;${liferay.auto.deploy.dir}&lt;/autoDeployDir&gt;\r\n    \t\t\t\t\t&lt;appServerDeployDir&gt;${liferay.app.server.deploy.dir}&lt;/appServerDeployDir&gt;\r\n    \t\t\t\t\t&lt;appServerLibGlobalDir&gt;${liferay.app.server.lib.global.dir}&lt;/appServerLibGlobalDir&gt;\r\n    \t\t\t\t\t&lt;appServerPortalDir&gt;${liferay.app.server.portal.dir}&lt;/appServerPortalDir&gt;\r\n    \t\t\t\t\t&lt;liferayVersion&gt;${liferay.version}&lt;/liferayVersion&gt;\r\n    \t\t\t\t\t&lt;pluginType&gt;portlet&lt;/pluginType&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n     \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n     \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n     \t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\t\t\t\t\r\n    \t\t\t\t&lt;configuration&gt;\t\r\n     \t\t\t\t\t&lt;packagingExcludes&gt;WEB-INF/lib/jaxb-api-2.2.11.jar&lt;/packagingExcludes&gt;\r\n     \t\t\t\t\t&lt;packagingExcludes&gt;WEB-INF/lib/jaxb-impl-2.2.11.jar&lt;/packagingExcludes&gt;\r\n     \t\t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;deploy_to_liferay&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;tasks&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;copy todir=&quot;${liferay.auto.deploy.dir}&quot; &gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;fileset dir=&quot;./target&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;include name=&quot;${project.artifactId}.war&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/fileset&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/copy&gt;\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t&lt;/tasks&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.portlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;portlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t\t&lt;version&gt;5.2.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\r\n    \t\t &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.20&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.liferay.portletmvc4spring&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;com.liferay.portletmvc4spring.framework&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;5.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.10.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n            &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\r\n    \t\t\r\n    \t   &lt;dependency&gt;\r\n    \t   \t&lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n    \t   \t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t   \t&lt;version&gt;3.16.1-GA&lt;/version&gt;\r\n    \t   &lt;/dependency&gt;\r\n    \r\n    \t   &lt;dependency&gt;\r\n    \t   \t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t   \t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t   \t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t   &lt;/dependency&gt;\r\n    \t   &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t   &lt;dependency&gt;\r\n    \t   \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t   \t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t   \t&lt;version&gt;5.4.32.Final&lt;/version&gt;\r\n    \t   &lt;/dependency&gt;\r\n    \t   \r\n    \t   \r\n    \t   &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;1.4.7&lt;/version&gt;\r\n    \t\t  &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jfree&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t \r\n    \t\t  \r\n    \t  &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;4.0.0.Final&lt;/version&gt;\r\n    \t   \r\n    \t   \r\n    \t   \t&lt;exclusions&gt;\r\n    \t   \t\t&lt;exclusion&gt;\r\n    \t   \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t   \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t   \t\t&lt;/exclusion&gt;\r\n    \t   \t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t\r\n       \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;pdf-renderer&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n       \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t    \r\n    \t    &lt;exclusions&gt;\r\n    \t   \t\t&lt;exclusion&gt;\r\n    \t   \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t   \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t   \t\t&lt;/exclusion&gt;\r\n    \t   \t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \r\n    \t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;  \r\n    \t\t&lt;version&gt;2.0.24&lt;/version&gt;  \r\n    \t\t&lt;/dependency&gt;  \r\n    \t\t  \r\n    \t\t&lt;dependency&gt;  \r\n    \t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \r\n    \t\t&lt;artifactId&gt;fontbox&lt;/artifactId&gt;  \r\n    \t\t&lt;version&gt;2.0.24&lt;/version&gt;  \r\n    \t\t&lt;/dependency&gt;  \r\n    \t\t\r\n    \t\t&lt;dependency&gt;  \r\n    \t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \r\n    \t\t\t&lt;artifactId&gt;jempbox&lt;/artifactId&gt;  \r\n    \t\t\t&lt;version&gt;1.8.16&lt;/version&gt;  \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t  \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;xmpbox&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.24&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t  \r\n    \t\t&lt;dependency&gt;  \r\n    \t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;preflight&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.24&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;  \r\n    \t\t  \r\n    \t\t&lt;dependency&gt;  \r\n    \t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \r\n    \t\t&lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;  \r\n    \t\t&lt;version&gt;2.0.24&lt;/version&gt;  \r\n    \t\t&lt;/dependency&gt; \r\n    \t\t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.github.dhorions&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;boxable&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;util-taglib&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;7.0.0-nightly&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;util-java&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;7.0.0-nightly&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;util-bridges&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;7.0.0-nightly&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;stax2-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http-hc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nAny help will be appreciated, Thanks in advance.\r\n","title":"java.lang.NoSuchMethodError: org.springframework.beans.factory.config.ConfigurableListableBeanFactory.getApplicationStartup()","body":"<p>We are getting the below error, when we are trying to migrate to the srping version.</p>\n<p>Caused by: java.lang.NoSuchMethodError: org.springframework.beans.factory.config.ConfigurableListableBeanFactory.getApplicationStartup()Lorg/springframework/core/metrics/ApplicationStartup;\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context.jar:5.2.20.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context.jar:5.2.20.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context.jar:5.2.20.RELEASE]\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401) ~[spring-web.jar:5.2.20.RELEASE]\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292) ~[spring-web.jar:5.2.20.RELEASE]\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103) ~[spring-web.jar:5.2.20.RELEASE]\nat com.liferay.portal.kernel.servlet.SecurePluginContextListener.instantiatingListener(SecurePluginContextListener.java:357) ~[portal-kernel.jar:?]\nat com.liferay.portal.kernel.servlet.SecurePluginContextListener.instantiatingListeners(SecurePluginContextListener.java:164) ~[portal-kernel.jar:?]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]\nat com.liferay.portal.deploy.hot.ServletContextListenerHotDeployListener.doInvokeDeploy(ServletContextListenerHotDeployListener.java:74) ~[portal-impl.jar:?]\nat com.liferay.portal.deploy.hot.ServletContextListenerHotDeployListener.invokeDeploy(ServletContextListenerHotDeployListener.java:37) ~[portal-impl.jar:?]\n... 67 more</p>\n<p>pom.xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.liferay.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;liferay-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liferay.maven.plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                                        \n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;autoDeployDir&gt;${liferay.auto.deploy.dir}&lt;/autoDeployDir&gt;\n                    &lt;appServerDeployDir&gt;${liferay.app.server.deploy.dir}&lt;/appServerDeployDir&gt;\n                    &lt;appServerLibGlobalDir&gt;${liferay.app.server.lib.global.dir}&lt;/appServerLibGlobalDir&gt;\n                    &lt;appServerPortalDir&gt;${liferay.app.server.portal.dir}&lt;/appServerPortalDir&gt;\n                    &lt;liferayVersion&gt;${liferay.version}&lt;/liferayVersion&gt;\n                    &lt;pluginType&gt;portlet&lt;/pluginType&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;                \n                &lt;configuration&gt; \n                    &lt;packagingExcludes&gt;WEB-INF/lib/jaxb-api-2.2.11.jar&lt;/packagingExcludes&gt;\n                    &lt;packagingExcludes&gt;WEB-INF/lib/jaxb-impl-2.2.11.jar&lt;/packagingExcludes&gt;\n                &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                &lt;execution&gt;\n                        &lt;id&gt;deploy_to_liferay&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;tasks&gt;\n                                    &lt;copy todir=&quot;${liferay.auto.deploy.dir}&quot; &gt;\n                                    &lt;fileset dir=&quot;./target&quot;&gt;\n                                        &lt;include name=&quot;${project.artifactId}.war&quot; /&gt;\n                                    &lt;/fileset&gt;\n                                    &lt;/copy&gt;                                 \n                            &lt;/tasks&gt;\n                        &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;javax.portlet&lt;/groupId&gt;\n            &lt;artifactId&gt;portlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;version&gt;5.2.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.8&lt;/version&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portletmvc4spring&lt;/groupId&gt;\n            &lt;artifactId&gt;com.liferay.portletmvc4spring.framework&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        \n       &lt;dependency&gt;\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n        &lt;version&gt;3.16.1-GA&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;taglibs&lt;/groupId&gt;\n            &lt;artifactId&gt;standard&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n       &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.4.32.Final&lt;/version&gt;\n       &lt;/dependency&gt;\n       \n       \n       &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\n          &lt;version&gt;1.4.7&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n          &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n          &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;jfree&lt;/groupId&gt;\n            &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\n            &lt;version&gt;1.0.13&lt;/version&gt;\n        &lt;/dependency&gt;    \n          \n      &lt;dependency&gt;\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n       &lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\n       &lt;version&gt;4.0.0.Final&lt;/version&gt;\n       \n       \n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    \n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\n        &lt;artifactId&gt;pdf-renderer&lt;/artifactId&gt;\n        &lt;version&gt;1.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n        &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        \n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n        &lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;  \n        &lt;version&gt;2.0.24&lt;/version&gt;  \n        &lt;/dependency&gt;  \n          \n        &lt;dependency&gt;  \n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \n        &lt;artifactId&gt;fontbox&lt;/artifactId&gt;  \n        &lt;version&gt;2.0.24&lt;/version&gt;  \n        &lt;/dependency&gt;  \n        \n        &lt;dependency&gt;  \n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \n            &lt;artifactId&gt;jempbox&lt;/artifactId&gt;  \n            &lt;version&gt;1.8.16&lt;/version&gt;  \n        &lt;/dependency&gt;\n          \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;xmpbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n          \n        &lt;dependency&gt;  \n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;preflight&lt;/artifactId&gt;\n            &lt;version&gt;2.0.24&lt;/version&gt;\n        &lt;/dependency&gt;  \n          \n        &lt;dependency&gt;  \n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;  \n        &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;  \n        &lt;version&gt;2.0.24&lt;/version&gt;  \n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n        &lt;groupId&gt;com.github.dhorions&lt;/groupId&gt;\n        &lt;artifactId&gt;boxable&lt;/artifactId&gt;\n        &lt;version&gt;1.5&lt;/version&gt;\n        &lt;/dependency&gt; \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;util-taglib&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0-nightly&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;util-java&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0-nightly&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;util-bridges&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0-nightly&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n         \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\n                    &lt;artifactId&gt;stax2-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http-hc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Any help will be appreciated, Thanks in advance.</p>\n"},{"tags":["java","android","exoplayer"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659325190,"post_id":73188564,"comment_id":129259744,"body_markdown":"For a test use exo player in mainactivity directly.","body":"For a test use exo player in mainactivity directly."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659325303,"post_id":73188564,"comment_id":129259760,"body_markdown":"`it&#39;s not working` Sorry, but we have no idea what you mean by that. Errors? Exceptions?","body":"<code>it&#39;s not working</code> Sorry, but we have no idea what you mean by that. Errors? Exceptions?"},{"owner":{"account_id":21806975,"reputation":7,"user_id":16105042,"display_name":"Chen Argon"},"score":0,"creation_date":1659325501,"post_id":73188564,"comment_id":129259788,"body_markdown":"Caused by: java.lang.NullPointerException\n        at com.example.videoplayer1.PlayerActivity.onCreate(PlayerActivity.java:31)","body":"Caused by: java.lang.NullPointerException         at com.example.videoplayer1.PlayerActivity.onCreate(PlayerActiv&zwnj;&#8203;ity.java:31)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659326224,"post_id":73188564,"comment_id":129259850,"body_markdown":"Well show the code that causes that exception. And tell which statement exactly.","body":"Well show the code that causes that exception. And tell which statement exactly."},{"owner":{"account_id":21806975,"reputation":7,"user_id":16105042,"display_name":"Chen Argon"},"score":0,"creation_date":1659341438,"post_id":73188564,"comment_id":129263092,"body_markdown":"String url = intent.getStringExtra(&quot;video&quot;); After debug, I see my error. I can&#39;t get string url from intent, it&#39;s null","body":"String url = intent.getStringExtra(&quot;video&quot;); After debug, I see my error. I can&#39;t get string url from intent, it&#39;s null"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659341573,"post_id":73188564,"comment_id":129263126,"body_markdown":"If you use getStringExtra() you should have put a String with intent.putExtra(). Now what did you put?","body":"If you use getStringExtra() you should have put a String with intent.putExtra(). Now what did you put?"}],"owner":{"account_id":21806975,"reputation":7,"user_id":16105042,"display_name":"Chen Argon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659324466,"creation_date":1659324466,"question_id":73188564,"body_markdown":"I&#39;m just started learning android and\r\nI want to try to play videos from local storage with Exoplayer. \r\n&lt;br&gt;\r\nI have list videos from local storage by using Recyleview.\r\n\r\n&lt;br&gt;\r\nThis is my code, I&#39;m using SDK 32 and Exoplayer 2.14\r\n&lt;br&gt;\r\n&lt;b&gt; MainActivity &lt;/b&gt;\r\n&lt;br&gt;\r\n\r\n    public void onFileClicked(File file) {\r\n            startActivity(new Intent(MainActivity.this, PlayerActivity.class)\r\n                    .putExtra(&quot;video&quot;, file.getAbsoluteFile()));\r\n    }\r\n\r\n&lt;br&gt;\r\n&lt;b&gt; PlayerActivity &lt;/b&gt;\r\n&lt;br&gt;\r\n\r\n     Intent intent = getIntent();\r\n        String url = intent.getStringExtra(&quot;video&quot;);\r\n        ExoPlayer player = new ExoPlayer.Builder(this).build();\r\n        PlayerView playerView = findViewById(R.id.player);\r\n        playerView.setPlayer(player);\r\n\r\n        MediaItem mediaItem = MediaItem.fromUri(url);\r\n        player.addMediaItem(mediaItem);\r\n\r\n        player.prepare();\r\n        player.play();\r\n\r\n&lt;br&gt;\r\nI&#39;m trying using intent it&#39;s not working. \r\n&lt;br&gt;\r\nWhat should I do?\r\n","title":"How to play ExoPlayer from local file .mp4?","body":"<p>I'm just started learning android and\nI want to try to play videos from local storage with Exoplayer.\n<br>\nI have list videos from local storage by using Recyleview.</p>\n<br>\nThis is my code, I'm using SDK 32 and Exoplayer 2.14\n<br>\n<b> MainActivity </b>\n<br>\n<pre><code>public void onFileClicked(File file) {\n        startActivity(new Intent(MainActivity.this, PlayerActivity.class)\n                .putExtra(&quot;video&quot;, file.getAbsoluteFile()));\n}\n</code></pre>\n<br>\n<b> PlayerActivity </b>\n<br>\n<pre><code> Intent intent = getIntent();\n    String url = intent.getStringExtra(&quot;video&quot;);\n    ExoPlayer player = new ExoPlayer.Builder(this).build();\n    PlayerView playerView = findViewById(R.id.player);\n    playerView.setPlayer(player);\n\n    MediaItem mediaItem = MediaItem.fromUri(url);\n    player.addMediaItem(mediaItem);\n\n    player.prepare();\n    player.play();\n</code></pre>\n<br>\nI'm trying using intent it's not working. \n<br>\nWhat should I do?\n"},{"tags":["java","uri"],"answers":[{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1320431868,"creation_date":1320431868,"answer_id":8014184,"question_id":8014099,"body_markdown":"The following code works for me (based on https://stackoverflow.com/questions/402683/how-do-i-get-just-the-jar-url-from-a-jar-url-containing-a-and-a-specific-file/402771#402771):\r\n\r\n    URL url = new URL(&quot;jar:file:/C:/Program%20Files/test.jar!/foo/bar&quot;);\r\n    JarURLConnection connection = (JarURLConnection) url.openConnection();\r\n    File file = new File(connection.getJarFileURL().toURI())","title":"How do I convert a &quot;jar:file&quot; URI to the path of Jar file?","body":"<p>The following code works for me (based on <a href=\"https://stackoverflow.com/questions/402683/how-do-i-get-just-the-jar-url-from-a-jar-url-containing-a-and-a-specific-file/402771#402771\">How do I get just the jar URL from a jar: URL containing a &quot;!&quot; and a specific file in the jar?</a>):</p>\n\n<pre><code>URL url = new URL(\"jar:file:/C:/Program%20Files/test.jar!/foo/bar\");\nJarURLConnection connection = (JarURLConnection) url.openConnection();\nFile file = new File(connection.getJarFileURL().toURI())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4399542,"reputation":99,"user_id":3585648,"display_name":"Hari Chandu Vakacharla"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1659323858,"creation_date":1442204128,"answer_id":32557217,"question_id":8014099,"body_markdown":"You can do this.This works\r\n\r\n    ClassLoader loader = this.getClass().getClassLoader();\r\n    URL url = loader.getResource(&quot;resource name&quot;);\r\n    String[] filePath = null;\r\n    String protocol = url.getProtocol();\r\n    if(protocol.equals(&quot;jar&quot;)){\r\n        url = new URL(url.getPath());\r\n        protocol = url.getProtocol();\r\n    }\r\n    if(protocol.equals(&quot;file&quot;)){\r\n        String[] pathArray = url.getPath().split(&quot;!&quot;);\r\n        filePath = pathArray[0].split(&quot;/&quot;,2);\r\n    }\r\n    File required = new File(FilePath[1]);","title":"How do I convert a &quot;jar:file&quot; URI to the path of Jar file?","body":"<p>You can do this.This works</p>\n<pre><code>ClassLoader loader = this.getClass().getClassLoader();\nURL url = loader.getResource(&quot;resource name&quot;);\nString[] filePath = null;\nString protocol = url.getProtocol();\nif(protocol.equals(&quot;jar&quot;)){\n    url = new URL(url.getPath());\n    protocol = url.getProtocol();\n}\nif(protocol.equals(&quot;file&quot;)){\n    String[] pathArray = url.getPath().split(&quot;!&quot;);\n    filePath = pathArray[0].split(&quot;/&quot;,2);\n}\nFile required = new File(FilePath[1]);\n</code></pre>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16194,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":8014184,"answer_count":2,"score":7,"last_activity_date":1659323858,"creation_date":1320431408,"question_id":8014099,"body_markdown":"How do I go from `jar:file:/C:/Program%20Files/test.jar!/foo/bar` to a `File` that points to `C:/Program Files/test.jar`?","title":"How do I convert a &quot;jar:file&quot; URI to the path of Jar file?","body":"<p>How do I go from <code>jar:file:/C:/Program%20Files/test.jar!/foo/bar</code> to a <code>File</code> that points to <code>C:/Program Files/test.jar</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":6,"creation_date":1659317394,"post_id":73188073,"comment_id":129258855,"body_markdown":"Unless your application has a large scope or you have thousands of constants, then you really don&#39;t need to worry. They use next to no space/memory, and trying to produce a workaround to remove them will just add extra steps and hassle.","body":"Unless your application has a large scope or you have thousands of constants, then you really don&#39;t need to worry. They use next to no space/memory, and trying to produce a workaround to remove them will just add extra steps and hassle."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1659324644,"post_id":73188073,"comment_id":129259670,"body_markdown":"you would need millions of constants before you&#39;d notice the difference. source is for humans to read. leave it as is and let the compiler and JVM do the heavy lifting.","body":"you would need millions of constants before you&#39;d notice the difference. source is for humans to read. leave it as is and let the compiler and JVM do the heavy lifting."}],"answers":[{"tags":[],"owner":{"account_id":14105611,"reputation":76,"user_id":10189757,"display_name":"nklisch"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659323553,"creation_date":1659319480,"answer_id":73188227,"question_id":73188073,"body_markdown":"The compiler is smart enough to use memory efficiently in this kind of case. And, even let&#39;s suppose that you did have wasted memory per constant, let&#39;s do a thought experiment on how much &#39;space&#39; that may be, realistically.\r\n\r\nLet&#39;s say we had a mixture of string, int, and other basic types. Each char in a string is 2 bytes in java, and an int is 4 bytes. Let&#39;s say we had 75,000 char constants and 25,000 int constants.\r\nThat is 75k * 2 so 150k bytes or ~150 kilobytes of memory for the string constants\r\nFor the ints that is 25k * 4 or 100k, so ~100 kilobyte of memory.\r\n\r\nSo a total of ~250kb.\r\n\r\nThe most basic computer you can buy these days has a minimum of 4gb of ram, more likely 8gb to 16gb.\r\n\r\nSo 250kb / 4000000kb * 100 = 0.00625% of the lowest spec modern computer. \r\n\r\nNow if you are running some microcontroller or other limited hardware, it maaay be something, but even then it is doubtful and you probably aren&#39;t using java.\r\n\r\nAs a general rule of thumb, compilers and interpreters tend to be pretty good at their job, and trusting them to do the right thing most of the time, for most programmers and programs is good enough.\r\n\r\nThere are times when certain patterns, such as massive creation of new objects, then triggering garbage collection or other issues like that can have large performance impacts. \r\n\r\nThe key is to know where actual bottlenecks and gotchya&#39;s are within a language/computer/use patterns.\r\n\r\nIt does get more complicated once we move into the distributed space and massive scale - but again unless you are working in that kind of environment, you generally don&#39;t need to consider it.\r\n\r\nFocus your expectations on your use case, and if you are optimizing for a 10 millisecond gain for something only a few people use, it&#39;s probably a waste of time - unless you are doing it for fun.  ","title":"How to remove the unused constants from the generated Java class file","body":"<p>The compiler is smart enough to use memory efficiently in this kind of case. And, even let's suppose that you did have wasted memory per constant, let's do a thought experiment on how much 'space' that may be, realistically.</p>\n<p>Let's say we had a mixture of string, int, and other basic types. Each char in a string is 2 bytes in java, and an int is 4 bytes. Let's say we had 75,000 char constants and 25,000 int constants.\nThat is 75k * 2 so 150k bytes or ~150 kilobytes of memory for the string constants\nFor the ints that is 25k * 4 or 100k, so ~100 kilobyte of memory.</p>\n<p>So a total of ~250kb.</p>\n<p>The most basic computer you can buy these days has a minimum of 4gb of ram, more likely 8gb to 16gb.</p>\n<p>So 250kb / 4000000kb * 100 = 0.00625% of the lowest spec modern computer.</p>\n<p>Now if you are running some microcontroller or other limited hardware, it maaay be something, but even then it is doubtful and you probably aren't using java.</p>\n<p>As a general rule of thumb, compilers and interpreters tend to be pretty good at their job, and trusting them to do the right thing most of the time, for most programmers and programs is good enough.</p>\n<p>There are times when certain patterns, such as massive creation of new objects, then triggering garbage collection or other issues like that can have large performance impacts.</p>\n<p>The key is to know where actual bottlenecks and gotchya's are within a language/computer/use patterns.</p>\n<p>It does get more complicated once we move into the distributed space and massive scale - but again unless you are working in that kind of environment, you generally don't need to consider it.</p>\n<p>Focus your expectations on your use case, and if you are optimizing for a 10 millisecond gain for something only a few people use, it's probably a waste of time - unless you are doing it for fun.</p>\n"}],"owner":{"account_id":13132920,"reputation":101,"user_id":9486920,"display_name":"Amit_dash_234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73188227,"answer_count":1,"score":3,"last_activity_date":1659323553,"creation_date":1659317072,"question_id":73188073,"body_markdown":"I often use constants in my Java programs, however when taking a look at a decompiled Java class file, I noticed that all the constant&#39;s uses throughout the program was replaced by their literal values, while the original declarations and assignments at the top of the class was still present, I&#39;m wondering if these variables are just sitting there wasting memory since they&#39;re not being used anywhere in the file. and if there&#39;s a way to restrict constants only to compile time and have them removed after the class file is generated. ","title":"How to remove the unused constants from the generated Java class file","body":"<p>I often use constants in my Java programs, however when taking a look at a decompiled Java class file, I noticed that all the constant's uses throughout the program was replaced by their literal values, while the original declarations and assignments at the top of the class was still present, I'm wondering if these variables are just sitting there wasting memory since they're not being used anywhere in the file. and if there's a way to restrict constants only to compile time and have them removed after the class file is generated.</p>\n"},{"tags":["java","javascript","apache","object"],"comments":[{"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"score":0,"creation_date":1316533658,"post_id":7487908,"comment_id":9063828,"body_markdown":"@Felix: as cool as it is, Node.js has nothing to do with Java or web browsers, right?","body":"@Felix: as cool as it is, Node.js has nothing to do with Java or web browsers, right?"},{"owner":{"account_id":60544,"reputation":88712,"user_id":180784,"accept_rate":95,"display_name":"Felix"},"score":0,"creation_date":1316533918,"post_id":7487908,"comment_id":9063901,"body_markdown":"@maerics Right, but it can provide a console in which to tinker. And it can run scripts. And the OP didn&#39;t mention anything about web browsers :)","body":"@maerics Right, but it can provide a console in which to tinker. And it can run scripts. And the OP didn&#39;t mention anything about web browsers :)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1316536406,"post_id":7487908,"comment_id":9064645,"body_markdown":"@Felix Then the idea of a &quot;JavaScript console that every browser has isn&#39;t relevant, and node.js isn&#39;t Java, so... doesn&#39;t seem very helpful either.","body":"@Felix Then the idea of a &quot;JavaScript console that every browser has isn&#39;t relevant, and node.js isn&#39;t Java, so... doesn&#39;t seem very helpful either."},{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":1,"creation_date":1395505358,"post_id":7487908,"comment_id":34373398,"body_markdown":"Java 8 is providing a new JavaScript engine, Nashorn, to replace Rhino. See the Nashorn blog https://blogs.oracle.com/nashorn/","body":"Java 8 is providing a new JavaScript engine, Nashorn, to replace Rhino. See the Nashorn blog <a href=\"https://blogs.oracle.com/nashorn/\" rel=\"nofollow noreferrer\">blogs.oracle.com/nashorn</a>"},{"owner":{"account_id":321204,"reputation":19977,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"score":0,"creation_date":1395514735,"post_id":7487908,"comment_id":34376886,"body_markdown":"@RichardChambers good to know thanks richard. Turn it as an answer so that it can be useful for the users","body":"@RichardChambers good to know thanks richard. Turn it as an answer so that it can be useful for the users"}],"answers":[{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1659323136,"creation_date":1316533404,"answer_id":7487925,"question_id":7487908,"body_markdown":"[Rhino][1] is what you are looking for.\r\n\r\n&gt; Rhino is an open-source implementation of JavaScript written entirely\r\n&gt; in Java. It is typically embedded into Java applications to provide\r\n&gt; scripting to end users.\r\n\r\n**Update:** Now [Nashorn](http://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)), which is more performant JavaScript Engine for Java, is available with jdk8.  \r\n\r\n**Update 2022:** Nashorn [was deprecated in Java 11][2], then eventually [removed in Java 15][3]. \r\n\r\n\r\n  [1]: http://www.mozilla.org/rhino/\r\n  [2]: https://openjdk.org/jeps/335\r\n  [3]: https://openjdk.org/jeps/372","title":"How can I use JavaScript in Java?","body":"<p><a href=\"http://www.mozilla.org/rhino/\" rel=\"nofollow noreferrer\">Rhino</a> is what you are looking for.</p>\n<blockquote>\n<p>Rhino is an open-source implementation of JavaScript written entirely\nin Java. It is typically embedded into Java applications to provide\nscripting to end users.</p>\n</blockquote>\n<p><strong>Update:</strong> Now <a href=\"http://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)\" rel=\"nofollow noreferrer\">Nashorn</a>, which is more performant JavaScript Engine for Java, is available with jdk8.</p>\n<p><strong>Update 2022:</strong> Nashorn <a href=\"https://openjdk.org/jeps/335\" rel=\"nofollow noreferrer\">was deprecated in Java 11</a>, then eventually <a href=\"https://openjdk.org/jeps/372\" rel=\"nofollow noreferrer\">removed in Java 15</a>.</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1316534597,"creation_date":1316533451,"answer_id":7487938,"question_id":7487908,"body_markdown":"Java includes a [scripting language extension package](http://download.oracle.com/javase/6/docs/api/javax/script/package-summary.html) starting with version 6.\r\n\r\nSee the [Rhino project documentation for embedding a JavaScript interpreter in Java](http://www.mozilla.org/rhino/tutorial.html).\r\n\r\n**[Edit]**\r\n\r\nHere is a small example of how you can expose Java objects to your interpreted script:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    public class JS {\r\n      public static void main(String args[]) throws Exception {\r\n        ScriptEngine js = new ScriptEngineManager().getEngineByName(&quot;javascript&quot;);\r\n        Bindings bindings = js.getBindings(ScriptContext.ENGINE_SCOPE);\r\n        bindings.put(&quot;stdout&quot;, System.out);\r\n        js.eval(&quot;stdout.println(Math.cos(Math.PI));&quot;);\r\n        // Prints &quot;-1.0&quot; to the standard output stream.\r\n      }\r\n    }\r\n","title":"How can I use JavaScript in Java?","body":"<p>Java includes a <a href=\"http://download.oracle.com/javase/6/docs/api/javax/script/package-summary.html\">scripting language extension package</a> starting with version 6.</p>\n\n<p>See the <a href=\"http://www.mozilla.org/rhino/tutorial.html\">Rhino project documentation for embedding a JavaScript interpreter in Java</a>.</p>\n\n<p><strong>[Edit]</strong></p>\n\n<p>Here is a small example of how you can expose Java objects to your interpreted script:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class JS {\n  public static void main(String args[]) throws Exception {\n    ScriptEngine js = new ScriptEngineManager().getEngineByName(\"javascript\");\n    Bindings bindings = js.getBindings(ScriptContext.ENGINE_SCOPE);\n    bindings.put(\"stdout\", System.out);\n    js.eval(\"stdout.println(Math.cos(Math.PI));\");\n    // Prints \"-1.0\" to the standard output stream.\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231028,"reputation":1874,"user_id":495011,"accept_rate":81,"display_name":"Eder"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1316537808,"creation_date":1316533933,"answer_id":7488051,"question_id":7487908,"body_markdown":"You can use *ScriptEngine*, example: \r\n\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tStringBuffer javascript = null;\r\n\t\tScriptEngine runtime = null;\r\n\r\n\t\ttry {\r\n\t\t\truntime = new ScriptEngineManager().getEngineByName(&quot;javascript&quot;);\r\n\t\t\tjavascript = new StringBuffer();\r\n\r\n\t\t\tjavascript.append(&quot;1 + 1&quot;);\r\n\r\n\t\t\tdouble result = (Double) runtime.eval(javascript.toString());\r\n\r\n\t\t\tSystem.out.println(&quot;Result: &quot; + result);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t}\r\n\t}\r\n}\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n","title":"How can I use JavaScript in Java?","body":"<p>You can use <em>ScriptEngine</em>, example: </p>\n\n<pre>\n<code>\npublic class Main {\n    public static void main(String[] args) {\n        StringBuffer javascript = null;\n        ScriptEngine runtime = null;\n\n        try {\n            runtime = new ScriptEngineManager().getEngineByName(\"javascript\");\n            javascript = new StringBuffer();\n\n            javascript.append(\"1 + 1\");\n\n            double result = (Double) runtime.eval(javascript.toString());\n\n            System.out.println(\"Result: \" + result);\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n        }\n    }\n}\n</code>\n</pre>\n"},{"tags":[],"owner":{"account_id":1233250,"reputation":488,"user_id":1197396,"display_name":"Ashok M A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519648753,"creation_date":1519648753,"answer_id":48988739,"question_id":7487908,"body_markdown":"I just wanted to answer something new for this question - `J2V8`.\r\n\r\nAuthor Ian Bull says &quot;Rhino and Nashorn are two common JavaScript runtimes, but these did not meet our requirements in a number of areas:\r\n\r\nNeither support Primitives. All interactions with these platforms require wrapper classes such as Integer, Double or Boolean.\r\nNashorn is not supported on Android.\r\nRhino compiler optimizations are not supported on Android.\r\nNeither engines support remote debugging on Android.&quot;&quot;\r\n\r\n[Highly Efficient Java &amp; JavaScript Integration][1]\r\n\r\n[Github link][2]\r\n\r\n\r\n  [1]: https://eclipsesource.com/blogs/2014/11/17/highly-efficient-java-javascript-integration/\r\n  [2]: https://github.com/eclipsesource/j2v8","title":"How can I use JavaScript in Java?","body":"<p>I just wanted to answer something new for this question - <code>J2V8</code>.</p>\n\n<p>Author Ian Bull says \"Rhino and Nashorn are two common JavaScript runtimes, but these did not meet our requirements in a number of areas:</p>\n\n<p>Neither support Primitives. All interactions with these platforms require wrapper classes such as Integer, Double or Boolean.\nNashorn is not supported on Android.\nRhino compiler optimizations are not supported on Android.\nNeither engines support remote debugging on Android.\"\"</p>\n\n<p><a href=\"https://eclipsesource.com/blogs/2014/11/17/highly-efficient-java-javascript-integration/\" rel=\"nofollow noreferrer\">Highly Efficient Java &amp; JavaScript Integration</a></p>\n\n<p><a href=\"https://github.com/eclipsesource/j2v8\" rel=\"nofollow noreferrer\">Github link</a></p>\n"}],"owner":{"account_id":321204,"reputation":19977,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125977,"favorite_count":0,"down_vote_count":2,"up_vote_count":48,"closed_date":1525006855,"accepted_answer_id":7487925,"answer_count":4,"score":46,"last_activity_date":1659323136,"creation_date":1316533339,"question_id":7487908,"body_markdown":"I wanted to build a small product in which I wanted to give a kind of feature in which user can write a script language kind of JavaScript.\r\n\r\nAnd also from JavaScript able to build objects and calling methods on them.\r\n\r\nIs there any framework for this?","title":"How can I use JavaScript in Java?","body":"<p>I wanted to build a small product in which I wanted to give a kind of feature in which user can write a script language kind of JavaScript.</p>\n\n<p>And also from JavaScript able to build objects and calling methods on them.</p>\n\n<p>Is there any framework for this?</p>\n"},{"tags":["java","android","scrollview"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1659310688,"post_id":73187513,"comment_id":129258023,"body_markdown":"`ScrollView` does not support infinite scrolling, regardless of background. You will need to investigate other solutions. Depending on your circumstances, there are ways to get a `RecyclerView` to appear infinite, for example.","body":"<code>ScrollView</code> does not support infinite scrolling, regardless of background. You will need to investigate other solutions. Depending on your circumstances, there are ways to get a <code>RecyclerView</code> to appear infinite, for example."},{"owner":{"display_name":"user19662073"},"score":0,"creation_date":1659311355,"post_id":73187513,"comment_id":129258122,"body_markdown":"@CommonsWare I kow. That why i ask this question. I need ways to do it.","body":"@CommonsWare I kow. That why i ask this question. I need ways to do it."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1659316350,"post_id":73187513,"comment_id":129258726,"body_markdown":"Did you post the wrong image? I don&#39;t know Unreal Engine but that seems to be about launching a player character at a target? Or are you talking about the tiled background?","body":"Did you post the wrong image? I don&#39;t know Unreal Engine but that seems to be about launching a player character at a target? Or are you talking about the tiled background?"},{"owner":{"display_name":"user19662073"},"score":0,"creation_date":1659318788,"post_id":73187513,"comment_id":129259007,"body_markdown":"@cactustictacs iam talking about the squares behind the blueprints. Whe you place items.","body":"@cactustictacs iam talking about the squares behind the blueprints. Whe you place items."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659322141,"creation_date":1659322141,"answer_id":73188402,"question_id":73187513,"body_markdown":"You can make a `BitmapDrawable` that tiles (repeats) like this:\r\n\r\n[![A tileable grid image][1]][1]\r\n\r\n*tileable.png*\r\n\r\n(That&#39;s *24px x 24px*, or *24dp x 24dp* at the base LDPI)\r\n\r\n````\r\ntiled.xml (in drawables)\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;bitmap xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:src=&quot;@drawable/tileable&quot;\r\n    android:tileMode=&quot;repeat&quot;\r\n    android:antialias=&quot;false&quot;\r\n    android:filter=&quot;false&quot;\r\n    /&gt;\r\n````\r\n(it&#39;s vertical and horizontal lines so we don&#39;t want any smoothing/filtering when it&#39;s scaled up for higher DPIs)\r\n\r\nThen you can use that as a `background` in a `View` and it&#39;ll tile. If you want a `View` you can scroll infinitely for some reason, you can do it with a `RecyclerView`:\r\n\r\n````\r\nitem_view.xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;96dp&quot;\r\n    android:background=&quot;@drawable/tiled&quot; /&gt;\r\n````\r\n(Height is a multiple of the *24dp* size of the tiled image so it repeats properly)\r\n\r\n````\r\nclass MyAdapter : RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt;() {\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder =\r\n        ItemViewBinding.inflate(LayoutInflater.from(parent.context), parent, false).run(::ViewHolder)\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) { }\r\n\r\n    // not literally infinite scrolling but they&#39;ll have to work to crash it\r\n    override fun getItemCount(): Int = Int.MAX_VALUE\r\n\r\n    inner class ViewHolder(binding: ItemViewBinding) : RecyclerView.ViewHolder(binding.root)\r\n\r\n}\r\n````\r\n\r\nStick that adapter in a `RecyclerView` and you have a scrolling grid\r\n\r\n````\r\nrecyclerView.adapter = MyAdapter()\r\nrecyclerView.layoutManager = LinearLayoutManager(requireContext())\r\n````\r\n\r\n[![A RecyclerView looking like a big scrolling grid][2]][2]\r\n\r\nI&#39;m not sure why you&#39;d want to do this, but there you go! If you&#39;re trying to create a scrollable field containing things you can interact with (like the node editor example you posted) that&#39;s a *whole* other thing, where the &quot;infiniteness&quot; is more about the widget&#39;s representation of space and its contents, and painting a tiled background that moves as you navigate that component&#39;s internal space would be the simplest part of that system.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tLTog.png\r\n  [2]: https://i.stack.imgur.com/Uk5o7.png","title":"ScrollView : Infinity scrolling with squares background","body":"<p>You can make a <code>BitmapDrawable</code> that tiles (repeats) like this:</p>\n<p><a href=\"https://i.stack.imgur.com/tLTog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tLTog.png\" alt=\"A tileable grid image\" /></a></p>\n<p><em>tileable.png</em></p>\n<p>(That's <em>24px x 24px</em>, or <em>24dp x 24dp</em> at the base LDPI)</p>\n<pre><code>tiled.xml (in drawables)\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;bitmap xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:src=&quot;@drawable/tileable&quot;\n    android:tileMode=&quot;repeat&quot;\n    android:antialias=&quot;false&quot;\n    android:filter=&quot;false&quot;\n    /&gt;\n</code></pre>\n<p>(it's vertical and horizontal lines so we don't want any smoothing/filtering when it's scaled up for higher DPIs)</p>\n<p>Then you can use that as a <code>background</code> in a <code>View</code> and it'll tile. If you want a <code>View</code> you can scroll infinitely for some reason, you can do it with a <code>RecyclerView</code>:</p>\n<pre><code>item_view.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;96dp&quot;\n    android:background=&quot;@drawable/tiled&quot; /&gt;\n</code></pre>\n<p>(Height is a multiple of the <em>24dp</em> size of the tiled image so it repeats properly)</p>\n<pre><code>class MyAdapter : RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder =\n        ItemViewBinding.inflate(LayoutInflater.from(parent.context), parent, false).run(::ViewHolder)\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) { }\n\n    // not literally infinite scrolling but they'll have to work to crash it\n    override fun getItemCount(): Int = Int.MAX_VALUE\n\n    inner class ViewHolder(binding: ItemViewBinding) : RecyclerView.ViewHolder(binding.root)\n\n}\n</code></pre>\n<p>Stick that adapter in a <code>RecyclerView</code> and you have a scrolling grid</p>\n<pre><code>recyclerView.adapter = MyAdapter()\nrecyclerView.layoutManager = LinearLayoutManager(requireContext())\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Uk5o7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uk5o7.png\" alt=\"A RecyclerView looking like a big scrolling grid\" /></a></p>\n<p>I'm not sure why you'd want to do this, but there you go! If you're trying to create a scrollable field containing things you can interact with (like the node editor example you posted) that's a <em>whole</em> other thing, where the &quot;infiniteness&quot; is more about the widget's representation of space and its contents, and painting a tiled background that moves as you navigate that component's internal space would be the simplest part of that system.</p>\n"}],"owner":{"display_name":"user19662073"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73188402,"answer_count":1,"score":-1,"last_activity_date":1659322141,"creation_date":1659308497,"question_id":73187513,"body_markdown":"I need to make my ```ScrollView``` infinity scrolling with squares background. Something like [this][1] in unreal engine. I will agree if there is  a library can do that for me.\r\n[another example][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VR34J.png\r\n  [2]: https://i.stack.imgur.com/ywJLT.png","title":"ScrollView : Infinity scrolling with squares background","body":"<p>I need to make my <code>ScrollView</code> infinity scrolling with squares background. Something like <a href=\"https://i.stack.imgur.com/VR34J.png\" rel=\"nofollow noreferrer\">this</a> in unreal engine. I will agree if there is  a library can do that for me.\n<a href=\"https://i.stack.imgur.com/ywJLT.png\" rel=\"nofollow noreferrer\">another example</a></p>\n"},{"tags":["java","performance","centos","jstack"],"comments":[{"owner":{"account_id":447587,"reputation":1361,"user_id":841289,"accept_rate":57,"display_name":"jpints14"},"score":0,"creation_date":1456328550,"post_id":16866361,"comment_id":58897278,"body_markdown":"Did you ever find an answer to this? I am currently having the same problem.","body":"Did you ever find an answer to this? I am currently having the same problem."}],"answers":[{"tags":[],"owner":{"account_id":3896733,"reputation":586,"user_id":3225578,"display_name":"v-tec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471276419,"creation_date":1471276419,"answer_id":38958482,"question_id":16866361,"body_markdown":"Try to run jstack under the jboss owner. This way you&#39;ll get more threads as an output. By issuing\r\n\r\n    jstack -l 12345\r\n\r\nI got\r\n\r\n     &quot;Service Thread&quot; #9 daemon prio=9 os_prio=0 tid=0x00007f976c0d3000 nid=0x1f56a runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n       Locked ownable synchronizers:\r\n            - None\r\n\r\nnote the nid is the hex representation of thread id got from top -H","title":"top -H shows few thread IDs that do not appear in jstack output","body":"<p>Try to run jstack under the jboss owner. This way you'll get more threads as an output. By issuing</p>\n\n<pre><code>jstack -l 12345\n</code></pre>\n\n<p>I got</p>\n\n<pre><code> \"Service Thread\" #9 daemon prio=9 os_prio=0 tid=0x00007f976c0d3000 nid=0x1f56a runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n   Locked ownable synchronizers:\n        - None\n</code></pre>\n\n<p>note the nid is the hex representation of thread id got from top -H</p>\n"},{"tags":[],"owner":{"account_id":25943761,"reputation":1,"user_id":19662784,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659321430,"creation_date":1659321430,"answer_id":73188361,"question_id":16866361,"body_markdown":"use jstack -mcan show threads from native(C/C++)\r\n","title":"top -H shows few thread IDs that do not appear in jstack output","body":"<p>use jstack -mcan show threads from native(C/C++)</p>\n"}],"owner":{"account_id":2842680,"reputation":53,"user_id":2441953,"display_name":"Yoram G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1659321430,"creation_date":1370036074,"question_id":16866361,"body_markdown":"I am trying to investigate why my jboss is taking up 600% CPU (running on CentOS 5).\r\n\r\nI run `top -H` and try to compare the result with `jstack` output. Most of the thread IDs that come from top appear in the output of jstack but unfortunately the threads that take up most of the CPU are not listed there. \r\n\r\nBecause the output is very long I am only listing part of it here.\r\n\r\n    $top -b -n1 -H -p &lt;jboss pid&gt;\r\n    \r\n    top - 08:04:58 up 73 days, 19:50,  1 user,  load average: 5.72, 5.97, 5.95\r\n    Tasks: 128 total,   6 running, 122 sleeping,   0 stopped,   0 zombie\r\n    Cpu(s): 63.6%us,  1.7%sy,  0.0%ni, 34.2%id,  0.3%wa,  0.0%hi,  0.2%si,  0.0%st\r\n    Mem:  32946160k total, 32545228k used,   400932k free,    86776k buffers\r\n    Swap: 34996216k total,      136k used, 34996080k free, 21577176k cached\r\n    \r\n      PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                                          \r\n    12908 jboss     16   0 9488m 8.6g  18m S 71.5 27.4 146:45.68 java                                                                                                                             \r\n    12903 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:36.08 java                                                                                                                             \r\n    12904 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:39.63 java                                                                                                                             \r\n    12905 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:44.46 java                                                                                                                             \r\n    12906 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:53.94 java                                                                                                                             \r\n    12907 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:39.18 java                                                                                                                             \r\n    12914 jboss     16   0 9488m 8.6g  18m R 27.8 27.4  36:26.64 java                                                                                                                             \r\n    12901 jboss     25   0 9488m 8.6g  18m S  0.0 27.4   0:00.00 java                                                                                                                             \r\n    12902 jboss     25   0 9488m 8.6g  18m S  0.0 27.4   0:00.05 java                                                                                                                             \r\n    12909 jboss     23   0 9488m 8.6g  18m S  0.0 27.4  76:34.09 java                                                                                                                             \r\n    12910 jboss     23   0 9488m 8.6g  18m S  0.0 27.4  76:33.49 java                                                                                                                             \r\n    12911 jboss     15   0 9488m 8.6g  18m S  0.0 27.4 257:10.35 java                                                                                                                             \r\n    12915 jboss     15   0 9488m 8.6g  18m S  0.0 27.4   0:06.63 java                                                                                                                             \r\n    12916 jboss     15   0 9488m 8.6g  18m S  0.0 27.4   0:19.61 java  \r\n    more lines.... \r\n\r\nThe jstack outpout is as follows \r\n\r\n\r\n    # /usr/java/jdk1.6.0_33/bin/jstack -F 3362\r\n    \r\n    Deadlock Detection:\r\n    \r\n    No deadlocks found.\r\n    \r\n    Thread 13055: (state = BLOCKED)\r\n     - java.lang.Object.wait(long) @bci=0 (Interpreted frame)\r\n     - java.lang.Object.wait() @bci=2, line=485 (Interpreted frame)\r\n     - org.apache.tomcat.util.net.JIoEndpoint$Worker.await() @bci=8, line=415 (Interpreted frame)\r\n     - org.apache.tomcat.util.net.JIoEndpoint$Worker.run() @bci=11, line=441 (Interpreted frame)\r\n     - java.lang.Thread.run() @bci=11, line=662 (Interpreted frame)\r\n    \r\n    \r\n    Thread 12996: (state = BLOCKED)\r\n     - java.lang.Object.wait(long) @bci=0 (Interpreted frame)\r\n     - java.lang.Object.wait() @bci=2, line=485 (Interpreted frame)\r\n     - org.apache.tomcat.util.net.JIoEndpoint$Worker.await() @bci=8, line=415 (Interpreted frame)\r\n     - org.apache.tomcat.util.net.JIoEndpoint$Worker.run() @bci=11, line=441 (Interpreted frame)\r\n     - java.lang.Thread.run() @bci=11, line=662 (Interpreted frame)\r\n    \r\n    \r\n    Thread 12994: (state = BLOCKED)\r\n     - java.lang.Object.wait(long) @bci=0 (Interpreted frame)\r\n     - java.lang.Object.wait() @bci=2, line=485 (Interpreted frame)\r\n     - org.apache.tomcat.util.net.JIoEndpoint$Worker.await() @bci=8, line=415 (Interpreted frame)\r\n     - org.apache.tomcat.util.net.JIoEndpoint$Worker.run() @bci=11, line=441 (Interpreted frame)\r\n     - java.lang.Thread.run() @bci=11, line=662 (Interpreted frame)\r\n\r\nmore stacks....\r\n\r\n\r\nThe thread IDs in the output of `jstack` also appear in the output of `top` but the thread IDs from top *that are most CPU intensive* (1903-1908) do not appear in the output of jstack. \r\n\r\nI thought these can be GC threads but I can&#39;t find anything to prove this.\r\n\r\nAny idea why I don&#39;t see all the threads in jstack or what I can do to see the missing threads?\r\n","title":"top -H shows few thread IDs that do not appear in jstack output","body":"<p>I am trying to investigate why my jboss is taking up 600% CPU (running on CentOS 5).</p>\n\n<p>I run <code>top -H</code> and try to compare the result with <code>jstack</code> output. Most of the thread IDs that come from top appear in the output of jstack but unfortunately the threads that take up most of the CPU are not listed there. </p>\n\n<p>Because the output is very long I am only listing part of it here.</p>\n\n<pre><code>$top -b -n1 -H -p &lt;jboss pid&gt;\n\ntop - 08:04:58 up 73 days, 19:50,  1 user,  load average: 5.72, 5.97, 5.95\nTasks: 128 total,   6 running, 122 sleeping,   0 stopped,   0 zombie\nCpu(s): 63.6%us,  1.7%sy,  0.0%ni, 34.2%id,  0.3%wa,  0.0%hi,  0.2%si,  0.0%st\nMem:  32946160k total, 32545228k used,   400932k free,    86776k buffers\nSwap: 34996216k total,      136k used, 34996080k free, 21577176k cached\n\n  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                                          \n12908 jboss     16   0 9488m 8.6g  18m S 71.5 27.4 146:45.68 java                                                                                                                             \n12903 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:36.08 java                                                                                                                             \n12904 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:39.63 java                                                                                                                             \n12905 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:44.46 java                                                                                                                             \n12906 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:53.94 java                                                                                                                             \n12907 jboss     16   0 9488m 8.6g  18m S 69.5 27.4 146:39.18 java                                                                                                                             \n12914 jboss     16   0 9488m 8.6g  18m R 27.8 27.4  36:26.64 java                                                                                                                             \n12901 jboss     25   0 9488m 8.6g  18m S  0.0 27.4   0:00.00 java                                                                                                                             \n12902 jboss     25   0 9488m 8.6g  18m S  0.0 27.4   0:00.05 java                                                                                                                             \n12909 jboss     23   0 9488m 8.6g  18m S  0.0 27.4  76:34.09 java                                                                                                                             \n12910 jboss     23   0 9488m 8.6g  18m S  0.0 27.4  76:33.49 java                                                                                                                             \n12911 jboss     15   0 9488m 8.6g  18m S  0.0 27.4 257:10.35 java                                                                                                                             \n12915 jboss     15   0 9488m 8.6g  18m S  0.0 27.4   0:06.63 java                                                                                                                             \n12916 jboss     15   0 9488m 8.6g  18m S  0.0 27.4   0:19.61 java  \nmore lines.... \n</code></pre>\n\n<p>The jstack outpout is as follows </p>\n\n<pre><code># /usr/java/jdk1.6.0_33/bin/jstack -F 3362\n\nDeadlock Detection:\n\nNo deadlocks found.\n\nThread 13055: (state = BLOCKED)\n - java.lang.Object.wait(long) @bci=0 (Interpreted frame)\n - java.lang.Object.wait() @bci=2, line=485 (Interpreted frame)\n - org.apache.tomcat.util.net.JIoEndpoint$Worker.await() @bci=8, line=415 (Interpreted frame)\n - org.apache.tomcat.util.net.JIoEndpoint$Worker.run() @bci=11, line=441 (Interpreted frame)\n - java.lang.Thread.run() @bci=11, line=662 (Interpreted frame)\n\n\nThread 12996: (state = BLOCKED)\n - java.lang.Object.wait(long) @bci=0 (Interpreted frame)\n - java.lang.Object.wait() @bci=2, line=485 (Interpreted frame)\n - org.apache.tomcat.util.net.JIoEndpoint$Worker.await() @bci=8, line=415 (Interpreted frame)\n - org.apache.tomcat.util.net.JIoEndpoint$Worker.run() @bci=11, line=441 (Interpreted frame)\n - java.lang.Thread.run() @bci=11, line=662 (Interpreted frame)\n\n\nThread 12994: (state = BLOCKED)\n - java.lang.Object.wait(long) @bci=0 (Interpreted frame)\n - java.lang.Object.wait() @bci=2, line=485 (Interpreted frame)\n - org.apache.tomcat.util.net.JIoEndpoint$Worker.await() @bci=8, line=415 (Interpreted frame)\n - org.apache.tomcat.util.net.JIoEndpoint$Worker.run() @bci=11, line=441 (Interpreted frame)\n - java.lang.Thread.run() @bci=11, line=662 (Interpreted frame)\n</code></pre>\n\n<p>more stacks....</p>\n\n<p>The thread IDs in the output of <code>jstack</code> also appear in the output of <code>top</code> but the thread IDs from top <em>that are most CPU intensive</em> (1903-1908) do not appear in the output of jstack. </p>\n\n<p>I thought these can be GC threads but I can't find anything to prove this.</p>\n\n<p>Any idea why I don't see all the threads in jstack or what I can do to see the missing threads?</p>\n"},{"tags":["java","spring-security","sap-commerce-cloud"],"answers":[{"tags":[],"owner":{"account_id":4424306,"reputation":186,"user_id":3603194,"display_name":"Adiputera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659319875,"creation_date":1659319875,"answer_id":73188256,"question_id":73149592,"body_markdown":"Role in SAP Commerce can be added from backoffice.\r\n\r\nlogin to backoffice , navigate to system -&gt; OAuth -&gt; OAuth Client\r\nselect your desired client, and edit the OAuth authorities\r\n[![OAuth authorities config in hybris backoffice][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I10v0.png","title":"How to create Spring security Role on SAP Commerce cloud (Hybris)","body":"<p>Role in SAP Commerce can be added from backoffice.</p>\n<p>login to backoffice , navigate to system -&gt; OAuth -&gt; OAuth Client\nselect your desired client, and edit the OAuth authorities\n<a href=\"https://i.stack.imgur.com/I10v0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I10v0.png\" alt=\"OAuth authorities config in hybris backoffice\" /></a></p>\n"}],"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659319875,"creation_date":1658996934,"question_id":73149592,"body_markdown":"I have a REST Controller that need to be checked with @PreAuthoriz(&quot;hasRole(&#39;ROLE_MYCUSTOMROLE&#39;&quot;) but I dont know how to create a role in Hybirs.\r\n\r\nDoes anyone have an idea ?","title":"How to create Spring security Role on SAP Commerce cloud (Hybris)","body":"<p>I have a REST Controller that need to be checked with @PreAuthoriz(&quot;hasRole('ROLE_MYCUSTOMROLE'&quot;) but I dont know how to create a role in Hybirs.</p>\n<p>Does anyone have an idea ?</p>\n"},{"tags":["java","swing","user-interface","layout"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659165713,"post_id":73173618,"comment_id":129232584,"body_markdown":"null layout is __always_ wrong! no screenshots of plain text please","body":"null layout is <i>_always</i> wrong! no screenshots of plain text please"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1659167844,"post_id":73173618,"comment_id":129232927,"body_markdown":"Try using `&lt;br&gt;` instead of `\\n` to indicate a line break.   See https://docs.oracle.com/javase/tutorial/uiswing/components/html.html","body":"Try using <code>&lt;br&gt;</code> instead of <code>\\n</code> to indicate a line break.   See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/html.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/html.html</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659179022,"post_id":73173618,"comment_id":129234963,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1659188253,"post_id":73173618,"comment_id":129236809,"body_markdown":"*Do I need to ... use another Layout??* - yes. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for the basics. You can also nest panels with different layout managers.","body":"<i>Do I need to ... use another Layout??</i> - yes. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for the basics. You can also nest panels with different layout managers."}],"answers":[{"tags":[],"owner":{"account_id":20084784,"reputation":85,"user_id":14726617,"display_name":"MrLegendGaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659319809,"creation_date":1659319809,"answer_id":73188253,"question_id":73173618,"body_markdown":"You can use HTML text formatting in JLabels.\r\n\r\nTry doing this:\r\n```\r\ntag.setText(&quot;&lt;html&gt;:&lt;br&gt;&lt;/html&gt;&quot;);\r\nnum.setText(&quot;&lt;html&gt;:&lt;br&gt;11111111&lt;/html&gt;&quot;);\r\n```","title":"How can I make this example with java GUI JFrame?","body":"<p>You can use HTML text formatting in JLabels.</p>\n<p>Try doing this:</p>\n<pre><code>tag.setText(&quot;&lt;html&gt;:&lt;br&gt;&lt;/html&gt;&quot;);\nnum.setText(&quot;&lt;html&gt;:&lt;br&gt;11111111&lt;/html&gt;&quot;);\n</code></pre>\n"}],"owner":{"account_id":25931132,"reputation":3,"user_id":19652187,"display_name":"harriet99"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73188253,"answer_count":1,"score":-2,"last_activity_date":1659319809,"creation_date":1659165147,"question_id":73173618,"body_markdown":"I want to make the tag (:  : 1111111) looks like this,\r\n\r\n:\r\n\r\n\r\n\r\n\r\n:\r\n\r\n111111\r\n\r\nbut only I can make looks like this,\r\n\r\n:  : 111111\r\n\r\nI made it to JLabel on SidePanel which extends JPanel. And \\n is not working on JPanel I guess? ..and I don&#39;t know how to fix it.\r\n\r\nDo I need to make some other JPanel on the SidePanel or use another Layout?? like.. Grid or null? or more JLabel??\r\n\r\n\r\n**Here&#39;s my code.**\r\n\r\n    public class MyFrame extends JFrame {\r\n\t\r\n\tprivate JButton proscons = new JButton();\r\n\tprivate JLabel tag = new JLabel();\r\n\tprivate JLabel num = new JLabel();\r\n\t\r\n\tMyFrame() {\r\n\t\tsetTitle(&quot;2 &quot;);\r\n\t\t\r\n\t\tContainer cp = getContentPane();\r\n\t\tcp.setLayout(new BorderLayout());\r\n\t\tcp.add(new WestPanel(), BorderLayout.WEST);\r\n\t\tcp.add(new MyPanel(), BorderLayout.CENTER);\r\n\t\t\r\n\t\tsetLocationRelativeTo(null); //  GUI  \r\n\t\tsetSize(400, 400);\r\n\t\tsetVisible(true);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\t\r\n\tclass WestPanel extends JPanel {\r\n\t\tWestPanel() {\r\n\t\t\tsetBackground(Color.YELLOW);\r\n\t\t\tsetSize(100,400);\r\n\t\t\tadd(proscons);\r\n\t\t\tproscons.setText(&quot;&quot;);\r\n\t\t\tadd(tag);\r\n\t\t\ttag.setText(&quot;: \\n&quot;);\r\n\t\t\tadd(num);\r\n\t\t\tnum.setText(&quot;: \\n11111111&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass MyPanel extends JPanel {\r\n\t\tMyPanel() {\r\n\t\t\tsetBackground(Color.lightGray);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew MyFrame();\r\n\t}\r\n\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uHyfU.png\r\n  [2]: https://i.stack.imgur.com/OiS6v.png","title":"How can I make this example with java GUI JFrame?","body":"<p>I want to make the tag (:  : 1111111) looks like this,</p>\n<p>:</p>\n<p></p>\n<p>:</p>\n<p>111111</p>\n<p>but only I can make looks like this,</p>\n<p>:  : 111111</p>\n<p>I made it to JLabel on SidePanel which extends JPanel. And \\n is not working on JPanel I guess? ..and I don't know how to fix it.</p>\n<p>Do I need to make some other JPanel on the SidePanel or use another Layout?? like.. Grid or null? or more JLabel??</p>\n<p><strong>Here's my code.</strong></p>\n<pre><code>public class MyFrame extends JFrame {\n\nprivate JButton proscons = new JButton();\nprivate JLabel tag = new JLabel();\nprivate JLabel num = new JLabel();\n\nMyFrame() {\n    setTitle(&quot;2 &quot;);\n    \n    Container cp = getContentPane();\n    cp.setLayout(new BorderLayout());\n    cp.add(new WestPanel(), BorderLayout.WEST);\n    cp.add(new MyPanel(), BorderLayout.CENTER);\n    \n    setLocationRelativeTo(null); //  GUI  \n    setSize(400, 400);\n    setVisible(true);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n\nclass WestPanel extends JPanel {\n    WestPanel() {\n        setBackground(Color.YELLOW);\n        setSize(100,400);\n        add(proscons);\n        proscons.setText(&quot;&quot;);\n        add(tag);\n        tag.setText(&quot;: \\n&quot;);\n        add(num);\n        num.setText(&quot;: \\n11111111&quot;);\n    }\n}\n\nclass MyPanel extends JPanel {\n    MyPanel() {\n        setBackground(Color.lightGray);\n    }\n}\n\npublic static void main(String[] args) {\n    new MyFrame();\n}\n</code></pre>\n<p>}</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8849,"page":1143,"page_size":100}
