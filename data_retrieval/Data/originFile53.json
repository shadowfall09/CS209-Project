{"items":[{"tags":["java","linux","jvm"],"answers":[{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438873578,"creation_date":1438873578,"answer_id":31859332,"question_id":31859255,"body_markdown":"The running processes are running off of the real JVM executable, not off of the symbolic link.\r\n\r\nSo, they will continue to run, but they will not switch over to the new JVM version you&#39;ve just installed until you restart them.","title":"What happens to running Java processes if I install a new version of the JDK?","body":"<p>The running processes are running off of the real JVM executable, not off of the symbolic link.</p>\n\n<p>So, they will continue to run, but they will not switch over to the new JVM version you've just installed until you restart them.</p>\n"},{"tags":[],"owner":{"account_id":1628271,"reputation":381,"user_id":1503313,"accept_rate":29,"display_name":"witchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700233846,"creation_date":1700233846,"answer_id":77502685,"question_id":31859255,"body_markdown":"We run into a huge problems after an JDK update:\r\n\r\nThe update has been automatically installed with ```yum-cron``` (CentOS). But it has deleted the old JDK installation (1.8.0.382 -&gt; 1.8.0.392). There were more than 100 JVMs running with the older version on the server. The update deleted the executables and the standard JARs. So the JVMs run but if they need a new class from the deleted JARs (loaded by class loader), they will throw exceptions:\r\n\r\n    java.io.FileNotFoundException: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.382.b05-1.el7_9.x86_64/jre/lib/resources.jar:java.lang.InternalError: java.io.FileNotFoundException: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.382.b05-1.el7_9.x86_64/jre/lib/resources.jar\r\n\r\nA lot of functionality was not longer available till a restart of the JVMs. We have found all affected processes with\r\n\r\n    ls -alF /proc/*/exe | grep java | grep &quot;1.8.0.382&quot; 1&gt;processIds.log\r\n\r\nIt is better to exclude Java from automatically updates.","title":"What happens to running Java processes if I install a new version of the JDK?","body":"<p>We run into a huge problems after an JDK update:</p>\n<p>The update has been automatically installed with <code>yum-cron</code> (CentOS). But it has deleted the old JDK installation (1.8.0.382 -&gt; 1.8.0.392). There were more than 100 JVMs running with the older version on the server. The update deleted the executables and the standard JARs. So the JVMs run but if they need a new class from the deleted JARs (loaded by class loader), they will throw exceptions:</p>\n<pre><code>java.io.FileNotFoundException: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.382.b05-1.el7_9.x86_64/jre/lib/resources.jar:java.lang.InternalError: java.io.FileNotFoundException: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.382.b05-1.el7_9.x86_64/jre/lib/resources.jar\n</code></pre>\n<p>A lot of functionality was not longer available till a restart of the JVMs. We have found all affected processes with</p>\n<pre><code>ls -alF /proc/*/exe | grep java | grep &quot;1.8.0.382&quot; 1&gt;processIds.log\n</code></pre>\n<p>It is better to exclude Java from automatically updates.</p>\n"}],"owner":{"account_id":196662,"reputation":3994,"user_id":440226,"accept_rate":74,"display_name":"Michael K&#252;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1700233846,"creation_date":1438873364,"question_id":31859255,"body_markdown":"I am wondering what happens with running Java processes if I update the JDK on a Debian machine. The answer is probably the same for other systems as well, I just wanted to be more explicit about my environment. \r\n\r\nWith update I mean that the newer JDK will be installed next to the existing one, and the symlink `/usr/lib/jvm/default-java` will be changed to the folder of the new JDK. \r\n\r\nFolder structure after the update:\r\n\r\n - `/usr/lib/jvm/default-java` -&gt; `/usr/lib/jvm/jdk1.7.0_79`\r\n - `/usr/lib/jvm/jdk1.7.0_21  # old version`\r\n - `/usr/lib/jvm/jdk1.7.0_79  # new version`\r\n\r\nWill the running processes be affected by this change?","title":"What happens to running Java processes if I install a new version of the JDK?","body":"<p>I am wondering what happens with running Java processes if I update the JDK on a Debian machine. The answer is probably the same for other systems as well, I just wanted to be more explicit about my environment. </p>\n\n<p>With update I mean that the newer JDK will be installed next to the existing one, and the symlink <code>/usr/lib/jvm/default-java</code> will be changed to the folder of the new JDK. </p>\n\n<p>Folder structure after the update:</p>\n\n<ul>\n<li><code>/usr/lib/jvm/default-java</code> -> <code>/usr/lib/jvm/jdk1.7.0_79</code></li>\n<li><code>/usr/lib/jvm/jdk1.7.0_21  # old version</code></li>\n<li><code>/usr/lib/jvm/jdk1.7.0_79  # new version</code></li>\n</ul>\n\n<p>Will the running processes be affected by this change?</p>\n"},{"tags":["java","android-studio","phonepe"],"answers":[{"tags":[],"owner":{"account_id":13210775,"reputation":969,"user_id":9541096,"display_name":"Owais Yosuf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700233592,"creation_date":1700233592,"answer_id":77502652,"question_id":77502629,"body_markdown":"In the `onActivityResult` method, check the `resultCode` and handle the response accordingly. The PhonePe app will send the payment status as a result of the payment activity.\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 777) {\r\n            if (resultCode == RESULT_OK) {\r\n                Toast.makeText(this, &quot;Payment Success&quot;, Toast.LENGTH_SHORT).show();\r\n                checkStatus();\r\n            } else if (resultCode == RESULT_CANCELED) {\r\n                Toast.makeText(this, &quot;Payment Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Payment Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }","title":"PhonePe Payment Gateway Not Working in Java Android Studio","body":"<p>In the <code>onActivityResult</code> method, check the <code>resultCode</code> and handle the response accordingly. The PhonePe app will send the payment status as a result of the payment activity.</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 777) {\n        if (resultCode == RESULT_OK) {\n            Toast.makeText(this, &quot;Payment Success&quot;, Toast.LENGTH_SHORT).show();\n            checkStatus();\n        } else if (resultCode == RESULT_CANCELED) {\n            Toast.makeText(this, &quot;Payment Cancelled&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Payment Failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29823981,"reputation":57,"user_id":22856447,"display_name":"Mr. Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1700233592,"creation_date":1700233365,"question_id":77502629,"body_markdown":"**This is my code:**\r\n\r\n    private void payUsingPhonePe() throws JSONException, NoSuchAlgorithmException {\r\n        String MERCHANT_ID = &quot;MERCHANTUAT&quot;;\r\n        String salt = &quot;a6334ff7-da0e-4d51-a9ce-76b97d518b1e&quot;;\r\n        String apiEndPoint = &quot;/pg/v1/pay&quot;;\r\n        PhonePe.init(this, PhonePeEnvironment.UAT, MERCHANT_ID, &quot;com.igcshop.igc&quot;);\r\n        JSONObject data = new JSONObject();\r\n        data.put(&quot;merchantTransactionId&quot;, orderId);\r\n        data.put(&quot;merchantId&quot;, MERCHANT_ID);\r\n        data.put(&quot;amount&quot;, total);\r\n        data.put(&quot;mobileNumber&quot;, phone);\r\n        data.put(&quot;callbackUrl&quot;, &quot;https://webhook.site/callback-url&quot;);\r\n        JSONObject paymentInstrument = new JSONObject();\r\n        paymentInstrument.put(&quot;type&quot;, &quot;UPI_INTENT&quot;);\r\n        paymentInstrument.put(&quot;targetApp&quot;, &quot;com.phonepe.app&quot;);\r\n        data.put(&quot;paymentInstrument&quot;, paymentInstrument);\r\n        JSONObject deviceContext = new JSONObject();\r\n        deviceContext.put(&quot;deviceOS&quot;, &quot;ANDROID&quot;);\r\n        data.put(&quot;deviceContext&quot;, deviceContext);\r\n        String payloadBase64 = Base64.encodeToString(data.toString().getBytes(\r\n                Charset.defaultCharset()\r\n        ), Base64.NO_WRAP);\r\n        String checksum = sha256(payloadBase64 + apiEndPoint + salt) + &quot;###1&quot;;\r\n        B2BPGRequest b2BPGRequest = new B2BPGRequestBuilder()\r\n                .setData(payloadBase64)\r\n                .setChecksum(checksum)\r\n                .setUrl(apiEndPoint)\r\n                .build();\r\n        try {\r\n            startActivityForResult(PhonePe.getImplicitIntent(this, b2BPGRequest, &quot;com.phonepe.app&quot;), 777);\r\n        } catch (PhonePeInitException ignored) {\r\n        }\r\n    }\r\n\r\n**This is onActivityResult:**\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 777) {\r\n            Toast.makeText(this, &quot;Payment Success&quot;, Toast.LENGTH_SHORT).show();\r\n            checkStatus();\r\n        } else {\r\n            Toast.makeText(this, &quot;Failure !!!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n**This is sha256 function:**\r\n\r\n    private String sha256(String input) throws NoSuchAlgorithmException {\r\n        byte[] bytes = input.getBytes(StandardCharsets.UTF_8);\r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte[] digest = md.digest(bytes);\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        for (byte b : digest) {\r\n            try (Formatter formatter = new Formatter(stringBuilder)) {\r\n                formatter.format(&quot;%02x&quot;, b);\r\n            }\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n\r\nI am using android studio and java in backend. I am testing this code, but it doesn&#39;t work.\r\n\r\n*This is not working. It shows success message, but not showing anything!!!*","title":"PhonePe Payment Gateway Not Working in Java Android Studio","body":"<p><strong>This is my code:</strong></p>\n<pre><code>private void payUsingPhonePe() throws JSONException, NoSuchAlgorithmException {\n    String MERCHANT_ID = &quot;MERCHANTUAT&quot;;\n    String salt = &quot;a6334ff7-da0e-4d51-a9ce-76b97d518b1e&quot;;\n    String apiEndPoint = &quot;/pg/v1/pay&quot;;\n    PhonePe.init(this, PhonePeEnvironment.UAT, MERCHANT_ID, &quot;com.igcshop.igc&quot;);\n    JSONObject data = new JSONObject();\n    data.put(&quot;merchantTransactionId&quot;, orderId);\n    data.put(&quot;merchantId&quot;, MERCHANT_ID);\n    data.put(&quot;amount&quot;, total);\n    data.put(&quot;mobileNumber&quot;, phone);\n    data.put(&quot;callbackUrl&quot;, &quot;https://webhook.site/callback-url&quot;);\n    JSONObject paymentInstrument = new JSONObject();\n    paymentInstrument.put(&quot;type&quot;, &quot;UPI_INTENT&quot;);\n    paymentInstrument.put(&quot;targetApp&quot;, &quot;com.phonepe.app&quot;);\n    data.put(&quot;paymentInstrument&quot;, paymentInstrument);\n    JSONObject deviceContext = new JSONObject();\n    deviceContext.put(&quot;deviceOS&quot;, &quot;ANDROID&quot;);\n    data.put(&quot;deviceContext&quot;, deviceContext);\n    String payloadBase64 = Base64.encodeToString(data.toString().getBytes(\n            Charset.defaultCharset()\n    ), Base64.NO_WRAP);\n    String checksum = sha256(payloadBase64 + apiEndPoint + salt) + &quot;###1&quot;;\n    B2BPGRequest b2BPGRequest = new B2BPGRequestBuilder()\n            .setData(payloadBase64)\n            .setChecksum(checksum)\n            .setUrl(apiEndPoint)\n            .build();\n    try {\n        startActivityForResult(PhonePe.getImplicitIntent(this, b2BPGRequest, &quot;com.phonepe.app&quot;), 777);\n    } catch (PhonePeInitException ignored) {\n    }\n}\n</code></pre>\n<p><strong>This is onActivityResult:</strong></p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 777) {\n        Toast.makeText(this, &quot;Payment Success&quot;, Toast.LENGTH_SHORT).show();\n        checkStatus();\n    } else {\n        Toast.makeText(this, &quot;Failure !!!&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p><strong>This is sha256 function:</strong></p>\n<pre><code>private String sha256(String input) throws NoSuchAlgorithmException {\n    byte[] bytes = input.getBytes(StandardCharsets.UTF_8);\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    byte[] digest = md.digest(bytes);\n    StringBuilder stringBuilder = new StringBuilder();\n    for (byte b : digest) {\n        try (Formatter formatter = new Formatter(stringBuilder)) {\n            formatter.format(&quot;%02x&quot;, b);\n        }\n    }\n    return stringBuilder.toString();\n}\n</code></pre>\n<p>I am using android studio and java in backend. I am testing this code, but it doesn't work.</p>\n<p><em>This is not working. It shows success message, but not showing anything!!!</em></p>\n"},{"tags":["java","android","string","android-resources","android-context"],"comments":[{"owner":{"account_id":1477527,"reputation":7879,"user_id":1387588,"accept_rate":59,"display_name":"sports"},"score":5,"creation_date":1407697714,"post_id":4253328,"comment_id":39304764,"body_markdown":"By passing the context to the class that is going to use the string, you are also passing information about what language (en, es, etc) is being used by the app. So if you have two strings.xml, it will know which one to use","body":"By passing the context to the class that is going to use the string, you are also passing information about what language (en, es, etc) is being used by the app. So if you have two strings.xml, it will know which one to use"}],"answers":[{"tags":[],"owner":{"account_id":73104,"reputation":51804,"user_id":210719,"display_name":"Erich Douglass"},"down_vote_count":11,"up_vote_count":125,"is_accepted":false,"score":114,"last_activity_date":1290494263,"creation_date":1290494263,"answer_id":4253393,"question_id":4253328,"body_markdown":"Unfortunately, the only way you can access any of the string resources is with a `Context` (i.e. an `Activity` or `Service`).  What I&#39;ve usually done in this case, is to simply require the caller to pass in the context.","title":"getString Outside of a Context or Activity","body":"<p>Unfortunately, the only way you can access any of the string resources is with a <code>Context</code> (i.e. an <code>Activity</code> or <code>Service</code>).  What I've usually done in this case, is to simply require the caller to pass in the context.</p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"down_vote_count":8,"up_vote_count":578,"is_accepted":true,"score":570,"last_activity_date":1484556272,"creation_date":1325892074,"answer_id":8765766,"question_id":4253328,"body_markdown":"&lt;h3&gt;Yes, we can access resources without using `Context`&lt;/h3&gt;\r\nYou can use:\r\n\r\n    Resources.getSystem().getString(android.R.string.somecommonstuff)\r\n\r\n\r\n... everywhere in your application, even in static constants declarations.\r\nUnfortunately, it supports *the system resources only*.\r\n\r\nFor local resources use [this solution][1]. It is not trivial, but it works.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4391811/715269","title":"getString Outside of a Context or Activity","body":"<h3>Yes, we can access resources without using `Context`</h3>\n\n<p>You can use:</p>\n\n<pre><code>Resources.getSystem().getString(android.R.string.somecommonstuff)\n</code></pre>\n\n<p>... everywhere in your application, even in static constants declarations.\nUnfortunately, it supports <em>the system resources only</em>.</p>\n\n<p>For local resources use <a href=\"https://stackoverflow.com/a/4391811/715269\">this solution</a>. It is not trivial, but it works.</p>\n"},{"tags":[],"owner":{"account_id":1094662,"reputation":361,"user_id":1088514,"display_name":"Jan Naruszkiewicz"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1337841390,"creation_date":1337841021,"answer_id":10732282,"question_id":4253328,"body_markdown":"BTW, one of the reason of **symbol not found** error may be that your IDE imported android.R; class instead of yours one. Just change **import android.R;** to **import your.namespace.R;**\r\n\r\nSo 2 basic things to get string visible in the different class:\r\n\r\n    //make sure you are importing the right R class\r\n    import your.namespace.R;\r\n    \r\n    //don&#39;t forget about the context\r\n    public void some_method(Context context) {\r\n       context.getString(R.string.YOUR_STRING);\r\n    }","title":"getString Outside of a Context or Activity","body":"<p>BTW, one of the reason of <strong>symbol not found</strong> error may be that your IDE imported android.R; class instead of yours one. Just change <strong>import android.R;</strong> to <strong>import your.namespace.R;</strong></p>\n\n<p>So 2 basic things to get string visible in the different class:</p>\n\n<pre><code>//make sure you are importing the right R class\nimport your.namespace.R;\n\n//don't forget about the context\npublic void some_method(Context context) {\n   context.getString(R.string.YOUR_STRING);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5029184,"reputation":5,"user_id":4039979,"display_name":"vivynz"},"down_vote_count":13,"up_vote_count":2,"is_accepted":false,"score":-11,"last_activity_date":1424099646,"creation_date":1424099646,"answer_id":28544506,"question_id":4253328,"body_markdown":"I used \r\n`getContext().getApplicationContext().getString(R.string.nameOfString);`\r\nIt works for me.","title":"getString Outside of a Context or Activity","body":"<p>I used \n<code>getContext().getApplicationContext().getString(R.string.nameOfString);</code>\nIt works for me.</p>\n"},{"tags":[],"owner":{"account_id":4270776,"reputation":3160,"user_id":3492625,"display_name":"konmik"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1506827111,"creation_date":1426007666,"answer_id":28970024,"question_id":4253328,"body_markdown":"In `MyApplication`, which extends `Application`:\r\n\r\n    public static Resources resources;\r\n\r\nIn `MyApplication`&#39;s `onCreate`:\r\n\r\n    resources = getResources();\r\n\r\nNow you can use this field from anywhere in your application.","title":"getString Outside of a Context or Activity","body":"<p>In <code>MyApplication</code>, which extends <code>Application</code>:</p>\n\n<pre><code>public static Resources resources;\n</code></pre>\n\n<p>In <code>MyApplication</code>'s <code>onCreate</code>:</p>\n\n<pre><code>resources = getResources();\n</code></pre>\n\n<p>Now you can use this field from anywhere in your application.</p>\n"},{"tags":[],"owner":{"account_id":6120118,"reputation":615,"user_id":4773911,"display_name":"Versa"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1443183377,"creation_date":1443183377,"answer_id":32782017,"question_id":4253328,"body_markdown":"This should get you access to `applicationContext` from anywhere allowing you to get `applicationContext` anywhere that can use it; `Toast`, `getString()`, `sharedPreferences`, etc.\r\n\r\nThe Singleton:\r\n\r\n    package com.domain.packagename;\r\n    \r\n    import android.content.Context;\r\n    \r\n    /**\r\n     * Created by Versa on 10.09.15.\r\n     */\r\n    public class ApplicationContextSingleton {\r\n        private static PrefsContextSingleton mInstance;\r\n        private Context context;\r\n    \r\n        public static ApplicationContextSingleton getInstance() {\r\n            if (mInstance == null) mInstance = getSync();\r\n            return mInstance;\r\n        }\r\n    \r\n        private static synchronized ApplicationContextSingleton getSync() {\r\n            if (mInstance == null) mInstance = new PrefsContextSingleton();\r\n            return mInstance;\r\n        }\r\n    \r\n        public void initialize(Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        public Context getApplicationContext() {\r\n            return context;\r\n        }\r\n    \r\n    }\r\n\r\nInitialize the Singleton in your `Application` subclass:\r\n\r\n    package com.domain.packagename;\r\n    \r\n    import android.app.Application;\r\n    \r\n    /**\r\n     * Created by Versa on 25.08.15.\r\n     */\r\n    public class mApplication extends Application {\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            ApplicationContextSingleton.getInstance().initialize(this);\r\n        }\r\n    }\r\n\r\nIf I&#180;m not wrong, this gives you a hook to applicationContext everywhere, call it with `ApplicationContextSingleton.getInstance.getApplicationContext();`\r\nYou shouldn&#180;t need to clear this at any point, as when application closes, this goes with it anyway.\r\n\r\nRemember to update `AndroidManifest.xml` to use this `Application` subclass:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;manifest\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.domain.packagename&quot;\r\n        &gt;\r\n    \r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:name=&quot;.mApplication&quot; &lt;!-- This is the important line --&gt;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:icon=&quot;@drawable/app_icon&quot;\r\n        &gt;\r\n\r\nPlease let me know if you see anything wrong here, thank you. :)","title":"getString Outside of a Context or Activity","body":"<p>This should get you access to <code>applicationContext</code> from anywhere allowing you to get <code>applicationContext</code> anywhere that can use it; <code>Toast</code>, <code>getString()</code>, <code>sharedPreferences</code>, etc.</p>\n\n<p>The Singleton:</p>\n\n<pre><code>package com.domain.packagename;\n\nimport android.content.Context;\n\n/**\n * Created by Versa on 10.09.15.\n */\npublic class ApplicationContextSingleton {\n    private static PrefsContextSingleton mInstance;\n    private Context context;\n\n    public static ApplicationContextSingleton getInstance() {\n        if (mInstance == null) mInstance = getSync();\n        return mInstance;\n    }\n\n    private static synchronized ApplicationContextSingleton getSync() {\n        if (mInstance == null) mInstance = new PrefsContextSingleton();\n        return mInstance;\n    }\n\n    public void initialize(Context context) {\n        this.context = context;\n    }\n\n    public Context getApplicationContext() {\n        return context;\n    }\n\n}\n</code></pre>\n\n<p>Initialize the Singleton in your <code>Application</code> subclass:</p>\n\n<pre><code>package com.domain.packagename;\n\nimport android.app.Application;\n\n/**\n * Created by Versa on 25.08.15.\n */\npublic class mApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        ApplicationContextSingleton.getInstance().initialize(this);\n    }\n}\n</code></pre>\n\n<p>If I´m not wrong, this gives you a hook to applicationContext everywhere, call it with <code>ApplicationContextSingleton.getInstance.getApplicationContext();</code>\nYou shouldn´t need to clear this at any point, as when application closes, this goes with it anyway.</p>\n\n<p>Remember to update <code>AndroidManifest.xml</code> to use this <code>Application</code> subclass:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;manifest\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.domain.packagename\"\n    &gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:name=\".mApplication\" &lt;!-- This is the important line --&gt;\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\"\n    android:icon=\"@drawable/app_icon\"\n    &gt;\n</code></pre>\n\n<p>Please let me know if you see anything wrong here, thank you. :)</p>\n"},{"tags":[],"owner":{"account_id":5203775,"reputation":1928,"user_id":4162391,"accept_rate":75,"display_name":"Malus Jan"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1457853265,"creation_date":1457853265,"answer_id":35967622,"question_id":4253328,"body_markdown":"If you have a class that you use in an activity and you want to have access the ressource in that class, I recommend you to define a context as a private variable in class and initial it in constructor:\r\n\r\n    public class MyClass (){\r\n        private Context context;\r\n\r\n        public MyClass(Context context){\r\n           this.context=context;\r\n        }\r\n        \r\n        public testResource(){\r\n           String s=context.getString(R.string.testString).toString();\r\n        }\r\n    }\r\n\r\n\r\nMaking an instant of class in your activity:\r\n\r\n    MyClass m=new MyClass(this);\r\n\r\n\r\n\r\n","title":"getString Outside of a Context or Activity","body":"<p>If you have a class that you use in an activity and you want to have access the ressource in that class, I recommend you to define a context as a private variable in class and initial it in constructor:</p>\n\n<pre><code>public class MyClass (){\n    private Context context;\n\n    public MyClass(Context context){\n       this.context=context;\n    }\n\n    public testResource(){\n       String s=context.getString(R.string.testString).toString();\n    }\n}\n</code></pre>\n\n<p>Making an instant of class in your activity:</p>\n\n<pre><code>MyClass m=new MyClass(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1604397403,"creation_date":1531294349,"answer_id":51279662,"question_id":4253328,"body_markdown":"##*Unique Approach*\r\n\r\n##`App.getRes().getString(R.string.some_id)`\r\n\r\n&gt; This will work everywhere in app. (**Util class, Dialog, Fragment or\r\n&gt; any class in your app**)\r\n\r\n\r\n(1) Create or Edit (if already exist) your `Application` class.\r\n\r\n    import android.app.Application;\r\n    import android.content.res.Resources;\r\n    \r\n    public class App extends Application {\r\n        private static App mInstance;\r\n        private static Resources res;\r\n    \r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            mInstance = this;\r\n            res = getResources();\r\n        }\r\n    \r\n        public static App getInstance() {\r\n            return mInstance;\r\n        }\r\n    \r\n        public static Resources getRes() {\r\n            return res;\r\n        }\r\n    \r\n    }\r\n\r\n(2) Add name field to your `manifest.xml` `&lt;application` tag.\r\n\r\n    &lt;application\r\n            android:name=&quot;.App&quot;\r\n            ...\r\n            &gt;\r\n            ...\r\n        &lt;/application&gt;\r\n\r\nNow you are good to go. Use `App.getRes().getString(R.string.some_id)` anywhere in app.\r\n\r\n\r\n\r\n","title":"getString Outside of a Context or Activity","body":"<p>##<em>Unique Approach</em></p>\n<p>##<code>App.getRes().getString(R.string.some_id)</code></p>\n<blockquote>\n<p>This will work everywhere in app. (<strong>Util class, Dialog, Fragment or\nany class in your app</strong>)</p>\n</blockquote>\n<p>(1) Create or Edit (if already exist) your <code>Application</code> class.</p>\n<pre><code>import android.app.Application;\nimport android.content.res.Resources;\n\npublic class App extends Application {\n    private static App mInstance;\n    private static Resources res;\n\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mInstance = this;\n        res = getResources();\n    }\n\n    public static App getInstance() {\n        return mInstance;\n    }\n\n    public static Resources getRes() {\n        return res;\n    }\n\n}\n</code></pre>\n<p>(2) Add name field to your <code>manifest.xml</code> <code>&lt;application</code> tag.</p>\n<pre><code>&lt;application\n        android:name=&quot;.App&quot;\n        ...\n        &gt;\n        ...\n    &lt;/application&gt;\n</code></pre>\n<p>Now you are good to go. Use <code>App.getRes().getString(R.string.some_id)</code> anywhere in app.</p>\n"},{"tags":[],"owner":{"account_id":12614873,"reputation":3103,"user_id":14087244,"display_name":"Mickael Belhassen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550134385,"creation_date":1550134385,"answer_id":54686443,"question_id":4253328,"body_markdown":"The best approach from the response of Khemraj:\r\n\r\n**App class**\r\n\r\n    class App : Application() {\r\n    \r\n        companion object {\r\n            lateinit var instance: Application\r\n            lateinit var resourses: Resources\r\n        }\r\n    \r\n    \r\n        // MARK: - Lifecycle\r\n    \r\n        override fun onCreate() {\r\n            super.onCreate()\r\n            instance = this\r\n            resourses = resources\r\n        }\r\n    \r\n    }\r\n\r\n**Declaration in the manifest**\r\n\r\n    &lt;application\r\n            android:name=&quot;.App&quot;\r\n            ...&gt;\r\n    &lt;/application&gt;     \r\n\r\n   \r\n**Constants class**\r\n\r\n    class Localizations {\r\n    \r\n        companion object {\r\n            val info = App.resourses.getString(R.string.info)\r\n        }\r\n    \r\n    }\r\n\r\n**Using**\r\n\r\n    textView.text = Localizations.info","title":"getString Outside of a Context or Activity","body":"<p>The best approach from the response of Khemraj:</p>\n\n<p><strong>App class</strong></p>\n\n<pre><code>class App : Application() {\n\n    companion object {\n        lateinit var instance: Application\n        lateinit var resourses: Resources\n    }\n\n\n    // MARK: - Lifecycle\n\n    override fun onCreate() {\n        super.onCreate()\n        instance = this\n        resourses = resources\n    }\n\n}\n</code></pre>\n\n<p><strong>Declaration in the manifest</strong></p>\n\n<pre><code>&lt;application\n        android:name=\".App\"\n        ...&gt;\n&lt;/application&gt;     \n</code></pre>\n\n<p><strong>Constants class</strong></p>\n\n<pre><code>class Localizations {\n\n    companion object {\n        val info = App.resourses.getString(R.string.info)\n    }\n\n}\n</code></pre>\n\n<p><strong>Using</strong></p>\n\n<pre><code>textView.text = Localizations.info\n</code></pre>\n"},{"tags":[],"owner":{"account_id":447183,"reputation":16003,"user_id":840669,"accept_rate":72,"display_name":"Rajkiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576732992,"creation_date":1576732992,"answer_id":59403695,"question_id":4253328,"body_markdown":"Somehow didn&#39;t like the hacky solutions of storing static values so came up with a bit longer but a clean version which can be tested as well.\r\n\r\nFound 2 possible ways to do it-\r\n\r\n1. Pass context.resources as a parameter to your class where you want the string resource. Fairly simple. If passing as param is not possible, use the setter.\r\n\r\ne.g.\r\n\r\n    data class MyModel(val resources: Resources) {\r\n        fun getNameString(): String {\r\n            resources.getString(R.string.someString)\r\n        }\r\n    }\r\n \r\n2. Use the data-binding (requires fragment/activity though)\r\n\r\nBefore you read: This version uses `Data binding`\r\n\r\nXML-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;someStringFetchedFromRes&quot;\r\n            type=&quot;String&quot; /&gt;\r\n    &lt;/data&gt;\r\n    \r\n    &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@{someStringFetchedFromRes}&quot; /&gt;\r\n    &lt;/layout&gt;\r\n\r\n\r\nActivity/Fragment-\r\n\r\n    val binding = NameOfYourBinding.inflate(inflater)\r\n    binding.someStringFetchedFromRes = resources.getString(R.string.someStringFetchedFromRes)\r\n\r\n\r\nSometimes, you need to change the text based on a field in a model. So you would data-bind that model as well and since your activity/fragment knows about the model, you can very well fetch the value and then data-bind the string based on that.\r\n\r\n","title":"getString Outside of a Context or Activity","body":"<p>Somehow didn't like the hacky solutions of storing static values so came up with a bit longer but a clean version which can be tested as well.</p>\n\n<p>Found 2 possible ways to do it-</p>\n\n<ol>\n<li>Pass context.resources as a parameter to your class where you want the string resource. Fairly simple. If passing as param is not possible, use the setter.</li>\n</ol>\n\n<p>e.g.</p>\n\n<pre><code>data class MyModel(val resources: Resources) {\n    fun getNameString(): String {\n        resources.getString(R.string.someString)\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Use the data-binding (requires fragment/activity though)</li>\n</ol>\n\n<p>Before you read: This version uses <code>Data binding</code></p>\n\n<p>XML-</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n&lt;data&gt;\n    &lt;variable\n        name=\"someStringFetchedFromRes\"\n        type=\"String\" /&gt;\n&lt;/data&gt;\n\n&lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@{someStringFetchedFromRes}\" /&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Activity/Fragment-</p>\n\n<pre><code>val binding = NameOfYourBinding.inflate(inflater)\nbinding.someStringFetchedFromRes = resources.getString(R.string.someStringFetchedFromRes)\n</code></pre>\n\n<p>Sometimes, you need to change the text based on a field in a model. So you would data-bind that model as well and since your activity/fragment knows about the model, you can very well fetch the value and then data-bind the string based on that.</p>\n"},{"tags":[],"owner":{"account_id":4242113,"reputation":1353,"user_id":3471708,"accept_rate":60,"display_name":"Ahmed Raza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577690750,"creation_date":1577599520,"answer_id":59517221,"question_id":4253328,"body_markdown":"You can do this in **Kotlin** by creating a class that extends Application and then use its context to call the resources anywhere in your code\r\n\r\n**Your App class will look like this**\r\n   \r\n\r\n     class App : Application() {\r\n        override fun onCreate() {\r\n            super.onCreate()\r\n            context = this\r\n        }\r\n    \r\n        companion object {\r\n            var context: Context? = null\r\n                private set\r\n        }\r\n    }\r\n\r\n**Declare your Application class in AndroidManifest.xml (very important)**\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:name=&quot;.App&quot; //&lt;--Your declaration Here\r\n            ...&gt;\r\n            &lt;activity\r\n                android:name=&quot;.SplashActivity&quot;  android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;activity android:name=&quot;.MainActivity&quot;/&gt;\r\n        &lt;/application&gt;\r\n\r\n**To access e.g. a string file use the following code**\r\n\r\n    App.context?.resources?.getText(R.string.mystring)","title":"getString Outside of a Context or Activity","body":"<p>You can do this in <strong>Kotlin</strong> by creating a class that extends Application and then use its context to call the resources anywhere in your code</p>\n\n<p><strong>Your App class will look like this</strong></p>\n\n<pre><code> class App : Application() {\n    override fun onCreate() {\n        super.onCreate()\n        context = this\n    }\n\n    companion object {\n        var context: Context? = null\n            private set\n    }\n}\n</code></pre>\n\n<p><strong>Declare your Application class in AndroidManifest.xml (very important)</strong></p>\n\n<pre><code>&lt;application\n        android:allowBackup=\"true\"\n        android:name=\".App\" //&lt;--Your declaration Here\n        ...&gt;\n        &lt;activity\n            android:name=\".SplashActivity\"  android:theme=\"@style/SplashTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=\".MainActivity\"/&gt;\n    &lt;/application&gt;\n</code></pre>\n\n<p><strong>To access e.g. a string file use the following code</strong></p>\n\n<pre><code>App.context?.resources?.getText(R.string.mystring)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19812456,"reputation":1189,"user_id":14510925,"display_name":"Владислав Шестернин"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1653425935,"creation_date":1614702136,"answer_id":66443166,"question_id":4253328,"body_markdown":"\r\n\r\n - ***AppCompatActivity***\r\n - ***Companion object***\r\n---\r\n**Activity code:**\r\n\r\n          \r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n        companion object {\r\n            lateinit var instance: AppCompatActivity\r\n                private set\r\n        }\r\n\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            instance = this\r\n        }\r\n    }\r\n\r\n---\r\n**Getting a resource from AnyWhere:**\r\n     \r\n    val text = MainActivity.instance.getString(R.string.task_1)\r\n\r\n    ","title":"getString Outside of a Context or Activity","body":"<ul>\n<li><em><strong>AppCompatActivity</strong></em></li>\n<li><em><strong>Companion object</strong></em></li>\n</ul>\n<hr />\n<p><strong>Activity code:</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    companion object {\n        lateinit var instance: AppCompatActivity\n            private set\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        instance = this\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Getting a resource from AnyWhere:</strong></p>\n<pre><code>val text = MainActivity.instance.getString(R.string.task_1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22798977,"reputation":3043,"user_id":16952036,"display_name":"MANISH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640285374,"creation_date":1640285374,"answer_id":70466275,"question_id":4253328,"body_markdown":"If you want to use getString Outside of a Context or Activity you should have context in constructor or method parameter so that you can access getstring() method.\r\nSpecially in Fragment You shoud ensure that getActivity() or getContext() are not providing null value.\r\nTo avoid null from getActivity() or getContext() in a Fragment try this : \r\nDeclare a variable :\r\n\r\n    Context mContext;\r\nnow override onAttach and onDetach method of Fragment :\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        mContext = context;\r\n    }\r\n\r\n    @Override\r\n    public void onDetach() {\r\n        super.onDetach();\r\n        mContext = null;\r\n    }\r\n\r\nNow Use **mContext** whereever you are using getString() method.\r\nex:\r\n\r\n            Toast.makeText(mContext,  mContext.getString(R.string.sample_toast_from_string_file), Toast.LENGTH_SHORT).show();\r\n","title":"getString Outside of a Context or Activity","body":"<p>If you want to use getString Outside of a Context or Activity you should have context in constructor or method parameter so that you can access getstring() method.\nSpecially in Fragment You shoud ensure that getActivity() or getContext() are not providing null value.\nTo avoid null from getActivity() or getContext() in a Fragment try this :\nDeclare a variable :</p>\n<pre><code>Context mContext;\n</code></pre>\n<p>now override onAttach and onDetach method of Fragment :</p>\n<pre><code>@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n    mContext = context;\n}\n\n@Override\npublic void onDetach() {\n    super.onDetach();\n    mContext = null;\n}\n</code></pre>\n<p>Now Use <strong>mContext</strong> whereever you are using getString() method.\nex:</p>\n<pre><code>        Toast.makeText(mContext,  mContext.getString(R.string.sample_toast_from_string_file), Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1652212,"reputation":4898,"user_id":1522554,"accept_rate":24,"display_name":"Maddy Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656012049,"creation_date":1656012049,"answer_id":72735539,"question_id":4253328,"body_markdown":"Inside Activity :\r\n\r\n    Text(text = getString(android.R.string.yes))\r\n\r\nInside Non-Activity :\r\n\r\n    Text(text = Resources.getSystem().getString(android.R.string.yes))\r\n\r\n                              OR\r\n\r\n    Text(text = stringResource(android.R.string.yes))\r\n\r\n","title":"getString Outside of a Context or Activity","body":"<p>Inside Activity :</p>\n<pre><code>Text(text = getString(android.R.string.yes))\n</code></pre>\n<p>Inside Non-Activity :</p>\n<pre><code>Text(text = Resources.getSystem().getString(android.R.string.yes))\n\n                          OR\n\nText(text = stringResource(android.R.string.yes))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2103972,"reputation":2698,"user_id":1870799,"accept_rate":83,"display_name":"Florian Reisinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658407442,"creation_date":1658407442,"answer_id":73066445,"question_id":4253328,"body_markdown":"If you are using [Hilt][1], you can actually inject the context:\r\n\r\n\r\n```kotlin\r\n@Module\r\n@InstallIn(SingletonComponent::class)\r\ninterface ResourceProvider {\r\n\r\n    companion object {\r\n    \r\n    @Provides\r\n    @Singleton\r\n    @MyQualifier\r\n    fun providesBaseUrl(@ApplicationContext context: Context): String = with(context) {\r\n      getString(R.string.my_value)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://developer.android.com/training/dependency-injection/hilt-android","title":"getString Outside of a Context or Activity","body":"<p>If you are using <a href=\"https://developer.android.com/training/dependency-injection/hilt-android\" rel=\"nofollow noreferrer\">Hilt</a>, you can actually inject the context:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Module\n@InstallIn(SingletonComponent::class)\ninterface ResourceProvider {\n\n    companion object {\n    \n    @Provides\n    @Singleton\n    @MyQualifier\n    fun providesBaseUrl(@ApplicationContext context: Context): String = with(context) {\n      getString(R.string.my_value)\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25242117,"reputation":136,"user_id":19075858,"display_name":"Mike Schvedov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661267615,"creation_date":1661267615,"answer_id":73461190,"question_id":4253328,"body_markdown":"Following and based on Khemraj Sharma&#39;s answer, this is the Kotlin version, with an extra extention as a bonus:\r\n\r\n    class App: Application() {\r\n    \r\n        override fun onCreate() {\r\n            super.onCreate()\r\n            mInstance = this\r\n            res = resources\r\n        }\r\n        companion object{\r\n    \r\n            private var mInstance: App? = null\r\n            private var res: Resources? = null\r\n    \r\n            fun getInstance(): App? {\r\n                return mInstance\r\n            }\r\n    \r\n            fun getRes(): Resources? {\r\n                return res\r\n            }\r\n        }\r\n    }\r\n\r\nThen we can create an extension:\r\n\r\n    fun Int.resourceToString(): String {\r\n        return App.getRes()?.getString(this) ?: &quot;Not Found&quot;\r\n    }\r\n\r\nAnd use the extention directly on any resource id:\r\n\r\n    var asString = R.string.my_string.resourceToString()","title":"getString Outside of a Context or Activity","body":"<p>Following and based on Khemraj Sharma's answer, this is the Kotlin version, with an extra extention as a bonus:</p>\n<pre><code>class App: Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n        mInstance = this\n        res = resources\n    }\n    companion object{\n\n        private var mInstance: App? = null\n        private var res: Resources? = null\n\n        fun getInstance(): App? {\n            return mInstance\n        }\n\n        fun getRes(): Resources? {\n            return res\n        }\n    }\n}\n</code></pre>\n<p>Then we can create an extension:</p>\n<pre><code>fun Int.resourceToString(): String {\n    return App.getRes()?.getString(this) ?: &quot;Not Found&quot;\n}\n</code></pre>\n<p>And use the extention directly on any resource id:</p>\n<pre><code>var asString = R.string.my_string.resourceToString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11318673,"reputation":543,"user_id":8299619,"display_name":"Mohsinali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688710239,"creation_date":1688710239,"answer_id":76634331,"question_id":4253328,"body_markdown":"To access string resources without a context, you can create a separate utility class and pass the application context to it. Here&#39;s an example:\r\n\r\nCreate a class named ResourceUtils:\r\n  \r\n       object ResourceUtils {\r\n            private var applicationContext: Context? = null\r\n        \r\n            fun initialize(context: Context) {\r\n                applicationContext = context.applicationContext\r\n            }\r\n        \r\n            fun getString(resId: Int): String {\r\n                applicationContext?.let {\r\n                    return it.resources.getString(resId)\r\n                }\r\n                throw IllegalStateException(&quot;ResourceUtils not initialized with application context&quot;)\r\n            }\r\n        }\r\n\r\nIn your Application class, initialize the ResourceUtils with the application context:\r\n\r\n    class MyApplication : Application() {\r\n        override fun onCreate() {\r\n            super.onCreate()\r\n            ResourceUtils.initialize(this)\r\n        }\r\n    }\r\n\r\nNow, you can use ResourceUtils.getString() to access string resources without a context:\r\n\r\n    val appName = ResourceUtils.getString(R.string.app_name)\r\n\r\n\r\n","title":"getString Outside of a Context or Activity","body":"<p>To access string resources without a context, you can create a separate utility class and pass the application context to it. Here's an example:</p>\n<p>Create a class named ResourceUtils:</p>\n<pre><code>   object ResourceUtils {\n        private var applicationContext: Context? = null\n    \n        fun initialize(context: Context) {\n            applicationContext = context.applicationContext\n        }\n    \n        fun getString(resId: Int): String {\n            applicationContext?.let {\n                return it.resources.getString(resId)\n            }\n            throw IllegalStateException(&quot;ResourceUtils not initialized with application context&quot;)\n        }\n    }\n</code></pre>\n<p>In your Application class, initialize the ResourceUtils with the application context:</p>\n<pre><code>class MyApplication : Application() {\n    override fun onCreate() {\n        super.onCreate()\n        ResourceUtils.initialize(this)\n    }\n}\n</code></pre>\n<p>Now, you can use ResourceUtils.getString() to access string resources without a context:</p>\n<pre><code>val appName = ResourceUtils.getString(R.string.app_name)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16616063,"reputation":119,"user_id":12068835,"display_name":"Roel Leal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700233463,"creation_date":1700233463,"answer_id":77502639,"question_id":4253328,"body_markdown":"I resolve this problem with this code\r\n\r\n    holder.btnAddFriend.setOnClickListener(v -&gt; {\r\n            // Obtener el nombre del usuario del elemento actual\r\n\r\n            String username = user.getUsername();\r\n            String id = v.getContext().getResources().getString(R.string.idusd);\r\n     }","title":"getString Outside of a Context or Activity","body":"<p>I resolve this problem with this code</p>\n<pre><code>holder.btnAddFriend.setOnClickListener(v -&gt; {\n        // Obtener el nombre del usuario del elemento actual\n\n        String username = user.getUsername();\n        String id = v.getContext().getResources().getString(R.string.idusd);\n }\n</code></pre>\n"}],"owner":{"account_id":73192,"reputation":9190,"user_id":210920,"accept_rate":86,"display_name":"SapphireSun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226492,"favorite_count":0,"down_vote_count":0,"up_vote_count":332,"accepted_answer_id":8765766,"answer_count":18,"score":332,"last_activity_date":1700233463,"creation_date":1290493398,"question_id":4253328,"body_markdown":"I&#39;ve found the `R.string` pretty awesome for keeping hardcoded strings out of my code, and I&#39;d like to keep using it in a utility class that works with models in my application to generate output. For instance, in this case I am generating an email from a model outside of the activity. \r\n\r\n**Is it possible to use `getString` outside a `Context` or `Activity`**? I suppose I could pass in the current activity, but it seems unnecessary. Please correct me if I&#39;m wrong!\r\n\r\nEdit: Can we access the resources *without* using `Context`?","title":"getString Outside of a Context or Activity","body":"<p>I've found the <code>R.string</code> pretty awesome for keeping hardcoded strings out of my code, and I'd like to keep using it in a utility class that works with models in my application to generate output. For instance, in this case I am generating an email from a model outside of the activity. </p>\n\n<p><strong>Is it possible to use <code>getString</code> outside a <code>Context</code> or <code>Activity</code></strong>? I suppose I could pass in the current activity, but it seems unnecessary. Please correct me if I'm wrong!</p>\n\n<p>Edit: Can we access the resources <em>without</em> using <code>Context</code>?</p>\n"},{"tags":["java","spring","sockets","resttemplate"],"comments":[{"owner":{"account_id":3711378,"reputation":8168,"user_id":3088642,"accept_rate":91,"display_name":"Gremash"},"score":1,"creation_date":1519339678,"post_id":48107615,"comment_id":84883894,"body_markdown":"Any luck? I am having the same issue and can&#39;t find an answer anywhere.","body":"Any luck? I am having the same issue and can&#39;t find an answer anywhere."},{"owner":{"account_id":9750526,"reputation":155,"user_id":7228927,"display_name":"frpet"},"score":1,"creation_date":1520356371,"post_id":48107615,"comment_id":85277750,"body_markdown":"@Gremash apologies for the delay. No luck so far.","body":"@Gremash apologies for the delay. No luck so far."}],"answers":[{"tags":[],"owner":{"account_id":15399503,"reputation":1,"user_id":11109497,"display_name":"Rajesh Kamineni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551017546,"creation_date":1551017546,"answer_id":54852735,"question_id":48107615,"body_markdown":" we are having similar intermittent issues - we moved out of RestTemplate and using HttpUrlConnection. ","title":"Spring RestTemplate SocketException Connection reset on quick consecutive executions","body":"<p>we are having similar intermittent issues - we moved out of RestTemplate and using HttpUrlConnection. </p>\n"}],"owner":{"account_id":9750526,"reputation":155,"user_id":7228927,"display_name":"frpet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8574,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1700233450,"creation_date":1515129625,"question_id":48107615,"body_markdown":"### Setup ###\nSimple server and client applications running locally. Server endpoint receives a POST request with a sleep time to simulate work. Client is a SpringBoot app using `RestTemplate` for HTTP calls. Simulating a 500ms delay at the server per request and issuing 700 multi-threaded requests.\n\n### Problem ###\nOn **quick consecutive executions of the client program**, I get `java.net.SocketException: Connection reset`. Stack trace:\n\n    org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/server/site&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\n\n    java.util.concurrent.ExecutionException: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/server/site&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_74]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_74]\n    at com.sample.client.rest.RestClient.invokeServer(RestClient.java:75) ~[classes/:na]\n    at com.sample.client.SampleClientApplication.main(SampleClientApplication.java:13) [classes/:na]\n    \n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/server/site&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:673) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:620) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:414) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at com.sample.client.rest.RestClient.lambda$invokeServer$0(RestClient.java:68) ~[classes/:na]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_74]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_74]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_74]\n    at java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_74]\n    \n    Caused by: java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(SocketInputStream.java:209) ~[na:1.8.0_74]\n    at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_74]\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.8.jar:4.4.8]\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.8.jar:4.4.8]\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.8.jar:4.4.8]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.8.jar:4.4.8]\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.8.jar:4.4.8]\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.8.jar:4.4.8]\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.8.jar:4.4.8]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.3.jar:4.5.3]\n    at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:89) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:659) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n\n**If client is not executed in quick succession, no errors.**\n\n### Debugging / Analysis ###\n\n - Analyzed Wireshark captures. Server is sending RST packets\n - Not closing the `PoolingHttpClientConnectionManager` and `CloseableHttpClient`? Added `@PreDestroy` shutdown method for graceful shutdown. No luck.\n - Port exhaustion? Configured for only 200 simultaneous connections. \n\nThe Spring `RestTemplate` configuration \n\n    @Configuration\n    public class Config {\n\n    private static final int CONNECT_TIMEOUT = 5000;\n\n    private static final int CONNECTION_MANAGER_CONNECTION_REQUEST_TIMEOUT = 0;\n\n    private static final int SOCKET_TIMEOUT = 5000;\n\n    private static final int MAX_TOTAL = 200;\n\n    private static final int MAX_PER_ROUTE = 200;\n\n\n    @Bean\n    public PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() {\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(MAX_TOTAL);\n        connectionManager.setDefaultMaxPerRoute(MAX_PER_ROUTE);\n        connectionManager.setValidateAfterInactivity(CONNECT_TIMEOUT);\n        return connectionManager;\n    }\n\n    @Bean\n    public RequestConfig requestConfig() {\n        RequestConfig result = RequestConfig.custom()\n                .setConnectionRequestTimeout(CONNECTION_MANAGER_CONNECTION_REQUEST_TIMEOUT)\n                .setConnectTimeout(CONNECT_TIMEOUT)\n                .setSocketTimeout(SOCKET_TIMEOUT)\n                .build();\n        return result;\n    }\n\n    @Bean\n    public CloseableHttpClient httpClient(PoolingHttpClientConnectionManager poolingHttpClientConnectionManager, RequestConfig requestConfig) {\n        CloseableHttpClient result = HttpClientBuilder\n                .create()\n                .setConnectionManager(poolingHttpClientConnectionManager)\n                .setDefaultRequestConfig(requestConfig)\n                .build();\n        return result;\n    }\n\n    @Bean\n    public RestTemplate restTemplate() {\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setHttpClient(httpClient(poolingHttpClientConnectionManager(), requestConfig()));\n\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.setRequestFactory(factory);\n        return restTemplate;\n    }\n}\n\nThe naive client program:\n\n    public void invokeServer(long sleepTime, int concurrentThreads) {\n\n        Site site = new Site();\n        site.setMerchantId(&quot;MERC&quot;);\n        site.setSiteId(&quot;SITE 100&quot;);\n        CreateSiteRequest request = new CreateSiteRequest();\n        request.setSite(site);\n        request.setSleepTime(sleepTime);\n\n        ResponseEntity&lt;Site&gt; response = null;\n        if (concurrentThreads &gt; 1) {\n\n            ExecutorService executor = Executors.newFixedThreadPool(concurrentThreads);\n            Future&lt;ResponseEntity&lt;Site&gt;&gt;[] futures = new Future[concurrentThreads];\n            Callable&lt;ResponseEntity&lt;Site&gt;&gt; callable;\n\n            for (int i = 1; i &lt;= concurrentThreads; i++) {\n\n                callable = () -&gt; restTemplate.postForEntity(SAMPLE_SERVER_URL + &quot;site&quot;, request, Site.class);\n\n                futures[i - 1] = executor.submit(callable);\n            }\n\n            for (int i = 0; i &lt; futures.length; i++) {\n                try {\n                    response = futures[i].get();\n                } catch (Exception e) {\n                    log.error(&quot;Thread &quot; + i + &quot; &quot; + e.getMessage(), e);\n                }\n            }\n        }\n    }\n\n    @PreDestroy\n    private void shutdown() throws IOException {\n        client.close();\n        connectionManager.close();\n    }\n\n\nAppreciate any input. Thanks.","title":"Spring RestTemplate SocketException Connection reset on quick consecutive executions","body":"<h3>Setup</h3>\n<p>Simple server and client applications running locally. Server endpoint receives a POST request with a sleep time to simulate work. Client is a SpringBoot app using <code>RestTemplate</code> for HTTP calls. Simulating a 500ms delay at the server per request and issuing 700 multi-threaded requests.</p>\n<h3>Problem</h3>\n<p>On <strong>quick consecutive executions of the client program</strong>, I get <code>java.net.SocketException: Connection reset</code>. Stack trace:</p>\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/server/site&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\n\njava.util.concurrent.ExecutionException: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/server/site&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\nat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_74]\nat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_74]\nat com.sample.client.rest.RestClient.invokeServer(RestClient.java:75) ~[classes/:na]\nat com.sample.client.SampleClientApplication.main(SampleClientApplication.java:13) [classes/:na]\n\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/server/site&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:673) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:620) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:414) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat com.sample.client.rest.RestClient.lambda$invokeServer$0(RestClient.java:68) ~[classes/:na]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_74]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_74]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_74]\nat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_74]\n\nCaused by: java.net.SocketException: Connection reset\nat java.net.SocketInputStream.read(SocketInputStream.java:209) ~[na:1.8.0_74]\nat java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_74]\nat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.8.jar:4.4.8]\nat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.8.jar:4.4.8]\nat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.8.jar:4.4.8]\nat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.8.jar:4.4.8]\nat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.8.jar:4.4.8]\nat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.8.jar:4.4.8]\nat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.8.jar:4.4.8]\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.3.jar:4.5.3]\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.3.jar:4.5.3]\nat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:89) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:659) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n</code></pre>\n<p><strong>If client is not executed in quick succession, no errors.</strong></p>\n<h3>Debugging / Analysis</h3>\n<ul>\n<li>Analyzed Wireshark captures. Server is sending RST packets</li>\n<li>Not closing the <code>PoolingHttpClientConnectionManager</code> and <code>CloseableHttpClient</code>? Added <code>@PreDestroy</code> shutdown method for graceful shutdown. No luck.</li>\n<li>Port exhaustion? Configured for only 200 simultaneous connections.</li>\n</ul>\n<p>The Spring <code>RestTemplate</code> configuration</p>\n<pre><code>@Configuration\npublic class Config {\n\nprivate static final int CONNECT_TIMEOUT = 5000;\n\nprivate static final int CONNECTION_MANAGER_CONNECTION_REQUEST_TIMEOUT = 0;\n\nprivate static final int SOCKET_TIMEOUT = 5000;\n\nprivate static final int MAX_TOTAL = 200;\n\nprivate static final int MAX_PER_ROUTE = 200;\n\n\n@Bean\npublic PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() {\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setMaxTotal(MAX_TOTAL);\n    connectionManager.setDefaultMaxPerRoute(MAX_PER_ROUTE);\n    connectionManager.setValidateAfterInactivity(CONNECT_TIMEOUT);\n    return connectionManager;\n}\n\n@Bean\npublic RequestConfig requestConfig() {\n    RequestConfig result = RequestConfig.custom()\n            .setConnectionRequestTimeout(CONNECTION_MANAGER_CONNECTION_REQUEST_TIMEOUT)\n            .setConnectTimeout(CONNECT_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n    return result;\n}\n\n@Bean\npublic CloseableHttpClient httpClient(PoolingHttpClientConnectionManager poolingHttpClientConnectionManager, RequestConfig requestConfig) {\n    CloseableHttpClient result = HttpClientBuilder\n            .create()\n            .setConnectionManager(poolingHttpClientConnectionManager)\n            .setDefaultRequestConfig(requestConfig)\n            .build();\n    return result;\n}\n\n@Bean\npublic RestTemplate restTemplate() {\n    HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n    factory.setHttpClient(httpClient(poolingHttpClientConnectionManager(), requestConfig()));\n\n    RestTemplate restTemplate = new RestTemplate();\n    restTemplate.setRequestFactory(factory);\n    return restTemplate;\n}\n</code></pre>\n<p>}</p>\n<p>The naive client program:</p>\n<pre><code>public void invokeServer(long sleepTime, int concurrentThreads) {\n\n    Site site = new Site();\n    site.setMerchantId(&quot;MERC&quot;);\n    site.setSiteId(&quot;SITE 100&quot;);\n    CreateSiteRequest request = new CreateSiteRequest();\n    request.setSite(site);\n    request.setSleepTime(sleepTime);\n\n    ResponseEntity&lt;Site&gt; response = null;\n    if (concurrentThreads &gt; 1) {\n\n        ExecutorService executor = Executors.newFixedThreadPool(concurrentThreads);\n        Future&lt;ResponseEntity&lt;Site&gt;&gt;[] futures = new Future[concurrentThreads];\n        Callable&lt;ResponseEntity&lt;Site&gt;&gt; callable;\n\n        for (int i = 1; i &lt;= concurrentThreads; i++) {\n\n            callable = () -&gt; restTemplate.postForEntity(SAMPLE_SERVER_URL + &quot;site&quot;, request, Site.class);\n\n            futures[i - 1] = executor.submit(callable);\n        }\n\n        for (int i = 0; i &lt; futures.length; i++) {\n            try {\n                response = futures[i].get();\n            } catch (Exception e) {\n                log.error(&quot;Thread &quot; + i + &quot; &quot; + e.getMessage(), e);\n            }\n        }\n    }\n}\n\n@PreDestroy\nprivate void shutdown() throws IOException {\n    client.close();\n    connectionManager.close();\n}\n</code></pre>\n<p>Appreciate any input. Thanks.</p>\n"},{"tags":["java","swing","encryption","read-write"],"answers":[{"tags":[],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394585748,"creation_date":1394585748,"answer_id":22339860,"question_id":22339123,"body_markdown":"to keep your data encrypted in a file, you can use CipherIn/OutputStream, just like this\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// got this example from http://www.java2s.com/Tutorial/Java/0490__Security/UsingCipherInputStream.htm\r\n\t\twrite();\r\n\t\tread();\r\n\t}\r\n\r\n\tpublic static void write() throws Exception {\r\n\t\tKeyGenerator kg = KeyGenerator.getInstance(&quot;DES&quot;);\r\n\t\tkg.init(new SecureRandom());\r\n\t\tSecretKey key = kg.generateKey();\r\n\t\tSecretKeyFactory skf = SecretKeyFactory.getInstance(&quot;DES&quot;);\r\n\t\tClass spec = Class.forName(&quot;javax.crypto.spec.DESKeySpec&quot;);\r\n\t\tDESKeySpec ks = (DESKeySpec) skf.getKeySpec(key, spec);\r\n\t\tObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;keyfile&quot;));\r\n\t\toos.writeObject(ks.getKey());\r\n\r\n\t\tCipher c = Cipher.getInstance(&quot;DES/CFB8/NoPadding&quot;);\r\n\t\tc.init(Cipher.ENCRYPT_MODE, key);\r\n\t\tCipherOutputStream cos = new CipherOutputStream(new FileOutputStream(&quot;ciphertext&quot;), c);\r\n\t\tPrintWriter pw = new PrintWriter(new OutputStreamWriter(cos));\r\n\t\tpw.println(&quot;Stand and unfold yourself&quot;);\r\n\t\tpw.flush();\r\n\t\tpw.close();\r\n\t\toos.writeObject(c.getIV());\r\n\t\toos.close();\r\n\t}\r\n\r\n\tpublic static void read() throws Exception {\r\n\t\tObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;keyfile&quot;));\r\n\t\tDESKeySpec ks = new DESKeySpec((byte[]) ois.readObject());\r\n\t\tSecretKeyFactory skf = SecretKeyFactory.getInstance(&quot;DES&quot;);\r\n\t\tSecretKey key = skf.generateSecret(ks);\r\n\r\n\t\tCipher c = Cipher.getInstance(&quot;DES/CFB8/NoPadding&quot;);\r\n\t\tc.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec((byte[]) ois.readObject()));\r\n\t\tCipherInputStream cis = new CipherInputStream(new FileInputStream(&quot;ciphertext&quot;), c);\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(cis));\r\n\t\tSystem.out.println(br.readLine());\r\n\t}\r\n","title":"Adding highscores to java game - From console to JPanel - Saving highscore in encrypted text file","body":"<p>to keep your data encrypted in a file, you can use CipherIn/OutputStream, just like this</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    // got this example from http://www.java2s.com/Tutorial/Java/0490__Security/UsingCipherInputStream.htm\n    write();\n    read();\n}\n\npublic static void write() throws Exception {\n    KeyGenerator kg = KeyGenerator.getInstance(\"DES\");\n    kg.init(new SecureRandom());\n    SecretKey key = kg.generateKey();\n    SecretKeyFactory skf = SecretKeyFactory.getInstance(\"DES\");\n    Class spec = Class.forName(\"javax.crypto.spec.DESKeySpec\");\n    DESKeySpec ks = (DESKeySpec) skf.getKeySpec(key, spec);\n    ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(\"keyfile\"));\n    oos.writeObject(ks.getKey());\n\n    Cipher c = Cipher.getInstance(\"DES/CFB8/NoPadding\");\n    c.init(Cipher.ENCRYPT_MODE, key);\n    CipherOutputStream cos = new CipherOutputStream(new FileOutputStream(\"ciphertext\"), c);\n    PrintWriter pw = new PrintWriter(new OutputStreamWriter(cos));\n    pw.println(\"Stand and unfold yourself\");\n    pw.flush();\n    pw.close();\n    oos.writeObject(c.getIV());\n    oos.close();\n}\n\npublic static void read() throws Exception {\n    ObjectInputStream ois = new ObjectInputStream(new FileInputStream(\"keyfile\"));\n    DESKeySpec ks = new DESKeySpec((byte[]) ois.readObject());\n    SecretKeyFactory skf = SecretKeyFactory.getInstance(\"DES\");\n    SecretKey key = skf.generateSecret(ks);\n\n    Cipher c = Cipher.getInstance(\"DES/CFB8/NoPadding\");\n    c.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec((byte[]) ois.readObject()));\n    CipherInputStream cis = new CipherInputStream(new FileInputStream(\"ciphertext\"), c);\n    BufferedReader br = new BufferedReader(new InputStreamReader(cis));\n    System.out.println(br.readLine());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572097238,"creation_date":1572097238,"answer_id":58571298,"question_id":22339123,"body_markdown":"Basically you asked two questions and Leo [answered][1] your second question.\r\n\r\nYour first question is...\r\n\r\n&gt;what I need is that ...[the high scores]... gets outputted on a `JPanel` next to my maze\r\n\r\nYou didn&#39;t post any GUI code, but a subclass of [JTextComponent][2] would be more appropriate than a `JPanel`. Simply add a component, for example `JTextArea` and call its `setText()` method with your _high score string_ as the method argument.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22339123/adding-highscores-to-java-game-from-console-to-jpanel-saving-highscore-in-en/22339860#22339860\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/swing/text/JTextComponent.html","title":"Adding highscores to java game - From console to JPanel - Saving highscore in encrypted text file","body":"<p>Basically you asked two questions and Leo <a href=\"https://stackoverflow.com/questions/22339123/adding-highscores-to-java-game-from-console-to-jpanel-saving-highscore-in-en/22339860#22339860\">answered</a> your second question.</p>\n\n<p>Your first question is...</p>\n\n<blockquote>\n  <p>what I need is that ...[the high scores]... gets outputted on a <code>JPanel</code> next to my maze</p>\n</blockquote>\n\n<p>You didn't post any GUI code, but a subclass of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/JTextComponent.html\" rel=\"nofollow noreferrer\">JTextComponent</a> would be more appropriate than a <code>JPanel</code>. Simply add a component, for example <code>JTextArea</code> and call its <code>setText()</code> method with your <em>high score string</em> as the method argument.</p>\n"}],"owner":{"account_id":4157399,"reputation":141,"user_id":3408309,"display_name":"Aventis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700233450,"creation_date":1394581657,"question_id":22339123,"body_markdown":"I am new to Java, and learning new things everyday. English is not my mother language, I&#39;m sorry.\r\nSo, I&#39;m making a maze game in Java to learn while writing code.\r\nFor my maze game, the player needs to get to the exit of the maze asap. And the time he has, needs to be saved in an encrypted text file. \r\nSo I&#39;ve got a package Highscores combining several classes. The code works more or less, it outputs in the console. Now what I need is that that output gets outputted on a JPanel next to my maze. I&#39;ve added some extra info in the code\r\nHere is my highscore class:\r\n \r\n        public class Highscore {\r\n    // An arraylist of the type &quot;score&quot; we will use to work with the scores inside the class\r\n    private ArrayList&lt;Score&gt; scores;\r\n\r\n    // The name of the file where the highscores will be saved\r\n    private static final String highscorefile = &quot;Resources/scores.dat&quot;;\r\n\r\n    //Initialising an in and outputStream for working with the file\r\n    ObjectOutputStream output = null;\r\n    ObjectInputStream input = null;\r\n\r\n    public Highscore() {\r\n        //initialising the scores-arraylist\r\n        scores = new ArrayList&lt;Score&gt;();\r\n    }\r\n    public ArrayList&lt;Score&gt; getScores() {\r\n        loadScoreFile();\r\n        sort();\r\n        return scores;\r\n    }\r\n    private void sort() {\r\n        ScoreVergelijken comparator = new ScoreVergelijken();\r\n        Collections.sort(scores, comparator);\r\n    }\r\n    public void addScore(String name, int score) {\r\n        loadScoreFile();\r\n        scores.add(new Score(name, score));\r\n        updateScoreFile();\r\n    }\r\n    public void loadScoreFile() {\r\n        try {\r\n            input = new ObjectInputStream(new FileInputStream(highscorefile));\r\n            scores = (ArrayList&lt;Score&gt;) input.readObject();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;[Laad] FNF Error: &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;[Laad] IO Error: &quot; + e.getMessage());\r\n        } catch (ClassNotFoundException e) {\r\n            System.out.println(&quot;[Laad] CNF Error: &quot; + e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (output != null) {\r\n                    output.flush();\r\n                    output.close();\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;[Laad] IO Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    public void updateScoreFile() {\r\n        try {\r\n            output = new ObjectOutputStream(new FileOutputStream(highscorefile));\r\n            output.writeObject(scores);\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;[Update] FNF Error: &quot; + e.getMessage() + &quot;,the program will try and make a new file&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;[Update] IO Error: &quot; + e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (output != null) {\r\n                    output.flush();\r\n                    output.close();\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;[Update] Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    public String getHighscoreString() {\r\n        String highscoreString = &quot;&quot;;\r\n           int max = 10;\r\n\r\n        ArrayList&lt;Score&gt; scores;\r\n        scores = getScores();\r\n\r\n        int i = 0;\r\n        int x = scores.size();\r\n        if (x &gt; max) {\r\n            x = max;\r\n        }\r\n        while (i &lt; x) {\r\n            highscoreString += (i + 1) + &quot;.\\t&quot; + scores.get(i).getNaam() + &quot;\\t\\t&quot; + scores.get(i).getScore() + &quot;\\n&quot;;\r\n            i++;\r\n        }\r\n        return highscoreString;\r\n    }\r\n}\r\n\r\nHere is my Main class:    \r\n\r\n        public class Main {\r\n        public static void main(String[] args) {\r\n        Highscore hm = new Highscore();\r\n        hm.addScore(&quot;Bart&quot;,240);\r\n        hm.addScore(&quot;Marge&quot;,300);\r\n        hm.addScore(&quot;Maggie&quot;,220);\r\n        hm.addScore(&quot;Homer&quot;,100);\r\n        hm.addScore(&quot;Lisa&quot;,270);\r\n        hm.addScore(LabyrinthProject.View.MainMenu.username,290);\r\n\r\n        System.out.print(hm.getHighscoreString());\r\n    } }\r\n\r\nScore class :\r\n    \r\n    public class Score  implements Serializable {\r\n    private int score;\r\n    private String naam;\r\n\r\n    public Score() {\r\n        \r\n    }\r\n\r\n    public int getScore() {\r\n        return score;\r\n    }\r\n\r\n    public String getNaam() {\r\n        return naam;\r\n    }\r\n\r\n    public Score(String naam, int score) {\r\n        this.score = score;\r\n        this.naam = naam;\r\n    }\r\n}\r\n\r\nScoreVergelijken class (which means CompareScore)\r\n       \r\n    public class ScoreVergelijken implements Comparator&lt;Score&gt; {\r\n    public int compare(Score score1, Score score2) {\r\n\r\n        int sc1 = score1.getScore();\r\n        int sc2 = score2.getScore();\r\n\r\n        if (sc1 &gt; sc2){\r\n            return -1;                   // -1 means first score is bigger then second score\r\n        }else if (sc1 &lt; sc2){\r\n            return +1;                   // +1 means that score is lower\r\n        }else{\r\n            return 0;                     // 0 means score is equal\r\n        }\r\n    }  } \r\n\r\nIf anyone could explain to me what to use, it would be greatly appreciated! Thank you very much!\r\n\r\nAlso, how to use those highscores and store them encrypted in a text file. How can I achieve that?\r\n\r\nSincerely, A beginner java student.","title":"Adding highscores to java game - From console to JPanel - Saving highscore in encrypted text file","body":"<p>I am new to Java, and learning new things everyday. English is not my mother language, I'm sorry.\nSo, I'm making a maze game in Java to learn while writing code.\nFor my maze game, the player needs to get to the exit of the maze asap. And the time he has, needs to be saved in an encrypted text file. \nSo I've got a package Highscores combining several classes. The code works more or less, it outputs in the console. Now what I need is that that output gets outputted on a JPanel next to my maze. I've added some extra info in the code\nHere is my highscore class:</p>\n\n<pre><code>    public class Highscore {\n// An arraylist of the type \"score\" we will use to work with the scores inside the class\nprivate ArrayList&lt;Score&gt; scores;\n\n// The name of the file where the highscores will be saved\nprivate static final String highscorefile = \"Resources/scores.dat\";\n\n//Initialising an in and outputStream for working with the file\nObjectOutputStream output = null;\nObjectInputStream input = null;\n\npublic Highscore() {\n    //initialising the scores-arraylist\n    scores = new ArrayList&lt;Score&gt;();\n}\npublic ArrayList&lt;Score&gt; getScores() {\n    loadScoreFile();\n    sort();\n    return scores;\n}\nprivate void sort() {\n    ScoreVergelijken comparator = new ScoreVergelijken();\n    Collections.sort(scores, comparator);\n}\npublic void addScore(String name, int score) {\n    loadScoreFile();\n    scores.add(new Score(name, score));\n    updateScoreFile();\n}\npublic void loadScoreFile() {\n    try {\n        input = new ObjectInputStream(new FileInputStream(highscorefile));\n        scores = (ArrayList&lt;Score&gt;) input.readObject();\n    } catch (FileNotFoundException e) {\n        System.out.println(\"[Laad] FNF Error: \" + e.getMessage());\n    } catch (IOException e) {\n        System.out.println(\"[Laad] IO Error: \" + e.getMessage());\n    } catch (ClassNotFoundException e) {\n        System.out.println(\"[Laad] CNF Error: \" + e.getMessage());\n    } finally {\n        try {\n            if (output != null) {\n                output.flush();\n                output.close();\n            }\n        } catch (IOException e) {\n            System.out.println(\"[Laad] IO Error: \" + e.getMessage());\n        }\n    }\n}\npublic void updateScoreFile() {\n    try {\n        output = new ObjectOutputStream(new FileOutputStream(highscorefile));\n        output.writeObject(scores);\n    } catch (FileNotFoundException e) {\n        System.out.println(\"[Update] FNF Error: \" + e.getMessage() + \",the program will try and make a new file\");\n    } catch (IOException e) {\n        System.out.println(\"[Update] IO Error: \" + e.getMessage());\n    } finally {\n        try {\n            if (output != null) {\n                output.flush();\n                output.close();\n            }\n        } catch (IOException e) {\n            System.out.println(\"[Update] Error: \" + e.getMessage());\n        }\n    }\n}\npublic String getHighscoreString() {\n    String highscoreString = \"\";\n       int max = 10;\n\n    ArrayList&lt;Score&gt; scores;\n    scores = getScores();\n\n    int i = 0;\n    int x = scores.size();\n    if (x &gt; max) {\n        x = max;\n    }\n    while (i &lt; x) {\n        highscoreString += (i + 1) + \".\\t\" + scores.get(i).getNaam() + \"\\t\\t\" + scores.get(i).getScore() + \"\\n\";\n        i++;\n    }\n    return highscoreString;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is my Main class:    </p>\n\n<pre><code>    public class Main {\n    public static void main(String[] args) {\n    Highscore hm = new Highscore();\n    hm.addScore(\"Bart\",240);\n    hm.addScore(\"Marge\",300);\n    hm.addScore(\"Maggie\",220);\n    hm.addScore(\"Homer\",100);\n    hm.addScore(\"Lisa\",270);\n    hm.addScore(LabyrinthProject.View.MainMenu.username,290);\n\n    System.out.print(hm.getHighscoreString());\n} }\n</code></pre>\n\n<p>Score class :</p>\n\n<pre><code>public class Score  implements Serializable {\nprivate int score;\nprivate String naam;\n\npublic Score() {\n\n}\n\npublic int getScore() {\n    return score;\n}\n\npublic String getNaam() {\n    return naam;\n}\n\npublic Score(String naam, int score) {\n    this.score = score;\n    this.naam = naam;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>ScoreVergelijken class (which means CompareScore)</p>\n\n<pre><code>public class ScoreVergelijken implements Comparator&lt;Score&gt; {\npublic int compare(Score score1, Score score2) {\n\n    int sc1 = score1.getScore();\n    int sc2 = score2.getScore();\n\n    if (sc1 &gt; sc2){\n        return -1;                   // -1 means first score is bigger then second score\n    }else if (sc1 &lt; sc2){\n        return +1;                   // +1 means that score is lower\n    }else{\n        return 0;                     // 0 means score is equal\n    }\n}  } \n</code></pre>\n\n<p>If anyone could explain to me what to use, it would be greatly appreciated! Thank you very much!</p>\n\n<p>Also, how to use those highscores and store them encrypted in a text file. How can I achieve that?</p>\n\n<p>Sincerely, A beginner java student.</p>\n"},{"tags":["java","scala","opencv","intellij-idea","unsatisfiedlinkerror"],"comments":[{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":1,"creation_date":1700395912,"post_id":77499853,"comment_id":136646926,"body_markdown":"Why do you use `System.load(&quot;/home/build/bin/opencv-480.jar&quot;)`? You should either add sbt dependency or add the lib to lib directory in the project folder, https://stackoverflow.com/questions/7733028/sbt-how-can-i-add-a-local-filesystem-jar-to-my-project","body":"Why do you use <code>System.load(&quot;&#47;home&#47;build&#47;bin&#47;opencv-480.jar&quot;)</code>? You should either add sbt dependency or add the lib to lib directory in the project folder, <a href=\"https://stackoverflow.com/questions/7733028/sbt-how-can-i-add-a-local-filesystem-jar-to-my-project\" title=\"sbt how can i add a local filesystem jar to my project\">stackoverflow.com/questions/7733028/&hellip;</a>"},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":1,"creation_date":1700653206,"post_id":77499853,"comment_id":136680432,"body_markdown":"You may take a look at this file: https://github.com/bytedeco/javacv-examples/blob/master/OpenCV_Cookbook/build.sbt\n\nThe exception is not about Java, but they can&#39;t find some native libraries (written in C/C++) like opencv_java470.so, etc, it will put them under the OS&#39;s PATH env. You should let SBT install the whole dependencies.","body":"You may take a look at this file: <a href=\"https://github.com/bytedeco/javacv-examples/blob/master/OpenCV_Cookbook/build.sbt\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacv-examples/blob/master/OpenCV_Cookb&zwnj;&#8203;ook/&hellip;</a>  The exception is not about Java, but they can&#39;t find some native libraries (written in C/C++) like opencv_java470.so, etc, it will put them under the OS&#39;s PATH env. You should let SBT install the whole dependencies."}],"owner":{"account_id":20357653,"reputation":201,"user_id":14932803,"display_name":"Asif khAn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700233080,"creation_date":1700204813,"question_id":77499853,"body_markdown":"I&#39;m new to **openCV**, I want to use openCV in **Intellij IDEA (Scala)** to detect image blurriness.\r\n\r\nI&#39;m using library dependency **openpnp-opencv**\r\n\r\nHere is versions detail.\r\n\r\nUbuntu version **22.04.3 LTS**\r\n\r\nscala version **12.13.1**\r\n\r\nsbt version **1.9.6**\r\n\r\nhere is my **build.sbt**\r\n\r\n    ThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\r\n    ThisBuild / scalaVersion := &quot;2.13.4&quot;\r\n    lazy val root = (project in file(&quot;.&quot;))\r\n      .settings(\r\n        name := &quot;FaceRecognitionAndComparison&quot;\r\n      )\r\n    libraryDependencies ++= Seq(&quot;org.openpnp&quot; % &quot;opencv&quot; % &quot;4.5.1-1&quot;)\r\n\r\n\r\nhere is my **FaceRecognition.scala**\r\n\r\n    import org.opencv.core.{Core, CvType, Mat, MatOfDouble}\r\n    import org.opencv.imgcodecs.Imgcodecs\r\n    import org.opencv.imgproc.Imgproc\r\n    \r\n    object FaceRecognition extends App {\r\n    \r\n      def isImageBlurry(imagePath: String): Boolean = {\r\n        val image: Mat = Imgcodecs.imread(imagePath)\r\n    \r\n        val grayImage: Mat = new Mat()\r\n        Imgproc.cvtColor(image, grayImage, Imgproc.COLOR_BGR2GRAY)\r\n    \r\n        val laplacian: Mat = new Mat()\r\n        Imgproc.Laplacian(grayImage, laplacian, CvType.CV_64F)\r\n    \r\n        println(laplacian)\r\n    \r\n        val meanStdDevResult: MatOfDouble = new MatOfDouble()\r\n    \r\n        val stdDev: Double = meanStdDevResult.toArray()(1)\r\n    \r\n        val threshold: Double = 100.0\r\n    \r\n        stdDev &lt; threshold\r\n      }\r\n    \r\n      System.loadLibrary(Core.NATIVE_LIBRARY_NAME)\r\n    \r\n      val imagePath = &quot;/home/Pictures/Screenshots/Screenshot.png&quot;\r\n    \r\n      if (isImageBlurry(imagePath)) {\r\n        println(&quot;The image is blurry.&quot;)\r\n      } else {\r\n        println(&quot;The image is not blurry.&quot;)\r\n      }\r\n    }\r\n\r\nBuild unfortunately got an error \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: org.opencv.imgcodecs.Imgcodecs.imread_1(Ljava/lang/String;)J\r\n    \tat org.opencv.imgcodecs.Imgcodecs.imread_1(Native Method)\r\n    \tat org.opencv.imgcodecs.Imgcodecs.imread(Imgcodecs.java:320)\r\n    \tat FaceRecognition$.isImageBlurry(FaceRecognition.scala:65)\r\n\r\n\r\nwhat I have tried is to **download and install openCV** from it&#39;s official website which is https://docs.opencv.org/4.x/d7/d9f/tutorial_linux_install.html.\r\n\r\nAfter that I added following lines in my code to load **jar** file `System.load(&quot;/home/build/bin/opencv-480.jar&quot;)` **but this didn&#39;t resolve my issue**.\r\n\r\nThen I added jar file in project module (**file -&gt; Project Structure -&gt; Modules -&gt; Click on plus -&gt; add opencv-480.jar -&gt; apply -&gt; OK**), this time I got an error which is \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java470 in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2662)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:827)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1871)\r\n    \tat FaceRecognition$.delayedEndpoint$FaceRecognition$1(FaceRecognition.scala:83)\r\n\r\n\r\nGuide me how can I resolve this error and implement openCV in (Intellij IDEA) scala.","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: org.opencv.imgcodecs.Imgcodecs.imread_1(Ljava/lang/String;)J","body":"<p>I'm new to <strong>openCV</strong>, I want to use openCV in <strong>Intellij IDEA (Scala)</strong> to detect image blurriness.</p>\n<p>I'm using library dependency <strong>openpnp-opencv</strong></p>\n<p>Here is versions detail.</p>\n<p>Ubuntu version <strong>22.04.3 LTS</strong></p>\n<p>scala version <strong>12.13.1</strong></p>\n<p>sbt version <strong>1.9.6</strong></p>\n<p>here is my <strong>build.sbt</strong></p>\n<pre><code>ThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\nThisBuild / scalaVersion := &quot;2.13.4&quot;\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(\n    name := &quot;FaceRecognitionAndComparison&quot;\n  )\nlibraryDependencies ++= Seq(&quot;org.openpnp&quot; % &quot;opencv&quot; % &quot;4.5.1-1&quot;)\n</code></pre>\n<p>here is my <strong>FaceRecognition.scala</strong></p>\n<pre><code>import org.opencv.core.{Core, CvType, Mat, MatOfDouble}\nimport org.opencv.imgcodecs.Imgcodecs\nimport org.opencv.imgproc.Imgproc\n\nobject FaceRecognition extends App {\n\n  def isImageBlurry(imagePath: String): Boolean = {\n    val image: Mat = Imgcodecs.imread(imagePath)\n\n    val grayImage: Mat = new Mat()\n    Imgproc.cvtColor(image, grayImage, Imgproc.COLOR_BGR2GRAY)\n\n    val laplacian: Mat = new Mat()\n    Imgproc.Laplacian(grayImage, laplacian, CvType.CV_64F)\n\n    println(laplacian)\n\n    val meanStdDevResult: MatOfDouble = new MatOfDouble()\n\n    val stdDev: Double = meanStdDevResult.toArray()(1)\n\n    val threshold: Double = 100.0\n\n    stdDev &lt; threshold\n  }\n\n  System.loadLibrary(Core.NATIVE_LIBRARY_NAME)\n\n  val imagePath = &quot;/home/Pictures/Screenshots/Screenshot.png&quot;\n\n  if (isImageBlurry(imagePath)) {\n    println(&quot;The image is blurry.&quot;)\n  } else {\n    println(&quot;The image is not blurry.&quot;)\n  }\n}\n</code></pre>\n<p>Build unfortunately got an error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: org.opencv.imgcodecs.Imgcodecs.imread_1(Ljava/lang/String;)J\n    at org.opencv.imgcodecs.Imgcodecs.imread_1(Native Method)\n    at org.opencv.imgcodecs.Imgcodecs.imread(Imgcodecs.java:320)\n    at FaceRecognition$.isImageBlurry(FaceRecognition.scala:65)\n</code></pre>\n<p>what I have tried is to <strong>download and install openCV</strong> from it's official website which is <a href=\"https://docs.opencv.org/4.x/d7/d9f/tutorial_linux_install.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/d7/d9f/tutorial_linux_install.html</a>.</p>\n<p>After that I added following lines in my code to load <strong>jar</strong> file <code>System.load(&quot;/home/build/bin/opencv-480.jar&quot;)</code> <strong>but this didn't resolve my issue</strong>.</p>\n<p>Then I added jar file in project module (<strong>file -&gt; Project Structure -&gt; Modules -&gt; Click on plus -&gt; add opencv-480.jar -&gt; apply -&gt; OK</strong>), this time I got an error which is</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java470 in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2662)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:827)\n    at java.base/java.lang.System.loadLibrary(System.java:1871)\n    at FaceRecognition$.delayedEndpoint$FaceRecognition$1(FaceRecognition.scala:83)\n</code></pre>\n<p>Guide me how can I resolve this error and implement openCV in (Intellij IDEA) scala.</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":29206824,"reputation":1,"user_id":22375736,"display_name":"awesome technology"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700233423,"answer_count":0,"score":-1,"last_activity_date":1700232812,"creation_date":1700232709,"question_id":77502550,"body_markdown":"    ! Connection reset by peer\r\n\r\nI was trying to create a war file using Gradle from, using Intelij. the error  occured after i had ran gradle clean and gradle build commands. the error occurred after running gradle war to create the war war.file. ","title":"What is the cause of Connection reset by peer error and possible solution?","body":"<pre><code>! Connection reset by peer\n</code></pre>\n<p>I was trying to create a war file using Gradle from, using Intelij. the error  occured after i had ran gradle clean and gradle build commands. the error occurred after running gradle war to create the war war.file.</p>\n"},{"tags":["java","java-stream","predicate","openrewrite"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1672855020,"post_id":75008915,"comment_id":132368732,"body_markdown":"Have you tried using a lambda instead of an anonymous class? I think it should properly resolve `this` from within the lambda.","body":"Have you tried using a lambda instead of an anonymous class? I think it should properly resolve <code>this</code> from within the lambda."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672853127,"creation_date":1672853127,"answer_id":75009065,"question_id":75008915,"body_markdown":"You need to specify the outer class because the sole `this` keyword refers to the implemented anonymous `Predicate` class.\r\n\r\n```java\r\ncomment.printComment(JtestSuppressDelombokVisitor.this.getCursor(), p);\r\n```","title":"Pass the object other than the object on the stream to Predicate","body":"<p>You need to specify the outer class because the sole <code>this</code> keyword refers to the implemented anonymous <code>Predicate</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>comment.printComment(JtestSuppressDelombokVisitor.this.getCursor(), p);\n</code></pre>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700231334,"creation_date":1672852321,"question_id":75008915,"body_markdown":"## Background\r\n\r\nI am writing an OpenRewrite recipe to add some comments to the Java code. To avoid inserting the comment at unnecessary points, I have written the following code (it detects the already existing comment) and it worked properly:\r\n\r\n```java\r\npublic class JtestSuppressDelombokVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\r\n    @Override\r\n    public MethodDeclaration visitMethodDeclaration(MethodDeclaration methodDecl, ExecutionContext context) {\r\n        // (snip)\r\n        Iterator&lt;Comment&gt; it = methodDecl.getPrefix().getComments().iterator();\r\n        boolean alreadyHasSuppressComment = false;\r\n        while (it.hasNext()) {\r\n            Comment comment = it.next();\r\n            PrintOutputCapture&lt;String&gt; p = new PrintOutputCapture&lt;String&gt;(&quot;&quot;);\r\n            comment.printComment(this.getCursor(), p);\r\n            if (p.out.toString().matches(&quot;.*parasoft-begin-suppress\\sALL.*&quot;)) {\r\n                alreadyHasSuppressComment = true;\r\n                break;\r\n            }\r\n        }\r\n        // (snip)\r\n        return methodDecl;\r\n    }\r\n}\r\n```\r\n\r\n## Problem\r\n\r\nI have tried to refactor the code above with the Stream API. The code needs the result of `this.getCursor()` in the process, but I couldn&#39;t find the way to pass it to the instance of `Predicate`:\r\n\r\n```java\r\nboolean alreadyHasSuppressComment = methodDecl.getPrefix().getComments().stream()\r\n        .anyMatch(new Predicate&lt;Comment&gt;() {\r\n            @Override\r\n            public boolean test(Comment comment) {\r\n                PrintOutputCapture&lt;String&gt; p = new PrintOutputCapture&lt;String&gt;(&quot;&quot;);\r\n                comment.printComment(this.getCursor(), p); // &lt;- Can&#39;t call `this.getCursor()` on the `JtestSuppressDelombokVisitor` class in the `Predicate`\r\n                return p.out.toString().matches(&quot;.*parasoft-begin-suppress\\sALL.*&quot;);\r\n            }\r\n        });\r\n```\r\n\r\n\r\n## Question\r\n\r\nIs there any way to pass the object other than the object on the stream from outside to `Predicate`?\r\nOr, it is impossible to write such a code with the Stream API?\r\n","title":"Pass the object other than the object on the stream to Predicate","body":"<h2>Background</h2>\n<p>I am writing an OpenRewrite recipe to add some comments to the Java code. To avoid inserting the comment at unnecessary points, I have written the following code (it detects the already existing comment) and it worked properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JtestSuppressDelombokVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\n    @Override\n    public MethodDeclaration visitMethodDeclaration(MethodDeclaration methodDecl, ExecutionContext context) {\n        // (snip)\n        Iterator&lt;Comment&gt; it = methodDecl.getPrefix().getComments().iterator();\n        boolean alreadyHasSuppressComment = false;\n        while (it.hasNext()) {\n            Comment comment = it.next();\n            PrintOutputCapture&lt;String&gt; p = new PrintOutputCapture&lt;String&gt;(&quot;&quot;);\n            comment.printComment(this.getCursor(), p);\n            if (p.out.toString().matches(&quot;.*parasoft-begin-suppress\\sALL.*&quot;)) {\n                alreadyHasSuppressComment = true;\n                break;\n            }\n        }\n        // (snip)\n        return methodDecl;\n    }\n}\n</code></pre>\n<h2>Problem</h2>\n<p>I have tried to refactor the code above with the Stream API. The code needs the result of <code>this.getCursor()</code> in the process, but I couldn't find the way to pass it to the instance of <code>Predicate</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean alreadyHasSuppressComment = methodDecl.getPrefix().getComments().stream()\n        .anyMatch(new Predicate&lt;Comment&gt;() {\n            @Override\n            public boolean test(Comment comment) {\n                PrintOutputCapture&lt;String&gt; p = new PrintOutputCapture&lt;String&gt;(&quot;&quot;);\n                comment.printComment(this.getCursor(), p); // &lt;- Can't call `this.getCursor()` on the `JtestSuppressDelombokVisitor` class in the `Predicate`\n                return p.out.toString().matches(&quot;.*parasoft-begin-suppress\\sALL.*&quot;);\n            }\n        });\n</code></pre>\n<h2>Question</h2>\n<p>Is there any way to pass the object other than the object on the stream from outside to <code>Predicate</code>?\nOr, it is impossible to write such a code with the Stream API?</p>\n"},{"tags":["java","spring-boot","openrewrite"],"answers":[{"tags":[],"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687069559,"creation_date":1687069559,"answer_id":76499293,"question_id":76499136,"body_markdown":"Based on your error message *&quot;has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognises class file versions up to 52.0&quot;.* This looks like a Java Version Issue. Recheck your Java Version by running  `java -version` on your terminal and ensure it is compatible with the minimum version requirements for the openrewrite dependency you are using . If you are running a lower version, you could consider either upgrading your java version (if thats possible) or using older versions of this dependency.\r\nCheck out this guide \r\nhttps://docs.openrewrite.org/running-recipes/getting-started\r\n","title":"Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run failed:","body":"<p>Based on your error message <em>&quot;has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognises class file versions up to 52.0&quot;.</em> This looks like a Java Version Issue. Recheck your Java Version by running  <code>java -version</code> on your terminal and ensure it is compatible with the minimum version requirements for the openrewrite dependency you are using . If you are running a lower version, you could consider either upgrading your java version (if thats possible) or using older versions of this dependency.\nCheck out this guide\n<a href=\"https://docs.openrewrite.org/running-recipes/getting-started\" rel=\"nofollow noreferrer\">https://docs.openrewrite.org/running-recipes/getting-started</a></p>\n"}],"owner":{"account_id":7797963,"reputation":1,"user_id":5898414,"display_name":"Daniel Tamang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700230980,"creation_date":1687065668,"question_id":76499136,"body_markdown":"I encountered an error when trying to execute `rewrite-maven-plugin` version 5.2.1 on my  project:\r\n```\r\n[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run (default-cli) on project sms-server: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run failed: An API incompatibility was encountered while executing org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run: java.lang.UnsupportedClassVersionError: com/github/benmanes/caffeine/cache/Caffeine has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    plugin&gt;org.openrewrite.maven:rewrite-maven-plugin:5.2.1\r\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n[ERROR] urls[0] = file:/home/daniel/.m2/repository/org/openrewrite/maven/rewrite-maven-plugin/5.2.1/rewrite-maven-plugin-5.2.1.jar\r\n[ERROR] urls[1] = file:/home/daniel/.m2/repository/org/openrewrite/recipe/rewrite-spring/5.0.1/rewrite-spring-5.0.1.jar\r\n[ERROR] urls[2] = file:/home/daniel/.m2/repository/org/jetbrains/annotations/24.0.1/annotations-24.0.1.jar\r\n[ERROR] urls[3] = file:/home/daniel/.m2/repository/org/openrewrite/rewrite-gradle/8.1.2/rewrite-gradle-8.1.2.jar\r\n```\r\nHow can I resolve this issue?","title":"Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run failed:","body":"<p>I encountered an error when trying to execute <code>rewrite-maven-plugin</code> version 5.2.1 on my  project:</p>\n<pre><code>[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run (default-cli) on project sms-server: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run failed: An API incompatibility was encountered while executing org.openrewrite.maven:rewrite-maven-plugin:5.2.1:run: java.lang.UnsupportedClassVersionError: com/github/benmanes/caffeine/cache/Caffeine has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n[ERROR] -----------------------------------------------------\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.openrewrite.maven:rewrite-maven-plugin:5.2.1\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/home/daniel/.m2/repository/org/openrewrite/maven/rewrite-maven-plugin/5.2.1/rewrite-maven-plugin-5.2.1.jar\n[ERROR] urls[1] = file:/home/daniel/.m2/repository/org/openrewrite/recipe/rewrite-spring/5.0.1/rewrite-spring-5.0.1.jar\n[ERROR] urls[2] = file:/home/daniel/.m2/repository/org/jetbrains/annotations/24.0.1/annotations-24.0.1.jar\n[ERROR] urls[3] = file:/home/daniel/.m2/repository/org/openrewrite/rewrite-gradle/8.1.2/rewrite-gradle-8.1.2.jar\n</code></pre>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","spring-boot","maven","jms"],"answers":[{"tags":[],"owner":{"account_id":29854220,"reputation":19,"user_id":22879420,"display_name":"T N MOHITH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700230815,"creation_date":1700230815,"answer_id":77502347,"question_id":77501991,"body_markdown":"This error message means that the jar containing this class is not on application classpath. Add spring-data-elasticsearch jar to it and your error should be gone.\r\n\r\nTo avoid the illegal state exception in java  it should be ensured that any method in the code is not called at an illegal or inappropriate time.\r\n\r\nTrying doing any one of the above solution and it will fix your solution. if you liked the answer or if your problem is solved please do vote my answer.\r\n","title":"&quot;java.lang.IllegalStateException: Failed to introspect Class [com.app.api.config.JmsConfig] from ClassLoader..&quot; at springboot startup","body":"<p>This error message means that the jar containing this class is not on application classpath. Add spring-data-elasticsearch jar to it and your error should be gone.</p>\n<p>To avoid the illegal state exception in java  it should be ensured that any method in the code is not called at an illegal or inappropriate time.</p>\n<p>Trying doing any one of the above solution and it will fix your solution. if you liked the answer or if your problem is solved please do vote my answer.</p>\n"}],"owner":{"account_id":29802680,"reputation":1,"user_id":22840100,"display_name":"Mauro Pandolfo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700230815,"creation_date":1700227357,"question_id":77501991,"body_markdown":"I am trying to deploy my springboot application on a tomcat server, compiling it in a .war, when starting the project I receive the following error\r\n\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.app.api.config.JmsConfig] from ClassLoader [ParallelWebappClassLoader\r\n  context: api\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@18769467\r\n]\r\n                at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)\r\n                at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)\r\n                at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749)\r\n                at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531)\r\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:250)\r\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:243)\r\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:233)\r\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:181)\r\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:156)\r\n                at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n                ... 68 more\r\n        Caused by: java.lang.NoClassDefFoundError: javax/jms/ConnectionFactory\r\n                at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n                at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n                at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n                at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2352)\r\n                at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:800)\r\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1317)\r\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1165)\r\n                at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n                at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n                at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n                at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)\r\n                ... 84 more\r\n        Caused by: java.lang.ClassNotFoundException: javax.jms.ConnectionFactory\r\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1353)\r\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1165)\r\n                ... 95 more\r\n```\r\n\r\n\r\n\r\nThere are apparently missing JMS dependencies, but the project works when run in IntellJ.\r\n\r\nI have been researching a possible solution for a while and all the similar errors I found were solved by adding the dependency that failed to the POM.XML, I added the JMS dependency but the error persists, here I leave my POM.XML for you to take a look at\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.app&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;api&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;security&lt;/name&gt;\r\n\t&lt;description&gt;app&lt;/description&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;local&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;profileActive&gt;local&lt;/profileActive&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;test&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;build.profile.id&gt;test&lt;/build.profile.id&gt;\r\n\t\t\t\t&lt;profileActive&gt;test&lt;/profileActive&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;build.profile.id&gt;prod&lt;/build.profile.id&gt;\r\n\t\t\t\t&lt;profileActive&gt;prod&lt;/profileActive&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.16.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20231013&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.18.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.18.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n   &lt;/project&gt;\r\n```\r\n\r\nI greatly appreciate your help!!\r\n","title":"&quot;java.lang.IllegalStateException: Failed to introspect Class [com.app.api.config.JmsConfig] from ClassLoader..&quot; at springboot startup","body":"<p>I am trying to deploy my springboot application on a tomcat server, compiling it in a .war, when starting the project I receive the following error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.app.api.config.JmsConfig] from ClassLoader [ParallelWebappClassLoader\n  context: api\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@18769467\n]\n                at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)\n                at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)\n                at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749)\n                at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652)\n                at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632)\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559)\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531)\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:250)\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:243)\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:233)\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:181)\n                at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:156)\n                at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n                ... 68 more\n        Caused by: java.lang.NoClassDefFoundError: javax/jms/ConnectionFactory\n                at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n                at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n                at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n                at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2352)\n                at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:800)\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1317)\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1165)\n                at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n                at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n                at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n                at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)\n                ... 84 more\n        Caused by: java.lang.ClassNotFoundException: javax.jms.ConnectionFactory\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1353)\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1165)\n                ... 95 more\n</code></pre>\n<p>There are apparently missing JMS dependencies, but the project works when run in IntellJ.</p>\n<p>I have been researching a possible solution for a while and all the similar errors I found were solved by adding the dependency that failed to the POM.XML, I added the JMS dependency but the error persists, here I leave my POM.XML for you to take a look at</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;security&lt;/name&gt;\n    &lt;description&gt;app&lt;/description&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;profileActive&gt;local&lt;/profileActive&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;test&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;build.profile.id&gt;test&lt;/build.profile.id&gt;\n                &lt;profileActive&gt;test&lt;/profileActive&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;build.profile.id&gt;prod&lt;/build.profile.id&gt;\n                &lt;profileActive&gt;prod&lt;/profileActive&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\n            &lt;version&gt;5.16.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20231013&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\n            &lt;version&gt;5.18.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-http&lt;/artifactId&gt;\n            &lt;version&gt;5.18.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n   &lt;/project&gt;\n</code></pre>\n<p>I greatly appreciate your help!!</p>\n"},{"tags":["java","playwright","playwright-test","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700230448,"creation_date":1700230448,"answer_id":77502304,"question_id":77502173,"body_markdown":"Maybe you could use the `TestWatcher` function in JUnit5 (from 5.7)\r\n\r\nDocumentation is [here][1]\r\n\r\nYou&#39;ll then be able to implement a [testSuccessful][2] method that will always be called when test passed, in order to delete the file generated earlier. By doing so, your file won&#39;t get deleted if test is disabled, failed or aborted (since each has it&#39;s own method `testDisabled`, `testFailed` or `testAborted`)\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#extensions-test-result-processing\r\n  [2]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestWatcher.html#testSuccessful(org.junit.jupiter.api.extension.ExtensionContext)","title":"Is there a method to drop the .har file?","body":"<p>Maybe you could use the <code>TestWatcher</code> function in JUnit5 (from 5.7)</p>\n<p>Documentation is <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-test-result-processing\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You'll then be able to implement a <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestWatcher.html#testSuccessful(org.junit.jupiter.api.extension.ExtensionContext)\" rel=\"nofollow noreferrer\">testSuccessful</a> method that will always be called when test passed, in order to delete the file generated earlier. By doing so, your file won't get deleted if test is disabled, failed or aborted (since each has it's own method <code>testDisabled</code>, <code>testFailed</code> or <code>testAborted</code>)</p>\n"}],"owner":{"account_id":29927232,"reputation":1,"user_id":22934999,"display_name":"andrei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700230448,"creation_date":1700229185,"question_id":77502173,"body_markdown":"My Playwright test is in a Junit5 tests. What I am trying to achieve is that, if there is any assertion on my test (basically if the test fails), save the .har file, otherwise discard it.\r\n\r\n    \r\n```\r\n    @Test\r\n    public void myTest() {\r\n        try {\r\n//.har file already recording\r\n            navigateToSomePages();\r\n            assertThat(page.locator(cssSelector)).hasText(&quot;allGood&quot;);\r\n        } catch (AssertionFailedError | TimeoutError error) {\r\n\r\n// regardless of the test outcome the .har file is kept. Just wanted it in case of fail/assertion is throw.\r\n            doScreenShot();\r\n            throw error;\r\n        }\r\n    }\r\n\r\n\r\n    @BeforeEach\r\n// before each test start the HAR recording\r\n    protected void beforeEachAbstractMethod() {\r\n\r\n        context = browser.newContext(new Browser.NewContextOptions()\r\n                .setRecordHarPath(Paths.get(&quot;file.har&quot;))\r\n                .setRecordHarMode(HarMode.MINIMAL));\r\n    }\r\n```\r\n\r\n\r\nCan&#39;t really find anything related to stopping the HAR file generation, once started: https://playwright.dev/java/docs/mock#recording-a-har-file. \r\n\r\nOne thing that might work is to invoke File.delete() every time after assertThat(...), but that is really ugly :( ","title":"Is there a method to drop the .har file?","body":"<p>My Playwright test is in a Junit5 tests. What I am trying to achieve is that, if there is any assertion on my test (basically if the test fails), save the .har file, otherwise discard it.</p>\n<pre><code>    @Test\n    public void myTest() {\n        try {\n//.har file already recording\n            navigateToSomePages();\n            assertThat(page.locator(cssSelector)).hasText(&quot;allGood&quot;);\n        } catch (AssertionFailedError | TimeoutError error) {\n\n// regardless of the test outcome the .har file is kept. Just wanted it in case of fail/assertion is throw.\n            doScreenShot();\n            throw error;\n        }\n    }\n\n\n    @BeforeEach\n// before each test start the HAR recording\n    protected void beforeEachAbstractMethod() {\n\n        context = browser.newContext(new Browser.NewContextOptions()\n                .setRecordHarPath(Paths.get(&quot;file.har&quot;))\n                .setRecordHarMode(HarMode.MINIMAL));\n    }\n</code></pre>\n<p>Can't really find anything related to stopping the HAR file generation, once started: <a href=\"https://playwright.dev/java/docs/mock#recording-a-har-file\" rel=\"nofollow noreferrer\">https://playwright.dev/java/docs/mock#recording-a-har-file</a>.</p>\n<p>One thing that might work is to invoke File.delete() every time after assertThat(...), but that is really ugly :(</p>\n"},{"tags":["java","swing","user-interface","intellij-plugin"],"owner":{"account_id":20519284,"reputation":1,"user_id":15059267,"display_name":"hyelie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700229948,"creation_date":1700229789,"question_id":77502241,"body_markdown":"I am implementing an IntelliJ plugin. My code inherits FileEditor, and when I open a file in `.md` format, it will create a multi-line JTextPane to take input from the user.\r\n\r\nI have succeeded in printing multiple JTextPane. As I intended, when multiple JTextPane are displayed on the screen and if there is a margin, they are displayed glued on top.\r\n\r\nHowever, when I run my code, it outputs several `asdf` strings, but they are not editable. help.\r\n\r\n```\r\npublic class MyEditor implements FileEditor {\r\n    List&lt;Block&gt; list = new LinkedList&lt;&gt;();\r\n    Box interiorPanel = Box.createVerticalBox();\r\n    JPanel wrapper = new JPanel( new BorderLayout() );\r\n    JScrollPane scrollPane = new JScrollPane(wrapper);\r\n\r\n    public MyEditor(Project project, VirtualFile file) {\r\n        wrapper.add(interiorPanel, BorderLayout.PAGE_START);\r\n\r\n        for(int i = 0; i&lt;4; i++){\r\n            Block block = new Block();\r\n            block.setText(&quot;asdf&quot;);\r\n            block.setEditable(true);\r\n            list.add(block);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public @NotNull JComponent getComponent() {\r\n        for(JTextPane elem : list){\r\n            elem.setEditable(true);\r\n            interiorPanel.add(elem);\r\n        }\r\n\r\n        return scrollPane;\r\n    }\r\n\r\n    ...\r\n```\r\n\r\nBlock is simply an inheritance from JTextPane.\r\n\r\n```\r\npublic class Block extends JTextPane {\r\n    // nothing here yet\r\n}\r\n```\r\n\r\n[Output image in IntelliJ](https://i.stack.imgur.com/Kh6Uk.png)\r\n\r\nThe execution result is as shown in the picture above. They are note editable.\r\n\r\nI tried running the same code in Java to see if there was a problem with the use of the swing component, and it&#39;s output fine there. As shown in the picture below, the cursor is displayed well, and the text can be edited here.\r\n\r\n[Output image in Java Swing](https://i.stack.imgur.com/xA65p.png)\r\n\r\nI don&#39;t know why this difference occurs. Please help me...","title":"IntelliJ editor plugin implement - jtextpane is not editable","body":"<p>I am implementing an IntelliJ plugin. My code inherits FileEditor, and when I open a file in <code>.md</code> format, it will create a multi-line JTextPane to take input from the user.</p>\n<p>I have succeeded in printing multiple JTextPane. As I intended, when multiple JTextPane are displayed on the screen and if there is a margin, they are displayed glued on top.</p>\n<p>However, when I run my code, it outputs several <code>asdf</code> strings, but they are not editable. help.</p>\n<pre><code>public class MyEditor implements FileEditor {\n    List&lt;Block&gt; list = new LinkedList&lt;&gt;();\n    Box interiorPanel = Box.createVerticalBox();\n    JPanel wrapper = new JPanel( new BorderLayout() );\n    JScrollPane scrollPane = new JScrollPane(wrapper);\n\n    public MyEditor(Project project, VirtualFile file) {\n        wrapper.add(interiorPanel, BorderLayout.PAGE_START);\n\n        for(int i = 0; i&lt;4; i++){\n            Block block = new Block();\n            block.setText(&quot;asdf&quot;);\n            block.setEditable(true);\n            list.add(block);\n        }\n    }\n\n    @Override\n    public @NotNull JComponent getComponent() {\n        for(JTextPane elem : list){\n            elem.setEditable(true);\n            interiorPanel.add(elem);\n        }\n\n        return scrollPane;\n    }\n\n    ...\n</code></pre>\n<p>Block is simply an inheritance from JTextPane.</p>\n<pre><code>public class Block extends JTextPane {\n    // nothing here yet\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Kh6Uk.png\" rel=\"nofollow noreferrer\">Output image in IntelliJ</a></p>\n<p>The execution result is as shown in the picture above. They are note editable.</p>\n<p>I tried running the same code in Java to see if there was a problem with the use of the swing component, and it's output fine there. As shown in the picture below, the cursor is displayed well, and the text can be edited here.</p>\n<p><a href=\"https://i.stack.imgur.com/xA65p.png\" rel=\"nofollow noreferrer\">Output image in Java Swing</a></p>\n<p>I don't know why this difference occurs. Please help me...</p>\n"},{"tags":["java","spring-boot","kotlin","springdoc-openapi-ui"],"owner":{"account_id":11218398,"reputation":167,"user_id":8230241,"accept_rate":86,"display_name":"Pradeep Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700228858,"creation_date":1700228858,"question_id":77502143,"body_markdown":"Recently I updated SpringFox to Springdoc open API for swagger-related changes, apparently, I observed that all my API responses are coming in XML format, earlier they were in JSON format. Below are snippets of my `build.gradle.kts` file for swagger and Jackson dependencies\r\n\r\n**build.gradele.kt**:\r\n```\r\nid(&quot;org.springframework.boot&quot;) version &quot;2.7.11&quot;\r\nid(&quot;io.spring.dependency-management&quot;) version &quot;1.0.15.RELEASE&quot;\r\nkotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\r\nkotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\r\nid(&quot;org.jetbrains.kotlin.plugin.jpa&quot;) version &quot;1.6.21&quot;\r\n\r\nimplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.11.1&quot;)\r\nimplementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.11.1&quot;)\r\nimplementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.11.1&quot;)\r\n\r\nimplementation(&quot;org.springdoc:springdoc-openapi-webmvc-core:1.7.0&quot;)\r\nimplementation(&quot;org.springdoc:springdoc-openapi-ui:1.6.12&quot;)\r\nimplementation(&quot;org.springdoc:springdoc-openapi-data-rest:1.7.0&quot;)\r\nimplementation(&quot;org.springdoc:springdoc-openapi-kotlin:1.7.0&quot;)\r\n\r\nimplementation(&quot;com.github.kittinunf.fuel:fuel:2.3.1&quot;)\r\nimplementation(&quot;com.github.kittinunf.fuel:fuel-jackson:2.3.1&quot;)\r\n```\r\n\r\nI tried removing `implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.11.1&quot;)\r\n` dependency, it works but it gives me an error for some APIs having XML response.\r\n\r\n**controller.kt**:\r\n```\r\n@Tag(description = &quot;ABC details API&quot;, name = &quot;abc&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/x1&quot;)\r\nclass detailController(val detailService: DetailService) {\r\n\r\n\r\n    @Operation(summary = &quot;API to fetch details&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @GetMapping(&quot;/product/{id}&quot;, produces = [&quot;application/json&quot;], consumes = [MediaType.ALL_VALUE])\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Ok&quot;,\r\n        content =\r\n    [Content(mediaType = &quot;application/json&quot;, schema =\r\n        Schema(implementation = DetailsResponseDTO::class))])\r\n    fun fetchDetails(@Parameter(name = &quot;productId&quot;, required = true)\r\n                            @PathVariable(&quot;productId&quot;, required = true) productId:Int\r\n        ): ProductDetailsResponseDTO? {\r\n            return productDetailService.fetchDetails(productId)\r\n        }\r\n}\r\n```\r\n\r\nPlease suggest.\r\n\r\n","title":"How to get Json Response from RestAPI in kotlin Springboot","body":"<p>Recently I updated SpringFox to Springdoc open API for swagger-related changes, apparently, I observed that all my API responses are coming in XML format, earlier they were in JSON format. Below are snippets of my <code>build.gradle.kts</code> file for swagger and Jackson dependencies</p>\n<p><strong>build.gradele.kt</strong>:</p>\n<pre><code>id(&quot;org.springframework.boot&quot;) version &quot;2.7.11&quot;\nid(&quot;io.spring.dependency-management&quot;) version &quot;1.0.15.RELEASE&quot;\nkotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\nkotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\nid(&quot;org.jetbrains.kotlin.plugin.jpa&quot;) version &quot;1.6.21&quot;\n\nimplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.11.1&quot;)\nimplementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.11.1&quot;)\nimplementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.11.1&quot;)\n\nimplementation(&quot;org.springdoc:springdoc-openapi-webmvc-core:1.7.0&quot;)\nimplementation(&quot;org.springdoc:springdoc-openapi-ui:1.6.12&quot;)\nimplementation(&quot;org.springdoc:springdoc-openapi-data-rest:1.7.0&quot;)\nimplementation(&quot;org.springdoc:springdoc-openapi-kotlin:1.7.0&quot;)\n\nimplementation(&quot;com.github.kittinunf.fuel:fuel:2.3.1&quot;)\nimplementation(&quot;com.github.kittinunf.fuel:fuel-jackson:2.3.1&quot;)\n</code></pre>\n<p>I tried removing <code>implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.11.1&quot;) </code> dependency, it works but it gives me an error for some APIs having XML response.</p>\n<p><strong>controller.kt</strong>:</p>\n<pre><code>@Tag(description = &quot;ABC details API&quot;, name = &quot;abc&quot;)\n@RestController\n@RequestMapping(&quot;/api/x1&quot;)\nclass detailController(val detailService: DetailService) {\n\n\n    @Operation(summary = &quot;API to fetch details&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    @GetMapping(&quot;/product/{id}&quot;, produces = [&quot;application/json&quot;], consumes = [MediaType.ALL_VALUE])\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Ok&quot;,\n        content =\n    [Content(mediaType = &quot;application/json&quot;, schema =\n        Schema(implementation = DetailsResponseDTO::class))])\n    fun fetchDetails(@Parameter(name = &quot;productId&quot;, required = true)\n                            @PathVariable(&quot;productId&quot;, required = true) productId:Int\n        ): ProductDetailsResponseDTO? {\n            return productDetailService.fetchDetails(productId)\n        }\n}\n</code></pre>\n<p>Please suggest.</p>\n"},{"tags":["java","sql","mysql","jdbc","console-application"],"comments":[{"owner":{"account_id":203984,"reputation":21747,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"score":0,"creation_date":1393890980,"post_id":22160068,"comment_id":33630223,"body_markdown":"Yes. You will want one of the many available MySQL client applications. See this related question: http://stackoverflow.com/questions/9185/what-is-the-best-mysql-client-application-for-windows","body":"Yes. You will want one of the many available MySQL client applications. See this related question: <a href=\"http://stackoverflow.com/questions/9185/what-is-the-best-mysql-client-application-for-windows\" title=\"what is the best mysql client application for windows\">stackoverflow.com/questions/9185/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1515013,"reputation":3769,"user_id":1416224,"accept_rate":92,"display_name":"rpmartz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393891010,"creation_date":1393891010,"answer_id":22160122,"question_id":22160068,"body_markdown":"You can issue SQL directly to a database by connecting to it.  At a minimum, you&#39;ll need to know the username and password for the database, and (in some cases) the port if the database is not running on its standard port (MySQL usually runs on 3306).  Different users have different permissions (for example read only vs add/drop tables), but you&#39;ll be able to do anything directly that you&#39;re able to do with the credentials that you connected with in your JDBC code.   See [here](http://dev.mysql.com/doc/refman/5.0/en/connecting.html) for the MySQL docs on how to connect.  You might also check out MySQL Workbench, which is a GUI for connecting to MySQL and viewing the contents of a database.","title":"How to run SQL commands without java?","body":"<p>You can issue SQL directly to a database by connecting to it.  At a minimum, you'll need to know the username and password for the database, and (in some cases) the port if the database is not running on its standard port (MySQL usually runs on 3306).  Different users have different permissions (for example read only vs add/drop tables), but you'll be able to do anything directly that you're able to do with the credentials that you connected with in your JDBC code.   See <a href=\"http://dev.mysql.com/doc/refman/5.0/en/connecting.html\" rel=\"nofollow\">here</a> for the MySQL docs on how to connect.  You might also check out MySQL Workbench, which is a GUI for connecting to MySQL and viewing the contents of a database.</p>\n"},{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1393891019,"creation_date":1393891019,"answer_id":22160125,"question_id":22160068,"body_markdown":"Sure you can. If you have the MySQL command line client installed, you can start it up in a terminal and run any SQL command you like. Type this in your terminal:\r\n\r\n    mysql databasename -h host -u username -p\r\n\r\nIt will ask for the password interactively. If your database is on the same server as the client, you can leave off the `-h host` part.","title":"How to run SQL commands without java?","body":"<p>Sure you can. If you have the MySQL command line client installed, you can start it up in a terminal and run any SQL command you like. Type this in your terminal:</p>\n\n<pre><code>mysql databasename -h host -u username -p\n</code></pre>\n\n<p>It will ask for the password interactively. If your database is on the same server as the client, you can leave off the <code>-h host</code> part.</p>\n"},{"tags":[],"owner":{"account_id":189554,"reputation":696,"user_id":428955,"accept_rate":88,"display_name":"Bostwick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393891031,"creation_date":1393891031,"answer_id":22160131,"question_id":22160068,"body_markdown":"SQL developer will help you run and explore sql with out needing to run code. \r\n\r\nIts free and from oracle, for mysql database there is a provider:\r\nhttp://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html\r\nhttp://www.oracle.com/technetwork/developer-tools/sql-developer/thirdparty-095608.html\r\n\r\nThere are several other IDE&#39;s for sql that may be better suited for mysql.\r\n\r\nHave a look at https://stackoverflow.com/questions/259157/what-is-your-recommendation-for-a-good-sql-ide . ","title":"How to run SQL commands without java?","body":"<p>SQL developer will help you run and explore sql with out needing to run code. </p>\n\n<p>Its free and from oracle, for mysql database there is a provider:\n<a href=\"http://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html</a>\n<a href=\"http://www.oracle.com/technetwork/developer-tools/sql-developer/thirdparty-095608.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/developer-tools/sql-developer/thirdparty-095608.html</a></p>\n\n<p>There are several other IDE's for sql that may be better suited for mysql.</p>\n\n<p>Have a look at <a href=\"https://stackoverflow.com/questions/259157/what-is-your-recommendation-for-a-good-sql-ide\">https://stackoverflow.com/questions/259157/what-is-your-recommendation-for-a-good-sql-ide</a> . </p>\n"},{"tags":[],"owner":{"account_id":3162068,"reputation":5916,"user_id":2672913,"accept_rate":88,"display_name":"Nick Louloudakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393891403,"creation_date":1393891403,"answer_id":22160205,"question_id":22160068,"body_markdown":"SQL is a Language that is used in order to retrieve, modify and/or delete data from a Database. It is not directly associated with any other particular language, as it is a language itself. \r\n\r\nUsually, there are APIs in several languages in order to do actions in a database in a more transparent way or even to allow executing SQL commands in a database. Databases are organized in Systems called Database Management Systems (DBMS), that allow good management on a large set of databases.\r\n\r\n\r\nIf you are using a Database Management System, usually, you can install a command prompt to execute SQL commands. This prompt can usually be provided via command line, an installed native application or a web application administration panel. A simple yet good DBMS is [MySQL][1], and a good tool to manage MySQL DBMS is [PHPMyAdmin][2].\r\n\r\n\r\n  [1]: http://www.mysql.com/\r\n  [2]: http://www.phpmyadmin.net/home_page/index.php","title":"How to run SQL commands without java?","body":"<p>SQL is a Language that is used in order to retrieve, modify and/or delete data from a Database. It is not directly associated with any other particular language, as it is a language itself. </p>\n\n<p>Usually, there are APIs in several languages in order to do actions in a database in a more transparent way or even to allow executing SQL commands in a database. Databases are organized in Systems called Database Management Systems (DBMS), that allow good management on a large set of databases.</p>\n\n<p>If you are using a Database Management System, usually, you can install a command prompt to execute SQL commands. This prompt can usually be provided via command line, an installed native application or a web application administration panel. A simple yet good DBMS is <a href=\"http://www.mysql.com/\" rel=\"nofollow\">MySQL</a>, and a good tool to manage MySQL DBMS is <a href=\"http://www.phpmyadmin.net/home_page/index.php\" rel=\"nofollow\">PHPMyAdmin</a>.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700228174,"creation_date":1393891413,"answer_id":22160207,"question_id":22160068,"body_markdown":"The most useful and practical tool is to use some plugins in the IDE to run a Database Console Application. \r\n\r\nThe one that supplied with IntelliJ IDEA is `jdbc-console.jar`. It only requires `util.jar` to be on classpath. You can find this from the task manager when you press on SQL button of the database flyer. \r\n\r\nOther IDEs like Eclipse have similar console applications implied as plugins. You can write your own *jdbc-like* console application that accept a string and keyboard shortcuts. \r\n\r\nSome databases like Oracle use a specific client application installed with the database client written in Java: SQL Developer. \r\n\r\nIf you use MySQL database then MySQL Workbench is a known client application availabe after install which is using GUI to execute SQL queries.","title":"How to run SQL commands without java?","body":"<p>The most useful and practical tool is to use some plugins in the IDE to run a Database Console Application.</p>\n<p>The one that supplied with IntelliJ IDEA is <code>jdbc-console.jar</code>. It only requires <code>util.jar</code> to be on classpath. You can find this from the task manager when you press on SQL button of the database flyer.</p>\n<p>Other IDEs like Eclipse have similar console applications implied as plugins. You can write your own <em>jdbc-like</em> console application that accept a string and keyboard shortcuts.</p>\n<p>Some databases like Oracle use a specific client application installed with the database client written in Java: SQL Developer.</p>\n<p>If you use MySQL database then MySQL Workbench is a known client application availabe after install which is using GUI to execute SQL queries.</p>\n"}],"owner":{"account_id":3279580,"reputation":2958,"user_id":2760487,"accept_rate":90,"display_name":"so.very.tired"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22160125,"answer_count":5,"score":2,"last_activity_date":1700228174,"creation_date":1393890735,"question_id":22160068,"body_markdown":"I just started taking my first steps in SQL.  \r\nI downloaded and installed XAMPP 1.8.3-3, and also downloaded the JDBC driver and wrote this code:\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource;\r\n    import com.mysql.jdbc.jdbc2.optional.MysqlDataSource;\r\n    \r\n    public class TestSQL {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tConnection connection=null;\t\t\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tMysqlDataSource ds=new MysqlConnectionPoolDataSource();\r\n    \t\t\tds.setServerName(&quot;localhost&quot;);\r\n    \t\t\tconnection=ds.getConnection(&quot;root&quot;, &quot;&quot;);\r\n    \t\t\tStatement statement=connection.createStatement();\r\n    \t\t\tstatement.execute(&quot;CREATE DATABASE my_database;&quot;);\r\n    \t\t\tstatement.execute(&quot;USE my_database;&quot;);\r\n    \t\t\tstatement.execute(&quot;CREATE TABLE my_table (&quot; +\r\n    \t\t\t\t\t\t\t\t&quot;private_name VARCHAR(10),&quot; +\r\n    \t\t\t\t\t\t\t\t&quot;last_name VARCHAR(10),&quot; +\r\n    \t\t\t\t\t\t\t\t&quot;age INT&quot; +\r\n    \t\t\t\t\t\t\t\t&quot;);&quot;);\r\n    \t\t\tstatement.execute(&quot;INSERT INTO my_table&quot; +\r\n    \t\t\t\t\t&quot;(private_name,last_name,age)&quot; +\r\n    \t\t\t\t\t&quot;VALUES &quot; +\r\n    \t\t\t\t\t&quot;(&#39;Ariel&#39;,&#39;Menashe&#39;,29)&quot;);\r\n    \t\t\tstatement.execute(&quot;INSERT INTO my_table&quot; +\r\n    \t\t\t\t\t&quot;(private_name,last_name,age)&quot; +\r\n    \t\t\t\t\t&quot;VALUES &quot; +\r\n    \t\t\t\t\t&quot;(&#39;Aviad&#39;,&#39;Ganon&#39;,28)&quot;);\r\n    \t\t\tstatement.execute(&quot;INSERT INTO my_table&quot; +\r\n    \t\t\t\t\t&quot;(private_name,last_name,age)&quot; +\r\n    \t\t\t\t\t&quot;VALUES &quot; +\r\n    \t\t\t\t\t&quot;(&#39;Oren&#39;,&#39;Vanunu&#39;,30)&quot;);\r\n    \t\t\tResultSet rs=statement.executeQuery(&quot;SELECT * FROM my_table&quot;);\r\n    \t\t\t\r\n    \t\t\twhile (rs.next()) {\r\n    \t\t\t\tSystem.out.println(&quot;Mr. &quot;+rs.getString(&quot;last_name&quot;)+&quot;, &quot;+rs.getInt(&quot;age&quot;));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tconnection.close();\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis code will compile and run, but my question is, how do I write code in SQL without Java?\r\nCan I run SQL commands through the terminal independently somehow?","title":"How to run SQL commands without java?","body":"<p>I just started taking my first steps in SQL.<br />\nI downloaded and installed XAMPP 1.8.3-3, and also downloaded the JDBC driver and wrote this code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource;\nimport com.mysql.jdbc.jdbc2.optional.MysqlDataSource;\n\npublic class TestSQL {\n    \n    public static void main(String[] args) {\n        Connection connection=null;     \n        \n        try {\n            MysqlDataSource ds=new MysqlConnectionPoolDataSource();\n            ds.setServerName(&quot;localhost&quot;);\n            connection=ds.getConnection(&quot;root&quot;, &quot;&quot;);\n            Statement statement=connection.createStatement();\n            statement.execute(&quot;CREATE DATABASE my_database;&quot;);\n            statement.execute(&quot;USE my_database;&quot;);\n            statement.execute(&quot;CREATE TABLE my_table (&quot; +\n                                &quot;private_name VARCHAR(10),&quot; +\n                                &quot;last_name VARCHAR(10),&quot; +\n                                &quot;age INT&quot; +\n                                &quot;);&quot;);\n            statement.execute(&quot;INSERT INTO my_table&quot; +\n                    &quot;(private_name,last_name,age)&quot; +\n                    &quot;VALUES &quot; +\n                    &quot;('Ariel','Menashe',29)&quot;);\n            statement.execute(&quot;INSERT INTO my_table&quot; +\n                    &quot;(private_name,last_name,age)&quot; +\n                    &quot;VALUES &quot; +\n                    &quot;('Aviad','Ganon',28)&quot;);\n            statement.execute(&quot;INSERT INTO my_table&quot; +\n                    &quot;(private_name,last_name,age)&quot; +\n                    &quot;VALUES &quot; +\n                    &quot;('Oren','Vanunu',30)&quot;);\n            ResultSet rs=statement.executeQuery(&quot;SELECT * FROM my_table&quot;);\n            \n            while (rs.next()) {\n                System.out.println(&quot;Mr. &quot;+rs.getString(&quot;last_name&quot;)+&quot;, &quot;+rs.getInt(&quot;age&quot;));\n            }\n            \n            connection.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This code will compile and run, but my question is, how do I write code in SQL without Java?\nCan I run SQL commands through the terminal independently somehow?</p>\n"},{"tags":["java","spring","jpa","spring-data","jsonb"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700214333,"post_id":77497716,"comment_id":136629351,"body_markdown":"Is there any error or is that column value not being retrieved?","body":"Is there any error or is that column value not being retrieved?"},{"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"score":0,"creation_date":1700216479,"post_id":77497716,"comment_id":136629777,"body_markdown":"unexpected token: &gt; near line 1, column 128 [SELECT cd.customerData FROM models.CustomerData cd GROUP BY cd.customerData-&gt;&gt;&#39;gender&#39;","body":"unexpected token: &gt; near line 1, column 128 [SELECT cd.customerData FROM models.CustomerData cd GROUP BY cd.customerData-&gt;&gt;&#39;gender&#39;"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700227725,"post_id":77497716,"comment_id":136631736,"body_markdown":"The query in your repository and the one in your logs are different!","body":"The query in your repository and the one in your logs are different!"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700228060,"post_id":77497716,"comment_id":136631793,"body_markdown":"Does this answer your question? [How do I use spring data jpa to query jsonb column?](https://stackoverflow.com/questions/43900457/how-do-i-use-spring-data-jpa-to-query-jsonb-column)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43900457/how-do-i-use-spring-data-jpa-to-query-jsonb-column\">How do I use spring data jpa to query jsonb column?</a>"}],"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700227696,"creation_date":1700164822,"question_id":77497716,"body_markdown":"I&#39;m facing an issue with retrieving a &#39;gender&#39; attribute from a JSONB column using JPA Query in my Spring Data JPA project. I want to avoid using a native query if possible.\r\nIm using PostgreSQL\r\n\r\n**Entity:**\r\n```\r\n@Entity\r\npublic class CustomerData {\r\n    \r\n    @Id\r\n    private Long id;\r\n    \r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Map&lt;String, Object&gt; customerData = new HashMap&lt;&gt;();\r\n}\r\n```\r\n\r\n**Repository:**\r\n```\r\npublic interface CustomerDataRepository extends JpaRepository&lt;CustomerData , Long&gt; {\r\n    @Query(&quot;SELECT COUNT(c.id), c.customerData-&gt;&gt;&#39;gender&#39; FROM CustomerData c GROUP BY c.customerData-&gt;&gt;&#39;gender&#39;&quot;)\r\n    String genderStats();\r\n}\r\n```\r\n\r\n**Error**\r\n\r\n```\r\nunexpected token: &gt; near line 1, column 128 [SELECT cd.customerData FROM models.CustomerData cd GROUP BY cd.customerData-&gt;&gt;&#39;gender&#39;\r\n```","title":"Unable to Retrieve JSONB Attribute &#39;gender&#39; in JPA Query without NativeQuery","body":"<p>I'm facing an issue with retrieving a 'gender' attribute from a JSONB column using JPA Query in my Spring Data JPA project. I want to avoid using a native query if possible.\nIm using PostgreSQL</p>\n<p><strong>Entity:</strong></p>\n<pre><code>@Entity\npublic class CustomerData {\n    \n    @Id\n    private Long id;\n    \n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Map&lt;String, Object&gt; customerData = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p><strong>Repository:</strong></p>\n<pre><code>public interface CustomerDataRepository extends JpaRepository&lt;CustomerData , Long&gt; {\n    @Query(&quot;SELECT COUNT(c.id), c.customerData-&gt;&gt;'gender' FROM CustomerData c GROUP BY c.customerData-&gt;&gt;'gender'&quot;)\n    String genderStats();\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>unexpected token: &gt; near line 1, column 128 [SELECT cd.customerData FROM models.CustomerData cd GROUP BY cd.customerData-&gt;&gt;'gender'\n</code></pre>\n"},{"tags":["java","loops","char"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1617889293,"post_id":67005070,"comment_id":118439559,"body_markdown":"declare the `char eingabe = in.readChar();` outside of the while loop","body":"declare the <code>char eingabe = in.readChar();</code> outside of the while loop"}],"answers":[{"tags":[],"owner":{"account_id":19733335,"reputation":13,"user_id":14448364,"display_name":"DorianHUN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617889312,"creation_date":1617889312,"answer_id":67005271,"question_id":67005070,"body_markdown":"As mentioned before you should declare it outside the loop. And you mistyped in the loop when check c: \r\n\r\n        char eingabe = &#39;&#39;;\r\n        while(eingabe != &#39;a&#39; &amp;&amp; eingabe != &#39;b&#39; &amp;&amp; eingabe != &#39;c&#39;) {\r\n            Out.println(&quot;Bitte auswaehlen: &quot;);\r\n            eingabe = in.readChar();\r\n        }\r\n            \r\n        Out.print(&quot;Gewaehlt &quot;);\r\n        if (eingabe == &#39;a&#39;) Out.print(&quot;CAPPUCCINO&quot;);\r\n        if (eingabe == &#39;b&#39;) Out.print(&quot;MOKKA&quot;);\r\n        if (eingabe == &#39;c&#39;) Out.print(&quot;VERLAENGERTER&quot;);\r\n        Out.print(&quot; !&quot;);","title":"How to ask a question repeatedly until I get the right answer as a character","body":"<p>As mentioned before you should declare it outside the loop. And you mistyped in the loop when check c:</p>\n<pre><code>    char eingabe = '';\n    while(eingabe != 'a' &amp;&amp; eingabe != 'b' &amp;&amp; eingabe != 'c') {\n        Out.println(&quot;Bitte auswaehlen: &quot;);\n        eingabe = in.readChar();\n    }\n        \n    Out.print(&quot;Gewaehlt &quot;);\n    if (eingabe == 'a') Out.print(&quot;CAPPUCCINO&quot;);\n    if (eingabe == 'b') Out.print(&quot;MOKKA&quot;);\n    if (eingabe == 'c') Out.print(&quot;VERLAENGERTER&quot;);\n    Out.print(&quot; !&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617889331,"creation_date":1617889331,"answer_id":67005278,"question_id":67005070,"body_markdown":"I think there is a problem in your expression `eingabe != &#39;a&#39; || eingabe != &#39;b&#39; || eingabe ||&#39;c&#39;`. Maybe you meant `eingabe != &#39;a&#39; || eingabe != &#39;b&#39; || eingabe != &#39;c&#39;`. I think in order to continue loop when user types something else, you need to use `&amp;&amp;` instead of `||`. A do while loop is ideal for your use case:\r\n```java\r\nchar eingabe;\r\nScanner in = new Scanner(System.in);\r\ndo {\r\n    System.out.println(&quot;Bitte auswaehlen: &quot;);\r\n    eingabe = in.next().toCharArray()[0];\r\n} while (eingabe != &#39;a&#39; &amp;&amp; eingabe != &#39;b&#39; &amp;&amp; eingabe != &#39;c&#39;);\r\n```","title":"How to ask a question repeatedly until I get the right answer as a character","body":"<p>I think there is a problem in your expression <code>eingabe != 'a' || eingabe != 'b' || eingabe ||'c'</code>. Maybe you meant <code>eingabe != 'a' || eingabe != 'b' || eingabe != 'c'</code>. I think in order to continue loop when user types something else, you need to use <code>&amp;&amp;</code> instead of <code>||</code>. A do while loop is ideal for your use case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char eingabe;\nScanner in = new Scanner(System.in);\ndo {\n    System.out.println(&quot;Bitte auswaehlen: &quot;);\n    eingabe = in.next().toCharArray()[0];\n} while (eingabe != 'a' &amp;&amp; eingabe != 'b' &amp;&amp; eingabe != 'c');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15864809,"reputation":31,"user_id":11447093,"display_name":"Helluys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700227517,"creation_date":1617889487,"answer_id":67005321,"question_id":67005070,"body_markdown":"Your `eingabe` variable should be defined outside of the loop, so the rest of your code can access it. Just be careful not to initialise it with a value checked for in the condition, or even better use a do-while instead.\r\n\r\nI switched your code to use regular System.in and System.out, as I do not know what those in and Out are. Last but not least, your output condition was wrong, you should ask again if the value is is different from all expected values, not if differend from any (which is always true):\r\n```\r\n        String eingabe;\r\n        try (final InputStreamReader isr = new InputStreamReader(System.in)) {\r\n            try (final BufferedReader in = new BufferedReader(isr)) {\r\n                do {\r\n                    System.out.println(&quot;Bitte auswaehlen: &quot;);\r\n                    eingabe = in.readLine();\r\n                } while (!&quot;a&quot;.equals(eingabe) &amp;&amp; !&quot;b&quot;.equals(eingabe) &amp;&amp; !&quot;c&quot;.equals(eingabe));\r\n            }\r\n        }\r\n\r\n        System.out.print(&quot;Gewaehlt &quot;);\r\n        switch (eingabe) {\r\n        case &quot;a&quot; -&gt; System.out.print(&quot;CAPPUCCINO&quot;);\r\n        case &quot;b&quot; -&gt; System.out.print(&quot;MOKKA&quot;);\r\n        case &quot;c&quot; -&gt; System.out.print(&quot;VERLAENGERTER&quot;);\r\n        default -&gt; throw new IllegalStateException(&quot;Unexpected eingabe: &quot; + eingabe);\r\n        }\r\n        System.out.print(&quot; !&quot;);\r\n```\r\n\r\nEdit: reading directly characters from stdin is quite raw, you get a second &quot;Bitte auswaehlen: &quot; when it reads the &#39;\\n&#39; character. You would want to get a proper `BufferedReader` to cleanly read stdin line by line","title":"How to ask a question repeatedly until I get the right answer as a character","body":"<p>Your <code>eingabe</code> variable should be defined outside of the loop, so the rest of your code can access it. Just be careful not to initialise it with a value checked for in the condition, or even better use a do-while instead.</p>\n<p>I switched your code to use regular System.in and System.out, as I do not know what those in and Out are. Last but not least, your output condition was wrong, you should ask again if the value is is different from all expected values, not if differend from any (which is always true):</p>\n<pre><code>        String eingabe;\n        try (final InputStreamReader isr = new InputStreamReader(System.in)) {\n            try (final BufferedReader in = new BufferedReader(isr)) {\n                do {\n                    System.out.println(&quot;Bitte auswaehlen: &quot;);\n                    eingabe = in.readLine();\n                } while (!&quot;a&quot;.equals(eingabe) &amp;&amp; !&quot;b&quot;.equals(eingabe) &amp;&amp; !&quot;c&quot;.equals(eingabe));\n            }\n        }\n\n        System.out.print(&quot;Gewaehlt &quot;);\n        switch (eingabe) {\n        case &quot;a&quot; -&gt; System.out.print(&quot;CAPPUCCINO&quot;);\n        case &quot;b&quot; -&gt; System.out.print(&quot;MOKKA&quot;);\n        case &quot;c&quot; -&gt; System.out.print(&quot;VERLAENGERTER&quot;);\n        default -&gt; throw new IllegalStateException(&quot;Unexpected eingabe: &quot; + eingabe);\n        }\n        System.out.print(&quot; !&quot;);\n</code></pre>\n<p>Edit: reading directly characters from stdin is quite raw, you get a second &quot;Bitte auswaehlen: &quot; when it reads the '\\n' character. You would want to get a proper <code>BufferedReader</code> to cleanly read stdin line by line</p>\n"}],"owner":{"account_id":20951770,"reputation":113,"user_id":15393275,"display_name":"Ciro Mertens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1700227517,"creation_date":1617888602,"question_id":67005070,"body_markdown":"\t\t\r\nI should ask &quot;choose&quot; and the user should type a b or c if he types somehting else, it should repeat the question. I don&#39;t even understand how I do that and then I have another problem: Later I should print out the chosen sort of coffee but because the &quot;eingabe&quot; is in a while or if body it can&#39;t be recognized when I want to use it later. How do I solve this problem? Or should I use another loop anyway? And is character even the right type to use here? \r\nThx in advance.  \r\n\r\n\r\n        while(eingabe != &#39;a&#39; || eingabe != &#39;b&#39; || eingabe ||&#39;c&#39;) {\r\n\t\t\tOut.println(&quot;Bitte auswaehlen: &quot;);\r\n\t\t\tchar eingabe = in.readChar();\r\n\t\t}\r\n\t\t\t\r\n\t\tOut.print(&quot;Gewaehlt &quot;);\r\n\t\tif (eingabe == &#39;a&#39;) Out.print(&quot;CAPPUCCINO&quot;);\r\n\t\tif (eingabe == &#39;b&#39;) Out.print(&quot;MOKKA&quot;);\r\n\t\tif (eingabe == &#39;c&#39;) Out.print(&quot;VERLAENGERTER&quot;);\r\n\t\tOut.print(&quot; !&quot;);\r\n\t}","title":"How to ask a question repeatedly until I get the right answer as a character","body":"<p>I should ask &quot;choose&quot; and the user should type a b or c if he types somehting else, it should repeat the question. I don't even understand how I do that and then I have another problem: Later I should print out the chosen sort of coffee but because the &quot;eingabe&quot; is in a while or if body it can't be recognized when I want to use it later. How do I solve this problem? Or should I use another loop anyway? And is character even the right type to use here?\nThx in advance.</p>\n<pre><code>    while(eingabe != 'a' || eingabe != 'b' || eingabe ||'c') {\n        Out.println(&quot;Bitte auswaehlen: &quot;);\n        char eingabe = in.readChar();\n    }\n        \n    Out.print(&quot;Gewaehlt &quot;);\n    if (eingabe == 'a') Out.print(&quot;CAPPUCCINO&quot;);\n    if (eingabe == 'b') Out.print(&quot;MOKKA&quot;);\n    if (eingabe == 'c') Out.print(&quot;VERLAENGERTER&quot;);\n    Out.print(&quot; !&quot;);\n}\n</code></pre>\n"},{"tags":["java","mysql","jsp","jdbc","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365260674,"creation_date":1365259239,"answer_id":15852220,"question_id":15852195,"body_markdown":"First you need to load JDBC driver before connection\r\n\r\n    // Notice, do not import com.mysql.jdbc.*\r\n    // or you will have problems!\r\n\r\n    //Load Driver\r\n    try {\r\n      // The newInstance() call is a work around for some\r\n      // broken Java implementations\r\n      Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n    } catch (Exception ex) {\r\n      // handle the error\r\n    }\r\n\r\n    con=DriverManager.getConnection(connectieString);\r\n    System.out.println (&quot;Database connection established&quot;);\r\n\r\nmake sure you have mysql-connector-java-5.x.x-bin.jar on the classpath when you run your application.\r\n","title":"no suitable driver found for jdbc mysql","body":"<p>First you need to load JDBC driver before connection</p>\n\n<pre><code>// Notice, do not import com.mysql.jdbc.*\n// or you will have problems!\n\n//Load Driver\ntry {\n  // The newInstance() call is a work around for some\n  // broken Java implementations\n  Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n} catch (Exception ex) {\n  // handle the error\n}\n\ncon=DriverManager.getConnection(connectieString);\nSystem.out.println (\"Database connection established\");\n</code></pre>\n\n<p>make sure you have mysql-connector-java-5.x.x-bin.jar on the classpath when you run your application.</p>\n"}],"owner":{"account_id":1669247,"reputation":4753,"user_id":1536027,"accept_rate":82,"display_name":"DerpyNerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15852220,"answer_count":1,"score":2,"last_activity_date":1700226488,"creation_date":1365259040,"question_id":15852195,"body_markdown":"We&#39;re having some trouble finding out why we are getting an error message when creating a connection with `DriverManager`.\r\n\r\n**Here is our code:**\r\n\r\n    package Databank;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    import java.util.List;\r\n\r\n    public class Connectie_Databank\r\n    {\r\n        //Eigenschappen databank\r\n        private String connectieString = &quot;&quot;;\r\n        private Connection connectie = null;\r\n        private PreparedStatement prepStatement = null;\r\n        private Statement statement = null;\r\n        private ResultSet inhoudQuery = null;\r\n\r\n        //Inloggegevens PhpMyAdmin\r\n        private String gebruikersnaam, wachtwoord;\r\n\r\n        //Constructor met standaardinstellingen\r\n        public Connectie_Databank()\r\n        {\r\n            this.connectieString = &quot;jdbc:mysql://localhost/groep2_festivals&quot;;\r\n            this.gebruikersnaam = &quot;root&quot;;\r\n            this.wachtwoord = &quot;&quot;;\r\n        }\r\n\r\n        //Constructor met nieuwe data\r\n        public Connectie_Databank(String connectionString, String gebruikersnaam, String wachtwoord)\r\n        {\r\n            this.connectieString = connectionString;\r\n            this.gebruikersnaam = gebruikersnaam;\r\n            this.wachtwoord = wachtwoord;\r\n        }\r\n\r\n        /**\r\n         * Deze methode zorgt ervoor dat er verbinding gemaakt wordt me de databank\r\n         */\r\n        public void maakConnectie()\r\n        {\r\n            try\r\n            {\r\n                connectie = DriverManager.getConnection(connectieString, gebruikersnaam, wachtwoord);\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                System.err.println(&quot;FOUTMELDING: &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\n        public void voerQueryUit(String query, List&lt;String&gt; parameters)\r\n        {\r\n            try\r\n            {\r\n                if(parameters.size() &gt; 0)\r\n                {\r\n                    //Reden preparedStatement: geen SQL-Injectie!\r\n                    prepStatement = connectie.prepareStatement(query);\r\n\r\n                    //Lijst met parameters uitlezen om de preparedStatement op te vullen\r\n                    for(int i=1; i&lt;=parameters.size(); i++)\r\n                    {\r\n                       prepStatement.setString(i, parameters.get(i-1));\r\n                    }\r\n                    inhoudQuery = prepStatement.executeQuery();\r\n                }\r\n                else\r\n                {\r\n                    statement = connectie.createStatement();\r\n                    inhoudQuery = statement.executeQuery(query);\r\n                }\r\n            }\r\n            catch(Exception e)\r\n            {}\r\n        }\r\n\r\n        public ResultSet haalResultSetOp()\r\n        {\r\n            return inhoudQuery;\r\n        }\r\n\r\n        public void sluitConnectie()\r\n        {\r\n            //ConnectieString leegmaken en alle objecten die te maken hebben met de connectie sluiten\r\n            try\r\n            {\r\n                connectieString = &quot;&quot;;\r\n                if(connectie != null)\r\n                {\r\n                    connectie.close();\r\n                }\r\n                if(prepStatement != null)\r\n                {\r\n                    prepStatement.close();\r\n                }\r\n                if(inhoudQuery != null)\r\n                {\r\n                    inhoudQuery.close();\r\n                }\r\n            }\r\n            catch(Exception e)\r\n            {}\r\n        }\r\n    }\r\n\r\nWe call our connection class from within a JSP page like this:\r\n\r\n        &lt;%\r\n            Connectie_Databank connectie;\r\n            ResultSet res;\r\n            connectie  = new Connectie_Databank();\r\n\r\n            connectie.maakConnectie ();\r\n\r\n            List&lt;String&gt; lijstParams = new ArrayList&lt;String&gt;();\r\n            connectie.voerQueryUit (&quot;SELECT * FROM festivals&quot;, lijstParams);\r\n\r\n            res  = connectie.haalResultSetOp();\r\n        %&gt;\r\n\r\nThis happens in the head of our page. The first time the page loads, we get an error:\r\n\r\n&gt;no suitable driver found for jdbc mysql \r\n\r\nbut when we refresh, the information we query is shown correctly.\r\n\r\nSo, we only get the one error message on first load, after that, no errors occur and everything works normally.\r\n\r\nCan anyone help us?","title":"no suitable driver found for jdbc mysql","body":"<p>We're having some trouble finding out why we are getting an error message when creating a connection with <code>DriverManager</code>.</p>\n<p><strong>Here is our code:</strong></p>\n<pre><code>package Databank;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\nimport java.util.List;\n\npublic class Connectie_Databank\n{\n    //Eigenschappen databank\n    private String connectieString = &quot;&quot;;\n    private Connection connectie = null;\n    private PreparedStatement prepStatement = null;\n    private Statement statement = null;\n    private ResultSet inhoudQuery = null;\n\n    //Inloggegevens PhpMyAdmin\n    private String gebruikersnaam, wachtwoord;\n\n    //Constructor met standaardinstellingen\n    public Connectie_Databank()\n    {\n        this.connectieString = &quot;jdbc:mysql://localhost/groep2_festivals&quot;;\n        this.gebruikersnaam = &quot;root&quot;;\n        this.wachtwoord = &quot;&quot;;\n    }\n\n    //Constructor met nieuwe data\n    public Connectie_Databank(String connectionString, String gebruikersnaam, String wachtwoord)\n    {\n        this.connectieString = connectionString;\n        this.gebruikersnaam = gebruikersnaam;\n        this.wachtwoord = wachtwoord;\n    }\n\n    /**\n     * Deze methode zorgt ervoor dat er verbinding gemaakt wordt me de databank\n     */\n    public void maakConnectie()\n    {\n        try\n        {\n            connectie = DriverManager.getConnection(connectieString, gebruikersnaam, wachtwoord);\n        }\n        catch(Exception e)\n        {\n            System.err.println(&quot;FOUTMELDING: &quot; + e.getMessage());\n        }\n    }\n\n    public void voerQueryUit(String query, List&lt;String&gt; parameters)\n    {\n        try\n        {\n            if(parameters.size() &gt; 0)\n            {\n                //Reden preparedStatement: geen SQL-Injectie!\n                prepStatement = connectie.prepareStatement(query);\n\n                //Lijst met parameters uitlezen om de preparedStatement op te vullen\n                for(int i=1; i&lt;=parameters.size(); i++)\n                {\n                   prepStatement.setString(i, parameters.get(i-1));\n                }\n                inhoudQuery = prepStatement.executeQuery();\n            }\n            else\n            {\n                statement = connectie.createStatement();\n                inhoudQuery = statement.executeQuery(query);\n            }\n        }\n        catch(Exception e)\n        {}\n    }\n\n    public ResultSet haalResultSetOp()\n    {\n        return inhoudQuery;\n    }\n\n    public void sluitConnectie()\n    {\n        //ConnectieString leegmaken en alle objecten die te maken hebben met de connectie sluiten\n        try\n        {\n            connectieString = &quot;&quot;;\n            if(connectie != null)\n            {\n                connectie.close();\n            }\n            if(prepStatement != null)\n            {\n                prepStatement.close();\n            }\n            if(inhoudQuery != null)\n            {\n                inhoudQuery.close();\n            }\n        }\n        catch(Exception e)\n        {}\n    }\n}\n</code></pre>\n<p>We call our connection class from within a JSP page like this:</p>\n<pre><code>    &lt;%\n        Connectie_Databank connectie;\n        ResultSet res;\n        connectie  = new Connectie_Databank();\n\n        connectie.maakConnectie ();\n\n        List&lt;String&gt; lijstParams = new ArrayList&lt;String&gt;();\n        connectie.voerQueryUit (&quot;SELECT * FROM festivals&quot;, lijstParams);\n\n        res  = connectie.haalResultSetOp();\n    %&gt;\n</code></pre>\n<p>This happens in the head of our page. The first time the page loads, we get an error:</p>\n<blockquote>\n<p>no suitable driver found for jdbc mysql</p>\n</blockquote>\n<p>but when we refresh, the information we query is shown correctly.</p>\n<p>So, we only get the one error message on first load, after that, no errors occur and everything works normally.</p>\n<p>Can anyone help us?</p>\n"},{"tags":["java","tomcat","deployment"],"comments":[{"owner":{"account_id":91502,"reputation":88291,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1280423082,"post_id":3365135,"comment_id":3495353,"body_markdown":"What is your `request.getContextPath()` gives you? Are you doing this `http://localhost:8080/ContextPath/` (where contextPath is `request.getContextPath()`. If you are, then please check your web.xml for your configuration.","body":"What is your <code>request.getContextPath()</code> gives you? Are you doing this <code>http:&#47;&#47;localhost:8080&#47;ContextPath&#47;</code> (where contextPath is <code>request.getContextPath()</code>. If you are, then please check your web.xml for your configuration."},{"owner":{"account_id":61821,"reputation":114472,"user_id":184046,"accept_rate":84,"display_name":"Legend"},"score":2,"creation_date":1280423366,"post_id":3365135,"comment_id":3495397,"body_markdown":"Sorry if this is a silly question: If I cannot deploy the app, how can I execute it at this point?","body":"Sorry if this is a silly question: If I cannot deploy the app, how can I execute it at this point?"},{"owner":{"account_id":124666,"reputation":20410,"user_id":319905,"accept_rate":85,"display_name":"Wolkenarchitekt"},"score":2,"creation_date":1280426740,"post_id":3365135,"comment_id":3496003,"body_markdown":"Look into the log file. Maybe there is an exception when the app gets deployed.","body":"Look into the log file. Maybe there is an exception when the app gets deployed."},{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":0,"creation_date":1280427614,"post_id":3365135,"comment_id":3496153,"body_markdown":"Did you configure a default page correctly. Otherwise try the full path of page `/myapp/page.jsp`, or whatever the proper extension is `.jsf`, `.html`...","body":"Did you configure a default page correctly. Otherwise try the full path of page <code>&#47;myapp&#47;page.jsp</code>, or whatever the proper extension is <code>.jsf</code>, <code>.html</code>..."},{"owner":{"account_id":9944535,"reputation":1,"user_id":7359805,"display_name":"sneha"},"score":0,"creation_date":1483157660,"post_id":3365135,"comment_id":70016648,"body_markdown":"provide the complete path instead of just http://localhost:8080/&quot;War-file-name&quot;","body":"provide the complete path instead of just <a href=\"http://localhost:8080/&quot;War-file-name\" rel=\"nofollow noreferrer\">localhost:8080/&quot;War-file-name</a>&quot;"},{"owner":{"account_id":5564847,"reputation":405,"user_id":4412553,"display_name":"A.Mushate"},"score":2,"creation_date":1523470953,"post_id":3365135,"comment_id":86587537,"body_markdown":"If it is a springboot application check if the application class extends SpringBootServletInitializer this solved my error","body":"If it is a springboot application check if the application class extends SpringBootServletInitializer this solved my error"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1481742753,"creation_date":1280423984,"answer_id":3365284,"question_id":3365135,"body_markdown":"Did you try \r\n\r\n    localhost:8080/app\r\n\r\nassuming your war file is app.war?\r\n\r\nedit for comment -- then your web.xml is screwed up.  \r\n","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>Did you try </p>\n\n<pre><code>localhost:8080/app\n</code></pre>\n\n<p>assuming your war file is app.war?</p>\n\n<p>edit for comment -- then your web.xml is screwed up.  </p>\n"},{"tags":[],"owner":{"account_id":159002,"reputation":860,"user_id":378019,"display_name":"Robert Diana"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1280431114,"creation_date":1280431114,"answer_id":3366158,"question_id":3365135,"body_markdown":"My best guess is that you have not configured the welcome files in your web.xml. If you go to /app/ you need to have some default file available. Typically, people either created an index.html or they have welcome file settings to point the user to the correct jsp.","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>My best guess is that you have not configured the welcome files in your web.xml. If you go to /app/ you need to have some default file available. Typically, people either created an index.html or they have welcome file settings to point the user to the correct jsp.</p>\n"},{"tags":[],"owner":{"account_id":42507,"reputation":4899,"user_id":123844,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1483742966,"creation_date":1280432594,"answer_id":3366335,"question_id":3365135,"body_markdown":"Assuming that you have full privileges with the Tomcat installation, try going to `http://localhost:8080/manager/html/`, if you don&#39;t know the password to get into that area, look for the `tomcat-users.xml` file in your `${tomcat-installation}/conf` directory, and that should have it.  If it has no entries in it then you will want to add an entry like the following to it:\r\n\r\n    &lt;user username=&quot;username&quot; password=&quot;password&quot; roles=&quot;admin,manager&quot; /&gt;\r\n\r\nSee whether your application shows up in that screen, and if it does, click on the link and see if that gets you anywhere.  If it doesn&#39;t, then I suggest following ifishers&#39;s advice, and looking at the log  files to see if it lists any errors.\r\n\r\nBut long story short, most likely something is screwed up with your project&#39;s `web.xml`","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>Assuming that you have full privileges with the Tomcat installation, try going to <code>http://localhost:8080/manager/html/</code>, if you don't know the password to get into that area, look for the <code>tomcat-users.xml</code> file in your <code>${tomcat-installation}/conf</code> directory, and that should have it.  If it has no entries in it then you will want to add an entry like the following to it:</p>\n\n<pre><code>&lt;user username=\"username\" password=\"password\" roles=\"admin,manager\" /&gt;\n</code></pre>\n\n<p>See whether your application shows up in that screen, and if it does, click on the link and see if that gets you anywhere.  If it doesn't, then I suggest following ifishers's advice, and looking at the log  files to see if it lists any errors.</p>\n\n<p>But long story short, most likely something is screwed up with your project's <code>web.xml</code></p>\n"},{"tags":[],"owner":{"account_id":5945636,"reputation":89,"user_id":4675214,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1429608720,"creation_date":1429608720,"answer_id":29768211,"question_id":3365135,"body_markdown":"I have the same problem.\r\nMy problem is my application name and war file name are different.\r\nI have change war file name to my application name.\r\n\r\nHere, when your application is deployed tomcat automatically extract your war file with same name. In my case my service name is my-web-service(i.e.https://localhost:8080/my-web-service/) and my war file name is MY-java-connector-0.0.1-SNAPSHOT.war(this is my project folder name). Now tomcat is looking for my-web=service folder and it finds epicor-java-connector-0.0.1-SNAPSHOT folder. so rename the folder to my-web=service.war and it is working.","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I have the same problem.\nMy problem is my application name and war file name are different.\nI have change war file name to my application name.</p>\n\n<p>Here, when your application is deployed tomcat automatically extract your war file with same name. In my case my service name is my-web-service(i.e.<a href=\"https://localhost:8080/my-web-service/\" rel=\"noreferrer\">https://localhost:8080/my-web-service/</a>) and my war file name is MY-java-connector-0.0.1-SNAPSHOT.war(this is my project folder name). Now tomcat is looking for my-web=service folder and it finds epicor-java-connector-0.0.1-SNAPSHOT folder. so rename the folder to my-web=service.war and it is working.</p>\n"},{"tags":[],"owner":{"account_id":2927436,"reputation":3489,"user_id":2508465,"accept_rate":58,"display_name":"null"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438062587,"creation_date":1438062587,"answer_id":31668286,"question_id":3365135,"body_markdown":"I had the same issue, my problem was that I was copying the file via sftp straight into the webapps dir of tomcat which may have caused a polling issue causing it to not deploy correctly.\r\nTomcat monitors the webapps dir and when it sees the .xml it will crack on and do its thing, problem is that maybe everything hasn&#39;t been copied across yet. :(\r\n\r\nBest to create a staging folder, move or copy the war to that folder and then use linux mv command to move it into the webapps - mv is atomic so tomcat won&#39;t do anything until the operation is complete.\r\n\r\nMagic.\r\n\r\nCredit goes to a very very random post that I found on javarance which in turn lead to : http://pub.admc.com/howtos/tomcat/ch02.html#stagedir-section\r\n\r\nHope this helps someone else :)","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I had the same issue, my problem was that I was copying the file via sftp straight into the webapps dir of tomcat which may have caused a polling issue causing it to not deploy correctly.\nTomcat monitors the webapps dir and when it sees the .xml it will crack on and do its thing, problem is that maybe everything hasn't been copied across yet. :(</p>\n\n<p>Best to create a staging folder, move or copy the war to that folder and then use linux mv command to move it into the webapps - mv is atomic so tomcat won't do anything until the operation is complete.</p>\n\n<p>Magic.</p>\n\n<p>Credit goes to a very very random post that I found on javarance which in turn lead to : <a href=\"http://pub.admc.com/howtos/tomcat/ch02.html#stagedir-section\" rel=\"noreferrer\">http://pub.admc.com/howtos/tomcat/ch02.html#stagedir-section</a></p>\n\n<p>Hope this helps someone else :)</p>\n"},{"tags":[],"owner":{"account_id":6755784,"reputation":47,"user_id":5204247,"accept_rate":100,"display_name":"Ohlaph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446139929,"creation_date":1446139929,"answer_id":33420959,"question_id":3365135,"body_markdown":"I had the same problem with tomcat and just fixed it by forcing my IDE to create a web.xml file.  Mine was missing.  It would deploy the project but I would still get the 404 error.  I read through several of these tutorials but to no avail.  I read somewhere that the web.xml file needed to be configured correctly.  Went to find the web.xml in the WEB-INF folder, and there was no folder and no web.xml file.  I did a quick google on how to create on using my IDE and then compiled my program with the web.xml output, and it fixed the problem for me.  Hope that helps.  Cheers!\r\n","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I had the same problem with tomcat and just fixed it by forcing my IDE to create a web.xml file.  Mine was missing.  It would deploy the project but I would still get the 404 error.  I read through several of these tutorials but to no avail.  I read somewhere that the web.xml file needed to be configured correctly.  Went to find the web.xml in the WEB-INF folder, and there was no folder and no web.xml file.  I did a quick google on how to create on using my IDE and then compiled my program with the web.xml output, and it fixed the problem for me.  Hope that helps.  Cheers!</p>\n"},{"tags":[],"owner":{"account_id":11575495,"reputation":21,"user_id":8480936,"display_name":"Carrie Zhang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503018613,"creation_date":1503015032,"answer_id":45746665,"question_id":3365135,"body_markdown":"I ran into this problem, too.\r\n   \r\nMy simple roundabout solution is to change docBase path.\r\n\r\nproblem occurs when \r\n\r\n    docBase=&quot;.../tomcat/webapps/app_name.war&quot;;\r\n\r\nproblem solved with\r\n\r\n    docBase=&quot;.../tomcat/webapps/app_foldername/web&quot;","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I ran into this problem, too.</p>\n\n<p>My simple roundabout solution is to change docBase path.</p>\n\n<p>problem occurs when </p>\n\n<pre><code>docBase=\".../tomcat/webapps/app_name.war\";\n</code></pre>\n\n<p>problem solved with</p>\n\n<pre><code>docBase=\".../tomcat/webapps/app_foldername/web\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63710,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507225059,"creation_date":1507225059,"answer_id":46591708,"question_id":3365135,"body_markdown":"FWIW I had this problem and fixed it by discovering I was accessing the wrong host, like &quot;http://wronghost:8080/why_is_this_war_not_there&quot; so if it says &quot;XX.war successfully deployed&quot; in catalina.out/localhost.*.out that may be a hint for followers.","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>FWIW I had this problem and fixed it by discovering I was accessing the wrong host, like \"<a href=\"http://wronghost:8080/why_is_this_war_not_there\" rel=\"nofollow noreferrer\">http://wronghost:8080/why_is_this_war_not_there</a>\" so if it says \"XX.war successfully deployed\" in catalina.out/localhost.*.out that may be a hint for followers.</p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1535984864,"creation_date":1535974290,"answer_id":52148944,"question_id":3365135,"body_markdown":"In more recent times, this condition might occur if JAVA_HOME points to an earlier version of Java than the code in the WAR. Tomcat might use JAVA_HOME to determine JRE_HOME it shows after running startup.bat in Tomcat&#39;s BIN directory. While Tomcat may be happy itself with the Java version it gets, for the application this might not be sufficient. In my case, Tomcat 8.0.49 was running alright with JDK1.7, while the application was not initializing at all (yes, it was a Spring Boot application, WAR was being unpacked, but that&#39;s all) - without giving any errors. After setting JAVA_HOME to the location of JDK1.8, the problem was solved.","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>In more recent times, this condition might occur if JAVA_HOME points to an earlier version of Java than the code in the WAR. Tomcat might use JAVA_HOME to determine JRE_HOME it shows after running startup.bat in Tomcat's BIN directory. While Tomcat may be happy itself with the Java version it gets, for the application this might not be sufficient. In my case, Tomcat 8.0.49 was running alright with JDK1.7, while the application was not initializing at all (yes, it was a Spring Boot application, WAR was being unpacked, but that's all) - without giving any errors. After setting JAVA_HOME to the location of JDK1.8, the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":16331299,"reputation":101,"user_id":11794556,"display_name":"geppy"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1563911131,"creation_date":1563911131,"answer_id":57171182,"question_id":3365135,"body_markdown":"If your&#39;e using Spring-Boot like me to create your WAR file make sure to add the following to your main Application file. \r\n\r\n    @SpringBootApplication\r\n    public class serverTestApplication extends SpringBootServletInitializer {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(serverTestApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(serverTestApplication.class);\r\n    \t}\r\n    }\r\nI was stuck on this for awhile, looked through dozens of guides. This is the video that finally showed me I never configured my application properly:\r\nhttps://www.youtube.com/watch?v=05EKZ9Xmfws","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>If your'e using Spring-Boot like me to create your WAR file make sure to add the following to your main Application file. </p>\n\n<pre><code>@SpringBootApplication\npublic class serverTestApplication extends SpringBootServletInitializer {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(serverTestApplication.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(serverTestApplication.class);\n    }\n}\n</code></pre>\n\n<p>I was stuck on this for awhile, looked through dozens of guides. This is the video that finally showed me I never configured my application properly:\n<a href=\"https://www.youtube.com/watch?v=05EKZ9Xmfws\" rel=\"noreferrer\">https://www.youtube.com/watch?v=05EKZ9Xmfws</a></p>\n"},{"tags":[],"owner":{"account_id":16766790,"reputation":1,"user_id":12120257,"display_name":"Mukesh Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1569427536,"creation_date":1569427536,"answer_id":58102496,"question_id":3365135,"body_markdown":"If you have not created any welcome page like index.html JSP or whatever then create one. project must have an index page. I just created one say index.html and the problem is solved..&#128591;&#128591;&#128591;","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>If you have not created any welcome page like index.html JSP or whatever then create one. project must have an index page. I just created one say index.html and the problem is solved..🙏🙏🙏</p>\n"},{"tags":[],"owner":{"account_id":3385851,"reputation":13,"user_id":2841824,"display_name":"Archie Maskill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603369900,"creation_date":1603369900,"answer_id":64482290,"question_id":3365135,"body_markdown":"I had the same issue.  In my case there were no errors in the log files, I had a welcome page defined, it was listed in the Tomcat manager webapp, and it deployed and worked fine on my dev machine.  However, visiting the app at  http://example.com/myApp  just returned a 404 error.\r\n\r\nIt turns out the problem was in the Apache config.  Apache didn&#39;t have a mount point, so it didn&#39;t know to proxy those requests to Tomcat.\r\n\r\nAdding in the appropriate directive fixed the problem:\r\n\r\n    ProxyPass /myApp ajp://127.0.0.1:8009/myApp\r\n\r\n","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I had the same issue.  In my case there were no errors in the log files, I had a welcome page defined, it was listed in the Tomcat manager webapp, and it deployed and worked fine on my dev machine.  However, visiting the app at  <a href=\"http://example.com/myApp\" rel=\"nofollow noreferrer\">http://example.com/myApp</a>  just returned a 404 error.</p>\n<p>It turns out the problem was in the Apache config.  Apache didn't have a mount point, so it didn't know to proxy those requests to Tomcat.</p>\n<p>Adding in the appropriate directive fixed the problem:</p>\n<pre><code>ProxyPass /myApp ajp://127.0.0.1:8009/myApp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28029486,"reputation":1,"user_id":21408905,"display_name":"Ram Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678946350,"creation_date":1678946350,"answer_id":75752611,"question_id":3365135,"body_markdown":"I used to face the same problem. Simply access the application using application name instead of the war file name. (***-0.0.1-SNAPSHOT). It will work.","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I used to face the same problem. Simply access the application using application name instead of the war file name. (***-0.0.1-SNAPSHOT). It will work.</p>\n"},{"tags":[],"owner":{"account_id":16298326,"reputation":113,"user_id":11770050,"display_name":"Hecatonchier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688584681,"creation_date":1688584681,"answer_id":76623444,"question_id":3365135,"body_markdown":"For those still encountering this error, it sometimes results because of port conflict with Apache Webserver using the same port 8080, as seen in the error\t\r\n\r\n&gt; org.apache.catalina.LifecycleException: Protocol handler\r\n&gt; initialization failed\r\n\r\n&gt; Caused by: java.net.BindException: Address already in use\r\n\r\nStopping Apache resolves this. Use\r\n\r\n    sudo apachectl stop\r\nor the related variant for your operating system, and try relaunching your application via Tomcat","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>For those still encountering this error, it sometimes results because of port conflict with Apache Webserver using the same port 8080, as seen in the error</p>\n<blockquote>\n<p>org.apache.catalina.LifecycleException: Protocol handler\ninitialization failed</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.net.BindException: Address already in use</p>\n</blockquote>\n<p>Stopping Apache resolves this. Use</p>\n<pre><code>sudo apachectl stop\n</code></pre>\n<p>or the related variant for your operating system, and try relaunching your application via Tomcat</p>\n"},{"tags":[],"owner":{"account_id":5605359,"reputation":165,"user_id":8467936,"display_name":"Mohit Sehgal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700226477,"creation_date":1700226477,"answer_id":77501905,"question_id":3365135,"body_markdown":"I installed tomcat and then placed *.war file in webapps folder. Updated the required conf/*.xml files as mentioned in the tutorials but when I trying to access my application on the server, I was getting Error- 404.\r\n\r\n**Root cause for me:**\r\nApache Tomcat 10 was installed but my spring boot application was on 2.x.\r\nSo, I had to upgrade my project to 3.1.5 version and java version 17.\r\nOnce I updated the version, Error-404 was gone. ","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I installed tomcat and then placed <em>.war file in webapps folder. Updated the required conf/</em>.xml files as mentioned in the tutorials but when I trying to access my application on the server, I was getting Error- 404.</p>\n<p><strong>Root cause for me:</strong>\nApache Tomcat 10 was installed but my spring boot application was on 2.x.\nSo, I had to upgrade my project to 3.1.5 version and java version 17.\nOnce I updated the version, Error-404 was gone.</p>\n"}],"owner":{"account_id":61821,"reputation":114472,"user_id":184046,"accept_rate":84,"display_name":"Legend"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105636,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":15,"score":43,"last_activity_date":1700226477,"creation_date":1280422863,"question_id":3365135,"body_markdown":"I am fairly new to Tomcat. I just managed to build a project and exported it as a WAR file. I tried manually copying a WAR file to the Tomcat folder then restarting. It created the folder structure and everything but I get a 404 Status code when I try to reach the application. I tried deploying it through the Tomcat Admin panel but I&#39;m seeing the same behavior. Am I doing anything fundamentally wrong?","title":"Deploying a WAR file gives me a 404 Status Code on Tomcat?","body":"<p>I am fairly new to Tomcat. I just managed to build a project and exported it as a WAR file. I tried manually copying a WAR file to the Tomcat folder then restarting. It created the folder structure and everything but I get a 404 Status code when I try to reach the application. I tried deploying it through the Tomcat Admin panel but I'm seeing the same behavior. Am I doing anything fundamentally wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24788343,"reputation":904,"user_id":18671446,"display_name":"Kostas Nitaf"},"score":0,"creation_date":1700225879,"post_id":77501770,"comment_id":136631377,"body_markdown":"Your code works fine with java17\n\n{&quot;name&quot;:&quot;paul&quot;,&quot;json_obj&quot;:&quot;{val=LOW}&quot;}","body":"Your code works fine with java17  {&quot;name&quot;:&quot;paul&quot;,&quot;json_obj&quot;:&quot;{val=LOW}&quot;}"},{"owner":{"account_id":12330201,"reputation":54,"user_id":8996469,"display_name":"Nick"},"score":0,"creation_date":1700225884,"post_id":77501770,"comment_id":136631379,"body_markdown":"I am not aware of the underlying mechanism, but I think your enums don&#39;t represent any values yet. So the program doesn&#39;t know how to write them in JSON format. I think this can solve your problems: https://www.baeldung.com/jackson-serialize-enums.","body":"I am not aware of the underlying mechanism, but I think your enums don&#39;t represent any values yet. So the program doesn&#39;t know how to write them in JSON format. I think this can solve your problems: <a href=\"https://www.baeldung.com/jackson-serialize-enums\" rel=\"nofollow noreferrer\">baeldung.com/jackson-serialize-enums</a>."},{"owner":{"account_id":2889041,"reputation":689,"user_id":2478236,"accept_rate":41,"display_name":"user2478236"},"score":0,"creation_date":1700226240,"post_id":77501770,"comment_id":136631462,"body_markdown":"@KostasNitaf i am using openjdk18","body":"@KostasNitaf i am using openjdk18"},{"owner":{"account_id":2889041,"reputation":689,"user_id":2478236,"accept_rate":41,"display_name":"user2478236"},"score":0,"creation_date":1700226316,"post_id":77501770,"comment_id":136631475,"body_markdown":"even after adding values its still the same    public enum enumObj {\n        LOW(&quot;LOW&quot;),\n        MEDIUM(&quot;MEDIUM&quot;),\n        HIGH(&quot;HIGH&quot;);\n\n        private String unit;\n\n        enumObj(String unit) {\n            this.unit = unit;\n        }\n    }","body":"even after adding values its still the same    public enum enumObj {         LOW(&quot;LOW&quot;),         MEDIUM(&quot;MEDIUM&quot;),         HIGH(&quot;HIGH&quot;);          private String unit;          enumObj(String unit) {             this.unit = unit;         }     }"},{"owner":{"account_id":24788343,"reputation":904,"user_id":18671446,"display_name":"Kostas Nitaf"},"score":0,"creation_date":1700227414,"post_id":77501770,"comment_id":136631681,"body_markdown":"It works in 18 too. :( \n```import org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.HashMap;\nimport java.util.Map;\n\nclass TestJson {\n\n    public static void main(String[] args) throws JSONException {\n        JSONObject json_obj = new JSONObject();\n        json_obj.put(&quot;name&quot;, &quot;paul&quot;);\n\n        Map&lt;String,enumObj&gt; a = new HashMap&lt;&gt;();\n        a.put(&quot;val&quot;, enumObj.MEDIUM);\n\n        json_obj.put(&quot;json_obj&quot;, a);\n        System.out.println(json_obj);\n    }\n\n    public enum enumObj{\n        LOW,\n        MEDIUM,\n        HIGH\n    }}```","body":"It works in 18 too. :(  <code>import org.json.JSONException; import org.json.JSONObject; import java.util.HashMap; import java.util.Map;  class TestJson {      public static void main(String[] args) throws JSONException {         JSONObject json_obj = new JSONObject();         json_obj.put(&quot;name&quot;, &quot;paul&quot;);          Map&lt;String,enumObj&gt; a = new HashMap&lt;&gt;();         a.put(&quot;val&quot;, enumObj.MEDIUM);          json_obj.put(&quot;json_obj&quot;, a);         System.out.println(json_obj);     }      public enum enumObj{         LOW,         MEDIUM,         HIGH     }}</code>"}],"answers":[{"tags":[],"owner":{"account_id":23642317,"reputation":777,"user_id":17672403,"display_name":"Faruk Karaca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700226407,"creation_date":1700226407,"answer_id":77501898,"question_id":77501770,"body_markdown":"Try converting `enum` to string.\r\n\r\n    a.put(&quot;val&quot;, enumObj.LOW.toString());","title":"JSONObject enum values are empty when converted to string","body":"<p>Try converting <code>enum</code> to string.</p>\n<pre><code>a.put(&quot;val&quot;, enumObj.LOW.toString());\n</code></pre>\n"}],"owner":{"account_id":2889041,"reputation":689,"user_id":2478236,"accept_rate":41,"display_name":"user2478236"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700226407,"creation_date":1700225226,"question_id":77501770,"body_markdown":"   I am trying to add enum value as shown in the code below , when i print the output or convert it to string the enum values are empty. how to resolve this issue\r\n\r\n    package com.test;\r\n    import org.json.JSONObject;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class TestJson {\r\n\r\n    public static void main(String[] args) {\r\n        JSONObject json_obj = new JSONObject();\r\n        json_obj.put(&quot;name&quot;, &quot;paul&quot;);\r\n\r\n        Map&lt;String,enumObj&gt; a = new HashMap&lt;&gt;();\r\n        a.put(&quot;val&quot;, enumObj.LOW);\r\n\r\n        json_obj.put(&quot;json_obj&quot;, a);\r\n        System.out.println(json_obj);\r\n    }\r\n\r\n    public enum enumObj{\r\n            LOW,\r\n            MEDIUM,\r\n            HIGH\r\n        }}\r\n\r\nThe output is  as below\r\n\r\n{&quot;name&quot;:&quot;paul&quot;,&quot;json_obj&quot;:{&quot;val&quot;:{}}}","title":"JSONObject enum values are empty when converted to string","body":"<p>I am trying to add enum value as shown in the code below , when i print the output or convert it to string the enum values are empty. how to resolve this issue</p>\n<pre><code>package com.test;\nimport org.json.JSONObject;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class TestJson {\n\npublic static void main(String[] args) {\n    JSONObject json_obj = new JSONObject();\n    json_obj.put(&quot;name&quot;, &quot;paul&quot;);\n\n    Map&lt;String,enumObj&gt; a = new HashMap&lt;&gt;();\n    a.put(&quot;val&quot;, enumObj.LOW);\n\n    json_obj.put(&quot;json_obj&quot;, a);\n    System.out.println(json_obj);\n}\n\npublic enum enumObj{\n        LOW,\n        MEDIUM,\n        HIGH\n    }}\n</code></pre>\n<p>The output is  as below</p>\n<p>{&quot;name&quot;:&quot;paul&quot;,&quot;json_obj&quot;:{&quot;val&quot;:{}}}</p>\n"},{"tags":["java","time","java-8","epoch","java-time"],"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1397140696,"post_id":22990067,"comment_id":35111984,"body_markdown":"Please explain your expected number 1396468261. I get without timezone correction: 1391543461 (see edit in my answer). 57 days difference!","body":"Please explain your expected number 1396468261. I get without timezone correction: 1391543461 (see edit in my answer). 57 days difference!"},{"owner":{"display_name":"user1019830"},"score":0,"creation_date":1397141887,"post_id":22990067,"comment_id":35112942,"body_markdown":"@MenoHochschild I&#39;ve updated my question with timezone info and corrected the actual value from GTM to localtime. Is there an easier way to get the epoch of some `LocalDateTime` other than manually calculating it?","body":"@MenoHochschild I&#39;ve updated my question with timezone info and corrected the actual value from GTM to localtime. Is there an easier way to get the epoch of some <code>LocalDateTime</code> other than manually calculating it?"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1397147102,"post_id":22990067,"comment_id":35116515,"body_markdown":"Coming back from my pause, see my update.","body":"Coming back from my pause, see my update."}],"answers":[{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1397147053,"creation_date":1397138972,"answer_id":22990489,"question_id":22990067,"body_markdown":"Look at [this method][1] to see which fields are supported. You will find for `LocalDateTime`:\r\n\r\n    •NANO_OF_SECOND \r\n    •NANO_OF_DAY \r\n    •MICRO_OF_SECOND \r\n    •MICRO_OF_DAY \r\n    •MILLI_OF_SECOND \r\n    •MILLI_OF_DAY \r\n    •SECOND_OF_MINUTE \r\n    •SECOND_OF_DAY \r\n    •MINUTE_OF_HOUR \r\n    •MINUTE_OF_DAY \r\n    •HOUR_OF_AMPM \r\n    •CLOCK_HOUR_OF_AMPM \r\n    •HOUR_OF_DAY \r\n    •CLOCK_HOUR_OF_DAY \r\n    •AMPM_OF_DAY \r\n    •DAY_OF_WEEK \r\n    •ALIGNED_DAY_OF_WEEK_IN_MONTH \r\n    •ALIGNED_DAY_OF_WEEK_IN_YEAR \r\n    •DAY_OF_MONTH \r\n    •DAY_OF_YEAR \r\n    •EPOCH_DAY \r\n    •ALIGNED_WEEK_OF_MONTH \r\n    •ALIGNED_WEEK_OF_YEAR \r\n    •MONTH_OF_YEAR \r\n    •PROLEPTIC_MONTH \r\n    •YEAR_OF_ERA \r\n    •YEAR \r\n    •ERA \r\n\r\nThe field INSTANT_SECONDS is - of course - not supported because a `LocalDateTime` cannot refer to any absolute (global) timestamp. But what is helpful is the field [EPOCH_DAY][2] which counts the elapsed days since 1970-01-01. Similar thoughts are valid for the type `LocalDate` (with even less supported fields).\r\n\r\nIf you intend to get the non-existing millis-since-unix-epoch field you also need the timezone for converting from a local to a global type. This conversion can be done much simpler, see other [SO-posts][3].\r\n\r\n**Coming back to your question and the numbers in your code:**\r\n\r\n    The result 1605 is correct\r\n      =&gt; (2014 - 1970) * 365 + 11 (leap days) + 31 (in january 2014) + 3 (in february 2014)\r\n    The result 71461 is also correct =&gt; 19 * 3600 + 51 * 60 + 1\r\n\r\n16105L * 86400 + 71461 = 1391543461 seconds since 1970-01-01T00:00:00 (attention, no timezone)\r\nThen you can subtract the timezone offset (watch out for possible multiplication by 1000 if in milliseconds).\r\n\r\n**UPDATE after given timezone info:**\r\n\r\n    local time = 1391543461 secs\r\n    offset = 3600 secs (Europe/Oslo, winter time in february)\r\n    utc = 1391543461 - 3600 = 1391539861\r\n\r\nAs JSR-310-code with two equivalent approaches:\r\n\r\n    long secondsSinceUnixEpoch1 =\r\n      LocalDateTime.of(2014, 2, 4, 19, 51, 1).atZone(ZoneId.of(&quot;Europe/Oslo&quot;)).toEpochSecond();\r\n\r\n    long secondsSinceUnixEpoch2 =\r\n      LocalDate\r\n        .of(2014, 2, 4)\r\n        .atTime(19, 51, 1)\r\n        .atZone(ZoneId.of(&quot;Europe/Oslo&quot;))\r\n        .toEpochSecond();\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#isSupported-java.time.temporal.TemporalField-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#EPOCH_DAY\r\n  [3]: https://stackoverflow.com/questions/22929237/convert-java-time-localdate-into-java-util-date-type\r\n\r\n","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>Look at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#isSupported-java.time.temporal.TemporalField-\" rel=\"nofollow noreferrer\">this method</a> to see which fields are supported. You will find for <code>LocalDateTime</code>:</p>\n\n<pre><code>•NANO_OF_SECOND \n•NANO_OF_DAY \n•MICRO_OF_SECOND \n•MICRO_OF_DAY \n•MILLI_OF_SECOND \n•MILLI_OF_DAY \n•SECOND_OF_MINUTE \n•SECOND_OF_DAY \n•MINUTE_OF_HOUR \n•MINUTE_OF_DAY \n•HOUR_OF_AMPM \n•CLOCK_HOUR_OF_AMPM \n•HOUR_OF_DAY \n•CLOCK_HOUR_OF_DAY \n•AMPM_OF_DAY \n•DAY_OF_WEEK \n•ALIGNED_DAY_OF_WEEK_IN_MONTH \n•ALIGNED_DAY_OF_WEEK_IN_YEAR \n•DAY_OF_MONTH \n•DAY_OF_YEAR \n•EPOCH_DAY \n•ALIGNED_WEEK_OF_MONTH \n•ALIGNED_WEEK_OF_YEAR \n•MONTH_OF_YEAR \n•PROLEPTIC_MONTH \n•YEAR_OF_ERA \n•YEAR \n•ERA \n</code></pre>\n\n<p>The field INSTANT_SECONDS is - of course - not supported because a <code>LocalDateTime</code> cannot refer to any absolute (global) timestamp. But what is helpful is the field <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#EPOCH_DAY\" rel=\"nofollow noreferrer\">EPOCH_DAY</a> which counts the elapsed days since 1970-01-01. Similar thoughts are valid for the type <code>LocalDate</code> (with even less supported fields).</p>\n\n<p>If you intend to get the non-existing millis-since-unix-epoch field you also need the timezone for converting from a local to a global type. This conversion can be done much simpler, see other <a href=\"https://stackoverflow.com/questions/22929237/convert-java-time-localdate-into-java-util-date-type\">SO-posts</a>.</p>\n\n<p><strong>Coming back to your question and the numbers in your code:</strong></p>\n\n<pre><code>The result 1605 is correct\n  =&gt; (2014 - 1970) * 365 + 11 (leap days) + 31 (in january 2014) + 3 (in february 2014)\nThe result 71461 is also correct =&gt; 19 * 3600 + 51 * 60 + 1\n</code></pre>\n\n<p>16105L * 86400 + 71461 = 1391543461 seconds since 1970-01-01T00:00:00 (attention, no timezone)\nThen you can subtract the timezone offset (watch out for possible multiplication by 1000 if in milliseconds).</p>\n\n<p><strong>UPDATE after given timezone info:</strong></p>\n\n<pre><code>local time = 1391543461 secs\noffset = 3600 secs (Europe/Oslo, winter time in february)\nutc = 1391543461 - 3600 = 1391539861\n</code></pre>\n\n<p>As JSR-310-code with two equivalent approaches:</p>\n\n<pre><code>long secondsSinceUnixEpoch1 =\n  LocalDateTime.of(2014, 2, 4, 19, 51, 1).atZone(ZoneId.of(\"Europe/Oslo\")).toEpochSecond();\n\nlong secondsSinceUnixEpoch2 =\n  LocalDate\n    .of(2014, 2, 4)\n    .atTime(19, 51, 1)\n    .atZone(ZoneId.of(\"Europe/Oslo\"))\n    .toEpochSecond();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370027,"reputation":49110,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"down_vote_count":1,"up_vote_count":208,"is_accepted":true,"score":207,"last_activity_date":1538335376,"creation_date":1397144202,"answer_id":22992578,"question_id":22990067,"body_markdown":"The classes `LocalDate` and `LocalDateTime` do not contain information about the _timezone_ or _time offset_, and seconds since epoch would be ambigious without this information. However, the objects have several methods to convert them into date/time objects with timezones by passing a `ZoneId` instance.\r\n\r\n**LocalDate**\r\n\r\n    LocalDate date = ...;\r\n    ZoneId zoneId = ZoneId.systemDefault(); // or: ZoneId.of(&quot;Europe/Oslo&quot;);\r\n    long epoch = date.atStartOfDay(zoneId).toEpochSecond();\r\n\r\n**LocalDateTime**\r\n\r\n    LocalDateTime time = ...;\r\n    ZoneId zoneId = ZoneId.systemDefault(); // or: ZoneId.of(&quot;Europe/Oslo&quot;);\r\n    long epoch = time.atZone(zoneId).toEpochSecond();\r\n","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>The classes <code>LocalDate</code> and <code>LocalDateTime</code> do not contain information about the <em>timezone</em> or <em>time offset</em>, and seconds since epoch would be ambigious without this information. However, the objects have several methods to convert them into date/time objects with timezones by passing a <code>ZoneId</code> instance.</p>\n\n<p><strong>LocalDate</strong></p>\n\n<pre><code>LocalDate date = ...;\nZoneId zoneId = ZoneId.systemDefault(); // or: ZoneId.of(\"Europe/Oslo\");\nlong epoch = date.atStartOfDay(zoneId).toEpochSecond();\n</code></pre>\n\n<p><strong>LocalDateTime</strong></p>\n\n<pre><code>LocalDateTime time = ...;\nZoneId zoneId = ZoneId.systemDefault(); // or: ZoneId.of(\"Europe/Oslo\");\nlong epoch = time.atZone(zoneId).toEpochSecond();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1397227119,"creation_date":1397227119,"answer_id":23015661,"question_id":22990067,"body_markdown":"The conversion you need requires the offset from UTC/Greewich, or a time-zone.\r\n\r\nIf you have an offset, there is a [dedicated method](http://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toEpochSecond-java.time.ZoneOffset-) on `LocalDateTime` for this task:\r\n\r\n    long epochSec = localDateTime.toEpochSecond(zoneOffset);\r\n\r\nIf you only have a `ZoneId` then you can obtain the `ZoneOffset` from the `ZoneId`:\r\n\r\n    ZoneOffset zoneOffset = ZoneId.of(&quot;Europe/Oslo&quot;).getRules().getOffset(ldt);\r\n\r\nBut you may find conversion via `ZonedDateTime` simpler:\r\n\r\n    long epochSec = ldt.atZone(zoneId).toEpochSecond();\r\n\r\n\r\n","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>The conversion you need requires the offset from UTC/Greewich, or a time-zone.</p>\n\n<p>If you have an offset, there is a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toEpochSecond-java.time.ZoneOffset-\" rel=\"noreferrer\">dedicated method</a> on <code>LocalDateTime</code> for this task:</p>\n\n<pre><code>long epochSec = localDateTime.toEpochSecond(zoneOffset);\n</code></pre>\n\n<p>If you only have a <code>ZoneId</code> then you can obtain the <code>ZoneOffset</code> from the <code>ZoneId</code>:</p>\n\n<pre><code>ZoneOffset zoneOffset = ZoneId.of(\"Europe/Oslo\").getRules().getOffset(ldt);\n</code></pre>\n\n<p>But you may find conversion via <code>ZonedDateTime</code> simpler:</p>\n\n<pre><code>long epochSec = ldt.atZone(zoneId).toEpochSecond();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9690233,"reputation":850,"user_id":7188527,"display_name":"Werner Harnisch"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1479727219,"creation_date":1479727219,"answer_id":40718909,"question_id":22990067,"body_markdown":"&#39;Millis since unix epoch&#39; represents an instant, so you should use the Instant class:\r\n\r\n    private long toEpochMilli(LocalDateTime localDateTime)\r\n    {\r\n      return localDateTime.atZone(ZoneId.systemDefault())\r\n        .toInstant().toEpochMilli();\r\n    }","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>'Millis since unix epoch' represents an instant, so you should use the Instant class:</p>\n\n<pre><code>private long toEpochMilli(LocalDateTime localDateTime)\n{\n  return localDateTime.atZone(ZoneId.systemDefault())\n    .toInstant().toEpochMilli();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8164792,"reputation":9,"user_id":6147560,"display_name":"michmich"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1523594801,"creation_date":1523590459,"answer_id":49808913,"question_id":22990067,"body_markdown":"Convert from ***human readable date to epoch***:\r\n\r\n    long epoch = new java.text.SimpleDateFormat(&quot;MM/dd/yyyyHH:mm:ss&quot;).parse(&quot;01/01/1970 01:00:00&quot;).getTime() / 1000;\r\n\r\nConvert from ***epoch to human readable date***:\r\n\r\n    String date = new java.text.SimpleDateFormat(&quot;MM/dd/yyyyHH:mm:ss&quot;).format(new java.util.Date (epoch*1000));\r\n\r\nFor other language converter:\r\nhttps://www.epochconverter.com","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>Convert from <strong><em>human readable date to epoch</em></strong>:</p>\n\n<pre><code>long epoch = new java.text.SimpleDateFormat(\"MM/dd/yyyyHH:mm:ss\").parse(\"01/01/1970 01:00:00\").getTime() / 1000;\n</code></pre>\n\n<p>Convert from <strong><em>epoch to human readable date</em></strong>:</p>\n\n<pre><code>String date = new java.text.SimpleDateFormat(\"MM/dd/yyyyHH:mm:ss\").format(new java.util.Date (epoch*1000));\n</code></pre>\n\n<p>For other language converter:\n<a href=\"https://www.epochconverter.com\" rel=\"nofollow noreferrer\">https://www.epochconverter.com</a></p>\n"},{"tags":[],"owner":{"account_id":16931595,"reputation":21,"user_id":12245712,"display_name":"aled evans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700226346,"creation_date":1573658173,"answer_id":58840163,"question_id":22990067,"body_markdown":"This is one way without using a time zone: \r\n```\r\nLocalDateTime now = LocalDateTime.now();\r\nlong epoch = (now.getLong(ChronoField.EPOCH_DAY) * 86400000) + now.getLong(ChronoField.MILLI_OF_DAY);\r\n```","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>This is one way without using a time zone:</p>\n<pre><code>LocalDateTime now = LocalDateTime.now();\nlong epoch = (now.getLong(ChronoField.EPOCH_DAY) * 86400000) + now.getLong(ChronoField.MILLI_OF_DAY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669831147,"creation_date":1669831147,"answer_id":74632212,"question_id":22990067,"body_markdown":"Extracting [two good answers][1] found in [comments][2] on this post, \r\n\r\n&gt; If you only care about UTC (Coordinated Universal Time), there is\r\n```\r\nfinal long epoch = localDateTime.toEpochSecond(ZoneOffset.UTC);\r\n```\r\n\r\n&gt; or where you already know the timezone\r\n```\r\nfinal long epoch = localDateTime.toEpochSecond(ZoneId.systemDefault());\r\n```\r\n\r\nMore information from https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toEpochSecond-java.time.ZoneOffset-\r\n&gt; \r\n&gt; **toEpochSecond**\r\n&gt; \r\n&gt;     default long toEpochSecond(ZoneOffset offset)\r\n&gt; \r\n&gt; Converts this date-time to the number of seconds from the epoch of\r\n&gt; 1970-01-01T00:00:00Z.\r\n&gt; \r\n&gt; This combines this local date-time and the specified offset to\r\n&gt; calculate the epoch-second value, which is the number of elapsed\r\n&gt; seconds from 1970-01-01T00:00:00Z. Instants on the time-line after the\r\n&gt; epoch are positive, earlier are negative.\r\n&gt; \r\n&gt; This default implementation calculates from the epoch-day of the date\r\n&gt; and the second-of-day of the time.\r\n&gt; \r\n&gt; **Parameters:**\r\n&gt; \r\n&gt; offset - the offset to use for the conversion, not null\r\n&gt; \r\n&gt; **Returns:**\r\n&gt; \r\n&gt; the number of seconds from the epoch of 1970-01-01T00:00:00Z\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22990067/how-to-extract-epoch-from-localdate-and-localdatetime#comment97198888_22992578\r\n  [2]: https://stackoverflow.com/questions/22990067/how-to-extract-epoch-from-localdate-and-localdatetime#comment84263933_23015661","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>Extracting <a href=\"https://stackoverflow.com/questions/22990067/how-to-extract-epoch-from-localdate-and-localdatetime#comment97198888_22992578\">two good answers</a> found in <a href=\"https://stackoverflow.com/questions/22990067/how-to-extract-epoch-from-localdate-and-localdatetime#comment84263933_23015661\">comments</a> on this post,</p>\n<blockquote>\n<p>If you only care about UTC (Coordinated Universal Time), there is</p>\n</blockquote>\n<pre><code>final long epoch = localDateTime.toEpochSecond(ZoneOffset.UTC);\n</code></pre>\n<blockquote>\n<p>or where you already know the timezone</p>\n</blockquote>\n<pre><code>final long epoch = localDateTime.toEpochSecond(ZoneId.systemDefault());\n</code></pre>\n<p>More information from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toEpochSecond-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toEpochSecond-java.time.ZoneOffset-</a></p>\n<blockquote>\n<p><strong>toEpochSecond</strong></p>\n<pre><code>default long toEpochSecond(ZoneOffset offset)\n</code></pre>\n<p>Converts this date-time to the number of seconds from the epoch of\n1970-01-01T00:00:00Z.</p>\n<p>This combines this local date-time and the specified offset to\ncalculate the epoch-second value, which is the number of elapsed\nseconds from 1970-01-01T00:00:00Z. Instants on the time-line after the\nepoch are positive, earlier are negative.</p>\n<p>This default implementation calculates from the epoch-day of the date\nand the second-of-day of the time.</p>\n<p><strong>Parameters:</strong></p>\n<p>offset - the offset to use for the conversion, not null</p>\n<p><strong>Returns:</strong></p>\n<p>the number of seconds from the epoch of 1970-01-01T00:00:00Z</p>\n</blockquote>\n"}],"owner":{"display_name":"user1019830"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189260,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"accepted_answer_id":22992578,"answer_count":7,"score":150,"last_activity_date":1700226346,"creation_date":1397137968,"question_id":22990067,"body_markdown":"How do I extract the epoch value to `Long` from instances of `LocalDateTime` or `LocalDate`? I&#39;ve tried \r\nthe following, but it gives me other results:\r\n\r\n    LocalDateTime time = LocalDateTime.parse(&quot;04.02.2014  19:51:01&quot;, DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy  HH:mm:ss&quot;));\r\n    System.out.println(time.getLong(ChronoField.SECOND_OF_DAY)); // gives 71461\r\n    System.out.println(time.getLong(ChronoField.EPOCH_DAY)); // gives 16105\r\nWhat I want is simply the value `1391539861` for the local datetime `&quot;04.02.2014  19:51:01&quot;`.\r\nMy timezone is `Europe/Oslo` UTC+1 with daylight saving time.","title":"How to extract epoch from LocalDate and LocalDateTime?","body":"<p>How do I extract the epoch value to <code>Long</code> from instances of <code>LocalDateTime</code> or <code>LocalDate</code>? I've tried \nthe following, but it gives me other results:</p>\n\n<pre><code>LocalDateTime time = LocalDateTime.parse(\"04.02.2014  19:51:01\", DateTimeFormatter.ofPattern(\"dd.MM.yyyy  HH:mm:ss\"));\nSystem.out.println(time.getLong(ChronoField.SECOND_OF_DAY)); // gives 71461\nSystem.out.println(time.getLong(ChronoField.EPOCH_DAY)); // gives 16105\n</code></pre>\n\n<p>What I want is simply the value <code>1391539861</code> for the local datetime <code>\"04.02.2014  19:51:01\"</code>.\nMy timezone is <code>Europe/Oslo</code> UTC+1 with daylight saving time.</p>\n"},{"tags":["java","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1387792266,"creation_date":1387792266,"answer_id":20740925,"question_id":20740703,"body_markdown":"Here the packaging is jar type, hence you need to use manifest plugin, in order to add dependencies into the Manifest.mf\r\n\r\nThe problem here is that maven could find the dependencies in pom file and compile the source code and create the output jar. But when executing the jar, manifest.mf file contains no details of dependencies. Hence you got this error. This is a case of classpath errors.\r\n\r\n[Here][1] you can find the details on how to do it.\r\n\r\n\r\n  [1]: http://fw-geekycoder.blogspot.in/2010/05/how-to-copy-dependencies-and.html","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Here the packaging is jar type, hence you need to use manifest plugin, in order to add dependencies into the Manifest.mf</p>\n\n<p>The problem here is that maven could find the dependencies in pom file and compile the source code and create the output jar. But when executing the jar, manifest.mf file contains no details of dependencies. Hence you got this error. This is a case of classpath errors.</p>\n\n<p><a href=\"http://fw-geekycoder.blogspot.in/2010/05/how-to-copy-dependencies-and.html\" rel=\"nofollow\">Here</a> you can find the details on how to do it.</p>\n"},{"tags":[],"owner":{"account_id":1273842,"reputation":3099,"user_id":1229509,"accept_rate":69,"display_name":"Saket"},"down_vote_count":2,"up_vote_count":29,"is_accepted":true,"score":27,"last_activity_date":1387793032,"creation_date":1387793032,"answer_id":20741145,"question_id":20740703,"body_markdown":"Your jar does not contain the dependencies such as spring-boot which it is looking for during runtime. You can build a consolidated jar with all the dependencies as outlined in this [question](https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven).","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Your jar does not contain the dependencies such as spring-boot which it is looking for during runtime. You can build a consolidated jar with all the dependencies as outlined in this <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">question</a>.</p>\n"},{"tags":[],"owner":{"account_id":483602,"reputation":2337,"user_id":898773,"accept_rate":75,"display_name":"stoffer"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1406552953,"creation_date":1406552953,"answer_id":24996027,"question_id":20740703,"body_markdown":"If you would like to stay in spring boot space just set the pom packaging to jar \r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\nand add the spring-boot-maven-plugin to you build properties in the pom.xml file: \r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n \t\t  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t    &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\nthen a simple mvn package command will create a complete executable jar file.\r\n\r\nSee the very good spring reference doc for more details (doing it gradle style also)\r\n[spring reference doc][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#build-tool-plugins-maven-packaging &quot;spring reference doc&quot;","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>If you would like to stay in spring boot space just set the pom packaging to jar </p>\n\n<pre><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n\n<p>and add the spring-boot-maven-plugin to you build properties in the pom.xml file: </p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>then a simple mvn package command will create a complete executable jar file.</p>\n\n<p>See the very good spring reference doc for more details (doing it gradle style also)\n<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#build-tool-plugins-maven-packaging\" rel=\"noreferrer\" title=\"spring reference doc\">spring reference doc</a></p>\n"},{"tags":[],"owner":{"account_id":178052,"reputation":1861,"user_id":409784,"display_name":"Francois"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475759244,"creation_date":1475759244,"answer_id":39896880,"question_id":20740703,"body_markdown":"Another option is to use the [Apache Maven Shade Plugin][1]:\r\nThis plugin provides the capability to package the artifact in an uber-jar, including its dependencies and to shade - i.e. rename - the packages of some of the dependencies.\r\n\r\nadd this to your build plugins section\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Another option is to use the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow\">Apache Maven Shade Plugin</a>:\nThis plugin provides the capability to package the artifact in an uber-jar, including its dependencies and to shade - i.e. rename - the packages of some of the dependencies.</p>\n\n<p>add this to your build plugins section</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1500034771,"creation_date":1500034771,"answer_id":45102852,"question_id":20740703,"body_markdown":"Mine was caused by a corrupt Maven repository.\r\n\r\nI deleted everything under `C:\\Users\\&lt;me&gt;\\.m2\\repository`.\r\n\r\nThen did an Eclipse Maven Update, and it worked first time.\r\n\r\nSo it was simply `spring-boot.jar` got corrupted.\r\n","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Mine was caused by a corrupt Maven repository.</p>\n\n<p>I deleted everything under <code>C:\\Users\\&lt;me&gt;\\.m2\\repository</code>.</p>\n\n<p>Then did an Eclipse Maven Update, and it worked first time.</p>\n\n<p>So it was simply <code>spring-boot.jar</code> got corrupted.</p>\n"},{"tags":[],"owner":{"account_id":3782127,"reputation":99,"user_id":3141256,"display_name":"Sreejesh Ellath"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1560947111,"creation_date":1510812071,"answer_id":47322666,"question_id":20740703,"body_markdown":"The answer to the above question is &quot;none of the above&quot;. When you download new STS it won&#39;t support the old Spring Boot parent version. Just update parent version with latest comes with STS it will work.\r\n\r\n   \t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\r\nIf you have problem getting the latest, just create a new Spring Starter Project.\r\nGo to File-&gt;New-&gt;Spring Start Project and create a demo project you will get the latest parent version, change your version with that all will work. I do this every time I change STS.","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>The answer to the above question is \"none of the above\". When you download new STS it won't support the old Spring Boot parent version. Just update parent version with latest comes with STS it will work.</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>If you have problem getting the latest, just create a new Spring Starter Project.\nGo to File->New->Spring Start Project and create a demo project you will get the latest parent version, change your version with that all will work. I do this every time I change STS.</p>\n"},{"tags":[],"owner":{"account_id":9322111,"reputation":404,"user_id":6920558,"display_name":"Abdessattar NOISSI"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1514044947,"creation_date":1514043779,"answer_id":47953809,"question_id":20740703,"body_markdown":"Clean your maven cache and rerun:\r\n\r\n    mvn dependency:purge-local-repository","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Clean your maven cache and rerun:</p>\n\n<pre><code>mvn dependency:purge-local-repository\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1870995,"reputation":119,"user_id":1693207,"accept_rate":0,"display_name":"user1693207"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521074013,"creation_date":1521074013,"answer_id":49289774,"question_id":20740703,"body_markdown":"I had the same problem and tried most of the solutions suggested above, but none  worked for me. Eventually, I rebuild my entire com.springframework (maven) repository (by simply deleting .m2/org/springworkframework directory). \r\n\r\nIt worked for me.","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>I had the same problem and tried most of the solutions suggested above, but none  worked for me. Eventually, I rebuild my entire com.springframework (maven) repository (by simply deleting .m2/org/springworkframework directory). </p>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8091203,"reputation":2621,"user_id":6097074,"accept_rate":83,"display_name":"ankit"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554384274,"creation_date":1554383821,"answer_id":55516968,"question_id":20740703,"body_markdown":"May be your dependencies not build correctly. Check compilation issue in project.\r\n\r\nClean and rebuild project.\r\n\r\nFor maven project:\r\n`mvn clean install`\r\n\r\nFor gradle projects:\r\n`gradle clean build` or `gradlew clean build`","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>May be your dependencies not build correctly. Check compilation issue in project.</p>\n\n<p>Clean and rebuild project.</p>\n\n<p>For maven project:\n<code>mvn clean install</code></p>\n\n<p>For gradle projects:\n<code>gradle clean build</code> or <code>gradlew clean build</code></p>\n"},{"tags":[],"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558683347,"creation_date":1558683347,"answer_id":56287871,"question_id":20740703,"body_markdown":"In my case, I did remove maven nature manually from `.project` file while having the project opened in Eclipse. So what I&#39;d to do was to add maven nature again using the contextual menu (roght click on the project &gt; configuration &gt; add maven nature). Afterwards, everything worked nice :D","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>In my case, I did remove maven nature manually from <code>.project</code> file while having the project opened in Eclipse. So what I'd to do was to add maven nature again using the contextual menu (roght click on the project > configuration > add maven nature). Afterwards, everything worked nice :D</p>\n"},{"tags":[],"owner":{"account_id":14484665,"reputation":51,"user_id":10462973,"display_name":"jyotinadda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565969105,"creation_date":1565965148,"answer_id":57526278,"question_id":20740703,"body_markdown":"Adding below to pom.xml solved my problem\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n```","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Adding below to pom.xml solved my problem</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17113210,"reputation":1,"user_id":12383457,"display_name":"Gnanaprakash K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577505588,"creation_date":1577505588,"answer_id":59507993,"question_id":20740703,"body_markdown":"Clearing metadata helped me or change the workspace.","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Clearing metadata helped me or change the workspace.</p>\n"},{"tags":[],"owner":{"account_id":1093223,"reputation":1998,"user_id":1087373,"accept_rate":0,"display_name":"snowfox"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1577893949,"creation_date":1577893949,"answer_id":59553885,"question_id":20740703,"body_markdown":"If you are running spring cloud application, make sure your boot version matches \r\n cloud version. You can check the version compatibility matrix at the bottom of this page : https://spring.io/projects/spring-cloud.","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>If you are running spring cloud application, make sure your boot version matches \n cloud version. You can check the version compatibility matrix at the bottom of this page : <a href=\"https://spring.io/projects/spring-cloud\" rel=\"noreferrer\">https://spring.io/projects/spring-cloud</a>.</p>\n"},{"tags":[],"owner":{"account_id":264733,"reputation":1602,"user_id":1961779,"accept_rate":100,"display_name":"Adrian B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654608763,"creation_date":1654608763,"answer_id":72532137,"question_id":20740703,"body_markdown":"You need to also copy the required dependencies next to your resulting jar and include them in the classpath. An alternative is to use [maven-shade-plugin][1].\r\n\r\nSnippet for the first option:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;3.3.0&lt;/version&gt;\r\n   &lt;executions&gt;\r\n      &lt;execution&gt;\r\n         &lt;phase&gt;initialize&lt;/phase&gt;\r\n         &lt;goals&gt;\r\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n         &lt;/goals&gt;\r\n         &lt;configuration&gt;\r\n            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n....\r\n\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;3.2.2&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n      &lt;archive&gt;\r\n         &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n            &lt;mainClass&gt;your.class&lt;/mainClass&gt;\r\n         &lt;/manifest&gt;\r\n      &lt;/archive&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>You need to also copy the required dependencies next to your resulting jar and include them in the classpath. An alternative is to use <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven-shade-plugin</a>.</p>\n<p>Snippet for the first option:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.3.0&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;phase&gt;initialize&lt;/phase&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n\n....\n\n&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.2.2&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;archive&gt;\n         &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;your.class&lt;/mainClass&gt;\n         &lt;/manifest&gt;\n      &lt;/archive&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6350283,"reputation":11,"user_id":4929576,"display_name":"Oluwafemi Rotimi Nehemiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672704200,"creation_date":1672704200,"answer_id":74988059,"question_id":20740703,"body_markdown":"In my case, I followed these steps\r\n\r\n 1. Clean your .m2 folder in your c:/users/your-host-name/.m2\r\n 2. Ensure your pom.xml has this for the buile\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n 3. Update your maven, in IntelliJ, this is done by clicking \r\n[![enter image description here][1]][1]\r\n\r\n 4. Finally, build your jar by using the Maven package button","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>In my case, I followed these steps</p>\n<ol>\n<li><p>Clean your .m2 folder in your c:/users/your-host-name/.m2</p>\n</li>\n<li><p>Ensure your pom.xml has this for the buile</p>\n\n    \n        \n            org.springframework.boot\n            spring-boot-maven-plugin\n            3.0.1\n        \n    \n\n</li>\n<li><p>Update your maven, in IntelliJ, this is done by clicking\n[![enter image description here][1]][1]</p>\n</li>\n<li><p>Finally, build your jar by using the Maven package button</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684174038,"creation_date":1684174038,"answer_id":76256882,"question_id":20740703,"body_markdown":"I got this error when using Docker together with Spring boot.\r\n\r\nThe solution turned out to be to edit Dockerfile  \r\n\r\n**Dockerfile used to look like this:**  \r\n  **FROM** openjdk:11  \r\n  **MAINTAINER** Sergey Zavyalov  \r\n  **COPY** /target/classes/ /app  \r\n  **WORKDIR** /app  \r\n  **EXPOSE** 3000  \r\n  **CMD** java project.Application  \r\n\r\n**I changed it like this:**  \r\n  **FROM** openjdk:11  \r\n  **MAINTAINER** Sergey Zavyalov  \r\n  **COPY** out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar /app/KameleoonTestTask.jar  \r\n  **WORKDIR** /app  \r\n  **EXPOSE** 3000  \r\n  **ENTRYPOINT** [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/KameleoonTestTask.jar&quot;]\r\n","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>I got this error when using Docker together with Spring boot.</p>\n<p>The solution turned out to be to edit Dockerfile</p>\n<p><strong>Dockerfile used to look like this:</strong><br />\n<strong>FROM</strong> openjdk:11<br />\n<strong>MAINTAINER</strong> Sergey Zavyalov<br />\n<strong>COPY</strong> /target/classes/ /app<br />\n<strong>WORKDIR</strong> /app<br />\n<strong>EXPOSE</strong> 3000<br />\n<strong>CMD</strong> java project.Application</p>\n<p><strong>I changed it like this:</strong><br />\n<strong>FROM</strong> openjdk:11<br />\n<strong>MAINTAINER</strong> Sergey Zavyalov<br />\n<strong>COPY</strong> out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar /app/KameleoonTestTask.jar<br />\n<strong>WORKDIR</strong> /app<br />\n<strong>EXPOSE</strong> 3000<br />\n<strong>ENTRYPOINT</strong> [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/KameleoonTestTask.jar&quot;]</p>\n"},{"tags":[],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686415433,"creation_date":1686415433,"answer_id":76447175,"question_id":20740703,"body_markdown":"I was getting the same error and found that one of the new maven dependency which I have added in the project have provided scope and It was not able to find specific classes of that dependency from JDK or a container. \r\n\r\n**This was fixed by changing the scope of dependency to default compile type from provided**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**To**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nhttps://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>I was getting the same error and found that one of the new maven dependency which I have added in the project have provided scope and It was not able to find specific classes of that dependency from JDK or a container.</p>\n<p><strong>This was fixed by changing the scope of dependency to default compile type from provided</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html</a></p>\n"},{"tags":[],"owner":{"account_id":12915446,"reputation":1,"user_id":9339874,"display_name":"neuron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689241718,"creation_date":1689241718,"answer_id":76678046,"question_id":20740703,"body_markdown":"Class Not found is a Runtime exception when it tried to enter the dependency tree for class, and the class is not found in the child dependency of that jar module.\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>Class Not found is a Runtime exception when it tried to enter the dependency tree for class, and the class is not found in the child dependency of that jar module.</p>\n"},{"tags":[],"owner":{"account_id":5605359,"reputation":165,"user_id":8467936,"display_name":"Mohit Sehgal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700226236,"creation_date":1700226236,"answer_id":77501884,"question_id":20740703,"body_markdown":"For me, I faced this issue because I updated java version to 17 but my spring boot starter parent was 2.X. When I changed it to 3.1.5 , the issue was resolved.","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>For me, I faced this issue because I updated java version to 17 but my spring boot starter parent was 2.X. When I changed it to 3.1.5 , the issue was resolved.</p>\n"}],"owner":{"account_id":2039385,"reputation":9855,"user_id":1820957,"accept_rate":86,"display_name":"Ajouve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298758,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":20741145,"answer_count":19,"score":64,"last_activity_date":1700226236,"creation_date":1387791508,"question_id":20740703,"body_markdown":"I&#39;m trying to create a spring mvc application.\r\nThis is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    \t&lt;name&gt;springmvc&lt;/name&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\r\n    \t\t&lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n    \t\t&lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestone&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/libs-milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestone&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/libs-milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- AspectJ --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Logging --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- @Inject --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Servlet --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Test --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Boot --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.5.0.M6&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.5.0.M6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.5.0.M6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.9&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;additionalProjectnatures&gt;\r\n    \t\t\t\t\t\t&lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n    \t\t\t\t\t&lt;/additionalProjectnatures&gt;\r\n    \t\t\t\t\t&lt;additionalBuildcommands&gt;\r\n    \t\t\t\t\t\t&lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n    \t\t\t\t\t&lt;/additionalBuildcommands&gt;\r\n    \t\t\t\t\t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n    \t\t\t\t\t&lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n    \t\t\t\t\t&lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n    \t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n    \t\t\t\t\t&lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;!-- com.ilppa.cocktail.Application --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.ilppa.cocktail.Application&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nwhen I run `mvn clean install` the .jar is generated but when I launch it `java -jar target/test-1.0.0-BUILD-SNAPSHOT.jar`\r\n\r\nI have an error \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\n    \tat com.acme.test.Application.main(Application.java:12)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \t... 1 more\r\n\r\nI don&#39;t understand, I have no errors in eclipse, I think the .jar is in maven depences\r\n","title":"java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication Maven","body":"<p>I'm trying to create a spring mvc application.\nThis is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.acme&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;name&gt;springmvc&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n        &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestone&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/libs-milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestone&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/libs-milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- AspectJ --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- @Inject --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;0.5.0.M6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n            &lt;version&gt;0.5.0.M6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;0.5.0.M6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;additionalProjectnatures&gt;\n                        &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                    &lt;additionalBuildcommands&gt;\n                        &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n                    &lt;/additionalBuildcommands&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                    &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- com.ilppa.cocktail.Application --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.ilppa.cocktail.Application&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>when I run <code>mvn clean install</code> the .jar is generated but when I launch it <code>java -jar target/test-1.0.0-BUILD-SNAPSHOT.jar</code></p>\n\n<p>I have an error </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\n    at com.acme.test.Application.main(Application.java:12)\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 1 more\n</code></pre>\n\n<p>I don't understand, I have no errors in eclipse, I think the .jar is in maven depences</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2095810,"reputation":5066,"user_id":14853083,"display_name":"Tangentially Perpendicular"},"score":1,"creation_date":1700171889,"post_id":77498221,"comment_id":136625306,"body_markdown":"_&quot;I tried this way, but it&#39;s not the right approach.&quot;_ - why is it not the right approach? What problems do you see?","body":"<i>&quot;I tried this way, but it&#39;s not the right approach.&quot;</i> - why is it not the right approach? What problems do you see?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700173055,"post_id":77498221,"comment_id":136625430,"body_markdown":"Is there a link to a page with this problem?","body":"Is there a link to a page with this problem?"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1700173361,"post_id":77498221,"comment_id":136625460,"body_markdown":"@OldDogProgrammer, I don&#39;t have a link. Just curious to know, I see your comments for all my posts, are you a Robo in stackoverflow?","body":"@OldDogProgrammer, I don&#39;t have a link. Just curious to know, I see your comments for all my posts, are you a Robo in stackoverflow?"},{"owner":{"account_id":406349,"reputation":115239,"user_id":775806,"accept_rate":96,"display_name":"n. m. could be an AI"},"score":0,"creation_date":1700201568,"post_id":77498221,"comment_id":136627691,"body_markdown":"This looks like a bunch of random statements not remotely connected to the problem in question.","body":"This looks like a bunch of random statements not remotely connected to the problem in question."},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1700208345,"post_id":77498221,"comment_id":136628444,"body_markdown":"@n.m.couldbeanAI, The question is to travel from the source city `1` to the destination city `N`. We have different paths to travel that take some time while traveling we will connect to other cities in between. The question is the maximum number of cities we can cover during this travel with a limitation that I need to reach the destination at the specified time limit. Hope this helps. If it is still not clear, please let me know so I will add more details.","body":"@n.m.couldbeanAI, The question is to travel from the source city <code>1</code> to the destination city <code>N</code>. We have different paths to travel that take some time while traveling we will connect to other cities in between. The question is the maximum number of cities we can cover during this travel with a limitation that I need to reach the destination at the specified time limit. Hope this helps. If it is still not clear, please let me know so I will add more details."},{"owner":{"account_id":406349,"reputation":115239,"user_id":775806,"accept_rate":96,"display_name":"n. m. could be an AI"},"score":0,"creation_date":1700211490,"post_id":77498221,"comment_id":136628893,"body_markdown":"I understood the problem the first time around. This cannot be said about your code. It looks completely random. Why do you think it should work, or come close to working?","body":"I understood the problem the first time around. This cannot be said about your code. It looks completely random. Why do you think it should work, or come close to working?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700211516,"post_id":77498221,"comment_id":136628900,"body_markdown":"Can you reduce your problem down. One of the &quot;test case&quot;s that you fail? You haven&#39;t shown what the test cases are. What is the goal of your first loop? It looks like you&#39;re trying to find the shortest time to a node at U, but  it isn&#39;t going to accomplish that.","body":"Can you reduce your problem down. One of the &quot;test case&quot;s that you fail? You haven&#39;t shown what the test cases are. What is the goal of your first loop? It looks like you&#39;re trying to find the shortest time to a node at U, but  it isn&#39;t going to accomplish that."},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1700216481,"post_id":77498221,"comment_id":136629780,"body_markdown":"@n.m.couldbeanAI, yes I agree that my code is not correct, I want to know what approach is used to solve this kind of problem. I am deleting the code to avoid confusion.","body":"@n.m.couldbeanAI, yes I agree that my code is not correct, I want to know what approach is used to solve this kind of problem. I am deleting the code to avoid confusion."},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1700216593,"post_id":77498221,"comment_id":136629798,"body_markdown":"@matt, it is failing the second example posted in my question. I deleted the code as my approach is not correct.","body":"@matt, it is failing the second example posted in my question. I deleted the code as my approach is not correct."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700216757,"post_id":77498221,"comment_id":136629838,"body_markdown":"The comments aren&#39;t intended for you to remove your example. We want you to explain your code a bit. It will help you learn and maybe somebody can explain what you&#39;re doing wrong.","body":"The comments aren&#39;t intended for you to remove your example. We want you to explain your code a bit. It will help you learn and maybe somebody can explain what you&#39;re doing wrong."},{"owner":{"account_id":406349,"reputation":115239,"user_id":775806,"accept_rate":96,"display_name":"n. m. could be an AI"},"score":0,"creation_date":1700218222,"post_id":77498221,"comment_id":136630078,"body_markdown":"This is a slight variation of the TSP, there are no good methods of solving it. You can try an exhaustive depth first search with backtracking.","body":"This is a slight variation of the TSP, there are no good methods of solving it. You can try an exhaustive depth first search with backtracking."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700226103,"creation_date":1700218314,"answer_id":77501075,"question_id":77498221,"body_markdown":"This is a pretty common path finding routine. You could perform this by using a &#39;depth first search&#39; which means we&#39;ll take every path and go all the way to the end, or until it exceeds time.\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class Pathfinder{\r\n\r\n    public static void main(String[] args){\r\n        int goal = 5;\r\n        int timeLimit = 6;\r\n        int[] U = {1,3,1,2,4};\r\n        int[] V = {3,5,2,4,5};\r\n        int[] T = {3,3,2,3,2};\r\n\r\n        int edges = U.length;\r\n        List&lt;int[]&gt; path = new ArrayList&lt;&gt;();\r\n\r\n        //node, search, time\r\n        int[] link = { 1, -1, 0};\r\n        path.add(link);\r\n        List&lt;int[]&gt; valid = new ArrayList&lt;&gt;();\r\n\r\n        while(path.size() &gt; 0){\r\n            int[] last = path.get(path.size() - 1);\r\n            int[] next = null;\r\n            for(int o = last[1] + 1; o&lt;edges; o++){\r\n                if(U[o] == last[0]){\r\n                    int time = T[0];\r\n                    if( time + last[2] &lt;= timeLimit ){\r\n                        //valid step.\r\n                        next = new int[]{ V[o], -1, last[2] + time};\r\n                        //keep track of what we searched\r\n                        last[1] = o;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if(next == null){\r\n                //we&#39;ve exhausted this path\r\n                path.remove(path.size() - 1);\r\n            } else{\r\n                if( next[0] == goal ){\r\n                    //we found our goal!\r\n                    int[] cities = new int[path.size() + 1];\r\n                    for(int j = 0; j&lt;path.size(); j++){\r\n                        cities[j] = path.get(j)[0];\r\n                    }\r\n                    cities[path.size()] = goal;\r\n                    valid.add(cities);\r\n                    //this is the end, so don&#39;t add next to the path.\r\n                } else{\r\n                    path.add(next);\r\n                }\r\n            }\r\n        }\r\n        for(int[] cs: valid){\r\n            System.out.println(Arrays.toString(cs));\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nWhen that code finishes, all of the paths that start at 1 and end at the goal will be in the array list `cities`. ","title":"Travel maximum cities in given time limit","body":"<p>This is a pretty common path finding routine. You could perform this by using a 'depth first search' which means we'll take every path and go all the way to the end, or until it exceeds time.</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Pathfinder{\n\n    public static void main(String[] args){\n        int goal = 5;\n        int timeLimit = 6;\n        int[] U = {1,3,1,2,4};\n        int[] V = {3,5,2,4,5};\n        int[] T = {3,3,2,3,2};\n\n        int edges = U.length;\n        List&lt;int[]&gt; path = new ArrayList&lt;&gt;();\n\n        //node, search, time\n        int[] link = { 1, -1, 0};\n        path.add(link);\n        List&lt;int[]&gt; valid = new ArrayList&lt;&gt;();\n\n        while(path.size() &gt; 0){\n            int[] last = path.get(path.size() - 1);\n            int[] next = null;\n            for(int o = last[1] + 1; o&lt;edges; o++){\n                if(U[o] == last[0]){\n                    int time = T[0];\n                    if( time + last[2] &lt;= timeLimit ){\n                        //valid step.\n                        next = new int[]{ V[o], -1, last[2] + time};\n                        //keep track of what we searched\n                        last[1] = o;\n                        break;\n                    }\n                }\n            }\n            if(next == null){\n                //we've exhausted this path\n                path.remove(path.size() - 1);\n            } else{\n                if( next[0] == goal ){\n                    //we found our goal!\n                    int[] cities = new int[path.size() + 1];\n                    for(int j = 0; j&lt;path.size(); j++){\n                        cities[j] = path.get(j)[0];\n                    }\n                    cities[path.size()] = goal;\n                    valid.add(cities);\n                    //this is the end, so don't add next to the path.\n                } else{\n                    path.add(next);\n                }\n            }\n        }\n        for(int[] cs: valid){\n            System.out.println(Arrays.toString(cs));\n        }\n    }\n\n}\n</code></pre>\n<p>When that code finishes, all of the paths that start at 1 and end at the goal will be in the array list <code>cities</code>.</p>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77501075,"answer_count":1,"score":0,"last_activity_date":1700226103,"creation_date":1700171366,"question_id":77498221,"body_markdown":"There are `N` cities represented as vertices from 1 to N\r\n\r\nWe can travel from one city to another in a given time. This is represented by edges as arrays `U` and `V` where `(U[i], V[i])` represent an edge and time required to travel this edge is represented by `T[i]`\r\n\r\nNow I should always start the travel from `1` and end at `N` in a given limited time `TimeLimit`, and cover the maximum number of cities from 1 to N.\r\n\r\nPrint the number of cities covered and the corresponding vertices in the order we can visit the cities.\r\n\r\n**Example 1:**\r\n\r\n    N = 3, TimeLimit = 15\r\n    U = [1,2]\r\n    V = [3,3]\r\n    T = [9, 7]\r\n\r\n**Output:**\r\n\r\n    2\r\n    1 3\r\n\r\n**Explanation:**\r\n\r\n    we can start from 1 and reach 3 in time 9 which is less than the allowed time limit of 15\r\n    \r\n    So cities are 1, 3 and so the number of cities is 2\r\n\r\n**Example 2:**\r\n\r\n    N = 5, TimeLimit = 6\r\n    U = [1,3,1,2,4]\r\n    V = [3,5,2,4,5]\r\n    T = [3,3,2,3,2]\r\n\r\n**Output:**\r\n\r\n    3\r\n    1 3 5\r\n\r\n**Explanation:**\r\n\r\n    we can start from 1 and reach 3 in time 3 in time 3\r\n    we can continue to travel from city 3 to city 5 in time 3. So the total time is 3+3 = 6, so our time limit is 6. So valid path\r\n    \r\n    So the cities covered are 1,3,5 and so the number of cities is 3.\r\n\r\n\r\nWhat is the correct approach to solve this program?\r\n\r\n\r\n**Update:**\r\n\r\nI want to travel from the source city `1` to the destination city `N`. We have different paths to travel that take some time while traveling we will connect to other cities in between. The question is the maximum number of cities we can cover during this travel with a limitation that I need to reach the destination at the specified time limit. Hope this helps. If it is still not clear, please let me know so I will add more details.\r\n\r\n\r\n\r\n","title":"Travel maximum cities in given time limit","body":"<p>There are <code>N</code> cities represented as vertices from 1 to N</p>\n<p>We can travel from one city to another in a given time. This is represented by edges as arrays <code>U</code> and <code>V</code> where <code>(U[i], V[i])</code> represent an edge and time required to travel this edge is represented by <code>T[i]</code></p>\n<p>Now I should always start the travel from <code>1</code> and end at <code>N</code> in a given limited time <code>TimeLimit</code>, and cover the maximum number of cities from 1 to N.</p>\n<p>Print the number of cities covered and the corresponding vertices in the order we can visit the cities.</p>\n<p><strong>Example 1:</strong></p>\n<pre><code>N = 3, TimeLimit = 15\nU = [1,2]\nV = [3,3]\nT = [9, 7]\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2\n1 3\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>we can start from 1 and reach 3 in time 9 which is less than the allowed time limit of 15\n\nSo cities are 1, 3 and so the number of cities is 2\n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>N = 5, TimeLimit = 6\nU = [1,3,1,2,4]\nV = [3,5,2,4,5]\nT = [3,3,2,3,2]\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>3\n1 3 5\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>we can start from 1 and reach 3 in time 3 in time 3\nwe can continue to travel from city 3 to city 5 in time 3. So the total time is 3+3 = 6, so our time limit is 6. So valid path\n\nSo the cities covered are 1,3,5 and so the number of cities is 3.\n</code></pre>\n<p>What is the correct approach to solve this program?</p>\n<p><strong>Update:</strong></p>\n<p>I want to travel from the source city <code>1</code> to the destination city <code>N</code>. We have different paths to travel that take some time while traveling we will connect to other cities in between. The question is the maximum number of cities we can cover during this travel with a limitation that I need to reach the destination at the specified time limit. Hope this helps. If it is still not clear, please let me know so I will add more details.</p>\n"},{"tags":["java","spring-boot","maven","microservices","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700225834,"creation_date":1700225489,"answer_id":77501808,"question_id":77501018,"body_markdown":"This is documented in [this GitHub issue](https://github.com/spring-cloud/spring-cloud-netflix/issues/843). The problem is that the default instance ID that is used to register with Eureka looks like this:\r\n\r\n```\r\n${spring.application.name}:${server.port}\r\n```\r\n\r\nSo even if you run your microservice on a random port by using `server.port=0`, the ID it uses within Eureka in both cases is `Inventory-Service:0`. Since the ID has to be unique, only one instance is registered in Eureka.\r\n\r\n[![Example of Eureka dashboard containing a single instance with ID Inventory-Service:0][1]][1]\r\n\r\nThe solution to this problem is to either not work with random ports, or to make sure you generate a unique Eureka ID for each instance.\r\n\r\nFor example:\r\n\r\n```\r\neureka.instance.instance-id=${spring.application.name}:${random.int}\r\n```\r\n\r\n[![Example of Eureka dashboard containing two instances, each with a unique random ID][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X0KRY.png\r\n  [2]: https://i.stack.imgur.com/l8XaP.png","title":"Why is my microservice not registering both instances with the Eureka server?","body":"<p>This is documented in <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/843\" rel=\"nofollow noreferrer\">this GitHub issue</a>. The problem is that the default instance ID that is used to register with Eureka looks like this:</p>\n<pre><code>${spring.application.name}:${server.port}\n</code></pre>\n<p>So even if you run your microservice on a random port by using <code>server.port=0</code>, the ID it uses within Eureka in both cases is <code>Inventory-Service:0</code>. Since the ID has to be unique, only one instance is registered in Eureka.</p>\n<p><a href=\"https://i.stack.imgur.com/X0KRY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X0KRY.png\" alt=\"Example of Eureka dashboard containing a single instance with ID Inventory-Service:0\" /></a></p>\n<p>The solution to this problem is to either not work with random ports, or to make sure you generate a unique Eureka ID for each instance.</p>\n<p>For example:</p>\n<pre><code>eureka.instance.instance-id=${spring.application.name}:${random.int}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/l8XaP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l8XaP.png\" alt=\"Example of Eureka dashboard containing two instances, each with a unique random ID\" /></a></p>\n"}],"owner":{"account_id":27787032,"reputation":69,"user_id":21214268,"display_name":"jessiepinkman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77501808,"answer_count":1,"score":0,"last_activity_date":1700225834,"creation_date":1700217783,"question_id":77501018,"body_markdown":"I have set up two instances of my microservice on different ports, but only one instance is visible on the Eureka dashboard. I have set the following properties in my microservice&#39;s `application.properties` file:\r\n```\r\nserver.port=0\r\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka\r\neureka.client.register-with-eureka=true\r\neureka.client.fetch-registry=true\r\nspring.application.name=Inventory-Service\r\n```\r\n\r\nHowever, when I check the Eureka dashboard, I can only see one instance of my microservice. I am sure that both instances are running. What could be the issue?\r\n\r\n\r\nI am using Spring Boot and Spring Cloud. Any help would be appreciated. Thanks!\r\n","title":"Why is my microservice not registering both instances with the Eureka server?","body":"<p>I have set up two instances of my microservice on different ports, but only one instance is visible on the Eureka dashboard. I have set the following properties in my microservice's <code>application.properties</code> file:</p>\n<pre><code>server.port=0\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\nspring.application.name=Inventory-Service\n</code></pre>\n<p>However, when I check the Eureka dashboard, I can only see one instance of my microservice. I am sure that both instances are running. What could be the issue?</p>\n<p>I am using Spring Boot and Spring Cloud. Any help would be appreciated. Thanks!</p>\n"},{"tags":["java","maven","intellij-idea","teamcity"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695369838,"post_id":77124867,"comment_id":136017965,"body_markdown":"when you say navigate? what do you mean by that? Do you want to compile?","body":"when you say navigate? what do you mean by that? Do you want to compile?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1695371733,"post_id":77124867,"comment_id":136018275,"body_markdown":"I want to run the tests for submodule?","body":"I want to run the tests for submodule?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695372014,"post_id":77124867,"comment_id":136018314,"body_markdown":"You want to run tests and generate report for all those modules form parent right?","body":"You want to run tests and generate report for all those modules form parent right?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1695372068,"post_id":77124867,"comment_id":136018328,"body_markdown":"No need, I just want to run the tests for each submodules, There are report generator sub module","body":"No need, I just want to run the tests for each submodules, There are report generator sub module"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695372144,"post_id":77124867,"comment_id":136018344,"body_markdown":"report generator module in same parent too?","body":"report generator module in same parent too?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1695372365,"post_id":77124867,"comment_id":136018391,"body_markdown":"Report generator isin same parent.","body":"Report generator isin same parent."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695372379,"post_id":77124867,"comment_id":136018396,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255376/discussion-between-anish-b-and-nicholas).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255376/discussion-between-anish-b-and-nicholas\">continue this discussion in chat</a>."},{"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1695411123,"post_id":77124867,"comment_id":136025924,"body_markdown":"can you post your `pom.xml`?","body":"can you post your <code>pom.xml</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700225458,"creation_date":1695383012,"answer_id":77157326,"question_id":77124867,"body_markdown":"**Steps to run the submodule in the IntellJ&#39;s teamcity with Maven:**\r\n\r\n1. I assume there is a parent Maven project created/import already in the team city. For example: I imported a project with the name &#39;aggregator&#39;.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n2. Now I will create a submodule via teamcity. Click to **Administration** option on the top right hand corner beside the profile logo.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3. Click on **Projects** option on the left side and then click on the parent name to open the Project tab.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4. Scroll down at the end, you will find a subprojects tab. There will be + button to create new sub module within the parent project. \r\n\r\n[![enter image description here][4]][4]\r\n\r\n5. After clicking on + button, it will land you to the page where it will ask sub-module to create via repository url or manually. \r\n\r\nI will be doing it manually for now. I give the name of the sub module as &#39;report-generator&#39;.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n6. Click on the create button. It will create the sub-module successfully with the message.\r\n\r\n&gt; Project &quot;Aggregator / report-generator&quot; has been successfully created.\r\n&gt; You can now create a build configuration.\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n7. Now, you have to create build configuration. On the sub-module project page, you will find the tab there. Go there and click on the plus button.\r\n\r\n[![enter image description here][7]][7]\r\n\r\n8. Enter any name for the build configuration and click on the create.\r\n\r\n[![enter image description here][8]][8]\r\n\r\n9. Click on Attach existing VCS Root and select the parent module&#39;s one. Or you can create a new VCS root by clicking on Create new VCS Root. \r\n\r\nNow, as soon as you select this, the teamcity will auto-detect the presence of the build tools and setting that you are using for parent project and recommend it if you want to use it for sub-module also.\r\n\r\nIn your case, you want to run the sub-module with maven. So, in that case, select **Maven** as build step.\r\n\r\n[![enter image description here][9]][9]\r\n\r\n10. Click on **Use selected** and you are done.\r\n\r\n[![enter image description here][10]][10]\r\n\r\n11. Click on Run to execute sub-module build and it will use Maven as build step from parent.\r\n\r\n[![enter image description here][11]][11]\r\n\r\nSuccessful Execution of the sub-module via Maven build step.\r\n\r\n[![enter image description here][12]][12]\r\n\r\n  [1]: https://i.stack.imgur.com/axUNq.png\r\n  [2]: https://i.stack.imgur.com/Djzho.png\r\n  [3]: https://i.stack.imgur.com/xkTO6.png\r\n  [4]: https://i.stack.imgur.com/nO8pZ.png\r\n  [5]: https://i.stack.imgur.com/kuF2z.png\r\n  [6]: https://i.stack.imgur.com/w94o1.png\r\n  [7]: https://i.stack.imgur.com/YjJOd.png\r\n  [8]: https://i.stack.imgur.com/G16tp.png\r\n  [9]: https://i.stack.imgur.com/YeVwF.png\r\n  [10]: https://i.stack.imgur.com/3GGyq.png\r\n  [11]: https://i.stack.imgur.com/nZvPW.png\r\n  [12]: https://i.stack.imgur.com/XvUOx.png","title":"How to build a sub-module in IntelliJ&#39;s TeamCity via Maven?","body":"<p><strong>Steps to run the submodule in the IntellJ's teamcity with Maven:</strong></p>\n<ol>\n<li>I assume there is a parent Maven project created/import already in the team city. For example: I imported a project with the name 'aggregator'.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/axUNq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axUNq.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Now I will create a submodule via teamcity. Click to <strong>Administration</strong> option on the top right hand corner beside the profile logo.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Djzho.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Djzho.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Click on <strong>Projects</strong> option on the left side and then click on the parent name to open the Project tab.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/xkTO6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xkTO6.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Scroll down at the end, you will find a subprojects tab. There will be + button to create new sub module within the parent project.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nO8pZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nO8pZ.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li>After clicking on + button, it will land you to the page where it will ask sub-module to create via repository url or manually.</li>\n</ol>\n<p>I will be doing it manually for now. I give the name of the sub module as 'report-generator'.</p>\n<p><a href=\"https://i.stack.imgur.com/kuF2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kuF2z.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"6\">\n<li>Click on the create button. It will create the sub-module successfully with the message.</li>\n</ol>\n<blockquote>\n<p>Project &quot;Aggregator / report-generator&quot; has been successfully created.\nYou can now create a build configuration.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/w94o1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w94o1.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"7\">\n<li>Now, you have to create build configuration. On the sub-module project page, you will find the tab there. Go there and click on the plus button.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/YjJOd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YjJOd.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"8\">\n<li>Enter any name for the build configuration and click on the create.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/G16tp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G16tp.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"9\">\n<li>Click on Attach existing VCS Root and select the parent module's one. Or you can create a new VCS root by clicking on Create new VCS Root.</li>\n</ol>\n<p>Now, as soon as you select this, the teamcity will auto-detect the presence of the build tools and setting that you are using for parent project and recommend it if you want to use it for sub-module also.</p>\n<p>In your case, you want to run the sub-module with maven. So, in that case, select <strong>Maven</strong> as build step.</p>\n<p><a href=\"https://i.stack.imgur.com/YeVwF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YeVwF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"10\">\n<li>Click on <strong>Use selected</strong> and you are done.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/3GGyq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3GGyq.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"11\">\n<li>Click on Run to execute sub-module build and it will use Maven as build step from parent.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nZvPW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nZvPW.png\" alt=\"enter image description here\" /></a></p>\n<p>Successful Execution of the sub-module via Maven build step.</p>\n<p><a href=\"https://i.stack.imgur.com/XvUOx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XvUOx.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77157326,"answer_count":1,"score":3,"last_activity_date":1700225458,"creation_date":1695017372,"question_id":77124867,"body_markdown":"I have a parent project which contains several sub modules created with **Maven**. \r\n\r\nI need to run the sub modules one by one and then last one is report generator module in team city using Maven. How to do this? \r\n\r\nThe main project is **aggregrator project** contains sub modules which are **automation testing** and **report generator project**. \r\n\r\nReport Generator project has no artifact dependency but it&#39;s has a dependency on the output report file generated from other submodules. The report module will grab the HTML report file from relative directory prior running the sub modules. Once the HTML report file is grabbed, it creates a `.zip` file that contains several reports which is sent out in a single shot. \r\n\r\nI want to build a sub-module created with Maven in IntelliJ&#39;s TeamCity. How can we achieve that?","title":"How to build a sub-module in IntelliJ&#39;s TeamCity via Maven?","body":"<p>I have a parent project which contains several sub modules created with <strong>Maven</strong>.</p>\n<p>I need to run the sub modules one by one and then last one is report generator module in team city using Maven. How to do this?</p>\n<p>The main project is <strong>aggregrator project</strong> contains sub modules which are <strong>automation testing</strong> and <strong>report generator project</strong>.</p>\n<p>Report Generator project has no artifact dependency but it's has a dependency on the output report file generated from other submodules. The report module will grab the HTML report file from relative directory prior running the sub modules. Once the HTML report file is grabbed, it creates a <code>.zip</code> file that contains several reports which is sent out in a single shot.</p>\n<p>I want to build a sub-module created with Maven in IntelliJ's TeamCity. How can we achieve that?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700163336,"post_id":77495874,"comment_id":136624112,"body_markdown":"Can you try replacing `.requestMatchers(&quot;/js/*&quot;).permitAll()` by `.requestMatchers(&quot;/js/**&quot;).permitAll()`?","body":"Can you try replacing <code>.requestMatchers(&quot;&#47;js&#47;*&quot;).permitAll()</code> by <code>.requestMatchers(&quot;&#47;js&#47;**&quot;).permitAll()</code>?"},{"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1700169803,"post_id":77495874,"comment_id":136625041,"body_markdown":"@dan1st didn&#39;t worked. Instead I ended up in url `http://localhost:8080/vendor/chart.js/Chart.min.js?continue`","body":"@dan1st didn&#39;t worked. Instead I ended up in url <code>http:&#47;&#47;localhost:8080&#47;vendor&#47;chart.js&#47;Chart.min.js?continue</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700170719,"post_id":77495874,"comment_id":136625164,"body_markdown":"You might need to do the same with `/vendor` and similar.","body":"You might need to do the same with <code>&#47;vendor</code> and similar."},{"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1700170777,"post_id":77495874,"comment_id":136625171,"body_markdown":"@dan1st what is the difference between `/js/*` and `/js/**`?","body":"@dan1st what is the difference between <code>&#47;js&#47;*</code> and <code>&#47;js&#47;**</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8928773,"reputation":213,"user_id":6662076,"display_name":"Alireza Nazari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700225446,"creation_date":1700225446,"answer_id":77501801,"question_id":77495874,"body_markdown":"You can use a SuccessHandler. Below is a simple example of a custom MySimpleUrlAuthenticationSuccessHandler class that implements both AuthenticationSuccessHandler and AuthenticationFailureHandler interfaces. This example uses Spring Security to handle authentication success and failure:\r\n\r\n    \r\n    public class MySimpleUrlAuthenticationSuccessHandler implements AuthenticationSuccessHandler, AuthenticationFailureHandler {\r\n    \r\n        @Override\r\n        public void onAuthenticationSuccess(\r\n                HttpServletRequest request,\r\n                HttpServletResponse response,\r\n                Authentication authentication) throws IOException, ServletException {\r\n            response.sendRedirect(&quot;/categories&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onAuthenticationFailure(\r\n                HttpServletRequest request,\r\n                HttpServletResponse response,\r\n                AuthenticationException exception) throws IOException, ServletException {\r\n            response.sendRedirect(&quot;/login&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThe onAuthenticationSuccess method handles successful authentication.\r\nThe onAuthenticationFailure method handles authentication failure.\r\n\r\nUse it in your SecurityFilterChain:\r\n\r\n    http.formLogin(form -&gt; form\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .successHandler(MySimpleUrlAuthenticationSuccessHandler())\r\n                    .failureHandler(MySimpleUrlAuthenticationFailureHandler())\r\n                    .permitAll()\r\n            );","title":"spring boot redirect to wrong url","body":"<p>You can use a SuccessHandler. Below is a simple example of a custom MySimpleUrlAuthenticationSuccessHandler class that implements both AuthenticationSuccessHandler and AuthenticationFailureHandler interfaces. This example uses Spring Security to handle authentication success and failure:</p>\n<pre><code>public class MySimpleUrlAuthenticationSuccessHandler implements AuthenticationSuccessHandler, AuthenticationFailureHandler {\n\n    @Override\n    public void onAuthenticationSuccess(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException, ServletException {\n        response.sendRedirect(&quot;/categories&quot;);\n    }\n\n    @Override\n    public void onAuthenticationFailure(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            AuthenticationException exception) throws IOException, ServletException {\n        response.sendRedirect(&quot;/login&quot;);\n    }\n}\n</code></pre>\n<p>The onAuthenticationSuccess method handles successful authentication.\nThe onAuthenticationFailure method handles authentication failure.</p>\n<p>Use it in your SecurityFilterChain:</p>\n<pre><code>http.formLogin(form -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .loginProcessingUrl(&quot;/login&quot;)\n                .successHandler(MySimpleUrlAuthenticationSuccessHandler())\n                .failureHandler(MySimpleUrlAuthenticationFailureHandler())\n                .permitAll()\n        );\n</code></pre>\n"}],"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700225446,"creation_date":1700146547,"question_id":77495874,"body_markdown":"The spring boot security should redirect by default to url requested. According to \r\n[https://stackoverflow.com/questions/36243352/how-to-set-redirection-after-successful-login][1]:\r\n\r\n&gt; By default, Spring Security will redirect after login to the secured\r\n&gt; ressource you tried to access\r\n\r\nAfter server is running and entering `localhost:3000/categories`, it correctly routes me to `/login` but after successful login it routes me to `http://localhost:8080/js/demo/chart-pie-demo.js?continue` which of course is not `/categories`. Why is that?\r\n\r\n*SecurityConfig.java*:\r\n\r\n    ...\r\n     @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http.authorizeHttpRequests(req -&gt; req\r\n                    // 1. enable project static assets\r\n                    .requestMatchers(&quot;/css/*&quot;).permitAll()\r\n                    .requestMatchers(&quot;/img/*&quot;).permitAll()\r\n                    .requestMatchers(&quot;/js/*&quot;).permitAll()\r\n                    .requestMatchers(&quot;/scss/*&quot;).permitAll()\r\n                    .requestMatchers(&quot;/vendor/*&quot;).permitAll()\r\n    \r\n                    // 2. admin\r\n                    .requestMatchers(&quot;/admin/*&quot;).hasRole(&quot;ADMIN&quot;)\r\n    \r\n                    // 3. enable for all\r\n                    .requestMatchers(&quot;/register&quot;).permitAll()\r\n                    .requestMatchers(&quot;/register-new&quot;).permitAll()\r\n                    .requestMatchers(&quot;/forgot-password&quot;).permitAll()\r\n    \r\n                    // 4. else require authentication\r\n                    .anyRequest().authenticated()\r\n            ).formLogin(form -&gt; form\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .loginProcessingUrl(&quot;/do-login&quot;)\r\n                    .permitAll()\r\n            ).logout(logout -&gt; logout\r\n                    .invalidateHttpSession(true)\r\n                    .clearAuthentication(true)\r\n                    .permitAll()\r\n            );\r\n            return http.build();\r\n        }\r\n    ...\r\n\r\n*LoginController.java*:\r\n\r\n    @Controller\r\n    public class LoginController {\r\n        @Autowired\r\n        private AdminService adminService;\r\n    \r\n    \r\n        @GetMapping(&quot;/login&quot;)\r\n        public String loginForm() {\r\n            return &quot;login&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/register&quot;)\r\n        public String register(Model model) {\r\n            model.addAttribute(&quot;adminDto&quot;, new AdminDto());\r\n            return &quot;register&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/forgot-password&quot;)\r\n        public String forgotPassword(Model model) {\r\n            return &quot;forgot-password&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/register-new&quot;)\r\n        public String addNewAdmin(\r\n                @Valid @ModelAttribute(&quot;adminDto&quot;) AdminDto adminDto,\r\n                BindingResult result,\r\n                Model model,\r\n                RedirectAttributes redirectAttributes) {\r\n            // dto is not changed anywhere so could be just passed as is\r\n            model.addAttribute(&quot;adminDto&quot;, adminDto);\r\n            try {\r\n                // 1. errors in validation\r\n                if (result.hasErrors()) {\r\n                    System.out.println(&quot;there were errors&quot;);\r\n                    return &quot;/register&quot;;\r\n                }\r\n                // 2. user is already registered\r\n                if (adminService.findByUsername(adminDto.getUsername()) != null) {\r\n                    redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;You are already registered&quot;);\r\n                    return &quot;redirect:/register&quot;;\r\n                }\r\n                // 3. password and repeatPassword do not equal\r\n                if (!adminDto.getPassword().equals(adminDto.getRepeatPassword())) {\r\n                    redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Passwords are not same&quot;);\r\n                    return &quot;redirect:/register&quot;;\r\n                }\r\n                // 4. success\r\n                adminService.save(adminDto);\r\n                redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Registered successfully&quot;);\r\n            } catch (Exception e) {\r\n                // 5. all other errors\r\n                redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Unknown server error&quot;);\r\n                return &quot;redirect:/register&quot;;\r\n            }\r\n            return &quot;redirect:/register&quot;;\r\n        }\r\n    }\r\n\r\n*login.html*:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;div th:replace=&quot;~{fragments/header::header}&quot;&gt;&lt;/div&gt;\r\n    \r\n    &lt;body class=&quot;bg-gradient-primary&quot;&gt;\r\n    \r\n      &lt;div class=&quot;container&quot;&gt;\r\n    \r\n        &lt;!-- Outer Row --&gt;\r\n        &lt;div class=&quot;row justify-content-center&quot;&gt;\r\n    \r\n          &lt;div class=&quot;col-xl-10 col-lg-12 col-md-9&quot;&gt;\r\n    \r\n            &lt;div class=&quot;card o-hidden border-0 shadow-lg my-5&quot;&gt;\r\n              &lt;div class=&quot;card-body p-0&quot;&gt;\r\n                &lt;!-- Nested Row within Card Body --&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                  &lt;div class=&quot;col-lg-6 d-none d-lg-block bg-login-image&quot;&gt;&lt;/div&gt;\r\n                  &lt;div class=&quot;col-lg-6&quot;&gt;\r\n                    &lt;div class=&quot;p-5&quot;&gt;\r\n                      &lt;div class=&quot;text-center&quot;&gt;\r\n                        &lt;h1 class=&quot;h4 text-gray-900 mb-4&quot;&gt;Welcome Back!&lt;/h1&gt;\r\n                      &lt;/div&gt;\r\n                      &lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-danger text-center&quot;&gt;\r\n                        Invalid username or password\r\n                      &lt;/div&gt;\r\n                      &lt;div th:if=&quot;${param.logout}&quot; class=&quot;alert alert-info text-center&quot;&gt;\r\n                        You have been logged out\r\n                      &lt;/div&gt;\r\n                      &lt;form th:action=&quot;@{/do-login}&quot; method=&quot;post&quot; class=&quot;user&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                          &lt;input type=&quot;email&quot; name=&quot;username&quot; class=&quot;form-control form-control-user&quot; id=&quot;exampleInputEmail&quot;\r\n                            aria-describedby=&quot;emailHelp&quot; placeholder=&quot;Enter Email Address...&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                          &lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control form-control-user&quot;\r\n                            id=&quot;exampleInputPassword&quot; placeholder=&quot;Password&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;button class=&quot;btn btn-primary btn-user btn-block&quot;&gt;\r\n                          Login\r\n                        &lt;/button&gt;\r\n                      &lt;/form&gt;\r\n                      &lt;hr&gt;\r\n                      &lt;div class=&quot;text-center&quot;&gt;\r\n                        &lt;a class=&quot;small&quot; th:href=&quot;@{/forgot-password}&quot;&gt;Forgot Password?&lt;/a&gt;\r\n                      &lt;/div&gt;\r\n                      &lt;div class=&quot;text-center&quot;&gt;\r\n                        &lt;a class=&quot;small&quot; th:href=&quot;@{/register}&quot;&gt;Create an Account!&lt;/a&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n    \r\n          &lt;/div&gt;\r\n    \r\n        &lt;/div&gt;\r\n    \r\n      &lt;/div&gt;\r\n    \r\n      &lt;div th:replace=&quot;~{fragments/scripts::scripts}&quot;&gt;&lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\n*$tree src/main/resources/templates*:\r\n\r\n    src/main/resources/templates/\r\n    ├── categories.html\r\n    ├── forgot-password.html\r\n    ├── fragments\r\n    │&#160;&#160; ├── footer.html\r\n    │&#160;&#160; ├── header.html\r\n    │&#160;&#160; ├── scripts.html\r\n    │&#160;&#160; ├── sidebar.html\r\n    │&#160;&#160; └── topbar.html\r\n    ├── index.html\r\n    ├── login.html\r\n    └── register.html\r\n\r\nEDIT:\r\nthe frontend or the templates are from [sb-admin-2][1]\r\n\r\nEDIT2: the spring-boot security debug log:\r\n\r\n\r\n    2023-11-16T14:50:29.214+01:00  INFO 3766 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-11-16T14:50:29.226+01:00  INFO 3766 --- [           main] c.e.ecommerce.EcommerceApplication       : Started EcommerceApplication in 6.398 seconds (process running for 6.825)\r\n    2023-11-16T14:50:39.372+01:00  INFO 3766 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-11-16T14:50:39.373+01:00  INFO 3766 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-11-16T14:50:39.375+01:00  INFO 3766 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n    2023-11-16T14:50:39.392+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /categories\r\n    2023-11-16T14:50:39.429+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:39.449+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/categories?continue to session\r\n    2023-11-16T14:50:39.450+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:39.462+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:39.463+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:39.898+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:39.962+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /vendor/fontawesome-free/css/all.min.css\r\n    2023-11-16T14:50:39.964+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /css/sb-admin-2.min.css\r\n    2023-11-16T14:50:39.965+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /vendor/jquery/jquery.min.js\r\n    2023-11-16T14:50:39.969+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /js/sb-admin-2.min.js\r\n    2023-11-16T14:50:39.969+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /vendor/jquery-easing/jquery.easing.min.js\r\n    2023-11-16T14:50:39.971+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /vendor/bootstrap/js/bootstrap.bundle.min.js\r\n    2023-11-16T14:50:39.973+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /js/sb-admin-2.min.js\r\n    2023-11-16T14:50:39.975+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /css/sb-admin-2.min.css\r\n    2023-11-16T14:50:39.979+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:39.981+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:39.982+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:39.984+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/jquery-easing/jquery.easing.min.js?continue to session\r\n    2023-11-16T14:50:39.984+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:39.985+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/jquery/jquery.min.js?continue to session\r\n    2023-11-16T14:50:39.985+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:39.986+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:39.986+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/fontawesome-free/css/all.min.css?continue to session\r\n    2023-11-16T14:50:39.987+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:39.988+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/bootstrap/js/bootstrap.bundle.min.js?continue to session\r\n    2023-11-16T14:50:39.990+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:39.990+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /vendor/chart.js/Chart.min.js\r\n    2023-11-16T14:50:39.991+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-area-demo.js\r\n    2023-11-16T14:50:39.997+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-pie-demo.js\r\n    2023-11-16T14:50:40.000+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.002+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.002+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/chart.js/Chart.min.js?continue to session\r\n    2023-11-16T14:50:40.002+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.003+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.004+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-area-demo.js?continue to session\r\n    2023-11-16T14:50:40.004+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.006+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.008+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.009+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-pie-demo.js?continue to session\r\n    2023-11-16T14:50:40.010+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.069+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.070+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.070+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.070+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.072+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.072+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.073+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.074+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.075+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.076+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.078+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.077+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.076+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.079+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.080+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.081+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.083+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.083+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.083+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.087+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.087+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.109+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /vendor/jquery-easing/jquery.easing.min.js\r\n    2023-11-16T14:50:40.113+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.114+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/jquery-easing/jquery.easing.min.js?continue to session\r\n    2023-11-16T14:50:40.115+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.173+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.174+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.180+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.184+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /vendor/chart.js/Chart.min.js\r\n    2023-11-16T14:50:40.188+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.189+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/chart.js/Chart.min.js?continue to session\r\n    2023-11-16T14:50:40.189+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.197+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.197+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.203+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.208+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-area-demo.js\r\n    2023-11-16T14:50:40.212+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.213+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-area-demo.js?continue to session\r\n    2023-11-16T14:50:40.214+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.218+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.219+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.223+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.227+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-pie-demo.js\r\n    2023-11-16T14:50:40.230+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.231+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-pie-demo.js?continue to session\r\n    2023-11-16T14:50:40.231+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.237+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.238+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.242+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.247+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico\r\n    2023-11-16T14:50:40.249+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:50:40.250+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n    2023-11-16T14:50:40.257+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-11-16T14:50:40.258+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2023-11-16T14:50:40.261+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-11-16T14:52:10.158+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /do-login\r\n\r\nEDIT3:\r\nsomeone may think this is answered already here [https://stackoverflow.com/questions/56597973/java-spring-app-redirect-wrong-url-on-tomcatapache2][2], but there the solution is:\r\n\r\n\r\n&gt; Assuming it is a spring boot application, then you should define both\r\n&gt; the paths of action in your spring app\r\n\r\nbut I have define all paths for which I redirect, that is - for every `return &quot;redirect:/register&quot;;` there is \r\n\r\n    @GetMapping(&quot;/register&quot;)\r\n        public String register(Model model) {\r\n            model.addAttribute(&quot;adminDto&quot;, new AdminDto());\r\n            return &quot;register&quot;;\r\n        }\r\n\r\nso this is clearly not a solution to me.\r\n\r\n\r\n  [1]: https://startbootstrap.com/theme/sb-admin-2\r\n  [2]: https://stackoverflow.com/questions/56597973/java-spring-app-redirect-wrong-url-on-tomcatapache2","title":"spring boot redirect to wrong url","body":"<p>The spring boot security should redirect by default to url requested. According to\n<a href=\"https://startbootstrap.com/theme/sb-admin-2\" rel=\"nofollow noreferrer\">https://stackoverflow.com/questions/36243352/how-to-set-redirection-after-successful-login</a>:</p>\n<blockquote>\n<p>By default, Spring Security will redirect after login to the secured\nressource you tried to access</p>\n</blockquote>\n<p>After server is running and entering <code>localhost:3000/categories</code>, it correctly routes me to <code>/login</code> but after successful login it routes me to <code>http://localhost:8080/js/demo/chart-pie-demo.js?continue</code> which of course is not <code>/categories</code>. Why is that?</p>\n<p><em>SecurityConfig.java</em>:</p>\n<pre><code>...\n @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(req -&gt; req\n                // 1. enable project static assets\n                .requestMatchers(&quot;/css/*&quot;).permitAll()\n                .requestMatchers(&quot;/img/*&quot;).permitAll()\n                .requestMatchers(&quot;/js/*&quot;).permitAll()\n                .requestMatchers(&quot;/scss/*&quot;).permitAll()\n                .requestMatchers(&quot;/vendor/*&quot;).permitAll()\n\n                // 2. admin\n                .requestMatchers(&quot;/admin/*&quot;).hasRole(&quot;ADMIN&quot;)\n\n                // 3. enable for all\n                .requestMatchers(&quot;/register&quot;).permitAll()\n                .requestMatchers(&quot;/register-new&quot;).permitAll()\n                .requestMatchers(&quot;/forgot-password&quot;).permitAll()\n\n                // 4. else require authentication\n                .anyRequest().authenticated()\n        ).formLogin(form -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .loginProcessingUrl(&quot;/do-login&quot;)\n                .permitAll()\n        ).logout(logout -&gt; logout\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .permitAll()\n        );\n        return http.build();\n    }\n...\n</code></pre>\n<p><em>LoginController.java</em>:</p>\n<pre><code>@Controller\npublic class LoginController {\n    @Autowired\n    private AdminService adminService;\n\n\n    @GetMapping(&quot;/login&quot;)\n    public String loginForm() {\n        return &quot;login&quot;;\n    }\n\n    @GetMapping(&quot;/register&quot;)\n    public String register(Model model) {\n        model.addAttribute(&quot;adminDto&quot;, new AdminDto());\n        return &quot;register&quot;;\n    }\n\n    @GetMapping(&quot;/forgot-password&quot;)\n    public String forgotPassword(Model model) {\n        return &quot;forgot-password&quot;;\n    }\n\n    @PostMapping(&quot;/register-new&quot;)\n    public String addNewAdmin(\n            @Valid @ModelAttribute(&quot;adminDto&quot;) AdminDto adminDto,\n            BindingResult result,\n            Model model,\n            RedirectAttributes redirectAttributes) {\n        // dto is not changed anywhere so could be just passed as is\n        model.addAttribute(&quot;adminDto&quot;, adminDto);\n        try {\n            // 1. errors in validation\n            if (result.hasErrors()) {\n                System.out.println(&quot;there were errors&quot;);\n                return &quot;/register&quot;;\n            }\n            // 2. user is already registered\n            if (adminService.findByUsername(adminDto.getUsername()) != null) {\n                redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;You are already registered&quot;);\n                return &quot;redirect:/register&quot;;\n            }\n            // 3. password and repeatPassword do not equal\n            if (!adminDto.getPassword().equals(adminDto.getRepeatPassword())) {\n                redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Passwords are not same&quot;);\n                return &quot;redirect:/register&quot;;\n            }\n            // 4. success\n            adminService.save(adminDto);\n            redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Registered successfully&quot;);\n        } catch (Exception e) {\n            // 5. all other errors\n            redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Unknown server error&quot;);\n            return &quot;redirect:/register&quot;;\n        }\n        return &quot;redirect:/register&quot;;\n    }\n}\n</code></pre>\n<p><em>login.html</em>:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;div th:replace=&quot;~{fragments/header::header}&quot;&gt;&lt;/div&gt;\n\n&lt;body class=&quot;bg-gradient-primary&quot;&gt;\n\n  &lt;div class=&quot;container&quot;&gt;\n\n    &lt;!-- Outer Row --&gt;\n    &lt;div class=&quot;row justify-content-center&quot;&gt;\n\n      &lt;div class=&quot;col-xl-10 col-lg-12 col-md-9&quot;&gt;\n\n        &lt;div class=&quot;card o-hidden border-0 shadow-lg my-5&quot;&gt;\n          &lt;div class=&quot;card-body p-0&quot;&gt;\n            &lt;!-- Nested Row within Card Body --&gt;\n            &lt;div class=&quot;row&quot;&gt;\n              &lt;div class=&quot;col-lg-6 d-none d-lg-block bg-login-image&quot;&gt;&lt;/div&gt;\n              &lt;div class=&quot;col-lg-6&quot;&gt;\n                &lt;div class=&quot;p-5&quot;&gt;\n                  &lt;div class=&quot;text-center&quot;&gt;\n                    &lt;h1 class=&quot;h4 text-gray-900 mb-4&quot;&gt;Welcome Back!&lt;/h1&gt;\n                  &lt;/div&gt;\n                  &lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-danger text-center&quot;&gt;\n                    Invalid username or password\n                  &lt;/div&gt;\n                  &lt;div th:if=&quot;${param.logout}&quot; class=&quot;alert alert-info text-center&quot;&gt;\n                    You have been logged out\n                  &lt;/div&gt;\n                  &lt;form th:action=&quot;@{/do-login}&quot; method=&quot;post&quot; class=&quot;user&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;input type=&quot;email&quot; name=&quot;username&quot; class=&quot;form-control form-control-user&quot; id=&quot;exampleInputEmail&quot;\n                        aria-describedby=&quot;emailHelp&quot; placeholder=&quot;Enter Email Address...&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control form-control-user&quot;\n                        id=&quot;exampleInputPassword&quot; placeholder=&quot;Password&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;button class=&quot;btn btn-primary btn-user btn-block&quot;&gt;\n                      Login\n                    &lt;/button&gt;\n                  &lt;/form&gt;\n                  &lt;hr&gt;\n                  &lt;div class=&quot;text-center&quot;&gt;\n                    &lt;a class=&quot;small&quot; th:href=&quot;@{/forgot-password}&quot;&gt;Forgot Password?&lt;/a&gt;\n                  &lt;/div&gt;\n                  &lt;div class=&quot;text-center&quot;&gt;\n                    &lt;a class=&quot;small&quot; th:href=&quot;@{/register}&quot;&gt;Create an Account!&lt;/a&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n\n    &lt;/div&gt;\n\n  &lt;/div&gt;\n\n  &lt;div th:replace=&quot;~{fragments/scripts::scripts}&quot;&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p><em>$tree src/main/resources/templates</em>:</p>\n<pre><code>src/main/resources/templates/\n├── categories.html\n├── forgot-password.html\n├── fragments\n│   ├── footer.html\n│   ├── header.html\n│   ├── scripts.html\n│   ├── sidebar.html\n│   └── topbar.html\n├── index.html\n├── login.html\n└── register.html\n</code></pre>\n<p>EDIT:\nthe frontend or the templates are from <a href=\"https://startbootstrap.com/theme/sb-admin-2\" rel=\"nofollow noreferrer\">sb-admin-2</a></p>\n<p>EDIT2: the spring-boot security debug log:</p>\n<pre><code>2023-11-16T14:50:29.214+01:00  INFO 3766 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-11-16T14:50:29.226+01:00  INFO 3766 --- [           main] c.e.ecommerce.EcommerceApplication       : Started EcommerceApplication in 6.398 seconds (process running for 6.825)\n2023-11-16T14:50:39.372+01:00  INFO 3766 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-11-16T14:50:39.373+01:00  INFO 3766 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-11-16T14:50:39.375+01:00  INFO 3766 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2023-11-16T14:50:39.392+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /categories\n2023-11-16T14:50:39.429+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:39.449+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/categories?continue to session\n2023-11-16T14:50:39.450+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:39.462+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:39.463+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:39.898+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:39.962+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /vendor/fontawesome-free/css/all.min.css\n2023-11-16T14:50:39.964+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /css/sb-admin-2.min.css\n2023-11-16T14:50:39.965+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /vendor/jquery/jquery.min.js\n2023-11-16T14:50:39.969+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /js/sb-admin-2.min.js\n2023-11-16T14:50:39.969+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /vendor/jquery-easing/jquery.easing.min.js\n2023-11-16T14:50:39.971+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /vendor/bootstrap/js/bootstrap.bundle.min.js\n2023-11-16T14:50:39.973+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /js/sb-admin-2.min.js\n2023-11-16T14:50:39.975+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /css/sb-admin-2.min.css\n2023-11-16T14:50:39.979+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:39.981+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:39.982+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:39.984+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/jquery-easing/jquery.easing.min.js?continue to session\n2023-11-16T14:50:39.984+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:39.985+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/jquery/jquery.min.js?continue to session\n2023-11-16T14:50:39.985+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:39.986+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:39.986+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/fontawesome-free/css/all.min.css?continue to session\n2023-11-16T14:50:39.987+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:39.988+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/bootstrap/js/bootstrap.bundle.min.js?continue to session\n2023-11-16T14:50:39.990+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:39.990+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /vendor/chart.js/Chart.min.js\n2023-11-16T14:50:39.991+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-area-demo.js\n2023-11-16T14:50:39.997+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-pie-demo.js\n2023-11-16T14:50:40.000+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.002+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.002+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/chart.js/Chart.min.js?continue to session\n2023-11-16T14:50:40.002+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.003+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.004+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-area-demo.js?continue to session\n2023-11-16T14:50:40.004+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.006+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.008+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.009+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-pie-demo.js?continue to session\n2023-11-16T14:50:40.010+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.069+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.070+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.070+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.070+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.072+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.072+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.073+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.074+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.075+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.076+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.078+01:00 DEBUG 3766 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.077+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.076+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.079+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.080+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.081+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.083+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.083+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.083+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.087+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.087+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.109+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /vendor/jquery-easing/jquery.easing.min.js\n2023-11-16T14:50:40.113+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.114+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/jquery-easing/jquery.easing.min.js?continue to session\n2023-11-16T14:50:40.115+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.173+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.174+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.180+01:00 DEBUG 3766 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.184+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /vendor/chart.js/Chart.min.js\n2023-11-16T14:50:40.188+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.189+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/vendor/chart.js/Chart.min.js?continue to session\n2023-11-16T14:50:40.189+01:00 DEBUG 3766 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.197+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.197+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.203+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.208+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-area-demo.js\n2023-11-16T14:50:40.212+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.213+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-area-demo.js?continue to session\n2023-11-16T14:50:40.214+01:00 DEBUG 3766 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.218+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.219+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.223+01:00 DEBUG 3766 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.227+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /js/demo/chart-pie-demo.js\n2023-11-16T14:50:40.230+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.231+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/js/demo/chart-pie-demo.js?continue to session\n2023-11-16T14:50:40.231+01:00 DEBUG 3766 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.237+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.238+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.242+01:00 DEBUG 3766 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.247+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico\n2023-11-16T14:50:40.249+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:50:40.250+01:00 DEBUG 3766 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n2023-11-16T14:50:40.257+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-11-16T14:50:40.258+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login\n2023-11-16T14:50:40.261+01:00 DEBUG 3766 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-16T14:52:10.158+01:00 DEBUG 3766 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /do-login\n</code></pre>\n<p>EDIT3:\nsomeone may think this is answered already here <a href=\"https://stackoverflow.com/questions/56597973/java-spring-app-redirect-wrong-url-on-tomcatapache2\">Java Spring App redirect wrong URL on Tomcat+Apache2</a>, but there the solution is:</p>\n<blockquote>\n<p>Assuming it is a spring boot application, then you should define both\nthe paths of action in your spring app</p>\n</blockquote>\n<p>but I have define all paths for which I redirect, that is - for every <code>return &quot;redirect:/register&quot;;</code> there is</p>\n<pre><code>@GetMapping(&quot;/register&quot;)\n    public String register(Model model) {\n        model.addAttribute(&quot;adminDto&quot;, new AdminDto());\n        return &quot;register&quot;;\n    }\n</code></pre>\n<p>so this is clearly not a solution to me.</p>\n"},{"tags":["java","lua"],"owner":{"account_id":29926942,"reputation":1,"user_id":22934775,"display_name":"ablixalol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700225347,"creation_date":1700225347,"question_id":77501788,"body_markdown":"No programming experience or experience with HF data mode decoders. Any help? I need to use Java to run it.\r\n\r\nI tried to see if there was any main program that I could just open like an app. Never worked with any programming language. Not even Lua.","title":"How to use Rivet to decode XPA2?","body":"<p>No programming experience or experience with HF data mode decoders. Any help? I need to use Java to run it.</p>\n<p>I tried to see if there was any main program that I could just open like an app. Never worked with any programming language. Not even Lua.</p>\n"},{"tags":["java","eclipse","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":3059285,"reputation":4045,"user_id":2592309,"display_name":"raspy"},"score":0,"creation_date":1622582336,"post_id":67791597,"comment_id":119832477,"body_markdown":"I believe you should be using SonarLint&#39;s [Connected Mode](https://github.com/SonarSource/sonarlint-eclipse/wiki/Connected-Mode).","body":"I believe you should be using SonarLint&#39;s <a href=\"https://github.com/SonarSource/sonarlint-eclipse/wiki/Connected-Mode\" rel=\"nofollow noreferrer\">Connected Mode</a>."}],"answers":[{"tags":[],"owner":{"account_id":10257660,"reputation":53,"user_id":7570062,"display_name":"vizzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643294572,"creation_date":1643294572,"answer_id":70880520,"question_id":67791597,"body_markdown":"A bit late but in Eclipse you may:&lt;br/&gt;\r\nRight click in your project -&gt; SonarLint -&gt; Bind to SonarQube or SonarCloud...&lt;br/&gt;&lt;br/&gt;\r\nAfter you just need to pass connection information. Automatically the rules from actived quality profiles will be applied.\r\n","title":"Import quality profile or rules from SonarQube to SonarLint in eclipse","body":"<p>A bit late but in Eclipse you may:<br/>\nRight click in your project -&gt; SonarLint -&gt; Bind to SonarQube or SonarCloud...<br/><br/>\nAfter you just need to pass connection information. Automatically the rules from actived quality profiles will be applied.</p>\n"},{"tags":[],"owner":{"account_id":7010859,"reputation":195,"user_id":5373808,"display_name":"webMac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700225335,"creation_date":1700225335,"answer_id":77501786,"question_id":67791597,"body_markdown":"It seems like the feature you&#39;re looking for is not implemented yet. \r\n\r\nYou can vote for it here so it might come soon(er): [https://portal.productboard.com/sonarsource/4-sonarlint/c/198-import-export-local-ruleset][1]\r\n\r\n\r\n  [1]: https://portal.productboard.com/sonarsource/4-sonarlint/c/198-import-export-local-ruleset","title":"Import quality profile or rules from SonarQube to SonarLint in eclipse","body":"<p>It seems like the feature you're looking for is not implemented yet.</p>\n<p>You can vote for it here so it might come soon(er): <a href=\"https://portal.productboard.com/sonarsource/4-sonarlint/c/198-import-export-local-ruleset\" rel=\"nofollow noreferrer\">https://portal.productboard.com/sonarsource/4-sonarlint/c/198-import-export-local-ruleset</a></p>\n"}],"owner":{"account_id":4033137,"reputation":971,"user_id":3318529,"accept_rate":50,"display_name":"Harshal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700225335,"creation_date":1622560656,"question_id":67791597,"body_markdown":"We are using `SonarQube Community Edition Version 7.9.4 (build 35981)` on a remote server where we have created few quality profiles for java code. But I want to import these profile and rules to my `SonarLint` in eclipse so that I will be able to fix issues while writing code eventually saving time and iterations.\r\nCan this be done ?","title":"Import quality profile or rules from SonarQube to SonarLint in eclipse","body":"<p>We are using <code>SonarQube Community Edition Version 7.9.4 (build 35981)</code> on a remote server where we have created few quality profiles for java code. But I want to import these profile and rules to my <code>SonarLint</code> in eclipse so that I will be able to fix issues while writing code eventually saving time and iterations.\nCan this be done ?</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor","spring-data-r2dbc"],"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700224532,"creation_date":1700205824,"question_id":77499915,"body_markdown":"How to elegantly manage transactions in Spring WebFlux with traditional blocking database framework frameworks, such as JDBC, JPA, and MyBatis?\r\n\r\nSome features of Spring Data R2DBC are not very good, so I have to use traditional database frameworks. Although @Transactional annotation can be used in WebFlux now, sometimes it doesn&#39;t work in chain calls. There is no way to complete transactions with operators like R2DBC.\r\n\r\nIs there any simple way to encapsulate manual transactions to support transactions in Mono chain calls? For example:\r\n\r\n    Mono&lt;OrderInner&gt; monoFromCallable = Mono.fromCallable(() -&gt; {\r\n        orderInnerService.saveTest(new Order(&quot;id01&quot;));\r\n        return entity;\r\n    });\r\n\r\n    Mono&lt;OrderInner&gt; mono2fromCallable = Mono.fromCallable(() -&gt; {\r\n        orderInnerService.saveTest(new Order(&quot;id02&quot;));\r\n        return entity;\r\n    });\r\n\r\n    //Transactional：\r\n    return monoFromCallable\r\n            .then(mono2fromCallable)\r\n            .as(transactionalOperator::transactional);","title":"How to elegantly manage transactions in Spring WebFlux with traditional database frameworks？","body":"<p>How to elegantly manage transactions in Spring WebFlux with traditional blocking database framework frameworks, such as JDBC, JPA, and MyBatis?</p>\n<p>Some features of Spring Data R2DBC are not very good, so I have to use traditional database frameworks. Although @Transactional annotation can be used in WebFlux now, sometimes it doesn't work in chain calls. There is no way to complete transactions with operators like R2DBC.</p>\n<p>Is there any simple way to encapsulate manual transactions to support transactions in Mono chain calls? For example:</p>\n<pre><code>Mono&lt;OrderInner&gt; monoFromCallable = Mono.fromCallable(() -&gt; {\n    orderInnerService.saveTest(new Order(&quot;id01&quot;));\n    return entity;\n});\n\nMono&lt;OrderInner&gt; mono2fromCallable = Mono.fromCallable(() -&gt; {\n    orderInnerService.saveTest(new Order(&quot;id02&quot;));\n    return entity;\n});\n\n//Transactional：\nreturn monoFromCallable\n        .then(mono2fromCallable)\n        .as(transactionalOperator::transactional);\n</code></pre>\n"},{"tags":["java","jvm","jstack"],"comments":[{"owner":{"account_id":3235148,"reputation":378,"user_id":2729551,"accept_rate":50,"display_name":"Dev"},"score":2,"creation_date":1700209743,"post_id":77499923,"comment_id":136628600,"body_markdown":"Maybe any other process running in the VM which is eating the ram. Check the free ram/heap size during application run","body":"Maybe any other process running in the VM which is eating the ram. Check the free ram/heap size during application run"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700211549,"post_id":77499923,"comment_id":136628906,"body_markdown":"I agree, this is more likely a problem with another process blocking the resources than the JVM itself.","body":"I agree, this is more likely a problem with another process blocking the resources than the JVM itself."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700221855,"post_id":77499923,"comment_id":136630700,"body_markdown":"Maybe the log handler itself is the problem?","body":"Maybe the log handler itself is the problem?"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700224384,"post_id":77499923,"comment_id":136631100,"body_markdown":"Are you sure the Linux VM is not suspended, or running on an overcommitted host (and thus not getting enough CPU)?","body":"Are you sure the Linux VM is not suspended, or running on an overcommitted host (and thus not getting enough CPU)?"},{"owner":{"account_id":27898173,"reputation":1,"user_id":21303000,"display_name":"BF_PI"},"score":0,"creation_date":1700648811,"post_id":77499923,"comment_id":136679592,"body_markdown":"The trigger of this Situation was a concurrent write access to a sqlite-databse via Hibernate. I properly synchronized this part of the code and now it is working. But I&#39;m still not sure how this can block every Thread(Even Timers!)","body":"The trigger of this Situation was a concurrent write access to a sqlite-databse via Hibernate. I properly synchronized this part of the code and now it is working. But I&#39;m still not sure how this can block every Thread(Even Timers!)"}],"owner":{"account_id":27898173,"reputation":1,"user_id":21303000,"display_name":"BF_PI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700224335,"creation_date":1700205945,"question_id":77499923,"body_markdown":"I see that my applications (running on a Linux VM) seem to freeze for minutes up to hours!\r\n\r\nIn that time it is not responsive, even VisualVM loses the connection during that time. And also to `jstack` the JVM does not response.\r\n\r\nMy code is full of log-statements due to that problem. Somewhere in my code I even have two log statements next to each other.\r\n\r\n    logger.error(&quot;DEBUG 1&quot;);\r\n    logger.error(&quot;DEBUG 2&quot;);\r\n\r\nThese lines appear 2 minutes(!) apart in the log file.\r\n\r\nThe Java version I use is\r\n\r\n    openjdk version &quot;17.0.8.1&quot; 2023-08-24\r\n    OpenJDK Runtime Environment (build 17.0.8.1+1)\r\n    OpenJDK 64-Bit Server VM (build 17.0.8.1+1, mixed mode)\r\n\r\nAny ideas how I could determine the problem here?","title":"JVM stuck for seconds to hours","body":"<p>I see that my applications (running on a Linux VM) seem to freeze for minutes up to hours!</p>\n<p>In that time it is not responsive, even VisualVM loses the connection during that time. And also to <code>jstack</code> the JVM does not response.</p>\n<p>My code is full of log-statements due to that problem. Somewhere in my code I even have two log statements next to each other.</p>\n<pre><code>logger.error(&quot;DEBUG 1&quot;);\nlogger.error(&quot;DEBUG 2&quot;);\n</code></pre>\n<p>These lines appear 2 minutes(!) apart in the log file.</p>\n<p>The Java version I use is</p>\n<pre><code>openjdk version &quot;17.0.8.1&quot; 2023-08-24\nOpenJDK Runtime Environment (build 17.0.8.1+1)\nOpenJDK 64-Bit Server VM (build 17.0.8.1+1, mixed mode)\n</code></pre>\n<p>Any ideas how I could determine the problem here?</p>\n"},{"tags":["java","spring-boot","swagger-ui"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700214762,"post_id":77500663,"comment_id":136629449,"body_markdown":"please be sure that you have imported `org.springdoc:springdoc-openapi-starter-webmvc-ui` also as dependency","body":"please be sure that you have imported <code>org.springdoc:springdoc-openapi-starter-webmvc-ui</code> also as dependency"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1700215013,"post_id":77500663,"comment_id":136629500,"body_markdown":"Same thing when I add webmvc-ui","body":"Same thing when I add webmvc-ui"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700215320,"post_id":77500663,"comment_id":136629568,"body_markdown":"remove `io.swagger.core.v3` from dependency","body":"remove <code>io.swagger.core.v3</code> from dependency"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1700215585,"post_id":77500663,"comment_id":136629607,"body_markdown":"Removed, but same result.","body":"Removed, but same result."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700215673,"post_id":77500663,"comment_id":136629622,"body_markdown":"could you access path `/swagger-ui/index.html` ?","body":"could you access path <code>&#47;swagger-ui&#47;index.html</code> ?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700215867,"post_id":77500663,"comment_id":136629662,"body_markdown":"Also are see this kind of  message in logs when you start the application`This generated password is for development use only. Your security configuration must be updated before running your application in production.` ?","body":"Also are see this kind of  message in logs when you start the application<code>This generated password is for development use only. Your security configuration must be updated before running your application in production.</code> ?"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1700215925,"post_id":77500663,"comment_id":136629673,"body_markdown":"There is no such message in the console.","body":"There is no such message in the console."},{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1700217827,"post_id":77500663,"comment_id":136630023,"body_markdown":"Any reason why you&#39;re extending from `WebMvcConfigurationSupport`? If I remove that, the Swagger UI works perfectly fine for me.","body":"Any reason why you&#39;re extending from <code>WebMvcConfigurationSupport</code>? If I remove that, the Swagger UI works perfectly fine for me."},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1700218078,"post_id":77500663,"comment_id":136630053,"body_markdown":"Okay, you are the best. I thought that Spring security was blocking URL paths that were UI-based. With this extension I enable UI in the spring, in other words, SwaggerUI will be allowed on the spring security configuration. It is working.","body":"Okay, you are the best. I thought that Spring security was blocking URL paths that were UI-based. With this extension I enable UI in the spring, in other words, SwaggerUI will be allowed on the spring security configuration. It is working."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700223994,"creation_date":1700219526,"answer_id":77501209,"question_id":77500663,"body_markdown":"As I mentioned in the comments, due to you extending from `WebMvcConfigurationSupport`, Spring Boot will skip the `WebMvcAutoConfiguration`, which in turn causes the Swagger UI autoconfiguration to be skipped as well.\r\n\r\nThe easiest way to solve this is to not extend from `WebmvcConfigurationSupport`. If you really need to provide additional configuraton, you could extend from `DelegatingWebMvcConfiguration`, but in most cases, you don&#39;t need to extend it at all.","title":"swagger-ui -&gt; index.html does not exists 404 spring boot 3.1.5","body":"<p>As I mentioned in the comments, due to you extending from <code>WebMvcConfigurationSupport</code>, Spring Boot will skip the <code>WebMvcAutoConfiguration</code>, which in turn causes the Swagger UI autoconfiguration to be skipped as well.</p>\n<p>The easiest way to solve this is to not extend from <code>WebmvcConfigurationSupport</code>. If you really need to provide additional configuraton, you could extend from <code>DelegatingWebMvcConfiguration</code>, but in most cases, you don't need to extend it at all.</p>\n"}],"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700223994,"creation_date":1700214377,"question_id":77500663,"body_markdown":"I am trying to integrate the Springdoc open-api definition into my project. Currently for some strange reason /v3/api-docs is working properly, it is getting the JSON version of API but the UI does not work, console is printing that index.html is not found (404). Is there a way to make this feature work? Is there anyone facing similar problem with the newest version of the Springboot?\r\n[![UI][1]][1]\r\n\r\nHere is my security configuration:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration extends WebMvcConfigurationSupport {\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    private static final String[] URL_WHITELIST = {\r\n            ApplicationConstants.AUTH + &quot;/**&quot;,\r\n            ApplicationConstants.PARKING_SPOT + ID,\r\n            &quot;/error&quot;,\r\n            &quot;/favicon.ico&quot;,\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/configuration/ui&quot;,\r\n            &quot;/configuration/security&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/webjars/**&quot;,\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/api/public/**&quot;,\r\n            &quot;/api/public/authenticate&quot;,\r\n            &quot;/actuator/*&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n    };\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(URL_WHITELIST)\r\n                        .permitAll()\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nAnd OpenAPI initialization:\r\n```java\r\n\r\n@Configuration\r\npublic class OpenApiConfiguration {\r\n    @Bean\r\n    public OpenAPI openAPI() {\r\n        Info info = new Info()\r\n                .title(&quot;ParkingTime API&quot;)\r\n                .version(&quot;1.0&quot;);\r\n        return new OpenAPI().info(info);\r\n    }\r\n}\r\n```\r\nPom:\r\n```xml\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nconsole:\r\n```\r\n2023-11-17T10:56:36.805+01:00  WARN 8272 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui/index.html\r\n2023-11-17T10:56:37.440+01:00  WARN 8272 --- [nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui/index.html\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/YaN4L.png","title":"swagger-ui -&gt; index.html does not exists 404 spring boot 3.1.5","body":"<p>I am trying to integrate the Springdoc open-api definition into my project. Currently for some strange reason /v3/api-docs is working properly, it is getting the JSON version of API but the UI does not work, console is printing that index.html is not found (404). Is there a way to make this feature work? Is there anyone facing similar problem with the newest version of the Springboot?\n<a href=\"https://i.stack.imgur.com/YaN4L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YaN4L.png\" alt=\"UI\" /></a></p>\n<p>Here is my security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration extends WebMvcConfigurationSupport {\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    private static final String[] URL_WHITELIST = {\n            ApplicationConstants.AUTH + &quot;/**&quot;,\n            ApplicationConstants.PARKING_SPOT + ID,\n            &quot;/error&quot;,\n            &quot;/favicon.ico&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/webjars/**&quot;,\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/api/public/**&quot;,\n            &quot;/api/public/authenticate&quot;,\n            &quot;/actuator/*&quot;,\n            &quot;/swagger-ui/**&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(URL_WHITELIST)\n                        .permitAll()\n                        .anyRequest()\n                        .authenticated())\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n}\n</code></pre>\n<p>And OpenAPI initialization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class OpenApiConfiguration {\n    @Bean\n    public OpenAPI openAPI() {\n        Info info = new Info()\n                .title(&quot;ParkingTime API&quot;)\n                .version(&quot;1.0&quot;);\n        return new OpenAPI().info(info);\n    }\n}\n</code></pre>\n<p>Pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.18&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>console:</p>\n<pre><code>2023-11-17T10:56:36.805+01:00  WARN 8272 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui/index.html\n2023-11-17T10:56:37.440+01:00  WARN 8272 --- [nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui/index.html\n</code></pre>\n"},{"tags":["java","mysql","spring","jpa","geojson"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683699599,"creation_date":1663961316,"answer_id":73832173,"question_id":73798390,"body_markdown":"The way to save the Geometry data into database while using the Spring Data JPA is given below in details (step - by - step):\r\n\r\n----\r\n\r\nI will explain with the help of a project.\r\n\r\nThe project structure :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMyGeo entity :\r\n\r\n    package com.solve.problemssolve;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    import org.locationtech.jts.geom.Geometry;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @Entity\r\n    public class MyGeo {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate String id;\r\n    \r\n    \t@Column(name = &quot;geodata&quot;, nullable = false)\r\n    \tprivate Geometry geodata;\r\n    }\r\n\r\nMyGeoRepository class\r\n\r\n    package com.solve.problemssolve;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface MyGeoRepository extends JpaRepository&lt;MyGeo, String&gt; {\r\n    \r\n    }\r\n\r\napplication.properties :\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=root\r\n    spring.datasource.password=Anish@123\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL5SpatialDialect\r\n\r\n**Note:** You have to enable `org.hibernate.spatial.dialect.mysql.MySQL5SpatialDialect` in your spring boot application to support spatial features. \r\n\r\nAccording to [MySQL5SpatialDialect Hibernate docs][2] :\r\n\r\n&gt; It is a dialect for MySQL 5 using InnoDB engine, with support for its\r\n&gt; spatial features.\r\n\r\npom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.solve&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;problems-solve&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;problems-solve&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIn MySQL DB (Table structure) :\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Note:** This table is automatically generated by Hibernate as I have kept `ddl-auto=update` but you can create table manually also.\r\n\r\nResource class :\r\n\r\n    @RestController\r\n    public class Resource {\r\n    \r\n    \t@Autowired\r\n    \tprivate MyGeoRepository myGeoRepository;\r\n    \t\r\n    \t@GetMapping(&quot;/save&quot;)\r\n    \tpublic void save() throws ParseException {\r\n    \t\tWKTReader wktReader = new WKTReader();\r\n    \t\tGeometry geometry = wktReader.read(&quot;POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))&quot;);\r\n    \t\tSystem.out.println(geometry);\r\n    \t\tMyGeo geo = new MyGeo();\r\n    \t\tgeo.setGeodata(geometry);\r\n    \t\tgeo.setId(&quot;ID&quot;);\r\n    \t\tmyGeoRepository.save(geo); \r\n    \t\tSystem.out.println(myGeoRepository.findById(&quot;ID&quot;));\r\n    \t}\r\n    \t    \r\n    }\r\n\r\nYou have to use `WKTReader` to save the data via JPA.\r\n\r\nAccording to [WKTReader][4] docs :\r\n\r\n&gt; Converts a geometry in Well-Known Text format to a Geometry.\r\n&gt; \r\n&gt; WKTReader supports extracting Geometry objects from either Readers or\r\n&gt; Strings. This allows it to function as a parser to read Geometry\r\n&gt; objects from text blocks embedded in other data formats (e.g. XML).\r\n&gt; \r\n&gt; A WKTReader is parameterized by a GeometryFactory, to allow it to\r\n&gt; create Geometry objects of the appropriate implementation. In\r\n&gt; particular, the GeometryFactory determines the PrecisionModel and SRID\r\n&gt; that is used.\r\n&gt; \r\n&gt; The WKTReader converts all input numbers to the precise internal\r\n&gt; representation.\r\n\r\nAccording to [WKTReader.read(String wellKnownText)][5] docs :\r\n\r\n&gt; It reads a Well-Known Text representation of a Geometry from a String.\r\n\r\nThis SQL statement `ST_GeomFromText(&#39;POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))&#39;)` is equivalent to this line `Geometry geometry = wktReader.read(&quot;POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))&quot;);`\r\n\r\nAs soon as, I have ran the example, it saved successfully without any issues.\r\n\r\nServer log screenshot :\r\n\r\n[![enter image description here][6]][6]\r\n\r\nDB row screenshot :\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9GCUT.png\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/spatial/dialect/mysql/MySQL5SpatialDialect.html\r\n  [3]: https://i.stack.imgur.com/I737I.png\r\n  [4]: https://locationtech.github.io/jts/javadoc/org/locationtech/jts/io/WKTReader.html\r\n  [5]: https://locationtech.github.io/jts/javadoc/org/locationtech/jts/io/WKTReader.html#read-java.io.Reader-\r\n  [6]: https://i.stack.imgur.com/eCLch.jpg\r\n  [7]: https://i.stack.imgur.com/wiWN7.png","title":"Can not resolve &#39;ST_GeomFromText&#39; in serviceImpl class","body":"<p>The way to save the Geometry data into database while using the Spring Data JPA is given below in details (step - by - step):</p>\n<hr />\n<p>I will explain with the help of a project.</p>\n<p>The project structure :</p>\n<p><a href=\"https://i.stack.imgur.com/9GCUT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GCUT.png\" alt=\"enter image description here\" /></a></p>\n<p>MyGeo entity :</p>\n<pre><code>package com.solve.problemssolve;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\nimport org.locationtech.jts.geom.Geometry;\n\nimport lombok.Data;\n\n@Data\n@Entity\npublic class MyGeo {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;geodata&quot;, nullable = false)\n    private Geometry geodata;\n}\n</code></pre>\n<p>MyGeoRepository class</p>\n<pre><code>package com.solve.problemssolve;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface MyGeoRepository extends JpaRepository&lt;MyGeo, String&gt; {\n\n}\n</code></pre>\n<p>application.properties :</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=root\nspring.datasource.password=Anish@123\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL5SpatialDialect\n</code></pre>\n<p><strong>Note:</strong> You have to enable <code>org.hibernate.spatial.dialect.mysql.MySQL5SpatialDialect</code> in your spring boot application to support spatial features.</p>\n<p>According to <a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/spatial/dialect/mysql/MySQL5SpatialDialect.html\" rel=\"nofollow noreferrer\">MySQL5SpatialDialect Hibernate docs</a> :</p>\n<blockquote>\n<p>It is a dialect for MySQL 5 using InnoDB engine, with support for its\nspatial features.</p>\n</blockquote>\n<p>pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.solve&lt;/groupId&gt;\n    &lt;artifactId&gt;problems-solve&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;problems-solve&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>In MySQL DB (Table structure) :</p>\n<p><a href=\"https://i.stack.imgur.com/I737I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I737I.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong> This table is automatically generated by Hibernate as I have kept <code>ddl-auto=update</code> but you can create table manually also.</p>\n<p>Resource class :</p>\n<pre><code>@RestController\npublic class Resource {\n\n    @Autowired\n    private MyGeoRepository myGeoRepository;\n    \n    @GetMapping(&quot;/save&quot;)\n    public void save() throws ParseException {\n        WKTReader wktReader = new WKTReader();\n        Geometry geometry = wktReader.read(&quot;POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))&quot;);\n        System.out.println(geometry);\n        MyGeo geo = new MyGeo();\n        geo.setGeodata(geometry);\n        geo.setId(&quot;ID&quot;);\n        myGeoRepository.save(geo); \n        System.out.println(myGeoRepository.findById(&quot;ID&quot;));\n    }\n        \n}\n</code></pre>\n<p>You have to use <code>WKTReader</code> to save the data via JPA.</p>\n<p>According to <a href=\"https://locationtech.github.io/jts/javadoc/org/locationtech/jts/io/WKTReader.html\" rel=\"nofollow noreferrer\">WKTReader</a> docs :</p>\n<blockquote>\n<p>Converts a geometry in Well-Known Text format to a Geometry.</p>\n<p>WKTReader supports extracting Geometry objects from either Readers or\nStrings. This allows it to function as a parser to read Geometry\nobjects from text blocks embedded in other data formats (e.g. XML).</p>\n<p>A WKTReader is parameterized by a GeometryFactory, to allow it to\ncreate Geometry objects of the appropriate implementation. In\nparticular, the GeometryFactory determines the PrecisionModel and SRID\nthat is used.</p>\n<p>The WKTReader converts all input numbers to the precise internal\nrepresentation.</p>\n</blockquote>\n<p>According to <a href=\"https://locationtech.github.io/jts/javadoc/org/locationtech/jts/io/WKTReader.html#read-java.io.Reader-\" rel=\"nofollow noreferrer\">WKTReader.read(String wellKnownText)</a> docs :</p>\n<blockquote>\n<p>It reads a Well-Known Text representation of a Geometry from a String.</p>\n</blockquote>\n<p>This SQL statement <code>ST_GeomFromText('POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))')</code> is equivalent to this line <code>Geometry geometry = wktReader.read(&quot;POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))&quot;);</code></p>\n<p>As soon as, I have ran the example, it saved successfully without any issues.</p>\n<p>Server log screenshot :</p>\n<p><a href=\"https://i.stack.imgur.com/eCLch.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eCLch.jpg\" alt=\"enter image description here\" /></a></p>\n<p>DB row screenshot :</p>\n<p><a href=\"https://i.stack.imgur.com/wiWN7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wiWN7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73832173,"answer_count":1,"score":2,"last_activity_date":1700223697,"creation_date":1663752337,"question_id":73798390,"body_markdown":"I am trying to save my geometry data to MySQL table through JPA. \r\n\r\n    georepository.save(&quot;id&quot;, ST_GeomFromText(&#39;POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))&#39;) ); \r\n\r\nbut I am getting:\r\n\r\n&gt; Can not resolve &#39;ST_GeomFromText&#39; in serviceImpl class.\r\n\r\nHere is my model\r\n\r\n    public class Mygeo {\r\n    \r\n       @Id\r\n       @Column(name = &quot;id&quot;)\r\n       private String id;\r\n    \r\n       @Column(name = &quot;geodata&quot;, nullable = false)\r\n       private Geometry geodata;\r\n    }\r\n\r\nThis is how I am saving manually in DB. what will be the JPA alternate way to save this. \r\n\r\n    INSERT INTO mygeo (id, geodata)VALUES (&quot;ID&quot;,ST_GeomFromText(&#39;POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))&#39;));\r\n\r\n\r\nNote : I do have access of geometry string like this \r\n\r\n    System.out.println(geometryObject.toString());\r\n    {&quot;coordinates&quot;:[[[0,1],[2,5],[2,7],[0,7],[0,1]]],&quot;type&quot;:&quot;Polygon&quot;}\r\n","title":"Can not resolve &#39;ST_GeomFromText&#39; in serviceImpl class","body":"<p>I am trying to save my geometry data to MySQL table through JPA.</p>\n<pre><code>georepository.save(&quot;id&quot;, ST_GeomFromText('POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))') ); \n</code></pre>\n<p>but I am getting:</p>\n<blockquote>\n<p>Can not resolve 'ST_GeomFromText' in serviceImpl class.</p>\n</blockquote>\n<p>Here is my model</p>\n<pre><code>public class Mygeo {\n\n   @Id\n   @Column(name = &quot;id&quot;)\n   private String id;\n\n   @Column(name = &quot;geodata&quot;, nullable = false)\n   private Geometry geodata;\n}\n</code></pre>\n<p>This is how I am saving manually in DB. what will be the JPA alternate way to save this.</p>\n<pre><code>INSERT INTO mygeo (id, geodata)VALUES (&quot;ID&quot;,ST_GeomFromText('POLYGON((0 1, 2 5, 2 7, 0 7, 0 1))'));\n</code></pre>\n<p>Note : I do have access of geometry string like this</p>\n<pre><code>System.out.println(geometryObject.toString());\n{&quot;coordinates&quot;:[[[0,1],[2,5],[2,7],[0,7],[0,1]]],&quot;type&quot;:&quot;Polygon&quot;}\n</code></pre>\n"},{"tags":["java","netty"],"owner":{"account_id":458176,"reputation":602,"user_id":857923,"accept_rate":56,"display_name":"smie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700223162,"creation_date":1700223162,"question_id":77501564,"body_markdown":"Here is a example server\r\n\r\n    package org.test;\r\n    \r\n    import io.netty.bootstrap.ServerBootstrap;\r\n    import io.netty.buffer.Unpooled;\r\n    import io.netty.channel.*;\r\n    import io.netty.channel.nio.NioEventLoopGroup;\r\n    import io.netty.channel.socket.SocketChannel;\r\n    import io.netty.channel.socket.nio.NioServerSocketChannel;\r\n    import io.netty.handler.codec.http.*;\r\n    \r\n    public class ListenerExample {\r\n        public static void main(String[] args) throws Exception {\r\n            // Configure the server.\r\n            EventLoopGroup bossGroup = new NioEventLoopGroup(1);\r\n            EventLoopGroup workerGroup = new NioEventLoopGroup();\r\n            try {\r\n                ServerBootstrap b = new ServerBootstrap();\r\n                b.option(ChannelOption.SO_BACKLOG, 1024);\r\n                b.group(bossGroup, workerGroup)\r\n                        .channel(NioServerSocketChannel.class)\r\n                        .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                            @Override\r\n                            protected void initChannel(SocketChannel ch) {\r\n                                final ChannelPipeline pipeline = ch.pipeline();\r\n                                pipeline.addLast(new HttpServerCodec());\r\n                                pipeline.addLast(new HttpObjectAggregator(Integer.MAX_VALUE));\r\n                                pipeline.addLast(new HttpContentDecompressor(true));\r\n                                pipeline.addLast(new ListenerExampleHandler());\r\n                            }\r\n                        });\r\n    \r\n                Channel ch = b.bind(8081).sync().channel();\r\n    \r\n                ch.closeFuture().sync();\r\n            } finally {\r\n                bossGroup.shutdownGracefully();\r\n                workerGroup.shutdownGracefully();\r\n            }\r\n        }\r\n    \r\n        private static class ListenerExampleHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\r\n    \r\n            @Override\r\n            protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest msg) throws Exception {\r\n                System.out.println(&quot;New HTTP message: &quot; + msg.uri());\r\n                // Emulate long request handler\r\n                Thread.sleep(2000);\r\n                //\r\n                final var isKeepAlive = HttpUtil.isKeepAlive(msg);\r\n                // Response\r\n                final var content = &quot;PONG&quot;.getBytes();\r\n                final var response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.OK, Unpooled.wrappedBuffer(content));\r\n                response.headers().set(HttpHeaderNames.CONTENT_TYPE, &quot;text/plain&quot;);\r\n                response.headers().set(HttpHeaderNames.CONTENT_LENGTH, content.length);\r\n                response.headers().set(HttpHeaderNames.CONNECTION, isKeepAlive ? HttpHeaderValues.KEEP_ALIVE : HttpHeaderValues.CLOSE);\r\n                //\r\n                ctx.writeAndFlush(response).addListener((ChannelFuture future) -&gt; {\r\n                    if (!isKeepAlive || !future.isSuccess()) {\r\n                        future.channel().close();\r\n                    }\r\n    \r\n                    System.out.println(&quot;SUCCESS: &quot; + (future.isDone() &amp;&amp; future.isSuccess()));\r\n                    System.out.println(&quot;ERROR: &quot; + (future.isDone() &amp;&amp; future.cause() != null) + &quot;. &quot; + future.cause());\r\n                    System.out.println(&quot;CANCELED: &quot; + (future.isDone() &amp;&amp; future.isCancelled()));\r\n                });\r\n            }\r\n    \r\n            @Override\r\n            public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\r\n                cause.printStackTrace();\r\n                ctx.close();\r\n            }\r\n        }\r\n    }\r\n\r\nI need to get message status after writeAndFlush. \r\n\r\nI try to add listener, but it does&#39;t work when client reset connection.\r\n\r\nFor example: using curl I send get request to server. When in server console log I see message about new request(`New HTTP message: /`), then I terminate curl(Control+C).\r\nAs result server return:\r\n```\r\nSUCCESS: true\r\nERROR: false. null\r\nCANCELED: false\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n```\r\n\r\nWhy I get `SUCCESS: true` and how I can get error inside listener?","title":"Get response status from ChannelFuture","body":"<p>Here is a example server</p>\n<pre><code>package org.test;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.buffer.Unpooled;\nimport io.netty.channel.*;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.SocketChannel;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\nimport io.netty.handler.codec.http.*;\n\npublic class ListenerExample {\n    public static void main(String[] args) throws Exception {\n        // Configure the server.\n        EventLoopGroup bossGroup = new NioEventLoopGroup(1);\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\n        try {\n            ServerBootstrap b = new ServerBootstrap();\n            b.option(ChannelOption.SO_BACKLOG, 1024);\n            b.group(bossGroup, workerGroup)\n                    .channel(NioServerSocketChannel.class)\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                        @Override\n                        protected void initChannel(SocketChannel ch) {\n                            final ChannelPipeline pipeline = ch.pipeline();\n                            pipeline.addLast(new HttpServerCodec());\n                            pipeline.addLast(new HttpObjectAggregator(Integer.MAX_VALUE));\n                            pipeline.addLast(new HttpContentDecompressor(true));\n                            pipeline.addLast(new ListenerExampleHandler());\n                        }\n                    });\n\n            Channel ch = b.bind(8081).sync().channel();\n\n            ch.closeFuture().sync();\n        } finally {\n            bossGroup.shutdownGracefully();\n            workerGroup.shutdownGracefully();\n        }\n    }\n\n    private static class ListenerExampleHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\n\n        @Override\n        protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest msg) throws Exception {\n            System.out.println(&quot;New HTTP message: &quot; + msg.uri());\n            // Emulate long request handler\n            Thread.sleep(2000);\n            //\n            final var isKeepAlive = HttpUtil.isKeepAlive(msg);\n            // Response\n            final var content = &quot;PONG&quot;.getBytes();\n            final var response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.OK, Unpooled.wrappedBuffer(content));\n            response.headers().set(HttpHeaderNames.CONTENT_TYPE, &quot;text/plain&quot;);\n            response.headers().set(HttpHeaderNames.CONTENT_LENGTH, content.length);\n            response.headers().set(HttpHeaderNames.CONNECTION, isKeepAlive ? HttpHeaderValues.KEEP_ALIVE : HttpHeaderValues.CLOSE);\n            //\n            ctx.writeAndFlush(response).addListener((ChannelFuture future) -&gt; {\n                if (!isKeepAlive || !future.isSuccess()) {\n                    future.channel().close();\n                }\n\n                System.out.println(&quot;SUCCESS: &quot; + (future.isDone() &amp;&amp; future.isSuccess()));\n                System.out.println(&quot;ERROR: &quot; + (future.isDone() &amp;&amp; future.cause() != null) + &quot;. &quot; + future.cause());\n                System.out.println(&quot;CANCELED: &quot; + (future.isDone() &amp;&amp; future.isCancelled()));\n            });\n        }\n\n        @Override\n        public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n            cause.printStackTrace();\n            ctx.close();\n        }\n    }\n}\n</code></pre>\n<p>I need to get message status after writeAndFlush.</p>\n<p>I try to add listener, but it does't work when client reset connection.</p>\n<p>For example: using curl I send get request to server. When in server console log I see message about new request(<code>New HTTP message: /</code>), then I terminate curl(Control+C).\nAs result server return:</p>\n<pre><code>SUCCESS: true\nERROR: false. null\nCANCELED: false\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n</code></pre>\n<p>Why I get <code>SUCCESS: true</code> and how I can get error inside listener?</p>\n"},{"tags":["java","final"],"comments":[{"owner":{"account_id":152622,"reputation":490034,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1354102548,"post_id":13604111,"comment_id":18650028,"body_markdown":"I doubt you can do this without a temporary variable.","body":"I doubt you can do this without a temporary variable."},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":11,"creation_date":1354102608,"post_id":13604111,"comment_id":18650063,"body_markdown":"`final int x = makeX();` definitely. (try-catch in function)","body":"<code>final int x = makeX();</code> definitely. (try-catch in function)"},{"owner":{"account_id":52616,"reputation":1042896,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1354102897,"post_id":13604111,"comment_id":18650189,"body_markdown":"Shocking that the JDK [still doesn&#39;t have a `tryParse`](http://stackoverflow.com/questions/1486077/java-good-way-to-encapsulate-integer-parseint).","body":"Shocking that the JDK <a href=\"http://stackoverflow.com/questions/1486077/java-good-way-to-encapsulate-integer-parseint\">still doesn&#39;t have a <code>tryParse</code></a>."},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":0,"creation_date":1354103015,"post_id":13604111,"comment_id":18650240,"body_markdown":"@T.J.Crowder definitly, but it is irrelevant in this case since I just used the integer as an example","body":"@T.J.Crowder definitly, but it is irrelevant in this case since I just used the integer as an example"},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":12,"creation_date":1414006899,"post_id":13604111,"comment_id":41661311,"body_markdown":"To be perfectly clear, the compiler error is incorrect, is it not? There is no circumstance under which _x_ could be assigned twice in the given example.","body":"To be perfectly clear, the compiler error is incorrect, is it not? There is no circumstance under which <i>x</i> could be assigned twice in the given example."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":5,"creation_date":1465579577,"post_id":13604111,"comment_id":62977469,"body_markdown":"@jaco0646, it&#39;s asking a lot for the compiler to get that in general when there are multiple lines in the try block where the exception might happen.  It would be nice to have an exceptional case for this purpose, though, detecting when the assignment is the last statement in the try.","body":"@jaco0646, it&#39;s asking a lot for the compiler to get that in general when there are multiple lines in the try block where the exception might happen.  It would be nice to have an exceptional case for this purpose, though, detecting when the assignment is the last statement in the try."},{"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"score":0,"creation_date":1480935188,"post_id":13604111,"comment_id":69154008,"body_markdown":"I guess the real problem is that Java&#39;s `try`-`catch` statement does not support an `else` case like Python.","body":"I guess the real problem is that Java&#39;s <code>try</code>-<code>catch</code> statement does not support an <code>else</code> case like Python."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":1,"creation_date":1602249053,"post_id":13604111,"comment_id":113668717,"body_markdown":"Kotlin has try expressions for this (https://kotlinlang.org/docs/reference/exceptions.html#try-is-an-expression). Hopefully they&#39;ll be added to Java some day.","body":"Kotlin has try expressions for this (<a href=\"https://kotlinlang.org/docs/reference/exceptions.html#try-is-an-expression\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>). Hopefully they&#39;ll be added to Java some day."},{"owner":{"account_id":1894369,"reputation":681,"user_id":1711670,"display_name":"humbleCoder"},"score":0,"creation_date":1672385696,"post_id":13604111,"comment_id":132279469,"body_markdown":"Why does it give the compiler error? Either an exception will be thrown and the value will be set in the catch block or the method will return a value successfully. Is it just the way the compiler is designed for try-catch or is there something I am missing here?","body":"Why does it give the compiler error? Either an exception will be thrown and the value will be set in the catch block or the method will return a value successfully. Is it just the way the compiler is designed for try-catch or is there something I am missing here?"}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490034,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":1,"up_vote_count":81,"is_accepted":true,"score":80,"last_activity_date":1700223091,"creation_date":1354102710,"answer_id":13604193,"question_id":13604111,"body_markdown":"One way to do this is by introducing a (non-`final`) temporary variable, but you said you didn&#39;t want to do that.\r\n\r\nAnother way is to **create a function** for both branches of the code:\r\n\r\n\r\n    final int x = getValue();\r\n\r\n    private int getValue() {\r\n      try {\r\n        return Integer.parseInt(&quot;someinput&quot;);\r\n      }\r\n      catch(NumberFormatException e) {\r\n        return 42;\r\n      }\r\n    }\r\n\r\nWhether or not this is practical depends on the exact use case.\r\n\r\nAll in all, as long as `x` is an appropriately-scoped local variable, the most practical general approach might be to leave it non-`final`.\r\n\r\nIf, on the other hand, `x` is a member variable, my advice would be to use a non-`final` temporary during initialization:\r\n\r\n\r\n\r\n    public class C {\r\n      private final int x;\r\n      public C() {\r\n        int x_val;\r\n        try {\r\n          x_val = Integer.parseInt(&quot;someinput&quot;);\r\n        }\r\n        catch(NumberFormatException e) {\r\n          x_val = 42;\r\n        }\r\n        this.x = x_val;\r\n      }\r\n    }\r\n\r\n","title":"Final variable assignment with try/catch","body":"<p>One way to do this is by introducing a (non-<code>final</code>) temporary variable, but you said you didn't want to do that.</p>\n<p>Another way is to <strong>create a function</strong> for both branches of the code:</p>\n<pre><code>final int x = getValue();\n\nprivate int getValue() {\n  try {\n    return Integer.parseInt(&quot;someinput&quot;);\n  }\n  catch(NumberFormatException e) {\n    return 42;\n  }\n}\n</code></pre>\n<p>Whether or not this is practical depends on the exact use case.</p>\n<p>All in all, as long as <code>x</code> is an appropriately-scoped local variable, the most practical general approach might be to leave it non-<code>final</code>.</p>\n<p>If, on the other hand, <code>x</code> is a member variable, my advice would be to use a non-<code>final</code> temporary during initialization:</p>\n<pre><code>public class C {\n  private final int x;\n  public C() {\n    int x_val;\n    try {\n      x_val = Integer.parseInt(&quot;someinput&quot;);\n    }\n    catch(NumberFormatException e) {\n      x_val = 42;\n    }\n    this.x = x_val;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1354102761,"creation_date":1354102761,"answer_id":13604209,"question_id":13604111,"body_markdown":"No it is not the right place, imagine you got more then 1 Statement in your try and catch block, the first one says : x = 42. After some others Statements the try block fails, and it goes to the catch block, where your Saying x = 30. Now you defined x twice.","title":"Final variable assignment with try/catch","body":"<p>No it is not the right place, imagine you got more then 1 Statement in your try and catch block, the first one says : x = 42. After some others Statements the try block fails, and it goes to the catch block, where your Saying x = 30. Now you defined x twice.</p>\n"}],"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36545,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":13604193,"answer_count":2,"score":95,"last_activity_date":1700223091,"creation_date":1354102427,"question_id":13604111,"body_markdown":"Because I believe it is a good programming practice, I make all my (local or instance) variables ```final``` if they are intended to be written only once. \r\n\r\nHowever, I notice that when a variable assignment can throw an exception you cannot make said variable final:\r\n\r\n    final int x;\r\n    try {\r\n        x = Integer.parseInt(&quot;someinput&quot;);\r\n    }\r\n    catch(NumberFormatException e) {\r\n        x = 42;  // Compiler error: The final local variable x may already have been assigned\r\n    }\r\n\r\nIs there a way to do this without resorting to a temporary variable? (or is this not the right place for a final modifier?)","title":"Final variable assignment with try/catch","body":"<p>Because I believe it is a good programming practice, I make all my (local or instance) variables <code>final</code> if they are intended to be written only once. </p>\n\n<p>However, I notice that when a variable assignment can throw an exception you cannot make said variable final:</p>\n\n<pre><code>final int x;\ntry {\n    x = Integer.parseInt(\"someinput\");\n}\ncatch(NumberFormatException e) {\n    x = 42;  // Compiler error: The final local variable x may already have been assigned\n}\n</code></pre>\n\n<p>Is there a way to do this without resorting to a temporary variable? (or is this not the right place for a final modifier?)</p>\n"},{"tags":["java","android","react-native"],"comments":[{"owner":{"account_id":17553540,"reputation":390,"user_id":12733466,"display_name":"FaysalB"},"score":0,"creation_date":1700213578,"post_id":77499755,"comment_id":136629205,"body_markdown":"I don&#39;t know exactly the steps to solve it, but you need to be looking in exporting the android sdk in your terminal","body":"I don&#39;t know exactly the steps to solve it, but you need to be looking in exporting the android sdk in your terminal"}],"answers":[{"tags":[],"owner":{"account_id":24377110,"reputation":6808,"user_id":18309290,"display_name":"user18309290"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700221563,"creation_date":1700221563,"answer_id":77501420,"question_id":77499755,"body_markdown":"React native requires Android SDK `version 33`. Install the correct version, see [Install the Android SDK][1] for details.\r\n\r\n&gt; Building a React Native app with native code, requires the Android 13 (Tiramisu) SDK in particular. \r\n\r\n  [1]: https://reactnative.dev/docs/environment-setup?guide=native&amp;platform=android","title":"React Native Android SDK version not found","body":"<p>React native requires Android SDK <code>version 33</code>. Install the correct version, see <a href=\"https://reactnative.dev/docs/environment-setup?guide=native&amp;platform=android\" rel=\"nofollow noreferrer\">Install the Android SDK</a> for details.</p>\n<blockquote>\n<p>Building a React Native app with native code, requires the Android 13 (Tiramisu) SDK in particular.</p>\n</blockquote>\n"}],"owner":{"account_id":16040708,"reputation":1616,"user_id":13359052,"display_name":"Robin Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700223025,"creation_date":1700203415,"question_id":77499755,"body_markdown":"I am trying to run react-native using `nx`. But I am getting an error while running the command \r\n`react-native doctor`. \r\n\r\n&gt;Android SDK - Required for building and installing your app on Android\r\n &gt;  - Versions found: 30.0.3, 31.0.0, 34.0.0\r\n &gt;  - Version supported: Not Found\r\n\r\nPlease help me to fix this issue. I&#39;ve been stuck on this for so long.\r\n\r\nAny solution appreciated!","title":"React Native Android SDK version not found","body":"<p>I am trying to run react-native using <code>nx</code>. But I am getting an error while running the command\n<code>react-native doctor</code>.</p>\n<blockquote>\n<p>Android SDK - Required for building and installing your app on Android</p>\n<ul>\n<li>Versions found: 30.0.3, 31.0.0, 34.0.0</li>\n<li>Version supported: Not Found</li>\n</ul>\n</blockquote>\n<p>Please help me to fix this issue. I've been stuck on this for so long.</p>\n<p>Any solution appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1700222688,"post_id":77501491,"comment_id":136630815,"body_markdown":"Create a non-concurrent copy of the map, perform the operation there, then replace the old map?","body":"Create a non-concurrent copy of the map, perform the operation there, then replace the old map?"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1700223288,"post_id":77501491,"comment_id":136630915,"body_markdown":"Is this a bottleneck? 0.5 ms for a simple check seems like plenty of time.","body":"Is this a bottleneck? 0.5 ms for a simple check seems like plenty of time."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700224125,"post_id":77501491,"comment_id":136631058,"body_markdown":"If your map only contains 3 elements, you might get better performance with a 3-element array. Then you won&#39;t have the overhead of hashing.","body":"If your map only contains 3 elements, you might get better performance with a 3-element array. Then you won&#39;t have the overhead of hashing."},{"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"score":0,"creation_date":1700237711,"post_id":77501491,"comment_id":136633579,"body_markdown":"0.5 ms is the loop delay. Every 0.5 ms it goes though 900 object and perform isBlocked check.","body":"0.5 ms is the loop delay. Every 0.5 ms it goes though 900 object and perform isBlocked check."}],"answers":[{"tags":[],"owner":{"account_id":29926546,"reputation":1,"user_id":22934450,"display_name":"Mbali Hlubi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700222920,"creation_date":1700222920,"answer_id":77501536,"question_id":77501491,"body_markdown":"For high-performance and lightweight removal of objects based on a time condition and a predicate, you can use a combination of &#39;removeIf&#39; and a custom removal condition. The use of iterators may not be necessary in this case.","title":"Best way to remove from map in short amount of time","body":"<p>For high-performance and lightweight removal of objects based on a time condition and a predicate, you can use a combination of 'removeIf' and a custom removal condition. The use of iterators may not be necessary in this case.</p>\n"}],"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700222920,"creation_date":1700222496,"question_id":77501491,"body_markdown":"I have this record \r\n\r\n```\r\nprivate static record BlockedPattern (Class&lt;? extends Pattern&gt; getClazz, Predicate&lt;MyObject&gt; getPredicate, long getActiveUntil) {}\r\n```\r\nwhich I store in a ConcurrentHashMap like this\r\n\r\n```\r\nprivate final Map&lt;Class&lt;? extends Pattern&gt;, BlockedPattern&gt; _patterns = new ConcurrentHashMap&lt;&gt;();\r\n```\r\nMy code executes for each object every 400 millisecond check using `isBlocked` method which check if time passed or predicate is false. Considering I can have 400-800 objects, this mean 800 checks per 400 ms and maybe more (Java 21). What is the best way to remove passed pattern or false predicate in `isBlocked` method?\r\n\r\nUsing removeIf, using iterator or what? I want the fastest option possible and light way. \r\n\r\nNote: map can keep a maximum of 3 element. Not more since I have only 2-3 patterns.\r\n\r\nremoveIf and check if System.currentMillisecond() &gt; getActiveUntil or !getPredicate.test()","title":"Best way to remove from map in short amount of time","body":"<p>I have this record</p>\n<pre><code>private static record BlockedPattern (Class&lt;? extends Pattern&gt; getClazz, Predicate&lt;MyObject&gt; getPredicate, long getActiveUntil) {}\n</code></pre>\n<p>which I store in a ConcurrentHashMap like this</p>\n<pre><code>private final Map&lt;Class&lt;? extends Pattern&gt;, BlockedPattern&gt; _patterns = new ConcurrentHashMap&lt;&gt;();\n</code></pre>\n<p>My code executes for each object every 400 millisecond check using <code>isBlocked</code> method which check if time passed or predicate is false. Considering I can have 400-800 objects, this mean 800 checks per 400 ms and maybe more (Java 21). What is the best way to remove passed pattern or false predicate in <code>isBlocked</code> method?</p>\n<p>Using removeIf, using iterator or what? I want the fastest option possible and light way.</p>\n<p>Note: map can keep a maximum of 3 element. Not more since I have only 2-3 patterns.</p>\n<p>removeIf and check if System.currentMillisecond() &gt; getActiveUntil or !getPredicate.test()</p>\n"},{"tags":["java","azure-storage"],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700210800,"creation_date":1700210800,"answer_id":77500316,"question_id":77456424,"body_markdown":"I added some code to handle the exception and was able to delete the blobs in a directory from the storage container.\r\n\r\n**Code :**\r\n\r\n```java\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.FileStatus;\r\nimport org.apache.hadoop.fs.FileSystem;\r\nimport org.apache.hadoop.fs.Path;\r\nimport java.io.IOException;\r\n\r\npublic class AzureFileSystemExample {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String containerName = &quot;&lt;container_name&gt;&quot;;\r\n            String storageAccount = &quot;&lt;storage_name&gt;&quot;;\r\n            String storageAccountKey = &quot;&lt;storage_key&gt;&quot;; \r\n            String basePath = &quot;wasbs://&quot; + containerName + &quot;@&quot; + storageAccount + &quot;.blob.core.windows.net/&quot;;\r\n\r\n            Configuration conf = new Configuration();\r\n            conf.set(&quot;fs.azure.account.key.&quot; + storageAccount + &quot;.blob.core.windows.net&quot;, storageAccountKey);\r\n\r\n            Path src = new Path(basePath);\r\n\r\n            FileSystem fs = src.getFileSystem(conf);\r\n\r\n            deleteRecursive(fs, src);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void deleteRecursive(FileSystem fs, Path path) throws IOException {\r\n        if (fs.isDirectory(path)) {\r\n            FileStatus[] fileStatuses = fs.listStatus(path);\r\n            for (FileStatus fileStatus : fileStatuses) {\r\n                deleteRecursive(fs, fileStatus.getPath());\r\n            }\r\n        }\r\n\r\n        Path parentPath = path.getParent();\r\n        if (parentPath != null) {\r\n            fs.delete(path, false);\r\n            System.out.println(&quot;Deleted: &quot; + path);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**pom.xml :**\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-azure&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n**Output :**\r\n\r\nIt runs successfully and deletes the blobs in a directory from the storage container as below.\r\n\r\n![enter image description here](https://i.imgur.com/XZlOXLk.png)","title":"NativeAzureFileSystem.delete with recursive = true failed on none-empty folder","body":"<p>I added some code to handle the exception and was able to delete the blobs in a directory from the storage container.</p>\n<p><strong>Code :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FileStatus;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\nimport java.io.IOException;\n\npublic class AzureFileSystemExample {\n\n    public static void main(String[] args) {\n        try {\n            String containerName = &quot;&lt;container_name&gt;&quot;;\n            String storageAccount = &quot;&lt;storage_name&gt;&quot;;\n            String storageAccountKey = &quot;&lt;storage_key&gt;&quot;; \n            String basePath = &quot;wasbs://&quot; + containerName + &quot;@&quot; + storageAccount + &quot;.blob.core.windows.net/&quot;;\n\n            Configuration conf = new Configuration();\n            conf.set(&quot;fs.azure.account.key.&quot; + storageAccount + &quot;.blob.core.windows.net&quot;, storageAccountKey);\n\n            Path src = new Path(basePath);\n\n            FileSystem fs = src.getFileSystem(conf);\n\n            deleteRecursive(fs, src);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void deleteRecursive(FileSystem fs, Path path) throws IOException {\n        if (fs.isDirectory(path)) {\n            FileStatus[] fileStatuses = fs.listStatus(path);\n            for (FileStatus fileStatus : fileStatuses) {\n                deleteRecursive(fs, fileStatus.getPath());\n            }\n        }\n\n        Path parentPath = path.getParent();\n        if (parentPath != null) {\n            fs.delete(path, false);\n            System.out.println(&quot;Deleted: &quot; + path);\n        }\n    }\n}\n</code></pre>\n<p><strong>pom.xml :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-azure&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>Output :</strong></p>\n<p>It runs successfully and deletes the blobs in a directory from the storage container as below.</p>\n<p><img src=\"https://i.imgur.com/XZlOXLk.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":8123479,"reputation":29,"user_id":6119308,"display_name":"Sameh Ayoub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700222027,"creation_date":1699564863,"question_id":77456424,"body_markdown":"My configuration is working with many other operations including of empty folder. So it is not a config issue.\r\nI&#39;m running the latest version hadoop-azure-3.3.6.jar\r\nAny suggestions on deleting none empty folder? I cannot implement the recursion version myself, as this delete method is also called from many Spark functions.\r\n\r\n```\r\n//&lt;container-name&gt;,&lt;storage-account&gt; replaced with my values\r\nPath src = new Path(&quot;wasbs://&lt;container-name&gt;@&lt;storage-account&gt;.blob.core.windows.net/&quot;);\r\nFileSystem fs = src.getFileSystem(jsc.hadoopConfiguration());\r\nfs.delete(src, true);\r\n```\r\n\r\n```\r\nThis failed with error:\r\norg.apache.hadoop.fs.azure.AzureException: com.microsoft.azure.storage.StorageException: This operation is not permitted on a non-empty directory.\r\n\tat org.apache.hadoop.fs.azure.AzureNativeFileSystemStore.delete(AzureNativeFileSystemStore.java:2720)\r\n\tat org.apache.hadoop.fs.azure.AzureNativeFileSystemStore.delete(AzureNativeFileSystemStore.java:2730)\r\n\tat org.apache.hadoop.fs.azure.NativeAzureFileSystem.deleteFile(NativeAzureFileSystem.java:2670)\r\n\tat org.apache.hadoop.fs.azure.NativeAzureFileSystem$2.execute(NativeAzureFileSystem.java:2421)\r\n\tat org.apache.hadoop.fs.azure.AzureFileSystemThreadPoolExecutor.executeParallel(AzureFileSystemThreadPoolExecutor.java:223)\r\n\tat org.apache.hadoop.fs.azure.NativeAzureFileSystem.deleteWithoutAuth(NativeAzureFileSystem.java:2433)\r\n\tat org.apache.hadoop.fs.azure.NativeAzureFileSystem.delete(NativeAzureFileSystem.java:2483)\r\n\tat org.apache.hadoop.fs.azure.NativeAzureFileSystem.delete(NativeAzureFileSystem.java:1977) \r\n```\r\n\r\nMany people are asking about the same error but with different scenarios with no answer. I think it may be a bug in the library.","title":"NativeAzureFileSystem.delete with recursive = true failed on none-empty folder","body":"<p>My configuration is working with many other operations including of empty folder. So it is not a config issue.\nI'm running the latest version hadoop-azure-3.3.6.jar\nAny suggestions on deleting none empty folder? I cannot implement the recursion version myself, as this delete method is also called from many Spark functions.</p>\n<pre><code>//&lt;container-name&gt;,&lt;storage-account&gt; replaced with my values\nPath src = new Path(&quot;wasbs://&lt;container-name&gt;@&lt;storage-account&gt;.blob.core.windows.net/&quot;);\nFileSystem fs = src.getFileSystem(jsc.hadoopConfiguration());\nfs.delete(src, true);\n</code></pre>\n<pre><code>This failed with error:\norg.apache.hadoop.fs.azure.AzureException: com.microsoft.azure.storage.StorageException: This operation is not permitted on a non-empty directory.\n    at org.apache.hadoop.fs.azure.AzureNativeFileSystemStore.delete(AzureNativeFileSystemStore.java:2720)\n    at org.apache.hadoop.fs.azure.AzureNativeFileSystemStore.delete(AzureNativeFileSystemStore.java:2730)\n    at org.apache.hadoop.fs.azure.NativeAzureFileSystem.deleteFile(NativeAzureFileSystem.java:2670)\n    at org.apache.hadoop.fs.azure.NativeAzureFileSystem$2.execute(NativeAzureFileSystem.java:2421)\n    at org.apache.hadoop.fs.azure.AzureFileSystemThreadPoolExecutor.executeParallel(AzureFileSystemThreadPoolExecutor.java:223)\n    at org.apache.hadoop.fs.azure.NativeAzureFileSystem.deleteWithoutAuth(NativeAzureFileSystem.java:2433)\n    at org.apache.hadoop.fs.azure.NativeAzureFileSystem.delete(NativeAzureFileSystem.java:2483)\n    at org.apache.hadoop.fs.azure.NativeAzureFileSystem.delete(NativeAzureFileSystem.java:1977) \n</code></pre>\n<p>Many people are asking about the same error but with different scenarios with no answer. I think it may be a bug in the library.</p>\n"},{"tags":["java","maven","github-actions"],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700221927,"creation_date":1700213913,"question_id":77500619,"body_markdown":"I have two Java projects, one is a library and one an application. Both are stored as private repositories in the same organization and the application project uses the library project as one of its dependencies (defined in the app&#39;s `pom.xml`). Since the library is stored privately and not available on Maven local, I simply install it into my local Maven cache so I can use it for the application project.\r\n\r\nThe problem I have experienced is that, when trying to package the application with GitHub Actions, the build process fails since it cannot locate the private library (which makes sense since it can&#39;t be downloaded from Maven local).\r\n\r\nWhat possible solutions exist to fix this issue? Would it for example be possible to upload the library as a GitHub package in the organization and have the build action download it from there?","title":"Packaging Maven containing private dependency with GitHub actions","body":"<p>I have two Java projects, one is a library and one an application. Both are stored as private repositories in the same organization and the application project uses the library project as one of its dependencies (defined in the app's <code>pom.xml</code>). Since the library is stored privately and not available on Maven local, I simply install it into my local Maven cache so I can use it for the application project.</p>\n<p>The problem I have experienced is that, when trying to package the application with GitHub Actions, the build process fails since it cannot locate the private library (which makes sense since it can't be downloaded from Maven local).</p>\n<p>What possible solutions exist to fix this issue? Would it for example be possible to upload the library as a GitHub package in the organization and have the build action download it from there?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1690055745,"post_id":76745549,"comment_id":135300754,"body_markdown":"The way I read the documentation of `SQLDelete`, your SQL statement should have two parameters: the first one for the id, the second one for the version.","body":"The way I read the documentation of <code>SQLDelete</code>, your SQL statement should have two parameters: the first one for the id, the second one for the version."},{"owner":{"account_id":15897227,"reputation":49,"user_id":11470702,"display_name":"Vaibhav"},"score":0,"creation_date":1690056446,"post_id":76745549,"comment_id":135300850,"body_markdown":"@Code It will be nice if you could provide the link of the documentation because i can&#39;t find it in official Hibernate documentation.","body":"@Code It will be nice if you could provide the link of the documentation because i can&#39;t find it in official Hibernate documentation."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1690056743,"post_id":76745549,"comment_id":135300882,"body_markdown":"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/SQLDelete.html","body":"<a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/SQLDelete.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28453675,"reputation":1,"user_id":21771386,"display_name":"Ahmad Aftab"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690055607,"creation_date":1690055607,"answer_id":76745560,"question_id":76745549,"body_markdown":"Yes, it is possible to perform a soft delete in JPA (Java Persistence API) while using a `Version` field in the entity class. Soft delete refers to marking an entity as deleted without physically removing it from the database. Instead of deleting the record permanently, you update a special flag or field to indicate that the entity has been &quot;soft deleted.&quot;\r\n\r\nThe `Version` field in JPA is typically used for optimistic locking, which helps avoid data conflicts in concurrent environments. However, you can also leverage this field for soft delete purposes, depending on your specific use case.\r\n\r\nHere&#39;s how you can achieve soft delete using JPA and the `Version` field:\r\n\r\n1. Add a `@Version` annotation to the field that you want to use for optimistic locking. For example:\r\n\r\n```java\r\n@Entity\r\npublic class YourEntity {\r\n    // Other entity fields\r\n\r\n    @Version\r\n    private Long version;\r\n\r\n    // Getter and setter methods\r\n}\r\n```\r\n\r\n2. Introduce a new field to indicate whether the entity has been deleted, along with getter and setter methods:\r\n\r\n```java\r\n@Entity\r\npublic class YourEntity {\r\n    // Other entity fields\r\n\r\n    @Version\r\n    private Long version;\r\n\r\n    private boolean deleted;\r\n\r\n    // Getter and setter methods for &#39;deleted&#39;\r\n    public boolean isDeleted() {\r\n        return deleted;\r\n    }\r\n\r\n    public void setDeleted(boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n}\r\n```\r\n\r\n3. When you want to perform a soft delete, instead of removing the entity, set the `deleted` field to `true` and update the entity using the JPA EntityManager:\r\n\r\n```java\r\nYourEntity entity = entityManager.find(YourEntity.class, entityId);\r\nentity.setDeleted(true);\r\nentityManager.merge(entity); // Use merge() to update the entity.\r\n```\r\n\r\n4. Make sure to handle soft-deleted entities appropriately in your application logic to exclude them from regular queries if needed.\r\n\r\nBy using this approach, you can maintain a &quot;soft-deleted&quot; state for your entities while still utilizing the `Version` field for optimistic locking purposes. Remember to consider the implications of soft deletes on your application&#39;s behavior, including how to handle queries, cascading operations, and potential data retention policies.","title":"Is there any way we can perform soft delete in JPA when Entity class is using @Version?","body":"<p>Yes, it is possible to perform a soft delete in JPA (Java Persistence API) while using a <code>Version</code> field in the entity class. Soft delete refers to marking an entity as deleted without physically removing it from the database. Instead of deleting the record permanently, you update a special flag or field to indicate that the entity has been &quot;soft deleted.&quot;</p>\n<p>The <code>Version</code> field in JPA is typically used for optimistic locking, which helps avoid data conflicts in concurrent environments. However, you can also leverage this field for soft delete purposes, depending on your specific use case.</p>\n<p>Here's how you can achieve soft delete using JPA and the <code>Version</code> field:</p>\n<ol>\n<li>Add a <code>@Version</code> annotation to the field that you want to use for optimistic locking. For example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class YourEntity {\n    // Other entity fields\n\n    @Version\n    private Long version;\n\n    // Getter and setter methods\n}\n</code></pre>\n<ol start=\"2\">\n<li>Introduce a new field to indicate whether the entity has been deleted, along with getter and setter methods:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class YourEntity {\n    // Other entity fields\n\n    @Version\n    private Long version;\n\n    private boolean deleted;\n\n    // Getter and setter methods for 'deleted'\n    public boolean isDeleted() {\n        return deleted;\n    }\n\n    public void setDeleted(boolean deleted) {\n        this.deleted = deleted;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>When you want to perform a soft delete, instead of removing the entity, set the <code>deleted</code> field to <code>true</code> and update the entity using the JPA EntityManager:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>YourEntity entity = entityManager.find(YourEntity.class, entityId);\nentity.setDeleted(true);\nentityManager.merge(entity); // Use merge() to update the entity.\n</code></pre>\n<ol start=\"4\">\n<li>Make sure to handle soft-deleted entities appropriately in your application logic to exclude them from regular queries if needed.</li>\n</ol>\n<p>By using this approach, you can maintain a &quot;soft-deleted&quot; state for your entities while still utilizing the <code>Version</code> field for optimistic locking purposes. Remember to consider the implications of soft deletes on your application's behavior, including how to handle queries, cascading operations, and potential data retention policies.</p>\n"},{"tags":[],"owner":{"account_id":29071038,"reputation":26,"user_id":22269387,"display_name":"Dif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690057420,"creation_date":1690057420,"answer_id":76745647,"question_id":76745549,"body_markdown":"The problem occurs because you are trying to perform a soft delete on your entity using a native SQL query, which prevents Hibernate from properly handling entity version and optimistic locking. To fix this, you need to implement soft delete correctly using JPA without resorting to native SQL queries. You can achieve this by tuning your code to update the entity&#39;s isDeleted property and let Hibernate take care of updating the version automatically. Also, consider adding a @Where clause to your entity to automatically exclude soft-deleted records from regular queries. With these changes, you will be able to perform soft deletes on your Student entity without version issues.\r\n\r\nHere is a version of your code with these fixes:\r\n\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Where(clause = &quot;is_deleted = false&quot;)\r\npublic class Student {\r\n    \r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    private String studentId;\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;VARCHAR(255)&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n    @Version\r\n    private Integer version;\r\n\r\n    private boolean isDeleted;\r\n}\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\r\n}\r\n\r\n@Service\r\n@Transactional\r\npublic class StudentService {\r\n\r\n    @Autowired\r\n    private StudentRepository studentRepository;\r\n\r\n    public String deleteStudent(String id) {\r\n        Optional&lt;Student&gt; optionalStudent = studentRepository.findById(id);\r\n        if (optionalStudent.isPresent()) {\r\n            Student student = optionalStudent.get();\r\n            student.setDeleted(true);\r\n            studentRepository.save(student);\r\n            return &quot;Student removed&quot;;\r\n        } else {\r\n            return &quot;Student not found&quot;;\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Is there any way we can perform soft delete in JPA when Entity class is using @Version?","body":"<p>The problem occurs because you are trying to perform a soft delete on your entity using a native SQL query, which prevents Hibernate from properly handling entity version and optimistic locking. To fix this, you need to implement soft delete correctly using JPA without resorting to native SQL queries. You can achieve this by tuning your code to update the entity's isDeleted property and let Hibernate take care of updating the version automatically. Also, consider adding a @Where clause to your entity to automatically exclude soft-deleted records from regular queries. With these changes, you will be able to perform soft deletes on your Student entity without version issues.</p>\n<p>Here is a version of your code with these fixes:</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Where(clause = &quot;is_deleted = false&quot;)\npublic class Student {\n    \n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private String studentId;\n\n    @Column(nullable = false, columnDefinition = &quot;VARCHAR(255)&quot;)\n    private String name;\n\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n\n    @Version\n    private Integer version;\n\n    private boolean isDeleted;\n}\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\n}\n\n@Service\n@Transactional\npublic class StudentService {\n\n    @Autowired\n    private StudentRepository studentRepository;\n\n    public String deleteStudent(String id) {\n        Optional&lt;Student&gt; optionalStudent = studentRepository.findById(id);\n        if (optionalStudent.isPresent()) {\n            Student student = optionalStudent.get();\n            student.setDeleted(true);\n            studentRepository.save(student);\n            return &quot;Student removed&quot;;\n        } else {\n            return &quot;Student not found&quot;;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23999694,"reputation":19,"user_id":17984773,"display_name":"Marko Gila"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700221540,"creation_date":1700210976,"answer_id":77500328,"question_id":76745549,"body_markdown":"AS you can read on the article bellow. The solution is quite simple when wanting to implement a soft delete mechanism when also using the JPA feature of `@Version`\r\n\r\n```java\r\n@Entity(name = &quot;Example&quot;)\r\n@Table(name = &quot;example&quot;)\r\n@SQLDelete(sql = &quot;&quot;&quot;\r\nUPDATE example\r\nSET deleted = true\r\nWHERE\r\n    id = ? AND\r\n    version = ?\r\n&quot;&quot;&quot;)\r\n@Loader(namedQuery = &quot;findExampleById&quot;)\r\n@NamedQuery(name = &quot;findExampleById&quot;, query = &quot;&quot;&quot;\r\nselect e\r\nfrom Example e\r\nwhere\r\n    e.id = ?1 and\r\n    e.deleted = false\r\n&quot;&quot;&quot;)\r\n@Where(clause = &quot;deleted = false&quot;)\r\npublic class Example extends SoftDeletable {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @NaturalId\r\n    private String name;\r\n\r\n    @Version\r\n    private short version;\r\n}\r\n```\r\n\r\n`SoftDeletable` also looks like:\r\n\r\n```java\r\n@MappedSuperclass\r\npublic abstract class SoftDeletable {\r\n    private boolean deleted;\r\n}\r\n```\r\n\r\nNow whenever you try to delete an entity, hibernate will execute the `@SQLDelete` and set the deleted to true.\r\n\r\nAlso when trying to load an entity, the `@Where` clause will be applied filtering out soft deleted entities\r\n\r\nMore details and examples can be found on this article: [*Soft delete and JPA version property*][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/soft-delete-jpa-version/","title":"Is there any way we can perform soft delete in JPA when Entity class is using @Version?","body":"<p>AS you can read on the article bellow. The solution is quite simple when wanting to implement a soft delete mechanism when also using the JPA feature of <code>@Version</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Example&quot;)\n@Table(name = &quot;example&quot;)\n@SQLDelete(sql = &quot;&quot;&quot;\nUPDATE example\nSET deleted = true\nWHERE\n    id = ? AND\n    version = ?\n&quot;&quot;&quot;)\n@Loader(namedQuery = &quot;findExampleById&quot;)\n@NamedQuery(name = &quot;findExampleById&quot;, query = &quot;&quot;&quot;\nselect e\nfrom Example e\nwhere\n    e.id = ?1 and\n    e.deleted = false\n&quot;&quot;&quot;)\n@Where(clause = &quot;deleted = false&quot;)\npublic class Example extends SoftDeletable {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NaturalId\n    private String name;\n\n    @Version\n    private short version;\n}\n</code></pre>\n<p><code>SoftDeletable</code> also looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic abstract class SoftDeletable {\n    private boolean deleted;\n}\n</code></pre>\n<p>Now whenever you try to delete an entity, hibernate will execute the <code>@SQLDelete</code> and set the deleted to true.</p>\n<p>Also when trying to load an entity, the <code>@Where</code> clause will be applied filtering out soft deleted entities</p>\n<p>More details and examples can be found on this article: <a href=\"https://vladmihalcea.com/soft-delete-jpa-version/\" rel=\"nofollow noreferrer\"><em>Soft delete and JPA version property</em></a></p>\n"}],"owner":{"account_id":15897227,"reputation":49,"user_id":11470702,"display_name":"Vaibhav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1700221540,"creation_date":1690055443,"question_id":76745549,"body_markdown":"When I am trying to perform Soft delete on my Entity, I am getting below error:\r\n&gt; org.springframework.dao.DataIntegrityViolationException: could not delete: [study.study.entity.Student#e4a860d5-8dd0-4abe-b218-76672627e6b0]; SQL [update student set is_deleted=true where student_id=?]; nested exception is org.hibernate.exception.DataException: could not delete: [study.study.entity.Student#e4a860d5-8dd0-4abe-b218-76672627e6b0]\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException\r\n\r\nHere is my Entity class:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@SQLDelete(sql=&quot;update student set is_deleted=true where student_id=?&quot;)\r\npublic class Student {\r\n    \r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    private String studentId;\r\n\r\n    @Column(nullable = false,columnDefinition = &quot;VARCHAR(255)&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n    @Version\r\n    private Integer version;\r\n\r\n    private boolean isDeleted;\r\n}\r\n\r\n```\r\nand here is my service method\r\n\r\n```java\r\n@Transactional\r\n    public String deleteSt(String id) {\r\n        sr.deleteById(id);\r\n        return &quot;Deleted&quot;;\r\n    }\r\n```\r\n\r\n*I am thinking as I am updating(not actually deleting) student entity by using native SQL query so native SQL query is unable to update version field and therefore JPA is throwing error.*\r\n**If it is so, then what are the ways we can handle this situation?**\r\n\r\n**EDIT 1:**\r\n\r\nWe can achieve deletion lie this : ``@SQLDelete(sql=&quot;update student set is_deleted=true where student_id=? and version=?&quot;)``. **But now the question is, this way we are not updating the version field value and if any other program rely on version field for performing updation at their end then it will miss the update because version field is not updated.**","title":"Is there any way we can perform soft delete in JPA when Entity class is using @Version?","body":"<p>When I am trying to perform Soft delete on my Entity, I am getting below error:</p>\n<blockquote>\n<p>org.springframework.dao.DataIntegrityViolationException: could not delete: [study.study.entity.Student#e4a860d5-8dd0-4abe-b218-76672627e6b0]; SQL [update student set is_deleted=true where student_id=?]; nested exception is org.hibernate.exception.DataException: could not delete: [study.study.entity.Student#e4a860d5-8dd0-4abe-b218-76672627e6b0]\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException</p>\n</blockquote>\n<p>Here is my Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@SQLDelete(sql=&quot;update student set is_deleted=true where student_id=?&quot;)\npublic class Student {\n    \n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private String studentId;\n\n    @Column(nullable = false,columnDefinition = &quot;VARCHAR(255)&quot;)\n    private String name;\n\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n\n    @Version\n    private Integer version;\n\n    private boolean isDeleted;\n}\n\n</code></pre>\n<p>and here is my service method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n    public String deleteSt(String id) {\n        sr.deleteById(id);\n        return &quot;Deleted&quot;;\n    }\n</code></pre>\n<p><em>I am thinking as I am updating(not actually deleting) student entity by using native SQL query so native SQL query is unable to update version field and therefore JPA is throwing error.</em>\n<strong>If it is so, then what are the ways we can handle this situation?</strong></p>\n<p><strong>EDIT 1:</strong></p>\n<p>We can achieve deletion lie this : <code>@SQLDelete(sql=&quot;update student set is_deleted=true where student_id=? and version=?&quot;)</code>. <strong>But now the question is, this way we are not updating the version field value and if any other program rely on version field for performing updation at their end then it will miss the update because version field is not updated.</strong></p>\n"},{"tags":["java","android","bottomnavigationview"],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700221307,"creation_date":1699622814,"question_id":77460357,"body_markdown":"I created a minimal reproducible example from an ongoing Android project that I develop. It has 3 screens: *Home*, *dashboard* and *Notifications*, that are navigatable via a `BottomNavigationView`. The problem is when I try to navigate from the *Home* page to the *Dahsboard* page upon a button press, the icon of *Home* in the`BattomNavigationView` does not respond anymore.\r\n\r\nBelow is a gif that shows what I am trying to explain:  \r\n[![Problem illustration gif][1]][1]  \r\n\r\n[See the original video][2]\r\n\r\nI expect it to navigate back to *Home* page when I clik it. But it does not navigate back. It only does when I click the back button of the Android&#39;s navigation bar. What am I missing here? Thank you.  \r\n\r\nI&#39;ve created the example using Android Studio&#39;s *Bottom Navigation Views Activity*. Here is the code where I navigate programmatically:\r\n```\r\npublic View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n    HomeViewModel homeViewModel =\r\n            new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n    binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n    View root = binding.getRoot();\r\n    \r\n    final Button button = binding.button;\r\n    button.setOnClickListener(v -&gt; {\r\n        NavController navController = NavHostFragment.findNavController(this);\r\n        navController.navigate(R.id.navigation_dashboard);\r\n    });\r\n    return root;\r\n}\r\n```\r\nHere is another way I tried with no avail and the same result:\r\n```\r\nbinding.button.setOnClickListener(Navigation.createNavigateOnClickListener(R.id.navigation_dashboard));\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pbmDv.gif\r\n  [2]: https://youtube.com/shorts/o9YhuFzGk1E?si=T4bKIuiHQm2etJEX","title":"BottomNavigationView with NavigationComponent does not work after navigating programmatically","body":"<p>I created a minimal reproducible example from an ongoing Android project that I develop. It has 3 screens: <em>Home</em>, <em>dashboard</em> and <em>Notifications</em>, that are navigatable via a <code>BottomNavigationView</code>. The problem is when I try to navigate from the <em>Home</em> page to the <em>Dahsboard</em> page upon a button press, the icon of <em>Home</em> in the<code>BattomNavigationView</code> does not respond anymore.</p>\n<p>Below is a gif that shows what I am trying to explain:<br />\n<a href=\"https://i.stack.imgur.com/pbmDv.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pbmDv.gif\" alt=\"Problem illustration gif\" /></a></p>\n<p><a href=\"https://youtube.com/shorts/o9YhuFzGk1E?si=T4bKIuiHQm2etJEX\" rel=\"nofollow noreferrer\">See the original video</a></p>\n<p>I expect it to navigate back to <em>Home</em> page when I clik it. But it does not navigate back. It only does when I click the back button of the Android's navigation bar. What am I missing here? Thank you.</p>\n<p>I've created the example using Android Studio's <em>Bottom Navigation Views Activity</em>. Here is the code where I navigate programmatically:</p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n    HomeViewModel homeViewModel =\n            new ViewModelProvider(this).get(HomeViewModel.class);\n\n    binding = FragmentHomeBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n    \n    final Button button = binding.button;\n    button.setOnClickListener(v -&gt; {\n        NavController navController = NavHostFragment.findNavController(this);\n        navController.navigate(R.id.navigation_dashboard);\n    });\n    return root;\n}\n</code></pre>\n<p>Here is another way I tried with no avail and the same result:</p>\n<pre><code>binding.button.setOnClickListener(Navigation.createNavigateOnClickListener(R.id.navigation_dashboard));\n</code></pre>\n"},{"tags":["java","android","android-manifest"],"comments":[{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":1,"creation_date":1700202868,"post_id":77499638,"comment_id":136627804,"body_markdown":"Does this answer your question? [setSupportActionBar toolbar cannot be applied to (android.widget.Toolbar) error](https://stackoverflow.com/questions/29025961/setsupportactionbar-toolbar-cannot-be-applied-to-android-widget-toolbar-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29025961/setsupportactionbar-toolbar-cannot-be-applied-to-android-widget-toolbar-error\">setSupportActionBar toolbar cannot be applied to (android.widget.Toolbar) error</a>"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1700239793,"post_id":77499638,"comment_id":136633987,"body_markdown":"Please edit your question and show the manifest entry for MainActivity and also the code for `MainActivity.onCreate()`","body":"Please edit your question and show the manifest entry for MainActivity and also the code for <code>MainActivity.onCreate()</code>"}],"answers":[{"tags":[],"owner":{"account_id":22091874,"reputation":41,"user_id":16349822,"display_name":"이연준"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700220051,"creation_date":1700202691,"answer_id":77499726,"question_id":77499638,"body_markdown":"You can use ```getSupportActionBar().hide();```.\r\n","title":"MainActivity@2325a0d does not have an ActionBar set via setSupportActionBar() When use @style/Theme.AppCompat.Light.NoActionBar","body":"<p>You can use <code>getSupportActionBar().hide();</code>.</p>\n"}],"owner":{"account_id":22091874,"reputation":41,"user_id":16349822,"display_name":"이연준"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700220051,"creation_date":1700201173,"question_id":77499638,"body_markdown":"I&#39;m trying to remove ActionBar so I added @style/Theme.AppCompat.Light.NoActionBar to my manifest. But it wasn&#39;t work.\r\n\r\nI also tried to add codes like \r\n\r\n    getActionBar().hide();\r\nBut it wasn&#39;t work too\r\n\r\n\r\nManifest\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\nError\r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.yeonfish.bigbrother, PID: 6127\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.yeonfish.bigbrother/com.yeonfish.bigbrother.MainActivity}: java.lang.IllegalStateException: Activity com.yeonfish.bigbrother.MainActivity@2325a0d does not have an ActionBar set via setSupportActionBar()\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4169)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\r\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\r\n    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    at android.os.Looper.loopOnce(Looper.java:226)\r\n    at android.os.Looper.loop(Looper.java:313)\r\n    at android.app.ActivityThread.main(ActivityThread.java:8762)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n\r\n\r\n","title":"MainActivity@2325a0d does not have an ActionBar set via setSupportActionBar() When use @style/Theme.AppCompat.Light.NoActionBar","body":"<p>I'm trying to remove ActionBar so I added @style/Theme.AppCompat.Light.NoActionBar to my manifest. But it wasn't work.</p>\n<p>I also tried to add codes like</p>\n<pre><code>getActionBar().hide();\n</code></pre>\n<p>But it wasn't work too</p>\n<p>Manifest</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.yeonfish.bigbrother, PID: 6127\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.yeonfish.bigbrother/com.yeonfish.bigbrother.MainActivity}: java.lang.IllegalStateException: Activity com.yeonfish.bigbrother.MainActivity@2325a0d does not have an ActionBar set via setSupportActionBar()\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4169)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8762)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1700213918,"post_id":77500574,"comment_id":136629254,"body_markdown":"`_xlfn.RANK.EQ` is not an error but a function name prefixed with `_xlfn`. It gets prefixed by Excel because this function was introduced later than the official recommendation of Office Open XML. So what exact error you get? Full stacktrace please.","body":"<code>_xlfn.RANK.EQ</code> is not an error but a function name prefixed with <code>_xlfn</code>. It gets prefixed by Excel because this function was introduced later than the official recommendation of Office Open XML. So what exact error you get? Full stacktrace please."},{"owner":{"account_id":5200323,"reputation":423,"user_id":4159935,"accept_rate":20,"display_name":"vcima"},"score":0,"creation_date":1700214877,"post_id":77500574,"comment_id":136629474,"body_markdown":"Hi @AxelRichter!. My main issue is that I can successfully retrieve cell values because this function is not working correctly and I don know how to solve it.","body":"Hi @AxelRichter!. My main issue is that I can successfully retrieve cell values because this function is not working correctly and I don know how to solve it."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1700215131,"post_id":77500574,"comment_id":136629527,"body_markdown":"If it is only about getting the cell values, then since Apache POI 5.2.0 no formula evaluation is needed. There is `DataFormatter.setUseCachedValuesForFormulaCells` now to get the formula results Excel had evaluated while last save. See  https://stackoverflow.com/questions/7608511/java-poi-how-to-read-excel-cell-value-and-not-the-formula-computing-it/71390145#71390145.","body":"If it is only about getting the cell values, then since Apache POI 5.2.0 no formula evaluation is needed. There is <code>DataFormatter.setUseCachedValuesForFormulaCells</code> now to get the formula results Excel had evaluated while last save. See  <a href=\"https://stackoverflow.com/questions/7608511/java-poi-how-to-read-excel-cell-value-and-not-the-formula-computing-it/71390145#71390145\" title=\"java poi how to read excel cell value and not the formula computing it\">stackoverflow.com/questions/7608511/&hellip;</a>."},{"owner":{"account_id":5200323,"reputation":423,"user_id":4159935,"accept_rate":20,"display_name":"vcima"},"score":0,"creation_date":1700215238,"post_id":77500574,"comment_id":136629554,"body_markdown":"Sorry @AxelRichter, I need formula evaluation in each cell to obtain the right value","body":"Sorry @AxelRichter, I need formula evaluation in each cell to obtain the right value"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1700216060,"post_id":77500574,"comment_id":136629696,"body_markdown":"Then you need implement your own Java code for that not  yet supported function. See https://poi.apache.org/components/spreadsheet/eval-devguide.html. Either you file an enhancement request to Apache POI. Or you try yourself and ask a concrete question here when you are stuck.","body":"Then you need implement your own Java code for that not  yet supported function. See <a href=\"https://poi.apache.org/components/spreadsheet/eval-devguide.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/eval-devguide.html</a>. Either you file an enhancement request to Apache POI. Or you try yourself and ask a concrete question here when you are stuck."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700219728,"creation_date":1700219728,"answer_id":77501228,"question_id":77500574,"body_markdown":"The [RANK.EQ function](https://support.microsoft.com/en-us/office/rank-eq-function-284858ce-8ef6-450e-b662-26245be04a40) is not yet implemented in Apache POI.\r\n\r\nThus either you file an enhancement request to Apache POI to implement it. Or you need implement your own Java code for that not yet supported function. See [Developing Formula Evaluation](https://poi.apache.org/components/spreadsheet/eval-devguide.html). \r\n\r\nBut seems `RANK.EQ` and `RANK` are doing exactly the same. And `RANK` is implemented in Apache POI.\r\n\r\nSo all what needs to be done is evaluating `RANK.EQ` the same as `RANK`. That could be done by implementing `RANK.EQ` as `org.apache.poi.ss.formula.functions.FreeRefFunction` which evaluates it&#39;s arguments using `org.apache.poi.ss.formula.functions.Rank`.\r\n\r\nCode `EvaluateRankEQ.java`:\r\n\r\n    import java.io.FileInputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.formula.functions.FreeRefFunction;\r\n    import org.apache.poi.ss.formula.udf.AggregatingUDFFinder;\r\n    import org.apache.poi.ss.formula.udf.DefaultUDFFinder;\r\n    import org.apache.poi.ss.formula.udf.UDFFinder;\r\n    \r\n    public class EvaluateRankEQ {\r\n    \r\n     public static void main( String[] args ) throws Exception {\r\n      Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./ExcelWithRankEQ.xlsx&quot;));    \r\n        \r\n      String[] functionNames = { &quot;_xlfn.Rank.EQ&quot; } ;\r\n      FreeRefFunction[] functionImpls = { new RankEQ() } ;\r\n      UDFFinder udfs = new DefaultUDFFinder( functionNames, functionImpls ) ;\r\n      UDFFinder udfToolpack = new AggregatingUDFFinder( udfs ) ;    \r\n      workbook.addToolPack(udfToolpack);\r\n      \r\n      FormulaEvaluator formulaEvaluator = workbook.getCreationHelper().createFormulaEvaluator();\r\n        \r\n      for (Sheet sheet: workbook) {\r\n       for (Row row : sheet) {\r\n        for (Cell cell : row) {\r\n         CellValue cellValue = formulaEvaluator.evaluate(cell);\r\n         System.out.println(cellValue);\r\n        }\r\n       }   \r\n      }\r\n    \r\n      workbook.close();\r\n      \r\n     }\r\n    }\r\n\r\nThis is using `RankEQ.java`:\r\n\r\n    import org.apache.poi.ss.formula.OperationEvaluationContext;\r\n    import org.apache.poi.ss.formula.eval.ValueEval;\r\n    import org.apache.poi.ss.formula.eval.ErrorEval;\r\n    import org.apache.poi.ss.formula.functions.FreeRefFunction;\r\n    import org.apache.poi.ss.formula.functions.Rank;\r\n    \r\n    public final class RankEQ implements FreeRefFunction {\r\n        \r\n     @Override\r\n     public ValueEval evaluate( ValueEval[] args, OperationEvaluationContext ec ) {\r\n    \r\n      if (args.length == 2) {\r\n       Rank rank = new Rank();\r\n       return rank.evaluate(ec.getRowIndex(), ec.getColumnIndex(), args[0], args[1]);  \r\n      } else if (args.length == 3) {\r\n       Rank rank = new Rank();\r\n       return rank.evaluate(ec.getRowIndex(), ec.getColumnIndex(), args[0], args[1], args[2]);  \r\n      }\r\n     \r\n      return ErrorEval.VALUE_INVALID;\r\n     }\r\n    }\r\n\r\n\r\n","title":"Problem with function RANK.EQ in Apache POI","body":"<p>The <a href=\"https://support.microsoft.com/en-us/office/rank-eq-function-284858ce-8ef6-450e-b662-26245be04a40\" rel=\"nofollow noreferrer\">RANK.EQ function</a> is not yet implemented in Apache POI.</p>\n<p>Thus either you file an enhancement request to Apache POI to implement it. Or you need implement your own Java code for that not yet supported function. See <a href=\"https://poi.apache.org/components/spreadsheet/eval-devguide.html\" rel=\"nofollow noreferrer\">Developing Formula Evaluation</a>.</p>\n<p>But seems <code>RANK.EQ</code> and <code>RANK</code> are doing exactly the same. And <code>RANK</code> is implemented in Apache POI.</p>\n<p>So all what needs to be done is evaluating <code>RANK.EQ</code> the same as <code>RANK</code>. That could be done by implementing <code>RANK.EQ</code> as <code>org.apache.poi.ss.formula.functions.FreeRefFunction</code> which evaluates it's arguments using <code>org.apache.poi.ss.formula.functions.Rank</code>.</p>\n<p>Code <code>EvaluateRankEQ.java</code>:</p>\n<pre><code>import java.io.FileInputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.formula.functions.FreeRefFunction;\nimport org.apache.poi.ss.formula.udf.AggregatingUDFFinder;\nimport org.apache.poi.ss.formula.udf.DefaultUDFFinder;\nimport org.apache.poi.ss.formula.udf.UDFFinder;\n\npublic class EvaluateRankEQ {\n\n public static void main( String[] args ) throws Exception {\n  Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./ExcelWithRankEQ.xlsx&quot;));    \n    \n  String[] functionNames = { &quot;_xlfn.Rank.EQ&quot; } ;\n  FreeRefFunction[] functionImpls = { new RankEQ() } ;\n  UDFFinder udfs = new DefaultUDFFinder( functionNames, functionImpls ) ;\n  UDFFinder udfToolpack = new AggregatingUDFFinder( udfs ) ;    \n  workbook.addToolPack(udfToolpack);\n  \n  FormulaEvaluator formulaEvaluator = workbook.getCreationHelper().createFormulaEvaluator();\n    \n  for (Sheet sheet: workbook) {\n   for (Row row : sheet) {\n    for (Cell cell : row) {\n     CellValue cellValue = formulaEvaluator.evaluate(cell);\n     System.out.println(cellValue);\n    }\n   }   \n  }\n\n  workbook.close();\n  \n }\n}\n</code></pre>\n<p>This is using <code>RankEQ.java</code>:</p>\n<pre><code>import org.apache.poi.ss.formula.OperationEvaluationContext;\nimport org.apache.poi.ss.formula.eval.ValueEval;\nimport org.apache.poi.ss.formula.eval.ErrorEval;\nimport org.apache.poi.ss.formula.functions.FreeRefFunction;\nimport org.apache.poi.ss.formula.functions.Rank;\n\npublic final class RankEQ implements FreeRefFunction {\n    \n @Override\n public ValueEval evaluate( ValueEval[] args, OperationEvaluationContext ec ) {\n\n  if (args.length == 2) {\n   Rank rank = new Rank();\n   return rank.evaluate(ec.getRowIndex(), ec.getColumnIndex(), args[0], args[1]);  \n  } else if (args.length == 3) {\n   Rank rank = new Rank();\n   return rank.evaluate(ec.getRowIndex(), ec.getColumnIndex(), args[0], args[1], args[2]);  \n  }\n \n  return ErrorEval.VALUE_INVALID;\n }\n}\n</code></pre>\n"}],"owner":{"account_id":5200323,"reputation":423,"user_id":4159935,"accept_rate":20,"display_name":"vcima"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77501228,"answer_count":1,"score":0,"last_activity_date":1700219728,"creation_date":1700213492,"question_id":77500574,"body_markdown":"I&#39;m currently working in a Java project that involves the analysis of an Excel Sheet. The project is built on the Spring Boot framework, utilizing Apache POI version 5.2.4 for Excel Sheet processing.\r\n\r\nWhile the application generally works well, I&#39;ve encountered an issue with the following error in some files: &quot;_xlfn.RANK.EQ.&quot;\r\n\r\nI&#39;ve attempted to resolve this by changing the Apache POI version, but unfortunately, this hasn&#39;t been successful. Any suggestions on how to address this issue would be greatly appreciated.\r\n\r\nThanks in advance!","title":"Problem with function RANK.EQ in Apache POI","body":"<p>I'm currently working in a Java project that involves the analysis of an Excel Sheet. The project is built on the Spring Boot framework, utilizing Apache POI version 5.2.4 for Excel Sheet processing.</p>\n<p>While the application generally works well, I've encountered an issue with the following error in some files: &quot;_xlfn.RANK.EQ.&quot;</p>\n<p>I've attempted to resolve this by changing the Apache POI version, but unfortunately, this hasn't been successful. Any suggestions on how to address this issue would be greatly appreciated.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","amazon-cloudwatch","spring-boot-actuator"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1700615779,"post_id":77494389,"comment_id":136675765,"body_markdown":"The class seems to come from `aws-core` module. Do you depend on that directly? Maybe some transitive dependency became optional and you now longer get `aws-core` on the classpath?","body":"The class seems to come from <code>aws-core</code> module. Do you depend on that directly? Maybe some transitive dependency became optional and you now longer get <code>aws-core</code> on the classpath?"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700140701,"answer_count":0,"score":-1,"last_activity_date":1700219518,"creation_date":1700133676,"question_id":77494389,"body_markdown":"I understand what the error says, my question is how do I fix it?   \r\nI cannot seem to get maven to include the package I need.\r\nI have a common package that contains `micrometer-registry-cloudwatch2` which I use to report metrics to AWS CloudWatch.  \r\nWhen I look at the dependency analyser `micrometer-core:1.10.6[compile]` has been excluded from the `micrometer-registry-cloudwatch2` package because it conflicts wtih `micrometer-core:1.11.5` which is included with the latest version of `spring-boot-starter-actuator` This is the only conflict I can see in the micrometer cloudwatch package.  \r\nHow can I fix this, the error is below: \r\n\r\n```\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat com.myapp.auth.customer.MyApplication.main(MyApplication.java:19)\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.myapp.metrics.AwsCloudWatchConfig] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@251a69d7]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1630)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157)\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n\t... 15 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: software/amazon/awssdk/awscore/AwsClient\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)\r\n\t... 31 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: software.amazon.awssdk.awscore.AwsClient\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 44 common frames omitted\r\n\r\n2023-11-16T11:24:37.579+01:00 DEBUG 29089 --- [           main] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@41200e0c, started on Thu Nov 16 11:24:36 CET 2023\r\n2023-11-16T11:24:37.581+01:00  WARN 29089 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\njava.lang.IllegalStateException: Failed to introspect Class [com.myapp.metrics.AwsCloudWatchConfig] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@251a69d7]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1630)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:651)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1312)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:867)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:855)\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:842)\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:782)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:329)\r\n\tat com.myapp.auth.customer.MyApplication.main(MyApplication.java:19)\r\nCaused by: java.lang.NoClassDefFoundError: software/amazon/awssdk/awscore/AwsClient\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: software.amazon.awssdk.awscore.AwsClient\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 32 common frames omitted\r\n```","title":"NoClassDefFoundError: software/amazon/awssdk/awscore/AwsClient after upgrading spring boot from 3.0.6 to 3.1.5","body":"<p>I understand what the error says, my question is how do I fix it?<br />\nI cannot seem to get maven to include the package I need.\nI have a common package that contains <code>micrometer-registry-cloudwatch2</code> which I use to report metrics to AWS CloudWatch.<br />\nWhen I look at the dependency analyser <code>micrometer-core:1.10.6[compile]</code> has been excluded from the <code>micrometer-registry-cloudwatch2</code> package because it conflicts wtih <code>micrometer-core:1.11.5</code> which is included with the latest version of <code>spring-boot-starter-actuator</code> This is the only conflict I can see in the micrometer cloudwatch package.<br />\nHow can I fix this, the error is below:</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n    at com.myapp.auth.customer.MyApplication.main(MyApplication.java:19)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.myapp.metrics.AwsCloudWatchConfig] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@251a69d7]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1630)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157)\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n    ... 15 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: software/amazon/awssdk/awscore/AwsClient\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)\n    ... 31 common frames omitted\nCaused by: java.lang.ClassNotFoundException: software.amazon.awssdk.awscore.AwsClient\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 44 common frames omitted\n\n2023-11-16T11:24:37.579+01:00 DEBUG 29089 --- [           main] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@41200e0c, started on Thu Nov 16 11:24:36 CET 2023\n2023-11-16T11:24:37.581+01:00  WARN 29089 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [com.myapp.metrics.AwsCloudWatchConfig] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@251a69d7]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1630)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:651)\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1312)\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:867)\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:855)\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:842)\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:782)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:329)\n    at com.myapp.auth.customer.MyApplication.main(MyApplication.java:19)\nCaused by: java.lang.NoClassDefFoundError: software/amazon/awssdk/awscore/AwsClient\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)\n    ... 19 common frames omitted\nCaused by: java.lang.ClassNotFoundException: software.amazon.awssdk.awscore.AwsClient\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 32 common frames omitted\n</code></pre>\n"},{"tags":["java","android","motionevent"],"owner":{"account_id":26259283,"reputation":1,"user_id":19930871,"display_name":"TaeYeon Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700224229,"answer_count":0,"score":0,"last_activity_date":1700219246,"creation_date":1700218552,"question_id":77501120,"body_markdown":"I&#39;m trying to generate a motionEvent in Android Background Service, \r\nso that Any other Android Application can receive the motionEvent.\r\nBut, when compiling the following java code, the error says that error: cannot find symbol INJECT_INPUT_EVENT_MODE_ASYNC.\r\nHow can fix it ?\r\n\r\n===============================================================                     \r\nMyForeGroundService.java:132: error: cannot find symbol iMgr.injectInputEvent(event, InputManager.INJECT_INPUT_EVENT_MODE_ASYNC);\r\n\tsymbol:   variable INJECT_INPUT_EVENT_MODE_ASYNC\r\n  location: class InputManager\r\n\r\n\r\n\r\n    MyForeGroundService.java\r\n    MotionEvent event = MotionEvent.obtain(downTime, downTime, MotionEvent.ACTION_MOVE,\r\n            1, pp, pointerCoords, 0, 0, 0, 0, 31, 0, InputDevice.SOURCE_JOYSTICK, 0);\r\n    try {\r\n        InputManager iMgr = (InputManager) getSystemService(INPUT_SERVICE);\r\n        if (iMgr != null) {\r\n             iMgr.injectInputEvent(event, InputManager.INJECT_INPUT_EVENT_MODE_ASYNC);\r\n                        \r\n...\r\n","title":"error: cannot find symbol INJECT_INPUT_EVENT_MODE_ASYNC","body":"<p>I'm trying to generate a motionEvent in Android Background Service,\nso that Any other Android Application can receive the motionEvent.\nBut, when compiling the following java code, the error says that error: cannot find symbol INJECT_INPUT_EVENT_MODE_ASYNC.\nHow can fix it ?</p>\n<p>===============================================================<br />\nMyForeGroundService.java:132: error: cannot find symbol iMgr.injectInputEvent(event, InputManager.INJECT_INPUT_EVENT_MODE_ASYNC);\nsymbol:   variable INJECT_INPUT_EVENT_MODE_ASYNC\nlocation: class InputManager</p>\n<pre><code>MyForeGroundService.java\nMotionEvent event = MotionEvent.obtain(downTime, downTime, MotionEvent.ACTION_MOVE,\n        1, pp, pointerCoords, 0, 0, 0, 0, 31, 0, InputDevice.SOURCE_JOYSTICK, 0);\ntry {\n    InputManager iMgr = (InputManager) getSystemService(INPUT_SERVICE);\n    if (iMgr != null) {\n         iMgr.injectInputEvent(event, InputManager.INJECT_INPUT_EVENT_MODE_ASYNC);\n                    \n</code></pre>\n<p>...</p>\n"},{"tags":["java","lua","luaj"],"comments":[{"owner":{"account_id":5139655,"reputation":711,"user_id":4117435,"display_name":"tehtmi"},"score":0,"creation_date":1700246994,"post_id":77501169,"comment_id":136635221,"body_markdown":"`luajava.createProxy`?","body":"<code>luajava.createProxy</code>?"}],"owner":{"account_id":1120205,"reputation":577,"user_id":1108703,"accept_rate":76,"display_name":"droidmachine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700219117,"creation_date":1700219117,"question_id":77501169,"body_markdown":"I have a method like below in Java for starting animation sequences\r\n\r\n    public void addAnimationSequence(final Vector3[] targetOffset, int duration, final AnimationFinishedListener animationFinishedListener){\r\n    \r\n    }\r\nAnimationFinishedListener is below:\r\n\r\n    public interface AnimationFinishedListener {\r\n    \tvoid onAnimationFinished(BaseAnimation pAnimation);\r\n    }\r\n\r\nand i&#39;m using that method from my lua script but i&#39;m getting \r\n\r\n&gt; coercion error java.lang.IllegalArgumentException: argument type\r\n&gt; mismatch\r\n\r\nerror in Java.I&#39;m using LuaJ by the way. **Is there a way to use Java interfaces in Lua?**\r\n\r\n    cube:addAnimationSequences(\r\n                {\r\n                    Vector3.new(0, -4, 0),\r\n                    Vector3.new(portalExitPosition.x + portalExitDirection.x, portalExitPosition.y + portalExitDirection.y, portalExitPosition.z + portalExitDirection.z)\r\n                },\r\n                800,\r\n                onAnimationFinished = function(pAnimation)\r\n                    cube:rotateLeft()\r\n                end\r\n            )","title":"Using Java Interfaces in Lua Script with LuaJ","body":"<p>I have a method like below in Java for starting animation sequences</p>\n<pre><code>public void addAnimationSequence(final Vector3[] targetOffset, int duration, final AnimationFinishedListener animationFinishedListener){\n\n}\n</code></pre>\n<p>AnimationFinishedListener is below:</p>\n<pre><code>public interface AnimationFinishedListener {\n    void onAnimationFinished(BaseAnimation pAnimation);\n}\n</code></pre>\n<p>and i'm using that method from my lua script but i'm getting</p>\n<blockquote>\n<p>coercion error java.lang.IllegalArgumentException: argument type\nmismatch</p>\n</blockquote>\n<p>error in Java.I'm using LuaJ by the way. <strong>Is there a way to use Java interfaces in Lua?</strong></p>\n<pre><code>cube:addAnimationSequences(\n            {\n                Vector3.new(0, -4, 0),\n                Vector3.new(portalExitPosition.x + portalExitDirection.x, portalExitPosition.y + portalExitDirection.y, portalExitPosition.z + portalExitDirection.z)\n            },\n            800,\n            onAnimationFinished = function(pAnimation)\n                cube:rotateLeft()\n            end\n        )\n</code></pre>\n"},{"tags":["java","swing","jpanel","scrollpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1700219182,"post_id":77501117,"comment_id":136630246,"body_markdown":"`setPreferredSize` probably isn&#39;t helping your cause","body":"<code>setPreferredSize</code> probably isn&#39;t helping your cause"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700219851,"post_id":77501117,"comment_id":136630346,"body_markdown":"Did you try making an example with a JFrame, ScrollPanel, ResultsPanel (a panel with a box layout), Then iteratively add your nested components? It seems like you could have a complete compilable example from that.","body":"Did you try making an example with a JFrame, ScrollPanel, ResultsPanel (a panel with a box layout), Then iteratively add your nested components? It seems like you could have a complete compilable example from that."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700226501,"post_id":77501117,"comment_id":136631507,"body_markdown":"BoxLayout and FlowLayout aren’t good choices for a container with a JScrollPane in it.  JScrollPanes aren’t very effective unless placed in a layout that will make their size change when the container’s size changes.  There are other layouts, and some of them are very useful, particularly BorderLayout and GridBagLayout.  Notice that your last bit of code is placing the JScrollPane in the center of a BorderLayout (because [that’s the default for a JFrame](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html)).","body":"BoxLayout and FlowLayout aren’t good choices for a container with a JScrollPane in it.  JScrollPanes aren’t very effective unless placed in a layout that will make their size change when the container’s size changes.  There are other layouts, and some of them are very useful, particularly BorderLayout and GridBagLayout.  Notice that your last bit of code is placing the JScrollPane in the center of a BorderLayout (because <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">that’s the default for a JFrame</a>)."},{"owner":{"account_id":28748711,"reputation":19,"user_id":22017236,"display_name":"Popo"},"score":0,"creation_date":1700234144,"post_id":77501117,"comment_id":136632933,"body_markdown":"@VGR A GirdBagLayout actually gave me the exact results I wanted, thanks! I now only have this weird bug where if resultsPanel has some text in it and I interact with the GUI, everything messes up, but I&#39;ll see how I fix that","body":"@VGR A GirdBagLayout actually gave me the exact results I wanted, thanks! I now only have this weird bug where if resultsPanel has some text in it and I interact with the GUI, everything messes up, but I&#39;ll see how I fix that"}],"owner":{"account_id":28748711,"reputation":19,"user_id":22017236,"display_name":"Popo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700218545,"creation_date":1700218545,"question_id":77501117,"body_markdown":"I am making a GUI in java using swing and I am having some trouble with the scrollPane. As a bit of context, I have a JPanel called **leftPanel**, on which everything that I am about to show you sits on. This is how it is created:\r\n\r\n```\r\nleftPanel = new JPanel();\r\nleftPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\r\nleftPanel.setBackground(new Color(51, 51, 51));\r\nleftPanel.setPreferredSize(new Dimension(300, 100));\r\n```\r\n\r\nOn this panel I then have the following JPanels (they all have something inside, but it&#39;s not relevant to the problem):\r\n\r\n```\r\nJPanel topPanel = new JPanel();\r\ntopPanel.setPreferredSize(new Dimension(300, 35));\r\ntopPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\r\ntopPanel.setBackground(new Color(51, 51, 51));\r\n```\r\n\r\n```\r\nJPanel fenPanel = new JPanel(new FlowLayout());\r\nfenPanel.setPreferredSize(new Dimension(300, 60));\r\nfenPanel.setBackground(new Color(255, 18, 18));\r\n```\r\n\r\n```\r\nJPanel perftPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\nperftPanel.setPreferredSize(new Dimension(300, 35));\r\nperftPanel.setBackground(new Color(55, 147, 86));\r\n```\r\n\r\nLastly, I have **resultsPanel** and **scrollPane**, which are the reason for this post\r\n\r\n```\r\nresultsPanel = new JPanel();\r\nresultsPanel.setLayout(new BoxLayout(resultsPanel, BoxLayout.PAGE_AXIS));\r\nresultsPanel.setBackground(new Color(51, 51, 51));\r\n\r\nJScrollPane scrollPane = new JScrollPane(resultsPanel);\r\nscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\nscrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n\r\nleftPanel.add(topPanel);\r\nleftPanel.add(fenPanel);\r\nleftPanel.add(perftPanel);\r\nleftPanel.add(scrollPane);\r\n```\r\n\r\n**resultsPanel** is initially empty, but whenever a button is pressed, some stuff gets printed on there. This is how I do that:\r\n\r\n```\r\n//This thing is in a loop, so more than 1 JLabel is added\r\n\r\nJPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\npanel.setPreferredSize(new Dimension(300, 20));\r\npanel.setBackground(new Color(51, 51, 51));\r\n\r\nJLabel label = null;\r\nif (count == fishCount) {\r\n    label = new JLabel(counterSplit[counterIndex]);\r\n    label.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 12));\r\n    label.setBackground(new Color(51, 51, 51));\r\n    label.setForeground(new Color(66, 131, 0));\r\n    label.setOpaque(true);\r\n} else {\r\n    label = new JLabel(counterSplit[counterIndex] + &quot;Stockfish: &quot; + fishCount);\r\n    label.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 12));\r\n    label.setBackground(new Color(51, 51, 51));\r\n    label.setForeground(new Color(126, 0, 0));\r\n    label.setOpaque(true);\r\n}\r\n\r\npanel.add(label);\r\nresultsPanel.add(panel);\r\n```\r\n\r\nWith the code above I didn&#39;t specify a preferred size, and for some reason **resultsPanel** isn&#39;t expanding to fit all the content.\r\n\r\nIf I do add a preferred size, the JLables get printed fine, but the **resultsPanel** only shows a couple of lines and I can&#39;t scroll to see the rest of them, even though they are 100% getting added. I know they are getting printed, because If I make **resultsPanel** really big I can see the labels there. For some reason though it never becomes scrollable and I don&#39;t know what I am doing wrong.\r\n\r\nI also wrote this bit of code just to make sure I am not going crazy\r\n\r\n```\r\nJFrame frame = new JFrame(&quot;ScrollPane Example&quot;);\r\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\nJPanel contentPanel = new JPanel();\r\ncontentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\r\n\r\nJScrollPane scrollPane = new JScrollPane(contentPanel);\r\nframe.add(scrollPane);\r\n\r\nfor (int i = 0; i &lt; 100; i++) {\r\n    contentPanel.add(new JLabel(&quot;Label &quot; + i));\r\n}\r\n\r\nframe.setSize(300, 200);\r\nframe.setLocationRelativeTo(null);\r\nframe.setVisible(true);\r\n```\r\n\r\nThis works exactly as expected and is what I am trying to achieve. If anyone can point out what I am doing wrong, I would greatly appreciate it.","title":"Why doesn&#39;t the scrollPane become scrollable when I add elements to it?","body":"<p>I am making a GUI in java using swing and I am having some trouble with the scrollPane. As a bit of context, I have a JPanel called <strong>leftPanel</strong>, on which everything that I am about to show you sits on. This is how it is created:</p>\n<pre><code>leftPanel = new JPanel();\nleftPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\nleftPanel.setBackground(new Color(51, 51, 51));\nleftPanel.setPreferredSize(new Dimension(300, 100));\n</code></pre>\n<p>On this panel I then have the following JPanels (they all have something inside, but it's not relevant to the problem):</p>\n<pre><code>JPanel topPanel = new JPanel();\ntopPanel.setPreferredSize(new Dimension(300, 35));\ntopPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\ntopPanel.setBackground(new Color(51, 51, 51));\n</code></pre>\n<pre><code>JPanel fenPanel = new JPanel(new FlowLayout());\nfenPanel.setPreferredSize(new Dimension(300, 60));\nfenPanel.setBackground(new Color(255, 18, 18));\n</code></pre>\n<pre><code>JPanel perftPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\nperftPanel.setPreferredSize(new Dimension(300, 35));\nperftPanel.setBackground(new Color(55, 147, 86));\n</code></pre>\n<p>Lastly, I have <strong>resultsPanel</strong> and <strong>scrollPane</strong>, which are the reason for this post</p>\n<pre><code>resultsPanel = new JPanel();\nresultsPanel.setLayout(new BoxLayout(resultsPanel, BoxLayout.PAGE_AXIS));\nresultsPanel.setBackground(new Color(51, 51, 51));\n\nJScrollPane scrollPane = new JScrollPane(resultsPanel);\nscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\nscrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n\nleftPanel.add(topPanel);\nleftPanel.add(fenPanel);\nleftPanel.add(perftPanel);\nleftPanel.add(scrollPane);\n</code></pre>\n<p><strong>resultsPanel</strong> is initially empty, but whenever a button is pressed, some stuff gets printed on there. This is how I do that:</p>\n<pre><code>//This thing is in a loop, so more than 1 JLabel is added\n\nJPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\npanel.setPreferredSize(new Dimension(300, 20));\npanel.setBackground(new Color(51, 51, 51));\n\nJLabel label = null;\nif (count == fishCount) {\n    label = new JLabel(counterSplit[counterIndex]);\n    label.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 12));\n    label.setBackground(new Color(51, 51, 51));\n    label.setForeground(new Color(66, 131, 0));\n    label.setOpaque(true);\n} else {\n    label = new JLabel(counterSplit[counterIndex] + &quot;Stockfish: &quot; + fishCount);\n    label.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 12));\n    label.setBackground(new Color(51, 51, 51));\n    label.setForeground(new Color(126, 0, 0));\n    label.setOpaque(true);\n}\n\npanel.add(label);\nresultsPanel.add(panel);\n</code></pre>\n<p>With the code above I didn't specify a preferred size, and for some reason <strong>resultsPanel</strong> isn't expanding to fit all the content.</p>\n<p>If I do add a preferred size, the JLables get printed fine, but the <strong>resultsPanel</strong> only shows a couple of lines and I can't scroll to see the rest of them, even though they are 100% getting added. I know they are getting printed, because If I make <strong>resultsPanel</strong> really big I can see the labels there. For some reason though it never becomes scrollable and I don't know what I am doing wrong.</p>\n<p>I also wrote this bit of code just to make sure I am not going crazy</p>\n<pre><code>JFrame frame = new JFrame(&quot;ScrollPane Example&quot;);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\nJPanel contentPanel = new JPanel();\ncontentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\n\nJScrollPane scrollPane = new JScrollPane(contentPanel);\nframe.add(scrollPane);\n\nfor (int i = 0; i &lt; 100; i++) {\n    contentPanel.add(new JLabel(&quot;Label &quot; + i));\n}\n\nframe.setSize(300, 200);\nframe.setLocationRelativeTo(null);\nframe.setVisible(true);\n</code></pre>\n<p>This works exactly as expected and is what I am trying to achieve. If anyone can point out what I am doing wrong, I would greatly appreciate it.</p>\n"},{"tags":["java","spring","unit-testing","spring-test"],"comments":[{"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"score":0,"creation_date":1643829123,"post_id":42020724,"comment_id":125445901,"body_markdown":"How about `@DirtiesContext` on method level?","body":"How about <code>@DirtiesContext</code> on method level?"}],"answers":[{"tags":[],"owner":{"account_id":8928773,"reputation":213,"user_id":6662076,"display_name":"Alireza Nazari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700218487,"creation_date":1700218487,"answer_id":77501106,"question_id":42020724,"body_markdown":"When you say @DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS) in your current test class, it&#39;s like saying, &quot;Hey, let&#39;s mess things up before any test starts!&quot; This means everything gets reset before the first test begins, even if some cool stuff was set up before, like your @MockBean thing.\r\n\r\nNow, if you go for @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS) in the class just before yours, it&#39;s like saying, &quot;Hold on, let&#39;s tidy up after all the tests in that class finish.&quot; This makes sure everything is clean before your test starts, so it doesn&#39;t get confused by what happened in the previous class.\r\n\r\nIn simple words, choosing between BEFORE_CLASS and AFTER_CLASS depends on when you want this cleaning to happen. Using AFTER_CLASS in the class before yours is like making sure everything is neat and tidy before your test begins, so there&#39;s no unexpected mess. But if you use BEFORE_CLASS in your current class, things might get a bit tricky if the cleaning isn&#39;t done properly before your mocked bean becomes the star of the show.","title":"MockBean in SpringBootTest depends on executing order despite DirtiesContext.ClassMode.BEFORE_CLASS","body":"<p>When you say @DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS) in your current test class, it's like saying, &quot;Hey, let's mess things up before any test starts!&quot; This means everything gets reset before the first test begins, even if some cool stuff was set up before, like your @MockBean thing.</p>\n<p>Now, if you go for @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS) in the class just before yours, it's like saying, &quot;Hold on, let's tidy up after all the tests in that class finish.&quot; This makes sure everything is clean before your test starts, so it doesn't get confused by what happened in the previous class.</p>\n<p>In simple words, choosing between BEFORE_CLASS and AFTER_CLASS depends on when you want this cleaning to happen. Using AFTER_CLASS in the class before yours is like making sure everything is neat and tidy before your test begins, so there's no unexpected mess. But if you use BEFORE_CLASS in your current class, things might get a bit tricky if the cleaning isn't done properly before your mocked bean becomes the star of the show.</p>\n"}],"owner":{"account_id":1968793,"reputation":1837,"user_id":1768343,"accept_rate":87,"display_name":"Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1700218487,"creation_date":1486113510,"question_id":42020724,"body_markdown":"Given the following class definition: \r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, classes = Application.class)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\r\n    public class ErrorHandlerTest{\r\n        @MockBean\r\n        private ErrorHandler errorHandler;\r\n\r\nthe successful injection of the `@MockBean` annotated class `ErrorHandler` depends on the execution order of all tests. As the class has DirtiesContext set to `BEFORE_CLASS`, I would not expect side effects from other classes. \r\n\r\n- If this Test is executed first, the mocked Bean is injected and the test succeeds. \r\n- If any other Test is executed before this test, the mocked Bean is not injected, but the context is reused. Resulting in a failure of the test. \r\n\r\nAt first I thought that the DirtiesContext may override the mocked Bean, but as the test executes successfully standalone (or in the right order), and there isn&#39;t any indication of an actual new context. I have disregarded that thought. \r\n\r\nIf the class preceding the test is annotated with  `DirtiesContext.ClassMode.AFTER_CLASS` the mocked Bean is injected. \r\n\r\nWhy does using `AFTER_CLASS` in the class before work, but `BEFORE_CLASS`in the current class not?","title":"MockBean in SpringBootTest depends on executing order despite DirtiesContext.ClassMode.BEFORE_CLASS","body":"<p>Given the following class definition: </p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, classes = Application.class)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\npublic class ErrorHandlerTest{\n    @MockBean\n    private ErrorHandler errorHandler;\n</code></pre>\n\n<p>the successful injection of the <code>@MockBean</code> annotated class <code>ErrorHandler</code> depends on the execution order of all tests. As the class has DirtiesContext set to <code>BEFORE_CLASS</code>, I would not expect side effects from other classes. </p>\n\n<ul>\n<li>If this Test is executed first, the mocked Bean is injected and the test succeeds. </li>\n<li>If any other Test is executed before this test, the mocked Bean is not injected, but the context is reused. Resulting in a failure of the test. </li>\n</ul>\n\n<p>At first I thought that the DirtiesContext may override the mocked Bean, but as the test executes successfully standalone (or in the right order), and there isn't any indication of an actual new context. I have disregarded that thought. </p>\n\n<p>If the class preceding the test is annotated with  <code>DirtiesContext.ClassMode.AFTER_CLASS</code> the mocked Bean is injected. </p>\n\n<p>Why does using <code>AFTER_CLASS</code> in the class before work, but <code>BEFORE_CLASS</code>in the current class not?</p>\n"},{"tags":["java","caching","jvm","heap-memory"],"comments":[{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1700173701,"post_id":77498339,"comment_id":136625495,"body_markdown":"This is not a common scenario.  There are no alternatives to `gc()`; there&#39;s no way to determine how much memory could be freed without freeing it.","body":"This is not a common scenario.  There are no alternatives to <code>gc()</code>; there&#39;s no way to determine how much memory could be freed without freeing it."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700173851,"post_id":77498339,"comment_id":136625513,"body_markdown":"You can not force a GC. You may execute `System.gc()` but it may ignore you.","body":"You can not force a GC. You may execute <code>System.gc()</code> but it may ignore you."},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1700183992,"post_id":77498339,"comment_id":136626467,"body_markdown":"jvm manage memory automatically , if you real  want control of the whole object lifecycle  ,why not c++ . and if you real invoke ```GC()```, it is not clean  jvm heap immediately with blocking , it would clean in some point in the future which is Imperceptible","body":"jvm manage memory automatically , if you real  want control of the whole object lifecycle  ,why not c++ . and if you real invoke <code>GC()</code>, it is not clean  jvm heap immediately with blocking , it would clean in some point in the future which is Imperceptible"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1700190223,"post_id":77498339,"comment_id":136626942,"body_markdown":"This seems to be an [XY problem](https://xyproblem.info/). Instead post a question about your original problem of caching large objects with the details.","body":"This seems to be an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. Instead post a question about your original problem of caching large objects with the details."}],"owner":{"account_id":6370188,"reputation":151,"user_id":4942835,"accept_rate":0,"display_name":"William"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700218373,"creation_date":1700173381,"question_id":77498339,"body_markdown":"I can use `freeMemory()` to get unallocated heap size, but the actual available memory is usually larger if my program needs more space because of the uncollected garbage. I wonder if there&#39;s a way to tell how much memory is currently available in Java.","title":"How do I determine the currently available JVM heap size?","body":"<p>I can use <code>freeMemory()</code> to get unallocated heap size, but the actual available memory is usually larger if my program needs more space because of the uncollected garbage. I wonder if there's a way to tell how much memory is currently available in Java.</p>\n"},{"tags":["java","json","jackson","gson","sybase"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1698681353,"post_id":77390127,"comment_id":136433005,"body_markdown":"How should the json of such a serialized timestamp look like?","body":"How should the json of such a serialized timestamp look like?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1698687432,"post_id":77390127,"comment_id":136434254,"body_markdown":"Is this `JavaFX`? See if the `module-info.java` information can help you [here](https://stackoverflow.com/a/70302970/2423906)","body":"Is this <code>JavaFX</code>? See if the <code>module-info.java</code> information can help you <a href=\"https://stackoverflow.com/a/70302970/2423906\">here</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1698698254,"post_id":77390127,"comment_id":136436009,"body_markdown":"Gson [should have a dedicated adapter for `java.sql.Timestamp`](https://github.com/google/gson/blob/main/gson/src/main/java/com/google/gson/internal/sql/SqlTypesSupport.java), but maybe the logic in Gson is flawed and for some reason it is not applied? Could you please debug and check how the internal Gson class `SqlTypesSupport` behaves for you? Though, the format used by Gson&#39;s built-in adapter might not be desired, so you might want to write a [custom adapter](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html).","body":"Gson <a href=\"https://github.com/google/gson/blob/main/gson/src/main/java/com/google/gson/internal/sql/SqlTypesSupport.java\" rel=\"nofollow noreferrer\">should have a dedicated adapter for <code>java.sql.Timestamp</code></a>, but maybe the logic in Gson is flawed and for some reason it is not applied? Could you please debug and check how the internal Gson class <code>SqlTypesSupport</code> behaves for you? Though, the format used by Gson&#39;s built-in adapter might not be desired, so you might want to write a <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\">custom adapter</a>."}],"answers":[{"tags":[],"owner":{"account_id":6690978,"reputation":31,"user_id":5160488,"display_name":"mariusi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700218368,"creation_date":1700218368,"answer_id":77501084,"question_id":77390127,"body_markdown":"It seems you have to write your own TypeAdapter. Or add an exclusion for specific types that failed. Found that in a troubleshooting guide: https://github.com/google/gson/blob/main/Troubleshooting.md#-inaccessibleobjectexception-module--does-not-opens--to-unnamed-module \r\nHaving the exact error, your workaround looks fine too.","title":"GSON JSON serialization - Unable to make field private int java.sql.Timestamp.nanos accessible","body":"<p>It seems you have to write your own TypeAdapter. Or add an exclusion for specific types that failed. Found that in a troubleshooting guide: <a href=\"https://github.com/google/gson/blob/main/Troubleshooting.md#-inaccessibleobjectexception-module--does-not-opens--to-unnamed-module\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/main/Troubleshooting.md#-inaccessibleobjectexception-module--does-not-opens--to-unnamed-module</a>\nHaving the exact error, your workaround looks fine too.</p>\n"}],"owner":{"account_id":1116732,"reputation":769,"user_id":1105907,"display_name":"Felix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700218368,"creation_date":1698681148,"question_id":77390127,"body_markdown":"Since a recent Java upgrade we are failing to serialize an object read from a SQL database with values mapped to `java.sql.Timestamp`. The underlying database is a SAP Sybase and our customer was able to reproduce the problem with a query as simple as `Select getdate()`. \r\n\r\nEnvironment: Java 17.0.4.1, Eclipse Adoptium, Mac OS X 14.0\r\n\r\nIt&#39;s not an option for us to add `add-opens=java.sql=ALL-UNNAMED` or similar. I also tried to debug into the `TypeAdapterRuntimeTypeWrapper` in the Gson library and found that a &quot;reflective adapter&quot; is being used for the `java.sql.Timestamp` object.\r\n\r\nAs a workaround, I&#39;m now using the Jackson library as a fallback which is able to serialize my object without problems (i.e. the second try clause in the code below works without issues):\r\n\r\n```\r\ntry {\r\n\tjson = GSON.toJson(object);\r\n} catch (Exception e) {\r\n\tlog.warn(&quot;Failed to serialize JSON. Trying alternative serializer (1).&quot;, e);\r\n\ttry {\r\n\t\tjson = new ObjectMapper().writeValueAsString(object);\r\n\t} catch (Exception e1) {\r\n\t\tlog.warn(&quot;Failed to serialize JSON. Leaving null.&quot;, e);\r\n\t}\r\n}\r\n```\r\n\r\nStack trace:\r\n\r\n```\r\ncom.google.gson.JsonIOException: Failed making field &#39;java.sql.Timestamp#nanos&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n\tat com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:556)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\r\n\tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\r\n\tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:97)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:61)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\r\n\tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\r\n\tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:97)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:61)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\r\n\tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\r\n\tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\r\n\tat com.google.gson.Gson.toJson(Gson.java:842)\r\n\tat com.google.gson.Gson.toJson(Gson.java:812)\r\n\tat com.google.gson.Gson.toJson(Gson.java:759)\r\n\tat com.google.gson.Gson.toJson(Gson.java:736)\r\n```\r\n\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private int java.sql.Timestamp.nanos accessible: module java.sql does not &quot;opens java.sql&quot; to unnamed module @2554782d\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Unknown Source)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Unknown Source)\r\n\tat com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\r\n```\r\n\r\nAny ideas?","title":"GSON JSON serialization - Unable to make field private int java.sql.Timestamp.nanos accessible","body":"<p>Since a recent Java upgrade we are failing to serialize an object read from a SQL database with values mapped to <code>java.sql.Timestamp</code>. The underlying database is a SAP Sybase and our customer was able to reproduce the problem with a query as simple as <code>Select getdate()</code>.</p>\n<p>Environment: Java 17.0.4.1, Eclipse Adoptium, Mac OS X 14.0</p>\n<p>It's not an option for us to add <code>add-opens=java.sql=ALL-UNNAMED</code> or similar. I also tried to debug into the <code>TypeAdapterRuntimeTypeWrapper</code> in the Gson library and found that a &quot;reflective adapter&quot; is being used for the <code>java.sql.Timestamp</code> object.</p>\n<p>As a workaround, I'm now using the Jackson library as a fallback which is able to serialize my object without problems (i.e. the second try clause in the code below works without issues):</p>\n<pre><code>try {\n    json = GSON.toJson(object);\n} catch (Exception e) {\n    log.warn(&quot;Failed to serialize JSON. Trying alternative serializer (1).&quot;, e);\n    try {\n        json = new ObjectMapper().writeValueAsString(object);\n    } catch (Exception e1) {\n        log.warn(&quot;Failed to serialize JSON. Leaving null.&quot;, e);\n    }\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>com.google.gson.JsonIOException: Failed making field 'java.sql.Timestamp#nanos' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n    at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\n    at com.google.gson.Gson.getAdapter(Gson.java:556)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:97)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:61)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:97)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:61)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:70)\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\n    at com.google.gson.Gson.toJson(Gson.java:842)\n    at com.google.gson.Gson.toJson(Gson.java:812)\n    at com.google.gson.Gson.toJson(Gson.java:759)\n    at com.google.gson.Gson.toJson(Gson.java:736)\n</code></pre>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private int java.sql.Timestamp.nanos accessible: module java.sql does not &quot;opens java.sql&quot; to unnamed module @2554782d\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.Field.setAccessible(Unknown Source)\n    at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","bacnet","bacnet4j"],"answers":[{"tags":[],"owner":{"account_id":13016114,"reputation":424,"user_id":9407289,"display_name":"DennisVM-D2i"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700217977,"creation_date":1700217977,"answer_id":77501045,"question_id":77480088,"body_markdown":"Forewarning:  I&#39;m not a BACnet4J developer nor a Java developer; and I&#39;m using Windows 10.\r\n\r\nTo start with, you could add &#39;SLF4J&#39; (&#39;reload4&#39;) to get a small sense of what is occurring, e.g. something like so (- having got the libraries online):\r\n\r\n```\r\n-classpath %CD%;Lib\\bacnet4j-3.2.2.jar;Lib\\slf4j-api-1.7.36.jar;Lib\\commons-lang3-3.12.0.jar;Lib\\reload4j-1.2.19.jar;Lib\\slf4j-reload4j-1.7.36.jar\r\n```\r\n\r\nE.g. With the &#39;log4j.properties&#39; configured:\r\n\r\n```\r\nlog = Logs\r\n\r\n# Define the root logger with appender file\r\nlog4j.rootLogger = DEBUG, FILE\r\n\r\n# Define the file appender\r\nlog4j.appender.FILE=org.apache.log4j.FileAppender\r\nlog4j.appender.FILE.File=${log}/Log.txt\r\n\r\n# Define the layout for file appender\r\nlog4j.appender.FILE.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.FILE.layout.conversionPattern=%d %m%n\r\n```\r\n\r\nAnd at the beginning of your &#39;main()&#39; method - to be sure you&#39;ve configured the logging properly:\r\n\r\n```\r\n\t\t\tLogger logger = LoggerFactory.getLogger(Main.class);\r\n\r\n\t\t\tlogger.info(&quot;- Main() -&quot;);\r\n```\r\n\r\nYou can also (install &amp;) run Wireshark (as Administrator), and put a &#39;capture filter&#39; of something like &#39;udp portrange 47808-47823&#39; to see the BACnet/IP traffic that is flowing.\r\n\r\nNow more so to your question.\r\n\r\nAfter the device&#39;s &#39;initialize()&#39;, you probably need a &#39;Listener&#39; class to listen out for the &#39;I-Am&#39;s being received:\r\n\r\n```\r\n\t\t\tlocalDevice.getEventHandler().addListener(new Listener());\r\n```\r\n\r\nWith listener class that is something remotely like this:\r\n\r\n```\r\n    static class Listener extends DeviceEventAdapter\r\n    {\r\n        @Override\r\n        public void iAmReceived(RemoteDevice d)\r\n        {\r\n            try\r\n            {\r\n                System.out.println(&quot;IAm received from &quot; + d);\r\n                System.out.println(&quot;Segmentation: &quot; + d.getSegmentationSupported());\r\n                d.setSegmentationSupported(Segmentation.noSegmentation);\r\n\r\n                Address a = new Address(new Unsigned16(0), new OctetString(new byte[] { (byte) 0xc0, (byte) 0xa8, 0x1,\r\n                        0x5, (byte) 0xba, (byte) 0xc0 }));\r\n\r\n                System.out.println(&quot;Equals: &quot; + a.equals(d.getAddress()));\r\n                getExtendedDeviceInformation(d);\r\n                System.out.println(&quot;Done getting extended information&quot;);\r\n\r\n                List oids = ((SequenceOf) RequestUtils.sendReadPropertyAllowNull(localDevice, d,\r\n                        d.getObjectIdentifier(), PropertyIdentifier.objectList)).getValues();\r\n                System.out.println(oids);\r\n            }\r\n            catch (BACnetException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void getExtendedDeviceInformation(RemoteDevice d)\r\n        throws BACnetException\r\n    {\r\n        ObjectIdentifier oid = d.getObjectIdentifier();\r\n\r\n        ReadPropertyAck ack;\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Object-Name&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.objectName)).get()\r\n                );\r\n\r\n        d.setName(ack.getValue().toString());\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Vendor-Identifier&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.vendorIdentifier)).get()\r\n                );\r\n\r\n        d.setVendorId(((Unsigned16) ack.getValue()).intValue());\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Vendor-Name&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.vendorName)).get()\r\n                );\r\n\r\n        d.setVendorName(ack.getValue().toString());\r\n\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Version&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.protocolVersion)).get()\r\n                );\r\n\r\n        d.setProtocolVersion((UnsignedInteger) ack.getValue());\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Revision&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.protocolRevision)).get()\r\n                );\r\n\r\n        d.setProtocolRevision((UnsignedInteger) ack.getValue());\r\n\r\n        // -\r\n\r\n        // Get the device&#39;s supported services\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Services-Supported&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.protocolServicesSupported))\r\n                ).get();\r\n\r\n        d.setServicesSupported((ServicesSupported) ack.getValue());\r\n\r\n        // -\r\n\r\n        System.out.println();\r\n    }\r\n```\r\n\r\nBut I&#39;m guessing that this framework, will not fire the listener&#39;s &#39;iAmReceived()&#39; method, if it&#39;s for the same device, so you would either need to define another &#39;device&#39; (/might be good to try as an alternative/easier? starting-point test), or as you&#39;ve done try using another device (- unless I&#39;m wrong I&#39;m not sure why this API does not appear to have a &#39;client&#39;-only class / you seem to have to use a &#39;device&#39; as being the client).\r\n\r\nBut I&#39;m guessing the problem with you set-up, might be the (local/&#39;255.255.255.255&#39;) &#39;Who-Is&#39; broadcast, whereby it&#39;s only going to broadcast to the local subnet, and to devices that are using the same port #; so in terms of orchestrating that, you&#39;d probably be better off using the IPv4 (only) range of addresses (- IPv6 is cack in this regard in that they&#39;ve reduced the localhost to being only 1 address rather than like IPv4 a localhost range of addresses or even 5-10 addresses?!), so you can have both the client and server device listening upon the same (Class &#39;A&#39;) network but with the same port #.\r\n\r\nIgnoring the fact that I seem to have a newer(?) version of the BACnet4J library, i.e. method-names differences:\r\n\r\n```\r\n\t\t\tIpNetwork network =\r\n\t\t\t\tnew IpNetworkBuilder()\r\n\t\t\t\t\t\t.localBindAddress(&quot;127.0.0.1&quot;)\r\n\t\t\t\t\t\t.port(47810)\r\n\t\t\t\t\t\t.subnetMask(hostAddress)\r\n\t\t\t\t\t\t.build();\r\n```\r\n\r\nE.g.  Possibly something close to what could work for two local host addresses:\r\n\r\n```\r\n// https://repo1.maven.org/maven2/org/slf4j/slf4j-reload4j/1.7.36/\r\n\r\nimport java.util.List;\r\n\r\nimport com.serotonin.bacnet4j.LocalDevice;\r\nimport com.serotonin.bacnet4j.RemoteDevice;\r\nimport com.serotonin.bacnet4j.event.DeviceEventAdapter;\r\nimport com.serotonin.bacnet4j.exception.BACnetException;\r\nimport com.serotonin.bacnet4j.exception.BACnetTimeoutException;\r\n// import com.serotonin.bacnet4j.npdu.Network;\r\nimport com.serotonin.bacnet4j.npdu.ip.IpNetwork;\r\nimport com.serotonin.bacnet4j.npdu.ip.IpNetworkBuilder;\r\n// import com.serotonin.bacnet4j.npdu.ip.IpNetworkUtils;\r\nimport com.serotonin.bacnet4j.service.acknowledgement.ReadPropertyAck;\r\nimport com.serotonin.bacnet4j.service.confirmed.ReadPropertyRequest;\r\nimport com.serotonin.bacnet4j.service.unconfirmed.WhoIsRequest;\r\nimport com.serotonin.bacnet4j.transport.DefaultTransport;\r\nimport com.serotonin.bacnet4j.transport.Transport;\r\nimport com.serotonin.bacnet4j.type.constructed.Address;\r\nimport com.serotonin.bacnet4j.type.constructed.SequenceOf;\r\nimport com.serotonin.bacnet4j.type.constructed.ServicesSupported;\r\nimport com.serotonin.bacnet4j.type.enumerated.PropertyIdentifier;\r\nimport com.serotonin.bacnet4j.type.enumerated.Segmentation;\r\nimport com.serotonin.bacnet4j.type.primitive.ObjectIdentifier;\r\nimport com.serotonin.bacnet4j.type.primitive.OctetString;\r\nimport com.serotonin.bacnet4j.type.primitive.Unsigned16;\r\nimport com.serotonin.bacnet4j.type.primitive.UnsignedInteger;\r\nimport com.serotonin.bacnet4j.util.RequestUtils;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nclass Main\r\n{\r\n    private static LocalDevice localDevice;\r\n\r\n\tpublic static void main(String[] args)\r\n\t\tthrows Exception\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tLogger logger = LoggerFactory.getLogger(Main.class);\r\n\r\n\t\t\tlogger.info(&quot;- Main() -&quot;);\r\n\r\n\t\t\tString hostAddress = &quot;127.255.255.255&quot;;\r\n\t\t\t//String hostAddress = &quot;192.168.0.255&quot;;\r\n\t\t\t//String hostAddress = &quot;192.168.56.255&quot;;\r\n\t\t\t//String hostAddress = &quot;192.168.255.255&quot;;\r\n\r\n\t\t\tIpNetwork network =\r\n\t\t\t\tnew IpNetworkBuilder()\r\n\t\t\t\t\t\t.localBindAddress(&quot;127.0.0.1&quot;)\r\n\t\t\t\t\t\t.port(47810)\r\n\t\t\t\t\t\t.subnetMask(hostAddress)\r\n\t\t\t\t\t\t.build();\r\n\r\n\t\t\tTransport transport = new DefaultTransport(network);\r\n\r\n\t\t\tlocalDevice = new LocalDevice(3227671, transport);\r\n\t\t\tlocalDevice.initialize();\r\n\r\n\t\t\tlocalDevice.getEventHandler().addListener(new Listener());\r\n\r\n\t\t\tlocalDevice.sendGlobalBroadcast(new WhoIsRequest());\r\n\r\n\t\t\tint remoteId = 999;\r\n\t\t\tList&lt;RemoteDevice&gt; remoteDevices = localDevice.getRemoteDevices();\r\n\r\n            Thread.sleep(3000);\r\n\r\n\t\t\tRemoteDevice d = remoteDevices.get(0);\r\n\r\n\t\t\tObjectIdentifier oid = d.getObjectIdentifier();\r\n\r\n\t\t\tReadPropertyAck ack;\r\n\r\n\t\t\t// -\r\n\r\n\t\t\tSystem.out.println(&quot;ExtDevInfo:  Getting &#39;Object-Name&#39; .  .   .&quot;);\r\n\r\n\t\t\tack =\r\n\t\t\t\t(ReadPropertyAck)\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tlocalDevice.send(\r\n\t\t\t\t\t\t\td,\r\n\t\t\t\t\t\t\tnew ReadPropertyRequest(\r\n\t\t\t\t\t\t\t\toid,\r\n\t\t\t\t\t\t\t\tPropertyIdentifier.objectName)).get()\r\n\t\t\t\t\t);\r\n\r\n\t\t\td.setName(ack.getValue().toString());\r\n\r\n\t\t\t// -\r\n\r\n\t\t\tSystem.out.println(&quot;ExtDevInfo:  Getting &#39;Vendor-Identifier&#39; .  .   .&quot;);\r\n\r\n\t\t\tack =\r\n\t\t\t\t(ReadPropertyAck)\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tlocalDevice.send(\r\n\t\t\t\t\t\t\td,\r\n\t\t\t\t\t\t\tnew ReadPropertyRequest(\r\n\t\t\t\t\t\t\t\toid,\r\n\t\t\t\t\t\t\t\tPropertyIdentifier.vendorIdentifier)).get()\r\n\t\t\t\t\t);\r\n\r\n\t\t\td.setVendorId(((Unsigned16) ack.getValue()).intValue());\r\n\r\n\t\t\t// -\r\n\r\n\t\t\tSystem.out.println(&quot;ExtDevInfo:  Getting &#39;Vendor-Name&#39; .  .   .&quot;);\r\n\r\n\t\t\tack =\r\n\t\t\t\t(ReadPropertyAck)\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tlocalDevice.send(\r\n\t\t\t\t\t\t\td,\r\n\t\t\t\t\t\t\tnew ReadPropertyRequest(\r\n\t\t\t\t\t\t\t\toid,\r\n\t\t\t\t\t\t\t\tPropertyIdentifier.vendorName)).get()\r\n\t\t\t\t\t);\r\n\r\n\t\t\td.setVendorName(ack.getValue().toString());\r\n\r\n\r\n\t\t\t// -\r\n\r\n\t\t\tSystem.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Version&#39; .  .   .&quot;);\r\n\r\n\t\t\tack =\r\n\t\t\t\t(ReadPropertyAck)\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tlocalDevice.send(\r\n\t\t\t\t\t\t\td,\r\n\t\t\t\t\t\t\tnew ReadPropertyRequest(\r\n\t\t\t\t\t\t\t\toid,\r\n\t\t\t\t\t\t\t\tPropertyIdentifier.protocolVersion)).get()\r\n\t\t\t\t\t);\r\n\r\n\t\t\td.setProtocolVersion((UnsignedInteger) ack.getValue());\r\n\r\n\t\t\t// -\r\n\r\n\t\t\tSystem.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Revision&#39; .  .   .&quot;);\r\n\r\n\t\t\tack =\r\n\t\t\t\t(ReadPropertyAck)\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tlocalDevice.send(\r\n\t\t\t\t\t\t\td,\r\n\t\t\t\t\t\t\tnew ReadPropertyRequest(\r\n\t\t\t\t\t\t\t\toid,\r\n\t\t\t\t\t\t\t\tPropertyIdentifier.protocolRevision)).get()\r\n\t\t\t\t\t);\r\n\r\n\t\t\td.setProtocolRevision((UnsignedInteger) ack.getValue());\r\n\r\n\t\t\t// -\r\n\r\n\t\t\t// Get the device&#39;s supported services\r\n\t\t\tSystem.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Services-Supported&#39; .  .   .&quot;);\r\n\r\n\t\t\tack =\r\n\t\t\t\t(ReadPropertyAck)\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tlocalDevice.send(\r\n\t\t\t\t\t\t\td,\r\n\t\t\t\t\t\t\tnew ReadPropertyRequest(\r\n\t\t\t\t\t\t\t\toid,\r\n\t\t\t\t\t\t\t\tPropertyIdentifier.protocolServicesSupported))\r\n\t\t\t\t\t).get();\r\n\r\n\t\t\td.setServicesSupported((ServicesSupported) ack.getValue());\r\n\r\n\t\t\t// -\r\n\r\n\t\t\tSystem.out.println();\r\n        }\r\n        catch (BACnetTimeoutException exc)\r\n        {\r\n            System.out.flush();\r\n\r\n            System.err.println(exc.getMessage());\r\n            System.err.flush();\r\n        }\r\n        catch (BACnetException exc)\r\n        {\r\n            System.out.flush();\r\n\r\n            System.err.println(exc.getMessage());\r\n            System.err.flush();\r\n        }\r\n        catch (Exception exc)\r\n        {\r\n            System.out.flush();\r\n\r\n            System.err.println(exc.getMessage());\r\n            System.err.flush();\r\n        }\r\n        finally\r\n        {\r\n            localDevice.terminate();\r\n\r\n            System.out.println();\r\n        }\r\n\t}\r\n\r\n    static class Listener extends DeviceEventAdapter\r\n    {\r\n        @Override\r\n        public void iAmReceived(RemoteDevice d)\r\n        {\r\n            try\r\n            {\r\n                System.out.println(&quot;IAm received from &quot; + d);\r\n                System.out.println(&quot;Segmentation: &quot; + d.getSegmentationSupported());\r\n                d.setSegmentationSupported(Segmentation.noSegmentation);\r\n\r\n                Address a = new Address(new Unsigned16(0), new OctetString(new byte[] { (byte) 0xc0, (byte) 0xa8, 0x1,\r\n                        0x5, (byte) 0xba, (byte) 0xc0 }));\r\n\r\n                System.out.println(&quot;Equals: &quot; + a.equals(d.getAddress()));\r\n\r\n\t\t\t\treturn;\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void getExtendedDeviceInformation(RemoteDevice d)\r\n        throws BACnetException\r\n    {\r\n        ObjectIdentifier oid = d.getObjectIdentifier();\r\n\r\n        ReadPropertyAck ack;\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Object-Name&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.objectName)).get()\r\n                );\r\n\r\n        d.setName(ack.getValue().toString());\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Vendor-Identifier&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.vendorIdentifier)).get()\r\n                );\r\n\r\n        d.setVendorId(((Unsigned16) ack.getValue()).intValue());\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Vendor-Name&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.vendorName)).get()\r\n                );\r\n\r\n        d.setVendorName(ack.getValue().toString());\r\n\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Version&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.protocolVersion)).get()\r\n                );\r\n\r\n        d.setProtocolVersion((UnsignedInteger) ack.getValue());\r\n\r\n        // -\r\n\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Revision&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.protocolRevision)).get()\r\n                );\r\n\r\n        d.setProtocolRevision((UnsignedInteger) ack.getValue());\r\n\r\n        // -\r\n\r\n        // Get the device&#39;s supported services\r\n        System.out.println(&quot;ExtDevInfo:  Getting &#39;Protocol-Services-Supported&#39; .  .   .&quot;);\r\n\r\n        ack =\r\n            (ReadPropertyAck)\r\n                (\r\n                    localDevice.send(\r\n                        d,\r\n                        new ReadPropertyRequest(\r\n                            oid,\r\n                            PropertyIdentifier.protocolServicesSupported))\r\n                ).get();\r\n\r\n        d.setServicesSupported((ServicesSupported) ack.getValue());\r\n\r\n        // -\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n\r\n```\r\n","title":"connect to Bacnet device with java using bacnet4j","body":"<p>Forewarning:  I'm not a BACnet4J developer nor a Java developer; and I'm using Windows 10.</p>\n<p>To start with, you could add 'SLF4J' ('reload4') to get a small sense of what is occurring, e.g. something like so (- having got the libraries online):</p>\n<pre><code>-classpath %CD%;Lib\\bacnet4j-3.2.2.jar;Lib\\slf4j-api-1.7.36.jar;Lib\\commons-lang3-3.12.0.jar;Lib\\reload4j-1.2.19.jar;Lib\\slf4j-reload4j-1.7.36.jar\n</code></pre>\n<p>E.g. With the 'log4j.properties' configured:</p>\n<pre><code>log = Logs\n\n# Define the root logger with appender file\nlog4j.rootLogger = DEBUG, FILE\n\n# Define the file appender\nlog4j.appender.FILE=org.apache.log4j.FileAppender\nlog4j.appender.FILE.File=${log}/Log.txt\n\n# Define the layout for file appender\nlog4j.appender.FILE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.FILE.layout.conversionPattern=%d %m%n\n</code></pre>\n<p>And at the beginning of your 'main()' method - to be sure you've configured the logging properly:</p>\n<pre><code>            Logger logger = LoggerFactory.getLogger(Main.class);\n\n            logger.info(&quot;- Main() -&quot;);\n</code></pre>\n<p>You can also (install &amp;) run Wireshark (as Administrator), and put a 'capture filter' of something like 'udp portrange 47808-47823' to see the BACnet/IP traffic that is flowing.</p>\n<p>Now more so to your question.</p>\n<p>After the device's 'initialize()', you probably need a 'Listener' class to listen out for the 'I-Am's being received:</p>\n<pre><code>            localDevice.getEventHandler().addListener(new Listener());\n</code></pre>\n<p>With listener class that is something remotely like this:</p>\n<pre><code>    static class Listener extends DeviceEventAdapter\n    {\n        @Override\n        public void iAmReceived(RemoteDevice d)\n        {\n            try\n            {\n                System.out.println(&quot;IAm received from &quot; + d);\n                System.out.println(&quot;Segmentation: &quot; + d.getSegmentationSupported());\n                d.setSegmentationSupported(Segmentation.noSegmentation);\n\n                Address a = new Address(new Unsigned16(0), new OctetString(new byte[] { (byte) 0xc0, (byte) 0xa8, 0x1,\n                        0x5, (byte) 0xba, (byte) 0xc0 }));\n\n                System.out.println(&quot;Equals: &quot; + a.equals(d.getAddress()));\n                getExtendedDeviceInformation(d);\n                System.out.println(&quot;Done getting extended information&quot;);\n\n                List oids = ((SequenceOf) RequestUtils.sendReadPropertyAllowNull(localDevice, d,\n                        d.getObjectIdentifier(), PropertyIdentifier.objectList)).getValues();\n                System.out.println(oids);\n            }\n            catch (BACnetException e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    static void getExtendedDeviceInformation(RemoteDevice d)\n        throws BACnetException\n    {\n        ObjectIdentifier oid = d.getObjectIdentifier();\n\n        ReadPropertyAck ack;\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Object-Name' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.objectName)).get()\n                );\n\n        d.setName(ack.getValue().toString());\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Vendor-Identifier' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.vendorIdentifier)).get()\n                );\n\n        d.setVendorId(((Unsigned16) ack.getValue()).intValue());\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Vendor-Name' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.vendorName)).get()\n                );\n\n        d.setVendorName(ack.getValue().toString());\n\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Version' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.protocolVersion)).get()\n                );\n\n        d.setProtocolVersion((UnsignedInteger) ack.getValue());\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Revision' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.protocolRevision)).get()\n                );\n\n        d.setProtocolRevision((UnsignedInteger) ack.getValue());\n\n        // -\n\n        // Get the device's supported services\n        System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Services-Supported' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.protocolServicesSupported))\n                ).get();\n\n        d.setServicesSupported((ServicesSupported) ack.getValue());\n\n        // -\n\n        System.out.println();\n    }\n</code></pre>\n<p>But I'm guessing that this framework, will not fire the listener's 'iAmReceived()' method, if it's for the same device, so you would either need to define another 'device' (/might be good to try as an alternative/easier? starting-point test), or as you've done try using another device (- unless I'm wrong I'm not sure why this API does not appear to have a 'client'-only class / you seem to have to use a 'device' as being the client).</p>\n<p>But I'm guessing the problem with you set-up, might be the (local/'255.255.255.255') 'Who-Is' broadcast, whereby it's only going to broadcast to the local subnet, and to devices that are using the same port #; so in terms of orchestrating that, you'd probably be better off using the IPv4 (only) range of addresses (- IPv6 is cack in this regard in that they've reduced the localhost to being only 1 address rather than like IPv4 a localhost range of addresses or even 5-10 addresses?!), so you can have both the client and server device listening upon the same (Class 'A') network but with the same port #.</p>\n<p>Ignoring the fact that I seem to have a newer(?) version of the BACnet4J library, i.e. method-names differences:</p>\n<pre><code>            IpNetwork network =\n                new IpNetworkBuilder()\n                        .localBindAddress(&quot;127.0.0.1&quot;)\n                        .port(47810)\n                        .subnetMask(hostAddress)\n                        .build();\n</code></pre>\n<p>E.g.  Possibly something close to what could work for two local host addresses:</p>\n<pre><code>// https://repo1.maven.org/maven2/org/slf4j/slf4j-reload4j/1.7.36/\n\nimport java.util.List;\n\nimport com.serotonin.bacnet4j.LocalDevice;\nimport com.serotonin.bacnet4j.RemoteDevice;\nimport com.serotonin.bacnet4j.event.DeviceEventAdapter;\nimport com.serotonin.bacnet4j.exception.BACnetException;\nimport com.serotonin.bacnet4j.exception.BACnetTimeoutException;\n// import com.serotonin.bacnet4j.npdu.Network;\nimport com.serotonin.bacnet4j.npdu.ip.IpNetwork;\nimport com.serotonin.bacnet4j.npdu.ip.IpNetworkBuilder;\n// import com.serotonin.bacnet4j.npdu.ip.IpNetworkUtils;\nimport com.serotonin.bacnet4j.service.acknowledgement.ReadPropertyAck;\nimport com.serotonin.bacnet4j.service.confirmed.ReadPropertyRequest;\nimport com.serotonin.bacnet4j.service.unconfirmed.WhoIsRequest;\nimport com.serotonin.bacnet4j.transport.DefaultTransport;\nimport com.serotonin.bacnet4j.transport.Transport;\nimport com.serotonin.bacnet4j.type.constructed.Address;\nimport com.serotonin.bacnet4j.type.constructed.SequenceOf;\nimport com.serotonin.bacnet4j.type.constructed.ServicesSupported;\nimport com.serotonin.bacnet4j.type.enumerated.PropertyIdentifier;\nimport com.serotonin.bacnet4j.type.enumerated.Segmentation;\nimport com.serotonin.bacnet4j.type.primitive.ObjectIdentifier;\nimport com.serotonin.bacnet4j.type.primitive.OctetString;\nimport com.serotonin.bacnet4j.type.primitive.Unsigned16;\nimport com.serotonin.bacnet4j.type.primitive.UnsignedInteger;\nimport com.serotonin.bacnet4j.util.RequestUtils;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nclass Main\n{\n    private static LocalDevice localDevice;\n\n    public static void main(String[] args)\n        throws Exception\n    {\n        try\n        {\n            Logger logger = LoggerFactory.getLogger(Main.class);\n\n            logger.info(&quot;- Main() -&quot;);\n\n            String hostAddress = &quot;127.255.255.255&quot;;\n            //String hostAddress = &quot;192.168.0.255&quot;;\n            //String hostAddress = &quot;192.168.56.255&quot;;\n            //String hostAddress = &quot;192.168.255.255&quot;;\n\n            IpNetwork network =\n                new IpNetworkBuilder()\n                        .localBindAddress(&quot;127.0.0.1&quot;)\n                        .port(47810)\n                        .subnetMask(hostAddress)\n                        .build();\n\n            Transport transport = new DefaultTransport(network);\n\n            localDevice = new LocalDevice(3227671, transport);\n            localDevice.initialize();\n\n            localDevice.getEventHandler().addListener(new Listener());\n\n            localDevice.sendGlobalBroadcast(new WhoIsRequest());\n\n            int remoteId = 999;\n            List&lt;RemoteDevice&gt; remoteDevices = localDevice.getRemoteDevices();\n\n            Thread.sleep(3000);\n\n            RemoteDevice d = remoteDevices.get(0);\n\n            ObjectIdentifier oid = d.getObjectIdentifier();\n\n            ReadPropertyAck ack;\n\n            // -\n\n            System.out.println(&quot;ExtDevInfo:  Getting 'Object-Name' .  .   .&quot;);\n\n            ack =\n                (ReadPropertyAck)\n                    (\n                        localDevice.send(\n                            d,\n                            new ReadPropertyRequest(\n                                oid,\n                                PropertyIdentifier.objectName)).get()\n                    );\n\n            d.setName(ack.getValue().toString());\n\n            // -\n\n            System.out.println(&quot;ExtDevInfo:  Getting 'Vendor-Identifier' .  .   .&quot;);\n\n            ack =\n                (ReadPropertyAck)\n                    (\n                        localDevice.send(\n                            d,\n                            new ReadPropertyRequest(\n                                oid,\n                                PropertyIdentifier.vendorIdentifier)).get()\n                    );\n\n            d.setVendorId(((Unsigned16) ack.getValue()).intValue());\n\n            // -\n\n            System.out.println(&quot;ExtDevInfo:  Getting 'Vendor-Name' .  .   .&quot;);\n\n            ack =\n                (ReadPropertyAck)\n                    (\n                        localDevice.send(\n                            d,\n                            new ReadPropertyRequest(\n                                oid,\n                                PropertyIdentifier.vendorName)).get()\n                    );\n\n            d.setVendorName(ack.getValue().toString());\n\n\n            // -\n\n            System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Version' .  .   .&quot;);\n\n            ack =\n                (ReadPropertyAck)\n                    (\n                        localDevice.send(\n                            d,\n                            new ReadPropertyRequest(\n                                oid,\n                                PropertyIdentifier.protocolVersion)).get()\n                    );\n\n            d.setProtocolVersion((UnsignedInteger) ack.getValue());\n\n            // -\n\n            System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Revision' .  .   .&quot;);\n\n            ack =\n                (ReadPropertyAck)\n                    (\n                        localDevice.send(\n                            d,\n                            new ReadPropertyRequest(\n                                oid,\n                                PropertyIdentifier.protocolRevision)).get()\n                    );\n\n            d.setProtocolRevision((UnsignedInteger) ack.getValue());\n\n            // -\n\n            // Get the device's supported services\n            System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Services-Supported' .  .   .&quot;);\n\n            ack =\n                (ReadPropertyAck)\n                    (\n                        localDevice.send(\n                            d,\n                            new ReadPropertyRequest(\n                                oid,\n                                PropertyIdentifier.protocolServicesSupported))\n                    ).get();\n\n            d.setServicesSupported((ServicesSupported) ack.getValue());\n\n            // -\n\n            System.out.println();\n        }\n        catch (BACnetTimeoutException exc)\n        {\n            System.out.flush();\n\n            System.err.println(exc.getMessage());\n            System.err.flush();\n        }\n        catch (BACnetException exc)\n        {\n            System.out.flush();\n\n            System.err.println(exc.getMessage());\n            System.err.flush();\n        }\n        catch (Exception exc)\n        {\n            System.out.flush();\n\n            System.err.println(exc.getMessage());\n            System.err.flush();\n        }\n        finally\n        {\n            localDevice.terminate();\n\n            System.out.println();\n        }\n    }\n\n    static class Listener extends DeviceEventAdapter\n    {\n        @Override\n        public void iAmReceived(RemoteDevice d)\n        {\n            try\n            {\n                System.out.println(&quot;IAm received from &quot; + d);\n                System.out.println(&quot;Segmentation: &quot; + d.getSegmentationSupported());\n                d.setSegmentationSupported(Segmentation.noSegmentation);\n\n                Address a = new Address(new Unsigned16(0), new OctetString(new byte[] { (byte) 0xc0, (byte) 0xa8, 0x1,\n                        0x5, (byte) 0xba, (byte) 0xc0 }));\n\n                System.out.println(&quot;Equals: &quot; + a.equals(d.getAddress()));\n\n                return;\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    static void getExtendedDeviceInformation(RemoteDevice d)\n        throws BACnetException\n    {\n        ObjectIdentifier oid = d.getObjectIdentifier();\n\n        ReadPropertyAck ack;\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Object-Name' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.objectName)).get()\n                );\n\n        d.setName(ack.getValue().toString());\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Vendor-Identifier' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.vendorIdentifier)).get()\n                );\n\n        d.setVendorId(((Unsigned16) ack.getValue()).intValue());\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Vendor-Name' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.vendorName)).get()\n                );\n\n        d.setVendorName(ack.getValue().toString());\n\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Version' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.protocolVersion)).get()\n                );\n\n        d.setProtocolVersion((UnsignedInteger) ack.getValue());\n\n        // -\n\n        System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Revision' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.protocolRevision)).get()\n                );\n\n        d.setProtocolRevision((UnsignedInteger) ack.getValue());\n\n        // -\n\n        // Get the device's supported services\n        System.out.println(&quot;ExtDevInfo:  Getting 'Protocol-Services-Supported' .  .   .&quot;);\n\n        ack =\n            (ReadPropertyAck)\n                (\n                    localDevice.send(\n                        d,\n                        new ReadPropertyRequest(\n                            oid,\n                            PropertyIdentifier.protocolServicesSupported))\n                ).get();\n\n        d.setServicesSupported((ServicesSupported) ack.getValue());\n\n        // -\n\n        System.out.println();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2201097,"reputation":33,"user_id":1945480,"display_name":"st lip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700217977,"creation_date":1699959726,"question_id":77480088,"body_markdown":"I am trying to write simple code to read a simulator yabe device in my Java code.\r\nI can read the device with yab (a bacnet explorer free app)\r\nI am missing something I cant get what\r\n\r\n```\r\n     String hostAddress=&quot;192.168.1.9&quot;;\r\n        IpNetwork network = new IpNetworkBuilder().withPort(47808).withSubnet(hostAddress, 24).build();\r\n        Transport transport = new DefaultTransport(network);\r\n        LocalDevice localDevice = new LocalDevice(3227671, transport);\r\n        localDevice.initialize();\r\n        localDevice.sendGlobalBroadcast(new WhoIsRequest());\r\n\r\n        int remoteId=123;\r\n        List&lt;RemoteDevice&gt; remoteDevices = localDevice.getRemoteDevices(); \r\n```\r\n\r\nthe list is always empty.\r\nthis is the simulato device:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kHujX.png\r\ncan anyone direct me what am I missing?\r\nThank you.","title":"connect to Bacnet device with java using bacnet4j","body":"<p>I am trying to write simple code to read a simulator yabe device in my Java code.\nI can read the device with yab (a bacnet explorer free app)\nI am missing something I cant get what</p>\n<pre><code>     String hostAddress=&quot;192.168.1.9&quot;;\n        IpNetwork network = new IpNetworkBuilder().withPort(47808).withSubnet(hostAddress, 24).build();\n        Transport transport = new DefaultTransport(network);\n        LocalDevice localDevice = new LocalDevice(3227671, transport);\n        localDevice.initialize();\n        localDevice.sendGlobalBroadcast(new WhoIsRequest());\n\n        int remoteId=123;\n        List&lt;RemoteDevice&gt; remoteDevices = localDevice.getRemoteDevices(); \n</code></pre>\n<p>the list is always empty.\nthis is the simulato device:</p>\n<p><a href=\"https://i.stack.imgur.com/kHujX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHujX.png\" alt=\"enter image description here\" /></a></p>\n<p>can anyone direct me what am I missing?\nThank you.</p>\n"},{"tags":["java","google-plugin-eclipse"],"answers":[{"tags":[],"owner":{"account_id":496224,"reputation":963,"user_id":2277627,"accept_rate":20,"display_name":"Elliotte Rusty Harold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1573506649,"creation_date":1573506649,"answer_id":58808753,"question_id":58793515,"body_markdown":"CT4E does not yet support Java 11. Work is underway to support Java 11. ","title":"Updating to App Engine Java 11 Standard Environment: Project Facets in Eclipse","body":"<p>CT4E does not yet support Java 11. Work is underway to support Java 11. </p>\n"},{"tags":[],"owner":{"account_id":34170,"reputation":5366,"user_id":96313,"accept_rate":40,"display_name":"Viktor Brešan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700217213,"creation_date":1700217213,"answer_id":77500957,"question_id":58793515,"body_markdown":"There are no plans to extend Cloud Tools for Eclipse with support for Java 11/17 App Engine. [[1][1]]\r\n\r\nPlugin maintainers are recommending using [Maven][2]/[Gradle][3] plugins instead, and reading [Java 11/17 migration documentation][4].\r\n\r\nNote that IntelliJ plugin won&#39;t be updated either. [[2][5]][[3][6]]\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3710\r\n  [2]: https://cloud.google.com/appengine/docs/legacy/standard/java/using-maven\r\n  [3]: https://cloud.google.com/appengine/docs/legacy/standard/java/tools/migrate-gradle\r\n  [4]: https://cloud.google.com/appengine/migration-center/standard/migrate-to-second-gen/java-differences\r\n  [5]: https://cloud.google.com/code/docs/intellij/create-standard\r\n  [6]: https://github.com/GoogleCloudPlatform/cloud-code-intellij/issues/2665","title":"Updating to App Engine Java 11 Standard Environment: Project Facets in Eclipse","body":"<p>There are no plans to extend Cloud Tools for Eclipse with support for Java 11/17 App Engine. [<a href=\"https://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3710\" rel=\"nofollow noreferrer\">1</a>]</p>\n<p>Plugin maintainers are recommending using <a href=\"https://cloud.google.com/appengine/docs/legacy/standard/java/using-maven\" rel=\"nofollow noreferrer\">Maven</a>/<a href=\"https://cloud.google.com/appengine/docs/legacy/standard/java/tools/migrate-gradle\" rel=\"nofollow noreferrer\">Gradle</a> plugins instead, and reading <a href=\"https://cloud.google.com/appengine/migration-center/standard/migrate-to-second-gen/java-differences\" rel=\"nofollow noreferrer\">Java 11/17 migration documentation</a>.</p>\n<p>Note that IntelliJ plugin won't be updated either. [<a href=\"https://cloud.google.com/code/docs/intellij/create-standard\" rel=\"nofollow noreferrer\">2</a>][<a href=\"https://github.com/GoogleCloudPlatform/cloud-code-intellij/issues/2665\" rel=\"nofollow noreferrer\">3</a>]</p>\n"}],"owner":{"account_id":2377694,"reputation":846,"user_id":2080575,"accept_rate":38,"display_name":"Alex R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58808753,"answer_count":2,"score":1,"last_activity_date":1700217213,"creation_date":1573424907,"question_id":58793515,"body_markdown":"I wanted to check out the App Engine Java 11 Standard Environment and tried to switch my project to Java 11. But in the Project Facets, I can only choose JRE7 or JRE8.\r\n\r\nCan I do something other than wait for an update of the Google cloud tools for eclipse?","title":"Updating to App Engine Java 11 Standard Environment: Project Facets in Eclipse","body":"<p>I wanted to check out the App Engine Java 11 Standard Environment and tried to switch my project to Java 11. But in the Project Facets, I can only choose JRE7 or JRE8.</p>\n\n<p>Can I do something other than wait for an update of the Google cloud tools for eclipse?</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":11304172,"reputation":69,"user_id":10845780,"display_name":"d_ser"},"score":0,"creation_date":1700215148,"post_id":77500236,"comment_id":136629531,"body_markdown":"Can you additionally post the text of the error? Otherwise, it’s not entirely clear whether the error is related to the implementation of the mapper or other beans","body":"Can you additionally post the text of the error? Otherwise, it’s not entirely clear whether the error is related to the implementation of the mapper or other beans"},{"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"score":0,"creation_date":1700216653,"post_id":77500236,"comment_id":136629811,"body_markdown":"I have added error message to original post","body":"I have added error message to original post"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700216621,"creation_date":1700209833,"question_id":77500236,"body_markdown":"Working with new project I run into issue of cycling dependency, that did not occurred in previous projects. The only difference is me using constructor injection rather than field injection like in previous projects. Is there any way to fix the cycling dependency?\r\nMy DAO looks like this:\r\n\r\n    FieldDAO{\r\n        //other fields\r\n        @ManyToOne(targetEntity = UserDAO.class)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private UserDAO user;\r\n    }\r\n    \r\n    UserDAO{\r\n    @OneToMany( mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = \r\n    true)\r\n    @ApiModelProperty(notes = &quot;User fields&quot;)\r\n    private List&lt;FieldDAO&gt; fieldList;\r\n    }\r\n\r\nMappers:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, builder = @Builder(disableBuilder = true), uses = {FieldMapper.class)\r\n    public interface UserMapper {\r\n\r\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(toMap.getUserId().getId())&quot;)\r\n    UserDAO mapToEntity(User toMap,\r\n                               @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\r\n\r\n    @Mapping(target = &quot;userId&quot;, source = &quot;toMap&quot;, qualifiedByName = &quot;longToObject&quot;)\r\n    User mapToDomain(UserDAO toMap,\r\n                            @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\r\n\r\n    @Named(&quot;longToObject&quot;)\r\n    default UserId fromLongToObject(UserDAO userDAO) {\r\n        return UserId.of(userDAO.getId());\r\n    }\r\n}\r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, builder = @Builder(disableBuilder = true), uses = {UserMapper.class, CultivationTypeMapper.class})\r\n    public interface FieldMapper {\r\n\r\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(toMap.getFieldId().getId())&quot;)\r\n    FieldDAO mapToEntity(Field toMap,\r\n                         @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\r\n\r\n    @Mapping(target = &quot;fieldId&quot;, source = &quot;toMap&quot;, qualifiedByName = &quot;longToObject&quot;)\r\n    Field mapToDomain(FieldDAO toMap,\r\n                      @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\r\n\r\n    @Named(&quot;longToObject&quot;)\r\n    default FieldId fromLongToObject(FieldDAO fieldDAO) {\r\n        return FieldId.of(fieldDAO.getId());\r\n    }\r\n}\r\n\r\nError:\r\n\r\n    The dependencies of some of the beans in the application context form a cycle:\r\n\r\n     ┌─────┐\r\n     |  userMapperImpl (field private \r\n     com.project.endpoints.field.management.FieldMapper           \r\n    com.project.endpoints.user.management.UserMapperImpl.fieldMapper)\r\n     ↑     ↓\r\n     |  fieldMapperImpl (field private \r\n     com.project.endpoints.user.management.UserMapper com.project.endpoints.field.management.FieldMapperImpl.userMapper)\r\n     └─────┘\r\n\r\n","title":"MapStruct dependency form a cycle","body":"<p>Working with new project I run into issue of cycling dependency, that did not occurred in previous projects. The only difference is me using constructor injection rather than field injection like in previous projects. Is there any way to fix the cycling dependency?\nMy DAO looks like this:</p>\n<pre><code>FieldDAO{\n    //other fields\n    @ManyToOne(targetEntity = UserDAO.class)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private UserDAO user;\n}\n\nUserDAO{\n@OneToMany( mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = \ntrue)\n@ApiModelProperty(notes = &quot;User fields&quot;)\nprivate List&lt;FieldDAO&gt; fieldList;\n}\n</code></pre>\n<p>Mappers:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, builder = @Builder(disableBuilder = true), uses = {FieldMapper.class)\npublic interface UserMapper {\n\n@Mapping(target = &quot;id&quot;, expression = &quot;java(toMap.getUserId().getId())&quot;)\nUserDAO mapToEntity(User toMap,\n                           @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\n\n@Mapping(target = &quot;userId&quot;, source = &quot;toMap&quot;, qualifiedByName = &quot;longToObject&quot;)\nUser mapToDomain(UserDAO toMap,\n                        @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\n\n@Named(&quot;longToObject&quot;)\ndefault UserId fromLongToObject(UserDAO userDAO) {\n    return UserId.of(userDAO.getId());\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, builder = @Builder(disableBuilder = true), uses = {UserMapper.class, CultivationTypeMapper.class})\npublic interface FieldMapper {\n\n@Mapping(target = &quot;id&quot;, expression = &quot;java(toMap.getFieldId().getId())&quot;)\nFieldDAO mapToEntity(Field toMap,\n                     @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\n\n@Mapping(target = &quot;fieldId&quot;, source = &quot;toMap&quot;, qualifiedByName = &quot;longToObject&quot;)\nField mapToDomain(FieldDAO toMap,\n                  @Context CycleAvoidingMappingContext cycleAvoidingMappingContext);\n\n@Named(&quot;longToObject&quot;)\ndefault FieldId fromLongToObject(FieldDAO fieldDAO) {\n    return FieldId.of(fieldDAO.getId());\n}\n</code></pre>\n<p>}</p>\n<p>Error:</p>\n<pre><code>The dependencies of some of the beans in the application context form a cycle:\n\n ┌─────┐\n |  userMapperImpl (field private \n com.project.endpoints.field.management.FieldMapper           \ncom.project.endpoints.user.management.UserMapperImpl.fieldMapper)\n ↑     ↓\n |  fieldMapperImpl (field private \n com.project.endpoints.user.management.UserMapper com.project.endpoints.field.management.FieldMapperImpl.userMapper)\n └─────┘\n</code></pre>\n"},{"tags":["java","spring-boot","maven","elasticsearch"],"owner":{"account_id":3238319,"reputation":280,"user_id":2731924,"accept_rate":0,"display_name":"alamelu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700215889,"creation_date":1700215889,"question_id":77500823,"body_markdown":"Elasticsearch-rest-high-level-client &amp; elasticsearch-rest-client maven dependency for Elastic server 8.8.2\r\n\r\nI have downloaded and using Elastic server 8.8.2 in my localhost.\r\n\r\nWhat are dependencies should be added when using elastic server via spring boot. (using spring-boot-starter-parent 2.6.2) \r\n\r\nIs anyone suggests what are the maven dependencies should be used for **elasticsearch-rest-high-level-client, elasticsearch-rest-client and lucene-core **","title":"Elasticsearch-rest-high-level-client &amp; elasticsearch-rest-client maven dependency for Elastic server 8.8.2","body":"<p>Elasticsearch-rest-high-level-client &amp; elasticsearch-rest-client maven dependency for Elastic server 8.8.2</p>\n<p>I have downloaded and using Elastic server 8.8.2 in my localhost.</p>\n<p>What are dependencies should be added when using elastic server via spring boot. (using spring-boot-starter-parent 2.6.2)</p>\n<p>Is anyone suggests what are the maven dependencies should be used for **elasticsearch-rest-high-level-client, elasticsearch-rest-client and lucene-core **</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"owner":{"account_id":22841974,"reputation":113,"user_id":16988820,"display_name":"Jakkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700215837,"creation_date":1700215837,"question_id":77500818,"body_markdown":"# problem\r\n\r\nI need to create a library but I cannot find a way to limit the visibility on the repository while be allowed to import it in the service.\r\nThis using Spring Data JPA.\r\nI cannot use public modifier because if I use it then when the user will import the library will be able to see the repo.\r\n\r\n# project package tree\r\n\r\n```txt\r\nmy.example.project\r\n  .repository\r\n  .model\r\n    .entity\r\n  .service\r\n```\r\n\r\n# project class tree\r\n\r\n```txt\r\nmy.example.project\r\n  .repository\r\n    MyRepo\r\n  .model\r\n    .entity\r\n      MyEntity\r\n  .service\r\n    MyService\r\n```\r\n\r\n# implementation\r\n\r\n## entity\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;my_entity&quot;)\r\npublic class MyEntity{\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column\r\n  private long id;\r\n\r\n  @Column\r\n  private String name;\r\n}\r\n```\r\n\r\n## repo \r\n\r\n```java\r\npackage my.example.project.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport my.example.project.entity.MyEntity;\r\n\r\n/*\r\n * If the repo is not public then won&#39;t be visible to the service.\r\n * I cannot either use private, or protected.\r\n * I cannot use public because if I use it then when the user will \r\n * import the library will be able to see the repo.\r\n */\r\n@Repository\r\ninterface MyRepo extends JpaRepository&lt;MyEntity, Long&gt; {}\r\n```\r\n\r\n## service\r\n\r\n```java\r\npackage my.example.project.service;\r\n\r\n@Service\r\npublic class MyService {\r\n\r\n  private final MyRepo myRepo; // gives error\r\n\r\n  public WlService() {}\r\n\r\n}\r\n```\r\n","title":"If I want to create a library that uses Spring Data JPA, how can I limit the visibility?","body":"<h1>problem</h1>\n<p>I need to create a library but I cannot find a way to limit the visibility on the repository while be allowed to import it in the service.\nThis using Spring Data JPA.\nI cannot use public modifier because if I use it then when the user will import the library will be able to see the repo.</p>\n<h1>project package tree</h1>\n<pre><code>my.example.project\n  .repository\n  .model\n    .entity\n  .service\n</code></pre>\n<h1>project class tree</h1>\n<pre><code>my.example.project\n  .repository\n    MyRepo\n  .model\n    .entity\n      MyEntity\n  .service\n    MyService\n</code></pre>\n<h1>implementation</h1>\n<h2>entity</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;my_entity&quot;)\npublic class MyEntity{\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column\n  private long id;\n\n  @Column\n  private String name;\n}\n</code></pre>\n<h2>repo</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package my.example.project.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport my.example.project.entity.MyEntity;\n\n/*\n * If the repo is not public then won't be visible to the service.\n * I cannot either use private, or protected.\n * I cannot use public because if I use it then when the user will \n * import the library will be able to see the repo.\n */\n@Repository\ninterface MyRepo extends JpaRepository&lt;MyEntity, Long&gt; {}\n</code></pre>\n<h2>service</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package my.example.project.service;\n\n@Service\npublic class MyService {\n\n  private final MyRepo myRepo; // gives error\n\n  public WlService() {}\n\n}\n</code></pre>\n"},{"tags":["java","android","google-cloud-platform","oauth-2.0","google-api-services-jobs"],"owner":{"account_id":29925529,"reputation":1,"user_id":22933645,"display_name":"Mohamed Amine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700215375,"creation_date":1700215375,"question_id":77500778,"body_markdown":"Create OAuth 2.0 Credentials:\r\n\r\nGo to the Google Cloud Console.\r\nCreate a new project or select an existing project.\r\nNavigate to &quot;APIs &amp; Services&quot; \\&gt; &quot;Credentials.&quot;\r\nCreate an OAuth 2.0 client ID.\r\nNote down the generated client ID; this will be used in your Android app.\r\n[like this ](https://i.stack.imgur.com/IMCwS.png)\r\n\r\n[get me just client id and i wanna access token how i can do this](https://i.stack.imgur.com/qyo4k.png)\r\n\r\n\r\n\r\n&gt; get access token using client id oauth2.0 on android\r\n\r\n\r\n````\r\n\r\n\r\n\r\n`\r\n&gt;package com.applist.myapplication;\r\n\r\n&gt;import androidx.appcompat.app.AppCompatActivity;\r\n\r\n&gt;import android.os.Bundle;\r\n&gt;import android.content.Intent;\r\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignIn;\r\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\n&gt;import com.google.android.gms.common.api.ApiException;\r\n\r\n&gt;public class MainActivity extends AppCompatActivity {\r\n&gt;private static final int RC_SIGN_IN = 9001;\r\n&gt;private GoogleSignInClient mGoogleSignInClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(&quot;1004241379278-ejf1eq1in0dhd2divhp9akd6l47ndlrj.apps.googleusercontent.com&quot;)\r\n                .requestEmail()\r\n                .build();\r\n    \r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n    \r\n        signIn();\r\n    \r\n    }\r\n    \r\n    private void signIn() {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n    \r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n        if (requestCode == RC_SIGN_IN) {\r\n            try {\r\n                GoogleSignInAccount account = GoogleSignIn.getSignedInAccountFromIntent(data).getResult(ApiException.class);\r\n    \r\n                String accessToken = account.getIdToken();\r\n                System.out.println((accessToken));\r\n    \r\n            } catch (ApiException e) {\r\n                // Handle error\r\n            }\r\n        }\r\n    }`\r\n\r\n\r\n\r\n&gt; i found this code but not working : startActivityForResult =&#39;startActivityForResult(android.content.Intent, int)&#39; is deprecated `/   ```","title":"how to get OAuth 2.0 access token using client id on Android java 11 , i have just client id because i choose application type android","body":"<p>Create OAuth 2.0 Credentials:</p>\n<p>Go to the Google Cloud Console.\nCreate a new project or select an existing project.\nNavigate to &quot;APIs &amp; Services&quot; &gt; &quot;Credentials.&quot;\nCreate an OAuth 2.0 client ID.\nNote down the generated client ID; this will be used in your Android app.\n<a href=\"https://i.stack.imgur.com/IMCwS.png\" rel=\"nofollow noreferrer\">like this </a></p>\n<p><a href=\"https://i.stack.imgur.com/qyo4k.png\" rel=\"nofollow noreferrer\">get me just client id and i wanna access token how i can do this</a></p>\n<blockquote>\n<p>get access token using client id oauth2.0 on android</p>\n</blockquote>\n<pre><code>\n\n\n`\n&gt;package com.applist.myapplication;\n\n&gt;import androidx.appcompat.app.AppCompatActivity;\n\n&gt;import android.os.Bundle;\n&gt;import android.content.Intent;\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignIn;\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignInAccount;\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignInClient;\n&gt;import com.google.android.gms.auth.api.signin.GoogleSignInOptions;\n&gt;import com.google.android.gms.common.api.ApiException;\n\n&gt;public class MainActivity extends AppCompatActivity {\n&gt;private static final int RC_SIGN_IN = 9001;\n&gt;private GoogleSignInClient mGoogleSignInClient;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    \n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(&quot;1004241379278-ejf1eq1in0dhd2divhp9akd6l47ndlrj.apps.googleusercontent.com&quot;)\n                .requestEmail()\n                .build();\n    \n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\n    \n        signIn();\n    \n    }\n    \n    private void signIn() {\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n    \n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n    \n        if (requestCode == RC_SIGN_IN) {\n            try {\n                GoogleSignInAccount account = GoogleSignIn.getSignedInAccountFromIntent(data).getResult(ApiException.class);\n    \n                String accessToken = account.getIdToken();\n                System.out.println((accessToken));\n    \n            } catch (ApiException e) {\n                // Handle error\n            }\n        }\n    }`\n\n\n\n&gt; i found this code but not working : startActivityForResult ='startActivityForResult(android.content.Intent, int)' is deprecated `/   ```\n</code></pre>\n"},{"tags":["java","android-studio","mp4","avi","m3u8"],"comments":[{"owner":{"account_id":9786786,"reputation":899,"user_id":7252861,"display_name":"Yashovardhan99"},"score":0,"creation_date":1534528720,"post_id":51897719,"comment_id":90752493,"body_markdown":"Have you already tried something? Please post the code of what you have already tried?","body":"Have you already tried something? Please post the code of what you have already tried?"},{"owner":{"account_id":13893433,"reputation":143,"user_id":10030856,"display_name":"wiils"},"score":0,"creation_date":1534579761,"post_id":51897719,"comment_id":90763599,"body_markdown":"@Yashovardhan I am really confused and stuck now. First thing is downloading these files and other is converting them to a single package as `.MP4` i didn&#39;t found any libraries that can do this work.","body":"@Yashovardhan I am really confused and stuck now. First thing is downloading these files and other is converting them to a single package as <code>.MP4</code> i didn&#39;t found any libraries that can do this work."},{"owner":{"account_id":13893433,"reputation":143,"user_id":10030856,"display_name":"wiils"},"score":0,"creation_date":1534582358,"post_id":51897719,"comment_id":90764139,"body_markdown":"@Yashovardhan this is what i&#39;ve found for FFMPEG for android https://github.com/writingminds/ffmpeg-android-java not updated maintained.","body":"@Yashovardhan this is what i&#39;ve found for FFMPEG for android <a href=\"https://github.com/writingminds/ffmpeg-android-java\" rel=\"nofollow noreferrer\">github.com/writingminds/ffmpeg-android-java</a> not updated maintained."},{"owner":{"account_id":13893433,"reputation":143,"user_id":10030856,"display_name":"wiils"},"score":0,"creation_date":1534614601,"post_id":51897719,"comment_id":90772492,"body_markdown":"@Yashovardhan and the FFMPEG from the link is having a serious problem that it  increases the size of app by 21mb !! and please let me know if you any code sample to download these chunks and convert them into my app.","body":"@Yashovardhan and the FFMPEG from the link is having a serious problem that it  increases the size of app by 21mb !! and please let me know if you any code sample to download these chunks and convert them into my app."}],"answers":[{"tags":[],"owner":{"account_id":4376561,"reputation":1,"user_id":3569441,"display_name":"kbrahma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580399056,"creation_date":1580399056,"answer_id":59989615,"question_id":51897719,"body_markdown":"Python library - \r\n[m3u8-dl][1]\r\n\r\n\r\n  [1]: https://pypi.org/project/m3u8-dl/\r\n\r\npip install m3u8-dl\r\n\r\nm3u8-dl --help","title":"Downloading .ts files","body":"<p>Python library - \n<a href=\"https://pypi.org/project/m3u8-dl/\" rel=\"nofollow noreferrer\">m3u8-dl</a></p>\n\n<p>pip install m3u8-dl</p>\n\n<p>m3u8-dl --help</p>\n"},{"tags":[],"owner":{"account_id":16320700,"reputation":670,"user_id":11786575,"display_name":"jeppoo1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611593988,"creation_date":1611593988,"answer_id":65889124,"question_id":51897719,"body_markdown":"Source: https://stackoverflow.com/questions/22188332/download-ts-files-from-video-stream\r\nTry this:\r\n\r\n    import urllib.request\r\n    import os\r\n    import shutil\r\n\r\n    # Paste the address for one (any) video chunk ending with .ts\r\n    my_lessons = [\r\n    # paste your https://YOUR_SITE.com/A_VIDEO_CHUNK.ts address here\r\n    ]\r\n\r\n    lesson_dir = &quot;my_vids&quot;\r\n    try:\r\n        shutil.rmtree(lesson_dir)\r\n    except:\r\n        print(&quot;ok&quot;)\r\n\r\n    os.makedirs(lesson_dir)\r\n    os.chdir(lesson_dir)\r\n\r\n    for lesson, dwn_link in enumerate(my_lessons):\r\n        print(&quot;downloading lesson  %d.. &quot; % (lesson), dwn_link)\r\n        file_name = &#39;%04d.mp4&#39; % lesson\r\n        f = open(file_name, &#39;ab&#39;)\r\n        for x in range(0, 1200):\r\n            try:\r\n                rsp = urllib.request.urlopen(dwn_link + &quot;_%04d.ts&quot; % (x) )\r\n            except:\r\n                break\r\n            file_name = &#39;%d.mp4&#39; % lesson\r\n            print(&quot;downloading  %d.ts&quot; % (x))\r\n            f.write(rsp.read())\r\n        f.close()\r\n\r\n    print (&quot;================== Done - Find your video at&quot;, lesson_dir, &quot;- Good luck! ==================&quot;)","title":"Downloading .ts files","body":"<p>Source: <a href=\"https://stackoverflow.com/questions/22188332/download-ts-files-from-video-stream\">Download TS files from video stream</a>\nTry this:</p>\n<pre><code>import urllib.request\nimport os\nimport shutil\n\n# Paste the address for one (any) video chunk ending with .ts\nmy_lessons = [\n# paste your https://YOUR_SITE.com/A_VIDEO_CHUNK.ts address here\n]\n\nlesson_dir = &quot;my_vids&quot;\ntry:\n    shutil.rmtree(lesson_dir)\nexcept:\n    print(&quot;ok&quot;)\n\nos.makedirs(lesson_dir)\nos.chdir(lesson_dir)\n\nfor lesson, dwn_link in enumerate(my_lessons):\n    print(&quot;downloading lesson  %d.. &quot; % (lesson), dwn_link)\n    file_name = '%04d.mp4' % lesson\n    f = open(file_name, 'ab')\n    for x in range(0, 1200):\n        try:\n            rsp = urllib.request.urlopen(dwn_link + &quot;_%04d.ts&quot; % (x) )\n        except:\n            break\n        file_name = '%d.mp4' % lesson\n        print(&quot;downloading  %d.ts&quot; % (x))\n        f.write(rsp.read())\n    f.close()\n\nprint (&quot;================== Done - Find your video at&quot;, lesson_dir, &quot;- Good luck! ==================&quot;)\n</code></pre>\n"}],"owner":{"account_id":13893433,"reputation":143,"user_id":10030856,"display_name":"wiils"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700215255,"creation_date":1534516673,"question_id":51897719,"body_markdown":"I want to download `.ts` streams from server and store them locally in android phone.\r\ni am able to retrieve the `.m3u8` file but don&#39;t know how to actually download these chunks.\r\n\r\nWhy i am asking this question because these .ts chunks are `1950` in numbers and don&#39;t know how to download these at once and convert to a single file.\r\n\r\nthis is how the `.m3u8` looks like :\r\n\r\n    #EXTM3U\r\n    #EXT-X-VERSION:3\r\n    #EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID=&quot;subtitles&quot;,NAME=&quot;English&quot;,AUTOSELECT=YES,DEFAULT=YES,LANGUAGE=&quot;en&quot;,URI=&quot;master_subtitle.m3u8&quot;\r\n    #EXT-X-INDEPENDENT-SEGMENTS\r\n    #EXT-X-STREAM-INF:BANDWIDTH=96632,AVERAGE-BANDWIDTH=82657,CODECS=&quot;avc1.42c015,mp4a.40.5&quot;,RESOLUTION=250x140,SUBTITLES=&quot;subtitles&quot;,FRAME-RATE=10.000\r\n    master_Layer1.m3u8\r\n    #EXT-X-STREAM-INF:BANDWIDTH=167696,AVERAGE-BANDWIDTH=141886,CODECS=&quot;avc1.42c015,mp4a.40.5&quot;,RESOLUTION=320x180,SUBTITLES=&quot;subtitles&quot;,FRAME-RATE=15.000\r\n    master_Layer2.m3u8\r\n    #EXT-X-STREAM-INF:BANDWIDTH=329376,AVERAGE-BANDWIDTH=280906,CODECS=&quot;avc1.42c015,mp4a.40.2&quot;,RESOLUTION=320x180,SUBTITLES=&quot;subtitles&quot;,FRAME-RATE=25.000\r\n    master_Layer3.m3u8\r\n    #EXT-X-STREAM-INF:BANDWIDTH=598968,AVERAGE-BANDWIDTH=505629,CODECS=&quot;avc1.42c01e,mp4a.40.2&quot;,RESOLUTION=416x234,SUBTITLES=&quot;subtitles&quot;,FRAME-RATE=25.000\r\n    master_Layer4.m3u8\r\n    #EXT-X-STREAM-INF:BANDWIDTH=1102432,AVERAGE-BANDWIDTH=914396,CODECS=&quot;avc1.42c01e,mp4a.40.2&quot;,RESOLUTION=640x360,SUBTITLES=&quot;subtitles&quot;,FRAME-RATE=25.000\r\n    master_Layer5.m3u8 \r\n\r\nand this is how the file which says the story of the chunks look like :\r\n\r\n    #EXTM3U\r\n    #EXT-X-VERSION:3\r\n    #EXT-X-TARGETDURATION:4\r\n    #EXT-X-MEDIA-SEQUENCE:1\r\n    #EXT-X-PLAYLIST-TYPE:VOD\r\n    #EXTINF:4.000,\r\n    master_Layer1_00001.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00002.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00003.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00004.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00005.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00006.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00007.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00008.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00009.ts\r\n    #EXTINF:4.000,\r\n    master_Layer1_00010.ts\r\n    ...\r\n    #EXTINF:0.600,\r\n    master_Layer1_02150.ts\r\n    #EXT-X-ENDLIST \r\n\r\nThe download url is something like \r\n`https://abcd.com/path1/path2/master_Layer*.ts`\r\n\r\nnow i need to know how to download these chunks at once and convert them to a single file package such as `.mp4` ?","title":"Downloading .ts files","body":"<p>I want to download <code>.ts</code> streams from server and store them locally in android phone.\ni am able to retrieve the <code>.m3u8</code> file but don't know how to actually download these chunks.</p>\n\n<p>Why i am asking this question because these .ts chunks are <code>1950</code> in numbers and don't know how to download these at once and convert to a single file.</p>\n\n<p>this is how the <code>.m3u8</code> looks like :</p>\n\n<pre><code>#EXTM3U\n#EXT-X-VERSION:3\n#EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID=\"subtitles\",NAME=\"English\",AUTOSELECT=YES,DEFAULT=YES,LANGUAGE=\"en\",URI=\"master_subtitle.m3u8\"\n#EXT-X-INDEPENDENT-SEGMENTS\n#EXT-X-STREAM-INF:BANDWIDTH=96632,AVERAGE-BANDWIDTH=82657,CODECS=\"avc1.42c015,mp4a.40.5\",RESOLUTION=250x140,SUBTITLES=\"subtitles\",FRAME-RATE=10.000\nmaster_Layer1.m3u8\n#EXT-X-STREAM-INF:BANDWIDTH=167696,AVERAGE-BANDWIDTH=141886,CODECS=\"avc1.42c015,mp4a.40.5\",RESOLUTION=320x180,SUBTITLES=\"subtitles\",FRAME-RATE=15.000\nmaster_Layer2.m3u8\n#EXT-X-STREAM-INF:BANDWIDTH=329376,AVERAGE-BANDWIDTH=280906,CODECS=\"avc1.42c015,mp4a.40.2\",RESOLUTION=320x180,SUBTITLES=\"subtitles\",FRAME-RATE=25.000\nmaster_Layer3.m3u8\n#EXT-X-STREAM-INF:BANDWIDTH=598968,AVERAGE-BANDWIDTH=505629,CODECS=\"avc1.42c01e,mp4a.40.2\",RESOLUTION=416x234,SUBTITLES=\"subtitles\",FRAME-RATE=25.000\nmaster_Layer4.m3u8\n#EXT-X-STREAM-INF:BANDWIDTH=1102432,AVERAGE-BANDWIDTH=914396,CODECS=\"avc1.42c01e,mp4a.40.2\",RESOLUTION=640x360,SUBTITLES=\"subtitles\",FRAME-RATE=25.000\nmaster_Layer5.m3u8 \n</code></pre>\n\n<p>and this is how the file which says the story of the chunks look like :</p>\n\n<pre><code>#EXTM3U\n#EXT-X-VERSION:3\n#EXT-X-TARGETDURATION:4\n#EXT-X-MEDIA-SEQUENCE:1\n#EXT-X-PLAYLIST-TYPE:VOD\n#EXTINF:4.000,\nmaster_Layer1_00001.ts\n#EXTINF:4.000,\nmaster_Layer1_00002.ts\n#EXTINF:4.000,\nmaster_Layer1_00003.ts\n#EXTINF:4.000,\nmaster_Layer1_00004.ts\n#EXTINF:4.000,\nmaster_Layer1_00005.ts\n#EXTINF:4.000,\nmaster_Layer1_00006.ts\n#EXTINF:4.000,\nmaster_Layer1_00007.ts\n#EXTINF:4.000,\nmaster_Layer1_00008.ts\n#EXTINF:4.000,\nmaster_Layer1_00009.ts\n#EXTINF:4.000,\nmaster_Layer1_00010.ts\n...\n#EXTINF:0.600,\nmaster_Layer1_02150.ts\n#EXT-X-ENDLIST \n</code></pre>\n\n<p>The download url is something like \n<code>https://abcd.com/path1/path2/master_Layer*.ts</code></p>\n\n<p>now i need to know how to download these chunks at once and convert them to a single file package such as <code>.mp4</code> ?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2044520,"reputation":677,"user_id":1824928,"accept_rate":83,"display_name":"drorw"},"score":1,"creation_date":1539175659,"post_id":2839321,"comment_id":92405832,"body_markdown":"Here&#39;s a short 3-minute video tutorial that demonstrates using MySQL from Java. Check it out here: [Quick Tutorial: Connecting to MySQL database using Java](https://www.youtube.com/watch?v=3KT0haOSTEg)","body":"Here&#39;s a short 3-minute video tutorial that demonstrates using MySQL from Java. Check it out here: <a href=\"https://www.youtube.com/watch?v=3KT0haOSTEg\" rel=\"nofollow noreferrer\">Quick Tutorial: Connecting to MySQL database using Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":76211,"reputation":1536,"user_id":218372,"accept_rate":80,"display_name":"heffaklump"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1273909390,"creation_date":1273909390,"answer_id":2839332,"question_id":2839321,"body_markdown":"\tString url = &quot;jdbc:mysql://127.0.0.1:3306/yourdatabase&quot;;\r\n\tString user = &quot;username&quot;;\r\n\tString password = &quot;password&quot;;\r\n\r\n\t// Load the Connector/J driver\r\n\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\t// Establish connection to MySQL\r\n\tConnection conn = DriverManager.getConnection(url, user, password);\r\n","title":"Connect Java to a MySQL database","body":"<pre><code>String url = \"jdbc:mysql://127.0.0.1:3306/yourdatabase\";\nString user = \"username\";\nString password = \"password\";\n\n// Load the Connector/J driver\nClass.forName(\"com.mysql.jdbc.Driver\").newInstance();\n// Establish connection to MySQL\nConnection conn = DriverManager.getConnection(url, user, password);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1273909704,"creation_date":1273909704,"answer_id":2839342,"question_id":2839321,"body_markdown":"Here&#39;s the very minimum you need to get data out of a MySQL database:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n    Connection conn = DriverManager.getConnection\r\n       (&quot;jdbc:mysql://localhost:3306/foo&quot;, &quot;root&quot;, &quot;password&quot;);\r\n    \r\n    Statement stmt = conn.createStatement();\r\n    stmt.execute(&quot;SELECT * FROM `FOO.BAR`&quot;);\r\n    stmt.close();\r\n    conn.close();\r\n\r\nAdd exception handling, configuration etc. to taste.","title":"Connect Java to a MySQL database","body":"<p>Here's the very minimum you need to get data out of a MySQL database:</p>\n\n<pre><code>Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\nConnection conn = DriverManager.getConnection\n   (\"jdbc:mysql://localhost:3306/foo\", \"root\", \"password\");\n\nStatement stmt = conn.createStatement();\nstmt.execute(\"SELECT * FROM `FOO.BAR`\");\nstmt.close();\nconn.close();\n</code></pre>\n\n<p>Add exception handling, configuration etc. to taste.</p>\n"},{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":2,"up_vote_count":233,"is_accepted":true,"score":231,"last_activity_date":1696138422,"creation_date":1273914609,"answer_id":2839563,"question_id":2839321,"body_markdown":"## `DataSource`\r\n\r\n`DriverManager` is a fairly old way of doing things. The better way is to get a [`DataSource`][1] object. Either by using [JNDI][2] to look one up that your app server container already configured for you:\r\n\r\n    Context context = new InitialContext();\r\n    DataSource dataSource = (DataSource) context.lookup(&quot;java:comp/env/jdbc/myDB&quot;);\r\n\r\n… or by instantiating and configuring one from your database driver directly, such as `com.mysql.cj.jdbc.MysqlDataSource` ([see documentation][3]): \r\n\r\n    MysqlDataSource dataSource = new MysqlDataSource();\r\n    dataSource.setUser(&quot;scott&quot;);\r\n    dataSource.setPassword(&quot;tiger&quot;);\r\n    dataSource.setServerName(&quot;myDBHost.example.org&quot;);\r\n\r\n… and then obtain connections from it, same as above:\r\n\r\n    Connection conn = dataSource.getConnection();\r\n    Statement stmt = conn.createStatement();\r\n    ResultSet rs = stmt.executeQuery(&quot;SELECT ID FROM USERS&quot;);\r\n    …\r\n    rs.close();\r\n    stmt.close();\r\n    conn.close();\r\n\r\nIn modern Java, use [try-with-resources][4] syntax to automatically close JDBC resources (now [`AutoCloseable`][5]).\r\n\r\n```java\r\ntry (\r\n    Connection conn = dataSource.getConnection();\r\n    Statement stmt = conn.createStatement();\r\n    ResultSet rs = stmt.executeQuery(&quot;SELECT ID FROM USERS&quot;);\r\n) {\r\n    …\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/javax/sql/DataSource.html\r\n  [2]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [3]: https://dev.mysql.com/doc/connector-j/8.1/en/connector-j-reference-configuration-properties.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html","title":"Connect Java to a MySQL database","body":"<h2><code>DataSource</code></h2>\n<p><code>DriverManager</code> is a fairly old way of doing things. The better way is to get a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> object. Either by using <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">JNDI</a> to look one up that your app server container already configured for you:</p>\n<pre><code>Context context = new InitialContext();\nDataSource dataSource = (DataSource) context.lookup(&quot;java:comp/env/jdbc/myDB&quot;);\n</code></pre>\n<p>… or by instantiating and configuring one from your database driver directly, such as <code>com.mysql.cj.jdbc.MysqlDataSource</code> (<a href=\"https://dev.mysql.com/doc/connector-j/8.1/en/connector-j-reference-configuration-properties.html\" rel=\"nofollow noreferrer\">see documentation</a>):</p>\n<pre><code>MysqlDataSource dataSource = new MysqlDataSource();\ndataSource.setUser(&quot;scott&quot;);\ndataSource.setPassword(&quot;tiger&quot;);\ndataSource.setServerName(&quot;myDBHost.example.org&quot;);\n</code></pre>\n<p>… and then obtain connections from it, same as above:</p>\n<pre><code>Connection conn = dataSource.getConnection();\nStatement stmt = conn.createStatement();\nResultSet rs = stmt.executeQuery(&quot;SELECT ID FROM USERS&quot;);\n…\nrs.close();\nstmt.close();\nconn.close();\n</code></pre>\n<p>In modern Java, use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax to automatically close JDBC resources (now <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n    Connection conn = dataSource.getConnection();\n    Statement stmt = conn.createStatement();\n    ResultSet rs = stmt.executeQuery(&quot;SELECT ID FROM USERS&quot;);\n) {\n    …\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":535,"is_accepted":false,"score":535,"last_activity_date":1700214910,"creation_date":1273931723,"answer_id":2840358,"question_id":2839321,"body_markdown":"Here&#39;s a step by step explanation how to install MySQL and JDBC and how to use it:\r\n\r\n1. **[Download][1] and install the MySQL server**. Just do it the usual way. Remember the port number whenever you&#39;ve changed it. It&#39;s by default `3306`.\r\n\r\n0. **[Download][2] the JDBC driver and put in classpath**, extract the ZIP file and put the containing JAR file in the classpath. The vendor-specific JDBC driver is a concrete implementation of the [JDBC API][3] ([tutorial here][4]). \r\n\r\n    If you&#39;re using an IDE like Eclipse or Netbeans, then you can add it to the classpath by adding the JAR file as *Library* to the *Build Path* in project&#39;s properties. \r\n\r\n    If you&#39;re doing it &quot;plain vanilla&quot; in the command console, then you need to specify the path to the JAR file in the `-cp` or `-classpath` argument when executing your Java application.\r\n\r\n    &lt;pre&gt;java -cp .;/path/to/mysql-connector.jar com.example.YourClass&lt;/pre&gt;\r\n\r\n    The `.` is just there to add the *current* directory to the classpath as well so that it can locate `com.example.YourClass` and the `;` is the classpath separator as it is in Windows. In Unix and clones `:` should be used.\r\n\r\n    If you&#39;re developing a servlet based WAR application and wish to manually manage connections (poor practice, actually), then you need to ensure that the JAR ends up in `/WEB-INF/lib` of the build. See also https://stackoverflow.com/questions/6792197/how-to-add-jar-libraries-to-war-project-without-facing-java-lang-classnotfoundex/6792774#6792774. The better practice is to install the physical JDBC driver JAR file in the server itself and configure the server to create a JDBC connection pool. Here&#39;s an example for Tomcat: https://stackoverflow.com/questions/2299469/how-should-i-connect-to-jdbc-database-datasource-in-a-servlet-based-applicatio/2299870#2299870\r\n\r\n0. **Create a [database][5] in MySQL**. Let&#39;s create a database `javabase`. You of course want World Domination, so let&#39;s use UTF-8 as well.\r\n\r\n        CREATE DATABASE javabase DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\r\n\r\n0. **[Create a user][6] for Java and [grant][7] it access**. Simply because using `root` is a bad practice.\r\n\r\n        CREATE USER &#39;java&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;\r\n        GRANT ALL ON javabase.* TO &#39;java&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;\r\n\r\n    Yes, `java` is the username and `password` is the password here.\r\n\r\n0. **[Determine][8] the JDBC URL**. To connect the MySQL database using Java you need an JDBC URL in the following syntax:\r\n\r\n    &lt;pre&gt;jdbc:mysql://hostname:port/databasename&lt;/pre&gt;\r\n\r\n    - **`hostname`**: The hostname where MySQL server is installed. If it&#39;s installed at the same machine where you run the Java code, then you can just use `localhost`. It can also be an IP address like `127.0.0.1`. If you encounter connectivity problems and using `127.0.0.1` instead of `localhost` solved it, then you&#39;ve a problem in your network/DNS/hosts config.\r\n\r\n    - **`port`**: The TCP/IP port where MySQL server listens on. This is by default `3306`.\r\n\r\n    - **`databasename`**: The name of the database you&#39;d like to connect to. That&#39;s `javabase`.\r\n\r\n    So the final URL should look like:\r\n\r\n    &lt;pre&gt;jdbc:mysql://localhost:3306/javabase&lt;/pre&gt;\r\n\r\n0. **[Test the connection][9] to MySQL using Java**. Create a simple Java class with a `main()` method to test the connection. \r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        String url = &quot;jdbc:mysql://localhost:3306/javabase&quot;;\r\n        String username = &quot;java&quot;;\r\n        String password = &quot;password&quot;;\r\n        \r\n        System.out.println(&quot;Connecting database ...&quot;);\r\n\r\n        try (Connection connection = DriverManager.getConnection(url, username, password)) {\r\n            System.out.println(&quot;Database connected!&quot;);\r\n        } catch (SQLException e) {\r\n            throw new IllegalStateException(&quot;Cannot connect the database!&quot;, e);\r\n        }\r\n\r\n    If you get a `SQLException: No suitable driver`, then it means that either the JDBC driver wasn&#39;t autoloaded at all or that the JDBC URL is wrong (i.e. it wasn&#39;t recognized by any of the loaded drivers). See also https://stackoverflow.com/questions/1911253/the-infamous-java-sql-sqlexception-no-suitable-driver-found/1911487#1911487. Normally, a JDBC 4.0 driver should be autoloaded when you just drop it in runtime classpath. To exclude one and other, you can always manually load it as below:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        System.out.println(&quot;Loading driver ...&quot;);\r\n\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); // Use com.mysql.jdbc.Driver if you&#39;re not on MySQL 8+ yet.\r\n            System.out.println(&quot;Driver loaded!&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new IllegalStateException(&quot;Cannot find the driver in the classpath!&quot;, e);\r\n        }\r\n\r\n    Note that the `newInstance()` call is **not** needed here. It&#39;s in case of MySQL just to fix the old and buggy `org.gjt.mm.mysql.Driver`. [Explanation here][10]. If this line throws `ClassNotFoundException`, then the JAR file containing the JDBC driver class is simply not been placed in the classpath. Please also note that it&#39;s very important to throw an exception so that the code execution is immediately blocked, instead of suppressing it of merely printing the stack trace and then continuing the rest of the code.\r\n\r\n    Also note that you don&#39;t need to load the driver **everytime** *before* connecting. Just only once during application startup is enough.\r\n\r\n    If you get a `SQLException: Connection refused` or `Connection timed out` or a MySQL specific `CommunicationsException: \r\nCommunications link failure`, then it means that the DB isn&#39;t reachable at all. This can have one or more of the following causes:\r\n\r\n    1. IP address or hostname in JDBC URL is wrong.\r\n    2. Hostname in JDBC URL is not recognized by local DNS server.\r\n    3. Port number is missing or wrong in JDBC URL.\r\n    4. DB server is down.\r\n    5. DB server doesn&#39;t accept TCP/IP connections.\r\n    6. DB server has run out of connections.\r\n    7. Something in between Java and DB is blocking connections, e.g. a firewall or proxy.\r\n&lt;br&gt;&lt;br&gt;\r\n\r\n    To solve the one or the other, follow the following advices:\r\n\r\n    1. Verify and test them with `ping`.\r\n    2. Refresh DNS or use IP address in JDBC URL instead.\r\n    3. Verify it based on `my.cnf` of MySQL DB.\r\n    4. Start the DB.\r\n    5. Verify if mysqld is started without the `--skip-networking option`.\r\n    6. Restart the DB and fix your code accordingly that it closes connections in `finally`.\r\n    7. Disable firewall and/or configure firewall/proxy to allow/forward the port.\r\n&lt;br&gt;&lt;br&gt;\r\n\r\n    Note that closing the `Connection` is **extremely** important. If you don&#39;t close connections and keep getting a lot of them in a short time, then the database may run out of connections and your application may break. Always acquire the `Connection` in a [`try-with-resources` statement][11]. This also applies to `Statement`, `PreparedStatement` and `ResultSet`. See also https://stackoverflow.com/questions/5602772/how-often-should-connection-statement-and-resultset-be-closed-in-jdbc/5602821#5602821\r\n\r\nThat was it as far the connectivity concerns. You can find [here][12] a more advanced tutorial how to load and store fullworthy Java model objects in a database with help of a basic DAO class.\r\n\r\n----\r\n\r\nUsing a Singleton Pattern and/or a `static` variable for the DB `Connection` is a **bad practice**. See among others http://stackoverflow.com/q/9428573/ This is a #1 starters mistake. Make sure you don&#39;t fall in this trap.\r\n\r\n\r\n  [1]: https://dev.mysql.com/downloads/mysql/\r\n  [2]: https://dev.mysql.com/downloads/connector/j/\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/package-summary.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/jdbc/index.html\r\n  [5]: https://dev.mysql.com/doc/refman/8.2/en/create-database.html\r\n  [6]: https://dev.mysql.com/doc/refman/8.2/en/create-user.html\r\n  [7]: https://dev.mysql.com/doc/refman/8.2/en/grant.html\r\n  [8]: https://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html\r\n  [9]: https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-basic.html\r\n  [10]: https://stackoverflow.com/questions/2092659/what-is-difference-between-class-forname-and-class-forname-newinstance/2093236#2093236\r\n  [11]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [12]: https://balusc.blogspot.com/2008/07/dao-tutorial-data-layer.html","title":"Connect Java to a MySQL database","body":"<p>Here's a step by step explanation how to install MySQL and JDBC and how to use it:</p>\n<ol>\n<li><p><strong><a href=\"https://dev.mysql.com/downloads/mysql/\" rel=\"nofollow noreferrer\">Download</a> and install the MySQL server</strong>. Just do it the usual way. Remember the port number whenever you've changed it. It's by default <code>3306</code>.</p>\n</li>\n<li><p><strong><a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">Download</a> the JDBC driver and put in classpath</strong>, extract the ZIP file and put the containing JAR file in the classpath. The vendor-specific JDBC driver is a concrete implementation of the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/package-summary.html\" rel=\"nofollow noreferrer\">JDBC API</a> (<a href=\"https://docs.oracle.com/javase/tutorial/jdbc/index.html\" rel=\"nofollow noreferrer\">tutorial here</a>).</p>\n<p>If you're using an IDE like Eclipse or Netbeans, then you can add it to the classpath by adding the JAR file as <em>Library</em> to the <em>Build Path</em> in project's properties.</p>\n<p>If you're doing it &quot;plain vanilla&quot; in the command console, then you need to specify the path to the JAR file in the <code>-cp</code> or <code>-classpath</code> argument when executing your Java application.</p>\n <pre>java -cp .;/path/to/mysql-connector.jar com.example.YourClass</pre>\n<p>The <code>.</code> is just there to add the <em>current</em> directory to the classpath as well so that it can locate <code>com.example.YourClass</code> and the <code>;</code> is the classpath separator as it is in Windows. In Unix and clones <code>:</code> should be used.</p>\n<p>If you're developing a servlet based WAR application and wish to manually manage connections (poor practice, actually), then you need to ensure that the JAR ends up in <code>/WEB-INF/lib</code> of the build. See also <a href=\"https://stackoverflow.com/questions/6792197/how-to-add-jar-libraries-to-war-project-without-facing-java-lang-classnotfoundex/6792774#6792774\">How to add JAR libraries to WAR project without facing java.lang.ClassNotFoundException? Classpath vs Build Path vs /WEB-INF/lib</a>. The better practice is to install the physical JDBC driver JAR file in the server itself and configure the server to create a JDBC connection pool. Here's an example for Tomcat: <a href=\"https://stackoverflow.com/questions/2299469/how-should-i-connect-to-jdbc-database-datasource-in-a-servlet-based-applicatio/2299870#2299870\">How should I connect to JDBC database / datasource in a servlet based application?</a></p>\n</li>\n<li><p><strong>Create a <a href=\"https://dev.mysql.com/doc/refman/8.2/en/create-database.html\" rel=\"nofollow noreferrer\">database</a> in MySQL</strong>. Let's create a database <code>javabase</code>. You of course want World Domination, so let's use UTF-8 as well.</p>\n<pre><code> CREATE DATABASE javabase DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n</code></pre>\n</li>\n<li><p><strong><a href=\"https://dev.mysql.com/doc/refman/8.2/en/create-user.html\" rel=\"nofollow noreferrer\">Create a user</a> for Java and <a href=\"https://dev.mysql.com/doc/refman/8.2/en/grant.html\" rel=\"nofollow noreferrer\">grant</a> it access</strong>. Simply because using <code>root</code> is a bad practice.</p>\n<pre><code> CREATE USER 'java'@'localhost' IDENTIFIED BY 'password';\n GRANT ALL ON javabase.* TO 'java'@'localhost' IDENTIFIED BY 'password';\n</code></pre>\n<p>Yes, <code>java</code> is the username and <code>password</code> is the password here.</p>\n</li>\n<li><p><strong><a href=\"https://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html\" rel=\"nofollow noreferrer\">Determine</a> the JDBC URL</strong>. To connect the MySQL database using Java you need an JDBC URL in the following syntax:</p>\n <pre>jdbc:mysql://hostname:port/databasename</pre>\n<ul>\n<li><p><strong><code>hostname</code></strong>: The hostname where MySQL server is installed. If it's installed at the same machine where you run the Java code, then you can just use <code>localhost</code>. It can also be an IP address like <code>127.0.0.1</code>. If you encounter connectivity problems and using <code>127.0.0.1</code> instead of <code>localhost</code> solved it, then you've a problem in your network/DNS/hosts config.</p>\n</li>\n<li><p><strong><code>port</code></strong>: The TCP/IP port where MySQL server listens on. This is by default <code>3306</code>.</p>\n</li>\n<li><p><strong><code>databasename</code></strong>: The name of the database you'd like to connect to. That's <code>javabase</code>.</p>\n</li>\n</ul>\n<p>So the final URL should look like:</p>\n <pre>jdbc:mysql://localhost:3306/javabase</pre>\n</li>\n<li><p><strong><a href=\"https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-basic.html\" rel=\"nofollow noreferrer\">Test the connection</a> to MySQL using Java</strong>. Create a simple Java class with a <code>main()</code> method to test the connection.</p>\n <pre class=\"lang-java prettyprint-override\"><code> String url = &quot;jdbc:mysql://localhost:3306/javabase&quot;;\n String username = &quot;java&quot;;\n String password = &quot;password&quot;;\n\n System.out.println(&quot;Connecting database ...&quot;);\n\n try (Connection connection = DriverManager.getConnection(url, username, password)) {\n     System.out.println(&quot;Database connected!&quot;);\n } catch (SQLException e) {\n     throw new IllegalStateException(&quot;Cannot connect the database!&quot;, e);\n }\n</code></pre>\n<p>If you get a <code>SQLException: No suitable driver</code>, then it means that either the JDBC driver wasn't autoloaded at all or that the JDBC URL is wrong (i.e. it wasn't recognized by any of the loaded drivers). See also <a href=\"https://stackoverflow.com/questions/1911253/the-infamous-java-sql-sqlexception-no-suitable-driver-found/1911487#1911487\">The infamous java.sql.SQLException: No suitable driver found</a>. Normally, a JDBC 4.0 driver should be autoloaded when you just drop it in runtime classpath. To exclude one and other, you can always manually load it as below:</p>\n <pre class=\"lang-java prettyprint-override\"><code> System.out.println(&quot;Loading driver ...&quot;);\n\n try {\n     Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); // Use com.mysql.jdbc.Driver if you're not on MySQL 8+ yet.\n     System.out.println(&quot;Driver loaded!&quot;);\n } catch (ClassNotFoundException e) {\n     throw new IllegalStateException(&quot;Cannot find the driver in the classpath!&quot;, e);\n }\n</code></pre>\n<p>Note that the <code>newInstance()</code> call is <strong>not</strong> needed here. It's in case of MySQL just to fix the old and buggy <code>org.gjt.mm.mysql.Driver</code>. <a href=\"https://stackoverflow.com/questions/2092659/what-is-difference-between-class-forname-and-class-forname-newinstance/2093236#2093236\">Explanation here</a>. If this line throws <code>ClassNotFoundException</code>, then the JAR file containing the JDBC driver class is simply not been placed in the classpath. Please also note that it's very important to throw an exception so that the code execution is immediately blocked, instead of suppressing it of merely printing the stack trace and then continuing the rest of the code.</p>\n<p>Also note that you don't need to load the driver <strong>everytime</strong> <em>before</em> connecting. Just only once during application startup is enough.</p>\n<p>If you get a <code>SQLException: Connection refused</code> or <code>Connection timed out</code> or a MySQL specific <code>CommunicationsException:  Communications link failure</code>, then it means that the DB isn't reachable at all. This can have one or more of the following causes:</p>\n<ol>\n<li>IP address or hostname in JDBC URL is wrong.</li>\n<li>Hostname in JDBC URL is not recognized by local DNS server.</li>\n<li>Port number is missing or wrong in JDBC URL.</li>\n<li>DB server is down.</li>\n<li>DB server doesn't accept TCP/IP connections.</li>\n<li>DB server has run out of connections.</li>\n<li>Something in between Java and DB is blocking connections, e.g. a firewall or proxy.\n<br><br></li>\n</ol>\n<p>To solve the one or the other, follow the following advices:</p>\n<ol>\n<li>Verify and test them with <code>ping</code>.</li>\n<li>Refresh DNS or use IP address in JDBC URL instead.</li>\n<li>Verify it based on <code>my.cnf</code> of MySQL DB.</li>\n<li>Start the DB.</li>\n<li>Verify if mysqld is started without the <code>--skip-networking option</code>.</li>\n<li>Restart the DB and fix your code accordingly that it closes connections in <code>finally</code>.</li>\n<li>Disable firewall and/or configure firewall/proxy to allow/forward the port.\n<br><br></li>\n</ol>\n<p>Note that closing the <code>Connection</code> is <strong>extremely</strong> important. If you don't close connections and keep getting a lot of them in a short time, then the database may run out of connections and your application may break. Always acquire the <code>Connection</code> in a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><code>try-with-resources</code> statement</a>. This also applies to <code>Statement</code>, <code>PreparedStatement</code> and <code>ResultSet</code>. See also <a href=\"https://stackoverflow.com/questions/5602772/how-often-should-connection-statement-and-resultset-be-closed-in-jdbc/5602821#5602821\">How often should Connection, Statement and ResultSet be closed in JDBC?</a></p>\n</li>\n</ol>\n<p>That was it as far the connectivity concerns. You can find <a href=\"https://balusc.blogspot.com/2008/07/dao-tutorial-data-layer.html\" rel=\"nofollow noreferrer\">here</a> a more advanced tutorial how to load and store fullworthy Java model objects in a database with help of a basic DAO class.</p>\n<hr />\n<p>Using a Singleton Pattern and/or a <code>static</code> variable for the DB <code>Connection</code> is a <strong>bad practice</strong>. See among others <a href=\"http://stackoverflow.com/q/9428573/\">Is it safe to use a static java.sql.Connection instance in a multithreaded system?</a> This is a #1 starters mistake. Make sure you don't fall in this trap.</p>\n"},{"tags":[],"owner":{"account_id":1188554,"reputation":45,"user_id":1161967,"display_name":"Jwalant"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1486966503,"creation_date":1327127094,"answer_id":8951150,"question_id":2839321,"body_markdown":"You can see all steps to connect MySQL database from Java application &lt;a href=&quot;http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA&quot;&gt;here&lt;/a&gt;. For other database, you just need to change the driver in first step only. Please make sure that you provide right path to database and correct username and password.\r\n\r\nVisit &lt;http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA&gt;","title":"Connect Java to a MySQL database","body":"<p>You can see all steps to connect MySQL database from Java application <a href=\"http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA\" rel=\"nofollow noreferrer\">here</a>. For other database, you just need to change the driver in first step only. Please make sure that you provide right path to database and correct username and password.</p>\n\n<p>Visit <a href=\"http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA\" rel=\"nofollow noreferrer\">http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA</a></p>\n"},{"tags":[],"owner":{"account_id":301494,"reputation":2081,"user_id":2041542,"accept_rate":60,"display_name":"kapil das"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1376574983,"creation_date":1376574983,"answer_id":18254254,"question_id":2839321,"body_markdown":"you need to have mysql connector jar in your classpath. \r\n\r\nin Java JDBC API makes everything with databases. using JDBC  we can write Java applications to   \r\n1. Send queries or  update SQL to DB(any relational Database) \r\n2. Retrieve and process the results from DB\r\n\r\nwith below three steps we can able to retrieve data from any  Database\r\n\r\n\r\n    Connection con = DriverManager.getConnection(\r\n                         &quot;jdbc:myDriver:DatabaseName&quot;,\r\n                         dBuserName,\r\n                         dBuserPassword);\r\n\r\n    Statement stmt = con.createStatement();\r\n    ResultSet rs = stmt.executeQuery(&quot;SELECT a, b, c FROM Table&quot;);\r\n\r\n    while (rs.next()) {\r\n        int x = rs.getInt(&quot;a&quot;);\r\n        String s = rs.getString(&quot;b&quot;);\r\n        float f = rs.getFloat(&quot;c&quot;);\r\n    }\r\n","title":"Connect Java to a MySQL database","body":"<p>you need to have mysql connector jar in your classpath. </p>\n\n<p>in Java JDBC API makes everything with databases. using JDBC  we can write Java applications to<br>\n1. Send queries or  update SQL to DB(any relational Database) \n2. Retrieve and process the results from DB</p>\n\n<p>with below three steps we can able to retrieve data from any  Database</p>\n\n<pre><code>Connection con = DriverManager.getConnection(\n                     \"jdbc:myDriver:DatabaseName\",\n                     dBuserName,\n                     dBuserPassword);\n\nStatement stmt = con.createStatement();\nResultSet rs = stmt.executeQuery(\"SELECT a, b, c FROM Table\");\n\nwhile (rs.next()) {\n    int x = rs.getInt(\"a\");\n    String s = rs.getString(\"b\");\n    float f = rs.getFloat(\"c\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1432806613,"creation_date":1432806613,"answer_id":30503043,"question_id":2839321,"body_markdown":"`Connection` I was using some time ago, it was looking like the easiest way, but also there were recommendation to make there `if` statement- exactly \r\n\r\n    Connection con = DriverManager.getConnection(\r\n                         &quot;jdbc:myDriver:DatabaseName&quot;,\r\n                         dBuserName,\r\n                         dBuserPassword);\r\n    if (con != null){\r\n     //..handle your code there \r\n    }\r\n\r\nOr something like in that way :)\r\n\r\nProbably there&#39;s some case, while `getConnection` can return `null`  :)","title":"Connect Java to a MySQL database","body":"<p><code>Connection</code> I was using some time ago, it was looking like the easiest way, but also there were recommendation to make there <code>if</code> statement- exactly </p>\n\n<pre><code>Connection con = DriverManager.getConnection(\n                     \"jdbc:myDriver:DatabaseName\",\n                     dBuserName,\n                     dBuserPassword);\nif (con != null){\n //..handle your code there \n}\n</code></pre>\n\n<p>Or something like in that way :)</p>\n\n<p>Probably there's some case, while <code>getConnection</code> can return <code>null</code>  :)</p>\n"},{"tags":[],"owner":{"account_id":410608,"reputation":25367,"user_id":782535,"accept_rate":100,"display_name":"Madan Sapkota"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1575687974,"creation_date":1434258931,"answer_id":30826155,"question_id":2839321,"body_markdown":"## Initialize database constants\r\n\r\nCreate constant properties database username, password, URL and drivers, polling limit etc.\r\n\r\n    // init database constants\r\n    // com.mysql.jdbc.Driver\r\n    private static final String DATABASE_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n    private static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/database_name&quot;;\r\n    private static final String USERNAME = &quot;root&quot;;\r\n    private static final String PASSWORD = &quot;&quot;;\r\n    private static final String MAX_POOL = &quot;250&quot;; // set your own limit\r\n\r\n## Initialize Connection and Properties\r\n\r\nOnce the connection is established, it is better to store for reuse purpose.\r\n\r\n    // init connection object\r\n    private Connection connection;\r\n    // init properties object\r\n    private Properties properties;\r\n\r\n## Create Properties\r\n\r\nThe properties object hold the connection information, check if it is already set.\r\n\r\n    // create properties\r\n    private Properties getProperties() {\r\n        if (properties == null) {\r\n            properties = new Properties();\r\n            properties.setProperty(&quot;user&quot;, USERNAME);\r\n            properties.setProperty(&quot;password&quot;, PASSWORD);\r\n            properties.setProperty(&quot;MaxPooledStatements&quot;, MAX_POOL);\r\n        }\r\n        return properties;\r\n    }\r\n\r\n## Connect the Database\r\n\r\nNow connect to database using the constants and properties initialized.\r\n\r\n    // connect database\r\n    public Connection connect() {\r\n        if (connection == null) {\r\n            try {\r\n                Class.forName(DATABASE_DRIVER);\r\n                connection = DriverManager.getConnection(DATABASE_URL, getProperties());\r\n            } catch (ClassNotFoundException | SQLException e) {\r\n\t\t\t\t// Java 7+\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return connection;\r\n    }\r\n\t\r\n## Disconnect the database\r\n\r\nOnce you are done with database operations, just close the connection.\r\n\r\n    // disconnect database\r\n    public void disconnect() {\r\n        if (connection != null) {\r\n            try {\r\n                connection.close();\r\n                connection = null;\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\t\r\n## Everything together\r\n\r\nUse this class `MysqlConnect` directly after changing database_name, username and password etc.\r\n\r\n\timport java.sql.Connection;\r\n\timport java.sql.DriverManager;\r\n\timport java.sql.SQLException;\r\n\timport java.util.Properties;\r\n\r\n\tpublic class MysqlConnect {\r\n\t\t// init database constants\r\n\t\tprivate static final String DATABASE_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n\t\tprivate static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/database_name&quot;;\r\n\t\tprivate static final String USERNAME = &quot;root&quot;;\r\n\t\tprivate static final String PASSWORD = &quot;&quot;;\r\n\t\tprivate static final String MAX_POOL = &quot;250&quot;;\r\n\r\n\t\t// init connection object\r\n\t\tprivate Connection connection;\r\n\t\t// init properties object\r\n\t\tprivate Properties properties;\r\n\r\n\t\t// create properties\r\n\t\tprivate Properties getProperties() {\r\n\t\t\tif (properties == null) {\r\n\t\t\t\tproperties = new Properties();\r\n\t\t\t\tproperties.setProperty(&quot;user&quot;, USERNAME);\r\n\t\t\t\tproperties.setProperty(&quot;password&quot;, PASSWORD);\r\n\t\t\t\tproperties.setProperty(&quot;MaxPooledStatements&quot;, MAX_POOL);\r\n\t\t\t}\r\n\t\t\treturn properties;\r\n\t\t}\r\n\r\n\t\t// connect database\r\n\t\tpublic Connection connect() {\r\n\t\t\tif (connection == null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(DATABASE_DRIVER);\r\n\t\t\t\t\tconnection = DriverManager.getConnection(DATABASE_URL, getProperties());\r\n\t\t\t\t} catch (ClassNotFoundException | SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn connection;\r\n\t\t}\r\n\r\n\t\t// disconnect database\r\n\t\tpublic void disconnect() {\r\n\t\t\tif (connection != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconnection.close();\r\n                    connection = null;\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n## How to Use?\r\n\r\nInitialize the database class.\r\n\r\n\t// !_ note _! this is just init\r\n\t// it will not create a connection\r\n\tMysqlConnect mysqlConnect = new MysqlConnect();\r\n\t\r\nSomewhere else in your code ...\r\n\r\n\tString sql = &quot;SELECT * FROM `stackoverflow`&quot;;\r\n\ttry {\r\n\t\tPreparedStatement statement = mysqlConnect.connect().prepareStatement(sql);\r\n\t\t... go on ...\r\n\t\t... go on ...\r\n\t\t... DONE ....\r\n\t} catch (SQLException e) {\r\n\t\te.printStackTrace();\r\n\t} finally {\r\n\t\tmysqlConnect.disconnect();\r\n\t}\r\n\t\r\nThis is all **:)** If anything to improve edit it! Hope this is helpful.","title":"Connect Java to a MySQL database","body":"<h2>Initialize database constants</h2>\n\n<p>Create constant properties database username, password, URL and drivers, polling limit etc.</p>\n\n<pre><code>// init database constants\n// com.mysql.jdbc.Driver\nprivate static final String DATABASE_DRIVER = \"com.mysql.cj.jdbc.Driver\";\nprivate static final String DATABASE_URL = \"jdbc:mysql://localhost:3306/database_name\";\nprivate static final String USERNAME = \"root\";\nprivate static final String PASSWORD = \"\";\nprivate static final String MAX_POOL = \"250\"; // set your own limit\n</code></pre>\n\n<h2>Initialize Connection and Properties</h2>\n\n<p>Once the connection is established, it is better to store for reuse purpose.</p>\n\n<pre><code>// init connection object\nprivate Connection connection;\n// init properties object\nprivate Properties properties;\n</code></pre>\n\n<h2>Create Properties</h2>\n\n<p>The properties object hold the connection information, check if it is already set.</p>\n\n<pre><code>// create properties\nprivate Properties getProperties() {\n    if (properties == null) {\n        properties = new Properties();\n        properties.setProperty(\"user\", USERNAME);\n        properties.setProperty(\"password\", PASSWORD);\n        properties.setProperty(\"MaxPooledStatements\", MAX_POOL);\n    }\n    return properties;\n}\n</code></pre>\n\n<h2>Connect the Database</h2>\n\n<p>Now connect to database using the constants and properties initialized.</p>\n\n<pre><code>// connect database\npublic Connection connect() {\n    if (connection == null) {\n        try {\n            Class.forName(DATABASE_DRIVER);\n            connection = DriverManager.getConnection(DATABASE_URL, getProperties());\n        } catch (ClassNotFoundException | SQLException e) {\n            // Java 7+\n            e.printStackTrace();\n        }\n    }\n    return connection;\n}\n</code></pre>\n\n<h2>Disconnect the database</h2>\n\n<p>Once you are done with database operations, just close the connection.</p>\n\n<pre><code>// disconnect database\npublic void disconnect() {\n    if (connection != null) {\n        try {\n            connection.close();\n            connection = null;\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<h2>Everything together</h2>\n\n<p>Use this class <code>MysqlConnect</code> directly after changing database_name, username and password etc.</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Properties;\n\npublic class MysqlConnect {\n    // init database constants\n    private static final String DATABASE_DRIVER = \"com.mysql.cj.jdbc.Driver\";\n    private static final String DATABASE_URL = \"jdbc:mysql://localhost:3306/database_name\";\n    private static final String USERNAME = \"root\";\n    private static final String PASSWORD = \"\";\n    private static final String MAX_POOL = \"250\";\n\n    // init connection object\n    private Connection connection;\n    // init properties object\n    private Properties properties;\n\n    // create properties\n    private Properties getProperties() {\n        if (properties == null) {\n            properties = new Properties();\n            properties.setProperty(\"user\", USERNAME);\n            properties.setProperty(\"password\", PASSWORD);\n            properties.setProperty(\"MaxPooledStatements\", MAX_POOL);\n        }\n        return properties;\n    }\n\n    // connect database\n    public Connection connect() {\n        if (connection == null) {\n            try {\n                Class.forName(DATABASE_DRIVER);\n                connection = DriverManager.getConnection(DATABASE_URL, getProperties());\n            } catch (ClassNotFoundException | SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return connection;\n    }\n\n    // disconnect database\n    public void disconnect() {\n        if (connection != null) {\n            try {\n                connection.close();\n                connection = null;\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>How to Use?</h2>\n\n<p>Initialize the database class.</p>\n\n<pre><code>// !_ note _! this is just init\n// it will not create a connection\nMysqlConnect mysqlConnect = new MysqlConnect();\n</code></pre>\n\n<p>Somewhere else in your code ...</p>\n\n<pre><code>String sql = \"SELECT * FROM `stackoverflow`\";\ntry {\n    PreparedStatement statement = mysqlConnect.connect().prepareStatement(sql);\n    ... go on ...\n    ... go on ...\n    ... DONE ....\n} catch (SQLException e) {\n    e.printStackTrace();\n} finally {\n    mysqlConnect.disconnect();\n}\n</code></pre>\n\n<p>This is all <strong>:)</strong> If anything to improve edit it! Hope this is helpful.</p>\n"},{"tags":[],"owner":{"account_id":4002855,"reputation":133,"user_id":3298409,"display_name":"KhiLan PaTeL"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1575982927,"creation_date":1444136893,"answer_id":32970843,"question_id":2839321,"body_markdown":"Short and Sweet code.\r\n```java\r\ntry {\t\t\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    System.out.println(&quot;Driver Loaded&quot;);\r\n    conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/testDB&quot;,&quot;root&quot;,&quot;&quot;);\r\n    //Database Name - testDB, Username - &quot;root&quot;, Password - &quot;&quot;\r\n    System.out.println(&quot;Connected...&quot;);\t\t\t\r\n} catch(Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nFor SQL server 2012\r\n```java\r\ntry {\r\n    String url = &quot;jdbc:sqlserver://KHILAN:1433;databaseName=testDB;user=Khilan;password=Tuxedo123&quot;; \r\n    //KHILAN is Host\tand 1433 is port number\t\t\r\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    System.out.println(&quot;Driver Loaded&quot;);\r\n    conn = DriverManager.getConnection(url);\r\n    System.out.println(&quot;Connected...&quot;);\r\n} catch(Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Connect Java to a MySQL database","body":"<p>Short and Sweet code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {       \n    Class.forName(\"com.mysql.jdbc.Driver\");\n    System.out.println(\"Driver Loaded\");\n    conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/testDB\",\"root\",\"\");\n    //Database Name - testDB, Username - \"root\", Password - \"\"\n    System.out.println(\"Connected...\");         \n} catch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>For SQL server 2012</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    String url = \"jdbc:sqlserver://KHILAN:1433;databaseName=testDB;user=Khilan;password=Tuxedo123\"; \n    //KHILAN is Host    and 1433 is port number     \n    Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n    System.out.println(\"Driver Loaded\");\n    conn = DriverManager.getConnection(url);\n    System.out.println(\"Connected...\");\n} catch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9590996,"reputation":5786,"user_id":7121889,"display_name":"Sarat Chandra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483981996,"creation_date":1483981996,"answer_id":41553322,"question_id":2839321,"body_markdown":"MySql JDBC Connection:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  \t\r\n    \t   \r\n    Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/DatabaseName&quot;,&quot;Username&quot;,&quot;Password&quot;);  \t\t  \r\n    Statement stmt=con.createStatement();  \t\t\t \r\n    stmt = con.createStatement();\r\n    ResultSet rs=stmt.executeQuery(&quot;Select * from Table&quot;);  ","title":"Connect Java to a MySQL database","body":"<p>MySql JDBC Connection:</p>\n\n<pre><code>Class.forName(\"com.mysql.jdbc.Driver\");     \n\nConnection con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/DatabaseName\",\"Username\",\"Password\");         \nStatement stmt=con.createStatement();            \nstmt = con.createStatement();\nResultSet rs=stmt.executeQuery(\"Select * from Table\");  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8380514,"reputation":1021,"user_id":6292652,"display_name":"AJC"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1505746954,"creation_date":1490995992,"answer_id":43149999,"question_id":2839321,"body_markdown":"MySQL JDBC Connection with useSSL. \r\n\r\n    private String db_server = BaseMethods.getSystemData(&quot;db_server&quot;);\r\n    private String db_user = BaseMethods.getSystemData(&quot;db_user&quot;);\r\n    private String db_password = BaseMethods.getSystemData(&quot;db_password&quot;);\r\n\r\n    private String connectToDb() throws Exception {\r\n       String jdbcDriver = &quot;com.mysql.jdbc.Driver&quot;;\r\n       String dbUrl = &quot;jdbc:mysql://&quot; + db_server  +\r\n            &quot;?verifyServerCertificate=false&quot; +\r\n            &quot;&amp;useSSL=true&quot; +\r\n            &quot;&amp;requireSSL=true&quot;;\r\n        System.setProperty(jdbcDriver, &quot;&quot;);\r\n        Class.forName(jdbcDriver).newInstance();\r\n\r\n        Connection conn = DriverManager.getConnection(dbUrl, db_user, db_password);\r\n        Statement statement = conn.createStatement();\r\n        String query = &quot;SELECT EXTERNAL_ID FROM offer_letter where ID =&quot; + &quot;\\&quot;&quot; + letterID + &quot;\\&quot;&quot;;\r\n        ResultSet resultSet = statement.executeQuery(query);\r\n        resultSet.next();\r\n        return resultSet.getString(1);\r\n    }","title":"Connect Java to a MySQL database","body":"<p>MySQL JDBC Connection with useSSL. </p>\n\n<pre><code>private String db_server = BaseMethods.getSystemData(\"db_server\");\nprivate String db_user = BaseMethods.getSystemData(\"db_user\");\nprivate String db_password = BaseMethods.getSystemData(\"db_password\");\n\nprivate String connectToDb() throws Exception {\n   String jdbcDriver = \"com.mysql.jdbc.Driver\";\n   String dbUrl = \"jdbc:mysql://\" + db_server  +\n        \"?verifyServerCertificate=false\" +\n        \"&amp;useSSL=true\" +\n        \"&amp;requireSSL=true\";\n    System.setProperty(jdbcDriver, \"\");\n    Class.forName(jdbcDriver).newInstance();\n\n    Connection conn = DriverManager.getConnection(dbUrl, db_user, db_password);\n    Statement statement = conn.createStatement();\n    String query = \"SELECT EXTERNAL_ID FROM offer_letter where ID =\" + \"\\\"\" + letterID + \"\\\"\";\n    ResultSet resultSet = statement.executeQuery(query);\n    resultSet.next();\n    return resultSet.getString(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5703191,"reputation":62,"user_id":4507576,"display_name":"Corrupted_S.K"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1505647294,"creation_date":1505642503,"answer_id":46262810,"question_id":2839321,"body_markdown":"**Short Code**\r\n\r\n    \r\n    public class DB {\r\n    \r\n        public static Connection c;\r\n\r\n        public static Connection getConnection() throws Exception {\r\n            if (c == null) {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                c =DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/DATABASE&quot;, &quot;USERNAME&quot;, &quot;Password&quot;);\r\n            }\r\n            return c;\r\n        }\r\n\r\n        // Send data TO Database\r\n        public static void setData(String sql) throws Exception {\r\n            DB.getConnection().createStatement().executeUpdate(sql);\r\n        }\r\n\r\n        // Get Data From Database\r\n        public static ResultSet getData(String sql) throws Exception {\r\n            ResultSet rs = DB.getConnection().createStatement().executeQuery(sql);\r\n            return rs;\r\n        }\r\n    }\r\n","title":"Connect Java to a MySQL database","body":"<p><strong>Short Code</strong></p>\n\n<pre><code>public class DB {\n\n    public static Connection c;\n\n    public static Connection getConnection() throws Exception {\n        if (c == null) {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            c =DriverManager.getConnection(\"jdbc:mysql://localhost:3306/DATABASE\", \"USERNAME\", \"Password\");\n        }\n        return c;\n    }\n\n    // Send data TO Database\n    public static void setData(String sql) throws Exception {\n        DB.getConnection().createStatement().executeUpdate(sql);\n    }\n\n    // Get Data From Database\n    public static ResultSet getData(String sql) throws Exception {\n        ResultSet rs = DB.getConnection().createStatement().executeQuery(sql);\n        return rs;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1551262,"reputation":3378,"user_id":2594699,"accept_rate":60,"display_name":"Nhat Dinh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1556111520,"creation_date":1556111132,"answer_id":55830766,"question_id":2839321,"body_markdown":"#### HOW\r\n\r\n+ To set up the Driver to run a quick sample\r\n\r\n```\r\n1. Go to https://dev.mysql.com/downloads/connector/j/, get the latest version of Connector/J\r\n\r\n2. Remember to set the classpath to include the path of the connector jar file.\r\nIf we don&#39;t set it correctly, below errors can occur:\r\n\r\nNo suitable driver found for jdbc:mysql://127.0.0.1:3306/msystem_development\r\n\r\njava.lang.ClassNotFoundException: com.mysql.jdbc:Driver\r\n```\r\n\r\n+ To set up the CLASSPATH\r\n\r\nMethod 1: set the CLASSPATH variable.\r\n```\r\nexport CLASSPATH=&quot;.:mysql-connector-java-VERSION.jar&quot;\r\njava MyClassFile\r\n```\r\nIn the above command, I have set the CLASSPATH to the current folder and mysql-connector-java-VERSION.jar file. So when the `java MyClassFile` command executed, java application launcher will try to load all the Java class in CLASSPATH.\r\nAnd it found the `Drive` class =&gt; BOOM errors was gone.\r\n\r\nMethod 2:\r\n```\r\njava -cp .:mysql-connector-java-VERSION.jar MyClassFile\r\n```\r\n\r\n*Note: Class.forName(&quot;com.mysql.jdbc.Driver&quot;); This is deprecated at this moment 2019 Apr.*\r\n\r\nHope this can help someone!","title":"Connect Java to a MySQL database","body":"HOW\n\n<ul>\n<li>To set up the Driver to run a quick sample</li>\n</ul>\n\n<pre><code>1. Go to https://dev.mysql.com/downloads/connector/j/, get the latest version of Connector/J\n\n2. Remember to set the classpath to include the path of the connector jar file.\nIf we don't set it correctly, below errors can occur:\n\nNo suitable driver found for jdbc:mysql://127.0.0.1:3306/msystem_development\n\njava.lang.ClassNotFoundException: com.mysql.jdbc:Driver\n</code></pre>\n\n<ul>\n<li>To set up the CLASSPATH</li>\n</ul>\n\n<p>Method 1: set the CLASSPATH variable.</p>\n\n<pre><code>export CLASSPATH=\".:mysql-connector-java-VERSION.jar\"\njava MyClassFile\n</code></pre>\n\n<p>In the above command, I have set the CLASSPATH to the current folder and mysql-connector-java-VERSION.jar file. So when the <code>java MyClassFile</code> command executed, java application launcher will try to load all the Java class in CLASSPATH.\nAnd it found the <code>Drive</code> class => BOOM errors was gone.</p>\n\n<p>Method 2:</p>\n\n<pre><code>java -cp .:mysql-connector-java-VERSION.jar MyClassFile\n</code></pre>\n\n<p><em>Note: Class.forName(\"com.mysql.jdbc.Driver\"); This is deprecated at this moment 2019 Apr.</em></p>\n\n<p>Hope this can help someone!</p>\n"},{"tags":[],"owner":{"account_id":15407638,"reputation":39,"user_id":11115345,"display_name":"Chew Zai"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1582370956,"creation_date":1582370956,"answer_id":60351725,"question_id":2839321,"body_markdown":"**Download JDBC Driver**\r\n\r\nDownload link (Select platform independent): https://dev.mysql.com/downloads/connector/j/\r\n\r\n**Move JDBC Driver to C Drive** \r\n\r\nUnzip the files and move to C:\\ drive. Your driver path should be like `C:\\mysql-connector-java-8.0.19\\mysql-connector-java-8.0.19`\r\n\r\n**Run Your Java**\r\n\r\n    java -cp &quot;C:\\mysql-connector-java-8.0.19\\mysql-connector-java-8.0.19\\mysql-connector-java-8.0.19.jar&quot; testMySQL.java\r\n\r\ntestMySQL.java\r\n\r\n    import java.sql.*;\r\n    import java.io.*;\r\n    \r\n    public class testMySQL {\r\n        public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n            try\r\n            {  \r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);  \r\n                Connection con=DriverManager.getConnection(  \r\n                    &quot;jdbc:mysql://localhost:3306/db?useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;,&quot;root&quot;,&quot;&quot;);  \r\n                Statement stmt=con.createStatement();  \r\n                ResultSet rs=stmt.executeQuery(&quot;show databases;&quot;);  \r\n                System.out.println(&quot;Connected&quot;);  \r\n            }\r\n            catch(Exception e)\r\n            {\r\n                System.out.println(e);\r\n            }\r\n    \r\n        }  \r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cWLTE.jpg","title":"Connect Java to a MySQL database","body":"<p><strong>Download JDBC Driver</strong></p>\n\n<p>Download link (Select platform independent): <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/</a></p>\n\n<p><strong>Move JDBC Driver to C Drive</strong> </p>\n\n<p>Unzip the files and move to C:\\ drive. Your driver path should be like <code>C:\\mysql-connector-java-8.0.19\\mysql-connector-java-8.0.19</code></p>\n\n<p><strong>Run Your Java</strong></p>\n\n<pre><code>java -cp \"C:\\mysql-connector-java-8.0.19\\mysql-connector-java-8.0.19\\mysql-connector-java-8.0.19.jar\" testMySQL.java\n</code></pre>\n\n<p>testMySQL.java</p>\n\n<pre><code>import java.sql.*;\nimport java.io.*;\n\npublic class testMySQL {\n    public static void main(String[] args) {\n    // TODO Auto-generated method stub\n        try\n        {  \n            Class.forName(\"com.mysql.cj.jdbc.Driver\");  \n            Connection con=DriverManager.getConnection(  \n                \"jdbc:mysql://localhost:3306/db?useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\",\"root\",\"\");  \n            Statement stmt=con.createStatement();  \n            ResultSet rs=stmt.executeQuery(\"show databases;\");  \n            System.out.println(\"Connected\");  \n        }\n        catch(Exception e)\n        {\n            System.out.println(e);\n        }\n\n    }  \n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cWLTE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cWLTE.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":113485,"reputation":9218,"user_id":298870,"accept_rate":89,"display_name":"abson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768920,"favorite_count":0,"down_vote_count":0,"up_vote_count":365,"accepted_answer_id":2839563,"answer_count":14,"score":365,"last_activity_date":1700214910,"creation_date":1273909161,"question_id":2839321,"body_markdown":"How do you connect to a MySQL database in Java?\r\n\r\nWhen I try, I get \r\n\r\n\r\n    java.sql.SQLException: No suitable driver found for jdbc:mysql://database/table\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:689)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\r\nOr \r\n\r\n    java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\r\nOr\r\n\r\n    java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver","title":"Connect Java to a MySQL database","body":"<p>How do you connect to a MySQL database in Java?</p>\n\n<p>When I try, I get </p>\n\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:mysql://database/table\n    at java.sql.DriverManager.getConnection(DriverManager.java:689)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":["java","azure","rest"],"comments":[{"owner":{"account_id":1826174,"reputation":55241,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1700216286,"post_id":77500669,"comment_id":136629738,"body_markdown":"Sounds like your API endpoint is returning an invalid HTTPS certificate?","body":"Sounds like your API endpoint is returning an invalid HTTPS certificate?"},{"owner":{"account_id":10866737,"reputation":1,"user_id":7989855,"display_name":"komala pelleti"},"score":0,"creation_date":1700216846,"post_id":77500669,"comment_id":136629851,"body_markdown":"if I do the same call from the postman (my local) , then API is working fine","body":"if I do the same call from the postman (my local) , then API is working fine"},{"owner":{"account_id":1826174,"reputation":55241,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1700223692,"post_id":77500669,"comment_id":136630974,"body_markdown":"There could be a root certificate authority on your pc that Azure AD B2C does not have. If that is the case, you would need a new certificate signed by one of the CAs that B2C does trust.","body":"There could be a root certificate authority on your pc that Azure AD B2C does not have. If that is the case, you would need a new certificate signed by one of the CAs that B2C does trust."},{"owner":{"account_id":10866737,"reputation":1,"user_id":7989855,"display_name":"komala pelleti"},"score":0,"creation_date":1700231448,"post_id":77500669,"comment_id":136632400,"body_markdown":"Hi Juunas ,  is there any way to turn off SSL validation from custom script while making a rest calls ?","body":"Hi Juunas ,  is there any way to turn off SSL validation from custom script while making a rest calls ?"},{"owner":{"account_id":1826174,"reputation":55241,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1700316662,"post_id":77500669,"comment_id":136640865,"body_markdown":"I don&#39;t know. It sounds like a bad idea.","body":"I don&#39;t know. It sounds like a bad idea."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700438598,"post_id":77500669,"comment_id":136651146,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10866737,"reputation":1,"user_id":7989855,"display_name":"komala pelleti"},"score":0,"creation_date":1700472604,"post_id":77500669,"comment_id":136654369,"body_markdown":"Hi,\nAPI is running on the gateway server there is no valid certificate present for the same. while API is calling from B2c it is throwing The remote certificate is invalid according to the validation procedure, so is there any way I can access the gateway? As of now rest API is called from custom policies. is there any alternative for the same?","body":"Hi, API is running on the gateway server there is no valid certificate present for the same. while API is calling from B2c it is throwing The remote certificate is invalid according to the validation procedure, so is there any way I can access the gateway? As of now rest API is called from custom policies. is there any alternative for the same?"}],"owner":{"account_id":10866737,"reputation":1,"user_id":7989855,"display_name":"komala pelleti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700214402,"creation_date":1700214402,"question_id":77500669,"body_markdown":"Iam calling rest call in custom policy, Not sending any header or certifciates in rest call.\r\ngetting following error..\r\n\r\n&quot;Exception&quot;: {\r\n            &quot;Kind&quot;: &quot;Handled&quot;,\r\n            &quot;HResult&quot;: &quot;80131509&quot;,\r\n            &quot;Message&quot;: &quot;The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel.&quot;,\r\n            &quot;Data&quot;: {},\r\n            &quot;Exception&quot;: {\r\n              &quot;Kind&quot;: &quot;Handled&quot;,\r\n              &quot;HResult&quot;: &quot;80131501&quot;,\r\n              &quot;Message&quot;: &quot;The remote certificate is invalid according to the validation procedure.&quot;,\r\n              &quot;Data&quot;: {}\r\n            }\r\n\r\nPlease help me to resolve above error\r\nI try to send the \r\n&lt;Item Key=&quot;AllowInsecureAuthInProduction&quot;&gt;true&lt;/Item&gt;\r\nAfter adding also ended up with same error","title":"Custom script rest call in Azure AD B2c","body":"<p>Iam calling rest call in custom policy, Not sending any header or certifciates in rest call.\ngetting following error..</p>\n<p>&quot;Exception&quot;: {\n&quot;Kind&quot;: &quot;Handled&quot;,\n&quot;HResult&quot;: &quot;80131509&quot;,\n&quot;Message&quot;: &quot;The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel.&quot;,\n&quot;Data&quot;: {},\n&quot;Exception&quot;: {\n&quot;Kind&quot;: &quot;Handled&quot;,\n&quot;HResult&quot;: &quot;80131501&quot;,\n&quot;Message&quot;: &quot;The remote certificate is invalid according to the validation procedure.&quot;,\n&quot;Data&quot;: {}\n}</p>\n<p>Please help me to resolve above error\nI try to send the\ntrue\nAfter adding also ended up with same error</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1434095357,"post_id":30797805,"comment_id":49644644,"body_markdown":"What exactly do you want to know about this object? like it&#39;s class name? or something else?","body":"What exactly do you want to know about this object? like it&#39;s class name? or something else?"},{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":1,"creation_date":1434095398,"post_id":30797805,"comment_id":49644662,"body_markdown":"Are you wondering why your first example doesn&#39;t compile? `visitor.visit()` returns a `ReturnType` which can&#180;t be returned as an `Integer` but as an `Object`.","body":"Are you wondering why your first example doesn&#39;t compile? <code>visitor.visit()</code> returns a <code>ReturnType</code> which can&#180;t be returned as an <code>Integer</code> but as an <code>Object</code>."},{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":0,"creation_date":1434095481,"post_id":30797805,"comment_id":49644706,"body_markdown":"in RecipientTypeVisitor&lt;?&gt; the &#39;?&#39; is a wild card you dont know its type. how you can assume its Integer ? so for compiler its Object","body":"in RecipientTypeVisitor&lt;?&gt; the &#39;?&#39; is a wild card you dont know its type. how you can assume its Integer ? so for compiler its Object"},{"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1434095518,"post_id":30797805,"comment_id":49644720,"body_markdown":"@Aakash I want to know exactly what I asked about. Is that type (and its properties) defined in the JLS or it&#39;s just an implementation&#39;s internals for the [captuerd convetion](https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.10) sakes.","body":"@Aakash I want to know exactly what I asked about. Is that type (and its properties) defined in the JLS or it&#39;s just an implementation&#39;s internals for the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">captuerd convetion</a> sakes."},{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1434095726,"post_id":30797805,"comment_id":49644831,"body_markdown":"It would be either `ReturnType` or one of it&#39;s child classes.","body":"It would be either <code>ReturnType</code> or one of it&#39;s child classes."}],"answers":[{"tags":[],"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434095644,"creation_date":1434095644,"answer_id":30798028,"question_id":30797805,"body_markdown":"Every class extends from Object so the typecast from `?` to `Object` is safe.\r\nTo get the same with `Integer` you can use `RecipientTypeVisitor&lt;? extends Integer&gt;` but since Integer is a final class that is useless, `Integer` cannot be subclassed. It is equivalent to `RecipientTypeVisitor&lt;Integer&gt;`.\r\n\r\nWhy do you want this?\r\n\r\nYou can check the [official tutorial here][1].\r\n\r\nThe most important thing to know: \r\n\r\n&gt; In generic code, the question mark (?), called the wildcard,\r\n&gt; represents an unknown type.\r\n&gt;\r\n&gt; (...)\r\n&gt;\r\n&gt; In some cases, the compiler infers the type of a wildcard. For\r\n&gt; example, a list may be defined as List&lt;?&gt; but, when evaluating an\r\n&gt; expression, the compiler infers a particular type from the code. This\r\n&gt; scenario is known as wildcard capture.\r\n&gt; \r\n&gt; For the most part, you don&#39;t need to worry about wildcard capture,\r\n&gt; except when you see an error message that contains the phrase &quot;capture\r\n&gt; of&quot;.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/wildcards.html","title":"Understanding a captured type in Java (symbol &#39;?&#39;)","body":"<p>Every class extends from Object so the typecast from <code>?</code> to <code>Object</code> is safe.\nTo get the same with <code>Integer</code> you can use <code>RecipientTypeVisitor&lt;? extends Integer&gt;</code> but since Integer is a final class that is useless, <code>Integer</code> cannot be subclassed. It is equivalent to <code>RecipientTypeVisitor&lt;Integer&gt;</code>.</p>\n\n<p>Why do you want this?</p>\n\n<p>You can check the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcards.html\" rel=\"nofollow\">official tutorial here</a>.</p>\n\n<p>The most important thing to know: </p>\n\n<blockquote>\n  <p>In generic code, the question mark (?), called the wildcard,\n  represents an unknown type.</p>\n  \n  <p>(...)</p>\n  \n  <p>In some cases, the compiler infers the type of a wildcard. For\n  example, a list may be defined as List but, when evaluating an\n  expression, the compiler infers a particular type from the code. This\n  scenario is known as wildcard capture.</p>\n  \n  <p>For the most part, you don't need to worry about wildcard capture,\n  except when you see an error message that contains the phrase \"capture\n  of\".</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":938951,"reputation":521,"user_id":4823741,"display_name":"Max"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700214261,"creation_date":1434095688,"answer_id":30798038,"question_id":30797805,"body_markdown":"You have some choices : \r\n\r\n1. you have to replace ? by Integer in the signature of accept method.\r\n2. you could parametrize your method accept too : \r\n\r\n`public &lt;T&gt; T accept(RecipientTypeVisitor&lt;T&gt; visitor) {...}`\r\n\r\nthis &lt;T&gt; indicates your method uses some generics and links some of its components.","title":"Understanding a captured type in Java (symbol &#39;?&#39;)","body":"<p>You have some choices :</p>\n<ol>\n<li>you have to replace ? by Integer in the signature of accept method.</li>\n<li>you could parametrize your method accept too :</li>\n</ol>\n<p><code>public &lt;T&gt; T accept(RecipientTypeVisitor&lt;T&gt; visitor) {...}</code></p>\n<p>this  indicates your method uses some generics and links some of its components.</p>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1436433507,"creation_date":1434095796,"answer_id":30798066,"question_id":30797805,"body_markdown":"The capture of a wildcard type is a type that is used by the compiler represent the type of a specific instance of the wildcard type, in one specific place.\r\n\r\nExample: Take for example a method with two wildcard parameters, `void m(Ex&lt;?&gt; e1, Ex&lt;?&gt; e2)`. The declared types of `e1` and `e2` are written exactly the same, `Ex&lt;?&gt;`. But `e1` and `e2` could have different and incompatible runtime types.\r\n\r\nThe type checker must not consider the types equal even if they are written the same way. Therefore, during compilation the type parameters of `e1` and `e2` are given specific types, new ones for each place they are used. These new types are called the _capture_ of their declared types.\r\n\r\nThe capture of a wildcard is an unknown, but normal and concrete type. It can be used the same way as other types.\r\n\r\nA technical description of this can be found in the [JLS][1]:\r\n\r\n&gt; 5.1.10. Capture Conversion\r\n&gt; \r\n&gt; Let G name a generic type declaration (&#167;8.1.2, &#167;9.1.2) with n type parameters A1,...,An with corresponding bounds U1,...,Un.\r\n&gt; \r\n&gt; There exists a capture conversion from a parameterized type G&lt;T1,...,Tn&gt; (&#167;4.5) to a parameterized type G&lt;S1,...,Sn&gt;, where, for 1 ≤ i ≤ n :\r\n&gt; \r\n&gt;    * If Ti is a wildcard type argument (&#167;4.5.1) of the form ?, then Si is a fresh type variable whose upper bound is Ui[A1:=S1,...,An:=Sn] and whose lower bound is the null type (&#167;4.1).\r\n&gt;    * ...\r\n\r\nWe can apply this to your example:\r\n\r\n    public Integer accept(RecipientTypeVisitor&lt;?&gt; visitor){ //Error:\r\n        return visitor.visit(this);             //Cannot convert capture of #1 to Integer\r\n    }\r\n\r\nA capture of the type parameter of `RecipientTypeVisitor` is introduced during compilation. The captured type parameter is concrete but totally unknown (the JLS calls this a &quot;fresh type variable&quot;), and certainly not convertible to `Integer`.\r\n\r\nThere is no way to denote the capture of a wildcard type directly, so you can&#39;t declare variables of that type or do much with it. You can however get a name for it indirectly by calling a generic method with it as a parameter. The JLS section I cited has a nice example of this further down:\r\n\r\n&gt;     public static void reverse(List&lt;?&gt; list) { rev(list); }\r\n&gt;     private static &lt;T&gt; void rev(List&lt;T&gt; list) {\r\n&gt;         List&lt;T&gt; tmp = new ArrayList&lt;T&gt;(list);\r\n&gt;         for (int i = 0; i &lt; list.size(); i++) {\r\n&gt;             list.set(i, tmp.get(list.size() - i - 1));\r\n&gt;         }\r\n&gt;     }\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.10","title":"Understanding a captured type in Java (symbol &#39;?&#39;)","body":"<p>The capture of a wildcard type is a type that is used by the compiler represent the type of a specific instance of the wildcard type, in one specific place.</p>\n\n<p>Example: Take for example a method with two wildcard parameters, <code>void m(Ex&lt;?&gt; e1, Ex&lt;?&gt; e2)</code>. The declared types of <code>e1</code> and <code>e2</code> are written exactly the same, <code>Ex&lt;?&gt;</code>. But <code>e1</code> and <code>e2</code> could have different and incompatible runtime types.</p>\n\n<p>The type checker must not consider the types equal even if they are written the same way. Therefore, during compilation the type parameters of <code>e1</code> and <code>e2</code> are given specific types, new ones for each place they are used. These new types are called the <em>capture</em> of their declared types.</p>\n\n<p>The capture of a wildcard is an unknown, but normal and concrete type. It can be used the same way as other types.</p>\n\n<p>A technical description of this can be found in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.10\" rel=\"nofollow\">JLS</a>:</p>\n\n<blockquote>\n  <p>5.1.10. Capture Conversion</p>\n  \n  <p>Let G name a generic type declaration (§8.1.2, §9.1.2) with n type parameters A1,...,An with corresponding bounds U1,...,Un.</p>\n  \n  <p>There exists a capture conversion from a parameterized type G (§4.5) to a parameterized type G, where, for 1 ≤ i ≤ n :</p>\n  \n  <ul>\n  <li>If Ti is a wildcard type argument (§4.5.1) of the form ?, then Si is a fresh type variable whose upper bound is Ui[A1:=S1,...,An:=Sn] and whose lower bound is the null type (§4.1).</li>\n  <li>...</li>\n  </ul>\n</blockquote>\n\n<p>We can apply this to your example:</p>\n\n<pre><code>public Integer accept(RecipientTypeVisitor&lt;?&gt; visitor){ //Error:\n    return visitor.visit(this);             //Cannot convert capture of #1 to Integer\n}\n</code></pre>\n\n<p>A capture of the type parameter of <code>RecipientTypeVisitor</code> is introduced during compilation. The captured type parameter is concrete but totally unknown (the JLS calls this a \"fresh type variable\"), and certainly not convertible to <code>Integer</code>.</p>\n\n<p>There is no way to denote the capture of a wildcard type directly, so you can't declare variables of that type or do much with it. You can however get a name for it indirectly by calling a generic method with it as a parameter. The JLS section I cited has a nice example of this further down:</p>\n\n<blockquote>\n<pre><code>public static void reverse(List&lt;?&gt; list) { rev(list); }\nprivate static &lt;T&gt; void rev(List&lt;T&gt; list) {\n    List&lt;T&gt; tmp = new ArrayList&lt;T&gt;(list);\n    for (int i = 0; i &lt; list.size(); i++) {\n        list.set(i, tmp.get(list.size() - i - 1));\n    }\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434095841,"creation_date":1434095841,"answer_id":30798081,"question_id":30797805,"body_markdown":"The char `?` is a wildcard meaning you don&#39;t know the type. its doesn&#39;t mean its type is `Object` its by definition `undefined` but in Java you can hold any type of object in `Object` type.\r\n\r\n    ArrayList&lt;?&gt; list1 = new Arraylist&lt;?&gt;(); // list of undefined objects\r\n\r\nYou cannot add objects in list1, but after casting you can.\r\n\r\n    ArrayList&lt;Object&gt; list2 = new Arraylist&lt;Object&gt;(); // list of objects of type Object\r\n\r\nYou can add objects in list2 of any type","title":"Understanding a captured type in Java (symbol &#39;?&#39;)","body":"<p>The char <code>?</code> is a wildcard meaning you don't know the type. its doesn't mean its type is <code>Object</code> its by definition <code>undefined</code> but in Java you can hold any type of object in <code>Object</code> type.</p>\n\n<pre><code>ArrayList&lt;?&gt; list1 = new Arraylist&lt;?&gt;(); // list of undefined objects\n</code></pre>\n\n<p>You cannot add objects in list1, but after casting you can.</p>\n\n<pre><code>ArrayList&lt;Object&gt; list2 = new Arraylist&lt;Object&gt;(); // list of objects of type Object\n</code></pre>\n\n<p>You can add objects in list2 of any type</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434114388,"creation_date":1434114388,"answer_id":30803874,"question_id":30797805,"body_markdown":"(This is from another answer of mine, but it is more suitable for this question, explaning wildcard itself)\r\n\r\nA wildcard `?` is **not a type**. It is a *type argument*. The syntax though is very deceiving (by design).\r\n\r\nLet&#39;s use a different syntax - if there&#39;s any 1st-level wildcard, use `{}` instead of `&lt;&gt;`, e.g.\r\n\r\n    List{?},  Map{String, ? extends Number}\r\n\r\nThe meaning of `{?}` is to declare a union type\r\n\r\n    List{? extends Number}  ==  union of List&lt;Number&gt;, List&lt;Integer&gt;, List&lt;Long&gt;, ....\r\n\r\nIt&#39;s easy to see that, `List&lt;Integer&gt;` is a subtype of  `List{? extends Number}`; and &lt;br&gt; `List{? extends Number}` is a subtype of `List{? extends Object}`\r\n\r\nIn our syntax, `&lt;&gt;` is reserved for substituting type vars with **types**. So we write &lt;br&gt;\r\n`List&lt;String&gt;`, etc. It&#39;s easy to understand their meaning - just replace `T`&#39;s with `String` in the source code of `List`, we get a  good-old plain class.\r\n\r\n        interface List&lt;String&gt;\r\n            String get(int)\r\n\r\nThis cannot be done for wildcard - it makes no sense \r\n\r\n        interface List&lt;?&gt;\r\n            ? get(int)\r\n\r\nSo it is not allowed to `new ArrayList{?}()`, or `class MyList implements List{?}`\r\n\r\nSo, how can we use `List{?}`? What methods we can call on it? \r\n\r\nWhen the type of an *expression* is a `List{?}`, we know that it is an object, and the object must belong to a subclass of `List&lt;x&gt;` for some unknown **type** `x`. This is *wildcard capture*\r\n\r\n    obj is a List{?}  =&gt;  obj is a List&lt;x&gt;, where x a subtype of Object.\r\n\r\nEven though the exact type of `x` is unknown at compile time, we can still do the substitution\r\n\r\n        interface List&lt;x&gt;\r\n            x get(int)\r\n\r\nso we can make sense of the call `obj.get(0)`; it returns `x`, and `x` is a subtype of `Object`; so we can assign the return value to an `Object`.","title":"Understanding a captured type in Java (symbol &#39;?&#39;)","body":"<p>(This is from another answer of mine, but it is more suitable for this question, explaning wildcard itself)</p>\n\n<p>A wildcard <code>?</code> is <strong>not a type</strong>. It is a <em>type argument</em>. The syntax though is very deceiving (by design).</p>\n\n<p>Let's use a different syntax - if there's any 1st-level wildcard, use <code>{}</code> instead of <code>&lt;&gt;</code>, e.g.</p>\n\n<pre><code>List{?},  Map{String, ? extends Number}\n</code></pre>\n\n<p>The meaning of <code>{?}</code> is to declare a union type</p>\n\n<pre><code>List{? extends Number}  ==  union of List&lt;Number&gt;, List&lt;Integer&gt;, List&lt;Long&gt;, ....\n</code></pre>\n\n<p>It's easy to see that, <code>List&lt;Integer&gt;</code> is a subtype of  <code>List{? extends Number}</code>; and <br> <code>List{? extends Number}</code> is a subtype of <code>List{? extends Object}</code></p>\n\n<p>In our syntax, <code>&lt;&gt;</code> is reserved for substituting type vars with <strong>types</strong>. So we write <br>\n<code>List&lt;String&gt;</code>, etc. It's easy to understand their meaning - just replace <code>T</code>'s with <code>String</code> in the source code of <code>List</code>, we get a  good-old plain class.</p>\n\n<pre><code>    interface List&lt;String&gt;\n        String get(int)\n</code></pre>\n\n<p>This cannot be done for wildcard - it makes no sense </p>\n\n<pre><code>    interface List&lt;?&gt;\n        ? get(int)\n</code></pre>\n\n<p>So it is not allowed to <code>new ArrayList{?}()</code>, or <code>class MyList implements List{?}</code></p>\n\n<p>So, how can we use <code>List{?}</code>? What methods we can call on it? </p>\n\n<p>When the type of an <em>expression</em> is a <code>List{?}</code>, we know that it is an object, and the object must belong to a subclass of <code>List&lt;x&gt;</code> for some unknown <strong>type</strong> <code>x</code>. This is <em>wildcard capture</em></p>\n\n<pre><code>obj is a List{?}  =&gt;  obj is a List&lt;x&gt;, where x a subtype of Object.\n</code></pre>\n\n<p>Even though the exact type of <code>x</code> is unknown at compile time, we can still do the substitution</p>\n\n<pre><code>    interface List&lt;x&gt;\n        x get(int)\n</code></pre>\n\n<p>so we can make sense of the call <code>obj.get(0)</code>; it returns <code>x</code>, and <code>x</code> is a subtype of <code>Object</code>; so we can assign the return value to an <code>Object</code>.</p>\n"}],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2457,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":30798066,"answer_count":5,"score":4,"last_activity_date":1700214261,"creation_date":1434094815,"question_id":30797805,"body_markdown":"What is `?`. Is it related to implementation details of the Java compiler or the type is defined in the [JLS][1]. \r\n\r\nFor instance,\r\n\r\n    public interface RecipientTypeVisitor&lt;ReturnType&gt; {\r\n    \tpublic ReturnType visit(RecipientSetType t);\r\n    }\r\n\r\n    public class RecipientSetType extends RecipientType{\r\n    \t\r\n    \tpublic Integer accept(RecipientTypeVisitor&lt;?&gt; visitor){ //Error:\r\n    \t\treturn visitor.visit(this);             //Cannot convert capture of #1 to Integer\r\n    \t}\r\n    }\r\n\r\nBut if we write this:\r\n\r\n    public interface RecipientTypeVisitor&lt;ReturnType&gt; {\r\n    \tpublic ReturnType visit(RecipientSetType t);\r\n    }\r\n\r\n    public class RecipientSetType extends RecipientType{\r\n    \t\r\n    \tpublic Object accept(RecipientTypeVisitor&lt;?&gt; visitor){ //Ok:\r\n    \t\treturn visitor.visit(this);             //this implies tha the capture of #1 is \r\n                                         //a subtype of Object as any refrence type in Java.\r\n    \t}\r\n    }\r\n\r\nThat&#39;s all I can say about a `captured type`. So what is it actually? \r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/index.html","title":"Understanding a captured type in Java (symbol &#39;?&#39;)","body":"<p>What is <code>?</code>. Is it related to implementation details of the Java compiler or the type is defined in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/index.html\" rel=\"nofollow\">JLS</a>. </p>\n\n<p>For instance,</p>\n\n<pre><code>public interface RecipientTypeVisitor&lt;ReturnType&gt; {\n    public ReturnType visit(RecipientSetType t);\n}\n\npublic class RecipientSetType extends RecipientType{\n\n    public Integer accept(RecipientTypeVisitor&lt;?&gt; visitor){ //Error:\n        return visitor.visit(this);             //Cannot convert capture of #1 to Integer\n    }\n}\n</code></pre>\n\n<p>But if we write this:</p>\n\n<pre><code>public interface RecipientTypeVisitor&lt;ReturnType&gt; {\n    public ReturnType visit(RecipientSetType t);\n}\n\npublic class RecipientSetType extends RecipientType{\n\n    public Object accept(RecipientTypeVisitor&lt;?&gt; visitor){ //Ok:\n        return visitor.visit(this);             //this implies tha the capture of #1 is \n                                     //a subtype of Object as any refrence type in Java.\n    }\n}\n</code></pre>\n\n<p>That's all I can say about a <code>captured type</code>. So what is it actually? </p>\n"},{"tags":["java","minio"],"comments":[{"owner":{"account_id":15505570,"reputation":1,"user_id":11185827,"display_name":"jie Old"},"score":0,"creation_date":1700214144,"post_id":77500610,"comment_id":136629308,"body_markdown":"Minio uses Docker container deployment\n\n 版本：2022-07-04T21-2-54Z","body":"Minio uses Docker container deployment   版本：2022-07-04T21-2-54Z"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700214782,"post_id":77500610,"comment_id":136629451,"body_markdown":"‘Unexpected end of stream on’ *what?*","body":"‘Unexpected end of stream on’ <i>what?</i>"},{"owner":{"account_id":15505570,"reputation":1,"user_id":11185827,"display_name":"jie Old"},"score":0,"creation_date":1700215365,"post_id":77500610,"comment_id":136629577,"body_markdown":"The complete error message is&#39; java. io. IOException: unexpected end of stream on &#39; http://172.17.0.1:9000/... “\nThe problem I identified was thrown by OkHttpClient\nAmong them, &quot;172.17.0.1:9000&quot; is the minio address I deployed in the container","body":"The complete error message is&#39; java. io. IOException: unexpected end of stream on &#39; <a href=\"http://172.17.0.1:9000/\" rel=\"nofollow noreferrer\">172.17.0.1:9000</a>... “ The problem I identified was thrown by OkHttpClient Among them, &quot;172.17.0.1:9000&quot; is the minio address I deployed in the container"}],"owner":{"account_id":15505570,"reputation":1,"user_id":11185827,"display_name":"jie Old"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700214256,"creation_date":1700213840,"question_id":77500610,"body_markdown":"minio-java version：\r\n\r\n```\r\n8.3.1\r\n```\r\n\r\nminio version：\r\n\r\nmy config\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\npublic class MinioConfiguration {\r\n\r\n    @Bean\r\n    @SneakyThrows\r\n    @ConditionalOnMissingBean(MinioClient.class)\r\n    public MinioClient minioClient(MinioConfig ossProperties) {\r\n        return MinioClient.builder()\r\n                .endpoint(ossProperties.getEndpoint())\r\n                .credentials(ossProperties.getAccessKey(), ossProperties.getSecretKey())\r\n                .httpClient(newDefaultHttpClient())\r\n                .build();\r\n    }\r\n    \r\n    \r\n    private OkHttpClient newDefaultHttpClient() {\r\n        return new OkHttpClient()\r\n                .newBuilder()\r\n                .connectTimeout(10000, TimeUnit.MILLISECONDS)\r\n                .protocols(Arrays.asList(Protocol.HTTP_1_1))\r\n                .retryOnConnectionFailure(true)\r\n                .build();\r\n    \r\n    }\r\n}\r\n```\r\n\r\ncode\r\n\r\n```java\r\n@SneakyThrows \r\npublic String uploadFile(InputStream inputStream, String bucketName, String path, String suffix) {\r\n    boolean exists = minioClient.bucketExists(BucketExistsArgs.builder()\r\n        .bucket(bucketName)\r\n        .build());\r\n    if (!exists) {\r\n        minioClient.makeBucket(MakeBucketArgs.builder()\r\n            .bucket(bucketName)\r\n            .build());\r\n        minioClient.setBucketPolicy(SetBucketPolicyArgs.builder()\r\n            .bucket(bucketName)\r\n            .config(config)\r\n            .build());\r\n    }\r\n    String dateTime = LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\r\n\r\n    String filePath = new StringBuilder()\r\n        .append(path)\r\n        .append(dateTime)\r\n        .append(&quot;/&quot;)\r\n        .append(IdUtil.fastSimpleUUID())\r\n        .append(suffix)\r\n        .toString();\r\n    minioClient.putObject(PutObjectArgs.builder()\r\n        .bucket(bucketName)\r\n        .object(filePath)\r\n        .stream(inputStream, inputStream.available(), -1)\r\n        .build());\r\n    return filePath;\r\n}\r\n```\r\n\r\nThe error: &quot;java.io.IOException: unexpected end of stream on&quot; when I run on the server, but not every time, only on the first connection after a long time of unconnection. Local operation is normal and there is no this phenomenon, I am a little confused.\r\n\r\nI have tried joining retryOnConnectionFailure too but mini-java 8.3.1 does not allow PUT and POST does retryOnConnectionFailure operations.\r\nDo I have any other solution.\r\n\r\nI have tried joining retryOnConnectionFailure too but mini-java 8.3.1 does not allow PUT and POST does retryOnConnectionFailure operations. \r\nDo I have any other solution.","title":"Use of minio-java: &quot;java.io.IOException: unexpected end of stream on&quot;","body":"<p>minio-java version：</p>\n<pre><code>8.3.1\n</code></pre>\n<p>minio version：</p>\n<p>my config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\npublic class MinioConfiguration {\n\n    @Bean\n    @SneakyThrows\n    @ConditionalOnMissingBean(MinioClient.class)\n    public MinioClient minioClient(MinioConfig ossProperties) {\n        return MinioClient.builder()\n                .endpoint(ossProperties.getEndpoint())\n                .credentials(ossProperties.getAccessKey(), ossProperties.getSecretKey())\n                .httpClient(newDefaultHttpClient())\n                .build();\n    }\n    \n    \n    private OkHttpClient newDefaultHttpClient() {\n        return new OkHttpClient()\n                .newBuilder()\n                .connectTimeout(10000, TimeUnit.MILLISECONDS)\n                .protocols(Arrays.asList(Protocol.HTTP_1_1))\n                .retryOnConnectionFailure(true)\n                .build();\n    \n    }\n}\n</code></pre>\n<p>code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SneakyThrows \npublic String uploadFile(InputStream inputStream, String bucketName, String path, String suffix) {\n    boolean exists = minioClient.bucketExists(BucketExistsArgs.builder()\n        .bucket(bucketName)\n        .build());\n    if (!exists) {\n        minioClient.makeBucket(MakeBucketArgs.builder()\n            .bucket(bucketName)\n            .build());\n        minioClient.setBucketPolicy(SetBucketPolicyArgs.builder()\n            .bucket(bucketName)\n            .config(config)\n            .build());\n    }\n    String dateTime = LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\n\n    String filePath = new StringBuilder()\n        .append(path)\n        .append(dateTime)\n        .append(&quot;/&quot;)\n        .append(IdUtil.fastSimpleUUID())\n        .append(suffix)\n        .toString();\n    minioClient.putObject(PutObjectArgs.builder()\n        .bucket(bucketName)\n        .object(filePath)\n        .stream(inputStream, inputStream.available(), -1)\n        .build());\n    return filePath;\n}\n</code></pre>\n<p>The error: &quot;java.io.IOException: unexpected end of stream on&quot; when I run on the server, but not every time, only on the first connection after a long time of unconnection. Local operation is normal and there is no this phenomenon, I am a little confused.</p>\n<p>I have tried joining retryOnConnectionFailure too but mini-java 8.3.1 does not allow PUT and POST does retryOnConnectionFailure operations.\nDo I have any other solution.</p>\n<p>I have tried joining retryOnConnectionFailure too but mini-java 8.3.1 does not allow PUT and POST does retryOnConnectionFailure operations.\nDo I have any other solution.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":29740701,"reputation":1,"user_id":22793026,"display_name":"Urrego Hector"},"score":0,"creation_date":1700207333,"post_id":77499989,"comment_id":136628297,"body_markdown":"I want to save the history of adding, editing, and deleting actions","body":"I want to save the history of adding, editing, and deleting actions"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700213956,"post_id":77499989,"comment_id":136629260,"body_markdown":"You used quotes instead of a code block. I&#39;ve updated the formatting for you.","body":"You used quotes instead of a code block. I&#39;ve updated the formatting for you."}],"answers":[{"tags":[],"owner":{"account_id":29924739,"reputation":1,"user_id":22933046,"display_name":"David Basa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700208908,"creation_date":1700208908,"answer_id":77500164,"question_id":77499989,"body_markdown":"We can log all activities in the entity by using class AuditTrailListener. \r\n\r\nyou can find it here\r\n[JPA Entity Lifecycle Events][1]\r\nand here \r\n[Auditing with JPA, Hibernate, and Spring Data JPA][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-entity-lifecycle-events\r\n  [2]: https://www.baeldung.com/database-auditing-jpa","title":"JPA Entity Lifecycle Events","body":"<p>We can log all activities in the entity by using class AuditTrailListener.</p>\n<p>you can find it here\n<a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">JPA Entity Lifecycle Events</a>\nand here\n<a href=\"https://www.baeldung.com/database-auditing-jpa\" rel=\"nofollow noreferrer\">Auditing with JPA, Hibernate, and Spring Data JPA</a></p>\n"}],"owner":{"account_id":29740701,"reputation":1,"user_id":22793026,"display_name":"Urrego Hector"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700213924,"creation_date":1700206773,"question_id":77499989,"body_markdown":"```\r\n@Entity\r\n@Data\r\n@SuperBuilder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = false)\r\n@Table(name = &quot;evaluation_form&quot;)\r\n@SQLDelete(sql = &quot;UPDATE {h-schema}evaluation_form SET status = 0 WHERE id=? AND version = ?&quot;)\r\n@Where(clause=&quot;status &lt;&gt; 0&quot;)\r\npublic class EvaluationForm extends ExPersistableEntity&lt;String&gt; {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid&quot;)\r\n    private String id;\r\n    private String code;\r\n    @Column(columnDefinition = &quot;nvarchar(255)&quot;)\r\n    private String name;\r\n    private String biddingCode;\r\n    @Column(columnDefinition = &quot;nvarchar(255)&quot;)\r\n    private String biddingName;\r\n    private String biddingType;\r\n    private String biddingMethod;\r\n    private String state;\r\n    private String biddingForm;\r\n```\r\nI want to ask if there is any way to save the adding, editing, and deleting actions of the table\r\nplease help me","title":"JPA Entity Lifecycle Events","body":"<pre><code>@Entity\n@Data\n@SuperBuilder\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = false)\n@Table(name = &quot;evaluation_form&quot;)\n@SQLDelete(sql = &quot;UPDATE {h-schema}evaluation_form SET status = 0 WHERE id=? AND version = ?&quot;)\n@Where(clause=&quot;status &lt;&gt; 0&quot;)\npublic class EvaluationForm extends ExPersistableEntity&lt;String&gt; {\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    private String code;\n    @Column(columnDefinition = &quot;nvarchar(255)&quot;)\n    private String name;\n    private String biddingCode;\n    @Column(columnDefinition = &quot;nvarchar(255)&quot;)\n    private String biddingName;\n    private String biddingType;\n    private String biddingMethod;\n    private String state;\n    private String biddingForm;\n</code></pre>\n<p>I want to ask if there is any way to save the adding, editing, and deleting actions of the table\nplease help me</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1700226088,"post_id":77500617,"comment_id":136631424,"body_markdown":"*&quot;At each action, the relative position of any of the chart components ... is needed&quot;*. If the layout geometry is only needed on user action, then can&#39;t you just compute them when the user performs the action? This would necessarily be after layout has been performed, so would be equivalent to your second code example, which gives the correct results. (It&#39;s still not clear why you really need any of this anyway; if you change any of the properties you listed then the chart should just update and take care of its own layout.)","body":"<i>&quot;At each action, the relative position of any of the chart components ... is needed&quot;</i>. If the layout geometry is only needed on user action, then can&#39;t you just compute them when the user performs the action? This would necessarily be after layout has been performed, so would be equivalent to your second code example, which gives the correct results. (It&#39;s still not clear why you really need any of this anyway; if you change any of the properties you listed then the chart should just update and take care of its own layout.)"},{"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"score":0,"creation_date":1700499362,"post_id":77500617,"comment_id":136659281,"body_markdown":"I&#39;m writing an application, in which a user can choose to add a new line chart from its menu and drop it on the main canvas. The user must be able to customize the chart, as mentioned in the question. Finally, the set of user-defined charts should be exported to a pdf or tex file (this is where I need processing on chart components).","body":"I&#39;m writing an application, in which a user can choose to add a new line chart from its menu and drop it on the main canvas. The user must be able to customize the chart, as mentioned in the question. Finally, the set of user-defined charts should be exported to a pdf or tex file (this is where I need processing on chart components)."}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700213898,"creation_date":1700213898,"question_id":77500617,"body_markdown":"I&#39;m writing a code using JavaFX, where there are multiple charts (e.g. `LineChart`s or `ScatterChart`s) on an `AnchorPane`, each of which at a different position. The user must be able to modify chart data, mouse dragging the plot area w.r.t. the chart, change tick labels and lengths, define labels for the axes, title or legends, and change the color of any of the chart components. At each action, the relative position of any of the chart components (e.g. plot area, axes, legends, labels, title or tick marks) w.r.t. the chart bounds is needed for further processing. Visually speaking, I wish to find the position and size of the red and green rectangles in the following given chart:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe following two code snippets do not give accurate results:\r\n\r\n**Code 1**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.stage.Stage;\r\n    public class Test8 extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            AnchorPane anchorPane=new AnchorPane();\r\n    \r\n            Scene scene=new Scene(anchorPane,600,400);\r\n    \r\n            stage.setScene(scene);\r\n    \r\n            stage.show();\r\n    \r\n            LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\r\n    \r\n            Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\r\n    \r\n            anchorPane.getChildren().add(lineChart);\r\n    \r\n            System.out.println(region.getBoundsInParent());\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\noutput: `BoundingBox [minX:0.0, minY:0.0, minZ:0.0, width:0.0, height:0.0, depth:0.0, maxX:0.0, maxY:0.0, maxZ:0.0]`\r\n\r\n**Code 2**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.stage.Stage;\r\n    public class Test8 extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            AnchorPane anchorPane=new AnchorPane();\r\n    \r\n            Scene scene=new Scene(anchorPane,600,400);\r\n    \r\n            stage.setScene(scene);\r\n    \r\n            LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\r\n    \r\n            Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\r\n    \r\n            anchorPane.getChildren().add(lineChart);\r\n\r\n            stage.show();\r\n    \r\n            System.out.println(region.getBoundsInParent());\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\noutput: `BoundingBox [minX:38.0, minY:10.0, minZ:0.0, width:443.0, height:346.0, depth:0.0, maxX:481.0, maxY:356.0, maxZ:0.0]`\r\n\r\nThe only difference between the two snippets is the position of `stage.show()` command.\r\n\r\n**Question**\r\n\r\nWhat is the *correct* way of finding relative size and position of chart components w.r.t. chart bounds when the chart resides on an `AnchorPane`? Are the two code snippets above modifiable or do I need a different approach?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UO494.png","title":"Finding the size and relative position of a chart&#39;s components w.r.t. chart&#39;s bounds","body":"<p>I'm writing a code using JavaFX, where there are multiple charts (e.g. <code>LineChart</code>s or <code>ScatterChart</code>s) on an <code>AnchorPane</code>, each of which at a different position. The user must be able to modify chart data, mouse dragging the plot area w.r.t. the chart, change tick labels and lengths, define labels for the axes, title or legends, and change the color of any of the chart components. At each action, the relative position of any of the chart components (e.g. plot area, axes, legends, labels, title or tick marks) w.r.t. the chart bounds is needed for further processing. Visually speaking, I wish to find the position and size of the red and green rectangles in the following given chart:</p>\n<p><a href=\"https://i.stack.imgur.com/UO494.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UO494.png\" alt=\"enter image description here\" /></a></p>\n<p>The following two code snippets do not give accurate results:</p>\n<p><strong>Code 1</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Stage;\npublic class Test8 extends Application {\n    @Override\n    public void start(Stage stage) {\n\n        AnchorPane anchorPane=new AnchorPane();\n\n        Scene scene=new Scene(anchorPane,600,400);\n\n        stage.setScene(scene);\n\n        stage.show();\n\n        LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\n\n        Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\n\n        anchorPane.getChildren().add(lineChart);\n\n        System.out.println(region.getBoundsInParent());\n\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n\n\n}\n</code></pre>\n<p>output: <code>BoundingBox [minX:0.0, minY:0.0, minZ:0.0, width:0.0, height:0.0, depth:0.0, maxX:0.0, maxY:0.0, maxZ:0.0]</code></p>\n<p><strong>Code 2</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Stage;\npublic class Test8 extends Application {\n    @Override\n    public void start(Stage stage) {\n\n        AnchorPane anchorPane=new AnchorPane();\n\n        Scene scene=new Scene(anchorPane,600,400);\n\n        stage.setScene(scene);\n\n        LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\n\n        Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\n\n        anchorPane.getChildren().add(lineChart);\n\n        stage.show();\n\n        System.out.println(region.getBoundsInParent());\n\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n\n\n}\n</code></pre>\n<p>output: <code>BoundingBox [minX:38.0, minY:10.0, minZ:0.0, width:443.0, height:346.0, depth:0.0, maxX:481.0, maxY:356.0, maxZ:0.0]</code></p>\n<p>The only difference between the two snippets is the position of <code>stage.show()</code> command.</p>\n<p><strong>Question</strong></p>\n<p>What is the <em>correct</em> way of finding relative size and position of chart components w.r.t. chart bounds when the chart resides on an <code>AnchorPane</code>? Are the two code snippets above modifiable or do I need a different approach?</p>\n"},{"tags":["java","ssh","sftp","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1700116623,"post_id":77492587,"comment_id":136615674,"body_markdown":"Why are you restricting  `PubkeyAcceptedKeyTypes` and `server_host_key`? + Can you connect with any SSH/SFTP client from the same machine where your JSch code fails? Post its log file too.","body":"Why are you restricting  <code>PubkeyAcceptedKeyTypes</code> and <code>server_host_key</code>? + Can you connect with any SSH/SFTP client from the same machine where your JSch code fails? Post its log file too."},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1700117865,"post_id":77492587,"comment_id":136615809,"body_markdown":"I tried removing the `ensureFirstOption(sftpSession, &quot;PubkeyAcceptedKeyTypes&quot;, &quot;ssh-rsa&quot;);`. It did not help.\n\nYes I am able to connect using mac sftp client.","body":"I tried removing the <code>ensureFirstOption(sftpSession, &quot;PubkeyAcceptedKeyTypes&quot;, &quot;ssh-rsa&quot;);</code>. It did not help.  Yes I am able to connect using mac sftp client."},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1700117982,"post_id":77492587,"comment_id":136615826,"body_markdown":"Do you know how I can get the logs from the Mac SFTP Client?","body":"Do you know how I can get the logs from the Mac SFTP Client?"},{"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1700119318,"post_id":77492587,"comment_id":136615982,"body_markdown":"So please remove that code from your question, if it is not relevant to it. + What is *&quot;Mac SFTP client&quot;*?","body":"So please remove that code from your question, if it is not relevant to it. + What is <i>&quot;Mac SFTP client&quot;</i>?"},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1700121860,"post_id":77492587,"comment_id":136616328,"body_markdown":"I have updated the question and removed the line. I used the SFTP client that comes installed with Apple&#39;s Macbook.`debrajmanna@MAC-DEBRAJMANNA-DX6QR261G3 java % which sftp\n/usr/bin/sftp`","body":"I have updated the question and removed the line. I used the SFTP client that comes installed with Apple&#39;s Macbook.<code>debrajmanna@MAC-DEBRAJMANNA-DX6QR261G3 java % which sftp &#47;usr&#47;bin&#47;sftp</code>"},{"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1700124214,"post_id":77492587,"comment_id":136616722,"body_markdown":"You still have `server_host_key` there + You didn&#39;t update the logs to the new code. + So you mean a regular OpenSSH `sftp` client? Just add `-vvv` to its command-line.","body":"You still have <code>server_host_key</code> there + You didn&#39;t update the logs to the new code. + So you mean a regular OpenSSH <code>sftp</code> client? Just add <code>-vvv</code> to its command-line."}],"answers":[{"tags":[],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1700213830,"creation_date":1700162679,"answer_id":77497539,"question_id":77492587,"body_markdown":"I changed the private key from Openssh to RSA and it worked.\r\n\r\nComplete working code\r\n\r\n```\r\npublic void putFile(\r\n      final SftpConfig sftpConfig, final InputStream inputStream, final String remoteFileName) {\r\n    Session sftpSession = null;\r\n    Channel sftpChannel = null;\r\n    try {\r\n      // JSch.setLogger(new MyLogger());\r\n      val sftpShell = new JSch();\r\n      if (sftpConfig.hasSecretKey()) {\r\n        sftpShell.addIdentity(\r\n            &quot;key.pem&quot;, getPassword(sftpConfig.getSecretKey()).getBytes(), null, null);\r\n        sftpSession =\r\n            sftpShell.getSession(\r\n                sftpConfig.getSecretKey().getUsername(),\r\n                sftpConfig.getRemoteHost(),\r\n                sftpConfig.getRemotePort());\r\n      } else {\r\n        sftpSession =\r\n            sftpShell.getSession(\r\n                sftpConfig.getUsernamePassword().getUsername(),\r\n                sftpConfig.getRemoteHost(),\r\n                sftpConfig.getRemotePort());\r\n        sftpSession.setPassword(getPassword(sftpConfig.getUsernamePassword()));\r\n      }\r\n\r\n      // NB: Turn off host verification since the key is calculated on a per-client basis and will\r\n      // be different for each env.\r\n      sftpSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n      sftpSession.connect();\r\n      sftpChannel = sftpSession.openChannel(&quot;sftp&quot;);\r\n      sftpChannel.connect();\r\n\r\n      log.info(&quot;sftp session connected&quot;);\r\n      putFileInternal(sftpConfig, (ChannelSftp) sftpChannel, inputStream, remoteFileName);\r\n    } catch (final JSchException jSchException) {\r\n      throw ExceptionUtils.internalErrorException(\r\n          CommonError.CONNECTION_ERROR, &quot;Error in establishing sftp session&quot;, jSchException);\r\n    } catch (SftpException sftpException) {\r\n      throw ExceptionUtils.internalErrorException(\r\n          CommonError.CONNECTION_ERROR, &quot;Error in putting file via sftp session&quot;, sftpException);\r\n    } finally {\r\n      if (sftpChannel != null &amp;&amp; sftpChannel.isConnected()) {\r\n        sftpChannel.disconnect();\r\n      }\r\n      if (sftpSession != null &amp;&amp; sftpSession.isConnected()) {\r\n        sftpSession.disconnect();\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nSFTP client was working with both however.\r\n","title":"Jsch getting disconnected on trying to connect to SFTP server under AWS Transfer Family","body":"<p>I changed the private key from Openssh to RSA and it worked.</p>\n<p>Complete working code</p>\n<pre><code>public void putFile(\n      final SftpConfig sftpConfig, final InputStream inputStream, final String remoteFileName) {\n    Session sftpSession = null;\n    Channel sftpChannel = null;\n    try {\n      // JSch.setLogger(new MyLogger());\n      val sftpShell = new JSch();\n      if (sftpConfig.hasSecretKey()) {\n        sftpShell.addIdentity(\n            &quot;key.pem&quot;, getPassword(sftpConfig.getSecretKey()).getBytes(), null, null);\n        sftpSession =\n            sftpShell.getSession(\n                sftpConfig.getSecretKey().getUsername(),\n                sftpConfig.getRemoteHost(),\n                sftpConfig.getRemotePort());\n      } else {\n        sftpSession =\n            sftpShell.getSession(\n                sftpConfig.getUsernamePassword().getUsername(),\n                sftpConfig.getRemoteHost(),\n                sftpConfig.getRemotePort());\n        sftpSession.setPassword(getPassword(sftpConfig.getUsernamePassword()));\n      }\n\n      // NB: Turn off host verification since the key is calculated on a per-client basis and will\n      // be different for each env.\n      sftpSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n      sftpSession.connect();\n      sftpChannel = sftpSession.openChannel(&quot;sftp&quot;);\n      sftpChannel.connect();\n\n      log.info(&quot;sftp session connected&quot;);\n      putFileInternal(sftpConfig, (ChannelSftp) sftpChannel, inputStream, remoteFileName);\n    } catch (final JSchException jSchException) {\n      throw ExceptionUtils.internalErrorException(\n          CommonError.CONNECTION_ERROR, &quot;Error in establishing sftp session&quot;, jSchException);\n    } catch (SftpException sftpException) {\n      throw ExceptionUtils.internalErrorException(\n          CommonError.CONNECTION_ERROR, &quot;Error in putting file via sftp session&quot;, sftpException);\n    } finally {\n      if (sftpChannel != null &amp;&amp; sftpChannel.isConnected()) {\n        sftpChannel.disconnect();\n      }\n      if (sftpSession != null &amp;&amp; sftpSession.isConnected()) {\n        sftpSession.disconnect();\n      }\n    }\n  }\n</code></pre>\n<p>SFTP client was working with both however.</p>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77497539,"answer_count":1,"score":0,"last_activity_date":1700213830,"creation_date":1700114187,"question_id":77492587,"body_markdown":"I am trying to use Jsch to connect to a SFTP server. My code looks like below\r\n\r\n```\r\npublic void putFile(\r\n      final SftpConfig sftpConfig, final InputStream inputStream, final String remoteFileName) {\r\n    Session sftpSession = null;\r\n    Channel sftpChannel = null;\r\n    try {\r\n      JSch.setLogger(new MyLogger());\r\n      val sftpShell = new JSch();\r\n      if (sftpConfig.hasSecretKey()) {\r\n        sftpShell.addIdentity(\r\n            &quot;dev03sftp.pem&quot;, getPassword(sftpConfig.getSecretKey()).getBytes(), null, null);\r\n      }\r\n\r\n      sftpSession =\r\n          sftpShell.getSession(\r\n              sftpConfig.getUsernamePassword().getUsername(),\r\n              sftpConfig.getRemoteHost(),\r\n              sftpConfig.getRemotePort());\r\n\r\n      if (sftpConfig.hasUsernamePassword()) {\r\n        sftpSession.setPassword(getPassword(sftpConfig.getUsernamePassword()));\r\n      }\r\n      \r\n      sftpSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n      sftpSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n\r\n      sftpSession.connect();\r\n      sftpChannel = sftpSession.openChannel(&quot;sftp&quot;);\r\n      sftpChannel.connect();\r\n\r\n      log.info(&quot;sftp session connected&quot;);\r\n      putFileInternal(sftpConfig, (ChannelSftp) sftpChannel, inputStream, remoteFileName);\r\n    } catch (final JSchException jSchException) {\r\n      throw ExceptionUtils.internalErrorException(\r\n          CommonError.CONNECTION_ERROR, &quot;Error in establishing sftp session&quot;, jSchException);\r\n    } catch (SftpException sftpException) {\r\n      throw ExceptionUtils.internalErrorException(\r\n          CommonError.CONNECTION_ERROR, &quot;Error in putting file via sftp session&quot;, sftpException);\r\n    } finally {\r\n      if (sftpChannel != null &amp;&amp; sftpChannel.isConnected()) {\r\n        sftpChannel.disconnect();\r\n      }\r\n      if (sftpSession != null &amp;&amp; sftpSession.isConnected()) {\r\n        sftpSession.disconnect();\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nI am getting the below error from the `sftpSession.connect();`.\r\n\r\n```\r\nINFO: Connecting to uploads-dev03.dev.spotnana.com port 22\r\nINFO: Connection established\r\nINFO: Remote version string: SSH-2.0-AWS_SFTP_1.1\r\nINFO: Local version string: SSH-2.0-JSCH_0.2.13\r\nINFO: CheckCiphers: chacha20-poly1305@openssh.com\r\nINFO: CheckKexes: curve25519-sha256,curve25519-sha256@libssh.org,curve448-sha512\r\nINFO: CheckSignatures: ssh-ed25519,ssh-ed448\r\nDEBUG: server_host_key proposal before known_host reordering is: ssh-dss,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\r\nDEBUG: server_host_key proposal after known_host reordering is: ssh-dss,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\r\nINFO: SSH_MSG_KEXINIT sent\r\nINFO: SSH_MSG_KEXINIT received\r\nINFO: server proposal: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1\r\nINFO: server proposal: host key algorithms: rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\nINFO: server proposal: ciphers c2s: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: server proposal: ciphers s2c: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: server proposal: MACs c2s: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: server proposal: MACs s2c: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: server proposal: compression c2s: none,zlib@openssh.com\r\nINFO: server proposal: compression s2c: none,zlib@openssh.com\r\nINFO: server proposal: languages c2s: \r\nINFO: server proposal: languages s2c: \r\nINFO: client proposal: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\r\nINFO: client proposal: host key algorithms: ssh-dss,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\r\nINFO: client proposal: ciphers c2s: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: client proposal: ciphers s2c: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: client proposal: MACs c2s: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: client proposal: MACs s2c: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: client proposal: compression c2s: none\r\nINFO: client proposal: compression s2c: none\r\nINFO: client proposal: languages c2s: \r\nINFO: client proposal: languages s2c: \r\nINFO: kex: algorithm: curve25519-sha256\r\nINFO: kex: host key algorithm: rsa-sha2-512\r\nINFO: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\r\nINFO: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\r\nINFO: SSH_MSG_KEX_ECDH_INIT sent\r\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\r\nINFO: ssh_rsa_verify: rsa-sha2-512 signature true\r\nWARN: Permanently added &#39;uploads-dev03.dev.spotnana.com&#39; (RSA) to the list of known hosts.\r\nINFO: SSH_MSG_NEWKEYS sent\r\nINFO: SSH_MSG_NEWKEYS received\r\nINFO: SSH_MSG_SERVICE_REQUEST sent\r\nINFO: SSH_MSG_EXT_INFO received\r\nINFO: server-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com&gt;\r\nINFO: SSH_MSG_SERVICE_ACCEPT received\r\nINFO: Disconnecting from uploads-dev03.dev.spotnana.com port 22\r\n\r\ncom.spotnana.exceptions.SpotnanaRuntimeException: INTERNAL: Error in establishing sftp session\r\n\r\n\tat com.spotnana.exceptions.ExceptionUtils.internalErrorException(ExceptionUtils.java:295)\r\n\tat com.spotnana.ens.channelproviders.file.SftpFileDeliverer.putFile(SftpFileDeliverer.java:74)\r\n\tat com.spotnana.ens.channelproviders.file.SftpFileDelivererIntegrationTest.testCloudIntegration(SftpFileDelivererIntegrationTest.java:50)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read\r\n\tat com.jcraft.jsch.Session.connect(Session.java:550)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:189)\r\n\tat com.spotnana.ens.channelproviders.file.SftpFileDeliverer.putFile(SftpFileDeliverer.java:67)\r\n\t... 71 more\r\nCaused by: java.io.IOException: End of IO Stream Read\r\n\tat com.jcraft.jsch.IO.getByte(IO.java:95)\r\n\tat com.jcraft.jsch.Session.read(Session.java:1076)\r\n\tat com.jcraft.jsch.UserAuthNone.start(UserAuthNone.java:84)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:393)\r\n\t... 73 more\r\n\r\n```\r\n\r\n**Versions**\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.github.mwiede/jsch --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n    &lt;version&gt;0.2.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n- Mac - Sonoma 14.1\r\n- SFTP Server - AWS Transfer Family\r\n- Java - openjdk version &quot;17.0.5&quot; 2022-10-18 LTS\r\n\r\nI do not see any errors on the server side.\r\n\r\nI am able to connect to the SFTP server using the Mac SFTP client. Only with Jsch it fails.\r\n\r\n\r\n```\r\ndebrajmanna@MAC-DEBRAJMANNA-DX6QR261G3 java % sftp -i ~/.ssh/dev03sftp.pem debraj@uploads-dev03.dev.spotnana.com\r\nConnected to uploads-dev03.dev.spotnana.com.\r\nsftp&gt;\r\n\r\ndebrajmanna@MAC-DEBRAJMANNA-DX6QR261G3 java % which sftp\r\n/usr/bin/sftp\r\n```\r\n","title":"Jsch getting disconnected on trying to connect to SFTP server under AWS Transfer Family","body":"<p>I am trying to use Jsch to connect to a SFTP server. My code looks like below</p>\n<pre><code>public void putFile(\n      final SftpConfig sftpConfig, final InputStream inputStream, final String remoteFileName) {\n    Session sftpSession = null;\n    Channel sftpChannel = null;\n    try {\n      JSch.setLogger(new MyLogger());\n      val sftpShell = new JSch();\n      if (sftpConfig.hasSecretKey()) {\n        sftpShell.addIdentity(\n            &quot;dev03sftp.pem&quot;, getPassword(sftpConfig.getSecretKey()).getBytes(), null, null);\n      }\n\n      sftpSession =\n          sftpShell.getSession(\n              sftpConfig.getUsernamePassword().getUsername(),\n              sftpConfig.getRemoteHost(),\n              sftpConfig.getRemotePort());\n\n      if (sftpConfig.hasUsernamePassword()) {\n        sftpSession.setPassword(getPassword(sftpConfig.getUsernamePassword()));\n      }\n      \n      sftpSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n      sftpSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\n\n      sftpSession.connect();\n      sftpChannel = sftpSession.openChannel(&quot;sftp&quot;);\n      sftpChannel.connect();\n\n      log.info(&quot;sftp session connected&quot;);\n      putFileInternal(sftpConfig, (ChannelSftp) sftpChannel, inputStream, remoteFileName);\n    } catch (final JSchException jSchException) {\n      throw ExceptionUtils.internalErrorException(\n          CommonError.CONNECTION_ERROR, &quot;Error in establishing sftp session&quot;, jSchException);\n    } catch (SftpException sftpException) {\n      throw ExceptionUtils.internalErrorException(\n          CommonError.CONNECTION_ERROR, &quot;Error in putting file via sftp session&quot;, sftpException);\n    } finally {\n      if (sftpChannel != null &amp;&amp; sftpChannel.isConnected()) {\n        sftpChannel.disconnect();\n      }\n      if (sftpSession != null &amp;&amp; sftpSession.isConnected()) {\n        sftpSession.disconnect();\n      }\n    }\n  }\n</code></pre>\n<p>I am getting the below error from the <code>sftpSession.connect();</code>.</p>\n<pre><code>INFO: Connecting to uploads-dev03.dev.spotnana.com port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-AWS_SFTP_1.1\nINFO: Local version string: SSH-2.0-JSCH_0.2.13\nINFO: CheckCiphers: chacha20-poly1305@openssh.com\nINFO: CheckKexes: curve25519-sha256,curve25519-sha256@libssh.org,curve448-sha512\nINFO: CheckSignatures: ssh-ed25519,ssh-ed448\nDEBUG: server_host_key proposal before known_host reordering is: ssh-dss,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\nDEBUG: server_host_key proposal after known_host reordering is: ssh-dss,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: server proposal: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1\nINFO: server proposal: host key algorithms: rsa-sha2-512,rsa-sha2-256,ssh-rsa\nINFO: server proposal: ciphers c2s: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: server proposal: ciphers s2c: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: server proposal: MACs c2s: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: server proposal: MACs s2c: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: server proposal: compression c2s: none,zlib@openssh.com\nINFO: server proposal: compression s2c: none,zlib@openssh.com\nINFO: server proposal: languages c2s: \nINFO: server proposal: languages s2c: \nINFO: client proposal: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\nINFO: client proposal: host key algorithms: ssh-dss,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\nINFO: client proposal: ciphers c2s: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: client proposal: ciphers s2c: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: client proposal: MACs c2s: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: client proposal: MACs s2c: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: client proposal: compression c2s: none\nINFO: client proposal: compression s2c: none\nINFO: client proposal: languages c2s: \nINFO: client proposal: languages s2c: \nINFO: kex: algorithm: curve25519-sha256\nINFO: kex: host key algorithm: rsa-sha2-512\nINFO: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\nINFO: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\nINFO: SSH_MSG_KEX_ECDH_INIT sent\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\nINFO: ssh_rsa_verify: rsa-sha2-512 signature true\nWARN: Permanently added 'uploads-dev03.dev.spotnana.com' (RSA) to the list of known hosts.\nINFO: SSH_MSG_NEWKEYS sent\nINFO: SSH_MSG_NEWKEYS received\nINFO: SSH_MSG_SERVICE_REQUEST sent\nINFO: SSH_MSG_EXT_INFO received\nINFO: server-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com&gt;\nINFO: SSH_MSG_SERVICE_ACCEPT received\nINFO: Disconnecting from uploads-dev03.dev.spotnana.com port 22\n\ncom.spotnana.exceptions.SpotnanaRuntimeException: INTERNAL: Error in establishing sftp session\n\n    at com.spotnana.exceptions.ExceptionUtils.internalErrorException(ExceptionUtils.java:295)\n    at com.spotnana.ens.channelproviders.file.SftpFileDeliverer.putFile(SftpFileDeliverer.java:74)\n    at com.spotnana.ens.channelproviders.file.SftpFileDelivererIntegrationTest.testCloudIntegration(SftpFileDelivererIntegrationTest.java:50)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read\n    at com.jcraft.jsch.Session.connect(Session.java:550)\n    at com.jcraft.jsch.Session.connect(Session.java:189)\n    at com.spotnana.ens.channelproviders.file.SftpFileDeliverer.putFile(SftpFileDeliverer.java:67)\n    ... 71 more\nCaused by: java.io.IOException: End of IO Stream Read\n    at com.jcraft.jsch.IO.getByte(IO.java:95)\n    at com.jcraft.jsch.Session.read(Session.java:1076)\n    at com.jcraft.jsch.UserAuthNone.start(UserAuthNone.java:84)\n    at com.jcraft.jsch.Session.connect(Session.java:393)\n    ... 73 more\n\n</code></pre>\n<p><strong>Versions</strong></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.github.mwiede/jsch --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.2.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Mac - Sonoma 14.1</li>\n<li>SFTP Server - AWS Transfer Family</li>\n<li>Java - openjdk version &quot;17.0.5&quot; 2022-10-18 LTS</li>\n</ul>\n<p>I do not see any errors on the server side.</p>\n<p>I am able to connect to the SFTP server using the Mac SFTP client. Only with Jsch it fails.</p>\n<pre><code>debrajmanna@MAC-DEBRAJMANNA-DX6QR261G3 java % sftp -i ~/.ssh/dev03sftp.pem debraj@uploads-dev03.dev.spotnana.com\nConnected to uploads-dev03.dev.spotnana.com.\nsftp&gt;\n\ndebrajmanna@MAC-DEBRAJMANNA-DX6QR261G3 java % which sftp\n/usr/bin/sftp\n</code></pre>\n"},{"tags":["java","windows","eclipse","junit","command"],"answers":[{"tags":[],"owner":{"account_id":347037,"reputation":79648,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1329603957,"creation_date":1329603656,"answer_id":9344693,"question_id":9344559,"body_markdown":"Very vague question. Specifically, you didn&#39;t mention how you are running your JUnit tests. Also you mentioned &#39;file&#39;, and a file can contain several JUnit tests. Do you want to run the external command before each of those tests, or before any of them are executed? \r\n\r\nBut more on topic:\r\n\r\nIf you are using JUnit 4 or greater then you can tag a method with the `@Before` annotation and the method will be executed before each of your tagged `@Test` methods. Alternatively, tagging a static void method with `@BeforeClass` will cause it to be run before any of the `@Test` methods in the class are run.\r\n\r\n    public class MyTestClass {\r\n    \r\n        @BeforeClass\r\n        public static void calledBeforeAnyTestIsRun() {\r\n            // Do something\r\n        }\r\n    \r\n        @Before\r\n        public void calledBeforeEachTest() {\r\n           // Do something\r\n        }\r\n    \r\n        @Test\r\n        public void testAccountCRUD() throws Exception {\r\n        }\r\n    }\r\n\r\nIf you are using a version of JUnit earlier than 4, then you can override the `setUp()` and `setUpBeforeClass()` methods as replacements for `@Before` and `@BeforeClass`.\r\n\r\n    public class MyTestClass extends TestCase {\r\n    \r\n        public static void setUpBeforeClass() {\r\n            // Do something\r\n        }\r\n    \r\n        public void setUp() {\r\n           // Do something\r\n        }\r\n    \r\n        public void testAccountCRUD() throws Exception {\r\n        }\r\n    }","title":"Run External Command Before JUnit Tests in Eclipse","body":"<p>Very vague question. Specifically, you didn't mention how you are running your JUnit tests. Also you mentioned 'file', and a file can contain several JUnit tests. Do you want to run the external command before each of those tests, or before any of them are executed? </p>\n\n<p>But more on topic:</p>\n\n<p>If you are using JUnit 4 or greater then you can tag a method with the <code>@Before</code> annotation and the method will be executed before each of your tagged <code>@Test</code> methods. Alternatively, tagging a static void method with <code>@BeforeClass</code> will cause it to be run before any of the <code>@Test</code> methods in the class are run.</p>\n\n<pre><code>public class MyTestClass {\n\n    @BeforeClass\n    public static void calledBeforeAnyTestIsRun() {\n        // Do something\n    }\n\n    @Before\n    public void calledBeforeEachTest() {\n       // Do something\n    }\n\n    @Test\n    public void testAccountCRUD() throws Exception {\n    }\n}\n</code></pre>\n\n<p>If you are using a version of JUnit earlier than 4, then you can override the <code>setUp()</code> and <code>setUpBeforeClass()</code> methods as replacements for <code>@Before</code> and <code>@BeforeClass</code>.</p>\n\n<pre><code>public class MyTestClass extends TestCase {\n\n    public static void setUpBeforeClass() {\n        // Do something\n    }\n\n    public void setUp() {\n       // Do something\n    }\n\n    public void testAccountCRUD() throws Exception {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":764902,"reputation":21052,"user_id":782719,"accept_rate":88,"display_name":"GETah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329603712,"creation_date":1329603712,"answer_id":9344704,"question_id":9344559,"body_markdown":"Assuming you are using JUnit 4.0, you could do the following:\r\n\r\n    @Test\r\n    public void shouldDoStuff(){\r\n        Process p = Runtime.getRuntime().exec(&quot;application agrument&quot;);\r\n        // Run the rest of the unit test...\r\n    }\r\n\r\nIf you want to run the external command for every unit test, then you should do it in the `@Before` setup method.\r\n","title":"Run External Command Before JUnit Tests in Eclipse","body":"<p>Assuming you are using JUnit 4.0, you could do the following:</p>\n\n<pre><code>@Test\npublic void shouldDoStuff(){\n    Process p = Runtime.getRuntime().exec(\"application agrument\");\n    // Run the rest of the unit test...\n}\n</code></pre>\n\n<p>If you want to run the external command for every unit test, then you should do it in the <code>@Before</code> setup method.</p>\n"},{"tags":[],"owner":{"account_id":382391,"reputation":2472,"user_id":737587,"accept_rate":70,"display_name":"netmikey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700213634,"creation_date":1700213634,"answer_id":77500584,"question_id":9344559,"body_markdown":"Disclaimer: I&#39;m the author of TestProcesses.\r\n\r\nJust in case someone lands here searching for a solution:\r\n\r\nIt&#39;s been a while since this question was asked. Assuming you have migrated to JUnit5 in the meantime and are using (or can use) Spring Test, you could have a look at [TestProcesses](https://github.com/netmikey/testprocesses). It is a JUnit5 extension that manages the lifecycle of applications/programs (processes) needed during testing.\r\n\r\nIt sounds like that&#39;s what you&#39;re looking for and it allows you to manage the process&#39; lifecycle declaratively, without a lot of boilerplate in your test classes.\r\n\r\nhttps://github.com/netmikey/testprocesses","title":"Run External Command Before JUnit Tests in Eclipse","body":"<p>Disclaimer: I'm the author of TestProcesses.</p>\n<p>Just in case someone lands here searching for a solution:</p>\n<p>It's been a while since this question was asked. Assuming you have migrated to JUnit5 in the meantime and are using (or can use) Spring Test, you could have a look at <a href=\"https://github.com/netmikey/testprocesses\" rel=\"nofollow noreferrer\">TestProcesses</a>. It is a JUnit5 extension that manages the lifecycle of applications/programs (processes) needed during testing.</p>\n<p>It sounds like that's what you're looking for and it allows you to manage the process' lifecycle declaratively, without a lot of boilerplate in your test classes.</p>\n<p><a href=\"https://github.com/netmikey/testprocesses\" rel=\"nofollow noreferrer\">https://github.com/netmikey/testprocesses</a></p>\n"}],"owner":{"account_id":302347,"reputation":1138,"user_id":610685,"accept_rate":74,"display_name":"Petr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9344693,"answer_count":3,"score":0,"last_activity_date":1700213634,"creation_date":1329602682,"question_id":9344559,"body_markdown":"Is it possible to run an external command before running tests in a given JUnit file? I run my tests using the Eclipse&#39;s Run command. Using JUnit 4.\r\n\r\nThanks.","title":"Run External Command Before JUnit Tests in Eclipse","body":"<p>Is it possible to run an external command before running tests in a given JUnit file? I run my tests using the Eclipse's Run command. Using JUnit 4.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","spring-retry"],"comments":[{"owner":{"account_id":6295581,"reputation":3085,"user_id":4891892,"display_name":"Pavan Kumar Jorrigala"},"score":0,"creation_date":1578598432,"post_id":58731743,"comment_id":105500685,"body_markdown":"Are you trying to retry on socket timeouts or server exceptions? Feign supports retries in both cases.","body":"Are you trying to retry on socket timeouts or server exceptions? Feign supports retries in both cases."},{"owner":{"account_id":6914979,"reputation":1400,"user_id":5309611,"accept_rate":85,"display_name":"notAChance"},"score":0,"creation_date":1581028342,"post_id":58731743,"comment_id":106303206,"body_markdown":"we used ribbon in the end","body":"we used ribbon in the end"}],"answers":[{"tags":[],"owner":{"account_id":4411502,"reputation":26,"user_id":3594302,"display_name":"Bozo5548"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700213525,"creation_date":1700213525,"answer_id":77500576,"question_id":58731743,"body_markdown":"Maybe [this article][1] could help you. There is a bit of custom work but it works around Proxy problem\r\n\r\n\r\n  [1]: https://engineering.getmidas.com/using-spring-retryable-with-feign-client-methods-9f77e509ad55","title":"Spring docs imply @EnableRetry and @Retryable work with spring&#39;s feign client. But it doesn&#39;t seem to","body":"<p>Maybe <a href=\"https://engineering.getmidas.com/using-spring-retryable-with-feign-client-methods-9f77e509ad55\" rel=\"nofollow noreferrer\">this article</a> could help you. There is a bit of custom work but it works around Proxy problem</p>\n"}],"owner":{"account_id":6914979,"reputation":1400,"user_id":5309611,"accept_rate":85,"display_name":"notAChance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700213525,"creation_date":1573048399,"question_id":58731743,"body_markdown":"In the spring docs [here][1], it is suggested that adding Spring Retry as a dependency will allow us to enable it on a Spring Feign client.\r\n\r\nHowever, when I try the below code:\r\n\r\n    @Component\r\n    @FeignClient(value = &quot;myFeign&quot;, url = &quot;${my.url}&quot;)\r\n    public interface ingestionInterface{\r\n    \t@Retryable(\r\n    \t\t\tvalue = {FeignException.class},\r\n    \t\t\tbackoff = @Backoff(delay=50000)\r\n    \t)\r\n    \t@RequestMapping(\r\n    \t\t\tproduces = &quot;application/json&quot;,\r\n    \t\t\tmethod = RequestMethod.POST)\r\n    \tOptional&lt;ResponseEntity&lt;Response&gt;&gt; postRequest(@Valid @RequestBody Request request);\r\n    }\r\n\r\nMy application won&#39;t compile, with the error:\r\n\r\n`Bean named &#39;blah.blah.ingestionInterface&#39; is expected to be of type &#39;blah.blah.ingestionInterface&#39; but was actually of type &#39;com.sun.proxy.$Proxy143&#39;`\r\n\r\nIf this is not the way to use Spring Retry with Spring Feign, how is it meant to be used?\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi_retrying-failed-requests.html","title":"Spring docs imply @EnableRetry and @Retryable work with spring&#39;s feign client. But it doesn&#39;t seem to","body":"<p>In the spring docs <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_retrying-failed-requests.html\" rel=\"nofollow noreferrer\">here</a>, it is suggested that adding Spring Retry as a dependency will allow us to enable it on a Spring Feign client.</p>\n\n<p>However, when I try the below code:</p>\n\n<pre><code>@Component\n@FeignClient(value = \"myFeign\", url = \"${my.url}\")\npublic interface ingestionInterface{\n    @Retryable(\n            value = {FeignException.class},\n            backoff = @Backoff(delay=50000)\n    )\n    @RequestMapping(\n            produces = \"application/json\",\n            method = RequestMethod.POST)\n    Optional&lt;ResponseEntity&lt;Response&gt;&gt; postRequest(@Valid @RequestBody Request request);\n}\n</code></pre>\n\n<p>My application won't compile, with the error:</p>\n\n<p><code>Bean named 'blah.blah.ingestionInterface' is expected to be of type 'blah.blah.ingestionInterface' but was actually of type 'com.sun.proxy.$Proxy143'</code></p>\n\n<p>If this is not the way to use Spring Retry with Spring Feign, how is it meant to be used?</p>\n"},{"tags":["java","jssc"],"comments":[{"owner":{"account_id":3251189,"reputation":1153,"user_id":2741395,"display_name":"grape_mao"},"score":0,"creation_date":1479291127,"post_id":40629180,"comment_id":68491477,"body_markdown":"I&#39;ve used this library but can&#39;t remember anymore...Maybe you could check if there is an exception when you try to read or write.","body":"I&#39;ve used this library but can&#39;t remember anymore...Maybe you could check if there is an exception when you try to read or write."}],"answers":[{"tags":[],"owner":{"account_id":9343980,"reputation":215,"user_id":6935752,"display_name":"Hercules dd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480834911,"creation_date":1480834911,"answer_id":40956270,"question_id":40629180,"body_markdown":"The jssc does not have hot plug or device removal like mechanism. Give details of your hardware and we may think of some work around.","title":"Can Java JSSC library detect a lost connection?","body":"<p>The jssc does not have hot plug or device removal like mechanism. Give details of your hardware and we may think of some work around.</p>\n"},{"tags":[],"owner":{"account_id":29925586,"reputation":1,"user_id":22933688,"display_name":"boddeke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700213449,"creation_date":1700213219,"answer_id":77500543,"question_id":40629180,"body_markdown":"what you can do is set a suitable (for your case) timeout on the read and when you get the timeout exception you close the port and keep trying to open it again till you succeed:\r\n\r\n                serial.setReadTimeout(10000);\r\n                \r\n                while (1 == 1) {\r\n\r\n                    try {\r\n\r\n                        System.out.print((char) serial.read());\r\n\r\n                    } catch (IOException e) {\r\n\r\n                        System.out.println(&quot;lost connection?&quot;);\r\n\r\n                        serial.close();\r\n\r\n                        while (!serial.isOpened()) {\r\n                            \r\n                            try {\r\n\r\n                                serial.open();\r\n                                \r\n                            } catch (SerialPortException ex) {\r\n                                \r\n                                // keep trying...\r\n                            }\r\n                        }\r\n                            \r\n                        System.out.println(&quot;reopened&quot;);\r\n                    }\r\n                }","title":"Can Java JSSC library detect a lost connection?","body":"<p>what you can do is set a suitable (for your case) timeout on the read and when you get the timeout exception you close the port and keep trying to open it again till you succeed:</p>\n<pre><code>            serial.setReadTimeout(10000);\n            \n            while (1 == 1) {\n\n                try {\n\n                    System.out.print((char) serial.read());\n\n                } catch (IOException e) {\n\n                    System.out.println(&quot;lost connection?&quot;);\n\n                    serial.close();\n\n                    while (!serial.isOpened()) {\n                        \n                        try {\n\n                            serial.open();\n                            \n                        } catch (SerialPortException ex) {\n                            \n                            // keep trying...\n                        }\n                    }\n                        \n                    System.out.println(&quot;reopened&quot;);\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":2018817,"reputation":13,"user_id":1805477,"display_name":"jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40956270,"answer_count":2,"score":1,"last_activity_date":1700213449,"creation_date":1479290648,"question_id":40629180,"body_markdown":"I know serial ports are not so good but still a little hope... I am using JSSC library for communication.\r\n\r\nDoes the JSSC library have a method to detect when an established connection is lost due to hardware removal?","title":"Can Java JSSC library detect a lost connection?","body":"<p>I know serial ports are not so good but still a little hope... I am using JSSC library for communication.</p>\n\n<p>Does the JSSC library have a method to detect when an established connection is lost due to hardware removal?</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1699966345,"post_id":77480723,"comment_id":136594542,"body_markdown":"Hi, you are Mocking the findAll and not the findById method. You are using the findbyId in you service.","body":"Hi, you are Mocking the findAll and not the findById method. You are using the findbyId in you service."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1699966348,"post_id":77480723,"comment_id":136594543,"body_markdown":"your called method `userService.getUserById(id);` calls another method on the repository `userRepository.findById(id);` Since you never mocked the `userRepository.findById(id);` it returns null, hence your exception","body":"your called method <code>userService.getUserById(id);</code> calls another method on the repository <code>userRepository.findById(id);</code> Since you never mocked the <code>userRepository.findById(id);</code> it returns null, hence your exception"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1699966725,"post_id":77480723,"comment_id":136594627,"body_markdown":"By the way, your getUserById method can be shortened to a single line: `return userRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;User not found for id: &quot; + id));`","body":"By the way, your getUserById method can be shortened to a single line: <code>return userRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;User not found for id: &quot; + id));</code>"}],"answers":[{"tags":[],"owner":{"account_id":6803454,"reputation":61,"user_id":5236036,"display_name":"bytez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699966653,"creation_date":1699966653,"answer_id":77480787,"question_id":77480723,"body_markdown":"**The main issue here is that you&#39;re mocking `userRepository.findAll()` instead of `userRepository.findById(id)`.**\r\n\r\nIn your `UserServiceImpl` implementation, you&#39;re using `findById(id)` to fetch the user, but in the test, you&#39;ve set up a mock for `findAll()`. These are two different methods, and Mockito doesn&#39;t know how to respond when `findById(id)` is called because it hasn&#39;t been instructed on what to do in that scenario.\r\n\r\nTo fix this, you&#39;ll want to mock the behavior of `findById(id)`. Here&#39;s how you can do it:\r\n\r\n`Mockito.when(userRepository.findById(eq(1L))).thenReturn(Optional.of(getUsers().get(0)));`\r\n\r\n*Notice the `eq` method which provides you the ability to match specific arguments passed to your mock.*\r\n\r\n---\r\n\r\nPlease be aware that this test, given the simplicity of your service layer, may not be testing meaningful behavior as it mocks the repository and does not cover real database interactions, potentially missing integration issues.","title":"findById doesn&#39;t see the object from the mock","body":"<p><strong>The main issue here is that you're mocking <code>userRepository.findAll()</code> instead of <code>userRepository.findById(id)</code>.</strong></p>\n<p>In your <code>UserServiceImpl</code> implementation, you're using <code>findById(id)</code> to fetch the user, but in the test, you've set up a mock for <code>findAll()</code>. These are two different methods, and Mockito doesn't know how to respond when <code>findById(id)</code> is called because it hasn't been instructed on what to do in that scenario.</p>\n<p>To fix this, you'll want to mock the behavior of <code>findById(id)</code>. Here's how you can do it:</p>\n<p><code>Mockito.when(userRepository.findById(eq(1L))).thenReturn(Optional.of(getUsers().get(0)));</code></p>\n<p><em>Notice the <code>eq</code> method which provides you the ability to match specific arguments passed to your mock.</em></p>\n<hr />\n<p>Please be aware that this test, given the simplicity of your service layer, may not be testing meaningful behavior as it mocks the repository and does not cover real database interactions, potentially missing integration issues.</p>\n"},{"tags":[],"owner":{"account_id":27442912,"reputation":1,"user_id":20937314,"display_name":"Achraf Lemghari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700213414,"creation_date":1699968786,"answer_id":77481003,"question_id":77480723,"body_markdown":"To fix it you should mock `findById(id)` by this syntax:\r\n\r\n    Mockito.when(userRepository.findById(any())).thenReturn(Optional.of(getUsers().get(0)));","title":"findById doesn&#39;t see the object from the mock","body":"<p>To fix it you should mock <code>findById(id)</code> by this syntax:</p>\n<pre><code>Mockito.when(userRepository.findById(any())).thenReturn(Optional.of(getUsers().get(0)));\n</code></pre>\n"}],"owner":{"account_id":25625706,"reputation":3,"user_id":19396909,"display_name":"ezulex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77480787,"answer_count":2,"score":0,"last_activity_date":1700213414,"creation_date":1699966023,"question_id":77480723,"body_markdown":"I am writing a test for the UserServiceImpl service.\r\n```@Override\r\n    public User getUserById(long id) {\r\n        Optional&lt;User&gt; optional = userRepository.findById(id);\r\n        User user = null;\r\n        if (optional.isPresent()) {\r\n            user = optional.get();\r\n        } else {\r\n            throw new RuntimeException(&quot;User not found for id: &quot; + id);\r\n        }\r\n        return user;\r\n    }\r\n```\r\n\r\nUserServiceImplTest\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class UserServiceImplTest {\r\n\r\n    @Mock\r\n    private UserRepository userRepository;\r\n    @InjectMocks\r\n    private UserServiceImpl userService;\r\n\r\n    @Test\r\n    public void shouldReturnUserById() {\r\n        List&lt;User&gt; users = getUsers();\r\n        Long id = 1L;\r\n\r\n        Mockito.when(userRepository.findAll()).thenReturn(users);\r\n\r\n        System.out.println(users.get(0).getId());\r\n\r\n        User result = userService.getUserById(id);\r\n\r\n        Assertions.assertNotNull(result);\r\n        Assertions.assertEquals(users.get(0), result);\r\n    }\r\n\r\n    private List&lt;User&gt; getUsers() {\r\n        User firstUser = new User();\r\n        User secondUser = new User();\r\n\r\n        firstUser.setId(1L);\r\n        firstUser.setName(&quot;Rob&quot;);\r\n        firstUser.setLastName(&quot;King&quot;);\r\n        firstUser.setDepartment(&quot;Supply&quot;);\r\n        firstUser.setPosition(&quot;Team lead&quot;);\r\n\r\n        secondUser.setId(2L);\r\n        secondUser.setName(&quot;Mike&quot;);\r\n        secondUser.setLastName(&quot;Wilson&quot;);\r\n        secondUser.setDepartment(&quot;Sale&quot;);\r\n        secondUser.setPosition(&quot;Specialist&quot;);\r\n\r\n        return List.of(firstUser, secondUser);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nWhen running a test in the userService.getUserById(id) method - java.lang.RuntimeException: User not found for id: 1\r\nAlthough there is an object with the same ID in the repository.\r\nTell me please what did I miss?","title":"findById doesn&#39;t see the object from the mock","body":"<p>I am writing a test for the UserServiceImpl service.</p>\n<pre><code>    public User getUserById(long id) {\n        Optional&lt;User&gt; optional = userRepository.findById(id);\n        User user = null;\n        if (optional.isPresent()) {\n            user = optional.get();\n        } else {\n            throw new RuntimeException(&quot;User not found for id: &quot; + id);\n        }\n        return user;\n    }\n</code></pre>\n<p>UserServiceImplTest</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceImplTest {\n\n    @Mock\n    private UserRepository userRepository;\n    @InjectMocks\n    private UserServiceImpl userService;\n\n    @Test\n    public void shouldReturnUserById() {\n        List&lt;User&gt; users = getUsers();\n        Long id = 1L;\n\n        Mockito.when(userRepository.findAll()).thenReturn(users);\n\n        System.out.println(users.get(0).getId());\n\n        User result = userService.getUserById(id);\n\n        Assertions.assertNotNull(result);\n        Assertions.assertEquals(users.get(0), result);\n    }\n\n    private List&lt;User&gt; getUsers() {\n        User firstUser = new User();\n        User secondUser = new User();\n\n        firstUser.setId(1L);\n        firstUser.setName(&quot;Rob&quot;);\n        firstUser.setLastName(&quot;King&quot;);\n        firstUser.setDepartment(&quot;Supply&quot;);\n        firstUser.setPosition(&quot;Team lead&quot;);\n\n        secondUser.setId(2L);\n        secondUser.setName(&quot;Mike&quot;);\n        secondUser.setLastName(&quot;Wilson&quot;);\n        secondUser.setDepartment(&quot;Sale&quot;);\n        secondUser.setPosition(&quot;Specialist&quot;);\n\n        return List.of(firstUser, secondUser);\n    }\n}\n</code></pre>\n<p>When running a test in the userService.getUserById(id) method - java.lang.RuntimeException: User not found for id: 1\nAlthough there is an object with the same ID in the repository.\nTell me please what did I miss?</p>\n"},{"tags":["java","constants","junit5"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1655211131,"post_id":72616006,"comment_id":128274141,"body_markdown":"You might want to check other questions like https://stackoverflow.com/questions/26234742/resetting-static-fields-for-junit-tests","body":"You might want to check other questions like <a href=\"https://stackoverflow.com/questions/26234742/resetting-static-fields-for-junit-tests\" title=\"resetting static fields for junit tests\">stackoverflow.com/questions/26234742/&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1655211403,"post_id":72616006,"comment_id":128274260,"body_markdown":"Non-Answer: consider changing your production code. Do not try to use mocking frameworks with static methods or fields. The static stuff just makes your code 10 times **harder to test**, for unit tests, but also for any other sort of test you might want to do. Seriously: instead of learning how to use Mockito for static stuff, rather ask yourself how you can improve your production code to be **easy to test**, so that you avoid the whole static-mocking stuff completely. (I have been there with powermock(ito), and rest assured: it is a world of pain. Do not enter)","body":"Non-Answer: consider changing your production code. Do not try to use mocking frameworks with static methods or fields. The static stuff just makes your code 10 times <b>harder to test</b>, for unit tests, but also for any other sort of test you might want to do. Seriously: instead of learning how to use Mockito for static stuff, rather ask yourself how you can improve your production code to be <b>easy to test</b>, so that you avoid the whole static-mocking stuff completely. (I have been there with powermock(ito), and rest assured: it is a world of pain. Do not enter)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1655211914,"post_id":72616006,"comment_id":128274473,"body_markdown":"In our case: instead of pulling the actual property value, why not make the **key** `myField` your constant, and then any code that needs the property value, just reads it from that Props object? When it is not a real compile time **constant**, why do you force yourself to treat it like one?","body":"In our case: instead of pulling the actual property value, why not make the <b>key</b> <code>myField</code> your constant, and then any code that needs the property value, just reads it from that Props object? When it is not a real compile time <b>constant</b>, why do you force yourself to treat it like one?"},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1655212117,"post_id":72616006,"comment_id":128274582,"body_markdown":"&quot;Constant field gets initialized only once under Junit5&quot; and more generally in Java. This is how static initialization works.","body":"&quot;Constant field gets initialized only once under Junit5&quot; and more generally in Java. This is how static initialization works."},{"owner":{"account_id":23999694,"reputation":19,"user_id":17984773,"display_name":"Marko Gila"},"score":0,"creation_date":1655283666,"post_id":72616006,"comment_id":128293580,"body_markdown":"@AndyTurner ofc I understand why this happens. Previously we were using PowerMockito which offerer Whitebox making it easy to mock such final fields by using Whitebox.setInternalState(..). What I want to do is a walkaround so this can work in JUnit5 and mockito 4.6. Thanks for the answers but the production code cannot be changed just for a unit test to work.","body":"@AndyTurner ofc I understand why this happens. Previously we were using PowerMockito which offerer Whitebox making it easy to mock such final fields by using Whitebox.setInternalState(..). What I want to do is a walkaround so this can work in JUnit5 and mockito 4.6. Thanks for the answers but the production code cannot be changed just for a unit test to work."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1655284425,"post_id":72616006,"comment_id":128293807,"body_markdown":"The point is to change the production code to make the unit test to work. The point is to improve your production code so that it becomes easier to test and doesn&#39;t need expensive band aids every time some other code needs to deal with it.","body":"The point is to change the production code to make the unit test to work. The point is to improve your production code so that it becomes easier to test and doesn&#39;t need expensive band aids every time some other code needs to deal with it."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1655284673,"post_id":72616006,"comment_id":128293881,"body_markdown":"And note: Whitebox was always in the org.mockito.**internal** ... that is what I am talking about: at some point, you wrote hard to test code. You worked around by using a feature that said right in its name &quot;maybe better not use me&quot;. And now you are in trouble. Of course, you can continue to go down this route, and put band aids on the symptoms. Paying the price every time you do so.","body":"And note: Whitebox was always in the org.mockito.**internal** ... that is what I am talking about: at some point, you wrote hard to test code. You worked around by using a feature that said right in its name &quot;maybe better not use me&quot;. And now you are in trouble. Of course, you can continue to go down this route, and put band aids on the symptoms. Paying the price every time you do so."},{"owner":{"account_id":23999694,"reputation":19,"user_id":17984773,"display_name":"Marko Gila"},"score":0,"creation_date":1655285783,"post_id":72616006,"comment_id":128294276,"body_markdown":"Ok, thanks for the answers, I get your point, but I thought of asking if someone has dealt with something similar and achieved to do that without modifying the production code of a legacy project.","body":"Ok, thanks for the answers, I get your point, but I thought of asking if someone has dealt with something similar and achieved to do that without modifying the production code of a legacy project."},{"owner":{"account_id":23999694,"reputation":19,"user_id":17984773,"display_name":"Marko Gila"},"score":0,"creation_date":1655287088,"post_id":72616006,"comment_id":128294716,"body_markdown":"Also, is it a bad practice to have a constant filled like this? I think that&#39;s what we want to achieve. After all it&#39;s just a string","body":"Also, is it a bad practice to have a constant filled like this? I think that&#39;s what we want to achieve. After all it&#39;s just a string"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1655302784,"post_id":72616006,"comment_id":128300972,"body_markdown":"Think about it: you made something a constant ... but you have the urgent need to change its value during the life time of the corresponding class. As said before: if your code does different things based on the content of that field, then the inability to change that value hampers more than just the unit tests.","body":"Think about it: you made something a constant ... but you have the urgent need to change its value during the life time of the corresponding class. As said before: if your code does different things based on the content of that field, then the inability to change that value hampers more than just the unit tests."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1655988266,"post_id":72616006,"comment_id":128465834,"body_markdown":"_ without modifying the production code of a legacy project._ - test classes are not production code.","body":"_ without modifying the production code of a legacy project._ - test classes are not production code."}],"answers":[{"tags":[],"owner":{"account_id":23999694,"reputation":19,"user_id":17984773,"display_name":"Marko Gila"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700212690,"creation_date":1655297542,"answer_id":72631767,"question_id":72616006,"body_markdown":"A temporary workaround that I found on a Stack overflow post is this one https://stackoverflow.com/a/56043252/17984773. It works with JDK17, Junit5, and Mockito 4.6. Answering that here in case someone searches for the same issue, for me it took a lot of time to bump into this answer. It may be temporary but for now it works\r\n\r\nTo sum up, what worked for me was opening access to some of the packages as can be seen bellow. To find exact what packages need to be included here, I just run the test each time and error by error I created this array\r\n\r\n    test {\r\n    test.jvmArgs = [&quot;--add-exports&quot;,&quot;java.base/jdk.internal.access=ALL-UNNAMED&quot;,\r\n                    &quot;--add-exports&quot;,&quot;java.base/sun.security.jca=ALL-UNNAMED&quot;,\r\n                    &quot;--add-exports&quot;,&quot;java.xml/jdk.xml.internal=ALL-UNNAMED&quot;,\r\n                    &quot;--add-exports&quot;,&quot;java.base/sun.security.action=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/sun.security.util=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/sun.util.calendar=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.lang.reflect=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.security.cert=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.text=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.math=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.sql/java.sql=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.security=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.util.regex=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.util.stream=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.util.concurrent=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.time=ALL-UNNAMED&quot;,\r\n                    &quot;--add-opens&quot;,&quot;java.base/java.io=ALL-UNNAMED&quot;]\r\n    }","title":"Constant field gets initialized only once under Junit5","body":"<p>A temporary workaround that I found on a Stack overflow post is this one <a href=\"https://stackoverflow.com/a/56043252/17984773\">https://stackoverflow.com/a/56043252/17984773</a>. It works with JDK17, Junit5, and Mockito 4.6. Answering that here in case someone searches for the same issue, for me it took a lot of time to bump into this answer. It may be temporary but for now it works</p>\n<p>To sum up, what worked for me was opening access to some of the packages as can be seen bellow. To find exact what packages need to be included here, I just run the test each time and error by error I created this array</p>\n<pre><code>test {\ntest.jvmArgs = [&quot;--add-exports&quot;,&quot;java.base/jdk.internal.access=ALL-UNNAMED&quot;,\n                &quot;--add-exports&quot;,&quot;java.base/sun.security.jca=ALL-UNNAMED&quot;,\n                &quot;--add-exports&quot;,&quot;java.xml/jdk.xml.internal=ALL-UNNAMED&quot;,\n                &quot;--add-exports&quot;,&quot;java.base/sun.security.action=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/sun.security.util=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/sun.util.calendar=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.lang.reflect=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.security.cert=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.text=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.math=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.sql/java.sql=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.security=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.util.regex=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.util.stream=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.util.concurrent=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.time=ALL-UNNAMED&quot;,\n                &quot;--add-opens&quot;,&quot;java.base/java.io=ALL-UNNAMED&quot;]\n}\n</code></pre>\n"}],"owner":{"account_id":23999694,"reputation":19,"user_id":17984773,"display_name":"Marko Gila"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700212690,"creation_date":1655205297,"question_id":72616006,"body_markdown":"We are migrating to JUnit5 and removing PowerMockito since Mockito now supports mockStatic. Before, PowerMockito offered Whitebox.setInternalState(..) making it possible to set values final fields (constants)  \r\nI have a class like \r\n    \r\n    public class MyClass {\r\n        \r\n        private static final String myField = Props.getString(&quot;myField&quot;);\r\n        \r\n        public boolean myMethod() {\r\n            //uses my field\r\n        }\r\n        \r\n    }\r\nand my Test looks like this\r\n\r\n    class MyClassTest {\r\n\r\n        @Test\r\n        void myTest() {\r\n            try (MockedStatic&lt;Props&gt; propsMockedStatic = Mockito.mock(Props.class)) {\r\n                propsMockedStatic.when(() -&gt; Props.getString(&quot;myField&quot;)).thenReturn(&quot;Hello!!&quot;);\r\n                MyClass myClass = new MyClass();\r\n                //more code\r\n            }\r\n        }\r\n    }\r\n\r\nThe problem is that when I introduce more tests I see that the `myField` gets mocked only once when I run the Tests although I use a new instance every time. This results in braking tests since on other cases I want `myField` to have different values but when I run them separately everything completes successfully ","title":"Constant field gets initialized only once under Junit5","body":"<p>We are migrating to JUnit5 and removing PowerMockito since Mockito now supports mockStatic. Before, PowerMockito offered Whitebox.setInternalState(..) making it possible to set values final fields (constants)<br />\nI have a class like</p>\n<pre><code>public class MyClass {\n    \n    private static final String myField = Props.getString(&quot;myField&quot;);\n    \n    public boolean myMethod() {\n        //uses my field\n    }\n    \n}\n</code></pre>\n<p>and my Test looks like this</p>\n<pre><code>class MyClassTest {\n\n    @Test\n    void myTest() {\n        try (MockedStatic&lt;Props&gt; propsMockedStatic = Mockito.mock(Props.class)) {\n            propsMockedStatic.when(() -&gt; Props.getString(&quot;myField&quot;)).thenReturn(&quot;Hello!!&quot;);\n            MyClass myClass = new MyClass();\n            //more code\n        }\n    }\n}\n</code></pre>\n<p>The problem is that when I introduce more tests I see that the <code>myField</code> gets mocked only once when I run the Tests although I use a new instance every time. This results in braking tests since on other cases I want <code>myField</code> to have different values but when I run them separately everything completes successfully</p>\n"},{"tags":["java","mysql","mongodb"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1700212533,"post_id":77500435,"comment_id":136629058,"body_markdown":"https://en.m.wikipedia.org/wiki/Universally_unique_identifier","body":"<a href=\"https://en.m.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Universally_unique_identifier</a>"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1700213327,"post_id":77500435,"comment_id":136629172,"body_markdown":"I would not leave this task to the individual databases as there probably are inconsistencies how UUIDs / GUIDs are generated. As the answer to the duplicate question points it out, java has a GUID implementation, use that for generating unique ids across your app.","body":"I would not leave this task to the individual databases as there probably are inconsistencies how UUIDs / GUIDs are generated. As the answer to the duplicate question points it out, java has a GUID implementation, use that for generating unique ids across your app."}],"owner":{"account_id":5202410,"reputation":421,"user_id":7796604,"accept_rate":58,"display_name":"daniel lozano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700212900,"answer_count":0,"score":0,"last_activity_date":1700212145,"creation_date":1700212145,"question_id":77500435,"body_markdown":"I&#39;m working in a Java application that, among other functionalities, must persist information in a database (we are going to implement MySQL for one client, and MongoDB for another client). The operational behavior of this functionaliy is to communicate different users to exchange messages and information, and these users might share the same database (centralized) or have different databases (decentralized), and I must ensure that, when dealing with decentralized databases, I don&#39;t have duplicated IDs, or same IDs referring to different information.\r\n\r\nTo achieve this, I&#39;m thinking about not giving to the databases the responsibility of auto generating the IDs (as in relational databases I might have the same ID but with different information in the row), and to create the ID from the application using the hashCode of the object I want to persist in the database, saving this element in my database, and sending it to another user. This other user will receive the message, and save it in its database with the same ID I have, so we can refer to the same message using the same ID in the future.\r\n\r\nAs the hashCodes might be repeated because of their 32-bit nature, and I will have in the database more records than the ones that can be generated with 32 bits, I&#39;m thinking the following: to create an &quot;idGenerator()&quot; function that returns a value like: &quot;object hashCode + datetime when the element was generated in the application (in miliseconds)&quot;. By this way, I&#39;m trying to reduce the probability of having duplicated IDs in the database. I&#39;m thinking about returning something like a double, which would give me 2^64 combinations instead of 2^32 if I return an integer. \r\n\r\nMaybe this approach might difficult the way I can search for elements in the database later, but this is the first time I have to deal with different databases that must contain the same IDs for the elements they are exchanging.\r\n\r\nCould you give me feedback about this approach? And also, if there is another way to deal with IDs in decentralized databases, could you give me references? I&#39;m new in these kind of implementations so any help will be highly appreciated.","title":"Generating unique ids shared between distributed databases from a Java application","body":"<p>I'm working in a Java application that, among other functionalities, must persist information in a database (we are going to implement MySQL for one client, and MongoDB for another client). The operational behavior of this functionaliy is to communicate different users to exchange messages and information, and these users might share the same database (centralized) or have different databases (decentralized), and I must ensure that, when dealing with decentralized databases, I don't have duplicated IDs, or same IDs referring to different information.</p>\n<p>To achieve this, I'm thinking about not giving to the databases the responsibility of auto generating the IDs (as in relational databases I might have the same ID but with different information in the row), and to create the ID from the application using the hashCode of the object I want to persist in the database, saving this element in my database, and sending it to another user. This other user will receive the message, and save it in its database with the same ID I have, so we can refer to the same message using the same ID in the future.</p>\n<p>As the hashCodes might be repeated because of their 32-bit nature, and I will have in the database more records than the ones that can be generated with 32 bits, I'm thinking the following: to create an &quot;idGenerator()&quot; function that returns a value like: &quot;object hashCode + datetime when the element was generated in the application (in miliseconds)&quot;. By this way, I'm trying to reduce the probability of having duplicated IDs in the database. I'm thinking about returning something like a double, which would give me 2^64 combinations instead of 2^32 if I return an integer.</p>\n<p>Maybe this approach might difficult the way I can search for elements in the database later, but this is the first time I have to deal with different databases that must contain the same IDs for the elements they are exchanging.</p>\n<p>Could you give me feedback about this approach? And also, if there is another way to deal with IDs in decentralized databases, could you give me references? I'm new in these kind of implementations so any help will be highly appreciated.</p>\n"},{"tags":["javascript","java","reactjs","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692182433,"creation_date":1692182433,"answer_id":76912783,"question_id":76910484,"body_markdown":"I have a very simplistic test where I have a class annotated with `@RestController` that just reads the file and writes it into `OutputStream` of `HttpServletResponse`. I invoked that API and simply wrote bytes that I received on disk as a file. I was able to open that file and was exact copy of a file that my API read and sent as a response. Here is the code:\r\n\r\n    @PutMapping\r\n    public void uploadDownloadTest(HttpServletRequest request, HttpServletResponse response) {\r\n        try {\r\n                byte[] buff = readFile(...);\r\n                response.getOutputStream().write(buff);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(TextUtils.getStacktrace(e));\r\n        }\r\n    }\r\n\r\nNote that I didn&#39;t even set any response headers that would inform client side what to expect (and that was on purpose for this particular test). Still, when I invoked this API from Java (using some Http client) I was able to get the info properly. I didn&#39;t try your API code though. I hope this helps. I am guessing that your problem is on your client side.","title":"Java - How to return PDF/Image from Spring Application as API response and process the content using JS/React?","body":"<p>I have a very simplistic test where I have a class annotated with <code>@RestController</code> that just reads the file and writes it into <code>OutputStream</code> of <code>HttpServletResponse</code>. I invoked that API and simply wrote bytes that I received on disk as a file. I was able to open that file and was exact copy of a file that my API read and sent as a response. Here is the code:</p>\n<pre><code>@PutMapping\npublic void uploadDownloadTest(HttpServletRequest request, HttpServletResponse response) {\n    try {\n            byte[] buff = readFile(...);\n            response.getOutputStream().write(buff);\n        }\n    } catch (Exception e) {\n        System.out.println(TextUtils.getStacktrace(e));\n    }\n}\n</code></pre>\n<p>Note that I didn't even set any response headers that would inform client side what to expect (and that was on purpose for this particular test). Still, when I invoked this API from Java (using some Http client) I was able to get the info properly. I didn't try your API code though. I hope this helps. I am guessing that your problem is on your client side.</p>\n"},{"tags":[],"owner":{"account_id":23064315,"reputation":21,"user_id":17178965,"display_name":"FKhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693153326,"creation_date":1692907271,"answer_id":76972580,"question_id":76910484,"body_markdown":"You can try using the `BufferedInputStream` and the `BufferedOutputStream`. Use the `inputstream` to read your file `pdf/image` and then write the contents in the output stream where \r\n```\r\nBufferedOutputStream out = new BufferedOutputStream(response.getOutputStream(), BUFFER_SIZE)\r\n```\r\n`BUFFER_SIZE` is in bytes. You can use any appropriate amount `10kb` etc. ","title":"Java - How to return PDF/Image from Spring Application as API response and process the content using JS/React?","body":"<p>You can try using the <code>BufferedInputStream</code> and the <code>BufferedOutputStream</code>. Use the <code>inputstream</code> to read your file <code>pdf/image</code> and then write the contents in the output stream where</p>\n<pre><code>BufferedOutputStream out = new BufferedOutputStream(response.getOutputStream(), BUFFER_SIZE)\n</code></pre>\n<p><code>BUFFER_SIZE</code> is in bytes. You can use any appropriate amount <code>10kb</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":5308076,"reputation":91,"user_id":4235304,"display_name":"youssef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700211481,"creation_date":1700211481,"answer_id":77500375,"question_id":76910484,"body_markdown":"try this one \r\nthe file path is file that contain all my files\r\n\r\n        // to get files from server\r\n    @GetMapping(path = &quot;/file/{fileName}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; getfile(\r\n                                          @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\r\n\r\n            byte[] fileContent = Files.readAllBytes(Paths.get(File_PATH +\r\n                    File.separator +\r\n                    fileName));\r\n        String extension = FilenameUtils.getExtension(fileName);\r\n        if( extension.equalsIgnoreCase(&quot;pdf&quot;) ) {\r\n            log.info(&quot;pdf&quot;);\r\n            //headers.setContentType(MediaType.APPLICATION_PDF);\r\n        }\r\n        else if( extension.equalsIgnoreCase(&quot;jpg&quot;) || extension.equalsIgnoreCase(&quot;jpeg&quot;)) {\r\n            log.info(&quot;IMAGE_JPEG&quot;);\r\n            //headers.setContentType(MediaType.IMAGE_JPEG);\r\n        }\r\n        else if( extension.equalsIgnoreCase(&quot;png&quot;) ) {\r\n            log.info(&quot;IMAGE_PNG&quot;);\r\n            //headers.setContentType(MediaType.IMAGE_PNG);\r\n        }\r\n\r\n            HttpHeaders headers = new HttpHeaders();\r\n\r\n        if( extension.equalsIgnoreCase(&quot;pdf&quot;) ) {\r\n            log.info(&quot;pdf&quot;);\r\n            headers.setContentType(MediaType.APPLICATION_PDF);\r\n        }\r\n        else if( extension.equalsIgnoreCase(&quot;jpg&quot;) || extension.equalsIgnoreCase(&quot;jpeg&quot;)) {\r\n            log.info(&quot;IMAGE_JPEG&quot;);\r\n            headers.setContentType(MediaType.IMAGE_JPEG);\r\n        }\r\n        else if( extension.equalsIgnoreCase(&quot;png&quot;) ) {\r\n            log.info(&quot;IMAGE_PNG&quot;);\r\n            headers.setContentType(MediaType.IMAGE_PNG);\r\n        } else {\r\n            headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        }\r\n        //headers.setContentDispositionFormData(&quot;attachment&quot;, fileName); to download file\r\n            return new ResponseEntity&lt;&gt;(fileContent, headers, HttpStatus.OK);\r\n\r\n    }\r\n\r\n ","title":"Java - How to return PDF/Image from Spring Application as API response and process the content using JS/React?","body":"<p>try this one\nthe file path is file that contain all my files</p>\n<pre><code>    // to get files from server\n@GetMapping(path = &quot;/file/{fileName}&quot;)\npublic ResponseEntity&lt;byte[]&gt; getfile(\n                                      @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\n\n        byte[] fileContent = Files.readAllBytes(Paths.get(File_PATH +\n                File.separator +\n                fileName));\n    String extension = FilenameUtils.getExtension(fileName);\n    if( extension.equalsIgnoreCase(&quot;pdf&quot;) ) {\n        log.info(&quot;pdf&quot;);\n        //headers.setContentType(MediaType.APPLICATION_PDF);\n    }\n    else if( extension.equalsIgnoreCase(&quot;jpg&quot;) || extension.equalsIgnoreCase(&quot;jpeg&quot;)) {\n        log.info(&quot;IMAGE_JPEG&quot;);\n        //headers.setContentType(MediaType.IMAGE_JPEG);\n    }\n    else if( extension.equalsIgnoreCase(&quot;png&quot;) ) {\n        log.info(&quot;IMAGE_PNG&quot;);\n        //headers.setContentType(MediaType.IMAGE_PNG);\n    }\n\n        HttpHeaders headers = new HttpHeaders();\n\n    if( extension.equalsIgnoreCase(&quot;pdf&quot;) ) {\n        log.info(&quot;pdf&quot;);\n        headers.setContentType(MediaType.APPLICATION_PDF);\n    }\n    else if( extension.equalsIgnoreCase(&quot;jpg&quot;) || extension.equalsIgnoreCase(&quot;jpeg&quot;)) {\n        log.info(&quot;IMAGE_JPEG&quot;);\n        headers.setContentType(MediaType.IMAGE_JPEG);\n    }\n    else if( extension.equalsIgnoreCase(&quot;png&quot;) ) {\n        log.info(&quot;IMAGE_PNG&quot;);\n        headers.setContentType(MediaType.IMAGE_PNG);\n    } else {\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n    }\n    //headers.setContentDispositionFormData(&quot;attachment&quot;, fileName); to download file\n        return new ResponseEntity&lt;&gt;(fileContent, headers, HttpStatus.OK);\n\n}\n</code></pre>\n"}],"owner":{"account_id":7032095,"reputation":462,"user_id":5387407,"accept_rate":67,"display_name":"Shimul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700211481,"creation_date":1692159168,"question_id":76910484,"body_markdown":"In one of my Spring Boot and React application, I need to write an API that will send file name as input, and expect Java/Spring Boot will return the file content, and then show the content in a new tab of the browser. So I write the following code:  \r\n\r\n**FrontEnd API Request:**  \r\n\r\n```\r\nlet fileUrlResponse = await rest.fetchAttchment(fileName[0].fileName);\r\nlet data = fileUrlResponse.data;\r\n\r\nlet byteArray = new Uint8Array(data.length);\r\nfor (let i = 0; i &lt; data.length; i++) {\r\n    byteArray[i] = data.charCodeAt(i) &amp; 0xff;\r\n}\r\n\r\nlet contentType = fileUrlResponse.headers[&#39;content-type&#39;];\r\nconst file = new Blob([byteArray], { type: contentType });\r\nconst fileURL = URL.createObjectURL(file);\r\nwindow.open(fileURL, &#39;_blank&#39;);\r\n```\r\n\r\n**In Controller:**  \r\n\r\n```\r\n@GetMapping(value = ApiConstants.GET_FILE_VIEW)\r\npublic ResponseEntity&lt;Resource&gt; getView(@RequestParam(&quot;fileName&quot;) String fileName) throws CommonException {\r\n    ResponseEntity&lt;Resource&gt; response = leaveAppAdminService.findFileContent(fileName);\r\n    return response;\r\n}\r\n```\r\n\r\n**In Service:**  \r\n\r\n```\r\npublic ResponseEntity&lt;Resource&gt; findFileContent( String fileName ) throws CommonException {\r\n    try {\r\n        String fileUrl = leaveAttachmentUploadPath;\r\n        Path path = Paths.get(fileUrl + &quot;/&quot; + fileName);\r\n        byte[] fileBytes = Files.readAllBytes(path);\r\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\r\n        HttpHeaders headers = new HttpHeaders();\r\n\r\n        String extension = FilenameUtils.getExtension(fileName);\r\n        if( extension.equalsIgnoreCase(&quot;pdf&quot;) ) {\r\n            headers.setContentType(MediaType.APPLICATION_PDF);\r\n        }\r\n        else if( extension.equalsIgnoreCase(&quot;jpg&quot;) || extension.equalsIgnoreCase(&quot;jpeg&quot;)) {\r\n            headers.setContentType(MediaType.IMAGE_JPEG);\r\n        }\r\n        else if( extension.equalsIgnoreCase(&quot;png&quot;) ) {\r\n            headers.setContentType(MediaType.IMAGE_PNG);\r\n        }\r\n\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                 .contentLength(resource.contentLength())\r\n                 .headers(headers).body(resource);\r\n    }\r\n    catch (Exception ex) {\r\n        log.error(&quot;Exception occurred during execution of -&gt; findExLeaveByUnit &quot;, ex);\r\n        log.info(&quot;Error info:{}&quot;, ex.getMessage());\r\n        throw new CommonException(HttpStatus.INTERNAL_SERVER_ERROR, ex.getMessage());\r\n    }\r\n}\r\n```\r\n\r\n**Response:**  \r\nSome screenshot of current responses are:  \r\n\r\n[![Response Part 1][1]][1]  \r\n\r\n[![Response Part 2][2]][2]  \r\n\r\n[![Response Part 3][3]][3]  \r\n\r\n\r\n**Problem:**  \r\nIt export PDF without any content, I mean blank PDF!  \r\nDoes anyone have any idea what&#39;s I miss or what is the proper way to return the content of a PDF or Image file as API response.  \r\n\r\nInitially I thought `byte[] fileBytes = Files.readAllBytes(path)` or `ByteArrayResource resource = new ByteArrayResource(fileBytes)` generate wrong data, so I tried to export the PDF using the following code:  \r\n\r\n```\r\nString filePath = &quot;D:/test.pdf&quot;;\r\ntry (FileOutputStream fos = new FileOutputStream(filePath)) {\r\n    fos.write(fileBytes);\r\n    System.out.println(&quot;Byte array content written to file: &quot; + filePath);\r\n}\r\ncatch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nIt export the PDF successfully with the data.  \r\nI also tried to the following code in FrontEnd side:  \r\n\r\n```\r\nlet data = fileUrlResponse.data;\r\nconst encoder = new TextEncoder();\r\nconst byteArray = encoder.encode(data);\r\nconst file = new Blob([byteArray], { type: contentType });\r\nconst fileURL = URL.createObjectURL(file);\r\nwindow.open(fileURL, &#39;_blank&#39;);\r\n```\r\n\r\nThanks\r\n\r\n  [1]: https://i.stack.imgur.com/muqaB.png\r\n  [2]: https://i.stack.imgur.com/hvkDe.png\r\n  [3]: https://i.stack.imgur.com/d9HeM.png","title":"Java - How to return PDF/Image from Spring Application as API response and process the content using JS/React?","body":"<p>In one of my Spring Boot and React application, I need to write an API that will send file name as input, and expect Java/Spring Boot will return the file content, and then show the content in a new tab of the browser. So I write the following code:</p>\n<p><strong>FrontEnd API Request:</strong></p>\n<pre><code>let fileUrlResponse = await rest.fetchAttchment(fileName[0].fileName);\nlet data = fileUrlResponse.data;\n\nlet byteArray = new Uint8Array(data.length);\nfor (let i = 0; i &lt; data.length; i++) {\n    byteArray[i] = data.charCodeAt(i) &amp; 0xff;\n}\n\nlet contentType = fileUrlResponse.headers['content-type'];\nconst file = new Blob([byteArray], { type: contentType });\nconst fileURL = URL.createObjectURL(file);\nwindow.open(fileURL, '_blank');\n</code></pre>\n<p><strong>In Controller:</strong></p>\n<pre><code>@GetMapping(value = ApiConstants.GET_FILE_VIEW)\npublic ResponseEntity&lt;Resource&gt; getView(@RequestParam(&quot;fileName&quot;) String fileName) throws CommonException {\n    ResponseEntity&lt;Resource&gt; response = leaveAppAdminService.findFileContent(fileName);\n    return response;\n}\n</code></pre>\n<p><strong>In Service:</strong></p>\n<pre><code>public ResponseEntity&lt;Resource&gt; findFileContent( String fileName ) throws CommonException {\n    try {\n        String fileUrl = leaveAttachmentUploadPath;\n        Path path = Paths.get(fileUrl + &quot;/&quot; + fileName);\n        byte[] fileBytes = Files.readAllBytes(path);\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\n        HttpHeaders headers = new HttpHeaders();\n\n        String extension = FilenameUtils.getExtension(fileName);\n        if( extension.equalsIgnoreCase(&quot;pdf&quot;) ) {\n            headers.setContentType(MediaType.APPLICATION_PDF);\n        }\n        else if( extension.equalsIgnoreCase(&quot;jpg&quot;) || extension.equalsIgnoreCase(&quot;jpeg&quot;)) {\n            headers.setContentType(MediaType.IMAGE_JPEG);\n        }\n        else if( extension.equalsIgnoreCase(&quot;png&quot;) ) {\n            headers.setContentType(MediaType.IMAGE_PNG);\n        }\n\n        return ResponseEntity.status(HttpStatus.OK)\n                 .contentLength(resource.contentLength())\n                 .headers(headers).body(resource);\n    }\n    catch (Exception ex) {\n        log.error(&quot;Exception occurred during execution of -&gt; findExLeaveByUnit &quot;, ex);\n        log.info(&quot;Error info:{}&quot;, ex.getMessage());\n        throw new CommonException(HttpStatus.INTERNAL_SERVER_ERROR, ex.getMessage());\n    }\n}\n</code></pre>\n<p><strong>Response:</strong><br />\nSome screenshot of current responses are:</p>\n<p><a href=\"https://i.stack.imgur.com/muqaB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/muqaB.png\" alt=\"Response Part 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hvkDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hvkDe.png\" alt=\"Response Part 2\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/d9HeM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d9HeM.png\" alt=\"Response Part 3\" /></a></p>\n<p><strong>Problem:</strong><br />\nIt export PDF without any content, I mean blank PDF!<br />\nDoes anyone have any idea what's I miss or what is the proper way to return the content of a PDF or Image file as API response.</p>\n<p>Initially I thought <code>byte[] fileBytes = Files.readAllBytes(path)</code> or <code>ByteArrayResource resource = new ByteArrayResource(fileBytes)</code> generate wrong data, so I tried to export the PDF using the following code:</p>\n<pre><code>String filePath = &quot;D:/test.pdf&quot;;\ntry (FileOutputStream fos = new FileOutputStream(filePath)) {\n    fos.write(fileBytes);\n    System.out.println(&quot;Byte array content written to file: &quot; + filePath);\n}\ncatch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>It export the PDF successfully with the data.<br />\nI also tried to the following code in FrontEnd side:</p>\n<pre><code>let data = fileUrlResponse.data;\nconst encoder = new TextEncoder();\nconst byteArray = encoder.encode(data);\nconst file = new Blob([byteArray], { type: contentType });\nconst fileURL = URL.createObjectURL(file);\nwindow.open(fileURL, '_blank');\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","if-statement","while-loop","hashmap","iterator"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1700052120,"post_id":77487761,"comment_id":136606939,"body_markdown":"Hint: Print `i` inside of your loop. What do you think is happening?","body":"Hint: Print <code>i</code> inside of your loop. What do you think is happening?"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1700052372,"creation_date":1700052372,"answer_id":77487824,"question_id":77487761,"body_markdown":"You don&#39;t exit out of the loop once `i` becomes 4. Also, you don&#39;t consume/read the subsequent elements from the iterator as `itr.next()` is inside the *if* block. So, it keeps incrementing `i` until it overflows to `Integer.MIN_VALUE` (-2147483648) and this takes a few seconds (which you have observed).\r\n\r\nAt this point the condition of the *if* block becomes true (`i &lt; n`) and hence it starts printing the other elements from the iterator.\r\n\r\nYou can print the value of `i` to see this.\r\n\r\n    System.out.println(entry.getKey()+&quot; repeated &quot;+entry.getValue() +&quot;. The value of i is: &quot; + i);\r\n\r\nPrints,\r\n```\r\n0 repeated 2. The value of i is: 0\r\n1 repeated 2. The value of i is: 1\r\n2 repeated 1. The value of i is: 2\r\n3 repeated 3. The value of i is: 3\r\n4 repeated 1. The value of i is: -2147483648\r\n5 repeated 3. The value of i is: -2147483647\r\n6 repeated 3. The value of i is: -2147483646\r\n7 repeated 2. The value of i is: -2147483645\r\n8 repeated 2. The value of i is: -2147483644\r\n9 repeated 1. The value of i is: -2147483643\r\n```","title":"Looping through a HashMap using iterator does not stop for an if condition","body":"<p>You don't exit out of the loop once <code>i</code> becomes 4. Also, you don't consume/read the subsequent elements from the iterator as <code>itr.next()</code> is inside the <em>if</em> block. So, it keeps incrementing <code>i</code> until it overflows to <code>Integer.MIN_VALUE</code> (-2147483648) and this takes a few seconds (which you have observed).</p>\n<p>At this point the condition of the <em>if</em> block becomes true (<code>i &lt; n</code>) and hence it starts printing the other elements from the iterator.</p>\n<p>You can print the value of <code>i</code> to see this.</p>\n<pre><code>System.out.println(entry.getKey()+&quot; repeated &quot;+entry.getValue() +&quot;. The value of i is: &quot; + i);\n</code></pre>\n<p>Prints,</p>\n<pre><code>0 repeated 2. The value of i is: 0\n1 repeated 2. The value of i is: 1\n2 repeated 1. The value of i is: 2\n3 repeated 3. The value of i is: 3\n4 repeated 1. The value of i is: -2147483648\n5 repeated 3. The value of i is: -2147483647\n6 repeated 3. The value of i is: -2147483646\n7 repeated 2. The value of i is: -2147483645\n8 repeated 2. The value of i is: -2147483644\n9 repeated 1. The value of i is: -2147483643\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700054079,"creation_date":1700054079,"answer_id":77488001,"question_id":77487761,"body_markdown":"When `i` reaches `n` the `if` condition will become `false` and `i` will be incremented indefinitely whereas the iterator will not step to the next. At some point `i` starts to be smaller than `n` due to number overflow (but a lot of while iterations are passed without going to the next in the meantime) and then your loop ends in an undesired manner. You will need\r\n\r\n```\r\n} else {\r\n    itr.next();\r\n}\r\n```\r\n\r\nor change somehow the condition of your loop so it will not continue its work when it no longer makes sense.","title":"Looping through a HashMap using iterator does not stop for an if condition","body":"<p>When <code>i</code> reaches <code>n</code> the <code>if</code> condition will become <code>false</code> and <code>i</code> will be incremented indefinitely whereas the iterator will not step to the next. At some point <code>i</code> starts to be smaller than <code>n</code> due to number overflow (but a lot of while iterations are passed without going to the next in the meantime) and then your loop ends in an undesired manner. You will need</p>\n<pre><code>} else {\n    itr.next();\n}\n</code></pre>\n<p>or change somehow the condition of your loop so it will not continue its work when it no longer makes sense.</p>\n"},{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700211329,"creation_date":1700211329,"answer_id":77500364,"question_id":77487761,"body_markdown":"You must move out of if the iter.next(), so the solution is:\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\nHashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\nhm.put(2, 1);\r\nhm.put(5, 3);\r\nhm.put(7, 2);\r\nhm.put(4, 1);\r\nhm.put(6, 3);\r\nhm.put(8, 2);\r\nhm.put(9, 1);\r\nhm.put(3, 3);\r\nhm.put(1, 2);       \r\nhm.put(0, 2);\r\nIterator &lt;Map.Entry&lt;Integer, Integer&gt;&gt; itr = hm.entrySet().iterator();\r\nint n=4;\r\nint i=0;\r\nwhile(itr.hasNext()){\r\n       Map.Entry&lt;Integer, Integer&gt; entry = itr.next();\r\n    if(i&lt;n){\r\n        System.out.println(entry.getKey()+&quot; repeated &quot;+entry.getValue());\r\n    }\r\n \r\n    i++;\r\n}\r\n  }\r\n}\r\n\r\n```\r\n \r\nOUTOUT is: \r\n\r\n```\r\n0 repeated 2\r\n1 repeated 2\r\n2 repeated 1\r\n3 repeated 3\r\n```","title":"Looping through a HashMap using iterator does not stop for an if condition","body":"<p>You must move out of if the iter.next(), so the solution is:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n  public static void main(String[] args) {\nHashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\nhm.put(2, 1);\nhm.put(5, 3);\nhm.put(7, 2);\nhm.put(4, 1);\nhm.put(6, 3);\nhm.put(8, 2);\nhm.put(9, 1);\nhm.put(3, 3);\nhm.put(1, 2);       \nhm.put(0, 2);\nIterator &lt;Map.Entry&lt;Integer, Integer&gt;&gt; itr = hm.entrySet().iterator();\nint n=4;\nint i=0;\nwhile(itr.hasNext()){\n       Map.Entry&lt;Integer, Integer&gt; entry = itr.next();\n    if(i&lt;n){\n        System.out.println(entry.getKey()+&quot; repeated &quot;+entry.getValue());\n    }\n \n    i++;\n}\n  }\n}\n\n</code></pre>\n<p>OUTOUT is:</p>\n<pre><code>0 repeated 2\n1 repeated 2\n2 repeated 1\n3 repeated 3\n</code></pre>\n"}],"owner":{"account_id":3353784,"reputation":25,"user_id":2817235,"display_name":"user2817235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77487824,"answer_count":3,"score":2,"last_activity_date":1700211329,"creation_date":1700051820,"question_id":77487761,"body_markdown":"A `HashMap&lt;Integer, Integer&gt;` has 10 entries but I only want to print 3 entries.\r\n\r\nCode:\r\n\r\n```java\r\nHashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\nhm.put(2, 1);\r\nhm.put(5, 3);\r\nhm.put(7, 2);\r\nhm.put(4, 1);\r\nhm.put(6, 3);\r\nhm.put(8, 2);\r\nhm.put(9, 1);\r\nhm.put(3, 3);\r\nhm.put(1, 2);\t\t\r\nhm.put(0, 2);\r\nIterator &lt;Map.Entry&lt;Integer, Integer&gt;&gt; itr = hm.entrySet().iterator();\r\nint n=4;\r\nint i=0;\r\nwhile(itr.hasNext()){\r\n\tif(i&lt;n){\r\n\t\tMap.Entry&lt;Integer, Integer&gt; entry = itr.next();\r\n\t\tSystem.out.println(entry.getKey()+&quot; repeated &quot;+entry.getValue());\r\n\t}\r\n\ti++;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```lang-none\r\n0 repeated 2\r\n1 repeated 2\r\n2 repeated 1\r\n3 repeated 3 //program will wait for 2 or 3 seconds here\r\n4 repeated 1\r\n5 repeated 3\r\n6 repeated 3\r\n7 repeated 2\r\n8 repeated 2\r\n9 repeated 1\r\n```\r\n\r\nExpecting output:\r\n\r\n```lang-none\r\n0 repeated 2\r\n1 repeated 2\r\n2 repeated 1\r\n3 repeated 3\r\n```\r\n\r\nWhy is the if-condition inside while-loop is not working?","title":"Looping through a HashMap using iterator does not stop for an if condition","body":"<p>A <code>HashMap&lt;Integer, Integer&gt;</code> has 10 entries but I only want to print 3 entries.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\nhm.put(2, 1);\nhm.put(5, 3);\nhm.put(7, 2);\nhm.put(4, 1);\nhm.put(6, 3);\nhm.put(8, 2);\nhm.put(9, 1);\nhm.put(3, 3);\nhm.put(1, 2);       \nhm.put(0, 2);\nIterator &lt;Map.Entry&lt;Integer, Integer&gt;&gt; itr = hm.entrySet().iterator();\nint n=4;\nint i=0;\nwhile(itr.hasNext()){\n    if(i&lt;n){\n        Map.Entry&lt;Integer, Integer&gt; entry = itr.next();\n        System.out.println(entry.getKey()+&quot; repeated &quot;+entry.getValue());\n    }\n    i++;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 repeated 2\n1 repeated 2\n2 repeated 1\n3 repeated 3 //program will wait for 2 or 3 seconds here\n4 repeated 1\n5 repeated 3\n6 repeated 3\n7 repeated 2\n8 repeated 2\n9 repeated 1\n</code></pre>\n<p>Expecting output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 repeated 2\n1 repeated 2\n2 repeated 1\n3 repeated 3\n</code></pre>\n<p>Why is the if-condition inside while-loop is not working?</p>\n"},{"tags":["java","selenium","junit5","allure","parallel-testing"],"answers":[{"tags":[],"owner":{"account_id":27883223,"reputation":1,"user_id":21291255,"display_name":"Ekaterina Diakonova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700211154,"creation_date":1700211154,"answer_id":77500343,"question_id":74494750,"body_markdown":"You can do it using [AfterTestExecutionCallback][1].\r\nand realize your logic inside\r\n\r\n    @Override\r\n      public void afterTestExecution(ExtensionContext context) throws Exception {\r\n        if (context.getExecutionException().isPresent()) {\r\n        takeScreenshot();\r\n        }\r\n    }\r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/extension/AfterTestExecutionCallback.html","title":"How to take a screenshot when a test is failed in JUnit5","body":"<p>You can do it using <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/extension/AfterTestExecutionCallback.html\" rel=\"nofollow noreferrer\">AfterTestExecutionCallback</a>.\nand realize your logic inside</p>\n<pre><code>@Override\n  public void afterTestExecution(ExtensionContext context) throws Exception {\n    if (context.getExecutionException().isPresent()) {\n    takeScreenshot();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19742815,"reputation":48,"user_id":14455919,"display_name":"FlappyCat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700211154,"creation_date":1668801491,"question_id":74494750,"body_markdown":"I am trying to write functionality that will take a screenshot of my browser in case a test fails. What I care about:\r\n\r\n* *take a screenshot and add it to the Allure2 report.*\r\n* *tests must be run in parallel.*\r\n* *information about Tear down in report*\r\n\r\n[![Allure report with tear down][1]][1]\r\n\r\nI tried to use JUnit API to implement **Test Watcher**. I have such a problem with it that when it passes a Driver to the testFailed method (just to do SS in the case of test failed) then, I can&#39;t use the **@AfterEach** annotation with closing the Driver because otherwise, the Driver will be **NULL**. \r\n\r\nThe *BaseTest class* from which the tests inherit contains annotations from JUnit5 and initializes the Driver here, and I would like to shut it down here. The class is also extended by *CustomTestWatcher class* which implements Test Watcher\r\n\r\n    @ExtendWith(CustomTestWatcher.class)\r\n    public class TestBase {\r\n\r\n    protected WebDriver driver;\r\n\r\n    @BeforeAll\r\n    public static void beforeAll() {\r\n        AllureFeatures.generateEnvironmentVariablesForAllure(); // generate enviroments.xml for allure report purposes\r\n    }\r\n\r\n    @BeforeEach\r\n    public void setupDriver() {\r\n        WebDriverThreadLocal.setDriver();\r\n        this.driver = WebDriverThreadLocal.getDriver();\r\n        driver.get(BASE_URL);\r\n    }\r\n\r\n    @AfterEach\r\n    public void closeDriver() {\r\n        WebDriverThreadLocal.teardown();\r\n    }\r\n\r\nCustomTestWatcher Class\r\nI don&#39;t like this solution. It duplicates the code in 4 places for each test status (disabled, successful, aborted, failed). I would prefer to use @AfterEach annotations, unfortunately, I have no idea how... Tear-down will also not be visible on the report.\r\n\r\n    public class CustomTestWatcher implements TestWatcher {\r\n    @Override\r\n    public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\r\n        WebDriverThreadLocal.teardown();\r\n    }\r\n    @Override\r\n    public void testSuccessful(ExtensionContext context) {\r\n        WebDriverThreadLocal.teardown();\r\n    }\r\n    @Override\r\n    public void testAborted(ExtensionContext context, Throwable cause) {\r\n        WebDriverThreadLocal.teardown();\r\n    }\r\n    @Override\r\n    public void testFailed(ExtensionContext context, Throwable cause) {\r\n        ScreenShotCreator.takeScreenShot(WebDriverThreadLocal.getDriver()); // pass the driver and do SS\r\n        WebDriverThreadLocal.teardown();\r\n    }\r\n\r\nI also read that Allure has a TestLifecycleListener interface where you can override the BeforeTestStop method, looks like the perfect place to do SS, just again the question is how to implement it...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ucGjg.png","title":"How to take a screenshot when a test is failed in JUnit5","body":"<p>I am trying to write functionality that will take a screenshot of my browser in case a test fails. What I care about:</p>\n<ul>\n<li><em>take a screenshot and add it to the Allure2 report.</em></li>\n<li><em>tests must be run in parallel.</em></li>\n<li><em>information about Tear down in report</em></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ucGjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucGjg.png\" alt=\"Allure report with tear down\" /></a></p>\n<p>I tried to use JUnit API to implement <strong>Test Watcher</strong>. I have such a problem with it that when it passes a Driver to the testFailed method (just to do SS in the case of test failed) then, I can't use the <strong>@AfterEach</strong> annotation with closing the Driver because otherwise, the Driver will be <strong>NULL</strong>.</p>\n<p>The <em>BaseTest class</em> from which the tests inherit contains annotations from JUnit5 and initializes the Driver here, and I would like to shut it down here. The class is also extended by <em>CustomTestWatcher class</em> which implements Test Watcher</p>\n<pre><code>@ExtendWith(CustomTestWatcher.class)\npublic class TestBase {\n\nprotected WebDriver driver;\n\n@BeforeAll\npublic static void beforeAll() {\n    AllureFeatures.generateEnvironmentVariablesForAllure(); // generate enviroments.xml for allure report purposes\n}\n\n@BeforeEach\npublic void setupDriver() {\n    WebDriverThreadLocal.setDriver();\n    this.driver = WebDriverThreadLocal.getDriver();\n    driver.get(BASE_URL);\n}\n\n@AfterEach\npublic void closeDriver() {\n    WebDriverThreadLocal.teardown();\n}\n</code></pre>\n<p>CustomTestWatcher Class\nI don't like this solution. It duplicates the code in 4 places for each test status (disabled, successful, aborted, failed). I would prefer to use @AfterEach annotations, unfortunately, I have no idea how... Tear-down will also not be visible on the report.</p>\n<pre><code>public class CustomTestWatcher implements TestWatcher {\n@Override\npublic void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\n    WebDriverThreadLocal.teardown();\n}\n@Override\npublic void testSuccessful(ExtensionContext context) {\n    WebDriverThreadLocal.teardown();\n}\n@Override\npublic void testAborted(ExtensionContext context, Throwable cause) {\n    WebDriverThreadLocal.teardown();\n}\n@Override\npublic void testFailed(ExtensionContext context, Throwable cause) {\n    ScreenShotCreator.takeScreenShot(WebDriverThreadLocal.getDriver()); // pass the driver and do SS\n    WebDriverThreadLocal.teardown();\n}\n</code></pre>\n<p>I also read that Allure has a TestLifecycleListener interface where you can override the BeforeTestStop method, looks like the perfect place to do SS, just again the question is how to implement it...</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1700185024,"post_id":77498707,"comment_id":136626538,"body_markdown":"you feel like giving a [mcve]?","body":"you feel like giving a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":13722664,"reputation":99,"user_id":10315612,"display_name":"Mikhail"},"score":0,"creation_date":1700202433,"post_id":77498707,"comment_id":136627765,"body_markdown":"@experimentunit1998X if I had it, I wouldn&#39;t come here","body":"@experimentunit1998X if I had it, I wouldn&#39;t come here"}],"owner":{"account_id":13722664,"reputation":99,"user_id":10315612,"display_name":"Mikhail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700211141,"creation_date":1700179928,"question_id":77498707,"body_markdown":"I have the following table as an example. It contains 5 requests `orderId`, each consisting of a certain number of actions `actionId`, where the progress of the requests is displayed:\r\n\r\n```\r\n|ordr| data                                                                                      |\r\n| -- | ----------------------------------------------------------------------------------------- |\r\n| 1  | {&quot;actionId&quot;:1,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}        |\r\n| 1  | {&quot;actionId&quot;:1,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}      |\r\n| 1  | {&quot;actionId&quot;:2,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}        |\r\n| 1  | {&quot;actionId&quot;:2,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}      |\r\n| 1  | {&quot;actionId&quot;:3,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}        |\r\n| 1  | {&quot;actionId&quot;:3,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}      |\r\n| 2  | {&quot;actionId&quot;:4,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}        |\r\n| 2  | {&quot;actionId&quot;:4,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}      |\r\n| 2  | {&quot;actionId&quot;:5,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}        |\r\n| 2  | {&quot;actionId&quot;:5,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}      |\r\n| 2  | {&quot;actionId&quot;:6,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}        |\r\n| 2  | {&quot;actionId&quot;:6,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}      |\r\n| 3  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:null}        |\r\n| 3  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;FAIL&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:&quot;BAD REQUEST&quot;}|\r\n| 4  | {&quot;actionId&quot;:8,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;UNKNOWN&quot;,&quot;templateId&quot;:7,&quot;errMsg&quot;:null}      |\r\n| 4  | {&quot;actionId&quot;:8,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;UNKNOWN&quot;,&quot;templateId&quot;:7,&quot;errMsg&quot;:null}      |\r\n| 5  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:null}        |\r\n| 5  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;FAIL&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:&quot;BAD REQUEST&quot;}|\r\n       |        |\r\n```\r\nHow to use Stream Api to get a report like the following (displayed in the table for clarity):\r\n```\r\n| TemplateId | TotalRunOrder  |SuccessRunOrder | FailRunOrder  |FailOrdersInfo  |\r\n| ---------- | -------------- | -------------- | --------------|----------------|\r\n| 4          | 1              | 1              | 0             | null           |\r\n| 5          | 1              | 1              | 0             | null           |\r\n| 6          | 2              | 0              | 2             | [{&quot;OrderId&quot;:3,&quot;ErrMsg&quot;:&quot;BAD REQUEST&quot;},{&quot;OrderId&quot;:5,&quot;ErrMsg&quot;:&quot;BAD REQUEST&quot;}]|\r\n| 7          | 0              | 0              | 0             | null           |\r\n```\r\n\r\nExplanations of how report fields are calculated:\r\n\r\n`TemplateId` - taken from the initial table from the `data` field\r\n\r\n`TotalRunOrder` - if within one `OrderId` there is at least one status `&quot;READY&quot;`\r\n\r\n`SuccessRunOrder` - we look for a line within one `OrderId`, where `curNum=maxNum` and if it has the status `&quot;SUCCESS&quot;` then we consider the application successful\r\n\r\n`FailRunOrder` - if within one `OrderId` there is at least one status `&quot;FAIL&quot;` then we consider the application to be failed\r\n\r\n`FailOrdersInfo` - display the information in the form of an array, in which we show which `OrderId` failed and show `ErrMsg` error text","title":"How to build aggregates from a table containing SQL and NoSQL information on stream api?","body":"<p>I have the following table as an example. It contains 5 requests <code>orderId</code>, each consisting of a certain number of actions <code>actionId</code>, where the progress of the requests is displayed:</p>\n<pre><code>|ordr| data                                                                                      |\n| -- | ----------------------------------------------------------------------------------------- |\n| 1  | {&quot;actionId&quot;:1,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}        |\n| 1  | {&quot;actionId&quot;:1,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}      |\n| 1  | {&quot;actionId&quot;:2,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}        |\n| 1  | {&quot;actionId&quot;:2,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}      |\n| 1  | {&quot;actionId&quot;:3,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}        |\n| 1  | {&quot;actionId&quot;:3,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:4,&quot;errMsg&quot;:null}      |\n| 2  | {&quot;actionId&quot;:4,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}        |\n| 2  | {&quot;actionId&quot;:4,&quot;curNum&quot;:1,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}      |\n| 2  | {&quot;actionId&quot;:5,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}        |\n| 2  | {&quot;actionId&quot;:5,&quot;curNum&quot;:2,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}      |\n| 2  | {&quot;actionId&quot;:6,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}        |\n| 2  | {&quot;actionId&quot;:6,&quot;curNum&quot;:3,&quot;maxNum&quot;:3,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;templateId&quot;:5,&quot;errMsg&quot;:null}      |\n| 3  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:null}        |\n| 3  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;FAIL&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:&quot;BAD REQUEST&quot;}|\n| 4  | {&quot;actionId&quot;:8,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;UNKNOWN&quot;,&quot;templateId&quot;:7,&quot;errMsg&quot;:null}      |\n| 4  | {&quot;actionId&quot;:8,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;UNKNOWN&quot;,&quot;templateId&quot;:7,&quot;errMsg&quot;:null}      |\n| 5  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;READY&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:null}        |\n| 5  | {&quot;actionId&quot;:7,&quot;curNum&quot;:1,&quot;maxNum&quot;:2,&quot;status&quot;:&quot;FAIL&quot;,&quot;templateId&quot;:6,&quot;errMsg&quot;:&quot;BAD REQUEST&quot;}|\n       |        |\n</code></pre>\n<p>How to use Stream Api to get a report like the following (displayed in the table for clarity):</p>\n<pre><code>| TemplateId | TotalRunOrder  |SuccessRunOrder | FailRunOrder  |FailOrdersInfo  |\n| ---------- | -------------- | -------------- | --------------|----------------|\n| 4          | 1              | 1              | 0             | null           |\n| 5          | 1              | 1              | 0             | null           |\n| 6          | 2              | 0              | 2             | [{&quot;OrderId&quot;:3,&quot;ErrMsg&quot;:&quot;BAD REQUEST&quot;},{&quot;OrderId&quot;:5,&quot;ErrMsg&quot;:&quot;BAD REQUEST&quot;}]|\n| 7          | 0              | 0              | 0             | null           |\n</code></pre>\n<p>Explanations of how report fields are calculated:</p>\n<p><code>TemplateId</code> - taken from the initial table from the <code>data</code> field</p>\n<p><code>TotalRunOrder</code> - if within one <code>OrderId</code> there is at least one status <code>&quot;READY&quot;</code></p>\n<p><code>SuccessRunOrder</code> - we look for a line within one <code>OrderId</code>, where <code>curNum=maxNum</code> and if it has the status <code>&quot;SUCCESS&quot;</code> then we consider the application successful</p>\n<p><code>FailRunOrder</code> - if within one <code>OrderId</code> there is at least one status <code>&quot;FAIL&quot;</code> then we consider the application to be failed</p>\n<p><code>FailOrdersInfo</code> - display the information in the form of an array, in which we show which <code>OrderId</code> failed and show <code>ErrMsg</code> error text</p>\n"},{"tags":["java","regex","data-masking"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700211098,"creation_date":1700211098,"answer_id":77500337,"question_id":77500248,"body_markdown":"You can use Pattern &amp; Matcher like this:\r\n\r\n    String payload = ....;\r\n    \r\n    Pattern pattern = Pattern.compile(&quot;\\&quot;accessToken\\&quot;:\\&quot;([a-zA-Z0-9]+)\\&quot;&quot;);\r\n    Matcher matcher = pattern.matcher(payload);\r\n    \r\n    if (matcher.find()) {\r\n        String accessToken = matcher.group(1);\r\n        String maskedToken = &quot;*&quot;.repeat(accessToken.length());\r\n        String result = payload.replace(accessToken, maskedToken);\r\n        System.out.println(result);\r\n    } else {\r\n        System.out.println(&quot;Access token not found.&quot;);\r\n    }","title":"Masking access token by regex pattern match and replace in java","body":"<p>You can use Pattern &amp; Matcher like this:</p>\n<pre><code>String payload = ....;\n\nPattern pattern = Pattern.compile(&quot;\\&quot;accessToken\\&quot;:\\&quot;([a-zA-Z0-9]+)\\&quot;&quot;);\nMatcher matcher = pattern.matcher(payload);\n\nif (matcher.find()) {\n    String accessToken = matcher.group(1);\n    String maskedToken = &quot;*&quot;.repeat(accessToken.length());\n    String result = payload.replace(accessToken, maskedToken);\n    System.out.println(result);\n} else {\n    System.out.println(&quot;Access token not found.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":16151026,"reputation":93,"user_id":12984503,"display_name":"nadinCodeHat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77500337,"answer_count":1,"score":0,"last_activity_date":1700211098,"creation_date":1700209974,"question_id":77500248,"body_markdown":"I&#39;m trying to mask an access token with stars. The response payload is converted to a string. I need to match the token pattern with the string and replace the token value with stars.\r\n\r\n    {&quot;accessToken&quot;:&quot;knjnandHJHJBhjHJhjGhjghjGHJGhjgHJGjIG6gg8F68c6F6f6F6d67f79GV78INy8c5SV8n98f5D6g89Byf5446f678u8878GF756d57899bVY7TC6c7VY8UBi9u8&quot;,&quot;accessTokenExpirationTime&quot;:1800}\r\n\r\nThis should be like below\r\n\r\n    {&quot;accessToken&quot;:&quot;*********************************************************************************************************************&quot;,&quot;accessTokenExpirationTime&quot;:1800}\r\n\r\nThe code below cannot find a match and replace\r\n\r\n    String payload = PAYLOAD_STRING;\r\n    Pattern pattern = Pattern.compile(&quot;[a-zA-Z0-9]{126}$&quot;);\r\n    Matcher matcher = pattern.matcher(payload);\r\n    String result = matcher.replaceAll(&quot;&lt;h1&gt;*&lt;/h1&gt;&quot;);\r\n    System.out.println(result);","title":"Masking access token by regex pattern match and replace in java","body":"<p>I'm trying to mask an access token with stars. The response payload is converted to a string. I need to match the token pattern with the string and replace the token value with stars.</p>\n<pre><code>{&quot;accessToken&quot;:&quot;knjnandHJHJBhjHJhjGhjghjGHJGhjgHJGjIG6gg8F68c6F6f6F6d67f79GV78INy8c5SV8n98f5D6g89Byf5446f678u8878GF756d57899bVY7TC6c7VY8UBi9u8&quot;,&quot;accessTokenExpirationTime&quot;:1800}\n</code></pre>\n<p>This should be like below</p>\n<pre><code>{&quot;accessToken&quot;:&quot;*********************************************************************************************************************&quot;,&quot;accessTokenExpirationTime&quot;:1800}\n</code></pre>\n<p>The code below cannot find a match and replace</p>\n<pre><code>String payload = PAYLOAD_STRING;\nPattern pattern = Pattern.compile(&quot;[a-zA-Z0-9]{126}$&quot;);\nMatcher matcher = pattern.matcher(payload);\nString result = matcher.replaceAll(&quot;&lt;h1&gt;*&lt;/h1&gt;&quot;);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":["java","java-8","functional-programming","java-stream"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1542225218,"post_id":53307682,"comment_id":93496227,"body_markdown":"zip is used to combine elements, I don&#39;t want to combine the elements, I want to keep the same total number of elements","body":"zip is used to combine elements, I don&#39;t want to combine the elements, I want to keep the same total number of elements"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":1,"creation_date":1542225364,"post_id":53307682,"comment_id":93496308,"body_markdown":"why wouldn&#39;t zip keep the same total number of elements?","body":"why wouldn&#39;t zip keep the same total number of elements?"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1542225414,"post_id":53307682,"comment_id":93496342,"body_markdown":"Reading the other thread, zip always takes a zipper function to combine an element from each stream to make a new element. I just want to interleave not zip","body":"Reading the other thread, zip always takes a zipper function to combine an element from each stream to make a new element. I just want to interleave not zip"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":1,"creation_date":1542225794,"post_id":53307682,"comment_id":93496518,"body_markdown":"I see your point and thanks for the clarification, using the `zip` function from the aforementioned dupe one could do `Stream&lt;String&gt; result = zip(a, b, (e, z) -&gt; Stream.of(e, z)).flatMap(x -&gt; x);` to get the result you want above.","body":"I see your point and thanks for the clarification, using the <code>zip</code> function from the aforementioned dupe one could do <code>Stream&lt;String&gt; result = zip(a, b, (e, z) -&gt; Stream.of(e, z)).flatMap(x -&gt; x);</code> to get the result you want above."},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1542225941,"post_id":53307682,"comment_id":93496594,"body_markdown":"yeah thanks, thats what I&#39;ve done. Just a shame that zip question is so so noisy, and doesn&#39;t come up when you google the keywords I&#39;ve used here","body":"yeah thanks, thats what I&#39;ve done. Just a shame that zip question is so so noisy, and doesn&#39;t come up when you google the keywords I&#39;ve used here"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":2,"creation_date":1542226432,"post_id":53307682,"comment_id":93496797,"body_markdown":"For anyone coming here in the future, here is the comments + redirected answer : https://gist.github.com/blundell/3f062b8ec55fd1906c68e6ec8d848683","body":"For anyone coming here in the future, here is the comments + redirected answer : <a href=\"https://gist.github.com/blundell/3f062b8ec55fd1906c68e6ec8d848683\" rel=\"nofollow noreferrer\">gist.github.com/blundell/3f062b8ec55fd1906c68e6ec8d848683</a>"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":1,"creation_date":1542226670,"post_id":53307682,"comment_id":93496909,"body_markdown":"I like the creation of the `interleave` method which essentially wraps the `zip` method to improve readability et al. I&#39;ve voted to reopen, so you could post that here instead of externally...","body":"I like the creation of the <code>interleave</code> method which essentially wraps the <code>zip</code> method to improve readability et al. I&#39;ve voted to reopen, so you could post that here instead of externally..."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1573457209,"creation_date":1542229503,"answer_id":53308700,"question_id":53307682,"body_markdown":"I’d use something like this:\r\n\r\n    public static &lt;T&gt; Stream&lt;T&gt; interleave(Stream&lt;? extends T&gt; a, Stream&lt;? extends T&gt; b) {\r\n        Spliterator&lt;? extends T&gt; spA = a.spliterator(), spB = b.spliterator();\r\n        long s = spA.estimateSize() + spB.estimateSize();\r\n        if(s &lt; 0) s = Long.MAX_VALUE;\r\n        int ch = spA.characteristics() &amp; spB.characteristics()\r\n               &amp; (Spliterator.NONNULL|Spliterator.SIZED);\r\n        ch |= Spliterator.ORDERED;\r\n\r\n        return StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;T&gt;(s, ch) {\r\n            Spliterator&lt;? extends T&gt; sp1 = spA, sp2 = spB;\r\n\r\n            @Override\r\n            public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\r\n                Spliterator&lt;? extends T&gt; sp = sp1;\r\n                if(sp.tryAdvance(action)) {\r\n                    sp1 = sp2;\r\n                    sp2 = sp;\r\n                    return true;\r\n                }\r\n                return sp2.tryAdvance(action);\r\n            }\r\n        }, false);\r\n    }\r\n\r\nIt retains the characteristics of the input streams as far as possible, which allows certain optimizations (e.g. for `count()`and `toArray()`). Further, it adds the `ORDERED` even when the input streams might be unordered, to reflect the interleaving.\r\n\r\nWhen one stream has more elements than the other, the remaining elements will appear at the end.\r\n","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>I’d use something like this:</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;T&gt; interleave(Stream&lt;? extends T&gt; a, Stream&lt;? extends T&gt; b) {\n    Spliterator&lt;? extends T&gt; spA = a.spliterator(), spB = b.spliterator();\n    long s = spA.estimateSize() + spB.estimateSize();\n    if(s &lt; 0) s = Long.MAX_VALUE;\n    int ch = spA.characteristics() &amp; spB.characteristics()\n           &amp; (Spliterator.NONNULL|Spliterator.SIZED);\n    ch |= Spliterator.ORDERED;\n\n    return StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;T&gt;(s, ch) {\n        Spliterator&lt;? extends T&gt; sp1 = spA, sp2 = spB;\n\n        @Override\n        public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\n            Spliterator&lt;? extends T&gt; sp = sp1;\n            if(sp.tryAdvance(action)) {\n                sp1 = sp2;\n                sp2 = sp;\n                return true;\n            }\n            return sp2.tryAdvance(action);\n        }\n    }, false);\n}\n</code></pre>\n\n<p>It retains the characteristics of the input streams as far as possible, which allows certain optimizations (e.g. for <code>count()</code>and <code>toArray()</code>). Further, it adds the <code>ORDERED</code> even when the input streams might be unordered, to reflect the interleaving.</p>\n\n<p>When one stream has more elements than the other, the remaining elements will appear at the end.</p>\n"},{"tags":[],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542324823,"creation_date":1542238002,"answer_id":53310290,"question_id":53307682,"body_markdown":"This may **not** be a good answer because  \r\n(1) it collects to map, which you don&#39;t want to do I guess and  \r\n(2) it is not completely stateless as it uses AtomicIntegers.\r\n\r\nStill adding it because  \r\n(1) it is readable and  \r\n(2) community can get an idea from this and try to improve it.\r\n\r\n    Stream&lt;String&gt; a = Stream.of(&quot;one&quot;, &quot;three&quot;, &quot;five&quot;);\r\n    Stream&lt;String&gt; b = Stream.of(&quot;two&quot;, &quot;four&quot;, &quot;six&quot;);\r\n\r\n    AtomicInteger i = new AtomicInteger(0);\r\n    AtomicInteger j = new AtomicInteger(1);\r\n\r\n    Stream.of(a.collect(Collectors.toMap(o -&gt; i.addAndGet(2), Function.identity())),\r\n            b.collect(Collectors.toMap(o -&gt; j.addAndGet(2), Function.identity())))\r\n            .flatMap(m -&gt; m.entrySet().stream())\r\n            .sorted(Comparator.comparing(Map.Entry::getKey))\r\n            .forEach(e -&gt; System.out.println(e.getValue())); // or collect\r\n\r\n**Output**\r\n\r\n    one\r\n    two\r\n    three\r\n    four\r\n    five\r\n    six\r\n\r\n**@Holger&#39;s edit**\r\n\r\n    Stream.concat(a.map(o -&gt; new AbstractMap.SimpleEntry&lt;&gt;(i.addAndGet(2), o)),\r\n            b.map(o -&gt; new AbstractMap.SimpleEntry&lt;&gt;(j.addAndGet(2), o)))\r\n            .sorted(Map.Entry.comparingByKey())\r\n            .forEach(e -&gt; System.out.println(e.getValue())); // or collect","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>This may <strong>not</strong> be a good answer because<br>\n(1) it collects to map, which you don't want to do I guess and<br>\n(2) it is not completely stateless as it uses AtomicIntegers.</p>\n\n<p>Still adding it because<br>\n(1) it is readable and<br>\n(2) community can get an idea from this and try to improve it.</p>\n\n<pre><code>Stream&lt;String&gt; a = Stream.of(\"one\", \"three\", \"five\");\nStream&lt;String&gt; b = Stream.of(\"two\", \"four\", \"six\");\n\nAtomicInteger i = new AtomicInteger(0);\nAtomicInteger j = new AtomicInteger(1);\n\nStream.of(a.collect(Collectors.toMap(o -&gt; i.addAndGet(2), Function.identity())),\n        b.collect(Collectors.toMap(o -&gt; j.addAndGet(2), Function.identity())))\n        .flatMap(m -&gt; m.entrySet().stream())\n        .sorted(Comparator.comparing(Map.Entry::getKey))\n        .forEach(e -&gt; System.out.println(e.getValue())); // or collect\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>one\ntwo\nthree\nfour\nfive\nsix\n</code></pre>\n\n<p><strong>@Holger's edit</strong></p>\n\n<pre><code>Stream.concat(a.map(o -&gt; new AbstractMap.SimpleEntry&lt;&gt;(i.addAndGet(2), o)),\n        b.map(o -&gt; new AbstractMap.SimpleEntry&lt;&gt;(j.addAndGet(2), o)))\n        .sorted(Map.Entry.comparingByKey())\n        .forEach(e -&gt; System.out.println(e.getValue())); // or collect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542278159,"creation_date":1542269991,"answer_id":53315059,"question_id":53307682,"body_markdown":"A much dumber solution than Holger did, but may be it would fit your requirements:\r\n\r\n\r\n    private static &lt;T&gt; Stream&lt;T&gt; interleave(Stream&lt;T&gt; left, Stream&lt;T&gt; right) {\r\n        Spliterator&lt;T&gt; splLeft = left.spliterator();\r\n        Spliterator&lt;T&gt; splRight = right.spliterator();\r\n\r\n        T[] single = (T[]) new Object[1];\r\n\r\n        Stream.Builder&lt;T&gt; builder = Stream.builder();\r\n\r\n        while (splRight.tryAdvance(x -&gt; single[0] = x) &amp;&amp; splLeft.tryAdvance(builder)) {\r\n            builder.add(single[0]);\r\n        }\r\n\r\n        return builder.build();\r\n    }","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>A much dumber solution than Holger did, but may be it would fit your requirements:</p>\n\n<pre><code>private static &lt;T&gt; Stream&lt;T&gt; interleave(Stream&lt;T&gt; left, Stream&lt;T&gt; right) {\n    Spliterator&lt;T&gt; splLeft = left.spliterator();\n    Spliterator&lt;T&gt; splRight = right.spliterator();\n\n    T[] single = (T[]) new Object[1];\n\n    Stream.Builder&lt;T&gt; builder = Stream.builder();\n\n    while (splRight.tryAdvance(x -&gt; single[0] = x) &amp;&amp; splLeft.tryAdvance(builder)) {\n        builder.add(single[0]);\n    }\n\n    return builder.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542315525,"creation_date":1542315525,"answer_id":53327814,"question_id":53307682,"body_markdown":"As you can see from the question comments, I gave this a go using zip:\r\n\r\n    Stream&lt;String&gt; a = Stream.of(&quot;one&quot;, &quot;three&quot;, &quot;five&quot;);\r\n    Stream&lt;String&gt; b = Stream.of(&quot;two&quot;, &quot;four&quot;, &quot;six&quot;);\r\n    \r\n    Stream&lt;String&gt; out = interleave(a, b);\r\n    \r\n\r\n        public static &lt;T&gt; Stream&lt;T&gt; interleave(Stream&lt;T&gt; streamA, Stream&lt;T&gt; streamB) {\r\n            return zip(streamA, streamB, (o1, o2) -&gt; Stream.of(o1, o2)).flatMap(s -&gt; s);\r\n        }\r\n    \r\n        /**\r\n        * https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip\r\n        **/\r\n        private static &lt;A, B, C&gt; Stream&lt;C&gt; zip(Stream&lt;A&gt; streamA, Stream&lt;B&gt; streamB, BiFunction&lt;A, B, C&gt; zipper) {\r\n            final Iterator&lt;A&gt; iteratorA = streamA.iterator();\r\n            final Iterator&lt;B&gt; iteratorB = streamB.iterator();\r\n            final Iterator&lt;C&gt; iteratorC = new Iterator&lt;C&gt;() {\r\n                @Override\r\n                public boolean hasNext() {\r\n                    return iteratorA.hasNext() &amp;&amp; iteratorB.hasNext();\r\n                }\r\n    \r\n                @Override\r\n                public C next() {\r\n                    return zipper.apply(iteratorA.next(), iteratorB.next());\r\n                }\r\n            };\r\n            final boolean parallel = streamA.isParallel() || streamB.isParallel();\r\n            return iteratorToFiniteStream(iteratorC, parallel);\r\n        }\r\n    \r\n        private static &lt;T&gt; Stream&lt;T&gt; iteratorToFiniteStream(Iterator&lt;T&gt; iterator, boolean parallel) {\r\n            final Iterable&lt;T&gt; iterable = () -&gt; iterator;\r\n            return StreamSupport.stream(iterable.spliterator(), parallel);\r\n        }","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>As you can see from the question comments, I gave this a go using zip:</p>\n\n<pre><code>Stream&lt;String&gt; a = Stream.of(\"one\", \"three\", \"five\");\nStream&lt;String&gt; b = Stream.of(\"two\", \"four\", \"six\");\n\nStream&lt;String&gt; out = interleave(a, b);\n\n\n    public static &lt;T&gt; Stream&lt;T&gt; interleave(Stream&lt;T&gt; streamA, Stream&lt;T&gt; streamB) {\n        return zip(streamA, streamB, (o1, o2) -&gt; Stream.of(o1, o2)).flatMap(s -&gt; s);\n    }\n\n    /**\n    * https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip\n    **/\n    private static &lt;A, B, C&gt; Stream&lt;C&gt; zip(Stream&lt;A&gt; streamA, Stream&lt;B&gt; streamB, BiFunction&lt;A, B, C&gt; zipper) {\n        final Iterator&lt;A&gt; iteratorA = streamA.iterator();\n        final Iterator&lt;B&gt; iteratorB = streamB.iterator();\n        final Iterator&lt;C&gt; iteratorC = new Iterator&lt;C&gt;() {\n            @Override\n            public boolean hasNext() {\n                return iteratorA.hasNext() &amp;&amp; iteratorB.hasNext();\n            }\n\n            @Override\n            public C next() {\n                return zipper.apply(iteratorA.next(), iteratorB.next());\n            }\n        };\n        final boolean parallel = streamA.isParallel() || streamB.isParallel();\n        return iteratorToFiniteStream(iteratorC, parallel);\n    }\n\n    private static &lt;T&gt; Stream&lt;T&gt; iteratorToFiniteStream(Iterator&lt;T&gt; iterator, boolean parallel) {\n        final Iterable&lt;T&gt; iterable = () -&gt; iterator;\n        return StreamSupport.stream(iterable.spliterator(), parallel);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673222861,"creation_date":1542393971,"answer_id":53343698,"question_id":53307682,"body_markdown":"One solution with `Iterator`\r\n\r\n    final Iterator&lt;String&gt; iterA = a.iterator();\r\n    final Iterator&lt;String&gt; iterB = b.iterator();\r\n    \r\n    final Iterator&lt;String&gt; iter = new Iterator&lt;String&gt;() {\r\n      private final AtomicInteger idx = new AtomicInteger();\r\n      @Override\r\n      public boolean hasNext() { \r\n        return iterA.hasNext() || iterB.hasNext();\r\n      }\r\n      @Override\r\n      public String next() {\r\n        return idx.getAndIncrement() % 2 == 0 &amp;&amp; iterA.hasNext() ? iterA.next() : iterB.next();\r\n      }\r\n    };\r\n    \r\n     // Create target Stream with StreamEx from: https://github.com/amaembo/streamex    \r\n     StreamEx.of(iter).forEach(System.out::println);\r\n\r\n     // Or Streams from Google Guava\r\n     Streams.stream(iter).forEach(System.out::println);\r\n\r\nOr simply by the solution in [abacus-common][1] provided by me: \r\n\r\n     AtomicInteger idx = new AtomicInteger();\r\n     StreamEx.merge(a, b, (s1, s2) -&gt; idx.getAndIncrement() % 2 == 0 ? Nth.FIRST : Nth.SECOND).forEach(Fn.println()); \r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>One solution with <code>Iterator</code></p>\n<pre><code>final Iterator&lt;String&gt; iterA = a.iterator();\nfinal Iterator&lt;String&gt; iterB = b.iterator();\n\nfinal Iterator&lt;String&gt; iter = new Iterator&lt;String&gt;() {\n  private final AtomicInteger idx = new AtomicInteger();\n  @Override\n  public boolean hasNext() { \n    return iterA.hasNext() || iterB.hasNext();\n  }\n  @Override\n  public String next() {\n    return idx.getAndIncrement() % 2 == 0 &amp;&amp; iterA.hasNext() ? iterA.next() : iterB.next();\n  }\n};\n\n // Create target Stream with StreamEx from: https://github.com/amaembo/streamex    \n StreamEx.of(iter).forEach(System.out::println);\n\n // Or Streams from Google Guava\n Streams.stream(iter).forEach(System.out::println);\n</code></pre>\n<p>Or simply by the solution in <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a> provided by me:</p>\n<pre><code> AtomicInteger idx = new AtomicInteger();\n StreamEx.merge(a, b, (s1, s2) -&gt; idx.getAndIncrement() % 2 == 0 ? Nth.FIRST : Nth.SECOND).forEach(Fn.println()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574391233,"creation_date":1574391233,"answer_id":58986793,"question_id":53307682,"body_markdown":"Using Guava&#39;s [Streams.zip][1] and `Stream.flatMap`:\r\n\r\n    Stream&lt;String&gt; interleaved = Streams\r\n            .zip(a, b, (x, y) -&gt; Stream.of(x, y))\r\n            .flatMap(Function.identity());\r\n\r\n---\r\n\r\n    interleaved.forEach(System.out::println);\r\n\r\nPrints:\r\n\r\n    one\r\n    two\r\n    three\r\n    four\r\n    five\r\n    six\r\n\r\n  [1]: https://www.javadoc.io/doc/com.google.guava/guava/28.1-jre/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>Using Guava's <a href=\"https://www.javadoc.io/doc/com.google.guava/guava/28.1-jre/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Streams.zip</a> and <code>Stream.flatMap</code>:</p>\n\n<pre><code>Stream&lt;String&gt; interleaved = Streams\n        .zip(a, b, (x, y) -&gt; Stream.of(x, y))\n        .flatMap(Function.identity());\n</code></pre>\n\n<hr>\n\n<pre><code>interleaved.forEach(System.out::println);\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>one\ntwo\nthree\nfour\nfive\nsix\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622222,"reputation":435,"user_id":1498537,"display_name":"alfiogang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658393153,"creation_date":1658393153,"answer_id":73063203,"question_id":53307682,"body_markdown":"without any external lib (using jdk11)\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\nimport java.util.stream.Stream;\r\n\r\npublic class MergeUtil {\r\n\r\n    private static &lt;T&gt; Stream&lt;T&gt; zipped(List&lt;T&gt; lista, List&lt;T&gt; listb) {\r\n        int maxSize = Math.max(lista.size(), listb.size());\r\n        final var listStream = IntStream\r\n                .range(0, maxSize)\r\n                .mapToObj(i -&gt; {\r\n                    List&lt;T&gt; result = new ArrayList&lt;&gt;(2);\r\n                    if (i &lt; lista.size()) result.add(lista.get(i));\r\n                    if (i &lt; listb.size()) result.add(listb.get(i));\r\n                    return result;\r\n                });\r\n        return listStream.flatMap(List::stream);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var l1 = List.of(1, 2, 3);\r\n        var l2 = List.of(4, 5, 6, 7, 8, 9);\r\n        final var zip = zipped(l1, l2);\r\n        System.out.println(zip.collect(Collectors.toList()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nlistStream is a `Stream&lt;List&lt;A&gt;&gt;` that flatted in return.\r\n\r\nThe result is:\r\n```[1, 4, 2, 5, 3, 6, 7, 8, 9]```\r\n","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>without any external lib (using jdk11)</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\nimport java.util.stream.Stream;\n\npublic class MergeUtil {\n\n    private static &lt;T&gt; Stream&lt;T&gt; zipped(List&lt;T&gt; lista, List&lt;T&gt; listb) {\n        int maxSize = Math.max(lista.size(), listb.size());\n        final var listStream = IntStream\n                .range(0, maxSize)\n                .mapToObj(i -&gt; {\n                    List&lt;T&gt; result = new ArrayList&lt;&gt;(2);\n                    if (i &lt; lista.size()) result.add(lista.get(i));\n                    if (i &lt; listb.size()) result.add(listb.get(i));\n                    return result;\n                });\n        return listStream.flatMap(List::stream);\n    }\n\n    public static void main(String[] args) {\n        var l1 = List.of(1, 2, 3);\n        var l2 = List.of(4, 5, 6, 7, 8, 9);\n        final var zip = zipped(l1, l2);\n        System.out.println(zip.collect(Collectors.toList()));\n    }\n\n}\n</code></pre>\n<p>listStream is a <code>Stream&lt;List&lt;A&gt;&gt;</code> that flatted in return.</p>\n<p>The result is:\n<code>[1, 4, 2, 5, 3, 6, 7, 8, 9]</code></p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700210659,"creation_date":1700210659,"answer_id":77500303,"question_id":53307682,"body_markdown":"You don&#39;t need any hammer. For each element of the first stream, construct a stream with that element and an element of the second (extracted with an iterator), then flatMap:\r\n\r\n    Stream&lt;String&gt; a = Stream.of(&quot;one&quot;, &quot;three&quot;, &quot;five&quot;);\r\n    Stream&lt;String&gt; b = Stream.of(&quot;two&quot;, &quot;four&quot;, &quot;six&quot;);\r\n    Iterator&lt;String&gt; bi = b.iterator();\r\n    a.flatMap( x -&gt; Stream.of(x, bi.next()) ).forEach(System.out::println);\r\n","title":"How to interleave (merge) two Java 8 Streams?","body":"<p>You don't need any hammer. For each element of the first stream, construct a stream with that element and an element of the second (extracted with an iterator), then flatMap:</p>\n<pre><code>Stream&lt;String&gt; a = Stream.of(&quot;one&quot;, &quot;three&quot;, &quot;five&quot;);\nStream&lt;String&gt; b = Stream.of(&quot;two&quot;, &quot;four&quot;, &quot;six&quot;);\nIterator&lt;String&gt; bi = b.iterator();\na.flatMap( x -&gt; Stream.of(x, bi.next()) ).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5713,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":53308700,"answer_count":8,"score":16,"last_activity_date":1700210659,"creation_date":1542224566,"question_id":53307682,"body_markdown":"     Stream&lt;String&gt; a = Stream.of(&quot;one&quot;, &quot;three&quot;, &quot;five&quot;);\r\n     Stream&lt;String&gt; b = Stream.of(&quot;two&quot;, &quot;four&quot;, &quot;six&quot;);\r\n\r\nWhat do I need to do for the output to be the below?\r\n\r\n    // one\r\n    // two\r\n    // three\r\n    // four\r\n    // five\r\n    // six\r\n\r\nI looked into `concat` but as the javadoc explains, it just appends one after the other, it does not interleave / intersperse.\r\n\r\n    Stream&lt;String&gt; out = Stream.concat(a, b);\r\n    out.forEach(System.out::println);\r\n\r\n&gt; Creates a lazily concatenated stream whose elements are all the\r\n     elements of the first stream followed by all the elements of the\r\n     second stream.\r\n\r\nWrongly gives\r\n\r\n     // one\r\n     // three\r\n     // five\r\n     // two\r\n     // four\r\n     // six\r\n\r\nCould do it if I collected them and iterated, but was hoping for something more Java8-y, Streamy :-)\r\n\r\n**Note**\r\n\r\nI don&#39;t want to zip the streams \r\n\r\n&gt; “zip” operation will take an element from each collection and combine them.\r\n\r\nthe result of a zip operation would be something like this: (unwanted)\r\n\r\n     // onetwo\r\n     // threefour\r\n     // fivesix","title":"How to interleave (merge) two Java 8 Streams?","body":"<pre><code> Stream&lt;String&gt; a = Stream.of(\"one\", \"three\", \"five\");\n Stream&lt;String&gt; b = Stream.of(\"two\", \"four\", \"six\");\n</code></pre>\n\n<p>What do I need to do for the output to be the below?</p>\n\n<pre><code>// one\n// two\n// three\n// four\n// five\n// six\n</code></pre>\n\n<p>I looked into <code>concat</code> but as the javadoc explains, it just appends one after the other, it does not interleave / intersperse.</p>\n\n<pre><code>Stream&lt;String&gt; out = Stream.concat(a, b);\nout.forEach(System.out::println);\n</code></pre>\n\n<blockquote>\n  <p>Creates a lazily concatenated stream whose elements are all the\n       elements of the first stream followed by all the elements of the\n       second stream.</p>\n</blockquote>\n\n<p>Wrongly gives</p>\n\n<pre><code> // one\n // three\n // five\n // two\n // four\n // six\n</code></pre>\n\n<p>Could do it if I collected them and iterated, but was hoping for something more Java8-y, Streamy :-)</p>\n\n<p><strong>Note</strong></p>\n\n<p>I don't want to zip the streams </p>\n\n<blockquote>\n  <p>“zip” operation will take an element from each collection and combine them.</p>\n</blockquote>\n\n<p>the result of a zip operation would be something like this: (unwanted)</p>\n\n<pre><code> // onetwo\n // threefour\n // fivesix\n</code></pre>\n"},{"tags":["java","android","ionic-framework","certificate","digital-signature"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700210660,"post_id":77498570,"comment_id":136628745,"body_markdown":"have you read https://stackoverflow.com/q/32400689/150978?","body":"have you read <a href=\"https://stackoverflow.com/q/32400689/150978\">stackoverflow.com/q/32400689/150978</a>?"}],"owner":{"account_id":29910501,"reputation":1,"user_id":22922051,"display_name":"Jose Luis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700210780,"answer_count":0,"score":0,"last_activity_date":1700210498,"creation_date":1700177249,"question_id":77498570,"body_markdown":"      KeyChain.choosePrivateKeyAlias(this.getActivity(), new KeyChainAliasCallback() {\r\n        @Override\r\n        public void alias(String alias) {\r\n          if (alias != null) {\r\n            try {\r\n              Certificate[] certificateChain = KeyChain.getCertificateChain(getContext(), alias);\r\n              PrivateKey privateKey = KeyChain.getPrivateKey(getContext(), alias);\r\n              \r\n              Signature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n              sig.initSign(privateKey);\r\n              sig.update(hashDocument);\r\n\r\n                                                                                                    java.lang.RuntimeException: java.security.InvalidKeyException: Supplied key (android.security.keystore2.AndroidKeyStoreRSAPrivateKey) is not a RSAPrivateKey instance                                                                                                \tat com.sign.moon.TokenCertificatePlugin$2.alias(TokenCertificatePlugin.java:322)\r\n\r\nWhen I call `sig.initSign(privateKey);` I get the exception `android.security.keystore2.AndroidKeyStoreRSAPrivateKey cannot be cast to RSAPrivateKey`.\r\n\r\nSomeone has been the same? I am using a real device with a digital certificate installed\r\n\r\n`RSAPrivateKey rsaPrivateKey = (RSAPrivateKey) privateKey;`\r\ntried to instantiate but without success.\r\nIn addition to\r\n\r\n    Cipher output = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n    output.init(Cipher.DECRYPT_MODE, privateKey);","title":"android.security.keystore2.AndroidKeyStoreRSAPrivateKey cannot be cast to RSAPrivateKey","body":"<pre><code>  KeyChain.choosePrivateKeyAlias(this.getActivity(), new KeyChainAliasCallback() {\n    @Override\n    public void alias(String alias) {\n      if (alias != null) {\n        try {\n          Certificate[] certificateChain = KeyChain.getCertificateChain(getContext(), alias);\n          PrivateKey privateKey = KeyChain.getPrivateKey(getContext(), alias);\n          \n          Signature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\n          sig.initSign(privateKey);\n          sig.update(hashDocument);\n\n                                                                                                java.lang.RuntimeException: java.security.InvalidKeyException: Supplied key (android.security.keystore2.AndroidKeyStoreRSAPrivateKey) is not a RSAPrivateKey instance                                                                                                   at com.sign.moon.TokenCertificatePlugin$2.alias(TokenCertificatePlugin.java:322)\n</code></pre>\n<p>When I call <code>sig.initSign(privateKey);</code> I get the exception <code>android.security.keystore2.AndroidKeyStoreRSAPrivateKey cannot be cast to RSAPrivateKey</code>.</p>\n<p>Someone has been the same? I am using a real device with a digital certificate installed</p>\n<p><code>RSAPrivateKey rsaPrivateKey = (RSAPrivateKey) privateKey;</code>\ntried to instantiate but without success.\nIn addition to</p>\n<pre><code>Cipher output = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\noutput.init(Cipher.DECRYPT_MODE, privateKey);\n</code></pre>\n"},{"tags":["java","rest","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1700209887,"post_id":77497649,"comment_id":136628631,"body_markdown":"The usual solution is to set the parameter you want in the GUI and then make a GET request to see how it is encoded and modify that response as a template.","body":"The usual solution is to set the parameter you want in the GUI and then make a GET request to see how it is encoded and modify that response as a template."},{"owner":{"account_id":29921192,"reputation":1,"user_id":22930305,"display_name":"Luca Palmarucci"},"score":0,"creation_date":1700210948,"post_id":77497649,"comment_id":136628791,"body_markdown":"@IanTurton I&#39;ve tried as you said and got the template but doesn&#39;t working either","body":"@IanTurton I&#39;ve tried as you said and got the template but doesn&#39;t working either"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1700211837,"post_id":77497649,"comment_id":136628947,"body_markdown":"The next thing to try is using XML rather than JSON, and of that fails then raise a bug and submit a PR","body":"The next thing to try is using XML rather than JSON, and of that fails then raise a bug and submit a PR"},{"owner":{"account_id":29921192,"reputation":1,"user_id":22930305,"display_name":"Luca Palmarucci"},"score":0,"creation_date":1700213322,"post_id":77497649,"comment_id":136629171,"body_markdown":"@IanTurton With XML i have the same result","body":"@IanTurton With XML i have the same result"}],"owner":{"account_id":29921192,"reputation":1,"user_id":22930305,"display_name":"Luca Palmarucci"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700210252,"creation_date":1700164008,"question_id":77497649,"body_markdown":"i&#39;m trying to create from Geoserver Rest API a datastore (in particular a Web Feature Server store) with this request body \r\n```\r\n{\r\n    &quot;dataStore&quot;: {\r\n        &quot;name&quot;: &quot;wfsRestApi&quot;,\r\n        &quot;description&quot;: &quot;Description&#160;web&#160;feature&#160;service&#160;creatoin&#160;from&#160;api&quot;,\r\n        &quot;type&quot;: &quot;Web&#160;Feature&#160;Server&#160;(NG)&quot;,\r\n        &quot;enabled&quot;: true,\r\n        &quot;connectionParameters&quot;: {\r\n            &quot;WFSDataStoreFactory:GET_CAPABILITIES_URL&quot;: &quot;https://gs-stable.geo-solutions.it/geoserver/ows&quot;,\r\n            &quot;WFSDataStoreFactory:USERNAME&quot;: &quot;&quot;,\r\n            &quot;WFSDataStoreFactory:PASSWORD&quot;: &quot;&quot;,\r\n            //&#160;&quot;WFSDataStoreFactory:OUTPUTFORMAT&quot;:&#160;80,\r\n            &quot;WFSDataStoreFactory:ENCODING&quot;: &quot;UTF-8&quot;,\r\n            &quot;WFSDataStoreFactory:TIMEOUT&quot;: 30000,\r\n            &quot;WFSDataStoreFactory:USE_HTTP_CONNECTION_POOLING&quot;: true,\r\n            &quot;WFSDataStoreFactory:MAX_CONNECTION_POOL_SIZE&quot;: 6,\r\n            &quot;WFSDataStoreFactory:AXIS_ORDER&quot;: &quot;Compliant&quot;,\r\n            &quot;WFSDataStoreFactory:AXIS_ORDER_FILTER&quot;: &quot;Compliant&quot;,\r\n            &quot;WFSDataStoreFactory:TRY_GZIP&quot;: true,\r\n            &quot;WFSDataStoreFactory:BUFFER_SIZE&quot;: 10,\r\n            &quot;WFSDataStoreFactory:WFS_STRATEGY&quot;: &quot;auto&quot;,\r\n            &quot;WFSDataStoreFactory:FILTER_COMPLIANCE&quot;: 0,\r\n            &quot;WFSDataStoreFactory:MAXFEATURES&quot;: 0,\r\n            &quot;WFSDataStoreFactory:GML_COMPLIANCE_LEVEL&quot;: 0\r\n        },\r\n        &quot;_default&quot;: false\r\n    }\r\n}\r\n```\r\n\r\nEverything works fine (i receive the 201 created status code) but when i access to the geoserver web application and go to the detail page of the store just created, i see that the Filter Compliace property is empty (see image below)\r\n\r\n![Screenshot](https://i.stack.imgur.com/CvMJX.png)\r\n\r\nI&#39;ve tried to reverse engineering the geoserver source code but i&#39;m still figure it out. &lt;br/&gt; Another request body that i&#39;ve used (with the same result of the previous) is the sequent\r\n\r\n```\r\n{\r\n&#160;&#160;&#160; &quot;dataStore&quot;:&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;name&quot;:&#160;&quot;wfs&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;description&quot;:&#160;&quot;Description&#160;web&#160;feature&#160;service&#160;creatoin&#160;from&#160;api&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;type&quot;:&#160;&quot;Web&#160;Feature&#160;Server&#160;(NG)&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;enabled&quot;:&#160;true,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;connectionParameters&quot;:&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;entry&quot;:&#160;[\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:GET_CAPABILITIES_URL&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;&quot;https://gs-stable.geo-solutions.it/geoserver/ows&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:USERNAME&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;&quot;&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:PASSWORD&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;&quot;&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:FILTER_COMPLIANCE&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;0\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:MAXFEATURES&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;&quot;0&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:WFS_STRATEGY&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;&quot;auto&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:GML_COMPLIANCE_LEVEL&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;0\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:AXIS_ORDER&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;&quot;Compliant&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:AXIS_ORDER_FILTER&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;&quot;Compliant&quot;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:TIMEOUT&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;30000\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:BUFFER_SIZE&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;            &quot;value&quot;:&#160;10\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;key&quot;:&#160;&quot;WFSDataStoreFactory:MAX_CONNECTION_POOL_SIZE&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;value&quot;:&#160;6\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; },\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;_default&quot;:&#160;false\r\n&#160;&#160;&#160; }\r\n}\r\n```\r\n\r\nIs anyone experiencing the same behavior? &lt;br/&gt;\r\nThanks in advance","title":"Unable to set Filter Compliance property in Geoserver Datastore using REST api","body":"<p>i'm trying to create from Geoserver Rest API a datastore (in particular a Web Feature Server store) with this request body</p>\n<pre><code>{\n    &quot;dataStore&quot;: {\n        &quot;name&quot;: &quot;wfsRestApi&quot;,\n        &quot;description&quot;: &quot;Description web feature service creatoin from api&quot;,\n        &quot;type&quot;: &quot;Web Feature Server (NG)&quot;,\n        &quot;enabled&quot;: true,\n        &quot;connectionParameters&quot;: {\n            &quot;WFSDataStoreFactory:GET_CAPABILITIES_URL&quot;: &quot;https://gs-stable.geo-solutions.it/geoserver/ows&quot;,\n            &quot;WFSDataStoreFactory:USERNAME&quot;: &quot;&quot;,\n            &quot;WFSDataStoreFactory:PASSWORD&quot;: &quot;&quot;,\n            // &quot;WFSDataStoreFactory:OUTPUTFORMAT&quot;: 80,\n            &quot;WFSDataStoreFactory:ENCODING&quot;: &quot;UTF-8&quot;,\n            &quot;WFSDataStoreFactory:TIMEOUT&quot;: 30000,\n            &quot;WFSDataStoreFactory:USE_HTTP_CONNECTION_POOLING&quot;: true,\n            &quot;WFSDataStoreFactory:MAX_CONNECTION_POOL_SIZE&quot;: 6,\n            &quot;WFSDataStoreFactory:AXIS_ORDER&quot;: &quot;Compliant&quot;,\n            &quot;WFSDataStoreFactory:AXIS_ORDER_FILTER&quot;: &quot;Compliant&quot;,\n            &quot;WFSDataStoreFactory:TRY_GZIP&quot;: true,\n            &quot;WFSDataStoreFactory:BUFFER_SIZE&quot;: 10,\n            &quot;WFSDataStoreFactory:WFS_STRATEGY&quot;: &quot;auto&quot;,\n            &quot;WFSDataStoreFactory:FILTER_COMPLIANCE&quot;: 0,\n            &quot;WFSDataStoreFactory:MAXFEATURES&quot;: 0,\n            &quot;WFSDataStoreFactory:GML_COMPLIANCE_LEVEL&quot;: 0\n        },\n        &quot;_default&quot;: false\n    }\n}\n</code></pre>\n<p>Everything works fine (i receive the 201 created status code) but when i access to the geoserver web application and go to the detail page of the store just created, i see that the Filter Compliace property is empty (see image below)</p>\n<p><img src=\"https://i.stack.imgur.com/CvMJX.png\" alt=\"Screenshot\" /></p>\n<p>I've tried to reverse engineering the geoserver source code but i'm still figure it out. <br/> Another request body that i've used (with the same result of the previous) is the sequent</p>\n<pre><code>{\n    &quot;dataStore&quot;: {\n        &quot;name&quot;: &quot;wfs&quot;,\n        &quot;description&quot;: &quot;Description web feature service creatoin from api&quot;,\n        &quot;type&quot;: &quot;Web Feature Server (NG)&quot;,\n        &quot;enabled&quot;: true,\n        &quot;connectionParameters&quot;: {\n            &quot;entry&quot;: [\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:GET_CAPABILITIES_URL&quot;,\n                    &quot;value&quot;: &quot;https://gs-stable.geo-solutions.it/geoserver/ows&quot;\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:USERNAME&quot;,\n                    &quot;value&quot;: &quot;&quot;\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:PASSWORD&quot;,\n                    &quot;value&quot;: &quot;&quot;\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:FILTER_COMPLIANCE&quot;,\n                    &quot;value&quot;: 0\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:MAXFEATURES&quot;,\n                    &quot;value&quot;: &quot;0&quot;\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:WFS_STRATEGY&quot;,\n                    &quot;value&quot;: &quot;auto&quot;\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:GML_COMPLIANCE_LEVEL&quot;,\n                    &quot;value&quot;: 0\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:AXIS_ORDER&quot;,\n                    &quot;value&quot;: &quot;Compliant&quot;\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:AXIS_ORDER_FILTER&quot;,\n                    &quot;value&quot;: &quot;Compliant&quot;\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:TIMEOUT&quot;,\n                    &quot;value&quot;: 30000\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:BUFFER_SIZE&quot;,\n                    &quot;value&quot;: 10\n                },\n                {\n                    &quot;key&quot;: &quot;WFSDataStoreFactory:MAX_CONNECTION_POOL_SIZE&quot;,\n                    &quot;value&quot;: 6\n                }\n            ]\n        },\n        &quot;_default&quot;: false\n    }\n}\n</code></pre>\n<p>Is anyone experiencing the same behavior? <br/>\nThanks in advance</p>\n"},{"tags":["java","spring","maven","tomcat","sakai"],"comments":[{"owner":{"account_id":8783028,"reputation":19,"user_id":6566092,"display_name":"Spesh"},"score":0,"creation_date":1468175578,"post_id":38271007,"comment_id":64007327,"body_markdown":"Solved by following a different installation route. :)  https://github.com/csev/sakai-scripts","body":"Solved by following a different installation route. :)  <a href=\"https://github.com/csev/sakai-scripts\" rel=\"nofollow noreferrer\">github.com/csev/sakai-scripts</a>"},{"owner":{"account_id":9662,"reputation":8462,"user_id":17945,"accept_rate":36,"display_name":"reinierpost"},"score":0,"creation_date":1476490234,"post_id":38271007,"comment_id":67383106,"body_markdown":"I am still curious what caused the problem - I never had it. Tomcat newer than 8.0.32 is known to cause a problem, but not this.","body":"I am still curious what caused the problem - I never had it. Tomcat newer than 8.0.32 is known to cause a problem, but not this."}],"answers":[{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700209726,"creation_date":1700209726,"answer_id":77500230,"question_id":38271007,"body_markdown":"I encountered the same error on Sakai 23.\r\n\r\nThis error may appear if Sakai is unable to connect to the database.\r\n\r\n1. Make sure the database server can be accessed from the machine where Sakai is hosted\r\n2. Make sure database connector jar exists in `Tomcat/lib` folder. For MySql, this file can be downloaded from here: https://dev.mysql.com/downloads/connector/j/ .\r\n","title":"Sakai 11 build success Tomcat/portal not running - Catalina Exception starting filter sakai.request java.lang.NullPointerException","body":"<p>I encountered the same error on Sakai 23.</p>\n<p>This error may appear if Sakai is unable to connect to the database.</p>\n<ol>\n<li>Make sure the database server can be accessed from the machine where Sakai is hosted</li>\n<li>Make sure database connector jar exists in <code>Tomcat/lib</code> folder. For MySql, this file can be downloaded from here: <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/</a> .</li>\n</ol>\n"}],"owner":{"account_id":8783028,"reputation":19,"user_id":6566092,"display_name":"Spesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700209726,"creation_date":1467993661,"question_id":38271007,"body_markdown":"I trying to install Sakai 11 and Tomcat 8, using Maven 3.3.9 have followed https://github.com/sakaiproject/sakai\r\n\r\nSakai compiles properly both times, Tomcat starts but error occurs when I try to access http://localhost:8080/portal. Does anyone have any suggestions or past experience with this? See error logs below:\r\n\r\n    07-Jul-2016 23:23:50.411 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\r\n    07-Jul-2016 23:24:03.676 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\r\n    07-Jul-2016 23:24:04.696 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter sakai.request\r\n    java.lang.NullPointerException\r\n\tat org.sakaiproject.util.RequestFilter.init(RequestFilter.java:649)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)","title":"Sakai 11 build success Tomcat/portal not running - Catalina Exception starting filter sakai.request java.lang.NullPointerException","body":"<p>I trying to install Sakai 11 and Tomcat 8, using Maven 3.3.9 have followed <a href=\"https://github.com/sakaiproject/sakai\" rel=\"nofollow\">https://github.com/sakaiproject/sakai</a></p>\n\n<p>Sakai compiles properly both times, Tomcat starts but error occurs when I try to access <a href=\"http://localhost:8080/portal\" rel=\"nofollow\">http://localhost:8080/portal</a>. Does anyone have any suggestions or past experience with this? See error logs below:</p>\n\n<pre><code>07-Jul-2016 23:23:50.411 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\n07-Jul-2016 23:24:03.676 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\n07-Jul-2016 23:24:04.696 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter sakai.request\njava.lang.NullPointerException\nat org.sakaiproject.util.RequestFilter.init(RequestFilter.java:649)\nat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)\nat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)\n</code></pre>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":563575,"reputation":2603,"user_id":192055,"accept_rate":90,"display_name":"c0d3x"},"score":0,"creation_date":1259837963,"post_id":1839074,"comment_id":1732003,"body_markdown":"Thanks for answering. There is still a highlighting going on, when I click the button. The rest is ok. Any idea howto stop it ftom highlighting?","body":"Thanks for answering. There is still a highlighting going on, when I click the button. The rest is ok. Any idea howto stop it ftom highlighting?"},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1259840150,"post_id":1839074,"comment_id":1732195,"body_markdown":"You can probably control that by setting a custom `ButtonUI`.","body":"You can probably control that by setting a custom <code>ButtonUI</code>."}],"answers":[{"tags":[],"owner":{"account_id":23611,"reputation":36322,"user_id":59279,"accept_rate":85,"display_name":"Joonas Pulakka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259837350,"creation_date":1259837350,"answer_id":1839159,"question_id":1839074,"body_markdown":"How about\r\n\r\n    yourButton.setBorder(null);\r\n\r\n?\r\n","title":"Howto make JButton with simple flat style?","body":"<p>How about</p>\n\n<pre><code>yourButton.setBorder(null);\n</code></pre>\n\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1259837494,"creation_date":1259837494,"answer_id":1839173,"question_id":1839074,"body_markdown":"Just set the colours and the border:\r\n\r\n    private static JButton createSimpleButton(String text) {\r\n      JButton button = new JButton(text);\r\n      button.setForeground(Color.BLACK);\r\n      button.setBackground(Color.WHITE);\r\n      Border line = new LineBorder(Color.BLACK);\r\n      Border margin = new EmptyBorder(5, 15, 5, 15);\r\n      Border compound = new CompoundBorder(line, margin);\r\n      button.setBorder(compound);\r\n      return button;\r\n    }\r\n\r\nUse [`setOpaque(false);`][1] to make the background transparent.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#setOpaque(boolean)","title":"Howto make JButton with simple flat style?","body":"<p>Just set the colours and the border:</p>\n\n<pre><code>private static JButton createSimpleButton(String text) {\n  JButton button = new JButton(text);\n  button.setForeground(Color.BLACK);\n  button.setBackground(Color.WHITE);\n  Border line = new LineBorder(Color.BLACK);\n  Border margin = new EmptyBorder(5, 15, 5, 15);\n  Border compound = new CompoundBorder(line, margin);\n  button.setBorder(compound);\n  return button;\n}\n</code></pre>\n\n<p>Use <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#setOpaque(boolean)\" rel=\"noreferrer\"><code>setOpaque(false);</code></a> to make the background transparent.</p>\n"},{"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259846443,"creation_date":1259846443,"answer_id":1839826,"question_id":1839074,"body_markdown":"You may want to use a JLabel with a MouseListener instead... unless you&#39;re tied to using a JButton or ActionListener in some way.","title":"Howto make JButton with simple flat style?","body":"<p>You may want to use a JLabel with a MouseListener instead... unless you're tied to using a JButton or ActionListener in some way.</p>\n"},{"tags":[],"owner":{"account_id":2270512,"reputation":331,"user_id":1998063,"display_name":"Andr&#233; Luiz Clinio"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1700209457,"creation_date":1358794839,"answer_id":14445403,"question_id":1839074,"body_markdown":"I usually do something like this:\r\n\r\n\r\n    button.setBorderPainted(false);\r\n    button.setFocusPainted(false);\r\n    button.setContentAreaFilled(false);\r\n\r\n","title":"Howto make JButton with simple flat style?","body":"<p>I usually do something like this:</p>\n<pre><code>button.setBorderPainted(false);\nbutton.setFocusPainted(false);\nbutton.setContentAreaFilled(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370454775,"creation_date":1370439248,"answer_id":16941369,"question_id":1839074,"body_markdown":"First, set your look and feel to something cool, like &#39;metal&#39;.\r\n\r\n    try\r\n    {\r\n        for (UIManager.LookAndFeelInfo lnf : \r\n            UIManager.getInstalledLookAndFeels()) {\r\n            if (&quot;Metal&quot;.equals(lnf.getName())) {\r\n                UIManager.setLookAndFeel(lnf.getClassName());\r\n                break;\r\n            }\r\n        }\r\n    } catch (Exception e) { /* Lazy handling this &gt;.&gt; */ }\r\n\r\nThen do something like this: \r\n\r\n    my_jbutton.setBackground(new Color(240,240,241);\r\n\r\nIf the color of your button is exactly equals to swing control color (240,240,240), windows will apply windows-like button style to the button, otherwise, the button assumes a simple flat style.\r\n","title":"Howto make JButton with simple flat style?","body":"<p>First, set your look and feel to something cool, like 'metal'.</p>\n\n<pre><code>try\n{\n    for (UIManager.LookAndFeelInfo lnf : \n        UIManager.getInstalledLookAndFeels()) {\n        if (\"Metal\".equals(lnf.getName())) {\n            UIManager.setLookAndFeel(lnf.getClassName());\n            break;\n        }\n    }\n} catch (Exception e) { /* Lazy handling this &gt;.&gt; */ }\n</code></pre>\n\n<p>Then do something like this: </p>\n\n<pre><code>my_jbutton.setBackground(new Color(240,240,241);\n</code></pre>\n\n<p>If the color of your button is exactly equals to swing control color (240,240,240), windows will apply windows-like button style to the button, otherwise, the button assumes a simple flat style.</p>\n"},{"tags":[],"owner":{"account_id":20952963,"reputation":1782,"user_id":15394199,"display_name":"random_hooman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615912517,"creation_date":1615912517,"answer_id":66659459,"question_id":1839074,"body_markdown":"I think you could do it like this\r\n\r\n    JButton button = new JButton(&quot;Click Me!!&quot;);\r\n    button.setBorderPainted(false);\r\n    button.setBackground(new Color());// inside the brackets your rgb color value like 255,255,255\r\n    button.setFocusPainted(false);\r\nyou can use the color picker to get rgb code(just search color picker)","title":"Howto make JButton with simple flat style?","body":"<p>I think you could do it like this</p>\n<pre><code>JButton button = new JButton(&quot;Click Me!!&quot;);\nbutton.setBorderPainted(false);\nbutton.setBackground(new Color());// inside the brackets your rgb color value like 255,255,255\nbutton.setFocusPainted(false);\n</code></pre>\n<p>you can use the color picker to get rgb code(just search color picker)</p>\n"}],"owner":{"account_id":563575,"reputation":2603,"user_id":192055,"accept_rate":90,"display_name":"c0d3x"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70444,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":6,"score":17,"last_activity_date":1700209457,"creation_date":1259836455,"question_id":1839074,"body_markdown":"whats the most simple way to make a JButton only show the background color? I don&#39;t need any other effects like borders, 3D-look or hover-highlighting.\r\n\r\nThanks in advance.","title":"Howto make JButton with simple flat style?","body":"<p>whats the most simple way to make a JButton only show the background color? I don't need any other effects like borders, 3D-look or hover-highlighting.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700163699,"post_id":77497599,"comment_id":136624152,"body_markdown":"Unless I am missing something, you have posted the exact same two pieces of code twice. Regardless, this whole combination of a lookup followed by manually getting the bounds of the region is almost certainly the wrong approach to whatever it is you are trying to do.","body":"Unless I am missing something, you have posted the exact same two pieces of code twice. Regardless, this whole combination of a lookup followed by manually getting the bounds of the region is almost certainly the wrong approach to whatever it is you are trying to do."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700166056,"post_id":77497599,"comment_id":136624490,"body_markdown":"Calling `show()` the first time on the stage applies CSS and generates a layout pass, which sets the sizes for all nodes.  If you want to manually apply CSS and generate a layout pass, then see the information in the duplicate on how to do that.","body":"Calling <code>show()</code> the first time on the stage applies CSS and generates a layout pass, which sets the sizes for all nodes.  If you want to manually apply CSS and generate a layout pass, then see the information in the duplicate on how to do that."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700168106,"post_id":77497599,"comment_id":136624804,"body_markdown":"Note that the duplicate shows how to do what you are literally asking for, but it is almost certainly not the correct thing to be doing in the first place. Why do you need the bounds of the plot area? If you are adding nodes to the plot area or positioning nodes within it, the supported approach is to subclass `LineChart` and override `layoutPlotChildren()`. You can use, e.g. `getDisplayPosition()` on the axes to find the appropriate layout position for nodes relative to the axis values. This just seems like an [XY problem](https://meta.stackexchange.com/q/66377)","body":"Note that the duplicate shows how to do what you are literally asking for, but it is almost certainly not the correct thing to be doing in the first place. Why do you need the bounds of the plot area? If you are adding nodes to the plot area or positioning nodes within it, the supported approach is to subclass <code>LineChart</code> and override <code>layoutPlotChildren()</code>. You can use, e.g. <code>getDisplayPosition()</code> on the axes to find the appropriate layout position for nodes relative to the axis values. This just seems like an <a href=\"https://meta.stackexchange.com/q/66377\">XY problem</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700168382,"post_id":77497599,"comment_id":136624841,"body_markdown":"See https://stackoverflow.com/a/38885893/2189127, which may be a better approach to whatever it is you are actually trying to do.","body":"See <a href=\"https://stackoverflow.com/a/38885893/2189127\">stackoverflow.com/a/38885893/2189127</a>, which may be a better approach to whatever it is you are actually trying to do."},{"owner":{"account_id":12602332,"reputation":478,"user_id":10146626,"display_name":"Mostafa Ayaz"},"score":0,"creation_date":1700209132,"post_id":77497599,"comment_id":136628545,"body_markdown":"@James_D, my apologies. I noticed that I had copied the same code snippet for both Code 1 and Code 2. The reason I need the bounds of the plot area is part of a problem that **how to find the relative positions of a chart&#39;s components (e.g. plot area, x axis, y axis, tick marks, tick labels, etc.) w.r.t. the bounds of the chart itself?**. For example, I would like to know if it is possible to compute the size and position of the plot area (or x axis) w.r.t. the chart bounds.","body":"@James_D, my apologies. I noticed that I had copied the same code snippet for both Code 1 and Code 2. The reason I need the bounds of the plot area is part of a problem that <b>how to find the relative positions of a chart&#39;s components (e.g. plot area, x axis, y axis, tick marks, tick labels, etc.) w.r.t. the bounds of the chart itself?</b>. For example, I would like to know if it is possible to compute the size and position of the plot area (or x axis) w.r.t. the chart bounds."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700210090,"post_id":77497599,"comment_id":136628658,"body_markdown":"@MostafaAyaz I suggest asking a new question, that actually asks how to do what you actually trying to achieve.","body":"@MostafaAyaz I suggest asking a new question, that actually asks how to do what you actually trying to achieve."},{"owner":{"account_id":12602332,"reputation":478,"user_id":10146626,"display_name":"Mostafa Ayaz"},"score":0,"creation_date":1700210895,"post_id":77497599,"comment_id":136628777,"body_markdown":"@jewelsea, thanks for the feedback. I will reformat my question on another post.","body":"@jewelsea, thanks for the feedback. I will reformat my question on another post."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700165695,"creation_date":1700165695,"answer_id":77497797,"question_id":77497599,"body_markdown":"I don&#39;t know if I truly understand the issue correctly, but if I do, I would use `setOnMouseEntered` or something similar.\r\n\r\nExample: \r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.chart.LineChart;\r\nimport javafx.scene.chart.NumberAxis;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.Region;\r\nimport javafx.stage.Stage;\r\npublic class App extends Application {\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        AnchorPane anchorPane=new AnchorPane();\r\n\r\n        Scene scene=new Scene(anchorPane,600,400);\r\n\r\n        stage.setScene(scene);\r\n\r\n        LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\r\n        anchorPane.getChildren().add(lineChart);\r\n        lineChart.setOnMouseEntered((event) -&gt; {\r\n            Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\r\n           \r\n            System.out.println(region.getBoundsInParent());\r\n        });\r\n        \r\n        stage.show();\r\n    }\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n","title":"stage.show() command changes value of Bounds","body":"<p>I don't know if I truly understand the issue correctly, but if I do, I would use <code>setOnMouseEntered</code> or something similar.</p>\n<p>Example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Stage;\npublic class App extends Application {\n    @Override\n    public void start(Stage stage) {\n\n        AnchorPane anchorPane=new AnchorPane();\n\n        Scene scene=new Scene(anchorPane,600,400);\n\n        stage.setScene(scene);\n\n        LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\n        anchorPane.getChildren().add(lineChart);\n        lineChart.setOnMouseEntered((event) -&gt; {\n            Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\n           \n            System.out.println(region.getBoundsInParent());\n        });\n        \n        stage.show();\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12602332,"reputation":478,"user_id":10146626,"display_name":"Mostafa Ayaz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700165933,"answer_count":1,"score":-1,"last_activity_date":1700208204,"creation_date":1700163443,"question_id":77497599,"body_markdown":"I&#39;m writing an application with JavaFX. I want to be able to add `Chart`s to a `Scene` during running the application and work with the `Bounds` of their `.chart-plot-background` child.\r\n\r\nConsider the following two code snippets with their outputs:\r\n\r\n**Code 1**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.stage.Stage;\r\n    public class Test8 extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            AnchorPane anchorPane=new AnchorPane();\r\n    \r\n            Scene scene=new Scene(anchorPane,600,400);\r\n    \r\n            stage.setScene(scene);\r\n    \r\n            stage.show();\r\n    \r\n            LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\r\n    \r\n            Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\r\n    \r\n            anchorPane.getChildren().add(lineChart);\r\n    \r\n            System.out.println(region.getBoundsInParent());\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\noutput: `BoundingBox [minX:0.0, minY:0.0, minZ:0.0, width:0.0, height:0.0, depth:0.0, maxX:0.0, maxY:0.0, maxZ:0.0]`\r\n\r\n**Code 2**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.stage.Stage;\r\n    public class Test8 extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            AnchorPane anchorPane=new AnchorPane();\r\n    \r\n            Scene scene=new Scene(anchorPane,600,400);\r\n    \r\n            stage.setScene(scene);\r\n    \r\n            LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\r\n    \r\n            Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\r\n    \r\n            anchorPane.getChildren().add(lineChart);\r\n\r\n            stage.show();\r\n    \r\n            System.out.println(region.getBoundsInParent());\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\noutput: `BoundingBox [minX:38.0, minY:10.0, minZ:0.0, width:443.0, height:346.0, depth:0.0, maxX:481.0, maxY:356.0, maxZ:0.0]`\r\n\r\nThe only difference between the two snippets is the position of `stage.show()` command.\r\n\r\n**Question**\r\n\r\nHow should I fix *Code 1* such that when a child is added to `anchorPane` *after executing* `stage.show()`, the command `region.getBoundsInParent()` outputs valid results?","title":"stage.show() command changes value of Bounds","body":"<p>I'm writing an application with JavaFX. I want to be able to add <code>Chart</code>s to a <code>Scene</code> during running the application and work with the <code>Bounds</code> of their <code>.chart-plot-background</code> child.</p>\n<p>Consider the following two code snippets with their outputs:</p>\n<p><strong>Code 1</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Stage;\npublic class Test8 extends Application {\n    @Override\n    public void start(Stage stage) {\n\n        AnchorPane anchorPane=new AnchorPane();\n\n        Scene scene=new Scene(anchorPane,600,400);\n\n        stage.setScene(scene);\n\n        stage.show();\n\n        LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\n\n        Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\n\n        anchorPane.getChildren().add(lineChart);\n\n        System.out.println(region.getBoundsInParent());\n\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n\n\n}\n</code></pre>\n<p>output: <code>BoundingBox [minX:0.0, minY:0.0, minZ:0.0, width:0.0, height:0.0, depth:0.0, maxX:0.0, maxY:0.0, maxZ:0.0]</code></p>\n<p><strong>Code 2</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Stage;\npublic class Test8 extends Application {\n    @Override\n    public void start(Stage stage) {\n\n        AnchorPane anchorPane=new AnchorPane();\n\n        Scene scene=new Scene(anchorPane,600,400);\n\n        stage.setScene(scene);\n\n        LineChart&lt;Number,Number&gt; lineChart=new LineChart&lt;&gt;(new NumberAxis(),new NumberAxis());\n\n        Region region= (Region) lineChart.lookup(&quot;.chart-plot-background&quot;);\n\n        anchorPane.getChildren().add(lineChart);\n\n        stage.show();\n\n        System.out.println(region.getBoundsInParent());\n\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n\n\n}\n</code></pre>\n<p>output: <code>BoundingBox [minX:38.0, minY:10.0, minZ:0.0, width:443.0, height:346.0, depth:0.0, maxX:481.0, maxY:356.0, maxZ:0.0]</code></p>\n<p>The only difference between the two snippets is the position of <code>stage.show()</code> command.</p>\n<p><strong>Question</strong></p>\n<p>How should I fix <em>Code 1</em> such that when a child is added to <code>anchorPane</code> <em>after executing</em> <code>stage.show()</code>, the command <code>region.getBoundsInParent()</code> outputs valid results?</p>\n"},{"tags":["java","servlets","httpresponse","request-headers","response.redirect"],"comments":[{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1700208863,"post_id":77500072,"comment_id":136628514,"body_markdown":"Please try `response.setHeader(&quot;X-Forwarded-Proto&quot;, &quot;https&quot;);\nrequest.getRequestDispatcher(EXTERNAL_URL).forward(request, response);`","body":"Please try <code>response.setHeader(&quot;X-Forwarded-Proto&quot;, &quot;https&quot;); request.getRequestDispatcher(EXTERNAL_URL).forward(request, response);</code>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700214010,"post_id":77500072,"comment_id":136629272,"body_markdown":"@SudhirOjha that doesn&#39;t work because the redirect needs to be to an external domain.","body":"@SudhirOjha that doesn&#39;t work because the redirect needs to be to an external domain."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700214090,"post_id":77500072,"comment_id":136629295,"body_markdown":"I don&#39;t think this is possible. The redirect with the header is sent to the browser. The browser then performs the redirect, but it will not send the header as part of the redirect. There&#39;s nothing you can do about that.","body":"I don&#39;t think this is possible. The redirect with the header is sent to the browser. The browser then performs the redirect, but it will not send the header as part of the redirect. There&#39;s nothing you can do about that."}],"owner":{"account_id":24851196,"reputation":31,"user_id":18728111,"display_name":"Tanuj Kathuria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700207792,"creation_date":1700207792,"question_id":77500072,"body_markdown":"I have a java based struts application &amp; need to redirect from a java class to an external domain. So, I am redirecting as below, which works fine. \r\n```\r\nhttpServletResponse.sendRedirect(EXTERNAL_URL);\r\n```\r\n\r\nThe problem is that the external domain is connected via load balancer &amp; it reads the protocol as null for EXTERNAL_URL. So, it expects the Request Header to explicitly contain below header. \r\n```\r\n&quot;X-Forwarded-Proto&quot;: &quot;https&quot;\r\n```\r\n\r\nSo, Before redirection, I have set response header as below:\r\n```\r\nresponse.setHeader(&quot;X-Forwarded-Proto&quot;, &quot;https&quot;);\r\nresponse.sendRedirect(EXTERNAL_URL);\r\n```\r\nHowever, even after setting header in httpServletResponse, this header is not received at the load balancer. \r\n\r\nIs there any alternate way to setHeader &amp; then redirect? ","title":"HTTPServletResponse - How to Set Header before redirect?","body":"<p>I have a java based struts application &amp; need to redirect from a java class to an external domain. So, I am redirecting as below, which works fine.</p>\n<pre><code>httpServletResponse.sendRedirect(EXTERNAL_URL);\n</code></pre>\n<p>The problem is that the external domain is connected via load balancer &amp; it reads the protocol as null for EXTERNAL_URL. So, it expects the Request Header to explicitly contain below header.</p>\n<pre><code>&quot;X-Forwarded-Proto&quot;: &quot;https&quot;\n</code></pre>\n<p>So, Before redirection, I have set response header as below:</p>\n<pre><code>response.setHeader(&quot;X-Forwarded-Proto&quot;, &quot;https&quot;);\nresponse.sendRedirect(EXTERNAL_URL);\n</code></pre>\n<p>However, even after setting header in httpServletResponse, this header is not received at the load balancer.</p>\n<p>Is there any alternate way to setHeader &amp; then redirect?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1545625174,"creation_date":1545623558,"answer_id":53909023,"question_id":53909019,"body_markdown":"You need to use [`Arrays.stream()`][1]:\n\n    Arrays.stream(arr).filter(i -&gt; i % 2 != 0).findFirst().getAsInt();\nWhich:\n\n&gt;Returns a sequential `IntStream` with the specified array as its source.\n\nAs of now you are using the overloaded method [`Stream.of(T t)`][2] which simply:\n\n&gt;Returns a sequential `Stream` containing a single element.\n\nSo it will only be a `Stream` of the single `int[]`\n\n-----\n\nAlso as nullpointer noted, calling `get()` without ensuring there is in fact an odd number in the `Array` will cause an error. It is best to use `orElse()` to return a default value if no odd number is present \n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T-","title":"Finding an odd number from int[] array using Stream","body":"<p>You need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\" rel=\"noreferrer\"><code>Arrays.stream()</code></a>:</p>\n<pre><code>Arrays.stream(arr).filter(i -&gt; i % 2 != 0).findFirst().getAsInt();\n</code></pre>\n<p>Which:</p>\n<blockquote>\n<p>Returns a sequential <code>IntStream</code> with the specified array as its source.</p>\n</blockquote>\n<p>As of now you are using the overloaded method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T-\" rel=\"noreferrer\"><code>Stream.of(T t)</code></a> which simply:</p>\n<blockquote>\n<p>Returns a sequential <code>Stream</code> containing a single element.</p>\n</blockquote>\n<p>So it will only be a <code>Stream</code> of the single <code>int[]</code></p>\n<hr />\n<p>Also as nullpointer noted, calling <code>get()</code> without ensuring there is in fact an odd number in the <code>Array</code> will cause an error. It is best to use <code>orElse()</code> to return a default value if no odd number is present</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545633770,"creation_date":1545623580,"answer_id":53909024,"question_id":53909019,"body_markdown":"You&#39;re trying to access `int[]` and not `int`eger inside your `filter`. One way to resolve that would be to use `IntStream` with the help of [`flatMapToInt`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#flatMapToInt(java.util.function.Function)) as:\r\n\r\n\r\n    int oddOrMin = Stream.of(arr) // Stream&lt;int[]&gt; and not integers\r\n                         .flatMapToInt(Arrays::stream) // IntStream\r\n                         .filter(i -&gt; i % 2 != 0)\r\n                         .findFirst() // OptionalInt\r\n                         .orElse(Integer.MIN_VALUE); //default to some value","title":"Finding an odd number from int[] array using Stream","body":"<p>You're trying to access <code>int[]</code> and not <code>int</code>eger inside your <code>filter</code>. One way to resolve that would be to use <code>IntStream</code> with the help of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#flatMapToInt(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMapToInt</code></a> as:</p>\n\n<pre><code>int oddOrMin = Stream.of(arr) // Stream&lt;int[]&gt; and not integers\n                     .flatMapToInt(Arrays::stream) // IntStream\n                     .filter(i -&gt; i % 2 != 0)\n                     .findFirst() // OptionalInt\n                     .orElse(Integer.MIN_VALUE); //default to some value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545629423,"creation_date":1545629423,"answer_id":53909485,"question_id":53909019,"body_markdown":"Simply you can also use `IntStream` to stream `int[]`\r\n\r\n    int[] arr = new int[]{2, 4, 6, 8, 9, 12};\r\n\tint result = IntStream.of(arr).filter(i-&gt;i%2 !=0).findFirst().getAsInt();\r\n\tSystem.out.println(result); //9\r\n\r\nIf you don&#39;t have any odd numbers then `public int getAsInt()` throws `NoSuchElementException.`\r\n\r\n&gt;If a value is present in this OptionalInt, returns the value, otherwise throws NoSuchElementException.\r\n\r\nSo as `@nullpointer` suggestion always recommended to use `orElse(int other)`\r\n\r\n&gt;public int orElse(int other)","title":"Finding an odd number from int[] array using Stream","body":"<p>Simply you can also use <code>IntStream</code> to stream <code>int[]</code></p>\n\n<pre><code>int[] arr = new int[]{2, 4, 6, 8, 9, 12};\nint result = IntStream.of(arr).filter(i-&gt;i%2 !=0).findFirst().getAsInt();\nSystem.out.println(result); //9\n</code></pre>\n\n<p>If you don't have any odd numbers then <code>public int getAsInt()</code> throws <code>NoSuchElementException.</code></p>\n\n<blockquote>\n  <p>If a value is present in this OptionalInt, returns the value, otherwise throws NoSuchElementException.</p>\n</blockquote>\n\n<p>So as <code>@nullpointer</code> suggestion always recommended to use <code>orElse(int other)</code></p>\n\n<blockquote>\n  <p>public int orElse(int other)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545881750,"creation_date":1545630540,"answer_id":53909641,"question_id":53909019,"body_markdown":"Varargs are tricky. The signature of `Stream.of()` is `Stream.of(T ...arg)`.\r\nWhere T can be any class. But you are passing an array of native `int` which does not work. Instead it thinks the whole array is one object. \r\nProblem arises when you use an array of native types.\r\nYour code gives a stream of just one element of type `int[]`.\r\nYou could rather use :\r\n\r\n    Integer[] arr = new Integer[]{2, 4, 6, 8, 9, 12};\r\n\r\nYou can simply use this or use `Arrays.stream(arr)` as others have suggested.","title":"Finding an odd number from int[] array using Stream","body":"<p>Varargs are tricky. The signature of <code>Stream.of()</code> is <code>Stream.of(T ...arg)</code>.\nWhere T can be any class. But you are passing an array of native <code>int</code> which does not work. Instead it thinks the whole array is one object. \nProblem arises when you use an array of native types.\nYour code gives a stream of just one element of type <code>int[]</code>.\nYou could rather use :</p>\n\n<pre><code>Integer[] arr = new Integer[]{2, 4, 6, 8, 9, 12};\n</code></pre>\n\n<p>You can simply use this or use <code>Arrays.stream(arr)</code> as others have suggested.</p>\n"},{"tags":[],"owner":{"account_id":29898030,"reputation":1,"user_id":22912403,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700207220,"creation_date":1699946955,"answer_id":77478833,"question_id":53909019,"body_markdown":"\r\n\r\n    public class EvenNumberSum {\r\n    \r\n        public static int sumEvenNumbers(int[] array) {\r\n            return Arrays.stream(array)\r\n                         .filter(num -&gt; num % 2 == 0)\r\n                         .sum();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int[] numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n            int result = sumEvenNumbers(numbers);\r\n            System.out.println(&quot;Sum of even numbers: &quot; + result);\r\n        }\r\n    //This can be used to sum odd numbers\r\n    public class EvenNumberSum {\r\n    \r\n        public static int sumEvenNumbers(int[] array) {\r\n            return Arrays.stream(array)\r\n                         .filter(num -&gt; num % 2 != 0)\r\n                         .sum();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int[] numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n            int result = sumEvenNumbers(numbers);\r\n            System.out.println(&quot;Sum of even numbers: &quot; + result);\r\n        }\r\n    //This can be used to sum even numbers","title":"Finding an odd number from int[] array using Stream","body":"<pre><code>public class EvenNumberSum {\n\n    public static int sumEvenNumbers(int[] array) {\n        return Arrays.stream(array)\n                     .filter(num -&gt; num % 2 == 0)\n                     .sum();\n    }\n\n    public static void main(String[] args) {\n        int[] numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        int result = sumEvenNumbers(numbers);\n        System.out.println(&quot;Sum of even numbers: &quot; + result);\n    }\n//This can be used to sum odd numbers\npublic class EvenNumberSum {\n\n    public static int sumEvenNumbers(int[] array) {\n        return Arrays.stream(array)\n                     .filter(num -&gt; num % 2 != 0)\n                     .sum();\n    }\n\n    public static void main(String[] args) {\n        int[] numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        int result = sumEvenNumbers(numbers);\n        System.out.println(&quot;Sum of even numbers: &quot; + result);\n    }\n//This can be used to sum even numbers\n</code></pre>\n"}],"owner":{"display_name":"user10824969"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7436,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":53909023,"answer_count":5,"score":4,"last_activity_date":1700207220,"creation_date":1545623502,"question_id":53909019,"body_markdown":"I created  an array and trying to use streams for finding the first odd number as follows: \r\n\r\n    int[] arr = new int[]{2, 4, 6, 8, 9, 12};\r\n    int oddOne = Stream.of(arr).filter(i -&gt; i % 2 != 0).findFirst().get();\r\n                                       // fails above\r\n\r\n&gt; `Error: |  incompatible types: int[] cannot be converted to int`\r\n\r\nWhat am I doing wrong? How do I fix this?","title":"Finding an odd number from int[] array using Stream","body":"<p>I created  an array and trying to use streams for finding the first odd number as follows: </p>\n\n<pre><code>int[] arr = new int[]{2, 4, 6, 8, 9, 12};\nint oddOne = Stream.of(arr).filter(i -&gt; i % 2 != 0).findFirst().get();\n                                   // fails above\n</code></pre>\n\n<blockquote>\n  <p><code>Error: |  incompatible types: int[] cannot be converted to int</code></p>\n</blockquote>\n\n<p>What am I doing wrong? How do I fix this?</p>\n"},{"tags":["java","intellij-idea","jvm"],"comments":[{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1698932712,"post_id":77410084,"comment_id":136469010,"body_markdown":"Maybe dividing this application into modules in IntelliJ can help.  I can imagine scheduler, receiver, and common modules.  If you have all the code in a single project it will be easier to partition it.  Are the package names the same for the common classes?  That would help a lot.","body":"Maybe dividing this application into modules in IntelliJ can help.  I can imagine scheduler, receiver, and common modules.  If you have all the code in a single project it will be easier to partition it.  Are the package names the same for the common classes?  That would help a lot."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1698932866,"post_id":77410084,"comment_id":136469050,"body_markdown":"Here&#39;s one option: https://www.ej-technologies.com/products/jprofiler/overview.html","body":"Here&#39;s one option: <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">ej-technologies.com/products/jprofiler/overview.html</a>"},{"owner":{"account_id":16911449,"reputation":21,"user_id":12230385,"display_name":"Joshini M.N"},"score":0,"creation_date":1698933327,"post_id":77410084,"comment_id":136469158,"body_markdown":"The common classes are util classes which have methods used by both scheduler and delivery app. And I am not very aware about all the common classes used. I see some util classes in same package, but I need find a way to figure out the classes used by both apps","body":"The common classes are util classes which have methods used by both scheduler and delivery app. And I am not very aware about all the common classes used. I see some util classes in same package, but I need find a way to figure out the classes used by both apps"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698934072,"post_id":77410084,"comment_id":136469324,"body_markdown":"You could trace the classloading with `-verbose:class`, e.g. see [Get a list of all classes loaded in the JVM](https://stackoverflow.com/questions/2548384/java-get-a-list-of-all-classes-loaded-in-the-jvm), but this will only report classes actually loaded, so you will need to be sure you exercised all functionality of the program. You will need to filter the output to only get your classes.","body":"You could trace the classloading with <code>-verbose:class</code>, e.g. see <a href=\"https://stackoverflow.com/questions/2548384/java-get-a-list-of-all-classes-loaded-in-the-jvm\">Get a list of all classes loaded in the JVM</a>, but this will only report classes actually loaded, so you will need to be sure you exercised all functionality of the program. You will need to filter the output to only get your classes."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1698934605,"post_id":77410084,"comment_id":136469440,"body_markdown":"If you have IntelliJ ultimate - right click on a class, and select [Diagrams](https://www.jetbrains.com/help/idea/class-diagram.html#manage_class_diagram).  Maybe there is a free IntelliJ plugin for Community version.  Eclipse IDE might have something similar.","body":"If you have IntelliJ ultimate - right click on a class, and select <a href=\"https://www.jetbrains.com/help/idea/class-diagram.html#manage_class_diagram\" rel=\"nofollow noreferrer\">Diagrams</a>.  Maybe there is a free IntelliJ plugin for Community version.  Eclipse IDE might have something similar."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1698936368,"post_id":77410084,"comment_id":136469857,"body_markdown":"Perhaps [jdeps](https://docs.oracle.com/en/java/javase/21/docs/specs/man/jdeps.html) is what you&#39;re looking for?","body":"Perhaps <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jdeps.html\" rel=\"nofollow noreferrer\">jdeps</a> is what you&#39;re looking for?"}],"answers":[{"tags":[],"owner":{"account_id":16911449,"reputation":21,"user_id":12230385,"display_name":"Joshini M.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700207002,"creation_date":1700207002,"answer_id":77500000,"question_id":77410084,"body_markdown":"Thanks for all the suggestions. Since both my apps were tightly coupled, though I tried, it was difficult for me to use automated tools. So I started by creating 3 projects. Then focused on common util project, moved all classes and packages which were *Util. With this half of my project was sorted. Then I separated out scheduler and receiver app classes according to compile errors I got.\r\nIt was manual and time taking process, but I could sort out with better confidence. Thanks.","title":"Find all Java classes used by an application","body":"<p>Thanks for all the suggestions. Since both my apps were tightly coupled, though I tried, it was difficult for me to use automated tools. So I started by creating 3 projects. Then focused on common util project, moved all classes and packages which were *Util. With this half of my project was sorted. Then I separated out scheduler and receiver app classes according to compile errors I got.\nIt was manual and time taking process, but I could sort out with better confidence. Thanks.</p>\n"}],"owner":{"account_id":16911449,"reputation":21,"user_id":12230385,"display_name":"Joshini M.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700207002,"creation_date":1698932513,"question_id":77410084,"body_markdown":"I have a Java application which holds two applications (a scheduler app and a receiver app). Since both have many common classes, we&#39;ve developed this into a single app earlier. Each has different main classes with which we start the application. We now want to separate out the scheduler app classes and receiver app classes into two different applications. \r\n\r\nHow can I find and separate all the classes that are used by each apps to run? \r\n\r\nI tried running javac SchedulerMain.java to see the classes loaded in the target folder to check all classes used. But is this the right approach? Is there another way or tool with which I can find the flow of classes from start of a main class?","title":"Find all Java classes used by an application","body":"<p>I have a Java application which holds two applications (a scheduler app and a receiver app). Since both have many common classes, we've developed this into a single app earlier. Each has different main classes with which we start the application. We now want to separate out the scheduler app classes and receiver app classes into two different applications.</p>\n<p>How can I find and separate all the classes that are used by each apps to run?</p>\n<p>I tried running javac SchedulerMain.java to see the classes loaded in the target folder to check all classes used. But is this the right approach? Is there another way or tool with which I can find the flow of classes from start of a main class?</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":130090,"reputation":1469,"user_id":329091,"accept_rate":41,"display_name":"mehdi shahdoost"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1296387449,"creation_date":1296387449,"answer_id":4842664,"question_id":4842648,"body_markdown":"you must right click on your project in Project window [ctrl + 1] and choose rename option for\r\n\r\nrenaming your project name.","title":"Netbeans: how do I change the name of a project?","body":"<p>you must right click on your project in Project window [ctrl + 1] and choose rename option for</p>\n\n<p>renaming your project name.</p>\n"},{"tags":[],"owner":{"account_id":59686,"reputation":995,"user_id":178516,"display_name":"shaolang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296387687,"creation_date":1296387687,"answer_id":4842681,"question_id":4842648,"body_markdown":"If your project is Maven based, you can either add/update the application name in pom.xml (found in Project Files folder) or go to File &gt;&gt; Project Properties and add/update the application name.","title":"Netbeans: how do I change the name of a project?","body":"<p>If your project is Maven based, you can either add/update the application name in pom.xml (found in Project Files folder) or go to File >> Project Properties and add/update the application name.</p>\n"},{"tags":[],"owner":{"account_id":130090,"reputation":1469,"user_id":329091,"accept_rate":41,"display_name":"mehdi shahdoost"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1296394640,"creation_date":1296394640,"answer_id":4843202,"question_id":4842648,"body_markdown":"if your project is mobile Project you must right click on project name , select properties options and then on Application Descriptor edit MIDlet-name value.\r\n\r\n![Application Descriptor ScreenShot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5IjVM.jpg","title":"Netbeans: how do I change the name of a project?","body":"<p>if your project is mobile Project you must right click on project name , select properties options and then on Application Descriptor edit MIDlet-name value.</p>\n\n<p><img src=\"https://i.stack.imgur.com/5IjVM.jpg\" alt=\"Application Descriptor ScreenShot\"></p>\n"},{"tags":[],"owner":{"account_id":2797557,"reputation":1,"user_id":2406497,"display_name":"Rio Lusadin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370437133,"creation_date":1370437133,"answer_id":16940643,"question_id":4842648,"body_markdown":"open project.properties in dir nbproject\r\nlook up to manifest.midlets and change the name after MIDlet","title":"Netbeans: how do I change the name of a project?","body":"<p>open project.properties in dir nbproject\nlook up to manifest.midlets and change the name after MIDlet</p>\n"},{"tags":[],"owner":{"account_id":5733285,"reputation":21,"user_id":4528184,"display_name":"gjore.NET"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423046405,"creation_date":1423046405,"answer_id":28319264,"question_id":4842648,"body_markdown":"Open &quot;project.xml&quot; file under nbproject folder inside the project folder of the one you want to change the name.\r\nit is in the tag `&lt;name&gt;`.\r\n\r\nJust change it and that is it.","title":"Netbeans: how do I change the name of a project?","body":"<p>Open \"project.xml\" file under nbproject folder inside the project folder of the one you want to change the name.\nit is in the tag <code>&lt;name&gt;</code>.</p>\n\n<p>Just change it and that is it.</p>\n"},{"tags":[],"owner":{"account_id":9621698,"reputation":31,"user_id":7142716,"display_name":"Tugi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478800103,"creation_date":1478800103,"answer_id":40533985,"question_id":4842648,"body_markdown":"If you use gradle:\r\nBuildScripts/Project/settings.gradle\r\n\r\n    rootProject.name = &#39;yourprojectname&#39;\r\n\r\n\r\n","title":"Netbeans: how do I change the name of a project?","body":"<p>If you use gradle:\nBuildScripts/Project/settings.gradle</p>\n\n<pre><code>rootProject.name = 'yourprojectname'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520067559,"creation_date":1520067559,"answer_id":49082458,"question_id":4842648,"body_markdown":"Rightclick on the project node and select rename.\r\nIf you want the folder of the project also to have the new name or whatever that wasnt renamd then :            \r\n1.*in build.xml in text editor find old name and replace with new one. Its place is: C:\\NBProjectsFolder\\OldName\\build.xml  Save that.*                                        \r\n2. *Remove all cash situated in , e.g.: C:\\NBProjectsFolder\\OldName\\build\\gwt-unitCache.*                                                                        \r\n *3. Find in C:\\NBProjectsFolder\\OldName\\nbproject\\private private.xml file and edit it in a text redactor by renaming old name within the file. Save that.*\r\n                                                                                \r\n  Do all the changes   when the Netbeans was closed.\r\nAfter opening the Ntbeans it may ask to reimport the project and all files you changed will be recognized/recreated automatically","title":"Netbeans: how do I change the name of a project?","body":"<p>Rightclick on the project node and select rename.\nIf you want the folder of the project also to have the new name or whatever that wasnt renamd then :<br>\n1.<em>in build.xml in text editor find old name and replace with new one. Its place is: C:\\NBProjectsFolder\\OldName\\build.xml  Save that.</em><br>\n2. <em>Remove all cash situated in , e.g.: C:\\NBProjectsFolder\\OldName\\build\\gwt-unitCache.</em><br>\n <em>3. Find in C:\\NBProjectsFolder\\OldName\\nbproject\\private private.xml file and edit it in a text redactor by renaming old name within the file. Save that.</em></p>\n\n<p>Do all the changes   when the Netbeans was closed.\nAfter opening the Ntbeans it may ask to reimport the project and all files you changed will be recognized/recreated automatically</p>\n"},{"tags":[],"owner":{"account_id":9420268,"reputation":621,"user_id":7006876,"accept_rate":29,"display_name":"Ben Kao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700206718,"creation_date":1695403133,"answer_id":77159584,"question_id":4842648,"body_markdown":"This is for Netbeans 14.\r\n\r\nFrom experience, there are 3 things you need to do:\r\n\r\n 1. In project window, right-click on project then select &quot;Rename&quot;.\r\n 2. Right-click on package then select &quot;Refactor&quot; -&gt; &quot;Rename&quot;.\r\n 3. Right-click on main class then select &quot;Refactor&quot; -&gt; &quot;Rename&quot;.\r\n\r\nFor 1: apply changes to &quot;Change Display Name&quot;, &quot;Change ArtifactID&quot;, &quot;Rename Folder&quot;.\r\n\r\n - Also, be careful not to do stuff that prevents renaming of folder. For example, don&#39;t have folder open in Windows Explorer to be safe.\r\n\r\nFor 2 and 3: tick &quot;Apply Rename on Comments&quot; as well if you want comments to be renamed.\r\n\r\nAlso, some loose ends that may need to be tied up:\r\n\r\n 1. Inside pom.xml file: rename projects/groupID value.\r\n 2. And rename project/properties/exec.mainClass value.","title":"Netbeans: how do I change the name of a project?","body":"<p>This is for Netbeans 14.</p>\n<p>From experience, there are 3 things you need to do:</p>\n<ol>\n<li>In project window, right-click on project then select &quot;Rename&quot;.</li>\n<li>Right-click on package then select &quot;Refactor&quot; -&gt; &quot;Rename&quot;.</li>\n<li>Right-click on main class then select &quot;Refactor&quot; -&gt; &quot;Rename&quot;.</li>\n</ol>\n<p>For 1: apply changes to &quot;Change Display Name&quot;, &quot;Change ArtifactID&quot;, &quot;Rename Folder&quot;.</p>\n<ul>\n<li>Also, be careful not to do stuff that prevents renaming of folder. For example, don't have folder open in Windows Explorer to be safe.</li>\n</ul>\n<p>For 2 and 3: tick &quot;Apply Rename on Comments&quot; as well if you want comments to be renamed.</p>\n<p>Also, some loose ends that may need to be tied up:</p>\n<ol>\n<li>Inside pom.xml file: rename projects/groupID value.</li>\n<li>And rename project/properties/exec.mainClass value.</li>\n</ol>\n"}],"owner":{"account_id":292050,"reputation":681,"user_id":594568,"display_name":"user594568"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33890,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":8,"score":19,"last_activity_date":1700206718,"creation_date":1296387074,"question_id":4842648,"body_markdown":"I need to change the name of my application, so people who download and install it can see the name but I don&#39;t know where to do it.\r\n\r\nWhat file do I need to edit?","title":"Netbeans: how do I change the name of a project?","body":"<p>I need to change the name of my application, so people who download and install it can see the name but I don't know where to do it.</p>\n\n<p>What file do I need to edit?</p>\n"},{"tags":["java","xmlgregoriancalendar"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699999113,"post_id":77484056,"comment_id":136600544,"body_markdown":"What&#39;s the problem with the first approach? It doesn&#39;t get more easy than that?","body":"What&#39;s the problem with the first approach? It doesn&#39;t get more easy than that?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700006637,"post_id":77484056,"comment_id":136601410,"body_markdown":"What *exactly* does `request.getDate()` return? Is that an `XMLGregorianCalendar` object?","body":"What <i>exactly</i> does <code>request.getDate()</code> return? Is that an <code>XMLGregorianCalendar</code> object?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700008020,"post_id":77484056,"comment_id":136601556,"body_markdown":"Why the focus on `Timestamp`? Are you trying to write this to a database? If so, say so, as that affects the Answers.","body":"Why the focus on <code>Timestamp</code>? Are you trying to write this to a database? If so, say so, as that affects the Answers."},{"owner":{"account_id":12275702,"reputation":23,"user_id":13786905,"display_name":"Coder"},"score":0,"creation_date":1700058945,"post_id":77484056,"comment_id":136608339,"body_markdown":"@BasilBourque Yes, I&#39;m trying to write the timestamp value to the database.","body":"@BasilBourque Yes, I&#39;m trying to write the timestamp value to the database."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700067652,"post_id":77484056,"comment_id":136610070,"body_markdown":"@Coder Then say so in your Question. Click “Edit” to, well, edit.","body":"@Coder Then say so in your Question. Click “Edit” to, well, edit."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700002690,"creation_date":1700002690,"answer_id":77484324,"question_id":77484056,"body_markdown":"Don’t use the Timestamp class.  It doesn’t do what you think it does.  In fact, it doesn’t even do what it was originally intended to do all that well (represent a particular SQL type).\r\n\r\nJust use the [add](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/GregorianCalendar.html#add(int,int)) method of GregorianCalendar:\r\n\r\n    XMLGregoriantCalendar xcal = request.getDate();\r\n\r\n    GregorianCalendar gcal = xcal.toGregorianCalendar();\r\n    gcal.add(Calendar.DATE, 5);\r\n\r\n    xcal = DatatypeFactory.newInstance().newXMLGregorianCalendar(gcal);\r\n","title":"IS there an easy way to add 5 days delay to XMLGregorianCalendar date?","body":"<p>Don’t use the Timestamp class.  It doesn’t do what you think it does.  In fact, it doesn’t even do what it was originally intended to do all that well (represent a particular SQL type).</p>\n<p>Just use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/GregorianCalendar.html#add(int,int)\" rel=\"nofollow noreferrer\">add</a> method of GregorianCalendar:</p>\n<pre><code>XMLGregoriantCalendar xcal = request.getDate();\n\nGregorianCalendar gcal = xcal.toGregorianCalendar();\ngcal.add(Calendar.DATE, 5);\n\nxcal = DatatypeFactory.newInstance().newXMLGregorianCalendar(gcal);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700068144,"creation_date":1700006937,"answer_id":77484526,"question_id":77484056,"body_markdown":"## tl;dr\r\n\r\n*XMLGregorianCalendar ➡️ GregorianCalendar ➡️ ZonedDateTime ➡️ OffsetDateTime*\r\n\r\n    myPreparedStatement\r\n    .setObject( \r\n        … , \r\n        myXMLGregorianCalendar\r\n        .toGregorianCalendar()\r\n        .toZonedDateTime() \r\n        .plusDays( 5 )\r\n        .toOffsetDateTime()\r\n    )\r\n\r\n## Avoid legacy date-time classes\r\n\r\nWhen handed a legacy date-time object like `XMLGregorianCalendar`, immediately convert to the modern *java.time* classes. In *java.time*, the replacement class is `ZonedDateTime`. \r\n\r\nTo get to `ZonedDateTime`, go though another legacy class, `GregorianCalendar`. \r\n\r\n    ZonedDateTime zdt = myXMLGregorianCalendar.toGregorianCalendar().toZonedDateTime() ;\r\n\r\n## Add days\r\n\r\nAdd five days. Adjustments are automatically made for anomalies such as Daylight Saving Time (DST). \r\n\r\n    ZonedDateTime fiveDaysLater = zdt.plusDays( 5 ) ;\r\n\r\n## `LocalDateTime` is not a moment\r\n\r\nDo not use `LocalDateTime` at all in this situation. That class lacks the context of an offset or time zone, so it cannot be used to represent a moment, a specific point on the timeline. \r\n\r\n## Database\r\n\r\nIf you are trying to write this value to a database, do not use the legacy `Timestamp` class. Use only *java.time* classes. To communicate a moment to a database, use `java.time.OffsetDateTime`. \r\n\r\n    OffsetDateTime odt = fiveDaysLater.toOffsetDateTime() ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject ( … , OffsetDateTime.class ) ;\r\n    ZoneId zoneId = ZoneId.of( &quot;Asia/Tokyo&quot;&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( zoneId ) ;\r\n","title":"IS there an easy way to add 5 days delay to XMLGregorianCalendar date?","body":"<h2>tl;dr</h2>\n<p><em>XMLGregorianCalendar ➡️ GregorianCalendar ➡️ ZonedDateTime ➡️ OffsetDateTime</em></p>\n<pre><code>myPreparedStatement\n.setObject( \n    … , \n    myXMLGregorianCalendar\n    .toGregorianCalendar()\n    .toZonedDateTime() \n    .plusDays( 5 )\n    .toOffsetDateTime()\n)\n</code></pre>\n<h2>Avoid legacy date-time classes</h2>\n<p>When handed a legacy date-time object like <code>XMLGregorianCalendar</code>, immediately convert to the modern <em>java.time</em> classes. In <em>java.time</em>, the replacement class is <code>ZonedDateTime</code>.</p>\n<p>To get to <code>ZonedDateTime</code>, go though another legacy class, <code>GregorianCalendar</code>.</p>\n<pre><code>ZonedDateTime zdt = myXMLGregorianCalendar.toGregorianCalendar().toZonedDateTime() ;\n</code></pre>\n<h2>Add days</h2>\n<p>Add five days. Adjustments are automatically made for anomalies such as Daylight Saving Time (DST).</p>\n<pre><code>ZonedDateTime fiveDaysLater = zdt.plusDays( 5 ) ;\n</code></pre>\n<h2><code>LocalDateTime</code> is not a moment</h2>\n<p>Do not use <code>LocalDateTime</code> at all in this situation. That class lacks the context of an offset or time zone, so it cannot be used to represent a moment, a specific point on the timeline.</p>\n<h2>Database</h2>\n<p>If you are trying to write this value to a database, do not use the legacy <code>Timestamp</code> class. Use only <em>java.time</em> classes. To communicate a moment to a database, use <code>java.time.OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = fiveDaysLater.toOffsetDateTime() ;\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject ( … , OffsetDateTime.class ) ;\nZoneId zoneId = ZoneId.of( &quot;Asia/Tokyo&quot;&quot; ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( zoneId ) ;\n</code></pre>\n"}],"owner":{"account_id":12275702,"reputation":23,"user_id":13786905,"display_name":"Coder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700206509,"creation_date":1699998748,"question_id":77484056,"body_markdown":"I want to **add 5 days delay to XMLGregorianCalendar date** (date is coming from json request). I tried converting it first to LocalDateTime as follows, this works\r\n```\r\nLocalDateTime date = request.getDate().toGregorianCalendar().toZonedDateTime().toLocalDateTime().plusDays(5);\r\nTimestamp ts = Timestamp.valueOf(date);\r\n```\r\nAnother approach I tried was as follows, which is throwing below error \r\n```\r\nTimestamp date = DateUtil.convertToTimestamp(request.getDate().\r\n                                           add(DatatypeFactory.newInstance().newDuration(&quot;P14D&quot;));\r\n```\r\n**Error:**\r\n```\r\nRequired type: XMLGregorianCalendar\r\nProvided: void\r\n```\r\n\r\nAlthough, the LocalDateTime one does not give any errors, I am just wondering if there&#39;s an easy way to do this. Any help would be appreciated. Thanks in advance!\r\n","title":"IS there an easy way to add 5 days delay to XMLGregorianCalendar date?","body":"<p>I want to <strong>add 5 days delay to XMLGregorianCalendar date</strong> (date is coming from json request). I tried converting it first to LocalDateTime as follows, this works</p>\n<pre><code>LocalDateTime date = request.getDate().toGregorianCalendar().toZonedDateTime().toLocalDateTime().plusDays(5);\nTimestamp ts = Timestamp.valueOf(date);\n</code></pre>\n<p>Another approach I tried was as follows, which is throwing below error</p>\n<pre><code>Timestamp date = DateUtil.convertToTimestamp(request.getDate().\n                                           add(DatatypeFactory.newInstance().newDuration(&quot;P14D&quot;));\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>Required type: XMLGregorianCalendar\nProvided: void\n</code></pre>\n<p>Although, the LocalDateTime one does not give any errors, I am just wondering if there's an easy way to do this. Any help would be appreciated. Thanks in advance!</p>\n"},{"tags":["java","amazon-web-services","java-11","java-17"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1670918190,"post_id":74781495,"comment_id":131978033,"body_markdown":"Related: https://twitter.com/indyarni/status/1484193762788184068","body":"Related: <a href=\"https://twitter.com/indyarni/status/1484193762788184068\" rel=\"nofollow noreferrer\">twitter.com/indyarni/status/1484193762788184068</a>"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1670919148,"post_id":74781495,"comment_id":131978294,"body_markdown":"Hasn&#39;t Instant always had a precision of nanoseconds? I would expect the difference to be that `Instant.now()` can now return a value which has a non-zero &quot;submicrosecond&quot; part.","body":"Hasn&#39;t Instant always had a precision of nanoseconds? I would expect the difference to be that <code>Instant.now()</code> can now return a value which has a non-zero &quot;submicrosecond&quot; part."},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1670922295,"post_id":74781495,"comment_id":131979243,"body_markdown":"In my local Mac (Ventura 13.0.1) `OpenJDK Runtime Environment Homebrew (build 17.0.5+0)` and `openjdk version &quot;17.0.5&quot; 2022-10-18` I am not observing this change. It is returning the value same as in Java 11. Not sure if it is something specific to `correta17`.","body":"In my local Mac (Ventura 13.0.1) <code>OpenJDK Runtime Environment Homebrew (build 17.0.5+0)</code> and <code>openjdk version &quot;17.0.5&quot; 2022-10-18</code> I am not observing this change. It is returning the value same as in Java 11. Not sure if it is something specific to <code>correta17</code>."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670923025,"post_id":74781495,"comment_id":131979493,"body_markdown":"The format printed is documented and unchanged from Java 11 to Java 17. You need to follow links a couple of steps from [`Instant.toString()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Instant.html#toString()) to find it. What is different in your two cases is the value you are printing. The former has zeroes in the last places, which is why they are not printed.","body":"The format printed is documented and unchanged from Java 11 to Java 17. You need to follow links a couple of steps from <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Instant.html#toString()\" rel=\"nofollow noreferrer\"><code>Instant.toString()</code></a> to find it. What is different in your two cases is the value you are printing. The former has zeroes in the last places, which is why they are not printed."},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1670934077,"post_id":74781495,"comment_id":131983357,"body_markdown":"@OleV.V. Yes that I understood. In `corretojava17` there are no extra zeroes and this behaviour is not same across all flavors of OpenJDK 17. For example, `OpenJDK Runtime Environment Homebrew (build 17.0.5+0)` and `openjdk version &quot;17.0.5&quot; 2022-10-18` is also having zeroes in the last place like the way it was in JDK 11.","body":"@OleV.V. Yes that I understood. In <code>corretojava17</code> there are no extra zeroes and this behaviour is not same across all flavors of OpenJDK 17. For example, <code>OpenJDK Runtime Environment Homebrew (build 17.0.5+0)</code> and <code>openjdk version &quot;17.0.5&quot; 2022-10-18</code> is also having zeroes in the last place like the way it was in JDK 11."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1670944680,"post_id":74781495,"comment_id":131987311,"body_markdown":"On my OpenJDK 18 I get groups of three decimals, for example `2022-12-13T15:13:13.100Z`, or `2022-12-13T15:13:13.000000100Z`, which I didn’t readily see documented, but may also not be in direct conflict with the documentation, which just states of the fraction of second: *As many digits will be output as required.* Is this what you are seeing too? And what would your desired output be instead?","body":"On my OpenJDK 18 I get groups of three decimals, for example <code>2022-12-13T15:13:13.100Z</code>, or <code>2022-12-13T15:13:13.000000100Z</code>, which I didn’t readily see documented, but may also not be in direct conflict with the documentation, which just states of the fraction of second: <i>As many digits will be output as required.</i> Is this what you are seeing too? And what would your desired output be instead?"},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1670945217,"post_id":74781495,"comment_id":131987506,"body_markdown":"For consistent output use a formatter, for example `DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSX&quot;).withZone(ZoneOffset.UTC).format(Instant.now())`.","body":"For consistent output use a formatter, for example <code>DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSX&quot;)&zwnj;&#8203;.withZone(ZoneOffset&zwnj;&#8203;.UTC).format(Instant&zwnj;&#8203;.now())</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1670945685,"creation_date":1670919343,"answer_id":74781779,"question_id":74781495,"body_markdown":"[`Instant#now()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now()) obtains the current instant from the system clock. If the system clock returns a precision of only up to microseconds, the `Instant#toString` simply truncates the last three zeros from the nine digits. If the system on which you are running Java 17 (correto17) returns a precision of nanoseconds, you can truncate it to the precision of microseconds using [`Instant#truncatedTo(java.time.temporal.TemporalUnit)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#truncatedTo(java.time.temporal.TemporalUnit)).\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            Instant instant = Instant.now();\r\n            Instant truncatedToMicros = instant.truncatedTo(ChronoUnit.MICROS);\r\n            System.out.println(truncatedToMicros);\r\n        }\r\n    }\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. ","title":"Changes in Instant.now() between java 11 and java 17 in AWS Ubuntu standard 6.0","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now()\" rel=\"noreferrer\"><code>Instant#now()</code></a> obtains the current instant from the system clock. If the system clock returns a precision of only up to microseconds, the <code>Instant#toString</code> simply truncates the last three zeros from the nine digits. If the system on which you are running Java 17 (correto17) returns a precision of nanoseconds, you can truncate it to the precision of microseconds using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"noreferrer\"><code>Instant#truncatedTo(java.time.temporal.TemporalUnit)</code></a>.</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        Instant instant = Instant.now();\n        Instant truncatedToMicros = instant.truncatedTo(ChronoUnit.MICROS);\n        System.out.println(truncatedToMicros);\n    }\n}\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":29924693,"reputation":1,"user_id":22933006,"display_name":"Rico Tea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700206369,"creation_date":1700206327,"answer_id":77499960,"question_id":74781495,"body_markdown":"Yes, and what we need to notice is that when we use MacOS, the time API will just works as 6 digs precision, but when we use Linux(such as Ubuntu), it will be 9 digs : )","title":"Changes in Instant.now() between java 11 and java 17 in AWS Ubuntu standard 6.0","body":"<p>Yes, and what we need to notice is that when we use MacOS, the time API will just works as 6 digs precision, but when we use Linux(such as Ubuntu), it will be 9 digs : )</p>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4325,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":74781779,"answer_count":2,"score":10,"last_activity_date":1700206369,"creation_date":1670917591,"question_id":74781495,"body_markdown":"We are moving to Java 17 (correto17) from Java 11 (correto11). As part of this, we also have to upgrade Ubuntu to `standard:6.0` from `standard:4.0` in AWS as mentioned [here][1].  \r\n\r\nWe are observing that in Java 11 and Java 17 `Instant.now()` output is a bit different. \r\n\r\nFor example,\r\n\r\n    System.out.println(&quot;Instant: &quot; + Instant.now());\r\n\r\nis giving output like below\r\n\r\n - Java 11 - `Instant: 2022-12-12T18:04:27.267229Z` \r\n - Java 17 - `Instant: 2022-12-12T18:04:27.267229114Z`\r\n\r\nCan someone let me know what is causing this? How can I make the behaviour same in both the cases?\r\n\r\n  [1]: https://docs.aws.amazon.com/codebuild/latest/userguide/available-runtimes.html","title":"Changes in Instant.now() between java 11 and java 17 in AWS Ubuntu standard 6.0","body":"<p>We are moving to Java 17 (correto17) from Java 11 (correto11). As part of this, we also have to upgrade Ubuntu to <code>standard:6.0</code> from <code>standard:4.0</code> in AWS as mentioned <a href=\"https://docs.aws.amazon.com/codebuild/latest/userguide/available-runtimes.html\" rel=\"noreferrer\">here</a>.</p>\n<p>We are observing that in Java 11 and Java 17 <code>Instant.now()</code> output is a bit different.</p>\n<p>For example,</p>\n<pre><code>System.out.println(&quot;Instant: &quot; + Instant.now());\n</code></pre>\n<p>is giving output like below</p>\n<ul>\n<li>Java 11 - <code>Instant: 2022-12-12T18:04:27.267229Z</code></li>\n<li>Java 17 - <code>Instant: 2022-12-12T18:04:27.267229114Z</code></li>\n</ul>\n<p>Can someone let me know what is causing this? How can I make the behaviour same in both the cases?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1700205909,"post_id":77499899,"comment_id":136628114,"body_markdown":"Your loop only (tries to) read in a maximum of 10 numbers, so how can `if (count &gt; MAX_INPUTS) {` ever be true?","body":"Your loop only (tries to) read in a maximum of 10 numbers, so how can <code>if (count &gt; MAX_INPUTS) {</code> ever be true?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700211749,"post_id":77499899,"comment_id":136628938,"body_markdown":"Problems like this are easily found using the debugger that comes with your IDE. Put a breakpoint on the `if (count &gt; MAX_INPUTS)` line and see what the value of `count` is.","body":"Problems like this are easily found using the debugger that comes with your IDE. Put a breakpoint on the <code>if (count &gt; MAX_INPUTS)</code> line and see what the value of <code>count</code> is."}],"answers":[{"tags":[],"owner":{"account_id":29924336,"reputation":11,"user_id":22932728,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700206269,"creation_date":1700206269,"answer_id":77499949,"question_id":77499899,"body_markdown":"Because you are not giving your scanner an opportunity to go past the max inputs.\r\nIf you want it to go past you&#39;ll need to put your if statements within the while loop.\r\n\r\n    while (input &gt; 0 &amp;&amp; count &gt; MAX_INPUTS) ","title":"Why is my code not printing what I need it to?","body":"<p>Because you are not giving your scanner an opportunity to go past the max inputs.\nIf you want it to go past you'll need to put your if statements within the while loop.</p>\n<pre><code>while (input &gt; 0 &amp;&amp; count &gt; MAX_INPUTS) \n</code></pre>\n"}],"owner":{"account_id":29924557,"reputation":3,"user_id":22932908,"display_name":"TRE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700206269,"creation_date":1700205629,"question_id":77499899,"body_markdown":"The task is to find the median and if the input is over 10 integers then it needs to print: &quot;Data items past number 10 ignored&quot; but it&#39;s not doing that, what is wrong with my code preventing it from printing?\r\n\r\n**My code:**\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Median {\r\npublic static void main(String[] args) {\r\nScanner scnr = new Scanner(System.in);\r\n        final int MAX_INPUTS = 10;\r\n        int[] numbers = new int[MAX_INPUTS];\r\n        int count = 0;\r\n        int input;\r\n// Read input until a negative number is encountered or the maximum number of inputs is reached\r\n        while (count &lt; MAX_INPUTS) {\r\n       input = scnr.nextInt();\r\n\r\n            if (input &lt; 0) {\r\n                break;\r\n            }\r\n\r\n            // Check if count exceeds the maximum allowed inputs before recording the number\r\n            numbers[count] = input;\r\n            count++;\r\n        }\r\n\r\n        // Check if no data entered\r\n        if (count == 0) {\r\n            System.out.println(&quot;No data entered.&quot;);\r\n            return;\r\n        }\r\n\r\n        // Calculate the median\r\n        double median;\r\n\r\n        if (count % 2 == 0) {\r\n            int middle1 = numbers[count / 2 - 1];\r\n            int middle2 = numbers[count / 2];\r\n            median = (double) (middle1 + middle2) / 2;\r\n        } else {\r\n            median = numbers[count / 2];\r\n        }\r\n\r\n       ** // Display the result\r\n        if (count &gt; MAX_INPUTS) {\r\n            System.out.println(&quot;Data items past number 10 ignored&quot;);\r\n        }\r\n        System.out.println(&quot;Median: &quot; + median);**\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Input:\r\n1 2 3 4 5 60 70 80 90 100 110 120 130 -100\r\n\r\nYour output:\r\nMedian: 32.5\r\n\r\nExpected output:\r\nData items past number 10 ignored\r\nMedian: 32.5**\r\n\r\nI don&#39;t know why it won&#39;t print &quot;Data items past number 10 ignored&quot;?\r\n","title":"Why is my code not printing what I need it to?","body":"<p>The task is to find the median and if the input is over 10 integers then it needs to print: &quot;Data items past number 10 ignored&quot; but it's not doing that, what is wrong with my code preventing it from printing?</p>\n<p><strong>My code:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Median {\npublic static void main(String[] args) {\nScanner scnr = new Scanner(System.in);\n        final int MAX_INPUTS = 10;\n        int[] numbers = new int[MAX_INPUTS];\n        int count = 0;\n        int input;\n// Read input until a negative number is encountered or the maximum number of inputs is reached\n        while (count &lt; MAX_INPUTS) {\n       input = scnr.nextInt();\n\n            if (input &lt; 0) {\n                break;\n            }\n\n            // Check if count exceeds the maximum allowed inputs before recording the number\n            numbers[count] = input;\n            count++;\n        }\n\n        // Check if no data entered\n        if (count == 0) {\n            System.out.println(&quot;No data entered.&quot;);\n            return;\n        }\n\n        // Calculate the median\n        double median;\n\n        if (count % 2 == 0) {\n            int middle1 = numbers[count / 2 - 1];\n            int middle2 = numbers[count / 2];\n            median = (double) (middle1 + middle2) / 2;\n        } else {\n            median = numbers[count / 2];\n        }\n\n       ** // Display the result\n        if (count &gt; MAX_INPUTS) {\n            System.out.println(&quot;Data items past number 10 ignored&quot;);\n        }\n        System.out.println(&quot;Median: &quot; + median);**\n    }\n}\n</code></pre>\n<p>**Input:\n1 2 3 4 5 60 70 80 90 100 110 120 130 -100</p>\n<p>Your output:\nMedian: 32.5</p>\n<p>Expected output:\nData items past number 10 ignored\nMedian: 32.5**</p>\n<p>I don't know why it won't print &quot;Data items past number 10 ignored&quot;?</p>\n"},{"tags":["java","configuration-management","modularity"],"comments":[{"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"score":0,"creation_date":1266998302,"post_id":2324109,"comment_id":2293826,"body_markdown":"Not sure I understand the question about modules?","body":"Not sure I understand the question about modules?"},{"owner":{"account_id":89569,"reputation":5801,"user_id":247038,"accept_rate":39,"display_name":"Shekhar"},"score":1,"creation_date":1267005109,"post_id":2324109,"comment_id":2294388,"body_markdown":"We dont want to keep configuration data in the properties or xml files.We want to centralize this data in the database. So, i am think of creating a separate module in our application which will handle all the configuration stuff.","body":"We dont want to keep configuration data in the properties or xml files.We want to centralize this data in the database. So, i am think of creating a separate module in our application which will handle all the configuration stuff."},{"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"score":2,"creation_date":1267029894,"post_id":2324109,"comment_id":2297402,"body_markdown":"it sounds to me like you&#39;ve made the decision to not use properties files based on something that you aren&#39;t telling us.  Can you tell us why you&#39;d rather have the database maintain configuration files?  You will still need to have something external simply to manage the properties needed to make the database connection.","body":"it sounds to me like you&#39;ve made the decision to not use properties files based on something that you aren&#39;t telling us.  Can you tell us why you&#39;d rather have the database maintain configuration files?  You will still need to have something external simply to manage the properties needed to make the database connection."},{"owner":{"account_id":38146,"reputation":1653,"user_id":109318,"accept_rate":50,"display_name":"Asaf Mesika"},"score":1,"creation_date":1440274044,"post_id":2324109,"comment_id":52208273,"body_markdown":"Just adding another configuration library which seems amazing: https://github.com/typesafehub/config","body":"Just adding another configuration library which seems amazing: <a href=\"https://github.com/typesafehub/config\" rel=\"nofollow noreferrer\">github.com/typesafehub/config</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1427242731,"creation_date":1266993459,"answer_id":2324141,"question_id":2324109,"body_markdown":"Using &lt;a href=&quot;http://commons.apache.org/configuration/&quot;&gt;commons-configuration&lt;/a&gt; you have a unified API for accessing the properties, _no matter how_ they are represented - .properties, xml, JNDI, etc. For example:\r\n\r\n`config.properties`:\r\n\r\n    jdbcHost=192.168.12.35\r\n    jdbcUsername=dbuser\r\n    jdbcPassword=pass\r\n\r\n`config.xml`:\r\n\r\n    &lt;config&gt;\r\n       &lt;jdbcHost&gt;192.168.12.35&lt;/jdbcHost&gt;\r\n       &lt;jdbcUsername&gt;dbuser&lt;/jdbcUsername&gt;\r\n       &lt;jdbcPassword&gt;pass&lt;/jdbcPassword&gt;\r\n    &lt;/config&gt;\r\n\r\nin both cases they will be accessible with something like:\r\n\r\n    String host = config.getString(&quot;jdbcHost&quot;);","title":"What is the best way to manage configuration data","body":"<p>Using <a href=\"http://commons.apache.org/configuration/\" rel=\"noreferrer\">commons-configuration</a> you have a unified API for accessing the properties, <em>no matter how</em> they are represented - .properties, xml, JNDI, etc. For example:</p>\n\n<p><code>config.properties</code>:</p>\n\n<pre><code>jdbcHost=192.168.12.35\njdbcUsername=dbuser\njdbcPassword=pass\n</code></pre>\n\n<p><code>config.xml</code>:</p>\n\n<pre><code>&lt;config&gt;\n   &lt;jdbcHost&gt;192.168.12.35&lt;/jdbcHost&gt;\n   &lt;jdbcUsername&gt;dbuser&lt;/jdbcUsername&gt;\n   &lt;jdbcPassword&gt;pass&lt;/jdbcPassword&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p>in both cases they will be accessible with something like:</p>\n\n<pre><code>String host = config.getString(\"jdbcHost\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1266994785,"creation_date":1266993478,"answer_id":2324144,"question_id":2324109,"body_markdown":"You&#39;re almost there... I would keep your same approach and pull in the correct configuration file for the instance of the application that is running by a method similar to either of the following:\r\n\r\n1. Name all of your configuration files differently and have your application pull them in by some unique criteria (username, hostname, etc.):\r\n\r\n * **production**.properties\r\n * **developer1**.properties\r\n * **developer2**.properties\r\n\r\n2. Keep them outside the codebase in a location based on an environment variable that the application assumes exists:\r\n\r\n * **YOURAPP_CONFIG_DIR**/server_config.xml\r\n * **YOURAPP_CONFIG_DIR**/database_config.properties\r\n\r\nI&#39;ve even used a combination of these approaches on the same project (#1 for build process configurations and #2 for runtime configurations).","title":"What is the best way to manage configuration data","body":"<p>You're almost there... I would keep your same approach and pull in the correct configuration file for the instance of the application that is running by a method similar to either of the following:</p>\n\n<ol>\n<li><p>Name all of your configuration files differently and have your application pull them in by some unique criteria (username, hostname, etc.):</p>\n\n<ul>\n<li><strong>production</strong>.properties</li>\n<li><strong>developer1</strong>.properties</li>\n<li><strong>developer2</strong>.properties</li>\n</ul></li>\n<li><p>Keep them outside the codebase in a location based on an environment variable that the application assumes exists:</p>\n\n<ul>\n<li><strong>YOURAPP_CONFIG_DIR</strong>/server_config.xml</li>\n<li><strong>YOURAPP_CONFIG_DIR</strong>/database_config.properties</li>\n</ul></li>\n</ol>\n\n<p>I've even used a combination of these approaches on the same project (#1 for build process configurations and #2 for runtime configurations).</p>\n"},{"tags":[],"owner":{"account_id":80505,"reputation":504,"user_id":227624,"display_name":"zznate"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1267002016,"creation_date":1267002016,"answer_id":2324724,"question_id":2324109,"body_markdown":"For all of our environments, configuration data lives on the target machines in the form of properties files. We use [PropertyPlaceholderconfigurer][1] from SpringFramework to bind these properties to our apps to keep things portable accross environments. \r\n\r\nFor example, as long as I know that /etc/myapp/database.properties will be present on whatever machine my app will be running on, then in my spring configuration, I just need something like so:\r\n\r\n    \t&lt;bean id=&quot;myPropertyConfigurer&quot;\r\n\t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;locations&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;/etc/myapp/database.properties&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;myDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot;\r\n\t\t\tvalue=&quot;jdbc:mysql://${db.host}:3306/${db.name}&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;${db.user}&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${db.pass}&quot; /&gt;\t\t\r\n\t&lt;/bean&gt;\r\n\r\nThere are a bunch of options for that Spring class about where properties files can live. You can even make them substitutions and pass them in as environment variables:\r\n\r\n    \t&lt;bean id=&quot;myPropertyConfigurer&quot;\r\n\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n\t\t&lt;property name=&quot;locations&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;${database.configuration.file.url}&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nAnd in bash_profile (or whatever):\r\nexport JAVA_OPTS=&quot;-Ddatabase.configuration.file.url=file:///etc/myapp/database.properties&quot;\r\n\r\nOr just the same -D option passed in when you call &quot;java&quot; depending on what you are doing.\r\n\r\nFWIW, we maintain our properties files separately as RPMs.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html","title":"What is the best way to manage configuration data","body":"<p>For all of our environments, configuration data lives on the target machines in the form of properties files. We use <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html\" rel=\"nofollow noreferrer\">PropertyPlaceholderconfigurer</a> from SpringFramework to bind these properties to our apps to keep things portable accross environments. </p>\n\n<p>For example, as long as I know that /etc/myapp/database.properties will be present on whatever machine my app will be running on, then in my spring configuration, I just need something like so:</p>\n\n<pre><code>    &lt;bean id=\"myPropertyConfigurer\"\n    class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;/etc/myapp/database.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=\"myDataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;property name=\"url\"\n        value=\"jdbc:mysql://${db.host}:3306/${db.name}\" /&gt;\n    &lt;property name=\"username\" value=\"${db.user}\" /&gt;\n    &lt;property name=\"password\" value=\"${db.pass}\" /&gt;     \n&lt;/bean&gt;\n</code></pre>\n\n<p>There are a bunch of options for that Spring class about where properties files can live. You can even make them substitutions and pass them in as environment variables:</p>\n\n<pre><code>    &lt;bean id=\"myPropertyConfigurer\"\nclass=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;${database.configuration.file.url}&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And in bash_profile (or whatever):\nexport JAVA_OPTS=\"-Ddatabase.configuration.file.url=file:///etc/myapp/database.properties\"</p>\n\n<p>Or just the same -D option passed in when you call \"java\" depending on what you are doing.</p>\n\n<p>FWIW, we maintain our properties files separately as RPMs.</p>\n"},{"tags":[],"owner":{"account_id":104635,"reputation":10035,"user_id":279623,"accept_rate":82,"display_name":"Tomislav Nakic-Alfirevic"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1267010562,"creation_date":1267010562,"answer_id":2325518,"question_id":2324109,"body_markdown":"If your applications work with a database, you can create a &quot;configuration&quot; table as follows:\r\n\r\n    create table configuration (mode char(3), key varchar(255), value varchar(1023));\r\n\r\nYou would initialize it using an init script, say init.sql with contents along the lines of:\r\n\r\n    insert into configuration values (&#39;pro&#39;, &#39;param1&#39;, &#39;value1&#39;); -- production\r\n    insert into configuration values (&#39;dev&#39;, &#39;param1&#39;, &#39;value1&#39;); -- development\r\n    insert into configuration values (&#39;tst&#39;, &#39;param1&#39;, &#39;value1&#39;); -- testing\r\n    ...\r\n\r\n\r\nThe benefits of this approach are as follows:\r\n\r\n - you version the script together with\r\n   your code\r\n - you can easily extend it to include\r\n   per-user or per-group settings by\r\n   adding a user/group id\r\n - you can change the settings at\r\n   runtime if you need to do so\r\n - you get to use the same stack (JPA +\r\n   DAO, Cayenne...) you normally use to\r\n   handle core application data to\r\n   handle configuration data","title":"What is the best way to manage configuration data","body":"<p>If your applications work with a database, you can create a \"configuration\" table as follows:</p>\n\n<pre><code>create table configuration (mode char(3), key varchar(255), value varchar(1023));\n</code></pre>\n\n<p>You would initialize it using an init script, say init.sql with contents along the lines of:</p>\n\n<pre><code>insert into configuration values ('pro', 'param1', 'value1'); -- production\ninsert into configuration values ('dev', 'param1', 'value1'); -- development\ninsert into configuration values ('tst', 'param1', 'value1'); -- testing\n...\n</code></pre>\n\n<p>The benefits of this approach are as follows:</p>\n\n<ul>\n<li>you version the script together with\nyour code</li>\n<li>you can easily extend it to include\nper-user or per-group settings by\nadding a user/group id</li>\n<li>you can change the settings at\nruntime if you need to do so</li>\n<li>you get to use the same stack (JPA +\nDAO, Cayenne...) you normally use to\nhandle core application data to\nhandle configuration data</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":526181,"reputation":131,"user_id":1328161,"display_name":"joevartuli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335231089,"creation_date":1335231089,"answer_id":10290613,"question_id":2324109,"body_markdown":"There are plenty of different strategies. All of them are good and depends on what suit you best.\r\n\r\n 1. Build a single artifact and deploy configs to a separate location. The artifact could have placeholder variables and, on deployment, the config could be read in. Have a look at Springs property placeholder. It works fantastically for webapps that use Spring and doesn&#39;t involve getting ops involved.\r\n 2. Have an externalised property config that lives outside of the webapp. Keep the location constant and always read from the property config. Update the config at any stage and a restart will be up the new values.\r\n 3. If you are modifying the environment (i.e. application server being used or user/group permissions) look at using the above methods with puppet or chef. Also have a look at managing your config files with these tools.","title":"What is the best way to manage configuration data","body":"<p>There are plenty of different strategies. All of them are good and depends on what suit you best.</p>\n\n<ol>\n<li>Build a single artifact and deploy configs to a separate location. The artifact could have placeholder variables and, on deployment, the config could be read in. Have a look at Springs property placeholder. It works fantastically for webapps that use Spring and doesn't involve getting ops involved.</li>\n<li>Have an externalised property config that lives outside of the webapp. Keep the location constant and always read from the property config. Update the config at any stage and a restart will be up the new values.</li>\n<li>If you are modifying the environment (i.e. application server being used or user/group permissions) look at using the above methods with puppet or chef. Also have a look at managing your config files with these tools.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8812790,"reputation":1639,"user_id":6585293,"accept_rate":33,"display_name":"Colby Cox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495659236,"creation_date":1495659236,"answer_id":44168267,"question_id":2324109,"body_markdown":"Environment variables are just about the easiest way to go. Set them as you would any other time, access them w/ `System.getenv(&quot;...&quot;)`","title":"What is the best way to manage configuration data","body":"<p>Environment variables are just about the easiest way to go. Set them as you would any other time, access them w/ <code>System.getenv(\"...\")</code></p>\n"},{"tags":[],"owner":{"account_id":29908945,"reputation":13,"user_id":22920862,"display_name":"LvargaDS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700126860,"creation_date":1700126860,"answer_id":77493630,"question_id":2324109,"body_markdown":"In these days only configuration passed during startup of application is reasonable way to go. Do not make configuration a part of build process!\r\n\r\nAccording to [12 factor app, configuration][1] should be passed as environment variable. There should be no profiles (bound to any actual environment). i.e. profile named &quot;dev&quot;, &quot;local-john-pc&quot; are wrong. Profiles &quot;moreLogs&quot;, &quot;logToFile&quot;, are ok. All other things (connection parameters to database, username, ...) should be passed as env variables, duing startup.\r\n\r\n\r\n  [1]: https://12factor.net/config","title":"What is the best way to manage configuration data","body":"<p>In these days only configuration passed during startup of application is reasonable way to go. Do not make configuration a part of build process!</p>\n<p>According to <a href=\"https://12factor.net/config\" rel=\"nofollow noreferrer\">12 factor app, configuration</a> should be passed as environment variable. There should be no profiles (bound to any actual environment). i.e. profile named &quot;dev&quot;, &quot;local-john-pc&quot; are wrong. Profiles &quot;moreLogs&quot;, &quot;logToFile&quot;, are ok. All other things (connection parameters to database, username, ...) should be passed as env variables, duing startup.</p>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700206020,"creation_date":1700206020,"answer_id":77499928,"question_id":2324109,"body_markdown":"**Modern solution in 2023:**\r\n\r\nYour very best bet is to create Spring Boot Java application and define absolutely all of your properties in the `application.properties` or `application.yml` file. \r\n\r\nPros:\r\n\r\n- A simple file to manage everything using properties or YAML if you want. Including Database stuff, logging, server Port, etc. \r\n- Define your properties in your code, which is just excellent.\r\n- No more confusion because you do not know anymore where you defined what.","title":"What is the best way to manage configuration data","body":"<p><strong>Modern solution in 2023:</strong></p>\n<p>Your very best bet is to create Spring Boot Java application and define absolutely all of your properties in the <code>application.properties</code> or <code>application.yml</code> file.</p>\n<p>Pros:</p>\n<ul>\n<li>A simple file to manage everything using properties or YAML if you want. Including Database stuff, logging, server Port, etc.</li>\n<li>Define your properties in your code, which is just excellent.</li>\n<li>No more confusion because you do not know anymore where you defined what.</li>\n</ul>\n"}],"owner":{"account_id":89569,"reputation":5801,"user_id":247038,"accept_rate":39,"display_name":"Shekhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43639,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":8,"score":31,"last_activity_date":1700206020,"creation_date":1266992868,"question_id":2324109,"body_markdown":"I am working on a product suite which has 4 products. Right now, all of the configuration data is either in the XML or properties files.This approach is not maintainable as we have to manage different configuration file for different environment(for e.g. Production, Development etc).\r\n\r\nSo, **what is the best way to handle configuration data?**\r\n\r\nAlso, can we modularize this into a separate module? So that all products can use this module.\r\nWe don&#39;t want to use the property files. I am looking for a solution in which we can move all of the configuration specific code as a new configuration module and persist all the configuration data in database.","title":"What is the best way to manage configuration data","body":"<p>I am working on a product suite which has 4 products. Right now, all of the configuration data is either in the XML or properties files.This approach is not maintainable as we have to manage different configuration file for different environment(for e.g. Production, Development etc).</p>\n\n<p>So, <strong>what is the best way to handle configuration data?</strong></p>\n\n<p>Also, can we modularize this into a separate module? So that all products can use this module.\nWe don't want to use the property files. I am looking for a solution in which we can move all of the configuration specific code as a new configuration module and persist all the configuration data in database.</p>\n"},{"tags":["java","sonarqube","switch-statement"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1700204825,"post_id":77499836,"comment_id":136627980,"body_markdown":"How about using a `Map&lt;Character, Runnable&gt;` instead?","body":"How about using a <code>Map&lt;Character, Runnable&gt;</code> instead?"},{"owner":{"account_id":2119809,"reputation":50936,"user_id":1883316,"display_name":"Tim Roberts"},"score":4,"creation_date":1700204852,"post_id":77499836,"comment_id":136627984,"body_markdown":"When McCabe invented cyclomatic complexity, languages did not have a &quot;switch&quot; statement.  There&#39;s nothing wrong with your code.  Really, cyclomatic complexity is more of a concept to inspire discussion than something that needs strict adherence.","body":"When McCabe invented cyclomatic complexity, languages did not have a &quot;switch&quot; statement.  There&#39;s nothing wrong with your code.  Really, cyclomatic complexity is more of a concept to inspire discussion than something that needs strict adherence."},{"owner":{"account_id":2067095,"reputation":6226,"user_id":1842414,"accept_rate":65,"display_name":"Shakeeb Ayaz"},"score":0,"creation_date":1700210940,"post_id":77499836,"comment_id":136628789,"body_markdown":"@Sweeper yeah I too thinking  same . let me see if I get any answer . Else I&#39;ll go with map","body":"@Sweeper yeah I too thinking  same . let me see if I get any answer . Else I&#39;ll go with map"},{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1700494657,"post_id":77499836,"comment_id":136658371,"body_markdown":"It is also possible to use reflection\n@YourCustomAnnotation(trigger=&quot;n&quot;)\nvoid performN (){ \n...\n}","body":"It is also possible to use reflection @YourCustomAnnotation(trigger=&quot;n&quot;) void performN (){  ... }"}],"owner":{"account_id":2067095,"reputation":6226,"user_id":1842414,"accept_rate":65,"display_name":"Shakeeb Ayaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700204553,"creation_date":1700204553,"question_id":77499836,"body_markdown":"SonarQube says method has  too high cyclometric complexity. I&#39;m required  to eliminate all warnings in my code,  if there&#39;s anyway to do it in such a case.\r\n\r\nFor context, the code is supposed to perform a task based on option selected \r\n\r\n```\r\npublic void action(final char c) {\r\n        switch (c) {\r\n            case &#39;A&#39;:\r\n                performA();\r\n                break;\r\n            case &#39;B&#39;:\r\n                performB();\r\n                break;\r\n            case &#39;C&#39;:\r\n                performC();\r\n                break;\r\n            case &#39;D&#39;:\r\n                performD();\r\n                break;\r\n            case &#39;E&#39;:\r\n                performE();\r\n                break;\r\n            case &#39;F&#39;:\r\n                performF();\r\n                break;\r\n            case &#39;G&#39;:\r\n               performG();\r\n                break;\r\n            case &#39;H&#39;:\r\n                performH();\r\n                break;\r\n            case &#39;I&#39;:\r\n                performI();\r\n                break;\r\n            case &#39;J&#39;:\r\n                performJ();\r\n                break;\r\n            case &#39;K&#39;:\r\n                performK();\r\n                break;\r\n            case &#39;L&#39;:\r\n               performL();\r\n                break;\r\n            case &#39;M&#39;:\r\n                performM();\r\n                break;\r\n            case &#39;N&#39;:\r\n                performN();\r\n                break;\r\n            case &#39;O&#39;:\r\n                performO();\r\n                break;\r\n        }\r\n    }```\r\n\r\n\r\n","title":"Reducing cyclometric complexity of a switch case","body":"<p>SonarQube says method has  too high cyclometric complexity. I'm required  to eliminate all warnings in my code,  if there's anyway to do it in such a case.</p>\n<p>For context, the code is supposed to perform a task based on option selected</p>\n<pre><code>public void action(final char c) {\n        switch (c) {\n            case 'A':\n                performA();\n                break;\n            case 'B':\n                performB();\n                break;\n            case 'C':\n                performC();\n                break;\n            case 'D':\n                performD();\n                break;\n            case 'E':\n                performE();\n                break;\n            case 'F':\n                performF();\n                break;\n            case 'G':\n               performG();\n                break;\n            case 'H':\n                performH();\n                break;\n            case 'I':\n                performI();\n                break;\n            case 'J':\n                performJ();\n                break;\n            case 'K':\n                performK();\n                break;\n            case 'L':\n               performL();\n                break;\n            case 'M':\n                performM();\n                break;\n            case 'N':\n                performN();\n                break;\n            case 'O':\n                performO();\n                break;\n        }\n    }```\n\n\n</code></pre>\n"},{"tags":["java","maven","conditional-statements","maven-2","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":29924336,"reputation":11,"user_id":22932728,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700204067,"creation_date":1700203943,"answer_id":77499803,"question_id":77499779,"body_markdown":"Try\r\n\r\n    if (nationality.equals(&quot;indian&quot;))\r\n\r\nWhen using &quot;==&quot; it checks for the referential equality of two vars meaning if they reference the same object or not. ","title":"if else statement returning wrong answer","body":"<p>Try</p>\n<pre><code>if (nationality.equals(&quot;indian&quot;))\n</code></pre>\n<p>When using &quot;==&quot; it checks for the referential equality of two vars meaning if they reference the same object or not.</p>\n"}],"owner":{"account_id":22412926,"reputation":1,"user_id":16621418,"display_name":"buddhasatta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700204194,"answer_count":1,"score":-2,"last_activity_date":1700204067,"creation_date":1700203680,"question_id":77499779,"body_markdown":"    import java.util.Scanner;\r\n    public class orOperator {\r\n        public static void main(String args[]) {\r\n            System.out.println(&quot; This code is to check you are eligible or not&quot;);\r\n            Scanner buddha2 = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter your nationality&quot;);\r\n            String nationality = buddha2.nextLine();\r\n            System.out.println(&quot;you are &quot; + nationality);\r\n            if (nationality == &quot;indian&quot;) {\r\n                System.out.println(&quot;you are eligible to join the indian army&quot;);\r\n            } else {\r\n                System.out.println(&quot;Your are not eligible to join the army&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n///the else part is returning answer not the if part//\r\n///the motto is to take the nationality as input and then will be able to get the result out as the nationality ///","title":"if else statement returning wrong answer","body":"<pre><code>import java.util.Scanner;\npublic class orOperator {\n    public static void main(String args[]) {\n        System.out.println(&quot; This code is to check you are eligible or not&quot;);\n        Scanner buddha2 = new Scanner(System.in);\n        System.out.println(&quot;Please enter your nationality&quot;);\n        String nationality = buddha2.nextLine();\n        System.out.println(&quot;you are &quot; + nationality);\n        if (nationality == &quot;indian&quot;) {\n            System.out.println(&quot;you are eligible to join the indian army&quot;);\n        } else {\n            System.out.println(&quot;Your are not eligible to join the army&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>///the else part is returning answer not the if part//\n///the motto is to take the nationality as input and then will be able to get the result out as the nationality ///</p>\n"},{"tags":["java","dependency-injection","binding","guice","presto"],"owner":{"account_id":9563856,"reputation":173,"user_id":7103753,"accept_rate":61,"display_name":"Paul Schimmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700203913,"creation_date":1700203537,"question_id":77499772,"body_markdown":"I am using [cfg4j][1] library for reflecting the changes in the beans on changes in the config files (auto-reload/refresh)\r\n\r\n```\r\npublic ConfigurationProvider getConfigurationProvider()\r\n    {\r\n        ConfigFilesProvider configFilesProvider = () -&gt; Arrays.asList(Paths.get(&quot;session.properties&quot;));\r\n        ConfigurationSource source = new FilesConfigurationSource(configFilesProvider);\r\n        Environment environment = new ImmutableEnvironment(&quot;/home/boss/&quot;);\r\n        ReloadStrategy reloadStrategy = new PeriodicalReloadStrategy(5, TimeUnit.SECONDS);\r\n        return new ConfigurationProviderBuilder()\r\n                .withConfigurationSource(source)\r\n                .withEnvironment(environment)\r\n                .withReloadStrategy(reloadStrategy)\r\n                .build();\r\n    }\r\n\r\n...\r\n//Binding on the class with Provider\r\n   getConfigurationProvider().bind(&quot;session-config&quot;,SessionConfig.class);\r\n\r\n```\r\nNow the existing application also has existing guice binding\r\n\r\n```\r\nimport static io.airlift.configuration.ConfigBinder.configBinder;\r\n...\r\n\r\nBootstrap app = new Bootstrap(\r\n                    new ClientModule(),\r\n                    binder -&gt; {\r\n                     configBinder(binder).bindConfig(SessionConfig.class);\r\n});\r\n\r\n```\r\n\r\nMy question is : if we add additional binding \r\n```                     getConfigurationProvider().bind(&quot;sample-config&quot;,SessionConfig.class);```\r\n\r\nHow can I use the same instance of the class SessionConfig or will the same instance of the class be used in both the bindings?\r\n\r\nPS: I am using airlift framework for guice bindings used in presto.\r\n\r\n\r\n[1]: http://www.cfg4j.org/releases/latest/","title":"Guice bindings on config changes","body":"<p>I am using <a href=\"http://www.cfg4j.org/releases/latest/\" rel=\"nofollow noreferrer\">cfg4j</a> library for reflecting the changes in the beans on changes in the config files (auto-reload/refresh)</p>\n<pre><code>public ConfigurationProvider getConfigurationProvider()\n    {\n        ConfigFilesProvider configFilesProvider = () -&gt; Arrays.asList(Paths.get(&quot;session.properties&quot;));\n        ConfigurationSource source = new FilesConfigurationSource(configFilesProvider);\n        Environment environment = new ImmutableEnvironment(&quot;/home/boss/&quot;);\n        ReloadStrategy reloadStrategy = new PeriodicalReloadStrategy(5, TimeUnit.SECONDS);\n        return new ConfigurationProviderBuilder()\n                .withConfigurationSource(source)\n                .withEnvironment(environment)\n                .withReloadStrategy(reloadStrategy)\n                .build();\n    }\n\n...\n//Binding on the class with Provider\n   getConfigurationProvider().bind(&quot;session-config&quot;,SessionConfig.class);\n\n</code></pre>\n<p>Now the existing application also has existing guice binding</p>\n<pre><code>import static io.airlift.configuration.ConfigBinder.configBinder;\n...\n\nBootstrap app = new Bootstrap(\n                    new ClientModule(),\n                    binder -&gt; {\n                     configBinder(binder).bindConfig(SessionConfig.class);\n});\n\n</code></pre>\n<p>My question is : if we add additional binding\n<code>                     getConfigurationProvider().bind(&quot;sample-config&quot;,SessionConfig.class);</code></p>\n<p>How can I use the same instance of the class SessionConfig or will the same instance of the class be used in both the bindings?</p>\n<p>PS: I am using airlift framework for guice bindings used in presto.</p>\n"},{"tags":["java","spring-boot","multipartform-data","servlet-filters"],"owner":{"display_name":"user17128742"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700203530,"creation_date":1700203530,"question_id":77499771,"body_markdown":"How to implement the filter for multipart/form-data content type, I did it for application/json and it&#39;s working fine but struglinging with implementing it for multipart/form-data type of requests, below is the code for application/json.\r\nDo I have to write a different filter for it or I can manage it in the same filter, I appreciate it if someone will tell me how to do it in a proper way.\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class XSSFilter implements Filter {\r\n    \r\n      @Override\r\n      public void doFilter(\r\n          ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n          throws IOException, ServletException {\r\n        filterChain.doFilter(\r\n            new XSSRequestWrapper((HttpServletRequest) servletRequest), servletResponse);\r\n      }\r\n    }\r\n\r\n-----------------------\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.*;\r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.safety.Safelist;\r\n    \r\n    public class XSSRequestWrapper extends HttpServletRequestWrapper {\r\n      private final String requestJsonString;\r\n      BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n      public XSSRequestWrapper(HttpServletRequest httpServletRequest) {\r\n        super(httpServletRequest);\r\n    \r\n        try {\r\n          StringBuilder stringBuilder = new StringBuilder();\r\n          bufferedReader = httpServletRequest.getReader();\r\n          char[] charBuffer = new char[128];\r\n          int bytesRead;\r\n          while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\r\n            stringBuilder.append(charBuffer, 0, bytesRead);\r\n          }\r\n          requestJsonString = stringBuilder.toString();\r\n          JsonNode jsonNode = new ObjectMapper().readTree(requestJsonString);\r\n          processJsonNode(jsonNode);\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(e);\r\n        } finally {\r\n          try {\r\n            bufferedReader.close();\r\n          } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public ServletInputStream getInputStream() {\r\n        return new ServletInputStreamWrapper(requestJsonString.getBytes());\r\n      }\r\n    \r\n      @Override\r\n      public BufferedReader getReader() {\r\n        return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n      }\r\n    \r\n      private void processJsonNode(JsonNode jsonNode) {\r\n        if (jsonNode.isObject()) {\r\n          jsonNode.fields().forEachRemaining(entry -&gt; processJsonNode(entry.getValue()));\r\n        } else if (jsonNode.isArray()) {\r\n          jsonNode.elements().forEachRemaining(this::processJsonNode);\r\n        } else {\r\n          sanitize(&quot;key&quot;, jsonNode.asText());\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public Enumeration&lt;String&gt; getHeaderNames() {\r\n        Enumeration&lt;String&gt; headerNames = super.getHeaderNames();\r\n        Collections.list(headerNames)\r\n            .forEach(headerName -&gt; sanitize(headerName, getHeader(headerName)));\r\n        return headerNames;\r\n      }\r\n    \r\n      @Override\r\n      public String[] getParameterValues(String parameter) {\r\n        String[] parameterValues = super.getParameterValues(parameter);\r\n        Arrays.stream(parameterValues).forEach(value -&gt; sanitize(parameter, value));\r\n        return parameterValues;\r\n      }\r\n    \r\n      public void sanitize(String key, String value) {\r\n        Safelist safelist = Safelist.none();\r\n        Document.OutputSettings outputSettings = new Document.OutputSettings().prettyPrint(false);\r\n        if (!value.equalsIgnoreCase(Jsoup.clean(value, &quot;&quot;, safelist, outputSettings))) {\r\n          throw new SecurityException(\r\n              &quot;XSS attack error, by the key &#39;&quot; + key + &quot;&#39; and the value is &#39;&quot; + value + &quot;&#39;&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n_____________________\r\n\r\n    import javax.servlet.ReadListener;\r\n    import javax.servlet.ServletInputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class ServletInputStreamWrapper extends ServletInputStream {\r\n    \r\n      private final byte[] data;\r\n      private int idx = 0;\r\n    \r\n      public ServletInputStreamWrapper(byte[] data) {\r\n        this.data = data;\r\n      }\r\n    \r\n      @Override\r\n      public int read() throws IOException {\r\n        if (idx &gt;= data.length) {\r\n          return -1;\r\n        }\r\n        return data[idx++];\r\n      }\r\n    \r\n      @Override\r\n      public boolean isFinished() {\r\n        return false;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isReady() {\r\n        return false;\r\n      }\r\n    \r\n      @Override\r\n      public void setReadListener(ReadListener readListener) {}\r\n    }\r\n\r\n\r\n ","title":"Spring boot Filter for content type &quot;multipart/form-data&quot;","body":"<p>How to implement the filter for multipart/form-data content type, I did it for application/json and it's working fine but struglinging with implementing it for multipart/form-data type of requests, below is the code for application/json.\nDo I have to write a different filter for it or I can manage it in the same filter, I appreciate it if someone will tell me how to do it in a proper way.</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class XSSFilter implements Filter {\n\n  @Override\n  public void doFilter(\n      ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n      throws IOException, ServletException {\n    filterChain.doFilter(\n        new XSSRequestWrapper((HttpServletRequest) servletRequest), servletResponse);\n  }\n}\n</code></pre>\n<hr />\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.*;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.safety.Safelist;\n\npublic class XSSRequestWrapper extends HttpServletRequestWrapper {\n  private final String requestJsonString;\n  BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\n  public XSSRequestWrapper(HttpServletRequest httpServletRequest) {\n    super(httpServletRequest);\n\n    try {\n      StringBuilder stringBuilder = new StringBuilder();\n      bufferedReader = httpServletRequest.getReader();\n      char[] charBuffer = new char[128];\n      int bytesRead;\n      while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\n        stringBuilder.append(charBuffer, 0, bytesRead);\n      }\n      requestJsonString = stringBuilder.toString();\n      JsonNode jsonNode = new ObjectMapper().readTree(requestJsonString);\n      processJsonNode(jsonNode);\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    } finally {\n      try {\n        bufferedReader.close();\n      } catch (IOException e) {\n        throw new RuntimeException(e);\n      }\n    }\n  }\n\n  @Override\n  public ServletInputStream getInputStream() {\n    return new ServletInputStreamWrapper(requestJsonString.getBytes());\n  }\n\n  @Override\n  public BufferedReader getReader() {\n    return new BufferedReader(new InputStreamReader(this.getInputStream()));\n  }\n\n  private void processJsonNode(JsonNode jsonNode) {\n    if (jsonNode.isObject()) {\n      jsonNode.fields().forEachRemaining(entry -&gt; processJsonNode(entry.getValue()));\n    } else if (jsonNode.isArray()) {\n      jsonNode.elements().forEachRemaining(this::processJsonNode);\n    } else {\n      sanitize(&quot;key&quot;, jsonNode.asText());\n    }\n  }\n\n  @Override\n  public Enumeration&lt;String&gt; getHeaderNames() {\n    Enumeration&lt;String&gt; headerNames = super.getHeaderNames();\n    Collections.list(headerNames)\n        .forEach(headerName -&gt; sanitize(headerName, getHeader(headerName)));\n    return headerNames;\n  }\n\n  @Override\n  public String[] getParameterValues(String parameter) {\n    String[] parameterValues = super.getParameterValues(parameter);\n    Arrays.stream(parameterValues).forEach(value -&gt; sanitize(parameter, value));\n    return parameterValues;\n  }\n\n  public void sanitize(String key, String value) {\n    Safelist safelist = Safelist.none();\n    Document.OutputSettings outputSettings = new Document.OutputSettings().prettyPrint(false);\n    if (!value.equalsIgnoreCase(Jsoup.clean(value, &quot;&quot;, safelist, outputSettings))) {\n      throw new SecurityException(\n          &quot;XSS attack error, by the key '&quot; + key + &quot;' and the value is '&quot; + value + &quot;'&quot;);\n    }\n  }\n}\n</code></pre>\n<hr />\n<pre><code>import javax.servlet.ReadListener;\nimport javax.servlet.ServletInputStream;\nimport java.io.IOException;\n\npublic class ServletInputStreamWrapper extends ServletInputStream {\n\n  private final byte[] data;\n  private int idx = 0;\n\n  public ServletInputStreamWrapper(byte[] data) {\n    this.data = data;\n  }\n\n  @Override\n  public int read() throws IOException {\n    if (idx &gt;= data.length) {\n      return -1;\n    }\n    return data[idx++];\n  }\n\n  @Override\n  public boolean isFinished() {\n    return false;\n  }\n\n  @Override\n  public boolean isReady() {\n    return false;\n  }\n\n  @Override\n  public void setReadListener(ReadListener readListener) {}\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700208338,"post_id":77499770,"comment_id":136628442,"body_markdown":"This seems to be the documentation: [Java swing component library &quot;SteelSeries&quot;](https://harmoniccode.blogspot.com/2010/08/java-swing-component-library.html).  Quoting from the blog post: &quot;The tickmarks could be modified by the properties &quot;minValue&quot; and &quot;maxValue&quot;. You could also use negative values for &quot;minValue&quot;.\nIf you would like to adjust the labels at the tickmarks you could define the period between the labled tickmarks by the property &quot;tickLabelPeriod&quot; (e.g. a value of 10 will label 0, 10, 20, 30 etc.).\nTo enable/disable the tickmarks completly use &quot;tickMarksVisible&quot;.","body":"This seems to be the documentation: <a href=\"https://harmoniccode.blogspot.com/2010/08/java-swing-component-library.html\" rel=\"nofollow noreferrer\">Java swing component library &quot;SteelSeries&quot;</a>.  Quoting from the blog post: &quot;The tickmarks could be modified by the properties &quot;minValue&quot; and &quot;maxValue&quot;. You could also use negative values for &quot;minValue&quot;. If you would like to adjust the labels at the tickmarks you could define the period between the labled tickmarks by the property &quot;tickLabelPeriod&quot; (e.g. a value of 10 will label 0, 10, 20, 30 etc.). To enable/disable the tickmarks completly use &quot;tickMarksVisible&quot;."},{"owner":{"account_id":29918222,"reputation":1,"user_id":22927977,"display_name":"Rakesh"},"score":0,"creation_date":1700211103,"post_id":77499770,"comment_id":136628820,"body_markdown":"please provide a linear gauge code  by using steelseries jar","body":"please provide a linear gauge code  by using steelseries jar"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700459287,"post_id":77499770,"comment_id":136652688,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29918222,"reputation":1,"user_id":22927977,"display_name":"Rakesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700203510,"creation_date":1700203510,"question_id":77499770,"body_markdown":"I&#39;am using steelseries jar file for Linear gauge chart. In that i will not able to set the Tickmarklables normally. It was showing only 0 and 50 range labels in scale. I will try many method but it will not work\r\n\r\ni want proper scale tickmarlabels. Please give me the linear gauge code by using steelseries jar","title":"Is their any methods to set set the linear gauge tickmarklables in steelseries jar?","body":"<p>I'am using steelseries jar file for Linear gauge chart. In that i will not able to set the Tickmarklables normally. It was showing only 0 and 50 range labels in scale. I will try many method but it will not work</p>\n<p>i want proper scale tickmarlabels. Please give me the linear gauge code by using steelseries jar</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700213793,"post_id":77499767,"comment_id":136629235,"body_markdown":"That `../lib/tools.jar` looks odd, because that would resolve the file to `/usr/lib/jvm/lib/tools.jar`. Perhaps something&#39;s wrong with the Java installation. Is it installed manually, or through Jenkins itself?","body":"That <code>..&#47;lib&#47;tools.jar</code> looks odd, because that would resolve the file to <code>&#47;usr&#47;lib&#47;jvm&#47;lib&#47;tools.jar</code>. Perhaps something&#39;s wrong with the Java installation. Is it installed manually, or through Jenkins itself?"},{"owner":{"account_id":9158711,"reputation":49,"user_id":12075299,"display_name":"Sachin Sheelavant"},"score":0,"creation_date":1701109448,"post_id":77499767,"comment_id":136731879,"body_markdown":"It is done through a build slave which is based on amazon corretto jdk8 image","body":"It is done through a build slave which is based on amazon corretto jdk8 image"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1701181802,"post_id":77499767,"comment_id":136741634,"body_markdown":"And that&#39;s installed using Jenkins tool management? Can you make sure that the folders are setup correctly there?","body":"And that&#39;s installed using Jenkins tool management? Can you make sure that the folders are setup correctly there?"}],"owner":{"account_id":9158711,"reputation":49,"user_id":12075299,"display_name":"Sachin Sheelavant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700203497,"creation_date":1700203497,"question_id":77499767,"body_markdown":"I am getting following error\r\n\r\n    [INFO] Changes detected - recompiling the module! :dependency\r\n    [INFO] Compiling 7 source files with javac [debug target 1.8] to target/classes\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  36.513 s\r\n    [INFO] Finished at: 2023-11-16T05:23:59Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project project-name: Fatal error compiling: tools.jar not found: /usr/lib/jvm/java-8-amazon-corretto/../lib/tools.jar -&gt; [Help 1]\r\n\r\nI checked the java version in the pipeline and it shows correctly as below\r\n\r\n    [Pipeline] sh\r\n    + java -version\r\n    openjdk version &quot;1.8.0_392&quot;\r\n    OpenJDK Runtime Environment Corretto-8.392.08.1 (build 1.8.0_392-b08)\r\n    OpenJDK 64-Bit Server VM Corretto-8.392.08.1 (build 25.392-b08, mixed mode)\r\n    [Pipeline] sh\r\n    + javac -version\r\n    javac 1.8.0_392\r\n\r\nWhat might be the issue?","title":"Jenkins pipeline unable to find Java when same script used with another project is working fine","body":"<p>I am getting following error</p>\n<pre><code>[INFO] Changes detected - recompiling the module! :dependency\n[INFO] Compiling 7 source files with javac [debug target 1.8] to target/classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  36.513 s\n[INFO] Finished at: 2023-11-16T05:23:59Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project project-name: Fatal error compiling: tools.jar not found: /usr/lib/jvm/java-8-amazon-corretto/../lib/tools.jar -&gt; [Help 1]\n</code></pre>\n<p>I checked the java version in the pipeline and it shows correctly as below</p>\n<pre><code>[Pipeline] sh\n+ java -version\nopenjdk version &quot;1.8.0_392&quot;\nOpenJDK Runtime Environment Corretto-8.392.08.1 (build 1.8.0_392-b08)\nOpenJDK 64-Bit Server VM Corretto-8.392.08.1 (build 25.392-b08, mixed mode)\n[Pipeline] sh\n+ javac -version\njavac 1.8.0_392\n</code></pre>\n<p>What might be the issue?</p>\n"},{"tags":["java","mysql","amazon-web-services","spring-boot","kubectl"],"owner":{"account_id":8898764,"reputation":19,"user_id":6642836,"display_name":"Satheeshkumar Govindaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700202564,"creation_date":1700202564,"question_id":77499717,"body_markdown":"I&#39;m working on a spring-boot application which connects to a Cloud AWS RDS using MySQL.\r\n\r\nRecently I have started experiencing some situations which I can&#39;t understand well. When sudden influx of users come on the application, the database connection pool issue after few minutes everything go dead lock cause.\r\n\r\nPeople from GCP told that sudden bursts of incoming connections are causing this and database faced a max number of incoming connections the outage happened.\r\n\r\nThe spring-boot application runs in kubernetes and it scales automatically. Max pods(containers) it has been scaled up to now is 70 and hikari(spring-boot connection pooling tool) configuration using default maximum-pool-size is set at 10 as per spring boot.\r\n\r\nCan you please let us know how to handle these automatically? Please suggest me.\r\n\r\nI appreciate your help!","title":"Spring boot application how to define connection pool maximum in the cluster based using mysql WS RDS","body":"<p>I'm working on a spring-boot application which connects to a Cloud AWS RDS using MySQL.</p>\n<p>Recently I have started experiencing some situations which I can't understand well. When sudden influx of users come on the application, the database connection pool issue after few minutes everything go dead lock cause.</p>\n<p>People from GCP told that sudden bursts of incoming connections are causing this and database faced a max number of incoming connections the outage happened.</p>\n<p>The spring-boot application runs in kubernetes and it scales automatically. Max pods(containers) it has been scaled up to now is 70 and hikari(spring-boot connection pooling tool) configuration using default maximum-pool-size is set at 10 as per spring boot.</p>\n<p>Can you please let us know how to handle these automatically? Please suggest me.</p>\n<p>I appreciate your help!</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"score":0,"creation_date":1700208014,"post_id":77499685,"comment_id":136628391,"body_markdown":"This [answer](https://ru.stackoverflow.com/a/1472638) might help","body":"This <a href=\"https://ru.stackoverflow.com/a/1472638\">answer</a> might help"}],"owner":{"account_id":26552809,"reputation":7,"user_id":20181875,"display_name":"Pushpendra Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700202071,"creation_date":1700202071,"question_id":77499685,"body_markdown":"I have implemented the dependency (de.blox.treeview:treeview:0.1.3) and sync the project as well as clear invalid cache but I am not able to use it views or I am not able to import the &#39;import de.blox.treeview.TreeView;&#39;\r\n\r\nI have clear the project and rebuild it but nothing happens, I want to use it&#39;s classes and functions","title":"Not able to use the dependency &#39;de.blox.treeview:treeview:0.1.3&#39;","body":"<p>I have implemented the dependency (de.blox.treeview:treeview:0.1.3) and sync the project as well as clear invalid cache but I am not able to use it views or I am not able to import the 'import de.blox.treeview.TreeView;'</p>\n<p>I have clear the project and rebuild it but nothing happens, I want to use it's classes and functions</p>\n"},{"tags":["java","spring","hibernate","maven","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492752277,"creation_date":1492752277,"answer_id":43534540,"question_id":43533691,"body_markdown":"Your SessionFactory configuration is wrong. From your pom.xml I see you are using hibernate version 5, so your configuration should be:\r\n\r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\n\r\nAnd also you have different versions of hibernate jars in your pom.xml, try to use same versions.","title":"required a bean of type &#39;org.hibernate.SessionFactory&#39; that could not be found","body":"<p>Your SessionFactory configuration is wrong. From your pom.xml I see you are using hibernate version 5, so your configuration should be:</p>\n\n<pre><code>spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\n</code></pre>\n\n<p>And also you have different versions of hibernate jars in your pom.xml, try to use same versions.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1519154913,"creation_date":1492763064,"answer_id":43537578,"question_id":43533691,"body_markdown":"For starters there are a couple of things of with your configuration\r\n\r\n1. Mixing jars from different Spring and Hibernate versions\r\n2. Too may already managed dependencies\r\n3. Trying to be smarter then Spring Boot.\r\n\r\nFor 1. and 2. just remove the `&lt;version&gt;` tag for `spring-orm` and the `hibernate-core` and `hibernate-entitymanager` manager dependencies. Spring Boot is already managing those. You can actually remove all the `org.springframework` dependencies those are already pulled in by the starters (and actually the hibernate ones also).\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nNext in your configuration you have at least 2 `SessionFactory`&#39;s configured. I would suggest to use annotations to define your entities instead of `hbm.xml` files. \r\n\r\n    @Entity\r\n    @Table(&quot;person&quot;)\r\n    public class Employee implements Serializable{\r\n        /**\r\n         * \r\n         */\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n    \r\n        @Column(nullable=false)\r\n        private String name;\r\n    \r\n        private String country;\r\n      \r\n    }\r\n\r\nWhen using JPA annotations Hibernate will automatically detect your entities (especially combined with Spring Boot) which makes it very powerful. Ofcourse you can now remove your `Employee.hbm.xml`.\r\n\r\nNext your `EmployeeDataDaoImpl` I strongly suggest to use plain JPA over plain Hibernate. Generally that provides enough for you to work with. \r\n\r\n    @Repository\r\n    public class EmployeeDataDaoImpl  {\r\n    \r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManger;\r\n    \r\n    \r\n        public List&lt;Employee&gt; findAllEmployee(){\r\n            return em.createQuery(&quot;select e from Employee e&quot;, Employee.class).getResultList();\r\n        }\r\n    }\r\n\r\nWith this setup you can basically completely remove your `HibernateConfiguration`. Yes you can as Spring Boot detects Hibernate and automatically creates a `JpaTransactionManager`, enables transactions and preconfigured a `EntityManagerFactory`. \r\n\r\nIf you really want to use plain hibernate with a `SessionFactory` just use a `HibernateJpaSessionFactoryBean` to expose the underlying `SessionFactory` of the `EntityManagerFactory`. \r\n\r\n    @Bean\r\n    public HibernateJpaSessionFactoryBean sessionFactory(EntityManagerFactory emf) {\r\n        HibernateJpaSessionFactoryBean factory = new HibernateJpaSessionFactoryBean();\r\n        factory.setEntityManagerFactory(emf);\r\n        return factory;\r\n    }\r\n\r\nHowever as mentioned I would strongly suggest to use plain JPA as that is a lot easier to setup and with the current state of JPA it offers almost as much of the functionality as plain Hibernate does.\r\n\r\n*Pro Tip*\r\nYou have a dependency on `spring-boot-starter-data-jpa` which means you are having a dependency on Spring Data JPA. Which would make things even easier if you would use JPA. You can remove your `EmployeeDataDaoImpl` and just create an interface and use that.\r\n\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\r\n\r\nThat is it, all the CRUD methods (`findOne`, `findAll`, `save` etc.) are provided for you without you having to create an implementation.\r\n\r\n[1]: http://projects.spring.io/spring-data-jpa/","title":"required a bean of type &#39;org.hibernate.SessionFactory&#39; that could not be found","body":"<p>For starters there are a couple of things of with your configuration</p>\n\n<ol>\n<li>Mixing jars from different Spring and Hibernate versions</li>\n<li>Too may already managed dependencies</li>\n<li>Trying to be smarter then Spring Boot.</li>\n</ol>\n\n<p>For 1. and 2. just remove the <code>&lt;version&gt;</code> tag for <code>spring-orm</code> and the <code>hibernate-core</code> and <code>hibernate-entitymanager</code> manager dependencies. Spring Boot is already managing those. You can actually remove all the <code>org.springframework</code> dependencies those are already pulled in by the starters (and actually the hibernate ones also).</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Next in your configuration you have at least 2 <code>SessionFactory</code>'s configured. I would suggest to use annotations to define your entities instead of <code>hbm.xml</code> files. </p>\n\n<pre><code>@Entity\n@Table(\"person\")\npublic class Employee implements Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue\n    private int id;\n\n    @Column(nullable=false)\n    private String name;\n\n    private String country;\n\n}\n</code></pre>\n\n<p>When using JPA annotations Hibernate will automatically detect your entities (especially combined with Spring Boot) which makes it very powerful. Ofcourse you can now remove your <code>Employee.hbm.xml</code>.</p>\n\n<p>Next your <code>EmployeeDataDaoImpl</code> I strongly suggest to use plain JPA over plain Hibernate. Generally that provides enough for you to work with. </p>\n\n<pre><code>@Repository\npublic class EmployeeDataDaoImpl  {\n\n\n    @PersistenceContext\n    private EntityManager entityManger;\n\n\n    public List&lt;Employee&gt; findAllEmployee(){\n        return em.createQuery(\"select e from Employee e\", Employee.class).getResultList();\n    }\n}\n</code></pre>\n\n<p>With this setup you can basically completely remove your <code>HibernateConfiguration</code>. Yes you can as Spring Boot detects Hibernate and automatically creates a <code>JpaTransactionManager</code>, enables transactions and preconfigured a <code>EntityManagerFactory</code>. </p>\n\n<p>If you really want to use plain hibernate with a <code>SessionFactory</code> just use a <code>HibernateJpaSessionFactoryBean</code> to expose the underlying <code>SessionFactory</code> of the <code>EntityManagerFactory</code>. </p>\n\n<pre><code>@Bean\npublic HibernateJpaSessionFactoryBean sessionFactory(EntityManagerFactory emf) {\n    HibernateJpaSessionFactoryBean factory = new HibernateJpaSessionFactoryBean();\n    factory.setEntityManagerFactory(emf);\n    return factory;\n}\n</code></pre>\n\n<p>However as mentioned I would strongly suggest to use plain JPA as that is a lot easier to setup and with the current state of JPA it offers almost as much of the functionality as plain Hibernate does.</p>\n\n<p><em>Pro Tip</em>\nYou have a dependency on <code>spring-boot-starter-data-jpa</code> which means you are having a dependency on Spring Data JPA. Which would make things even easier if you would use JPA. You can remove your <code>EmployeeDataDaoImpl</code> and just create an interface and use that.</p>\n\n<pre><code>public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\n</code></pre>\n\n<p>That is it, all the CRUD methods (<code>findOne</code>, <code>findAll</code>, <code>save</code> etc.) are provided for you without you having to create an implementation.</p>\n"},{"tags":[],"owner":{"account_id":16987181,"reputation":426,"user_id":12287662,"display_name":"Gabriel Almeida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700201656,"creation_date":1700201656,"answer_id":77499654,"question_id":43533691,"body_markdown":"In my case, I fixed the wrong Class name inside of Main-Class:\r\n\r\nPath: resouces -&gt; META-INF -&gt; MANIFEST.NF","title":"required a bean of type &#39;org.hibernate.SessionFactory&#39; that could not be found","body":"<p>In my case, I fixed the wrong Class name inside of Main-Class:</p>\n<p>Path: resouces -&gt; META-INF -&gt; MANIFEST.NF</p>\n"}],"owner":{"account_id":8886333,"reputation":185,"user_id":6634485,"display_name":"kapil joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41184,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43537578,"answer_count":3,"score":13,"last_activity_date":1700201656,"creation_date":1492746884,"question_id":43533691,"body_markdown":"**I am getting following error whenever started application spring boot.**\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField session in com.base.model.AbstractDao required a bean of type &#39;org.hibernate.SessionFactory&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.hibernate.SessionFactory&#39; in your configuration.\r\n\r\n\r\nI have added implementation of my application:\r\n\r\n**POM.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \r\n    \r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Hibernate dependency --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.5.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\napplication.property \r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username = root\r\n    spring.datasource.password = root\r\n    hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate4.SpringSessionContext\r\n\r\n**Configuration class**\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan({&quot;configure&quot;})\r\n    @PropertySource({&quot;classpath:application.properties&quot;})\r\n    public class HibernateConfiguration {\r\n\r\n    \t@Autowired\r\n    \tprivate Environment environment;\r\n    \t\r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean sessionFactory(){\r\n    \t\tLocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n    \t\tsessionFactory.setDataSource(dataSource());\r\n    \t\tsessionFactory.setPackagesToScan(new String[]{&quot;com.base&quot;,&quot;com.base.model&quot;});\r\n    \t\tsessionFactory.setMappingResources(new String[]{&quot;Employee.hbm.xml&quot;});\r\n    \t\tsessionFactory.setHibernateProperties(hibernateProperties());\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Properties hibernateProperties() {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n    \t\tproperties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hiberante.show_sql&quot;));\r\n    \t\tproperties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n    \t\treturn properties;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\t\tdataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driverClassName&quot;));\r\n    \t\t\tdataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\r\n    \t\t\tdataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.userName&quot;));\r\n    \t\t\tdataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.password&quot;));\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \t\r\n    \t@Bean  \r\n    \tpublic SessionFactory sessionFactory(HibernateEntityManagerFactory hemf){  \r\n    \t    return hemf.getSessionFactory();  \r\n    \t}  \r\n    \t\r\n    }\r\n\r\n**Employee.java**\r\n\r\n    public class Employee implements Serializable{\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate int id;\r\n    \t\r\n    \tprivate String name;\r\n    \t\r\n    \tprivate String country;\r\n    \t\r\n    \tpublic int getId(){\r\n    \t\treturn this.id;\r\n    \t}\r\n    \t\r\n    \tpublic void setId(int id){\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\n    \tpublic String getName(){\r\n    \t\treturn this.name;\r\n    \t}\r\n    \t\r\n    \tpublic void setName(String name){\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \tpublic void setCountry(String country){\r\n    \t\tthis.country = country;\r\n    \t}\r\n    \t\r\n    \tpublic String getCountry(){\r\n    \t\treturn this.getCountry();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        public String toString() {\r\n            return &quot;Employee [id=&quot; + id + &quot;, name=&quot; + name + &quot;, country=&quot;\r\n                    + country + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n**Employee.hbm.xml**\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;  \r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC  \r\n    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;  \r\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-mapping&gt;\r\n    \t&lt;class name=&quot;com.base.model.Employee&quot; table=&quot;Person&quot;&gt;\r\n    \t\t&lt;id name=&quot;id&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n    \t\t\t&lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;\r\n    \t\t&lt;/id&gt;\r\n    \r\n    \t\t&lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t&lt;column name=&quot;name&quot; not-null=&quot;true&quot;&gt;&lt;/column&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;country&quot; type=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t&lt;column name=&quot;country&quot;&gt;&lt;/column&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/class&gt;\r\n    \r\n    &lt;/hibernate-mapping&gt;\r\n\r\n\r\n**EmployeeDaoImpl**\r\n\r\n    @Component\r\n    public class EmployeeDataDaoImpl  {\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tSessionFactory sessionFactory;\r\n    \r\n    \r\n    public List&lt;Employee&gt; findAllEmployee(){\r\n    ////\tCriteria cri = getSession().createCriteria(Employee.class);\r\n    //\tList&lt;Employee&gt; dbList = cri.list();\r\n    //\tfor (Employee employee : dbList) {\r\n    //\t\tSystem.out.println(employee.getCountry());\r\n    //\t}\r\n    \treturn null;\r\n    }\r\n    \t\r\n    }\r\n\r\nI have looked up the same error code on stackoverflow but none of the solutions worked and thus posting it here again with my code.\r\nHoping someone else can point out where I am going wrong.\r\n","title":"required a bean of type &#39;org.hibernate.SessionFactory&#39; that could not be found","body":"<p><strong>I am getting following error whenever started application spring boot.</strong></p>\n\n<hr>\n\n<p>APPLICATION FAILED TO START</p>\n\n<hr>\n\n<p>Description:</p>\n\n<p>Field session in com.base.model.AbstractDao required a bean of type 'org.hibernate.SessionFactory' that could not be found.</p>\n\n<p>Action:</p>\n\n<p>Consider defining a bean of type 'org.hibernate.SessionFactory' in your configuration.</p>\n\n<p>I have added implementation of my application:</p>\n\n<p><strong>POM.xml</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate dependency --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.1.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>application.property </p>\n\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username = root\nspring.datasource.password = root\nhibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate4.SpringSessionContext\n</code></pre>\n\n<p><strong>Configuration class</strong></p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@ComponentScan({\"configure\"})\n@PropertySource({\"classpath:application.properties\"})\npublic class HibernateConfiguration {\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory(){\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(new String[]{\"com.base\",\"com.base.model\"});\n        sessionFactory.setMappingResources(new String[]{\"Employee.hbm.xml\"});\n        sessionFactory.setHibernateProperties(hibernateProperties());\n        return sessionFactory;\n    }\n\n    @Bean\n    public Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(\"hibernate.dialect\", environment.getRequiredProperty(\"hibernate.dialect\"));\n        properties.put(\"hibernate.show_sql\", environment.getRequiredProperty(\"hiberante.show_sql\"));\n        properties.put(\"hibernate.format_sql\", environment.getRequiredProperty(\"hibernate.format_sql\"));\n        return properties;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\n            dataSource.setDriverClassName(environment.getRequiredProperty(\"jdbc.driverClassName\"));\n            dataSource.setUrl(environment.getRequiredProperty(\"jdbc.url\"));\n            dataSource.setUsername(environment.getRequiredProperty(\"jdbc.userName\"));\n            dataSource.setUsername(environment.getRequiredProperty(\"jdbc.password\"));\n        return dataSource;\n    }\n\n    @Bean  \n    public SessionFactory sessionFactory(HibernateEntityManagerFactory hemf){  \n        return hemf.getSessionFactory();  \n    }  \n\n}\n</code></pre>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>public class Employee implements Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    private int id;\n\n    private String name;\n\n    private String country;\n\n    public int getId(){\n        return this.id;\n    }\n\n    public void setId(int id){\n        this.id = id;\n    }\n\n    public String getName(){\n        return this.name;\n    }\n\n    public void setName(String name){\n        this.name = name;\n    }\n\n    public void setCountry(String country){\n        this.country = country;\n    }\n\n    public String getCountry(){\n        return this.getCountry();\n    }\n\n    @Override\n    public String toString() {\n        return \"Employee [id=\" + id + \", name=\" + name + \", country=\"\n                + country + \"]\";\n    }\n}\n</code></pre>\n\n<p><strong>Employee.hbm.xml</strong></p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;  \n&lt;!DOCTYPE hibernate-mapping PUBLIC  \n\"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"  \n\"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd\"&gt;\n\n&lt;hibernate-mapping&gt;\n    &lt;class name=\"com.base.model.Employee\" table=\"Person\"&gt;\n        &lt;id name=\"id\" type=\"java.lang.Integer\"&gt;\n            &lt;generator class=\"native\"&gt;&lt;/generator&gt;\n        &lt;/id&gt;\n\n        &lt;property name=\"name\" type=\"java.lang.String\"&gt;\n            &lt;column name=\"name\" not-null=\"true\"&gt;&lt;/column&gt;\n        &lt;/property&gt;\n        &lt;property name=\"country\" type=\"java.lang.String\"&gt;\n            &lt;column name=\"country\"&gt;&lt;/column&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p><strong>EmployeeDaoImpl</strong></p>\n\n<pre><code>@Component\npublic class EmployeeDataDaoImpl  {\n\n\n    @Autowired\n    SessionFactory sessionFactory;\n\n\npublic List&lt;Employee&gt; findAllEmployee(){\n////    Criteria cri = getSession().createCriteria(Employee.class);\n//  List&lt;Employee&gt; dbList = cri.list();\n//  for (Employee employee : dbList) {\n//      System.out.println(employee.getCountry());\n//  }\n    return null;\n}\n\n}\n</code></pre>\n\n<p>I have looked up the same error code on stackoverflow but none of the solutions worked and thus posting it here again with my code.\nHoping someone else can point out where I am going wrong.</p>\n"},{"tags":["java","selenium-webdriver","selenium-java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676970630,"post_id":75517807,"comment_id":133239255,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1676972090,"post_id":75517807,"comment_id":133239785,"body_markdown":"For element with more attributes there will be immeasurably many selectors/locators. A dynamic xpath can combine attribute values even with `startswith`, `endswith`, `contains` and all of them can be used with `not`. You can create any conceivable condition for your xpath that still fit to one specific element. Amount of all conceivable selectors is infinite.","body":"For element with more attributes there will be immeasurably many selectors/locators. A dynamic xpath can combine attribute values even with <code>startswith</code>, <code>endswith</code>, <code>contains</code> and all of them can be used with <code>not</code>. You can create any conceivable condition for your xpath that still fit to one specific element. Amount of all conceivable selectors is infinite."},{"owner":{"account_id":27839429,"reputation":11,"user_id":21256166,"display_name":"MoominPapa"},"score":0,"creation_date":1676972598,"post_id":75517807,"comment_id":133239948,"body_markdown":"if we assume that I have an input field and I want to get all of the different selectors (css, xpath, id, etc) is there a way that I can perform that programmatically?","body":"if we assume that I have an input field and I want to get all of the different selectors (css, xpath, id, etc) is there a way that I can perform that programmatically?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1676974469,"post_id":75517807,"comment_id":133240490,"body_markdown":"Yes but on page can be more elements with same id, name, class. You have to take that into account to avoid more elements matching one locator.","body":"Yes but on page can be more elements with same id, name, class. You have to take that into account to avoid more elements matching one locator."},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1680173321,"post_id":75517807,"comment_id":133854719,"body_markdown":"You can use a extension like Selectors HUB it will show all possible locators of an element","body":"You can use a extension like Selectors HUB it will show all possible locators of an element"}],"answers":[{"tags":[],"owner":{"account_id":8501978,"reputation":111,"user_id":7498831,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700201646,"creation_date":1700201646,"answer_id":77499653,"question_id":75517807,"body_markdown":"Now a days this is a common technique used by software qa consulting companies. Fetching all elements into a list and performing selenium action w.r.t WebElement. Below is the way how to get elements into a list:\r\n\r\nList&lt;WebElement&gt; ele_Buttons;\r\n \r\n  String xp_SelectElements = &quot;//select&quot;;\r\n\r\n  ele_Buttons = driver.findElements(By.xpath(xp_SelectElements));\r\n  \r\nIterate using the below loop:\r\n\r\n   for (WebElement element : ele_Buttons)\r\n {\r\n        \t\t\r\n// Perform the selenium action w.r.t Webelement &#39;element&#39;\r\n\r\n   }","title":"Find selectors of a specific element","body":"<p>Now a days this is a common technique used by software qa consulting companies. Fetching all elements into a list and performing selenium action w.r.t WebElement. Below is the way how to get elements into a list:</p>\n<p>List ele_Buttons;</p>\n<p>String xp_SelectElements = &quot;//select&quot;;</p>\n<p>ele_Buttons = driver.findElements(By.xpath(xp_SelectElements));</p>\n<p>Iterate using the below loop:</p>\n<p>for (WebElement element : ele_Buttons)\n{</p>\n<p>// Perform the selenium action w.r.t Webelement 'element'</p>\n<p>}</p>\n"}],"owner":{"account_id":27839429,"reputation":11,"user_id":21256166,"display_name":"MoominPapa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700201646,"creation_date":1676967343,"question_id":75517807,"body_markdown":"I am trying to get a list of all the selectors of a specific element using Selenium for Java.\r\n\r\nWhat I want is to find a way to get all the possible selectors that the element has and save them in a list so I can call them later on and use them.\r\n\r\nI searched for an answer but couldn&#39;t find a way to get all the selectors of a specific element.","title":"Find selectors of a specific element","body":"<p>I am trying to get a list of all the selectors of a specific element using Selenium for Java.</p>\n<p>What I want is to find a way to get all the possible selectors that the element has and save them in a list so I can call them later on and use them.</p>\n<p>I searched for an answer but couldn't find a way to get all the selectors of a specific element.</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1533713054,"post_id":51740526,"comment_id":90441621,"body_markdown":"I think using JSON to send/receive arbitrary types is the recommended approach...","body":"I think using JSON to send/receive arbitrary types is the recommended approach..."},{"owner":{"account_id":9510754,"reputation":405,"user_id":7068769,"display_name":"Christian Triebstein"},"score":0,"creation_date":1533715275,"post_id":51740526,"comment_id":90442929,"body_markdown":"Yes, of course the types are transfered in JSON. Yet a __TypeId__ is provided with them. The DefaultClassMapper will then always try to cast the JSON into the type and throw an exception if the consumer doesn&#39;t know the type","body":"Yes, of course the types are transfered in JSON. Yet a <b>TypeId</b> is provided with them. The DefaultClassMapper will then always try to cast the JSON into the type and throw an exception if the consumer doesn&#39;t know the type"}],"answers":[{"tags":[],"owner":{"account_id":8198820,"reputation":66,"user_id":6170755,"display_name":"christian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1571685690,"creation_date":1535710023,"answer_id":52113131,"question_id":51740526,"body_markdown":"I fixed the same error by setting trusted packages on the Spring AMQP ClassMapper being used.\r\n\r\n    @Configuration\r\n    public class RabbitConfig {\r\n    \r\n        @Bean\r\n        @Scope(&quot;prototype&quot;)\r\n        public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(SimpleRabbitListenerContainerFactory factory, ObjectMapper objectMapper) {\r\n            factory.setMessageConverter(jsonToMapMessageConverter(objectMapper));\r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public MessageConverter jsonToMapMessageConverter(ObjectMapper objectMapper) {\r\n            Jackson2JsonMessageConverter messageConverter = new ImplicitJsonMessageConverter(objectMapper);\r\n            DefaultClassMapper classMapper = new DefaultClassMapper();\r\n            classMapper.setTrustedPackages(&quot;*&quot;);\r\n            classMapper.setDefaultType(Map.class);\r\n            messageConverter.setClassMapper(classMapper);\r\n            return messageConverter;\r\n        }\r\n    \r\n        public static class ImplicitJsonMessageConverter extends Jackson2JsonMessageConverter {    \r\n            public ImplicitJsonMessageConverter(ObjectMapper jsonObjectMapper) {\r\n                super(jsonObjectMapper, &quot;*&quot;);\r\n            }    \r\n            @Override\r\n            public Object fromMessage(Message message) throws MessageConversionException {\r\n                message.getMessageProperties().setContentType(&quot;application/json&quot;);\r\n                return super.fromMessage(message);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot trusted packages for rabbitmq","body":"<p>I fixed the same error by setting trusted packages on the Spring AMQP ClassMapper being used.</p>\n\n<pre><code>@Configuration\npublic class RabbitConfig {\n\n    @Bean\n    @Scope(\"prototype\")\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(SimpleRabbitListenerContainerFactory factory, ObjectMapper objectMapper) {\n        factory.setMessageConverter(jsonToMapMessageConverter(objectMapper));\n        return factory;\n    }\n\n    @Bean\n    public MessageConverter jsonToMapMessageConverter(ObjectMapper objectMapper) {\n        Jackson2JsonMessageConverter messageConverter = new ImplicitJsonMessageConverter(objectMapper);\n        DefaultClassMapper classMapper = new DefaultClassMapper();\n        classMapper.setTrustedPackages(\"*\");\n        classMapper.setDefaultType(Map.class);\n        messageConverter.setClassMapper(classMapper);\n        return messageConverter;\n    }\n\n    public static class ImplicitJsonMessageConverter extends Jackson2JsonMessageConverter {    \n        public ImplicitJsonMessageConverter(ObjectMapper jsonObjectMapper) {\n            super(jsonObjectMapper, \"*\");\n        }    \n        @Override\n        public Object fromMessage(Message message) throws MessageConversionException {\n            message.getMessageProperties().setContentType(\"application/json\");\n            return super.fromMessage(message);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4165053,"reputation":1499,"user_id":3414180,"display_name":"Mingfei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700200019,"creation_date":1700195833,"answer_id":77499383,"question_id":51740526,"body_markdown":"As `CVE-2023-34050` and [Spring AMQP DOC](https://docs.spring.io/spring-amqp/reference/html/#json-message-converter)\r\nThere&#39;s an alternative way:\r\n\r\nset \r\n\r\nOS environment variable `SPRING_AMQP_DESERIALIZATION_TRUST_ALL` to `true`.\r\n\r\nor `VM options` to `-Dspring.amqp.deserialization.trust.all=true`\r\n\r\n\r\nIt worked, But not good way. ","title":"Spring Boot trusted packages for rabbitmq","body":"<p>As <code>CVE-2023-34050</code> and <a href=\"https://docs.spring.io/spring-amqp/reference/html/#json-message-converter\" rel=\"nofollow noreferrer\">Spring AMQP DOC</a>\nThere's an alternative way:</p>\n<p>set</p>\n<p>OS environment variable <code>SPRING_AMQP_DESERIALIZATION_TRUST_ALL</code> to <code>true</code>.</p>\n<p>or <code>VM options</code> to <code>-Dspring.amqp.deserialization.trust.all=true</code></p>\n<p>It worked, But not good way.</p>\n"}],"owner":{"account_id":9510754,"reputation":405,"user_id":7068769,"display_name":"Christian Triebstein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2580,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52113131,"answer_count":2,"score":4,"last_activity_date":1700200019,"creation_date":1533712124,"question_id":51740526,"body_markdown":"We&#39;re building a Spring Boot application (2.0.4-RELEASE) that receives messages via RabbitMQ. Hence the `application.properties` contains the rabbit related config:\r\n\r\n    spring.rabbitmq.addresses=****\r\n    spring.rabbitmq.username=****\r\n    spring.rabbitmq.password=****\r\n    spring.rabbitmq.listener.simple.concurrency=2\r\n    spring.rabbitmq.listener.simple.prefetch=5\r\n    spring.rabbitmq.listener.simple.retry.enabled=true\r\n    spring.rabbitmq.listener.simple.retry.max-attempts=5\r\n\r\nConfiguration:\r\n\r\n    @Bean\r\n    public TopicExchange fileUpdate() {\r\n        return new TopicExchange(&quot;my.fancy.exchange&quot;, true, false);\r\n    }\r\n\r\n    @Bean\r\n    public Queue fileUpload() {\r\n        return new Queue(&quot;myFancyQueue&quot;, true);\r\n    }\r\n\r\n    @Bean\r\n    public Binding bindingUpload(Queue queue, TopicExchange eventExchange) {\r\n        return BindingBuilder.bind(queue).to(eventExchange).with(&quot;&quot;);\r\n    }\r\n\r\nMessage Consumer:\r\n\r\n    @RabbitListener(queues = &quot;myFancyQueue&quot;)\r\n    public void receive(Object message) {\r\n        ...\r\n    }\r\n\r\nWhen receiving a message of a specific type (e.g. `__TypeId__: my.fancy.package.Clazz`) the following error is thrown:\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: The class &#39;my.fancy.package.Clazz&#39; is not\r\n&gt; in the trusted packages: [java.util, java.lang]. If you believe this\r\n&gt; class is safe to deserialize, please provide its name. If the\r\n&gt; serialization is only done by a trusted source, you can also enable\r\n&gt; trust all (*).\r\n\r\nFrom what I&#39;ve discovered so far activeMQ provides a configuration option for that through the `application.properties` as\r\n\r\n    spring.activemq.packages.trust-all=\r\nor\r\n\r\n    spring.activemq.packages.trusted=\r\n\r\nbut I can&#39;t find any similar option that would work for rabbitMQ. So far I&#39;ve been using a workaround that solves my problem but of course it would be great to have an option like that in the configuration file.\r\n\r\nMy solution so far:\r\n\r\nAdding to the configuration class:\r\n\r\n    @Bean\r\n    public MessageConverter jsonMessageConverter() {\r\n        Jackson2JsonMessageConverter jsonMessageConverter = new Jackson2JsonMessageConverter(new ObjectMapper());\r\n        jsonMessageConverter.setClassMapper(new ImporterClassMapper(FileUploadMessage.class));        \r\n        return jsonMessageConverter;\r\n    }\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\r\n        RabbitTemplate template = new RabbitTemplate(connectionFactory);\r\n        template.setMessageConverter(jsonMessageConverter());\r\n        return template;\r\n    }\r\n\r\nAnd changing the message consumer to\r\n\r\n    @Resource(name = &quot;jsonMessageConverter&quot;)\r\n    private MessageConverter messageConverter;\r\n\r\n    @RabbitListener(queues = &quot;${uploaded.files.queue}&quot;)\r\n    public void receive(Message message) {\r\n        FileUploadMessage uploadMessage = (FileUploadMessage) messageConverter.fromMessage(message);\r\n        ...\r\n    }\r\n\r\nPlus adding a class mapper that allows unkown types to be imported and sets a default type to which messages should be cast to on import:\r\n\r\n    public class ImporterClassMapper implements ClassMapper, InitializingBean {\r\n\r\n        private volatile Class&lt;?&gt; defaultType;\r\n\r\n        public ImporterClassMapper(Class&lt;?&gt; defaultType) {\r\n            this.defaultType = defaultType;\r\n        }    \r\n\r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            // nothing to do\r\n        }\r\n\r\n        @Override\r\n        public void fromClass(Class&lt;?&gt; clazz, MessageProperties properties) {\r\n            // avoid setting __TypeId__ header so consumers from other modules can implement their own DTOs\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; toClass(MessageProperties properties) {\r\n            return this.defaultType;\r\n        }\r\n    \r\n        public void setClass(Class&lt;?&gt; type) {\r\n            this.defaultType = type;\r\n        }\r\n    }\r\n\r\nAny advise on how to improve this solution?","title":"Spring Boot trusted packages for rabbitmq","body":"<p>We're building a Spring Boot application (2.0.4-RELEASE) that receives messages via RabbitMQ. Hence the <code>application.properties</code> contains the rabbit related config:</p>\n\n<pre><code>spring.rabbitmq.addresses=****\nspring.rabbitmq.username=****\nspring.rabbitmq.password=****\nspring.rabbitmq.listener.simple.concurrency=2\nspring.rabbitmq.listener.simple.prefetch=5\nspring.rabbitmq.listener.simple.retry.enabled=true\nspring.rabbitmq.listener.simple.retry.max-attempts=5\n</code></pre>\n\n<p>Configuration:</p>\n\n<pre><code>@Bean\npublic TopicExchange fileUpdate() {\n    return new TopicExchange(\"my.fancy.exchange\", true, false);\n}\n\n@Bean\npublic Queue fileUpload() {\n    return new Queue(\"myFancyQueue\", true);\n}\n\n@Bean\npublic Binding bindingUpload(Queue queue, TopicExchange eventExchange) {\n    return BindingBuilder.bind(queue).to(eventExchange).with(\"\");\n}\n</code></pre>\n\n<p>Message Consumer:</p>\n\n<pre><code>@RabbitListener(queues = \"myFancyQueue\")\npublic void receive(Object message) {\n    ...\n}\n</code></pre>\n\n<p>When receiving a message of a specific type (e.g. <code>__TypeId__: my.fancy.package.Clazz</code>) the following error is thrown:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: The class 'my.fancy.package.Clazz' is not\n  in the trusted packages: [java.util, java.lang]. If you believe this\n  class is safe to deserialize, please provide its name. If the\n  serialization is only done by a trusted source, you can also enable\n  trust all (*).</p>\n</blockquote>\n\n<p>From what I've discovered so far activeMQ provides a configuration option for that through the <code>application.properties</code> as</p>\n\n<pre><code>spring.activemq.packages.trust-all=\n</code></pre>\n\n<p>or</p>\n\n<pre><code>spring.activemq.packages.trusted=\n</code></pre>\n\n<p>but I can't find any similar option that would work for rabbitMQ. So far I've been using a workaround that solves my problem but of course it would be great to have an option like that in the configuration file.</p>\n\n<p>My solution so far:</p>\n\n<p>Adding to the configuration class:</p>\n\n<pre><code>@Bean\npublic MessageConverter jsonMessageConverter() {\n    Jackson2JsonMessageConverter jsonMessageConverter = new Jackson2JsonMessageConverter(new ObjectMapper());\n    jsonMessageConverter.setClassMapper(new ImporterClassMapper(FileUploadMessage.class));        \n    return jsonMessageConverter;\n}\n\n@Bean\npublic RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n    RabbitTemplate template = new RabbitTemplate(connectionFactory);\n    template.setMessageConverter(jsonMessageConverter());\n    return template;\n}\n</code></pre>\n\n<p>And changing the message consumer to</p>\n\n<pre><code>@Resource(name = \"jsonMessageConverter\")\nprivate MessageConverter messageConverter;\n\n@RabbitListener(queues = \"${uploaded.files.queue}\")\npublic void receive(Message message) {\n    FileUploadMessage uploadMessage = (FileUploadMessage) messageConverter.fromMessage(message);\n    ...\n}\n</code></pre>\n\n<p>Plus adding a class mapper that allows unkown types to be imported and sets a default type to which messages should be cast to on import:</p>\n\n<pre><code>public class ImporterClassMapper implements ClassMapper, InitializingBean {\n\n    private volatile Class&lt;?&gt; defaultType;\n\n    public ImporterClassMapper(Class&lt;?&gt; defaultType) {\n        this.defaultType = defaultType;\n    }    \n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        // nothing to do\n    }\n\n    @Override\n    public void fromClass(Class&lt;?&gt; clazz, MessageProperties properties) {\n        // avoid setting __TypeId__ header so consumers from other modules can implement their own DTOs\n    }\n\n    @Override\n    public Class&lt;?&gt; toClass(MessageProperties properties) {\n        return this.defaultType;\n    }\n\n    public void setClass(Class&lt;?&gt; type) {\n        this.defaultType = type;\n    }\n}\n</code></pre>\n\n<p>Any advise on how to improve this solution?</p>\n"},{"tags":["java","spring-boot","jpa","transactions"],"comments":[{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":0,"creation_date":1698256177,"post_id":77361471,"comment_id":136383401,"body_markdown":"Please show us code for the CoreProcessorService and the code that is calling CoreProcessor.","body":"Please show us code for the CoreProcessorService and the code that is calling CoreProcessor."},{"owner":{"account_id":9508529,"reputation":358,"user_id":7067164,"display_name":"Nathan "},"score":0,"creation_date":1698259250,"post_id":77361471,"comment_id":136383963,"body_markdown":"@LeeGreiner there&#39;s a scheduler on the run() method. In the service class, all that method does is repository.save(job).","body":"@LeeGreiner there&#39;s a scheduler on the run() method. In the service class, all that method does is repository.save(job)."},{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":0,"creation_date":1698279635,"post_id":77361471,"comment_id":136386519,"body_markdown":"You haven&#39;t shown what processingRequest() actually does. If it is actually calling processingRequest(Job) then any exception thrown by persistRequest(JobRequest) is caught and whatever is done in &#39;some code here&#39; is executed. If the exception is not propicated the transaction completes successfully and does not roll back.","body":"You haven&#39;t shown what processingRequest() actually does. If it is actually calling processingRequest(Job) then any exception thrown by persistRequest(JobRequest) is caught and whatever is done in &#39;some code here&#39; is executed. If the exception is not propicated the transaction completes successfully and does not roll back."},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698293053,"post_id":77361471,"comment_id":136387479,"body_markdown":"The Transaction started by `CoreProcessor.run()` method, and there is no exception thrown out of that method, that&#39;s why it doesn&#39;t rollback. You should remove the catch exception or leverage the whole persist operation to `CoreProcessorService` class(mark transaction there) and catch exception in run method.","body":"The Transaction started by <code>CoreProcessor.run()</code> method, and there is no exception thrown out of that method, that&#39;s why it doesn&#39;t rollback. You should remove the catch exception or leverage the whole persist operation to <code>CoreProcessorService</code> class(mark transaction there) and catch exception in run method."},{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":0,"creation_date":1700175125,"post_id":77361471,"comment_id":136625643,"body_markdown":"The only place I can see that may be introducing this issue is in ```JobRepository.save(job)```. Can you show us this class?","body":"The only place I can see that may be introducing this issue is in <code>JobRepository.save(job)</code>. Can you show us this class?"}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700199955,"creation_date":1698294587,"answer_id":77364127,"question_id":77361471,"body_markdown":"The Transaction started by `CoreProcessor.run()` method, and there is no exception thrown out of that method, that&#39;s why it doesn&#39;t rollback. You should remove the catch exception or leverage the whole persist operation to `CoreProcessorService` class and also start transaction here. Then catch exception in run method to send/log errors.\r\n```\r\n@Service\r\npublic class CoreProcessorService {\r\n\r\n  @Transactional\r\n  public void persistRequest(JobRequest request){\r\n    Job job = new Job();\r\n    //...some other code to initialize Job using request...\r\n    jobRepository.save(job);  //this updates the job status and saves to db\r\n    errorMethod(); // this method throws the error (NullPointerException)\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class CoreProcessor {\r\n\r\n  @Autowired\r\n  private CoreProcessorService coreProcessorService;\r\n\r\n  @Scheduled(fixedDelay = 200000)\r\n  public void run(){\r\n    try {\r\n      coreProcessorService.processingRequest();\r\n    } catch(Exception ex) {\r\n      // handle failer\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**UPDATED:**\r\n\r\n&gt; Note that by default, rollback happens for runtime, unchecked\r\n&gt; exceptions only. The checked exception does not trigger a rollback of\r\n&gt; the transaction\r\n\r\nSo yeah, if you want to automatic rollback in `run()` method, you can change `throw new Exception()` to `throw new RuntimeException();`\r\n\r\nOtherwise, you have to specify the checked Exception on `run` method to tell transaction roll back for it\r\n\r\n```\r\n@Transactional(rollbackFor = { Exception.class })\r\n```","title":"Transaction not being rolled back in Springboot with postgres","body":"<p>The Transaction started by <code>CoreProcessor.run()</code> method, and there is no exception thrown out of that method, that's why it doesn't rollback. You should remove the catch exception or leverage the whole persist operation to <code>CoreProcessorService</code> class and also start transaction here. Then catch exception in run method to send/log errors.</p>\n<pre><code>@Service\npublic class CoreProcessorService {\n\n  @Transactional\n  public void persistRequest(JobRequest request){\n    Job job = new Job();\n    //...some other code to initialize Job using request...\n    jobRepository.save(job);  //this updates the job status and saves to db\n    errorMethod(); // this method throws the error (NullPointerException)\n  }\n}\n</code></pre>\n<pre><code>@Service\npublic class CoreProcessor {\n\n  @Autowired\n  private CoreProcessorService coreProcessorService;\n\n  @Scheduled(fixedDelay = 200000)\n  public void run(){\n    try {\n      coreProcessorService.processingRequest();\n    } catch(Exception ex) {\n      // handle failer\n    }\n  }\n}\n</code></pre>\n<p><strong>UPDATED:</strong></p>\n<blockquote>\n<p>Note that by default, rollback happens for runtime, unchecked\nexceptions only. The checked exception does not trigger a rollback of\nthe transaction</p>\n</blockquote>\n<p>So yeah, if you want to automatic rollback in <code>run()</code> method, you can change <code>throw new Exception()</code> to <code>throw new RuntimeException();</code></p>\n<p>Otherwise, you have to specify the checked Exception on <code>run</code> method to tell transaction roll back for it</p>\n<pre><code>@Transactional(rollbackFor = { Exception.class })\n</code></pre>\n"}],"owner":{"account_id":9508529,"reputation":358,"user_id":7067164,"display_name":"Nathan "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700199955,"creation_date":1698252639,"question_id":77361471,"body_markdown":"I read this post https://stackoverflow.com/questions/16167278/spring-transaction-doesnt-rollback and I think I have a similar issue. My code structure is like this: \r\n\r\n```\r\n@Service\r\npublic class CoreProcessor {\r\n\r\n  @Transactional\r\n  @Scheduled(fixedDelay = 200000)\r\n  public void run(){\r\n    processingRequest();\r\n  }\r\n\r\n  public boolean processingRequest(JobRequest request){\r\n    try{\r\n      persistRequest(request);\r\n    }\r\n    catch(Exception e){\r\n      //some code here\r\n      throw new Exception();\r\n    }\r\n  }\r\n\r\n  private void persistRequest(JobRequest request){\r\n    Job job = new Job();\r\n    //...some other code to initialize Job using request...\r\n    coreProcessorService.persistJob(job);  //this updates the job status and saves to db\r\n    errorMethod(); // this method throws the error (NullPointerException)\r\n  }\r\n}\r\n```\r\nFor persistJob in the coreProcessorService class it&#39;s pretty simple:\r\n```\r\n@Service\r\npublic class CoreProcessorService {\r\n  public Job persistJob(Job job){\r\n    return JobRepository.save(job);\r\n  }\r\n}\r\n```\r\n\r\nSince the `errorMethod()` throws an error, I want all the changes in `persistJob()` should be rolled back. But currently it&#39;s being updated and saved. How can I fix this? \r\n\r\nWhat I&#39;ve tried: \r\nadding `@Transactional` to `persistRequest()` or `persistJob()` or both. \r\nusing `@Transactional(rollbackFor = Exception.class)`\r\n\r\nThanks so much for any help!","title":"Transaction not being rolled back in Springboot with postgres","body":"<p>I read this post <a href=\"https://stackoverflow.com/questions/16167278/spring-transaction-doesnt-rollback\">Spring Transaction Doesn&#39;t Rollback</a> and I think I have a similar issue. My code structure is like this:</p>\n<pre><code>@Service\npublic class CoreProcessor {\n\n  @Transactional\n  @Scheduled(fixedDelay = 200000)\n  public void run(){\n    processingRequest();\n  }\n\n  public boolean processingRequest(JobRequest request){\n    try{\n      persistRequest(request);\n    }\n    catch(Exception e){\n      //some code here\n      throw new Exception();\n    }\n  }\n\n  private void persistRequest(JobRequest request){\n    Job job = new Job();\n    //...some other code to initialize Job using request...\n    coreProcessorService.persistJob(job);  //this updates the job status and saves to db\n    errorMethod(); // this method throws the error (NullPointerException)\n  }\n}\n</code></pre>\n<p>For persistJob in the coreProcessorService class it's pretty simple:</p>\n<pre><code>@Service\npublic class CoreProcessorService {\n  public Job persistJob(Job job){\n    return JobRepository.save(job);\n  }\n}\n</code></pre>\n<p>Since the <code>errorMethod()</code> throws an error, I want all the changes in <code>persistJob()</code> should be rolled back. But currently it's being updated and saved. How can I fix this?</p>\n<p>What I've tried:\nadding <code>@Transactional</code> to <code>persistRequest()</code> or <code>persistJob()</code> or both.\nusing <code>@Transactional(rollbackFor = Exception.class)</code></p>\n<p>Thanks so much for any help!</p>\n"},{"tags":["java","android","android-studio","printing"],"owner":{"account_id":26341049,"reputation":69,"user_id":20000140,"display_name":"Akshay A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700199894,"creation_date":1700199894,"question_id":77499559,"body_markdown":"i have a pdf printing section in both android java and website. in website while printing its correctly printing alignment and automatically the paper cut off after the content over, but while printing through android app print functionality, the paper is not automatically cutoff, after the content to be printed its taking too much blank spaces. how to solve this issue, its only with the app side printing.","title":"printer is not automatically cutoff after the content ends in android java","body":"<p>i have a pdf printing section in both android java and website. in website while printing its correctly printing alignment and automatically the paper cut off after the content over, but while printing through android app print functionality, the paper is not automatically cutoff, after the content to be printed its taking too much blank spaces. how to solve this issue, its only with the app side printing.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9805,"page":53,"page_size":100}
